(window.monolithJsonpFunction=window.monolithJsonpFunction||[]).push([["06eceaa0","cc9dd1c9"],{10397:function(n,e,t){"use strict";t.r(e),t.d(e,"fps",(function(){return p})),t.d(e,"load",(function(){return g})),t.d(e,"metrics",(function(){return b}));var r,a,i,o=t(10953),u=t(5985),c=t(5986),s=function(){switch(window.location.hostname){case"www.avito.ru":case"m.avito.ru":return!0;default:return!1}},l=function(n,e){return{data:n,meta:{connection:Object(o.a)(),page:e||c.a.initialPageId,platform:(t=c.a.initialPlatform,"".concat(t).concat(c.a.isDevEnv?"-dev":""))}};var t},d=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function a(i,o){var u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u=s(),a.next=3,e;case 3:if(a.t0=a.sent,!a.t0){a.next=6;break}a.t0=u;case 6:if(!a.t0){a.next=10;break}a.t1=fetch("https://stats.avito.ru/api/".concat(t,"/stats/frontend/")+n,{method:"POST",body:JSON.stringify(r?l(i,o):{data:i})}).then((function(n){return n.json()})).catch((function(){})),a.next=11;break;case 10:a.t1=null;case 11:return a.abrupt("return",a.t1);case 12:case"end":return a.stop()}}),a)})));return function(n,e){return a.apply(this,arguments)}}()},f=function(){var n=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function n(){var e,t,r,a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Object(u.g)()){n.next=2;break}return n.abrupt("return",!1);case 2:return e=c.a.initialPlatform,t=c.a.initialPageId,r=0,n.prev=4,a=d("balance",!0,1,!1),n.next=8,a({platform:e,pageId:t});case 8:i=n.sent,r=i&&i.result&&i.result.percent?i.result.percent:0,n.next=14;break;case 12:n.prev=12,n.t0=n.catch(4);case 14:return n.abrupt("return",Object(u.h)(r));case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(){return n.apply(this,arguments)}}(),v=new Promise((function(n){n(f())})),p=d("fps",v),g=d("load",v),b=(r=d("generic",v),a=new Map,i=function(){a.forEach(r),a.clear()},function n(){return setTimeout((function(){i(),n()}),5e3)}(),window.addEventListener("visibilitychange",i,!0),window.addEventListener("beforeunload",(function(){removeEventListener("visibilitychange",i,!0),i()})),function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.initialPageId,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[].concat(babelHelpers.toConsumableArray(a.get(e)||[]),babelHelpers.toConsumableArray(n));a.set(e,r),!0===t&&i()})},10953:function(n,e,t){"use strict";t(5987);var r=function(n){return n.reduce((function(n,e){return n+e}),0)};t.d(e,"b",(function(){return c})),t.d(e,"a",(function(){return s}));var a=Object.entries({unknown:0,gprs:.5,regular2G:.25,good2G:.45,regular3G:.75,good3G:1.4,regular4G:4,wifi:8}),i=[],o=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,u=null,c=function(){if(o){var n=setInterval((function(){o.downlink&&i.push(o.downlink)}),250);window.addEventListener("load",(function(){clearInterval(n)}))}},s=function(){if(u)return u;var n,e=i.sort((function(n,e){return n-e}))[Math.floor(i.length/2)]||0,t=(n=i)&&n.length?r(n)/n.length:0,o=a.reduceRight((function(n,t){return e<=t[1]?t:n})),c={type:babelHelpers.slicedToArray(o,1)[0],speed:{median:e,average:t}};return u=c,c}},5987:function(n,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"b",(function(){return a}));var r=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Object.entries(n).reduce((function(n,t){var r=babelHelpers.slicedToArray(t,2),a=r[0],i=r[1];return n[a]=e(i,a),n}),{})},a=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(n[0]||{}),t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return n.reduce((function(n,a){return e.reduce((function(n,e){return!n[e]&&r&&r[e]&&(n[e]=r[e]),n[e]?n[e]=t(n[e],a[e]):n[e]=a[e],n}),n)}),{})}}}]);