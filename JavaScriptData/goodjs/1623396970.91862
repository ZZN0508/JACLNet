!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://static.avito.ru/s/cc/",n(n.s=8853)}({10886:function(e,t,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var a=[],s=0;s<256;++s)a.push((s+256).toString(16).substr(1));var d=function(e,t){var n=t||0,r=a;return(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase()};t.a=function(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){for(var o=n||0,a=0;a<16;++a)t[o+a]=r[a];return t}return d(r)}},10952:function(e,t,n){"use strict";var r=n(10886);function o(e){return i.apply(this,arguments)}function i(){return(i=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e){return"number"==typeof e&&isFinite(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c="last-ref-id",u="js/1",f="pending";t.a=function e(t){var n=this,i=t.common,s=void 0===i?{}:i,l=t.srcId,p=t.buildUid,v=void 0===p?"undefined":p,w=t.softwareVersion,m=t.build,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/clickstream/events/1/json",y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null};if(babelHelpers.classCallCheck(this,e),babelHelpers.defineProperty(this,"increment",(function(){return Object(r.a)()})),babelHelpers.defineProperty(this,"getIds",(function(){var e=window.localStorage.getItem(c),t=n.increment();return window.localStorage.setItem(c,t),{refId:t,parentRefId:e,tabId:n.tabId}})),babelHelpers.defineProperty(this,"createEvent",(function(e,t,r){var o=n.getIds(),i=o.refId,a=o.parentRefId,s=o.tabId,d={event_id:e,version:t,params:r};for(var c in d)d.hasOwnProperty(c)&&null===d[c]&&(d[c]=void 0);return d.env={},d.env.cdtm=Number(Date.now().toFixed(1)),d.env.ref_id=i||"",d.env.parent_ref_id=a||"",d.env.tab_id=s||"",d})),babelHelpers.defineProperty(this,"createSendBody",(function(e){var t={version:1,meta:d({},n.meta),common:d({},n.common)};return t.events=e.map((function(e){return e.event})),t})),babelHelpers.defineProperty(this,"sendEvents",babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.sendBatchEvents();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n.errorHandler(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))),babelHelpers.defineProperty(this,"cycleSend",babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(1e3);case 2:n.events.filter((function(e){return e.status!==f})).length&&n.sendEvents(),n.cycleSend();case 5:case"end":return e.stop()}}),e)})))),babelHelpers.defineProperty(this,"sendBatchEvents",(function(){var e=n.events.filter((function(e){return e.status!==f})),t=n.createSendBody(e);n.events=e.map((function(e){return d({},e,{},{status:f})}));var r=e.map((function(e){return e.id}));return n.sendData(t,r)})),babelHelpers.defineProperty(this,"sendData",(function(e,t){return fetch(n.link,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.status>=400&&502!==e.status?(n.clearBatch(t),Promise.reject(e)):(n.clearBatch(t),{response:e})}))})),babelHelpers.defineProperty(this,"sendEvent",(function(e,t,o){if(n.ssr)return"";if(!a(e))throw new Error("event id should be number type");if(!a(t))throw new Error("event version should be number type");var i=n.createEvent(e,t,o);return n.events.push({id:Object(r.a)(),event:i}),n.events.length>1e3&&n.sendEvents(),i.env.ref_id})),babelHelpers.defineProperty(this,"clearBatch",(function(e){e.forEach((function(e){var t=n.events.findIndex((function(t){return t.id===e}));n.event.splice(t,0)}))})),babelHelpers.defineProperty(this,"setUID",(function(e){n.common=d({},n.common,{uid:e})})),!l)throw new Error("srcId is required");if("undefined"!=typeof window){var h=function(e){return window.document.referrer&&window.document.referrer.startsWith(e)},g=window.location.origin,_=window.performance&&window.performance.navigation&&1===window.performance.navigation.type;this.events=[],this.link=b,window.addEventListener("onbeforeunload",(function(){n.sendBatchEvents(n.events)})),this.cycleSend(),_||h(g)||window.localStorage.removeItem(c);var P=window.sessionStorage.tabId;P||(P=Object(r.a)(),window.sessionStorage.tabId=P),this.meta={src_id:l,build_uid:v,sdk:u,software_version:w,build:m},this.tabId=P,this.common=d({src_id:l},s),this.errorHandler=y}else this.ssr=!0}},5989:function(e,t,n){"use strict";n.r(t);var r=n(5990);window.avito=window.avito||{},window.avito.metrics=window.avito.metrics||{},r.a.sendEvent(3067,0,{from_page:window.avito.pageId||"",lid:window.avito.locationId||0,cid:window.avito.categoryId||0});var o=function(e){return Math.max(e||0,0)},i=function(e){var t=window.performance.timing,n=t.responseStart,i=t.fetchStart,a=t.domInteractive,s=t.domContentLoadedEventEnd,d=t.loadEventEnd,c=window.avito.metrics,u=c.contentType,f=c.tsPrefetchContent,l=c.tsRequestContent,p=c.tsLoadContent,v={ttfb:o(n-i),firstInteractive:o(a-i),domReady:o(s-i),onLoad:o(d-i),timeToTargetContent:o(p-i),timeForAsyncContent:u?o(p-(f||l)):0};if(window.chrome&&"function"==typeof window.chrome.loadTimes){var w=1e3*window.chrome.loadTimes().firstPaintTime;w&&(v.firstPaint=o(w-i))}r.a.sendEvent(2951,3,{from_page:window.avito.pageId||"",from_block:u||0,from_position:e,time_to_first_byte:v.ttfb,time_to_first_paint:v.firstPaint,time_to_first_interactive:v.firstInteractive,time_to_dom_ready:v.domReady,time_to_on_load:v.onLoad,time_to_target_content:v.timeToTargetContent,time_for_async_target_content:v.timeForAsyncContent})},a=function(){window.navigator&&window.navigator.sendBeacon&&(window.fetch=function(e,t){var n=t.body,r=new XMLHttpRequest;r.open("POST",e,!1),r.setRequestHeader("Content-type","application/json; charset=UTF-8"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(n)}),i(0)},s=function(){window.removeEventListener("unload",a),i(2)},d=function e(){if(window.performance.timing.loadEventEnd){var t=window.avito.metrics;1!==t.contentType||t.tsLoadContent?(window.removeEventListener("unload",a),i(1)):t.onContentLoad=s}else window.setTimeout(e,500)};window.performance&&window.performance.timing&&(window.addEventListener("unload",a),"complete"===document.readyState?d():window.addEventListener("load",d))},5990:function(e,t,n){"use strict";var r,o,i,a,s,d,c=new(n(10952).a)({common:{ua:"undefined"!=typeof window?window.navigator.userAgent:""},build:"undefined"!=typeof window?(null===(r=window.avito)||void 0===r||null===(o=r.clickstream)||void 0===o?void 0:o.buildId)||"local":"",buildUid:"undefined"!=typeof window?(null===(i=window.avito)||void 0===i||null===(a=i.clickstream)||void 0===a?void 0:a.buildUid)||"local":"",softwareVersion:"Monolith",srcId:"undefined"!=typeof window?null===(s=window.avito)||void 0===s||null===(d=s.clickstream)||void 0===d?void 0:d.srcId:96},"/clickstream/events/1/json");t.a=c},8853:function(e,t,n){e.exports=n(5989)}});