(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[8450],{90992:function(t,n,i){"use strict";i.r(n),i.d(n,{page:function(){return g}});var e=i(31191),o=i(61049),r=i(63788),a=i(43757),s=i(11717),u=function(t){return t+"-screenIn"},c=function(){function t(t){this.animator=t,this.definitions={},this.sessionState={played:new Map,running:new Map}}return t.prototype._shouldSkipPlayedAnimation=function(t){var n=this.sessionState.played.has(t),i=this.sessionState.played.get(t)||{},e=i.playOnce,o=i.persistOnNav;return n&&(e||o)},t.prototype._hideComponent=function(t){var n=document.querySelector("#"+t);n&&(n.style.opacity=0)},t.prototype.unhideComponent=function(t){var n=document.querySelector("#"+t);n&&(n.style.opacity="",n.style.visibility="inherit")},t.prototype._addAnimatingClass=function(t){var n=document.getElementById(t);n&&n.classList.add("is-animating")},t.prototype._addExitAnimatingClass=function(t){var n=document.getElementById(t);n&&(n.classList.remove("is-animating"),n.classList.add("animating-screenIn-exit"))},t.prototype.updateDefinitions=function(t){this.definitions=(0,e.pi)((0,e.pi)({},this.definitions),t)},t.prototype._hideCompBeforeAnimation=function(t){var n=u(t);this._shouldSkipPlayedAnimation(n)?this.unhideComponent(t):this._hideComponent(t)},t.prototype.hideBeforeAnimation=function(t){var n=this;this.getCompsToHide(t).forEach((function(t){var i=t.compId;n._hideCompBeforeAnimation(i)}))},t.prototype.handleRotation=function(t,n){t.setAttribute("data-angle",String(n)),t.setAttribute("data-angle-style-location","style")},t.prototype.trigger=function(t){var n=this;void 0===t&&(t=[]),t.reduce((function(t,i){var e=i.compId,o=n.definitions[e]||[];return t.concat(o)}),[]).forEach((function(t){var i=t.action,o=(0,e._T)(t,["action"]);return n.executeAnimation(i,o)}))},t.prototype.init=function(t){this.updateDefinitions(t),this.stopAnimations(),this.hideBeforeAnimation(t)},t.prototype.addDefinition=function(t,n,i){this.handleRotation(n,i),this.updateDefinitions(t)},t.prototype.executeAnimation=function(t,n){var i=this,e=n.name,o=n.targetId,r=n.duration,a=void 0===r?0:r,s=n.delay,c=void 0===s?0:s,p=n.playOnce,d=void 0!==p&&p,f=n.persistOnNav,l=void 0!==f&&f,m=n.params,h=void 0===m?{}:m,v=u(o);if(this._shouldSkipPlayedAnimation(v))this.unhideComponent(o);else{var g={name:e,targetId:o,duration:a,delay:c,params:h},y={name:"BaseClear",targetId:o,duration:0,delay:0,params:{props:"clip,clipPath,webkitClipPath,willChange,opacity,transform,transformOrigin",immediateRender:!1}};this.animator.runSequence([{type:"Animation",data:g},{type:"Animation",data:y}],{callbacks:{onStart:function(n){i._addAnimatingClass(o),i.sessionState.running.set(n,{targetId:o,action:t})},onComplete:function(t){i._addExitAnimatingClass(o),i.sessionState.running.delete(t)},onInterrupt:function(t){i._addExitAnimatingClass(o),i.sessionState.running.delete(t)}}}),this.sessionState.played.set(v,{playOnce:d,persistOnNav:l})}},t.prototype.stopAnimations=function(t){var n=this,i=(void 0===t?{}:t).skipPersistent,e=void 0===i||i;this.sessionState.running.forEach((function(t,i){var o=t.targetId,r=u(o);e&&n.sessionState.played.get(r).persistOnNav||n.animator.kill(i,1)}))},t.prototype.getAnimationProperties=function(t){return this.animator.getAnimationProperties(t)},t.prototype.getCompsToHide=function(t){var n=this;return Object.entries(t).reduce((function(t,i){var o=(0,e.CR)(i,2),r=o[0];return o[1].some((function(t){var i=t.name,e=n.animator.getAnimationProperties(i);return e&&e.hideOnStart}))&&t.push({compId:r}),t}),[])},t.prototype.clearState=function(){this.sessionState.played.clear(),this.sessionState.running.clear()},t}(),p=i(18562);function d(t){var n=t.manager,i={};function e(t){var i=t.filter((function(t){return t.visible})).map((function(t){return{compId:t.id,action:"screenIn"}}));n.trigger(i)}function o(t,n){var o=i[n]||function(t,n){var i={root:null,rootMargin:"0px",threshold:[n]};return new window.IntersectionObserver((function(n,i){var e=n.map((function(t){return{visible:t.isIntersecting,ratio:t.intersectionRatio,rect:t.intersectionRect,id:t.target.id}}));n.forEach((function(t){return t.isIntersecting&&i.unobserve(t.target)})),t(e)}),i)}(e,n);o.observe(t),i[n]||(i[n]=o)}return{start:function(t,i,e){var r=window.innerHeight;i&&o(i,i.offsetHeight>r?.01:function(t,n){return t.getAnimationProperties(n).viewportThreshold}(n,e))},stop:function(){Object.values(i).forEach((function(t){return t.disconnect()}))}}}var f=(0,a.ff)([(0,a.t6)(o.$e,p.u2),(0,a.t6)(o.Wf,p.u2),r.m,(0,a.jt)(s.FK)],(function(t,n,i,o){return function(){var r=t.compIdToActions,a=t.compIdToRotations;if(o){var s=o.getInstance().then((function(t){var i,o,a=null!==(o=null===(i=n.get())||void 0===i?void 0:i.screenInManager)&&void 0!==o?o:new c(t);a.init(r);var s=d({manager:a});return n.update((function(t){return(0,e.pi)((0,e.pi)({},t),{screenInManager:a,viewport:s})})),{animations:s,screenInManager:a}}));return function(t,n,o){return(0,e.mG)(void 0,void 0,void 0,(function(){var u,c,p,d,f,l;return(0,e.Jh)(this,(function(e){switch(e.label){case 0:return o?[4,s]:[2];case 1:return u=e.sent(),c=u.animations,p=u.screenInManager,i?(p.unhideComponent(t),[2]):(d=r[t],n!==t&&((f=JSON.parse(JSON.stringify(d)))[0].targetId=n,d=f),p.addDefinition(((l={})[n]=d,l),o,a[t]),c.start(n,o,d[0].name),[2])}}))}))}}}})),l=i(32979),m=(0,a.ff)([(0,a.t6)(o.$e,p.u2),p.cL,l.C],(function(t,n,i){return{pageWillMount:function(){var e=n();if(e){var o=Object.keys(t.compIdToActions||{});i.registerToCompLifeCycle(o,p.IA,e)}}}})),h=(0,a.ff)([(0,a.t6)(o.$e,p.u2),(0,a.t6)(o.Wf,p.u2),l.C,r.m],(function(t,n,i,e){return{pageWillUnmount:function(){var o;if(!e){var r=Object.keys(t.compIdToActions||{});i.unregisterToCompLifeCycle(r,p.IA),null===(o=n.get())||void 0===o||o.viewport.stop()}}}})),v=i(59032),g=function(t){t(p.cL).to(f),t(v.j.PageWillMountHandler).to(m),t(v.j.PageWillUnmountHandler).to(h)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/screenIn.51a533af.chunk.min.js.map