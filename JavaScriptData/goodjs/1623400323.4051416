/******/ (() => { // webpackBootstrap
/******/  "use strict";
/******/  var __webpack_modules__ = ({

/***/ 56:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _W$lib=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/bindify"),bindify=_W$lib.bindify,Elem=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/elem"),elemBind=Elem.elemBind,elemUnbind=Elem.elemUnbind,elemWidth=Elem.elemWidth,elemHeight=Elem.elemHeight,elemOffset=Elem.elemOffset,_W$lib2=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/detect"),cachedDetect=_W$lib2.cachedDetect,detect=cachedDetect(),TouchEvents=/*#__PURE__*/function(){function TouchEvents(rootElem){var _this=this;_classCallCheck(this,TouchEvents),_defineProperty(this,"onTouchStart",function(event){_this.rootWidth=elemWidth(_this.rootElem),_this.rootHeight=elemHeight(_this.rootElem),_this.rootOffset=elemOffset(_this.rootElem),_this.resetTouchContext(),event.touches[0]&&(_this.xDown=event.touches[0].clientX,_this.yDown=event.touches[0].clientY),_this.updatePinch(event),2==event.touches.length&&_this.touchesAreInsideRootElem()&&event.preventDefault(),_this.startedAt=Date.now(),elemBind(document,"touchmove",_this.onTouchMoveDocument,{passive:!1}),elemBind(document,"touchend",_this.onTouchEndDocument),elemBind(_this.rootElem,"touchmove",_this.onTouchMove,{passive:!1}),elemBind(_this.rootElem,"touchend",_this.onTouchEnd);var ctx=_this.getTouchContext(event);_this.trigger("touchstart",event,ctx),_this.maybeTriggerMoreSpecificEvent(event,ctx)}),_defineProperty(this,"onTouchMove",function(event){event._handledByTouchMove=!0;var xUp=event.touches[0].clientX,yUp=event.touches[0].clientY;if(_this.xDiff=_this.xDown-xUp,_this.yDiff=_this.yDown-yUp,_this.updatePinch(event),!_this.isPinch){var dist=Math.sqrt(_this.xDiff*_this.xDiff+_this.yDiff*_this.yDiff);(25<dist||300<Date.now()-_this.startedAt)&&(_this.isSwipe=!0)}var ctx=_this.getTouchContext(event);_this.trigger("touchmove",event,ctx),_this.maybeTriggerMoreSpecificEvent(event,ctx)}),_defineProperty(this,"onTouchMoveDocument",function(event){event._handledByTouchMove||_this.onTouchMove(event)}),_defineProperty(this,"onTouchEnd",function(event){event._handledByTouchEnd=!0;var ctx=_this.getTouchContext(event);_this.trigger("touchend",event,ctx),_this.maybeTriggerMoreSpecificEvent(event,ctx),setTimeout(function(){_this.resetTouchContext(),_this.unbindTouchEndAndTouchMove()},0)}),_defineProperty(this,"onTouchEndDocument",function(event){event._handledByTouchEnd||_this.onTouchEnd(event)}),this.rootElem=rootElem,this.xDown=this.yDown=null,this.xDiff=this.yDiff=0,this.isSwipe=!1,this.isPinch=!1,this.startedAt=null,this.initialPinchDistance=null,this.touch1=this.touch2=null,this.pinchDistance=0,this.pinchScale=0,elemBind(rootElem,"touchstart",this.onTouchStart,!!detect.passiveSupported&&{passive:!1})}return _createClass(TouchEvents,[{key:"updatePinch",value:function updatePinch(e){var rootOffset=this.rootOffset;return 2===e.touches.length?(this.touch1={left:e.touches[0].pageX-rootOffset.left,top:e.touches[0].pageY-rootOffset.top},this.touch2={left:e.touches[1].pageX-rootOffset.left,top:e.touches[1].pageY-rootOffset.top},this.pinchDistance=Math.sqrt(Math.pow(this.touch1.left-this.touch2.left,2),Math.pow(this.touch1.top-this.touch2.top,2)),null==this.initialPinchDistance&&(this.initialPinchDistance=this.pinchDistance),this.pinchScale=this.pinchDistance/this.initialPinchDistance,this.pinchDelta=this.pinchDistance-this.initialPinchDistance,this.isPinch=!0,this.pinchScale):0}},{key:"getTouchContext",value:function getTouchContext(e){var rootOffset=this.rootOffset,timeDelta=Date.now()-this.startedAt,touch=Object(e.touches[0]),xOffset=touch.pageX-rootOffset.left,yOffset=touch.pageY-rootOffset.top;return{xOffset:xOffset,yOffset:yOffset,xDelta:this.xDiff,yDelta:this.yDiff,absXDelta:Math.abs(this.xDiff),absYDelta:Math.abs(this.yDiff),delta:Math.sqrt(this.xDiff*this.xDiff+this.yDiff*this.yDiff),startedAt:this.startedAt,isSwipe:!this.isPinch&&this.isSwipe,isTap:1e3>timeDelta&&!this.isPinch&&!this.isSwipe,isLongPress:1e3<=timeDelta&&!this.isPinch&&!this.isSwipe,isPinch:this.isPinch,timeDelta:timeDelta,pinchScale:this.pinchScale,pinchDistance:this.pinchDistance}}},{key:"touchIsInsideRootElem",value:function touchIsInsideRootElem(touch){return 0<=touch.left&&touch.left<this.rootWidth&&0<=touch.top&&touch.top<this.rootHeight}},{key:"touchesAreInsideRootElem",value:function touchesAreInsideRootElem(){return this.touchIsInsideRootElem(this.touch1)&&this.touchIsInsideRootElem(this.touch2)}},{key:"resetTouchContext",value:function resetTouchContext(){this.xDown=this.yDown=null,this.xDiff=this.yDiff=0,this.isSwipe=!1,this.isPinch=!1,this.startedAt=null,this.pinchDelta=0,this.pinchDistance=0,this.initialPinchDistance=null,this.touch1=this.touch2=null}},{key:"maybeTriggerMoreSpecificEvent",value:function maybeTriggerMoreSpecificEvent(event,ctx){ctx.isLongPress?this.trigger("longpress",event,ctx):ctx.isTap?this.trigger("tap",event,ctx):ctx.isSwipe?this.trigger("swipe",event,ctx):ctx.isPinch&&this.trigger("pinch",event,ctx)}},{key:"destroy",value:function destroy(){elemUnbind(this.rootElem,"touchstart",this.onTouchStart),this.unbindTouchEndAndTouchMove(),this.rootElem=null}},{key:"unbindTouchEndAndTouchMove",value:function unbindTouchEndAndTouchMove(){elemUnbind(document,"touchmove",this.onTouchMoveDocument),elemUnbind(document,"touchend",this.onTouchEndDocument),elemUnbind(this.rootElem,"touchmove",this.onTouchMove),elemUnbind(this.rootElem,"touchend",this.onTouchEnd)}}]),TouchEvents}();bindify(TouchEvents.prototype),wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.define("vulcanV2Player/TouchEvents.js",TouchEvents);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TouchEvents);

/***/ }),

/***/ 55:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var _TouchEvents_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(56);
function _extends(){return _extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i],source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target},_extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return call&&("object"==typeof call||"function"==typeof call)?call:_assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _W$lib=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/detect"),cachedDetect=_W$lib.cachedDetect,detect=cachedDetect();var CustomEventsWrapper=/*#__PURE__*/function(_Component){function CustomEventsWrapper(){var _this;_classCallCheck(this,CustomEventsWrapper);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_defineProperty(_assertThisInitialized(_this),"onSwipe",function(e,ctx){var onSwipe=_this.props.onSwipe;onSwipe&&onSwipe(e,ctx)}),_defineProperty(_assertThisInitialized(_this),"onPinch",function(e,ctx){var onPinch=_this.props.onPinch;onPinch&&onPinch(e,ctx)}),_defineProperty(_assertThisInitialized(_this),"onLongPress",function(e,ctx){var onLongPress=_this.props.onLongPress;onLongPress&&onLongPress(e,ctx)}),_defineProperty(_assertThisInitialized(_this),"onCustomTouchMove",function(e,ctx){var onTouchMove=_this.props.onCustomTouchMove;onTouchMove&&onTouchMove(e,ctx)}),_this}_inherits(CustomEventsWrapper,_Component);var _super=_createSuper(CustomEventsWrapper);return _createClass(CustomEventsWrapper,[{key:"render",value:function render(){var TagName=this.props.tagName||"div";return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(TagName,_extends({},this.props,{ref:this.props.elemRef}),this.props.children)}},{key:"componentDidMount",value:function componentDidMount(){this._savedBase=this.base,this.setupBindings()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.base!==this._savedBase&&(this._savedBase=this.base,this.destroyBindings(),this.setupBindings())}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.destroyBindings()}},{key:"setupBindings",value:function setupBindings(){if(this.unbinds=[],detect.touchScreen){var touchEvents=this.touchEvents=new _TouchEvents_js__WEBPACK_IMPORTED_MODULE_2__.default(this.base);touchEvents.on("swipe",this.onSwipe),touchEvents.on("pinch",this.onPinch),touchEvents.on("longpress",this.onLongPress),touchEvents.on("touchmove",this.onCustomTouchMove)}}},{key:"destroyBindings",value:function destroyBindings(){this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null),this.unbinds&&(this.unbinds.map(function(unbind){return unbind()}),this.unbinds=null)}}]),CustomEventsWrapper}(preact__WEBPACK_IMPORTED_MODULE_1__.Component);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CustomEventsWrapper);

/***/ }),

/***/ 469:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _shared_ui_components_CustomEventsWrapper_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55);
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);
function _extends(){return _extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i],source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target},_extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return call&&("object"==typeof call||"function"==typeof call)?call:_assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _W$lib=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/translations"),getTranslation=_W$lib.getTranslation,_W$lib2=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/interFontFamily"),interFontFamily=_W$lib2.interFontFamily,_W$lib3=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/isMouseDown"),isMouseDown=_W$lib3.isMouseDown,_W$lib4=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/elem"),elemIsInside=_W$lib4.elemIsInside,BASE_FONT_SIZE=30,CTAOverlay=/*#__PURE__*/function(_Component){function CTAOverlay(props){var _this;return _classCallCheck(this,CTAOverlay),_this=_super.call(this,props),_defineProperty(_assertThisInitialized(_this),"setSkipSVGFocusState",function(bool){_this.setState({skipSvgHasFocus:bool})}),_defineProperty(_assertThisInitialized(_this),"setRewatchSVGFocusState",function(bool){_this.setState({rewatchSvgHasFocus:bool})}),_defineProperty(_assertThisInitialized(_this),"setContainerHasFocus",function(bool){_this.setState({containerHasFocus:bool})}),_this.state={hovering:!1,skipSvgHasFocus:!1,rewatchSvgHasFocus:!1,containerHasFocus:!1},_this}_inherits(CTAOverlay,_Component);var _super=_createSuper(CTAOverlay);return _createClass(CTAOverlay,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this,ctaType=this.deriveCtaTypeFromOptions(this.props.options);"raw"===ctaType&&elemIsInside(document.activeElement,this.props.uiContainer)&&setTimeout(function(){_this2.overlayRef.focus()},0)}},{key:"deriveCtaTypeFromOptions",value:function deriveCtaTypeFromOptions(options){// If you specify a ctaType (the first three conditions here), and you have
// included the fields required for that ctaType, you get that type of cta.
return"raw"===options.ctaType&&options.raw?"raw":"text"===options.ctaType&&options.text?"text":"image"===options.ctaType&&options.image?"image":!options.ctaType&&(options.raw||options.text||options.image?!options.raw&&(options.text||options.image)?options.image?"image":"text":"raw":void 0)}},{key:"fontSizing",value:function fontSizing(){var fontSize=BASE_FONT_SIZE,_this$props=this.props,videoHeight=_this$props.videoHeight,videoWidth=_this$props.videoWidth;// default if autosize is false
if(this.props.options.autoSize){var isVertical=1>videoWidth/videoHeight,min=isVertical?58:72;fontSize=Math.round(this.props.videoHeight/9),fontSize=Math.min(min,Math.max(10,fontSize))}return fontSize}},{key:"fontFamily",value:function fontFamily(){return{fontFamily:interFontFamily}}},{key:"containerStyles",value:function containerStyles(){var fontFamily=this.fontFamily();return _objectSpread({height:"100%",backgroundColor:this.state.hovering?this.props.hoverColor:"",boxShadow:this.state.containerHasFocus&&!this.props.isMostRecentFocusViaMouse?"0 0 0 2px #fff inset":"none",color:"#ffffff",fontSize:"".concat(this.fontSizing(),"px"),lineHeight:"1.2em",position:"relative",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},fontFamily)}},{key:"skipOrRewatchStyles",value:function skipOrRewatchStyles(){return{bottom:"".concat(this.fontSizing()/3,"px"),boxSizing:"border-box",cursor:"pointer",padding:"".concat(this.fontSizing()/6,"px"),position:"absolute"}}},{key:"rewatchSVG",value:function rewatchSVG(){var _this3=this;// only continue if it's defined and we're at the end
if(this.props.options.rewatch&&"end"===this.props.options.time){var fontSize="".concat(this.fontSizing()/2,"px");return (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(_shared_ui_components_CustomEventsWrapper_jsx__WEBPACK_IMPORTED_MODULE_1__.default,{tagName:"button",onClick:this.props.onClickRewatch,style:_objectSpread(_objectSpread({},this.skipOrRewatchStyles()),{},{left:"".concat(fontSize),border:this.state.rewatchSvgHasFocus?"2px solid white":"2px solid transparent"}),className:"w-css-reset w-vulcan-v2-button",onfocusin:function onfocusin(){return _this3.setRewatchSVGFocusState(!isMouseDown())},onfocusout:function onfocusout(){return _this3.setRewatchSVGFocusState(!1)}},(0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("span",{style:_objectSpread(_objectSpread({},this.fontFamily()),{},{fontSize:"".concat(fontSize)})},"\u21BA ",getTranslation(this.props.playerLanguage.code,"REWATCH")))}}},{key:"skipSVG",value:function skipSVG(){var _this4=this,nextVideo=!!this.props.nextVideo();// there is no next video, we're at the end we can return
if(nextVideo||"end"!==this.props.options.time){var fontSize="".concat(this.fontSizing()/2,"px");return (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(_shared_ui_components_CustomEventsWrapper_jsx__WEBPACK_IMPORTED_MODULE_1__.default,{tagName:"button",onClick:this.props.onClickSkip,style:_objectSpread(_objectSpread({},this.skipOrRewatchStyles()),{},{right:"".concat(fontSize),border:this.state.skipSvgHasFocus?"2px solid white":"2px solid transparent"}),className:"w-css-reset w-vulcan-v2-button",onfocusin:function onfocusin(){return _this4.setSkipSVGFocusState(!isMouseDown())},onfocusout:function onfocusout(){return _this4.setSkipSVGFocusState(!1)}},(0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("span",{style:_objectSpread(_objectSpread({},this.fontFamily()),{},{fontSize:"".concat(fontSize)})},getTranslation(this.props.playerLanguage.code,"SKIP")," \u2192"))}}},{key:"render",value:function render(){var _this5=this,options=_objectSpread({},this.props.options),ctaType=this.deriveCtaTypeFromOptions(options);return (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("div",{style:this.containerStyles(),onBlur:function onBlur(){return _this5.setContainerHasFocus(!1)},onFocus:function onFocus(){return _this5.setContainerHasFocus(!0)},tabIndex:"raw"===ctaType?0:-1,ref:function ref(e){return _this5.overlayRef=e}},(0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(CTAContent,{ctaType:ctaType,fontFamily:this.fontFamily(),fontSize:this.fontSizing(),isMostRecentFocusViaMouse:this.props.isMostRecentFocusViaMouse,logConversionEvent:this.props.logConversionEvent,options:this.props.options,videoHeight:this.props.videoHeight,videoWidth:this.props.videoWidth,uiContainer:this.props.uiContainer}),this.rewatchSVG(),this.skipSVG())}}]),CTAOverlay}(preact__WEBPACK_IMPORTED_MODULE_2__.Component),CTAContent=/*#__PURE__*/function(_Component2){function CTAContent(){var _this6;_classCallCheck(this,CTAContent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this6=_super2.call.apply(_super2,[this].concat(args)),_defineProperty(_assertThisInitialized(_this6),"setHoverState",function(bool){_this6.setState({hovering:bool})}),_defineProperty(_assertThisInitialized(_this6),"setHasFocus",function(bool){_this6.setState({hasFocus:bool})}),_defineProperty(_assertThisInitialized(_this6),"resizeOnImageLoad",function(){_this6.ctaImage&&_this6.forceUpdate()}),_this6}_inherits(CTAContent,_Component2);var _super2=_createSuper(CTAContent);return _createClass(CTAContent,[{key:"componentDidMount",value:function componentDidMount(){var ctaType=this.props.ctaType;// manage focus when the cta mounts
// except on raw, that type will focus the root overlay
if("raw"!==ctaType&&elemIsInside(document.activeElement,this.props.uiContainer)){var ref;"text"===ctaType?ref=this.overlayTextRef:"image"===ctaType&&(ref=this.overlayImageRef),setTimeout(function(){var _ref;null===(_ref=ref)||void 0===_ref?void 0:_ref.focus()},0)}}},{key:"ctaContentStyles",value:function ctaContentStyles(){return{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",textDecoration:"none",boxShadow:this.state.hasFocus&&!this.props.isMostRecentFocusViaMouse?"0 0 0 2px #fff inset":"none",boxSizing:"border-box"}}},{key:"imageStyles",value:function imageStyles(){if(this.ctaImage){var _this$ctaImage=this.ctaImage,naturalWidth=_this$ctaImage.naturalWidth,naturalHeight=_this$ctaImage.naturalHeight,_this$props2=this.props,videoWidth=_this$props2.videoWidth,videoHeight=_this$props2.videoHeight,isImageSmall=naturalHeight<videoHeight&&naturalWidth<videoWidth;// if the image is smaller than the video, do some math to scale it up
// while respecting the image's aspect ratio
if(isImageSmall){// we want to get two scales, video width to image width and video height to image height
// to see how much bigger we can make the image to fill up as much of the video as we can.
// Taking the lower scale allows us to make the image as big as possible without
// the other axis overflowing outside of the video. This allows us to handle many different
// video aspect ratios along with many different image aspect ratios.
var scale=Math.min(videoWidth/naturalWidth,videoHeight/naturalHeight);return{width:"".concat(naturalWidth*scale,"px"),height:"".concat(naturalHeight*scale,"px")}}return{maxWidth:"100%",maxHeight:"100%"}}}},{key:"textStyle",value:function textStyle(){return{textAlign:"center",lineHeight:"1.2em",fontWeight:100,width:"80%",color:"white",fontSize:"".concat(this.props.fontSize,"px")}}},{key:"renderText",value:// sanitize this text before setting it so preact wont strip it out
function renderText(){var saniText=this.props.options.text.replace(/<br\/>/g,"\n").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>");return (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("div",{className:"w-css-reset-tree",style:_objectSpread(_objectSpread({},this.props.fontFamily),this.textStyle()),dangerouslySetInnerHTML:{__html:saniText||""}})}},{key:"renderImage",value:function renderImage(){var _this7=this;return this.props.options.image.src?(0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("img",{className:"w-css-reset-tree",src:this.props.options.image.src,ref:function ref(ctaImage){return _this7.ctaImage=ctaImage},style:this.imageStyles(),onLoad:this.resizeOnImageLoad,alt:this.props.options.altText||null}):void 0}},{key:"renderRaw",value:function renderRaw(){return (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("div",{dangerouslySetInnerHTML:{__html:this.props.options.raw}})}},{key:"render",value:function render(){var _this8=this,_this$props3=this.props,options=_this$props3.options,ctaType=_this$props3.ctaType,AorSpan=options.link?"a":"span",aOrSpanProps={href:options.link,target:"_blank",class:"w-css-reset",style:this.ctaContentStyles(),onClick:options.link?this.props.logConversionEvent:null,onMouseEnter:function onMouseEnter(){return _this8.setHoverState(!0)},onMouseLeave:function onMouseLeave(){return _this8.setHoverState(!1)},onFocus:function onFocus(){return _this8.setHasFocus(!0)},onBlur:function onBlur(){return _this8.setHasFocus(!1)}};return (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("div",{style:{width:"100%",height:"100%"}},"text"===ctaType&&(0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(AorSpan,_extends({},aOrSpanProps,{ref:function ref(e){return _this8.overlayTextRef=e}}),this.renderText()),"image"===ctaType&&(0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(AorSpan,_extends({},aOrSpanProps,{ref:function ref(e){return _this8.overlayImageRef=e}}),this.renderImage()),"raw"===ctaType&&(0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(CTARawHtml,{raw:this.props.options.raw}))}}]),CTAContent}(preact__WEBPACK_IMPORTED_MODULE_2__.Component),CTARawHtml=/*#__PURE__*/function(_Component3){function CTARawHtml(){return _classCallCheck(this,CTARawHtml),_super3.apply(this,arguments)}_inherits(CTARawHtml,_Component3);var _super3=_createSuper(CTARawHtml);return _createClass(CTARawHtml,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps){return this.props.raw!==nextProps.raw}},{key:"rawContainerStyles",value:function rawContainerStyles(){return{alignContent:"center",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"}}},{key:"render",value:function render(){return (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("div",{style:this.rawContainerStyles(),dangerouslySetInnerHTML:{__html:this.props.raw}})}}]),CTARawHtml}(preact__WEBPACK_IMPORTED_MODULE_2__.Component);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CTAOverlay);

/***/ }),

/***/ 2:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* global globalThis */var root;try{root=self,root.self!==root&&typeof root.self!==void 0&&"undefined"!=typeof window&&(root=window)}catch(err){root="undefined"==typeof globalThis?window:globalThis}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (root);

/***/ }),

/***/ 1:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var utilities_root__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
null==utilities_root__WEBPACK_IMPORTED_MODULE_0__.default.Wistia&&(utilities_root__WEBPACK_IMPORTED_MODULE_0__.default.Wistia={});var W=utilities_root__WEBPACK_IMPORTED_MODULE_0__.default.Wistia;null==W._initializers&&(W._initializers={}),null==W._destructors&&(W._destructors={}),null==W.mixin&&(W.mixin=function(klass,obj){for(var k in obj)obj.hasOwnProperty(k)&&(klass[k]=obj[k])});/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (utilities_root__WEBPACK_IMPORTED_MODULE_0__.default.Wistia);

/***/ }),

/***/ 6:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ N),
/* harmony export */   "hydrate": () => (/* binding */ O),
/* harmony export */   "createElement": () => (/* binding */ a),
/* harmony export */   "h": () => (/* binding */ a),
/* harmony export */   "Fragment": () => (/* binding */ y),
/* harmony export */   "createRef": () => (/* binding */ h),
/* harmony export */   "isValidElement": () => (/* binding */ l),
/* harmony export */   "Component": () => (/* binding */ p),
/* harmony export */   "cloneElement": () => (/* binding */ S),
/* harmony export */   "createContext": () => (/* binding */ q),
/* harmony export */   "toChildArray": () => (/* binding */ w),
/* harmony export */   "options": () => (/* binding */ n)
/* harmony export */ });
/*** IMPORTS FROM imports-loader ***/var n,l,u,i,t,o,define=void 0,r={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,o,r=arguments,f={};for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:f[o]=l[o];if(3<arguments.length)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),"function"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(b)}function b(){for(var n;b.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,I(r,t,i,l.__n,void 0!==r.ownerSVGElement,null==t.__h?null:[o],u,null==o?d(t):o,t.__h),T(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||"boolean"==typeof k?null:"string"==typeof k||"number"==typeof k||"bigint"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):0<k.__b?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}I(n,k,_=_||r,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null==b?s&&_.__e==s&&s.parentNode!=n&&(s=d(_)):(null==m&&(m=b),"function"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,b,s),a||"option"!==u.type?"function"==typeof u.type&&(u.__d=s):n.value="")}for(u.__e=m,h=P;h--;)null!=A[h]&&("function"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l="function"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0===r?t.nextSibling:r}function A(n,l,u,i,t){var o;for(o in u)"children"===o||"key"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&"function"!=typeof l[o]||"children"===o||"key"===o||"value"===o||"checked"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]=null==u?"":"number"!=typeof u||e.test(l)?u:u+"px"}function C(n,l,u,i,t){var o;n:if("style"===l){if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||P(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}}else if("o"===l[0]&&"n"===l[1])o=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H:$,o):n.removeEventListener(l,o?H:$,o);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null!=u&&(!1!==u||"a"===l[0]&&"r"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function I(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if("function"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:("prototype"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i)}}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if("svg"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&f.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||""))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&"foreignObject"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||("value"in d&&void 0!==(k=d.value)&&(k!==n.value||"progress"===_&&!k)&&C(n,"value",k,p.value,!1),"checked"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,"checked",k,p.checked,!1))}return n}function z(l,u,i){try{"function"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||"function"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&s(o)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t="function"==typeof i)?null:i&&i.__k||u.__k,e=[],I(u,l=(!t&&i||u).__k=a(y,null,[l]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,o,r=arguments,f=c({},n.props);for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:f[o]=l[o];if(3<arguments.length)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l="__cC"+o++,__:n,Consumer:function Consumer(n,l){return n.children(l)},Provider:function Provider(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function __e(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function l(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),"function"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,o=0;

/***/ })

/******/  });
/************************************************************************/
/******/  // The module cache
/******/  var __webpack_module_cache__ = {};
/******/  
/******/  // The require function
/******/  function __webpack_require__(moduleId) {
/******/   // Check if module is in cache
/******/   var cachedModule = __webpack_module_cache__[moduleId];
/******/   if (cachedModule !== undefined) {
/******/    return cachedModule.exports;
/******/   }
/******/   // Create a new module (and put it into the cache)
/******/   var module = __webpack_module_cache__[moduleId] = {
/******/    // no module.id needed
/******/    // no module.loaded needed
/******/    exports: {}
/******/   };
/******/  
/******/   // Execute the module function
/******/   __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/  
/******/   // Return the exports of the module
/******/   return module.exports;
/******/  }
/******/  
/************************************************************************/
/******/  /* webpack/runtime/define property getters */
/******/  (() => {
/******/   // define getter functions for harmony exports
/******/   __webpack_require__.d = (exports, definition) => {
/******/    for(var key in definition) {
/******/     if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/      Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/     }
/******/    }
/******/   };
/******/  })();
/******/  
/******/  /* webpack/runtime/hasOwnProperty shorthand */
/******/  (() => {
/******/   __webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/  })();
/******/  
/******/  /* webpack/runtime/make namespace object */
/******/  (() => {
/******/   // define __esModule on exports
/******/   __webpack_require__.r = (exports) => {
/******/    if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/     Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/    }
/******/    Object.defineProperty(exports, '__esModule', { value: true });
/******/   };
/******/  })();
/******/  
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _vulcanV2Player_video_ui_components_CTAOverlay_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(469);
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&(object=_getPrototypeOf(object),null!==object););return object}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return call&&("object"==typeof call||"function"==typeof call)?call:_assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _W$lib=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/isMouseDown"),isMouseDownRecently=_W$lib.isMouseDownRecently,Color=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/color"),Promise=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("promiscuous"),PLUGIN_NAME="postRoll-v2-cta",_W$lib2=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/core"),unescapeHtml=_W$lib2.unescapeHtml,_W$lib3=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/elem"),getCssTags=_W$lib3.getCssTags,execCssTags=_W$lib3.execCssTags,removeCssTags=_W$lib3.removeCssTags,getScriptTags=_W$lib3.getScriptTags,execScriptTags=_W$lib3.execScriptTags,removeScriptTags=_W$lib3.removeScriptTags,elemStripEventAttributes=_W$lib3.elemStripEventAttributes,PostRollPlugin=/*#__PURE__*/function(_W$Plugin$Base){function PostRollPlugin(video,options){var _this;return _classCallCheck(this,PostRollPlugin),_this=_super.call(this,video,options),_defineProperty(_assertThisInitialized(_this),"nextVideo",function(){return _this.video.nextVideo()}),_defineProperty(_assertThisInitialized(_this),"translateColor",function(){var defaultColor=new Color("#303030"),backgroundColor=defaultColor.alpha(_this._style.backgroundOpacity||.91),hoverColor=new Color(backgroundColor),rgbaBackgroundColor=backgroundColor.toRgba(),rgbaHoverColor=hoverColor.alpha(.41).toRgba();return{rgbaBackgroundColor:rgbaBackgroundColor,rgbaHoverColor:rgbaHoverColor}}),_defineProperty(_assertThisInitialized(_this),"onClickSkip",function(){"beforeplay"===_this.video.state()&&_this.video.unsuspend({state:"playing",time:_this.video.time()}),_this.hide(),isMouseDownRecently()||_this.video._focusNextVisibleElem()}),_defineProperty(_assertThisInitialized(_this),"onClickRewatch",function(){_this.video.unsuspend({time:0,state:"playing"}),_this.hide(),isMouseDownRecently()||_this.video._focusNextVisibleElem()}),_defineProperty(_assertThisInitialized(_this),"logConversionEvent",function(){var conversionData=_objectSpread(_objectSpread({},_this.formatConversionData()),{},{converted:!0,link:_this._link});_this.video.trigger("conversion-postRoll",conversionData),_this.video._tracker.logConversionOpportunity(conversionData)}),_this.pluginName="postRoll-v2",_this.video=video,_this.options=options,_this.updateFromOptions(_this.options),_this._conversionOpportunityType="callToAction",_this._isVisible=!1,_this.unbinds=[],null==_this._time&&(_this._time="end"),_this._style||(_this._style={}),_this.video.defineOverlay(PLUGIN_NAME,_this.getOptionsForDefineOverlay()),_this.setupOverlayBindings(),_this}_inherits(PostRollPlugin,_W$Plugin$Base);var _super=_createSuper(PostRollPlugin);return _createClass(PostRollPlugin,[{key:"renderCta",value:function renderCta(){var _this2=this;return new Promise(function(resolve){var options={altText:_this2._altText,ctaType:_this2._ctaType,text:_this2._text,raw:_this2._raw,image:_this2._image,time:_this2._time,rewatch:_this2._rewatch,autoSize:_this2._autoSize,style:_this2._style,link:_this2._link},video=_this2.video,isMostRecentFocusViaMouse=video.controls.modalOverlay.props.isMostRecentFocusViaMouse;wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.asyncRequire("interFontFace.js").then(function(){(0,preact__WEBPACK_IMPORTED_MODULE_2__.render)((0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(_vulcanV2Player_video_ui_components_CTAOverlay_jsx__WEBPACK_IMPORTED_MODULE_1__.default,{options:options,playerLanguage:video.playerLanguage(),videoHeight:video.videoHeight(),videoWidth:video.videoWidth(),isMostRecentFocusViaMouse:isMostRecentFocusViaMouse,onClickSkip:_this2.onClickSkip,onClickRewatch:_this2.onClickRewatch,nextVideo:_this2.nextVideo,logConversionEvent:_this2.logConversionEvent,hoverColor:_this2.translateColor().rgbaHoverColor,uiContainer:video.uiContainer}),_this2.rootElem),_this2.reactMounts=[_this2.rootElem],resolve()})})}},{key:"customizePreview",value:function customizePreview(changeSet){if(changeSet.anyChanged(["plugin[postRoll-v2]","plugin[postRoll-v1]","ephemeral[ui][callToAction]"])){this.resetOverLayType();var opts=changeSet.currentValue("plugin[postRoll-v2]")||changeSet.currentValue("plugin[postRoll-v1]")||{on:!1},currentPluginOptions=_objectSpread({},opts);"text"===currentPluginOptions.ctaType&&(!currentPluginOptions.text&&(currentPluginOptions.text="Here's a link to click! \u2192"),!currentPluginOptions.link&&(currentPluginOptions.link="https://wistia.com")),this.updateFromOptions(currentPluginOptions),changeSet.currentValue("ephemeral[ui][callToAction][isOpen]")?(this.show(),this.video.time(this.formatStringToTime(currentPluginOptions.time))):this.hide()}}},{key:"formatStringToTime",value:function formatStringToTime(time){var translateTime;return translateTime="before"===time?0:"end"===time?this.video.duration():time,translateTime}// Returns an object that will be passed when `defineOverlay` is called.
// Allows the plugin to call things like renderCta on the overlay.
},{key:"getOptionsForDefineOverlay",value:function getOptionsForDefineOverlay(){var plugin=this;return{mount:function mount(rootElem){return plugin.rootElem=rootElem,plugin.renderCta().then(function(){plugin.possiblyExecuteScriptTags(!0)})},onControlPropsUpdated:function onControlPropsUpdated(prevProps){prevProps.videoWidth!==this.props.videoWidth&&plugin.renderCta(),prevProps.playerLanguage&&prevProps.playerLanguage.code!==this.props.playerLanguage.code&&plugin.renderCta()},style:_objectSpread(_objectSpread({},plugin._style),{},{backgroundColor:plugin.translateColor().rgbaBackgroundColor}),type:"modal",transition:"fade"}}},{key:"setupOverlayBindings",value:// set up the bindings on when the overlay should appear
function setupOverlayBindings(){var _this3=this;// wait for the video to be embedded before we actually try and
// render anything out
this.video.embedded(function(){var time=_this3._time;"before"===time&&"beforeplay"===_this3.video.state()?_this3.show():"end"===time?_this3.unbinds.push(_this3.video.on("end",function(){_this3.show()})):_this3.unbinds.push(_this3.video.on("crosstime",_this3._time,function(){_this3.show()})),_this3.unbinds.push(_this3.video.on("beforerebuild",function(){_this3._isVisible=!1}))})}},{key:"hide",value:function hide(){this._isVisible=!1,this.video.cancelOverlay(PLUGIN_NAME)}},{key:"sanitizeUrl",value:function sanitizeUrl(unsanitizedUrl){var url=unescapeHtml(unsanitizedUrl);return /^(https?|mailto|ftp|tel|#|\/)/.test(url)?url:"http://".concat(url)}},{key:"sanitizeRaw",value:function sanitizeRaw(html){return this._previousUnstrippedRaw=this._unstrippedRaw||html,this._unstrippedRaw=html,this._scriptTags=getScriptTags(html),this._cssTags=getCssTags(html),removeCssTags(removeScriptTags(html))}},{key:"formatConversionData",value:function formatConversionData(){var time;return time="end"===this._time?this.video.duration():"before"===this._time?0:this._time,{co_key:this._conversionOpportunityKey,co_type:this._conversionOpportunityType,time:time}}// showing a CTA logs a conversion _opportunity_
},{key:"logConversionOpportunity",value:function logConversionOpportunity(){this.video._tracker.logConversionOpportunity(this.formatConversionData())}// clicking on a CTA logs the conversion
},{key:"show",value:function show(){var _this4=this;return this.video.requestOverlay(PLUGIN_NAME).then(function(){return _this4.renderCta()}).then(function(){_this4._isVisible||(_this4._isVisible=!0,_this4.logConversionOpportunity()),_this4.possiblyExecuteScriptTags(),_this4.rootElem&&(wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.EmbedLink.setupAll(_this4.rootElem),!wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.plugin._allow3rdParty(_this4.video.embedOptions())&&elemStripEventAttributes(_this4.rootElem))})}// if you have raw html with scriptTags and allow3rdParty as an option
// we will execute your scripts under certain conditions
},{key:"possiblyExecuteScriptTags",value:function possiblyExecuteScriptTags(firstRender){var firstRenderOrRawChanged=this._unstrippedRaw!==this._previousUnstrippedRaw||firstRender,hasScriptTags=this._scriptTags&&0<this._scriptTags.length,hasCssTags=this._cssTags&&0<this._cssTags.length;// you need to have raw, allow3rdParty, script tags, and raws needs to have changed or be first render
this._raw&&(hasScriptTags||hasCssTags)&&firstRenderOrRawChanged&&wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.plugin._allow3rdParty(this.video.embedOptions())&&(execScriptTags(this._scriptTags||[]),execCssTags(this._cssTags||[]))}},{key:"remove",value:function remove(){this.unbinds.map(function(e){return e()}),this.unbinds=[],this.video.cancelOverlay(PLUGIN_NAME),_get(_getPrototypeOf(PostRollPlugin.prototype),"remove",this).call(this)}},{key:"resetOverLayType",value:function resetOverLayType(){this._text=void 0,this._image=void 0,this._html=void 0,this._raw=void 0}// using the same method names as in _call_to_action.coffee
},{key:"updateText",value:function updateText(text){this.resetOverLayType(),this._text=text,this.show()}// using the same method from _call_to_action.coffee
},{key:"updateImage",value:function updateImage(image){this.resetOverLayType(),this._image=preloadImg(image),this.show()}},{key:"updateRaw",value:function updateRaw(html){this.resetOverLayType(),this._raw=this.sanitizeRaw(html),this.show()}},{key:"updateUrl",value:function updateUrl(unsanitizedUrl){this._link=this.sanitizeUrl(unsanitizedUrl),this.show()}},{key:"showRewatch",value:function showRewatch(){this._rewatch=!0,this.show()}},{key:"hideRewatch",value:function hideRewatch(){this._rewatch=!1,this.show()}},{key:"updateFromOptions",value:function updateFromOptions(options){for(var prop in options)this.updateFromOption("_".concat(prop),options[prop])}},{key:"updateFromOption",value:function updateFromOption(optionName,optionValue){"_link"===optionName?this._link=this.sanitizeUrl(optionValue):"_raw"===optionName?this._raw=this.sanitizeRaw(optionValue):"_image"===optionName?this._image=preloadImg(optionValue):"_backgroundOpacity"===optionName?this._style=_objectSpread(_objectSpread({},this._style),{},{backgroundOpacity:optionValue}):this[optionName]=optionValue}}]),PostRollPlugin}(wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.Plugin.Base),preloadImg=function preloadImg(src){if(src){var image=new Image;return image.src=src,image}};wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.plugin("postRoll-v2",function(video,options){return new PostRollPlugin(video,options)});
})();

/******/ })()
;