!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/widgets/v4/MobileSlider/",r(r.s=150)}([function(e,t,r){for(var n=r(1),i=r(30),o=r(19),a=r(9),s=r(22),u=r(45),l=r(6),c=l("iterator"),f=l("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var g,m=p[v],y=h[m],b=a[m],E=b&&b.prototype;if(E&&(E[c]||s(E,c,d),E[f]||s(E,f,m),u[m]=d,y))for(g in n)E[g]||o(E,g,n[g],!0)}},function(e,t,r){"use strict";var n=r(75),i=r(127),o=r(45),a=r(23);e.exports=r(90)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(33),i=r(30);r(128)("keys",(function(){return function(e){return i(n(e))}}))},function(e,t,r){var n=r(8),i=r(117),o=r(23),a=r(51),s=r(89);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),u=a.f,l=i(n),c={},f=0;l.length>f;)void 0!==(r=u(n,t=l[f++]))&&s(c,t,r);return c}})},function(e,t,r){r(96)("asyncIterator")},function(e,t,r){"use strict";var n=r(9),i=r(20),o=r(18),a=r(8),s=r(19),u=r(52).KEY,l=r(11),c=r(69),f=r(46),d=r(39),h=r(6),p=r(97),v=r(96),g=r(124),m=r(98),y=r(14),b=r(12),E=r(23),w=r(49),S=r(38),_=r(71),O=r(125),T=r(51),A=r(17),L=r(30),x=T.f,P=A.f,R=O.f,k=n.Symbol,D=n.JSON,I=D&&D.stringify,C=h("_hidden"),F=h("toPrimitive"),j={}.propertyIsEnumerable,M=c("symbol-registry"),N=c("symbols"),B=c("op-symbols"),U=Object.prototype,G="function"==typeof k,H=n.QObject,z=!H||!H.prototype||!H.prototype.findChild,V=o&&l((function(){return 7!=_(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=x(U,t);n&&delete U[t],P(e,t,r),n&&e!==U&&P(U,t,n)}:P,W=function(e){var t=N[e]=_(k.prototype);return t._k=e,t},K=G&&"symbol"==typeof k.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof k},q=function(e,t,r){return e===U&&q(B,t,r),y(e),t=w(t,!0),y(r),i(N,t)?(r.enumerable?(i(e,C)&&e[C][t]&&(e[C][t]=!1),r=_(r,{enumerable:S(0,!1)})):(i(e,C)||P(e,C,S(1,{})),e[C][t]=!0),V(e,t,r)):P(e,t,r)},Y=function(e,t){y(e);for(var r,n=g(t=E(t)),i=0,o=n.length;o>i;)q(e,r=n[i++],t[r]);return e},X=function(e){var t=j.call(this,e=w(e,!0));return!(this===U&&i(N,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(N,e)||i(this,C)&&this[C][e])||t)},$=function(e,t){if(e=E(e),t=w(t,!0),e!==U||!i(N,t)||i(B,t)){var r=x(e,t);return!r||!i(N,t)||i(e,C)&&e[C][t]||(r.enumerable=!0),r}},Q=function(e){for(var t,r=R(E(e)),n=[],o=0;r.length>o;)i(N,t=r[o++])||t==C||t==u||n.push(t);return n},J=function(e){for(var t,r=e===U,n=R(r?B:E(e)),o=[],a=0;n.length>a;)!i(N,t=n[a++])||r&&!i(U,t)||o.push(N[t]);return o};G||(s((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===U&&t.call(B,r),i(this,C)&&i(this[C],e)&&(this[C][e]=!1),V(this,e,S(1,r))};return o&&z&&V(U,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),T.f=$,A.f=q,r(41).f=O.f=Q,r(44).f=X,r(50).f=J,o&&!r(43)&&s(U,"propertyIsEnumerable",X,!0),p.f=function(e){return W(h(e))}),a(a.G+a.W+a.F*!G,{Symbol:k});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)h(Z[ee++]);for(var te=L(h.store),re=0;te.length>re;)v(te[re++]);a(a.S+a.F*!G,"Symbol",{for:function(e){return i(M,e+="")?M[e]:M[e]=k(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in M)if(M[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!G,"Object",{create:function(e,t){return void 0===t?_(e):Y(_(e),t)},defineProperty:q,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),D&&a(a.S+a.F*(!G||l((function(){var e=k();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!K(e))return m(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,I.apply(D,n)}}),k.prototype[F]||r(22)(k.prototype,F,k.prototype.valueOf),f(k,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(e,t,r){var n=r(69)("wks"),i=r(39),o=r(9).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&e.push(a)}else if("object"===o)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){var n=r(9),i=r(26),o=r(22),a=r(19),s=r(27),u=function(e,t,r){var l,c,f,d,h=e&u.F,p=e&u.G,v=e&u.S,g=e&u.P,m=e&u.B,y=p?n:v?n[t]||(n[t]={}):(n[t]||{}).prototype,b=p?i:i[t]||(i[t]={}),E=b.prototype||(b.prototype={});for(l in p&&(r=t),r)f=((c=!h&&y&&void 0!==y[l])?y:r)[l],d=m&&c?s(f,n):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,l,f,e&u.U),b[l]!=f&&o(b,l,d),g&&E[l]!=f&&(E[l]=f)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";r(123);var n=r(14),i=r(73),o=r(18),a=/./.toString,s=function(e){r(19)(RegExp.prototype,"toString",e,!0)};r(11)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";var n=r(119)(!0);r(90)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(12);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";var n=r(27),i=r(8),o=r(33),a=r(92),s=r(93),u=r(42),l=r(89),c=r(94);i(i.S+i.F*!r(72)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,i,f,d=o(e),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,y=c(d);if(g&&(v=n(v,p>2?arguments[2]:void 0,2)),null==y||h==Array&&s(y))for(r=new h(t=u(d.length));t>m;m++)l(r,m,g?v(d[m],m):d[m]);else for(f=y.call(d),r=new h;!(i=f.next()).done;m++)l(r,m,g?a(f,v,[i.value,m],!0):i.value);return r.length=m,r}})},function(e,t,r){var n;"undefined"!=typeof window&&(n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,n||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,n,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,o),!0;case 6:return c.fn.call(c.context,t,r,n,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,n);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==t||n&&!a[s].once||r&&a[s].context!==r)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){var n,i,o,a,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=s.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=i.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,f=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=s.normalizePath(f)}else l.path=a.path,o.params||(l.params=a.params,o.query||(l.query=a.query));return null===l.path&&(l.path=r.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){function n(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var n=r(r.s=ENTRY_MODULE);return n.default||n}var i="[\\.|\\-|\\+|\\w|/|@]+",o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+i+").*?\\)";function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,n){var s={};s[n]=[];var u=t.toString(),l=u.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!l)return s;for(var c,f=l[1],d=new RegExp("(\\\\n|\\W)"+a(f)+o,"g");c=d.exec(u);)"dll-reference"!==c[3]&&s[n].push(c[3]);for(d=new RegExp("\\("+a(f)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+o,"g");c=d.exec(u);)e[c[2]]||(s[n].push(c[1]),e[c[2]]=r(c[1]).m),s[c[2]]=s[c[2]]||[],s[c[2]].push(c[4]);for(var h,p=Object.keys(s),v=0;v<p.length;v++)for(var g=0;g<s[p[v]].length;g++)h=s[p[v]][g],isNaN(1*h)||(s[p[v]][g]=1*s[p[v]][g]);return s}function u(e){return Object.keys(e).reduce((function(t,r){return t||e[r].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:r.m},o=t.all?{main:Object.keys(i.main)}:function(e,t){for(var r={main:[t]},n={main:[]},i={main:{}};u(r);)for(var o=Object.keys(r),a=0;a<o.length;a++){var l=o[a],c=r[l].pop();if(i[l]=i[l]||{},!i[l][c]&&e[l][c]){i[l][c]=!0,n[l]=n[l]||[],n[l].push(c);for(var f=s(e,e[l][c],l),d=Object.keys(f),h=0;h<d.length;h++)r[d[h]]=r[d[h]]||[],r[d[h]]=r[d[h]].concat(f[d[h]])}}return n}(i,e),a="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;o[e][t];)t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),a=a+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var l=new window.Blob([a],{type:"text/javascript"});if(t.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),f=new window.Worker(c);return f.objectURL=c,f}},"./src/demux/demuxer-inline.js":
/*!**************************************************!*\
  !*** ./src/demux/demuxer-inline.js + 16 modules ***!
  \**************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number-isFinite.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(e,t,r){"use strict";r.r(t);var n=r("./src/events.js"),i=r("./src/errors.ts"),o=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),a=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),s=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},t.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],o=r[2],a=r[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],f=s[3],d=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)d[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var m=d[h],y=d[m],b=d[y],E=257*d[g]^16843008*g;n[h]=E<<24|E>>>8,i[h]=E<<16|E>>>16,o[h]=E<<8|E>>>24,a[h]=E,E=16843009*b^65537*y^257*m^16843008*h,u[g]=E<<24|E>>>8,l[g]=E<<16|E>>>16,c[g]=E<<8|E>>>24,f[g]=E,h?(h=m^d[d[d[b^m]]],p^=d[d[p]]):h=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),f=this.invKeySchedule=new Uint32Array(l),d=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],g=p[1],m=p[2],y=p[3];for(o=0;o<l;o++)o<i?s=c[o]=t[o]:(u=s,o%i==0?(u=d[(u=u<<8|u>>>24)>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u],u^=h[o/i|0]<<24):i>6&&o%i==4&&(u=d[u>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],f[a]=a<4||o<=4?u:v[d[u>>>24]]^g[d[u>>>16&255]]^m[d[u>>>8&255]]^y[d[255&u]],f[a]=f[a]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,r,n){for(var i,o,a,s,u,l,c,f,d,h,p,v,g,m,y,b,E,w=this.keySize+6,S=this.invKeySchedule,_=this.invSBox,O=this.invSubMix,T=O[0],A=O[1],L=O[2],x=O[3],P=this.uint8ArrayToUint32Array_(r),R=P[0],k=P[1],D=P[2],I=P[3],C=new Int32Array(e),F=new Int32Array(C.length),j=this.networkToHostOrderSwap;t<C.length;){for(d=j(C[t]),h=j(C[t+1]),p=j(C[t+2]),v=j(C[t+3]),u=d^S[0],l=v^S[1],c=p^S[2],f=h^S[3],g=4,m=1;m<w;m++)i=T[u>>>24]^A[l>>16&255]^L[c>>8&255]^x[255&f]^S[g],o=T[l>>>24]^A[c>>16&255]^L[f>>8&255]^x[255&u]^S[g+1],a=T[c>>>24]^A[f>>16&255]^L[u>>8&255]^x[255&l]^S[g+2],s=T[f>>>24]^A[u>>16&255]^L[l>>8&255]^x[255&c]^S[g+3],u=i,l=o,c=a,f=s,g+=4;i=_[u>>>24]<<24^_[l>>16&255]<<16^_[c>>8&255]<<8^_[255&f]^S[g],o=_[l>>>24]<<24^_[c>>16&255]<<16^_[f>>8&255]<<8^_[255&u]^S[g+1],a=_[c>>>24]<<24^_[f>>16&255]<<16^_[u>>8&255]<<8^_[255&l]^S[g+2],s=_[f>>>24]<<24^_[u>>16&255]<<16^_[l>>8&255]<<8^_[255&c]^S[g+3],g+=3,F[t]=j(i^R),F[t+1]=j(s^k),F[t+2]=j(a^D),F[t+3]=j(o^I),R=d,k=h,D=p,I=v,t+=4}return n?(y=F.buffer,b=y.byteLength,(E=b&&new DataView(y).getUint8(b-1))?y.slice(0,b-E):y):F.buffer},t.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),u=r("./src/utils/logger.js"),l=r("./src/utils/get-self-scope.js"),c=Object(l.getSelfScope)(),f=function(){function e(e,t,r){var n=(void 0===r?{}:r).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var o=c.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}var t=e.prototype;return t.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.decrypt=function(e,t,r,n){var i=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(u.logger.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new s),l.expandKey(t),n(l.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(u.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new a(c,t)),this.fastAesKey.expandKey().then((function(a){new o(c,r).decrypt(e,a).catch((function(o){i.onWebCryptoError(o,e,t,r,n)})).then((function(e){n(e)}))})).catch((function(o){i.onWebCryptoError(o,e,t,r,n)}))}},t.onWebCryptoError=function(e,t,r,o,a){this.config.enableSoftwareAES?(u.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,o,a)):(u.logger.error("decrypting error : "+e.message),this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},t.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}(),d=r("./src/polyfills/number-isFinite.js");function h(e,t){return 255===e[t]&&240==(246&e[t+1])}function p(e,t){return 1&e[t+1]?7:9}function v(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function g(e,t){return!!(t+1<e.length&&h(e,t))}function m(e,t){if(g(e,t)){var r=p(e,t);t+5<e.length&&(r=v(e,t));var n=t+r;if(n===e.length||n+1<e.length&&h(e,n))return!0}return!1}function y(e,t,r,o,a){if(!e.samplerate){var s=function(e,t,r,o){var a,s,l,c,f,d=navigator.userAgent.toLowerCase(),h=o,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(a=1+((192&t[r+2])>>>6),!((s=(60&t[r+2])>>>2)>p.length-1))return c=(1&t[r+2])<<2,c|=(192&t[r+3])>>>6,u.logger.log("manifest codec:"+o+",ADTS data:type:"+a+",sampleingIndex:"+s+"["+p[s]+"Hz],channelConfig:"+c),/firefox/i.test(d)?s>=6?(a=5,f=new Array(4),l=s-3):(a=2,f=new Array(2),l=s):-1!==d.indexOf("android")?(a=2,f=new Array(2),l=s):(a=5,f=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&s>=6?l=s-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(s>=6&&1===c||/vivaldi/i.test(d))||!o&&1===c)&&(a=2,f=new Array(2)),l=s)),f[0]=a<<3,f[0]|=(14&s)>>1,f[1]|=(1&s)<<7,f[1]|=c<<3,5===a&&(f[1]|=(14&l)>>1,f[2]=(1&l)<<7,f[2]|=8,f[3]=0),{config:f,samplerate:p[s],channelCount:c,codec:"mp4a.40."+a,manifestCodec:h};e.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s})}(t,r,o,a);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,u.logger.log("parsed codec:"+e.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}}function b(e){return 9216e4/e}function E(e,t,r,n,i){var o=function(e,t,r,n,i){var o,a,s=e.length;if(o=p(e,t),a=v(e,t),(a-=o)>0&&t+o+a<=s)return{headerLength:o,frameLength:a,stamp:r+n*i}}(t,r,n,i,b(e.samplerate));if(o){var a=o.stamp,s=o.headerLength,u=o.frameLength,l={unit:t.subarray(r+s,r+s+u),pts:a,dts:a};return e.samples.push(l),{sample:l,length:u+s}}}var w=r("./src/demux/id3.js"),S=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=(w.default.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(m(e,t))return u.logger.log("ADTS sync word found !"),!0;return!1},t.append=function(e,t,r,n){for(var i=this._audioTrack,o=w.default.getID3Data(e,0)||[],a=w.default.getTimeStamp(o),s=Object(d.isFiniteNumber)(a)?90*a:9e4*t,l=0,c=s,f=e.length,h=o.length,p=[{pts:c,dts:c,data:o}];h<f-1;)if(g(e,h)&&h+5<f){y(i,this.observer,e,h,i.manifestCodec);var v=E(i,e,h,s,l);if(!v){u.logger.log("Unable to parse AAC frame");break}h+=v.length,c=v.sample.pts,l++}else w.default.isHeader(e,h)?(o=w.default.getID3Data(e,h),p.push({pts:c,dts:c,data:o}),h+=o.length):h++;this.remuxer.remux(i,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,r,n)},t.destroy=function(){},e}(),_=r("./src/demux/mp4demuxer.js"),O={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,n,i){if(!(r+24>t.length)){var o=this.parseHeader(t,r);if(o&&r+o.frameLength<=t.length){var a=n+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:t.subarray(r,r+o.frameLength),pts:a,dts:a};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(s),{sample:s,length:o.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,n=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3,a=e[t+2]>>1&1;if(1!==r&&0!==i&&15!==i&&3!==o){var s=3===r?3-n:3===n?3:4,u=1e3*O.BitratesMap[14*s+i-1],l=3===r?0:2===r?1:2,c=O.SamplingRateMap[3*l+o],f=e[t+3]>>6==3?1:2,d=O.SamplesCoefficients[r][n],h=O.BytesInSlot[n],p=8*d*h;return{sampleRate:c,channelCount:f,frameLength:parseInt(d*u/c+a,10)*h,samplesPerFrame:p}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),n=4;r&&r.frameLength&&(n=r.frameLength);var i=t+n;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}},T=O,A=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&u.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){var t,r=8,n=8;for(t=0;t<e;t++)0!==n&&(n=(r+this.readEG()+256)%256),r=0===n?r:n},t.readSPS=function(){var e,t,r,n,i,o,a,s=0,u=0,l=0,c=0,f=this.readUByte.bind(this),d=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),v=this.skipBits.bind(this),g=this.skipEG.bind(this),m=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(f(),e=f(),d(5),v(3),f(),m(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&v(1),m(),m(),v(1),p())for(o=3!==b?8:12,a=0;a<o;a++)p()&&y(a<6?16:64)}m();var E=h();if(0===E)h();else if(1===E)for(v(1),g(),g(),t=h(),a=0;a<t;a++)g();m(),v(1),r=h(),n=h(),0===(i=d(1))&&v(1),v(1),p()&&(s=h(),u=h(),l=h(),c=h());var w=[1,1];if(p()&&p())switch(f()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[f()<<8|f(),f()<<8|f()]}return{width:Math.ceil(16*(r+1)-2*s-2*u),height:(2-i)*(n+1)*16-(i?2:4)*(l+c),pixelRatio:w}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),L=function(){function e(e,t,r,n){this.decryptdata=r,this.discardEPB=n,this.decrypter=new f(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},t.decryptAacSample=function(e,t,r,n){var i=e[t].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){o=new Uint8Array(o),i.set(o,16),n||s.decryptAacSamples(e,t+1,r)}))},t.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,n),!n)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<=e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r},t.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,n=32;n<=e.length-16;n+=160,r+=16)e.set(t.subarray(r,r+16),n);return e},t.decryptAvcSample=function(e,t,r,n,i,o){var a=this.discardEPB(i.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,(function(s){i.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(e,t,r+1,n)}))},t.decryptAvcSamples=function(e,t,r,n){for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;!(r>=i.length);r++){var o=i[r];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,n,o,a),!a)return}}}},e}(),x={video:1,audio:2,id3:3,text:4},P=function(){function e(e,t,r,n){this.observer=e,this.config=r,this.typeSupported=n,this.remuxer=t,this.sampleAes=null}var t=e.prototype;return t.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new L(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0||(r&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),0))},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:x[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},t.resetInitSegment=function(t,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",i),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3",i),this._txtTrack=e.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=n,this._duration=i},t.resetTimeStamp=function(){},t.append=function(t,r,o,a){var s,l,c,f,d,h=t.length,p=!1;this.contiguous=o;var v=this.pmtParsed,g=this._avcTrack,m=this._audioTrack,y=this._id3Track,b=g.pid,E=m.pid,w=y.pid,S=this._pmtId,_=g.pesData,O=m.pesData,T=y.pesData,A=this._parsePAT,L=this._parsePMT,x=this._parsePES,P=this._parseAVCPES.bind(this),R=this._parseAACPES.bind(this),k=this._parseMPEGPES.bind(this),D=this._parseID3PES.bind(this),I=e._syncOffset(t);for(h-=(h+I)%188,s=I;s<h;s+=188)if(71===t[s]){if(l=!!(64&t[s+1]),c=((31&t[s+1])<<8)+t[s+2],(48&t[s+3])>>4>1){if((f=s+5+t[s+4])===s+188)continue}else f=s+4;switch(c){case b:l&&(_&&(d=x(_))&&P(d,!1),_={data:[],size:0}),_&&(_.data.push(t.subarray(f,s+188)),_.size+=s+188-f);break;case E:l&&(O&&(d=x(O))&&(m.isAAC?R(d):k(d)),O={data:[],size:0}),O&&(O.data.push(t.subarray(f,s+188)),O.size+=s+188-f);break;case w:l&&(T&&(d=x(T))&&D(d),T={data:[],size:0}),T&&(T.data.push(t.subarray(f,s+188)),T.size+=s+188-f);break;case 0:l&&(f+=t[f]+1),S=this._pmtId=A(t,f);break;case S:l&&(f+=t[f]+1);var C=L(t,f,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=C.avc)>0&&(g.pid=b),(E=C.audio)>0&&(m.pid=E,m.isAAC=C.isAAC),(w=C.id3)>0&&(y.pid=w),p&&!v&&(u.logger.log("reparse from beginning"),p=!1,s=I-188),v=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});_&&(d=x(_))?(P(d,!0),g.pesData=null):g.pesData=_,O&&(d=x(O))?(m.isAAC?R(d):k(d),m.pesData=null):(O&&O.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),m.pesData=O),T&&(d=x(T))?(D(d),y.pesData=null):y.pesData=T,null==this.sampleAes?this.remuxer.remux(m,g,y,this._txtTrack,r,o,a):this.decryptAndRemux(m,g,y,this._txtTrack,r,o,a)},t.decryptAndRemux=function(e,t,r,n,i,o,a){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){s.decryptAndRemuxAvc(e,t,r,n,i,o,a)}))}else this.decryptAndRemuxAvc(e,t,r,n,i,o,a)},t.decryptAndRemuxAvc=function(e,t,r,n,i,o,a){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){s.remuxer.remux(e,t,r,n,i,o,a)}))}else this.remuxer.remux(e,t,r,n,i,o,a)},t.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},t._parsePMT=function(e,t,r,n){var i,o,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){switch(o=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!n){u.logger.log("unknown stream type:"+e[t]);break}case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!n){u.logger.log("unknown stream type:"+e[t]);break}case 27:-1===a.avc&&(a.avc=o);break;case 3:case 4:r?-1===a.audio&&(a.audio=o,a.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:u.logger.warn("HEVC stream type found, not supported for now");break;default:u.logger.log("unknown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return a},t._parsePES=function(e){var t,r,n,i,o,a,s,l,c=0,f=e.data;if(!e||0===e.size)return null;for(;f[0].length<19&&f.length>1;){var d=new Uint8Array(f[0].length+f[1].length);d.set(f[0]),d.set(f[1],f[0].length),f[0]=d,f.splice(1,1)}if(1===((t=f[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;if(192&(r=t[7])&&((a=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(a-=8589934592),64&r?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(u.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),l=(i=t[8])+9,e.size<=l)return null;e.size-=l,o=new Uint8Array(e.size);for(var h=0,p=f.length;h<p;h++){var v=(t=f[h]).byteLength;if(l){if(l>v){l-=v;continue}t=t.subarray(l),v-=l,l=0}o.set(t,c),c+=v}return n&&(n-=i+3),{data:o,pts:a,dts:s,len:n}}return null},t.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,n=r.length;if(isNaN(e.pts)){if(!n)return void t.dropped++;var i=r[n-1];e.pts=i.pts,e.dts=i.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(n||this.contiguous)?(e.id=n,r.push(e)):t.dropped++}e.debug.length&&u.logger.log(e.pts+"/"+e.dts+":"+e.debug)},t._parseAVCPES=function(e,t){var r,n,i,o=this,a=this._avcTrack,s=this._parseAVCNALu(e.data),u=this.avcSample,l=!1,c=this.pushAccesUnit.bind(this),f=function(e,t,r,n){return{key:e,pts:t,dts:r,units:[],debug:n}};e.data=null,u&&s.length&&!a.audFound&&(c(u,a),u=this.avcSample=f(!1,e.pts,e.dts,"")),s.forEach((function(t){switch(t.type){case 1:n=!0,u||(u=o.avcSample=f(!0,e.pts,e.dts,"")),u.frame=!0;var s=t.data;if(l&&s.length>4){var d=new A(s).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(u.key=!0)}break;case 5:n=!0,u||(u=o.avcSample=f(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0,(r=new A(o.discardEPB(t.data))).readUByte();for(var h=0,p=0,v=!1,g=0;!v&&r.bytesAvailable>1;){h=0;do{h+=g=r.readUByte()}while(255===g);p=0;do{p+=g=r.readUByte()}while(255===g);if(4===h&&0!==r.bytesAvailable){if(v=!0,181===r.readUByte()&&49===r.readUShort()&&1195456820===r.readUInt()&&3===r.readUByte()){var m=r.readUByte(),y=31&m,b=[m,r.readUByte()];for(i=0;i<y;i++)b.push(r.readUByte()),b.push(r.readUByte()),b.push(r.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:e.pts,bytes:b})}}else if(5===h&&0!==r.bytesAvailable){if(v=!0,p>16){var E=[];for(i=0;i<16;i++)E.push(r.readUByte().toString(16)),3!==i&&5!==i&&7!==i&&9!==i||E.push("-");var S=p-16,_=new Uint8Array(S);for(i=0;i<S;i++)_[i]=r.readUByte();o._insertSampleInOrder(o._txtTrack.samples,{pts:e.pts,payloadType:h,uuid:E.join(""),userDataBytes:_,userData:Object(w.utf8ArrayToStr)(_.buffer)})}}else if(p<r.bytesAvailable)for(i=0;i<p;i++)r.readUByte()}break;case 7:if(n=!0,l=!0,!a.sps){var O=(r=new A(t.data)).readSPS();a.width=O.width,a.height=O.height,a.pixelRatio=O.pixelRatio,a.sps=[t.data],a.duration=o._duration;var T=t.data.subarray(1,4),L="avc1.";for(i=0;i<3;i++){var x=T[i].toString(16);x.length<2&&(x="0"+x),L+=x}a.codec=L}break;case 8:n=!0,a.pps||(a.pps=[t.data]);break;case 9:n=!1,a.audFound=!0,u&&c(u,a),u=o.avcSample=f(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&n&&u.units.push(t)})),t&&u&&(c(u,a),this.avcSample=null)},t._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var n=r-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)},t._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var n=t.units;e=n[n.length-1]}return e},t._parseAVCNALu=function(e){var t,r,n,i,o=0,a=e.byteLength,s=this._avcTrack,u=s.naluState||0,l=u,c=[],f=-1;for(-1===u&&(f=0,i=31&e[0],u=0,o=1);o<a;)if(t=e[o++],u)if(1!==u)if(t)if(1===t){if(f>=0)n={data:e.subarray(f,o-u-1),type:i},c.push(n);else{var d=this._getLastNalUnit();if(d&&(l&&o<=4-l&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-l)),(r=o-u-1)>0)){var h=new Uint8Array(d.data.byteLength+r);h.set(d.data,0),h.set(e.subarray(0,r),d.data.byteLength),d.data=h}}o<a?(f=o,i=31&e[o],u=0):u=-1}else u=0;else u=3;else u=t?0:2;else u=t?0:1;if(f>=0&&u>=0&&(n={data:e.subarray(f,a),type:i,state:u},c.push(n)),0===c.length){var p=this._getLastNalUnit();if(p){var v=new Uint8Array(p.data.byteLength+e.byteLength);v.set(p.data,0),v.set(e,p.data.byteLength),p.data=v}}return s.naluState=u,c},t.discardEPB=function(e){for(var t,r,n=e.byteLength,i=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),r[o]=e[a];return r},t._parseAACPES=function(e){var t,r,o,a,s,l,c,f=this._audioTrack,d=e.data,h=e.pts,p=this.aacOverFlow,v=this.aacLastPTS;if(p){var m=new Uint8Array(p.byteLength+d.byteLength);m.set(p,0),m.set(d,p.byteLength),d=m}for(o=0,s=d.length;o<s-1&&!g(d,o);o++);if(!o||(o<s-1?(l="AAC PES did not start with ADTS header,offset:"+o,c=!1):(l="no ADTS header found in AAC PES",c=!0),u.logger.warn("parsing error:"+l),this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:c,reason:l}),!c)){if(y(f,this.observer,d,o,this.audioCodec),r=0,t=b(f.samplerate),p&&v){var w=v+t;Math.abs(w-h)>1&&(u.logger.log("AAC: align PTS for overlapping frames by "+Math.round((w-h)/90)),h=w)}for(;o<s;){if(g(d,o)){if(o+5<s){var S=E(f,d,o,h,r);if(S){o+=S.length,a=S.sample.pts,r++;continue}}break}o++}p=o<s?d.subarray(o,s):null,this.aacOverFlow=p,this.aacLastPTS=a}},t._parseMPEGPES=function(e){for(var t=e.data,r=t.length,n=0,i=0,o=e.pts;i<r;)if(T.isHeader(t,i)){var a=T.appendFrame(this._audioTrack,t,i,o,n);if(!a)break;i+=a.length,n++}else i++},t._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),R=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){var t,r,n=w.default.getID3Data(e,0);if(n&&void 0!==w.default.getTimeStamp(n))for(t=n.length,r=Math.min(e.length-1,t+100);t<r;t++)if(T.probe(e,t))return u.logger.log("MPEG Audio sync word found !"),!0;return!1},t.append=function(e,t,r,n){for(var i=w.default.getID3Data(e,0),o=w.default.getTimeStamp(i),a=o?90*o:9e4*t,s=i.length,u=e.length,l=0,c=0,f=this._audioTrack,d=[{pts:a,dts:a,data:i}];s<u;)if(T.isHeader(e,s)){var h=T.appendFrame(f,e,s,a,l);if(!h)break;s+=h.length,c=h.sample.pts,l++}else w.default.isHeader(e,s)?(i=w.default.getID3Data(e,s),d.push({pts:c,dts:c,data:i}),s+=i.length):s++;this.remuxer.remux(f,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},t,r,n)},t.destroy=function(){},e}(),k=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),D=Math.pow(2,32)-1,I=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,u,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=8,i=r.length,o=i;i--;)n+=r[i].byteLength;for((t=new Uint8Array(n))[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),i=0,n=8;i<o;i++)t.set(r[i],n),n+=r[i].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var n=Math.floor(r/(D+1)),i=Math.floor(r%(D+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))},e.moov=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,r){r*=t;var n=Math.floor(r/(D+1)),i=Math.floor(r%(D+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var r,n,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,o)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,n,i,o=[],a=[];for(r=0;r<t.sps.length;r++)i=(n=t.sps[r]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)i=(n=t.pps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),u=t.width,l=t.height,c=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,n=t.duration*t.timescale,i=t.width,o=t.height,a=Math.floor(n/(D+1)),s=Math.floor(n%(D+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,r){var n=e.sdtp(t),i=t.id,o=Math.floor(r/(D+1)),a=Math.floor(r%(D+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var n,i,o,a,s,u,l=t.samples||[],c=l.length,f=12+16*c,d=new Uint8Array(f);for(r+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)o=(i=l[n]).duration,a=i.size,s=i.flags,u=i.cts,d.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*n);return e.box(e.types.trun,d)},e.initSegment=function(t){e.types||e.init();var r,n=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+n.byteLength)).set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}(),C=9e4;function F(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var i=e*t*r;return n?Math.round(i):i}function j(e,t){return void 0===t&&(t=!1),F(e,1e3,1/C,t)}function M(e,t){return void 0===t&&(t=1),F(e,C,1/t)}var N,B=M(10),U=M(.2),G=function(){function e(e,t,r,n){this.observer=e,this.config=t,this.typeSupported=r;var i=navigator.userAgent;this.isSafari=n&&n.indexOf("Apple")>-1&&i&&!i.match("CriOS"),this.ISGenerated=!1}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},t.resetInitSegment=function(){this.ISGenerated=!1},t.remux=function(e,t,r,i,o,a,s){if(this.ISGenerated||this.generateIS(e,t,o),this.ISGenerated){var l=e.samples.length,c=t.samples.length,f=o,d=o;if(l&&c){var h=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;f+=Math.max(0,h),d+=Math.max(0,-h)}if(l){e.timescale||(u.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,o));var p,v=this.remuxAudio(e,f,a,s);c&&(v&&(p=v.endPTS-v.startPTS),t.timescale||(u.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,o)),this.remuxVideo(t,d,a,p,s))}else if(c){var g=this.remuxVideo(t,d,a,0,s);g&&e.codec&&this.remuxEmptyAudio(e,f,a,g)}}r.samples.length&&this.remuxID3(r,o),i.samples.length&&this.remuxText(i,o),this.observer.trigger(n.default.FRAG_PARSED)},t.generateIS=function(e,t,r){var o,a,s=this.observer,l=e.samples,c=t.samples,f=this.typeSupported,d="audio/mp4",h={},p={tracks:h},v=void 0===this._initPTS;if(v&&(o=a=1/0),e.config&&l.length&&(e.timescale=e.samplerate,u.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(f.mpeg?(d="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),h.audio={container:d,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:I.initSegment([e]),metadata:{channelCount:e.channelCount}},v&&(o=a=l[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&c.length){var g=t.inputTimeScale;t.timescale=g,h.video={container:"video/mp4",codec:t.codec,initSegment:I.initSegment([t]),metadata:{width:t.width,height:t.height}},v&&(o=Math.min(o,c[0].pts-g*r),a=Math.min(a,c[0].dts-g*r),this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:o}))}Object.keys(h).length?(s.trigger(n.default.FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,v&&(this._initPTS=o,this._initDTS=a)):s.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.remuxVideo=function(e,t,r,o,a){var s,l,c,f,d,h,p,v=8,g=e.timescale,m=e.samples,y=[],b=m.length,E=this._PTSNormalize,w=this._initPTS,S=this.nextAvcDts,_=this.isSafari;if(0!==b){_&&(r|=m.length&&S&&(a&&Math.abs(t-S/g)<.1||Math.abs(m[0].pts-S-w)<g/5)),r||(S=t*g),m.forEach((function(e){e.pts=E(e.pts-w,S),e.dts=E(e.dts-w,S)})),m.sort((function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n||e.id-t.id}));var O=m.reduce((function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-1*U)}),0);if(O<0){u.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+j(O,!0)+" ms to overcome this issue");for(var T=0;T<m.length;T++)m[T].dts+=O}var A=m[0];d=Math.max(A.dts,0),f=Math.max(A.pts,0);var L=d-S;r&&L&&(L>1?u.logger.log("AVC: "+j(L,!0)+" ms hole between fragments detected,filling it"):L<-1&&u.logger.log("AVC: "+j(-L,!0)+" ms overlapping between fragments detected"),d=S,m[0].dts=d,f=Math.max(f-L,S),m[0].pts=f,u.logger.log("Video: PTS/DTS adjusted: "+j(f,!0)+"/"+j(d,!0)+", delta: "+j(L,!0)+" ms")),A=m[m.length-1],p=Math.max(A.dts,0),h=Math.max(A.pts,0,p),_&&(s=Math.round((p-d)/(m.length-1)));for(var x=0,P=0,R=0;R<b;R++){for(var k=m[R],D=k.units,C=D.length,F=0,M=0;M<C;M++)F+=D[M].data.length;P+=F,x+=C,k.length=F,k.dts=_?d+R*s:Math.max(k.dts,d),k.pts=Math.max(k.pts,k.dts)}var N=P+4*x+8;try{l=new Uint8Array(N)}catch(e){return void this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MUX_ERROR,details:i.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var B=new DataView(l.buffer);B.setUint32(0,N),l.set(I.types.mdat,4);for(var G=0;G<b;G++){for(var H=m[G],z=H.units,V=0,W=void 0,K=0,q=z.length;K<q;K++){var Y=z[K],X=Y.data,$=Y.data.byteLength;B.setUint32(v,$),v+=4,l.set(X,v),v+=$,V+=4+$}if(_)W=Math.max(0,s*Math.round((H.pts-H.dts)/s));else{if(G<b-1)s=m[G+1].dts-H.dts;else{var Q=this.config,J=H.dts-m[G>0?G-1:G].dts;if(Q.stretchShortVideoTrack){var Z=Q.maxBufferHole,ee=Math.floor(Z*g),te=(o?f+o*g:this.nextAudioPts)-H.pts;te>ee?((s=te-J)<0&&(s=J),u.logger.log("It is approximately "+j(te,!1)+" ms to the next segment; using duration "+j(s,!1)+" ms for the last video frame.")):s=J}else s=J}W=Math.round(H.pts-H.dts)}y.push({size:V,duration:s,cts:W,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:H.key?2:1,isNonSync:H.key?0:1}})}this.nextAvcDts=p+s;var re=e.dropped;if(e.nbNalu=0,e.dropped=0,y.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ne=y[0].flags;ne.dependsOn=2,ne.isNonSync=0}e.samples=y,c=I.moof(e.sequenceNumber++,d,e),e.samples=[];var ie={data1:c,data2:l,startPTS:f/g,endPTS:(h+s)/g,startDTS:d/g,endDTS:this.nextAvcDts/g,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:re};return this.observer.trigger(n.default.FRAG_PARSING_DATA,ie),ie}},t.remuxAudio=function(e,t,r,o){var a,s,l,c,f,d,h=e.inputTimeScale,p=e.timescale,v=h/p,g=(e.isAAC?1024:1152)*v,m=this._PTSNormalize,y=this._initPTS,b=!e.isAAC&&this.typeSupported.mpeg,E=b?0:8,w=e.samples,S=[],_=this.nextAudioPts;if(r|=w.length&&_&&(o&&Math.abs(t-_/h)<.1||Math.abs(w[0].pts-_-y)<20*g),w.forEach((function(e){e.pts=e.dts=m(e.pts-y,t*h)})),0!==(w=w.filter((function(e){return e.pts>=0}))).length){if(r||(_=o?t*h:w[0].pts),e.isAAC)for(var O=this.config.maxAudioFramesDrift,T=0,A=_;T<w.length;){var L,x=w[T];if((L=x.pts-A)<=-O*g)u.logger.warn("Dropping 1 audio frame @ "+j(A,!0)+" ms due to "+j(L,!0)+" ms overlap."),w.splice(T,1);else if(L>=O*g&&L<B&&A){var P=Math.round(L/g);u.logger.warn("Injecting "+P+" audio frames @ "+j(A,!0)+" ms due to "+j(A,!0)+" ms gap.");for(var R=0;R<P;R++){var D=Math.max(A,0);(s=k.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(u.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),s=x.unit.subarray()),w.splice(T,0,{unit:s,pts:D,dts:D}),A+=g,T++}x.pts=x.dts=A,A+=g,T++}else Math.abs(L),x.pts=x.dts=A,A+=g,T++}for(var C=w.length,F=0;C--;)F+=w[C].unit.byteLength;for(var M=0,N=w.length;M<N;M++){var U=w[M],G=U.unit,H=U.pts;if(void 0!==d)a.duration=Math.round((H-d)/v);else{var z=H-_,V=0;if(r&&e.isAAC&&z){if(z>0&&z<B)V=Math.round((H-_)/g),u.logger.log(j(z,!0)+" ms hole between AAC samples detected,filling it"),V>0&&((s=k.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s=G.subarray()),F+=V*s.length);else if(z<-12){u.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+j(_,!0)+" ms / "+j(H,!0)+" ms / "+j(-z,!0)+" ms"),F-=G.byteLength;continue}H=_}if(f=H,!(F>0))return;F+=E;try{l=new Uint8Array(F)}catch(e){return void this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MUX_ERROR,details:i.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating audio mdat "+F})}b||(new DataView(l.buffer).setUint32(0,F),l.set(I.types.mdat,4));for(var W=0;W<V;W++)(s=k.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(u.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),s=G.subarray()),l.set(s,E),E+=s.byteLength,a={size:s.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(a)}l.set(G,E);var K=G.byteLength;E+=K,a={size:K,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(a),d=H}var q=0;if((C=S.length)>=2&&(q=S[C-2].duration,a.duration=q),C){this.nextAudioPts=_=d+v*q,e.samples=S,c=b?new Uint8Array:I.moof(e.sequenceNumber++,f/v,e),e.samples=[];var Y=f/h,X=_/h,$={data1:c,data2:l,startPTS:Y,endPTS:X,startDTS:Y,endDTS:X,type:"audio",hasAudio:!0,hasVideo:!1,nb:C};return this.observer.trigger(n.default.FRAG_PARSING_DATA,$),$}return null}},t.remuxEmptyAudio=function(e,t,r,n){var i=e.inputTimeScale,o=i/(e.samplerate?e.samplerate:i),a=this.nextAudioPts,s=(void 0!==a?a:n.startDTS*i)+this._initDTS,l=n.endDTS*i+this._initDTS,c=1024*o,f=Math.ceil((l-s)/c),d=k.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(u.logger.warn("remux empty Audio"),d){for(var h=[],p=0;p<f;p++){var v=s+p*c;h.push({unit:d,pts:v,dts:v})}e.samples=h,this.remuxAudio(e,t,r)}else u.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.remuxID3=function(e){var t,r=e.samples.length,i=e.inputTimeScale,o=this._initPTS,a=this._initDTS;if(r){for(var s=0;s<r;s++)(t=e.samples[s]).pts=(t.pts-o)/i,t.dts=(t.dts-a)/i;this.observer.trigger(n.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},t.remuxText=function(e){e.samples.sort((function(e,t){return e.pts-t.pts}));var t,r=e.samples.length,i=e.inputTimeScale,o=this._initPTS;if(r){for(var a=0;a<r;a++)(t=e.samples[a]).pts=(t.pts-o)/i;this.observer.trigger(n.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},t._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e},e}(),H=function(){function e(e){this.observer=e}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.remux=function(e,t,r,i,o,a,s,u){var l=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),l.trigger(n.default.FRAG_PARSING_DATA,{data1:u,startPTS:o,startDTS:o,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),l.trigger(n.default.FRAG_PARSED)},e}(),z=Object(l.getSelfScope)();try{N=z.performance.now.bind(z.performance)}catch(e){u.logger.debug("Unable to use Performance API on this environment"),N=z.Date.now}var V=function(){function e(e,t,r,n){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=n}var t=e.prototype;return t.destroy=function(){var e=this.demuxer;e&&e.destroy()},t.push=function(e,t,r,i,o,a,s,u,l,c,d,h){var p=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var v=this.decrypter;null==v&&(v=this.decrypter=new f(this.observer,this.config));var g=N();v.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var f=N();p.observer.trigger(n.default.FRAG_DECRYPTED,{stats:{tstart:g,tdecrypt:f}}),p.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,o,a,s,u,l,c,d,h)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,o,a,s,u,l,c,d,h)},t.pushDecrypted=function(e,t,r,o,a,s,u,l,c,f,d,h){var p=this.demuxer;if(!p||(u||l)&&!this.probe(e)){for(var v=this.observer,g=this.typeSupported,m=this.config,y=[{demux:P,remux:G},{demux:_.default,remux:H},{demux:S,remux:G},{demux:R,remux:G}],b=0,E=y.length;b<E;b++){var w=y[b],O=w.demux.probe;if(O(e)){var T=this.remuxer=new w.remux(v,m,g,this.vendor);p=new w.demux(v,T,m,g),this.probe=O;break}}if(!p)return void v.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=p}var A=this.remuxer;(u||l)&&(p.resetInitSegment(r,o,a,f),A.resetInitSegment()),u&&(p.resetTimeStamp(h),A.resetTimeStamp(h)),"function"==typeof p.setDecryptData&&p.setDecryptData(t),p.append(e,s,c,d)},e}();t.default=V},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/demux/demuxer.js (referenced with require.resolve) */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),i=r(/*! ../events */"./src/events.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),a=r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js");t.default=function(e){var t=new a.EventEmitter;t.trigger=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(n))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",(function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.demuxer=new n.default(t,a.typeSupported,s,a.vendor),Object(o.enableLogs)(s.debug),r("init",null);break;case"demux":e.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),t.on(i.default.FRAG_DECRYPTED,r),t.on(i.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(i.default.FRAG_PARSED,r),t.on(i.default.ERROR,r),t.on(i.default.FRAG_PARSING_METADATA,r),t.on(i.default.FRAG_PARSING_USERDATA,r),t.on(i.default.INIT_PTS_FOUND,r),t.on(i.default.FRAG_PARSING_DATA,(function(t,r){var n=[],i={event:t,data:r};r.data1&&(i.data1=r.data1.buffer,n.push(r.data1.buffer),delete r.data1),r.data2&&(i.data2=r.data2.buffer,n.push(r.data2.buffer),delete r.data2),e.postMessage(i,n)}))}},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! exports provided: default, utf8ArrayToStr */function(e,t,r){"use strict";r.r(t),r.d(t,"utf8ArrayToStr",(function(){return s}));var n,i=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),o=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var n=r,i=0;e.isHeader(t,r);)i+=10,i+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(i+=10),r+=i;if(i>0)return t.subarray(n,n+i)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),n=0;n<r.length;n++){var i=r[n];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),n=e._readSize(t,4);return{type:r,size:n,data:t.subarray(10,10+n)}},e.getID3Frames=function(t){for(var r=0,n=[];e.isHeader(t,r);){for(var i=e._readSize(t,r+6),o=(r+=10)+i;r+8<o;){var a=e._getFrameData(t.subarray(r)),s=e._decodeFrame(a);s&&n.push(s),r+=a.size+10}e.isFooter(t,r)&&(r+=10)}return n},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:n.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,n=e._utf8ArrayToStr(t.data.subarray(r),!0);r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var o=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:o}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,n=e._utf8ArrayToStr(t.data.subarray(r));r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var o=e._utf8ArrayToStr(t.data);return{key:t.type,data:o}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);var r=a();if(r){var n=r.decode(e);if(t){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}for(var o,s,u,l=e.length,c="",f=0;f<l;){if(0===(o=e[f++])&&t)return c;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(o);break;case 12:case 13:s=e[f++],c+=String.fromCharCode((31&o)<<6|63&s);break;case 14:s=e[f++],u=e[f++],c+=String.fromCharCode((15&o)<<12|(63&s)<<6|(63&u)<<0)}}return c},e}();function a(){var e=Object(i.getSelfScope)();return n||void 0===e.TextDecoder||(n=new e.TextDecoder("utf-8")),n}var s=o._utf8ArrayToStr;t.default=o},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=r(/*! ../events */"./src/events.js"),o=Math.pow(2,32)-1,a=function(){function e(e,t){this.observer=e,this.remuxer=t}var t=e.prototype;return t.resetTimeStamp=function(e){this.initPTS=e},t.resetInitSegment=function(t,r,n,o){if(t&&t.byteLength){var a=this.initData=e.parseInitSegment(t);null==r&&(r="mp4a.40.5"),null==n&&(n="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:o?t:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:o?t:null}),a.video&&(s.video={container:"video/mp4",codec:n,initSegment:o?t:null})),this.observer.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),n&&(this.videoCodec=n)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var n,i,o,a,s,u,l=[];if(t.data?(s=t.start,o=t.end,t=t.data):(s=0,o=t.byteLength),!r.length)return null;for(n=s;n<o;)u=(i=e.readUint32(t,n))>1?n+i:o,e.bin2str(t.subarray(n+4,n+8))===r[0]&&(1===r.length?l.push({data:t,start:n+8,end:u}):(a=e.findBox({data:t,start:n+8,end:u},r.slice(1))).length&&(l=l.concat(a))),n=u;return l},e.parseSegmentIndex=function(t){var r,n=e.findBox(t,["moov"])[0],i=n?n.end:null,o=0,a=e.findBox(t,["sidx"]);if(!a||!a[0])return null;r=[];var s=(a=a[0]).data[0];o=0===s?8:16;var u=e.readUint32(a,o);o+=4,o+=0===s?8:16,o+=2;var l=a.end+0,c=e.readUint16(a,o);o+=2;for(var f=0;f<c;f++){var d=o,h=e.readUint32(a,d);d+=4;var p=2147483647&h;if(1==(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var v=e.readUint32(a,d);d+=4,r.push({referenceSize:p,subsegmentDuration:v,info:{duration:v/u,start:l,end:l+p-1}}),l+=p,o=d+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:c,references:r,moovEndOffset:i}},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var o=i.data[i.start],a=0===o?12:20,s=e.readUint32(i,a),u=e.findBox(t,["mdia","mdhd"])[0];if(u){a=0===(o=u.data[u.start])?12:20;var l=e.readUint32(u,a),c=e.findBox(t,["mdia","hdlr"])[0];if(c){var f={soun:"audio",vide:"video"}[e.bin2str(c.data.subarray(c.start+8,c.start+12))];if(f){var d=e.findBox(t,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var h=e.bin2str(d.data.subarray(d.start+12,d.start+16));n.logger.log("MP4Demuxer:"+f+":"+h+" found")}r[s]={timescale:l,type:f},r[f]={timescale:l,id:s}}}}}})),r},e.getStartDTS=function(t,r){var n,i,o;return n=e.findBox(r,["moof","traf"]),i=[].concat.apply([],n.map((function(r){return e.findBox(r,["tfhd"]).map((function(n){var i,o;return i=e.readUint32(n,4),o=t[i].timescale||9e4,e.findBox(r,["tfdt"]).map((function(t){var r,n;return r=t.data[t.start],n=e.readUint32(t,4),1===r&&(n*=Math.pow(2,32),n+=e.readUint32(t,8)),n}))[0]/o}))}))),o=Math.min.apply(null,i),isFinite(o)?o:0},e.offsetStartDTS=function(t,r,n){e.findBox(r,["moof","traf"]).map((function(r){return e.findBox(r,["tfhd"]).map((function(i){var a=e.readUint32(i,4),s=t[a].timescale||9e4;e.findBox(r,["tfdt"]).map((function(t){var r=t.data[t.start],i=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,i-n*s);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=n*s,i=Math.max(i,0);var a=Math.floor(i/(o+1)),u=Math.floor(i%(o+1));e.writeUint32(t,4,a),e.writeUint32(t,8,u)}}))}))}))},t.append=function(t,r,n,o){var a=this.initData;a||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,u=this.initPTS;if(void 0===u){var l=e.getStartDTS(a,t);this.initPTS=u=l-r,this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:u})}e.offsetStartDTS(a,t,u),s=e.getStartDTS(a,t),this.remuxer.remux(a.audio,a.video,null,null,s,n,o,t)},t.destroy=function(){},e}();t.default=a},"./src/empty.js":
/*!**********************!*\
  !*** ./src/empty.js ***!
  \**********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=void 0},"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/*! exports provided: ErrorTypes, ErrorDetails */function(e,t,r){"use strict";var n,i;r.r(t),r.d(t,"ErrorTypes",(function(){return n})),r.d(t,"ErrorDetails",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(n||(n={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException"}(i||(i={}))},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},"./src/hls.ts":
/*!*********************************!*\
  !*** ./src/hls.ts + 38 modules ***!
  \*********************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/demuxer-inline.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number-isFinite.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/eventemitter3/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/url-toolkit/src/url-toolkit.js (<- Module is not an ECMAScript module) */function(e,t,r){"use strict";r.r(t);var n,i,o=r("./node_modules/url-toolkit/src/url-toolkit.js"),a=r("./src/errors.ts"),s=r("./src/polyfills/number-isFinite.js"),u=r("./src/events.js"),l=r("./src/utils/logger.js"),c={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},f=function(){function e(e){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=e,this.onEvent=this.onEvent.bind(this);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){},t.onHandlerDestroyed=function(){},t.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},t.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if(c[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)}),this)},t.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)},t.onEvent=function(e,t){this.onEventGeneric(e,t)},t.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){l.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();!function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(n||(n={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}));var d=r("./src/demux/mp4demuxer.js");function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p,v=function(){function e(e,t){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=e,this.reluri=t}var t,r,n;return t=e,(r=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(o.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&h(t.prototype,r),n&&h(t,n),e}();function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(e){e.AUDIO="audio",e.VIDEO="video"}(p||(p={}));var m=function(){function e(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((e={})[p.AUDIO]=!1,e[p.VIDEO]=!1,e),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var t,r,n,i=e.prototype;return i.setByteRange=function(e,t){var r=e.split("@",2),n=[];1===r.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},i.addElementaryStream=function(e){this._elementaryStreams[e]=!0},i.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},i.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},i.setDecryptDataFromLevelKey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new v(e.baseuri,e.reluri)).method=e.method,r.iv=this.createInitializationVector(t)),r},t=e,(r=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&l.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(s.isFiniteNumber)(this.programDateTime))return null;var e=Object(s.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&g(t.prototype,r),n&&g(t,n),e}();function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=function(){function e(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}var t,r,n;return t=e,(r=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(s.isFiniteNumber)(this.fragments[0].programDateTime))}}])&&y(t.prototype,r),n&&y(t,n),e}(),E=/^(\d+)x(\d+)$/,w=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,S=function(){function e(t){for(var r in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&(this[r]=t[r])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.enumeratedString=function(e){return this[e]},t.decimalResolution=function(e){var t=E.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={};for(w.lastIndex=0;null!==(t=w.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r},e}(),_={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function O(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}var T=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,A=/#EXT-X-MEDIA:(.*)/g,L=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),x=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,P=/\.(mp4|m4s|m4v|m4a)$/i,R=function(){function e(){}return e.findGroup=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.id===t)return n}},e.convertAVC1ToAVCOTI=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},e.resolve=function(e,t){return o.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,r){var n,i=[];function o(e,t){["video","audio"].forEach((function(r){var n=e.filter((function(e){return function(e,t){var r=_[t];return!!r&&!0===r[e.slice(0,4)]}(e,r)}));if(n.length){var i=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[r+"Codec"]=i.length>0?i[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}for(T.lastIndex=0;null!=(n=T.exec(t));){var a={},s=a.attrs=new S(n[1]);a.url=e.resolve(n[2],r);var u=s.decimalResolution("RESOLUTION");u&&(a.width=u.width,a.height=u.height),a.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),a.name=s.NAME,o([].concat((s.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=e.convertAVC1ToAVCOTI(a.videoCodec)),i.push(a)}return i},e.parseMasterPlaylistMedia=function(t,r,n,i){var o;void 0===i&&(i=[]);var a=[],s=0;for(A.lastIndex=0;null!==(o=A.exec(t));){var u=new S(o[1]);if(u.TYPE===n){var l={id:s++,groupId:u["GROUP-ID"],name:u.NAME||u.LANGUAGE,type:n,default:"YES"===u.DEFAULT,autoselect:"YES"===u.AUTOSELECT,forced:"YES"===u.FORCED,lang:u.LANGUAGE};if(u.URI&&(l.url=e.resolve(u.URI,r)),i.length){var c=e.findGroup(i,l.groupId);l.audioCodec=c?c.codec:i[0].codec}a.push(l)}}return a},e.parseLevelPlaylist=function(e,t,r,n,i){var o,a,u,c=0,f=0,d=new b(t),h=0,p=null,g=new m,y=null;for(L.lastIndex=0;null!==(o=L.exec(e));){var E=o[1];if(E){g.duration=parseFloat(E);var w=(" "+o[2]).slice(1);g.title=w||null,g.tagList.push(w?["INF",E,w]:["INF",E])}else if(o[3]){if(Object(s.isFiniteNumber)(g.duration)){var _=c++;g.type=n,g.start=f,u&&(g.levelkey=u),g.sn=_,g.level=r,g.cc=h,g.urlId=i,g.baseurl=t,g.relurl=(" "+o[3]).slice(1),k(g,p),d.fragments.push(g),p=g,f+=g.duration,g=new m}}else if(o[4]){var O=(" "+o[4]).slice(1);p?g.setByteRange(O,p):g.setByteRange(O)}else if(o[5])g.rawProgramDateTime=(" "+o[5]).slice(1),g.tagList.push(["PROGRAM-DATE-TIME",g.rawProgramDateTime]),null===y&&(y=d.fragments.length);else{if(!(o=o[0].match(x))){l.logger.warn("No matches on slow regex match for level playlist!");continue}for(a=1;a<o.length&&void 0===o[a];a++);var T=(" "+o[a+1]).slice(1),A=(" "+o[a+2]).slice(1);switch(o[a]){case"#":g.tagList.push(A?[T,A]:[T]);break;case"PLAYLIST-TYPE":d.type=T.toUpperCase();break;case"MEDIA-SEQUENCE":c=d.startSN=parseInt(T);break;case"TARGETDURATION":d.targetduration=parseFloat(T);break;case"VERSION":d.version=parseInt(T);break;case"EXTM3U":break;case"ENDLIST":d.live=!1;break;case"DIS":h++,g.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":h=parseInt(T);break;case"KEY":var R=new S(T),D=R.enumeratedString("METHOD"),I=R.URI,C=R.hexadecimalInteger("IV");D&&(u=new v(t,I),I&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(D)>=0&&(u.method=D,u.key=null,u.iv=C));break;case"START":var F=new S(T).decimalFloatingPoint("TIME-OFFSET");Object(s.isFiniteNumber)(F)&&(d.startTimeOffset=F);break;case"MAP":var j=new S(T);g.relurl=j.URI,j.BYTERANGE&&g.setByteRange(j.BYTERANGE),g.baseurl=t,g.level=r,g.type=n,g.sn="initSegment",d.initSegment=g,(g=new m).rawProgramDateTime=d.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+o)}}}return(g=p)&&!g.relurl&&(d.fragments.pop(),f-=g.duration),d.totalduration=f,d.averagetargetduration=f/d.fragments.length,d.endSN=c-1,d.startCC=d.fragments[0]?d.fragments[0].cc:0,d.endCC=h,!d.initSegment&&d.fragments.length&&d.fragments.every((function(e){return P.test(e.relurl)}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(g=new m).relurl=d.fragments[0].relurl,g.baseurl=t,g.level=r,g.type=n,g.sn="initSegment",d.initSegment=g,d.needSidxRanges=!0),y&&function(e,t){for(var r=e[t],n=t-1;n>=0;n--){var i=e[n];i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(d.fragments,y),d},e}();function k(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(s.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}var D=window.performance,I=function(e){var t,r;function o(t){var r;return(r=e.call(this,t,u.default.MANIFEST_LOADING,u.default.LEVEL_LOADING,u.default.AUDIO_TRACK_LOADING,u.default.SUBTITLE_TRACK_LOADING)||this).loaders={},r}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.canHaveQualityLevels=function(e){return e!==n.AUDIO_TRACK&&e!==n.SUBTITLE_TRACK},o.mapContextToLevelType=function(e){switch(e.type){case n.AUDIO_TRACK:return i.AUDIO;case n.SUBTITLE_TRACK:return i.SUBTITLE;default:return i.MAIN}},o.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r};var c=o.prototype;return c.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=new(r||n)(t);return e.loader=i,this.loaders[e.type]=i,i},c.getInternalLoader=function(e){return this.loaders[e.type]},c.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},c.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},c.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},c.onManifestLoading=function(e){this.load({url:e.url,type:n.MANIFEST,level:0,id:null,responseType:"text"})},c.onLevelLoading=function(e){this.load({url:e.url,type:n.LEVEL,level:e.level,id:e.id,responseType:"text"})},c.onAudioTrackLoading=function(e){this.load({url:e.url,type:n.AUDIO_TRACK,level:null,id:e.id,responseType:"text"})},c.onSubtitleTrackLoading=function(e){this.load({url:e.url,type:n.SUBTITLE_TRACK,level:null,id:e.id,responseType:"text"})},c.load=function(e){var t=this.hls.config;l.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var r,i,o,a,s=this.getInternalLoader(e);if(s){var u=s.context;if(u&&u.url===e.url)return l.logger.trace("playlist request ongoing"),!1;l.logger.warn("aborting previous loader for type: "+e.type),s.abort()}switch(e.type){case n.MANIFEST:r=t.manifestLoadingMaxRetry,i=t.manifestLoadingTimeOut,o=t.manifestLoadingRetryDelay,a=t.manifestLoadingMaxRetryTimeout;break;case n.LEVEL:r=0,a=0,o=0,i=t.levelLoadingTimeOut;break;default:r=t.levelLoadingMaxRetry,i=t.levelLoadingTimeOut,o=t.levelLoadingRetryDelay,a=t.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(e);var c={timeout:i,maxRetry:r,retryDelay:o,maxRetryDelay:a},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return l.logger.debug("Calling internal loader delegate for URL: "+e.url),s.load(e,c,f),!0},c.loadsuccess=function(e,t,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,n);if(this.resetInternalLoader(r.type),"string"!=typeof e.data)throw new Error('expected responseType of "text" for PlaylistLoader');var i=e.data;t.tload=D.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,r,n):this._handleMasterPlaylist(e,t,r,n):this._handleManifestParsingError(e,r,"no EXTM3U delimiter",n)},c.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},c.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},c._handleMasterPlaylist=function(e,t,r,n){var i=this.hls,a=e.data,s=o.getResponseUrl(e,r),c=R.parseMasterPlaylist(a,s);if(c.length){var f=c.map((function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}})),d=R.parseMasterPlaylistMedia(a,s,"AUDIO",f),h=R.parseMasterPlaylistMedia(a,s,"SUBTITLES");if(d.length){var p=!1;d.forEach((function(e){e.url||(p=!0)})),!1===p&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(l.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),d.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1}))}i.trigger(u.default.MANIFEST_LOADED,{levels:c,audioTracks:d,subtitles:h,url:s,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,r,"no level found in manifest",n)},c._handleTrackOrLevelPlaylist=function(e,t,r,i){var a=this.hls,l=r.id,c=r.level,f=r.type,d=o.getResponseUrl(e,r),h=Object(s.isFiniteNumber)(l)?l:0,p=Object(s.isFiniteNumber)(c)?c:h,v=o.mapContextToLevelType(r),g=R.parseLevelPlaylist(e.data,d,p,v,h);if(g.tload=t.tload,f===n.MANIFEST){var m={url:d,details:g};a.trigger(u.default.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:d,stats:t,networkDetails:i})}if(t.tparsed=D.now(),g.needSidxRanges){var y=g.initSegment.url;this.load({url:y,isSidxRequest:!0,type:f,level:c,levelDetails:g,id:l,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=g,this._handlePlaylistLoaded(e,t,r,i)},c._handleSidxRequest=function(e,t){if("string"==typeof e.data)throw new Error("sidx request must be made with responseType of array buffer");var r=d.default.parseSegmentIndex(new Uint8Array(e.data));if(r){var n=r.references,i=t.levelDetails;n.forEach((function(e,t){var r=e.info;if(i){var n=i.fragments[t];0===n.byteRange.length&&n.setByteRange(String(1+r.end-r.start)+"@"+String(r.start))}})),i&&i.initSegment.setByteRange(String(r.moovEndOffset)+"@0")}},c._handleManifestParsingError=function(e,t,r,n){this.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:n})},c._handleNetworkError=function(e,t,r,i){var o,s;void 0===r&&(r=!1),void 0===i&&(i=null),l.logger.info("A network error occured while loading a "+e.type+"-type playlist");var c=this.getInternalLoader(e);switch(e.type){case n.MANIFEST:o=r?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,s=!0;break;case n.LEVEL:o=r?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,s=!1;break;case n.AUDIO_TRACK:o=r?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,s=!1;break;default:s=!1}c&&(c.abort(),this.resetInternalLoader(e.type));var f={type:a.ErrorTypes.NETWORK_ERROR,details:o,fatal:s,url:e.url,loader:c,context:e,networkDetails:t};i&&(f.response=i),this.hls.trigger(u.default.ERROR,f)},c._handlePlaylistLoaded=function(e,t,r,i){var a=r.type,s=r.level,l=r.id,c=r.levelDetails;if(c&&c.targetduration)if(o.canHaveQualityLevels(r.type))this.hls.trigger(u.default.LEVEL_LOADED,{details:c,level:s||0,id:l||0,stats:t,networkDetails:i});else switch(a){case n.AUDIO_TRACK:this.hls.trigger(u.default.AUDIO_TRACK_LOADED,{details:c,id:l,stats:t,networkDetails:i});break;case n.SUBTITLE_TRACK:this.hls.trigger(u.default.SUBTITLE_TRACK_LOADED,{details:c,id:l,stats:t,networkDetails:i})}else this._handleManifestParsingError(e,r,"invalid target duration",i)},o}(f),C=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.FRAG_LOADING)||this).loaders={},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){var t=this.loaders;for(var r in t){var n=t[r];n&&n.destroy()}this.loaders={},e.prototype.destroy.call(this)},i.onFragLoading=function(e){var t=e.frag,r=t.type,n=this.loaders,i=this.hls.config,o=i.fLoader,a=i.loader;t.loaded=0;var u,c,f,d=n[r];d&&(l.logger.warn("abort previous fragment loader for type: "+r),d.abort()),d=n[r]=t.loader=i.fLoader?new o(i):new a(i),u={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var h=t.byteRangeStartOffset,p=t.byteRangeEndOffset;Object(s.isFiniteNumber)(h)&&Object(s.isFiniteNumber)(p)&&(u.rangeStart=h,u.rangeEnd=p),c={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},d.load(u,c,f)},i.loadsuccess=function(e,t,r,n){void 0===n&&(n=null);var i=e.data,o=r.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(u.default.FRAG_LOADED,{payload:i,frag:o,stats:t,networkDetails:n})},i.loaderror=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},i.loadtimeout=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},i.loadprogress=function(e,t,r,n){void 0===n&&(n=null);var i=t.frag;i.loaded=e.loaded,this.hls.trigger(u.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:n})},n}(f),F=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.KEY_LOADING)||this).loaders={},r.decryptkey=null,r.decrypturl=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){for(var t in this.loaders){var r=this.loaders[t];r&&r.destroy()}this.loaders={},e.prototype.destroy.call(this)},i.onKeyLoading=function(e){var t=e.frag,r=t.type,n=this.loaders[r];if(t.decryptdata){var i=t.decryptdata.uri;if(i!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;if(n&&(l.logger.warn("abort previous key loader for type:"+r),n.abort()),!i)return void l.logger.warn("key uri is falsy");t.loader=this.loaders[r]=new o.loader(o),this.decrypturl=i,this.decryptkey=null;var a={url:i,frag:t,responseType:"arraybuffer"},s={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};t.loader.load(a,s,c)}else this.decryptkey&&(t.decryptdata.key=this.decryptkey,this.hls.trigger(u.default.KEY_LOADED,{frag:t}))}else l.logger.warn("Missing decryption data on fragment in onKeyLoading")},i.loadsuccess=function(e,t,r){var n=r.frag;n.decryptdata?(this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,delete this.loaders[n.type],this.hls.trigger(u.default.KEY_LOADED,{frag:n})):l.logger.error("after key load, decryptdata unset")},i.loaderror=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},i.loadtimeout=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},n}(f),j="NOT_LOADED",M="APPENDING",N="PARTIAL",B="OK",U=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.BUFFER_APPENDED,u.default.FRAG_BUFFERED,u.default.FRAG_LOADED)||this).bufferPadding=.2,r.fragments=Object.create(null),r.timeRanges=Object.create(null),r.config=t.config,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,f.prototype.destroy.call(this),e.prototype.destroy.call(this)},i.getBufferedFrag=function(e,t){var r=this.fragments,n=Object.keys(r).filter((function(n){var i=r[n];if(i.body.type!==t)return!1;if(!i.buffered)return!1;var o=i.body;return o.startPTS<=e&&e<=o.endPTS}));if(0===n.length)return null;var i=n.pop();return r[i].body},i.detectEvictedFragments=function(e,t){var r,n,i=this;Object.keys(this.fragments).forEach((function(o){var a=i.fragments[o];if(!0===a.buffered){var s=a.range[e];if(s){r=s.time;for(var u=0;u<r.length;u++)if(n=r[u],!1===i.isTimeBuffered(n.startPTS,n.endPTS,t)){i.removeFragment(a.body);break}}}}))},i.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),n=this.fragments[r];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach((function(r){if(e.hasElementaryStream(r)){var i=t.timeRanges[r];n.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,i)}})))},i.getBufferedTimes=function(e,t,r){for(var n,i,o=[],a=!1,s=0;s<r.length;s++){if(n=r.start(s)-this.bufferPadding,i=r.end(s)+this.bufferPadding,e>=n&&t<=i){o.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))});break}if(e<i&&t>n)o.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))}),a=!0;else if(t<=n)break}return{time:o,partial:a}},i.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},i.getPartialFragment=function(e){var t,r,n,i=this,o=null,a=0;return Object.keys(this.fragments).forEach((function(s){var u=i.fragments[s];i.isPartial(u)&&(r=u.body.startPTS-i.bufferPadding,n=u.body.endPTS+i.bufferPadding,e>=r&&e<=n&&(t=Math.min(e-r,n-e),a<=t&&(o=u.body,a=t)))})),o},i.getState=function(e){var t=this.getFragmentKey(e),r=this.fragments[t],n=j;return void 0!==r&&(n=r.buffered?!0===this.isPartial(r)?N:B:M),n},i.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},i.isTimeBuffered=function(e,t,r){for(var n,i,o=0;o<r.length;o++){if(n=r.start(o)-this.bufferPadding,i=r.end(o)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},i.onFragLoaded=function(e){var t=e.frag;Object(s.isFiniteNumber)(t.sn)&&!t.bitrateTest&&(this.fragments[this.getFragmentKey(t)]={body:t,range:Object.create(null),buffered:!1})},i.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach((function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)}))},i.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},i.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},i.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},i.removeAllFragments=function(){this.fragments=Object.create(null)},n}(f),G={search:function(e,t){for(var r=0,n=e.length-1,i=null,o=null;r<=n;){var a=t(o=e[i=(r+n)/2|0]);if(a>0)r=i+1;else{if(!(a<0))return o;n=i-1}}return null}},H=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,n=0;n<r.length;n++)if(t>=r.start(n)&&t<=r.end(n))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,r){try{if(e){var n,i=e.buffered,o=[];for(n=0;n<i.length;n++)o.push({start:i.start(n),end:i.end(n)});return this.bufferedInfo(o,t,r)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,r){e.sort((function(e,t){var r=e.start-t.start;return r||t.end-e.end}));var n=[];if(r)for(var i=0;i<e.length;i++){var o=n.length;if(o){var a=n[o-1].end;e[i].start-a<r?e[i].end>a&&(n[o-1].end=e[i].end):n.push(e[i])}else n.push(e[i])}else n=e;for(var s,u=0,l=t,c=t,f=0;f<n.length;f++){var d=n[f].start,h=n[f].end;if(t+r>=d&&t<h)l=d,u=(c=h)-t;else if(t+r<d){s=d;break}}return{len:u,start:l,end:c,nextStart:s}},e}(),z=r("./node_modules/eventemitter3/index.js"),V=r("./node_modules/webworkify-webpack/index.js"),W=r("./src/demux/demuxer-inline.js");function K(){return window.MediaSource||window.WebKitMediaSource}var q=r("./src/utils/get-self-scope.js"),Y=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.trigger=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.emit.apply(this,[e,e].concat(r))},n}(z.EventEmitter),X=Object(q.getSelfScope)(),$=K()||{isTypeSupported:function(){return!1}},Q=function(){function e(e,t){var r=this;this.hls=e,this.id=t;var n=this.observer=new Y,i=e.config,o=function(t,n){(n=n||{}).frag=r.frag,n.id=r.id,e.trigger(t,n)};n.on(u.default.FRAG_DECRYPTED,o),n.on(u.default.FRAG_PARSING_INIT_SEGMENT,o),n.on(u.default.FRAG_PARSING_DATA,o),n.on(u.default.FRAG_PARSED,o),n.on(u.default.ERROR,o),n.on(u.default.FRAG_PARSING_METADATA,o),n.on(u.default.FRAG_PARSING_USERDATA,o),n.on(u.default.INIT_PTS_FOUND,o);var s={mp4:$.isTypeSupported("video/mp4"),mpeg:$.isTypeSupported("audio/mpeg"),mp3:$.isTypeSupported('audio/mp4; codecs="mp3"')},c=navigator.vendor;if(i.enableWorker&&"undefined"!=typeof Worker){var f;l.logger.log("demuxing in webworker");try{f=this.w=V(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),f.addEventListener("message",this.onwmsg),f.onerror=function(t){e.trigger(u.default.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},f.postMessage({cmd:"init",typeSupported:s,vendor:c,id:t,config:JSON.stringify(i)})}catch(e){l.logger.warn("Error in worker:",e),l.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),f&&X.URL.revokeObjectURL(f.objectURL),this.demuxer=new W.default(n,s,i,c),this.w=void 0}}else this.demuxer=new W.default(n,s,i,c)}var t=e.prototype;return t.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.push=function(e,t,r,n,i,o,a,u){var c=this.w,f=Object(s.isFiniteNumber)(i.startPTS)?i.startPTS:i.start,d=i.decryptdata,h=this.frag,p=!(h&&i.cc===h.cc),v=!(h&&i.level===h.level),g=h&&i.sn===h.sn+1,m=!v&&g;if(p&&l.logger.log(this.id+":discontinuity detected"),v&&l.logger.log(this.id+":switch detected"),this.frag=i,c)c.postMessage({cmd:"demux",data:e,decryptdata:d,initSegment:t,audioCodec:r,videoCodec:n,timeOffset:f,discontinuity:p,trackSwitch:v,contiguous:m,duration:o,accurateTimeOffset:a,defaultInitPTS:u},e instanceof ArrayBuffer?[e]:[]);else{var y=this.demuxer;y&&y.push(e,d,t,r,n,f,p,v,m,o,a,u)}},t.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":X.URL.revokeObjectURL(this.w.objectURL);break;case u.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},e}();function J(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}}function Z(e,t,r){var n=e[t],i=e[r],o=i.startPTS;Object(s.isFiniteNumber)(o)?r>t?(n.duration=o-n.start,n.duration<0&&l.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(i.duration=n.start-o,i.duration<0&&l.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):i.start=r>t?n.start+n.duration:Math.max(n.start-i.duration,0)}function ee(e,t,r,n,i,o){var a=r;if(Object(s.isFiniteNumber)(t.startPTS)){var u=Math.abs(t.startPTS-r);Object(s.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(u,t.deltaPTS):t.deltaPTS=u,a=Math.max(r,t.startPTS),r=Math.min(r,t.startPTS),n=Math.max(n,t.endPTS),i=Math.min(i,t.startDTS),o=Math.max(o,t.endDTS)}var l=r-t.start;t.start=t.startPTS=r,t.maxStartPTS=a,t.endPTS=n,t.startDTS=i,t.endDTS=o,t.duration=n-r;var c,f,d,h=t.sn;if(!e||h<e.startSN||h>e.endSN)return 0;for(c=h-e.startSN,(f=e.fragments)[c]=t,d=c;d>0;d--)Z(f,d,d-1);for(d=c;d<f.length-1;d++)Z(f,d,d+1);return e.PTSKnown=!0,l}function te(e,t,r){if(e&&t)for(var n=Math.max(e.startSN,t.startSN)-t.startSN,i=Math.min(e.endSN,t.endSN)-t.startSN,o=t.startSN-e.startSN,a=n;a<=i;a++){var s=e.fragments[o+a],u=t.fragments[a];if(!s||!u)break;r(s,u,a)}}var re={toString:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}};function ne(e,t){t.fragments.forEach((function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}})),t.PTSKnown=!0}function ie(e,t,r){!function(e,t,r){if(function(e,t,r){var n=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(n=!0),n}(e,r,t)){var n=function(e,t){var r=e.fragments,n=t.fragments;if(n.length&&r.length){var i=function(e,t){for(var r=null,n=0;n<e.length;n+=1){var i=e[n];if(i&&i.cc===t){r=i;break}}return r}(r,n[0].cc);if(i&&(!i||i.startPTS))return i;l.logger.log("No frag in previous level to align on")}else l.logger.log("No fragments to align")}(r.details,t);n&&(l.logger.log("Adjusting PTS using last level due to CC increase within current level"),ne(n.start,t))}}(e,r,t),!r.PTSKnown&&t&&function(e,t){if(t&&t.fragments.length){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;var r=t.fragments[0].programDateTime,n=(e.fragments[0].programDateTime-r)/1e3+t.fragments[0].start;Object(s.isFiniteNumber)(n)&&(l.logger.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),ne(n,e))}}(r,t.details)}function oe(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function ae(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>e}var se=function(){function e(e,t,r,n){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=n,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var t=e.prototype;return t.poll=function(e){var t=this.config,r=this.media,n=this.stalled,i=r.currentTime,o=r.seeking,a=this.seeking&&!o,s=!this.seeking&&o;if(this.seeking=o,i===e){if((s||a)&&(this.stalled=null),!r.paused&&!r.ended&&0!==r.playbackRate&&r.buffered.length){var u=H.bufferInfo(r,i,0),c=u.len>0,f=u.nextStart||0;if(c||f){if(o){if(u.len>2||!f||f-i>2)return;this.moved=!1}if(!this.moved&&this.stalled){var d=Math.max(f,u.start||0)-i;if(d>0&&d<=2)return void this._trySkipBufferHole(null)}var h=self.performance.now();if(null!==n){var p=h-n;!o&&p>=250&&this._reportStall(u.len);var v=H.bufferInfo(r,i,t.maxBufferHole);this._tryFixBufferStall(v,p)}else this.stalled=h}}}else if(this.moved=!0,null!==n){if(this.stallReported){var g=self.performance.now()-n;l.logger.warn("playback not stuck anymore @"+i+", after "+Math.round(g)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media.currentTime,o=n.getPartialFragment(i);o&&this._trySkipBufferHole(o)||e.len>r.maxBufferHole&&t>1e3*r.highBufferWatchdogPeriod&&(l.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,l.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),t.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,r=this.hls,n=this.media,i=n.currentTime,o=0,s=0;s<n.buffered.length;s++){var c=n.buffered.start(s);if(i+t.maxBufferHole>=o&&i<c){var f=Math.max(c+.05,n.currentTime+.1);return l.logger.warn("skipping hole, adjusting currentTime from "+i+" to "+f),this.moved=!0,this.stalled=null,n.currentTime=f,e&&r.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+f,frag:e}),f}o=n.buffered.end(s)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,n=r.currentTime,i=(this.nudgeRetry||0)+1;if(this.nudgeRetry=i,i<e.nudgeMaxRetry){var o=n+i*e.nudgeOffset;l.logger.warn("Nudging 'currentTime' from "+n+" to "+o),r.currentTime=o,t.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else l.logger.error("Playhead still not moving while enough data buffered @"+n+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}(),ue={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ce=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.MANIFEST_LOADING,u.default.MANIFEST_PARSED,u.default.LEVEL_LOADED,u.default.KEY_LOADED,u.default.FRAG_LOADED,u.default.FRAG_LOAD_EMERGENCY_ABORTED,u.default.FRAG_PARSING_INIT_SEGMENT,u.default.FRAG_PARSING_DATA,u.default.FRAG_PARSED,u.default.ERROR,u.default.AUDIO_TRACK_SWITCHING,u.default.AUDIO_TRACK_SWITCHED,u.default.BUFFER_CREATED,u.default.BUFFER_APPENDED,u.default.BUFFER_FLUSHED)||this).fragmentTracker=r,n.config=t.config,n.audioCodecSwap=!1,n._state=ue.STOPPED,n.stallReported=!1,n.gapController=null,n.altAudio=!1,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,c,f,d=n.prototype;return d.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(l.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=ue.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=ue.STOPPED},d.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},d.doTick=function(){switch(this.state){case ue.BUFFER_FLUSHING:this.fragLoadError=0;break;case ue.IDLE:this._doTickIdle();break;case ue.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=ue.IDLE);break;case ue.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(l.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=ue.IDLE);break;case ue.ERROR:case ue.STOPPED:case ue.FRAG_LOADING:case ue.PARSING:case ue.PARSED:case ue.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},d._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch)){var n;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,o=this.levels[i];if(o){var a,s=o.bitrate;a=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,a=Math.min(a,t.maxMaxBufferLength);var c=H.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,t.maxBufferHole),f=c.len;if(!(f>=a)){l.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var d=o.details;if(!d||d.live&&this.levelLastLoaded!==i)this.state=ue.WAITING_LEVEL;else{if(this._streamEnded(c,d)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(u.default.BUFFER_EOS,h),void(this.state=ue.ENDED)}this._fetchPayloadOrEos(n,c,d)}}}}},d._fetchPayloadOrEos=function(e,t,r){var n=this.fragPrevious,i=this.level,o=r.fragments,a=o.length;if(0!==a){var s,u=o[0].start,c=o[a-1].start+o[a-1].duration,f=t.end;if(r.initSegment&&!r.initSegment.data)s=r.initSegment;else if(r.live){var d=this.config.initialLiveManifestSize;if(a<d)return void l.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(s=this._ensureFragmentAtLivePoint(r,f,u,c,n,o,a)))return}else f<u&&(s=o[0]);s||(s=this._findFragment(u,n,a,o,f,c,r)),s&&(s.encrypted?(l.logger.log("Loading key for "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+i),this._loadKey(s)):(l.logger.log("Loading "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+i+", currentTime:"+e.toFixed(3)+",bufferEnd:"+f.toFixed(3)),this._loadFragment(s)))}},d._ensureFragmentAtLivePoint=function(e,t,r,n,i,o,a){var u,c=this.hls.config,f=this.media,d=void 0!==c.liveMaxLatencyDuration?c.liveMaxLatencyDuration:c.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-c.maxFragLookUpTolerance,n-d)){var h=this.liveSyncPosition=this.computeLivePosition(r,e);t=h,f&&!f.paused&&f.readyState&&f.duration>h&&h>f.currentTime&&(l.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),f.currentTime=h),this.nextLoadPosition=h}if(e.PTSKnown&&t>n&&f&&f.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i)if(e.hasProgramDateTime)l.logger.log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),u=function(e,t,r){if(null===t||!Array.isArray(e)||!e.length||!Object(s.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;r=r||0;for(var n=0;n<e.length;++n){var i=e[n];if(ae(t,r,i))return i}return null}(o,i.endProgramDateTime,c.maxFragLookUpTolerance);else{var p=i.sn+1;if(p>=e.startSN&&p<=e.endSN){var v=o[p-e.startSN];i.cc===v.cc&&(u=v,l.logger.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=G.search(o,(function(e){return i.cc-e.cc})))&&l.logger.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=o[Math.min(a-1,Math.round(a/2))],l.logger.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},d._findFragment=function(e,t,r,n,i,o,a){var s,u=this.hls.config;if(s=i<o?function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=e?t[e.sn-t[0].sn+1]:null;return i&&!oe(r,n,i)?i:G.search(t,oe.bind(null,r,n))}(t,n,i,i>o-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance):n[r-1]){var c=s.sn-a.startSN,f=t&&s.level===t.level,d=n[c-1],h=n[c+1];if(t&&s.sn===t.sn)if(f&&!s.backtracked)if(s.sn<a.endSN){var p=t.deltaPTS;p&&p>u.maxBufferHole&&t.dropped&&c?(s=d,l.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=h,l.logger.log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(h&&h.backtracked?(l.logger.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+h.sn),s=h):(l.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d).backtracked=!0:c&&(s=null)))}return s},d._loadKey=function(e){this.state=ue.KEY_LOADING,this.hls.trigger(u.default.KEY_LOADING,{frag:e})},d._loadFragment=function(e){var t=this.fragmentTracker.getState(e);this.fragCurrent=e,"initSegment"!==e.sn&&(this.startFragRequested=!0),Object(s.isFiniteNumber)(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||t===j||t===N?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(u.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new Q(this.hls,"main")),this.state=ue.FRAG_LOADING):t===M&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},d.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,i.MAIN)},d.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},d._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),H.isBuffered(r,t)?e=this.getBufferedFrag(t):H.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var n=e;if(n!==this.fragPlaying){this.hls.trigger(u.default.FRAG_CHANGED,{frag:n});var i=n.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(u.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=n}}},d.immediateLevelSwitch=function(){if(l.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e,t=this.media;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},d.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,H.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},d.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t,r,n;if((r=this.getBufferedFrag(e.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),e.paused)t=0;else{var i=this.hls.nextLoadLevel,o=this.levels[i],a=this.fragLastKbps;t=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if((n=this.getBufferedFrag(e.currentTime+t))&&(n=this.followingBufferedFrag(n))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,Number.POSITIVE_INFINITY)}}},d.flushMainBuffer=function(e,t){this.state=ue.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(u.default.BUFFER_FLUSHING,r)},d.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new se(r,t,this.fragmentTracker,this.hls)},d.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(l.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},d.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;Object(s.isFiniteNumber)(t)&&l.logger.log("media seeked to "+t.toFixed(3)),this.tick()},d.onManifestLoading=function(){l.logger.log("trigger BUFFER_RESET"),this.hls.trigger(u.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},d.onManifestParsed=function(e){var t,r=!1,n=!1;e.levels.forEach((function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))})),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&l.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=e.altAudio,this.levels=e.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},d.onLevelLoaded=function(e){var t=e.details,r=e.level,n=this.levels[this.levelLastLoaded],i=this.levels[r],o=t.totalduration,a=0;if(l.logger.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+o),t.live){var c=i.details;c&&t.fragments.length>0?(function(e,t){t.initSegment&&e.initSegment&&(t.initSegment=e.initSegment);var r,n=0;if(te(e,t,(function(e,i){n=e.cc-i.cc,Object(s.isFiniteNumber)(e.startPTS)&&(i.start=i.startPTS=e.startPTS,i.endPTS=e.endPTS,i.duration=e.duration,i.backtracked=e.backtracked,i.dropped=e.dropped,r=i),t.PTSKnown=!0})),t.PTSKnown){if(n){l.logger.log("discontinuity sliding from playlist, take drift into account");for(var i=t.fragments,o=0;o<i.length;o++)i[o].cc+=n}r?ee(t,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):function(e,t){var r=t.startSN-e.startSN,n=e.fragments,i=t.fragments;if(!(r<0||r>n.length))for(var o=0;o<i.length;o++)i[o].start+=n[r].start}(e,t),t.PTSKnown=e.PTSKnown}}(c,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,c),t.PTSKnown&&Object(s.isFiniteNumber)(a)?l.logger.log("live playlist sliding:"+a.toFixed(3)):(l.logger.log("live playlist - outdated PTS, unknown sliding"),ie(this.fragPrevious,n,t))):(l.logger.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,ie(this.fragPrevious,n,t))}else t.PTSKnown=!1;if(i.details=t,this.levelLastLoaded=r,this.hls.trigger(u.default.LEVEL_UPDATED,{details:t,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var f=t.startTimeOffset;Object(s.isFiniteNumber)(f)?(f<0&&(l.logger.log("negative start time offset "+f+", count from end of last fragment"),f=a+o+f),l.logger.log("start time offset found in playlist, adjust startPosition to "+f),this.startPosition=f):t.live?(this.startPosition=this.computeLivePosition(a,t),l.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ue.WAITING_LEVEL&&(this.state=ue.IDLE),this.tick()},d.onKeyLoaded=function(){this.state===ue.KEY_LOADING&&(this.state=ue.IDLE,this.tick())},d.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,n=this.levels,i=this.media,o=e.frag;if(this.state===ue.FRAG_LOADING&&t&&"main"===o.type&&o.level===t.level&&o.sn===t.sn){var a=e.stats,s=n[t.level],c=s.details;if(this.bitrateTest=!1,this.stats=a,l.logger.log("Loaded "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level),o.bitrateTest&&r.nextLoadLevel)this.state=ue.IDLE,this.startFragRequested=!1,a.tparsed=a.tbuffered=window.performance.now(),r.trigger(u.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else if("initSegment"===o.sn)this.state=ue.IDLE,a.tparsed=a.tbuffered=window.performance.now(),c.initSegment.data=e.payload,r.trigger(u.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else{l.logger.log("Parsing "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level+", cc "+t.cc),this.state=ue.PARSING,this.pendingBuffering=!0,this.appended=!1,o.bitrateTest&&(o.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:o}));var f=!(i&&i.seeking)&&(c.PTSKnown||!c.live),d=c.initSegment?c.initSegment.data:[],h=this._getAudioCodec(s);(this.demuxer=this.demuxer||new Q(this.hls,"main")).push(e.payload,d,h,s.videoCodec,t,c.totalduration,f)}}this.fragLoadError=0},d.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===ue.PARSING){var n,i,o=e.tracks;if(o.audio&&this.altAudio&&delete o.audio,i=o.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(l.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(a="mp4a.40.2",l.logger.log("Android: force audio codec to "+a)),i.levelCodec=a,i.id=e.id}for(n in(i=o.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(u.default.BUFFER_CODECS,o),o){i=o[n],l.logger.log("main track:"+n+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var c=i.initSegment;c&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(u.default.BUFFER_APPENDING,{type:n,data:c,parent:"main",content:"initSegment"}))}this.tick()}},d.onFragParsingData=function(e){var t=this,r=this.fragCurrent,n=e.frag;if(r&&"main"===e.id&&n.sn===r.sn&&n.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===ue.PARSING){var i=this.levels[this.level],o=r;if(Object(s.isFiniteNumber)(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),!0===e.hasAudio&&o.addElementaryStream(p.AUDIO),!0===e.hasVideo&&o.addElementaryStream(p.VIDEO),l.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(o.dropped=e.dropped,o.dropped)if(o.backtracked)l.logger.warn("Already backtracked on this fragment, appending with the gap",o.sn);else{var a=i.details;if(!a||o.sn!==a.startSN)return l.logger.warn("missing video frame(s), backtracking fragment",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=ue.IDLE,this.fragPrevious=o,void this.tick();l.logger.warn("missing video frame(s) on first frag, appending with gap",o.sn)}else o.backtracked=!1;var c=ee(i.details,o,e.startPTS,e.endPTS,e.startDTS,e.endDTS),f=this.hls;f.trigger(u.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:c,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(r){r&&r.length&&t.state===ue.PARSING&&(t.appended=!0,t.pendingBuffering=!0,f.trigger(u.default.BUFFER_APPENDING,{type:e.type,data:r,parent:"main",content:"data"}))})),this.tick()}},d.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===ue.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=ue.PARSED,this._checkAppendedParsed())},d.onAudioTrackSwitching=function(e){var t=!!e.url,r=e.id;if(!t){if(this.mediaBuffer!==this.media){l.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(l.logger.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ue.IDLE}var i=this.hls;i.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},d.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(l.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},d.onBufferCreated=function(e){var t,r,n=e.tracks,i=!1;for(var o in n){var a=n[o];"main"===a.id?(r=o,t=a,"video"===o&&(this.videoBuffer=n[o].buffer)):i=!0}i&&t?(l.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},d.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==ue.PARSING&&t!==ue.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},d._checkAppendedParsed=function(){if(!(this.state!==ue.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;l.logger.log("main buffered : "+re.toString(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(u.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=ue.IDLE}this.tick()}},d.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var r=!!this.media&&H.isBuffered(this.media,this.media.currentTime)&&H.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);l.logger.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=ue.FRAG_LOADING_WAITING_RETRY}else l.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=ue.ERROR;break;case a.ErrorDetails.LEVEL_LOAD_ERROR:case a.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==ue.ERROR&&(e.fatal?(this.state=ue.ERROR,l.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==ue.WAITING_LEVEL||(this.state=ue.IDLE));break;case a.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==ue.PARSING&&this.state!==ue.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=ue.IDLE):(l.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},d._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,l.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},d._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},d.onFragLoadEmergencyAborted=function(){this.state=ue.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},d.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(p.VIDEO,e.buffered),this.state=ue.IDLE,this.fragPrevious=null},d.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},d._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=e.seeking?t:this.startPosition;t!==r&&r>=0&&(l.logger.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time "+t+" "),e.currentTime=r)},d._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(l.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},o=n,(c=[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,l.logger.log("main stream-controller: "+t+"->"+e),this.hls.trigger(u.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}])&&le(o.prototype,c),f&&le(o,f),n}(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.doTick=function(){},i.startLoad=function(){},i.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ue.STOPPED},i._streamEnded=function(e,t){var r=this.fragCurrent,n=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var i=n.getState(r);return i===N||i===B}return!1},i.onMediaSeeking=function(){var e=this.config,t=this.media,r=this.mediaBuffer,n=this.state,i=t?t.currentTime:null,o=H.bufferInfo(r||t,i,this.config.maxBufferHole);if(Object(s.isFiniteNumber)(i)&&l.logger.log("media seeking to "+i.toFixed(3)),n===ue.FRAG_LOADING){var a=this.fragCurrent;if(0===o.len&&a){var u=e.maxFragLookUpTolerance,c=a.start-u,f=a.start+a.duration+u;i<c||i>f?(a.loader&&(l.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=ue.IDLE):l.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else n===ue.ENDED&&(0===o.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=ue.IDLE);t&&(this.lastCurrentTime=i),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=i),this.tick()},i.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},i.onHandlerDestroyed=function(){this.state=ue.STOPPED,this.fragmentTracker=null},i.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},n}(function(e){var t,r;function n(t){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(r=e.call.apply(e,[this,t].concat(i))||this)._boundTick=void 0,r._tickTimer=null,r._tickInterval=null,r._tickCallCount=0,r._boundTick=r.tick.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},i.doTick=function(){},n}(f)));function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}window.performance;var de,he=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.AUDIO_TRACK_SWITCHED,u.default.FRAG_LOADED,u.default.ERROR)||this).canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,de=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,o,s,c=n.prototype;return c.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},c.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},c.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),null!==this.timer&&this.loadLevel()},c.stopLoad=function(){this.canload=!1},c.onManifestLoaded=function(e){var t,r=[],n=[],i={},o=null,s=!1,c=!1;if(e.levels.forEach((function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,s=s||!!e.videoCodec,c=c||!!e.audioCodec,de&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(o=i[e.bitrate])?o.url.push(e.url):(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&(c=!0,J(o||e,"audio",t.AUDIO)),t.SUBTITLES&&J(o||e,"text",t.SUBTITLES))})),s&&c&&(r=r.filter((function(e){return!!e.videoCodec}))),r=r.filter((function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||O(t,"audio"))&&(!r||O(r,"video"))})),e.audioTracks&&(n=e.audioTracks.filter((function(e){return!e.audioCodec||O(e.audioCodec,"audio")}))).forEach((function(e,t){e.id=t})),r.length>0){t=r[0].bitrate,r.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=r;for(var f=0;f<r.length;f++)if(r[f].bitrate===t){this._firstLevel=f,l.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(u.default.MANIFEST_PARSED,{levels:r,audioTracks:n,firstLevel:this._firstLevel,stats:e.stats,audio:c,video:s,altAudio:n.some((function(e){return!!e.url}))})}else this.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},c.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){l.logger.log("switching to level "+e),this.currentLevelIndex=e;var n=t[e];n.level=e,r.trigger(u.default.LEVEL_SWITCHING,n)}var i=t[e],o=i.details;if(!o||o.live){var s=i.urlId;r.trigger(u.default.LEVEL_LOADING,{url:i.url[s],level:e,id:s})}}else r.trigger(u.default.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},c.onError=function(e){if(e.fatal)e.type===a.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,n=!1;switch(e.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,n=!0;break;case a.ErrorDetails.LEVEL_LOAD_ERROR:case a.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case a.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,n)}},c.recoverLevel=function(e,t,r,n){var i,o,a,s=this,u=this.hls.config,c=e.details,f=this._levels[t];if(f.loadError++,f.fragmentError=n,r){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return l.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return s.loadLevel()}),o),e.levelRetry=!0,this.levelRetryCount++,l.logger.warn("level controller, "+c+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(r||n)&&((i=f.url.length)>1&&f.loadError<i?(f.urlId=(f.urlId+1)%i,f.details=void 0,l.logger.warn("level controller, "+c+" for level "+t+": switching to redundant URL-id "+f.urlId)):-1===this.manualLevelIndex?(a=0===t?this._levels.length-1:t-1,l.logger.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):n&&(l.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},c.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},c.onLevelLoaded=function(e){var t=this,r=e.level,n=e.details;if(r===this.currentLevelIndex){var i=this._levels[r];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),n.live){var o=function(e,t,r){var n=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),i=n/2;return e&&t.endSN===e.endSN&&(n=i),r&&(n=Math.max(i,n-(window.performance.now()-r))),Math.round(n)}(i.details,n,e.stats.trequest);l.logger.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout((function(){return t.loadLevel()}),o)}else this.clearTimer()}},c.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,i=0;i<r.audioGroupIds.length;i++)if(r.audioGroupIds[i]===t){n=i;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},c.loadLevel=function(){if(l.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,n=e.url[r];l.logger.log("Attempt loading level index "+t+" with URL-id "+r),this.hls.trigger(u.default.LEVEL_LOADING,{url:n,level:t,id:r})}}},i=n,(o=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&fe(i.prototype,o),s&&fe(i,s),n}(f),pe=r("./src/demux/id3.js");function ve(e,t){var r;try{r=new Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)}var ge=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.FRAG_PARSING_METADATA,u.default.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,r.media=void 0,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){f.prototype.destroy.call(this)},i.onMediaAttached=function(e){this.media=e.media,this.media},i.onMediaDetaching=function(){!function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}(this.id3Track),this.id3Track=void 0,this.media=void 0},i.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return ve(r,this.media),r}return this.media.addTextTrack("metadata","id3")},i.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<r.length;i++){var o=pe.default.getID3Frames(r[i].data);if(o){var a=r[i].pts,s=i<r.length-1?r[i+1].pts:t.endPTS;a===s?s+=1e-4:a>s&&(l.logger.warn("detected an id3 sample with endTime < startTime, adjusting endTime to (startTime + 0.25)"),s=a+.25);for(var u=0;u<o.length;u++){var c=o[u];if(!pe.default.isTimeStampFrame(c)){var f=new n(a,s,"");f.value=c,this.id3Track.addCue(f)}}}}},i.onLiveBackBufferReached=function(e){var t=e.bufferEnd,r=this.id3Track;if(r&&r.cues&&r.cues.length){var n=function(e,t){if(t<e[0].endTime)return e[0];if(t>e[e.length-1].endTime)return e[e.length-1];for(var r=0,n=e.length-1;r<=n;){var i=Math.floor((n+r)/2);if(t<e[i].endTime)n=i-1;else{if(!(t>e[i].endTime))return e[i];r=i+1}}return e[r].endTime-t<t-e[n].endTime?e[r]:e[n]}(r.cues,t);if(n)for(;r.cues[0]!==n;)r.removeCue(r.cues[0])}},n}(f),me=function(){function e(e){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}var t=e.prototype;return t.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),ye=function(){function e(e,t,r,n){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=e,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new me(t),this.fast_=new me(r)}var t=e.prototype;return t.sample=function(e,t){var r=(e=Math.max(e,this.minDelayMs_))/1e3,n=8*t/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ee=window.performance,we=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.FRAG_LOADING,u.default.FRAG_LOADED,u.default.FRAG_BUFFERED,u.default.ERROR)||this).lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=t,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,o,c,d=n.prototype;return d.destroy=function(){this.clearTimer(),f.prototype.destroy.call(this)},d.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r,n,i=this.hls,o=i.config,a=t.level;i.levels[a].details.live?(r=o.abrEwmaFastLive,n=o.abrEwmaSlowLive):(r=o.abrEwmaFastVoD,n=o.abrEwmaSlowVoD),this._bwEstimator=new ye(i,n,r,o.abrEwmaDefaultEstimate)}},d._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var n=r.loader,i=e.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=n.stats;if(t&&o&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var a=Ee.now()-o.trequest,s=Math.abs(t.playbackRate);if(a>500*r.duration/s){var c=e.levels,f=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/a),d=c[r.level],h=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,p=o.total?o.total:Math.max(o.loaded,Math.round(r.duration*h/8)),v=t.currentTime,g=(p-o.loaded)/f,m=(H.bufferInfo(t,v,e.config.maxBufferHole).end-v)/s;if(m<2*r.duration/s&&g>m){var y;for(y=r.level-1;y>i;y--){var b=c[y].realBitrate?Math.max(c[y].realBitrate,c[y].bitrate):c[y].bitrate;if(r.duration*b/(6.4*f)<m)break}void 0<g&&(l.logger.warn("loading too slow, abort fragment loading and switch to level "+y+":fragLoadedDelay["+y+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+g.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=y,this._bwEstimator.sample(a,o.loaded),n.abort(),this.clearTimer(),e.trigger(u.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:o}))}}}}},d.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&Object(s.isFiniteNumber)(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[t.level],n=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,i=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:n,duration:i},r.realBitrate=Math.round(8*n/i)}if(e.frag.bitrateTest){var o=e.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(e)}}},d.onFragBuffered=function(e){var t=e.stats,r=e.frag;if(!0!==t.aborted&&"main"===r.type&&Object(s.isFiniteNumber)(r.sn)&&(!r.bitrateTest||t.tload===t.tbuffered)){var n=t.tparsed-t.trequest;l.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(n,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},d.onError=function(e){switch(e.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},d.clearTimer=function(){clearInterval(this.timer),this.timer=null},d._findBestLevel=function(e,t,r,n,i,o,a,s,u){for(var c=i;c>=n;c--){var f=u[c];if(f){var d=f.details,h=d?d.totalduration/d.fragments.length:t,p=!!d&&d.live,v=void 0;v=c<=e?a*r:s*r;var g=u[c].realBitrate?Math.max(u[c].realBitrate,u[c].bitrate):u[c].bitrate,m=g*h/v;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(v)+"/"+g+"/"+h+"/"+o+"/"+m),v>g&&(!m||p&&!this.bitrateTestDelay||m<o))return c}}return-1},i=n,(o=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,n=e.config,i=e.minAutoLevel,o=e.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=o?o.currentTime:0,c=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(H.bufferInfo(o,u,n.maxBufferHole).end-u)/c,h=this._findBestLevel(a,s,f,i,t,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(h>=0)return h;l.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,v=n.abrBandWidthFactor,g=n.abrBandWidthUpFactor;if(0===d){var m=this.bitrateTestDelay;m&&(p=(s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay)-m,l.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),v=g=1)}return h=this._findBestLevel(a,s,f,i,t,d+p,v,g,r),Math.max(h,0)}}])&&be(i.prototype,o),c&&be(i,c),n}(f),Se=K(),_e=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_RESET,u.default.BUFFER_APPENDING,u.default.BUFFER_CODECS,u.default.BUFFER_EOS,u.default.BUFFER_FLUSHING,u.default.LEVEL_PTS_UPDATED,u.default.LEVEL_UPDATED)||this)._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r._needsFlush=!1,r._needsEos=!1,r.config=void 0,r.audioTimestampOffset=void 0,r.bufferCodecEventsExpected=0,r._bufferCodecEventsTotal=0,r.media=null,r.mediaSource=null,r.segments=[],r.parent=void 0,r.appending=!1,r.appended=0,r.appendError=0,r.flushBufferCounter=0,r.tracks={},r.pendingTracks={},r.sourceBuffer={},r.flushRange=[],r._onMediaSourceOpen=function(){l.logger.log("media source opened"),r.hls.trigger(u.default.MEDIA_ATTACHED,{media:r.media});var e=r.mediaSource;e&&e.removeEventListener("sourceopen",r._onMediaSourceOpen),r.checkPendingTracks()},r._onMediaSourceClose=function(){l.logger.log("media source closed")},r._onMediaSourceEnded=function(){l.logger.log("media source ended")},r._onSBUpdateEnd=function(){if(r.audioTimestampOffset&&r.sourceBuffer.audio){var e=r.sourceBuffer.audio;l.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+r.audioTimestampOffset),e.timestampOffset=r.audioTimestampOffset,delete r.audioTimestampOffset}r._needsFlush&&r.doFlush(),r._needsEos&&r.checkEos(),r.appending=!1;var t=r.parent,n=r.segments.reduce((function(e,r){return r.parent===t?e+1:e}),0),i={},o=r.sourceBuffer;for(var a in o){var s=o[a];if(!s)throw Error("handling source buffer update end error: source buffer for "+a+" uninitilized and unable to update buffered TimeRanges.");i[a]=s.buffered}r.hls.trigger(u.default.BUFFER_APPENDED,{parent:t,pending:n,timeRanges:i}),r._needsFlush||r.doAppending(),r.updateMediaElementDuration(),0===n&&r.flushLiveBackBuffer()},r._onSBUpdateError=function(e){l.logger.error("sourceBuffer error:",e),r.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.config=t.config,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){f.prototype.destroy.call(this)},i.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(!n)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(n.timestampOffset-e.start)>.1){var i=n.updating;try{n.abort()}catch(e){l.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(l.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}},i.onManifestParsed=function(e){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e.altAudio?2:1,l.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},i.onMediaAttaching=function(e){var t=this.media=e.media;if(t&&Se){var r=this.mediaSource=new Se;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},i.onMediaDetaching=function(){l.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){l.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):l.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(u.default.MEDIA_DETACHED)},i.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},i.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{r&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this._onSBUpdateEnd),r.removeEventListener("error",this._onSBUpdateError))}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},i.onBufferCodecs=function(e){var t=this;Object.keys(this.sourceBuffer).length||(Object.keys(e).forEach((function(r){t.pendingTracks[r]=e[r]})),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},i.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(var n in e)if(!t[n]){var i=e[n];if(!i)throw Error("source buffer exists for track "+n+", however track does not");var o=i.levelCodec||i.codec,s=i.container+";codecs="+o;l.logger.log("creating sourceBuffer("+s+")");try{var c=t[n]=r.addSourceBuffer(s);c.addEventListener("updateend",this._onSBUpdateEnd),c.addEventListener("error",this._onSBUpdateError),this.tracks[n]={buffer:c,codec:o,id:i.id,container:i.container,levelCodec:i.levelCodec}}catch(e){l.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:s})}}this.hls.trigger(u.default.BUFFER_CREATED,{tracks:this.tracks})},i.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},i.onBufferEos=function(e){for(var t in this.sourceBuffer)if(!e.type||e.type===t){var r=this.sourceBuffer[t];r&&!r.ended&&(r.ended=!0,l.logger.log(t+" sourceBuffer now EOS"))}this.checkEos()},i.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var n=e[r];if(n){if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}}l.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){l.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},i.onBufferFlushing=function(e){e.type?this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}):(this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"video"}),this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},i.flushLiveBackBuffer=function(){if(this._live){var e=this.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))if(this.media)for(var t=this.media.currentTime,r=this.sourceBuffer,n=Object.keys(r),i=t-Math.max(e,this._levelTargetDuration),o=n.length-1;o>=0;o--){var a=n[o],s=r[a];if(s){var c=s.buffered;c.length>0&&i>c.start(0)&&this.removeBufferRange(a,s,0,i)&&this.hls.trigger(u.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i})}}else l.logger.error("flushLiveBackBuffer called without attaching media")}},i.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},i.updateMediaElementDuration=function(){var e,t=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer){var n=this.sourceBuffer[r];if(n&&!0===n.updating)return}e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(l.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!Object(s.isFiniteNumber)(e))&&(l.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},i.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var n in r){var i=r[n];i&&(t+=i.buffered.length)}}catch(e){l.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(u.default.BUFFER_FLUSHED)}},i.doAppending=function(){var e=this.config,t=this.hls,r=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(!this.media||this.media.error)return this.segments=[],void l.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var i=r.shift();if(i)try{var o=n[i.type];if(!o)return void this._onSBUpdateEnd();if(o.updating)return void r.unshift(i);o.ended=!1,this.parent=i.parent,o.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0}catch(n){l.logger.error("error while trying to append buffer:"+n.message),r.unshift(i);var s={type:a.ErrorTypes.MEDIA_ERROR,parent:i.parent,details:"",fatal:!1};22===n.code?(this.segments=[],s.details=a.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,s.details=a.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.appendErrorMaxRetry&&(l.logger.log("fail "+e.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],s.fatal=!0)),t.trigger(u.default.ERROR,s)}}}},i.flushBuffer=function(e,t,r){var n=this.sourceBuffer;if(!Object.keys(n).length)return!0;var i="null";if(this.media&&(i=this.media.currentTime.toFixed(3)),l.logger.log("flushBuffer,pos/start/end: "+i+"/"+e+"/"+t),this.flushBufferCounter>=this.appended)return l.logger.warn("abort flushing too many retries"),!0;var o=n[r];if(o){if(o.ended=!1,o.updating)return l.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(r,o,e,t))return this.flushBufferCounter++,!1}return l.logger.log("buffer flushed"),!0},i.removeBufferRange=function(e,t,r,n){try{for(var i=0;i<t.buffered.length;i++){var o=t.buffered.start(i),a=t.buffered.end(i),s=Math.max(o,r),u=Math.min(a,n);if(Math.min(u,a)-s>.5){var c="null";return this.media&&(c=this.media.currentTime.toString()),l.logger.log("sb remove "+e+" ["+s+","+u+"], of ["+o+","+a+"], pos:"+c),t.remove(s,u),!0}}}catch(e){l.logger.warn("removeBufferRange failed",e)}return!1},n}(f);function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Te,Ae=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.FPS_DROP_LEVEL_CAPPING,u.default.MEDIA_ATTACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_CODECS,u.default.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,o,a,s=n.prototype;return s.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.stopCapping())},s.onFpsDropLevelCapping=function(e){n.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},s.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},s.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onLevelsUpdated=function(e){this.levels=e.levels},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},s.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,i){return n.isLevelAllowed(i,t.restrictedLevels)&&i<=e}));return n.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},n.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},n.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var n,i,o=e.length-1,a=0;a<e.length;a+=1){var s=e[a];if((s.width>=t||s.height>=r)&&(n=s,!(i=e[a+1])||n.width!==i.width||n.height!==i.height)){o=a;break}}return o},i=n,a=[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}],(o=[{key:"mediaWidth",get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=n.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=n.contentScaleFactor),e}}])&&Oe(i.prototype,o),a&&Oe(i,a),n}(f),Le=window.performance,xe=function(e){var t,r;function n(t){return e.call(this,t,u.default.MEDIA_ATTACHING)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},i.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},i.checkFPS=function(e,t,r){var n=Le.now();if(t){if(this.lastTime){var i=n-this.lastTime,o=r-this.lastDroppedFrames,a=t-this.lastDecodedFrames,s=1e3*o/i,c=this.hls;if(c.trigger(u.default.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:r}),s>0&&o>c.config.fpsDroppedMonitoringThreshold*a){var f=c.currentLevel;l.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=f)&&(f-=1,c.trigger(u.default.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:c.currentLevel}),c.autoLevelCapping=f,c.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},i.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},n}(f),Pe=window,Re=Pe.performance,ke=Pe.XMLHttpRequest,De=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}var t=e.prototype;return t.destroy=function(){this.abort(),this.loader=null},t.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:Re.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e,t=this.context;e=this.loader=new ke;var r=this.stats;r.tfirst=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(e,t.url)}catch(r){e.open("GET",t.url,!0),n(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},t.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,n=this.stats,i=this.context,o=this.config;if(!n.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(Re.now(),n.trequest)),4===r){var a=t.status;if(a>=200&&a<300){var s,u;n.tload=Math.max(n.tfirst,Re.now()),u="arraybuffer"===i.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=u;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,n,i,t)}else n.retry>=o.maxRetry||a>=400&&a<499?(l.logger.error(a+" while loading "+i.url),this.callbacks.onError({code:a,text:t.statusText},i,t)):(l.logger.warn(a+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},t.loadtimeout=function(){l.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var n=this.callbacks.onProgress;n&&n(r,this.context,null,t)},e}();function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r("./src/empty.js"),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(Te||(Te={}));var Ce=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ie(e,t,r[t])}))}return e}({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:De,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:we,bufferController:_e,capLevelController:Ae,fpsController:xe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:"undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null},{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0});function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ne(e,t,r){return t&&Me(e.prototype,t),r&&Me(e,r),e}r.d(t,"default",(function(){return Be}));var Be=function(e){var t,r;function n(t){var r;void 0===t&&(t={}),(r=e.call(this)||this).config=void 0,r._autoLevelCapping=void 0,r.abrController=void 0,r.capLevelController=void 0,r.levelController=void 0,r.streamController=void 0,r.networkControllers=void 0,r.audioTrackController=void 0,r.subtitleTrackController=void 0,r.emeController=void 0,r.coreComponents=void 0,r.media=null,r.url=null;var i=n.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");r.config=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Fe(e,t,r[t])}))}return e}({},i,t);var o=je(r).config;if(void 0!==o.liveMaxLatencyDurationCount&&o.liveMaxLatencyDurationCount<=o.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==o.liveMaxLatencyDuration&&(void 0===o.liveSyncDuration||o.liveMaxLatencyDuration<=o.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(l.enableLogs)(o.debug),r._autoLevelCapping=-1;var a=r.abrController=new o.abrController(je(r)),s=new o.bufferController(je(r)),u=r.capLevelController=new o.capLevelController(je(r)),c=new o.fpsController(je(r)),f=new I(je(r)),d=new C(je(r)),h=new F(je(r)),p=new ge(je(r)),v=r.levelController=new he(je(r)),g=new U(je(r)),m=[v,r.streamController=new ce(je(r),g)],y=o.audioStreamController;y&&m.push(new y(je(r),g)),r.networkControllers=m;var b=[f,d,h,a,s,u,c,p,g];if(y=o.audioTrackController){var E=new y(je(r));r.audioTrackController=E,b.push(E)}if(y=o.subtitleTrackController){var w=new y(je(r));r.subtitleTrackController=w,m.push(w)}if(y=o.emeController){var S=new y(je(r));r.emeController=S,b.push(S)}return(y=o.subtitleStreamController)&&m.push(new y(je(r),g)),(y=o.timelineController)&&b.push(new y(je(r))),r.coreComponents=b,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(){return function(){var e=K();if(!e)return!1;var t=self.SourceBuffer||self.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!n}()},Ne(n,null,[{key:"version",get:function(){return"0.13.2"}},{key:"Events",get:function(){return u.default}},{key:"ErrorTypes",get:function(){return a.ErrorTypes}},{key:"ErrorDetails",get:function(){return a.ErrorDetails}},{key:"DefaultConfig",get:function(){return n.defaultConfig?n.defaultConfig:Ce},set:function(e){n.defaultConfig=e}}]);var i=n.prototype;return i.destroy=function(){l.logger.log("destroy"),this.trigger(u.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},i.attachMedia=function(e){l.logger.log("attachMedia"),this.media=e,this.trigger(u.default.MEDIA_ATTACHING,{media:e})},i.detachMedia=function(){l.logger.log("detachMedia"),this.trigger(u.default.MEDIA_DETACHING),this.media=null},i.loadSource=function(e){e=o.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),l.logger.log("loadSource:"+e),this.url=e,this.trigger(u.default.MANIFEST_LOADING,{url:e})},i.startLoad=function(e){void 0===e&&(e=-1),l.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},i.stopLoad=function(){l.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},i.swapAudioCodec=function(){l.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},i.recoverMediaError=function(){l.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),e&&this.attachMedia(e)},Ne(n,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){l.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){l.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){l.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){l.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){l.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){l.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"bandwidthEstimate",get:function(){var e=this.abrController._bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,n=0;n<r;n++)if((e[n].realBitrate?Math.max(e[n].realBitrate,e[n].bitrate):e[n].bitrate)>t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),n}(Y);Be.defaultConfig=void 0},"./src/polyfills/number-isFinite.js":
/*!******************************************!*\
  !*** ./src/polyfills/number-isFinite.js ***!
  \******************************************/
/*! exports provided: isFiniteNumber */function(e,t,r){"use strict";r.r(t),r.d(t,"isFiniteNumber",(function(){return n}));var n=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! exports provided: getSelfScope */function(e,t,r){"use strict";function n(){return"undefined"==typeof window?self:window}r.r(t),r.d(t,"getSelfScope",(function(){return n}))},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! exports provided: enableLogs, logger */function(e,t,r){"use strict";r.r(t),r.d(t,"enableLogs",(function(){return c})),r.d(t,"logger",(function(){return f}));var n=r(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function i(){}var o={trace:i,debug:i,log:i,warn:i,info:i,error:i},a=o;function s(e,t){return t="["+e+"] > "+t}var u=Object(n.getSelfScope)();function l(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(t){a[t]=e[t]?e[t].bind(e):function(e){var t=u.console[e];return t?function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n[0]&&(n[0]=s(e,n[0])),t.apply(u.console,n)}:i}(t)}))}var c=function(e){if(u.console&&!0===e||"object"==typeof e){l(e,"debug","log","info","warn","error");try{a.log()}catch(e){a=o}}else a=o},f=a}}).default},e.exports=n())},function(e,t,r){var n=r(14),i=r(86),o=r(49),a=Object.defineProperty;t.f=r(18)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(9),i=r(22),o=r(20),a=r(39)("src"),s=Function.toString,u=(""+s).split("toString");r(26).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var l="function"==typeof r;l&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(l&&(o(r,a)||i(r,a,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";var n=r(8),i=r(88)(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(75)("includes")},function(e,t,r){var n=r(17),i=r(38);e.exports=r(18)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(66),i=r(29);e.exports=function(e){return n(i(e))}},function(e,t,r){r(53)("replace",2,(function(e,t,r){return[function(n,i){"use strict";var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]}))},function(e,t,r){"use strict";var n=r(8),i=r(100);n(n.P+n.F*r(101)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(40);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(87),i=r(70);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){"use strict";var n=r(8),i=r(76)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(75)("find")},function(e,t,r){e.exports={root:"root--FSiPn",big:"big--1wrXl","model-name":"model-name--2FSCB",modelName:"model-name--2FSCB","model-name-responsive":"model-name-responsive--kO9hp",modelNameResponsive:"model-name-responsive--kO9hp","icon-responsive":"icon-responsive--1_F99",iconResponsive:"icon-responsive--1_F99","hide-on-small-spots":"hide-on-small-spots--oETEr",hideOnSmallSpots:"hide-on-small-spots--oETEr"}},function(e,t,r){var n=r(29);e.exports=function(e){return Object(n(e))}},function(e,t,r){r(53)("split",2,(function(e,t,n){"use strict";var i=r(74),o=n,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];n=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(r,e,t);var n,u,l,c,f,d=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,v=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,h+"g");for(s||(n=new RegExp("^"+g.source+"$(?!\\s)",h));(u=g.exec(r))&&!((l=u.index+u[0].length)>p&&(d.push(r.slice(p,u.index)),!s&&u.length>1&&u[0].replace(n,(function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(u[f]=void 0)})),u.length>1&&u.index<r.length&&a.apply(d,u.slice(1)),c=u[0].length,p=l,d.length>=v));)g.lastIndex===u.index&&g.lastIndex++;return p===r.length?!c&&g.test("")||d.push(""):d.push(r.slice(p)),d.length>v?d.slice(0,v):d}}else"0".split(void 0,0).length&&(n=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]}))},function(e,t,r){var n=r(8);n(n.S+n.F,"Object",{assign:r(99)})},function(e,t,r){"use strict";r(130)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,r){var n=r(8),i=r(103)(!1);n(n.S,"Object",{values:function(e){return i(e)}})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(87),i=r(70).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(67),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t){e.exports=!1},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports={}},function(e,t,r){var n=r(17).f,i=r(20),o=r(6)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){"use strict";var n,i,o,a,s=r(43),u=r(9),l=r(27),c=r(95),f=r(8),d=r(12),h=r(40),p=r(79),v=r(80),g=r(137),m=r(104).set,y=r(139)(),b=r(105),E=r(140),w=r(141),S=r(142),_=u.TypeError,O=u.process,T=O&&O.versions,A=T&&T.v8||"",L=u.Promise,x="process"==c(O),P=function(){},R=i=b.f,k=!!function(){try{var e=L.resolve(1),t=(e.constructor={})[r(6)("species")]=function(e){e(P,P)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==A.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var r=e._c;y((function(){for(var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a,s=i?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(i||(2==e._h&&j(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),a=!0)),r===t.promise?l(_("Promise-chain cycle")):(o=D(r))?o.call(r,u,l):u(r)):l(n)}catch(e){c&&!a&&c.exit(),l(e)}};r.length>o;)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&C(e)}))}},C=function(e){m.call(u,(function(){var t,r,n,i=e._v,o=F(e);if(o&&(t=E((function(){x?O.emit("unhandledRejection",i,e):(r=u.onunhandledrejection)?r({promise:e,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)})),e._h=x||F(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},F=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){m.call(u,(function(){var t;x?O.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},M=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},N=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw _("Promise can't be resolved itself");(t=D(e))?y((function(){var n={_w:r,_d:!1};try{t.call(e,l(N,n,1),l(M,n,1))}catch(e){M.call(n,e)}})):(r._v=e,r._s=1,I(r,!1))}catch(e){M.call({_w:r,_d:!1},e)}}};k||(L=function(e){p(this,L,"Promise","_h"),h(e),n.call(this);try{e(l(N,this,1),l(M,this,1))}catch(e){M.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(81)(L.prototype,{then:function(e,t){var r=R(g(this,L));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=x?O.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&I(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=l(N,e,1),this.reject=l(M,e,1)},b.f=R=function(e){return e===L||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!k,{Promise:L}),r(46)(L,"Promise"),r(106)("Promise"),a=r(26).Promise,f(f.S+f.F*!k,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!k),"Promise",{resolve:function(e){return S(s&&this===a?L:this,e)}}),f(f.S+f.F*!(k&&r(72)((function(e){L.all(e).catch(P)}))),"Promise",{all:function(e){var t=this,r=R(t),n=r.resolve,i=r.reject,o=E((function(){var r=[],o=0,a=1;v(e,!1,(function(e){var s=o++,u=!1;r.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,r[s]=e,--a||n(r))}),i)})),--a||n(r)}));return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=R(t),n=r.reject,i=E((function(){v(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},function(e,t,r){
/**
 * @preserve jed.js https://github.com/SlexAxton/Jed
 */
!function(r,n){var i=Array.prototype,o=Object.prototype,a=i.slice,s=o.hasOwnProperty,u=i.forEach,l={},c={forEach:function(e,t,r){var n,i,o;if(null!==e)if(u&&e.forEach===u)e.forEach(t,r);else if(e.length===+e.length){for(n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===l)return}else for(o in e)if(s.call(e,o)&&t.call(r,e[o],o,e)===l)return},extend:function(e){return this.forEach(a.call(arguments,1),(function(t){for(var r in t)e[r]=t[r]})),e}},f=function(e){if(this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages",debug:!1},this.options=c.extend({},this.defaults,e),this.textdomain(this.options.domain),e.domain&&!this.options.locale_data[this.options.domain])throw new Error("Text domain set to non-existent domain: `"+e.domain+"`")};function d(e){return f.PF.compile(e||"nplurals=2; plural=(n != 1);")}function h(e,t){this._key=e,this._i18n=t}f.context_delimiter=String.fromCharCode(4),c.extend(h.prototype,{onDomain:function(e){return this._domain=e,this},withContext:function(e){return this._context=e,this},ifPlural:function(e,t){return this._val=e,this._pkey=t,this},fetch:function(e){return"[object Array]"!={}.toString.call(e)&&(e=[].slice.call(arguments,0)),(e&&e.length?f.sprintf:function(e){return e})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),e)}}),c.extend(f.prototype,{translate:function(e){return new h(e,this)},textdomain:function(e){if(!e)return this._textdomain;this._textdomain=e},gettext:function(e){return this.dcnpgettext.call(this,void 0,void 0,e)},dgettext:function(e,t){return this.dcnpgettext.call(this,e,void 0,t)},dcgettext:function(e,t){return this.dcnpgettext.call(this,e,void 0,t)},ngettext:function(e,t,r){return this.dcnpgettext.call(this,void 0,void 0,e,t,r)},dngettext:function(e,t,r,n){return this.dcnpgettext.call(this,e,void 0,t,r,n)},dcngettext:function(e,t,r,n){return this.dcnpgettext.call(this,e,void 0,t,r,n)},pgettext:function(e,t){return this.dcnpgettext.call(this,void 0,e,t)},dpgettext:function(e,t,r){return this.dcnpgettext.call(this,e,t,r)},dcpgettext:function(e,t,r){return this.dcnpgettext.call(this,e,t,r)},npgettext:function(e,t,r,n){return this.dcnpgettext.call(this,void 0,e,t,r,n)},dnpgettext:function(e,t,r,n,i){return this.dcnpgettext.call(this,e,t,r,n,i)},dcnpgettext:function(e,t,r,n,i){var o;if(n=n||r,e=e||this._textdomain,!this.options)return(o=new f).dcnpgettext.call(o,void 0,void 0,r,n,i);if(!this.options.locale_data)throw new Error("No locale data provided.");if(!this.options.locale_data[e])throw new Error("Domain `"+e+"` was not found.");if(!this.options.locale_data[e][""])throw new Error("No locale meta information provided.");if(!r)throw new Error("No translation key found.");var a,s,u,l=t?t+f.context_delimiter+r:r,c=this.options.locale_data,h=c[e],p=(c.messages||this.defaults.locale_data.messages)[""],v=h[""].plural_forms||h[""]["Plural-Forms"]||h[""]["plural-forms"]||p.plural_forms||p["Plural-Forms"]||p["plural-forms"];if(void 0===i)u=0;else{if("number"!=typeof i&&(i=parseInt(i,10),isNaN(i)))throw new Error("The number that was passed in is not a number.");u=d(v)(i)}if(!h)throw new Error("No domain named `"+e+"` could be found.");return!(a=h[l])||u>a.length?(this.options.missing_key_callback&&this.options.missing_key_callback(l,e),s=[r,n],!0===this.options.debug&&console.log(s[d(v)(i)]),s[d()(i)]):(s=a[u])||(s=[r,n])[d()(i)]}});var p,v,g=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var r=[];t>0;r[--t]=e);return r.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,n){var i,o,a,s,u,l,c,f=1,d=r.length,h="",p=[];for(o=0;o<d;o++)if("string"===(h=e(r[o])))p.push(r[o]);else if("array"===h){if((s=r[o])[2])for(i=n[f],a=0;a<s[2].length;a++){if(!i.hasOwnProperty(s[2][a]))throw g('[sprintf] property "%s" does not exist',s[2][a]);i=i[s[2][a]]}else i=s[1]?n[s[1]]:n[f++];if(/[^s]/.test(s[8])&&"number"!=e(i))throw g("[sprintf] expecting number but found %s",e(i));switch(null==i&&(i=""),s[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=s[7]?i.toExponential(s[7]):i.toExponential();break;case"f":i=s[7]?parseFloat(i).toFixed(s[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&s[7]?i.substring(0,s[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(s[8])&&s[3]&&i>=0?"+"+i:i,l=s[4]?"0"==s[4]?"0":s[4].charAt(1):" ",c=s[6]-String(i).length,u=s[6]?t(l,c):"",p.push(s[5]?i+u:u+i)}return p.join("")},r.cache={},r.parse=function(e){for(var t=e,r=[],n=[],i=0;t;){if(null!==(r=/^[^\x25]+/.exec(t)))n.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(r[2]){i|=1;var o=[],a=r[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";o.push(s[1])}r[2]=o}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";n.push(r)}t=t.substring(r[0].length)}return n},r}(),m=function(e,t){return t.unshift(e),g.apply(null,t)};f.parse_plural=function(e,t){return e=e.replace(/n/g,t),f.parse_expression(e)},f.sprintf=function(e,t){return"[object Array]"=={}.toString.call(t)?m(e,[].slice.call(t)):g.apply(this,[].slice.call(arguments))},f.prototype.sprintf=function(){return f.sprintf.apply(this,arguments)},f.PF={},f.PF.parse=function(e){var t=f.PF.extractPluralExpr(e);return f.PF.parser.parse.call(f.PF.parser,t)},f.PF.compile=function(e){var t=f.PF.parse(e);return function(e){return!0===(r=f.PF.interpreter(t)(e))?1:r||0;var r}},f.PF.interpreter=function(e){return function(t){switch(e.type){case"GROUP":return f.PF.interpreter(e.expr)(t);case"TERNARY":return f.PF.interpreter(e.expr)(t)?f.PF.interpreter(e.truthy)(t):f.PF.interpreter(e.falsey)(t);case"OR":return f.PF.interpreter(e.left)(t)||f.PF.interpreter(e.right)(t);case"AND":return f.PF.interpreter(e.left)(t)&&f.PF.interpreter(e.right)(t);case"LT":return f.PF.interpreter(e.left)(t)<f.PF.interpreter(e.right)(t);case"GT":return f.PF.interpreter(e.left)(t)>f.PF.interpreter(e.right)(t);case"LTE":return f.PF.interpreter(e.left)(t)<=f.PF.interpreter(e.right)(t);case"GTE":return f.PF.interpreter(e.left)(t)>=f.PF.interpreter(e.right)(t);case"EQ":return f.PF.interpreter(e.left)(t)==f.PF.interpreter(e.right)(t);case"NEQ":return f.PF.interpreter(e.left)(t)!=f.PF.interpreter(e.right)(t);case"MOD":return f.PF.interpreter(e.left)(t)%f.PF.interpreter(e.right)(t);case"VAR":return t;case"NUM":return e.val;default:throw new Error("Invalid Token found.")}}},f.PF.extractPluralExpr=function(e){e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(e)||(e=e.concat(";"));var t,r=/nplurals\=(\d+);/,n=e.match(r);if(!(n.length>1))throw new Error("nplurals not found in plural_forms string: "+e);if(n[1],!((t=(e=e.replace(r,"")).match(/plural\=(.*);/))&&t.length>1))throw new Error("`plural` expression not found: "+e);return t[1]},f.PF.parser=(p={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(e,t,r,n,i,o,a){var s=o.length-1;switch(i){case 1:return{type:"GROUP",expr:o[s-1]};case 2:this.$={type:"TERNARY",expr:o[s-4],truthy:o[s-2],falsey:o[s]};break;case 3:this.$={type:"OR",left:o[s-2],right:o[s]};break;case 4:this.$={type:"AND",left:o[s-2],right:o[s]};break;case 5:this.$={type:"LT",left:o[s-2],right:o[s]};break;case 6:this.$={type:"LTE",left:o[s-2],right:o[s]};break;case 7:this.$={type:"GT",left:o[s-2],right:o[s]};break;case 8:this.$={type:"GTE",left:o[s-2],right:o[s]};break;case 9:this.$={type:"NEQ",left:o[s-2],right:o[s]};break;case 10:this.$={type:"EQ",left:o[s-2],right:o[s]};break;case 11:this.$={type:"MOD",left:o[s-2],right:o[s]};break;case 12:this.$={type:"GROUP",expr:o[s-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(e)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,a="",s=0,u=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;function f(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}i.push(c),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,h,p,v,g,m,y,b,E,w,S={};;){if(p=r[r.length-1],this.defaultActions[p]?v=this.defaultActions[p]:(null==d&&(d=f()),v=o[p]&&o[p][d]),void 0===v||!v.length||!v[0]){if(!l){for(m in E=[],o[p])this.terminals_[m]&&m>2&&E.push("'"+this.terminals_[m]+"'");var _="";_=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+E.join(", ")+", got '"+this.terminals_[d]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:c,expected:E})}if(3==l){if(1==d)throw new Error(_||"Parsing halted.");u=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,d=f()}for(;!(2..toString()in o[p]);){if(0==p)throw new Error(_||"Parsing halted.");w=1,r.length=r.length-2*w,n.length=n.length-w,i.length=i.length-w,p=r[r.length-1]}h=d,d=2,v=o[p=r[r.length-1]]&&o[p][2],l=3}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+d);switch(v[0]){case 1:r.push(d),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(v[1]),d=null,h?(d=h,h=null):(u=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,l>0&&l--);break;case 2:if(y=this.productions_[v[1]][1],S.$=n[n.length-y],S._$={first_line:i[i.length-(y||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(y||1)].first_column,last_column:i[i.length-1].last_column},void 0!==(g=this.performAction.call(S,a,u,s,this.yy,v[1],n,i)))return g;y&&(r=r.slice(0,-1*y*2),n=n.slice(0,-1*y),i=i.slice(0,-1*y)),r.push(this.productions_[v[1]][0]),n.push(S.$),i.push(S._$),b=o[r[r.length-2]][r[r.length-1]],r.push(b);break;case 3:return!0}}return!0}},v=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),n=0;n<r.length;n++)if(e=this._input.match(this.rules[r[n]]))return(t=e[0].match(/\n.*/g))&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1])||void 0;if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},rules:[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}};return e}(),p.lexer=v,p),e.exports&&(t=e.exports=f),t.Jed=f}()},function(e,t,r){var n=r(12);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(44),i=r(38),o=r(23),a=r(49),s=r(20),u=r(86),l=Object.getOwnPropertyDescriptor;t.f=r(18)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(39)("meta"),i=r(12),o=r(20),a=r(17).f,s=0,u=Object.isExtensible||function(){return!0},l=!r(11)((function(){return u(Object.preventExtensions({}))})),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!o(e,n)&&c(e),e}}},function(e,t,r){"use strict";var n=r(22),i=r(19),o=r(11),a=r(29),s=r(6);e.exports=function(e,t,r){var u=s(e),l=r(a,u,""[e]),c=l[0],f=l[1];o((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)}))&&(i(String.prototype,e,c),n(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,r){"use strict";var n=r(9),i=r(20),o=r(28),a=r(77),s=r(49),u=r(11),l=r(41).f,c=r(51).f,f=r(17).f,d=r(134).trim,h=n.Number,p=h,v=h.prototype,g="Number"==o(r(71)(v)),m="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var r,n,i,o=(t=m?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var a,u=t.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,n)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof h&&(g?u((function(){v.valueOf.call(r)})):"Number"!=o(r))?a(new p(y(t)),r,h):y(t)};for(var b,E=r(18)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;E.length>w;w++)i(p,b=E[w])&&!i(h,b)&&f(h,b,c(p,b));h.prototype=v,v.constructor=h,r(19)(n,"Number",h)}},function(e,t,r){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}},function(e,t,r){e.exports=r.p+"images/logo-black.svg"},function(e,t,r){e.exports=r.p+"images/logo.svg"},function(e,t,r){e.exports=r.p+"images/favicon-196x196.png"},function(e,t,r){e.exports={root:"root--1RmGt",videoFadeIn:"videoFadeIn--3wFgb",inner:"inner--1V9oK",circle:"circle--16JVF"}},function(e,t,r){e.exports={root:"root--2Iypo",left:"left--2pkgS",right:"right--1941O"}},function(e,t,r){e.exports={root:"root--2_K9p",nowrap:"nowrap--odzdm",center:"center--3H182"}},function(e,t,r){e.exports={root:"root--28BjM",online:"online--1hJTx",big:"big--2AzNb"}},function(e,t,r){e.exports={root:"root--3BHg4","action-button-wrapper":"action-button-wrapper--npBW2",actionButtonWrapper:"action-button-wrapper--npBW2","action-button":"action-button--tLKx4",actionButton:"action-button--tLKx4"}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(12),i=r(9).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(28);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(69)("keys"),i=r(39);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(26),i=r(9),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(43)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(14),i=r(121),o=r(70),a=r(68)("IE_PROTO"),s=function(){},u=function(){var e,t=r(65)("iframe"),n=o.length;for(t.style.display="none",r(91).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[o[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(6)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(14);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(12),i=r(28),o=r(6)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,r){var n=r(6)("unscopables"),i=Array.prototype;null==i[n]&&r(22)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){var n=r(27),i=r(66),o=r(33),a=r(42),s=r(131);e.exports=function(e,t){var r=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,h=t||s;return function(t,s,p){for(var v,g,m=o(t),y=i(m),b=n(s,p,3),E=a(y.length),w=0,S=r?h(t,E):u?h(t,0):void 0;E>w;w++)if((d||w in y)&&(g=b(v=y[w],w,m),e))if(r)S[w]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:S.push(v)}else if(c)return!1;return f?-1:l||c?c:S}}},function(e,t,r){var n=r(12),i=r(133).set;e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},function(e,t,r){var n=r(8);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(27),i=r(92),o=r(93),a=r(14),s=r(42),u=r(94),l={},c={};(t=e.exports=function(e,t,r,f,d){var h,p,v,g,m=d?function(){return e}:u(e),y=n(r,f,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(h=s(e.length);h>b;b++)if((g=t?y(a(p=e[b])[0],p[1]):y(e[b]))===l||g===c)return g}else for(v=m.call(e);!(p=v.next()).done;)if((g=i(v,y,p.value,t))===l||g===c)return g}).BREAK=l,t.RETURN=c},function(e,t,r){var n=r(19);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){e.exports={root:"root--3-Oel",big:"big--1OHDU"}},function(e,t,r){e.exports={root:"root--3nW_e",big:"big--1sJlJ"}},function(e,t,r){e.exports={root:"root--jpBty","with-shadow":"with-shadow--2TdhN",withShadow:"with-shadow--2TdhN"}},function(e,t,r){"use strict";(function(e){var t=r(110),n=r(55),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in i?i.Promise.prototype.finally||(i.Promise.prototype.finally=n.a):i.Promise=t.a}).call(this,r(64))},function(e,t,r){e.exports=!r(18)&&!r(11)((function(){return 7!=Object.defineProperty(r(65)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(20),i=r(23),o=r(88)(!1),a=r(68)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),u=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~o(l,r)||l.push(r));return l}},function(e,t,r){var n=r(23),i=r(42),o=r(118);e.exports=function(e){return function(t,r,a){var s,u=n(t),l=i(u.length),c=o(a,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){"use strict";var n=r(17),i=r(38);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){"use strict";var n=r(43),i=r(8),o=r(19),a=r(22),s=r(45),u=r(120),l=r(46),c=r(122),f=r(6)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,p,v,g,m){u(r,t,p);var y,b,E,w=function(e){if(!d&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",_="values"==v,O=!1,T=e.prototype,A=T[f]||T["@@iterator"]||v&&T[v],L=A||w(v),x=v?_?w("entries"):L:void 0,P="Array"==t&&T.entries||A;if(P&&(E=c(P.call(new e)))!==Object.prototype&&E.next&&(l(E,S,!0),n||"function"==typeof E[f]||a(E,f,h)),_&&A&&"values"!==A.name&&(O=!0,L=function(){return A.call(this)}),n&&!m||!d&&!O&&T[f]||a(T,f,L),s[t]=L,s[S]=h,v)if(y={values:_?L:w("values"),keys:g?L:w("keys"),entries:x},m)for(b in y)b in T||o(T,b,y[b]);else i(i.P+i.F*(d||O),t,y);return y}},function(e,t,r){var n=r(9).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(14);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(45),i=r(6)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){var n=r(95),i=r(6)("iterator"),o=r(45);e.exports=r(26).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n=r(28),i=r(6)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){var n=r(9),i=r(26),o=r(43),a=r(97),s=r(17).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){t.f=r(6)},function(e,t,r){var n=r(28);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(30),i=r(50),o=r(44),a=r(33),s=r(66),u=Object.assign;e.exports=!u||r(11)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function(e,t){for(var r=a(e),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var d,h=s(arguments[l++]),p=c?n(h).concat(c(h)):n(h),v=p.length,g=0;v>g;)f.call(h,d=p[g++])&&(r[d]=h[d]);return r}:u},function(e,t,r){var n=r(74),i=r(29);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},function(e,t,r){var n=r(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){var n=r(17).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r(18)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,r){var n=r(30),i=r(23),o=r(44).f;e.exports=function(e){return function(t){for(var r,a=i(t),s=n(a),u=s.length,l=0,c=[];u>l;)o.call(a,r=s[l++])&&c.push(e?[r,a[r]]:a[r]);return c}}},function(e,t,r){var n,i,o,a=r(27),s=r(138),u=r(91),l=r(65),c=r(9),f=c.process,d=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,g=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};d&&h||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},n(g),g},h=function(e){delete m[e]},"process"==r(28)(f)?n=function(e){f.nextTick(a(y,e,1))}:v&&v.now?n=function(e){v.now(a(y,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,r){"use strict";var n=r(40);function i(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new i(e)}},function(e,t,r){"use strict";var n=r(9),i=r(17),o=r(18),a=r(6)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(8),i=r(103)(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},function(e,t,r){"use strict";var n=r(8),i=r(40),o=r(33),a=r(11),s=[].sort,u=[1,2,3];n(n.P+n.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!r(146)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,r){var n=r(12);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";(function(e){var n=r(55),i=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function a(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void c(t.promise,e)}l(t.promise,n)}else(1===e._state?l:c)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof s)return e._state=3,e._value=t,void f(e);if("function"==typeof r)return void h((n=r,i=t,function(){n.apply(i,arguments)}),e)}e._state=1,e._value=t,f(e)}catch(t){c(e,t)}var n,i}function c(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)u(e,e._deferreds[t]);e._deferreds=null}function d(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function h(e,t){var r=!1;try{e((function(e){r||(r=!0,l(t,e))}),(function(e){r||(r=!0,c(t,e))}))}catch(e){if(r)return;r=!0,c(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var r=new this.constructor(a);return u(this,new d(e,t,r)),r},s.prototype.finally=n.a,s.all=function(e){return new s((function(t,r){if(!o(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function a(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(t){a(e,t)}),r)}n[e]=o,0==--i&&t(n)}catch(e){r(e)}}for(var s=0;s<n.length;s++)a(s,n[s])}))},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,r){r(e)}))},s.race=function(e){return new s((function(t,r){if(!o(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)s.resolve(e[n]).then(t,r)}))},s._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){i(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=s}).call(this,r(114).setImmediate)},function(e,t,r){!function(e){"use strict";function t(e){if(""===e.src||this.loader.lastDrawnIndex>e.queueIndex)console.info("Stripchat Player :: Skip of successfully loaded image");else if(this.canvasRef&&(this.loader.lastDrawnIndex=e.queueIndex,!1!==this.successHandler(e))){var t=this.canvasRef.getContext("2d");if(0<this.canvasRef.width&&0<this.canvasRef.height&&e){var r=function(e,t){var r=e.height,n=e.width;if(!t)return{canvasWidth:n,canvasHeight:r,canvasWidthOffset:0,canvasHeightOffset:0};var i=t.height,o=t.width,a=Math.max(o/n,i/r),s=(n*a-o)/a,u=(r*a-i)/a;return{canvasWidth:n-s,canvasHeight:r-u,canvasWidthOffset:s/2,canvasHeightOffset:u/2}}(e,this.containerSize);this.canvasRef.width=this.containerSize.width,this.canvasRef.height=this.containerSize.height,t.clearRect(0,0,this.containerSize.width,this.containerSize.height),t.drawImage(e,r.canvasWidthOffset,r.canvasHeightOffset,r.canvasWidth,r.canvasHeight,0,0,this.canvasRef.width,this.canvasRef.height)}}}function r(){var e=new Image;return e.setAttribute("crossOrigin","anonymous"),e.onLoadListener=t.bind(this,e),e.onErrorListener=function(e){this.loader.queue&&(console.warn("Stripchat Player :: Image loading error"),this.unmount(),this.errorHandler(e))}.bind(this,e),e.addEventListener("load",e.onLoadListener),e.addEventListener("error",e.onErrorListener),e}function n(){if(this.loader.queue){var e,t,r,n,i,o=this.loader.queue.shift();o.src=(e=this.modelId,t=this.snapshotServer,r=this.isNewSnapshotUrl,n="http:"===location.protocol?"http":"https",i="?token="+this.modelToken+"&_="+(new Date).valueOf(),r?n+"://sp.stripcdn.com/"+t+"/snapshot/"+e+i:n+"://c-"+t+".stripst.com/snapshot/"+e+i),o.queueIndex=this.loader.lastQueuedIndex,this.loader.lastQueuedIndex+=1,this.loader.queue.push(o)}}function i(){this.canvasRef=null,this.fps=10,this.modelId="",this.modelToken="",this.snapshotServer="",this.successHandler=function(){},this.errorHandler=function(){},this.queueSize=30,this.loader={},this.paused=!1,this.isNewSnapshotUrl=100*Math.random()<30}i.prototype.setCanvasRef=function(e){if(!(e instanceof HTMLCanvasElement))throw Error("Stripchat Player :: setCanvasRef accepts only canvas elements");return this.canvasRef=e,this},i.prototype.setModelId=function(e){return this.modelId=""+e,this},i.prototype.setModelToken=function(e){return this.modelToken=""+e,this},i.prototype.setModelSnapshotServer=function(e){return this.snapshotServer=""+e,this},i.prototype.setFps=function(e){return this.fps=+e,this},i.prototype.setSuccessHandler=function(e){if(!(e instanceof Function))throw Error("Stripchat Player :: setSuccessHandler accepts only functions");return this.successHandler=e,this},i.prototype.setErrorHandler=function(e){if(!(e instanceof Function))throw Error("Stripchat Player :: setErrorHandler accepts only functions");return this.errorHandler=e,this},i.prototype.initLoader=function(){return this.loader={queue:[],interval:null,intervalTime:10*Math.round(100/this.fps),lastQueuedIndex:0,lastDrawnIndex:0},this},i.prototype.initQueue=function(){for(var e=[],t=0;t<this.queueSize;t++)e.push(r.call(this));return this.loader.queue=e,this},i.prototype.initInterval=function(){return this.loader.intervalTimer=function(){this.paused||n.call(this),this.loader.interval=setTimeout(this.loader.intervalTimer,this.loader.intervalTime)}.bind(this),this},i.prototype.init=function(){return this.containerSize={height:this.canvasRef.offsetHeight,width:this.canvasRef.offsetWidth},this.initLoader().initQueue().initInterval()},i.prototype.mount=function(){if(!this.canvasRef)throw Error("Stripchat Player :: canvas element was not specified");return this.init(),this.loader.intervalTimer(),this},i.prototype.unmount=function(){return this.loader.queue&&(this.loader.queue.forEach((function(e,t,r){r[t].src="",r[t].removeEventListener("load",r[t].onLoadListener)})),null!==this.loader.interval&&(clearTimeout(this.loader.interval),this.loader={})),this.loader={},this},i.prototype.pause=function(){return this.paused=!0,this},i.prototype.play=function(){this.paused=!1};var o={StripchatPlayer:i},a=o.StripchatPlayer;e.default=o,e.StripchatPlayer=a,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,n||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,n,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,o),!0;case 6:return c.fn.call(c.context,t,r,n,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,n);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==t||n&&!a[s].once||r&&a[s].context!==r)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},function(e,t,r){window,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){window,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";function n(){var e=window.navigator.userAgent;return e.indexOf("Android")>-1&&e.indexOf("Mozilla/5.0")>-1&&e.indexOf("AppleWebKit")>-1}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";function n(){var e=window,t=e.chrome,r=e.navigator,n=e.opr,i=r.vendor,o=r.userAgent,a=void 0!==n,s=o.indexOf("Edge")>-1,u=o.match("CriOS"),l=o.match("Chromium");return u||null!==t&&"undefined"!==t&&"Google Inc."===i&&!1===a&&!1===s||l}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";function n(){return window.navigator.userAgent.indexOf("Edge/")>0}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";function n(){return window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";function n(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),r=e.indexOf("Trident/");return t>0||r>0}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";function n(){var e=window.opera||window.opr,t=window.navigator.userAgent.match(/Opera|OPR\//);return e&&t}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";function n(){var e=window.navigator,t=e.vendor,r=e.userAgent,n=t&&t.indexOf("Apple")>-1,i=r&&-1==r.indexOf("CriOS")&&-1==r.indexOf("FxiOS");return n&&i}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";function n(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"ANDROID",(function(){return i})),r.d(n,"CHROME",(function(){return o})),r.d(n,"EDGE",(function(){return a})),r.d(n,"FIREFOX",(function(){return s})),r.d(n,"IE",(function(){return u})),r.d(n,"OPERA",(function(){return l})),r.d(n,"SAFARI",(function(){return c})),r.d(n,"UNKNOWN",(function(){return f}));var i="android",o="chrome",a="edge",s="firefox",u="ie",l="opera",c="safari",f="unknown",d=r(0),h=r(1),p=r(2),v=r(3),g=r(4),m=r(7),y=r(5),b=r(6);function E(){return Object(h.default)()?o:Object(b.default)()?c:Object(p.default)()?a:Object(v.default)()?s:Object(g.default)()?u:Object(d.default)()?i:Object(y.default)()?l:f}r.d(t,"detect",(function(){return E})),r.d(t,"browsers",(function(){return n})),r.d(t,"isAndroid",(function(){return d.default})),r.d(t,"isChrome",(function(){return h.default})),r.d(t,"isEdge",(function(){return p.default})),r.d(t,"isFirefox",(function(){return v.default})),r.d(t,"isIE",(function(){return g.default})),r.d(t,"isMobile",(function(){return m.default})),r.d(t,"isOpera",(function(){return y.default})),r.d(t,"isSafari",(function(){return b.default}))}])},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r(0),i="cd1394e6-3fd1-4a2d-ae60-c9ae01f7ee89",o=new Error("Cannot identify whether incognito mode is active");function a(){var e=Object(n.detect)();return new Promise((function(t,r){var a=function(){return t(!0)},s=function(){return t(!1)},u=function(){return r(o)};if(e===n.browsers.CHROME||e===n.browsers.OPERA){var l=window.RequestFileSystem||window.webkitRequestFileSystem;return l?l(0,0,s,a):u()}if(e===n.browsers.FIREFOX){if(!window.indexedDB)return a();var c=window.indexedDB.open(i);c.onerror=a,c.onsuccess=s}if(e===n.browsers.IE||e===n.browsers.EDGE)return window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?s():a();if(e===n.browsers.SAFARI){try{localStorage[i]=i,localStorage.removeItem(i)}catch(e){return a()}try{window.openDatabase(null,null,null,null)}catch(e){return a()}return s()}return u()}))}}])},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(115),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(64))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,a,s,u=1,l={},c=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},d.clearImmediate=h}function h(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(64),r(116))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){var n=r(41),i=r(50),o=r(14),a=r(9).Reflect;e.exports=a&&a.ownKeys||function(e){var t=n.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(67),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},function(e,t,r){var n=r(67),i=r(29);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(71),i=r(38),o=r(46),a={};r(22)(a,r(6)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(17),i=r(14),o=r(30);e.exports=r(18)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,u=0;s>u;)n.f(e,r=a[u++],t[r]);return e}},function(e,t,r){var n=r(20),i=r(33),o=r(68)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){r(18)&&"g"!=/./g.flags&&r(17).f(RegExp.prototype,"flags",{configurable:!0,get:r(73)})},function(e,t,r){var n=r(30),i=r(50),o=r(44);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,r){var n=r(23),i=r(41).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,r){r(53)("search",1,(function(e,t,r){return[function(r){"use strict";var n=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},r]}))},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(8),i=r(26),o=r(11);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",a)}},function(e,t,r){},function(e,t,r){var n=r(8),i=r(11),o=r(29),a=/"/g,s=function(e,t,r,n){var i=String(o(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(s),n(n.P+n.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},function(e,t,r){var n=r(132);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(12),i=r(98),o=r(6)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(12),i=r(14),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(27)(Function.call,r(51).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){var n=r(8),i=r(29),o=r(11),a=r(135),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(e,t,r){var i={},s=o((function(){return!!a[e]()||""!=""[e]()})),u=i[e]=s?t(f):a[e];r&&(i[r]=u),n(n.P+n.F*s,"String",i)},f=c.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=c},function(e,t){e.exports="\t\n\v\f\r  \u2028\u2029\ufeff"},function(e,t,r){},function(e,t,r){var n=r(14),i=r(40),o=r(6)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(9),i=r(104).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==r(28)(a);e.exports=function(){var e,t,r,l=function(){var n,i;for(u&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){a.nextTick(l)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(l)}}else r=function(){i.call(n,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),r=function(){d.data=f=!f}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(9).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){var n=r(14),i=r(12),o=r(105);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(9),i=r(77),o=r(17).f,a=r(41).f,s=r(74),u=r(73),l=n.RegExp,c=l,f=l.prototype,d=/a/g,h=/a/g,p=new l(d)!==d;if(r(18)&&(!p||r(11)((function(){return h[r(6)("match")]=!1,l(d)!=d||l(h)==h||"/a/i"!=l(d,"i")})))){l=function(e,t){var r=this instanceof l,n=s(e),o=void 0===t;return!r&&n&&e.constructor===l&&o?e:i(p?new c(n&&!o?e.source:e,t):c((n=e instanceof l)?e.source:e,n&&o?u.call(e):t),r?this:f,l)};for(var v=function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},g=a(c),m=0;g.length>m;)v(g[m++]);f.constructor=l,l.prototype=f,r(19)(n,"RegExp",l)}r(106)("RegExp")},function(e,t,r){r(53)("match",1,(function(e,t,r){return[function(r){"use strict";var n=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},r]}))},function(e,t,r){"use strict";var n=r(8),i=r(42),o=r(100),a="".startsWith;n(n.P+n.F*r(101)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return a?a.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){"use strict";var n=r(11);e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,r){"use strict";var n,i=r(76)(0),o=r(19),a=r(52),s=r(99),u=r(148),l=r(12),c=r(11),f=r(109),d=a.getWeak,h=Object.isExtensible,p=u.ufstore,v={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(e){if(l(e)){var t=d(e);return!0===t?p(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,"WeakMap"),e,t)}},y=e.exports=r(149)("WeakMap",g,m,u,!0,!0);c((function(){return 7!=(new y).set((Object.freeze||Object)(v),7).get(v)}))&&(s((n=u.getConstructor(g,"WeakMap")).prototype,m),a.NEED=!0,i(["delete","has","get","set"],(function(e){var t=y.prototype,r=t[e];o(t,e,(function(t,i){if(l(t)&&!h(t)){this._f||(this._f=new n);var o=this._f[e](t,i);return"set"==e?this:o}return r.call(this,t,i)}))})))},function(e,t,r){"use strict";var n=r(81),i=r(52).getWeak,o=r(14),a=r(12),s=r(79),u=r(80),l=r(76),c=r(20),f=r(109),d=l(5),h=l(6),p=0,v=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},m=function(e,t){return d(e.a,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var r=m(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var l=e((function(e,n){s(e,l,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=n&&u(n,r,e[o],e)}));return n(l.prototype,{delete:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(f(this,t)).delete(e):r&&c(r,this._i)&&delete r[this._i]},has:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(f(this,t)).has(e):r&&c(r,this._i)}}),l},def:function(e,t,r){var n=i(o(t),!0);return!0===n?v(e).set(t,r):n[e._i]=r,e},ufstore:v}},function(e,t,r){"use strict";var n=r(9),i=r(8),o=r(19),a=r(81),s=r(52),u=r(80),l=r(79),c=r(12),f=r(11),d=r(72),h=r(46),p=r(77);e.exports=function(e,t,r,v,g,m){var y=n[e],b=y,E=g?"set":"add",w=b&&b.prototype,S={},_=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof b&&(m||w.forEach&&!f((function(){(new b).entries().next()})))){var O=new b,T=O[E](m?{}:-0,1)!=O,A=f((function(){O.has(1)})),L=d((function(e){new b(e)})),x=!m&&f((function(){for(var e=new b,t=5;t--;)e[E](t,t);return!e.has(-0)}));L||((b=t((function(t,r){l(t,b,e);var n=p(new y,t,b);return null!=r&&u(r,g,n[E],n),n}))).prototype=w,w.constructor=b),(A||x)&&(_("delete"),_("has"),g&&_("get")),(x||T)&&_(E),m&&w.clear&&delete w.clear}else b=v.getConstructor(t,e,g,E),a(b.prototype,r),s.NEED=!0;return h(b,e),S[e]=b,i(i.G+i.W+i.F*(b!=y),S),m||v.setStrong(b,e,g),b}},function(e,t,r){"use strict";r.r(t);r(85);var n={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function d(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e,t,r,n=c(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=f(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=a(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,t){this.map[a(e)]=s(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},p.call(g.prototype),p.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];y.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})};var E=self.DOMException;try{new E}catch(e){(E=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function w(e,t){return new Promise((function(r,i){var o=new g(e,t);if(o.signal&&o.signal.aborted)return i(new E("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new y(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new E("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",s)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}function S(e,t){for(var r=[],n=[],i=arguments.length;i-- >2;)r.push(arguments[i]);for(;r.length;){var o=r.pop();if(o&&o.pop)for(i=o.length;i--;)r.push(o[i]);else null!=o&&!0!==o&&!1!==o&&n.push(o)}return"function"==typeof e?e(t||{},n):{nodeName:e,attributes:t||{},children:n,key:t&&t.key}}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=l,self.Request=g,self.Response=y);r(3),r(13),r(15),r(10),r(4),r(5),r(24),r(126),r(34),r(0),r(1),r(2);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function L(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var x=function(e){return function(t){try{return e(t)}catch(e){return t}}},P=x(decodeURIComponent),R=x(encodeURIComponent);function k(e){return Object.keys(e).reduce((function(t,r){var n=e[r],i=[R(r),void 0===n?null:R(n)].filter(Boolean);return[].concat(L(t),[i.join("=")])}),[]).join("&")}function D(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("&").reduce((function(e,t){var r=t.indexOf("="),n=-1===r,i=n?t:t.slice(0,r);return e[P(i)]=n?void 0:P(t.slice(r+1)),e}),{})}function I(e,t){var r=A(e.split("?"),2),n=r[0],i=r[1],o=A((void 0===i?"":i).split("#"),2),a=o[0],s=o[1],u=k(O({},a?D(a):{},{},t));return u?"".concat(n,"?").concat(u).concat(s?"#".concat(s):""):e}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=document.createElement("a");t.href=e;var r=t.search.substring(1);return r?D(r):{}}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j=new(function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=[],(r="subscribers")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,n;return t=e,(r=[{key:"get",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=I(e,r);return window.fetch(i,n).then((function(r){if(!r.ok)throw new Error("".concat(r.status," - ").concat(r.statusText));return t.onApiCall(e,"get",!0),r.json()})).catch((function(r){throw t.onApiCall(e,"get",!1),r}))}},{key:"post",value:function(e,t){var r=this;return window.fetch(e,{method:"POST",body:JSON.stringify(t)}).then((function(t){if(!t.ok)throw t;return r.onApiCall(e,"post",!0),t.json()})).catch((function(t){throw r.onApiCall(e,"post",!1),t}))}},{key:"subscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.subscribers.push({callback:e,conditionFunction:t,deleteAfterCall:r})}},{key:"onApiCall",value:function(e,t,r){this.subscribers=this.subscribers.filter((function(n){var i=n.callback,o=n.conditionFunction,a=n.deleteAfterCall;return!(!o||o(e,t,r))||(i(e,t,r),!a)}))}}])&&F(t.prototype,r),n&&F(t,n),e}()),M=(r(129),r(35),r(36),r(7)),N=r.n(M),B=r(56),U=r.n(B),G=r(57),H=r.n(G),z=r(58),V=r.n(z),W={small:{width:150,height:113},middle:{width:180,height:135},big:{width:240,height:180}},K={ON_HOVER:"onHover",ALL:"all",ALL_IN_FOCUS:"allInFocus",FIRST_THUMB:"firstThumb",FIRST_THUMB_IF_PAGE_IN_FOCUS:"firstThumbIfPageInFocus",ALL_IN_VIEWPORT:"allInViewport",FIRST_THUMB_IF_IN_VIEWPORT:"firstThumbIfThumbInViewport",NOT_AT_ALL:"notAtAll",RANDOM_ONCE:"randomOnce",RANDOM_LOOP:"randomLoop"},q={HLS:"hls",CANVAS:"canvas"},Y=(U.a,H.a,V.a,{S_CHAT_BEST:"SChatBest",S_CASH_BEST:"SCashBest",SNAPSHOT:"snapshot",PREVIEW:"preview",AVATAR:"avatar"}),X={best:Y.S_CASH_BEST,SCBest:Y.S_CHAT_BEST},$=function(e){var t=e.broadcastGender,r=e.gender;return"group"===t?r:t},Q=function(e){return e.broadcastVR||(t=e.tags,r="autoTagVr",t&&t.length&&-1!==t.indexOf(r));var t,r},J=(r(21),r(25),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(r,n){return e(t[n],n)&&(r[n]=t[n]),r}),{})}),Z=function(e){return null==e};function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var te=function(e){return Z(e)||""===e||Array.isArray(e)&&0===e.length||"object"===ee(e)&&0===Object.keys(e).length||"number"==typeof e&&e!=e},re=function(e,t){return function(){return e.apply(void 0,arguments)&&t.apply(void 0,arguments)}},ne=function(e,t){return function(){return e.apply(void 0,arguments)||t.apply(void 0,arguments)}},ie=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{event:e,effect:t,options:r}},oe=function(e){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return{name:e,payload:t}};return t.effect=function(e){return ie(t,e)},t.effectOnce=function(e){return ie(t,e,{once:!0})},t.eventName=e,t},ae=oe("App bootstrap"),se=oe("App initialization");r(102);function ue(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var le=function(e){var t=[],r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.map((function(e){if(e in r)return r[e];throw new Error('Dependency "'.concat(e,'" is empty!'))}));return e.apply(void 0,ue(n))};return r.requires=function(){return t.push.apply(t,arguments),r},r};r(31);function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var fe=function(e){return Array.isArray(e)?e:[e]},de=function(e){var t=[],r=function(e){return t.find((function(t){return t.event===e}))},n=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r(e);o?o.handlers.push([n,i]):t.push({event:e,handlers:[[n,i]]})};return{initialState:e,on:function(e,t){return fe(e).forEach((function(e){n(e,t)})),this},once:function(e,t){return fe(e).forEach((function(e){n(e,t,{once:!0})})),this},bind:function(e,r){t.forEach((function(t){var n=t.event;t.handlers.forEach((function(t){var i=ce(t,2),o=i[0],a=function(e){return r(o(e))};i[1].once?e.once(n,a):e.on(n,a)}))}))}}},he=oe("Call to starts models loading"),pe=oe("Models started loading"),ve=oe("Models loaded"),ge=oe("Models not loaded"),me=oe("Models ready"),ye=oe("Model thumb rendered"),be=oe("replace model"),Ee=oe("Models api parameters loaded"),we=oe("models, loading data from api"),Se=oe("models, api response cached"),_e=oe("models, replace by random models"),Oe=oe("models, api data loaded"),Te=oe("Impression ready"),Ae=oe("Tracking parameters loaded"),Le=(oe("incognito detected"),oe("App initialized")),xe={headerLogoUrlBlack:U.a,headerLogoUrl:H.a,siteName:"Stripchat",domain:"stripchat.com",appIconUrl:V.a},Pe=function(e,t){return t.get((n=(r=e).href,i=r.hostname,o=r.protocol,"".concat(void 0===o?"https:":o,"//go.").concat(i.replace(/^(creative|vr|gate)\./,""),"/config?url=").concat(encodeURIComponent(n))));var r,n,i,o},Re=function(e,t){return e.urls[t]},ke=function(e){return e.whiteLabelData||{}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;return le((function(t,r){return e(t,r).then((function(e){var t=e.whiteLabel,r=e.urls,n=e.features,i=e.parameters,o=(i=void 0===i?{}:i).modelsApi,a=i.impression,s=i.tracking;return{effects:[ae.effect((function(){return function(e,t){return t(Ee(o),Ae({impression:a,tracking:s}))}})),se.effect((function(){return function(e,t){return t(Le())}}))],reducer:de({appInitialized:!1,urls:r,features:n,whiteLabelData:t||xe}).on(se,(function(){return{appInitialized:!0}}))}}))})).requires("location","Api")};function Ie(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ce=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.length;if(n<2)throw new Error("Selector should receive more than one argument!");var i=t[n-1],o=t.slice(0,n-1);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.apply(void 0,Ie(o.map((function(e){return e.apply(void 0,t)}))))}},Fe=(r(54),r(78),"int"),je="int_list",Me="bool",Ne="string",Be="enum",Ue="string_list",Ge="hex_color",He="hex_list",ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s/g,"")},Ve=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,We=function(e,t){var r=t.min,n=parseInt(e,10);switch(!0){case Number.isNaN(n):case!Z(r)&&n<r:return!1;default:return!0}},Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return 0===t.indexOf(e)},qe=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s/g,"")},Xe=function(e,t,r,n){var i=n.allowEmpty;switch(r){case Fe:return parseInt(e,10);case je:return(e||"").split(",").map((function(e){return parseInt(e,10)})).filter(Boolean);case Me:return"boolean"==typeof e?e:1===parseInt(e,10);case Ne:case Be:return"".concat(e).trim();case Ue:return""===e?[]:(e||"").split(",").map((function(e){return e.trim()})).filter((function(e){return e||i}));case Ge:return Ye(e)&&Ke("#",e)?e:"#".concat(e);case He:return(e||"").split(",").map(Ye).filter((function(e){return qe.test(e)})).map((function(e){return Ke("#",e)?e:"#".concat(e)}));default:throw new Error("Unknown type ".concat(r))}};function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Je(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ze=function(e,t){return e.reduce((function(e,r){var n=r.key,i=r.default,o=r.type,a=r.convertValue,s=void 0===a?Xe:a,u=r.isAccepted,l=Je(r,["key","default","type","convertValue","isAccepted"]),c=!(n in t),f=Z(i);if(c&&f)return e;var d=t[n],h=u?u(d,t):function(e){var t=e.value,r=e.type,n=e.options;switch(r){case Fe:return We(t,n);case je:return(t||"").split(",").some((function(e){return We(e,n)}));case Me:return["1",1,"0",0].includes(t);case Ne:return"".concat(t).trim();case Be:return n.enum.includes(ze(t));case Ue:return(t||"").split(",").some((function(e){return!!ze(e)}));case Ge:return Ve.test(t);case He:return(t||"").split(",").some((function(e){return Ve.test(ze(e))}));default:throw new Error("Unknown type ".concat(r))}}({value:d,type:o,options:l});return f&&!h?e:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(r,!0).forEach((function(t){Qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,Qe({},n,s(h&&d||function(e,t){return"function"==typeof e?e(t):e}(i,t),t,o,l)))}),{})},et=oe("App configuration"),tt=oe("Update config"),rt=oe("Update query");function nt(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(r,!0).forEach((function(t){at(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function at(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var st=function(e){return function(t){return{config:ot({},t.config,{},e)}}},ut=le((function(e,t){var r=t.fixedQueryParams,n={acceptedParamsConfig:[],initialConfig:{}},i=ot({},C(e.href),{},r),o=function(){return st(ot({},n.initialConfig,{},Ze(n.acceptedParamsConfig||[],i),{acceptedQueryParamsConfig:n.acceptedParamsConfig,queryParams:i}))};return{reducer:de({config:{queryParams:{}}}).on(se,(function(){return o()})).on(rt,(function(e){return Object.assign(i,e),o()})).on(tt,st),effects:[et.effect((function(e){var t=e.acceptedParamsConfig,r=void 0===t?[]:t,i=e.initialConfig,o=void 0===i?{}:i;n.acceptedParamsConfig=[].concat(nt(n.acceptedParamsConfig),nt(r)),n.initialConfig=ot({},n.initialConfig,{},o)}))]}})).requires("location","globals"),lt=function(e){return ae.effect((function(){return function(t,r){return r(et(e))}}))},ct=function(e){var t=e.config;return void 0===t?{}:t},ft=ut;function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(r,!0).forEach((function(t){pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vt,gt=function(e){return e.modelsMeta||{}},mt=Ce(ct,(function(e){var t=e.modelsLimit,r=e.limit,n=void 0===r?1/0:r;return Math.min(n,t)})),yt=Ce(gt,ct,(vt="isNewModelApi",function(e){var t=e.features;return(void 0===t?{}:t)[vt]||{}}),(function(e,t,r){var n=t.player,i=r.enabled;return te(e)?null:"".concat(n,"-").concat(i?"newAPI":"oldAPI")})),bt=Ce(gt,(function(e){var t=e.modelsList;return(void 0===t?[]:t).length}),yt,(function(e,t,r){return ht({},e,{modelsCount:t,segment:r})})),Et=Ce(ct,mt,(function(e){return e.modelsApiParameters}),(function(e,t,r){var n=e.queryParams,i=e.stripcashR,o=e.forceClient;return ht({},J((function(e,t){return!te(e)&&r.includes(t)}),n),{forceClient:o,stripcashR:i,limit:t})})),wt=(Ce(ct,(function(e){var t=e.linkToModelFromThumb,r=void 0!==t&&t,n=e.nonNudeContent,i=void 0!==n&&n,o=e.queryParams;return!(!i||void 0!==(void 0===o?{}:o).linkToModelFromThumb)||r})),Ce(ct,(function(e){return e.quality}))),St=function(e){return"male"===e.prevailingGender};function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tt=function(e){return Object.keys(e).reduce((function(t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(r,!0).forEach((function(t){Ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,Ot({},r,"boolean"!=typeof e[r]?e[r]:!0===e[r]?1:0))}),{})};function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(r,!0).forEach((function(t){xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Rt,kt=function(e){return function(t,r){return e.includes(r)}},Dt={referrer:!0},It=ne((function(e,t){return Dt[t]}),(Rt=te,function(){return!Rt.apply(void 0,arguments)})),Ct=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.isIncognito,i=e.trackingParameters,o=e.referrer,a=ct(e),s=a.queryParams,u=void 0===s?{}:s,l=a.landing,c=a.path,f=a.referrer,d=Pt(a,["queryParams","landing","path","referrer"]),h=f||o;return Tt(J(re(It,kt(i)),Lt({},u,{},d,{},r,{},bt(e),{path:t||u.path||c||"/",i:n,landing:l,referrer:h})))},Ft=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Ct(e,t,r);return I(Re(e,"click"),ct(e).encrypted?{e:btoa(k(n))}:n)},jt={Direct:"direct",IfOnline:"ifOnline",IfOnlineNew:"ifOnlineNew"};function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bt=function(e,t,r){var n,i,o,a=ct(e),s=function(e,t){var r=e.linkToModel,n=t.username;switch(r){case jt.IfOnline:return{path:"/api/external/v3/affiliates/models/".concat(n,"/online")};case jt.IfOnlineNew:return{path:"/",query:{onlineModels:n}};default:return{path:"/".concat(n)}}}(a,t),u=s.path,l=s.query,c=void 0===l?{}:l;return Ft(e,u,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(r,!0).forEach((function(t){Nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{},a.thumbType===Y.S_CASH_BEST?{thumbModelId:t.id,thumbUrl:t.thumbUrl}:{},{},(n=t,i=a.sortBy,o=n.hasSignupRate,"signupRateSort"===i?{fromSignupRate:o}:{}),{},c))},Ut=Ce(ct,(function(e){var t=e.thumbSizeKey;return W[t]||{}})),Gt=function(e){var t=[],r=function(e){return(t.find((function(t){return t.args.length===e.length&&t.args.every((function(t,r){return t===e[r]}))}))||{}).result},n=function(e,r){return t.push({args:e,result:r}),r};return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r(i)||n(i,e.apply(void 0,i))}},Ht=function(e){return e.hasFocus?e.hasFocus():!e.hidden};function zt(e){try{return e.self!==e.top}catch(e){return!0}}var Vt=function(e){var t,r,n=e.appIconUrl,i=e.siteName;document.title="".concat(i," - ").concat(document.title),t=n,(r=document.querySelector("link[rel*='icon']")||document.createElement("link")).type="image/png",r.rel="shortcut icon",r.href=t,document.head.appendChild(r)},Wt=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){t=null,e.apply(void 0,i)}),r)}},Kt=oe("Terminate"),qt=oe("Window blurred"),Yt=oe("Window focused"),Xt=oe("Window scrolled"),$t=oe("Window resized");function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(r,!0).forEach((function(t){Zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var er=function(e){return function(t){return{window:Jt({},t.window,{},e)}}},tr=le((function(e,t){var r=Gt((function(e){return function(){return e(qt())}})),n=Gt((function(e){return function(){return e(Yt())}})),i=Gt((function(t){return function(){return t(Xt(e.scrollY))}})),o=Gt((function(t){return Wt((function(){return t($t({height:e.innerHeight,width:e.innerWidth}))}),300)})),a=se.effect((function(){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){var e=t.length,r=t[e-1],n=t.slice(0,e-1);return n.reverse().reduce((function(e,t){return t(e)}),r.apply(void 0,arguments))}}(Vt,ke)})),s=se.effect((function(){return function(t,a){e.addEventListener("blur",r(a)),e.addEventListener("focus",n(a)),e.addEventListener("scroll",i(a)),e.addEventListener("resize",o(a))}})),u=Kt.effect((function(){return function(t,a){e.removeEventListener("blur",r(a)),e.removeEventListener("focus",n(a)),e.removeEventListener("scroll",i(a)),e.removeEventListener("resize",o(a))}}));return{reducer:de({referrer:t,window:{iFramed:zt(e),hasFocus:Ht(e.document),scrollTop:0,height:e.innerHeight,width:e.innerWidth}}).on(Xt,(function(e){return er({scrollTop:e})})).on($t,er).on(qt,(function(){return er({hasFocus:!1})})).on(Yt,(function(){return er({hasFocus:!0})})),effects:[a,s,u],actions:{terminate:function(){return function(e,t){return t(Kt())}}}}})).requires("window","referrer"),rr="appearance_and_behaviour",nr={acceptedParamsConfig:[{key:"nonNudeContent",title:"Non nude content",description:"Show only non nude content, if nonNudeContent=1, autoplay forced to notAtAll, backgroundImage Will be forsed to non nude",section:rr,type:Me,default:!1}]},ir=(le((function(){return{effects:[lt(nr)]}})),Ce(ct,(function(e){return!!e.nonNudeContent}))),or=Ce(ir,ct,(function(e,t){var r=t.autoplay,n=t.queryParams;return e&&!n.autoplay||r===K.NOT_AT_ALL})),ar=Ce(ct,(function(e){return e.autoplayForce})),sr=function(e){return!or(e)},ur=function(e,t){return(e.playingState||{})[t]},lr=function(){},cr=r(59),fr=r.n(cr);var dr=function(e){var t=e.createVideo,r=e.stream,n=e.modelId;return function(e){t({video:e,stream:r,modelId:n})}},hr=function(e){var t=e.modelId,r=e.stream,n=e.isCircleView;return function(e,i){var o,a,s,u=i.createVideo,l=void 0===u?lr:u;return S("div",{className:fr.a.root},S("div",{className:N()(fr.a.inner,(o={},a=fr.a.circle,s=n,a in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o))},S("video",{preload:"none",key:t,id:t,loop:"true",oncreate:dr({createVideo:l,stream:r,modelId:t}),muted:!0,playsinline:!0})))}},pr=r(111);function vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gr=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vr(this,"instancesObjects",[]),vr(this,"onWindowResize",Wt((function(){t.instancesObjects.forEach((function(e){e.playerInstance.containerSize={height:e.container.offsetHeight,width:e.container.offsetWidth}}))}),300)),vr(this,"onPlayerErrorHandler",(function(e){return function(t){console.error("onPlayerErrorHandler",{error:t,modelData:e})}})),vr(this,"findOrCreateInstanceObj",(function(e){var r=e.modelData,n=e.container,i=e.playingOptions,o=t.find(r.id);return o||t.createInstanceObj({modelData:r,container:n,playingOptions:i})})),vr(this,"find",(function(e){return t.instancesObjects.find((function(t){return t.modelData.id===e}))})),vr(this,"findPlayer",(function(e){var r=t.find(e);return r?r.playerInstance:null})),vr(this,"createInstanceObj",(function(e){var r=e.modelData,n=e.container,i={modelData:r,container:n,playingOptions:e.playingOptions,playerInstance:(new pr.StripchatPlayer).setCanvasRef(n).setModelId(r.id).setModelToken(r.token).setModelSnapshotServer(r.snapshotServer).setErrorHandler(t.onPlayerErrorHandler(r)).mount()};return t.instancesObjects.push(i),i})),vr(this,"initPlayer",(function(e){var r=e.modelData,n=e.container,i=e.playingOptions,o=t.findOrCreateInstanceObj({modelData:r,container:n,playingOptions:i});i.isPlaying?o.playerInstance.play():o.playerInstance.pause()})),vr(this,"destroyPlayer",(function(e){var r=t.instancesObjects.find((function(t){return t.modelData.id===e.id}));r?(r.playerInstance.pause(),r.playerInstance.unmount(),t.instancesObjects=t.instancesObjects.filter((function(e){return e!==r}))):console.error("Instance object for model id ".concat(e.id," was not found among PlayerManagers instances"))})),window.addEventListener("resize",this.onWindowResize)},mr=function(e,t){return function(r){gr.initPlayer({modelData:e,container:r,playingOptions:{isPlaying:t}})}},yr=function(e){return function(t){gr.destroyPlayer(e,t)}},br=function(e){var t=e.id,r=e.key,n=e.model,i=void 0===n?{}:n;return function(e){var n=ur(e,i.id);return function(e,t){var r=gr.findPlayer(e);r&&(t?r.play():r.pause())}(i.id,n),S("div",{className:"canvas-wrapper"},S("canvas",{id:t,key:r,style:{width:"100%",height:"100%"},oncreate:mr(i,n),ondestroy:yr(i)}))}},Er=function(e){var t=e.player,r=e.modelId,n=e.key,i=e.model,o=e.isCircleView;switch(!0){case i.stream.local:case t===q.HLS:return S(hr,{stream:i.stream,key:n,modelId:r,isCircleView:o});case t===q.CANVAS:return S(br,{key:n,model:i});default:return null}},wr=r(82),Sr=r.n(wr);var _r=function(e,t){var r,n,i,o=e.color,a=e.big;return S("div",{class:N()(Sr.a.root,(r={},n=Sr.a.big,i=a,n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r)),style:{backgroundColor:o}},t)},Or=function(e){var t=e.big;return S(_r,{color:"#566fff",big:t},"VR")},Tr=r(60),Ar=r.n(Tr),Lr=function(e){var t=e.left,r=e.right;return S("div",{class:Ar.a.root},S("div",{class:Ar.a.left},t),r&&S("div",{class:Ar.a.right},r))},xr=r(83),Pr=r.n(xr);var Rr=function(e){var t,r,n,i=e.liveBadge,o=e.showVRBadge,a=e.big;return S("div",{class:N()(Pr.a.root,(t={},r=Pr.a.big,n=a,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t))},S(Lr,{left:i,right:o?S(Or,{big:a}):null}))};function kr(){return(kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Dr=function(e,t){var r=e.href,n="http://www.w3.org/1999/xlink",i=function(e,t){r?e.setAttributeNS(n,"href",r):t&&r===t.href||e.removeAttributeNS(n,"href")};return S("use",kr({},e,{oncreate:i,onupdate:i}),t)},Ir=function(e){var t=e.href,r=e.className,n=e.viewBox,i=void 0===n?"0 0 100 100":n;return S("svg",{class:N()("icon",[r]),viewBox:i},S(Dr,{href:t}))},Cr=r(32),Fr=r.n(Cr);function jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mr=function(e){var t,r=e.model,n=e.responsive,i=e.hideOnSmallSpots,o=e.big;return S("div",{class:N()(Fr.a.root,(t={},jr(t,Fr.a.big,o),jr(t,Fr.a.hideOnSmallSpots,i),t))},S(Lr,{left:[S("div",{"qa-element":"model-name",className:N()(Fr.a.modelName,jr({},Fr.a.modelNameResponsive,n))},r.screenName||r.username),S(Ir,{href:"#icon-".concat($(r)),className:n?Fr.a.iconResponsive:null})]}))},Nr=r(84),Br=r.n(Nr);function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hr=null,zr=function(){},Vr=function(e,t){var r=t.play,n=void 0===r?zr:r;return function(){n(e)}},Wr=function(e,t){var r=t.pause,n=void 0===r?zr:r;return function(){n(e)}},Kr=function(e,t){var r=t.pause,n=void 0===r?zr:r,i=t.play,o=void 0===i?zr:i;return function(){n(),Hr=setTimeout((function(){o(e)}),300)}},qr=function(){clearTimeout(Hr)},Yr=function(e){var t=e.key,r=e.model,n=e.responsive,i=e.linkToSection,o=e.liveBadge,a=e.isPlayOnHoverEnabled,s=e.isPlayingEnabled,u=e.showModelName,l=e.big,c=e.content,f=void 0===c?function(){return null}:c;return function(e,c){var d,h,p,v,g,m,y=c.onExitLinkClick,b=void 0===y?zr:y,E=e.config,w=e.isThumbsSizeFixed,_=E.hideModelNameOnSmallSpots,O=void 0===_||_,T=E.player,A=r.id,L=r.stream,x=a&&(!ir(e)||L.local),P=function(e){var t=e.thumbWidth,r=e.thumbHeight;return Z(t)||Z(r)?Ut(e):{width:t,height:r}}(e),R=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(r,!0).forEach((function(t){Gr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},"public"===r.status?{}:{filter:"blur(25px)",transform:"scale(1.1)"},{backgroundImage:"url(".concat(L.static?r.staticImageUrl:r.thumbUrl,")")},w?{width:"".concat(P.width,"px"),height:"".concat(P.height,"px")}:{}),k=ur(e,A),D=i?Ft(e):Bt(e,r);return S("a",{class:N()(Br.a.root,Gr({},Br.a.withShadow,u)),href:D,id:"model-".concat(A),key:A,oncreate:(d=A,h=c,p=h.onItemCreate,v=void 0===p?zr:p,g=h.observeIntersections,m=void 0===g?zr:g,function(e){v({modelId:d}),m({key:"thumb",node:e,selector:function(){return{modelId:d}}})}),onmouseenter:x?Vr(A,c):zr,onmouseleave:x?Wr(A,c):zr,ontouchcancel:x?qr:zr,ontouchend:x?qr:zr,ontouchstart:x||k?Kr(A,c):zr,onclick:b,style:R,target:"_blank",rel:"noopener"},S(Rr,{big:l,showVRBadge:Q(r),liveBadge:o}),(s||ar(e))&&S(Er,{player:T,modelId:A,key:t,model:r,actions:c}),S(f,null),u&&S(Mr,{big:l,responsive:n,model:r,hideOnSmallSpots:O}))}},Xr=function(e){return function(t){return t.reduce((function(t,r){return t+(r[e]?1:0)}),0)}},$r=Xr("inWatchHistory"),Qr=Xr("inFavorites");function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(r,!0).forEach((function(t){en(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function en(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(37);var tn={acceptedParamsConfig:[{key:"forceClient",type:Me,default:!0,private:!0},{key:"strict",type:Me,private:!0},{key:"tag",type:Ne,convertValue:function(e){return"couple"===e?"couples":e},private:!0},{key:"limit",title:"Limit of models to show",description:"Limit can not be greater than defined by creative",type:Fe,min:1},{key:"stripcashR",title:"Retargeting",description:"Parameter to get in resposne necessary data and sorting for retargeting campaigns",section:rr,type:Me,default:!1},{key:"sortBy",private:!0,type:Be,enum:["signupRateSort"]},{key:"linkToModel",title:"Link to model",description:"determines location of click by model, direct to models page or throw checking her online status",section:rr,type:Be,multiple:!1,enum:Object.values(jt),default:jt.IfOnlineNew},{key:"newModelsListAPI",title:"New models list API",description:"determines what stripcash api to use, old stable, or new untested",type:Me,default:!1,convertValue:function(){return 100*Math.random()<10}}]},rn=function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t};function nn(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var on,an,sn,un=(on=Array.isArray.bind(Array),an=function(e){return"[".concat(e.reduce((function(e,t){var r=t.key,n=t.value;return Z(n)?e:[].concat(nn(e),["".concat(r,"=").concat(n)])}),[]).join("|"),"]")},sn=function(e){return e},function(){return on.apply(void 0,arguments)?an.apply(void 0,arguments):sn.apply(void 0,arguments)});function ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ln(r,!0).forEach((function(t){fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ln(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.filterOptions,i=dn(r,["filterOptions"]),o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e.get(Re(t,"modelsApi"),Tt(cn({},i,{},n?{filterOptions:un(n)}:{},{},i.stripcashR?{cb:Math.abs(rn("".concat(Math.random()).concat(Date.now())))}:{})),o?{credentials:"include",mode:"cors"}:{}).then((function(e){var t=e.models,r=e.defaultTags,n=void 0===r?[]:r,i=e.total;return{prevailingGender:e.prevailingGender,tags:n,meta:dn(e,["models","defaultTags","total","prevailingGender"]),total:i,models:t}}))};function pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pn(r,!0).forEach((function(t){gn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mn=le((function(e){var t=Oe.effect((function(){return function(e,t){return t(Te())}})),r=ve.effect((function(){return function(e,t){return t(me())}})),n=be.effect((function(e){var t=e.replaceBy.id;return function(e,r){return r(me({id:t}))}})),i=he.effect((function(t){return function(r,n){n(pe());var i=vn({},Et(r),{},t);return hn(e,r,i).then((function(e){return n(e.models.length>0?ve(e):ge(vn({},e,{requestParams:i})),Oe(e))}))}}));return{reducer:de({prevailingGender:"female",isLoading:!1,modelsApiParameters:[],modelsList:[],isThumbsSizeFixed:!1,modelsMeta:{shownModelsCount:0,modelsInWatchHistoryCount:-1,modelsInFavoritesCount:-1}}).on(be,(function(e){var t=e.modelId,r=e.replaceBy;return function(e){return{modelsList:e.modelsList.map((function(e){return e.id===t?r:e}))}}})).on(Ee,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{modelsApiParameters:e}})).on(ye,(function(){return function(e){var t=e.modelsMeta;return{modelsMeta:Zr({},t,{shownModelsCount:t.shownModelsCount+1})}}})).on(pe,(function(){return function(){return{isLoading:!0}}})).on(Oe,(function(e){var t=e.tags,r=e.meta,n=e.prevailingGender;return function(e){return{prevailingGender:n||e.prevailingGender,tags:t,isLoading:!1,modelsMeta:Zr({},e.modelsMeta,{},r,{shownModelsCount:0})}}})).on(ve,(function(e){var t=e.models;return function(e){return{modelsList:t,modelsMeta:Zr({},e.modelsMeta,{modelsInWatchHistoryCount:ct(e).stripcashR?$r(t):-1,modelsInFavoritesCount:ct(e).stripcashR?Qr(t):-1})}}})),effects:[lt(tn),r,n,t,i],actions:{onItemCreate:function(e){var t=e.modelId;return function(e,r){return r(ye({modelId:t}))}}}}})).requires("Api");var yn=r(61),bn=r.n(yn);function En(){return(En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sn=function(e){var t=e.modelsList,r=e.center,n=e.nowrap,i=e.thumbProps,o=void 0===i?{}:i,a=e.thumbComponent,s=void 0===a?Yr:a;return function(){var e;return S("div",{class:N()(bn.a.root,(e={},wn(e,bn.a.center,r),wn(e,bn.a.nowrap,n),e)),"data-count":t.length},t.map((function(e,r){return S(s,En({key:e.id,listLength:t.length,index:r,model:e},o))})))}},_n={NO:"no",SIMPLE:"simple"};function On(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Tn=function(e){var t={showButton:!0,showTitle:!0,hideButtonOnSmallSpots:!0,hideTitleOnSmallSpots:!0,hideModelNameOnSmallSpots:!0,buttonColor:"#e34449",liveBadgeColor:"#00bd8f",thumbsIndexes:[],landing:e?"WidgetV4MobileSliderXH":"WidgetV4MobileSlider",modelsLimit:9};return{acceptedParamsConfig:[].concat(On([{key:"showButton",title:"Show button"},{key:"showTitle",title:"Show title"},{key:"hideButtonOnSmallSpots",title:"Hide button on small spots"},{key:"hideTitleOnSmallSpots",title:"Hide title on small spots"},{key:"hideModelNameOnSmallSpots",title:"Hide model name on small spots"}].map((function(e){var r=e.key;return{key:r,title:e.title,description:"",section:rr,type:Me,default:t[r]}}))),On([{key:"backgroundColor",title:"Background color"},{key:"buttonColor",title:"Button color"},{key:"liveBadgeColor",title:"Live badge color"}].map((function(e){var r=e.key;return{key:r,title:e.title,description:"",section:rr,type:Ge,default:t[r]}}))),[{key:"thumbsIndexes",title:"Thumbs indexes",type:je,section:rr,isAccepted:function(e){return e.split(",").every((function(e){return!Number.isNaN(parseInt(e,10))}))},convertValue:function(e){return e.split(",").map((function(e){return parseInt(e,10)}))}},{key:"animation",title:"Animation",description:"",type:Be,section:rr,enum:Object.values(_n),default:_n.NO},{key:"titleText",title:"Title text",type:Ne,section:rr},{key:"buttonText",title:"Button text",type:Ne,section:rr,convertValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.substring(0,20)}},{key:"containerHeight",title:"Container height",type:Fe,section:rr},{key:"containerWidth",title:"Container width",type:Fe,section:rr},{key:"containerMargin",title:"Container margin",type:Ue,section:rr,default:"0"}]),initialConfig:t}},An=function(e){return le((function(){return{effects:[se.effect((function(){return function(e,t){return t(he())}})),lt(Tn(e))]}}))},Ln=function(e){var t=e.modelsList,r=e.config.thumbsIndexes;return r&&r.length?t.filter((function(e,t){return r.includes(t+1)})):t},xn=r(62),Pn=r.n(xn);var Rn,kn,Dn=function(e){var t,r,n,i=e.color,o=e.big,a=e.dotColor,s=o?"small":"span";return S(_r,{color:i,big:o},S("div",{className:Pn.a.root},S("span",{className:N()(Pn.a.online,(t={},r=Pn.a.big,n=o,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)),style:{backgroundColor:a}}),S(s,null,"LIVE")))},In=function(){clearInterval(kn),kn=null},Cn=function(){In()},Fn=function(){In()},jn=function(e){return function(t){e.config.animation===_n.SIMPLE&&function(e){var t=!1;kn=setInterval((function(){var r=e.scrollLeft+e.offsetWidth>=e.scrollWidth,n=0===e.scrollLeft;r&&(t=!0),n&&(t=!1);var i=t?-1:1;Rn.scrollLeft+=i}),10)}(t),Rn=t}},Mn=function(){In(),Rn=null},Nn=function(e){var t=e.thumbComponent;return function(e){var r=ct(e),n=r.showLiveBadge,i=r.showModelName,o=r.liveBadgeColor;return(S("div",{class:"models-list-wrapper",id:"models-list",ontouchstart:Cn,onmouseover:Fn,oncreate:jn(e),ondestroy:Mn},S(Sn,{nowrap:!0,thumbProps:{showModelName:i,liveBadge:n?S(Dn,{color:o}):null,isPlayOnHoverEnabled:!e.limitExceeded&&sr(e)},thumbComponent:t,modelsList:Ln(e)})))}},Bn=(r(136),function(){return S("svg",{style:{display:"none"}},S("defs",null,S("symbol",{id:"icon-arrow-down"},S("g",null,S("rect",{width:"20",height:"20",y:"20",x:"0"}),S("rect",{x:"20",y:"40",width:"20",height:"20"}),S("rect",{x:"40",y:"60",width:"20",height:"20"}),S("rect",{x:"80",width:"20",height:"20",y:"20"}),S("rect",{x:"60",y:"40",width:"20",height:"20"}))),S("symbol",{id:"icon-best-models"},S("g",null,S("path",{d:"M50.8.5l3.2 10c.1.3.4.6.7.6h10.4c.8 0 1.1 1 .4 1.5l-8.4 6.2c-.3.1-.4.6-.3 1l3.2 10c.3.7-.6 1.4-1.3 1l-8.4-6.2c-.3-.1-.7-.1-1 0L41 30.8c-.7.4-1.5-.1-1.3-1l3.2-10c.1-.3 0-.7-.3-1l-8.4-6.2c-.7-.4-.3-1.5.4-1.5H45c.3 0 .7-.3.7-.6l3.7-10c.2-.7 1.3-.7 1.4 0zM84.8 19.8l3.2 10c.1.3.4.6.7.6h10.4c.8 0 1.1 1 .4 1.5l-8.4 6.2c-.3.1-.4.6-.3 1l3.2 10c.3.7-.6 1.4-1.3 1l-8.4-6.2c-.3-.1-.7-.1-1 0L75 50c-.7.4-1.5-.1-1.3-1L77 39c.1-.3 0-.7-.3-1l-8.4-6.2c-.7-.4-.3-1.5.4-1.5h10.4c.3 0 .7-.3.7-.6l3.2-10c.4-.6 1.6-.6 1.8.1zM17 19.8l3.2 10c.1.3.4.6.7.6h10.4c.8 0 1.1 1 .4 1.5l-8.4 6.2c-.3.1-.4.6-.3 1l3.2 10c.3.7-.6 1.4-1.3 1l-8.4-6.2c-.3-.1-.7-.1-1 0L7.1 50c-.7.4-1.5-.1-1.3-1L9 39c.1-.3 0-.7-.3-1L.3 31.8c-.7-.4-.3-1.5.4-1.5h10.4c.3 0 .7-.3.7-.6l3.2-10c.7-.6 1.8-.6 2 .1zM25.9 99.5H6.5C5.1 99.5 4 98.4 4 97V69c0-1.4 1.1-2.5 2.5-2.5h19.4c1.4 0 2.5 1.1 2.5 2.5v28c.1 1.4-1 2.5-2.5 2.5zM59.8 99.5H40.4c-1.4 0-2.5-1.1-2.5-2.5V51.8c0-1.4 1.1-2.5 2.5-2.5h19.4c1.4 0 2.5 1.1 2.5 2.5V97c.1 1.4-1.1 2.5-2.5 2.5zM93.7 99.5H74.3c-1.4 0-2.5-1.1-2.5-2.5V69c0-1.4 1.1-2.5 2.5-2.5h19.4c1.4 0 2.5 1.1 2.5 2.5v28c0 1.4-1.1 2.5-2.5 2.5z"}))),S("symbol",{id:"icon-dot"},S("g",null,S("path",{d:"m0.2,49.950188c0,-27.332813 22.266633,-49.450188 49.783898,-49.450188c27.505207,0 49.783886,22.117374 49.783886,49.450188s-22.278679,49.450188 -49.783886,49.450188c-27.517078,0 -49.783898,-22.117371 -49.783898,-49.450188z"}))),S("symbol",{id:"icon-favorite"},S("path",{d:"M70.02 16.2c11.4 0 20.7 9.3 20.7 20.7 0 12.4-6.97 24.1-20.8 34.94-7.74 6-15.67 10.15-19.73 12.1-4.1-1.95-12-6-19.78-12C16.5 61.1 9.42 49.4 9.42 37c0-11.4 9.3-20.7 20.6-20.7h.3c5.35 0 10.38 2.15 14.24 5.9l5.52 5.34 5.4-5.42c3.88-3.76 9-5.9 14.52-5.9m0-7.73c-7.74 0-14.8 3.1-19.93 8.2-5.04-4.94-12-8.13-19.65-8.13h-.4C14.4 8.57 1.72 21.23 1.72 37c0 36.1 48.48 55.34 48.48 55.34S98.54 73 98.45 36.9C98.45 21.15 85.68 8.47 70 8.47z"})),S("symbol",{id:"icon-female"},S("path",{d:"m27,24.1c14.3,0 26,11.6 26,25.9c0,13.2 -9.8,24 -22.5,25.7l0,5.7l5.5,0l0,5.5l-5.5,0l0,5.5l-6.8,0l0,-5.5l-5.5,0l0,-5.5l5.5,0l0,-5.7c-12.8,-1.7 -22.6,-12.5 -22.6,-25.7c0,-14.3 11.6,-25.9 25.9,-25.9zm0,6.8c-10.6,0 -19.1,8.5 -19.1,19.1s8.5,19.1 19.1,19.1c10.6,0 19.1,-8.5 19.1,-19.1s-8.5,-19.1 -19.1,-19.1z",fill:"#D63F9B"})),S("symbol",{id:"icon-females"},S("g",{fill:"#D63F9B"},S("path",{d:"M33.4 24.1c5.1 0 9.8 1.5 13.8 4 3.9 2.5 7.1 5.9 9.2 10 1.9 3.6 2.9 7.6 2.9 11.9 0 4.3-1 8.3-2.9 11.9-2.1-1.8-3.7-4.1-4.6-6.8.5-1.6.7-3.3.7-5.1 0-1.8-.2-3.5-.7-5.1-1.4-5-4.8-9.2-9.2-11.6-2.7-1.5-5.8-2.3-9.2-2.3-10.5 0-19.1 8.6-19.1 19.1s8.6 19.1 19.1 19.1c3.3 0 6.5-.9 9.2-2.3 1.3 1.9 2.9 3.7 4.6 5.2-3.1 1.9-6.6 3.3-10.4 3.8v5.7h5.5v5.5h-5.5v5.5H30v-5.5h-5.5v-5.5H30v-5.7C17.3 74.1 7.5 63.2 7.5 50c0-14.3 11.6-25.9 25.9-25.9z"}),S("path",{d:"M66.6 24.1c14.3 0 25.9 11.6 25.9 25.9 0 13.2-9.8 24-22.5 25.7v5.7h5.5v5.5H70v5.5h-6.8v-5.5h-5.5v-5.5h5.5v-5.7c-3.8-.5-7.3-1.8-10.4-3.8-3.9-2.5-7.1-5.9-9.2-10.1-1.8-3.6-2.9-7.6-2.9-11.9 0-4.3 1-8.3 2.9-11.9 2.1 1.8 3.7 4.2 4.6 6.9-.4 1.6-.7 3.3-.7 5 0 1.7.2 3.4.7 5 1.4 5.1 4.7 9.3 9.2 11.8 2.7 1.5 5.9 2.4 9.2 2.4 10.5 0 19.1-8.6 19.1-19.1s-8.6-19.1-19.1-19.1c-3.3 0-6.5.9-9.2 2.4-1.3-1.9-2.9-3.7-4.6-5.2 4-2.6 8.7-4 13.8-4z"}))),S("symbol",{id:"icon-femaleTranny"},S("g",null,S("path",{d:"M30.1 24.1c5.1 0 9.8 1.5 13.8 4 3.9 2.5 7.1 5.9 9.2 10C55 41.7 56 45.7 56 50c0 4.3-1 8.3-2.9 11.9-2.1-1.8-3.7-4.1-4.6-6.8.5-1.6.7-3.3.7-5.1 0-1.8-.2-3.5-.7-5.1-1.4-5-4.8-9.2-9.2-11.6-2.7-1.5-5.8-2.3-9.2-2.3C19.6 31 11 39.5 11 50.1s8.5 19.1 19.1 19.1c3.3 0 6.4-.8 9.2-2.3 1.3 1.9 2.9 3.7 4.6 5.2-3.1 1.9-6.6 3.3-10.4 3.8v5.7H39v5.5h-5.5v5.5h-6.8v-5.5h-5.5v-5.5h5.5v-5.7C14 74 4.2 63.2 4.2 50c0-14.3 11.6-25.9 25.9-25.9z",fill:"#D63F9B"}),S("path",{d:"M49.5 71.9c-3.9-2.5-7.1-5.9-9.2-10.1-1.8-3.6-2.9-7.6-2.9-11.9 0-4.3 1-8.3 2.9-11.9 2.1 1.8 3.7 4.2 4.6 6.9-.4 1.6-.7 3.3-.7 5 0 1.7.2 3.4.7 5 1.4 5.1 4.7 9.3 9.2 11.8 2.7 1.5 5.9 2.4 9.2 2.4 10.5 0 19.1-8.5 19.1-19.1s-8.5-19.1-19.1-19.1c-3.3 0-6.5.9-9.2 2.4-1.3-1.9-2.9-3.7-4.6-5.2 4-2.5 8.8-4 13.8-4 6 0 11.4 2 15.8 5.4l5.1-5.1-4.7-4.7 16.2-1.9L93.8 34l-4.7-4.7-5.1 5c3.3 4.4 5.3 9.8 5.3 15.7 0 13.2-9.8 24-22.5 25.7v5.7h5.5v5.5h-5.5v5.5H60v-5.5h-5.5v-5.5H60v-5.7c-3.9-.5-7.4-1.8-10.5-3.8zM31.3 20.7c4.2.2 8.1 1.3 11.7 3l4.1-4.1L31 17.7l.3 3z",fill:"#A862FF"}))),S("symbol",{id:"icon-male"},S("path",{d:"M82.4 17.7l-1.9 16.2-4.7-4.7-5.2 5.2c3.3 4.4 5.3 9.8 5.3 15.7C75.9 64.4 64.3 76 50 76c-14.3 0-25.9-11.6-25.9-25.9s11.6-26 25.9-26c6 0 11.4 2 15.8 5.4l5.1-5.2-4.7-4.7 16.2-1.9zM50 30.9c-10.5 0-19.1 8.6-19.1 19.1S39.5 69.1 50 69.1c10.5 0 19.1-8.6 19.1-19.1S60.6 30.9 50 30.9z",fill:"#61ACEC"})),S("symbol",{id:"icon-maleFemale"},S("g",null,S("path",{d:"M95.8 17.7l-1.9 16.2-4.7-4.7-5.2 5.1c3.3 4.4 5.3 9.8 5.3 15.7 0 14.3-11.6 25.9-25.9 25.9-5.1 0-9.8-1.5-13.9-4-3.9-2.5-7.1-5.9-9.2-10.1-1.8-3.6-2.9-7.6-2.9-11.9 0-4.3 1-8.3 2.9-11.9 2.1 1.8 3.7 4.2 4.6 6.9-.4 1.6-.7 3.3-.7 5 0 1.7.2 3.4.7 5 1.4 5.1 4.7 9.3 9.2 11.8 2.7 1.5 5.9 2.4 9.2 2.4 10.5 0 19.1-8.5 19.1-19.1 0-10.1-7.9-18.4-17.9-19.1h-1.2c-3.3 0-6.5.9-9.2 2.4-1.3-1.9-2.9-3.7-4.6-5.2 4-2.5 8.8-4 13.8-4 5.7 0 11.3 1.9 15.8 5.4l5.1-5.1-4.7-4.7 16.3-2z",fill:"#61ACEC"}),S("path",{d:"M30.1 24.1c5.1 0 9.8 1.5 13.8 4 3.9 2.5 7.1 5.9 9.2 10C55 41.7 56 45.7 56 50c0 4.3-1 8.3-2.9 11.9-2.1-1.8-3.7-4.1-4.6-6.8.5-1.6.7-3.3.7-5.1 0-1.8-.2-3.5-.7-5.1-1.4-5-4.8-9.2-9.2-11.6-2.7-1.5-5.8-2.3-9.2-2.3C19.6 31 11 39.5 11 50.1s8.5 19.1 19.1 19.1c3.3 0 6.4-.8 9.2-2.3 1.3 1.9 2.9 3.7 4.6 5.2-3.1 1.9-6.6 3.3-10.4 3.8v5.7H39v5.5h-5.5v5.5h-6.8v-5.5h-5.5v-5.5h5.5v-5.7C14 74 4.2 63.2 4.2 50c0-14.3 11.6-25.9 25.9-25.9z",fill:"#D63F9B"}))),S("symbol",{id:"icon-males"},S("g",{fill:"#61ACEC"},S("path",{d:"M62.6 17.7l-1.9 16.2-4.7-4.8-5.2 5.2c3.3 4.4 5.3 9.8 5.3 15.7 0 4.3-1 8.4-2.9 11.9-2.1-1.8-3.7-4.1-4.6-6.8 0 0 .7-3.4.7-5.2 0-10.6-8.6-19.1-19.1-19.1-10.6.1-19.2 8.7-19.2 19.3s8.6 19.1 19.1 19.1c3.3 0 6.4-.8 9.2-2.3 1.3 1.9 2.9 3.7 4.6 5.2h-.2C39.7 74.6 35 76 30 76 15.7 76 4 64.4 4 50s11.6-26 26-26c6 0 11.5 2 15.8 5.4l5.2-5.2-4.7-4.7 16.3-1.8z"}),S("path",{d:"M95.8 17.7l-1.9 16.2-4.7-4.7-5.2 5.1c3.3 4.4 5.3 9.8 5.3 15.7 0 14.3-11.6 26-26 26-5.1 0-9.9-1.5-13.9-4-3.9-2.5-7.1-6-9.2-10.1-1.8-3.6-2.9-7.6-2.9-11.9 0-4.3 1-8.3 2.9-11.9 2.1 1.8 3.7 4.2 4.6 6.9-.4 1.6-.7 3.3-.7 5 0 1.7.2 3.4.7 5 1.4 5.1 4.7 9.3 9.2 11.8 2.7 1.5 5.9 2.4 9.2 2.4 10.6 0 19.1-8.6 19.1-19.1 0-10.2-7.9-18.5-17.9-19.1l.8-6.8c5.2.4 9.9 2.3 13.8 5.3l5.2-5.2-4.7-4.7 16.3-1.9z"}))),S("symbol",{id:"icon-maleTranny"},S("g",null,S("path",{d:"M49.5 71.9c-3.9-2.5-7.1-5.9-9.2-10.1-1.8-3.6-2.9-7.6-2.9-11.9 0-4.3 1-8.3 2.9-11.9 2.1 1.8 3.7 4.2 4.6 6.9-.4 1.6-.7 3.3-.7 5 0 1.7.2 3.4.7 5 1.4 5.1 4.7 9.3 9.2 11.8 2.7 1.5 5.9 2.4 9.2 2.4 10.5 0 19.1-8.5 19.1-19.1 0-10.1-7.9-18.4-17.9-19.1l.8-6.8c5.2.4 9.9 2.3 13.8 5.3l5.1-5.1-4.7-4.7 16.2-1.9-1.9 16.2-4.7-4.7-5.1 5.1c3.3 4.4 5.3 9.8 5.3 15.7 0 13.2-9.8 24-22.5 25.7v5.7h5.5v5.5h-5.5v5.5H60v-5.5h-5.5v-5.5H60v-5.7c-3.9-.5-7.4-1.8-10.5-3.8zM31.3 20.7c4.2.2 8.1 1.3 11.7 3l1.4-1.4-3.4-3.4-10-1.2.3 3z",fill:"#A862FF"}),S("path",{d:"M62.6 17.7l-1.9 16.2-4.7-4.7-5.2 5.2c3.3 4.4 5.3 9.8 5.3 15.7 0 4.3-1 8.4-2.9 11.9-2.1-1.8-3.7-4.1-4.6-6.8 0 0 .7-3.4.7-5.2 0-10.5-8.5-19.1-19.1-19.1-10.5 0-19.1 8.5-19.1 19.1s8.5 19.1 19.1 19.1c3.3 0 6.4-.8 9.1-2.3 1.3 1.9 2.9 3.7 4.6 5.2h-.2c-4 2.5-8.6 3.9-13.7 3.9C15.8 75.9 4.2 64.3 4.2 50s11.6-25.9 25.9-25.9c6 0 11.4 2 15.8 5.4l5.1-5.1-4.7-4.7 16.3-2z",fill:"#61ACEC"}))),S("symbol",{id:"icon-menu"},S("g",null,S("path",{d:"M9.62 26.487h80.66c4.455 0 8.038-3.582 8.038-8.037s-3.486-8.134-7.94-8.134H9.618c-4.453 0-8.036 3.583-8.036 8.038s3.583 8.133 8.037 8.133zm80.758 16.075H9.618c-4.453 0-8.036 3.583-8.036 8.037s3.583 8.133 8.037 8.133h80.66c4.455 0 8.038-3.583 8.038-8.037s-3.486-8.134-7.94-8.134zm0 32.342H9.618c-4.453 0-8.036 3.583-8.036 8.037S5.165 90.98 9.62 90.98h80.66c4.455 0 8.038-3.583 8.038-8.037s-3.486-8.036-7.94-8.036z"}))),S("symbol",{id:"icon-private-message"},S("g",null,S("path",{d:"m13.8,47.7c-0.9,0 -1.8,0.7 -2.3,1.6l-1.8,4.8c-0.2,0.9 0,1.6 0.9,1.6l9.5,0c0.9,0 1.8,-0.7 2.3,-1.6l1.8,-4.8c0.2,-0.9 0,-1.6 -0.9,-1.6l-9.5,0zm-9.5,-13.9c-0.9,0 -1.8,0.7 -2.3,1.6l-1.8,4.8c-0.2,0.9 0,1.6 0.9,1.6l23.8,0c0.9,0 1.8,-0.7 2.3,-1.6l1.8,-4.8c0.2,-0.9 0,-1.6 -0.9,-1.6l-23.8,0zm36.2,0.3l19.6,15.9l31,-15.7c0.7,-0.5 1.4,-0.2 1.6,0.5c0.2,0.7 0,1.6 -0.9,1.8l-31,15.7c-0.5,0.2 -1.2,0.5 -1.6,0.5c-0.5,0 -0.9,-0.2 -1.4,-0.5l-19.6,-15.9c-0.5,-0.5 -0.5,-1.2 0.2,-1.8c0.8,-0.8 1.7,-0.8 2.1,-0.5zm-1.8,-5.1c-2.3,0 -5.1,1.8 -5.8,4.4l-12.2,34.1c-0.9,2.3 0.5,4.4 2.8,4.4l58.3,0c2.3,0 5.10001,-1.8 5.8,-4.4l12.2,-34.1c0.9,-2.3 -0.5,-4.4 -2.8,-4.4l-58.3,0z"}))),S("symbol",{id:"icon-rta"},S("g",null,S("path",{fill:"#7A7A7A",d:"M0 56.6V0h132.2l21.1 56.6h-18.1l-2.8-9.3h-19.7l-2.7 9.3H92.3l15.8-42.5H84.9v42.5H67.6V14.1H50.5c.4 3.4-.3 6.8-1.9 9.8-2.4 4-6.4 6.8-11 7.8 3.8.7 7.3 4.8 9.1 8.6l8.4 16.4H35.5l-9.2-17.2c-1.7-3.2-3.5-5.7-7.4-5.7h-1.5v22.9H0v-.1zM128.8 35l-6.2-20.3-6.2 20.3h12.4zM17.4 22.8H25c4.3 0 8.1-1.5 8.1-5.6 0-5.5-4.1-5.7-8.1-5.7h-7.6v11.3zM0 69.8v-9.1h3.8c1 0 1.7.1 2.1.2s.8.5 1.1.9c.3.4.4.9.4 1.4 0 .7-.2 1.2-.6 1.7s-1 .7-1.8.8c.4.2.7.5 1 .8.3.3.6.8 1 1.5l1.1 1.8H6l-1.3-2c-.5-.7-.8-1.1-1-1.3-.2-.2-.4-.3-.5-.4s-.5-.1-1-.1h-.3v3.8H0zm1.9-5.3h1.4c.9 0 1.4 0 1.6-.1s.4-.2.5-.4c.1-.2.2-.4.2-.7 0-.3-.1-.6-.2-.7s-.4-.3-.7-.4H1.9v2.3zm7.3 5.3v-9.1h6.7v1.5H11v2h4.5v1.5H11v2.5h5v1.5H9.2v.1zm7.9-3l1.8-.2c.1.6.3 1 .7 1.3.3.3.8.4 1.3.4.6 0 1-.1 1.3-.4.3-.2.4-.5.4-.9 0-.2-.1-.4-.2-.5-.1-.2-.3-.3-.7-.4-.2-.1-.7-.2-1.5-.4-1-.2-1.7-.5-2.1-.9-.6-.5-.8-1.1-.8-1.8 0-.5.1-.9.4-1.3.3-.4.6-.7 1.1-.9.5-.2 1.1-.3 1.8-.3 1.1 0 2 .2 2.6.7s.9 1.2.9 2l-1.8.1c-.1-.5-.2-.8-.5-1s-.6-.3-1.2-.3c-.5 0-.9.1-1.2.3-.2.1-.3.3-.3.6 0 .2.1.4.3.6.2.2.8.4 1.7.6.9.2 1.5.4 2 .7.4.2.8.5 1 .9.2.4.4.9.4 1.4 0 .5-.1 1-.4 1.5-.3.5-.7.8-1.2 1-.5.2-1.2.3-2 .3-1.1 0-2-.3-2.6-.8-.7-.5-1.1-1.3-1.2-2.3zm10.9 3v-7.5h-2.7v-1.5h7.2v1.5h-2.7v7.5H28zm5.7 0v-9.1h3.8c1 0 1.7.1 2.1.2.4.2.8.5 1.1.9.3.4.4.9.4 1.4 0 .7-.2 1.2-.6 1.7s-1 .7-1.8.8c.4.2.7.5 1 .8.3.3.6.8 1 1.5l1.1 1.8h-2.2l-1.3-2c-.5-.7-.8-1.1-1-1.3-.2-.2-.4-.3-.5-.4s-.5-.1-.9-.1h-.4v3.8h-1.8zm1.9-5.3H37c.9 0 1.4 0 1.6-.1.2-.1.4-.2.5-.4.1-.2.2-.4.2-.7 0-.3-.1-.6-.2-.7s-.4-.3-.7-.4h-2.7v2.3h-.1zm7.2 5.3v-9.1h1.8v9.1h-1.8zm9.3-3.4l1.8.6c-.3 1-.7 1.7-1.4 2.2-.6.5-1.4.7-2.4.7-1.2 0-2.2-.4-3-1.2-.8-.8-1.2-1.9-1.2-3.4s.4-2.7 1.2-3.5 1.8-1.3 3.1-1.3c1.1 0 2 .3 2.7 1 .4.4.7.9.9 1.7l-1.8.4c-.1-.5-.3-.8-.7-1.1-.3-.3-.8-.4-1.2-.4-.7 0-1.2.2-1.6.7s-.6 1.3-.6 2.3c0 1.1.2 2 .6 2.4.4.5.9.7 1.6.7.5 0 .9-.2 1.3-.5.3-.1.6-.6.7-1.3zm5.4 3.4v-7.5h-2.7v-1.5H62v1.5h-2.7v7.5h-1.8zm5.7 0v-9.1h6.7v1.5H65v2h4.5v1.5H65v2.5h5.1v1.5h-6.9v.1zm8.4-9.1h3.3c.8 0 1.3.1 1.7.2.5.2 1 .4 1.4.8.4.4.7.9.9 1.5.2.6.3 1.3.3 2.1 0 .7-.1 1.4-.3 1.9-.2.7-.5 1.2-1 1.6-.3.3-.7.6-1.3.7-.4.1-.9.2-1.6.2h-3.4v-9zm1.8 1.5v6h1.4c.5 0 .9 0 1.1-.1.3-.1.5-.2.7-.4.2-.2.4-.5.5-.9s.2-1 .2-1.7-.1-1.2-.2-1.6-.3-.7-.5-.9c-.2-.2-.5-.4-.8-.4-.3-.1-.8-.1-1.5-.1h-.9v.1zm12.9 7.6v-7.5h-2.7v-1.5h7.2v1.5h-2.7v7.5h-1.8zm5.1-4.5c0-.9.1-1.7.4-2.3.2-.5.5-.9.8-1.2.4-.4.7-.6 1.2-.8.6-.2 1.2-.4 1.9-.4 1.3 0 2.4.4 3.2 1.2.8.8 1.2 2 1.2 3.5s-.4 2.6-1.2 3.4c-.8.8-1.9 1.2-3.2 1.2-1.3 0-2.4-.4-3.2-1.2s-1.1-2-1.1-3.4zm1.8-.1c0 1 .2 1.8.7 2.3.5.5 1.1.8 1.8.8s1.3-.3 1.8-.8.7-1.3.7-2.4c0-1-.2-1.8-.7-2.3-.5-.5-1.1-.8-1.8-.8-.8 0-1.4.3-1.8.8-.4.6-.7 1.4-.7 2.4zm19.5 4.6h-2l-.8-2.1h-3.6l-.7 2.1h-1.9l3.5-9.1h1.9l3.6 9.1zm-3.3-3.6l-1.2-3.4-1.2 3.4h2.4zm4.3-5.5h3.3c.8 0 1.3.1 1.7.2.5.2 1 .4 1.4.8s.7.9.9 1.5c.2.6.3 1.3.3 2.1 0 .7-.1 1.4-.3 1.9-.2.7-.5 1.2-1 1.6-.3.3-.7.6-1.3.7-.4.1-.9.2-1.6.2h-3.4v-9zm1.8 1.5v6h1.4c.5 0 .9 0 1.1-.1.3-.1.5-.2.7-.4.2-.2.4-.5.5-.9s.2-1 .2-1.7-.1-1.2-.2-1.6-.3-.7-.5-.9c-.2-.2-.5-.4-.8-.4-.3-.1-.8-.1-1.5-.1h-.9v.1zm7.3-1.5h1.8v4.9c0 .8 0 1.3.1 1.5.1.4.3.7.6.9.3.2.7.3 1.2.3s.9-.1 1.2-.3c.3-.2.4-.5.5-.8.1-.3.1-.8.1-1.5v-5h1.8v4.8c0 1.1 0 1.9-.1 2.3-.1.4-.3.8-.5 1.1-.3.3-.6.6-1.1.7-.4.2-1 .3-1.7.3-.9 0-1.5-.1-2-.3-.4-.2-.8-.5-1.1-.8-.3-.3-.4-.7-.5-1-.1-.5-.2-1.3-.2-2.3v-4.8h-.1zm9.2 9.1v-9h1.8v7.5h4.5v1.5H132zm8.8 0v-7.5h-2.7v-1.5h7.2v1.5h-2.7v7.5h-1.8zm5.2-3l1.8-.2c.1.6.3 1 .7 1.3.3.3.8.4 1.3.4.6 0 1-.1 1.3-.4.3-.2.4-.5.4-.9 0-.2-.1-.4-.2-.5-.1-.2-.3-.3-.7-.4-.2-.1-.7-.2-1.5-.4-1-.2-1.7-.5-2.1-.9-.6-.5-.8-1.1-.8-1.8 0-.5.1-.9.4-1.3s.6-.7 1.1-.9c.5-.2 1.1-.3 1.8-.3 1.1 0 2 .2 2.6.7.6.5.9 1.2.9 2l-1.8.1c-.1-.5-.2-.8-.5-1s-.6-.3-1.2-.3c-.5 0-.9.1-1.2.3-.2.1-.3.3-.3.6 0 .2.1.4.3.6.2.2.8.4 1.7.6.9.2 1.5.4 2 .7.4.2.8.5 1 .9.2.4.4.9.4 1.4 0 .5-.1 1-.4 1.5-.3.5-.7.8-1.2 1-.5.2-1.2.3-2 .3-1.1 0-2-.3-2.6-.8s-1.1-1.3-1.2-2.3z"}))),S("symbol",{id:"icon-tranny"},S("path",{d:"M50 24.1c6 0 11.4 2 15.8 5.4l5.1-5.1-4.7-4.7 16.2-1.9L80.5 34l-4.7-4.7-5.2 5.2c3.3 4.4 5.3 9.8 5.3 15.7 0 13.2-9.8 24-22.5 25.7v5.7h5.5v5.5h-5.5v5.5h-6.8v-5.5h-5.5v-5.5h5.5v-5.7C33.9 74 24.1 63.2 24.1 50c0-5.9 2-11.4 5.3-15.8l-5.1-5.1-4.7 4.7-1.9-16.2 16.2 1.9-4.7 4.7 5.1 5.1c4.3-3.2 9.8-5.2 15.7-5.2zm0 6.8c-10.5 0-19.1 8.5-19.1 19.1S39.5 69.1 50 69.1c10.5 0 19.1-8.5 19.1-19.1S60.6 30.9 50 30.9z",fill:"#A862FF"})),S("symbol",{id:"icon-trannies"},S("g",{fill:"#A862FF"},S("path",{d:"M33.4 24.1c5.7 0 11.3 1.9 15.8 5.4l5.1-5.1-4.7-4.7 16.2-1.9L63.9 34l-4.7-4.7-5.2 5c3.4 4.5 5.3 10 5.3 15.7 0 4.3-1 8.3-2.9 11.9-2.1-1.8-3.7-4.1-4.6-6.8.4-1.6.7-3.3.7-5.1 0-10.5-8.5-19.1-19.1-19.1-10.5 0-19.1 8.5-19.1 19.1s8.5 19.1 19.1 19.1c3.3 0 6.5-.9 9.2-2.3 1.3 1.9 2.9 3.7 4.6 5.2-3.1 1.9-6.6 3.3-10.4 3.8v5.7h5.5V87h-5.5v5.5H30V87h-5.5v-5.5H30v-5.7C17.2 74 7.4 63.2 7.4 50c0-5.9 2-11.4 5.3-15.8l-5.1-5.1-4.7 4.7L1 17.7l16.2 1.9-4.7 4.7 5.1 5.1c4.4-3.3 9.8-5.3 15.8-5.3z"}),S("path",{d:"M52.7 71.9c-3.9-2.5-7.1-5.9-9.2-10.1-1.8-3.6-2.9-7.6-2.9-11.9 0-4.3 1-8.3 2.9-11.9 2.1 1.8 3.7 4.2 4.6 6.9-.4 1.6-.7 3.3-.7 5 0 1.7.2 3.4.7 5 1.4 5.1 4.7 9.3 9.2 11.8 2.7 1.5 5.9 2.4 9.2 2.4 10.5 0 19.1-8.5 19.1-19.1 0-10.1-7.9-18.4-17.9-19.1l.8-6.8c5.2.4 9.9 2.3 13.8 5.3l5.1-5.1-4.7-4.7L99 17.7l-1.9 16.2-4.7-4.7-5.2 5.2c3.3 4.4 5.3 9.8 5.3 15.7 0 13.2-9.8 24-22.5 25.7v5.7h5.5V87H70v5.5h-6.8V87h-5.5v-5.5h5.5v-5.7c-3.8-.6-7.4-1.9-10.5-3.9zM34.6 20.7c4.2.2 8.1 1.3 11.7 3l1.4-1.4-3.4-3.4-10.1-1.2.4 3z"}))),S("symbol",{id:"icon-tokens-buy"},S("g",null,S("path",{d:"M24.03 40.45v-8.57c.1-1.36 8.86-2.44 19.67-2.44 3.22 0 6.33.1 9.26.3-.3.48-.5.97-.5 1.55v8.5c0 1.2.6 2 1.47 2.7-3.02.1-6.33.3-10.13.3-10.9.1-19.77-1-19.77-2.5zm9.45 6.52c2.24.1 4.67.2 7.1.2 5.07 0 9.65-.3 13.15-.68v6.8c.1.3-.2.5-.3.6-.47.2-.86.6-1.16 1.1 0 0-.4.2-.48.2-3.3.3-4.7.5-11.2.5-2.6 0-5-.1-7.3-.2m18.6 3.8v5.9c0 1 .5 1.8 1.2 2.4-2.9.2-6.3.4-10 .4-10.8 0-19.7-1.2-19.7-2.5v-4.2h9.9v-2.2s6.1.3 9.7.3c3.2.2 6.25.1 8.8-.1zm2.6 20.5c0 .3.1.6.2.9-3.2.3-7 .5-11.1.5-10.7 0-19.6-1.1-19.6-2.4v-8.6c0 1.3 8.8 2.4 19.6 2.4 3.9 0 7.6-.2 10.5-.4l.4 7.5zM97.2 71l-.1 9.6c.1 1.36-7.7 2.92-18.5 3.5-10.8.5-20.16-1.65-20.16-3l-.35-8.58c.1 1.3 8.8 2.6 19.7 2C88.7 74 97.4 72.42 97.3 71zm-21.3-1.76c-10.8 0-19.66-1.17-19.66-2.44v-8.66c0 1.37 8.86 2.44 19.67 2.44s19.7-1.1 19.7-2.4v8.6c0 1.44-8.7 2.52-19.6 2.52zM98.3 44.8v8.58c0 1.32-8.85 2.4-19.66 2.4S59 54.66 59 53.4v-8.57c0 1.36 8.86 2.44 19.67 2.44 10.8.1 19.67-1.08 19.67-2.44zm-21.5-2.4c-10.8 0-19.7-1.18-19.7-2.45V31.3c0 1.36 8.9 2.43 19.7 2.43s19.7-1.17 19.7-2.43v8.56c0 1.47-8.87 2.54-19.68 2.54zm20.54-24.17v8.48c0 1.5-8.76 2.6-19.57 2.6s-19.7-1-19.7-2.4v-8.8c.1-1.2 8.73-2.4 19.64-2.4 10.6.1 19.5 1.3 19.6 2.7zM10.7 39.1h7v26.48h-7z"}),S("path",{d:"M.95 48.92h26.5v7H.95z"}))),S("symbol",{id:"icon-user-info"},S("g",null,S("path",{d:"M68.7,24.1c0,13.3-10.8,31.7-24.1,31.7S20.5,37.4,20.5,24.1S31.3,0,44.6,0S68.7,10.8,68.7,24.1z"}),S("path",{d:"M51,78c0-11.9,7.7-22,18.3-25.6c-2.1-1.2-4.2-2.3-6.5-3.2C58,55.5,51.6,59.9,44.6,59.9s-13.4-4.4-18.2-10.7C10.8,55.6,0,68.8,0,77.8C0,90.1,20,100,44.6,100c5.6,0,11-0.5,15.9-1.5C54.7,93.6,51,86.2,51,78z"}),S("path",{d:"M82.6,67.1c-0.8,0.7-1.7,1.2-2.8,1.2c-1.1,0-2-0.5-2.8-1.2c-0.8-0.7-1.2-1.7-1.2-2.7c0-1,0.4-2,1.2-2.7c0.8-0.7,1.7-1.2,2.8-1.2c1.1,0,2,0.4,2.8,1.1c0.8,0.7,1.2,1.8,1.2,2.8C83.8,65.4,83.4,66.4,82.6,67.1z M82.6,93.1c-1.4,0.6-2,0.4-2.9,0.7c-0.9,0.3-1.8,0.4-3,0.4c-1.7,0-3.1-0.4-4-1.3c-1-0.8-2-1.9-2-3.2c0-0.1-0.1-2.5,0.7-4.2l2.5-5.8c0.2-0.6,0.3-1.2,0.4-1.7c0.1-0.5,0.2-0.6,0.2-1c0-0.8-0.5-1.4-0.8-1.7c-0.3-0.3-1.7-0.5-2.7-0.5c-0.5,0-0.9,0.1-1.4,0.2c-0.5,0.1-1,0.3-1.4,0.4l0.1-2.4c1.2-0.5,3.5-1.1,4.6-1.5c1.1-0.3,2.1-0.5,3-0.5c1.7,0,3.5,0.4,4.4,1.2c0.9,0.8,2.1,2.2,2.1,3.5c0,0.3,0,0.8-0.1,1.5c-0.1,0.7-0.2,1.3-0.4,1.9L79,85c-0.1,0.5-0.3,1.1-0.4,1.7c-0.1,0.6-0.2,2-0.2,2.3c0,0.8,0.2,1.4,0.6,1.7c0.4,0.3,0.8,0.8,1.7,0.8c1.3,0,1.2,0.2,2.4-0.4L82.6,93.1z M77.5,55C65.1,55,55,65.1,55,77.5C55,89.9,65.1,100,77.5,100c12.4,0,22.5-10.1,22.5-22.5C100,65.1,89.9,55,77.5,55z"}))),S("symbol",{id:"icon-play"},S("g",null,S("path",{opacity:"0.5",d:"M50,92.2C26.7,92.2,7.8,73.3,7.8,50S26.7,7.8,50,7.8S92.2,26.7,92.2,50S73.3,92.2,50,92.2z M50,0 C22.4,0,0,22.4,0,50s22.4,50,50,50s50-22.4,50-50S77.6,0,50,0z"}),S("polygon",{opacity:"0.5",points:"37.5,65.6 68.7,50 37.5,34.4 "}),S("path",{opacity:"0.9",d:"M50,92.2C26.7,92.2,7.8,73.3,7.8,50S26.7,7.8,50,7.8S92.2,26.7,92.2,50S73.3,92.2,50,92.2z M50,0C22.4,0,0,22.4,0,50s22.4,50,50,50s50-22.4,50-50S77.6,0,50,0z"}),S("polygon",{opacity:"0.9",points:"37.5,65.6 68.7,50 37.5,34.4 "})))))}),Un=(r(47),r(143),r(144),r(48)),Gn=r.n(Un),Hn=["de","fr","es","it","ru","pt","ja","nl","pl","ro","no","sv","el","ar","hu","cs","tr","zh"];function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vn=function(e){return e&&"object"===zn(e)&&!Array.isArray(e)};function Wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kn=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(!n.length)return t;var o=n.shift();if(Vn(t)&&Vn(o))for(var a in o)Vn(o[a])?(t[a]||Object.assign(t,Wn({},a,{})),e(t[a],o[a])):Object.assign(t,Wn({},a,o[a]));return e.apply(void 0,[t].concat(n))};function qn(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $n(e,t,r){return t&&Xn(e.prototype,t),r&&Xn(e,r),e}var Qn=function(){function e(){Yn(this,e)}return $n(e,[{key:"translate",value:function(e){return this.message=e,this}},{key:"withContext",value:function(){return this}},{key:"ifPlural",value:function(){return this}},{key:"fetch",value:function(){return this.message}}]),e}();var Jn=["ur","bn","mr","te","ta","gu","kn","or","ml"];function Zn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator).language.slice(0,2);return Jn.includes(e)?"hi":e}var ei=function(){function e(t,r,n){Yn(this,e),this.i18nPaths=Array.isArray(t)?t:[t],this.availableLanguages=r||[],this.globalObjectWindow=n,this.locale=this.getLocale()}return $n(e,[{key:"getLocale",value:function(){var e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host).match(new RegExp("^(.*\\.|)(".concat(Hn.join("|"),")\\..*$")));return e&&e[2]}(this.globalObjectWindow.host)||C(this.globalObjectWindow.location.href).language||Zn(this.globalObjectWindow.navigator);return this.availableLanguages.find((function(t){return t===e}))}},{key:"applyMockedTranslate",value:function(){var e=new Qn;return this.i18n=e,this}},{key:"init",value:function(){var e=this;return this.locale?this.loadTranslation().then((function(t){return e.i18n=new Gn.a(t),e})).catch((function(){return e.initFallbackLocale()})):(this.i18n=new Gn.a({}),Promise.resolve(this))}},{key:"initFallbackLocale",value:function(){var e=Zn(this.globalObjectWindow.navigator);return this.locale===e?this.applyMockedTranslate():(this.locale=e,this.init())}},{key:"loadTranslation",value:function(){var e=this;return Promise.all(this.i18nPaths.map((function(t){return j.get("".concat(t,"/").concat(e.locale,".json"))}))).then((function(e){return Kn.apply(void 0,[{}].concat(qn(e)))}))}},{key:"t",value:function(e,t,r,n){var i=this.i18n.translate(e);n&&(i=i.withContext(n)),t&&(i=i.ifPlural(r,t));try{var o=i.fetch(r);return this.sprintf(o,r)}catch(t){return console.warn(t),e}}},{key:"tPlural",value:function(){return this.t.apply(this,arguments)}},{key:"tContext",value:function(e,t){return this.t(t,null,null,e)}},{key:"sprintf",value:function(){return Gn.a.sprintf.apply(Gn.a,arguments)}}]),e}();var ti=/(?:\{\$([\w]+)\})/g;function ri(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ni(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ii=/(?:\{#([\w]+)\}(.*?)\{\/\1\}|\{#([\w]+)\/\})/g,oi=function(e,t,r){var n=[],i=function(e,t){return e.replace(ti,(function(e,r){return t[r]?t[r]:e}))}(e,r).replace(ii,(function(e,r,i,o){var a=r||o,s=t[a];if(!s)return e;var u="{#".concat(a,"_").concat(n.length,"/}"),l={key:u,children:o?s.children:[i]};return n.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ri(r,!0).forEach((function(t){ni(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ri(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s,{},l)),u})).split(/\{#[^#}]+?\/\}/),o=[];return i.forEach((function(e){o.push(e),o.push(n.shift())})),o},ai=function(e,t){var r=e.message,n=e.messagePlural,i=e.count,o=e.context,a=e.comment,s=e.elements,u=e.parameters;return function(e){var l=(e.i18n||(new ei).applyMockedTranslate()).t(r||t[0],n,i,o,a);return S("span",null,oi(l,s,u))}},si=function(){return function(e){return S("div",{class:"widget-title"},ct(e).titleText||S(ai,{message:"Chat with {#siteName/} models now!",elements:{siteName:S("span",{className:"sc-red-color"},ke(e).siteName)}}))}};var ui=function(e){return"".concat(e).concat(/\D/.test("".concat(e))?"":"px")},li=function(e,t){var r=e.height,n=t.showTitle,i=t.hideTitleOnSmallSpots;return n&&(!i||r>122)},ci=function(e,t){var r=e.height,n=t.showTitle,i=t.hideTitleOnSmallSpots,o=li({height:r},{showTitle:n,hideTitleOnSmallSpots:i})?r-38:r;return{height:o,width:Math.round(1.33*o)}},fi=function(e,t){var r=e.className,n=e.getThumbSize,i=void 0===n?ci:n,o=e.shouldShowTitle,a=void 0===o?li:o;return function(e,n){var o,s,u,l=ct(e),c=l.containerHeight,f=l.containerWidth,d=l.containerMargin,h=l.backgroundColor,p=function(e,t){var r=e.containerHeight,n=void 0===r?1/0:r,i=e.containerWidth,o=void 0===i?1/0:i,a=t.height,s=t.width;return{width:Math.min(o,s),height:Math.min(n,a)}}({containerHeight:c,containerWidth:f},e.window),v=p.height,g=p.width,m=i({width:g,height:v},l);return S("div",{class:"layout-container root lng-".concat(e.i18n.locale),ondestroy:n.terminate},S(Bn,null),S("style",null,"\n          body {\n            --viewport-height: ".concat(ui(v),";\n            --viewport-width: ").concat(ui(g),";\n            --thumb-height: ").concat(ui(m.height),";\n            --thumb-width: ").concat(ui(m.width),";\n          }\n        ")),S("div",{style:{backgroundColor:h,margin:d.map(ui).join(" "),width:ui(g),height:ui(v)},class:N()("widget-container",(o={},s=r,u=r,s in o?Object.defineProperty(o,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[s]=u,o))},a({width:g,height:v},l)?S(si,null):null,t))}},di=r(63),hi=r.n(di);function pi(){return(pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var gi=function(){return function(e){var t=ct(e).buttonColor;return S("div",{class:hi.a.actionButtonWrapper},S("span",{class:hi.a.actionButton,style:{backgroundColor:t},"qa-element":"action-button"},function(e){var t=e.i18n,r=ct(e),n=r.tag,i=r.buttonText,o=t.t("More Girls"),a=t.t("More Guys"),s=t.t("More Couples");return i||{boy:a,gay:a,men:a,couples:s,mixed:s}[n]||(St(e)?a:o)}(e)))}},mi=function(e){var t=e.listLength,r=e.index,n=vi(e,["listLength","index"]);return function(e){var i=ct(e).showButton&&r===t-1;return S("div",{class:hi.a.root},S(Yr,pi({},n,{isPlayOnHoverEnabled:!i,content:i?gi:void 0,linkToSection:i})))}},yi=function(){return S(fi,null,S(Nn,{thumbComponent:mi}))},bi=r(112),Ei=r.n(bi),wi=function(){var e=new Ei.a,t={emit:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach((function(t){var r=t.name,n=t.payload;return e.emit(r,n)}))},on:function(r,n){return r.once?e.once(r.eventName,n):e.on(r.eventName,n),t},off:function(r,n){return e.off(r.eventName,n),t},once:function(r,n){return e.once(r.eventName,n),t}};return t};function Si(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Oi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oi(r,!0).forEach((function(t){Ai(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oi(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ai(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Li=function(e){var t,r=e.modules,n=wi(),i=n.emit,o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r?n.once(e,t):n.on(e,t),function(){n.off(e,t)}};return{init:function(e){return t=Promise.all(r.map((function(t){return t(Ti({},e))}))).then((function(e){return e.reduce((function(e,t){return{reducers:[].concat(_i(e.reducers),_i(t.reducer?[t.reducer]:[])),initialState:Ti({},e.initialState,{},(t.reducer||{}).initialState),effects:[].concat(_i(e.effects),_i(t.effects||[])),actions:Object.keys(t.actions||{}).reduce((function(e,r){return Ti({},e,Ai({},r,(n=t.actions[r],function(e){return function(t){var r=n(e);return"function"==typeof r?r(t,i,o):r}})));var n}),e.actions)}}),{initialState:{},reducers:[],effects:[],actions:{$effect:function(e){return function(t){"function"==typeof e&&e(t,i,o)}},$update:function(e){return function(t){return"function"==typeof e?e(t):e}}}})})),this},mount:function(e,r,o){return o&&o.firstChild&&o.prepend(document.createElement("div")),t.then((function(t){var a,s=t.initialState,u=t.actions,l=t.reducers,c=t.effects,f=e(s,u,r,o),d=f.$update,h=f.$effect,p=Si(f,["$update","$effect"]);return l.forEach((function(e){return e.bind(n,d)})),(a=c,a.reduce((function(e,t){return e.concat(t)}),[])).forEach((function(e){var t=e.event,r=e.effect,i=function(e){return h(r(e))};e.options.once?n.once(t,i):n.on(t,i)})),i(ae(),se()),p.dispatch=i,p}))}}},xi=oe("Model start playing"),Pi=oe("Model(s) stop playing"),Ri=oe("Model(s) is playing"),ki=oe("Player is gone"),Di=oe("Player data downloaded"),Ii=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},Ci=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e[Ii(0,e.length-1)]};function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ji(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mi=le((function(e){var t,r,n,i=de({modelsApiCachedResponse:{tags:[],models:[],meta:{}}}).on(Se,(function(e){var t=e.models,r=e.tags,n=e.meta;return function(){return{modelsApiCachedResponse:{tags:r,models:t,meta:n}}}})),o=(t=function(t,r){var n=Et(t);return hn(e,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fi(r,!0).forEach((function(t){ji(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n,{limit:2*n.limit})).then((function(e){return r(Se(e))}))},r=3e3,function(){var e=this,i=arguments,o=function(){n=!1};n||(t.apply(e,i),n=!0,setTimeout(o,r))});return{reducer:i,effects:[we.effect((function(){return o})),_e.effect((function(e){var t=e.modelId;return function(e,r,n){var i,o,a,s=e.modelsList,u=e.modelsApiCachedResponse.models,l=(i=u,o=s.map((function(e){return e.id})),(a=i.filter((function(e){var t=e.id;return!o.includes(t)}))).length?Ci(a).id:null);if(!l)return n(Se,(function(){return r(_e({modelId:t}))}),!0),void r(we());r(be({modelId:t,replaceBy:u.find((function(e){return e.id===l}))}))}})),ki.effect((function(e){var t=e.modelId,r=e.fatal;return function(e,n){ct(e).queryParams.ignoreStreamErrors||(n(we()),r&&n(_e({modelId:t})))}}))]}})).requires("Api"),Ni=(r(107),function(e){return new Promise((function(t,r){var n=new Image;n.onerror=function(){return r()},n.onload=function(){return t(e)},n.src=e}))}),Bi=function(e){return function(){return e}};function Ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hi=Ce(ct,(function(e,t){return t}),(function(e,t){var r=e.thumbType;if(!e.queryParams.thumbType&&t.staticImageUrl)return"staticImageUrl";switch(r){case Y.S_CHAT_BEST:return"popularSnapshotUrl";case Y.PREVIEW:return"previewUrl";case Y.AVATAR:return"avatarUrl";case Y.S_CASH_BEST:case Y.SNAPSHOT:default:return"snapshotUrl"}})),zi=function(e,t){return!!function(e,t){return t.thumbsByModelId[e]||{}}(e,t).visible},Vi=function(e){return e.modelsList.reduce((function(t,r){return zi(r.id,e)?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ui(r,!0).forEach((function(t){Gi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ui(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,Gi({},r.id,r[Hi(e,r)])):t}),{})},Wi=oe("traffic limit exceeded"),Ki=oe("traffic consumed"),qi=oe("Model updated"),Yi=oe("Thumb appeared"),Xi=oe("Thumb disappeared"),$i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).some((function(r){return t[r]===e}))},Qi=function(e){return $i(e,Y)},Ji=ne(Qi,(function(e){return!!X[e]})),Zi=function(e){return{acceptedParamsConfig:[{key:"thumbType",title:"Thumb type",description:"determines which property to use as thumb SChatBest: best icon of stripchat (popularSnapshotUrl) SCashBest: ab - testing of snapshots using stripcash api snapshot: latest snapshot (snapshotUrl) preview: icon setted by model as preview depreated thumb: alias of snapshot SCbest: alias of SChatBest",section:rr,type:Be,multiple:!1,enum:Object.values(Y),isAccepted:function(e,t){return[e,t.thumbsSource,t.thumbs,t.xhThumbType].some(Ji)},default:e,convertValue:function(t,r){return function(e){return Qi(e)?e:X[e]}([r.thumbsSource,r.thumbs,r.xhThumbType,t].find(Ji)||e)}}]}};function eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function to(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ro(r,!0).forEach((function(t){io(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ro(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function io(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oo=function(e){return function(t){var r=t.modelId;return function(t){var n=t.thumbsByModelId;return{thumbsByModelId:no({},n,io({},r,no({},n[r],{},e)))}}}},ao=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return t?function(e){return e.id===t}:Bi(!0)},so=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y.S_CASH_BEST;return le((function(t){var r=de({thumbsByModelId:{}}).on(Yi,oo({visible:!0})).on(Xi,oo({visible:!1})).on(me,(function(e){return function(t){var r=ao(e);return{modelsList:t.modelsList.map((function(e){return r(e)?no({},e,{thumbUrl:e[Hi(t,e)]}):e}))}}})).on(qi,(function(e){var t=e.id,r=to(e,["id"]);return function(e){var n=e.modelsList;return{modelsList:(void 0===n?[]:n).map((function(e){return e.id===t?no({},e,{},r):e}))}}})),n={},i=Wt((function(e,r){var i,o,a=(i=Vi(e),Object.entries(i).reduce((function(e,t){var r=eo(t,2),i=r[0],o=r[1];return n[o]?e:no({},e,io({},i,o))}),{}));te(a)||(o=a,Object.values(o).forEach((function(e){n[e]=!0})),t.post(Re(e,"thumbsView"),{viewedThumbs:a}).then((function(e){var t=e.thumbs;return Object.keys(t||{}).forEach((function(e){return r(qi({id:e,thumbUrl:t[e]}))}))})))}),100),o=Yi.effect((function(){return function(e,t){return ct(e).thumbType===Y.S_CASH_BEST&&i(e,t)}})),a=me.effect((function(e){return function(t,r){return t.modelsList.filter(ao(e)).forEach((function(e){var t=e.id,n=e.previewUrl,i=e.thumbUrl,o=e.broadcastMobile;r(Ki(1024*(o?15:25))),Ni(i).catch((function(){return r(qi({id:t,thumbUrl:n}))}))}))}}));return{reducer:r,effects:[lt(Zi(e)),o,a]}})).requires("Api")};function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function co(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var fo=function(){var e={},t={};return{waitFor:function(e){var r,n=this.get(e);if(n)return Promise.resolve(n);var i=new Promise((function(e){r=e}));return t[e]=[].concat(co(t[e]||[]),[r]),i},create:function(r,n){e[r]=n,(t[r]||[]).forEach((function(e){return e(n)}))},update:function(t,r){e[t]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(r,!0).forEach((function(t){lo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e[t]||{},{},r)},get:function(t){return e[t]},all:function(){return Object.values(e)},clearTimeouts:function(e){var t=this.get(e);t&&(clearTimeout(t.recoveryTimeout),delete t.recoveryTimeout)}}},ho=function(e){var t=e.video,r=e.onPlay,n=e.onError,i=e.onMetaLoaded,o=function(){return n({fatal:!1})};t.addEventListener("loadedmetadata",i),t.addEventListener("error",o),t.addEventListener("abort",o),t.addEventListener("timeupdate",r)},po={Cover:"cover",Contain:"contain"},vo={height:"auto",width:"100%"},go={width:"auto",height:"100%"},mo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=e.parentElement,i=n.offsetHeight,o=n.offsetWidth,a=t.height,s=void 0===a?e.videoHeight:a,u=t.width,l=void 0===u?e.videoWidth:u,c=o/i-l/s,f=r===po.Contain&&c>.5;c>0?Object.assign(e.style,f?go:vo):Object.assign(e.style,f?vo:go)},yo=function(e){var t=ir(e);return function(e){var r=e.stream;return t?r.local:!r.static}},bo=function(e,t,r){var n=e.window,i=n.hasFocus,o=n.iFramed,a=0===r;if(e.limitExceeded||!yo(e)(e.modelsList[r]))return!1;var s=zi(t,e);switch(ct(e).autoplay){case K.ALL:return o||s;case K.ALL_IN_FOCUS:return i&&(o||s);case K.FIRST_THUMB:return a&&(o||s);case K.FIRST_THUMB_IF_PAGE_IN_FOCUS:return a&&i&&(o||s);case K.ALL_IN_VIEWPORT:return i&&s;case K.FIRST_THUMB_IF_IN_VIEWPORT:return a&&i&&s;case K.NOT_AT_ALL:default:return!1}},Eo=function(e,t){for(var r=0;r<t.length;){if(e(t[r]))return r;r+=1}return-1};function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var So=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.modelsList.map((function(e,t){return[e.id,t]})).filter((function(e){var r=wo(e,1)[0];return!t||r===t})).filter((function(t){var r=wo(t,2),n=r[0],i=r[1];return!bo(e,n,i)})).map((function(e){return wo(e,1)[0]}))},_o=r(16),Oo=r.n(_o);r(145);function To(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ao=[401,403,404],Lo=function(e){var t=e.video,r=e.stream,n=e.modelId,i=e.quality,o=e.onPlay,a=e.onError,s=e.onDownload,u=e.thumbFit,l=new Oo.a({autoStartLoad:!1,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingTimeOut:6e3,nudgeMaxRetry:10}),c=r.urls,f=void 0===c?{}:c,d=r.url;return l.loadSource(f[i]||d),l.attachMedia(t),mo(t,r,u),l.on(Oo.a.Events.FRAG_LOADED,(function(e,t){var r=t.stats;return s(r.loaded)})),l.on(Oo.a.Events.LEVEL_LOADED,(function(e,t){var r=t.stats;return s(r.loaded)})),l.on(Oo.a.Events.ERROR,function(e){var t=e.hls,r=e.modelId,n=e.onError;return function(e,i){var o=i.fatal,a=i.details,s=i.response,u=void 0===s?{}:s,l=To(i,["fatal","details","response"]);if(document.cookie.includes("sc-dev-hls")&&console.log(r,u,a,o,l),a.startsWith("manifest")||Ao.includes(u.code)||u.code>500)n({fatal:!0});else switch(l.type){case Oo.a.ErrorTypes.NETWORK_ERROR:document.cookie.includes("sc-dev-hls")&&console.log("fatal network error encountered, try to recover"),t.startLoad();break;case Oo.a.ErrorTypes.MEDIA_ERROR:document.cookie.includes("sc-dev-hls")&&console.log("fatal media error encountered, try to recover"),t.recoverMediaError()}}}({hls:l,modelId:n,onError:a})),l.on(Oo.a.Events.FRAG_CHANGED,o),l},xo=function(e){var t=e.video,r=e.stream,n=e.quality,i=e.onPlay,o=e.onError,a=e.thumbFit,s=r.urls,u=void 0===s?{}:s,l=r.url;t.src=u[n]||l,ho({video:t,onPlay:i,onError:o,onMetaLoaded:function(){t.setAttribute("metaloaded","true"),mo(t,void 0,a)}})};r(108);function Po(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ro=function(e,t,r){var n=e.video,i=e.stream,o=e.modelId,a=function(e){var t=e.urls,r=void 0===t?{}:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;if("optimal"===n){var o=Object.keys(r).reduce((function(e,t){var r=parseFloat(t);return Number.isNaN(r)?e:[].concat(Po(e),[r])}),[]).sort(),a=o.find((function(e){return e>=i}));return a&&"".concat(a,"p")}return r[n]?n:void 0}(i,wt(t),n.clientHeight),s={video:n,stream:i,modelId:o,thumbFit:ct(t).thumbFit,quality:a,onPlay:function(){return r(Ri({modelId:o}))},onError:function(e){var t=e.fatal;return r(ki({modelId:o,fatal:t}))},onDownload:function(e){return r(Di(e))}},u={video:n,stream:i,modelId:o,quality:a};switch(!0){case i.local:xo(s);break;case Oo.a.isSupported():u.hls=Lo(s);break;case!!n.canPlayType("application/vnd.apple.mpegurl"):xo(s)}return u};function ko(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Do=function(){return Oo.a.isSupported()||Boolean(document.createElement("video").canPlayType("application/vnd.apple.mpegurl"))},Io={acceptedParamsConfig:[{key:"autoplay",title:"Autoplay",description:"\n        Possible values:\n        \n        default - play/stop on thumb's mouse hover/leave.\n        all - all thumbs are playing, no matter if focused or not.\n        allInFocus - all thumbs are playing, if document is focused, stop on focus out.\n        firstThumb - autoplay first thumb on page\n        firstThumbIfPageInFocus - autoplay first thumb on page,\n        notAtAll - no thumb playing on any conditions.\n        randomOnce - like default plus: random thumb is playing for 5 seconds, after random delay (0-2000ms) after loading widget, once.\n        randomLoop - like randomOnce but infinitely looped with 10 seconds as delay between iterations.\n        forced to notAtAll, if nonNudeContent=1\n        Available values : default, all, allInFocus, firstThumb, firstThumbIfPageInFocus, notAtAll, randomOnce, randomLoop\n      ",section:rr,type:Be,enum:Object.values(K),default:K.ON_HOVER,multiple:!1},{key:"player",title:"Player engine",description:"",section:rr,type:Be,enum:Object.values(q),isAccepted:function(e){return!!$i(e,q)&&!(e===q.HLS&&!Do())},default:q.HLS,convertValue:function(e){return e===q.HLS&&100*Math.random()<=100&&Do()?q.HLS:q.CANVAS}},{key:"thumbFit",section:rr,type:Be,default:po.Cover,enum:Object.values(po)},{key:"showLiveBadge",title:"Show live badge",description:"",type:Me,section:rr,default:!0},{key:"showModelName",title:"Show model name",description:"",type:Me,section:rr,default:!0},{key:"autoplayForce",section:rr,type:Me,default:!1},{key:"quality",title:"Video quality for models list",description:"It`s possible to choose quality for models videos",type:Be,enum:["original","optimal","720p","480p","240p","160p"],default:"original"}],initialConfig:{randomAutoplayEnabled:!1}};function Co(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fo(r,!0).forEach((function(t){Mo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fo(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var No=function(e,t){var r=Ci(e);setTimeout((function(){t(xi({modelId:r.id})),setTimeout((function(){t(Pi({modelId:r.id}))}),5e3)}),Ii(0,2e3))},Bo=function(e){return function(t){var r=t.modelId;return function(t){return{playingState:jo({},t.playingState,Mo({},r,bo(t,r,Eo((function(e){return e.id===r}),t.modelsList))===e&&e))}}}},Uo=function(e){return e.modelsList.filter(yo(e)).map((function(e){return e.id}))},Go=le((function(){var e,t,r,n,i,o,a=null,s=fo(),u=de({playingState:{}}).on(me,(function(){return function(e){return{playingState:e.modelsList.reduce((function(t,r,n){var i=r.id;return jo({},t,Mo({},i,bo(e,i,n)))}),{})}}})).on(xi,Bo(!0)).on(Pi,Bo(!1)),l=me.effect((function(){return function(e,t){var r=e.config,n=r.randomAutoplayEnabled,i=r.autoplay,o=e.modelsList;switch(!0){case!n:break;case i===K.RANDOM_ONCE:No(o,t);break;case i===K.RANDOM_LOOP:No(o,t),clearInterval(a),a=setInterval((function(){No(o,t)}),15e3)}}})),c=(e=function(e){return function(t){var r=e.get(t)||{},n=r.video,i=r.hls;n&&n.paused&&(i&&i.startLoad(),e.update(t,{playing:Promise.resolve(n.play())}))}}(s),t=function(e){return function(t){var r=e.get(t)||{},n=r.video,i=r.hls,o=r.playing;n&&!n.paused&&(e.clearTimeouts(t),i&&i.stopLoad(),o.then((function(){return n.pause()})).catch(lr))}}(s),r=[],n=[],i=null,o=function(){return r[0]&&e(r[0])},{get items(){return r},setOrder:function(e){n=e},isHeadedWith:function(e){return r[0]===e},append:function(e){r.includes(e)||(r=[].concat(ko(r),[e]).sort((function(e,t){return n.indexOf(e)-n.indexOf(t)})))},remove:function(e){r=r.filter((function(t){return t!==e})),t(e)},replace:function(e,t){r.includes(e)&&(this.remove(e),this.append(t))},run:function(e){r=n.filter((function(t){return e.playingState[t]})),i=setInterval(o,300)},stop:function(){clearInterval(i)},next:function(){r.shift(),o()}}),f=Di.effect((function(e){return function(t,r){return r(Ki(e))}})),d=Wi.effect((function(){return function(e,t){t.apply(void 0,Co(So(e).map((function(e){return Pi({modelId:e})})))),c.stop()}})),h=xi.effect((function(e){var t=e.modelId,r=e.force;return function(e){return(e.playingState[t]||r)&&c.append(t)}})),p=Pi.effect((function(e){var t=e.modelId;return function(e){e.playingState[t]||c.remove(t)}})),v=Ri.effect((function(e){var t=e.modelId;c.isHeadedWith(t)&&c.next(),s.clearTimeouts(t)})),g=me.effect((function(){return function(e){c.setOrder(Uo(e)),c.run(e)}})),m=be.effect((function(e){var t=e.modelId,r=e.replaceBy;return function(e){return s.waitFor(r.id).then((function(){c.setOrder(Uo(e)),c.replace(t,r.id)}))}})),y=ki.effect((function(e){var t=e.fatal,r=e.modelId;return function(e,n){var i=s.get(r);!t&&e.window.hasFocus&&i&&(i.hls?(i.hls.loadSource(i.stream.url),i.hls.startLoad()):function(e){for(var t=e.stream,r=e.video,n=e.onPlay,i=e.onError,o=e.thumbFit,a=r.parentElement,s=a.getElementsByTagName("video"),u=s.length-1;u<0;u--)s[u].id!==r.id&&a.removeChild(s[u]);var l=document.createElement("video");l.id=Math.random(),l.src=t.url,l.muted="muted",l.playsinline="playsinline",l.style.height=r.style.height,l.style.width="auto",r.parentElement.appendChild(l),l.load(),l.addEventListener("loadedmetadata",(function(){l.play()})),ho({video:l,onPlay:n,onError:i,onMetaLoaded:function(){l.setAttribute("metaloaded","true"),mo(l,void 0,o)}})}({thumbFit:ct(e).thumbFit,stream:i.stream,video:i.video,onPlay:function(){return n(Ri({modelId:r}))},onError:function(e){return n(ki(jo({},e,{modelId:r})))}}),i.recoveryTimeout||s.update(r,{recoveryTimeout:setTimeout((function(){return n(ki({modelId:r,fatal:!0}))}),3e3)}))}})),b=function(){return function(e,t){return t.apply(void 0,Co(e.modelsList.map((function(t,r){var n=t.id;return bo(e,n,r)?xi({modelId:n}):Pi({modelId:n})}))))}},E=qt.effect(b),w=Yt.effect(b),S=Yi.effect(b),_=Xi.effect(b),O=Kt.effect((function(){c.stop(),clearInterval(a)}));return{reducer:u,effects:[S,_,g,m,lt(Io),l,h,p,v,y,E,w,O,d,f],actions:{play:function(e){return function(t,r){(e?[e]:t.modelsList.map((function(e){return e.id}))).forEach((function(e){r(xi({modelId:e,force:!0}))}))}},pause:function(e){return function(t,r){return r.apply(void 0,Co(So(t,e).map((function(e){return Pi({modelId:e})}))))}},createVideo:function(e){var t=e.video,r=e.stream,n=e.modelId;return function(e,i){return ct(e).player===q.HLS&&s.create(n,Ro({video:t,stream:r,modelId:n},e,i))}}}}})),Ho=r(113),zo=r.n(Ho);function Vo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wo="5b2317f6-5879-472d-a0d3-1e2539c5bdb9",Ko="4c126840-9bea-4a9b-9574-74fa1f409181",qo={ESC_B:{Exoclick:{goal:"7604e7ec052ff154015f1d3a981a97e6"},Ero:{id:372},Trafficstars:{key:"esc_b",retId:Wo},Adnium:{tag:270}},WC_B:{Exoclick:{goal:"92a9788422b219fa59a82b363da5fbfb"},Ero:{id:374},Trafficstars:{key:"wc_b",retId:Wo},Adnium:{tag:272}},CBL_B:{Exoclick:{goal:"9581964fb9f07c57d5dacb12ce6d6b30"},Ero:{id:376},Trafficstars:{key:"cbl_b",retId:Wo},Adnium:{tag:274}},VR_B:{Exoclick:{goal:"f9eb83cdf5b2804e46b16e99e4552d19"},Ero:{id:378},Trafficstars:{key:"vr_b",retId:Wo},Adnium:{tag:276}},FA_B:{Exoclick:{goal:"422e03c48915d7ed9e8f891d7c75d412"},Ero:{id:380},Trafficstars:{key:"fa_b",retId:Wo},Adnium:{tag:278}},BRNDS:{Exoclick:{goal:"fd959c247791e390f850ed2a979e82ae"},Ero:{id:382},Trafficstars:{key:"brnds",retId:"068739e1-7b21-4f58-b88b-d7c1517e2bd2"},Adnium:{tag:280}},ESC_S:{Exoclick:{goal:"ff4a73b96c1a8fec44c0989c019142a9"},Ero:{id:373},Trafficstars:{key:"esc_s",retId:Ko},Adnium:{tag:271}},WC_S:{Exoclick:{goal:"ba45537fe5ba626bb1f189e993a12e16"},Ero:{id:375},Trafficstars:{key:"wc_s",retId:Ko},Adnium:{tag:273}},CBL_S:{Exoclick:{goal:"bb6827e63621ed9f1de6911f7040a453"},Ero:{id:377},Trafficstars:{key:"cbl_s",retId:Ko},Adnium:{tag:275}},VR_S:{Exoclick:{goal:"9eb2f9dd63ee1a6e874af5249d76599e"},Ero:{id:379},Trafficstars:{key:"vr_s",retId:Ko},Adnium:{tag:277}},FA_S:{Exoclick:{goal:"9641b3d8fe0e9d7366c45c02518277d4"},Ero:{id:381},Trafficstars:{key:"fa_s",retId:Ko},Adnium:{tag:279}}},Yo="https://ads.exoclick.com/tag_gen.js",Xo="//tracker.ero-advertising.com/tracking/rtpixel.php",$o="//tsyndicate.com/api/v1/retargeting/set/";var Qo=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vo(this,"init",(function(){var e=C();if(e.pixel){var t,r,n,i,o=qo[e.pixel];if(o)t=o.Ero.id,(r=new Image(1,1)).src=I(Xo,{id:t,uid:96988}),document.body.appendChild(r),function(e){var t=e.key,r=e.retId,n=new Image(1,1),i="".concat($o).concat(r);n.src=I(i,Vo({},t,1)),document.body.appendChild(n)}(o.Trafficstars),n=o.Exoclick.goal,(i=document.createElement("script")).src=Yo,i.dataset.goal=n,i.type="text/javascript",document.body.appendChild(i)}}))},Jo={acceptedParamsConfig:[{key:"referrer",title:"Referrer param from url",type:Ne,private:!0}]};function Zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ea(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ta=function(e,t,r){var n=Te.effect((function(){return function(r){var n=ct(r),i=n.queryParams.trackOff,o=n.encrypted;if("1"!==i){var a=function(e,t){var r=t.hash,n=void 0===r?"":r,i=e.isIncognito,o=e.impressionParameters,a=e.referrer,s=ct(e),u=s.queryParams,l=s.landing,c=s.referrer,f=Pt(s,["queryParams","landing","referrer"]),d=c||a,h=n.substring(1),p=Lt({},u,{},h?D(h):{},{},f),v={landing:l,referrer:d,i:i};return Tt(J(re(It,kt(o)),Lt({},p,{},bt(e),{},v)))}(r,t),s=new Image;s.style.cssText="position: fixed; top: -1px; left: -1px; width: 1px; height: 1px",s.src=I(Re(r,"impression"),o?{e:btoa(k(a))}:a),e.appendChild(s)}}}));return{reducer:de(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zo(r,!0).forEach((function(t){ea(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zo(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({impressionParameters:[],trackingParameters:[]},r)).on(Ae,(function(e){var t=e.impression,r=void 0===t?[]:t,n=e.tracking;return{impressionParameters:r,trackingParameters:void 0===n?[]:n}})),effects:[n,lt(Jo)]}},ra={acceptedParamsConfig:[{key:"pixel",title:"Advertisement network pixel",description:"\n        Possible values:\n        \n          ESC_B - Escort = ESC_B\n          WC_B - Webcam = WC_B\n          CBL_B - Celebrity = CBL_B\n          VR_B - VR = VR_B\n          FA_B - Member Area = FA_B\n          BRNDS - Brands = BRNDS\n          ESC_S - Escort = ESC_S\n          WC_S - Webcam = WC_S\n          CBL_S - Celebrity = CBL_S\n          VR_S - VR = VR_S\n          FA_S - Member Area = FA_S\n      ",multiple:!1,section:rr,type:Be,enum:Object.keys(qo)}]};function na(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ia=le((function(e,t){var r=se.effect(Qo.init);return zo()().catch((function(){return 0})).then(Number).then((function(n){var i=ta(e,t,{isIncognito:n}),o=i.reducer,a=i.effects;return{reducer:o,effects:[].concat(na(a),[lt(ra),r])}}))})).requires("body","location"),oa=le((function(e,t,r){return function(e,t,r){return new ei(e,t,r).init()}(e,t,r).then((function(e){return{reducer:de({i18n:e}),effects:[lt((r=t,{acceptedParamsConfig:[{key:"language",title:"Language",description:"",section:rr,type:Be,multiple:!1,enum:r}]}))]};var r}))})).requires("i18nPaths","i18nAvailableLanguages","window");r(147);function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ua(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var la,ca=function(e){return le((function(){var t;return{effects:[se.effect((function(){return function(r,n){t=Object.entries(e).reduce((function(e,t){var r=ua(t,2),i=r[0],o=r[1],a=o.onAppear,s=o.onDisappear,u=o.threshold,l=void 0===u?.5:u,c=new WeakMap;return"undefined"==typeof IntersectionObserver?{}:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aa(r,!0).forEach((function(t){sa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,sa({},i,{selectors:c,observer:new IntersectionObserver((function(e){return e.forEach((function(e){var t=c.get(e.target);if(t){var r=e.intersectionRatio<l?s:a;n(r(t()))}}))}),{threshold:l})}))}),{})}}))],actions:{observeIntersections:function(e){var r=e.key,n=e.node,i=e.selector,o=t[r];o.selectors.set(n,i),o.observer.observe(n)}}}}))},fa={acceptedParamsConfig:[{key:"kbLimit",title:"Limit data for player",type:Fe,default:0}]},da=le((function(){var e=parseInt("374720",10)||0,t=0;return{reducer:de({limitExceeded:!1}).on(Wi,(function(){return{limitExceeded:!0}})),effects:[lt(fa),Ki.effect((function(r){return function(n,i){var o=ct(n).kbLimit;o&&(e+=r,t=Math.max(t,r),(e+2*t)/1024>=o&&!n.limitExceeded&&i(Wi()))}}))]}})),ha=document,pa=ha.location,va=ha.body,ga=ha.referrer;(la=!1,Li({modules:[ca({thumb:{threshold:.3,onAppear:Yi,onDisappear:Xi}}),oa,ft,De(),tr,ia,Go,mn,Mi,so(la?Y.AVATAR:void 0),An(la),da]})).init({Api:j,referrer:ga,performance:performance,location:pa,body:va,window:window,i18nPaths:["lang"],i18nAvailableLanguages:["ar","cs","de","el","en","es","fr","hi","hr","hu","it","iw","ja","ko","nb","nl","pl","pt","ro","ru","sv","tr","zh"],globals:{}}).mount((function(e,t,r,n){var i,o=[].map,a=n&&n.children[0]||null,s=a&&function e(t){return{nodeName:t.nodeName.toLowerCase(),attributes:{},children:o.call(t.childNodes,(function(t){return 3===t.nodeType?t.nodeValue:e(t)}))}}(a),u=[],l=!0,c=v(e),f=function e(t,r,n){for(var i in n)"function"==typeof n[i]?function(e,i){n[e]=function(e){var o=i(e);return"function"==typeof o&&(o=o(m(t,c),n)),o&&o!==(r=m(t,c))&&!o.then&&p(c=g(t,v(r,o),c)),o}}(i,n[i]):e(t.concat(i),r[i]=v(r[i]),n[i]=v(n[i]));return n}([],c,v(t));return p(),f;function d(e){return"function"==typeof e?d(e(c,f)):null!=e?e:""}function h(){i=!i;var e=d(r);for(n&&!i&&(a=function e(t,r,n,i,o){if(i===n);else if(null==n||n.nodeName!==i.nodeName){var a=function e(t,r){var n="string"==typeof t||"number"==typeof t?document.createTextNode(t):(r=r||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName);var i=t.attributes;if(i){i.oncreate&&u.push((function(){i.oncreate(n)}));for(var o=0;o<t.children.length;o++)n.appendChild(e(t.children[o]=d(t.children[o]),r));for(var a in i)E(n,a,i[a],null,r)}return n}(i,o);t.insertBefore(a,r),null!=n&&w(t,r,n),r=a}else if(null==n.nodeName)r.nodeValue=i;else{!function(e,t,r,n){for(var i in v(t,r))r[i]!==("value"===i||"checked"===i?e[i]:t[i])&&E(e,i,r[i],t[i],n);var o=l?r.oncreate:r.onupdate;o&&u.push((function(){o(e,t)}))}(r,n.attributes,i.attributes,o=o||"svg"===i.nodeName);for(var s={},c={},f=[],h=n.children,p=i.children,g=0;g<h.length;g++){f[g]=r.childNodes[g],null!=(b=y(h[g]))&&(s[b]=[f[g],h[g]])}g=0;for(var m=0;m<p.length;){var b=y(h[g]),S=y(p[m]=d(p[m]));if(c[b])g++;else if(null==S||S!==y(h[g+1]))if(null==S||l)null==b&&(e(r,f[g],h[g],p[m],o),m++),g++;else{var _=s[S]||[];b===S?(e(r,_[0],_[1],p[m],o),g++):_[0]?e(r,r.insertBefore(_[0],f[g]),_[1],p[m],o):e(r,f[g],null,p[m],o),c[S]=p[m],m++}else null==b&&w(r,f[g],h[g]),g++}for(;g<h.length;)null==y(h[g])&&w(r,f[g],h[g]),g++;for(var g in s)c[g]||w(r,s[g][0],s[g][1])}return r}(n,a,s,s=e)),l=!1;u.length;)u.pop()()}function p(){i||(i=!0,setTimeout(h))}function v(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}function g(e,t,r){var n={};return e.length?(n[e[0]]=e.length>1?g(e.slice(1),t,r[e[0]]):t,v(r,n)):t}function m(e,t){for(var r=0;r<e.length;)t=t[e[r++]];return t}function y(e){return e?e.key:null}function b(e){return e.currentTarget.events[e.type](e)}function E(e,t,r,n,i){if("key"===t);else if("style"===t)if("string"==typeof r)e.style.cssText=r;else for(var o in"string"==typeof n&&(n=e.style.cssText=""),v(n,r)){var a=null==r||null==r[o]?"":r[o];"-"===o[0]?e.style.setProperty(o,a):e.style[o]=a}else"o"===t[0]&&"n"===t[1]?(t=t.slice(2),e.events?n||(n=e.events[t]):e.events={},e.events[t]=r,r?n||e.addEventListener(t,b):e.removeEventListener(t,b)):t in e&&"list"!==t&&"type"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!i?e[t]=null==r?"":r:null!=r&&!1!==r&&e.setAttribute(t,r),null!=r&&!1!==r||e.removeAttribute(t)}function w(e,t,r){function n(){e.removeChild(function e(t,r){var n=r.attributes;if(n){for(var i=0;i<r.children.length;i++)e(t.childNodes[i],r.children[i]);n.ondestroy&&n.ondestroy(t)}return t}(t,r))}var i=r.attributes&&r.attributes.onremove;i?i(t,n):n()}}),yi,va)}]);