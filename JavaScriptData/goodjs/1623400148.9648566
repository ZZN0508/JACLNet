(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{196:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return i}));var a=t(126),o=window.matchMedia("(min-width: ".concat(a.b.globalNav__breakpoint_min,")"));function c(){return!o.matches}function i(e){o.addListener(e)}},263:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return b}));var a=t(5),o=t(8),c=t(6),i=t(39),u=t(3),r=t(7),s=t(196),l=t(26),d="none",v="justLeft",h="reEntered";function m(e){if(e.length>27){var n=e.substring(0,27);return"".concat(n,"â€¦")}return e}var b=function(){function e(){var n=this;Object(a.a)(this,e),Object(c.a)(this,"handleEscapeKeydown",(function(e){Object(r.b)(e).is(r.a.Escape)&&(e.preventDefault(),n.closePanel())})),this.elements={accountLogin:document.querySelectorAll("[data-behavior='global-nav:login']"),accountSignup:document.querySelectorAll("[data-behavior='global-nav:signup']"),accountNav:document.querySelectorAll("[data-behavior='account-nav']"),accountAvatar:document.querySelectorAll("[data-behavior='account-nav:avatar']"),accountName:document.querySelectorAll("[data-behavior='account-nav:name']"),salutation:document.querySelectorAll("[data-behavior='account-nav:salutation']"),accountOrganization:document.querySelectorAll("[data-behavior='account-nav:organization']"),accountLinks:document.querySelectorAll("[data-behavior^='account-nav-link']"),accountOverlay:document.querySelector("[data-behavior='account-nav:overlay']"),accountDropdown:document.querySelector("[data-behavior='account-nav:dropdown']"),accountNavContainer:document.querySelector('[data-account-nav-element="container"]'),accountNavControl:document.querySelector("[data-behavior='account-nav:control']"),accountExit:document.querySelector("[data-behavior='account-nav:exit']"),menuControl:document.querySelector('[data-behavior="globalNav:menuControl"]')},this.options={hiddenClass:"is-hidden"},this.classes={acctIsOpen:"is-open",moveBack:"move-back"},this.state={isOpen:!1}}return Object(o.a)(e,[{key:"initialize",value:function(){var e=this,n=this.elements,t=n.accountNav,a=n.accountNavControl,o=n.accountNavContainer,c=n.accountDropdown,i=n.accountOverlay,u=n.accountExit;if(t.length>0&&(this.showUserActions(),c)){var r=d;o.addEventListener("mouseenter",(function(){Object(s.a)()||(r===v&&(r=h),e.openPanel())})),o.addEventListener("mouseleave",(function(){Object(s.a)()||(r=v,setTimeout((function(){r!==h?(e.closePanel(),r=d):r=d}),300))})),o.addEventListener("focusout",(function(n){e.state.isOpen&&!e.elements.accountDropdown.contains(n.relatedTarget)&&e.closePanel()})),a.addEventListener("click",(function(){e.state.isOpen?e.closePanel():e.openPanel()})),i.addEventListener("click",(function(){e.state.isOpen&&e.closePanel()})),u.addEventListener("click",(function(){e.state.isOpen&&e.closePanel()}))}}},{key:"showUserActions",value:function(){var e=this.elements,n=e.accountLogin,t=e.accountSignup,a=e.accountNav,o=this.options.hiddenClass,c=Object(u.j)();c?(this.updateUserMenu(c),Object(u.o)(a,o)):(Object(u.o)(n,o),Object(u.o)(t,o))}},{key:"updateUserMenu",value:function(e){var n=this.elements,t=n.accountAvatar,a=n.accountName,o=n.accountOrganization,c=n.accountLinks,i=n.salutation;t.forEach((function(n){n.style.backgroundImage="url('".concat(e.avatar,"')")})),i.forEach((function(n){var t=n.innerText;n.innerText=m(t.replace("%s",e.firstname).trim())})),a.forEach((function(n){n.innerText=m(e.firstname)})),o.forEach((function(n){n.innerHTML="".concat(e.accountname)})),c.forEach((function(n){n.href=Object(u.w)(e.dc,n.pathname+n.search)}))}},{key:"openPanel",value:function(){var e=this;this.state.isOpen||(document.addEventListener("keydown",this.handleEscapeKeydown),this.state.isOpen=!0,this.elements.accountDropdown.hidden=!1,setTimeout((function(){Object(l.b)(e.elements.accountNavControl),e.elements.menuControl.classList.add(e.classes.moveBack),Object(s.a)()&&Object(i.disableBodyScroll)(e.elements.accountDropdown)}),10))}},{key:"closePanel",value:function(){var e=this;this.state.isOpen&&(document.removeEventListener("keydown",this.handleEscapeKeydown),this.state.isOpen=!1,Object(l.a)(this.elements.accountNavControl),this.elements.menuControl.classList.remove(this.classes.moveBack),Object(s.a)()&&Object(i.enableBodyScroll)(this.elements.accountDropdown),setTimeout((function(){e.elements.accountDropdown.hidden=!0}),300))}}]),e}()}}]);