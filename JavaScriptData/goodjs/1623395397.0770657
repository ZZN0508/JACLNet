import{S as t,i as e,s as n,e as s,c as a,a as r,d as o,b as l,D as c,f as i,E as u,k as h,l as f,n as d,F as m,z as p,t as g,g as $,h as v,G as w,H as x,j,m as y,o as E,v as b,r as A,w as k,u as S,I as D,B as I,J as N,K as V}from"../chunks/vendor-aca2138d.js";import{a as q,b as R}from"../chunks/paths-2c73d5fe.js";import{d as M}from"../chunks/env-984c559a.js";import{n as W,T as F,p as P}from"../chunks/index-e2a33479.js";import"../chunks/index-20662748.js";import"../chunks/singletons-bb9012b7.js";function T(t){let e,n;return{c(){e=s("div"),n=s("div"),this.h()},l(t){e=a(t,"DIV",{class:!0});var s=r(e);n=a(s,"DIV",{class:!0,style:!0}),r(n).forEach(o),s.forEach(o),this.h()},h(){l(n,"class","progress svelte-1wt7jrm"),c(n,"width",100*t[0]+"%"),l(e,"class","progress-container svelte-1wt7jrm")},m(t,s){i(t,e,s),u(e,n)},p(t,e){1&e&&c(n,"width",100*t[0]+"%")},d(t){t&&o(e)}}}function J(t){let e;return{c(){e=s("div"),this.h()},l(t){e=a(t,"DIV",{class:!0}),r(e).forEach(o),this.h()},h(){l(e,"class","fade svelte-1wt7jrm")},m(t,n){i(t,e,n)},d(t){t&&o(e)}}}function C(t){let e,n,s=t[1]&&T(t),a=t[0]>=.4&&J();return{c(){s&&s.c(),e=h(),a&&a.c(),n=f()},l(t){s&&s.l(t),e=d(t),a&&a.l(t),n=f()},m(t,r){s&&s.m(t,r),i(t,e,r),a&&a.m(t,r),i(t,n,r)},p(t,[r]){t[1]?s?s.p(t,r):(s=T(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),t[0]>=.4?a||(a=J(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i:m,o:m,d(t){s&&s.d(t),t&&o(e),a&&a.d(t),t&&o(n)}}}function H(t,e,n){let s=0,a=!1;return p((()=>{setTimeout((function t(){n(1,a=!0),n(0,s+=.1);const e=1-s;e>.15&&setTimeout(t,500/e)}),250)})),[s,a]}class L extends t{constructor(t){super(),e(this,t,H,C,n,{})}}function O(t){let e,n,c,f,p,w,x=Math.round(t[1])+"";return{c(){e=s("div"),n=s("p"),c=g("fps: "),f=g(x),p=h(),w=s("canvas"),this.h()},l(t){e=a(t,"DIV",{class:!0});var s=r(e);n=a(s,"P",{class:!0});var l=r(n);c=$(l,"fps: "),f=$(l,x),l.forEach(o),p=d(s),w=a(s,"CANVAS",{class:!0}),r(w).forEach(o),s.forEach(o),this.h()},h(){l(n,"class","svelte-1hlh8gs"),l(w,"class","svelte-1hlh8gs"),l(e,"class","fps-meter svelte-1hlh8gs")},m(s,a){i(s,e,a),u(e,n),u(n,c),u(n,f),u(e,p),u(e,w),t[2](w)},p(t,[e]){2&e&&x!==(x=Math.round(t[1])+"")&&v(f,x)},i:m,o:m,d(n){n&&o(e),t[2](null)}}}function U(t,e,n){let s,a=0,r=0;const o=Array(60).fill(0);return p((()=>{const t=s.getContext("2d"),e=s.offsetWidth*devicePixelRatio,l=s.offsetHeight*devicePixelRatio,c={x:w([0,1e3],[0,e]),y:w([0,60],[0,l])};n(0,s.width=e,s),n(0,s.height=l,s),t.fillStyle="rgba(0,200,0, 0.5)";let i=Date.now(),u=requestAnimationFrame((function s(){u=requestAnimationFrame(s);const h=Date.now(),f=h-i;a=1e3/f,o.unshift(f),o.pop(),n(1,r=function(){let t,e=0;for(t=0;t<o.length&&(e+=o[t],!(e>1e3));t+=1);return t}());const d=Math.round(c.x(f)),m=Math.round(c.y(a)),p=t.getImageData(0,0,e,l);t.putImageData(p,-d,0),t.clearRect(e-d,0,e,l),t.fillRect(e-d,l-m,d,m),i=h}));return()=>{cancelAnimationFrame(u)}})),[s,r,function(t){x[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class _ extends t{constructor(t){super(),e(this,t,U,O,n,{})}}function z(t){let e,n,c,f,m,p,g=t[2]&&G();f=new F({props:{navigation:t[0]}});const $=t[5].default,v=N($,t,t[4],null);return{c(){g&&g.c(),e=h(),n=s("main"),c=s("div"),j(f.$$.fragment),m=h(),v&&v.c(),this.h()},l(t){g&&g.l(t),e=d(t),n=a(t,"MAIN",{class:!0});var s=r(n);c=a(s,"DIV",{class:!0});var l=r(c);y(f.$$.fragment,l),l.forEach(o),m=d(s),v&&v.l(s),s.forEach(o),this.h()},h(){l(c,"class","g-column"),l(n,"class","covid-tracker")},m(t,s){g&&g.m(t,s),i(t,e,s),i(t,n,s),u(n,c),E(f,c,null),u(n,m),v&&v.m(n,null),p=!0},p(t,n){t[2]?g?4&n&&b(g,1):(g=G(),g.c(),b(g,1),g.m(e.parentNode,e)):g&&(I(),A(g,1,1,(()=>{g=null})),S());const s={};1&n&&(s.navigation=t[0]),f.$set(s),v&&v.p&&16&n&&V(v,$,t,t[4],n,null,null)},i(t){p||(b(g),b(f.$$.fragment,t),b(v,t),p=!0)},o(t){A(g),A(f.$$.fragment,t),A(v,t),p=!1},d(t){g&&g.d(t),t&&o(e),t&&o(n),k(f),v&&v.d(t)}}}function B(t){let e;const n=t[5].default,s=N(n,t,t[4],null);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,n){s&&s.m(t,n),e=!0},p(t,e){s&&s.p&&16&e&&V(s,n,t,t[4],e,null,null)},i(t){e||(b(s,t),e=!0)},o(t){A(s,t),e=!1},d(t){s&&s.d(t)}}}function G(t){let e,n;return e=new L({}),{c(){j(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){E(e,t,s),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){A(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function K(t){let e,n,s,a,r,l;const c=[B,z],u=[];function m(t,n){return 2&n&&(e=!(!t[1].path.startsWith("/embeds")&&!t[1].path.startsWith("/promo-images"))),e?0:1}n=m(t,-1),s=u[n]=c[n](t);let p=t[3]&&function(t){let e,n;return e=new _({}),{c(){j(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){E(e,t,s),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){A(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}();return{c(){s.c(),a=h(),p&&p.c(),r=f()},l(t){s.l(t),a=d(t),p&&p.l(t),r=f()},m(t,e){u[n].m(t,e),i(t,a,e),p&&p.m(t,e),i(t,r,e),l=!0},p(t,[e]){let r=n;n=m(t,e),n===r?u[n].p(t,e):(I(),A(u[r],1,1,(()=>{u[r]=null})),S(),s=u[n],s?s.p(t,e):(s=u[n]=c[n](t),s.c()),b(s,1),s.m(a.parentNode,a))},i(t){l||(b(s),b(p),l=!0)},o(t){A(s),A(p),l=!1},d(t){u[n].d(t),t&&o(a),p&&p.d(t),t&&o(r)}}}async function Q({fetch:t}){const e=e=>t(`${q}/${e}`).then((async t=>{if(t.ok)try{return await t.json()}catch(n){throw new Error(`Error loading JSON (${e}): ${n.message}`)}throw new Error(`Error loading JSON (${e}): ${t.status}`)}));return{props:{navigation:await e("page/navigation.json")},context:{json:e}}}function X(t,e,n){let s,a;D(t,P,(t=>n(1,s=t))),D(t,W,(t=>n(2,a=t)));let{$$slots:r={},$$scope:o}=e,{navigation:l}=e;{const t=document.querySelector("link[rel=canonical]");let e=null,n=document.querySelector('meta[name="pubp_event_id"]');if(W.subscribe((s=>{s?e=window.location.href:e&&setTimeout((()=>{t.href=window.location.href,n&&(n.remove(),n=null),dataLayer.push({event:"trackVirtualPage",asset:{url:window.location.href},referrer:{url:e}}),AdSlot4.refreshAds&&AdSlot4.refreshAds()}))})),!s.path.startsWith("/embeds")){const t=document.querySelector('[id^="svelte-"]'),{href:e}=new URL(R,document.baseURI),n=document.querySelectorAll("a");for(let s=0;s<n.length;s+=1){const a=n[s];a.href.startsWith(e)&&!t.contains(a)&&(a.rel=a.rel.includes("external")?a.rel:a.rel?`${a.rel} external`:"external")}}}const c=M;return t.$$set=t=>{"navigation"in t&&n(0,l=t.navigation),"$$scope"in t&&n(4,o=t.$$scope)},[l,s,a,c,o,r]}export default class extends t{constructor(t){super(),e(this,t,X,K,n,{navigation:0})}}export{Q as load};