(window.webpackJsonp=window.webpackJsonp||[]).push([[15,109,120],{"+Xjy":function(e,t,n){"use strict";var o=n("kOwS"),i=n("doui"),a=n("vYYK"),r=n("eVuF"),c=n.n(r),s=n("ln6h"),l=n.n(s),u=n("6BQ9"),m=n.n(u),d=n("MX0m"),p=n.n(d),f=n("q1tI"),h=n.n(f),b=n("TSYQ"),v=n.n(b),g=n("/MKj"),x=n("KYPV"),y=n("lCZi"),w=n("4IZf"),j=n.n(w),_=n("nOHt"),k=n("a6RD"),O=n.n(k),C=n("1qWt"),E=n("Oy9n"),S=n("D+1f"),A=n("kKES"),N=n("vFE8"),P=n("vcB1"),I=n("v0uu"),R=n("LY3E"),M=n("dUxu"),T=n("ynDS"),U=n("R5x4"),D=n("LpoC"),G=n("9E9K"),L=n("8cHP"),B=n("See1"),z=n("OZ8X"),H=n("aOJk"),F=n.n(H),K={search:"T\xecm Ki\u1ebfm",clear:"X\xf3a",notfound:"Kh\xf4ng T\xecm Th\u1ea5y Emoji",skintext:"Ch\u1ecdn M\xe0u Da M\u1eb7c \u0110\u1ecbnh",categories:{search:"K\u1ebft Qu\u1ea3 T\xecm Ki\u1ebfm",recent:"Emoji Th\u01b0\u1eddng D\xf9ng",smileys:"C\u1ea3m X\xfac",people:"C\u1ea3m X\xfac & Con Ng\u01b0\u1eddi",nature:"\u0110\u1ed9ng V\u1eadt & Thi\xean Nhi\xean",foods:"\u1ea8m Th\u1ef1c",activity:"Ho\u1ea1t \u0110\u1ed9ng",places:"Du L\u1ecbch & \u0110\u1ecba \u0110i\u1ec3m",objects:"\u0110\u1ed3 V\u1eadt",symbols:"Bi\u1ec3u T\u01b0\u1ee3ng",flags:"Qu\u1ed1c Gia",custom:"Kh\xe1c"},categorieslabel:"Nh\xf3m Emoji",skintones:{1:"M\xe0u Da M\u1eb7c \u0110\u1ecbnh",2:"Da Tr\u1eafng",3:"Da Ng\xe2m",4:"Da S\u1eadm M\xe0u",5:"Da N\xe2u",6:"Da \u0110en"}},Q=n("d1El"),V=n.n(Q),W=n("WIrD"),Y=n("RysE"),X=n("65Qd"),J=n("MM9K"),q=n.n(J),Z=n("hpSX"),$=n("41uw");var ee=function(e){var t=Object(f.useState)(!1),n=t[0],o=t[1];function i(t){t.key===e&&o(!0)}var a=function(t){t.key===e&&o(!1)};return Object(f.useEffect)((function(){return document.addEventListener("keydown",i),document.addEventListener("keyup",a),function(){document.removeEventListener("keydown",i),document.removeEventListener("keyup",a)}})),n},te=h.a.createElement,ne=Object(f.memo)((function(e){var t=e.value,n=e.active,o=e.setSelected,i=e.setHovered,a=e.username,r=e.id;return te("div",{id:r,className:"mention-item ".concat(n?"selected":""),"data-username":a,onMouseEnter:function(){return i(t)},onMouseLeave:function(){return i(null)},onClick:function(){return o(t)}},te("div",{className:"d-flex align-item-center"},te("div",{className:"mr__2"},te($.default,{url:A.b.generatorUrlProfile({username:a}),size:I.Gc.imageSizeEnum.AVATAR_32,customizeclass:"mr__5",src:t.avatarUrl,typeAvatarProfile:!0,username:a})),te("div",{className:"media-body"},te("div",{className:"font-weight-semi-bold text-wrap max-l-1",dangerouslySetInnerHTML:{__html:"".concat(t.username)||""}}))))})),oe=Object(f.memo)((function(e){var t=e.id,n=e.loading,o=e.userSearchMention,i=e.styleDropdownMention,a=(Object(g.useDispatch)(),Object(f.useContext)(X.a)),r=(Object(z.e)(a),Object(f.useState)(null)),c=r[0],s=r[1],l=ee("ArrowDown"),u=ee("ArrowUp"),m=ee("Enter"),d=Object(f.useState)(0),p=d[0],h=d[1],b=Object(f.useState)(null),v=b[0],x=b[1],y=null===o||void 0===o?void 0:o.length;Object(f.useEffect)((function(){if(y&&l){if(p===y-1)return;h((function(e){return e<y-1?e+1:e})),j()}}),[l]);var w=function(e){if(!(e<0)){var n=document.getElementById("dropdown-mention-item-".concat(e)).offsetTop;document.getElementById(t).scrollTop=n}},j=function(){w(p-1)};Object(f.useEffect)((function(){if(y&&u){if(0===p)return;h((function(e){return e>0?e-1:e})),w(p-3)}}),[u]),Object(f.useEffect)((function(){(null===o||void 0===o?void 0:o.length)>0&&m&&s(o[p])}),[p,m]),Object(f.useEffect)((function(){(null===o||void 0===o?void 0:o.length)>0&&y&&v&&h(o.indexOf(v))}),[v]),Object(f.useEffect)((function(){c&&e.userSelectMention(_(c.username))}),[c]);var _=function(e){return Object(Z.n)(e)};return te("div",{className:"dropdown-mention",id:t,style:i},!n&&(null===o||void 0===o?void 0:o.length)>0?o.map((function(e,t){var n=_(e.username);return te(ne,{id:"dropdown-mention-item-".concat(t),key:t,active:t===p,value:e,setSelected:s,setHovered:x,username:n})})):"",n?te("div",{style:{height:285},className:"d-flex align-item-center justify-content-center py__30"},te(q.a,null)):"")})),ie=n("u0k+"),ae=n("4m1b"),re=n("FAhR"),ce=n.n(re),se=n("eoL6"),le={searchUser:function(e){var t=e.where,n=e.limit,o=e.offset;return function(e){var i,a;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(B.a.startFetchingSearchUser()),r.prev=1,r.next=4,l.a.awrap(se.a.query(ae.a.userQuery.SEARCH_USER,{where:t,limit:n,offset:o}).toPromise());case 4:if(!(i=r.sent)){r.next=12;break}return a=i.data?i.data:null,e(Object(G.e)(ie.a.FETCH_USER_SEARCH_MENTION,(null===a||void 0===a?void 0:a.userSearch)?null===a||void 0===a?void 0:a.userSearch:[])),e(B.a.stopFetchingSearchUser()),r.abrupt("return",null===a||void 0===a?void 0:a.userSearch);case 12:e(ce.a.error({title:"Error get info Corona",message:"".concat(i.data.errors[0].message)}));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),e(ce.a.error({title:"Error",message:"".concat(r.t0.toString())}));case 18:case"end":return r.stop()}}),null,null,[[1,15]],c.a)}},searchMentionUser:function(e){var t=e.where,n=e.limit,o=e.offset;return function(e){var i,a;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(B.a.startFetchingSearchUser()),r.prev=1,r.next=4,l.a.awrap(se.a.query(ae.a.userQuery.SEARCH_MENTION_USER,{where:t,limit:n,offset:o}).toPromise());case 4:if(!(i=r.sent)){r.next=12;break}return a=i.data?i.data:null,e(Object(G.e)(ie.a.FETCH_USER_SEARCH_MENTION,(null===a||void 0===a?void 0:a.searchMentionUser)?null===a||void 0===a?void 0:a.searchMentionUser:[])),e(B.a.stopFetchingSearchUser()),r.abrupt("return",null===a||void 0===a?void 0:a.searchMentionUser);case 12:e(ce.a.error({title:"Error get info Corona",message:"".concat(i.data.errors[0].message)}));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),e(ce.a.error({title:"Error",message:"".concat(r.t0.toString())}));case 18:case"end":return r.stop()}}),null,null,[[1,15]],c.a)}},clearDataSearchUser:function(e){return function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e(Object(G.e)(ie.a.CLEAR_DATA_SEARCH_USER_MENTION));case 1:case"end":return t.stop()}}),null,null,null,c.a)}},setKeySearchUserMention:function(e){return function(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(Object(G.e)(ie.a.SET_KEY_SEARCH_USER_MENTION,e));case 1:case"end":return n.stop()}}),null,null,null,c.a)}},showPopupSuggestMention:function(e){return function(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(Object(G.e)(ie.a.SHOW_POPUP_SUGGEST_MENTION,e));case 1:case"end":return n.stop()}}),null,null,null,c.a)}},setValueMention:function(e){return function(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(Object(G.e)(ie.a.USER_SELECT_MENTION,e));case 1:case"end":return n.stop()}}),null,null,null,c.a)}}},ue=h.a.createElement,me=Object(f.memo)((function(e){var t=Object(g.useDispatch)(),n=Object(f.useContext)(X.a),o=Object(z.e)(n),a={user:Object(M.a)((function(e){return e.auth&&e.auth.user?e.auth.user:null})),limitSearchUser:Object(M.a)((function(e){var t,n;return(null===e||void 0===e?void 0:null===(t=e.setting)||void 0===t?void 0:null===(n=t.MENTION)||void 0===n?void 0:n.comment)||10}))},r=e.emoji,c=e.handleChangeValueComment,s=e.disabled,l=e.placeholder,u=e.resetFormComment,m=e.replyUser,d=e.emojiCount,p=e.showEmojiPicker,h=Object(f.useRef)(),b=Object(f.useState)(null),v=b[0],x=b[1],y=Object(f.useState)(null),w=y[0],j=y[1],_=Object(f.useState)(""),k=_[0],O=_[1],C=Object(f.useState)(""),E=(C[0],C[1],Object(f.useState)(!1)),A=E[0],N=E[1],P=Object(f.useState)([]),R=P[0],T=P[1],U=Object(f.useState)({}),D=U[0],L=U[1],B=Object(f.useState)(!1),H=B[0],F=B[1],K=Object(f.useState)(!0),Q=K[0],V=K[1],W=Object(f.useCallback)((function(e,n){return t(le.searchMentionUser(e,n))}),[t]),Y=Object(f.useCallback)((function(){return t(Object(G.a)())}),[t]),J=Object(S.b)((function(e){return ie(e)}),500),q=Object(i.a)(J,1)[0],Z=function(e){e&&O(e)};Object(f.useEffect)((function(){r&&he({data:r,type:"emoji"})}),[d]),Object(f.useEffect)((function(){!v&&p&&(document.getElementById(e.id).focus(),pe())}),[p]),Object(f.useEffect)((function(){return document.addEventListener("click",$,!1),function(){document.removeEventListener("click",$,!1)}}),[]),Object(f.useEffect)((function(){var t;m&&((null===m||void 0===m?void 0:m.username)!==(null===a||void 0===a?void 0:null===(t=a.user)||void 0===t?void 0:t.username)&&(document.getElementById(e.id).focus(),pe(),Z(m.username)))}),[m]);var $=function(t){document.getElementById("".concat(e.id,"-dropdown-mention"))&&h.current&&!h.current.contains(t.target)&&(N(!1),L({}))},ee=function(e){var t,n,o,i,a,r=null===v||void 0===v?void 0:null===(t=v.endContainer)||void 0===t?void 0:t.textContent;if(e)return{string:e,positionStart:0,positionEnd:e.length};if(!r||"user-mention-highlight"===(null===v||void 0===v?void 0:null===(n=v.endContainer)||void 0===n?void 0:null===(o=n.parentNode)||void 0===o?void 0:o.className)||(null===v||void 0===v?void 0:null===(i=v.endContainer)||void 0===i?void 0:i.firstElementChild))return{string:"",positionStart:0,positionEnd:0};for(var c=v.endOffset,s=0,l=0,u="",m=c-1;m>=0;m--){if(" "===r.charAt(m)){s=c;break}if("@"===r.charAt(m)){u="@"+u,s=m;break}u=r.charAt(m)+u}for(var d=c;d<r.length;d++){if(" "===r.charAt(d)||"@"===r.charAt(d)){l=d;break}if(" "===r.charAt(d))break;u+=r.charAt(d)}return l<=s&&(l=r.length),{string:null===(a=u)||void 0===a?void 0:a.trim(),positionStart:s,positionEnd:l}},te=function(e){var t=e.top,n=e.left,i=e.bottom;e.position&&L(o?{left:"50%",transform:"translateX(-50%)"}:{top:t?t+"px":null,left:n+"px",bottom:i?i+"px":null})},ne=function(){var t,n=(null===(t=document.getElementById(e.id))||void 0===t?void 0:t.getBoundingClientRect())||null;if(n){var o=de(),i=function(e){if(e)return{visibleTop:e.top>=0&&e.top>345,visibleBottom:e.bottom<=(window.innerHeight||document.documentElement.clientHeight)-285}}(n),a=i.visibleTop,r=i.visibleBottom,c=o.x-n.x,s=o.y-n.y+21,l="";r?te({top:s,left:c,position:o}):a&&(s=null,l=n.bottom-o.y,te({top:s,left:c,bottom:l,position:o}))}};Object(f.useEffect)((function(){return A&&document.addEventListener("scroll",ne),function(){document.removeEventListener("scroll",ne)}}),[A]);var ie=function(){var e=ee().string;if(0!==(null===e||void 0===e?void 0:e.length)){var t=e.split("@").length-1;if(e.indexOf(" ")>=0||t>1)return ce(),"";"@"===e.charAt(0)&&e.length>2?(N(!0),ne(),fe(e)):ce()}else ce()},ae=function(){c(v.endContainer.parentNode.offsetParent.innerText)},re=function(e){if(v){var t=ee(e||""),n=t.positionStart,o=t.positionEnd,i=document.createElement("span");i.setAttribute("class","text-bold"),v.setStart(null===v||void 0===v?void 0:v.endContainer,n),v.setEnd(null===v||void 0===v?void 0:v.endContainer,o),v.surroundContents(i),null===v||void 0===v||v.deleteContents();var a=document.createElement("div");a.innerHTML=function(e){if(e)return'<a href="'.concat(I.Qc.PROFILE,"/").concat(e,'" class="user-mention-highlight" contenteditable="false" data-resource="webtretho">@').concat(e,"</a> ")}(k);for(var r,c,s=document.createDocumentFragment();r=a.firstChild;)c=s.appendChild(r);v.insertNode(s),v.setStartAfter(c),v.setEndAfter(c),w.removeAllRanges(),w.addRange(v),ae(),ce(),me()}},ce=function(){O(""),N(!1),T()};Object(f.useEffect)((function(){u&&se()}),[u]);var se=function(){v&&(v.selectNodeContents(document.getElementById(e.id)),null===v||void 0===v||v.deleteContents()),document.getElementById(e.id).innerHTML="",me()},me=function(){var t=document.getElementById(e.id);(null===t||void 0===t?void 0:t.hasChildNodes())?t.classList.remove("comment-editor-placeholder"):t.classList.add("comment-editor-placeholder")},de=function(){if(w){var e=0,t=0;if(w.rangeCount){var n=v.cloneRange();if(n.getClientRects()){n.collapse(!0);var o=n.getClientRects()[0];o&&(t=o.top,e=o.left)}}return{x:e,y:t}}},pe=function(){var e=window.getSelection().getRangeAt(0);x(e),j(window.getSelection()),q()},fe=function(t){if(!(t.length<3)){F(!0);var n={keyword:t.substring(1),highlight:!1,priorityOrderCommunityId:e.communityId,emailConfirmed:[!0],isSuspended:[!1],searchUserMention:!0},o=a.limitSearchUser;setTimeout((function(){W({where:n,limit:o,offset:0}).then((function(e){F(!1),e&&T(e)}))}),500)}};Object(f.useEffect)((function(){k&&re()}),[k]);var he=function(e){var t,n,o=e.data;e.type;if(v&&(null===(t=window)||void 0===t?void 0:t.getSelection)){null===v||void 0===v||v.deleteContents();var i=document.createElement("div");i.innerHTML=o;for(var a,r,c=document.createDocumentFragment();a=i.firstChild;)r=c.appendChild(a);v.insertNode(c),r&&((n=v.cloneRange()).setStartAfter(r),n.collapse(!0),x(n),ae(),w?(w.removeAllRanges(),w.addRange(n)):(window.getSelection().removeAllRanges(),window.getSelection().addRange(n)))}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(html)};return ue("div",{className:"position-relative"},ue("div",{disabled:s,onInput:function(e){a.user&&Y().then((function(e){e?(pe(),ae()):V(!1)}))},onBlur:function(){me()},onKeyUp:function(e){var t=40===e.which,n=38===e.which,o=13===e.which;A&&(t||n||o)?e.preventDefault():(pe(),q())},onKeyDown:function(e){var t=40===e.which,n=38===e.which,o=13===e.which;A&&(t||n||o)&&e.preventDefault()},onClick:function(e){pe()},onFocus:function(){Y().then((function(t){t?document.getElementById(e.id).classList.remove("comment-editor-placeholder"):V(!1)}))},onPaste:function(e){return function(e){var t;e.stopPropagation(),e.preventDefault(),t=(e.clipboardData||window.clipboardData).getData("Text"),window.document.execCommand("insertText",!1,t)}(e)},id:e.id||"",contentEditable:Q,"data-placeholder":l||"Vi\u1ebft b\xecnh lu\u1eadn...",className:"".concat(e.className," input-comment-edit-able comment-editor-placeholder")||!1,ref:h}),A?ue(oe,{id:"".concat(e.id,"-dropdown-mention"),styleDropdownMention:D,userSearchMention:R,userSelectMention:Z,loading:H}):null)})),de=[".input-group{position:relative;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;}",".input-group .form-control{position:relative;-ms-flex:1 1 auto;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:1%;margin-bottom:0;}",".input-group .form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0;}",".input-group .input-group-append{display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".input-group .input-group-append .btn{position:relative;z-index:2;border-top-left-radius:0;border-bottom-left-radius:0;}",".short-tip-comment.ant-tooltip{max-width:320px !important;z-index:4;}",".short-tip-comment .ant-tooltip-inner{color:#222 !important;background:#fff !important;border-radius:6px !important;border:1px solid #D8DEE3 !important;padding:12px 15px;}",".short-tip-comment .ant-tooltip-arrow:before{background:#fff !important;}",".input-comment{min-height:35px !important;cursor:text;-webkit-align-items:flex-end !important;-webkit-box-align:flex-end !important;-ms-flex-align:flex-end !important;align-items:flex-end !important;}",".input-comment textarea{font-family:inherit;cursor:text;}",".input-comment .form-control{resize:none;min-height:26px;font-size:14px;height:auto;background:white;border:1px solid #dae6f2;border-radius:17.5px;min-height:35px;}","@media (max-width:768px){.input-comment .form-control{font-size:16px;}}",".input-comment .form-control .am-textarea-control{padding-top:0 !important;padding-bottom:0 !important;}",".input-comment .form-control .am-textarea-control textarea{cursor:text;font-size:14px !important;}","@media (max-width:768px){.input-comment .form-control .am-textarea-control textarea{font-size:16px;}}",".input-comment .btn{min-height:33px;background:none;border:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;}",".input-comment .btn.btn-send{background-color:#003b70;border-radius:100px;width:33px;height:33px;color:#fff !important;margin-left:5px;cursor:pointer;-webkit-animation:bounceIn 0.5s 1 linear;-webkit-animation:bounceIn 0.5s 1 linear;animation:bounceIn 0.5s 1 linear;padding:2px 6px;}",".input-comment .btn.btn-send>svg{display:block;position:relative;left:2px;}",".input-comment .btn.btn-send:hover{opacity:0.9;}","@media screen and (max-width:768px){.input-comment .btn.btn-send{position:relative;bottom:2px;}}",".input-comment.input-comment-sm{height:30px !important;}",".input-comment.input-comment-sm .form-control{height:30px !important;}",".input-comment.input-comment-sm .btn{height:30px !important;}",".input-comment:hover div.ga-quick-create-post-box{border-color:#003b70 !important;}"];de.__hash="1928917466";var pe=de,fe=n("S5sF"),he=[".dropdown-mention{width:250px;position:absolute;background-color:#fff;border-radius:4px;overflow-y:hidden;display:block;z-index:3;height:auto;box-shadow:0 1px 2px #ccc;max-height:285px;overflow-y:auto;overflow-x:hidden;box-shadow:0 2px 12px 0 rgba(30,30,30,0.08);-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;}",".dropdown-mention i{background-color:#828282;}",".comment-editor-placeholder::before{content:attr(data-placeholder);left:15px;pointer-events:none;position:absolute;right:15px;}",".mention-item.activeMention{background:#2d9cff;color:#fff;}",".mention-item{padding:12px;border-bottom:1px solid #eee;cursor:pointer;-webkit-transition:all .2s ease;transition:all .2s ease;cursor:pointer;}",".mention-item.selected{background:#2d9cff;color:#fff;-webkit-transition:all .2s ease;transition:all .2s ease;}",".input-comment-edit-able{outline:none !important;-webkit-user-select:text !important;-moz-user-select:text !important;-ms-user-select:text !important;user-select:text !important;white-space:pre-wrap !important;overflow-wrap:break-word !important;word-break:break-word;}",".input-comment-edit-able .user-mention-highlight{color:#2D9CFF;pointer-events:none;cursor:default;}",".cke_autocomplete_panel{width:250px !important;z-index:1 !important;-webkit-transition:all 0.2s ease !important;transition:all 0.2s ease !important;max-height:285px !important;}",".cke_autocomplete_panel li{padding:12px !important;border-bottom:1px solid #eee !important;}",".cke_autocomplete_panel>li:hover{background-color:#2d9cff !important;}",".cke_autocomplete_panel>li:hover strong{color:#fff !important;}",".cke_autocomplete_selected{background-color:#2d9cff !important;}",".cke_autocomplete_selected strong{color:#fff !important;}",".user-mention-highlight{color:#2d9cff !important;-webkit-text-decoration:none !important;text-decoration:none !important;pointer-events:auto;cursor:pointer;}"];he.__hash="1364394474";var be=he,ve=[".emoji-mart{box-sizing:border-box;line-height:1.15;font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,sans-serif;font-size:16px;display:inline-block;color:#222427;border:1px solid #d9d9d9;border-radius:5px;background:#fff;}",".emoji-mart *{box-sizing:border-box;line-height:1.15;}",".emoji-mart .emoji-mart-emoji{padding:6px;}",".emoji-mart-bar{border:0 solid #d9d9d9;}",".emoji-mart-bar:first-child{border-bottom-width:1px;border-top-left-radius:5px;border-top-right-radius:5px;}",".emoji-mart-bar:last-child{border-top-width:1px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;}",".emoji-mart-anchors{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 6px;line-height:0;}",".emoji-mart-anchors i{display:inline-block;width:100%;max-width:22px;}",".emoji-mart-anchors img{fill:currentColor;height:18px;width:18px;}",".emoji-mart-anchors svg{fill:currentColor;height:18px;width:18px;}",".emoji-mart-anchor{position:relative;display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;color:#858585;text-align:center;padding:12px 4px;overflow:hidden;-webkit-transition:color .1s ease-out;transition:color .1s ease-out;margin:0;box-shadow:none;background:none;border:none;}",".emoji-mart-anchor:focus{outline:0;color:#464646;}",".emoji-mart-anchor:hover{color:#464646;}",".emoji-mart-anchor-selected{color:#464646;}",".emoji-mart-anchor-selected .emoji-mart-anchor-bar{bottom:0;}",".emoji-mart-anchor-bar{position:absolute;bottom:-3px;left:0;width:100%;height:3px;background-color:#464646;}",".emoji-mart-scroll{overflow-y:scroll;overflow-x:hidden;height:270px;padding:0 6px 6px;will-change:transform;}",".emoji-mart-search{margin-top:6px;padding:0 6px;position:relative;}",".emoji-mart-search input{font-size:16px;display:block;width:100%;padding:5px 25px 6px 10px;border-radius:5px;border:1px solid #d9d9d9;outline:0;-webkit-appearance:none;}",".emoji-mart-search input::-webkit-search-cancel-button{-webkit-appearance:none;}",".emoji-mart-search input::-webkit-search-decoration{-webkit-appearance:none;}",".emoji-mart-search input::-webkit-search-results-button{-webkit-appearance:none;}",".emoji-mart-search input::-webkit-search-results-decoration{-webkit-appearance:none;}",".emoji-mart-search-icon{position:absolute;top:7px;right:11px;z-index:2;padding:2px 5px 1px;border:none;background:none;}",".emoji-mart-category .emoji-mart-emoji span{z-index:1;position:relative;text-align:center;cursor:default;}",'.emoji-mart-category .emoji-mart-emoji:hover:before{z-index:0;content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#f4f4f4;border-radius:100%;}',".emoji-mart-category-label{z-index:2;position:relative;position:-webkit-sticky;position:-webkit-sticky;position:sticky;top:0;}",".emoji-mart-category-label span{display:block;width:100%;font-weight:500;padding:5px 6px;background-color:#fff;background-color:rgba(255,255,255,0.95);}",".emoji-mart-category-list{margin:0;padding:0;}",".emoji-mart-category-list li{list-style:none;margin:0;padding:0;display:inline-block;}",".emoji-mart-emoji{position:relative;display:inline-block;font-size:0;margin:0;padding:0;border:none;background:none;box-shadow:none;}",".emoji-mart-emoji-native{font-family:Segoe UI Emoji,Segoe UI Symbol,Segoe UI,Apple Color Emoji,Twemoji Mozilla,Noto Color Emoji,Android Emoji;}",".emoji-mart-no-results{font-size:14px;text-align:center;padding-top:70px;color:#858585;}",".emoji-mart-no-results .emoji-mart-category-label{display:none;}",".emoji-mart-no-results .emoji-mart-no-results-label{margin-top:.2em;}",".emoji-mart-no-results .emoji-mart-emoji:hover:before{content:none;}",".emoji-mart-no-results-img{display:block;margin-left:auto;margin-right:auto;width:50%;}",".emoji-mart-preview{position:relative;height:70px;}",".emoji-mart-preview-data{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:68px;right:12px;word-break:break-all;}",".emoji-mart-preview-emoji{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:12px;}",".emoji-mart-preview-skins{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);right:30px;text-align:right;}",".emoji-mart-preview-skins.custom{right:10px;text-align:right;}",".emoji-mart-preview-name{font-size:14px;}",".emoji-mart-preview-shortname{font-size:12px;color:#888;}",".emoji-mart-preview-emoticon+.emoji-mart-preview-emoticon{margin-left:.5em;}",".emoji-mart-preview-shortname+.emoji-mart-preview-emoticon{margin-left:.5em;}",".emoji-mart-preview-shortname+.emoji-mart-preview-shortname{margin-left:.5em;}",".emoji-mart-preview-emoticon{font-size:11px;color:#bbb;}",".emoji-mart-title span{display:inline-block;vertical-align:middle;}",".emoji-mart-title .emoji-mart-emoji{padding:0;}",".emoji-mart-title-label{color:#999a9c;font-size:26px;font-weight:300;}",".emoji-mart-skin-swatches{font-size:0;padding:2px 0;border:1px solid #d9d9d9;border-radius:12px;background-color:#fff;}",".emoji-mart-skin-swatches.custom{font-size:0;border:none;background-color:#fff;}",".emoji-mart-skin-swatches.custom .emoji-mart-skin-swatch.custom:hover{background-color:#f4f4f4;border-radius:10%;}",".emoji-mart-skin-swatches.opened .emoji-mart-skin-swatch{width:16px;padding:0 2px;}",".emoji-mart-skin-swatches.opened .emoji-mart-skin-swatch.selected:after{opacity:.75;}",".emoji-mart-skin-swatch{display:inline-block;width:0;vertical-align:middle;-webkit-transition-property:width,padding;transition-property:width,padding;-webkit-transition-duration:.125s;transition-duration:.125s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;}",".emoji-mart-skin-swatch:first-child{-webkit-transition-delay:0s;transition-delay:0s;}",".emoji-mart-skin-swatch:nth-child(2){-webkit-transition-delay:.03s;transition-delay:.03s;}",".emoji-mart-skin-swatch:nth-child(3){-webkit-transition-delay:.06s;transition-delay:.06s;}",".emoji-mart-skin-swatch:nth-child(4){-webkit-transition-delay:.09s;transition-delay:.09s;}",".emoji-mart-skin-swatch:nth-child(5){-webkit-transition-delay:.12s;transition-delay:.12s;}",".emoji-mart-skin-swatch:nth-child(6){-webkit-transition-delay:.15s;transition-delay:.15s;}",".emoji-mart-skin-swatch.selected{position:relative;width:16px;padding:0 2px;}",'.emoji-mart-skin-swatch.selected:after{content:"";position:absolute;top:50%;left:50%;width:4px;height:4px;margin:-2px 0 0 -2px;background-color:#fff;border-radius:100%;pointer-events:none;opacity:0;-webkit-transition:opacity .2s ease-out;transition:opacity .2s ease-out;}',".emoji-mart-skin-swatch.custom{display:inline-block;width:0;height:38px;overflow:hidden;vertical-align:middle;-webkit-transition-property:width,height;transition-property:width,height;-webkit-transition-duration:.125s;transition-duration:.125s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;cursor:default;}",".emoji-mart-skin-swatch.custom.selected{position:relative;width:36px;height:38px;padding:0 2px 0 0;}",'.emoji-mart-skin-swatch.custom.selected:after{content:"";width:0;height:0;}',".emoji-mart-skin-swatches.custom.opened .emoji-mart-skin-swatch.custom{width:36px;height:38px;padding:0 2px 0 0;}",".emoji-mart-skin-swatches.custom.opened .emoji-mart-skin-swatch.custom.selected:after{opacity:.75;}",".emoji-mart-skin-text.opened{display:inline-block;vertical-align:middle;text-align:left;color:#888;font-size:11px;padding:5px 2px;width:95px;height:40px;border-radius:10%;background-color:#fff;}",".emoji-mart-skin{display:inline-block;width:100%;padding-top:100%;max-width:12px;border-radius:100%;}",".emoji-mart-skin-tone-1{background-color:#ffc93a;}",".emoji-mart-skin-tone-2{background-color:#fadcbc;}",".emoji-mart-skin-tone-3{background-color:#e0bb95;}",".emoji-mart-skin-tone-4{background-color:#bf8f68;}",".emoji-mart-skin-tone-5{background-color:#9b643d;}",".emoji-mart-skin-tone-6{background-color:#594539;}",".emoji-mart-sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);border:0;}",".emoji-mart-dark{color:#fff;background-color:#222;border-color:#555453;}",".emoji-mart-dark .emoji-mart-bar{border-color:#555453;}",".emoji-mart-dark .emoji-mart-search input{color:#fff;border-color:#555453;background-color:#2f2f2f;}",".emoji-mart-dark .emoji-mart-search-icon svg{fill:#fff;}",".emoji-mart-dark .emoji-mart-category .emoji-mart-emoji:hover:before{background-color:#444;}",".emoji-mart-dark .emoji-mart-category-label span{background-color:#222;color:#fff;}",".emoji-mart-dark .emoji-mart-skin-swatches{border-color:#555453;background-color:#222;}",".emoji-mart-dark .emoji-mart-anchor-selected{color:#bfbfbf;}",".emoji-mart-dark .emoji-mart-anchor:focus{color:#bfbfbf;}",".emoji-mart-dark .emoji-mart-anchor:hover{color:#bfbfbf;}"];ve.__hash="3309476139";var ge=ve,xe=[".emoji-picker-mobile{margin-top:5px;}",".emoji-picker-mobile .emoji-mart{width:auto !important;border-radius:20px;border:1px solid #dae6f2;}",".emoji-picker-mobile .emoji-mart-category-list{text-align:center;}","@media all and (max-width:360px){.emoji-picker-mobile .emoji-mart{width:209px !important;overflow:hidden;}.emoji-picker-mobile .emoji-mart .emoji-mart-bar{height:45px;overflow:hidden;}.emoji-picker-mobile .emoji-mart .emoji-mart-anchors{width:100%;overflow-x:scroll;padding-bottom:20px;}.emoji-picker-mobile .emoji-mart .emoji-mart-anchor{-webkit-flex:0 0 40px;-ms-flex:0 0 40px;flex:0 0 40px;height:45px;}}",".emoji-picker-desktop{z-index:2;}"];xe.__hash="923843974";var ye,we=xe,je=h.a.createElement,_e=O()((function(){return n.e(95).then(n.t.bind(null,"fx8o",7))}),{ssr:!1,loadableGenerated:{webpack:function(){return["fx8o"]},modules:["emoji-mart/dist/components/picker/picker"]}}),ke=A.e.stringRequired.min(7,(function(e){var t=e.min;return I.Sc.validateError.minLengthContent(t)})).max(55e3,(function(e){var t=e.max;return I.Sc.validateError.maxLengthContent(t)})).test("comment-banned",null===(ye=I.Sc.validateError)||void 0===ye?void 0:ye.containBannedWord("b\xecnh lu\u1eadn"),(function(e){var t=this.parent&&this.parent.bannedWords||[];return!A.b.isContainBannedWord(t,e)})),Oe=Object(x.d)({enableReinitialize:!0,validationSchema:y.object().shape({comment:ke}),mapPropsToValues:function(e){return{comment:"",bannedWords:e.bannedWords}},handleSubmit:function(e,t){var n=t.props,o=t.setFieldError,i=t.setFieldValue,a=t.setFieldTouched,r=t.resetForm;if(e){a("comment",!0);var c=Object(N.e)(e.comment);ke.isValidSync(c)?(n.handleSendComment(Object(N.e)(e.valueCommentHtml)),r()):(i("comment",c),o("comment",I.Sc.validateError.required))}}}),Ce=function(e){var t=e.unified;return!["263a-fe0f","2639-fe0f"].includes(t.toLowerCase())},Ee=function(e){return m()(e.added_in)<=5},Se=function(e){var t=e.disabled,n=e.onClick,o=e.active;return je("button",{className:v()({"btn btn-outline-secondary bg-transparent px__5 cursor-pointer d-block":!0,"text-blue wtt-emoji-close-btn":o,"text-gray-v4 wtt-emoji-open-btn":!o}),disabled:t,onClick:n,hidden:!0},je(Y.R,{className:"font-size__18 text-gray-v4"}))},Ae=function(e){var t=e.onSelect,n=e.visible,o=e.onVisibleChange,i=e.emojiButton;return je(F.a,{content:je(h.a.Fragment,null,je(_e,{onSelect:t,title:"Ch\u1ecdn Emoji...",emojisToShowFilter:function(e){return Ce(e)&&Ee(e)},native:!0,useButton:!1,i18n:K}),je(p.a,{id:ge.__hash},ge)),trigger:"click",placement:"topLeft",visible:n,onVisibleChange:o,mouseEnterDelay:0,overlayClassName:"emoji-picker-desktop"},i)},Ne=function(e){var t=e.onSelect;return je("div",{className:"jsx-".concat(ge.__hash," jsx-").concat(we.__hash)+" emoji-picker-mobile"},je(_e,{onSelect:t,showPreview:!1,showSkinTones:!1,native:!0,useButton:!1,emojisToShowFilter:function(e){return Ce(e)&&Ee(e)},i18n:K}),je(p.a,{id:ge.__hash},ge),je(p.a,{id:we.__hash},we))},Pe=Object(f.memo)((function(e){var t,n,o,i,r=Object(z.b)(),s=Object(f.useState)(""),u=(s[0],s[1],Object(f.useState)(!1)),m=u[0],d=u[1],h=Object(f.useState)(""),b=h[0],g=h[1],x=Object(f.useState)(0),y=x[0],w=x[1],_={user:Object(M.a)((function(e){return e.auth&&e.auth.user?e.auth.user:null})),isCreateSuccess:Object(M.a)((function(e){return e.comment&&e.comment.isCreateSuccess||!1})),sendingComment:Object(M.a)((function(e){return!!e.fetching&&e.fetching.sendingComment})),openSuggestMention:Object(M.a)((function(e){return!!e.userMention&&e.userMention.openSuggestMention}))},k=e.focusInput,O=(e.placeholder,e.addOn),E=e.customizeclass,S=e.values,N=e.setFieldValue,T=e.handleSubmit,U=e.errors,D=e.touched,G=(e.setFieldError,e.isLogin),B=e.rows,H=void 0===B?1:B,F=e.currentUser,K=void 0===F?null:F,Q=e.resetInputComment,W=Object(f.useRef)(),X=Object(f.useRef)(),J=Object(f.useState)(!1),q=J[0],Z=J[1],$=Object(f.useState)(!1),ee=$[0],te=$[1],ne=Object(f.useState)((null===e||void 0===e?void 0:e.idComment)||"".concat(Math.floor(1e7*Math.random()+1))),oe=ne[0];ne[1],Object(C.b)().executeRecaptcha;Object(f.useEffect)((function(){e.resetForm()}),[e.bannedWords]),Object(f.useEffect)((function(){m&&setTimeout((function(){window.dispatchEvent(new Event("resize"))}),500)}),[m]),Object(f.useEffect)((function(){_.isCreateSuccess&&te(!0)}),[_.isCreateSuccess]),Object(f.useEffect)((function(){te(Q)}),[Q]),Object(f.useEffect)((function(){W.current&&(k||W.current.onBlur())}),[k]);Object(f.useCallback)((function(e){N("comment",e.target.value),getPositionCursor()}),[]);var ie=function(e){e.preventDefault(),window.dispatchEvent(new Event("resize")),d(!m)},ae=function(t){(null===e||void 0===e?void 0:e.createIdComment)&&(null===e||void 0===e||e.createIdComment());var n=t.native+" ";g(n),w(++y)},re=q||_.sendingComment;return je(j.a,{direction:"column",className:"w-100 overflow-visible"},je("div",{className:"jsx-".concat(pe.__hash," jsx-").concat(be.__hash," jsx-").concat(fe.a.__hash)+" "+(v()((t={"input-group":!0},Object(a.a)(t,"".concat(E),!!E),Object(a.a)(t,"flex-dir-column",H>1),t))||"")},je("div",{className:"jsx-".concat(pe.__hash," jsx-").concat(be.__hash," jsx-").concat(fe.a.__hash)+" "+"position-relative ".concat(v()({"flex-auto":1===H,"w-100":H>1}))},je(me,{id:oe,className:"form-control brg__20 text-primary w-100 pr__45",emoji:b,emojiCount:y,handleChangeValueComment:function(e){te(!1),N("comment",e)},disabled:!G,resetFormComment:ee,replyUser:e.replyUser,communityId:e.community.id,showEmojiPicker:m}),je("div",{className:"jsx-".concat(pe.__hash," jsx-").concat(be.__hash," jsx-").concat(fe.a.__hash)+" "+"comment-tools position-absolute ".concat(v()({"r__3 b__1":1===H,"r__10 b__10":H>1}))},r?je(Se,{onClick:ie,disabled:!G||!(null===K||void 0===K?void 0:K.isActive),active:m}):je(Ae,{onVisibleChange:function(){d(!m)},visible:m,onSelect:ae,emojiButton:je(Se,{onClick:ie,disabled:!G||!(null===K||void 0===K?void 0:K.isActive),active:m})}))),S.comment&&je(R.default,{disabled:re,className:v()({"btn btn-outline-secondary text-blue btn-send":1===H,"btn-default btn-primary mt__8 btn-send":H>1}),handleClick:function(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:Z(!0),t=document.getElementById(oe).innerText,N("valueCommentHtml",t),d(!1),T(e),Z(!1);case 6:case"end":return n.stop()}}),null,null,null,c.a)},name:O,ref:X})),function(e,t,n){return!(!e[n]||!t[n])&&S.comment}(U,D,"comment")?je("span",{className:"jsx-".concat(pe.__hash," jsx-").concat(be.__hash," jsx-").concat(fe.a.__hash)+" d-block text-red font-size__12 mt__5 w-100"},U.comment):null,(null===L.Router||void 0===L.Router?void 0:null===(n=L.Router.router)||void 0===n?void 0:n.route)==="/".concat(I.Lc.POST_DETAIL)&&(null===e||void 0===e?void 0:null===(o=e.community)||void 0===o?void 0:o.allowReviewComment)?je("div",{className:"jsx-".concat(pe.__hash," jsx-").concat(be.__hash," jsx-").concat(fe.a.__hash)+" font-size__12 line-height__20 w-100 mt__5 text-blue-v2 pl__12"},"B\xecnh lu\u1eadn s\u1ebd \u0111\u01b0\u1ee3c ki\u1ec3m duy\u1ec7t tr\u01b0\u1edbc khi \u0111\u0103ng",(null===e||void 0===e?void 0:e.isPermissionApprove)?null:je(V.a,{title:Object(P.f)(null===e||void 0===e?void 0:null===(i=e.community)||void 0===i?void 0:i.name,A.b.generatorUrlProfile(null===_||void 0===_?void 0:_.user,I.Qc.PROFILE_COMMENTS_WAITING_APPROVAL)),placement:"top",overlayClassName:"short-tip-comment"},je("span",{className:"jsx-".concat(pe.__hash," jsx-").concat(be.__hash," jsx-").concat(fe.a.__hash)+" icon-tooltip"},je(Y.L,{width:8,height:8,className:"text-gray-v6"})))):null,r&&m&&je(Ne,{onSelect:ae}),je(p.a,{id:pe.__hash},pe),je(p.a,{id:be.__hash},be),je(p.a,{id:fe.a.__hash},fe.a))})),Ie=Oe(Pe),Re=Object(f.memo)((function(e){var t,n,a=e.postId,r=e.parentId,c=e.allowComment,s=e.community,l=e.actionCallback,u=Object(f.useState)(!0),m=u[0],d=u[1],p=Object(f.useState)(!1),h=p[0],b=p[1],v={user:Object(M.a)((function(e){return e.auth&&e.auth.user||null})),bannedWords:Object(M.a)((function(e){return e.bannedWord&&e.bannedWord.bannedWords||[]})),modalLogin:Object(M.a)((function(e){return!!e.modal&&e.modal.modalLogin}))};(null===v||void 0===v?void 0:v.user)&&(t=!(null===(n=Object(W.f)(v.user,null===s||void 0===s?void 0:s.id))||void 0===n?void 0:n.isMember));var x=Object(g.useDispatch)(),y=Object(f.useCallback)((function(e,t,n){return x(T.a.createData(e,t,n))}),[x]),w=Object(f.useCallback)((function(e,t){return x(D.a.openModal(e,t))}),[x]),j=Object(f.useCallback)((function(){return x(B.a.stopFetchingCreateComment())}),[x]);Object(f.useEffect)((function(){j()}),[]),Object(f.useEffect)((function(){d(!v.modalLogin)}),[v.modalLogin]);var _=Object(S.b)((function(e){return C(e)}),350),k=Object(i.a)(_,1)[0],O=function(){var t,n;if((null===L.Router||void 0===L.Router?void 0:null===(t=L.Router.router)||void 0===t?void 0:t.route)!=="/".concat(I.Lc.POST_DETAIL))return b(!0),w("confirmModal",{message:Object(P.f)(null===e||void 0===e?void 0:null===(n=e.community)||void 0===n?void 0:n.name,A.b.generatorUrlProfile(null===v||void 0===v?void 0:v.user,I.Qc.PROFILE_COMMENTS_WAITING_APPROVAL)),title:"B\xecnh lu\u1eadn \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i",hideIcon:!0,hiddenButton:!0})},C=function(t){if(b(!1),v.user)if(c){var n=U.a.createComment(r,v.user.id,t,a);y(n,s,O),l&&l()}else d(!1),w("confirmModal",{message:"Xin l\u1ed7i! B\xe0i vi\u1ebft kh\xf4ng cho comment",hiddenButton:!0});else d(!1),Object(G.k)(e.router),L.Router.pushRoute(I.Qc.LOGIN)};return je(Ie,Object(o.a)({},e,{isLogin:!!v.user,focusInput:m,bannedWords:v.bannedWords,handleSendComment:k,currentUser:null===v||void 0===v?void 0:v.user,isPermissionApprove:t,resetInputComment:h}))}));Pe.defaultProps={focusInput:!1,placeholder:"",customizeclass:""};t.a=Object(_.withRouter)(Object(E.a)(Re))},"1qWt":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return j}));var o=n("q1tI"),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r,c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{s(o.next(e))}catch(t){a(t)}}function c(e){try{s(o.throw(e))}catch(t){a(t)}}function s(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(r,c)}s((o=o.apply(e,t||[])).next())}))}function l(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(c){a=[6,c],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}!function(e){e.SCRIPT_NOT_AVAILABLE="Google recaptcha is not available"}(r||(r={}));var u=Object(o.createContext)({}),m=u.Consumer,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scriptId="google-recaptcha-v3",t.googleRecaptchaSrc="https://www.google.com/recaptcha/api.js",t.resolver=void 0,t.rejecter=void 0,t.grecaptcha=new Promise((function(e,n){t.resolver=e,t.rejecter=n})),t.executeRecaptcha=function(e){return s(t,void 0,void 0,(function(){var t;return l(this,(function(n){return t=this.props.reCaptchaKey,[2,this.grecaptcha.then((function(n){return n.execute(t,{action:e})}))]}))}))},t.handleOnLoad=function(){window&&window.grecaptcha?window.grecaptcha.ready((function(){t.resolver(window.grecaptcha)})):console.warn(r.SCRIPT_NOT_AVAILABLE)},t.injectGoogleReCaptchaScript=function(){if(document.getElementById(t.scriptId))t.handleOnLoad();else{var e=t.props,n=e.reCaptchaKey,o=e.language,i=document.getElementsByTagName("head")[0],a=document.createElement("script");a.id=t.scriptId,a.src=t.googleRecaptchaSrc+"?render="+n+(o?"&hl="+o:""),a.onload=t.handleOnLoad,i.appendChild(a)}},t}return a(t,e),t.prototype.componentDidMount=function(){this.props.reCaptchaKey&&this.injectGoogleReCaptchaScript()},t.prototype.componentDidUpdate=function(e){!e.reCaptchaKey&&this.props.reCaptchaKey&&this.injectGoogleReCaptchaScript()},Object.defineProperty(t.prototype,"googleReCaptchaContextValue",{get:function(){return{executeRecaptcha:this.executeRecaptcha}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.children;return Object(o.createElement)(u.Provider,{value:this.googleReCaptchaContextValue},e)},t}(o.Component),p={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h=Object.defineProperty,b=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,x=Object.getPrototypeOf,y=x&&x(Object);var w=function e(t,n,o){if("string"!==typeof n){if(y){var i=x(n);i&&i!==y&&e(t,i,o)}var a=b(n);v&&(a=a.concat(v(n)));for(var r=0;r<a.length;++r){var c=a[r];if(!p[c]&&!f[c]&&(!o||!o[c])){var s=g(n,c);try{h(t,c,s)}catch(l){}}}return t}return t},j=(function(e){var t=function(t){return Object(o.createElement)(m,null,(function(n){return Object(o.createElement)(e,c({},t,{googleReCaptchaProps:n}))}))};t.displayName="withGoogleReCaptcha("+(e.displayName||e.name||"Component")+")",w(t,e)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentDidMount=function(){return s(this,void 0,void 0,(function(){var e,t,n,o,i,a;return l(this,(function(r){switch(r.label){case 0:return e=this.injectedProps,t=e.googleReCaptchaProps,n=e.action,o=e.onVerify,(i=t.executeRecaptcha)?[4,i(n)]:[2];case 1:return a=r.sent(),o?(o(a),[2]):[2]}}))}))},Object.defineProperty(t.prototype,"injectedProps",{get:function(){return this.props},enumerable:!0,configurable:!0}),t.prototype.render=function(){return null},t}(o.Component)),function(){return Object(o.useContext)(u)})},"9Vkn":function(e,t,n){"use strict";var o=[".post-item{border-radius:0;padding:15px 0 !important;}",".post-item.post-detail-item{padding:0 !important;}",".post-item.post-detail-item .aw-bcp{position:relative;background:#f3f6f9;padding:0 12px;}",".post-item.post-detail-item .am-whitespace{position:relative;background:#f3f6f9;padding:0 12px;background:#fff;}",".post-item.post-detail-item .box-comment-post{position:relative;background:#f3f6f9;padding:0 12px;background:#f3f6f9;}",".post-item:not(.am-card-full)::before{border-radius:20px !important;border:0 !important;}",".post-item .am-card-header{min-height:32px !important;padding:0 10px;}",".post-item .am-card-header .am-card-header-content img{margin-right:0;}",".post-item .am-card-header .btn-default{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-flex-basis:90px;-ms-flex-preferred-size:90px;flex-basis:90px;width:90px;}",".post-item .am-card-header .btn-default.btn-icon{-webkit-flex-basis:36px;-ms-flex-preferred-size:36px;flex-basis:36px;}",".post-item .am-card-body img{text-align:center;display:block;margin-left:auto;margin-right:auto;max-width:100%;}",".post-item .am-card-body::before{background-color:transparent !important;}",".post-item .post-thumbnail iframe{margin:0 auto;display:block;width:100%;}",".post-item .post-thumbnail .post-video{position:relative;display:block;}",".post-item .post-thumbnail .post-video:before{content:'';position:absolute;width:100%;height:100%;background:linear-gradient(0deg,rgba(0,0,0,0.0883687),rgba(0,0,0,0.0883687));}",".post-item .post-thumbnail .post-video:after{content:'';position:absolute;width:32px;height:40px;background:url(\"https://www.webtretho.com/static/img/icon-video.png\") no-repeat;background-size:contain;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);}",".post-item .post-iframe{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;}",".post-item .post-iframe iframe{position:absolute;top:0;left:0;width:100%;height:100%;}",".post-item .post-thumbnail::after{content:'';clear:both;display:table;}",".post-item .post-view{padding:10px 15px;border-top:1px solid #eee;border-bottom:1px solid #eee;position:relative;z-index:2;background:#fff;}",".post-item .post-view .btn-liked{-webkit-animation:bounceIn 0.75s 1 linear;-webkit-animation:bounceIn 0.75s 1 linear;animation:bounceIn 0.75s 1 linear;}",".post-item.post-detail-item:before{border:0 !important;}",".post-item.post-detail-item .am-card-body::before{border:0 !important;}",".post-item.post-search{border:1px solid #ddd !important;}"];o.__hash="868481888",t.a=o},LWeC:function(e,t,n){"use strict";var o=n("q1tI"),i=n("mMPx"),a=n("Z29Q");t.a=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var n=Object(i.a)({width:a.a?window.innerWidth:e,height:a.a?window.innerHeight:t}),r=n[0],c=n[1];return Object(o.useEffect)((function(){if(a.a){var e=function(){c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[]),r}},MM9K:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n("q1tI")),i=d(n("17x9")),a=u(n("TSYQ")),r=u(n("BGR+")),c=u(n("sEfC")),s=n("vgIT"),l=n("KEtS");function u(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!==typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},w=(0,l.tuple)("small","default","large"),j=null;var _=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,g(t).call(this,e))).debouncifyUpdateSpinning=function(e){var t=(e||n.props).delay;t&&(n.cancelExistingSpin(),n.updateSpinning=(0,c.default)(n.originalUpdateSpinning,t))},n.updateSpinning=function(){var e=n.props.spinning;n.state.spinning!==e&&n.setState({spinning:e})},n.renderSpin=function(e){var t,i=e.getPrefixCls,c=n.props,s=c.prefixCls,l=c.className,u=c.size,m=c.tip,d=c.wrapperClassName,p=c.style,b=y(c,["prefixCls","className","size","tip","wrapperClassName","style"]),v=n.state.spinning,g=i("spin",s),x=(0,a.default)(g,(h(t={},"".concat(g,"-sm"),"small"===u),h(t,"".concat(g,"-lg"),"large"===u),h(t,"".concat(g,"-spinning"),v),h(t,"".concat(g,"-show-text"),!!m),t),l),w=(0,r.default)(b,["spinning","delay","indicator"]),_=o.createElement("div",f({},w,{style:p,className:x}),function(e,t){var n=t.indicator,i="".concat(e,"-dot");return null===n?null:o.isValidElement(n)?o.cloneElement(n,{className:(0,a.default)(n.props.className,i)}):o.isValidElement(j)?o.cloneElement(j,{className:(0,a.default)(j.props.className,i)}):o.createElement("span",{className:(0,a.default)(i,"".concat(e,"-dot-spin"))},o.createElement("i",{className:"".concat(e,"-dot-item")}),o.createElement("i",{className:"".concat(e,"-dot-item")}),o.createElement("i",{className:"".concat(e,"-dot-item")}),o.createElement("i",{className:"".concat(e,"-dot-item")}))}(g,n.props),m?o.createElement("div",{className:"".concat(g,"-text")},m):null);if(n.isNestedPattern()){var k=(0,a.default)("".concat(g,"-container"),h({},"".concat(g,"-blur"),v));return o.createElement("div",f({},w,{className:(0,a.default)("".concat(g,"-nested-loading"),d)}),v&&o.createElement("div",{key:"loading"},_),o.createElement("div",{className:k,key:"container"},n.props.children))}return _};var i=e.spinning,s=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(i,e.delay);return n.state={spinning:i&&!s},n.originalUpdateSpinning=n.updateSpinning,n.debouncifyUpdateSpinning(e),n}var n,i,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,l=[{key:"setDefaultIndicator",value:function(e){j=e}}],(i=[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||!this.props.children)}},{key:"render",value:function(){return o.createElement(s.ConfigConsumer,null,this.renderSpin)}}])&&b(n.prototype,i),l&&b(n,l),t}(o.Component);_.defaultProps={spinning:!0,size:"default",wrapperClassName:""},_.propTypes={prefixCls:i.string,className:i.string,spinning:i.bool,size:i.oneOf(w),wrapperClassName:i.string,indicator:i.element};var k=_;t.default=k},S5sF:function(e,t,n){"use strict";var o=[".input-comment{-webkit-flex-wrap:unset;-ms-flex-wrap:unset;flex-wrap:unset;}",".input-comment textarea{-webkit-appearance:none;}",".input-comment .comment-tools{z-index:1;}","@media screen and (max-width:768px){.input-comment .comment-tools{bottom:3px;}}",".input-comment .flex-auto{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",".input-comment .top-0{top:0;}",".list-children-comment .comment-reply-input{margin-left:-35px;}",".comment-search .ant-menu-item-selected{color:#222;font-weight:500;border-bottom-width:1px;}",".comment-search .ant-menu-item:hover{color:#222;border-bottom-color:#222;}",".comment-loader{margin-left:50%;}",".comment-loader i{background-color:#828282;}",".comment-page-input .ant-input-number{width:3em;}",".comment-page-input .ant-input-number-focused{box-shadow:none;}",".comment-page-input .ant-input-number:hover{border-color:transparent;border-right-width:0px !important;}",".comment-page-input .ant-input-number-handler-wrap{display:none;}",".comment-list .comment-view-more svg{vertical-align:sub;}"];o.__hash="2273644765",t.a=o},TzbF:function(e,t,n){"use strict";n.r(t);var o=n("MX0m"),i=n.n(o),a=n("q1tI"),r=n.n(a),c=n("/MKj"),s=n("LWeC"),l=n("nOHt"),u=n.n(l),m=n("JMAg"),d=n.n(m),p=n("5+3d"),f=n.n(p),h=n("4IZf"),b=n.n(h),v=n("a6RD"),g=n.n(v),x=n("TSYQ"),y=n.n(x),w=n("8cHP"),j=n("41uw"),_=n("nJJw"),k=n("Tunb"),O=n("kKES"),C=n("v0uu"),E=n("hpSX"),S=n("algg"),A=n("RysE"),N=r.a.createElement,P=function(e){var t=e.isLabelAdvertising,n=e.isSponsored,o=e.isMobile;switch(!0){case n:return o?"T\xe0i tr\u1ee3":N("span",{className:"ml__10 brg__2 bg-gray-v1 line-height__12 font-size__10 text-silver-v1 px__10 py__4"},"T\xe0i tr\u1ee3");case t:return o?"\u0110\u1ed3ng h\xe0nh":N("span",{className:"ml__10 brg__2 bg-gray-v1 line-height__12 font-size__10 text-silver-v1 px__10 py__4"},"\u0110\u1ed3ng h\xe0nh");default:return null}},I=function(e){var t=e.isMobile,n=e.data,o=e.isSponsored,i=e.community,a=e.colorCssButton,r=e.buttonIcon,c=e.buttonIconActive,s=e.showAuthor,l=e.showCommunity,u=e.hiddenButton,m=e.isGetCommunityUsers,d=e.handleAfterJoined,p=e.handleAfterUnJoined;return n&&N(b.a,{className:"w-100",align:"center"},s?function(e,t){var n=Object(S.j)(e?e.author:null),o=n.username,i=n.avatarUrl;return e&&e.author?N("div",{className:"mr__auto"},N(b.a,null,N(j.default,{src:i,username:o,customizeclass:"mr__10",wrapperClass:"mr__auto",typeAvatarProfile:!0,size:C.Gc.imageSizeEnum.AVATAR_35,url:O.b.generatorUrlProfile(e.author)}),N("div",{className:"avatar-info"},N(w.Link,{route:O.b.generatorUrlProfile(e.author)},N("a",{className:"font-size__12 text-bold text-primary line-height__12"},e.author.username||"",N(P,{isLabelAdvertising:e.isLabelAdvertising,isSponsored:t}))),N("div",{className:"font-size__12 text-gray-v4"},O.b.formatRelativeTime(e.publishedAt))))):null}(n,o):null,l&&i?function(n,o,i){return n&&o?N("div",{className:"mr__auto"},N(b.a,{align:"center"},N("div",{className:"list-view-item mr__7 pt__0 pb__0 border-0"},N(j.default,{size:t?C.Gc.imageSizeEnum.AVATAR_32:C.Gc.imageSizeEnum.AVATAR_48,src:n.avatarUrl||null,url:O.b.generatorUrlCommunityDetail(n.slug),customizeclass:"brg__6 mr__0",avatarSquare:!0})),N("div",null,N("div",{className:y()("post-item__header-community",{"line-height__14 font-size__12 mb__2":t,"line-height__17 font-size__14":!t})},N(k.a,{href:O.b.generatorUrlCommunityDetail(n.slug),className:"text-main-v1 text-gray-dark-v1 text-bold post-item__header-thumbnail"},Object(E.f)(n.name),n.isOfficial&&N(A.I,{height:13,width:13,className:"d-inline-flex ml__5 mr__5 mt__1"})),!e.isMobile&&N(P,{isLabelAdvertising:o.isLabelAdvertising,isSponsored:i})),N("div",{className:"font-size__12 text-gray-v4 post-item__header-author line-height__14"},o.author?N(w.Link,{route:O.b.generatorUrlProfileByUserName(o.author.username)},N("a",{rel:"nofollow",className:"font-size__12 text-gray-v4 post-item__header-author"},e.isMobile?null:"\u0110\u0103ng b\u1edfi ",N("span",{className:y()("post-item__header-author-name",{"text-bold":!t})},o.author.username))):null,o.author?N("span",{className:"mx__5"},"\xb7"):null,e.isMobile&&(i||o.isLabelAdvertising)?N(P,{isMobile:e.isMobile,isLabelAdvertising:o.isLabelAdvertising,isSponsored:i}):O.b.formatRelativeTime(o.publishedAt))))):null}(i,n,o):null,u?null:N(_.a,{data:i||null,buttonIcon:r,buttonIconActive:c,customizeclass:"btn-join-community btn-default ".concat(a||""),isGetCommunityUsers:m,handleAfterJoined:d,handleAfterUnJoined:p}))};I.defaultProps={colorCssButton:"",buttonIcon:!1,buttonIconActive:!1,showAuthor:!1,showCommunity:!0,hiddenButton:!1,isGetCommunityUsers:!1,isSponsored:!1,isMobile:!1};var R=I,M=n("pGd6"),T=n("+Xjy"),U=n("65Qd"),D=n("dUxu"),G=n("LnZY"),L=n("OZ8X"),B=n("AmiK"),z=n("9E9K"),H=n("9Vkn"),F=r.a.createElement,K=g()((function(){return n.e(97).then(n.bind(null,"Dibl"))}),{loadableGenerated:{webpack:function(){return["Dibl"]},modules:["../GeneralComponents/Comment/Comment"]}}),Q=function(e){var t=e.data,n=e.children,o=e.customClass;return F("a",{rel:"nofollow",target:"_blank","data-resource":"webtretho",href:t.link,className:y()(o)},n)},V=function(e){var t=e.data,n=e.community,o=e.children,i=e.customClass;return F(k.a,{href:O.b.generatorUrlPostByCommunityAndPost(n,t),className:y()(i)},o)},W=function(e){var t=e.isMobile,n=e.title,o=e.router,i=e.index;return F(B.default,{route:o,tag:0!==i?"h2":"h1",className:y()("text-wrap text-bold line-height__24 text-primary mt__15 mb__10 post-item__content-title",{"font-size__20":!t,"font-size__18":t}),typeHeading:"community-post-title"},Object(E.f)(n))},Y=function(e){var t=e.contentPost,n=e.forceShowViewMore,o=e.colorText,i=e.isFullContent;return F("div",null,Object(E.q)(t,i?0:C.pb,n?"":'<span class="d-block text-bold-500 mt__10" style="color:#'.concat(o,'">Xem th\xeam</span>')),!i&&n?F("span",{className:"d-block text-bold-500 mt__10",style:{color:"#".concat(o)}},"Xem th\xeam"):null)},X=Object(a.memo)((function(e){var t,n,o=e.data,r=e.community,l=e.isSponsored,m=e.isFullContent,p=Object(c.useDispatch)(),h=Object(a.useContext)(U.a),v=Object(L.e)(h),g=O.b.getTextColorByContext(h),x={user:Object(D.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)||null})),bannedWords:Object(D.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.bannedWord)||void 0===t?void 0:t.bannedWords)||[]})),listPostData:Object(D.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.postsData)||void 0===t?void 0:t.postsData)||[]}))},w=Object(a.useCallback)((function(){return p(Object(z.a)())}),[p]),_=Object(G.getContentPost)(e.data),k=Object(s.a)().width,E=Object(a.useState)(v?k:C.gb)[0],N=Object(G.getPostData)(x.listPostData,e.data),P=N&&N.lastComment?N.lastComment:e.data&&e.data.lastComment?e.data.lastComment:null,I=Object(S.j)(x.user),B=I.username,X=I.avatarUrl,J=!(!o.isInternal||!o.shortDescription),q=!(!l||(null===o||void 0===o?void 0:o.linkType)!==C.Gc.linkType.External);return o?F(f.a,{className:y()("post-item",e.cssClass,{"post-item-not-header":e.hiddenHeader})},e.hiddenHeader?null:F(f.a.Header,{className:"post-item__header",title:F(R,{isMobile:v,data:o,isSponsored:e.isSponsored,community:e.community,showCommunity:e.showCommunityHeader,showAuthor:e.showAuthorHeader,isGetCommunityUsers:e.isGetCommunityUsers,hiddenButton:e.hiddenButton,handleAfterJoined:e.handleAfterJoined||null,handleAfterUnJoined:e.handleAfterUnJoined||null,buttonIconActive:v})}),F(f.a.Body,{className:y()("py__0 px__0 post-item__content",e.cssClassBody)},o?F(a.Fragment,null,F(d.a,null,q?F(Q,{data:o},F(W,{isMobile:v,title:o.title,router:null===u.a||void 0===u.a?void 0:null===(t=u.a.router)||void 0===t?void 0:t.route,index:null===e||void 0===e?void 0:e.index})):F(V,{data:o,community:r},F(W,{isMobile:v,title:o.title,router:null===u.a||void 0===u.a?void 0:null===(n=u.a.router)||void 0===n?void 0:n.route,index:null===e||void 0===e?void 0:e.index})),F("div",{className:"jsx-".concat(H.a.__hash)+" "+(y()("summary text-primary post-item__content-description",{"font-size__14":!v,"font-size__16":v})||"")},q?F(Q,{data:o,customClass:"text-primary"},F(Y,{colorText:g,contentPost:_,forceShowViewMore:J,isFullContent:m})):F(V,{data:o,community:r,customClass:"text-primary"},F(Y,{colorText:g,contentPost:_,forceShowViewMore:J,isFullContent:m})))),F("div",{className:"jsx-".concat(H.a.__hash)+" mb__10"}),F("div",{className:"jsx-".concat(H.a.__hash)+" post-attribute"},Object(G.getAttributePost)(o,e.community,v,E)),q?null:F("div",{className:"jsx-".concat(H.a.__hash)+" post-view"},F(M.default,{handleComment:function(){return u.a.push("".concat(O.b.generatorUrlPostByCommunityAndPost(e.community,o),"#focus-comment"))},wrapperClass:"line-height__20 post-view__desktop",data:o,postData:N,isSponsored:null===e||void 0===e?void 0:e.isSponsored,community:e.community||null,isCheckPermission:e.isCheckPermission,handleReportModal:e.handleReportModal,handleAfterPinPost:e.handleAfterPinPost,handleAfterHiddenPost:e.handleAfterHiddenPost}))):null),q||e.isHiddenFooter||!o?null:F(f.a.Footer,{content:F("div",{className:"jsx-".concat(H.a.__hash)+" mt__10"},P?F(K,{data:P,customizeclass:"mb__10",viewPostDetail:!0,viewReply:Object(G.isAllowCommentByPostAndCommunity)(o,e.community),postUrl:"".concat(O.b.generatorUrlPostByCommunityAndPost(e.community,o)),sizeAvatar:C.Gc.imageSizeEnum.AVATAR_36,community:e.community}):null,Object(G.isAllowCommentByPostAndCommunity)(o,e.community,e.isHiddenInputComment)?F(b.a,{align:"start",className:"overflow-visible",onClick:w},F(j.default,{src:X,username:B,size:C.Gc.imageSizeEnum.AVATAR_36,customizeclass:"mr__10",typeAvatarProfile:!0}),F(T.a,{parentId:null,postId:e.data.id,allowComment:Object(G.isAllowCommentByPostAndCommunity)(e.data,e.community),community:e.community,placeholder:"Vi\u1ebft b\xecnh lu\u1eadn...",customizeclass:"input-comment",addOn:F(A.O,{className:"text-white"}),idComment:"".concat(Math.floor(1e7*Math.random()+1))})):null)}),F(i.a,{id:H.a.__hash},H.a)):null}));X.defaultProps={showCommunityHeader:!0,showAuthorHeader:!1,isHiddenFooter:!1,isHiddenThumbnail:!1,isCheckPermission:!1,isGetCommunityUsers:!1,isSponsored:!1,isHiddenInputComment:!1,isFullContent:!1};t.default=Object(l.withRouter)(X)},hWQR:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o),a=n("/MKj"),r=n("aOJk"),c=n.n(r),s=n("nOHt"),l=n("Oy9n"),u=n("65Qd"),m=n("dUxu"),d=n("KQIb"),p=n("KA4F"),f=n("eVuF"),h=n.n(f),b=n("ln6h"),v=n.n(b),g=(n("FAhR"),n("u0k+")),x=n("4m1b"),y=n("5RYI"),w=n("0ZHj"),j=n("9E9K"),_={addModCommunity:function(e,t){return function(n){var o,i;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o=x.a.userRoleQuery.create(e),a.next=4,v.a.awrap(y.b.post("",{query:"".concat(o),variables:null}));case 4:200!==(i=a.sent).status||i.data.errors?n(showErrorNotification({message:i.data.errors[0].message,title:"add mod"})):"logout"===i.data.status?n(w.a.logout()):(n(Object(j.e)(g.a.CREATE_USER_ROLE_SUCCESS,i.data.data&&i.data.data.addModCommunity||null)),t&&t()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(showErrorNotification({message:a.t0.toString(),title:"add mod"}));case 11:case"end":return a.stop()}}),null,null,[[0,8]],h.a)}},removeUserRoleFromCommunity:function(e,t){return function(n){var o,i;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o=x.a.userRoleQuery.delete(e),a.next=4,v.a.awrap(y.b.post("",{query:"".concat(o),variables:null}));case 4:200!==(i=a.sent).status||i.data.errors?n(showErrorNotification({message:i.data.errors[0].message,title:"remove role"})):"logout"===i.data.status?n(w.a.logout()):(n(Object(j.e)(g.a.DELETE_USER_ROLE_SUCCESS,i.data.data&&i.data.data.removeUserRoleFromCommunity||null)),t&&t()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(showErrorNotification({message:a.t0.toString(),title:"remove role"}));case 11:case"end":return a.stop()}}),null,null,[[0,8]],h.a)}}},k=n("L9Iq"),O=n("ynDS"),C=n("LpoC"),E=n("R5x4"),S=n("MB77"),A=n("v0uu"),N=n("kKES"),P=n("algg"),I=n("WIrD"),R=n("LnZY"),M=n("vcB1"),T=n("i2cS"),U=n("OZ8X"),D=n("8cHP"),G=n("P5Jw"),L=n("Kl5d"),B=n.n(L),z=n("RysE"),H=i.a.createElement,F=Object(o.memo)((function(e){var t,n=Object(a.useDispatch)(),i=Object(o.useContext)(u.a),r=Object(U.e)(i),s=Object(o.useState)(!1),l=s[0],f=s[1],h={auth:Object(m.a)((function(e){return(null===e||void 0===e?void 0:e.auth)||null})),user:Object(m.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)||null})),post:Object(m.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.post)||void 0===t?void 0:t.post)||null}))},b=Object(o.useCallback)((function(e,t,o){return n(w.a.checkMe(e,t,o))}),[n]),v=Object(o.useCallback)((function(e){return n(d.a.updatePostStatus(e))}),[n]),g=(Object(o.useCallback)((function(e,t){return n(d.a.deletePost(e,t))}),[n]),Object(o.useCallback)((function(e,t){return n(p.a.createData(e,t))}),[n])),x=Object(o.useCallback)((function(e,t){return n(p.a.deleteData(e,t))}),[n]),y=Object(o.useCallback)((function(e,t,o,i){return n(d.a.updateData(e,t,o,i))}),[n]),L=Object(o.useCallback)((function(e,t,o,i){return n(d.a.ignoreTrendingPost(e,t,o,i))}),[n]),F=Object(o.useCallback)((function(e,t){return n(_.addModCommunity(e,t))}),[n]),K=Object(o.useCallback)((function(e,t){return n(_.removeUserRoleFromCommunity(e,t))}),[n]),Q=Object(o.useCallback)((function(e,t){return n(k.a.updateCommunityUser(e,t))}),[n]),V=Object(o.useCallback)((function(e,t){return n(O.a.updateData(e,t))}),[n]),W=Object(o.useCallback)((function(e,t){return n(C.a.openModal(e,t))}),[n]),Y=N.b.getColorByContext(i),X=function(t){if(t){var n=e.bookmark||null;if(n){var o=E.a.deleteBookmark(n.id);x(o,"Xo\xe1 l\u01b0u b\xe0i vi\u1ebft th\xe0nh c\xf4ng!")}}else{var i=E.a.createBookmark(h.user.id,e.postId,A.g.Post);g(i,"B\xe0i vi\u1ebft \u0111\xe3 \u0111\u01b0\u1ee3c l\u01b0u!")}},J=function(){b(h.user?h.user.id:null,N.b.generatorUrlEditPost(e.data),A.Gc.ActionError.EditContent)},q=function(){Object(T.b)("X\xf3a b\xe0i vi\u1ebft","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){var t=E.a.deletePost(e.data.id);y(t,(function(){e.handleAfterDeletePost&&e.handleAfterDeletePost()}),A.Gc.ActionError.DeleteContent)}))},Z=function(){var t=e.handleAfterHiddenPost,n=E.a.initQueryUpdatePostStatus({postId:e.postId,isHidden:!0});v({queryClause:n,callback:function(){f(!1),t&&t()},action:A.Gc.ActionError.HideContent})},$=function(t){var n,o=null===e||void 0===e?void 0:null===(n=e.router)||void 0===n?void 0:n.asPath,i=E.a.initQueryIgnoreTrending({path:o,postId:e.postId,isIgnore:t});L(i,null,A.Gc.ActionError.IgnoreTrending,t?"Kh\xf4ng hi\u1ec7n b\xe0i vi\u1ebft tr\xean Th\u1ecbnh h\xe0nh!":"Cho hi\u1ec7n b\xe0i vi\u1ebft tr\xean Th\u1ecbnh h\xe0nh !")},ee=function(t){var n=e.handleAfterPinPost,o=E.a.initQueryUpdatePostStatus({postId:e.postId,isPin:t});v({queryClause:o,callback:function(){f(!1),n&&n()},action:t?A.Gc.ActionError.Pin:A.Gc.ActionError.UnPin})},te=function(){e.isPost&&W("modalShare",{url:"".concat("https://www.webtretho.com").concat(N.b.generatorUrlPostByCommunityAndPost(e.community,e.data)),isMobile:r})},ne=function(t){if(t){var n=E.a.initQueryRemoveUserRole(e.removeModeratorId,e.community?e.community.id:null,A.Gc.roleFrontEnd.Moderator);Object(T.b)("G\u1ee1 b\u1ecf Moderator","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){return K(n,e.handleAfterAssignUser)}))}else{var o=E.a.initQueryAddModCommunity(e.userId,e.community?e.community.id:null);Object(T.b)("M\u1eddi l\xe0m Moderator","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){return F(o,e.handleAfterAssignUser)}))}},oe=function(t){if(t){var n=E.a.updateCommunityUser(t,e.communityUserId);Object(T.b)("".concat(t?"K\xedch ho\u1ea1t":"Hu\u1ef7 k\xedch ho\u1ea1t"," ng\u01b0\u1eddi d\xf9ng"),"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){return Q(n,e.handleAfterAssignUser)}))}else W("deActiveUser",{isActive:t,communityUserId:e.communityUserId,handleAfterAssignUser:e.handleAfterAssignUser})},ie=function(){var t=E.a.updateHiddenComment(e.commentId,!0,h.user.id);V(t,A.Gc.ActionError.HideContent)},ae=function(){Object(T.b)("X\xf3a b\xecnh lu\u1eadn","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){var t=E.a.deleteComment(e.commentId,!0);V(t,A.Gc.ActionError.DeleteContent)}))},re=function(e,t,n){return H("a",{className:"am-flexbox am-flexbox-align-center text-main pb__5",onClick:function(){ge(e)}},t,H("span",null,n))},ce=function(e,t,n,o,i,a){!!o&&P.a.checkPermission(t,n,o,i)&&e.push(a)},se=function(e,t,n,o,i,a,r){Object(I.e)(t,n,o,i,a)&&e.push(r)},le=[];if(e.isProfile&&le.push(re(A.Gc.extraAction.Report,H(z.A,{width:18,height:18,className:"mr__5"}),"B\xe1o c\xe1o")),e.isManageMember&&(h.user&&h.user.id!==e.userId&&ce(le,A.Gc.action.Write,A.Pc.DEACTIVE_USER_FRONTEND,h.auth,e.community?e.community.id:null,re(e.isActiveCommunity?A.Gc.extraAction.DeActiveUser:A.Gc.extraAction.ActiveUser,null,"".concat(e.isActiveCommunity?"V\xf4 hi\u1ec7u h\xf3a":"H\u1ee7y v\xf4 hi\u1ec7u h\xf3a"))),e.isActiveCommunity&&(e.isModerator&&h.user&&h.user.id===e.userId?le.push(re(A.Gc.extraAction.RemoveAssignUser,null,"H\u1ee7y t\xe1c v\u1ee5 MOD")):ce(le,A.Gc.action.Write,e.isModerator?A.Pc.REMOVE_MODERATOR_FRONTEND:A.Pc.ASSIGN_MODERATOR_FRONTEND,h.auth,e.community?e.community.id:null,re(e.isModerator?A.Gc.extraAction.RemoveAssignUser:A.Gc.extraAction.AssignUser,null,"".concat(e.isModerator?"H\u1ee7y t\xe1c v\u1ee5 MOD":"Ch\u1ec9 \u0111\u1ecbnh MOD"))))),e.isPost&&e.data){var ue,me;if(Object(P.o)(h.user)){var de=e.bookmark||null;le.push(re(de?A.Gc.extraAction.UnBookmark:A.Gc.extraAction.Bookmark,H("span",{style:{color:de?"#".concat(A.i):null},className:"d-inline-flex"},H("span",{style:{color:Y?"#".concat(Y):null}},H(de?z.m:z.l,{className:"mr__5"}))),"".concat(de?"X\xf3a l\u01b0u":"L\u01b0u b\xe0i")))}if(le.push(re(A.Gc.extraAction.Report,H("span",{style:{color:Y?"#".concat(Y):null}},H(z.A,{className:"mr__5"})),"B\xe1o c\xe1o")),se(le,A.Gc.action.Write,A.Pc.HIDDEN_POST_FRONTEND,h.auth,e.community?e.community.id:null,A.Gc.roleFrontEnd.SuperAdmin,re(A.Gc.extraAction.HiddenPost,H("span",{style:{color:Y?"#".concat(Y):null}},H(z.y,{width:18,height:18,className:"mr__5"})),"\u1ea8n b\xe0i")),"/"===(null===e||void 0===e?void 0:null===(ue=e.router)||void 0===ue?void 0:ue.pathname)&&!1===(null===e||void 0===e?void 0:e.isSponsored)){var pe,fe,he,be,ve=null===e||void 0===e?void 0:null===(pe=e.data)||void 0===pe?void 0:pe.ignoreTrending;ve=(null===h||void 0===h?void 0:null===(fe=h.post)||void 0===fe?void 0:fe.id)===(null===e||void 0===e?void 0:null===(he=e.data)||void 0===he?void 0:he.id)?null===h||void 0===h?void 0:null===(be=h.post)||void 0===be?void 0:be.ignoreTrending:ve,se(le,A.Gc.action.Write,A.Pc.IGNORE_POST_TRENDING,h.auth,e.community?e.community.id:null,A.Gc.roleFrontEnd.SuperAdmin,ve?re(null,H(z.T,{width:18,height:18,className:"mr__5"}),"\u0110\xe3 \u1ea8n Tr\xean Th\u1ecbnh H\xe0nh"):re(A.Gc.extraAction.IgnoreTrending,H(z.T,{width:18,height:18,className:"mr__5"}),"\u1ea8n Tr\xean Th\u1ecbnh H\xe0nh"))}e.isCheckPermission&&ce(le,A.Gc.action.Write,A.Pc.PIN_POST_FRONTEND,h.auth,e.community?e.community.id:null,re(e.pin?A.Gc.extraAction.UnPinPost:A.Gc.extraAction.PinPost,H(S.a,{type:"pin",customizeclass:"mr__5"}),"".concat(e.pin?"B\u1ecf ghim":"Ghim"))),!(null===(me=e.data)||void 0===me?void 0:me.approvedBy)&&Object(R.isEditPost)(e.data,h.user)&&le.push(re(A.Gc.extraAction.EditPost,H(z.w,{width:18,height:18,className:"mr__5"}),"S\u1eeda"),re(A.Gc.extraAction.DeletePost,H(z.k,{width:18,height:18,className:"mr__5"}),"X\xf3a"))}e.isComment&&e.isCheckPermission&&(le.push(re(A.Gc.extraAction.Report,H(z.A,{width:18,height:18,className:"mr__5"}),"B\xe1o c\xe1o")),se(le,A.Gc.action.Write,A.Pc.HIDDEN_COMMENT_FRONTEND,h.auth,e.community?e.community.id:null,A.Gc.roleFrontEnd.SuperAdmin,re(A.Gc.extraAction.HiddenComment,H(z.y,{width:18,height:18,className:"mr__5"}),"\u1ea8n")),Object(M.a)(e.data,h.user)&&le.push(re(A.Gc.extraAction.DeleteComment,H(z.k,{width:18,height:18,className:"mr__5"}),"X\xf3a")),(null===e||void 0===e?void 0:e.urlComment)&&le.push(H("a",{className:"am-flexbox am-flexbox-align-center text-main pb__5"},H(z.G,{width:18,height:18,className:"mr__5"}),H(G.CopyToClipboard,{text:"".concat("https://www.webtretho.com").concat(null===e||void 0===e?void 0:e.urlComment),onCopy:function(){return B.a.success(A.Jc.messageSuccess.copyLinkSuccess,1)}},H("span",null,"Copy Link")))));var ge=function(t){h.user?(f(!1),t===A.Gc.extraAction.Share?te():t===A.Gc.extraAction.Report?e.handleOpenReport():e.permission?function(t){switch(f(!1),t){case A.Gc.extraAction.Share:te();break;case A.Gc.extraAction.Bookmark:X();break;case A.Gc.extraAction.UnBookmark:X(!0);break;case A.Gc.extraAction.Report:e.handleOpenReport();break;case A.Gc.extraAction.HiddenPost:Z();break;case A.Gc.extraAction.EditPost:J();break;case A.Gc.extraAction.PinPost:ee(!0);break;case A.Gc.extraAction.UnPinPost:ee(!1);break;case A.Gc.extraAction.DeletePost:q();break;case A.Gc.extraAction.AssignUser:ne(!1);break;case A.Gc.extraAction.RemoveAssignUser:ne(!0);break;case A.Gc.extraAction.DeActiveUser:oe(!1);break;case A.Gc.extraAction.ActiveUser:oe(!0);break;case A.Gc.extraAction.HiddenComment:ie();break;case A.Gc.extraAction.DeleteComment:ae();break;case A.Gc.extraAction.IgnoreTrending:$(!0);break;case A.Gc.extraAction.AllowTrending:$(!1)}}(t):W("confirmModal",{message:Object(T.c)(e.userCondition),hiddenButton:!0})):(f(!1),t===A.Gc.extraAction.Share?te():t===A.Gc.extraAction.Report?e.handleOpenReport():(f(!1),Object(j.k)(e.router),D.Router.pushRoute(A.Qc.LOGIN)))},xe=H("div",{className:"content-popover"},le&&le.length>0&&le.map((function(e,t){return H("div",{key:t,className:"content-popover-item"},e)}))),ye=((null===e||void 0===e?void 0:e.isPost)?"post-":(null===e||void 0===e?void 0:e.isComment)?"comment-":"")+(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.id);return H("div",{className:"more-action"},H(c.a,{id:ye,placement:"bottomRight",content:xe,trigger:"click",visible:l,onVisibleChange:function(e){f(e)},overlayStyle:{zIndex:2}},e.isProfile?H("div",{className:"d-flex align-item-center text-gray-v1 font-size__12 more-action__icon"},H(z.v,null)):H("div",{style:{height:"100%",padding:"0px 15px 0px 0px",marginRight:"-15px",display:"flex",alignItems:"center",color:"#".concat(Y)}},H(z.v,null))))}));F.defaultProps={postId:"",communityId:"",userId:"",removeModeratorId:"",commentId:"",sendMessageToUserName:"",isCheckPermission:!1,isPost:!1,isProfile:!1,isManageMember:!1,isActiveCommunity:!1,pin:!1,isModerator:!1};t.a=Object(s.withRouter)(Object(l.a)(F))},nJJw:function(e,t,n){"use strict";var o=n("vYYK"),i=n("doui"),a=n("MX0m"),r=n.n(a),c=n("q1tI"),s=n.n(c),l=n("/MKj"),u=n("TSYQ"),m=n.n(u),d=n("CC+v"),p=n.n(d),f=n("nOHt"),h=n.n(f),b=n("65Qd"),v=n("dUxu"),g=n("8cHP"),x=n("Oy9n"),y=n("D+1f"),w=n("LY3E"),j=n("L9Iq"),_=n("LpoC"),k=n("R5x4"),O=n("v0uu"),C=n("kKES"),E=n("i2cS"),S=n("WIrD"),A=n("OZ8X"),N=n("RysE"),P=n("x50/"),I=s.a.createElement,R=new(0,n("gsez").AllHtmlEntities),M=Object(c.memo)((function(e){var t,n,a,u={communityUsers:Object(v.a)((function(e){return e.auth&&e.auth.communityUsers||[]})),user:Object(v.a)((function(e){return e.auth&&e.auth.user||null})),auth:Object(v.a)((function(e){return e.auth?e.auth:null}))},d=Object(l.useDispatch)(),f=Object(c.useCallback)((function(e,t){return d(_.a.openModal(e,t))}),[d]),x=Object(c.useCallback)((function(e,t,n){return d(j.a.joinedCommunities(["".concat(e)],t,n))}),[d]),M=Object(c.useCallback)((function(e,t,n){return d(j.a.unJoinedCommunities(e,t,n))}),[d]),T=Object(c.useCallback)((function(e){return d(j.a.getCommunityByUser(k.a.searchCommunity(null,e,null,null,O.ac)))}),[d]),U=Object(c.useState)(!1),D=U[0],G=U[1],L=Object(c.useState)(!1),B=L[0],z=L[1],H=Object(c.useState)(!1),F=H[0],K=H[1],Q=Object(c.useState)(""),V=Q[0],W=Q[1],Y=Object(c.useContext)(b.a),X=Object(A.e)(Y),J=function(){G(!0)},q=function(){G(!1)},Z=e.data,$=e.customizeclass,ee=e.buttonIcon,te=e.buttonIconActive,ne=e.handleAfterJoined,oe=e.handleAfterUnJoined,ie=e.isGetCommunityUsers,ae=e.pageCurrent,re=Object(S.a)(u.user,u.communityUsers,Z),ce=re.joinCommunity,se=re.joinCommunityItem,le=re.showModalLogin,ue=re.userUpdateProfile,me=re.userNotAge,de=re.allowedJoinCommunity,pe=re.userLeaveCommunity,fe=re.userAdminCommunity,he=re.userModeratorCommunity,be=null;le&&(be=function(){J()}),ue&&(be=function(){ve()}),me&&(be=function(){ve(!0)}),de&&(be=function(){x(Z.id,(function(){ne?ne():ie&&T(u.user.id)}),(function(e,t){f("confirmModal",{message:t?Object(E.d)({code:t},O.Gc.ActionError.JoinCommunity):e,hiddenButton:!0,closeCallback:q})}))}),pe&&(be=function(){W(I("span",null,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi ",I("br",null)," c\u1ed9ng \u0111\u1ed3ng?")),J()}),(fe||he)&&(be=function(){var e=null;fe?e="Qu\u1ea3n tr\u1ecb vi\xean":he&&(e="Ng\u01b0\u1eddi ki\u1ec3m duy\u1ec7t"),W(I("span",null,"B\u1ea1n \u0111ang l\xe0",I("span",{className:"mx__5"},e),"c\u1ee7a c\u1ed9ng \u0111\u1ed3ng n\xe0y n\xean hi\u1ec7n t\u1ea1i kh\xf4ng th\u1ec3 r\u1eddi kh\u1ecfi")),J()});var ve=function(e){var t="B\u1ea1n ch\u01b0a nh\u1eadp ng\xe0y th\xe1ng n\u0103m sinh";e?t="B\u1ea1n ch\u01b0a \u0111\u1ee7 18 tu\u1ed5i":K(!0),z(!0),W(t),J()},ge=Object(y.b)((function(){return be()}),300),xe=Object(i.a)(ge,1)[0],ye=(null===h.a||void 0===h.a?void 0:null===(t=h.a.router)||void 0===t?void 0:t.route)==="/".concat(O.Lc.POST_DETAIL);return I(c.Fragment,null,I(w.default,ee?{handleClick:xe,style:X&&!ce?{backgroundColor:Y}:null,className:m()("btn-icon",(n={},Object(o.a)(n,"".concat($),!!$),Object(o.a)(n,"btn-default",!$),Object(o.a)(n,"btn-primary",!ce),n)),name:ce?I("span",{className:m()("brg__6 d-block h-30x w-30x px__6 py__6",{"bg-white":ye}),style:{color:"#".concat(C.b.getBackgroundColorByContext(Y))}},I(N.r,{className:m()("d-block",{"text-primary":!ye}),width:18,height:18})):I(s.a.Fragment,null,ae?I("span",{className:"bg-white brg__6 d-block h-30x w-30x px__6 py__6",style:{color:"#".concat(C.b.getBackgroundColorByContext(Y))}},I(N.K,{className:"d-block",width:18,height:18,color:"red"})):I(N.K,{className:"d-block text-white",width:18,height:18,fill:ae?"#"+C.b.getBackgroundColorByContext(Y):"#ffffff"}))}:{handleClick:xe,className:m()((a={},Object(o.a)(a,"".concat($),!!$),Object(o.a)(a,"btn-default text-bold",!$),Object(o.a)(a,"btn-icon",!(!ce||!te)),Object(o.a)(a,"btn-primary",!ce),a)),style:ce||e.useColorDefault||!Y.color?null:{backgroundColor:"#".concat(Y.color)},name:ce?te?I(N.r,{width:"16",height:"16",className:"3333"}):I(c.Fragment,null,I(N.r,{className:"mr__5"}),"\u0110\xe3 tham gia"):"Tham gia"}),D?I(p.a,{visible:D,closable:!1,footer:!1,onClose:q,centered:!0,className:"modal-join-community",onCancel:q},I("p",{className:"jsx-".concat(P.a.__hash)+" text-bold font-size__22 text-main mt__10 mb__0 text-center"},"Th\xf4ng b\xe1o"),I("p",{className:"jsx-".concat(P.a.__hash)+" font-size__16 text-main mt__0 mb__15 text-center"},le?"B\u1ea1n h\xe3y \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng n\xe0y!":ce?V:B?V:""),le?I(g.Link,{route:"".concat(O.Qc.LOGIN).concat(Y.currentPath?"?r=".concat(R.encode(Y.currentPath)):"")},I("a",{className:"jsx-".concat(P.a.__hash)+" btn-default btn-default-md btn-primary w-80 mb__10 mx__auto"},"\u0110\u0103ng nh\u1eadp")):ce?he||fe?null:I("a",{onClick:function(){u.user&&(q(),M(se,(function(){oe?oe():ie&&T(u.user.id)}),(function(e,t){f("confirmModal",{message:t?Object(E.d)({code:t},O.Gc.ActionError.UnJoinCommunity):e,hiddenButton:!0,closeCallback:q})})))},className:"jsx-".concat(P.a.__hash)+" btn-default btn-default-md btn-primary w-80 mb__10 mx__auto"},"\u0110\u1ed3ng \xfd"):B?I("a",{onClick:function(){F?h.a.push(C.b.generatorUrlProfile(u.user,O.Qc.PROFILE_EDIT)):q()},className:"jsx-".concat(P.a.__hash)+" btn-default btn-default-md btn-primary w-80 mb__10 mx__auto"},"Ti\u1ebfp t\u1ee5c"):null,I(r.a,{id:P.a.__hash},P.a)):null)}));t.a=Object(x.a)(M)},pGd6:function(e,t,n){"use strict";n.r(t);var o=n("doui"),i=n("q1tI"),a=n.n(i),r=n("/MKj"),c=n("4IZf"),s=n.n(c),l=n("D+1f"),u=n("65Qd"),m=n("Oy9n"),d=n("KQIb"),p=n("LY3E"),f=n("hWQR"),h=n("kKES"),b=n("Qs9s"),v=n("LnZY"),g=n("OZ8X"),x=n("9E9K"),y=n("8cHP"),w=n("v0uu"),j=n("dUxu"),_=n("RysE"),k=n("ubLQ"),O=a.a.createElement,C=Object(i.memo)((function(e){var t=Object(r.useDispatch)(),n=Object(i.useContext)(u.a),a={user:Object(j.a)((function(e){return e.auth&&e.auth.user||null})),userBookmarks:Object(j.a)((function(e){return e.bookmark&&e.bookmark.userBookmarks||[]})),userLikePost:Object(j.a)((function(e){return e.userAction&&e.userAction.userLikePosts||[]}))},c=Object(i.useState)(!1),m=c[0],C=c[1],E=Object(i.useCallback)((function(e){return t(d.a.likePost(e))}),[t]),S=Object(i.useCallback)((function(e){return t(d.a.unLikePost(e))}),[t]),A=e.data,N=e.postData,P=e.community,I=e.wrapperClass,R=e.handleComment,M=e.checkAuthBeforeComment,T=e.isSponsored,U=a.user&&a.user.id?a.user.id:null,D=Object(v.mergeUserLikeWithData)(a.user,N,a.userLikePost,A?A.id:null),G=Object(v.getUserBookmarkPost)(a.userBookmarks,A),L=h.b.getColorByContext(n),B=Object(l.b)((function(){return function(){if(U)if(D){var e=k.a.initQueryUnlike(A.id);S(e)}else{var t=k.a.initQueryLike(A.id,w.Dc.Post);E(t)}else H()}()}),500),z=Object(o.a)(B,1)[0],H=function(){Object(x.k)(e.router),y.Router.pushRoute(w.Qc.LOGIN)};return O(i.Fragment,null,O(s.a,{align:"center",className:I||""},O(s.a,{align:"center"},O("div",{className:"am-flexbox am-flexbox am-flexbox-justify-center am-flexbox-align-center text-uppercase mr__25"},O("span",{style:{color:"#".concat(L)},className:"d-inline-flex"},O(_.x,{className:"mr__5"})),O("span",{className:"font-size__12 text-bold text-gray-v6"},h.b.abbrNum(N?N.viewCount||0:A.viewCount,1))),O(p.default,{handleClick:z,className:"am-flexbox am-flexbox am-flexbox-justify-center am-flexbox-align-center text-uppercase mr__25 p__0 bg-inherit border-0 cursor-pointer",name:O(i.Fragment,null,O("span",{style:{color:"#".concat(h.b.getColorButtonLike(n,D))},className:"d-inline-flex"},D?O(_.F,{className:"mr__5 btn-liked"}):O(_.E,{size:24,className:"mr__5"})),O("span",{className:"font-size__12 text-bold text-gray-v6"},function(){var e=0;return N&&N.likeCount?e=N.likeCount:A.likeCount&&(e=A.likeCount),0===e&&D&&(e=1),h.b.abbrNum(e,1)}()))}),O("a",{rel:"nofollow",onClick:function(){P.allowComment&&(M?U?R():H():R())},className:"am-flexbox am-flexbox am-flexbox-justify-center am-flexbox-align-center text-uppercase mr__25 cursor-pointer"},O("span",{style:{color:"#".concat(L)},className:"d-inline-flex"},O(_.p,{className:"mr__5"})),O("span",{className:"font-size__12 text-bold text-gray-v6"},h.b.abbrNum(N?N.commentCount||0:A.commentCount,1))),O(f.a,{data:A,bookmark:G,community:P||null,isPost:!0,isCheckPermission:e.isCheckPermission,postId:A.id,pin:A.isSticky,isSponsored:T,communityId:P?P.id:null,handleOpenReport:function(t){return e.handleReportModal(t)},handleAfterPinPost:e.handleAfterPinPost,handleAfterHiddenPost:e.handleAfterHiddenPost,handleAfterDeletePost:e.handleAfterDeletePost})),O("div",{className:"ml__auto"},O("a",{rel:"nofollow",className:"am-flexbox am-flexbox-justify-center am-flexbox-align-center",onClick:function(){C(!0)}},O("span",{style:{color:"#".concat(L)},className:"d-inline-flex"},O(_.Q,{className:"mr__5"}))))),O(b.a,{isMobile:Object(g.e)(n),url:h.b.generateUrlWithDomain(h.b.generatorUrlPostByCommunityAndPost(P,A)),show:m,handleHide:function(){C(!1)}}))}));t.default=Object(m.a)(C)},ubLQ:function(e,t,n){"use strict";t.a={initQueryUnlike:function(e){return'id: "'.concat(e,'"')},initQueryLike:function(e,t){var n="";return e&&(n+=', id: "'.concat(e,'"')),t&&(n+=", type: ".concat(t)),"data: {".concat(n,"}")}}},"x50/":function(e,t,n){"use strict";var o=[".modal-join-community{max-width:640px;}",".modal-join-community .ant-modal-content{border-radius:7px;}",".modal-join-community .ant-modal-body{line-height:25px !important;}","@media all and (max-width:640px){.modal-join-community{max-width:95%;}}"];o.__hash="1938102215",t.a=o}}]);