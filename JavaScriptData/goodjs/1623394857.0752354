(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[95],{bt5t:function(e,t,n){"use strict";n.r(t),n.d(t,"TopPicks",(function(){return Q}));var i=n("ERkP"),o=n.n(i),r=n("j/s1"),a=n("WFZG"),s=n("UnfE"),c=n("2gxx"),l=n("/ESf"),d=n("ob7U"),p=n("zygG"),m=n("KD1n"),u=n("H5qd"),f=n.n(u),b=n("gCbH"),g=n("zjfJ"),O=n("cxan"),y=n("Xtno"),j=n("8W7Q"),v=n("HBXw"),k=n("y6um"),x=n("0UbL"),I=n("laiz"),P=o.a.createElement;function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.recommendation.explanations,n=e.refMarker,i=e.watchlistProps,o=e.notInterestedListItem,r=Object(a.useBreakpointsAsConfig)(),s=r.m,l=r.l,d=r.xl,p=!(s||l||d),m=Object(c.a)({id:"titleRecommendationPrompt_attributionHeading",defaultMessage:"Because of your interest in"});return P("div",null,P(C,null,P("div",{className:"heading"},m),P("div",{className:"content"},t.slice(0,2).map((function(e,t){var i=e.title;return P(a.TextLink,{className:"link",key:t,href:"/title/".concat(i.id,"/?").concat(Object(j.b)("tt_bc",n)),text:Object(v.a)(i),inheritColor:!0})})))),P(a.List,null,p&&P(x.a,i),o))},w=Object(r.default)(a.TitlePrompt).withConfig({displayName:"TitleRecommendationPrompt__StyledTitlePrompt",componentId:"sc-14n7ns6-0"})([".not-interested-overlay{justify-content:center;align-items:center;pointer-events:none;background:rgba(",",0.8);}.not-interested-overlay-content{display:flex;flex-direction:column;}"],Object(s.getColorVarValue)("ipt-baseAlt-rgb")),C=r.default.div.withConfig({displayName:"TitleRecommendationPrompt__AttributionContainer",componentId:"sc-14n7ns6-1"})(["border-bottom:1px solid rgba(",",0.1);margin:0;padding:"," 0 "," ",";","{padding:"," 0 "," 0;}.content{"," ","}.heading{padding-bottom:",";",";","}.link{text-decoration:none;display:flex;flex-direction:column;","}"],Object(s.getColorVarValue)("ipt-base-rgb"),s.spacing.xxs,s.spacing.l,s.spacing.m,s.mediaQueries.breakpoints.above.m,s.spacing.xxs,s.spacing.l,Object(s.setPropertyToColorVar)("color","ipt-on-baseAlt-textPrimary-color"),Object(s.setTypographyType)("bodySmall"),s.spacing.xs,Object(s.setPropertyToColorVar)("color","ipt-on-baseAlt-textSecondary-color"),Object(s.setTypographyType)("bodySmall"),Object(s.setPropertyToColorVar)("color","ipt-on-baseAlt-textPrimary-color")),N=function(e){var t=e.isOpen,n=e.isNotInterested,i=e.notInterestedListItem,o=e.recommendation,r=e.refMarker,a=e.onClose,s=Object(k.c)().context,l=s.pageType,d=s.subPageType,m=function(e,t){var n;return T(T({},e),{},{suffix:"".concat(null!==(n=e.suffix)&&void 0!==n?n:"").concat(e.suffix&&"_").concat(t.refTag)})}(r,o),u={pageType:l,subPageType:null!==d&&void 0!==d?d:"",refTag:Object(j.a)("wl_rbn",m)},f=Object(y.a)(o.title,m),b={iconName:"thumb-down-filled",className:"not-interested-overlay",contentClassName:"not-interested-overlay-content",text:Object(c.a)({id:"common_listItem_notInterested",defaultMessage:"Not interested"})};return P(I.WatchlistConsumer,{id:o.title.id,metricsContext:u,render:function(e){var r=n?[void 0,b]:[e,void 0],s=Object(p.a)(r,2),c=s[0],l=s[1];return P(w,Object(O.a)({posterOverlayProps:l,isOpen:t,onCloseClicked:a,watchlistRibbonProps:c},f),o&&P(h,{recommendation:o,refMarker:m,watchlistProps:e,notInterestedListItem:i}))}})},M=n("bM0r"),L=o.a.createElement,S=function(e){var t=e.trEndpointContext,n=e.refMarker,i=e.onClick,o=e.isNotInterested,r=Object(c.a)({id:"common_listItem_notInterested",defaultMessage:"Not interested"}),s=o?["thumb-down-filled","interest-not-interested","reverse-not-interested"]:["thumb-down","interest-none","not-interested"],l=Object(p.a)(s,3),d=l[0],m=l[1],u=l[2],f=Object(a.useBreakpointsAsConfig)(),b=f.m,g=f.l,O=f.xl,y=function(){i(),Object(M.g)(Object(j.a)("tt_not_int",n),t,u,M.a.ACTION_ONLY)};return L("div",{"data-testid":m},!(b||g||O)?L("div",{"data-testid":"interest-item-small"},L(a.ListItem,{onClick:y,preIconName:d},r)):L("div",{"data-testid":"interest-item-medium"},L(E,{onClick:y,preIconName:d},r)))},E=Object(r.default)(a.ListItem).withConfig({displayName:"NotInterestedListItem__MediumListItem",componentId:"t9nk8i-0"})(["padding-left:0;"]),A=n("4CUO"),V=o.a.createElement;function B(){var e=Object(m.a)(["\n    mutation UpdateTitleInterest(\n        $titleId: ID!\n        $interestLevel: InterestLevel!\n    ) {\n        updateTitleInterest(\n            input: { titleId: $titleId, interestLevel: $interestLevel }\n        ) {\n            success\n        }\n    }\n"]);return B=function(){return e},e}var D=f()(B()),R=n("gulS"),H=n("DgVT"),U=o.a.createElement,z=function(e){var t=e.recommendation,n=e.refMarker,r=e.index,a=e.context,s=Object(R.b)(a,null===n||void 0===n?void 0:n.prefix),c=s.createButton,l=s.createPrompt,d=function(e,t,n,o){var r=Object(i.useState)(!1),a=r[0],s=r[1],c=Object(i.useState)(!1),l=c[0],d=c[1],m=Object(A.a)(D),u=Object(p.a)(m,2),f=(u[0],u[1]),g={name:"info",label:"info",onClick:function(){s(!0),Object(M.g)(n+"_".concat(t+1),o,"overflow-expand",M.a.POP_UP)}},O=V(S,{trEndpointContext:o,refMarker:{prefix:n,suffix:"".concat(t+1)},isNotInterested:l,onClick:function(){var t=e.title.id,n=l?b.d.Ambivalent:b.d.NotInterested;f({titleId:t,interestLevel:n}),d(!l)}});return{iconButtonProps:g,prompt:V(N,{isNotInterested:l,notInterestedListItem:O,isOpen:a,onClose:function(){return s(!1)},recommendation:e,refMarker:{prefix:n,suffix:"".concat(t+1)}})}}(t,r,"".concat(n.prefix,"_ovflw"),a),m=d.iconButtonProps,u=d.prompt;return U(o.a.Fragment,null,U(H.a,{className:"top-picks-title",key:t.title.id,data:t.title,refMarker:n,alternateButton:c(t.title,r),iconButtons:[m]}),l("".concat(n.prefix,"_wo")),u)},$=n("odm1"),F=n("u2/3"),J=o.a.createElement,W=function(e){var t=e.refTagPrefix,n=e.items,i=e.className;return J(o.a.Fragment,null,J(a.Shoveler,{wraps:!1,className:i,onPageChange:function(e){Object(F.a)(e,t,$.PageType.HOME,$.SubPageType.MAIN)}},n.map((function(e,n){return J(z,{key:n,recommendation:e,refMarker:{prefix:t,suffix:"".concat(n+1,"_")+e.refTag},index:n,context:{type:$.PageType.HOME,subType:$.SubPageType.MAIN,id:e.title.id}})}))))},G=o.a.createElement,Q=function(e){var t,n=e.data,i=e.isSignedIn,o=Object(l.a)(null===n||void 0===n||null===(t=n.titleRecommendations)||void 0===t?void 0:t.edges),r=Object(c.a)({id:"nav_userMenu_link_signIn",defaultMessage:"Sign in"}),a=Object(c.a)({id:"top_picks",defaultMessage:"Top picks"}),s=Object(c.a)({id:"top_picks_description",defaultMessage:"TV shows and movies just for you"}),p=Object(d.b)({id:"top-picks",height:"title-cards",title:a,description:s,link:"/what-to-watch/top-picks/?ref_=hm_tpks_sm",shouldRender:function(){return o.length>5}},e),m={refTagPrefix:"hm_tpks",items:o,className:"latest-picks"};return G(d.a,p,!i&&G(X,{href:"/registration/signin?ref_=hm_tpks_signin",text:r,className:"top-picks-sign-in-link"}),G(W,m))},X=Object(r.default)(a.TextLink).withConfig({displayName:"TopPicks__SignInLink",componentId:"d43r15-0"})(["margin-left:",";margin-bottom:",";margin-top:0px;font-size:",";display:block;"],Object(s.setPropertyToSpacingVar)("margin","ipt-pageMargin"),s.spacing.m,Object(s.setTypographyType)("bodySmall"));t.default=Q}}]);