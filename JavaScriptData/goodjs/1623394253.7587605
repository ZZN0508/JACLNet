"use strict";!function(){var e,t,n,a,i,r,o,d,l;function s(e,t){if(e){var n={id:e.id},a=e.getAttribute(t||"data-ylk");return a&&(n=a.split(";").reduce((function(e,t){var n=t.split(":");return 2===n.length&&(e[n[0]]=n[1]),e}),n)),n}}function c(){return n||(n=e.YAHOO&&e.YAHOO.i13n&&e.YAHOO.i13n.rapidInstance||e.rapidInstance),n}function u(){var e,n,i;return a||(n=(s(e=t&&t.querySelector(".headertdv2wafer"),"data-i13n")||{}).sec||"hd",i=e&&s(e),a=Object.assign({},{sec:n},i)),a}function m(e){var n=c();if(n){var a=t.getElementById(e),i=a&&a.querySelectorAll("a,button"),r=Object.assign({},u(),{_links:[]});i&&(i.forEach((function(e){var t=s(e);t&&t.slk&&r._links.push(t)})),n.beaconLinkViews&&n.beaconLinkViews([r]))}}function f(e,t){var n=c(),a=t&&Object.assign({},u(),s(t),{itc:2});t&&a&&n&&n.beaconClick(a.sec||"hd",a.slk||e,t.getAttribute("data-rapid_p"),a)}function v(e){var n=e&&e.target;if(n&&n.getAttribute){var a=n.getAttribute("id");"header-mail-button"===a?(f("mail",d||t.getElementById("header-mail-button")),m("header-mail-panel")):"header-notification-button"===a&&(f("notifications",l||t.getElementById("header-notification-button")),m("header-notification-panel"))}}function g(e){for(var t=document.getElementsByClassName("my-message-action"),n=[],a=0;a<e.length;a++)e[a].checked&&n.push(e[a]);n.length>0?function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("Op(.5)"),e[t].querySelector("input").removeAttribute("disabled")}(t):function(e){for(var t=0;t<e.length;t++)e[t].classList.add("Op(.5)"),e[t].querySelector("input").setAttribute("disabled","disabled")}(t)}function h(){var e=document.getElementById("my-loading-indicator");e&&e.classList.remove("D(n)")}function w(){(d=t.getElementById("header-mail-button"))&&d.addEventListener("mouseenter",v),(l=t.getElementById("header-notification-button"))&&l.addEventListener("mouseenter",v);var e=t.getElementById("dialogue-wrapper");e&&e.addEventListener("click",p)}function y(){if((o=t.getElementById("my-message-list"))&&(i=o.querySelectorAll("input")),(r=t.getElementById("my-refresh-button"))&&r.addEventListener("click",h),i)for(var e=0;e<i.length;e++)i[e].addEventListener("change",(function(){g(i)}),!1)}function p(e){var n=e&&e.target;if(n&&"dialogue-open-locker"===n.id){var a=t.body;if("undefined"!=typeof CustomEvent)a.dispatchEvent(new CustomEvent("show-locker"));else{var i=document.createEvent("Event");i.initEvent("show-locker",!0,!0),a.dispatchEvent(i)}}}function b(n,a){e=n,t=a}window.wafer&&window.wafer.ready((function(){document.getElementsByClassName("mail-preview-myyahoo").length>0&&y(),window.wafer.on("form:submit",(function(e){e&&e.elem&&e.elem.dataset&&e.elem.dataset.wfTarget&&".mail-preview-myyahoo"===e.elem.dataset.wfTarget&&y()})),window.wafer.on("fetch:success",(function(e){e&&e.elem&&e.elem.dataset&&e.elem.dataset.wfTarget&&".mail-preview-myyahoo"===e.elem.dataset.wfTarget&&y()}))})),"undefined"!=typeof module?(module.exports.defineGlobals=b,module.exports.initEventHandlers=w,module.exports.handleHeaderMenuHover=v):window&&document&&(b(window,document),e.wafer&&e.wafer.ready(w))}();