System.register(["./common-chunks.system.1976d2aa.js"],(function(e,t){"use strict";var o,n,a,r,d,i,u,l,c,s,m,p,f,g,h,y,v,b,k,M,C,L;return{setters:[function(e){o=e.g,n=e.D,a=e.d,r=e.r,d=e.j,i=e.af,u=e.k,l=e.f,c=e.ag,s=e.ah,m=e.u,p=e.ai,f=e.aj,g=e.W,h=e.t,y=e.e,v=e.x,b=e.ad,k=e.C,M=e.a,C=e.ak,L=e.al}],execute:function(){var B=function(e){var t={};return t.dom=o(e,"dom",n.create()),t.backToMainButton=t.dom.querySelector("[data-tl-id=header-GlobalHeaderSparkMenu-backButton]"),t.sparkMainMenu=t.dom.getById("vh-spark-main-menu"),t.sparkSubMenu=t.dom.getById("vh-mobile-spark-submenus"),t.showMainMenu=function(){a(t.sparkSubMenu,{hidden:!0}),r(t.sparkMainMenu,["hidden"]);var e="[data-sub-depts-nav-target='"+t.backToMainButton.getAttribute("data-back-btn-for-sub-depts")+"']",o=document.querySelector(e);o&&o.focus()},t.hideMainMenu=function(){a(t.sparkMainMenu,{hidden:!0}),r(t.sparkSubMenu,["hidden"])},t},I=function(e){var t={},f=!1;return t.dom=o(e,"dom",n.create()),t.beacon=o(e,"beacon",d("Header")),t.sparkMenuProxy=o(e,"sparkMenuProxy"),t.onCloseSparkMenu=o(e,"onCloseSparkMenu"),t.trigger=t.dom.getById("vh-location-button"),t.triggerZipCode=t.dom.querySelector("#vh-location-button .zipCode"),t.isMobile=o(e,"isMobile",!1),t.locationLinks=t.dom.querySelector("#location-links"),t.menu=t.isMobile?t.dom.getById("vh-mobile-location-menu-root"):t.dom.getById("vh-location-form"),t.localStoreButton=t.dom.getById("vh-store-button"),t.setMenuPosition=function(){if(t.storeFlyoutWrapper=t.dom.querySelector("[data-tl-id=header-location-links]"),t.activeCategoryButton=t.dom.getById("vh-store-button"),t.activeCategoryButton&&t.storeFlyoutWrapper){var e=t.activeCategoryButton.getBoundingClientRect().top;t.storeFlyoutWrapper.style.top=e/1.5+"px"}},t.flipLocationUpdateForDesktop=function(){t.locationUpdateForm=t.dom.getById("vh-location-form"),t.locationUpdateForm&&t.locationUpdateForm.classList.contains("hidden")?(t.locationUpdateForm.classList.remove("hidden"),a(t.trigger,{"aria-expanded":!0})):(t.locationUpdateForm.classList.add("hidden"),a(t.trigger,{"aria-expanded":!1})),t.beacon.tagAction(i({name:"Store Links"}))},t.setup=function(){t.form.setup(),t.bindClickListeners(),t.menu&&t.trigger&&t.isMobile?(t.trigger.addEventListener("click",t.show.bind(this,{menu:t.menu,name:"Location Panel",trigger:t.trigger})),t.localStoreButton.addEventListener("click",t.show.bind(this,{menu:t.dom.getById("vh-mobile-store-menu-root"),name:"Store Panel",trigger:t.localStoreButton}))):(t.trigger.removeEventListener("click",t.show),t.trigger.addEventListener("click",t.flipLocationUpdateForDesktop)),t.triggerZipCode&&t.form.postalCode&&!t.form.promptForZip&&(t.triggerZipCode.innerHTML=t.form.postalCode)},t.attachEvent=function(){var e=function(e){e.relatedTarget&&"vh-spark-main-menu"!==e.relatedTarget.id&&"location-links"!==e.relatedTarget.id&&(a(t.locationLinks,{hidden:"true"}),a(t.storeLabel,{"aria-expanded":!1}))},o=function(e){"touchstart"===e.type&&(e.preventDefault(),e.stopPropagation(),t.storeLabel.focus()),t.departmentFlyoutOpened(),t.setMenuPosition();var o=null===t.locationLinks.getAttribute("hidden");("click"===event.type&&o&&f||"touchstart"===event.type&&o)&&(a(t.locationLinks,{hidden:!0}),a(t.storeLabel,{"aria-expanded":!1}),f=!1),o||(r(t.locationLinks,["hidden"]),a(t.storeLabel,{"aria-expanded":!0})),"click"===e.type&&(t.storeLabel.addEventListener("focusout",t.handleLocalStoreFocusChange),t.locationLinks.addEventListener("focusout",t.handleLocalStoreFlyoutFocusChange))};t.storeLabel=t.dom.getById("vh-store-button"),t.storeLabel.addEventListener("mouseleave",e),t.locationLinks.addEventListener("mouseleave",e),t.storeLabel.addEventListener("mouseover",(function(){t.setMenuPosition(),t.departmentFlyoutOpened(),r(t.locationLinks,["hidden"]),a(t.storeLabel,{"aria-expanded":!0})})),t.storeLabel.addEventListener("touchstart",o,{passive:!0}),t.storeLabel.addEventListener("click",o),t.storeLabel.addEventListener("keydown",t.handleKeydown)},t.departmentFlyoutOpened=function(){var e=t.dom.getById("spark-menu-department-flyout");null===e.getAttribute("hidden")&&(a(e,{hidden:!0}),a(t.dom.getById(e.getAttribute("dept-flyout-id")),{hidden:!0}))},t.handleKeydown=function(e){f=e.keyCode===u.SPACE||e.keyCode===u.ENTER},t.handleLocalStoreFocusChange=function(e){var o=l(t.locationLinks);e.relatedTarget&&"vh-location-button"===e.relatedTarget.id?(a(t.locationLinks,{hidden:"true"}),a(t.storeLabel,{"aria-expanded":!1}),e.relatedTarget.focus()):o.length&&(e.stopPropagation(),c(o).focus())},t.handleLocalStoreFlyoutFocusChange=function(e){e.stopPropagation();var o=l(t.locationLinks),n=o.indexOf(e.relatedTarget)<0;e.target===c(o)&&n?t.storeLabel.focus():e.target===s(o)&&n&&(a(t.locationLinks,{hidden:"true"}),a(t.storeLabel,{"aria-expanded":!1}),document.querySelector("[data-tl-id=GlobalHeaderDepartmentsMenu-allLink]").focus())},t.bindClickListeners=function(){var e=t.dom.querySelector("#header-bubble-links");t.menu&&e&&t.menu.querySelectorAll("a").forEach((function(o){o.setAttribute("data-section-title",o.dataset.tlId),m({dom:t.dom,beacon:t.beacon,moduleInfo:t.dom.getDataAttributes(e,["module-id","module-name","module-published-date","module-type","module-version","module-zone"])})(o)}))},t.show=function(e){t.hideLocation=t.hide.bind(this,e),r(e.menu,["hidden"]),t.sparkMenuProxy&&(a(t.sparkMenuProxy.backToMainButton,{"aria-describedby":"spark-menu-header-location"}),t.sparkMenuProxy.hideMainMenu(),t.sparkMenuProxy.backToMainButton.addEventListener("click",t.hideLocation),t.sparkMenuProxy.backToMainButton.focus()),t.beacon.tagAction(i({name:e.name}))},t.updateLocation=function(){t.form&&t.form.refreshLocationData&&t.form.refreshLocationData(),t.triggerZipCode&&t.form.postalCode&&!t.form.promptForZip&&(t.triggerZipCode.innerHTML=t.form.postalCode)},t.hide=function(e){e&&a(e.menu,{hidden:!0}),t.sparkMenuProxy&&(t.sparkMenuProxy.backToMainButton.removeEventListener("click",t.hideLocation),t.sparkMenuProxy.showMainMenu(),r(t.sparkMenuProxy.backToMainButton,["aria-describedby"]),e&&e.trigger.focus())},t.form=p.create({beacon:t.beacon,isMobile:t.isMobile,onCloseSparkMenu:t.onCloseSparkMenu,hideLocationToggle:t.isMobile?t.hide:t.flipLocationUpdateForDesktop}),t},T=function(e){var t={};return t.dom=o(e,"dom",n.create()),t.beacon=o(e,"beacon",d("Header")),t.moduleInfo=o(e,"moduleInfo",{}),t.sparkMenuProxy=o(e,"sparkMenuProxy"),t.backToMainButton=t.dom.querySelector("[data-tl-id=header-GlobalHeaderSparkMenu-backButton]"),t.querySelector=function(e){return t.dom.querySelector("#vh-spark-menu "+e)},t.querySelectorAll=function(e){return t.dom.querySelectorAll("#vh-spark-menu "+e)},t.wireBackButton=function(e){if(!(e.length<=0)){var o=t.querySelectorAll("[data-back-btn-for-sub-depts='"+s(e)+"']");o&&o.forEach((function(o){o.addEventListener("click",t.updateDisplayClick=function(){t.updateDisplay(e)})}))}},t.updateDisplay=function(e){e.length>0?(t.displaySubMenuContent(e),a(t.backToMainButton,{"data-back-btn-for-sub-depts":e[0]}),t.sparkMenuProxy&&t.sparkMenuProxy.hideMainMenu()):(t.hideAllNavs(),t.sparkMenuProxy&&t.sparkMenuProxy.showMainMenu())},t.hideAllNavs=function(){t.querySelectorAll("[data-sub-depts-nav-id]").forEach((function(e){a(e,{hidden:!0})}))},t.showSubNavGroup=function(e,o){var n=t.querySelector("[data-sub-depts-nav-id="+e[o]+"]");r(n,["hidden"])},t.showSubNav=function(e){r(t.dom.getById("vh-mobile-department-menu-root"),["hidden"]),e.forEach((function(o,n){t.showSubNavGroup(e,n)}))},t.focus=function(e){if(e){window.setTimeout((function(){e.focus()}),50)}},t.displaySubMenuContent=function(e){var o={};if(t.hideAllNavs(),t.showSubNav([s(e)]),t.focus(t.dom.querySelector("[data-tl-id=header-GlobalHeaderSparkMenu-backButton]")),e.length>0){var n=t.querySelector("[data-sub-depts-nav-id="+e[e.length-1]+"]");n&&(o=t.dom.getDataAttributes(n,["parent-dept-uid","parent-dept-name","parent-dept-asset-id"])),t.beacon.tagAction(f({moduleId:t.moduleInfo.moduleId,moduleType:t.moduleInfo.moduleType,moduleName:t.moduleInfo.moduleName,moduleVersion:t.moduleInfo.moduleVersion,modulePublishedDate:t.moduleInfo.modulePublishedDate,moduleZone:t.moduleInfo.moduleZone,departmentUid:o.parentDeptUid,departmentName:o.parentDeptName,departmentAssetId:o.parentDeptAssetId}))}},t.wireDepartmentsButtons=function(e){var o=e.length+1,n=[];e.length>0&&(n=n.concat(e.map((function(e){return"."+e})))),n.push("[data-dept-id=dept-nav-btn-lvl-"+o+"]"),t.querySelectorAll(n.join(" ")).forEach((function(o){if(o){var n=e.concat([o.getAttribute("data-sub-depts-nav-target")]);o.addEventListener("click",(function(){t.updateDisplay(n)})),t.wireBackButton(n),t.wireDepartmentsButtons(n)}}))},t.setup=function(){var e=t.dom.querySelector("[data-tl-id=header-GlobalHeaderSparkMenu-backButton]");e&&e.addEventListener("click",(function(){t.updateDisplay([])})),t.wireDepartmentsButtons([]);var o=m({dom:t.dom,beacon:t.beacon,moduleInfo:t.moduleInfo});t.dom.querySelectorAll("#vh-mobile-department-menu-root a").forEach((function(e){if(e.dataset.uid.match(/-DEPT-\d+/g)){var n=e.dataset.uid.replace(/-CAT-\d+/g,"");e.setAttribute("data-section-title",t.dom.querySelector("[data-uid="+n+"]").innerText)}o(e)})),t.dom.querySelectorAll("[data-tl-id=GlobalHeaderDepartmentsMenu-allLink]").forEach(o)},t},S=function(e){var t={},i=!1;return t.dom=o(e,"dom",n.create()),t.beacon=o(e,"beacon",d("Header")),t.moduleInfo=o(e,"moduleInfo",{}),t.buttonsWrapper=t.dom.getById("vh-department-menu"),t.flyoutsWrapper=t.dom.getById("spark-menu-department-flyout"),t.allLinks=t.flyoutsWrapper.querySelectorAll("a"),t.setup=function(){t.buttonsWrapper.addEventListener("click",t.handleCategoryActivate),t.flyoutsWrapper.addEventListener("mouseleave",t.hideCategoryMenu),t.buttonsWrapper.addEventListener("mouseleave",t.handleCategoryMouseLeave),t.buttonsWrapper.addEventListener("mouseover",t.handleCategoryActivate),t.buttonsWrapper.addEventListener("touchstart",t.handleCategoryActivate,{passive:!0}),t.buttonsWrapper.addEventListener("keydown",t.handleKeydown);var e=m({dom:t.dom,beacon:t.beacon,moduleInfo:t.moduleInfo});t.allLinks.forEach((function(o){if(o.dataset.uid.match(/-DEPT-\d+/g)){var n=o.dataset.uid.replace(/-CAT-\d+/g,"");o.setAttribute("data-section-title",t.dom.querySelector("[data-uid="+n+"]").innerText)}e(o)})),t.dom.querySelectorAll("[data-tl-id=GlobalHeaderDepartmentsMenu-allLink]").forEach(e),g.getDefaultInstance().onMeasuredResize((function(e){h.isBreakpointBelow(e.breakpoint,"large")&&t.activeCategory&&t.hideCategoryMenu()}))},t.handleKeydown=function(e){i=e.keyCode===u.SPACE||e.keyCode===u.ENTER},t.handleCategoryActivate=function(e){if(t.localStorelfyoutOpened(),"touchstart"===e.type&&(e.preventDefault(),e.stopPropagation(),e.target.focus()),[].slice.call(t.buttonsWrapper.children).indexOf(e.target)>=0>=0){var o=t.dom.getById(e.target.getAttribute("data-sub-depts-nav-target")),n=t.activeCategory&&t.activeCategory!==o,a=t.activeCategory&&!n;(n||"click"===e.type&&a&&i||"touchstart"===e.type&&a)&&(t.hideCategoryMenu(),i=!1),a||t.showCategoryMenu(o,e.target)}},t.handleFlyoutFocusChange=function(e){if(t.activeCategoryButton){e.stopPropagation();var o=l(e.currentTarget),n=o.indexOf(e.relatedTarget)<0;if(e.target===c(o)&&n)t.activeCategoryButton.focus();else if(e.target===s(o)&&n){var a=t.activeCategoryButton.nextSibling;if(a)a.focus();else{var r=t.dom.getById("vh-spark-main-menu"),d=l(r),i=d.indexOf(t.activeCategoryButton);i>=0&&i<d.length-1&&d[i+1].focus()}t.hideCategoryMenu()}}},t.handleCategoryFocusChange=function(e){if(t.activeCategory){var o=l(t.buttonsWrapper),n=e.relatedTarget===e.target.nextSibling,a=e.target===s(o)&&o.indexOf(e.relatedTarget)<0;if(n||a){var r=l(t.activeCategory);r.length&&(e.stopPropagation(),c(r).focus()),t.removeEscHandler&&(t.removeEscHandler(),t.removeEscHandler=null),t.removeEscHandler=y(t.flyoutsWrapper,(function(){t.activeCategoryButton.focus(),t.hideCategoryMenu()}))}else{var d=l(t.dom.getById("vh-spark-main-menu")),i=d.indexOf(t.activeCategoryButton);d[i-1]===e.relatedTarget&&t.hideCategoryMenu()}}},t.handleCategoryMouseLeave=function(e){e.relatedTarget&&"vh-spark-main-menu"!==e.relatedTarget.id&&"spark-menu-department-flyout"!==e.relatedTarget.id&&e.relatedTarget.firstElementChild&&"header-spark-menu-content"!==e.relatedTarget.firstElementChild.id&&t.hideCategoryMenu()},t.hideCategoryMenu=function(e){e&&e.relatedTarget&&("vh-spark-main-menu"===e.relatedTarget.id||e.relatedTarget.firstElementChild&&"header-spark-menu-content"===e.relatedTarget.firstElementChild.id)||(t.activeCategoryButton&&(a(t.activeCategoryButton,{"aria-expanded":!1}),t.activeCategoryButton.removeEventListener("focusout",t.handleCategoryFocusChange),t.activeCategoryButton=null),t.removeEscHandler&&(t.removeEscHandler(),t.removeEscHandler=null),t.activeCategory&&(a(t.activeCategory,{hidden:!0}),t.activeCategory.removeEventListener("focusout",t.handleFlyoutFocusChange),t.activeCategory=null),a(t.flyoutsWrapper,{hidden:!0}))},t.setMenuPosition=function(){if(t.activeCategoryButton&&t.flyoutsWrapper){var e=t.activeCategoryButton.getBoundingClientRect().top,o=t.flyoutsWrapper.getBoundingClientRect().height,n=o/2,a=t.dom.getWindow().innerHeight-o,r=Math.min(Math.max(0,e-n),a);t.flyoutsWrapper.style.top=r+"px"}},t.showCategoryMenu=function(e,o){t.activeCategory=e,t.activeCategoryButton=o,o&&(a(o,{"aria-expanded":!0}),o.addEventListener("focusout",t.handleCategoryFocusChange)),r(e,["hidden"]),r(t.flyoutsWrapper,["hidden"]),a(t.flyoutsWrapper,{"dept-flyout-id":e.id}),t.setMenuPosition(),t.removeEscHandler=y(t.buttonsWrapper,t.hideCategoryMenu),e.addEventListener("focusout",t.handleFlyoutFocusChange);var n=t.dom.getDataAttributes(e,["parent-dept-uid","parent-dept-name","parent-dept-asset-id"]);t.beacon.tagAction(f({moduleId:t.moduleInfo.moduleId,moduleType:t.moduleInfo.moduleType,moduleName:t.moduleInfo.moduleName,moduleVersion:t.moduleInfo.moduleVersion,modulePublishedDate:t.moduleInfo.modulePublishedDate,moduleZone:t.moduleInfo.moduleZone,departmentUid:n.parentDeptUid,departmentName:n.parentDeptName,departmentAssetId:n.parentDeptAssetId}))},t.localStorelfyoutOpened=function(){var e=t.dom.getById("location-links");e&&null===e.getAttribute("hidden")&&(t.activeCategory=null,a(e,{hidden:!0}))},t};e("default",{create:function(e){var r={};return r.dom=o(e,"dom",n.create()),r.beacon=o(e,"beacon",d("Header")),r.onClose=o(e,"onClose",(function(){})),r.onReady=o(e,"onReady",(function(){})),r.moduleInfo={},r.fetchTemplate="mobile",r.embedBubbleMenus=!0,r.rootEl=r.dom.getById("header-spark-menu-content"),r.menuContentReady=v.create(),r.setUseMobileTemplate=function(e){r.fetchTemplate=e?"mobile":"desktop"},r.setEmbedBubbleMenus=function(e){r.embedBubbleMenus=e},r.addUserNameToMenu=function(){var e=b(),t=r.container.querySelector("#hf-user-firstname");if("mobile"===r.fetchTemplate&&e){var o=r.container.querySelector("#vh-mobile-account-button-label");if(o&&e.greeting){var n="Account, "+e.greeting;o.innerHTML="Account",a(o,{"aria-label":n})}}t&&e&&(t.innerText=e.greeting,a(r.container.querySelector("#hf-spark-menu-logo"),{hidden:"true"}),r.replaceTrackOrderUrl())},r.init=function(e){if(r.rootEl.innerHTML=e.sparkMenu,r.container=r.rootEl.querySelector("#vh-spark-menu"),e.locationForm&&(r.headerLinks=r.container.querySelector("#vh-location-form"),r.headerLinks.innerHTML=e.locationForm),r.addUserNameToMenu(),"desktop"!==r.fetchTemplate){var t=r.container.querySelector("#vh-mobile-account-menu-root");if(e.accountMenu&&(t.innerHTML=e.accountMenu),e.locationForm)r.dom.getById("vh-mobile-location-menu-root").innerHTML=e.locationForm;if(e.sparkMenuDepartmentsSubNav)r.dom.getById("vh-mobile-department-menu-root").innerHTML=e.sparkMenuDepartmentsSubNav;if(e.locationLinks)r.dom.getById("vh-mobile-store-menu-root").innerHTML=e.locationLinks;if("1"===k.get("hasCID")){var o=M("header-account-links-signed-out",t);o&&o.remove()}else{var n=M("header-account-links-signed-in",t);n&&n.remove()}}else if(e.sparkMenuDepartmentsFlyout){r.menuContainer=r.dom.getById("header-spark-menu"),M("hf-menu-bg",r.menuContainer).innerHTML=e.locationLinks+e.sparkMenuDepartmentsFlyout}r.setup(),r.onReady(),r.menuContentReady.resolve()},r.setup=function(){r.moduleInfo=r.dom.getDataAttributes(r.container,["module-id","module-type","module-name","module-version","module-published-date","module-zone"]);var e=r.dom.getById("spark-menu-close-button");e&&e.addEventListener("click",r.onClose);var o=B();r.locationMenu=null,r.locationMenu=I({sparkMenuProxy:o,isMobile:"mobile"===r.fetchTemplate,onCloseSparkMenu:r.onClose}),r.locationMenu.setup(),r.embedBubbleMenus?t.import("./account-menu.system.9d91729c.js").then((function(e){var t=e.default;r.accountMenu=t.create({sparkMenuProxy:o}),r.accountMenu.setup()})):r.accountMenu=null,"desktop"===r.fetchTemplate?(r.departmentTree=null,r.locationMenu.attachEvent(),r.departmentFlyouts=S({moduleInfo:r.moduleInfo}),r.departmentFlyouts.setup()):(r.departmentFlyouts=null,r.departmentTree=T({moduleInfo:r.moduleInfo,sparkMenuProxy:o}),r.departmentTree.setup());var n=m({dom:r.dom,beacon:r.beacon,moduleInfo:r.moduleInfo});[].slice.call(r.dom.querySelectorAll("[data-tl-id^=header-GlobalHeaderSparkMenu-optionalTopLinks]")).concat([].slice.call(r.dom.querySelectorAll("[data-tl-id^=header-GlobalHeaderSparkMenu-optionalBottomLinks]"))).forEach((function(e){e.setAttribute("data-section-title","Header"),n(e)}))},r.replaceTrackOrderUrl=function(){a(r.rootEl.querySelector("[data-tl-id=header-top-links] [title='Track Orders']"),{href:C()})},r.show=function(){r.menuContentReady.then((function(){r.locationMenu&&r.locationMenu.updateLocation(),r.beacon.addData([["li","dummyLinkKey",{lc:0,pi:0}]]).tagAction(L({moduleId:r.moduleInfo.moduleId,moduleType:r.moduleInfo.moduleType,moduleVersion:r.moduleInfo.moduleVersion,modulePublishedDate:r.moduleInfo.modulePublishedDate}))}))},r.hide=function(){r.departmentFlyouts&&r.departmentFlyouts.hideCategoryMenu(),r.locationMenu&&(r.locationMenu.hide({menu:r.dom.getById("vh-mobile-location-menu-root"),name:"Location Panel",trigger:r.dom.getById("vh-location-button")}),r.locationMenu.hide({menu:r.dom.getById("vh-mobile-store-menu-root"),name:"Store Panel",trigger:r.dom.getById("vh-location-button")})),r.departmentTree&&r.departmentTree.updateDisplay([]),a(r.dom.getById("location-links"),{hidden:"true"})},r}})}}}));