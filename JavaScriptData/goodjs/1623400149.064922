(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{192:function(e,t,n){"use strict";n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"n",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"p",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return _})),n.d(t,"m",(function(){return O})),n.d(t,"i",(function(){return y})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return C})),n.d(t,"k",(function(){return k})),n.d(t,"o",(function(){return E}));var a=n(193),r="pricing:currencyChange",c="pricing.mobilePlansChange",o="pricing.addMarketingPlan",i="pricing.cart_updated",l="pricing.add_domain_to_cart",u="pricing.add_commerce_plan";function s(e){return document.addEventListener(r,e,!1)}function d(e){Object(a.a)(document,r,{detail:e})}function m(e){return document.removeEventListener(r,e,!1)}function p(e){return document.addEventListener(c,e,!1)}function f(e){Object(a.a)(document,c,{detail:e})}function b(e){return document.addEventListener(o,e,!1)}function g(e){return document.removeEventListener(o,e,!1)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(a.a)(document,o,{detail:{plan:e,audience_size:t}})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(a.a)(document,u,{detail:{plan:e}})}function _(e){return document.addEventListener(u,e,!1)}function O(e){return document.removeEventListener(u,e,!1)}function y(e){return document.addEventListener(i,e,!1)}function j(e){var t=e.cartItems;Object(a.a)(document,i,{detail:{cartItems:t}})}function C(e){var t=e.domainName,n=e.priceValue,r=e.currencySymbol;Object(a.a)(document,l,{detail:{domainName:t,priceValue:n,currencySymbol:r}})}function k(e){return document.addEventListener(l,e,!1)}function E(e){return document.removeEventListener(l,e,!1)}},193:function(e,t,n){"use strict";function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object.assign({bubbles:!0,cancelable:!1,detail:void 0},n),r=a.bubbles,c=a.cancelable,o=a.detail;try{var i=new CustomEvent(t,{bubbles:r,cancelable:c,detail:o});e.dispatchEvent(i)}catch(n){var l=e.createEvent(t);l.initCustomEvent(t,r,c,o),e.dispatchEvent(l)}}n.d(t,"a",(function(){return a}))},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return d}));var a=n(199),r=n(3),c="PRICING_CURRENCY",o="USD",i="USD";function l(){var e=Object(r.k)();return"currency"in e?(Object(a.c)(c,e.currency),e.currency):Object(a.a)(c)?Object(a.a)(c):void 0}function u(){return o}function s(e){o=e}function d(e){return e?(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(r.k)();if(!("currency"in n)&&e!==u()||"currency"in n&&e!==n.currency){var a=window.location.hash,c=Object(r.v)(window.location.pathname,{currency:e});t?window.history.replaceState({currency:e},document.title,c):window.history.pushState({currency:e},document.title,c),a&&(window.location.hash=a)}}(e),Object(a.c)(c,e),e):(Object(a.b)(c),o)}},195:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f}));var a=n(2),r=n.n(a),c=n(4),o=n(3),i={},l={},u=new(n(62).a),s=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,i,l,u,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},a=n.makeRequest,c=void 0===a?o.x:a,i=Object(o.k)(),t&&(i.currency=t),l=0===Object.keys(i).length?"":"?".concat(Object(o.m)(i)),e.prev=4,e.next=7,c("GET","/forms/pricing/".concat(l));case 7:return u=e.sent,u=JSON.parse(u),e.abrupt("return",u);case 12:throw e.prev=12,e.t0=e.catch(4),Promise.reject("".concat(e.t0.status," - ").concat(e.t0.statusText));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,l,d,m,p=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>1&&void 0!==p[1]?p[1]:{},a=n.makeRequest,c=void 0===a?o.x:a,i[t]){e.next=22;break}return e.next=4,u.lock();case 4:if(l=e.sent,!i[t]){e.next=8;break}return l(),e.abrupt("return",i[t]);case 8:return e.prev=8,e.next=11,s(t,{makeRequest:c});case 11:d=e.sent,i[t]=d,e.next=20;break;case 15:throw e.prev=15,e.t0=e.catch(8),l(),e.t0 instanceof Error?window.bugsnagClient.notify(e.t0):(m=new Error("Async Pricing API request failed for the ".concat(t," currency.")),window.bugsnagClient.notify(m,{metaData:{originalReason:e.t0}})),e.t0;case 20:return l(),e.abrupt("return",i[t]);case 22:return e.abrupt("return",i[t]);case 23:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,c,i=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:o.x,n={},e.prev=2,e.next=5,t("GET","/cart/");case 5:a=e.sent,n=JSON.parse(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0 instanceof Error?window.bugsnagClient.notify(e.t0):(c=new Error("getCart request failed"),window.bugsnagClient.notify(c,{metaData:{originalReason:e.t0}}));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,i,l,u,s,d,m,p=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.package_id,a=t.audience_size,c=t.commerce_plan,i=t.add_ons,l=p.length>1&&void 0!==p[1]?p[1]:o.x,u={},s=new FormData,n&&(s.append("package_id",n),s.append("audience_size",a||0)),c&&s.append("commerce_plan",c),i&&s.append("add_ons",JSON.stringify(i)),e.prev=7,e.next=10,l("POST","/cart/",s);case 10:d=e.sent,u=JSON.parse(d),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),e.t0 instanceof Error?window.bugsnagClient.notify(e.t0):(m=new Error("saveCart request failed"),window.bugsnagClient.notify(m,{metaData:{originalReason:e.t0}}));case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,i,u,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:o.x,a=t.get("q"),!l[a]){e.next=4;break}return e.abrupt("return",l[a]);case 4:return c={},e.prev=5,e.next=8,n("POST","/forms/suggest-domains/",t);case 8:i=e.sent,c=JSON.parse(i),l[a]=c,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),e.t0 instanceof Error?window.bugsnagClient.notify(e.t0):(u=new Error("getDomains request failed"),window.bugsnagClient.notify(u,{metaData:{originalReason:e.t0}}));case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},197:function(e,t,n){"use strict";var a=function(e){return e&&e.length>0?e.replace(/%[dfu]/g,"%s"):""};t.a=function(e,t){return void 0!==t&&"number"==typeof t?function(e,t){var n=e.none,r=e.one,c=e.more;if(Number.isNaN(parseInt(t,10)))throw new Error("count must be a valid number");var o=t.toLocaleString(),i=n;return 1===t&&(i=r),t>1&&(i=c),a(i).replace("%s",o)}(e,t):e&&0!==Object.keys(e).length?function(e,t){var n=e.text;return a(n).replace("%s",t)}(e,t):""}},198:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a={marketing:"marketing",commerce:"commerce",domain:"domain"},r={domain:1e3}},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var a=!0,r={};try{sessionStorage.setItem("foo","bar"),sessionStorage.removeItem("foo")}catch(e){a=!1}function c(e){return a?sessionStorage.getItem(e):r[e]}function o(e,t){a?sessionStorage.setItem(e,t):r[e]=t}function i(e){a?sessionStorage.removeItem(e):delete r[e]}},306:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(60),c=n(2),o=n.n(c),i=n(4),l=n(36),u=n(188),s=n.n(u),d=(n(189),n(218)),m=n(39),p=function(e){var t=e.heading,n=e.label,a=e.href,r=e.setFocusToCartClose,c=e.tracking,o=e.forwardedRef;return s.a.createElement("div",{className:"globalNav__shoppingCart__empty align--center"},s.a.createElement("h3",{tabIndex:"0",className:"h4 margin--bottom-c6"},t),s.a.createElement("a",{href:a,className:"ctaPrimary ctaPrimary--small ctaPrimary--fullWidth",onKeyDown:function(e){e.shiftKey||"Tab"!==e.key||(e.preventDefault(),r())},onClick:function(e){return c(e,"e_cta_click")},ref:o},n))},f=n(197),b=n(198),g=function(e){var t,n=e.data,a=e.handleCartClose,r=e.handleRemoveItem,c=e.tracking,o=e.removePlan,i=e.perMonthlyAria,l=n.planGroup,u=n.packageId,m=n.priceValue,p=n.priceSymbol,g=n.content,v=n.content,h=v.cartDisclaimer,_=v.cartSubCopy,O=v.heading,y=v.editCtaLabel,j=v.editCtaHref;return s.a.createElement("li",{className:"globalNav__shoppingCart__cartItem padding--vertical-c6"},s.a.createElement("div",{className:"flex flex--between flex--middle margin--bottom-c3"},null!==(t=g.microcopy)&&void 0!==t&&t.hasOwnProperty("eyebrow")?s.a.createElement("div",{className:"copy-eyebrow"},Object(f.a)(g.microcopy.eyebrow)):null),s.a.createElement("div",{className:"flex flex--between flex--middle margin--bottom-c6"},s.a.createElement("h5",{className:"h5"},s.a.createElement("a",{href:j,className:"globalNav__shoppingCart__cartItem__header",onClick:function(e){c(e,"e_link_click"),a(e,!1,!1)}},O)),s.a.createElement("a",{href:j,onClick:function(e){return r(e,u)},"aria-label":o.text,"data-characterize-click":"delete_icon","data-context-text":O},s.a.createElement(d.b,null))),s.a.createElement("div",{className:"flex flex--between flex--middle margin--bottom-c6"},l===b.b.marketing&&s.a.createElement("div",{className:"copy-regular"},s.a.createElement("p",{className:"copy-regular"},Object(f.a)(g.microcopy.with_n_contacts,n.audienceSize)),s.a.createElement("p",{className:"copy-regular"},Object(f.a)(g.microcopy.up_to_n_monthly_email_sends,n.sends))),l===b.b.commerce&&s.a.createElement("div",{className:"globalNav__shoppingCart__subCopy"},_),l===b.b.domain&&s.a.createElement("div",null,n.domainName),s.a.createElement("div",{className:"align--right globalNav__shoppingCart__price","aria-label":"".concat(p).concat(m).concat(i.text)},s.a.createElement("div",null,s.a.createElement("sup",{className:"globalNav__shoppingCart__price-symbol"},p),s.a.createElement("span",{className:"globalNav__shoppingCart__price-value"},m)),s.a.createElement("div",{className:"copy-regular"},l===b.b.marketing||l===b.b.commerce?Object(f.a)(g.microcopy.per_month):Object(f.a)(g.microcopy.renews_annually)))),s.a.createElement("div",{className:"align--right globalNav__shoppingCart__cartItem__edit"},s.a.createElement("a",{href:j,className:"cta",onClick:function(e){c(e,"e_link_click",O),a(e,!1,!1)}},y)),h&&s.a.createElement("div",{className:"globalNav__shoppingCart__cartItem-disclaimer",dangerouslySetInnerHTML:{__html:h}}))},v=function(e){var t=e.items,n=e.symbol,a=e.handleRemoveItem,r=e.heading,c=e.cartTotalLabel,o=e.salesTaxLabel,i=e.checkoutCtaLabel,l=e.checkoutCtaHref,u=e.continueShoppingCtaLabel,d=e.continueShoppingCtaHref,m=e.perMonthlyLabel,p=e.perAnnualLabel,b=e.perMonthlyAria,v=e.perAnnualAria,h=e.monthlyTotal,_=e.annualTotal,O=e.loggedIn,y=e.loggedInCtaLabel,j=e.loggedInCtaHref,C=e.handleCartClose,k=e.tracking,E=e.signupLabel,N=e.removePlan,w=e.setFocusToCartClose,x=e.forwardedRef;return s.a.createElement("div",{className:"globalNav__shoppingCart__filled"},s.a.createElement("div",{className:"globalNav__shoppingCart__header padding--top-c8 padding--bottom-c7 padding--horizontal-4"},s.a.createElement("div",{className:"flex flex--between flex--middle margin--bottom-4"},s.a.createElement("p",{role:"heading",tabIndex:"0"},r)),s.a.createElement("div",{className:"flex flex--between globalNav__shoppingCart__price"},s.a.createElement("div",{className:"globalNav__shoppingCart__price__label"},s.a.createElement("span",{className:"globalNav__shoppingCart__price__label-text"},c)),s.a.createElement("div",{className:"align--right"},s.a.createElement("p",{tabIndex:"0","aria-label":"".concat(n).concat(h.toFixed(2))},s.a.createElement("span",{className:"globalNav__shoppingCart__price-symbol"},n),s.a.createElement("span",{className:"copy-regular"},h.toFixed(2)),s.a.createElement("span",{className:"copy-regular margin--left-c1"},Object(f.a)(m))),_>0&&s.a.createElement("p",{tabIndex:"0",className:"copy-regular","aria-label":"".concat(n).concat(_.toFixed(2)," ").concat(Object(f.a)(v))},s.a.createElement("span",{className:"margin--right-c1"},"+"),s.a.createElement("span",{className:"globalNav__shoppingCart__price-symbol"},n),s.a.createElement("span",null,_.toFixed(2)),s.a.createElement("span",{className:"margin--left-c1"},Object(f.a)(p))),s.a.createElement("p",{tabIndex:"0",className:"globalNav__shoppingCart__price-total","aria-label":"".concat(c," ").concat(n).concat((h+_).toFixed(2))},s.a.createElement("sup",{className:"globalNav__shoppingCart__price-symbol"},n),s.a.createElement("span",{className:"globalNav__shoppingCart__price-value"},(h+_).toFixed(2)),s.a.createElement("span",{className:"copy-regular"},o))))),s.a.createElement("div",{className:"padding--horizontal-4 margin--top-4"},s.a.createElement("ul",{className:"globalNav__shoppingCart__list"},t.map((function(e){return s.a.createElement(g,{key:e.packageId,data:e,handleCartClose:C,handleRemoveItem:a,tracking:k,removePlan:N,perMonthlyAria:b})}))),s.a.createElement("div",{className:"margin--bottom-c7 margin--top-c2 flex"},s.a.createElement("a",{href:O?j:l,className:"ctaPrimary ctaPrimary--small cell",onClick:function(e){return k(e,"e_cta_click")}},O?y:h+_===0?Object(f.a)(E):i)),s.a.createElement("div",{className:"align--center margin--bottom-c7"},s.a.createElement("a",{href:d,className:"cta",onClick:C,"data-context-text":"continue shopping",onKeyDown:function(e){e.shiftKey||"Tab"!==e.key||(e.preventDefault(),w())},ref:x},u))))},h=n(3),_=function(){return Object(u.useMemo)((function(){var e=Object(h.j)();return Boolean(e)}),[])},O=n(6),y=n(195);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(){var e=Object(u.useState)({}),t=Object(l.a)(e,2),n=t[0],a=t[1];Object(u.useEffect)((function(){Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))()}),[a]);var r=Object(u.useCallback)((function(e,t,r){var c=C(C({},n),{},{plan:e,package_id:t,audience_size:parseInt(r,10)});Object(y.d)(c),a(c)}),[n]),c=Object(u.useCallback)((function(){var e=C(C({},n),{},{package_id:null,audience_size:null});Object(y.d)(e),a(e)}),[n]),s=Object(u.useCallback)((function(e){var t=C(C({},n),{},{commerce_plan:parseInt(e,10)});Object(y.d)(t),a(t)}),[n]),d=Object(u.useCallback)((function(){var e=C(C({},n),{},{commerce_plan:null});Object(y.d)(e),a(e)}),[n]),m=Object(u.useCallback)((function(e,t){var r=!1,c=(n.add_ons||[]).map((function(n){return n.pricing_id===e?(r=!0,{pricing_id:e,data:t}):n}));r||c.push({pricing_id:e,data:t});var o=C(C({},n),{},{add_ons:c});Object(y.d)(o),a(o)}),[n]),p=Object(u.useCallback)((function(e){var t=C(C({},n),{},{add_ons:n.add_ons.filter((function(t){return t.pricing_id!==e}))});Object(y.d)(t),a(t)}),[n]),f=Object(u.useCallback)((function(){var e={};return e=new URLSearchParams,Object.keys(n).forEach((function(t){var a=n[t];a&&("add_ons"===t&&a.length>0?e.append(t,JSON.stringify(a)):e.append(t,a))})),e.toString()}),[n]);return{cartState:n,setCartState:a,storeMarketingPlan:r,removeMarketingPlan:c,storeCommercePlan:s,removeCommercePlan:d,storeAddOn:m,removeAddOn:p,getCookieAsParams:f}},E=n(192),N=n(194),w=n(61),x=n(25),S=n(37),I=function(e,t,n){var a=!1,r=n.map((function(n){return n.planGroup===e?(a=!0,t):n}));return a||r.push(t),r},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=n?"".concat(Object(S.b)(e.target,"shoppingCart",e.target),":").concat(n):"".concat(Object(S.b)(e.target,"shoppingCart",e.target));x.a.pushEvent(t,{category:"shoppingCart",action:"cart_click",label:a})},L=function(e,t,n,a){var r;r=n.recommended.domain===e?n.recommended:[].concat(Object(w.a)(n.lookup),Object(w.a)(n.suggestion)).find((function(t){return t.domain===e}));var c=a.find((function(e){return e.code===t}));return{domainName:r.domain,priceValue:r.prices[c.id],currencySymbol:c.symbol}},D=function(e){var t=e.pageData,n=t.cartContent,a=t.domainCurrencies,r=Object(u.useRef)(null),c=Object(u.useRef)(null),f=Object(u.useRef)(null),g=Object(u.useState)(!1),h=Object(l.a)(g,2),O=h[0],j=h[1],C=Object(u.useState)(!1),w=Object(l.a)(C,2),x=w[0],S=w[1],D=k(),R=Object(u.useState)([]),T=Object(l.a)(R,2),A=T[0],z=T[1],M=Object(u.useState)(null),F=Object(l.a)(M,2),H=F[0],G=F[1],q=Object(u.useState)(null),V=Object(l.a)(q,2),J=V[0],K=V[1],B=Object(u.useState)(0),U=Object(l.a)(B,2),W=U[0],Y=U[1],Q=Object(u.useState)(0),X=Object(l.a)(Q,2),Z=X[0],$=X[1],ee=Object(u.useState)(Object(N.c)()||N.a),te=Object(l.a)(ee,2),ne=te[0],ae=te[1],re=_(),ce=function(){var e=Object(u.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],r=document.querySelector('[data-behavior="shoppingCart:cartIcon"]');return Object(u.useEffect)((function(){n?r.classList.remove("is-filled"):r.classList.add("is-filled")}),[n]),a}(),oe=document.querySelector('[data-behavior="shoppingCart:cartIcon"]');function ie(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&e.preventDefault(),n&&P(e,"e_click"),Object(m.enableBodyScroll)(f),oe.focus(),j(!1)}function le(){Object(m.disableBodyScroll)(f,{allowTouchMove:function(){return!0}}),j(!0)}function ue(e,n){if(H){var a=H.plans[e],r=a.tiers.find((function(e){return e.audience_size===n}))||a.tiers[0],c={planName:e,packageId:a.package_id,planGroup:a.plan_group,sends:r.sends,audienceSize:r.audience_size,priceValue:r.price.value,priceSymbol:H.currency.symbol_long,content:t.marketingPlanContent[e]};z((function(e){return I(b.b.marketing,c,e)}))}}function se(e){if(H){var n=H.commerce_plans[e],a=n.tiers[0],r={planName:e,packageId:n.package_id,planGroup:n.plan_group,audienceSize:a.audience_size,priceValue:a.price.value,priceSymbol:H.currency.symbol_long,content:t.commercePlanContent[e]};z((function(e){return I(b.b.commerce,r,e)}))}}function de(e){var n=e.domainName,a=e.priceValue,r=e.currencySymbol,c={domainName:n,priceValue:a,planGroup:b.b.domain,packageId:n,priceSymbol:r,content:t.addOnContent.domain};z((function(e){return I(b.b.domain,c,e)})),K({domainName:n,priceValue:a,currencySymbol:r})}Object(u.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)(ne);case 2:t=e.sent,G(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(i.a)(o.a.mark((function e(){var t,n,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=11;break}return t=J.domainName,(n=new FormData).set("q",t),e.next=6,Object(y.c)(n);case 6:r=e.sent,c=L(t,ne,r,a.currencies),i=b.a[b.b.domain],de(c),D.storeAddOn(i,c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[ne]),Object(u.useEffect)((function(){if(null!==H&&0!==Object.keys(D.cartState).length&&!x){var e=D.cartState,t=e.package_id,n=e.audience_size,a=e.commerce_plan,r=e.add_ons;t&&null!==n&&ue(function(e,t){return Object.keys(t.plans).find((function(n){return t.plans[n].package_id===e}))}(t,H),n),a&&se(function(e,t){return Object.keys(t.commerce_plans).find((function(n){return t.commerce_plans[n].tiers.find((function(t){return t.pricing_id===e}))}))}(a,H)),r&&r.length>0&&r.forEach((function(e){var t,n=e.pricing_id,a=e.data;t=n,Object.keys(b.a).find((function(e){return b.a[e]===t}))===b.b.domain&&de(a)})),S(!0)}}),[x,D.cartState,H]),Object(u.useEffect)((function(){function e(e){var t=e.detail;ae(t)}function t(e){var t=e.detail,n=t.plan,a=t.audience_size,r=H.plans[n],c=r.package_id,o=r.tiers,i=(o.find((function(e){return e.audience_size===a}))||o[0]).pricing_id;D.storeMarketingPlan(i,c,a),ue(n,a),le()}function n(e){var t=e.detail.plan,n=H.commerce_plans[t].tiers[0].pricing_id;D.storeCommercePlan(n),se(t),le()}return Object(E.j)(e),Object(E.h)(t),Object(E.g)(n),function(){Object(E.n)(e),Object(E.p)(t),Object(E.m)(n)}}),[A,t.marketingPlanContent,t.commercePlanContent,H]),Object(u.useEffect)((function(){A.length>0&&A.forEach((function(e){e.planGroup===b.b.marketing&&ue(e.planName,e.audienceSize),e.planGroup===b.b.commerce&&se(e.planName)}))}),[H]),Object(u.useEffect)((function(){var e;ce(A.length<=0),Object(E.d)({cartItems:A}),e=0,A.forEach((function(t){t.planGroup!==b.b.marketing&&t.planGroup!==b.b.commerce||(e+=t.priceValue)})),Y(e),function(){var e=0;A.forEach((function(t){t.planGroup===b.b.domain&&(e+=t.priceValue)})),$(e)}()}),[A,ce]),Object(u.useEffect)((function(){var e=function(e){var t=e.detail,n=b.a[b.b.domain];D.storeAddOn(n,t),de(t),le()};return Object(E.k)(e),function(){Object(E.o)(e)}}),[A,t.addOnContent.domain,J]),Object(u.useEffect)((function(){function e(e){e.preventDefault(),le()}return oe.addEventListener("click",e),function(){oe.removeEventListener("click",e)}}));var me=function(){r.current.focus()};return Object(u.useEffect)((function(){O&&me()}),[O]),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"globalNav__cartOverlay","aria-expanded":O,onClick:ie,"data-context-text":"cart overlay click"}),s.a.createElement("div",{className:"globalNav__shoppingCart ".concat(O?"isOpen":""),"aria-expanded":O,"aria-hidden":!O,hidden:!O,ref:f},s.a.createElement("a",{className:"globalNav__shoppingCart__close",href:"/pricing/",onClick:ie,"aria-label":n.closeCart.text,"data-context-text":"close icon",ref:r,onKeyDown:function(e){e.shiftKey&&"Tab"===e.key&&(e.preventDefault(),c.current.focus())}},s.a.createElement(d.a,null)),0===A.length?s.a.createElement(p,{heading:re?n.loggedInHeading:n.emptyCartHeading,label:re?n.loggedInCtaLabel:n.emptyCartCtaLabel,href:re?n.loggedInCtaHref:n.emptyCartCtaHref,setFocusToCartClose:me,tracking:P,forwardedRef:c}):s.a.createElement(v,{items:A,symbol:H.currency.symbol_long,handleCartClose:ie,handleRemoveItem:function(e,t){switch(e.preventDefault(),P(e,"e_click"),A.find((function(e){return e.packageId===t})).planGroup){case b.b.marketing:D.removeMarketingPlan();break;case b.b.commerce:D.removeCommercePlan();break;case b.b.domain:D.removeAddOn(b.a[b.b.domain])}var n=A.filter((function(e){return e.packageId!==t}));z(n)},heading:n.heading,cartTotalLabel:n.cartTotalLabel,salesTaxLabel:n.salesTaxLabel,checkoutCtaLabel:n.checkoutCtaLabel,checkoutCtaHref:"".concat(n.checkoutCtaHref,"?").concat(D.getCookieAsParams()),continueShoppingCtaLabel:n.continueShoppingCtaLabel,continueShoppingCtaHref:n.continueShoppingCtaHref,perMonthlyLabel:n.perMonth,perAnnualLabel:n.perAnnual,perMonthlyAria:n.perMonthFull,perAnnualAria:n.perAnnualFull,monthlyTotal:W,annualTotal:Z,loggedIn:re,loggedInCtaLabel:n.loggedInCtaLabel,loggedInCtaHref:n.loggedInCtaHref,tracking:P,signupLabel:n.signupLabel,removePlan:n.removePlan,setFocusToCartClose:me,forwardedRef:c})))};t.default=function e(t){Object(a.a)(this,e),Promise.all([n.e(0),n.e(1)]).then(n.bind(null,237)).then((function(e){var n=e.default,a=n.ErrorBoundary,c=n.React,o=n.ReactDOM,i=Object(r.a)("shopping-cart-page-data");o.render(c.createElement(a,null,c.createElement(D,{pageData:i})),t)}))}}}]);