(self.webpackChunk=self.webpackChunk||[]).push([[179],{75401:(e,t,s)=>{"use strict";s.d(t,{c:()=>h});var n=s(16842),i=s.n(n),r=s(32735),a=s(86316),o=s(39194),l=s(1816);const c=["enableCustomSharing","enableEvernote","enableInstapaper","enablePocket","enableOneNote","enableTwitter","enableFacebook","enableLinkedIn","enableBuffer","enableEmail","enableBlogger","enableHootsuite","enableWordPress","enableSave"],d=i()({displayName:"EntryControlComponent",UNSAFE_componentWillMount:function(){this.setupEntry(this.props.entryId)},componentDidMount:function(){this.inlinedEntryControl.setPart(this.refs.inlineFrameElem),this.inlinedEntryControl.display(),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this)},UNSAFE_componentWillReceiveProps:function(e){e.entryId!=this.props.entryId?(this.cleanupEntry(),this.setupEntry(e.entryId),this.inlinedEntryControl.setPart(this.refs.inlineFrameElem),this.inlinedEntryControl.display()):e.isCurrent!=this.props.isCurrent&&(e.isCurrent?this.inlinedEntryControl.startReadTime():this.inlinedEntryControl.endReadTime())},componentWillUnmount:function(){this.cleanupEntry(),this.preferences.unregisterObserver(this),this.preferences=null},setupEntry:function(e){this.inlinedEntryControl=new a.c,this.inlinedEntryControl.setHome(streets),this.inlinedEntryControl.setPreferences(streets.service("preferences")),this.inlinedEntryControl.setReader(streets.service("reader")),this.inlinedEntryControl.setSigns(streets.service("signs")),this.inlinedEntryControl.setFeedly(streets.service("feedly")),this.inlinedEntryControl.setAnalytics(streets.service("analytics")),this.inlinedEntryControl.setDots(streets.service("dots")),this.inlinedEntryControl.setLeo(streets.service("leo")),this.inlinedEntryControl.setMicrosessions(streets.service("microsessions")),this.inlinedEntryControl.setEntryId(e)},cleanupEntry:function(){this.inlinedEntryControl.destroy()},onPreferenceChanged:function(e){c.indexOf(e)>-1&&(this.cleanupEntry(),this.setupEntry(this.props.entryId),this.inlinedEntryControl.setPart(this.refs.inlineFrameElem),this.inlinedEntryControl.display())},render:function(){return r.createElement("div",{className:"slideEntryContent",ref:"inlineFrameElem"})}}),h=i()({displayName:"EntryHolder",UNSAFE_componentWillMount:function(){this.feedly=streets.service("feedly"),this.navigo=streets.service("navigo")},componentDidMount:function(){this.props.navigatable&&this.checkNavigoBumpers()},UNSAFE_componentWillReceiveProps:function(e){e.navigatable&&this.checkNavigoBumpers()},componentWillUnmount:function(){this.feedly=null,this.navigo=null},checkNavigoBumpers:function(){this.setState({allowRight:!!this.navigo.lookupNextEntry(!1),allowLeft:!!this.navigo.lookupPreviousEntry(!1),left:null,right:null})},getInitialState:function(){return{}},render:function(){let e,t;return this.props.navigatable&&(this.state.allowLeft&&(e=r.createElement("div",{onClick:()=>{streets.service("readingManager").onPreviousEntry()},className:"slideBumper slideBumper-left"},r.createElement("div",null,r.createElement(o.Z,null)))),this.state.allowRight&&(t=r.createElement("div",{onClick:()=>{streets.service("readingManager").onNextEntry()},className:"slideBumper slideBumper-right"},r.createElement("div",null,r.createElement(l.Z,null))))),r.createElement("div",{className:"floatingEntryContentSlide sliderWidth"},r.createElement("div",{className:"bumperHolder sliderContainer sliderPad left"},r.createElement("div",{style:{position:"relative"}},e)),r.createElement("div",{className:"bumperHolder sliderContainer sliderPad right"},r.createElement("div",{style:{position:"relative"}},t)),r.createElement(d,{isCurrent:this.props.isCurrent,entryId:this.props.entryId}))}})},37679:(e,t,s)=>{"use strict";s.d(t,{W:()=>G,q:()=>V});var n=s(40841),i=s.n(n),r=s(16842),a=s.n(r),o=s(32735),l=s(24896),c=s(47264),d=s(91891),h=s(63402),u=s(80147),p=s(97418),m=s(71262);const g=(0,m.Z)((function(e){return o.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M11.33 2.5c1.575 0 1.793 1.301 2.234 1.427.293.084 1.263.226 2.908.426 1.938.313 2.975 1.282 3.112 2.906.205 2.437.537 7.041.371 8.504-.166 1.462-1.272 5.737-4.797 5.737-3.525 0-3.13-3.273-2.566-3.974.563-.702 1.151-1.103 2.173-.96 0 0 .488.068.488.617 0 .549-.489.697-.64.76-.153.065-1.081.282-.64 1.248.293.643.926.77 1.899.383.69-.345 1.079-.927 1.165-1.745.128-1.228-1.054-2.09-1.849-2.336-.795-.245-3.024-.587-3.024-1.734 0 0-.285 2.584-2.634 2.584-2.35 0-5.447-1.87-5.447-5.233 0 0-.24-1.395.097-2.425.338-1.03 1.924-2.744 2.72-3.57.797-.825 2.663-1.963 2.663-1.963.129-.435.718-.652 1.768-.652zm5.46 7.988c-.566 0-1.055.31-1.055.73a.52.52 0 00.018.137c.039.141.19.245.369.26l.229.001c.12.001.233.006.32.014.074.007.157.026.241.054a1.2 1.2 0 01.144.057c.171.085.396.065.536-.05.16-.129.252-.295.252-.474 0-.42-.49-.729-1.055-.729z",fill:"currentColor",fillRule:"evenodd"}))}));const f=(0,m.Z)((function(e){return o.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M13.308 4.48a2.5 2.5 0 01.044.327l.005.166V19.08a2.5 2.5 0 01-2.843 2.476l-.17-.03-5.429-1.138a2.5 2.5 0 01-1.98-2.279l-.006-.168V6.066A2.5 2.5 0 014.77 3.654l.164-.039 5.429-1.093a2.5 2.5 0 012.944 1.957zm6.063.163c1.351 0 2.465 1.01 2.552 2.297l.006.162v9.796c0 1.31-1.06 2.371-2.39 2.454l-.168.005h-3.576v-3.34l2.272.002.09-.008a.5.5 0 000-.984l-.09-.008-2.272-.001V12.59h2.272l.09-.008a.5.5 0 000-.984l-.09-.008h-2.272V9.16l2.272.002.09-.008a.5.5 0 000-.984l-.09-.008-2.272-.001V4.643h3.576zM10.313 8.62l-.09.008a.5.5 0 00-.402.402l-.008.09v4.045l-3.414-4.08-.063-.064a.501.501 0 00-.814.3l-.006.085v5.138l.008.09a.5.5 0 00.402.402l.09.008.09-.008a.5.5 0 00.402-.402l.008-.09v-3.762l3.414 4.083.063.064c.291.247.753.078.814-.3l.006-.085V9.121l-.008-.09a.5.5 0 00-.492-.41z",fill:"currentColor",fillRule:"nonzero"}))}));const y=(0,m.Z)((function(e){return o.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M18.857 3.786c1.223 0 2.214.991 2.214 2.214v5.143a9.071 9.071 0 01-18.142 0V6c0-1.223.99-2.214 2.214-2.214zM8.856 9.874a.5.5 0 00-.638.765l3.428 3.429.07.058a.5.5 0 00.638-.058l3.428-3.429.058-.069a.5.5 0 00-.058-.638l-.07-.058a.5.5 0 00-.637.058L12 13.007 8.925 9.932z",fill:"currentColor",fillRule:"nonzero"}))}));const v=(0,m.Z)((function(e){return o.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("g",{fill:"currentColor",fillRule:"nonzero"},o.createElement("path",{d:"M12 10.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zm0 1a.357.357 0 110 .714.357.357 0 010-.714zM18 10.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zm0 1a.357.357 0 110 .714.357.357 0 010-.714zM6 10.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zm0 1a.357.357 0 110 .714.357.357 0 010-.714z"})))}));const b=(0,m.Z)((function(e){return o.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("g",{fill:"currentColor",fillRule:"nonzero"},o.createElement("path",{d:"M12.846 10.446a.5.5 0 01.708 0c1.851 1.852 1.907 4.704.168 6.617l-.168.176-2.4 2.4c-1.91 1.91-4.884 1.91-6.793 0-1.852-1.851-1.908-4.704-.162-6.623l.169-.177 2.143-2.057a.5.5 0 01.752.653l-.06.069-2.135 2.05c-1.52 1.519-1.52 3.86 0 5.378 1.466 1.467 3.699 1.517 5.218.152l.16-.152 2.4-2.4c1.52-1.519 1.52-3.86 0-5.378a.5.5 0 010-.708z"}),o.createElement("path",{d:"M12.846 4.36c1.91-1.909 4.884-1.909 6.793 0 1.852 1.852 1.908 4.705.162 6.624l-.169.177-2.143 2.057a.5.5 0 01-.752-.653l.06-.069 2.135-2.05c1.52-1.519 1.52-3.86 0-5.378-1.466-1.467-3.699-1.517-5.218-.152l-.16.152-2.4 2.4c-1.52 1.519-1.52 3.86 0 5.378a.5.5 0 01-.708.708c-1.851-1.852-1.907-4.704-.168-6.617l.168-.176 2.4-2.4z"})))}));var E=s(68130),C=s(76730),w=s(45146),k=s(9722),_=s(44970),M=s(907),S=s(79987),T=s(13931),I=s(51013),N=s(94197),P=s(69065),L=s(61142),x=s(35307),D=s(36728),O=s(75200),A=s(57855),z=s(15454),R=s(24916),F=s(91809),j=s(60216),U=s.n(j);const B=a()({displayName:"MenuBarExpand",propTypes:{visible:U().bool.isRequired,headerRef:U().any,onHide:U().func.isRequired,children:U().node,scroller:U().instanceOf(HTMLElement)},checkHeight:function(e,t){if(!e||!t)return"auto";var s=e.getBoundingClientRect();return window.innerHeight-s.top-s.height-20+"px"},UNSAFE_componentWillReceiveProps:function(e){this.setState({expandedHeight:this.checkHeight(e.headerRef,e.visible)}),!navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)&&this.props.scroller&&(this.props.scroller.style.overflow=e.visible?"hidden":"auto")},render:function(){return this.props.visible?o.createElement("div",null,o.createElement("div",{className:"headerInfo-overlay",onClick:this.props.onHide}),o.createElement("div",{className:"headerInfo-expanded"},o.createElement("div",{className:"headerInfo-arrow"}),o.createElement("div",{className:"headerInfo-expanded-scroller",style:{maxHeight:this.state.expandedHeight}},this.props.children))):o.createElement("span",{style:{display:"none"}})}});var H=s(88182);const Y="headerInfo__more-button",Z={save:{name:"save",type:"save",requiresLogin:!0,icon:E.Z,savedIcon:C.Z,title:"Read Later",showPopup:function(e,t){streets.service("readingManager").askQuickListEntry(t.id)}},tag:{dot:o.createElement(d.o,{id:"save-to-knowledge-board"}),reactElement:u.D,requiresLogin:!0,name:"tag",type:"save"},addToDataset:{reactElement:H.Z,requiresLogin:!0,name:"addToDataset",type:"save"},lessLikeThis:{reactElement:h.At,requiresLogin:!0,name:"lessLikeThis",type:"save"},redef:{icon:w.Z,name:"redef",type:"share"},buffer:{icon:k.Z,name:"buffer",type:"share",showPopup:function(e,t,s,n){streets.service("buffer").askShareEntry(t.id),n.setEntryAsShared(t.id)},title:"Share to Buffer"},customSharing:{DD:550,AA:750,requiresPro:!0,proAnalytics:"sharing.button.custom-sharing",popupUrl:function(e,t,s,n){return 0!=n.indexOf("http:")&&0!=n.indexOf("https:")?(streets.service("signs").showMessage("Invalid custom sharing"),null):n.replace(/\${id}/g,encodeURIComponent(t.id)).replace(/\${url}/g,encodeURIComponent(e)).replace(/\${source}/g,encodeURIComponent(t.getCleanSourceTitle())).replace(/\${title}/g,encodeURIComponent(t.getCleanTitle()))},title:"Custom sharing",type:"share",name:"customSharing",icon:_.Z},evernote:{decoration:p.I.evernote,name:"evernote",showPopup:function(e,t,s,n){if((0,A.MF)(e.target,"headerInfo-expanded")){const n=(0,A.cE)(e.target,"headerInfo").querySelector(".headerInfo__more-button");s.askPickNotebook(t.id,n,{align:"end"})}else s.askPickNotebook(t.id,e.target);n.setEntryAsShared(t.id)},type:"save",icon:M.Z,savedIcon:g,title:"Save to Evernote"},email:{name:"email",showPopup:function(e,t,s,n){n.setEntryAsShared(t.id);var i=t.body?encodeURIComponent(t.body+"\n"+t.getAlternateLink()):encodeURIComponent(t.getCleanTitle()+"\n"+t.getAlternateLink()+"\n\n -- via my feedly newsfeed"),r="?subject="+encodeURIComponent(t.getCleanTitle()+" [feedly]")+"&body="+i;window.open("mailto:"+r,"_blank")},icon:S.Z,title:"Share via email",type:"share"},gmail:{DD:700,AA:500,name:"gmail",popupUrl:function(e,t){var s=t.body?encodeURIComponent(t.body+"\n"+t.getAlternateLink()):encodeURIComponent(t.getCleanTitle()+"\n"+t.getAlternateLink()+"\n\n -- via my feedly newsfeed");return"http://mail.google.com/mail/?view=cm&fs=1&tf=1&to=&su="+encodeURIComponent(t.getCleanTitle()+" [feedly]")+"&body=\n\n"+s},icon:S.Z,title:"Share via email",type:"share"},facebook:{DD:550,AA:450,popupUrl:function(e,t,s){return"http://www.facebook.com/share.php?src=bm&v=4&i=1289025326&t="+encodeURIComponent(t.getCleanTitle()+" "+s)+"&u="+encodeURIComponent(e)+"&_="+(new Date).getTime()},icon:T.Z,name:"facebook",title:"Share to Facebook",type:"share"},hootsuite:{DD:1e3,AA:600,icon:I.Z,requiresPro:!0,proAnalytics:"sharing.button.hootsuite",popupUrl:e=>`https://hootsuite.com/dashboard#/compose?messageText=${e}`,name:"hootsuite",title:"Share to Hootsuite",type:"share"},instapaper:{DD:550,AA:400,requiresPro:!0,proAnalytics:"sharing.button.instapaper",popupUrl:function(e,t){return"http://www.instapaper.com/edit?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t.getCleanTitle())+"&_="+(new Date).getTime()},type:"save",name:"instapaper",icon:N.Z,title:"Save to Instapaper"},linkedIn:{DD:550,AA:600,requiresPro:!0,proAnalytics:"sharing.button.linkedin",popupUrl:function(e,t,s){return`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`},name:"linkedin",icon:P.Z,title:"Share to LinkedIn",type:"share"},oneNote:{decoration:p.I.oneNote,showPopup:function(e,t,s,n){if((0,A.MF)(e.target,"headerInfo-expanded")){const n=(0,A.cE)(e.target,"headerInfo").querySelector(".headerInfo__more-button");s.askPickOneNoteSection(t.id,n,{align:"end"})}else s.askPickOneNoteSection(t.id,e.target);n.setEntryAsShared(t.id)},title:"Save to OneNote",type:"save",icon:L.Z,savedIcon:f,name:"oneNote"},pocket:{decoration:p.I.pocket,DD:550,AA:320,popupUrl:function(e,t){return"https://getpocket.com/save?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t.getCleanTitle())+"&_="+(new Date).getTime()+"&__popup=true"},showPopup:function(e,t,s,n){s.askAddToPocket(t.id,e),n.setEntryAsShared(t.id)},type:"save",name:"pocket",icon:x.Z,savedIcon:y,title:"Save to Pocket"},twitter:{DD:550,AA:286,popupUrl:function(e,t,s){null==t.getCleanTitle&&(t=null);var n=null!=t?t.getDefaultTagOrCategory():null,i=null!=t?t.getCleanTitle():"",r=[];return s&&(i+=" "+s),null!=t&&"no"!=streets.service("preferences").getPreference("twitterHashtags")&&(null!=n&&r.push(encodeURIComponent(n.slice(1))),r.push("feedly")),"http://twitter.com/share?related=feedly&text="+encodeURIComponent(i)+"&url="+encodeURIComponent(e)+"&_="+(new Date).getTime()+"&hashtags="+r.join(",")},name:"tweet",icon:D.Z,title:"Share to Twitter",type:"share"},wordPress:{DD:800,AA:600,icon:O.Z,requiresPro:!0,proAnalytics:"sharing.button.wordpress",popupUrl:function(e,t){let s=streets.service("preferences").getPreference("wordpressUrlPrefix");if(!s)return streets.service("signs").showMessage("Configure Wordpress URL in preferences"),null;if(0!==s.indexOf("http:")&&0!==s.indexOf("https:"))return streets.service("signs").showMessage("Wordpress URL should start with http or https"),null;let n=s;n.indexOf("wp-admin/press-this.php")>-1?n.endsWith("?")||(n+="?"):(n.endsWith("/")||(n+="/"),n+="wp-admin/press-this.php?"),n+="u="+encodeURIComponent(e),n+="&t="+encodeURIComponent(t.getCleanTitle());let i=t.getExcerpt();i&&(n+="&s="+encodeURIComponent(i));let r=t.suggestVisual();return r&&(n+="&i="+encodeURIComponent(r)),n},name:"wordPress",title:"Share to WordPress",type:"share"}},W=function(e){return o.createElement(c.zx,{key:"overflow",className:i()("headerInfo__button m-r-0",Y),icon:o.createElement(v,{importance:"secondary"}),importance:"tertiary",onClick:e})};var $={copyLinkToClipboard:async function(){const e=streets.service("signs"),t=streets.service("reader").lookupEntry(this.props.entryId);if(t){const e=t.getCleanAlternateLink();await(0,F.v)(e)}else e.showMessage("Story URL not found")},windowPopup:function(e,t,s){let n=screen.height,i=screen.width,r=Math.round(i/2-s/2),a=0;n>t&&(a=Math.round(n/2-t/2));const o=window.open(e,"_blank","left="+r+",top="+a+",width="+s+",height="+t+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");if(null==o)return(0,z.d)();o.focus()},handleShare:function(e,t,s){"save"!==s&&"tag"!==s&&streets.service("checklist").askMarkTaskAsComplete("share");const n=Z[s],i=streets.service("preferences").getPreference("customSharing"),r=streets.service("preferences").getPreference("twitterPostfix")||"";if("redef"!==s)if(null===streets.getUserId()&&n.requiresLogin)askSignupFeedly();else if("customSharing"!=s||null==i||""==i||0==i.indexOf("http"))if(n.decoration&&t&&null!=t.getDecoration(n.decoration)){const e=t.getDecoration(n.decoration);0==e.indexOf("http")&&window.open(e)}else{if(n.requiresPro&&!streets.hasProAccess())return streets.service("sliderService").closeAll(),void streets.service("feedly").loadPage("pro/"+n.proAnalytics);if(e.target=e.currentTarget,!n.popupUrl||streets.hasProAccess()&&n.showPopup)n.showPopup(e,t,streets.service("feedly"),this.microsessions);else{if("customSharing"==n.name&&(null==i||""==i))return void streets.service("feedly").loadPage("account/saving-sharing");let e=n.popupUrl(t.getAlternateLink(),t,r,i);e&&(this.windowPopup(e,n.AA,n.DD),streets.service("analytics").trackEvent("sharing",n.name),this.microsessions.setEntryAsShared(t.getId()))}"tag"!=s&&this.hideExpanded()}else streets.service("signs").showMessage("Invalid custom share URL");else(0,R.x)(t)},shareButton:function(e,t,s){if(t&&e.reactElement)return o.createElement(e.reactElement,{className:"headerInfo__button",entry:t,isInSharebar:!0,key:e.name},t.metadata.tutorial?null:e.dot);let n;if(t&&e.decoration&&null!=t.getDecoration(e.decoration)||"save"===e.name&&this.state.saved){const t=e.savedIcon;n=o.createElement(t,{color:"accent"})}else{const t=e.icon;n=o.createElement(t,{importance:"secondary"})}return o.createElement(c.zx,{key:e.name,className:"headerInfo__button",icon:n,importance:"tertiary",onClick:s,title:e.title})},shareIcon:function(e,t,s){if(t&&e.decoration&&null!=t.getDecoration(e.decoration)){const t=e.savedIcon;return o.createElement(t,{key:e.name,className:"headerInfo-expanded-img headerInfo-expanded-img--saved",color:"accent",onClick:s,title:e.title})}if("save"===e.name&&this.state.saved)return o.createElement(C.Z,{key:e.name,className:"headerInfo-expanded-img headerInfo-expanded-img--saved",color:"accent",onClick:s,title:"Read Later"});const n=e.icon;return o.createElement(n,{key:e.name,className:"headerInfo-expanded-img",onClick:s,title:e.title})}},q={};Object.assign(q,$,{UNSAFE_componentWillMount:function(){this.signs=streets.service("signs"),this.reader=streets.service("reader"),this.preferences=streets.service("preferences"),this.microsessions=streets.service("microsessions"),this.feedly=streets.service("feedly"),this.entry=this.props.entry||this.reader.lookupEntry(this.props.entryId),this.entry||this.reader.askLookupEntry(this.props.entryId).then((e=>{this.entry=e,this.entry&&this.recomputeState()})),this.options={maxExposed:this.maxExposed||5},this.recomputeState({expandedVisible:!1})},componentDidMount:function(){this.reader.registerObserver(this),this.preferences.registerObserver(this)},componentWillUnmount:function(){this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.signs=null,this.reader=null,this.preferences=null,this.microsessions=null},onEntryQuicklistStatusChanged:function(e,t){this.entry&&this.entry.getId()===e&&this.recomputeState()},onDecorationChanged:function(e,t){this.entry&&this.entry.getId()==e&&this.recomputeState()},onEntryTagged:function(e,t){this.entry&&this.entry.getId()==e&&this.recomputeState()},onEntryUntagged:function(e){this.entry&&this.entry.getId()==e&&this.recomputeState()},isEnabled:function(e){if("tag"===e||"lessLikeThis"===e||"addToDataset"===e)return!0;if("gmail"===e&&(e="email"),"redef"===e)return"REDEF"===this.preferences.getPreference("customizationKey");var t="enable"+(e.charAt(0).toUpperCase()+e.slice(1));return"yes"===this.preferences.getPreference(t)||!0===this.preferences.getPreference(t)},notEnabled:function(e){return!this.isEnabled(e)},chooseEmail:function(e){var t=this.preferences.getPreference("emailClient");return!("email"===e&&"gmail"===t||"gmail"===e&&"native"===t)},topicModelerFilter:function(e){return"addToDataset"!==e||"feedly"===streets.getEnterpriseId()},recomputeState:function(e){const t=Object.keys(Z).filter(this.chooseEmail).filter(this.topicModelerFilter);let s=t.filter(this.isEnabled),n=t.filter(this.notEnabled);const i=this.options.maxExposed-("feedly"===streets.getEnterpriseId()?2:0);s.length>i&&(n=n.concat(s.slice(i)),s=s.slice(0,i));const r=e||{};r.exposed=s,r.hidden=n,this.entry&&(r.saved=this.entry.isQuicklisted(),r.tags=this.entry.listTagLabels()||[]),this.setState(r)},toggleExpanded:function(){this.setState({expandedVisible:!this.state.expandedVisible})},hideExpanded:function(){this.setState({expandedVisible:!1})},expandedItems:function(e){const t=[];return this.state.hidden.forEach((function(s){const n=Z[s];("redef"!==s||this.preferences.hasCustomization("REDEF"))&&t.push(o.createElement("section",{key:s,className:i()("headerInfo-expanded__section",{fx:"buffer"===s}),onClick:t=>this.handleShare(t,e,s)},this.shareIcon(n,e),"customSharing"===s?"Custom Sharing":s))}),this),t.push(o.createElement("section",{key:"personalizeLink",className:"headerInfo-expanded__section headerInfo-expanded-footer",onClick:()=>{this.feedly.slideForm(l.Sr)}},"Personalize")),t},copyIcon(){return o.createElement(c.zx,{key:"copy",className:"headerInfo__button",icon:o.createElement(b,{importance:"secondary"}),importance:"tertiary",onClick:this.copyLinkToClipboard,title:"Copy link to clipboard"})}});var V=a()({displayName:"ShareBarArticle",mixins:[q],maxExposed:12,render:function(){var e=streets.service("reader").lookupEntry(this.props.entryId),t=[],s=[];return 1===this.state.exposed.length?null:(this.state.exposed.forEach((function(n){("save"==Z[n].type?t:s).push(this.shareButton(Z[n],e,(t=>{this.handleShare(t,e,n)})))}),this),this.state.hidden.length>0&&s.push(W(this.toggleExpanded)),o.createElement("div",{ref:"header",className:"headerInfo headerInfo-article",style:{position:"relative"}},o.createElement("div",{key:"links-left",className:"headerInfo__actions headerInfo__actions--left headerInfo__actions--inline"},t,this.copyIcon()),o.createElement("div",{key:"links-right",className:"headerInfo__actions headerInfo__actions--right headerInfo__actions--inline"},s),o.createElement(B,{visible:this.state.expandedVisible,headerRef:this.refs.header,onHide:this.hideExpanded,scroller:document.getElementsByClassName("floatingEntryScroller")[0]},this.expandedItems(e))))}}),G=a()({displayName:"ShareBar",mixins:[q],maxExposed:12,componentDidMount:function(){streets.service("reader").askLookupEntry(this.props.entryId).then((e=>{this.setState({entry:e})}))},componentDidUpdate:function(e){e.entryId!==this.props.entryId&&this.setState({entry:streets.service("reader").lookupEntry(this.props.entryId)})},getInitialState:function(){return{entry:null}},render:function(){const{entry:e,exposed:t,hidden:s,tags:n}=this.state;if(!e||0===t.length&&0===n.length)return o.createElement("div",null);const{exposedLeft:i,exposedRight:r}=t.reduce(((t,s)=>{const n=Z[s];return("save"==n.type?t.exposedLeft:t.exposedRight).push(this.shareButton(n,e,(t=>{this.handleShare(t,e,s)}))),t}),{exposedLeft:[],exposedRight:[]});return s.length>0&&r.push(W(this.toggleExpanded)),o.createElement("div",{ref:"header","aria-label":"Article toolbar",className:"headerInfo sliderContainer"},o.createElement("div",{className:"sliderWidth sliderCenter"},o.createElement("div",{className:"fx headerInfo__actions headerInfo__actions--left"},i,this.copyIcon()),o.createElement("div",{className:"fx headerInfo__actions headerInfo__actions--right"},r),o.createElement(B,{visible:this.state.expandedVisible,headerRef:this.refs.header,onHide:this.hideExpanded,scroller:document.getElementsByClassName("floatingEntryScroller")[0]},this.expandedItems(e))))}})},24896:(e,t,s)=>{"use strict";s.d(t,{X7:()=>o,XM:()=>M,YG:()=>L,lD:()=>x,FU:()=>O,n4:()=>R,uX:()=>F,Zx:()=>V,fp:()=>G,mj:()=>X,uO:()=>ee,Ko:()=>ne,K4:()=>re,uu:()=>ae,dn:()=>ce,Yv:()=>de,de:()=>ue,Sr:()=>me,iK:()=>ge});var n=s(32735),i=s(60216),r=s.n(i),a=s(40280);class o extends n.Component{constructor(e){super(e),this.state={preferences:[],values:{}}}componentDidMount(){this.signs=streets.service("signs"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updatePreferences()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null,this.signs=null}onPreferenceChanged(e){const{preferences:t}=this.state;t.find((t=>t.key===e))&&(this._updatePreferences(),this.signs.showMessage("Preference changed"))}render(){const{preferences:e}=this.state,{onDone:t}=this.props;return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"Appearance"),e.map((e=>n.createElement(ue,{key:e.key,onDone:t,preference:e,value:this.state.values[e.key]})))))}_updatePreferences(){const e=this.preferences.getSection("reading experience");this.setState(e)}}o.propTypes={onDone:r().func.isRequired};var l=s(86130),c=s(3015),d=s(3171),h=s(21120),u=s(8199),p=s(80889),m=s(38084),g=s(44022),f=s(55024),y=s(47264),v=s(34039),b=s(90183),E=s(71906),C=s(22236),w=s(6931),k=s(22735),_=s(95192);class M extends n.Component{constructor(e){super(e),this.componentDidMount=async()=>{this.profile=streets.service("profile"),this.signs=streets.service("signs"),this.profile.registerObserver(this),this._updateInvoices(),this._updateProductInfo()},this._cancelSubscription=()=>{const{userInfo:{subscriptionPaymentProvider:e}}=this.state;if((0,p.RV)(e))this.profile.askCancelStripeSubscription().then((()=>{this.signs.showMessage(`${this._getPlanLabel()} subscription canceled`),this.setState({isCancelButtonLoading:!1,isCancelSubscriptionModalOpen:!1})})).catch((e=>{this.setState({cancellationError:`Something went wrong during cancellation. Please contact\n          pro@feedly.com: ${e.debugMessage||e.message}`,isCancelButtonLoading:!1,isCancelSubscriptionModalOpen:!1}),this.signs.showError("Failed to cancel subscription")}));else if(e===u.RI.paypal){const{feedlyToken:e}=l.Z.utils.SessionUtils.load();window.location.href=`${window.BACKEND}/v3/payment/paypal?action=unsubscribe&feedlyToken=${encodeURIComponent(e)}`}else this.signs.showMessage("Invalid payment processor")},this._closeCancelSubscriptionModal=()=>{this.setState({isCancelSubscriptionModalOpen:!1})},this._closeCardInfoModal=()=>{this.setState({isCardInfoModalOpen:!1})},this._onChangeBillingAddress=e=>{this.setState({billingAddress:e})},this._onChangeTaxId=e=>{this.setState({taxId:e})},this._onSaveAddress=async()=>{const{billingAddress:e,taxId:t}=this.state;try{await this.profile.askUpdateUserInfo({billingAddress:e,taxId:t}),this.signs.showMessage("Address updated")}catch(s){this.signs.showError(s)}},this._onShowMoreInvoicesClick=()=>{this.setState({showAllInvoices:!0})},this._onDeleteCardInfo=async()=>{try{await this.profile.askDeleteCardInfo(),this.signs.showMessage("Card info deleted")}catch(e){this.signs.showError("Failed to delete card info")}},this._onUpdateCardInfo=async e=>{this.setState({isStripePaymentLoading:!0});try{await this.profile.askUpdateCardInfo(e),this.setState({isCardInfoModalOpen:!1,isStripePaymentLoading:!1}),this.signs.showMessage("Card info updated")}catch({declineCode:t,errorMessage:s}){let e;"do_not_honor"===t?e="Payment declined. Please contact your bank to whitelist Feedly Inc.":(e=s,this.signs.showError(s)),this.setState({isStripePaymentLoading:!1,updateError:e})}},this._openCancelSubscriptionModal=()=>{this.setState({isCancelSubscriptionModalOpen:!0})},this._openCardInfoModal=()=>{this.setState({isCardInfoModalOpen:!0})},this._showRefund=()=>{const{isRefundable:e,userInfo:{subscriptionPaymentProvider:t,upgradeDate:s}}=this.state,{refundFlag:n}=this.props,i=Date.now()-s<7*c.HA.day;return e&&(0,p.RV)(t)&&(!i||n)},this.feedly=streets.service("feedly");const t=streets.service("profile").getUserInfo();this.state={billingAddress:t.billingAddress||"",cancellationError:"",invoices:null,isCancelButtonLoading:!1,isCancelSubscriptionModalOpen:!1,isCardInfoModalOpen:!1,isLoadingProductInfo:!0,isProductButtonLoading:!1,isRefundable:!1,isStripePaymentLoading:!1,nextChargeAmount:null,nextChargeDate:null,paymentPlanError:"",showAllInvoices:!1,taxId:t.taxId||"",updateError:"",userInfo:t}}componentWillUnmount(){this.profile.unregisterObserver(this),this.feedly=null,this.profile=null,this.signs=null}onProfileChanged(){const e=this.profile.getUserInfo();this.setState({userInfo:e})}render(){const{isCardInfoModalOpen:e,isStripePaymentLoading:t,updateError:s,userInfo:{product:i,subscriptionPaymentProvider:r,subscriptionStatus:o}}=this.state,l=(0,p._Y)(i)||(0,p.sL)(i);if(streets.hasBusinessAccess())return n.createElement("div",{className:"fx"},n.createElement("div",{className:"AccountBilling container630"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"Billing"),n.createElement("section",{className:"AccountBilling__section"},n.createElement(a.H3,{appearance:"h2",className:"AccountBilling__section-heading"},"Status"),n.createElement("div",{className:"AccountBilling__subscription-status"},"Centralized"," ",streets.isEnterprisePlan()?"Enterprise":"Business"," Billing"),streets.isUserAdmin()?n.createElement("p",null,"Billing is managed by"," ",n.createElement(v.rU,{uri:"team/billing"},"your"," ",streets.isEnterprisePlan()?"Enterprise":"Business"," ","subscription")):n.createElement("p",null,"Billing is managed by your team admins"))));if(!streets.hasProAccess()&&!l)return n.createElement("div",{className:"fx"},n.createElement("div",{className:"AccountBilling container630"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"Billing"),n.createElement("section",{className:"AccountBilling__section"},n.createElement(a.H3,{appearance:"h2",className:"AccountBilling__section-heading"},"Status"),n.createElement("div",{className:"AccountBilling__subscription-status"},"Free"),n.createElement("p",null,"You are using the free version of Feedly. To enjoy Feedly's premium features, please ",n.createElement(v.rU,{uri:"pro/billing"},"upgrade"),".")),this._renderInvoices()));if((r===u.RI.apple||r===u.RI.android)&&o!==u.Ch.unpaid){const e=r===u.RI.apple;return n.createElement("div",{className:"fx"},n.createElement("div",{className:"AccountBilling container630"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"Billing"),n.createElement("section",{className:"AccountBilling__section"},n.createElement(a.H3,{appearance:"h2",className:"AccountBilling__section-heading"},"Status"),n.createElement("div",{className:"AccountBilling__subscription-status"},"Mobile Subscription"),n.createElement("p",null,"You have subscribed to Feedly Pro via"," ",e?"the iOS App Store":"Google Play",". Please visit this service to manage your subscription (",n.createElement(v.rU,{href:e?"https://support.apple.com/en-us/HT202039":"https://support.google.com/googleplay/answer/7018481",newWindow:!0,title:"How to cancel mobile subscription"},"show me how"),").")),this._renderSupportLink()))}return n.createElement("div",{className:"fx"},n.createElement("div",{className:"AccountBilling AccountBilling--with-columns"},n.createElement("div",{className:"AccountBilling__main-column"},n.createElement("div",{className:"container630"},n.createElement(a.H2,{appearance:"h1",className:"m-b-1",kicker:"Manage account"},"Billing"),n.createElement("section",{className:"AccountBilling__section"},this._renderStatus()),this._renderPaymentPlan(),this._renderCardInfo(),this._renderInvoices(),this._renderInvoiceInformation(),this._renderCancelSubscription())),n.createElement("div",{className:"AccountBilling__support-column"},n.createElement("div",{className:"AccountBilling__support-link"},this._renderSupportLink())),this._renderCancelSubscriptionModal(),e&&n.createElement(f.Ed,{buttonLabel:this._willChargeImmediately()?"Submit":"Confirm Changes",description:this._getCardInfoDescription(),isStripePaymentLoading:t,onClose:this._closeCardInfoModal,onUpdateCardInfo:this._onUpdateCardInfo,updateError:s})))}_renderPaymentPlan(){const{isProductButtonLoading:e,paymentPlanError:t,userInfo:s}=this.state,{product:i,subscriptionPaymentProvider:r,subscriptionStatus:o}=s;return o===u.Ch.canceled||o===u.Ch.unpaid||o===u.Ch.trial||!(0,p.RV)(r)||i!==u.Sy.StandardMonthly&&i!==u.Sy.PlusMonthly||-1===i.toLowerCase().indexOf("monthly")?null:n.createElement("section",{className:"AccountBilling__section"},n.createElement(a.H3,{appearance:"h2",className:"AccountBilling__section-heading"},"Payment plan"),n.createElement("p",null,"Click below to switch to annual billing ($",u.Tx.ProStandardYearly," per year) and"," ",n.createElement("b",null,n.createElement(_.x,{color:"accent",size:"small",tagName:"span"},"save $12 per year")),"."),n.createElement("p",{className:"AccountBilling__error-message"},t),n.createElement(y.zx,{disabled:e,importance:"secondary",label:"Switch to annual now",loading:e,onClick:()=>{this._onPaymentPlanChange(i===u.Sy.PlusMonthly?u.Sy.PlusYearly:u.Sy.StandardYearly)}}))}_renderCardInfo(){const{userInfo:e}=this.state,{cardDetails:t,product:s,subscriptionPaymentProvider:i,subscriptionStatus:r}=e;return!(0,p.RV)(i)||!t&&(r===u.Ch.unpaid||(0,p.CM)(s)||(0,p.QT)(s))?null:n.createElement("section",{className:"AccountBilling__section"},n.createElement(a.H3,{appearance:"h2",className:"AccountBilling__section-heading"},"Payment method"),t?n.createElement(m.u,Object.assign({showWarnings:!0},t)):n.createElement("p",{className:"m-y-0"},"No card on file"),r===u.Ch.pastDue&&n.createElement(g.u,{className:"AccountBilling__card-feedback"},t?"Your card was declined. Please try a different card or contact your bank.":"Please add a credit card to resume your subscription."),n.createElement("div",{className:"AccountBilling__card-actions"},r!==u.Ch.unpaid&&n.createElement(y.zx,{label:t?"Update Card":"Add Card",onClick:this._openCardInfoModal,importance:"secondary"}),!!t&&n.createElement(y.zx,{color:"danger-hover",importance:"secondary",label:"Delete Card",onClick:this._onDeleteCardInfo})))}_renderInvoiceInformation(){const{billingAddress:e,userInfo:t,taxId:s}=this.state;return n.createElement("section",{className:"AccountBilling__section"},n.createElement(a.H3,{appearance:"h2",className:"AccountBilling__section-heading"},"Invoice information"),n.createElement("div",{className:"AccountBilling__invoice-info m-b-1"},n.createElement("p",{className:"m-y-0"},"Invoices are being sent to"," ",n.createElement("span",{className:"AccountBilling__invoice-email"},t.email,".")),n.createElement(y.zx,{className:"m-l-1",importance:"secondary",label:"Edit Email",onClick:()=>{this.feedly.loadPage("account/profile")},size:"small"})),n.createElement("div",{className:"form profile m-b-2"},n.createElement("div",{className:"text-fields"},n.createElement("div",{className:"field"},n.createElement("label",{htmlFor:"accountBillingVATNumber"},"VAT Number"),n.createElement(w.oi,{id:"accountBillingVATNumber",placeholder:"US-123456789",value:s,onChange:this._onChangeTaxId})),n.createElement("div",{className:"field"},n.createElement("label",{htmlFor:"accountBillingAddress"},"Address"),n.createElement(k.K,{id:"accountBillingAddress",placeholder:"",rows:5,value:e,onChange:this._onChangeBillingAddress})),n.createElement(y.zx,{label:"Update information",importance:"secondary",onClick:this._onSaveAddress}))))}_renderInvoices(){const{invoices:e,showAllInvoices:t}=this.state;if(!e||0===e.length)return null;const s=t?e:e.slice(0,3);let i;if(!t&&e.length>3){const t=e.length-3;i=n.createElement(y.zx,{className:"full-width",importance:"secondary",label:`Show More (${t})`,onClick:this._onShowMoreInvoicesClick})}return n.createElement("section",{className:"AccountBilling__section"},n.createElement(a.H3,{appearance:"h2",className:"AccountBilling__section-heading"},"Invoice history"),n.createElement(E._$,{data:s,uniqueKey:"id"},n.createElement(E.hN,{header:"Date",cell:e=>n.createElement(E.EM,{date:new Date(e.timestamp),pattern:"MMM d, yyyy"})}),n.createElement(E.hN,{header:"Charge Amount",cell:e=>n.createElement(E.aH,null,(0,h.T)(e.invoiceAmountInCents/100,{currency:e.currency}))}),n.createElement(E.hN,{header:"Description",cell:e=>n.createElement(E.aH,null,e.productDescription)}),n.createElement(E.hN,{header:"Actions",cell:e=>n.createElement(E.aH,null,n.createElement(v.Qj,{className:"AccountBilling__preview-invoice",href:`${window.BACKEND}/v3/payment/invoices/${e.id}`,importance:"secondary",newWindow:!0,size:"small"},"Preview"))})),i)}_renderCancelSubscription(){const{cancellationError:e,userInfo:{productExpiration:t,subscriptionPaymentProvider:s,subscriptionStatus:i}}=this.state;if(i!==u.Ch.trial&&i!==u.Ch.active)return null;const r=(0,c.p6)(new Date(t),"MMM d, y"),o=this._showRefund();let l=n.createElement("p",null,"If you cancel your ",this._getPlanLabel()," subscription renewal, you won't be able to use ",this._getPlanLabel()," features after the subscription expires, which is scheduled to happen on ",r,".",o&&n.createElement("span",null," ","If you cancel and get a refund, you will be downgraded to a free account immediately afterwards."));return e&&(l=n.createElement("p",{className:"AccountBilling__error-message"},e)),(0,p.RV)(s)?n.createElement("section",{className:"AccountBilling__section"},n.createElement(a.H3,{appearance:"h2",className:"AccountBilling__section-heading"},"Cancel subscription"),l,o&&n.createElement(y.zx,{color:"danger-hover",label:"Cancel Renewal",onClick:this._openCancelSubscriptionModal,importance:"secondary"}),n.createElement(y.zx,{color:"danger-hover",label:o?"Cancel and Get Refund":"Cancel Subscription",onClick:()=>{this.feedly.slideForm(C.z2,{isRefundable:o})},importance:"secondary"})):n.createElement("section",{className:"AccountBilling__section"},n.createElement(a.H3,{appearance:"h2",className:"AccountBilling__section-heading"},"Cancel subscription"),l,n.createElement(y.zx,{color:"danger-hover",label:"Cancel Subscription",onClick:this._openCancelSubscriptionModal,importance:"secondary"}))}_renderCancelSubscriptionModal(){const{isCancelButtonLoading:e,isCancelSubscriptionModalOpen:t,userInfo:s}=this.state;if(!t)return null;const i=(0,c.p6)(new Date(s.productExpiration),"MMM d, y");return n.createElement(f.u_,{className:"form",onClose:this._closeCancelSubscriptionModal,small:!0},n.createElement(a.H2,{appearance:"h3"},"Cancel ",this._getPlanLabel()," subscription?"),n.createElement("p",null,"If you cancel your ",this._getPlanLabel()," subscription, you won't be able to use ",this._getPlanLabel()," features after the subscription expires, which is scheduled to happen on ",i,"."),n.createElement(y.zx,{color:"danger",disabled:e,label:"Cancel Subscription",loading:e,onClick:this._cancelSubscription}),n.createElement(y.zx,{label:"Cancel",onClick:this._closeCancelSubscriptionModal,importance:"secondary"}))}_renderStatus(){const{isLoadingProductInfo:e,nextChargeAmount:t,nextChargeDate:s,userInfo:{cardDetails:i,product:r,productExpiration:a,subscriptionPaymentProvider:o,subscriptionStatus:l}}=this.state;return n.createElement(L,{isCardPresent:!!i,isLoading:e,nextChargeAmount:t,nextChargeDate:s,openCardInfoModal:this._openCardInfoModal,product:r,productExpiration:a,subscriptionPaymentProvider:o,subscriptionStatus:l})}_renderSupportLink(){return n.createElement(b.n,{className:"m-y-0",proCtaLabel:"answer any questions",proMessage:"about your subscription"})}_getCardInfoDescription(){const{isLoadingProductInfo:e,nextChargeAmount:t,nextChargeDate:s}=this.state;return e?null:this._willChargeImmediately()?t?`After submitting, your card will immediately be charged ${(0,h.T)(t)}.`:"There was an error calculating the price. Please contact support@feedly.com.":`Changing your credit card will not result in an immediate charge.\n      Your next charge is scheduled for ${(0,c.p6)(new Date(s),"MMM d, y")}.`}_getPlanLabel(){return streets.isProPlusPlan()?"Pro+":"Pro"}_onPaymentPlanChange(e){this.setState({isProductButtonLoading:!0}),this.profile.askUpdateProduct(e).then((()=>{this.setState({isProductButtonLoading:!1}),this.signs.showMessage("Payment plan updated")})).catch((e=>{this.setState({isProductButtonLoading:!1,paymentPlanError:`There was a problem changing your payment plan. Please contact\n          pro@feedly.com: ${e.debugMessage||e.message}`})}))}_updateInvoices(){this.profile.askListInvoices().then((e=>{e.sort(((e,t)=>t.timestamp-e.timestamp)),this.setState({invoices:e})}))}async _updateProductInfo(){const e=await this.profile.askProProducts(),{currentProduct:t}=e;this.setState({isLoadingProductInfo:!1,isRefundable:t&&t.isRefundable,nextChargeAmount:(0,p.lE)(e),nextChargeDate:(0,p.B1)(e)})}_willChargeImmediately(){const{userInfo:{productExpiration:e,subscriptionStatus:t}}=this.state;return t===u.Ch.unpaid||t===u.Ch.pastDue||t===u.Ch.canceled&&(0,d.SE)(e)}}M.propTypes={refundFlag:r().bool},M.defaultProps={refundFlag:!1};var S=s(89919),T=s(23005),I=(s(86576),s(40841)),N=s.n(I);function P({children:e,className:t,color:s,icon:i}){return n.createElement("div",{className:N()("ChipBadge",t,{[`ChipBadge--${s}`]:!0})},!!i&&n.cloneElement(i,{className:"ChipBadge__icon"}),e)}P.propTypes={children:r().node,className:r().string,color:r().string,icon:r().element},P.defaultProps={children:null,className:null,color:"secondary",icon:null};class L extends n.Component{constructor(e){super(e),this.state={isReactivationModalOpen:!1}}render(){const{isReactivationModalOpen:e}=this.state,{isCardPresent:t,isLoading:s,openCardInfoModal:i,nextChargeAmount:r,nextChargeDate:a,product:o,productExpiration:l,subscriptionStatus:h}=this.props;let m,g,b,E;const C=(0,p.$l)(o),w=(0,p.sL)(o)?"Pro+":"Pro",k=(0,c.p6)(new Date(l),"MMM d, y"),_=(0,c.p6)(new Date(a),"MMM d, y");return h===u.Ch.pastDue?(m="danger",g="Past Due",b=t?"(Credit card declined)":"(No credit card)",E=n.createElement(n.Fragment,null,"Your ",w," (",C?"Monthly":"Annual",") subscription expired on ",n.createElement("strong",null,k)," and we were not able to charge your credit card. Update your credit card to keep using all"," ",w," features.",n.createElement("div",{className:"AccountBillingStatus__content-button"},n.createElement(y.zx,{label:"Update your credit card",onClick:i})))):h===u.Ch.unpaid?(m="danger",g="Expired",E=n.createElement(n.Fragment,null,"Your ",w," (",C?"Monthly":"Annual",") subscription expired on ",n.createElement("strong",null,k),".",n.createElement("br",null),"Resume your subscription to keep using all ",w," features.",this._renderRenewButton(w))):this._isCanceled()&&(C&&(0,d.SE)(a)||!C&&(0,d.kW)(a))?(m="warning",g="Expiring soon",E=n.createElement(n.Fragment,null,"Your current subscription is ",w," (",C?"Monthly":"Annual",").",n.createElement("br",null),"You have canceled your renewal and will no longer be able to access your ",w," features after ",n.createElement("strong",null,_),".",this._renderRenewButton(w))):this._isCanceled()&&(0,d.SE)(l)?(m="danger",g="Expired",E=n.createElement(n.Fragment,null,"You will no longer be able to access your ",w," features after"," ",n.createElement("strong",null,k),".",n.createElement("br",null),"Resume your subscription to keep using all ",w," features.",this._renderRenewButton(w))):this._isCanceled()?(m="warning",g="Renewal canceled",E=n.createElement(n.Fragment,null,"Your current subscription is ",w," (",C?"Monthly":"Annual",").",n.createElement("br",null),"You have canceled your renewal and will no longer be able to access your ",w," features after ",n.createElement("strong",null,_),".",this._renderRenewButton(w))):(0,p.CM)(o)||(0,p.QT)(o)?(m="accent",g=u.Ch.active,E=n.createElement(n.Fragment,null,"You are on a lifetime Feedly ",w," plan. You won't be charged unless you decide to ",n.createElement(v.rU,{uri:"pro"},"upgrade")," to",(0,p.CM)(o)?" Pro+ or":""," Enterprise.")):(m="accent",g=u.Ch.active,E=n.createElement(n.Fragment,null,"Your current subscription is ",w," (",C?"Monthly":"Annual",").",n.createElement("br",null),"Your next payment of ",n.createElement("strong",null,"$",r)," (",C?"monthly":"yearly",") occurs on"," ",n.createElement("strong",null,_),".")),n.createElement("div",{className:"AccountBillingStatus"},n.createElement("div",{className:"AccountBillingStatus__header"},n.createElement(P,{icon:n.createElement(S.Z,{className:"AccountBillingStatus__chip-icon"})},w),!s&&n.createElement(x,{color:m,label:g,info:b})),s?n.createElement(T.g,null):n.createElement("div",{className:"AccountBillingStatus__content"},E),e&&n.createElement(f.El,{onClose:()=>{this.setState({isReactivationModalOpen:!1})}}))}_renderRenewButton(e){return n.createElement("div",{className:"AccountBillingStatus__content-button"},n.createElement(y.zx,{label:`Renew ${e}`,onClick:()=>{this.setState({isReactivationModalOpen:!0})}}))}_hasExpired(e){return(new Date).getTime()-e>=0}_isCanceled(){const{subscriptionStatus:e}=this.props;return e===u.Ch.canceled||e===u.Ch.canceledTrial}}function x({className:e,color:t,info:s,label:i}){return n.createElement("div",{className:N()("AccountBillingStatusIndicator",e)},n.createElement("span",{className:N()("AccountBillingStatusIndicator__dot",{[`AccountBillingStatusIndicator__dot--${t}`]:!0})}),n.createElement("span",{className:"AccountBillingStatusIndicator__label"},i,s&&n.createElement("span",{className:"AccountBillingStatusIndicator__info"},s)))}function D({onClick:e,label:t,icon:s}){return n.createElement("div",{className:"card",onClick:e},n.createElement("div",{className:"card-green-content"},n.createElement("span",{className:"card-label"},t),s))}L.propTypes={isCardPresent:r().bool,isLoading:r().bool.isRequired,openCardInfoModal:r().func.isRequired,nextChargeAmount:r().number,nextChargeDate:r().number,product:r().string.isRequired,productExpiration:r().number,subscriptionStatus:r().string},L.defaultProps={isCardPresent:!1,nextChargeDate:void 0,productExpiration:0,nextChargeAmount:void 0,subscriptionStatus:null},x.propTypes={className:r().string,color:r().oneOf(["accent","warning","danger"]),info:r().string,label:r().string},x.defaultProps={className:null,color:"accent",info:null,label:null},D.propTypes={icon:r().element.isRequired,label:r().string.isRequired,onClick:r().func.isRequired};class O extends n.Component{constructor(e){super(e),this._openSlider=()=>{const{data:{component:e,key:t,propsList:s={}}}=this.props;this.feedly.slideForm(this._components[e],s),this.feedly.setBrowserPath("account/"+t)},this._components={AccountAppearance:o,AccountBilling:M,AccountGeneral:F,AccountIntegrations:V,AccountLeo:G,AccountLogins:X,AccountMarkAsRead:ee,AccountPrivacy:ne,AccountProfile:ce,AccountSharing:me}}componentDidMount(){const{data:{autoOpen:e,component:t,propsList:s={}}}=this.props;this.feedly=streets.service("feedly"),e&&this.feedly.slideForm(this._components[t],s)}componentWillUnmount(){this.feedly=null}render(){const{data:e}=this.props;return n.createElement(D,{label:e.label,icon:e.icon,onClick:this._openSlider})}}O.propTypes={data:r().shape({autoOpen:r().bool,component:r().node,icon:r().element,key:r().string,label:r().string,propsList:r().objectOf(r().any)})},O.defaultProps={data:{}};var A=s(2121),z=s(94613);class R extends n.Component{constructor(...e){super(...e),this.state={font:this.props.initialFont},this._onFontChange=e=>{A.Jn[e]&&!streets.hasProAccess()?(streets.service("feedly").loadPage("pro/font"),this.props.onDone()):(this.setState({font:e}),this.font.setFontFamily(e))}}componentDidMount(){this.font=streets.service("font")}componentWillUnmount(){this.font=null}render(){const{font:e}=this.state,{keyId:t,options:s}=this.props;return n.createElement(z.Ee,{name:t,onChange:this._onFontChange,selectedValue:e},s.map((e=>n.createElement(z.Y8,{key:e.value,value:e.value},e.label,!!A.Jn[e.value]&&n.createElement(_.x,{className:"m-l-1",color:"accent",size:"small",tagName:"span"},"Pro+")))))}}R.propTypes={initialFont:r().oneOfType([r().string,r().number]).isRequired,keyId:r().string.isRequired,onDone:r().func,options:r().arrayOf(r().object).isRequired},R.defaultProps={onDone:()=>{}};class F extends n.Component{constructor(e){super(e),this.state={preferences:[],values:{}}}componentDidMount(){this.signs=streets.service("signs"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updatePreferences()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null,this.signs=null}onPreferenceChanged(e){this.state.preferences.find((t=>t.key===e))&&(this._updatePreferences(),this.signs.showMessage("Preference changed"))}render(){return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"General"),this._renderPreferences()))}_renderPreferences(){const{preferences:e,values:t}=this.state;return e?e.map((e=>n.createElement(ue,{key:e.key,preference:e,value:t[e.key]}))):null}_updatePreferences(){const e=this.preferences.getSection("general");this.setState(e)}}const j=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.726 4.391l-4.583 3a.5.5 0 000 .837l4.583 3a.5.5 0 00.548 0l4.583-3a.5.5 0 000-.837l-4.583-3a.5.5 0 00-.548 0zM10 5.407l3.67 2.402L10 10.212 6.329 7.809l3.67-2.402zM14.91 11.982a.5.5 0 01.493.41l.008.09v2.375a.5.5 0 01-.17.376l-.07.05-4.91 3a.5.5 0 01-.439.042l-.083-.041-4.91-3a.5.5 0 01-.232-.341l-.008-.086v-2.375a.5.5 0 01.992-.09l.008.09v2.094l4.41 2.695 4.41-2.694.002-2.095a.5.5 0 01.41-.492l.09-.008z"}),n.createElement("path",{d:"M14.196 7.494a.5.5 0 01.628-.123l.075.05 3.274 2.668a.5.5 0 01.035.744l-.077.062-4.583 3a.5.5 0 01-.514.02l-.076-.051-3.274-2.667a.5.5 0 01.557-.826l.075.05 2.989 2.436 3.705-2.425-2.742-2.235a.5.5 0 01-.123-.628l.05-.075z"}),n.createElement("path",{d:"M5.1 7.422a.5.5 0 01.697.712l-.065.063-2.743 2.235 3.705 2.425 2.99-2.435a.5.5 0 01.64.007l.064.065a.5.5 0 01-.008.64l-.064.063-3.274 2.667a.5.5 0 01-.508.074l-.082-.043-4.583-3a.5.5 0 01-.112-.737l.07-.07 3.274-2.666zM12.958 1.755a.5.5 0 01.508-.074l.082.044 4.583 3a.5.5 0 01.112.736l-.07.07-3.274 2.666a.5.5 0 01-.696-.712l.065-.063 2.743-2.235-3.706-2.426-2.99 2.436a.5.5 0 01-.64-.007l-.063-.065a.5.5 0 01.008-.64l.064-.063 3.274-2.667z"}),n.createElement("path",{d:"M6.452 1.725a.5.5 0 01.514-.021l.076.051 3.274 2.667a.5.5 0 01-.557.826l-.075-.05-2.99-2.437-3.706 2.426 2.744 2.235a.5.5 0 01.123.629l-.05.074a.5.5 0 01-.63.123l-.074-.05L1.827 5.53a.5.5 0 01-.035-.745l.077-.061 4.583-3z"})))}));var U=s(80716),B=s(25035),H=s(1464),Y=s(28594),Z=s(50240),W=s(38916);const $={Html:"HTML",Letter:"US Letter PDF",A4:"A4 PDF"},q=["Reddit","Twitter"];class V extends n.Component{constructor(e){super(e),this._closeDropboxBackupModal=()=>{this.setState({isDropboxBackupModalOpen:!1})},this._onClick=(e,t)=>{t?this._onDisconnectIntegration(e):this.integrations.connect(e)},this._onDisconnectIntegration=async e=>{this.setState((({loading:t})=>({loading:{...t,[e]:!0}}))),await this.integrations.askDisconnect(e),this.setState((({loading:t})=>({loading:{...t,[e]:!1}})))},this._onDropboxBackupClick=()=>{const{dropboxFormat:e}=this.state;this.setState({isDropboxBackupButtonLoading:!0}),this.profile.askStartDropboxBackup(e).then((()=>{this.setState({dropboxBackupEnabled:!0,dropboxBackupError:"",isDropboxBackupButtonLoading:!1,isDropboxBackupModalOpen:!1})})).catch((e=>{this.setState({dropboxBackupError:e,isDropboxBackupButtonLoading:!1})}))},this._onDropboxFormatChange=e=>{this.setState({dropboxFormat:e})},this._openDropboxBackupModal=()=>{this.setState({isDropboxBackupModalOpen:!0})},this._updateIntegrations=()=>{this.setState((({integrations:e})=>({integrations:e.map((e=>{const t=this.profile.isIntegrationConnected(e.key);return{...e,isConnected:t,label:t?`Disconnect from ${W.gJ[e.key]}`:`Connect to ${W.gJ[e.key]}`}}))})))},this._updateDropboxInfo=()=>{const e=this.profile.getUserInfo();e.dropboxConnected&&e.dropboxTagBackup&&this.setState({dropboxBackupEnabled:!0,dropboxFormat:e.dropboxFormat})};const t=[{key:W.bK.dropbox,iconComponent:j,sub:"A real-time backup of your saved articles, tagged articles and OPML file."},{key:W.bK.evernote,iconComponent:U.Z,sub:" Connect Feedly to your Evernote account and easily save the most useful articles you discover in Feedly in your Evernote notebooks."},{key:W.bK.oneNote,iconComponent:B.Z,sub:"Connect Feedly to your OneNote account and easily save the most useful articles you discover in Feedly in your OneNote notebooks."},{key:W.bK.pocket,iconComponent:H.Z,sub:"Connect Feedly to your Pocket account and easily save the most useful articles you discover."}];streets.hasBusinessAccess()||t.push({key:W.bK.reddit,iconComponent:Y.Z,sub:"Connect Feedly to your Reddit account to follow Reddit searches, subreddits, and timelines."}),streets.isProPlusPlan()&&!streets.hasBusinessAccess()&&t.push({key:W.bK.twitter,iconComponent:Z.Z,sub:"Connect Feedly to your Twitter account to follow Twitter accounts and hashtags."}),this.state={integrations:t,dropboxBackupEnabled:!1,dropboxBackupError:"",dropboxFormat:"Html",isDropboxBackupButtonLoading:!1,isDropboxBackupModalOpen:!1,loading:{}}}componentDidMount(){this.integrations=streets.service("integrations"),this.signs=streets.service("signs"),this.profile=streets.service("profile"),this.profile.registerObserver(this),this._updateDropboxInfo(),this._updateIntegrations()}componentWillUnmount(){this.profile.unregisterObserver(this),this.integrations=null,this.profile=null,this.signs=null}onProfileChanged(){this._updateIntegrations()}render(){return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered m-b-2"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"Integrations"),this._renderIntegrations(),streets.hasBusinessAccess()&&q.map((e=>n.createElement(a.H3,{appearance:"h2",key:e,sub:streets.isUserAdmin()?n.createElement(n.Fragment,null,"You can manage your ",e," integration in your"," ",n.createElement(v.rU,{uri:"team/integrations"},"Business settings"),"."):n.createElement(n.Fragment,null,"Your ",e," integration must be configured in the Business settings by an admin.")},e))),!streets.hasProPlusAccess()&&n.createElement(a.H3,{appearance:"h2",sub:n.createElement(n.Fragment,null,n.createElement(v.rU,{uri:"pro/twitter"},"Upgrade")," to Pro+ to follow Twitter timelines, hashtags, Lists, and searches in your Feedly."," ",n.createElement(v.rU,{href:"https://blog.feedly.com/twitter-feeds/",newWindow:!0},"Learn more"),".")},"Twitter")),this._renderDropboxBackupModal())}_renderIntegrations(){const{integrations:e,dropboxBackupEnabled:t,dropboxFormat:s,loading:i}=this.state;return e.map((({iconComponent:e,isConnected:r,key:o,label:l,sub:c})=>{let d=null;return o===W.bK.dropbox&&r&&t?d=n.createElement("p",null,"Backup enabled with ",$[s]," format. See your Dropbox"," ",n.createElement(v.rU,{href:"https://www.dropbox.com/home",newWindow:!0},"Apps > Feedly Vault")," ","folder."):o===W.bK.dropbox&&r&&(d=n.createElement("p",null,"Account connected. ",n.createElement(y.ZP,{onClick:this._openDropboxBackupModal,primary:!0},"Select format")," to start backup.")),n.createElement("div",{key:o},n.createElement(a.H3,{appearance:"h2",sub:c},W.gJ[o]),n.createElement(y.zx,{icon:n.createElement(e,{color:r?"black":"white"}),importance:r?"secondary":"primary",label:l,loading:i[o],onClick:()=>{this._onClick(o,r)}}),d)}))}_renderDropboxBackupModal(){const{dropboxBackupError:e,dropboxFormat:t,isDropboxBackupButtonLoading:s,isDropboxBackupModalOpen:i}=this.state;return i?n.createElement(f.u_,{className:"form",onClose:this._closeDropboxBackupModal},n.createElement("div",{className:"field"},n.createElement("label",null,"Format",n.createElement("div",{className:"sub"},"Select the format you want your articles to be saved as.")),n.createElement(z.Ee,{name:"dropboxFormat",onChange:this._onDropboxFormatChange,selectedValue:t},Object.keys($).map((e=>n.createElement(z.Y8,{key:e,value:e},$[e]))))),n.createElement(y.zx,{importance:"primary",label:"Begin backup",loading:s,onClick:this._onDropboxBackupClick}),n.createElement(y.zx,{importance:"secondary",label:"Cancel",onClick:this._closeDropboxBackupModal}),e&&n.createElement("div",{className:"message error"},e)):null}}class G extends n.Component{constructor(e){super(e),this.state={preferences:[],values:{}}}UNSAFE_componentWillMount(){this.signs=streets.service("signs"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updatePreferences()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null,this.signs=null}onPreferenceChanged(e){this.state.preferences.find((t=>t.key===e))&&(this._updatePreferences(),this.signs.showMessage("Preference changed"))}render(){return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(a.H2,{appearance:"h1",kicker:"Personalize"},"Leo"),this._renderPreferences()))}_renderPreferences(){const e=this.state.preferences||null,t=[];return!!e&&(e.forEach((e=>{t.push(n.createElement(ue,{key:e.key,preference:e,value:this.state.values[e.key]}))})),t)}_updatePreferences(){const e=this.preferences.getSection("leo");this.setState(e)}}var Q=s(15454);class K extends n.Component{constructor(e){super(e),this._onCancel=()=>{this.props.onDone()},this._onCurrentPasswordChange=e=>{this.setState({currentPassword:e,currentPasswordError:null})},this._onNewPasswordChange=e=>{this.setState({newPassword:e,newPasswordError:null})},this._onNewPasswordConfirmedChange=e=>{this.setState({newPasswordConfirmed:e,newPasswordError:null})},this._onSubmit=e=>{const{email:t}=this.props,{currentPassword:s,newPassword:n,newPasswordConfirmed:i}=this.state;if(e.preventDefault(),s.length<8)return void this.setState({currentPasswordError:"Invalid password"});if(i.length<8||n.length<8)return void this.setState({newPasswordError:"The new password is too short."});if(i!==n)return void this.setState({newPasswordError:"The password and the confirmation do not match."});this.setState({loading:!0});const r={login:t,oldPassword:s,newPassword:n};this.profile.askChangePassword(r).then((()=>{this.setState({loading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage("Password changed"),this.props.onDone()})).catch((()=>{this.setState({loading:!1,currentPasswordError:"Operation failed."})}))},this.state={currentPassword:"",currentPasswordError:null,newPassword:"",newPasswordConfirmed:"",newPasswordError:null,loading:!1}}componentDidMount(){this.signs=streets.service("signs"),this.profile=streets.service("profile")}componentWillUnmount(){this.signs=null,this.profile=null}render(){const{email:e}=this.props,{loading:t,currentPassword:s,currentPasswordError:i,newPassword:r,newPasswordConfirmed:o,newPasswordError:l}=this.state,c=N()({field:!0,error:null!==i}),d=N()({field:!0,"multiple-stacked-inputs":!0,error:null!==l}),h=window.BACKEND+"/v3/auth/login?login="+encodeURIComponent(e)+"&forgotPassword=true";return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(a.H2,{appearance:"h1",className:"m-b-0"},"Change password"),n.createElement("p",null,"Use this form to change the password for the ",e," login."),n.createElement("form",{className:"form",onSubmit:this._onSubmit},n.createElement("div",{className:c},n.createElement("label",{htmlFor:"current-password"},"Current password"),n.createElement(w.oi,{id:"current-password",type:"password",name:"currentPassword",value:s,onChange:this._onCurrentPasswordChange,placeholder:"Current password"}),n.createElement("div",{className:"hint"},n.createElement(v.rU,{className:"m-r-2",href:h},"Forgot password?"),n.createElement("span",{className:"error"},i))),n.createElement("div",{className:d},n.createElement("label",{htmlFor:"new-password"},"New password"),n.createElement(w.oi,{id:"new-password",type:"password",name:"newPassword",value:r,onChange:this._onNewPasswordChange,placeholder:"New password"}),n.createElement(w.oi,{type:"password",name:"newPasswordConfirmed",value:o,onChange:this._onNewPasswordConfirmedChange,placeholder:"Confirm new password"}),n.createElement("div",{className:"hint"},n.createElement("span",{className:"m-r-2"},"Minimum 8 characters"),n.createElement("span",{className:"error"},l))),n.createElement(y.zx,{className:"left floated",importance:"primary",label:"Save Password",loading:t,type:"submit"}),n.createElement(y.zx,{className:"left floated",importance:"tertiary",label:"Cancel",onClick:this._onCancel}))))}}K.propTypes={email:r().string.isRequired,onDone:r().func},K.defaultProps={onDone:()=>{}};var J=s(77817);class X extends n.Component{constructor(e){super(e),this.state={user:null}}componentDidMount(){this.net=streets.service("net"),this.signs=streets.service("signs"),this.feedly=streets.service("feedly"),this.profile=streets.service("profile"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updatePreferences()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null,this.feedly=null,this.signs=null,this.profile=null,this.net=null}onPreferenceChanged(e){this.state.preferences.find((t=>t.key===e))&&(this._updatePreferences(),this.signs.showMessage("Preference changed"))}render(){return n.createElement("div",{className:"fx account-login"},n.createElement("section",{className:"container630 centered m-b-2"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account",sub:n.createElement(n.Fragment,null,"You can add multiple logins to your Feedly account. This is useful when you want to migrate your account from one login to another. If you need multiple users to access the same content, use"," ",n.createElement(v.rU,{primary:!0,uri:"pro/enterprise"},"Feedly Enterprise"),".")},"Logins"),n.createElement("p",{className:""}),n.createElement("table",null,n.createElement("tbody",null,this._renderLogins())),n.createElement(y.zx,{className:"left floated",label:"Add login",onClick:this._addLogin.bind(this)})))}_renderLogins(){const e=this.state.user||null,t=[];if(!e)return!1;const s=e.logins.length>1;return e.logins.forEach((e=>{const i="Twitter"===e.provider?"@":"";t.push(n.createElement("tr",{key:`login-row-${e.provider}-${e.id}`},n.createElement("td",null,n.createElement(J.q,{alt:e.fullName||e.email,className:"item-image",iconSize:28,url:e.picture}),n.createElement("div",{className:"item-header"},e.provider),n.createElement("div",{className:"item-meta"},i+e.id)),n.createElement("td",{style:{width:s?"300px":"200px"}},"FeedlyLogin"===e.provider&&n.createElement(y.zx,{className:"left floated",importance:"secondary",label:"Change Password",onClick:()=>{this.feedly.slideForm(K,{email:e.providerId})}}),s&&n.createElement(y.zx,{className:"right floated",label:"Remove",onClick:this._removeLogin.bind(this,e),importance:"secondary"}))))})),t}_updatePreferences(){const e=this.profile.getUserInfo();this.setState({user:e})}_removeLogin(e){this.net.DEL("!{cloud}/v3/auth/link?provider="+encodeURIComponent(e.provider)+"&providerId="+encodeURIComponent(e.providerId)).then((()=>{this.signs.setNextAutoHideDelay(5e3),this.signs.showMessage("Detached "+e.provider+".")})).catch((e=>{this.signs.setNextAutoHideDelay(2e4),this.signs.showMessage("Error:"+e+". Reload page.")}))}_addLogin(){try{const e=window.BACKEND+"/feedly.html",t=window.BACKEND+"/v3/auth/link?client_id=feedly&redirect_uri="+encodeURIComponent(e)+"&state=addLogin&ck="+(new Date).getTime()+"&ct="+feedlyApplicationType+"&cv=31.0.1284&feedlyToken="+l.Z.utils.SessionUtils.load().feedlyToken,s=480,n=680,i=screen.height,r=screen.width,a=Math.round(r/2-s/2);let o=100;i/2>n&&(o=Math.round(i/2-n));const c=window.open(t,"_blank","left="+a+",top="+o+",width=480,height=680,personalbar=0,toolbar=0,scrollbars=1,resizable=1");if(null==c)return void(0,Q.d)();c.focus&&c.focus()}catch(e){$feedly("[web-launcher] failed to show add login popup:"+e.name+" -- "+e.message)}}}class ee extends n.Component{constructor(){super(),this.state={preferences:[],values:{}}}componentDidMount(){this.signs=streets.service("signs"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updatePreferences()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null,this.signs=null}onPreferenceChanged(e){this.state.preferences.find((t=>t.key===e))&&(this._updatePreferences(),this.signs.showMessage("Preference changed"))}render(){return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"Mark as read"),this._renderPreferences()))}_renderPreferences(){const e=this.state.preferences||null,t=[];return!!e&&(e.forEach((e=>{t.push(n.createElement(ue,{key:e.key,preference:e,value:this.state.values[e.key]}))})),t)}_updatePreferences(){const e=this.preferences.getSection("mark as read");this.setState(e)}}var te=s(74221),se=s(855);class ne extends n.Component{constructor(e){super(e),this._onCreateArchive=async()=>{try{return this.signs.showMessage("Starting to generate archive..."),await this.profile.askCreateArchive(),this.profile.askRefreshUserInfo()}catch(e){this.signs.showError(`Error: ${e&&e.code||e}`)}},this._onRefreshUserInfo=async()=>{try{return this.signs.showMessage("Refreshing..."),this.profile.askRefreshUserInfo()}catch(e){this.signs.showError(`Error: ${e&&e.code||e}`)}},this._openSlider=e=>{this.feedly.slideForm(this._components[e],{})},this._onClosePersonalizedTopicModal=()=>{this.setState({isPersonalizedTopicModalOpen:!1})},this._onOpenPersonalizedTopicModal=async()=>{const e=await this.bsa.askListMatchingTopics();this.setState({isPersonalizedTopicModalOpen:!0,bsaTopics:e})},this._onCloseTruncateConfirmationModal=()=>{this.setState({isTruncateConfirmationModalOpen:!1})},this._onOpenTruncateConfirmationModal=()=>{this.setState({isTruncateConfirmationModalOpen:!0})},this._onTruncateHistory=async()=>{this._onCloseTruncateConfirmationModal();try{this.signs.showMessage("Truncating history..."),await this.reader.askTruncateReadingHistory(),this.signs.showMessage("Truncated")}catch(e){this.signs.showError(`Error: ${e&&e.code||e}`)}},this.feedly=streets.service("feedly"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.bsa=streets.service("bsa"),this.profile=streets.service("profile"),this._components={AccountBilling:M,AccountIntegrations:V,AccountLogins:X,AccountProfile:ce},this.state={isTruncateConfirmationModalOpen:!1,isPersonalizedTopicModalOpen:!1,userInfo:this.profile.getUserInfo()}}componentDidMount(){this.profile.registerObserver(this)}componentWillUnmount(){this.profile.unregisterObserver(this),this.feedly=null,this.bsa=null,this.signs=null,this.reader=null,this.profile=null}onProfileChanged(e){this.setState({userInfo:e})}render(){const{bsaTopics:e,isPersonalizedTopicModalOpen:t,isTruncateConfirmationModalOpen:s,userInfo:i}=this.state,{archiveCreatedDate:r,archiveStatus:o,archiveZipUrl:l}=i;let d,h;switch(o){case"pending":h="Building archive... Click to refresh",d=this._onRefreshUserInfo;break;case"error":h="Archive creation failed. Click to retry",d=this._onCreateArchive;break;case"created":h="Regenerate your personal data archive",d=this._onCreateArchive;break;default:h="Generate your personal data archive",d=this._onCreateArchive}return streets.getUserId()?n.createElement("div",{className:"fx"},n.createElement("div",{className:"container630 centered AccountPrivacy"},n.createElement(a.H2,{appearance:"h1",kicker:"Beta"},"Privacy and Personal Data"),n.createElement("section",null,n.createElement("div",{className:"AccountPrivacy__block"},"You trust us with some of your personal data. We value that trust. The purpose of this page is to be transparent about how that data is used and give you full control over that data."),n.createElement(a.H3,{appearance:"h2"},"Your Personal Data"),n.createElement("div",{className:"AccountPrivacy__block"},"Most of the personal data Feedly has about you is information you explicitly shared with us:",n.createElement("ul",null,n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Your profile")," During the onboarding, you provided us a full name, a username, an email address, a password, and a profile picture - either directly or via single-sign-on through Google, Facebook, Twitter, Evernote, or Microsoft. That information is used to show you which account you have logged into or when we communicate with you."),n.createElement(re,{onClick:()=>{this._openSlider("AccountProfile")}},"Manage your profile"),n.createElement(re,{onClick:()=>{this._openSlider("AccountLogins")}},"Manage your logins")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Your sources")," You have personalized your Feedly with the sources, topics, keyword alerts you want to keep up with."),n.createElement(ae,{uri:"organize/my"},"Organize your sources")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Your settings")," You might have personalized the favorite status, sort order, or view settings of the sources you follow."),n.createElement(ae,{uri:"account/general"},"Personalize your settings")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Your read history"),' Feedly collects the list of articles you have read so that we can hide them when you want to see "unread articles only", let you review your reading history or enable you to search through your history if you have access to power search.'),n.createElement(ae,{uri:"label/feedly.history"},"Review your history"),n.createElement(ae,{uri:(0,se.xU)({scope:(0,te.os)(),time:se.qp.month,type:se.Fq.in})},"Search your history (Premium)"),n.createElement(re,{onClick:this._onOpenTruncateConfirmationModal},"Truncate your history to the last 31 days")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Your saved articles and boards")," You might have manually saved some articles to your boards for future reference. You can easily see all this data in your boards and delete your boards when they are no longer relevant."),n.createElement(ae,{uri:"saved"},"See read later"),n.createElement(ae,{uri:`board/content/user/${streets.getUserId()}/tag/global.all`},"See all boards")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Your IP address")," When use the Feedly service, we try to map your internet address to a language and country to personalize the default settings of the discover page. We also save your IP address and the time in some of our logs in case we need to troubleshoot technical or performance issues.")))),n.createElement("div",{className:"AccountPrivacy__block"},"If you are part of the Feedly Pro, Pro+ or Business plan, our customer success team might try to search for your LinkedIn or Twitter account to connect with you and better support your through your Feedly journey."),n.createElement("div",{className:"AccountPrivacy__block"},"No sensitive data is processed."),n.createElement(a.H3,{appearance:"h2"},"Take Your Data With You"),n.createElement("div",{className:"AccountPrivacy__block"},"We have built this page to make it easy for you to access your personal data, download it, or simply erase it",n.createElement("ul",null,n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Download your personal data")," You can generate an archive with all your personal data (sources, read history, saved items, etc..). The sources are exported in OPML format so that you can easily import them in another reader."),n.createElement(re,{onClick:d},h),l&&n.createElement(ae,{href:l,newWindow:!0},"Download your personal data archive (created"," ",(0,c.Sy)(new Date(r),!1,!0),")")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Access via authenticated API")," You can also access all your personal data via the authenticated Feedly API. All the features available through the Feedly app are also available through the authenticated API, giving you the flexibility to do more with all the personal data you have saved in your Feedly."),n.createElement(ae,{href:"https://developer.feedly.com"},"See developer.feedly.com")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Erase your personal data")," Finally, you can also delete all your personal information from the Feedly cloud by erasing your account",n.createElement(ae,{uri:"erase"},"Erase all your personal data"))))),n.createElement(a.H3,{appearance:"h2"},"Your Privacy"),n.createElement("div",{className:"AccountPrivacy__block"},"Privacy has been important to us since the inception of Feedly and we try to limit as much as possible the amount of information we share with third parties",n.createElement("ul",null,n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Payment")," As part of the Feedly Premium upgrade process, you will be sharing your profile information, Feedly plan information, and payment information to Stripe, Google Play, Apple App Store, or PayPal depending on the payment option you select."),n.createElement(re,{onClick:()=>{this._openSlider("AccountBilling")}},"Manage your billing (Premium)")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Customer support")," If you are a premium user and interact with our support team through HelpScout, Typeform, Slack, or Google Docs, those service providers will have access to your name, email address, and support request information. They cannot use that information outside of the engagement you are having with the Feedly customer success team"),n.createElement(ae,{uri:"support"},"Request support (Premium)")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Email providers")," We use Mailgun and Postmark to communicate with you via email (tutorial emails, feature announcements, weekly roundups, etc.). Those services have access to your name and email address. They can not use that information outside of the emails we explicitly send")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Analytics")," We save some anonymized information about feature usage in Google Analytics and Google Big Query. This allows us to generate some anonymized aggregated reports about specific features. For example: in the discovery service, what are the most searched for topics? How many search queries lead to a new source being added. This feedback allows us to learn more about what works and what does not. Google does not have the right to use any of this information.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Security provider")," Since the 2016 denial of service attack, we use Cloudflare as our security provider. We use them as a trusted proxy to route traffic and improve the reliability and security of the service. All the traffic to Cloudflare is encrypted over HTTPS.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Integrations")," Feedly offers some integration tools: Evernote, OneNote, Dropbox, IFTTT, Zapier, LinkedIn, Twitter, Facebook, Pocket, Instapaper, HootSuite, and OneNote. When you decide to share an article with one of those services, the URL of that article, as well as potential annotations, will be shared with the service of your choice. In the case of the Dropbox integration, an OPML version of your sources will also be saved in your Dropbox account. Those services do not have access to any other personal data."),n.createElement(re,{onClick:()=>{this._openSlider("AccountIntegrations")}},"Manage your integrations (Premium)")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Sponsored Content")," If you are part of the free plan, we use a sponsored ad from BuySellAds to fund the infrastructure needed to run the service for you. That sponsored ad depends on the topics of the sources your read and your IP address. We do not share your name, email address, or any other personal data with Buy Sell Ads."),streets.hasProAccess()&&n.createElement(ae,{uri:"pro"},"You are part of a premium plan. No sponsored content."),!streets.hasProAccess()&&n.createElement(n.Fragment,null,n.createElement(re,{onClick:this._onOpenPersonalizedTopicModal},"See your ad topics"),n.createElement(ae,{uri:"pro/privacy"},"Remove the Feedly sponsored ad (Premium)"))),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"The laws of the United States")," Feedly is governed by and operated in accordance with, the laws of the United States. Feedly makes no representation that the services are governed by or operated in accordance with the laws of any other nation. If you are located outside of the United States, please be aware that information we collect, including Personally Identifiable Information, may be transferred to, processed, stored and used in the United States. Under United States law, your Personally Identifiable Information may be subject to access requests from governments, courts, or law enforcement in the United States.")))),n.createElement(a.H3,{appearance:"h2"},"You Are In Control"),n.createElement("div",{className:"AccountPrivacy__block"},"Users like Feedly and RSS because they feel that they have full control over the content they consume. Here is a bit more information about how content is sorted or recommended in the Feedly app",n.createElement("ul",null,n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"#1 The content in your personal feeds (sorted by time latest or oldest)")," ","These are just a list of articles published by all the sources you have added to that feed. The only personalization here is to remove the articles you have already read if you have the unread only checkbox selected.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"#2 The content in your personal feeds (sorted by popularity)")," ","This is the same list as bucket #1 but we look at the last 500 articles in that feed and take the 3 most popular and put them at the top. Popularity is measured by the engagement velocity (how many times an article has been shared, liked, and commented on social media since its creation divided by the age of the article). The logic is the same for all users and does not take into account any personal data. The term popularity is also called trending sometimes in the UI and in emails.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"#3: Explore tab")," The content of the explore tab is to help users discover new sources. It is personalized based on your country and language. The default language is the language of your browser or device. But you can easily switch those settings. It simply takes some of the most popular topics in Feedly and showcases some of the most popular articles (by the same definition as bucket #2)")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"#4: The today page and trending emails")," Once you have created multiple feeds in your Feedly, you can see an overview of those feeds in your Today page or the weekly digest we send you. The overview is computed by combining the most popular articles (see popular definition above) and the most recent articles of the sources you might have promoted to favorites.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null," #5: Related sources")," When you follow a source, Feedly will suggest other sources you might be interested in following based on the aggregated and anonymized behavior of the rest of the Feedly community")))),n.createElement("div",{className:"AccountPrivacy__block"},"The only personal data that influences the content you are seeing is, therefore, your list of feeds, sources, the sort options you have for each source and the favorite status you might have assigned to a specific source, the read status of articles, and your country. All of this is fully transparent and fully controlled by you. Our community/users love RSS because if gives them direct control over the information they consume."),n.createElement(a.H3,{appearance:"h2"},"Your Security"),n.createElement("div",{className:"AccountPrivacy__block"},"We do our best to keep your personal data safe.",n.createElement("ul",null,n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Encryption")," HTTPS security protocol is used to secure access to mobile and web application. Passwords are hashed using BCrypt(12) (1024 rounds) when they are received by the Feedly servers. Each password uses its own salt (no shared salt). We store a single copy of the hashed password in our DB (no recovery or encrypted copy of the password). Passwords and hashes are never printed in logs or sent to external services.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Confidentiality")," Access to personal data is limited to the Feedly customer support team and engineers tasked to troubleshoot specific issues. Our data center is certified NIST 800-53/FISMA, SOC 1 Type II, PCI-DSS, ISO 27001 and SOC-2 Type II. Access to personal data is logged.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Data integrity and resilience")," We use a Web Application Firewall to protect against security threats. We have multiple layers of firewalls to protect against intrusion and Distributed Denial Of Service (DDoS). We use a real-time application layer traffic monitoring with alerts or deny malicious activity based on behavior type or rate. All personal data is backed up leveraging multiple online replicas of data for immediate data protection. All production data sets are stored on a distributed file storage facility.")))),n.createElement(a.H3,{appearance:"h2"},"Your Rights"),n.createElement("div",{className:"AccountPrivacy__block"},"The purpose of this page is to make it easy for you to review, update, limit, correct or delete your personal data. But we are also available if you have any questions regarding your rights. You can reach us at"," ",n.createElement(ae,{href:"mailto:privacy@feedly.com",inline:!0,newWindow:!0},"privacy@feedly.com")),n.createElement(a.H3,{appearance:"h2"},"Cookies"),n.createElement("div",{className:"AccountPrivacy__block"},"Here is a description of some of the cookies created while you are using the Feedly service. We only use cookies to enhance your Feedly experience on feedly.com and in the Feedly apps. We never track you on third party sites.",n.createElement("ul",null,n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Feedly Session")," We use a Feedly session cookie to keep you logged in to the Feedly Service.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Stripe")," The Stripe library we use for payment processing includes some cookies used to enhance fraud detection and streamline your checkout process")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Google Analytics")," The Google Analytics library uses a cookie to anonymously correlate actions and pages views across sessions and offer us flow reports.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Twitter SDK")," We use the Twitter SDK to create interactive representations of the tweets embedded in the articles you read. Twitter uses cookies to manage your session and allow you to interact with the embedded tweets.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Google Image Edge Cache")," We use the Google Edge Cache to resize and cache images so that they load faster in the Feedly mobile app. The Google Edge Cache service uses an NID preference cookie. You can disable this cookie by disabling third-party cookies on feedly.com.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Buffer")," If you use the Feedly+Buffer integration, Buffer uses a cookie to allow you to use your Buffer session in the Feedly app and more easily post articles your discover in Feedly to your Buffer queue.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"Publishers cookies")," Some publishers include cookies in the images embedded in the articles they publish. You can disable these cookies by disabling third-party cookies on feedly.com.")),n.createElement("li",null,n.createElement("div",null,n.createElement("strong",null,"HelpScout")," We use HelpScout to offer premium support to premium users. The HelpScout support form uses cookies to save your preferences.")))),n.createElement(a.H3,{appearance:"h2"},"Discovery and Collective Intelligence"),n.createElement("div",{className:"AccountPrivacy__block"},"Part for the value of Feedly is that it gives you access to the collective intelligence of the Feedly community. For example, when you are reading a source, Feedly can make you recommendations about other sources you might like. These recommendations are generated by machine learning models which anonymize, aggregate, and analyze information from all Feedly users and produce insights and recommendations which enrich various parts of the Feedly experience. By accepting the Feedly terms of service, you are granting us the right to anonymize and process your personal information and create these richer experiences.",n.createElement(ae,{href:"https://blog.feedly.com/experience-06-discovery-and-the-web/",newWindow:!0},"The Feedly Discovery Engine"),n.createElement(ae,{href:"https://blog.feedly.com/data-science-behind-recommendations-in-feedly/",newWindow:!0},"The science behind it / Feed2Vec")),n.createElement(a.H3,{appearance:"h2"},"Feedback"),n.createElement("div",{className:"AccountPrivacy__block"},"We are grateful that you trust us with some of your personal data. We value that trust. If you have any questions or suggestions, please email"," ",n.createElement(ae,{href:"mailto:privacy@feedly.com",inline:!0,newWindow:!0},"privacy@feedly.com")," ","or join"," ",n.createElement(ae,{href:"https://join.slack.com/t/feedlylab/shared_invite/enQtNDEyMzQ2Nzk4OTQ1LWQ3ZmExOWYwNDUwN2U4Yzg2MDZjNDJmZDQ4YTFiY2RmYjIyMjBmOGZiZDQwODQxZjRiZDY2Mzc1NTc1YjNjMmQ",inline:!0,newWindow:!0},"the privacy channel of the Feedly Lab Slack"),"."))),t&&n.createElement(f.a5,{topics:e,onClose:this._onClosePersonalizedTopicModal}),s&&n.createElement(f.cV,{title:"Truncate your read history?",description:"Are you sure that you want to delete your read history? You will not be able to see the list of articles you read or search through them.",onSuccess:this._onTruncateHistory,successLabel:"Yes, truncate read history",onCancel:this._onCloseTruncateConfirmationModal,cancelLabel:"No, keep full read history"})):n.createElement("div",{className:"fx"},n.createElement("div",{className:"container630 centered AccountPrivacy"},n.createElement(a.H2,{appearance:"h1",kicker:"Beta"},"Privacy and Personal Data"),n.createElement("section",null,n.createElement("div",{className:"AccountPrivacy__block"},"Please login to your account first"))))}}var ie=s(92316);function re({children:e,onClick:t}){return n.createElement(y.ZP,{className:"AccountPrivacy__link AccountPrivacy__link--action",onClick:t},n.createElement(ie.Z,{color:"accent",height:12,width:12}),e)}function ae({children:e,uri:t,href:s,inline:i,newWindow:r}){return n.createElement(v.rU,{className:N()("AccountPrivacy__link",{"AccountPrivacy__link--action":!i}),uri:t,href:s,newWindow:r},!i&&n.createElement(ie.Z,{color:"accent",height:12,width:12}),e)}re.propTypes={children:r().node.isRequired,onClick:r().func.isRequired},ae.propTypes={children:r().node.isRequired,href:r().string,inline:r().bool,newWindow:r().bool,uri:r().string},ae.defaultProps={href:void 0,inline:!1,newWindow:!1,uri:void 0};var oe=s(35610),le=s(65802);class ce extends n.Component{constructor(){super(),this.state={deletePicture:!1,email:"",emailError:"",familyName:"",givenName:"",givenNameError:"",picture:"",pictureFile:null,isButtonLoading:!1}}onProfileChanged(){this._updateUserInfo()}componentDidMount(){this.profile=streets.service("profile"),this.profile.registerObserver(this),this.signs=streets.service("signs"),this.fileReader=new FileReader,this.fileReader.onload=e=>{this.setState({picture:e.target.result})},this._updateUserInfo(),this._updateUserPicture()}componentWillUnmount(){this.profile.unregisterObserver(this),this.profile=null,this.fileReader.onload=null}render(){return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"Your profile"),n.createElement("div",{className:"form profile m-b-2"},n.createElement("div",{className:"text-fields"},n.createElement("div",{className:"field"},n.createElement("label",{htmlFor:"given_name"},"Your given name"),n.createElement(w.At,{id:"given_name",error:this.state.givenNameError,onChange:this._onChange.bind(this,"givenName"),value:this.state.givenName})),n.createElement("div",{className:"field"},n.createElement("label",{htmlFor:"family_name"},"Your family name"),n.createElement(w.oi,{id:"family_name",onChange:this._onChange.bind(this,"familyName"),value:this.state.familyName})),n.createElement("div",{className:"field"},n.createElement("label",{htmlFor:"email"},"Email address",n.createElement("div",{className:"sub"},"All communications will be sent to this address.")),n.createElement(w.At,{id:"email",error:this.state.emailError,onChange:this._onChange.bind(this,"email"),value:this.state.email}))),n.createElement("div",{className:"field picture-upload"},n.createElement("label",{htmlFor:"profile-picture"},"Your profile picture"),n.createElement(J.q,{iconSize:120,url:(0,oe.w6)(this.state.picture)}),n.createElement(le.R,{imageUrl:this.state.picture,onChange:this._onPictureChange.bind(this)})),n.createElement(y.zx,{label:"Save changes",loading:this.state.isButtonLoading,onClick:this._onSaveClick.bind(this)}))))}_isEmailValid(e){return/^[^\s@]+@([^\s\.@]+.)+\.[^\s\.]+$/.test(e)}_isFormValid(){let e=!0;const{email:t,familyName:s,givenName:n}=this.state;return 0===n.length&&0===s.length&&(this.setState({givenNameError:"Please give at least one name"}),e=!1),this._isEmailValid(t)||(this.setState({emailError:"Invalid email address"}),e=!1),e}_onChange(e,t){const s=`${e}Error`;this.setState({[e]:t,[s]:""})}_onPictureChange(e){e?(this.fileReader.readAsDataURL(e),this.setState({deletePicture:!1,pictureFile:e})):this.setState({deletePicture:!0,picture:"",pictureFile:null})}_onSaveClick(){if(this.setState({isButtonLoading:!0}),!this._isFormValid())return void this.setState({isButtonLoading:!1});const{deletePicture:e,email:t,familyName:s,givenName:n,pictureFile:i}=this.state,r={email:t,familyName:s,givenName:n};e&&(r.deletePicture=!0),this.profile.askUpdateUserInfo(r).then((()=>{if(i)return this.profile.askUpdateProfilePicture(i)})).then((()=>{this.signs.showMessage("Profile info updated"),this.props.onDone()})).catch((()=>{this.signs.showError("Failed to update profile info")}))}_updateUserInfo(){const{email:e,familyName:t,givenName:s}=this.profile.getUserInfo();this.setState({email:e||"",familyName:t||"",givenName:s||""})}_updateUserPicture(){const{picture:e}=this.profile.getUserInfo();this.setState({picture:e||""})}}ce.propTypes={onDone:r().func.isRequired};class de extends n.Component{constructor(...e){super(...e),this.state={value:this.props.initialValue},this._onPreferenceChange=e=>{const{keyId:t}=this.props;this.setState({value:e}),this.preferences.askSetPreference(t,e)}}componentDidMount(){this.preferences=streets.service("preferences")}componentWillUnmount(){this.preferences=null}render(){const{value:e}=this.state,{keyId:t,options:s}=this.props;return n.createElement(z.Ee,{name:t,onChange:this._onPreferenceChange,selectedValue:e},s.map((e=>n.createElement(z.Y8,{key:e.value,value:e.value},e.label))))}}de.propTypes={initialValue:r().oneOfType([r().string,r().number]).isRequired,keyId:r().string.isRequired,options:r().arrayOf(r().object).isRequired};var he=s(3167);class ue extends n.Component{constructor(...e){super(...e),this._onAlphabetizeFeeds=()=>{try{streets.service("feedly").sortPersonalCollectionsAlphabetically(),streets.service("feedly").sortTeamCollectionsAlphabetically()}catch(e){streets.service("signs").showMessage("Failed to update preference: Reset Feed Sorting")}}}render(){const{description:e,label:t}=this.props.preference;return n.createElement("div",{className:"preference-sections"},n.createElement(a.H3,{className:"preference-title"},t),n.createElement("p",{className:"preference-description"},e),n.createElement("div",{className:"form"},this._renderForm()))}_renderForm(){const{onDone:e,preference:{buttonLabel:t,key:s,kind:i,options:r},value:a}=this.props;return s===he.FD?n.createElement(R,{initialFont:a,keyId:s,onDone:e,options:r}):"kind.select"===i?n.createElement(de,{initialValue:a,keyId:s,options:r}):"kind.button"===i?n.createElement(y.zx,{className:"field",label:t,onClick:this._onAlphabetizeFeeds}):n.createElement(ge,{initialValue:a,keyId:s})}}ue.propTypes={onDone:r().func,preference:r().shape({description:r().string,key:r().string,label:r().string,options:r().array}).isRequired,value:r().oneOfType([r().string,r().number]).isRequired},ue.defaultProps={onDone:()=>{}};var pe=s(57080);class me extends n.Component{constructor(e){super(e),this._onTogglePreference=e=>{const{values:t}=this.state,s="no"===t[e]?"yes":"no";"no"===s||this._isBelowMaxSharingServices()?this.preferences.askSetPreference(e,s):this.signs.showMessage("You can only display 9 services")},this.state={preferences:[],values:{},tables:[]}}componentDidMount(){this.signs=streets.service("signs"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updatePreferences()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null,this.signs=null}onPreferenceChanged(e){this.state.preferences.find((t=>t.key===e))&&(this._updatePreferences(),this.signs.showMessage("Preference changed"))}render(){return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"Saving and sharing"),this._renderPreferences()))}_renderPreferences(){const e=this.state.preferences||null,t=[],s=[];return!!e&&(e.forEach((e=>{"kind.table"!==e.kind?s.push(n.createElement(ue,{key:e.key,preference:e,value:this.state.values[e.key]})):t.indexOf(e.table)<0&&(s.push(this._renderTables()),t.push(e.table))})),s)}_renderTables(){const e=this.state.tables||null,t=[];return!!e&&(e.forEach((e=>{const s=this.state.values[e.key],i="yes"===s||!0===s,r=e.icon;t.push(n.createElement("tr",{key:e.key},n.createElement("td",null,n.createElement(r,{importance:"tertiary"})," ",e.label),n.createElement("td",{className:"align-right"},n.createElement(pe.X,{checked:i,onChange:()=>this._onTogglePreference(e.key)}))))})),n.createElement("table",{key:"table-sharing",className:"table-sharing"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Service"),n.createElement("th",{className:"align-right"},"Enable tool"))),n.createElement("tbody",null,t)))}_updateTables(){const{preferences:e}=this.state,t=[];e.forEach((e=>{"kind.table"===e.kind&&t.push(e)})),this.setState({tables:t})}_updatePreferences(){const e=this.preferences.getSection("saving and sharing");this.setState(e,this._updateTables)}_isBelowMaxSharingServices(){const{values:e}=this.state;return Object.keys(e).reduce(((t,s)=>"yes"===e[s]&&s.startsWith("enable")?t+1:t),0)<9}}class ge extends n.Component{constructor(...e){super(...e),this.state={value:this.props.initialValue},this._onChange=e=>{this.preferences.askSetPreference(this.props.keyId,e),this.setState({value:e})}}UNSAFE_componentWillMount(){this.preferences=streets.service("preferences")}componentWillUnmount(){this.preferences=null}render(){return n.createElement("div",{className:"field"},n.createElement(w.oi,{value:this.state.value,onChange:this._onChange}))}}ge.propTypes={initialValue:r().string,keyId:r().string.isRequired},ge.defaultProps={initialValue:""}},77817:(e,t,s)=>{"use strict";s.d(t,{q:()=>l});var n=s(60216),i=s.n(n),r=s(32735);const a=(0,s(71262).Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M14 3.25a4.75 4.75 0 100 9.5 4.75 4.75 0 000-9.5zm0 1.5a3.25 3.25 0 110 6.5 3.25 3.25 0 010-6.5zM14 15.25A8.75 8.75 0 0122.75 24a.75.75 0 11-1.5 0 7.25 7.25 0 00-14.5 0 .75.75 0 11-1.5 0A8.75 8.75 0 0114 15.25z"})))}));var o=s(15813);function l({alt:e,className:t,compact:s,elementRef:n,iconSize:i,url:l}){return r.createElement(o.t,{className:t,compact:s,defaultAvatar:!l&&r.createElement(a,{className:"m-r-0",importance:"secondary",height:i,width:i,title:e}),elementRef:n,url:l})}l.propTypes={alt:i().string,className:i().string,compact:i().bool,elementRef:i().shape({current:i().instanceOf(Element)}),iconSize:i().oneOf([12,16,28,80,120]),url:i().string},l.defaultProps={alt:"",className:void 0,compact:!1,elementRef:null,iconSize:16,url:""}},1388:(e,t,s)=>{"use strict";s.d(t,{G:()=>d});var n=s(33259),i=s.n(n),r=s(60216),a=s.n(r),o=s(32735),l=s(57855),c=s(23005);class d extends o.Component{constructor(e){super(e),this._updateChildCount=i()((()=>{this.setState((({childCount:e})=>{const{batchSize:t,childRenderArgs:s,scrollTarget:n}=this.props;return e<s.length&&(0,l.Hp)(n)?{childCount:e+t}:null}))}),400,{leading:!1}),this.state={childCount:"number"==typeof e.initialChildCount?e.initialChildCount:e.batchSize}}componentDidMount(){this._updateScrollEvents(),this._updateChildCount()}componentDidUpdate(e,t){const{scrollTarget:s}=this.props,{childCount:n}=this.state;n!==t.childCount&&this._updateChildCount(),this._isListeningToScroll&&s!==e.scrollTarget&&(this._removeScrollListeners(e.scrollTarget),this._addScrollListeners(s)),this._updateScrollEvents()}componentWillUnmount(){this._updateChildCount.cancel(),this._removeScrollListeners(this.props.scrollTarget),this._isListeningToScroll=null}render(){const{childRenderArgs:e,childRenderer:t}=this.props,{childCount:s}=this.state;return o.createElement(o.Fragment,null,e.slice(0,s).map(t),e.length>s&&o.createElement(c.g,null))}_addScrollListeners(e){this._isListeningToScroll||(this._isListeningToScroll=!0,e.addEventListener("scroll",this._updateChildCount))}_removeScrollListeners(e){this._isListeningToScroll=!1,e.removeEventListener("scroll",this._updateChildCount)}_updateScrollEvents(){const{childRenderArgs:e,scrollTarget:t}=this.props,{childCount:s}=this.state;s<e.length?this._addScrollListeners(t):this._isListeningToScroll&&this._removeScrollListeners(t)}}d.propTypes={batchSize:a().number.isRequired,childRenderArgs:a().arrayOf(a().object),childRenderer:a().func.isRequired,initialChildCount:a().number,scrollTarget:a().oneOfType([a().shape({clientHeight:a().number,scrollHeight:a().number,scrollTop:a().number}),a().shape({document:a().object})]).isRequired},d.defaultProps={childRenderArgs:[],initialChildCount:void 0}},83980:(e,t,s)=>{"use strict";s.d(t,{q:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(99175);function o({children:e,vendor:t}){return n.createElement(a.d,{content:n.createElement(n.Fragment,null,n.createElement("div",{className:"CVETipsy__title"},"Awareness level of this CVE"),n.createElement("div",{className:"CVETipsy__message"},"How many sources and people are talking about this specific CVE compared to other ",t," vulnerabilities. Higher trending CVEs are more likely to be exploited.",n.createElement("div",{className:"CVETipsy__legend m-y-t"},n.createElement("div",{className:"CVETipsy__legend-dot CVETipsy__legend-dot--orange"}),"This specific CVE"),n.createElement("div",{className:"CVETipsy__legend"},n.createElement("div",{className:"CVETipsy__legend-dot CVETipsy__legend-dot--gray"}),"Baseline for all vulnerabilities for this vendor"))),tipClass:"fx"},e)}o.propTypes={children:r().node.isRequired,vendor:r().string},o.defaultProps={vendor:void 0}},22236:(e,t,s)=>{"use strict";s.d(t,{wH:()=>T,YY:()=>p,uf:()=>N,z2:()=>k});var n=s(32735),i=s(24443),r=s.n(i),a=s(763),o=s(23005),l=s(38916),c=s(48689),d=s(3015),h=s(74221),u=s(2121);class p extends n.PureComponent{constructor(e){super(e),this._renderArticleFontFeature=e=>n.createElement(n.Fragment,null,"Your article font"," ",n.createElement("span",{className:"CancelFeatureList__feature--bold"},e)," will be disabled"),this._renderKeywordAlertsFeature=e=>n.createElement(n.Fragment,null,"You will lose access to"," ",n.createElement("span",{className:"CancelFeatureList__feature--bold"},e," ",r()("keyword alert",e))),this._renderFeedsFeature=e=>n.createElement(n.Fragment,null,"You will not be able to access"," ",n.createElement("span",{className:"CancelFeatureList__feature--bold"},e," ",r()("source",e))),this._renderMuteFiltersFeature=(e,t)=>n.createElement(n.Fragment,null,"Your"," ",n.createElement("span",{className:"CancelFeatureList__feature--bold"},e," ",r()("mute filter",e),", removing"," ",t," ",r()("article",t)," per week")," ","will be disabled"),this._renderPrioritiesFeature=(e,t)=>n.createElement(n.Fragment,null,"Your"," ",n.createElement("span",{className:"CancelFeatureList__feature--bold"},e," ",r()("priority",e),", prioritizing"," ",t," ",r()("article",t)," ","per week")," ","will be disabled, making your feeds more noisy"),this._renderTwitterFeature=e=>n.createElement(n.Fragment,null,"Your"," ",n.createElement("span",{className:"CancelFeatureList__feature--bold"},e," Twitter ",r()("feed",e))," ","will be disabled"),this._renderFeatureList=()=>{const{fontFamilyUsed:e,hasUsedZapier:t,hasAnnotatedEntries:s,isEvernoteConnected:i,isProPlusPlan:r,numLosingFeeds:o,numPriorities:l,numPrioritizedArticlesPerWeek:c,numTwitterFeeds:d,numMuteFilters:h,numMuteFilteredArticlesPerWeek:p,numKeywordAlerts:m}=this.state,g=[];o>0&&g.push(this._renderFeedsFeature(o)),l>0&&c>0&&g.push(this._renderPrioritiesFeature(l,c)),h>0&&p>0&&g.push(this._renderMuteFiltersFeature(h,p)),t&&g.push("Your Zapier connection will be disabled, preventing you from using automatic workflows"),m>0&&g.push(this._renderKeywordAlertsFeature(m)),d>0&&g.push(this._renderTwitterFeature(d));const f=u.Jn[e];return f&&g.push(this._renderArticleFontFeature(f)),s&&g.push("Your highlights and notes will be hidden"),i&&g.push("You won't be able to share to Evernote, Pocket, and OneNote"),r&&g.push("Article deduplication will be disabled"),g.push("You won't be able to perform advanced searches","You will see sponsored ads occasionally","New articles will show up slower in your feeds","Your public profile will be disabled"),g.slice(0,7).map(((e,t)=>n.createElement("div",{key:t,className:"CancelFeatureList__feature m-t-h"},n.createElement(a.Z,{color:"danger"}),e)))},this._askStreamEntries=async(e,t)=>{const{entries:s}=await this.reader.askMoreEntries(e,{},t,null);return s},this._initializeUserStatistics=async()=>{const e=streets.isProPlusPlan();let t=[],s=[];e&&([t,s]=await Promise.all([this.personalmutefilters.askListFilters(),this.personalpriorities.askListPriorities()]));const[n,i,r,a]=await Promise.all([this._askStreamEntries((0,h._k)(),1),streets.service("net").GET("!{cloud}/v3/auth/applications"),this.feeds.askListFeeds(),this.integrations.askIsConnected(l.bK.evernote)]),{applications:o}=JSON.parse(i),{keywordAlerts:u,twitterFeeds:p}=r.reduce(((t,s)=>(s.isGoogleNews?t.keywordAlerts.push(s):e&&(0,c.iR)(s.id)&&t.twitterFeeds.push(s),t)),{keywordAlerts:[],twitterFeeds:[]}),m=Date.now(),g=this.preferences.getPreferences(["entryFontFamily"]);this.setState({fontFamilyUsed:g.entryFontFamily,hasUsedZapier:o.some((({id:e})=>"zapier"===e)),hasAnnotatedEntries:n.length>0,isEvernoteConnected:a,isLoading:!1,isProPlusPlan:e,numLosingFeeds:r.length-100,numPriorities:s.length,numPrioritizedArticlesPerWeek:Math.ceil(s.reduce(((e,t)=>e+t.numEntries/(Math.max(m-t.created,d.HA.week)/d.HA.week)),0)/s.length),numTwitterFeeds:p.length,numMuteFilters:t.length,numMuteFilteredArticlesPerWeek:Math.ceil(t.reduce(((e,t)=>e+t.numEntries/(Math.max(m-t.created,d.HA.week)/d.HA.week)),0)/t.length),numKeywordAlerts:u.length})},this.state={fontFamilyUsed:null,hasUsedZapier:!1,hasAnnotatedEntries:!1,isEvernoteConnected:!1,isLoading:!0,numLosingFeeds:0,numPriorities:0,numPrioritizedArticlesPerWeek:0,numTwitterFeeds:0,numMuteFilters:0,numMuteFilteredArticlesPerWeek:0,numKeywordAlerts:0}}componentDidMount(){this.feeds=streets.service("feeds"),this.integrations=streets.service("integrations"),this.personalmutefilters=streets.service("personalmutefilters"),this.personalpriorities=streets.service("personalpriorities"),this.profile=streets.service("profile"),this.preferences=streets.service("preferences"),this.reader=streets.service("reader"),this._initializeUserStatistics()}componentWillUnmount(){this.feeds=null,this.integrations=null,this.personalmutefilters=null,this.personalpriorities=null,this.profile=null,this.preferences=null,this.reader=null}render(){const{isLoading:e}=this.state;return n.createElement(n.Fragment,null,e?n.createElement(o.g,null):this._renderFeatureList())}}var m=s(60216),g=s.n(m),f=s(56813),y=s(21120),v=s(80889),b=s(47264),E=s(40280),C=s(90183),w=s(34039);class k extends n.Component{constructor(e){super(e),this.componentDidMount=async()=>{this.signs=streets.service("signs"),this._updateProductInfo()},this._closeForm=()=>{const{onDone:e}=this.props;e()},this._cancelSubscription=()=>{const{userInfo:{subscriptionPaymentProvider:e}}=this.state,{isRefundable:t}=this.props;this.setState({isCancelButtonLoading:!0}),(0,v.RV)(e)?this.profile.askCancelStripeSubscription({withRefund:t}).then((e=>{this.setState({isCancellationConfirmed:!0,isCancelButtonLoading:!1,hasBeenRefunded:e.refunded,refundedAmount:e.refundedAmount/100})})).catch((()=>{this.setState({isCancelButtonLoading:!1}),this.signs.showError("Failed to cancel subscription")})):this.signs.showMessage("Invalid payment processor")},this._onReasonSubmitted=()=>{this.setState({isCancellationReasonSubmitted:!0})},this.profile=streets.service("profile"),this.state={userInfo:this.profile.getUserInfo(),hasBeenRefunded:!0,isCancelButtonLoading:!1,isCancellationReasonSubmitted:!1,isCancellationConfirmed:!1,initialPlanLabel:this._getPlanLabel(),refundedAmount:null}}componentWillUnmount(){this.profile=null,this.signs=null}render(){const{isCancellationConfirmed:e,isCancellationReasonSubmitted:t,isCancelButtonLoading:s,initialPlanLabel:i,potentialRefundAmount:r}=this.state,{isRefundable:a}=this.props;if(e)return this._renderConfirmation();if(!t)return this._renderCancellationReason();let o=null;return a&&r&&(o=(0,y.T)(r)),n.createElement("div",{className:"fx"},n.createElement("div",{className:"ProCancellation container630 centered"},n.createElement(E.H2,{appearance:"h1",className:"m-b-h",kicker:"Cancel Subscription"},`You're about to cancel your ${i} subscription`),n.createElement("div",{className:"ProCancellation__subheader m-b-2"},"Your account will be downgraded to Basic",a&&r>0&&`, and you will recieve a ${o} refund`),n.createElement(p,null),n.createElement("div",{className:"m-t-2"},n.createElement(b.zx,{label:`Nevermind, I want to keep ${i}`,onClick:this._closeForm,importance:"secondary",size:"normal"}),n.createElement(b.zx,{color:"danger",label:"Cancel My Subscription",onClick:this._cancelSubscription,loading:s,importance:"primary",size:"normal"})),n.createElement(C.n,null)))}_renderCancellationReason(){const{initialPlanLabel:e}=this.state;return n.createElement("div",{className:"fx"},n.createElement("div",{className:"ProCancellation container630 centered"},n.createElement(E.H2,{appearance:"h1",className:"m-b-0"},`Cancel ${e} subscription`),n.createElement(N,{onSubmit:this._onReasonSubmitted}),n.createElement(C.n,null)))}_renderConfirmation(){const{userInfo:{productExpiration:e},hasBeenRefunded:t,initialPlanLabel:s,refundedAmount:i}=this.state,r=(0,d.p6)(new Date(e),"MMM d, y");return n.createElement("div",{className:"fx"},n.createElement("div",{className:"ProCancellation container630 centered"},n.createElement(E.H2,{appearance:"h1",className:"m-b-2",kicker:"Cancel Subscription"},t?`Your ${s} subscription was canceled and a full refund is on it's way.`:`Your ${s} subscription was canceled`),t&&n.createElement("div",{className:"ProCancellation__feature m-t-1"},n.createElement(f.Z,{color:"accent"}),`Your card on file will get a ${(0,y.T)(i)} refund soon`),n.createElement("div",{className:"ProCancellation__feature m-t-h"},n.createElement(f.Z,{color:"accent"}),`You won't be charged after ${r}`),n.createElement("div",{className:"ProCancellation__feature m-t-h m-b-2"},n.createElement(f.Z,{color:"accent"}),"Your subscription is now"," ",n.createElement("span",{className:"ProCancellation__feature--bold"},"Basic"),"Pro+"===s&&n.createElement("span",null,", if you miss some features consider"," ",n.createElement(w.rU,{primary:!0,uri:"pro/support"},"trying Pro")," ","instead")),n.createElement("div",{className:"m-t-2"},n.createElement(b.zx,{color:"accent",label:"Done",onClick:this._closeForm,importance:"primary",size:"normal"})),n.createElement(C.n,null)))}_getPlanLabel(){return streets.isProPlusPlan()?"Pro+":"Pro"}async _updateProductInfo(){const{isRefundable:e}=this.props;if(e){const{currentProduct:e}=await this.profile.askProProducts();this.setState({potentialRefundAmount:e.refundableAmount/100})}}}k.propTypes={isRefundable:g().bool.isRequired,onDone:g().func.isRequired};var _=s(4425),M=s(95192);const S=["You will lose access to Team Newsletters","Your Microsoft Teams and Slack integrations will be disabled","You won't be able to share notes and highlights with your team","Team Priorities and Mute Filters will be removed"];class T extends n.Component{constructor(e){super(e),this._renderDowngradeStep=e=>{const{kicker:t,header:s,list:i,icon:r,subheader:a,actions:o}=e;return n.createElement(n.Fragment,null,n.createElement(E.H2,{appearance:"h1",className:"m-b-1",kicker:t||"Downgrade to Pro+"},s),a&&n.createElement(M.x,{className:"m-b-1",tagName:"div"},a),i&&i.map(((e,t)=>n.createElement("div",{key:t,className:"ProCancellation__feature m-t-h"},r,e))),n.createElement("div",{className:"m-t-1"},o))},this._getDowngradeFlow=()=>{const{copyToPersonal:e,isLoading:t,teamBoards:s,teamCollections:i}=this.state,o=["Your card on file will be charged $144 for the first year of Pro+","Your Business subscription will no longer be active and you will instead get billed for Pro+"];return e&&o.splice(1,0,`Your ${r()("Team Feed",i.length,!0)} and ${r()("Team Board",s.length,!0)} will be copied to your personal account`),[{header:"You're about to downgrade from Business to Pro+",list:S,icon:n.createElement(a.Z,{color:"danger"}),subheader:"Heads up! If you downgrade to Pro+, you will lose access to some features:",actions:[n.createElement(b.zx,{key:"cancel",label:"Nevermind, I want to keep Business",onClick:this._onCloseForm,importance:"secondary"}),n.createElement(b.zx,{key:"continue",color:"danger",label:"Continue Downgrade to Pro+",onClick:this._onContinueDowngrade,importance:"primary"})]},{header:"Before you go, copy all Team Feeds and Team Boards to your personal account",subheader:n.createElement(n.Fragment,null,n.createElement("div",null,"Your Business account currently has"," ",n.createElement("b",null,r()("Team Feed",i.length,!0))," and"," ",n.createElement("b",null,r()("Team Boards",s.length,!0)),"."),n.createElement("div",{className:"m-t-1"},n.createElement("b",null,"If you don't make a copy, ")," you wont be able to access them afterwards.")),actions:[n.createElement(b.zx,{key:"copy",color:"accent",label:"Yes, copy all team feeds and boards",onClick:()=>{this._onContinueDowngrade({copyToPersonal:!0})},importance:"primary"}),n.createElement(b.zx,{key:"no-copy",label:"No, don't copy",onClick:this._onContinueDowngrade,importance:"secondary"})]},{header:"Pro+ is $12 per month, billed annually",list:o,icon:n.createElement(_.Z,{color:"accent"}),actions:[n.createElement(b.zx,{key:"cancel",label:"Nevermind, I want to keep Business",onClick:this._onCloseForm,importance:"secondary"}),n.createElement(b.zx,{key:"continue",color:"danger",label:"Downgrade Now",loading:t,onClick:this._onDowngradePlan,importance:"primary"})]},{kicker:"Downgrade Subscription",header:"Congrats! You are now on Pro+",subheader:e?"Your team feeds and boards will soon be copied to your personal account":null,actions:[n.createElement(b.zx,{key:"done",color:"accent",label:"Done",onClick:this._onCloseForm,importance:"primary"})]}]},this._onCloseForm=()=>{this.props.onDone()},this._onContinueDowngrade=({copyToPersonal:e=!1}={})=>{this.setState((({step:t})=>({step:t+1,copyToPersonal:e})))},this._onDowngradePlan=async()=>{const{copyToPersonal:e}=this.state;this.setState({isLoading:!0});try{await this.enterprise.askDowngradePlan({product:"FeedlyProPlusYearly144",copyCollections:e,copyTags:e}),this._onContinueDowngrade({copyToPersonal:e}),this.setState({isLoading:!1})}catch(t){this.signs.showError(`Failed to downgrade plan: ${t.message}`),this.setState({isLoading:!1})}},this._updateInfo=async()=>{const[e,t]=await Promise.all([this.enterprisecollections.askListCollections(),this.enterprisetags.askListTags()]);this.setState({teamBoards:t,teamCollections:e})},this.state={copyToPersonal:!1,isLoading:!1,step:0,teamBoards:[],teamCollections:[]}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs"),this.sliderService=streets.service("sliderService"),this._updateInfo()}componentWillUnmount(){this.enterprise=null,this.enterprisecollections=null,this.enterprisetags=null,this.signs=null,this.sliderService=null}render(){const{step:e}=this.state,t=this._getDowngradeFlow();return n.createElement("div",{className:"fx"},n.createElement("div",{className:"billing container630 centered"},this._renderDowngradeStep(t[e])))}}T.propTypes={onDone:g().func.isRequired};var I=s(67666);class N extends n.Component{componentDidMount(){const{onSubmit:e}=this.props;(0,I.createWidget)("sybd7YAl",{container:document.querySelector("#ProCancelReasonForm"),hidden:{email:streets.service("profile").getUserInfo().email,plan:streets.getPlan(),userid:streets.getUserId()},hideFooter:!0,hideHeaders:!0,onReady:()=>{streets.service("sliderService").getScrollTarget().scrollTop=0},onSubmit:()=>{e()}})}render(){return n.createElement("div",{className:"ProCancelReasonForm",id:"ProCancelReasonForm"})}}N.propTypes={onSubmit:g().func.isRequired}},38084:(e,t,s)=>{"use strict";s.d(t,{u:()=>d});var n=s(60216),i=s.n(n),r=s(32735),a=s(24818),o=s(62363),l=s(95192),c=s(7837);function d({brand:e,className:t,expirationMonth:s,expirationYear:n,last4:i,showWarnings:d}){const h=(0,o.y5)(e);let u;return(0,o.h6)({expirationMonth:s,expirationYear:n})?u=r.createElement(c.j,{className:"m-l-1",color:"danger",iconComponent:a.Z},"Expired"):(0,o._P)({expirationMonth:s,expirationYear:n})&&(u=r.createElement(c.j,{className:"m-l-1",color:"danger",iconComponent:a.Z},"Expiring Soon")),r.createElement("div",{className:`CardDetails ${t}`},!!h&&r.createElement(h,{importance:"secondary"}),r.createElement(l.x,{color:"secondary",size:"small",tagName:"span"},e," ending in ",i," expiring ",s,"/",n),d&&u)}d.propTypes={brand:i().string.isRequired,className:i().string,expirationMonth:i().number.isRequired,expirationYear:i().number.isRequired,last4:i().string.isRequired,showWarnings:i().bool},d.defaultProps={className:"",showWarnings:!1}},59663:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(47264);class c extends r.Component{constructor(e){super(e),this._showAll=()=>{this.setState({showAll:!0})},this.state={showAll:!1}}render(){const{card:e,className:t,kind:s,layout:n,limit:i,list:a,uniqueKey:c}=this.props,{showAll:d}=this.state,h=d?a:a.slice(0,i);return r.createElement("div",{className:o()("list-card",t)},r.createElement("div",{className:"row"},h.map(((t,s)=>{let i;return i="function"==typeof c?c.call(null,t):t[c],r.createElement("div",{className:n,key:i},r.cloneElement(e,{data:t,index:s}))}))),a.length>h.length&&r.createElement(l.zx,{importance:"secondary",onClick:this._showAll,label:s?`More ${s}s`:"More"}))}}c.propTypes={card:i().element.isRequired,className:i().string,kind:i().string,layout:i().string.isRequired,limit:i().number,list:i().arrayOf(i().object).isRequired,uniqueKey:i().oneOfType([i().string,i().func]).isRequired},c.defaultProps={className:"",kind:"",layout:"col-xs-12 col-md-4 m-b-1",limit:1e3}},25697:(e,t,s)=>{"use strict";s.d(t,{A:()=>O});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a);const l=(0,s(71262).Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M10 1.884a8.116 8.116 0 100 16.232 8.116 8.116 0 000-16.232zm0 1.5a6.616 6.616 0 110 13.232 6.616 6.616 0 010-13.232z"}),r.createElement("path",{d:"M10 5.812a4.187 4.187 0 100 8.375 4.187 4.187 0 000-8.375zm0 1.5a2.688 2.688 0 110 5.375 2.688 2.688 0 010-5.375z"}),r.createElement("path",{d:"M14.678 4.261a.75.75 0 011.133.977l-.072.084-2.779 2.779a.75.75 0 01-1.133-.977l.072-.084 2.779-2.779zM11.9 11.9a.75.75 0 01.976-.073l.084.072 2.779 2.779a.75.75 0 01-.977 1.133l-.084-.072-2.779-2.779a.75.75 0 010-1.06zM7.04 11.9a.75.75 0 011.133.976l-.072.084-2.779 2.779a.75.75 0 01-1.133-.977l.072-.084 2.779-2.779zM4.261 4.261a.75.75 0 01.977-.072l.084.072L8.101 7.04a.75.75 0 01-.977 1.133l-.084-.072L4.26 5.322a.75.75 0 010-1.06z"})))}));var c=s(5375),d=s(92814),h=s(54960),u=s(57471),p=s(8199),m=s(56295),g=s(3167),f=s(57993),y=s(88982),v=s(6931),b=s(47264),E=s(99348),C=s(23005),w=s(28576),k=s(94613);class _ extends r.Component{constructor(e){super(e),this._onAccessChange=e=>{this.setState({access:e})},this._onCreateClick=()=>{const{access:e}=this.state;this.setState({isButtonLoading:!0}),e===f.s.personal?this._createPersonalCollection():e===f.s.team&&this._createTeamCollection()},this._onNameChange=e=>{this._list.current&&this._list.current.resetSelection(),this.setState({name:e,error:(0,y.B)(e)?y.I:""})},this._list=r.createRef();const t=streets.hasAdminBusinessAccess();this.state={access:t?f.s.team:f.s.personal,error:"",isButtonLoading:!1,isLoading:!0,isUpgradeNeeded:!1,name:e.initialName,suggestions:[]}}componentDidMount(){this.feeds=streets.service("feeds"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections=streets.service("enterprisecollections"),this._updateSuggestions(),this._updateIsUpgradeNeeded()}UNSAFE_componentWillReceiveProps(e){e.feedId!==this.props.feedId&&this._updateSuggestions(e.feedId)}componentWillUnmount(){this.personalcollections=null,this.enterprisecollections=null,this.feeds=null,this._list=null}render(){const{isLoading:e}=this.state;return r.createElement("div",{className:"CreateCollectionMenu form"},e?r.createElement(C.g,null):this._renderBody())}_renderBody(){const{access:e,error:t,isButtonLoading:s,isUpgradeNeeded:n,name:i,suggestions:a}=this.state;return n?r.createElement(E.Ym,{size:"small"}):r.createElement(r.Fragment,null,r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"collection-name"},"Feed name"),r.createElement(v.At,{autoFocus:!0,clearable:!0,id:"collection-name",error:t,onChange:this._onNameChange,placeholder:"e.g. "+(a&&a.length?a[0]:"Design Systems"),type:"text",value:i})),this._renderSuggestions(),streets.isUserAdmin()&&r.createElement(k.Ee,{name:"access",onChange:this._onAccessChange,selectedValue:e,title:"Access"},r.createElement(k.Y8,{value:f.s.team}),r.createElement(k.Y8,{value:f.s.personal})),r.createElement(b.zx,{disabled:s||!!t||!i,label:"Create",loading:s,onClick:this._onCreateClick}),r.createElement(b.zx,{label:"Cancel",onClick:this.props.onCancel,importance:"secondary"}))}_renderSuggestions(){const{name:e,suggestions:t}=this.state,s=e.toLowerCase(),n=t.filter((e=>{const t=e.toLowerCase();return s!==t&&0===t.indexOf(s)}));return n.length?r.createElement(w.GX,{className:"field",deselectable:!0,ref:this._list},r.createElement("label",{htmlFor:"suggestions"},"Suggestions"),n.map((e=>r.createElement(w.sN,{key:e,className:"item-with-visuals",onClick:()=>{this._onNameChange(e)}},r.createElement(c.Z,{importance:"tertiary"}),e)))):null}async _createPersonalCollection(){const{name:e}=this.state,{feedId:t,feeds:s,feedTitle:n,onSourceFollowed:i,onSubmit:r,onSubmitError:a,scheme:o}=this.props;try{const a=await this.personalcollections.askSave({label:e},{silently:!0});t?await this.personalcollections.askAddFeed(a.id,{id:t,scheme:o,title:n}).then((()=>{i(t)})):s&&await this.personalcollections.askAddFeeds(a.id,s.map((({id:e,title:t})=>({id:e,title:t})))),r(a)}catch(l){l&&"duplicate label"===l.errorMessage?this.setState({error:"A collection with that name already exists.",isButtonLoading:!1}):a(l)}}async _createTeamCollection(){const{name:e}=this.state,{feedId:t,feeds:s,feedTitle:n,onSourceFollowed:i,onSubmit:r,onSubmitError:a,scheme:o}=this.props;try{const a=await this.enterprisecollections.askSave({label:e},{silently:!0});t?await this.enterprisecollections.askAddFeed(a.id,{id:t,scheme:o,title:n}).then((()=>{i(t)})):s&&await this.enterprisecollections.askAddFeeds(a.id,s.map((({id:e,title:t})=>({id:e,title:t})))),r(a)}catch(l){l&&"duplicate label"===l.errorMessage?this.setState({error:"A collection with that name already exists.",isButtonLoading:!1}):a(l)}}async _updateIsUpgradeNeeded(){const e=await this.personalcollections.askIsUpgradeNeededToCreate();this.setState({isLoading:!1,isUpgradeNeeded:e})}async _updateSuggestions(e=this.props.feedId){let{nameSuggestions:t}=this.props;if(!t){const s=await this.feeds.askMetadata(e);t=s&&s.topics||[]}this.setState({suggestions:t.map((e=>e.charAt(0).toUpperCase()+e.slice(1)))})}}_.propTypes={feedId:i().string,feeds:i().arrayOf(i().shape({id:i().string,title:i().string})),feedTitle:i().string,initialName:i().string,nameSuggestions:i().arrayOf(i().string),onCancel:i().func,onSourceFollowed:i().func,onSubmit:i().func,onSubmitError:i().func,scheme:i().string},_.defaultProps={feedId:null,feeds:null,feedTitle:null,initialName:"",nameSuggestions:null,onCancel:()=>{},onSourceFollowed:()=>{},onSubmit:()=>{},onSubmitError:()=>{},scheme:""};var M=s(74812),S=s(95192),T=s(10324),I=s(264),N=s(41528),P=s(68351),L=s(862),x=s(23013),D=s(52986);class O extends r.Component{constructor(e){super(e),this._onButtonClick=async()=>{const{feedId:e,feeds:t,onCollectionPickerOpened:s}=this.props;if(!streets.getUserId())return void askSignupFeedly();const n=(0,h.Qc)(e)||(0,u.tp)(e);t||!n||streets.isProLegacyPlan()||streets.hasProPlusAccess()||await this.feeds.askLookupFeed(e)?(n&&(this.setState({isGoogleFeedLoading:!0}),this.feeds.askRecentEntries(e).then((()=>{this.setState({isGoogleFeedLoading:!1})}))),this.setState((e=>({isOpen:!e.isOpen,showUpgradePrompt:!1})),(()=>{s(e)}))):window.setTimeout((()=>{streets.service("feedly").loadPage("pro/google-news")}),10)},this._onFilterTextChange=e=>{this.setState({filterText:e})},this._onCloseMenu=()=>{this.setState({isCreateMode:!1,isOpen:!1,filterText:"",showUpgradePrompt:!1})},this._onCollectionSelect=e=>{const{onCollectionSelect:t}=this.props;this.setState({isLoading:!0}),t(e)},this._onCollectionUpdateError=(e,t)=>{const{onUpdateError:s}=this.props;e.errorMessage?e.errorMessage.startsWith(m.S8)?(this.setState({isLoading:!1,isOpen:!1}),s(e,t)):e.errorMessage.startsWith(m.eo)&&this.setState({isLoading:!1,showUpgradePrompt:!0,isLimitReachedPersonal:t===f.s.personal,isLimitReachedTeam:t===f.s.team}):(this.signs.setDefaultErrorMessage(e),this.setState({isLoading:!1}))},this._onCreateCancel=()=>{this.setState({isCreateMode:!1,filterText:""})},this._onCreateClick=()=>{this.setState({isCreateMode:!0})},this._onCreateSubmit=e=>{const{onCollectionCreated:t}=this.props;t(e),this.setState({isCreateMode:!1,isOpen:!1,filterText:""})},this._onContactSupport=()=>{this.helpscout.open()},this.state={feedTitle:"",filterText:"",isCreateMode:!1,isGoogleFeedLoading:!1,isLoading:!1,isOpen:!1,isSubscribed:!1,showUpgradePrompt:!1}}componentDidMount(){this.collections=streets.service("collections"),this.enterprise=streets.service("enterprise"),this.enterprisecollections=streets.service("enterprisecollections"),this.feeds=streets.service("feeds"),this.helpscout=streets.service("helpscout"),this.personalcollections=streets.service("personalcollections"),this.signs=streets.service("signs"),this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),this._isMounted=!0,this._updateInfo()}componentDidUpdate(e){const{feedId:t,feedTitle:s}=this.props;(e.feedId!==t||s&&e.feedTitle!==s)&&this._updateInfo()}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.collections=null,this.enterprise=null,this.enterprisecollections=null,this.feeds=null,this.helpscout=null,this.personalcollections=null,this.signs=null,this._isMounted=!1}onFeedChanged(e){const{feedId:t}=this.props;t===e&&this._updateInfo()}onFeedsChanged(){const{feeds:e}=this.props;e&&(this.signs.showMessage("Bundle followed"),this._updateInfo())}render(){const{align:e,buttonLabel:t,children:s,className:n,disabled:i,feedId:a,feeds:l,float:d,importance:h,nameSuggestions:u,onSourceFollowed:p,scheme:m,size:f}=this.props,{feedTitle:y,filterText:v,isCreateMode:b,isOpen:E,isGoogleFeedLoading:C,isLoading:w,isSubscribed:k,showUpgradePrompt:N}=this.state;let P;if(N)P=this._renderUpgradeMenu();else if(C){const e=streets.service("feedly").getTheme();P=r.createElement("div",{className:"menu",style:{width:"300px"}},r.createElement(I.Z,{description:"Loading Google News source...",illustration:e===g.Bd.dark?D:x,size:"small"}))}else P=b?r.createElement(_,{feedId:a,feeds:l,feedTitle:y,initialName:v,nameSuggestions:u,onCancel:this._onCreateCancel,onSourceFollowed:p,onSubmit:this._onCreateSubmit,onSubmitError:this._onCollectionUpdateError,scheme:m}):r.createElement(r.Fragment,null,r.createElement(T.Z,{feedId:a,feeds:l,feedTitle:y,onClose:this._onCloseMenu,onSelect:this._onCollectionSelect,onSourceFollowed:p,onFilterChange:this._onFilterTextChange,onUpdateError:this._onCollectionUpdateError,scheme:m}),r.createElement("div",{className:"menu-footer",onClick:this._onCreateClick},r.createElement(c.Z,{color:"accent"}),r.createElement(S.x,{className:"menu-footer-text",color:"accent",size:"smaller",tagName:"span"},"New Feed")));const L=o()({[n]:n},t?{}:{follow:!k,"following-feed":k,"follow-all":!!l});return r.createElement(M.X,{align:e,caret:!0,className:L,disabled:i,float:d,label:this._getButtonLabel(),loading:w,importance:h,isOpen:E,menu:P,onButtonClick:this._onButtonClick,onCloseMenu:this._onCloseMenu,size:f,tipsy:"Save to collection",wrapperChildren:s})}_renderUpgradeMenu(){const{isLimitReachedPersonal:e,isLimitReachedTeam:t}=this.state;if(!e&&!t)return null;const s=r.createElement(d.Z,{color:"white"});let n;streets.isStandardPlan()||streets.isProStandardPlan()?n={icon:s,label:"Upgrade",uri:"pro/limit-proPlus-sources"}:streets.isProLegacyPlan()||streets.isProPlusPlan()||streets.isBusinessPlan()?n={icon:s,label:"Try Feedly Enterprise",uri:"pro/limit-enterprise-sources"}:streets.isEnterprisePlan()&&(n={icon:r.createElement(l,{color:"white"}),label:"Contact Support",onClick:this._onContactSupport});const i=streets.getPlan(),{accountLimits:a={}}=streets.service("profile").getUserInfo();return r.createElement("div",{className:"menu m-b-1",style:{width:"300px"}},r.createElement(I.Z,{description:r.createElement(S.x,{className:"m-t-0",size:"small"},r.createElement(N.D,{feature:"Sources",limit:a.maxFeeds,planType:p.vu[i],type:e?f.s.personal:f.s.team})),illustration:P,illustrationDark:L,size:"small",actions:[n]}))}_getButtonLabel(){const{isSubscribed:e}=this.state,{feeds:t,buttonLabel:s}=this.props;return s||(t?"Follow All":e?"Following":"Follow")}async _updateInfo(){const{feedId:e,feedTitle:t}=this.props;if(e){const[s,{title:n}]=await Promise.all([this.feeds.askLookupFeed(e),this.feeds.askMetadata(e)]);if(!this._isMounted)return;this.setState({feedTitle:t||n,isLoading:!1,isSubscribed:!!s})}else this.setState({isLoading:!1}),this._onCloseMenu()}}O.propTypes={align:i().string,buttonLabel:i().string,children:i().node,className:i().string,disabled:i().bool,feedId:i().string,feeds:i().arrayOf(i().object),feedTitle:i().string,float:i().string,importance:i().string,nameSuggestions:i().arrayOf(i().string),onCollectionPickerOpened:i().func,onSourceFollowed:i().func,onCollectionCreated:i().func,onCollectionSelect:i().func,onUpdateError:i().func,scheme:i().string,size:i().oneOf(["small","normal"])},O.defaultProps={align:"right",buttonLabel:"",children:null,className:"",disabled:!1,feedId:null,feeds:null,feedTitle:"",float:void 0,importance:"",nameSuggestions:null,onCollectionPickerOpened:()=>{},onSourceFollowed:()=>{},onCollectionSelect:()=>{},onCollectionCreated:()=>{},onUpdateError:void 0,scheme:"",size:"normal"}},11402:(e,t,s)=>{"use strict";s.d(t,{hf:()=>m,oI:()=>f,KD:()=>C,YL:()=>w,kl:()=>_,lq:()=>I,hw:()=>N,im:()=>D,SD:()=>O,Tq:()=>A,ui:()=>W,KY:()=>$,ob:()=>K});var n=s(60216),i=s.n(n),r=s(32735),a=s(39908),o=s(88982),l=s(47264),c=s(40280),d=s(6931),h=s(22735),u=s(99166),p=s(73265);class m extends r.Component{constructor(e){super(e),this._onCollectionSelect=e=>{this.setState({collectionToImport:e})},this._onDescriptionChange=e=>{this.setState({description:e})},this._onImageChange=e=>{e?this.setState({coverImageFile:e,deleteCover:!1}):this.setState({coverImageFile:null,deleteCover:!0})},this._onSubmit=e=>{const{collectionToImport:t,deleteCover:s,description:n,label:i}=this.state;if(e.preventDefault(),!i.length)return void this.setState({labelError:"The 'Name' field is required."});this.setState({isLoading:!0});const r={label:i.trim(),description:n.trim()};s&&(r.deleteCover=!0);const a="Feed created";t?this.personalcollections.askListCollectionFeeds(t.id).then((e=>{r.feeds=e,this._saveCollection(r,a)})):this._saveCollection(r,a)},this._onLabelChange=e=>{this.setState({label:e,labelError:(0,o.B)(e)?o.I:""})},this._onValueChange=(e,t)=>{this.setState({[e]:t})},this.state={collectionToImport:e.initialCollectionToImport,coverImage:null,coverImageFile:null,deleteCover:!1,description:"",id:null,label:e.initialLabel||"",labelError:"",isLoading:!1,personalCollections:[]}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.signs=streets.service("signs"),this._updatePersonalCollections()}componentWillUnmount(){this.enterprise=null,this.enterprisecollections=null,this.personalcollections=null,this.signs=null}render(){const{description:e,id:t,isLoading:s,label:n,labelError:i}=this.state,{onDone:a}=this.props;return r.createElement("div",{className:"fx"},r.createElement("section",{className:"container630 centered enterprise-tag-info-form"},this._renderHeader(),r.createElement("form",{className:"form m-b-2",onSubmit:this._onSubmit},r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:"enterprise-collection-title"},"Title"),r.createElement(d.At,{error:i,id:"enterprise-collection-title",placeholder:"Topic, industry, project, etc.",value:n,onChange:this._onLabelChange})),this._renderCollectionImport(),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"enterprise-collection-description"},"Description"),r.createElement(h.K,{id:"enterprise-collection-description",placeholder:"Describe the purpose of this feed to your teammates",value:e,rows:3,onChange:this._onDescriptionChange})),r.createElement(l.zx,{disabled:s,importance:"primary",label:t?"Save":"Create",loading:s,type:"submit"}),r.createElement(l.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:a}))))}_renderCollectionImport(){const{collectionToImport:e,personalCollections:t}=this.state;return r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"enterprise-collection-import"},"Copy personal feeds"),r.createElement(u.P,{defaultLabel:"None",fullWidth:!0,iconComponent:a.Z,id:"enterprise-collection-import",items:t,labelKey:"label",onItemSelect:this._onCollectionSelect,value:e&&e.label}))}_renderCoverImage(){const{coverImage:e}=this.state;return r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"cover-image"},"Cover Image"),r.createElement(p.a,{hint:"Drag and drop the image above or browse your computer. Recommended: 840px by 250px.",imageUrl:e,onFileChange:this._onImageChange}))}_renderHeader(){const{initialCollectionToImport:{label:e}={}}=this.props;return e?r.createElement(c.H2,{appearance:"h1",sub:"Copy this feed into your team space so that your teammates can easily follow it"},"Share ",e," Feed"):r.createElement(c.H2,{appearance:"h1",sub:"A list of sources, keyword alerts, or twitter feeds your team can follow together"},"Create a Team Feed")}_saveCollection(e,t){const{coverImageFile:s}=this.state;this.enterprisecollections.askSave(e).then((n=>{s?this.enterprisecollections.askSaveCoverImage(n.id,s).then((()=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(t),this.props.onDone(n),streets.service("feedly").loadPage(`collection/content/${n.id}`)})).catch((()=>{this.setState({formError:"Failed to save cover image.",isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(t),this.props.onDone(n),streets.service("feedly").loadPage(`collection/content/${n.id}`)),e.feeds&&e.feeds.length>0&&streets.service("checklist").askMarkTaskAsComplete("share-sources")})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({formError:"",labelError:"A collection with that name already exists."}):this.setState({formError:"Operation failed",labelError:""}),this.setState({isLoading:!1})}))}async _updatePersonalCollections(){const e=await this.personalcollections.askListCollections();this.setState({personalCollections:e})}}m.propTypes={initialLabel:i().string,initialCollectionToImport:i().shape({label:i().string}),onDone:i().func.isRequired},m.defaultProps={initialLabel:"",initialCollectionToImport:void 0};var g=s(74221);class f extends r.Component{render(){const{onDone:e}=this.props;let t="A private collection of trusted sources";return streets.isProLegacyPlan()?t+=" or keyword alerts":streets.hasProPlusAccess()&&(t+=", keyword alerts, or Twitter feeds"),t+=" you want to read",r.createElement("div",{className:"fx"},r.createElement("section",{className:"container630 centered"},r.createElement(c.H2,{appearance:"h1",sub:t},"Create New Feed"),r.createElement(A,{onDone:e,onCollectionChanged:e=>{const t=(0,g.BS)(e);streets.service("feedly").loadPage(`category/${t}`)}})))}}f.propTypes={onDone:i().func.isRequired};var y=s(34313),v=s(72405),b=s(49245),E=s(3562);class C extends r.Component{constructor(e){super(e),this._onTabChange=e=>{this.setState({activeTab:e})};const{streamInfo:{id:t}}=e;this.tabs=[];const{isGlobal:s}=(0,g.Yg)(t);s||this.tabs.push({component:O,id:"general",label:"General"},{component:N,id:"feeds",label:"Sources"}),this.tabs.push({component:W,id:"trainLeo",label:"Train Leo"}),s||this.tabs.push({component:E.U,id:"members",label:"Members"},{component:_,id:"email",label:"Newsletter"}),this.state={activeTab:e.defaultTab}}render(){return r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630 centered enterprise-tag-info-form"},r.createElement(v.Le,{scrollParent:".floatingEntryScroller",target:".slider-header"},(({isSticky:e})=>r.createElement("div",null,this._renderHeader({isSticky:!1}),e&&this._renderHeader({isSticky:e})))),this._renderTabs(),this._renderContent()))}_renderHeader({isSticky:e}){const{streamInfo:t}=this.props;return r.createElement(y.mU,{compact:e,kicker:e?"":t.label,sticky:e,title:"Feed Settings"})}_renderTabs(){return r.createElement(b.mQ,{active:this.state.activeTab,items:this.tabs,onChange:this._onTabChange})}_renderContent(){const{activeTab:e}=this.state,{onDone:t,streamInfo:s}=this.props,n=this.tabs.find((t=>t.id===e)).component;return r.createElement(n,{streamInfo:s,onDone:t})}}C.propTypes={defaultTab:i().string,onDone:i().func.isRequired,streamInfo:i().shape({label:i().string}).isRequired},C.defaultProps={defaultTab:"general"};class w extends r.Component{constructor(e){super(e),this._onTabChange=e=>{this.setState({activeTab:e})},this._tabComponents=Object.freeze({general:A,feeds:D,trainLeo:$}),this.state={activeTab:e.defaultTab,isLeoEnabled:!1}}componentDidMount(){this.leo=streets.service("leo"),this._updateIsLeoEnabled()}componentWillUnmount(){this.leo=null}render(){return r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630 centered enterprise-tag-info-form"},r.createElement(v.Le,{scrollParent:".floatingEntryScroller",target:".slider-header"},(({isSticky:e})=>r.createElement("div",null,this._renderHeader({isSticky:!1}),e&&this._renderHeader({isSticky:e})))),this._renderTabs(),this._renderContent()))}_renderHeader({isSticky:e}){const{streamInfo:t}=this.props;return r.createElement(y.mU,{compact:e,kicker:"Manage",sticky:e,title:t.label})}_renderTabs(){const{streamInfo:{id:e}}=this.props,{activeTab:t,isLeoEnabled:s}=this.state,n=[],{isAll:i}=(0,g.Yg)(e);return i||n.push({id:"general",label:"General"},{id:"feeds",label:"Sources"}),s&&n.push({id:"trainLeo",label:"Train Leo"}),r.createElement(b.mQ,{items:n,active:t,onChange:this._onTabChange})}_renderContent(){const{onDone:e,streamInfo:t}=this.props,{activeTab:s}=this.state,n=this._tabComponents[s];return r.createElement(n,{onDone:e,streamInfo:t})}async _updateIsLeoEnabled(){const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e})}}w.propTypes={defaultTab:i().string,onDone:i().func.isRequired,streamInfo:i().shape({label:i().string}).isRequired},w.defaultProps={defaultTab:"general"};var k=s(54591);class _ extends r.Component{constructor(e){super(e),this._updateEmailSettings=e=>{this.setState({emailSettings:e})},this._onSubmit=e=>{e.preventDefault(),this.setState({isLoading:!0});const t=this._generateApiInput();this.enterprisecollections.askSave(t).then((e=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage("Feed updated"),this.props.onDone(e)})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({formError:"",labelError:"A collection with that name already exists."}):this.setState({formError:`Failed to save collection settings: ${e.message}`,labelError:""}),this.setState({isLoading:!1})}))},this.enterprisecollections=streets.service("enterprisecollections"),this.state={emailSettings:e.streamInfo.emailSettings||this.enterprisecollections.getDefaultEmailSettings()}}UNSAFE_componentWillMount(){this.preferences=streets.service("preferences"),this.signs=streets.service("signs"),this.reader=streets.service("reader")}componentWillUnmount(){this.preferences=null,this.enterprisecollections=null,this.signs=null,this.reader=null}render(){return r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},this._renderForm())}_renderForm(){const{emailSettings:e,isLoading:t}=this.state;return r.createElement("div",null,r.createElement(k.o,{streamInfo:this.props.streamInfo,settings:e,onChange:this._updateEmailSettings}),r.createElement(l.zx,{disabled:t,label:"Update",loading:t,type:"submit"}),r.createElement(l.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:()=>this.props.onDone()}))}_generateApiInput(){return Object.assign({},this.props.streamInfo,{emailSettings:this.state.emailSettings})}}_.propTypes={onDone:i().func.isRequired,streamInfo:i().object.isRequired};var M=s(23005),S=s(96750),T=s(89685);class I extends r.Component{constructor(e){super(e),this.state={collection:null,scrollTarget:null}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.signs=streets.service("signs"),this.enterprisecollections.registerObserver(this),this._updateCollection(),this.setState({scrollTarget:streets.service("sliderService").getScrollTarget()})}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.enterprisecollections=null,this.signs=null}onCollectionsChanged(){this._updateCollection()}render(){const{collection:e,scrollTarget:t}=this.state;return e&&t?r.createElement("div",{className:"fx"},r.createElement("section",{className:"container630 centered m-b-2"},r.createElement(c.H2,{appearance:"h1",kicker:"Feeds"},e.label),this._renderInfoMessage()||this._renderFeeds())):r.createElement("div",{className:"fx"},r.createElement(M.g,{details:"collection"}))}_renderInfoMessage(){return 0===this.state.collection.feeds.length?r.createElement("p",null,"This collection currently has no feeds."):null}_renderFeeds(){const{collection:{feeds:e},scrollTarget:t}=this.state,s=streets.isUserAdmin();return r.createElement(S.A,{feedRenderer:e=>r.createElement(T.f,{feed:e,includeFollowButton:s,showMetadata:!0,showTopics:!0}),feeds:e,scrollTarget:t})}_updateCollection(){this.enterprisecollections.askLookupCollection(this.props.collectionId).then((e=>{this.setState({collection:e})})).catch((e=>{$feedly("Failed to update collection: ",e)}))}}I.propTypes={collectionId:i().string.isRequired};class N extends r.Component{constructor(e){super(e);const t=this.props.streamInfo;this.state={id:t.id,feeds:t.feeds||null}}componentDidMount(){this.setState({scrollTarget:streets.service("sliderService").getScrollTarget()})}render(){return r.createElement("div",{className:"m-y-2"},this._renderFeeds())}_renderFeeds(){const{feeds:e,scrollTarget:t}=this.state;return!(!e||!t)&&r.createElement(S.A,{feedRenderer:e=>r.createElement(T.f,{feed:e,includeFollowButton:!0,key:e.id,showMetadata:!0,showTopics:!0}),feeds:e,scrollTarget:t})}}N.propTypes={streamInfo:i().object},N.defaultProps={};var P=s(99348),L=s(68351),x=s(862);class D extends r.Component{constructor(e){super(e);const t=this.props.streamInfo;this.state={id:t.id,feeds:t.feeds||null}}componentDidMount(){this.reader=streets.service("reader"),this.personalcollections=streets.service("personalcollections"),this.signs=streets.service("signs"),this.feedly=streets.service("feedly"),this.reader.registerObserver(this),this._updateFeeds(),this.setState({scrollTarget:streets.service("sliderService").getScrollTarget()})}componentWillUnmount(){this.reader.unregisterObserver(this),this.feedly=null,this.reader=null,this.signs=null,this.personalcollections=null}render(){const{onDone:e,streamInfo:t}=this.props;return t.feeds.length?r.createElement("div",{className:"m-y-2"},this._renderFeeds()):r.createElement(P.ub,{header:"You're not currently following any sources",illustration:L,illustrationDark:x,description:"You can follow publications, blogs, keyword alerts, and twitter feeds.",actions:[{label:"Add content",onClick:()=>{this.feedly.loadPage("discover"),e()}}]})}_renderFeeds(){const{feeds:e,scrollTarget:t}=this.state;return e&&t?r.createElement(S.A,{feedRenderer:e=>r.createElement(T.f,{feed:e,includeFollowButton:!0,showMetadata:!0,showTopics:!0}),feeds:e,scrollTarget:t}):null}async _updateFeeds(){const{streamInfo:{id:e}}=this.props,t=await this.personalcollections.askLookupCollection(e);this.setState({feeds:t&&t.feeds})}}D.propTypes={streamInfo:i().object,onDone:i().func},D.defaultProps={};s(40841);class O extends r.Component{constructor(e){super(e),this._onValueChange=(e,t)=>{this.setState({[t]:e,labelError:(0,o.B)(e)?o.I:""})},this._onSubmit=e=>{e.preventDefault();const{coverImageFile:t,id:s,label:n}=this.state;if(!n.length)return void this.setState({labelError:"The 'Title' field is required."});this.setState({isLoading:!0});const i="Feed "+(s?"updated":"created"),r=this._generateApiInput();this.enterprisecollections.askSave(r).then((e=>{t?this.enterprisecollections.askSaveCoverImage(e.id,t).then((()=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(i),this.props.onDone(e)})).catch((()=>{this.setState({formError:"Failed to save cover image.",isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(i),this.props.onDone(e)),r.feeds&&r.feeds.length>0&&streets.service("checklist").askMarkTaskAsComplete("share-sources")})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({formError:"",labelError:"A collection with that name already exists."}):this.setState({formError:"Operation failed",labelError:""}),this.setState({isLoading:!1})}))};const{streamInfo:t}=this.props;this.state={coverImage:t.cover,coverImageFile:null,deleteCover:!1,description:t.description,id:t.id,label:t.label,labelError:"",loadCoverImage:!0}}UNSAFE_componentWillMount(){this.enterprise=streets.service("enterprise"),this.preferences=streets.service("preferences"),this.enterprisecollections=streets.service("enterprisecollections"),this.signs=streets.service("signs"),this.reader=streets.service("reader"),this.enterprise.registerObserver(this)}componentWillUnmount(){this.enterprise.unregisterObserver(this),this.preferences=null,this.enterprisecollections=null,this.signs=null,this.reader=null}render(){const{onDone:e}=this.props,{description:t,isLoading:s,label:n,labelError:i}=this.state;return r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:"title"},"Title"),r.createElement(d.At,{id:"title",error:i,placeholder:"Title",value:n,onChange:e=>{this._onValueChange(e,"label")}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"purpose"},"Purpose"),r.createElement(h.K,{id:"purpose",placeholder:"Why do you follow these feeds?",value:t,hint:"Example: Monitor trends in 3D printing industry, Discover content to share on LinkedIn, etc.",rows:3,onChange:e=>{this._onValueChange(e,"description")}})),this._renderCoverImage(),r.createElement(l.zx,{disabled:s,importance:"primary",label:"Save",loading:s,type:"submit"}),r.createElement(l.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:e}))}_renderCoverImage(){const{coverImage:e}=this.state;return r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"cover"},"Cover Image"),r.createElement(p.a,{hint:"Drag and drop the image above or browse your computer. Recommended: 840px by 250px.",imageUrl:e,onFileChange:this._onImageChange.bind(this)}))}_onImageChange(e){e?this.setState({coverImageFile:e,deleteCover:!1}):this.setState({coverImageFile:null,deleteCover:!0})}_generateApiInput(){const{deleteCover:e,description:t,id:s,label:n}=this.state,i={label:n?n.trim():null,description:t?t.trim():null};return s&&(i.id=s),e&&(i.deleteCover=!0),i}}O.propTypes={streamInfo:i().shape({cover:i().string,description:i().string,id:i().string,label:i().string}).isRequired,onDone:i().func.isRequired},O.defaultProps={};class A extends r.Component{constructor(e){super(e),this._onLabelChange=e=>{this.setState({label:e,labelError:(0,o.B)(e)?o.I:""})},this._onSubmit=async e=>{e.preventDefault();const{onCollectionChanged:t,onDone:s}=this.props;let{id:n,label:i=""}=this.state;if(i=i.trim(),i.length){this.setState({isButtonLoading:!0});try{if(n)await this.personalcollections.askSave({id:n,label:i}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage("Feed updated");else{n=(await this.personalcollections.askSave({label:i})).id}}catch(r){let e="Operation failed";return r.errorMessage&&r.errorMessage.indexOf("duplicate label")>-1&&(e="A feed with that name already exists."),void this.setState({isButtonLoading:!1,labelError:e})}this.setState({isButtonLoading:!1}),t(n),s()}else this.setState({labelError:"The 'Title' field is required."})};const{streamInfo:{id:t,label:s=""}={}}=e;this.state={id:t,isButtonLoading:!1,isLoading:!t,isUpgradeNeeded:!1,label:s,labelError:""}}componentDidMount(){this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.reader.registerObserver(this),this._updateIsUpgradeNeeded()}componentWillUnmount(){this.reader.unregisterObserver(this),this.personalcollections=null,this.reader=null,this.signs=null}render(){const{isButtonLoading:e,isLoading:t,isUpgradeNeeded:s,label:n,labelError:i}=this.state;return t?r.createElement(M.g,null):s?r.createElement(P.Ym,null):r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:"collection-title"},"Title"),r.createElement(d.At,{autoFocus:!0,error:i,id:"collection-title",onChange:this._onLabelChange,placeholder:"Title",value:n})),r.createElement(l.zx,{disabled:e,label:"Save",loading:e,type:"submit"}),r.createElement(l.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:()=>this.props.onDone()}))}async _updateIsUpgradeNeeded(){const{streamInfo:e}=this.props;if(e&&e.id)return;const t=await this.personalcollections.askIsUpgradeNeededToCreate();this.setState({isLoading:!1,isUpgradeNeeded:t})}}A.propTypes={onCollectionChanged:i().func,onDone:i().func.isRequired,streamInfo:i().shape({id:i().string,label:i().string})},A.defaultProps={onCollectionChanged:()=>{},streamInfo:void 0};var z=s(24443),R=s.n(z),F=s(2222),j=s(34039),U=s(63402),B=s(47395),H=s(42221),Y=s(81197),Z=s(63013);class W extends r.Component{constructor(e){super(e),this._onAddFilterClick=()=>{this.feedly.slideForm(Y.K,{initialFilter:{streamId:this.props.streamInfo.id}})},this._onAddPriorityClick=()=>{this.feedly.slideForm(U.qR,{initialPriority:{streamIds:[this.props.streamInfo.id]}})},this.state={isLeoEnabled:!1,isLoading:!0,muteFilters:null,legacyFilters:null,priorities:null}}componentDidMount(){this.enterprisefilters=streets.service("enterprisefilters"),this.enterprisemutefilters=streets.service("enterprisemutefilters"),this.enterprisepriorities=streets.service("enterprisepriorities"),this.feedly=streets.service("feedly"),this.leo=streets.service("leo"),this.priorities=streets.service("priorities"),this.enterprisemutefilters.registerObserver(this),this.enterprisefilters.registerObserver(this),this.enterprisepriorities.registerObserver(this),this._updateIsLeoEnabled(),this._updateInfo()}componentWillUnmount(){this.enterprisemutefilters.unregisterObserver(this),this.enterprisefilters.unregisterObserver(this),this.enterprisepriorities.unregisterObserver(this),this.enterprisefilters=null,this.enterprisemutefilters=null,this.enterprisepriorities=null,this.feedly=null,this.leo=null,this.priorities=null}onFiltersChanged(){this._updateInfo()}onMuteFiltersChanged(){this._updateInfo()}onPrioritiesChanged(){this._updateInfo()}onPriorityChanged(e){this.state.priorities.find((t=>t.id===e))&&this._updateInfo()}render(){const{globalPriorities:e,isLeoEnabled:t,isLoading:s,legacyFilters:n,muteFilters:i,priorities:a}=this.state,o=streets.hasAdminBusinessAccess();if(s)return r.createElement(M.g,null);if(!t)return r.createElement(P.P9,{description:"Leo learns what makes articles important so he can prioritize them in your Feedly."});const d=a.length+e.length,h=n.length+i.length,u=[{label:R()("Priority",d),value:d},{label:R()("Mute Filter",h),value:h}];return 0===e.length&&u.unshift({label:"Noise Reduction",value:`${(0,F.FR)(a)}%`}),r.createElement("div",{className:"m-y-2"},r.createElement("section",null,r.createElement(c.H3,{appearance:"h2"},"Summary"),r.createElement(Z.Z,{items:u,layout:"col-md-3 col-sm-12 m-b-h"})),r.createElement("section",null,r.createElement(c.H3,{appearance:"h2",sub:"Teach Leo to prioritize important articles"},r.createElement(l.zx,{className:"right floated",importance:"primary",onClick:this._onAddPriorityClick,label:"New Priority"}),"Priorities"),a.length>0&&r.createElement(H.EI,{priorities:a,team:!0}),e.length>0&&r.createElement("p",null,"See"," ",r.createElement(j.rU,{primary:!0,uri:"trainLeo"},e.length," ",R()("priority",e.length))," ","defined for all your team feeds"),0===d&&r.createElement("p",null,"No priorities yet")),r.createElement("section",null,o?r.createElement(c.H3,{appearance:"h2",sub:"Teach Leo to remove irrelevant articles from your feeds"},r.createElement(l.zx,{className:"right floated",importance:"primary",onClick:this._onAddFilterClick,label:"New Mute Filter"}),"Mute Filters"):r.createElement(c.H3,{appearance:"h2"},"Mute Filters"),i.length?r.createElement(B.NF,{filters:i,tableElement:B.JE,team:!0}):r.createElement("p",null,"No mute filters yet"),n.length>0&&r.createElement(r.Fragment,null,r.createElement(c.H3,{appearance:"h4"},"Legacy"),r.createElement(B.NF,{filters:n,tableElement:B.Cv,team:!0,isLegacy:!0}))))}async _updateInfo(){const{id:e}=this.props.streamInfo,[{priorities:t,globalPriorities:s},n,i]=await Promise.all([await this.priorities.askListStreamPriorities(e),await this.enterprisefilters.askListFiltersForFeed(e),await this.enterprisemutefilters.askListFiltersForFeed(e)]);this.setState({globalPriorities:s,isLoading:!1,legacyFilters:n,muteFilters:i,priorities:t})}async _updateIsLeoEnabled(){const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e})}}W.propTypes={streamInfo:i().shape({id:i().string}).isRequired};class $ extends r.Component{constructor(e){super(e),this._onAddFilterClick=()=>{this.feedly.slideForm(Y.K,{initialFilter:{streamId:this.props.streamInfo.id}})},this._onAddPriorityClick=()=>{this.feedly.slideForm(U.qR,{initialPriority:{streamIds:[this.props.streamInfo.id]}})},this.state={isLoading:!0,muteFilters:null,priorities:null}}componentDidMount(){this.personalfilters=streets.service("personalfilters"),this.personalmutefilters=streets.service("personalmutefilters"),this.personalpriorities=streets.service("personalpriorities"),this.priorities=streets.service("priorities"),this.feedly=streets.service("feedly"),this.personalfilters.registerObserver(this),this.personalmutefilters.registerObserver(this),this.personalpriorities.registerObserver(this),this._updateInfo()}componentWillUnmount(){this.personalfilters.unregisterObserver(this),this.personalmutefilters.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.personalfilters=null,this.personalmutefilters=null,this.personalpriorities=null,this.feedly=null,this.priorities=null}onFiltersChanged(){this._updateInfo()}onMuteFiltersChanged(){this._updateInfo()}onPrioritiesChanged(){this._updateInfo()}onPriorityChanged(e){this.state.priorities.find((t=>t.id===e))&&this._updateInfo()}render(){const{globalPriorities:e,isLoading:t,legacyFilters:s,muteFilters:n,priorities:i}=this.state,a=this.props.streamInfo.id,{isEnterprise:o}=(0,g.Yg)(a);if(t)return r.createElement(M.g,null);const d=i.length+e.length,h=s.length+n.length,u=[{label:R()("Priority",d),value:d},{label:R()("Mute Filter",h),value:h}];return 0===e.length&&u.unshift({label:"Noise Reduction",value:`${(0,F.FR)(i)}%`}),r.createElement("div",{className:"m-y-2"},r.createElement("section",null,r.createElement(c.H3,{appearance:"h2"},"Summary"),r.createElement(Z.Z,{items:u,layout:"col-md-3 col-sm-12 m-b-h"})),r.createElement("section",null,r.createElement(c.H3,{appearance:"h2",sub:"Teach Leo to prioritize important articles"},r.createElement(l.zx,{className:"right floated",importance:"primary",onClick:this._onAddPriorityClick,label:"New Priority"}),"Priorities"),i.length>0&&r.createElement(H.EI,{priorities:i}),e.length>0&&r.createElement("p",null,"See"," ",r.createElement(j.rU,{primary:!0,uri:"trainLeo"},e.length," ",R()("priority",e.length))," ","defined for all your personal feeds"),0===d&&r.createElement("p",null,"No priorities yet")),r.createElement("section",null,r.createElement(c.H3,{appearance:"h2",sub:"Teach Leo to remove irrelevant articles from your feeds"},r.createElement(l.zx,{className:"right floated",importance:"primary",onClick:this._onAddFilterClick,label:"New Mute Filter"}),"Mute Filters"),n.length?r.createElement(B.NF,{filters:n,tableElement:B.JE,team:o}):r.createElement("p",null,"No mute filters yet"),s.length>0&&r.createElement(r.Fragment,null,r.createElement(c.H3,{appearance:"h4"},"Legacy"),r.createElement(B.NF,{filters:s,isLegacy:!0,tableElement:B.Cv,team:o}))))}async _updateInfo(){const{id:e}=this.props.streamInfo,[{priorities:t,globalPriorities:s},n,i]=await Promise.all([await this.priorities.askListStreamPriorities(e),await this.personalfilters.askListFiltersForFeed(e),await this.personalmutefilters.askListFiltersForFeed(e)]);this.setState({globalPriorities:s,isLoading:!1,legacyFilters:n,muteFilters:i,priorities:t})}}$.propTypes={streamInfo:i().shape({id:i().string}).isRequired};var q=s(16847),V=s(57080),G=(s(28576),s(95192),s(55024)),Q=s(11681);class K extends r.Component{constructor(e){super(e),this._onCancel=()=>{this.state.isSaving||this.props.onClose()},this._onConfirm=async e=>{const{isWebAlertSource:t,onClose:s,streamId:n,webAlertId:i}=this.props,{isUnfollowBothChecked:r,personalCollections:a}=this.state;try{e.preventDefault(),this.setState({isSaving:!0}),await this.personalcollections.askRemoveFeedFromAll(n),!r&&a.length||await this.enterprisecollections.askRemoveFeedFromAll(n),t&&i&&await this.alerts.askDelete(i),streets.service("commonsigns").showMessage("Source Removed")}catch(o){streets.service("commonsigns").showError(o)}this.personalcollections&&s()},this._onUnfollowBothClick=()=>{this.setState((({isUnfollowBothChecked:e})=>({isUnfollowBothChecked:!e})))},this.state={isSaving:!1,isUnfollowBothChecked:!1,personalCollections:null,teamCollections:null}}componentDidMount(){this.alerts=streets.service("alerts"),this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this._updateEnterpriseCollections(),this._updatePersonalCollections()}componentWillUnmount(){this.alerts=null,this.enterprisecollections=null,this.personalcollections=null}render(){const{isModal:e,isDrawer:t}=this.props;return e?r.createElement(G.u_,{onClose:this._onCancel,small:!0},this._renderForm()):t?r.createElement(Q.dy,{onClose:this._onCancel},this._renderForm()):this._renderForm()}_renderForm(){const{streamLabel:e}=this.props,{isSaving:t,personalCollections:s,teamCollections:n}=this.state;if(!s||!n)return r.createElement(M.g,{details:"source details"});let i=[],a=!1,o="Feed";s.length?i=s:n.length&&(i=n,a=!0,o="Team Feed");const d=`Remove '${e}' from ${R()(o,i.length,!0)}?`,h=`It will be removed from ${(0,q.sw)(i.map((({label:e})=>`'${e}'`)),{limit:3})}.`;return r.createElement("form",{className:"form",onSubmit:this._onConfirm},r.createElement(c.H2,{appearance:"h3"},d),r.createElement("p",null,h),!a&&this._renderUnfollowBothCheckbox(),r.createElement(l.zx,{className:"",color:"danger",label:"Yes, Remove",loading:t,type:"submit"}),r.createElement(l.zx,{className:"",label:"Cancel",onClick:this._onCancel,importance:"secondary"}))}_renderUnfollowBothCheckbox(){const{teamCollections:e,isUnfollowBothChecked:t}=this.state,s=e.length;return s?r.createElement(V.X,{className:"m-b-1",checked:t,onChange:this._onUnfollowBothClick},`Also remove it from ${R()("Team Feed",s,!0)}, `,s>1&&"including ",(0,q.sw)(e.map((({label:e})=>`'${e}'`)),{limit:3}),"."):null}async _updateEnterpriseCollections(){const{streamId:e}=this.props;let t;streets.isUserAdmin()&&(t=await this.enterprisecollections.askListCollectionsForFeed(e)),this.setState({teamCollections:t||[]})}async _updatePersonalCollections(){const{streamId:e}=this.props,t=await this.personalcollections.askListCollectionsForFeed(e);this.setState({personalCollections:t||[]})}}K.propTypes={isDrawer:i().bool,isModal:i().bool,isWebAlertSource:i().bool,onClose:i().func.isRequired,streamId:i().string.isRequired,streamLabel:i().string,webAlertId:i().string},K.defaultProps={isDrawer:!1,isModal:!1,isWebAlertSource:!1,streamLabel:"this source",webAlertId:""}},49616:(e,t,s)=>{"use strict";s.d(t,{T:()=>d});var n=s(60216),i=s.n(n),r=s(32735),a=s(39908),o=s(74221),l=s(74812),c=s(28576);class d extends r.Component{static getCollectionForAllEnterprise(){const e=(0,o.Gr)();let t;return e&&(t={id:e,label:"All Team Feeds",streamId:e}),t}static getCollectionForAllPersonal(){const e=(0,o.N1)();let t;return e&&(t={id:e,label:"All Personal Feeds",streamId:e}),t}constructor(e){super(e),this._renderMenu=()=>{const{prefixedCollections:e=[],showPersonal:t,showTeam:s}=this.props;let{enterpriseCollections:n,personalCollections:i}=this.state;return n=s?n:[],i=t?i:[],r.createElement(c.GX,{maxHeight:"50vh"},e.map((e=>this._renderMenuItem(e))),n.length>0&&r.createElement(c.NP,null,"Team Feeds"),n.map((e=>this._renderMenuItem(e))),i.length>0&&(e.length>0||n.length>0)&&r.createElement(c.NP,null,"Personal Feeds"),i.map((e=>this._renderMenuItem(e))))},this._renderMenuItem=e=>r.createElement(c.sN,{key:e.id,onClick:t=>{t.preventDefault(),this._closeMenu(),this.props.onSelect(e)}},r.createElement(a.Z,{importance:"tertiary"}),e.label),this._closeMenu=()=>{this.setState({isOpen:!1})},this._onButtonClick=()=>{this.setState((({isOpen:e})=>({isOpen:!e})))},this.state={enterpriseCollections:[],isLoadingEnterprise:!0,isLoadingPersonal:!0,isOpen:!1,personalCollections:[]}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),this.reader.registerObserver(this),this._updatePersonalCollections(),this._updateEnterpriseCollections()}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.reader.unregisterObserver(this),this.enterprisecollections=null,this.personalcollections=null,this.reader=null,this.signs=null}render(){const{className:e,id:t}=this.props,{isOpen:s}=this.state;return r.createElement(l.X,{className:e,dropDownArrow:!0,fullWidth:!0,id:t,isOpen:s,label:this._getSelectedLabel()||"Please select a feed",menu:this._renderMenu(),onButtonClick:this._onButtonClick,onCloseMenu:this._closeMenu})}_getSelectedLabel(){const{prefixedCollections:e,selected:t}=this.props,{enterpriseCollections:s,isLoadingEnterprise:n,isLoadingPersonal:i,personalCollections:r}=this.state;let a;if(t){const l="string"==typeof t?t:t.id,{isEnterprise:c}=(0,o.Yg)(l);let d;if(e&&(d=e.find((e=>l===e.id))),!d){d=(c?s:r).find((e=>l===e.id))}a=d?d.label:c&&n||i?"Loading...":"Unknown feed"}return a}async _updateEnterpriseCollections(){try{const{showAll:e}=this.props;let t=[];const s=await this.enterprisecollections.askListCollections();s.length&&(t=e?[...s,d.getCollectionForAllEnterprise()]:s),this.setState({enterpriseCollections:t,isLoadingEnterprise:!1})}catch(e){this.signs.setDefaultErrorMessage(e)}}async _updatePersonalCollections(){const{showAll:e}=this.props;this.setState({isLoadingPersonal:!1,personalCollections:[...await this.personalcollections.askListCollections(),...e?[d.getCollectionForAllPersonal()]:[]]})}}d.propTypes={className:i().string,id:i().string,prefixedCollections:i().arrayOf(i().shape({id:i().string,label:i().string})),showPersonal:i().bool,showTeam:i().bool,selected:i().oneOfType([i().shape({id:i().string}),i().string]),showAll:i().bool,onSelect:i().func.isRequired},d.defaultProps={className:void 0,id:void 0,prefixedCollections:void 0,showPersonal:!1,showTeam:!1,selected:void 0,showAll:!1}},56962:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var n=s(32735),i=s(60216),r=s.n(i);class a extends n.Component{render(){const{conjunction:e,limit:t,showLimitCount:s}=this.props;let{children:i}=this.props;if(i=n.Children.toArray(this.props.children),!i||!i.length||t<1)return null;const r=t===1/0?i:i.slice(0,t),a=i.length-r.length;if(a&&r.push(s?`${a} more`:"more"),r.length>1){const t=r.length-1;r[t]=n.createElement(n.Fragment,{key:"CommaDelimited__conjunction"},`${e} `,r[t])}const o=r.length>2?", ":" ";return n.createElement(n.Fragment,null,this._insertBetween(r,o))}_insertBetween(e,t){const s=e.length-1;return e.reduce(((e,n,i)=>(e.push(n),i!==s&&e.push(t),e)),[])}}a.propTypes={children:r().arrayOf(r().node),conjunction:r().string,limit:r().number,showLimitCount:r().bool},a.defaultProps={conjunction:"and",limit:1/0,showLimitCount:!1,children:[]}},66617:(e,t,s)=>{"use strict";s.d(t,{on:()=>o,JH:()=>l,_t:()=>h,to:()=>y,tL:()=>I});var n=s(60216),i=s.n(n),r=s(32735);const a=/(?:\s|^|\[|\()\+[^\s]*/g;class o extends r.Component{constructor(e){super(e),this._onMentionRef=e=>{this._target=e}}componentDidMount(){let{decoratedText:e,offsetKey:t}=this.props;this.props.register(t,this._target),this.props.onSearchChange(t,e)}componentDidUpdate(e){let t=this.props.decoratedText;e.decoratedText!==t&&this.props.onSearchChange(this.props.offsetKey,t)}componentWillUnmount(){this.props.unregister(this.props.offsetKey)}render(){return r.createElement("span",{ref:this._onMentionRef},this.props.children)}}o.propTypes={children:i().node,decoratedText:i().string.isRequired,offsetKey:i().string.isRequired,onSearchChange:i().func,register:i().func,unregister:i().func},o.REGEX=a,o.STRATEGY=(e,t)=>{let s,n,i,r=e.getText();for(;null!==(n=a.exec(r));)s=n[0],i=n.index,t(i+s.indexOf("+"),i+s.length)};class l extends r.Component{componentWillUnmount(){const{contentState:e,entityKey:t,onRemove:s}=this.props;s&&s(e.getEntity(t).data)}render(){return r.createElement("span",{className:"comment-mention"},this.props.children)}}l.propTypes={children:i().node,contentState:i().shape({getEntity:i().func}),entityKey:i().string,onRemove:i().func},l.defaultProps={children:void 0,contentState:void 0,entityKey:void 0,onRemove:void 0},l.STRATEGY=(e,t,s)=>{e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&"mention"===s.getEntity(t).getType()}),t)};const c=/(?:\s|^|\[|\()[@#][\w\.-]*/g,d=/@|#/;class h extends r.Component{constructor(e){super(e),this._onMentionRef=e=>{this._target=e}}componentDidMount(){let{decoratedText:e,offsetKey:t}=this.props;this.props.register(t,this._target),this.props.onSearchChange(t,e)}componentDidUpdate(e){let{decoratedText:t,offsetKey:s}=this.props;e.decoratedText!==t&&this.props.onSearchChange(s,t)}componentWillUnmount(){this.props.unregister(this.props.offsetKey)}render(){return r.createElement("span",{ref:this._onMentionRef},this.props.children)}}h.propTypes={children:i().node,decoratedText:i().string.isRequired,offsetKey:i().string.isRequired,onSearchChange:i().func,register:i().func,unregister:i().func},h.REGEX=c,h.STRATEGY=(e,t)=>{let s,n,i,r=e.getText();for(;null!==(n=c.exec(r));)s=n[0],i=n.index,t(i+s.search(d),i+s.length)};var u=s(28576),p=s(46291);const m={"+":"email","@":"name","#":"channelName"},g=/.+@.+\..+/,f=/^[@#\+]/;class y extends r.Component{constructor(e){super(e),this._onAfterMouseDown=()=>{const{onSelectMouseUp:e}=this.props;this._handleAfterMouseDown=null,e()},this._list=r.createRef(),this.state={suggestions:[]}}UNSAFE_componentWillMount(){this.enterprise=streets.service("enterprise"),this.enterprise.askListSlackUsers().then((e=>{if(!e||!e.length)return;const t=e.slice().sort(((e,t)=>e.name.localeCompare(t.name)));this.setState({slackUsers:t},(()=>{this._updateSuggestionsList(this.props)}))})),this.enterprise.askListSlackChannels().then((e=>{if(!e||!e.length)return;const t=e.slice().sort(((e,t)=>e.channelName.localeCompare(t.channelName)));this.setState({slackChannels:t},(()=>{this._updateSuggestionsList(this.props)}))})),this.enterprise.askListUsers().then((e=>{if(!e||!e.length)return;const t=e.filter((e=>!!e.email)).slice().sort(((e,t)=>e.email.localeCompare(t.email)));this.setState({emails:t},(()=>{this._updateSuggestionsList(this.props)}))}))}UNSAFE_componentWillReceiveProps(e){const t=this.props;e.searchText===t.searchText&&typeof e.target==typeof t.target&&typeof e.offsetParent==typeof t.offsetParent||this._updateSuggestionsList(e)}componentDidUpdate(e,t){const s=this.state.suggestions,n=this.props.onIsEmpty;s.length&&!t.suggestions.length&&n?n(!1):!s.length&&t.suggestions.length&&n&&n(!0)}componentWillUnmount(){window.clearTimeout(this._handleAfterMouseDown),this._handleAfterMouseDown=null,this.enterprise=null,this._list=null}parseIntoSuggestion(e){let t=e.match(f);t=t&&t[0];const s=m[t];let n=this._getOptionsForPrefix(t);const i=e.replace(f,"");if("+"!==t||n||(n=[]),!s||!n||!i)return null;const r=i.toLowerCase();for(let a,o=0;a=n[o];o+=1)if(a[s].toLowerCase()===r)return{name:a[s],prefix:t};return"+"===t&&g.test(i)?{name:i,prefix:t}:null}render(){const{offsetParent:e,target:t}=this.props,{prefix:s,suggestions:n}=this.state,i=m[s];return n.length?r.createElement(p.J,{align:"start",offsetParent:e,target:t},r.createElement(u.GX,{ref:this._list},n.map((e=>{const t=e[i];return r.createElement(u.sN,{key:t,onClick:()=>{this._afterMouseDown||this._onSelect(s,t)},onMouseDown:()=>{this._onSelect(s,t),this._handleAfterMouseDown=window.setTimeout(this._onAfterMouseDown,0)}},s+t)})))):null}_getOptionsForPrefix(e){let t;const s=this.state;return"#"===e?t=s.slackChannels:"@"===e?t=s.slackUsers:"+"===e&&(t=s.emails),t||null}_onSelect(e,t){const s=this.props.onSelect;s&&s(e,t)}_updateSuggestionsList(e){let{searchText:t}=e;const{offsetParent:s,target:n}=e,i=t&&t.charAt(0),r=this._getOptionsForPrefix(i);if(!(n&&s&&t&&r))return void this.setState({suggestions:[]});if(t=t.replace(f,""),!t)return this._list.current&&this._list.current.resetSelection(),void this.setState({prefix:i,suggestions:r.slice(0,5)});let a,o;const l=t.toLowerCase(),c=m[i];let d;for(let h=0;d=r[h];h+=1)if(0===d[c].toLowerCase().indexOf(l)){a=h;break}if(void 0===a)return void this.setState({suggestions:[]});for(let h=Math.min(a+5,r.length)-1;d=r[h];h-=1)if(0===d[c].toLowerCase().indexOf(l)){o=h;break}this._list.current&&this._list.current.resetSelection(),this.setState({prefix:i,suggestions:r.slice(a,o+1)})}}y.propTypes={offsetParent:i().object,onSelect:i().func.isRequired,onSelectMouseUp:i().func.isRequired,onIsEmpty:i().func.isRequired,searchText:i().string,target:i().object},y.defaultProps={offsetParent:null,searchText:"",target:null};var v=s(40841),b=s.n(v),E=s(55631),C=s.n(E),w=s(6880),k=s(47264),_=s(7860),M=s(77817);const S=/\+/,T=/@|#/;class I extends r.Component{constructor(e){super(e),this._changeToEditMode=()=>{this.setState({isEditing:!0})},this._handleBeforeInput=e=>{const{suggestionTargetOffsetKey:t,suggestionTargetsText:s}=this.state;if(!t||" "!==e)return!1;const n=this._suggestionList.parseIntoSuggestion(s[t]);return n&&this._onSuggestionSelect(n.prefix,n.name),!!n},this._handleReturn=()=>{const{suggestionTargetOffsetKey:e,suggestionTargetsText:t}=this.state;if(e){const s=this._suggestionList.parseIntoSuggestion(t[e]);if(s)return this._onSuggestionSelect(s.prefix,s.name),!0}return!1},this._handlePastedText=e=>{let{editorState:t}=this.state;const s=w.Modifier.replaceText(t.getCurrentContent(),t.getSelection(),e);let n=w.EditorState.createWithContent(s);const i=s.getBlocksAsArray(),r=s.getSelectionAfter(),a=i.indexOf(s.getBlockForKey(r.getAnchorKey())),l=i.lastIndexOf(s.getBlockForKey(r.getFocusKey())),c=[],d=[],u=e=>{const t=this._suggestionList.parseIntoSuggestion(e);return t&&(T.test(t.prefix)?c.push(t.prefix+t.name):d.push(t.name)),!!t};return i.forEach(((e,t)=>{t<a||t>l||(n=this._getEntityEditorState(e,n,h.REGEX,T,u),n=this._getEntityEditorState(e,n,o.REGEX,S,u))})),t=w.EditorState.push(t,n.getCurrentContent(),"insert-characters"),t=w.EditorState.forceSelection(t,r),this.setState({editorState:t,emailMentions:C()(this.state.emailMentions,{$push:d}),slackMentions:C()(this.state.slackMentions,{$push:c})}),!0},this._onCancelClick=()=>{this._askResetUI().then((()=>{this.props.onCancel&&this.props.onCancel()}))},this._onEditorStateChange=e=>{this.setState({editorState:e})},this._onInputBlur=()=>{const{editorState:e}=this.state;this.setState({isEditing:!(!e||!e.getCurrentContent().hasText()),suggestionTargetOffsetKey:null,suggestionTargetStart:null,suggestionTargetEnd:null})},this._onMentionRemove=e=>{let{emailMentions:t,slackMentions:s}=this.state;const{name:n,prefix:i}=e;if(S.test(i)){const e=t.indexOf(n);e>-1&&(t=t.slice(),t.splice(e,1))}else if(T.test(i)){const e=s.indexOf(i+n);e>-1&&(s=s.slice(),s.splice(e,1))}this.setState({emailMentions:t,slackMentions:s})},this._onMentionSearchChange=(e,t)=>{this.setState({suggestionTargetsText:C()(this.state.suggestionTargetsText,{$merge:{[e]:t}})})},this._onSuggestionListRef=e=>{this._suggestionList=e},this._onSuggestionSelect=(e,t)=>{if(!e||!t)return;const{editorState:s,suggestionTargetEnd:n,suggestionTargetStart:i}=this.state;let{emailMentions:r,slackMentions:a}=this.state;const o=s.getSelection();let l=this._convertToMentionEntity(s,o.merge({anchorOffset:i,focusOffset:n}),{prefix:e,name:t});n===s.getCurrentContent().getBlockForKey(o.getAnchorKey()).getLength()&&(l=w.Modifier.insertText(l,l.getSelectionAfter()," "));const c=w.EditorState.push(s,l,"insert-mention");w.EditorState.forceSelection(c,l.getSelectionAfter()),T.test(e)?a=C()(a,{$push:[e+t]}):r=C()(r,{$push:[t]}),this.setState({emailMentions:r,slackMentions:a,mentionSearchText:null,suggestionsTarget:null,editorState:c})},this._onSuggestionSelectMouseUp=()=>{this._editor.current.focus()},this._onSuggestionTargetCreate=(e,t)=>{this.setState({suggestionTargets:C()(this.state.suggestionTargets,{$merge:{[e]:t}})})},this._onSuggestionTargetRemove=e=>{this.setState({suggestionTargetsText:C()(this.state.suggestionTargetsText,{$merge:{[e]:null}}),suggestionTargets:C()(this.state.suggestionTargets,{$merge:{[e]:null}})})},this._onSubmit=async()=>{this.setState({isLoading:!0});const{onSubmit:e}=this.props;await this._askSaveAnnotation(),await this._askResetUI(),e&&e()},this._onIsSuggestionListEmpty=e=>{this.setState({isSuggestionListEmpty:e})},this._onPopoverOffsetParent=e=>{e&&this.setState({popoverOffsetParent:e})},this._editor=r.createRef(),this._decorator=new w.CompositeDecorator([{strategy:l.STRATEGY,component:e=>r.createElement(l,Object.assign({},e,{onRemove:this._onMentionRemove}))},{strategy:h.STRATEGY,component:e=>r.createElement(h,Object.assign({},e,{onSearchChange:this._onMentionSearchChange,register:this._onSuggestionTargetCreate,unregister:this._onSuggestionTargetRemove}))},{strategy:o.STRATEGY,component:e=>r.createElement(o,Object.assign({},e,{onSearchChange:this._onMentionSearchChange,register:this._onSuggestionTargetCreate,unregister:this._onSuggestionTargetRemove}))}]),this.state={editorState:this._getInitialEditorState(e),isEditing:!1,isLoading:!1,isSuggestionListEmpty:!0,emailMentions:e.initialEmailMentions||[],slackMentions:e.initialSlackMentions||[],suggestionTargetOffsetKey:null,suggestionTargets:{},suggestionTargetsText:{}}}componentDidMount(){this.reader=streets.service("reader")}componentDidUpdate(e,t){const{annotationId:s,saveState:n}=this.props,i=this.state,{emailMentions:r,isEditing:a,slackMentions:o,suggestionTargets:l}=i;let{editorState:c}=i;const d=t.editorState.getCurrentContent().getPlainText(),h=c.getCurrentContent().getPlainText();d===h&&t.emailMentions===r&&t.slackMentions===o||n({initialEmailMentions:r,initialSlackMentions:o,initialText:h}),(s&&!e.annotationId||a&&!t.isEditing)&&(c=w.EditorState.moveFocusToEnd(c),this.setState({editorState:c}));const u=t.editorState.getSelection(),p=c.getSelection();let m=null,g=null,f=null;if(p.isCollapsed()&&p.getHasFocus()){const e=p.getAnchorKey(),t=p.getAnchorOffset();for(let s in l){if(!l[s])continue;const[n,i,r]=s.split("-");if(n===e){const e=c.getBlockTree(n).getIn([i,"leaves",r]);if(!e)continue;if(e.start<t&&e.end>=t){m=s,f=e.start,g=e.end;break}}}}else if(!p.getHasFocus()&&u.getHasFocus()&&this.state.suggestionTargetOffsetKey){const e=this._suggestionList.parseIntoSuggestion(this.state.suggestionTargetsText[this.state.suggestionTargetOffsetKey]);e&&this._onSuggestionSelect(e.prefix,e.name)}m===i.suggestionTargetOffsetKey&&f===i.suggestionTargetStart&&g===i.suggestionTargetEnd||this.setState({suggestionTargetOffsetKey:m,suggestionTargetStart:f,suggestionTargetEnd:g})}componentWillUnmount(){this._decorator=null,this.reader=null}render(){const{annotationId:e,hideButtons:t,user:s}=this.props,{editorState:n,isEditing:i,isLoading:a,isSuggestionListEmpty:o,popoverOffsetParent:l,suggestionTargetOffsetKey:c,suggestionTargets:d,suggestionTargetsText:h}=this.state;let u="Add note";return streets.hasBusinessAccess()&&i&&(u="mention someone via +email or @slack"),r.createElement("div",{className:b()({comment:!0,"comment-new":!i&&!e}),onClick:i?null:this._changeToEditMode},r.createElement(M.q,{alt:s.fullName||s.email,className:"item-large",url:s.picture}),r.createElement("div",{ref:this._onPopoverOffsetParent,className:"form"},i&&r.createElement("div",{className:"item-header small"},"You"),r.createElement(_.O,{ref:this._editor,editorState:n,handleBeforeInput:this._handleBeforeInput,handlePastedText:this._handlePastedText,handleReturn:this._handleReturn,ignoreEnterKey:!o,ignoreArrowKeys:!o,onBlur:this._onInputBlur,onChange:this._onEditorStateChange,onFocus:this._changeToEditMode,placeholder:u,readOnly:a,style:{minHeight:i?"4.5rem":null,marginTop:i?"0.5rem":null}}),i&&!t&&[r.createElement(k.zx,{key:"submit",disabled:!n.getCurrentContent().hasText(),label:e?"Update":"Add note",loading:a,onClick:this._onSubmit}),r.createElement(k.zx,{key:"cancel",disabled:a,label:"Cancel",onClick:this._onCancelClick,importance:"secondary"})],r.createElement(y,{ref:this._onSuggestionListRef,offsetParent:l,onSelect:this._onSuggestionSelect,onSelectMouseUp:this._onSuggestionSelectMouseUp,onIsEmpty:this._onIsSuggestionListEmpty,searchText:h[c],target:d[c]})))}async askSaveComment(){const{editorState:e,isEditing:t}=this.state;return t&&e.getCurrentContent().hasText()?this._askSaveAnnotation():null}_getInitialEditorState(e){const{annotationId:t,initialEmailMentions:s,initialSlackMentions:n,initialText:i}=e;let r;if(i){if(r=w.EditorState.createWithContent(w.ContentState.createFromText(e.initialText)),n&&n.length||s&&s.length){r.getCurrentContent().getBlockMap().forEach((e=>{r=this._convertToEntities(e,r,n,h.REGEX,T),r=this._convertToEntities(e,r,s&&s.map((e=>"+"+e)),o.REGEX,S)}))}t&&(r=w.EditorState.moveFocusToEnd(r))}else r=w.EditorState.createEmpty();return r=w.EditorState.set(r,{decorator:this._decorator}),r}_convertToEntities(e,t,s,n,i){if(!s||!s.length)return t;return this._getEntityEditorState(e,t,n,i,(e=>s.indexOf(e)>-1))}_convertToMentionEntity(e,t,s){const n=e.getCurrentContent(),i=n.createEntity("mention","IMMUTABLE",s);return w.Modifier.replaceText(n,t,s.prefix+s.name,null,i.getLastCreatedEntityKey())}_getEntityEditorState(e,t,s,n,i){let r,a,o;const l=w.SelectionState.createEmpty(e.getKey());let c;const d=e.getText();let h=t;const u=new RegExp(s.source,s.flags);for(;r=u.exec(d);)if(o=r[0].search(n),c=o+r.index,a=r[0].slice(o),i(a)){const e=this._convertToMentionEntity(h,l.merge({anchorOffset:c,focusOffset:c+a.length}),{name:a.substr(1),prefix:a.charAt(0)});h=w.EditorState.createWithContent(e)}return h}async _askSaveAnnotation(){this.setState({isLoading:!0});const{annotationId:e,entryId:t}=this.props,{editorState:s,emailMentions:n,slackMentions:i}=this.state,r=s.getCurrentContent().getPlainText();return e?this.reader.askUpdateAnnotation(t,e,{comment:r,emailMentions:n,slackMentions:i}):this.reader.askAddAnnotation(t,{comment:r,emailMentions:n,slackMentions:i})}_askResetUI(){return new Promise((e=>{this.setState({editorState:this._getInitialEditorState(this.props),emailMentions:this.props.initialEmailMentions||[],isEditing:!1,isLoading:!1,slackMentions:this.props.initialSlackMentions||[],suggestionTargets:{},suggestionTargetsText:{}},e)}))}}I.propTypes={annotationId:i().string,entryId:i().string.isRequired,initialEmailMentions:i().arrayOf(i().string),initialSlackMentions:i().arrayOf(i().string),initialText:i().string,hideButtons:i().bool,onCancel:i().func,onSubmit:i().func,saveState:i().func,user:i().shape({fullName:i().string,email:i().string,picture:i().string})},I.defaultProps={annotationId:void 0,initialEmailMentions:void 0,initialSlackMentions:void 0,initialText:"",hideButtons:!1,onCancel:void 0,onSubmit:void 0,saveState:()=>{},user:void 0}},69937:(e,t,s)=>{"use strict";s.d(t,{e:()=>d});var n=s(40841),i=s.n(n),r=s(60216),a=s.n(r),o=s(32735),l=s(91809),c=s(47264);class d extends o.Component{constructor(...e){super(...e),this.state={isEmailCopied:!1},this._onCopyClick=async()=>{const{email:e,onCopyClick:t}=this.props;await(0,l.v)(e),this.setState({isEmailCopied:!0}),t()}}render(){const{isEmailCopied:e}=this.state,{className:t,email:s,fixedWidth:n}=this.props;return o.createElement("div",{className:i()("CopyEmail",t,{"CopyEmail--fixed-width":n})},s,o.createElement(c.zx,{className:"right floated",color:"accent",importance:"tertiary",label:e?"Copied":"Copy Email",onClick:this._onCopyClick}))}}d.propTypes={className:a().string,email:a().string.isRequired,fixedWidth:a().bool,onCopyClick:a().func},d.defaultProps={className:"",fixedWidth:!1,onCopyClick:()=>{}}},95234:(e,t,s)=>{"use strict";s.d(t,{_:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(88709),o=s(47264);function l({associatedEntities:e,className:t,onSearchEntity:s,type:i}){if(!e||!e.length)return null;let r;return r=i===a.Mn.threatActor?"Associated Malware Families: ":"Actors: ",n.createElement("p",{className:t},r,e.slice(0,5).map(((e,t)=>{const{id:i,label:r}=e;return n.createElement(n.Fragment,{key:i},t?", ":"",n.createElement(o.ZP,{className:"CybersecurityAssociatedEntities__link",onClick:()=>{s(e)}},r))})))}l.propTypes={associatedEntities:r().arrayOf(r().shape({id:r().string,label:r().string})),className:r().string,onSearchEntity:r().func.isRequired,type:r().string},l.defaultProps={associatedEntities:[],className:"",type:""}},71792:(e,t,s)=>{"use strict";s.d(t,{Mb:()=>G,gF:()=>Q,XA:()=>ne,Xq:()=>X,qo:()=>le,lC:()=>de});var n=s(33259),i=s.n(n),r=s(10268),a=s.n(r),o=s(7566),l=s.n(o),c=s(75453),d=s.n(c),h=s(73400),u=s.n(h),p=s(60216),m=s.n(p),g=s(32735),f=s(40841),y=s.n(f),v=s(81445),b=s(71263),E=s(71262);const C=(0,E.Z)((function(e){return g.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3a7 7 0 100 14 7 7 0 000-14zm-8 7a8 8 0 1116 0 8 8 0 01-16 0z",fill:"currentColor"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6.333a3.667 3.667 0 100 7.334 3.667 3.667 0 000-7.333zM5.333 10a4.667 4.667 0 119.334 0 4.667 4.667 0 01-9.334 0z",fill:"currentColor"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.167a.5.5 0 01.5.5V9.5h7.833a.5.5 0 110 1H10.5v7.833a.5.5 0 01-1 0V10.5H1.667a.5.5 0 110-1H9.5V1.667a.5.5 0 01.5-.5z",fill:"currentColor"}))}));var w=s(49279),k=s(96864);const _=(0,E.Z)((function(e){return g.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.167 3.485a2.318 2.318 0 012.318-2.318h13.03a2.318 2.318 0 012.318 2.318v9.697a2.318 2.318 0 01-2.318 2.318H13v1.916h1.583a.5.5 0 110 1H5.417a.5.5 0 010-1H7V15.5H3.485a2.318 2.318 0 01-2.318-2.318V3.485zM8 15.5v1.916h4V15.5H8zM3.485 2.166c-.728 0-1.318.59-1.318 1.319v7.681h15.666V3.485c0-.728-.59-1.318-1.318-1.318H3.485zm14.348 10H2.167v1.016c0 .728.59 1.318 1.318 1.318h13.03c.728 0 1.318-.59 1.318-1.318v-1.016zM8.667 3.333a.5.5 0 01.5-.5h1.666a.5.5 0 110 1H9.167a.5.5 0 01-.5-.5z",fill:"currentColor"}))}));const M=(0,E.Z)((function(e){return g.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),g.createElement("g",{clipPath:"url(#patch-sm_svg__clip0)",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"},g.createElement("path",{d:"M11.517 2.787a4.027 4.027 0 115.696 5.696l-8.73 8.73a4.027 4.027 0 01-5.696-5.696l8.73-8.73zm4.989.707a3.027 3.027 0 00-4.282 0l-1.517 1.518 4.282 4.281 1.517-1.517a3.027 3.027 0 000-4.282zM14.28 10L10 5.72 5.719 10 10 14.281l4.281-4.28zM9.293 14.99L5.01 10.707l-1.517 1.517a3.028 3.028 0 004.282 4.282l1.517-1.517zM17.213 11.517a4.028 4.028 0 01-5.696 5.696.5.5 0 11.707-.707 3.028 3.028 0 004.282-4.282.5.5 0 01.707-.707zm-8.73-8.023a.5.5 0 01-.707 0 3.027 3.027 0 10-4.282 4.282.5.5 0 11-.707.707 4.027 4.027 0 015.696-5.696.5.5 0 010 .707z"})),g.createElement("defs",null,g.createElement("clipPath",{id:"patch-sm_svg__clip0"},g.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"}))))}));var S=s(3015),T=s(35610),I=s(10974),N=s(16216),P=s(57855),L=s(855),x=s(16847),D=s(75320),O=s(99442),A=s(40280),z=s(28906),R=s(66709),F=s(23005),j=s(55015),U=s(95192),B=s(34039),H=s(99348),Y=s(89401),Z=s(83980),W=s(12741),$=s(75608);const q="Unknown",V=["Advisory","CERT","Threat Research","Vendor","Vulnerability"];class G extends g.Component{constructor(e){super(e),this._renderOverview=()=>{const{cveId:e}=this.props,{cveInfo:{cvssV3:{vectorString:t}={},cweIds:s,cweIdsEstimate:n,description:i,feedlyInsertedDate:r,publishedDate:a,stats:{firstTimestamp:o},trendingSparklineUrl:l,vulnerableProducts:{vendor:c}={}},chatterEntryIds:d}=this.state;let h;a?h=(0,S.p6)(new Date(a),"M/dd/yyyy"):r&&(h=(0,S.p6)(new Date(r),"M/dd/yyyy"));let u={},p=!1;s&&s.length?u=s[0]:n&&n.length&&(u=n[0],p=!0);const{cweID:m="",name:f=""}=u,b=`${f} (${m})`,E=this._getChipListDetails();return g.createElement("div",{className:"CVEInfo__overview"},g.createElement(A.H2,{className:"m-t-0 m-b-1",kicker:h},e,m&&f&&g.createElement(U.x,{className:"CVEInfo__cweid"},g.createElement(g.Fragment,null,g.createElement("span",{className:"CVEInfo__cwe-description"},b),p&&g.createElement("span",{className:"CVEInfo__prediction-tag"},g.createElement(v.Z,{className:"m-r-t",importance:"tertiary"}),g.createElement("span",{className:"CVEInfo__prediction-label"},"Leo prediction"))))),g.createElement(j.j,{className:"CVEInfo__chip-list"},E.map((e=>g.createElement(de,e)))),g.createElement("div",{className:"CVEInfo__details-container"},g.createElement("div",{className:"CVEInfo__details"},g.createElement(U.x,{className:y()("CVEInfo__description m-b-h",{"m-t-0":!E.length})},(0,x.oN)(i)||"The CVE description is not yet public but we found some discussions about it. It may be a sign of a critical vulnerability. The description will be updated as soon as we receive more information."),t&&g.createElement(U.x,{className:"CVEInfo__vector-string m-y-h",size:"smallish"},t)),l&&g.createElement("div",{className:"CVEInfo__trending-graph m-t-1"},g.createElement(Z.q,{vendor:c},g.createElement("img",{src:l,alt:`Trend graph of ${e}`})),g.createElement(U.x,{size:"smallish"},g.createElement("b",null,d.length," sources")," in the last"," ",(0,S.vp)((new Date).getTime()-o),"."))))},this._renderReferences=()=>{const{navigation:{focusSelectedEntry:e,selectedEntryId:t},referenceEntries:s}=this.state;return s.length?g.createElement(g.Fragment,null,g.createElement(A.H4,null,"References"),s.map((({id:s,sourceTypes:n})=>{const i=s===t;return g.createElement(R.kS,{key:s,entryId:s,hideCVSSMetadata:!!this._getBaseScore(),focusOnSelect:i&&e,layout:"u4",selected:i,sourceTypes:n})}))):null},this._renderCVSSDetails=()=>{const{cveInfo:{cvssV2:e,cvssV3:t}}=this.state;let s={},n=!1;t&&t.baseScore?(n=!0,s={cvssInfo:t,cvssHeader:"CVSS V3.1",cvssLabels:N.dw}):e&&e.baseScore&&(n=!0,s={cvssInfo:e,cvssHeader:"CVSS V2.0",cvssLabels:N.kQ});const{cvssInfo:i,cvssHeader:r="CVSS V3.1",cvssLabels:a}=s;return g.createElement(g.Fragment,null,g.createElement(A.H4,{className:"CVEInfo__header--sidebar"},r),n?g.createElement("div",null,Object.keys(a).map((e=>g.createElement("div",{key:e,className:"m-b-h"},g.createElement(U.x,{className:"CVEInfo__cvss-label m-r-h",color:"primary",size:"small",tagName:"span"},a[e],":"),g.createElement(U.x,{color:"secondary",size:"small",tagName:"span"},u()(i[e])||q))))):this._renderUnknownDetails())},this._renderPatches=()=>{const{cveInfo:{patchDetails:e=[]}}=this.state,t=a()(e,"url");return g.createElement(g.Fragment,null,g.createElement(A.H4,{className:"CVEInfo__header--sidebar"},"Patches"),t.length?g.createElement(g.Fragment,null,t.map((e=>g.createElement("div",{key:e.url,className:"m-b-h"},g.createElement(B.rU,{className:"CVEInfo__patches",href:e.url,newWindow:!0},e.title))))):this._renderUnknownDetails())},this._renderChatter=()=>{const{chatterEntries:e,navigation:{focusSelectedEntry:t,selectedEntryId:s}}=this.state;return e.length?g.createElement(g.Fragment,null,g.createElement(A.H4,null,"Chatter"),g.createElement(z.f,{key:"entryList",entries:e,hideCVSSMetadata:!!this._getBaseScore(),layout:"u4",endOfFeedLabel:"End of results",focusSelectedEntry:t,hideAuthor:!0,selectedEntryId:s,showSourceTitle:!0})):null},this._renderUnknownDetails=()=>g.createElement(U.x,{className:"CVEInfo__unknown",color:"primary",size:"small",tagName:"span"},q),this._getAffectedProducts=()=>{const{cveInfo:{affectedProducts:e=[]}}=this.state,t=e.reduce(((e,t)=>[...e,...t.product.map((e=>e.name))]),[]),s=t.slice(2).length;return`${t.slice(0,2).join(", ")}${s>0?`, +${s} other products`:""}`},this._getBaseScore=()=>{const{cveInfo:{cvssEstimate:e,cvssV2:{baseScore:t}={},cvssV3:{baseScore:s}={}}}=this.state;return s||t||e},this._getChipListDetails=()=>{const{cveInfo:{cveid:e,exploits:t=[],patched:s,patchDetails:n=[]},malwareFamilies:i,threatActors:r}=this.state,a=(0,I.OZ)(e),o=this._getAffectedProducts(),l=this._getBaseScore(),c=i.map((e=>e.label)),d=r.map((e=>e.label)),h=[];if(l){const e=(0,I.zz)(l);h.push({key:"cvss",cvssRating:e,iconComponent:b.Z,label:"CVSS",onClick:()=>{this._onOpenLink(a)},value:`${l}${e?` (${u()(e)})`:""}`})}return t.length&&h.push({key:"exploit",iconComponent:C,label:"Exploit",onClick:()=>{this._onOpenLink(t[0])},value:(0,T._Y)(t[0]).split(".")[0]}),r.length&&h.push({key:"associated-threat-actors",associations:d,iconComponent:w.Z,label:"Threat Actors",onClick:()=>{this._onPowerSearch(e,r)},value:(0,x.sw)(d,{limit:2,showLimitCount:!0})}),i.length&&h.push({key:"associated-malwares",associations:c,iconComponent:k.Z,label:"Malware Families",onClick:()=>{this._onPowerSearch(e,i)},value:(0,x.sw)(c,{limit:2,showLimitCount:!0})}),o&&h.push({key:"affected-systems",iconComponent:_,label:"Affected Systems",onClick:()=>{this._onOpenLink(`${a}#vulnConfigurationsArea`)},value:o}),s&&n.length>0&&h.push({key:"patched",iconComponent:M,label:"Patched",onClick:()=>{this._onOpenLink(n[0].url)},value:n[0].title}),h},this._onOpenLink=e=>{window.open(e,"_blank")},this._onPowerSearch=(e,t)=>{const s=D.Zx.cybersecurity,n=D.W9,i=[{parts:t,salience:O.mb.mention,type:O.ur.matches}],r={parts:[{text:e}],salience:O.mb.mention,type:O.ur.matches};if(this.sliderService.hasSlides()){const e={beyondBucketType:s,beyondDefaultPublications:n,beyondLayers:i,beyondMainSearchLayer:r};this.feedly.slideForm(Y.pj,{isSlider:!0,pageInfo:{beyondSearchOptions:e},type:L.Fq.beyond})}else{const e={bucketType:s,defaultPublications:n,layers:i,mainSearchLayer:r},t=(0,L.tN)(e);this.feedly.loadPage(`powerSearch/beyond/${t}`)}},this._onScrollPage=()=>{const{chatterEntryIds:e,entryIndex:t,isLoading:s,isLoadingMoreEntries:n}=this.state;(0,P.Hp)(this._scrollTarget)&&!n&&!s&&t<e.length&&this._updateEntries()},this._updateEntries=async()=>{const{chatterEntries:e,chatterEntryIds:t,entryIndex:s,referenceEntryList:n}=this.state;try{const i=t.slice(s,s+8);if(!i.length)return void this.setState({isLoading:!1});this.setState({isLoadingMoreEntries:!0});const r=await this.reader.askLookupEntries(i),a=[...e,...r];this.navigo.setEntries([...n,...a]),this.setState({chatterEntries:a,entryIndex:s+8,isLoading:!1,isLoadingMoreEntries:!1})}catch(i){this.setState({isLoading:!1,isLoadingMoreEntries:!1}),this.signs.setMessage("Failed to load more entries")}},this._updateCVEInfo=async()=>{const{cveId:e}=this.props;try{const t=await this.cybersecuritydashboard.askCVEInfo(e),{stats:{firstEntryId:s,timeSeries:n={}}={}}=t,i={},{referenceEntries:r,chatterEntryIds:a}=d()(Object.values(n)).reverse().reduce(((e,t)=>{const s=t.firstEntryId,n=!i[s];if(i[s]=!0,!n)return e;const r=t.sourceType||[],a=l()(r,V);return a.length?e.referenceEntries.push({id:s,sourceTypes:a}):e.chatterEntryIds.push(s),e}),{referenceEntries:[],chatterEntryIds:[]}),o=r.length?await this.reader.askLookupEntries(r.map((e=>e.id))):[];this.navigo.setEntries(o),this.setState({cveInfo:t,chatterEntryIds:a,referenceEntries:r,referenceEntryList:o},(()=>{this._updateCVERelationships({hasCVEInfo:!!t.cveid})}))}catch(t){console.error(t),this.setState({isLoading:!1}),this.signs.setDefaultErrorMessage(t)}finally{this._updateEntries()}},this._updateCVERelationships=async({hasCVEInfo:e})=>{const{cveId:t}=this.props;if(e)try{const{malwareFamilies:e,threatActors:s}=await this.cybersecuritydashboard.askCVERelationships(t);this.setState({malwareFamilies:e,threatActors:s})}catch(s){console.error(s),this.signs.showError("Failed to load CVE relationships")}},this.navigo=streets.service("navigo"),this.state={chatterEntries:[],chatterEntryIds:[],cveInfo:{},entryIndex:0,isLoading:!0,isLoadingMoreEntries:!1,malwareFamilies:[],navigation:this.navigo.getState(),referenceEntries:[],threatActors:[]}}componentDidMount(){this.cybersecuritydashboard=streets.service("cybersecuritydashboard"),this.feedly=streets.service("feedly"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.sliderService=streets.service("sliderService"),this.navigo.registerObserver(this),this._scrollTarget=this.props.isSlider?this.sliderService.getScrollTarget():this.feedly.getMainScrollTarget(),this._throttledCheckMoreEntriesNeeded=i()(this._onScrollPage,200),this._scrollTarget.addEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this._updateCVEInfo()}componentWillUnmount(){this._scrollTarget.removeEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this._scrollTarget=null,this.navigo.unregisterObserver(this),this.navigo.reset(),this.cybersecuritydashboard=null,this.feedly=null,this.navigo=null,this.reader=null,this.signs=null,this.sliderService=null}onNavigationChanged(e){this.setState({navigation:e})}render(){const{cveId:e}=this.props,{chatterEntries:t,cveInfo:s,isLoading:n}=this.state;return n?g.createElement(F.g,{details:"cve info"}):s.cveid||t.length?g.createElement("div",{className:"CVEInfo"},this._renderOverview(),g.createElement("div",{className:"CVEInfo__container"},g.createElement("div",{className:"CVEInfo__main-section"},this._renderReferences(),this._renderChatter()),g.createElement("div",null,this._renderCVSSDetails(),this._renderPatches()))):g.createElement(g.Fragment,null,g.createElement("div",{className:"p-a-1"},g.createElement(A.H2,{className:"CVEInfo__cveId m-b-1"},g.createElement("span",null,e))),g.createElement(H.ub,{header:"Sorry, Leo does not know about this CVE yet",illustration:W,illustrationDark:$}))}}function Q({cveId:e}){return g.createElement("div",{className:"fx"},g.createElement("div",{className:"container center"},g.createElement(G,{cveId:e,isSlider:!0})))}G.propTypes={cveId:m().string.isRequired,isSlider:m().bool,onDone:m().func},G.defaultProps={isSlider:!1,onDone:void 0},Q.propTypes={cveId:m().string.isRequired};var K=s(88709),J=s(55024);class X extends g.Component{constructor(e){super(e),this._onCloseFeedbackModal=()=>{this.setState({isFeedbackModalOpen:!1})},this._onOpenFeedbackModal=(e,t)=>{this.setState({entryId:e,isFeedbackModalOpen:!0,type:t})},this.state={isFeedbackModalOpen:!1,type:K.vZ.threat}}render(){const{mitreAttacks:e,threatActors:t,vulnerabilities:s}=this.props,{entryId:n,isFeedbackModalOpen:i,type:r}=this.state;return g.createElement(g.Fragment,null,g.createElement(le,{onOpenFeedbackModal:this._onOpenFeedbackModal,vulnerabilities:s}),g.createElement(ne,{field:"actor",headerLabel:"Attackers",items:t,onOpenFeedbackModal:this._onOpenFeedbackModal,type:K.vZ.threatActor}),g.createElement(ne,{field:"attack",headerLabel:"Mitre TTPs",items:e,onOpenFeedbackModal:this._onOpenFeedbackModal,type:K.vZ.mitreAttack}),i&&g.createElement(J.z8,{entryId:n,onClose:this._onCloseFeedbackModal,type:r}))}}X.propTypes={vulnerabilities:m().shape({memes:m().arrayOf(m().object)}),threatActors:m().arrayOf(m().object)},X.defaultProps={vulnerabilities:[],threatActors:[]};var ee=s(86451),te=s(39832),se=s(47264);class ne extends g.Component{constructor(...e){super(...e),this._onPowerSearchItem=async e=>{const t={bucketType:D.Zx.cybersecurity,defaultPublications:D.W9,layers:[],mainSearchLayer:{parts:[e],salience:O.mb.about,type:O.ur.matches}},s=(0,L.tN)(t);this.feedly.loadPage(`powerSearch/beyond/${s}`)}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{className:e,field:t,headerLabel:s,isTrendingPage:n,onOpenFeedbackModal:i,items:r,type:a}=this.props;return g.createElement("div",{className:y()("CybersecurityTrendsSection",e)},g.createElement(A.H2,{appearance:"h4",className:y()({"CybersecurityTrendsSection__column-header":n})},s),r.map((e=>{const{entryIds:s,latestEntry:r}=e,o=e[t];return g.createElement("div",{key:o.label,className:"CybersecurityTrendsSection__item m-t-h"},g.createElement("div",{className:"CybersecurityTrendsSection__header"},g.createElement("div",{className:"CybersecurityTrendsSection__label",onClick:()=>{this._onPowerSearchItem(o)}},o.label),!n&&g.createElement(se.zx,{className:"m-x-0 CybersecurityTrendsSection__button",onClick:()=>{i(r.getId(),a)},icon:g.createElement(ee.Z,{importance:"tertiary",className:"CybersecurityTrendsSection__button-icon"}),importance:"tertiary",title:"Less like this"})),g.createElement("div",{className:"metadata"},g.createElement(te.B9,{entry:r}),` / ${s.length} articles`))})))}}ne.propTypes={className:m().string,field:m().string.isRequired,headerLabel:m().string.isRequired,isTrendingPage:m().bool,items:m().arrayOf(m().object),onOpenFeedbackModal:m().func,type:m().string.isRequired},ne.defaultProps={className:"",isTrendingPage:!1,items:[],onOpenFeedbackModal:void 0};var ie=s(24340),re=s.n(ie),ae=s(83362),oe=s(66063);class le extends g.Component{constructor(...e){super(...e),this._renderVulnerabilities=()=>{const{isTrendingPage:e,onOpenFeedbackModal:t,vulnerabilities:{memes:s}}=this.props;return s.map((s=>{const{id:n,items:i,label:r,referenceId:a,startDate:o,summary:l,vulnerabilitiesMetadata:{cvss:c,products:d=[],publishedDate:h,vendor:p}={}}=s,m=(0,S.Sy)(new Date(h))||(0,S.Sy)(new Date(o)),f=c&&c>8;let y,v=r;if(p&&(v=g.createElement(g.Fragment,null,g.createElement("span",{className:"Vulnerabilities__vendor"},u()(p))," / ",r)),e&&d.length){const e=d[d.length-1];y=g.createElement("div",{className:"Vulnerabilities__product truncated-text"},re()(e))}return g.createElement("div",{key:n,className:"Vulnerabilities__item m-t-h"},g.createElement("div",{className:"Vulnerabilities__header"},g.createElement("div",{className:"Vulnerabilities__label",onClick:()=>{this._onOpenAdditionalInfoSlider(s)}},v),!e&&g.createElement(se.zx,{className:"m-x-0 Vulnerabilities__button",onClick:()=>{t(a,K.vZ.vulnerability)},icon:g.createElement(ee.Z,{importance:"tertiary",className:"Vulnerabilities__button-icon"}),importance:"tertiary",title:"Less like this"})),y,g.createElement("div",{className:"Vulnerabilities__metadata"},c&&g.createElement(g.Fragment,null,g.createElement(oe.h,{label:`CVSS ${c}`,iconComponent:b.Z,iconColor:f?"accent":"black",iconTitle:"CVSS Score",importance:f?void 0:"secondary"}),g.createElement(te.JG,null)),`${m} / ${i.length} articles`,e&&g.createElement("p",{className:"Vulnerabilities__cvss-description"},l)))}))},this._onOpenAdditionalInfoSlider=e=>{const{id:t,label:s,topic:n}=e;if("vulnerabilities"===n&&s.startsWith("CVE-")){const e=s.split(" ")[0];this.feedly.slideReactComponent(Q,{cveId:e},{customPath:`cve/${encodeURIComponent(e)}`})}else this.feedly.slideReactComponent(ae.r,{memeId:t},{customPath:`meme/${encodeURIComponent(t)}`})},this._onHideLessLikeThisButton=()=>{this.setState({isLessLikeThisButtonVisible:!1})},this._onShowLessLikeThisButton=()=>{this.setState({isLessLikeThisButtonVisible:!0})}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{className:e,isTrendingPage:t}=this.props;return g.createElement("div",{className:y()("Vulnerabilities",e)},g.createElement(A.H2,{appearance:"h4",className:y()({"Vulnerabilities__column-header":t})},"Vulnerabilities"),this._renderVulnerabilities())}}le.propTypes={className:m().string,isTrendingPage:m().bool,onOpenFeedbackModal:m().func,vulnerabilities:m().shape({memes:m().arrayOf(m().object)})},le.defaultProps={className:"",isTrendingPage:!1,onOpenFeedbackModal:void 0,vulnerabilities:[]};var ce=s(99175);function de({associations:e,cvssRating:t,iconComponent:s,label:n,onClick:i,value:r}){let a=g.createElement(j.A,{className:y()("VulnerabilityChip",`VulnerabilityChip--${t}`),size:"lg",onClick:i},g.createElement(s,{className:"m-r-1",importance:"secondary"}),g.createElement("span",{className:"VulnerabilityChip__label m-r-t"},n,": "),g.createElement("span",{className:"VulnerabilityChip__value"},r));return e&&(a=g.createElement(ce.d,{animateClass:"animateFadeIn",content:g.createElement(g.Fragment,null,g.createElement("div",{className:"VulnerabilityChip__title"},n),g.createElement("div",{className:"VulnerabilityChip__message"},e.map((e=>g.createElement("span",{key:e,className:"VulnerabilityChip__association"},e))))),position:"bottom",tipClass:"fx VulnerabilityChip__tipsy"},a)),a}de.propTypes={associations:m().arrayOf(m().string),cvssRating:m().string,iconComponent:m().elementType.isRequired,label:m().string.isRequired,onClick:m().func,value:m().oneOfType([m().string,m().number]).isRequired},de.defaultProps={associations:null,cvssRating:"low",onClick:void 0}},15851:(e,t,s)=>{"use strict";s.d(t,{c:()=>p});var n=s(60216),i=s.n(n),r=s(32735),a=s(54960),o=s(35610),l=s(55015),c=s(6931),d=s(74812),h=s(47264),u=s(40280);class p extends r.Component{constructor(e){super(e),this._closeDomainSelect=()=>{this.setState({domainSelectText:"",isDomainSelectOpen:!1})},this._onClearClick=e=>{e.stopPropagation(),this.props.onChange(""),this.setState({domainSelectText:""})},this._onDomainSelectTextChange=e=>{this.setState({domainSelectText:e,domainError:""})},this._onDomainSelectTextSubmit=()=>{let e=this.state.domainSelectText.trim();e=e.replace(new RegExp(/^http:\/\/|^https:\/\//i),""),e=e.replace(new RegExp(/^www\./i),""),e.indexOf(" ")>-1||-1===e.indexOf(".")?this.setState({domainError:"Not a valid site name"}):(this.props.onChange(e),this._closeDomainSelect())},this._onKeyPress=e=>{this.state.domainSelectText&&"Enter"===e.key&&this._onDomainSelectTextSubmit()},this._onPopoverClick=e=>{e.stopPropagation()},this._toggleDomainSelect=()=>{this.state.isDomainSelectOpen||this._generateDomainSuggestions(),this.setState((({isDomainSelectOpen:e})=>({domainSelectText:e?"":this.props.domain,isDomainSelectOpen:!e})))},this.state={domainSelectText:e.domain,domainError:"",domainSuggestions:null,isDomainSelectOpen:!1,target:null}}componentDidMount(){this.reader=streets.service("reader")}componentDidUpdate(e){e.keyword!==this.props.keyword&&this.setState({domainSuggestions:null})}componentWillUnmount(){this.reader=null}render(){const{domain:e}=this.props,{domainSelectText:t,domainError:s,domainSuggestions:n,isDomainSelectOpen:i}=this.state;return r.createElement("div",{className:"domain-select"},r.createElement(d.X,{align:"right",clearable:!!e,className:"domain-select--button",dropDownArrow:!0,fullWidth:!0,label:e?r.createElement("span",null,"site: ",r.createElement("span",{className:"domain-select--site"},e)):"All news sites",isOpen:i,onButtonClick:this._toggleDomainSelect,onClear:this._onClearClick,onCloseMenu:this._closeDomainSelect,menu:r.createElement("div",{className:"domain-select--menu",onKeyPress:this._onKeyPress},r.createElement(u.H2,{appearance:"h3",className:"domain-select--menu-title"},"Refine to a specific news site"),r.createElement(c.At,{autoFocus:!0,className:"domain-select--input",error:s,hint:s?"":"Example: forbes.com",onChange:this._onDomainSelectTextChange,padBottom:!0,value:t}),r.createElement(h.zx,{className:"domain-select--filter-button",disabled:!t,label:"Filter",onClick:this._onDomainSelectTextSubmit}),n&&r.createElement(l.j,{className:"domain-select--suggestions"},n.map((e=>r.createElement(l.A,{key:e,onClick:()=>{this._onDomainSelectTextChange(e)}},e)))))}))}async _generateDomainSuggestions(){const{keyword:e,language:t}=this.props;if(!e)return;const s=(0,a.sk)(e,t),{entries:n}=await this.reader.askMoreEntries(s,{},10,null);let i=n.map((e=>(0,o._Y)(e.getBestAlternateLink())));i=i.filter(((e,t)=>i.indexOf(e)===t)),this.setState({domainSuggestions:i})}}p.propTypes={domain:i().string,keyword:i().string,language:i().string,onChange:i().func},p.defaultProps={domain:"",keyword:"",language:"en",onChange:()=>{}}},91891:(e,t,s)=>{"use strict";s.d(t,{o:()=>f});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(19577),c=s(92316),d=s(40280),h=s(46291),u=s(55118),p=s(47264);const m={absolute:!0,fixed:!0,relative:!0,sticky:!0},g={bottom:!0,left:!0,right:!0,top:!0};class f extends r.Component{static querySelector(e){return`[data-dot="${e}"]`}constructor(e){super(e),this._onClickClose=()=>{this.setState({isOpen:!1,isDismissing:!0},(()=>{this.dots.dismissDot(this.props.id)})),this._handleDismiss=window.setTimeout((()=>{this.setState({isDismissing:!1})}),500)},this._onClickLearnMore=()=>{const{config:{tutorial:e}}=this.state;this._handleClickLearnMore||(this.feedly.inlineEntry(e),this._handleClickLearnMore=window.setTimeout((()=>{this._handleClickLearnMore=null,this._onClickClose()}),1))},this.feedly=streets.service("feedly"),this._scrollTarget=this.feedly.getMainScrollTarget(),this._onTargetRef=e=>{e?(this.setState({target:e}),this._handleOnClick=this._onClick.bind(this),e.addEventListener("click",this._handleOnClick)):(this.state.target.removeEventListener("click",this._handleOnClick),this._handleOnClick=null)},this._closePopover=()=>{this.setState({isOpen:!1})},this.state={config:{},isDelayed:!1,isDismissing:!1,isOpen:null,isParentPositioned:!1}}componentDidUpdate(e,t){t.isOpen!==this.state.isOpen&&this._updateCloseEventListeners(),this._updateOffsetParentPositioned()}componentDidMount(){this.analytics=streets.service("analytics"),this.notifications=streets.service("notifications"),this.dots=streets.service("dots"),this.dots.registerObserver(this),this._updateConfig(),this._updateCloseEventListeners(),this._updateOffsetParentPositioned()}componentWillUnmount(){this.analytics=null,this.feedly=null,this.notifications=null,this.dots.unregisterObserver(this),this.dots=null,this._offsetParent&&(this._offsetParent.style.position="",this._offsetParent=null),window.clearTimeout(this._handleDelay),this._handleDelay=null,window.clearTimeout(this._handleDismiss),this._handleDismiss=null,window.clearTimeout(this._handleOpen),this._handleOpen=null,this._scrollTarget.removeEventListener("scroll",this._closePopover),window.removeEventListener("resize",this._closePopover),this._closePopover=null,this._onTargetRef=null,window.clearTimeout(this._handleClickLearnMore),this._handleClickLearnMore=null,this._scrollTarget=null}onCloseDotPopovers(){this.state.isOpen&&this.setState({isOpen:!1})}onDotChanged(e){e===this.props.id&&this._updateConfig()}render(){const{config:e,isDelayed:t,isDismissing:s,isOpen:n,isParentPositioned:i,target:a}=this.state;let{corner:m}=e;const{active:f,carouselConfig:y,description:v,topPriority:b,title:E,tooltipSide:C,tutorial:w,xOffset:k,yOffset:_,zIndex:M=null}=e;if(t||!f&&!s)return null;const S={visibility:i?null:"hidden",zIndex:M};return"bottom-right"===m?(S.right=k||0,S.bottom=_||0):"bottom-left"===m?(S.left=k||0,S.bottom=_||0):"top-left"===m?(S.left=k||0,S.top=_||0):(m="top-right",S.right=k||0,S.top=_||0),r.createElement("div",{ref:this._onTargetRef,className:o()({[m]:!0,dot:!0,"dot-leave":s,"dot-pulse":b}),style:S},r.createElement("div",{className:"dot-center"}),n&&i&&!y&&r.createElement(u.h,{className:"fx",target:document.body},r.createElement(h.J,{caret:!0,className:"dot-popover",color:"accent",offsetParent:document.body,position:g[C]?C:"right",target:a},r.createElement(p.zx,{className:"dot-popover__close right floated",icon:r.createElement(l.Z,{color:"white",importance:"primary"}),importance:"",onClick:this._onClickClose,title:"Close"}),r.createElement(d.H3,{className:"dot-popover__heading"},E),r.createElement("p",{className:"dot-popover__description"},v),w&&r.createElement(p.ZP,{className:"dot-popover__learn-more",onClick:this._onClickLearnMore,primary:!0},"Learn More ",r.createElement(c.Z,{color:"accent"})))))}_onClick(e){const{config:{carouselConfig:t}}=this.state;e.stopPropagation(),t?this.notifications.askShowCarouselPopup(t).then(this._onClickClose):this.setState((({isOpen:e})=>({isOpen:!e})))}_updateCloseEventListeners(){this.state.isOpen?(this._scrollTarget.addEventListener("scroll",this._closePopover),window.addEventListener("resize",this._closePopover)):(this._scrollTarget.removeEventListener("scroll",this._closePopover),window.removeEventListener("resize",this._closePopover))}_updateConfig(){const{isOpen:e}=this.state,t=this.dots.lookupDot(this.props.id)||{};this.setState({config:t,isDelayed:!!t.delay}),t.delay&&(this._handleDelay=window.setTimeout((()=>{this.setState({isDelayed:!1})}),t.delay)),null===e&&t.autoActivate&&(window.clearTimeout(this._handleOpen),this._handleOpen=window.setTimeout((()=>{t.carouselConfig?this.notifications.askShowCarouselPopup(t.carouselConfig).then(this._onClickClose):this.setState({isOpen:!0})}),500))}_updateOffsetParentPositioned(){const{id:e}=this.props,{target:t}=this.state,s="data-dot"===this.props.offsetParent?document.querySelector(`[data-dot="${e}"]`):t&&t.parentNode;if(this._offsetParent&&this._offsetParent!==s&&(this._offsetParent.style.position=""),this._offsetParent=s,s){const e=window.getComputedStyle(s),{style:t}=s;m[t.position]||m[e.position]||(t.position="relative")}const n=!!s;n!==this.state.isParentPositioned&&this.setState({isParentPositioned:n})}}f.propTypes={id:i().string.isRequired,offsetParent:i().oneOf(["parentNode","data-dot"])},f.defaultProps={offsetParent:"parentNode"}},99689:(e,t,s)=>{"use strict";s.d(t,{s:()=>p});var n=s(60216),i=s.n(n),r=s(32735),a=s(88982),o=s(94866),l=s(34313),c=s(72405),d=s(47264),h=s(6931),u=s(95192);class p extends r.Component{constructor(e){super(e);const{streamInfo:t}=e;this.state={feedId:t.id,isEmailFeed:t.isEmailFeed,title:t.title,labelError:""}}UNSAFE_componentWillMount(){this.feeds=streets.service("feeds"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null,this.signs=null,this.enterprisecollections=null,this.personalcollections=null,this.feeds=null}render(){const{isLoading:e,labelError:t,title:s}=this.state;return r.createElement("div",{className:"fx"},r.createElement("section",{className:"container630 centered enterprise-tag-info-form"},r.createElement(c.Le,{scrollParent:".floatingEntryScroller",target:".slider-header"},(({isSticky:e})=>r.createElement("div",null,this._renderHeader({isSticky:!1}),e&&this._renderHeader({isSticky:e})))),r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit.bind(this)},r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:"feed-title"},"Title"),r.createElement(h.At,{autoFocus:!0,error:t,id:"feed-title",onChange:this._onValueChange.bind(this,"title"),placeholder:"Title",value:s})),this._renderFeedInfo(),r.createElement(d.zx,{disabled:e,label:"Save",loading:e,type:"submit"}),r.createElement(d.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:()=>this.props.onDone()}))))}_renderFeedInfo(){const{feedId:e,isEmailFeed:t}=this.state,{streamInfo:s}=this.props;if(t){const t=e.split("email/")[1];return t?r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"feed-email"},"Email address"),r.createElement(u.x,{className:"m-t-0"},`${t}@feedly.email`)):null}if((0,o.jM)(s)){const t=e.slice(5);return t?r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"feed-url"},"RSS"),r.createElement(u.x,{className:"m-t-0"},t)):null}return null}_renderHeader({isSticky:e}){const{streamInfo:t}=this.props;return r.createElement(l.mU,{compact:e,kicker:"Manage Source",sticky:e,title:t.title})}_onValueChange(e,t){this.setState({[e]:t,labelError:(0,a.B)(t)?a.I:""})}async _onSubmit(e){e.preventDefault();const{feedId:t,title:s}=this.state;if(s.length){this.setState({isLoading:!0});try{await this.feeds.askRenameFeed(t,s),this.setState({isLoading:!1}),this.props.onDone()}catch(n){this.signs.showError(`Update failed: ${n.message}`)}}else this.setState({labelError:"The 'Title' field is required."})}}p.propTypes={onDone:i().func.isRequired,streamInfo:i().shape({id:i().string,isEmailFeed:i().bool,title:i().string}).isRequired}},54591:(e,t,s)=>{"use strict";s.d(t,{o:()=>f});var n=s(60216),i=s.n(n),r=s(32735),a=s(23005),o=s(39201),l=s(25305),c=s(57080),d=s(40280),h=s(22735),u=s(99166);const p=[{value:"Most Popular",key:"best"},{value:"Latest",key:"newest"},{value:"Oldest",key:"oldest"}],m={value:"Leo Priorities",key:"prioritized"},g=["1","3","5","10","20","30"];class f extends r.Component{constructor(e){super(e),this._toggleEmailRoundup=()=>{this.props.onChange(Object.assign({},this.props.settings,{disabled:!this.props.settings.disabled}))},this._updateSchedule=(e,t)=>{this.props.onChange(Object.assign({},this.props.settings,{daysOfWeek:e,hourOfDay:t}))},this._updateMaxStories=e=>{this.props.onChange(Object.assign({},this.props.settings,{maxEntries:parseInt(e)}))},this._updateRank=e=>{this.props.onChange(Object.assign({},this.props.settings,{ranked:e.key}))},this._updateTemplate=e=>{this.props.onChange(Object.assign({},this.props.settings,{includeImages:e}))},this._updateSubject=e=>{this.props.onChange({...this.props.settings,subjectTemplate:e})},this._onMembersClick=()=>{this.props.onChange(Object.assign({},this.props.settings,{includeFollowers:!this.props.settings.includeFollowers}))},this._onExternalClick=()=>{this.setState((({includeExternal:e})=>({includeExternal:!e})),(()=>{const e=this.props.settings;this.state.includeExternal||(e.emailAddresses=[]),this.props.onChange(e)}))},this._onIncludeChange=e=>{this.props.onChange(Object.assign({},this.props.settings,{[e]:!this.props.settings[e]}))},this._onEmailListChange=e=>{const{settings:t}=this.props,s=e.split(",").map((e=>e.trim()));this.props.onChange({...t,emailAddresses:s.slice(0,100)}),this.setState({includeExternal:s.length>0,emailAddressesError:s.length>100?"The maximum number of email addresses has been reached.":""})},this._onEmailListKeyDown=e=>{const{onChange:t,settings:s,settings:{emailAddresses:n}}=this.props;if("Backspace"===e.key){const i=[...n],r=n.pop();i.length&&""===r&&(e.preventDefault(),t({...s,emailAddressesCopy:i}))}};const{settings:{emailAddresses:t=[],includeImages:s=!0}={}}=e;this.state={includeExternal:t.length>0,includeImages:s,isLoading:!0}}componentDidMount(){this.leo=streets.service("leo"),this._updateIsLeoEnabled()}componentWillUnmount(){this.leo=null}render(){return r.createElement("div",{className:"field integration-email"},this._renderEmailRoundup())}_renderEmailRoundup(){const{isTag:e,settings:t}=this.props,s=!t.disabled,n=s?"Newsletter activated":"Activate newsletter";return r.createElement("div",null,r.createElement(d.H3,{appearance:"h2",sub:`Automatically send an email with the latest articles ${e?"saved to this board":"from this feed"}.`},"Activation"),r.createElement(o.r,{isOn:s,label:n,onToggle:this._toggleEmailRoundup}),this._renderEmailRoundupForm())}_renderEmailRoundupForm(){const{settings:e,isTag:t}=this.props,{emailAddressesError:s,includeExternal:n,isLoading:i}=this.state,o=(e.emailAddresses||[]).join(", ");return e.disabled?null:i?r.createElement(a.g,null):r.createElement("div",{className:"email-roundup-form"},this._renderEmailCollectionOptions(),r.createElement("div",null,r.createElement("label",null,r.createElement("div",{className:"sub"},"Include")),r.createElement(c.X,{checked:e.includeNotes,className:"m-b-h",onChange:()=>{this._onIncludeChange("includeNotes")}},"Notes"),r.createElement(c.X,{checked:e.includeHighlights,className:"m-b-h",onChange:()=>{this._onIncludeChange("includeHighlights")}},"Highlights"),r.createElement(c.X,{checked:e.useLeoSummary,className:"m-b-h",onChange:()=>{this._onIncludeChange("useLeoSummary")}},"Summarization")),r.createElement(l.vj,{onChange:this._updateSchedule,daysOfWeek:e.daysOfWeek,hourOfDay:e.hourOfDay,timezone:e.timeZone}),r.createElement(d.H3,{appearance:"h2"},"Target Audience"),r.createElement(c.X,{checked:e.includeFollowers,className:"m-b-h",onChange:this._onMembersClick},"Include all followers of this ",t?"board":"feed"),r.createElement(c.X,{checked:n,className:"m-b-h",onChange:this._onExternalClick},"Include people outside of our Feedly team"),r.createElement(h.K,{className:"checkbox-indent",error:s,hint:s?"":"Separate emails with commas",onChange:this._onEmailListChange,onKeyDown:this._onEmailListKeyDown,placeholder:"External recipients' email addresses",value:o}),r.createElement(l.r6,{isTag:t,streamInfo:this.props.streamInfo,includeImages:e.includeImages,subjectTemplate:e.subjectTemplate,onChangeTemplate:this._updateTemplate,onChangeSubject:this._updateSubject}))}_renderEmailCollectionOptions(){const{isTag:e,settings:{maxEntries:t,ranked:s}}=this.props,{isLeoEnabled:n}=this.state;if(e)return null;const i=n?[m,...p]:p,a=i.find((({key:e})=>e===s));return r.createElement("div",null,r.createElement("div",{className:"select-rank"},r.createElement("label",{htmlFor:"orderBy"},r.createElement("div",{className:"sub"},"Order by")),r.createElement(u.P,{id:"orderBy",items:i,labelKey:"value",onItemSelect:this._updateRank,value:a.value})),r.createElement("div",{className:"select-number-stories"},r.createElement("label",{htmlFor:"numStories"},r.createElement("div",{className:"sub"},"Maximum article count")),r.createElement(u.P,{id:"numStories",items:g,onItemSelect:this._updateMaxStories,value:t.toString()})))}async _updateIsLeoEnabled(){const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e,isLoading:!1})}}f.propTypes={settings:i().shape({disabled:i().bool,emailAddresses:i().array,includeFollowers:i().bool,includeImages:i().bool,includeHighlights:i().bool,includeNotes:i().bool,maxEntries:i().number,ranked:i().string,useLeoSummary:i().string}).isRequired,streamInfo:i().object.isRequired,onChange:i().func.isRequired,isTag:i().bool},f.defaultProps={isTag:!1}},264:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(3167),c=s(47264),d=s(40280),h=s(34039);class u extends r.Component{constructor(e){super(e),this.feedly=streets.service("feedly"),this.state={theme:this.feedly.getTheme()}}componentDidMount(){this.preferences=streets.service("preferences"),this.preferences.registerObserver(this)}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null}onPreferenceChanged(e){e!==l.BF&&e!==l.ZW||this.setState({theme:this.feedly.getTheme()})}render(){const{actions:e,className:t,description:s,header:n,size:i}=this.props;return r.createElement("div",{className:o()("EmptyState",t,{[`EmptyState--${i}`]:i})},this._renderIllustrationOrAnimation(),n&&r.createElement(d.H2,{appearance:"small"===i?"h3":"h2",className:"EmptyState__heading"},n),"string"==typeof s?r.createElement("p",{className:o()("EmptyState__description",{[`EmptyState__description--${i}`]:i})},s):s,e&&e.length>0&&r.createElement("div",{className:"EmptyState__actions"},e&&e.map((e=>{const{className:t,...s}=e,n=s.uri?h.Qj:c.zx;return r.createElement(n,Object.assign({key:e.label,className:o()("EmptyState__button",t)},s))}))))}_renderIllustrationOrAnimation(){const{theme:e}=this.state,{header:t,animation:s,animationDark:n,illustration:i,illustrationDark:a,size:c}=this.props,d=e===l.Bd.dark||e===l.z0.night;if(s)return n&&d?r.createElement("div",null,n):s;let h=i;return a&&d&&(h=a),i?r.createElement("img",{alt:`${t} illustration`,src:h,className:o()("EmptyState__illustration","illustration",{[`EmptyState__illustration--${c}`]:c})}):null}}u.propTypes={actions:i().arrayOf(i().shape({label:i().string.isRequired})),animation:i().node,animationDark:i().node,className:i().string,description:i().oneOfType([i().string,i().element]),header:i().string,illustration:i().string,illustrationDark:i().string,size:i().oneOf(["small","medium","large"])},u.defaultProps={actions:[],className:void 0,description:null,header:void 0,animation:void 0,animationDark:void 0,illustration:void 0,illustrationDark:void 0,size:"medium"}},99348:(e,t,s)=>{"use strict";s.d(t,{Ym:()=>d,ub:()=>h.Z,P9:()=>k,cU:()=>re,d8:()=>T,QN:()=>A,Qz:()=>F,lK:()=>he,$C:()=>V,HK:()=>J});var n=s(60216),i=s.n(n),r=s(32735),a=s(89919),o=s(8199),l=s(68351),c=s(862);function d({size:e}){const t={icon:r.createElement(a.Z,{color:"white"}),label:"Upgrade",uri:"pro/feeds"};return r.createElement(h.Z,{actions:[t],description:`The free version of Feedly offers ${o.Av} feeds. Please upgrade to Feedly Pro+ to create more feeds.`,illustration:l,illustrationDark:c,size:e})}d.propTypes={size:i().oneOf(["small","medium","large"])},d.defaultProps={size:"medium"};var h=s(264),u=s(3167),p=s(40841),m=s.n(p),g=s(30392),f=s(47264),y=s(55024);class v extends r.Component{constructor(e){super(e),this._onCloseModal=()=>{this.setState({isModalOpen:!1},this.props.onCloseModal)},this._onOpenModal=()=>{this.setState({isModalOpen:!0})},this.state={isModalOpen:e.isModalOpen}}componentDidUpdate(e){const{isModalOpen:t}=this.props;t&&t!==e.isModalOpen&&this._onOpenModal()}render(){const{isModalOpen:e}=this.state,{className:t,illustration:s,vimeoId:n}=this.props;return r.createElement("div",{className:m()("VideoIllustration",t)},r.createElement("div",{className:"VideoIllustration__content",onClick:this._onOpenModal},r.createElement("img",{alt:"illustration",src:s,className:"VideoIllustration__illustration"}),r.createElement(f.zx,{className:"VideoIllustration__button",icon:r.createElement(g.Z,{color:"white"})})),e&&r.createElement(y.Kd,{vimeoId:n,onClose:this._onCloseModal}))}}v.propTypes={className:i().string,illustration:i().string,isModalOpen:i().bool,onCloseModal:i().func,vimeoId:i().string.isRequired},v.defaultProps={className:void 0,disallowAutoplay:!1,illustration:void 0,isModalOpen:!1,onCloseModal:()=>{}};var b=s(40280),E=s(63402),C=s(50931),w=s(97340);class k extends r.Component{constructor(e){super(e),this._onAddPriorityClick=()=>{this.slideForm(E.qR)},this._onCloseModal=()=>{this.setState({isModalOpen:!1})},this._onOpenModal=()=>{this.setState({isModalOpen:!0})},this.feedly=streets.service("feedly"),this.state={hasLeoSecurityFeature:!1,hasSecurityFeed:!1,isLeoEnabled:!1,isModalOpen:!1,theme:this.feedly.getTheme()}}componentDidMount(){this.feeds=streets.service("feeds"),this.leo=streets.service("leo"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updateInitialData()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.feedly=null,this.feeds=null,this.leo=null,this.preferences=null}onPreferenceChanged(e){e===u.BF&&this.setState({theme:this.feedly.getTheme()})}render(){const{isModalOpen:e,theme:t}=this.state,{description:s,header:n}=this.props;return r.createElement("div",{className:"LeoEmptyState"},r.createElement(v,{className:"LeoEmptyState__videoIllustration",vimeoId:"365065639",illustration:t===u.Bd.light?C:w,isModalOpen:e,onCloseModal:this._onCloseModal}),n&&r.createElement(b.H2,{className:"LeoEmptyState__header"},n),"string"==typeof s?r.createElement("p",{className:"LeoEmptyState__description"},s):s,r.createElement("div",{className:"LeoEmptyState__actions"},this._renderAction(),r.createElement(f.zx,{importance:"secondary",label:"Watch Demo",onClick:()=>{this._onOpenModal()}})))}_renderAction(){const{streamId:e}=this.props,{hasLeoSecurityFeature:t,hasSecurityFeed:s,isLeoEnabled:n}=this.state;return n?r.createElement(E.hz,{align:"end",button:r.createElement(f.zx,{importance:"primary",label:"New Priority"}),hasLeoSecurityFeature:t,hasSecurityFeed:s,streamId:e}):r.createElement(f.zx,{label:"How does Leo work?",onClick:()=>{this.feedly.askOpenLeoBlogPost("priority-tab-empty-state")}})}async _updateInitialData(){const[e,t,s]=await Promise.all([this.leo.askHasLeoSecurityFeature(),this.feeds.askHasFeedWithTopic("security"),this.leo.askIsLeoEnabled()]);this.setState({isLeoEnabled:s,hasLeoSecurityFeature:e,hasSecurityFeed:t})}}k.propTypes={description:i().string,header:i().string,streamId:i().string},k.defaultProps={description:"",header:"",streamId:void 0};var _=s(81197),M=s(15444);const S=Object.freeze({addFirstFilter:{label:"Add your first filter",onClick:()=>{streets.service("feedly").slideForm(_.K)}},openTutorial:{label:"See tutorial",onClick:()=>{streets.service("feedly").inlineEntry("V5M9RbbXAVoQzDcxE5fzmI8FZuGelr7TsG2DPCoJr6M=_16b4d7c317d:599c86:fbb95fc")},importance:"tertiary"},upgrade:{label:"Get mute filters",uri:"pro/filters"}});function T(){return r.createElement(h.Z,{actions:[streets.isProLegacyPlan()||streets.hasProPlusAccess()?S.addFirstFilter:S.upgrade,S.openTutorial],description:"Fine-tune your feeds by hiding mentions of unwanted topics or keywords.",illustration:M})}var I=s(21495),N=s(69937),P=s(65088),L=s(66371);const x={loop:!0,autoplay:!0,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},D={...x,path:P},O={...x,path:L};function A({streamId:e}){const t=`${e.split("feed/https://feedly.com/email/")[1]}@feedly.email`;return r.createElement(r.Fragment,null,r.createElement(h.Z,{header:"Don't see any content yet?",animation:r.createElement(I.Z,{options:D}),animationDark:r.createElement(I.Z,{options:O}),description:r.createElement("p",{className:"NewsletterEmptyState__description"},"Go to the newsletter website and subscribe using this Feedly email address.")}),r.createElement(N.e,{email:t,fixedWidth:!0}))}A.propTypes={streamId:i().string.isRequired};var z=s(38185),R=s(66210);function F({onShowUnread:e}){const t=[{label:"See All Articles",onClick:e}];return r.createElement(h.Z,{actions:t,header:"All done!",illustration:z,illustrationDark:R,description:"There are no unread articles in your Feedly."})}F.propTypes={onShowUnread:i().func},F.defaultProps={onShowUnread:()=>{}};var j=s(74221),U=s(94866),B=s(66645),H=s(61469),Y=s(27765),Z=s(25700);const W={loop:!0,autoplay:!0,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},$={...W,path:B},q={...W,path:H};function V({globalPriorities:e,isCollectionEmpty:t,isFeedEmpty:s,hasLeoSecurityFeature:n,isPriorityTab:i,onShowUnread:a,priorities:o,stream:d,stream:{info:u,info:{lastEntryAdded:p,subscribed:m=!1}},streamId:g}){const{isCategory:f,isEnterprise:y,isFavorites:v,isFeed:b,isReadLater:C,isRecentlyRead:w,isTag:k}=(0,j.Yg)(g);if(u.alertId&&s)return r.createElement(h.Z,{header:"No articles found yet",description:"The articles matching your Web Alert will show up here.",illustration:Y,illustrationDark:Z});if(C)return r.createElement(h.Z,{header:"No Read Later stories yet",description:"The articles you want to read later will be here.",animation:r.createElement(I.Z,{options:$}),animationDark:r.createElement(I.Z,{options:q})});if(w)return r.createElement(h.Z,{header:"No recently read stories",description:"The articles you have read recently will show up here."});if(!(!k||y&&p))return r.createElement(J,{isEnterprise:y,streamId:g});if(b&&!1===m)return r.createElement(h.Z,{header:"Dormant",description:"This source has not published in a long time!"});if(i)return r.createElement(E.no,{globalPriorities:e,hasLeoSecurityFeature:n,onShowUnread:a,priorities:o,streamInfo:d.info});if(f&&t){const e=v?"No favorites yet!":"Which sources would you like to follow?";return r.createElement(h.Z,{header:e,illustration:l,illustrationDark:c,description:"You can follow publications, blogs, keyword alerts, and twitter feeds.",actions:[{label:"Add content",onClick:()=>{streets.service("feedly").loadPage("discover")}}]})}return(0,U.dB)(u)&&s?r.createElement(A,{streamId:g}):r.createElement(F,{onShowUnread:a})}V.propTypes={globalPriorities:i().arrayOf(i().object),isCollectionEmpty:i().bool.isRequired,isFeedEmpty:i().bool.isRequired,hasLeoSecurityFeature:i().bool.isRequired,isPriorityTab:i().bool.isRequired,onShowUnread:i().func.isRequired,priorities:i().arrayOf(i().object),stream:i().shape({info:i().object}).isRequired,streamId:i().string.isRequired},V.defaultProps={globalPriorities:null,priorities:null};const G=(0,s(71262).Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M20.924 4.04l-.808-.808a2.5 2.5 0 00-3.536.006L4.515 15.346a2.5 2.5 0 00-.729 1.765v3.46a.5.5 0 00.5.5h2.081a2.5 2.5 0 001.759-.724l2.695-2.667L20.924 7.576a2.5 2.5 0 000-3.536zm-1.514-.1l.807.807a1.5 1.5 0 010 2.122L10.115 16.97l-2.693 2.665-.11.099a1.5 1.5 0 01-.945.335h-1.58v-2.96a1.5 1.5 0 01.437-1.058L17.288 3.944a1.5 1.5 0 012.122-.004z"}),r.createElement("path",{d:"M6.504 13.36a.5.5 0 01.637-.057l.07.058 3.424 3.424a.5.5 0 01-.638.765l-.069-.058-3.424-3.424a.5.5 0 010-.707zM20.571 20.071a.5.5 0 01.09.992l-.09.008h-9.417a.5.5 0 01-.09-.992l.09-.008h9.417z"})))}));var Q=s(73789),K=s(21174);function J({isEnterprise:e,streamId:t}){const s={annotated:{header:"Your saved highlights",sub:"All the articles you annotate or highlight will be available here.",iconComponent:G,cta_label:"Unlock Annotations",action:streets.hasProAccess()?null:[{importance:"primary",label:"Unlock Annotations",onClick:()=>{streets.service("feedly").loadPage("pro/highlight")}}]},board:{header:"Save articles to this board",sub:r.createElement("p",null,"When you find an article in your Feedly you want to keep",e?" and share with your teammates":"",", use the"," ",r.createElement(Q.Z,{className:"TagEmptyState__example-icon",importance:"secondary"}),"icon to save it to this board."),iconComponent:K.Z,action:{importance:"primary",label:"Learn More",onClick:()=>{streets.service("feedly").previewEntry("AYYjnW4lNxOF0pAUS6BMFIk9kearZVNG0YN9RDtBncw=_15ad4047c67:12b250:513a0cfd")}}}}[(0,j.Yg)(t).isAnnotated?"annotated":"board"],n=s.iconComponent;return r.createElement("div",{className:"TagEmptyState"},r.createElement(n,{className:"TagEmptyState__icon-illustration",importance:"tertiary",height:180,width:180}),r.createElement(h.Z,{actions:s.action?[s.action]:[],className:"TagEmptyState__body",description:s.sub,header:s.header}))}J.propTypes={isEnterprise:i().bool.isRequired,streamId:i().string},J.defaultProps={streamId:null};var X=s(24443),ee=s.n(X),te=(s(28514),s(99442)),se=s(12741),ne=s(75608),ie=s(56640);class re extends r.Component{constructor(e){super(e),this._onRefinePriorityClick=()=>{const{priority:e}=this.props;this.feedly.slideForm(E.c2,{initialPriority:e})},this._onContactSupportClick=()=>{const{name:e}=streets.service("profile").getUserInfo();this.feedly.loadPage("support")},this.state={categoryLabel:""}}componentDidMount(){this.collections=streets.service("collections"),this.feedly=streets.service("feedly"),this.tabsManager=streets.service("tabsManager"),this._updateCategoryInfo()}componentWillUnmount(){this.collections=null,this.feedly=null,this.tabsManager=null}render(){const{boardNames:e,priority:{latestRefreshErrors:t,layers:s}}=this.props,{categoryLabel:n}=this.state,i=s.find((({type:e})=>e===te.ur.likeBoard)),a=i?i.boards:[],{boardId:o,languageName:l,numEntries:c,type:d}=t[0],u=10-parseInt(c);return d===te.ue.boardNotFoundError?r.createElement(h.Z,{header:"Oops! Choose a new board to train Leo",description:`The ${e} ${ee()("board",a.length)} doesn't exist anymore.`,illustration:se,illustrationDark:ne,actions:[{label:"Refine Priority",onClick:this._onRefinePriorityClick},{label:"Contact Support",importance:"tertiary",onClick:()=>{this._onContactSupportClick()}}]}):d===te.ue.categoryNotFoundError?r.createElement(h.Z,{header:"Oops! Choose a new feed to train Leo",description:`The ${n} feed no longer exists.`,illustration:se,illustrationDark:ne,actions:[{label:"Refine Priority",onClick:this._onRefinePriorityClick},{label:"Contact Support",importance:"tertiary",onClick:()=>{this._onContactSupportClick()}}]}):d===te.ue.languageNotAvailableError?r.createElement(h.Z,{header:"Sorry, Leo couldn't train your like board",description:`Leo doesn't understand ${l} yet.`,illustration:se,illustrationDark:ne,actions:[{label:"Refine Priority",onClick:this._onRefinePriorityClick},{label:"Contact Support",importance:"tertiary",onClick:()=>{this._onContactSupportClick()}}]}):d===te.ue.languageMismatchError?r.createElement(h.Z,{header:"Sorry, Leo couldn't train your like board",description:"Articles in your feed and board must be in the same language.",illustration:se,illustrationDark:ne,actions:[{label:"Refine Priority",onClick:this._onRefinePriorityClick},{label:"Contact Support",importance:"tertiary",onClick:()=>{this._onContactSupportClick()}}]}):d===te.ue.notEnoughEntriesInBoardError?r.createElement(h.Z,{header:`Save ${u} more ${ee()("article",u)} to this board`,description:`There are not enough articles in ${e} for Leo to understand the topic you want to prioritize.`,illustration:ie,illustrationDark:ne,actions:[{label:"Save Articles to Board",onClick:()=>{this.feedly.loadPage(`board/content/${o}`)}},{label:"Contact Support",importance:"tertiary",onClick:()=>{this._onContactSupportClick()}}]}):d===te.ue.notEnoughEntriesInCategoryError?r.createElement(h.Z,{header:"Add content to your feed",description:`The ${n} feed does not publish enough content for Leo to analyze.`,illustration:ie,illustrationDark:ne,actions:[{label:"Add Sources to Feed",onClick:()=>{this.feedly.loadPage("discover")}},{label:"Contact Support",importance:"tertiary",onClick:()=>{this._onContactSupportClick()}}]}):r.createElement(h.Z,{header:"Oops! Something went wrong",description:`An error occurred while updating the model for your ${e} ${ee()("board",a.length)}.`,illustration:se,illustrationDark:ne,actions:[{label:"Refresh",onClick:()=>{this.feedly.refresh()}},{label:"Contact Support",importance:"tertiary",onClick:()=>{this._onContactSupportClick()}}]})}async _updateCategoryInfo(){const{priority:{latestRefreshErrors:e}}=this.props,{categoryId:t}=e[0];let s="";if(t){s=(await this.collections.askLabelsIndex())[t]}this.setState({categoryLabel:s})}}re.propTypes={boardNames:i().string.isRequired,priority:i().shape({latestRefreshErrors:i().arrayOf(i().object),layers:i().arrayOf(i().object)}).isRequired};var ae=s(85581),oe=s(23013),le=s(52986);const ce=["Loading articles...","Analyzing article content...","Personalizing your model..."],de=Object.freeze({failed:"FAILED",pending:"PENDING",success:"SUCCESS"});class he extends r.Component{constructor(e){super(e),this._updateTrainingProgress=async()=>{const{priority:e}=this.props;if(e.trainingStatus&&e.trainingStatus===te.Py.updating&&!(e.layers.length>1))try{const{progress:t,status:s}=await this._askTrainingProgress(e.id);1===t?clearTimeout(this._updateProgressTimer):this._updateProgressTimer=setTimeout(this._updateTrainingProgress,5e3),this.setState({trainingProgress:t,progressMessage:s})}catch(t){clearTimeout(this._updateProgressTimer)}},this._updateProgressTimer=null,this.state={trainingProgress:0,progressMessage:""}}componentDidMount(){this.feedly=streets.service("feedly"),this._updateTrainingProgress()}componentWillUnmount(){this.feedly=null,clearTimeout(this._updateProgressTimer),this._updateProgressTimer=null}render(){const{onShowUnread:e,priority:t,priority:{latestRefreshErrors:s,layers:n,numEntriesMatching:i,streamIds:[a],trainingStatus:o}}=this.props,{progressMessage:l,trainingProgress:c}=this.state,d=streets.isUserAdmin(),p=n.find((({type:e})=>e===te.ur.likeBoard)),m=p?p.boards:[],g=this._combineBoardNames(m),{isEnterprise:f}=(0,j.Yg)(a);if(o===te.Py.updating&&c<1){const e=streets.service("feedly").getTheme();return 1===t.layers.length?r.createElement(ae.M,{description:`Leo needs a couple minutes to analyze your ${g} ${ee()("board",m.length)} and build a model. Please wait...`,header:"Building model...",illustration:e===u.Bd.light?oe:le,interval:5e3,messages:ce,progress:100*c}):r.createElement(h.Z,{header:"Building model...",actions:[{label:"Refresh",importance:"secondary",onClick:()=>{this.feedly.refresh()}}],description:`Leo needs a couple minutes to analyze your ${g} ${ee()("board",m.length)} and build a model. Please wait...`,illustration:oe})}if(o===te.Py.error){if(1===c&&l===de.pending){const e=`Sorry, but an error occurred while building the model for your ${g} ${ee()("board",m.length)}. Please contact support.`;return r.createElement(h.Z,{header:"Something went wrong",description:e,illustration:se,illustrationDark:ne,actions:!f||d?[{label:"Refine Priority",importance:"secondary",onClick:()=>{this.feedly.slideForm(E.c2,{initialPriority:t})}}]:[]})}return s&&s.length?r.createElement(re,{boardNames:g,priority:t}):r.createElement(h.Z,{header:"Oops! Something went wrong",description:`An error occurred while updating the model for your ${g} ${ee()("board",m.length)}.`,illustration:se,illustrationDark:ne,actions:[{label:"refresh",onClick:()=>{this.feedly.refresh()}},{label:"contact support",importance:"secondary",onClick:()=>{this.feedly.loadPage("support")}}]})}return 0===i?r.createElement(h.Z,{header:"Waiting for new articles...",description:"Leo is waiting for new articles to be published to analyse them and apply your priorities.",illustration:C,illustrationDark:w,size:"large",actions:!f||d?[{label:"Refine Priority",importance:"secondary",onClick:()=>{this.feedly.slideForm(E.c2,{initialPriority:t})}}]:[]}):r.createElement(h.Z,{className:"EmptyStatePriority",header:"All done!",description:"You have read all your prioritized articles!",illustration:z,illustrationDark:R,actions:[{label:"See read articles",importance:"secondary",onClick:e}]})}_combineBoardNames(e){if(!e)return"";const t=[];return e.forEach(((s,n)=>{t.length>1&&n===e.length-1&&t.push("and "),t.push(s.label||"Read later"),e.length>2&&n!==e.length-1&&t.push(","),t.push(" ")})),t.join("")}async _askTrainingProgress(e){const{priority:{streamIds:[t]}}=this.props,{progress:s,status:n}=await streets.service("likeboard").askUpdateTrainingProgress({id:e,streamId:t});return{progress:s,status:n}}}he.propTypes={onShowUnread:i().func,priority:i().object.isRequired},he.defaultProps={onShowUnread:()=>{}}},66360:(e,t,s)=>{"use strict";s.d(t,{d:()=>d});var n=s(32735),i=s(60216),r=s.n(i),a=s(32853),o=s(14956),l=s(99175),c=s(7837);function d({filter:e}){return(0,a.IE)(e)?n.createElement(l.d,{animateClass:"animateFadeIn",content:n.createElement(n.Fragment,null,n.createElement("div",{className:"Tipsy__title"},"Feedly Enterprise Needed"),`This Leo ${e.term?"filter":"priority"} relies on a topic or skill that belongs to the\n            Feedly Enterprise plan.\n            Please upgrade to reactivate it.`),tipClass:"Tipsy--text-align-left"},n.createElement(c.j,{color:"danger",fontSize:"small",iconComponent:o.Z},"Disabled")):null}d.propTypes={filter:r().shape({active:r().bool,inactiveReason:r().string,term:r().string}).isRequired}},79199:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var n=s(60216);const i=n.PropTypes.shape({getCleanSourceTitle:n.PropTypes.func,getEngagement:n.PropTypes.func,getEngagementRate:n.PropTypes.func,getDecoration:n.PropTypes.func,getFeedback:n.PropTypes.func,getFeedId:n.PropTypes.func,getFirstAlertSourceInfo:n.PropTypes.func,getId:n.PropTypes.func,getMeme:n.PropTypes.func,getPreviewSearchTerms:n.PropTypes.func,getSourceAlternateLink:n.PropTypes.func,getSourceTitle:n.PropTypes.func,isContentRTL:n.PropTypes.func,isHot:n.PropTypes.func,isPrioritized:n.PropTypes.func,isQuicklisted:n.PropTypes.func,listAuthors:n.PropTypes.func,listEnterpriseTags:n.PropTypes.func,listPersonalTags:n.PropTypes.func,metadata:n.PropTypes.shape({hasLinkedArticle:n.PropTypes.bool,isRedditFeed:n.PropTypes.bool,isSavedToPocket:n.PropTypes.bool,isTwitterFeed:n.PropTypes.bool,prettyTerm:n.PropTypes.string,redditPost:n.PropTypes.shape({subredditName:n.PropTypes.string}),tweet:n.PropTypes.shape({isRetweet:n.PropTypes.bool,twitterFeedAuthorHandle:n.PropTypes.string})}),showCVSS:n.PropTypes.func})},66709:(e,t,s)=>{"use strict";s.d(t,{ZR:()=>u,kS:()=>b,wv:()=>E,EL:()=>k,RL:()=>_,TU:()=>L,QG:()=>z,Kv:()=>U,Mt:()=>Z,yx:()=>J,hd:()=>X,MB:()=>te,ib:()=>q,us:()=>ne,sf:()=>ue,nc:()=>me,KF:()=>ge,wK:()=>ve,GK:()=>Be,q2:()=>be,BJ:()=>Ee,MA:()=>je,dZ:()=>He});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a),l=s(57855),c=s(11459),d=s(31813),h=s(39832);class u extends n.Component{constructor(e){super(e),this._onLessLikeThisOpenChange=e=>{this.setState({isLessLikeThisOpen:e})},this._onTagPickerStateChange=e=>{this.setState({isTagPickerOpen:e})},this._elementRef=n.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,l.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dataAttributes:i,entry:r,hideRelatedEntries:a,highlightKeywords:l,imageUrl:u,isBeyondPowerSearch:p,isCybersecurityTrend:m,isLeoPreview:g,onBlur:f,onFocus:y,onHideClick:v,onMarkAsReadClick:b,onOpenFeedbackModal:E,onSaveClick:C,onTitleFocusChange:w,showDeleteOption:_}=this.props,M=c.Ar.cards,{isTwitterFeed:S,hasLinkedArticle:T}=r.metadata,I=S&&!T;return n.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:o()(s,{"entry--popover-open":t||e})},i,{"data-u":"5",onBlur:f,onFocus:y}),n.createElement("div",{className:"visual-container"},n.createElement(d.u,{url:u}),n.createElement("div",{className:"visual-overlay"})),n.createElement("div",{className:"content"},n.createElement(te,{entry:r,onFocusChange:w,tweet:I},n.createElement(X,{entry:r,highlightKeywords:l})),n.createElement(q,{entry:r,layout:M,lessLikeThis:n.createElement(z,{darkBackground:!0,entry:r,isBeyondPowerSearch:p,isCybersecurityTrend:m,isLeoPreview:g,layout:M,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:E}),onHideClick:v,onMarkAsReadClick:b,onReadLaterClick:C,onTagPickerStateChange:this._onTagPickerStateChange,showDeleteOption:_}),n.createElement(h.at,{entry:r,layout:M}),!I&&n.createElement(k,{entry:r,highlightKeywords:l,layout:M}),!a&&n.createElement(ve,{entry:r})))}}u.propTypes={className:r().string,dataAttributes:r().object.isRequired,entry:r().object.isRequired,hideRelatedEntries:r().bool,highlightKeywords:r().bool,imageUrl:r().string,isCybersecurityTrend:r().bool,isBeyondPowerSearch:r().bool,isLeoPreview:r().bool,metadataProps:r().object.isRequired,onBlur:r().func.isRequired,onFocus:r().func.isRequired,onHideClick:r().func.isRequired,onMarkAsReadClick:r().func.isRequired,onOpenFeedbackModal:r().func,onSaveClick:r().func.isRequired,onTitleFocusChange:r().func.isRequired,showDeleteOption:r().bool},u.defaultProps={className:"",hideRelatedEntries:!1,highlightKeywords:!1,imageUrl:null,isBeyondPowerSearch:!1,isCybersecurityTrend:!1,isLeoPreview:!1,onOpenFeedbackModal:void 0,showDeleteOption:!1};var p=s(74221),m=s(88709),g=s(3167),f=s(98521),y=s(55024);const v={u4:[130,78],u5:[254,182],uFeatured:[604,320]};class b extends n.Component{constructor(e){super(e),this._renderConfirmationModal=()=>{const{isConfirmDeleteModalOpen:e}=this.state;return e?n.createElement(y.cV,{cancelLabel:"No, keep story",description:"Are you sure you want to delete this story?",onCancel:this._onCloseConfirmDeleteModal,onSuccess:this._onConfirmDeleteClick,successLabel:"Delete",title:"Delete story from board"}):null},this._renderCybersecurityFeedbackModal=()=>{const{entry:e,isFeedbackModalOpen:t}=this.state;return t?n.createElement(y.z8,{entryId:e.getId(),onClose:this._onCloseFeedbackModal,type:m.vZ.threat}):null},this._updateIsBlurred=()=>{this.setState((({isFocused:e})=>e?{isFocused:!1}:null))},this._onBlur=()=>{clearTimeout(this._blurTimeout),this._blurTimeout=setTimeout(this._updateIsBlurred,50)},this._onCloseConfirmDeleteModal=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this._onCloseFeedbackModal=()=>{this.setState({isFeedbackModalOpen:!1})},this._onConfirmDeleteClick=()=>{const{entryId:e,streamId:t}=this.props;try{this.reader.askUntagEntry(e,{id:t})}catch(s){this.signs.showMessage("Failed to delete story")}},this._onFocus=()=>{this._blurTimeout&&(clearTimeout(this._blurTimeout),this._blurTimeout=null),this.setState((({isFocused:e,selected:t})=>e?null:(t||this.navigo.selectEntry(this.props.entryId),{isFocused:!0})))},this._onHideClick=e=>{const{entryId:t,hideRelatedEntries:s,streamId:n}=this.props;if(e.stopPropagation(),n){const{isAnnotated:e,isReadLater:t,isTag:s}=(0,p.Yg)(n);if(s&&!t&&!e)return void this.setState({isConfirmDeleteModalOpen:!0})}streets.service("readingManager").askBuryEntry(t,{updateRelatedEntries:!s})},this._onMarkAsReadClick=e=>{const{entryId:t,hideRelatedEntries:s}=this.props;e.stopPropagation(),this.state.entry.isRead()?this.reader.askKeepEntryAsUnread(t,{updateRelatedEntries:!s}):this.reader.askMarkEntryAsRead(t,{updateRelatedEntries:!s})},this._onOpenFeedbackModal=()=>{this.setState({isFeedbackModalOpen:!0})},this._onSaveClick=e=>{e.stopPropagation(),this.reader.askToggleEntryQuicklisted(this.props.entryId),this.analytics.trackEvent("sharing","save"),this.analytics.trackEntryEvent(this.state.entry,"save","feedly")},this._onTitleFocusChange=e=>{this.setState({isTitleFocused:e})},this._elementRef=n.createRef(),this.preferences=streets.service("preferences"),this.reader=streets.service("reader"),this.feedly=streets.service("feedly"),this.state={displayDensity:this.preferences.getPreference("displayDensity")||29,entry:this.reader.lookupEntry(e.entryId),imageUrl:null,isFeedbackModalOpen:!1,isFocused:!1,isTitleFocused:!1,theme:this.feedly.getTheme()}}componentDidMount(){this.analytics=streets.service("analytics"),this.engagements=streets.service("engagements"),this.image=streets.service("image"),this.navigo=streets.service("navigo"),this.engagements.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this);const{entry:e}=this.state;e?(this.engagements.askRefreshEntryEngagement(e),this._updateVisualUrl()):this._updateEntry({refreshEngagement:!0})}componentDidUpdate(e){const{focusOnSelect:t,inlined:s,selected:n}=this.props,{current:i}=this._elementRef;t&&!e.selected&&n&&i&&i.focus&&i.focus(),s&&!e.inlined&&this.setState({isFocused:!1,isTitleFocused:!1})}componentWillUnmount(){this._elementRef=null,clearTimeout(this._blurTimeout),this._blurTimeout=null,this.engagements.unregisterObserver(this),this.preferences.unregisterObserver(this),this.reader.unregisterObserver(this),this.analytics=null,this.engagements=null,this.feedly=null,this.image=null,this.navigo=null,this.preferences=null,this.reader=null}onEntryMarkedAsRead(e,t){e!==this.props.entryId||t&&!0===t.batch||this._updateEntry()}onEntryKeptUnread(e){e===this.props.entryId&&this._updateEntry()}onEntryAnnotationsChanged(e){e===this.props.entryId&&this._updateEntry()}onEntryQuicklistStatusChanged(e){e===this.props.entryId&&this._updateEntry()}onEntryEngagementChanged(e,t){e===this.props.entryId&&(!t||t<20||this._updateEntry())}onEntryFeedbackChanged(e){e===this.props.entryId&&this._updateEntry()}onEntryPriorityChanged(e){e===this.props.entryId&&this._updateEntry()}onPreferenceChanged(e){e===g.BF&&this.setState({theme:this.feedly.getTheme()},(()=>this._updateVisualUrl()))}render(){const{className:e,hideAuthor:t,hideBoardLabel:s,hideCVSSMetadata:i,hideMeme:r,hideRelatedEntries:a,highlightKeywords:l,inlined:c,isBeyondPowerSearch:d,isGPCTutorialRunning:h,isLeoPreview:g,popoverOffsetParent:f,priorityInfo:y,searchOptions:v,selected:b,showKeywordMarker:E,showSecondarySourceMarker:C,showSourceTitle:w,sourceTypes:k,streamId:_}=this.props;let{layout:M,navigation:S}=this.props;const{displayDensity:T,entry:I,imageUrl:N,isFocused:P,isTitleFocused:L}=this.state,{isAnnotated:x,isReadLater:D,isTag:O}=(0,p.Yg)(_),A=O&&!D&&!x,z={entry:I,hideAuthor:t,hideMeme:r,hideBoardLabel:s,hideCVSSMetadata:i,isBeyondPowerSearch:d,isGPCTutorialRunning:h,isLeoPreview:g,layout:M,popoverOffsetParent:f,priorityInfo:y,showKeywordMarker:E,showSecondarySourceMarker:C,showSourceTitle:w,sourceTypes:k};if("u3"!==M&&M||(M="u4"),!I)return n.createElement("div",null);if(c)return n.createElement(me,{entry:I,layout:M,selected:b});const R=_===m.nm,F=!(0,p.m2)(_)&&I.isRead(),j=o()({entry:!0,"entry--focused":P,"entry--read":F,"entry--selected":b,"entry--title-focused":L,"entry--unread":!F,prioritized:I.isPrioritized(),quicklisted:I.isQuicklisted(),[M]:!0,["density-"+T]:!0,[e]:!!e});S||(S=I.getNavigation());const U=I.getId(),B={"data-alternate-link":I.getBestAlternateLink(),"data-navigation":S};"visit"!==S?B["data-inlineentryid"]=U:B["data-visitentryid"]=U;let H=null;if(I.isContentRTL())switch(M){case"u0":H=n.createElement(je,{ref:this._elementRef,className:j,dataAttributes:B,density:T,entry:I,highlightKeywords:l,isCybersecurityTrend:R,isGPCTutorialRunning:h,metadataProps:z,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onOpenFeedbackModal:this._onOpenFeedbackModal,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,searchOptions:v,showDeleteOption:A,showSourceTitle:w});break;case"u5":H=n.createElement(be,{ref:this._elementRef,className:j,dataAttributes:B,entry:I,hideRelatedEntries:a,highlightKeywords:l,imageUrl:N,isBeyondPowerSearch:d,isCybersecurityTrend:R,isLeoPreview:g,metadataProps:z,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onOpenFeedbackModal:this._onOpenFeedbackModal,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,showDeleteOption:A});break;case"u4":default:H=n.createElement(Ee,{ref:this._elementRef,className:j,dataAttributes:B,entry:I,hideRelatedEntries:a,highlightKeywords:l,imageUrl:N,isBeyondPowerSearch:d,isCybersecurityTrend:R,isLeoPreview:g,isGPCTutorialRunning:h,metadataProps:z,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onOpenFeedbackModal:this._onOpenFeedbackModal,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,searchOptions:v,showDeleteOption:A})}else switch(M){case"u0":H=n.createElement(He,{ref:this._elementRef,className:j,dataAttributes:B,density:T,entry:I,hideRelatedEntries:a,highlightKeywords:l,isCybersecurityTrend:R,isGPCTutorialRunning:h,metadataProps:z,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onOpenFeedbackModal:this._onOpenFeedbackModal,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,searchOptions:v,showDeleteOption:A,showSourceTitle:w});break;case"u5":H=n.createElement(u,{ref:this._elementRef,className:j,dataAttributes:B,entry:I,hideRelatedEntries:a,highlightKeywords:l,imageUrl:N,isBeyondPowerSearch:d,isCybersecurityTrend:R,isLeoPreview:g,metadataProps:z,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onOpenFeedbackModal:this._onOpenFeedbackModal,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,showDeleteOption:A});break;case"uFeatured":H=n.createElement(ue,{ref:this._elementRef,dataAttributes:B,entry:I,highlightKeywords:l,imageUrl:N,metadataProps:z});break;case"u4":default:H=n.createElement(ge,{ref:this._elementRef,className:j,dataAttributes:B,entry:I,hideRelatedEntries:a,highlightKeywords:l,imageUrl:N,isBeyondPowerSearch:d,isCybersecurityTrend:R,isLeoPreview:g,isGPCTutorialRunning:h,metadataProps:z,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onOpenFeedbackModal:this._onOpenFeedbackModal,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,searchOptions:v,showDeleteOption:A})}return n.createElement(n.Fragment,null,H,this._renderConfirmationModal(),this._renderCybersecurityFeedbackModal())}_updateEntry({refreshEngagement:e=!1}={}){return this.reader.askLookupEntry(this.props.entryId).then((t=>{this.reader&&this.setState({entry:t},(()=>{this._updateVisualUrl(),e&&this.engagements.askRefreshEntryEngagement(t)}))}))}async _updateVisualUrl(){const{layout:e}=this.props,{entry:t,theme:s}=this.state;if(t&&(e===c.Ar.magazine||e===c.Ar.cards||e===c.Ar.featuredLarge)){const[n,i]=v[e],r=await this.image.askSecureVisualUrl(t,{layout:e,height:i,theme:s,width:n}),{entry:a}=this.state;a&&a.getId()===t.getId()&&this.setState({imageUrl:r})}}}function E({entry:e}){return n.createElement(_,{engagement:e.getEngagement(),engagementRate:e.getEngagementRate(),hideFlameIcon:!0,isHot:e.isHot()})}b.propTypes={className:r().string,entryId:r().string.isRequired,focusOnSelect:r().bool,hideAuthor:r().bool,hideBoardLabel:r().bool,hideCVSSMetadata:r().bool,hideMeme:r().bool,hideRelatedEntries:r().bool,highlightKeywords:r().bool,inlined:r().bool,isBeyondPowerSearch:r().bool,isLeoPreview:r().bool,isGPCTutorialRunning:r().bool,layout:r().oneOf(["u0","u4","u5","uFeatured","u100"]),navigation:r().oneOf(["slider",void 0]),popoverOffsetParent:r().shape({current:r().instanceOf(Element)}),priorityInfo:r().shape({id:r().string,label:r().string,streamLabel:r().string,layers:r().arrayOf(r().object)}),searchOptions:r().shape({layers:r().arrayOf(f.aT)}),selected:r().bool,showSourceTitle:r().bool,showKeywordMarker:r().bool,showSecondarySourceMarker:r().bool,sourceTypes:r().arrayOf(r().string),streamId:r().string},b.defaultProps={className:void 0,focusOnSelect:!1,hideAuthor:!1,hideMeme:!1,hideRelatedEntries:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,highlightKeywords:!1,inlined:!1,isBeyondPowerSearch:!1,isLeoPreview:!1,isGPCTutorialRunning:!1,layout:"u4",navigation:void 0,popoverOffsetParent:void 0,priorityInfo:{},searchOptions:{},selected:!1,showSourceTitle:!0,showKeywordMarker:!1,showSecondarySourceMarker:!1,sourceTypes:void 0,streamId:""},E.propTypes={entry:r().object.isRequired};var C=s(39970),w=s(18078);class k extends n.Component{constructor(...e){super(...e),this.state={expandHighlights:!1}}render(){const{entry:e,highlightKeywords:t}=this.props,s=e.getLeoSummary(),n=e.getHighlightableKeywordSnippets();if(t&&n&&n.length>0)return this._renderHighlightableKeywordSnippets(n);const i=e.listHighlights();return i&&i.length>0?this._renderHighlights():n&&n.length>0?this._renderHighlightableKeywordSnippets(n):e.metadata.hasCustomHeader?this._renderDefaultSummary():s&&s.length>0?this._renderLeoSummary():this._renderDefaultSummary()}_renderDefaultSummary(){const{entry:e}=this.props;return n.createElement("div",{className:"summary",dangerouslySetInnerHTML:{__html:e.getBestSummary()}})}_renderHighlights(){const{expandHighlights:e}=this.state,{entry:t}=this.props,s=t.listAnnotations().filter((e=>e.highlight&&e.authorUser)).map((e=>n.createElement("div",{key:e.id,className:"item-highlight"},n.createElement("span",null,e.highlight.text))));return 0===s.length?null:s.length>1&&!e?n.createElement("div",{className:"list-highlight"},s[0],n.createElement("div",{key:"showMore",onClick:()=>{this.setState({expandHighlights:!0})},className:"item-more"},"+",s.length-1," highlights")):n.createElement("div",{className:"list-highlight"},s)}_renderLeoSummary(){const{entry:e,layout:t}=this.props;let s;return s=t===c.Ar.titleOnly?"inline":t===c.Ar.cards||t===c.Ar.magazine?"paragraph":"list",n.createElement(w.U,{summary:e.getLeoSummary(),display:s})}_renderHighlightableKeywordSnippets(e){if(!e||0===e.length)return null;const{highlightKeywords:t}=this.props,s=e[0];let i,r=s.text;if(t&&(r=n.createElement(C.L,{wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0})),s.text&&s.text.length<160&&e.length>1){const s=e[1];i=s.text,t&&(i=n.createElement(C.L,{wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0}))}return n.createElement("div",{className:"summary mention"},r,i&&n.createElement(n.Fragment,null,"... ",i))}}k.propTypes={entry:r().object.isRequired,highlightKeywords:r().bool,layout:r().oneOf(c.tv).isRequired},k.defaultProps={highlightKeywords:!1};class _ extends n.Component{render(){const{className:e,engagement:t,engagementRate:s,hideFlameIcon:i,isHot:r}=this.props;if(!t||t<20)return null;const a=s>2?Math.floor(s)+" times more popular than usual":"metric showing how popular this article is";return n.createElement("span",{className:o()("EntryEngagement",e,{"EntryEngagement--hot":r,"EntryEngagement--no-icon":i}),title:a},this._renderTextContent())}_renderTextContent(){const{engagement:e}=this.props;let t=e;return e>1e3?t=Math.floor(e/1e3)+"K":e>500?t="500+":e>400?t="400+":e>300?t="300+":e>200?t="200+":e>100&&(t="100+"),t}}_.propTypes={className:r().string,engagement:r().number.isRequired,engagementRate:r().number,hideFlameIcon:r().bool,isHot:r().bool},_.defaultProps={className:"",engagementRate:-1,hideFlameIcon:!1,isHot:!1};var M=s(11505),S=s(1948),T=s(763),I=s(19577),N=s(47264),P=s(99175);function L({className:e,dark:t,onClick:s,small:i,showDeleteOption:r}){let a,l;return r?(a=i?n.createElement(M.Z,{color:t?"white":"black"}):n.createElement(S.Z,{color:t?"white":"black"}),l="Remove"):(a=i?n.createElement(T.Z,{color:t?"white":"black"}):n.createElement(I.Z,{color:t?"white":"black"}),l="Mark as Read and Hide"),n.createElement(P.d,{content:l},n.createElement(N.zx,{"aria-label":l,className:o()("EntryHideButton",e,{"EntryHideButton--dark":t}),onClick:s,icon:a,importance:""}))}L.propTypes={className:r().string,dark:r().bool,onClick:r().func.isRequired,showDeleteOption:r().bool.isRequired,small:r().bool},L.defaultProps={className:void 0,dark:!1,small:!1};var x=s(86451),D=s(15615),O=s(65698),A=s(63402);function z({className:e,darkBackground:t,entry:s,isBeyondPowerSearch:i,isCybersecurityTrend:r,isGPCTutorialRunning:a,isLeoPreview:l,layout:d,onLessLikeThisOpenChange:h,onOpenFeedbackModal:u,searchOptions:p,small:m}){let g=[];if(l){const e=s.getMostRelevantPriority()||{};if(g=(0,O.p2)(s,e.layers),!g.length)return null}i&&(g=(0,O.p2)(s,p.layers));const f=m?x.Z:D.Z;return n.createElement(A.yv,{align:d===c.Ar.magazine?"end":"start",className:o()("LessLikeThisSelector--entry",`LessLikeThisSelector--entry-${d}`),button:n.createElement(N.zx,{"aria-label":"Less like this",className:o()("LessLikeThisSelector__button",`LessLikeThisSelector__button--entry-${d}`,e),onClick:e=>{e.stopPropagation()},icon:n.createElement(f,{color:t?"white":"black"}),importance:""}),entry:s,isBeyondPowerSearch:i,isCybersecurityTrend:r,isGPCTutorialRunning:a,isLeoPreview:l,onOpenChange:h,onOpenFeedbackModal:u,previewExcludeTopics:g,tagName:"span"})}z.propTypes={className:r().string,darkBackground:r().bool,entry:r().object.isRequired,isBeyondPowerSearch:r().bool,isCybersecurityTrend:r().bool,isGPCTutorialRunning:r().bool,isLeoPreview:r().bool,layout:r().oneOf(c.tv).isRequired,onLessLikeThisOpenChange:r().func.isRequired,onOpenFeedbackModal:r().func,searchOptions:r().shape({layers:r().arrayOf(f.aT)}),small:r().bool},z.defaultProps={className:void 0,darkBackground:!1,isBeyondPowerSearch:!1,isCybersecurityTrend:!1,isGPCTutorialRunning:!1,isLeoPreview:!1,onOpenFeedbackModal:void 0,searchOptions:{},small:!1};var R=s(4425),F=s(71262);const j=(0,F.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M20.215 5.65a.5.5 0 01.77.63l-.057.07-11.786 12a.5.5 0 01-.643.06l-.07-.06-5.357-5.454a.5.5 0 01.645-.76l.068.06 5 5.09L20.216 5.65z",fill:"currentColor",fillRule:"nonzero"}))}));function U({className:e,dark:t,onClick:s,read:i,small:r}){const a=i?"Mark as Unread":"Mark as Read",l=r?R.Z:j;return n.createElement(P.d,{content:a},n.createElement(N.zx,{"aria-label":a,className:o()("EntryMarkAsReadButton",e,{"EntryMarkAsReadButton--dark":t}),onClick:s,icon:n.createElement(l,{color:t?"white":"black"}),importance:""}))}U.propTypes={className:r().string,dark:r().bool,onClick:r().func.isRequired,read:r().bool.isRequired,small:r().bool},U.defaultProps={className:void 0,dark:!1,small:!1};var B=s(77817),H=s(87970);const Y=({description:e,pictureAlt:t,pictureUrl:s,title:i})=>n.createElement("div",{className:"item-note"},n.createElement(B.q,{alt:t,className:"item-picture",iconSize:12,url:s}),n.createElement("div",{className:"item-content"},n.createElement(H.sD,null,i),e&&n.createElement("div",{className:"item-description"},e)));Y.propTypes={description:r().node,pictureAlt:r().string,pictureUrl:r().string.isRequired,title:r().node.isRequired},Y.defaultProps={description:void 0,pictureAlt:""};class Z extends n.Component{constructor(...e){super(...e),this.state={expandNotes:!1},this._renderSourceTitle=({ownerName:e,title:t})=>[e,n.createElement("span",{key:"meta",className:"item-header item-header--normal-case is-muted"}," saved to "),t],this._onExpandClick=()=>{this.setState({expandNotes:!0})}}render(){const{entry:e}=this.props,{expandNotes:t}=this.state,s=e.listAnnotations(),i=e.getFirstPublicBoardSourceInfo(),r=s.filter((e=>e.comment&&e.authorUser)).map((({authorUser:{email:e,name:t,picture:s}={},comment:r,emailMentions:a=[],id:o,slackMentions:l=[]})=>{const c=a.map((e=>`+${e}`)).concat(l);return n.createElement(Y,{key:o,description:n.createElement(C.L,{wordClassName:"mention",words:c,text:r}),pictureAlt:t||e,pictureUrl:s,title:i?this._renderSourceTitle(i):t})}));if(!r.length){const{viaStreamId:t}=e.metadata;return i&&t&&!(0,p.Yg)(t).isFeed?n.createElement("div",{className:"list-note"},n.createElement(Y,{pictureAlt:i.ownerName,pictureUrl:i.ownerPicture,title:this._renderSourceTitle(i)})):null}return r.length>1&&!t?n.createElement("div",{className:"list-note"},r[0],n.createElement("div",{className:"item-more",onClick:this._onExpandClick},"+",r.length-1," notes")):n.createElement("div",{className:"list-note"},r)}}Z.propTypes={entry:r().object.isRequired};var W=s(79199),$=s(80147);class q extends n.Component{render(){const{entry:e,layout:t,lessLikeThis:s,isGPCTutorialRunning:i,onHideClick:r,onMarkAsReadClick:a,onReadLaterClick:l,onTagPickerStateChange:d,rtl:h,showDeleteOption:u}=this.props,p=t===c.Ar.cards,m=t===c.Ar.magazine;return n.createElement("div",{className:o()("entry__toolbar",{dark:p})},n.createElement(J,{darkBackground:p,onSaveClick:l,saved:e.isQuicklisted(),small:m}),n.createElement($.D,{align:h?"left":"right",dark:p,entry:e,importance:"",isGPCTutorialRunning:i,onTagPickerStateChange:d,small:m}),n.cloneElement(s,{small:m}),n.createElement(U,{dark:p,onClick:a,read:e.isRead(),small:m}),n.createElement(L,{dark:p,onClick:r,showDeleteOption:u,small:m}))}}q.propTypes={entry:W.A.isRequired,isGPCTutorialRunning:r().bool,lessLikeThis:r().node.isRequired,layout:r().oneOf(["u4","u5"]).isRequired,onHideClick:r().func.isRequired,onMarkAsReadClick:r().func.isRequired,onReadLaterClick:r().func.isRequired,onTagPickerStateChange:r().func.isRequired,rtl:r().bool,showDeleteOption:r().bool.isRequired},q.defaultProps={isGPCTutorialRunning:!1,rtl:!1};const V=(0,F.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M13.077 2.5H6.923C5.861 2.5 5 3.384 5 4.474v12.63l.005.067c.042.257.32.41.557.284l4.443-2.366 4.433 2.366a.385.385 0 00.562-.35V4.474c0-1.09-.861-1.974-1.923-1.974z",fill:"currentColor",fillRule:"nonzero"}))}));var G=s(76730),Q=s(56816),K=s(68130);function J({className:e,darkBackground:t,onSaveClick:s,saved:i,small:r}){if(!streets.getUserId())return null;let a;if(i){const e=r?V:G.Z;a=n.createElement(e,{color:"accent"})}else{const e=r?Q.Z:K.Z;a=n.createElement(e,{color:t?"white":"black"})}return n.createElement(P.d,{content:"Read Later"},n.createElement(N.zx,{"aria-label":"Read Later",className:o()("EntryReadLaterButton",e,{"EntryReadLaterButton--dark":t,"EntryReadLaterButton--saved":i}),onClick:s,icon:a,importance:""}))}function X({entry:e,highlightKeywords:t}){let s=e.getCleanTitle();const i=e.getHighlightableKeywords();return t&&i&&i.length>0&&(s=n.createElement(C.L,{wordClassName:"entry__keyword",words:i,text:s,wrapper:"fragment",fullword:!0})),s}J.propTypes={className:r().string,darkBackground:r().bool,onSaveClick:r().func,saved:r().bool.isRequired,small:r().bool},J.defaultProps={className:void 0,darkBackground:!1,onSaveClick:void 0,small:!1},X.propTypes={entry:r().object.isRequired,highlightKeywords:r().bool},X.defaultProps={highlightKeywords:!1};var ee=s(34039);class te extends n.PureComponent{constructor(...e){super(...e),this._onBlur=()=>{this.props.onFocusChange(!1)},this._onFocus=()=>{this.props.onFocusChange(!0)}}render(){const{children:e,entry:t,onFocusChange:s,tweet:i}=this.props;return n.createElement(ee.rU,Object.assign({className:o()("entry__title",{"entry__title--tweet":i}),href:t.getBestAlternateLink()||"",newWindow:!0},s?{onBlur:this._onBlur,onFocus:this._onFocus}:{}),e)}}te.propTypes={children:r().node,entry:r().shape({getBestAlternateLink:r().func.isRequired}).isRequired,onFocusChange:r().func,tweet:r().bool},te.defaultProps={children:void 0,onFocusChange:void 0,tweet:!1};var se=s(86702);function ne({entry:e,layout:t}){const{metadata:{tweet:s}={}}=e;return e&&s&&s.content?n.createElement("div",{className:"tweetHolder"},n.createElement(se.w,{layout:t,tweet:s})):null}ne.propTypes={entry:r().object.isRequired,layout:r().oneOf(c.tv).isRequired};var ie=s(98978),re=s.n(ie),ae=s(3015),oe=s(16216),le=s(10974),ce=s(40280),de=s(31318),he=s(83980);class ue extends n.Component{constructor(e){super(e),this._updateCVEInfo=async()=>{const{entry:e}=this.props,t=e.getMeme(),s=e.listTopVulnerability();if(t&&"vulnerabilities"===t.topic&&s){const e=await this.leo.askEntityInfo(s.id);this.setState({vulnerabilityEntity:e})}},this._elementRef=n.createRef(),this.state={vulnerabilityEntity:{}}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,l.du)(e.getBestAlternateLink()||"",t)}componentDidMount(){this.leo=streets.service("leo"),this._updateCVEInfo()}componentWillUnmount(){this.leo=null,this._elementRef=null}render(){const{dataAttributes:e,entry:t,highlightKeywords:s,imageUrl:i,metadataProps:r}=this.props,{vulnerabilityEntity:a}=this.state,l=t.getMeme();let c;return a&&a.cveid?c=a.cveid:l&&l.topic&&(c=`in ${l.topic}`),n.createElement("article",Object.assign({ref:this._elementRef,id:t.getId()+"_main",className:"FeaturedLargeEntry entry"},e),n.createElement("div",{className:o()("FeaturedLargeEntry__visual",{"FeaturedLargeEntry__visual--no-image":!i})},n.createElement(d.u,{url:i}),n.createElement("div",{className:"FeaturedLargeEntry__visual-content"},n.createElement(te,{entry:t},n.createElement(ce.H2,{className:"FeaturedLargeEntry__title"},c&&n.createElement(ce.H8,{className:"FeaturedLargeEntry__kicker"},c),n.createElement("span",{className:"FeaturedLargeEntry__heading heading"},n.createElement(X,{entry:t,highlightKeywords:s})))),n.createElement(h.at,r))),l&&n.createElement("div",{className:"FeaturedLargeEntry__meme"},this._renderMemeSummary(l),this._renderMemeSparkline(l)))}_renderMemeSparkline(e){const{vulnerabilityEntity:t}=this.state,{cveid:s,trendingSparklineUrl:i,vulnerableProducts:{vendor:r}={}}=t,a=i||e.sparklineUrl;if(!a||!e.items)return null;let o=n.createElement("img",{className:"FeaturedLargeEntry__sparkline-visual",src:a,alt:i?`Trend graph of ${s}`:`${e.title} trend`});i&&(o=n.createElement(he.q,{vendor:r},o));const l=this._getMemeEntryDifference(e.items);return n.createElement("div",{className:"FeaturedLargeEntry__sparkline"},n.createElement(ce.H3,{appearance:"h4",className:"m-t-0"},"Trending chart"),o,n.createElement("p",null,n.createElement("b",null,e.items.length," sources")," covered '",s||e.title,"' within the last"," ",n.createElement("b",null,(0,ae.vp)(l),".")))}_renderMemeSummary(e){const{vulnerabilityEntity:t}=this.state,{cvssV3:{attackComplexity:s,attackVector:i,availabilityImpact:r}={},description:a,exploits:o,patched:l}=t,c=a&&!(0,le._h)(a);if(!c&&!e.summary)return null;let d;return d=c?n.createElement("div",{className:"FeaturedLargeEntry__summary"},n.createElement("div",{className:"FeaturedLargeEntry__summary-item"},a),n.createElement("div",{className:"FeaturedLargeEntry__summary-item"},n.createElement("div",{className:"FeaturedLargeEntry__cve-info"},"Exploit:"," ",n.createElement("span",{className:"FeaturedLargeEntry__cve-info-value"},o&&o.length?"Yes":"No")),n.createElement("div",{className:"FeaturedLargeEntry__cve-info"},"Patched:"," ",n.createElement("span",{className:"FeaturedLargeEntry__cve-info-value"},l?"Yes":"No")),i&&n.createElement(de.yi,{label:"Attack Vector (AV):",value:oe.z3[i]}),s&&n.createElement(de.yi,{label:"Attack Complexity (AC):",value:oe.DQ[s]}),r&&n.createElement(de.yi,{label:"Availability (A):",value:oe.UQ[r]}))):n.createElement("ul",{className:"FeaturedLargeEntry__summary FeaturedLargeEntry__summary--list"},e.summary.slice(0,2).map((e=>n.createElement("li",{key:`summary-${e}`,className:"FeaturedLargeEntry__summary-item FeaturedLargeEntry__summary-item--list"},e)))),n.createElement("div",{className:"FeaturedLargeEntry__highlights"},n.createElement(ce.H3,{appearance:"h4",className:"m-t-0"},"Highlights"),d)}_getMemeEntryDifference(e){const t=re()(e,(e=>e.published));return t[t.length-1].published-t[0].published}}ue.propTypes={dataAttributes:r().object.isRequired,entry:r().object.isRequired,highlightKeywords:r().bool,imageUrl:r().string,metadataProps:r().object.isRequired},ue.defaultProps={highlightKeywords:!1,imageUrl:null};var pe=s(86316);class me extends n.Component{constructor(e){super(e),this._entryControlHolder=n.createRef(),this._createControl(e.entry.getId(),e.layout)}componentDidMount(){this.entryControl&&(this.entryControl.setPart(this._entryControlHolder.current),this.entryControl.display())}componentDidUpdate(e){const{entry:t,layout:s}=this.props;e.entry.getId()!==t.getId()&&(this._destroyControl(),this._createControl(t.getId(),s),this.entryControl&&(this.entryControl.setPart(this._entryControlHolder.current),this.entryControl.display()))}componentWillUnmount(){this._entryControlHolder=null,this._destroyControl()}render(){const{entry:e,layout:t,selected:s}=this.props;return n.createElement("div",{id:e.getId()+"_main",className:o()("inlineFrame",{"inlineFrame--selected":s,[t]:!0}),"data-uninlineentryid":e.getId(),onClick:()=>{streets.service("reader").askMarkEntryAsRead(e.getId(),{batch:!1,buried:!1,inlined:!0,skipKeptUnread:!0})}},n.createElement(T.Z,{className:"close-button","data-uninlineentryid":e.getId()}),n.createElement("div",{ref:this._entryControlHolder}))}_createControl(e,t){this.entryControl=new pe.c,this.entryControl.setHome(streets),this.entryControl.setPreferences(streets.service("preferences")),this.entryControl.setReader(streets.service("reader")),this.entryControl.setSigns(streets.service("signs")),this.entryControl.setFeedly(streets.service("feedly")),this.entryControl.setAnalytics(streets.service("analytics")),this.entryControl.setDots(streets.service("dots")),this.entryControl.setLeo(streets.service("leo")),this.entryControl.setMicrosessions(streets.service("microsessions")),this.entryControl.setLayout(t),this.entryControl.setEntryId(e)}_destroyControl(){this.entryControl&&(this.entryControl.destroy(),this.entryControl=null)}}me.propTypes={entry:r().object.isRequired,layout:r().oneOf(["u0","u4","u5","u100"]),selected:r().bool},me.defaultProps={layout:"u4",selected:!1};class ge extends n.Component{constructor(e){super(e),this._onLessLikeThisOpenChange=e=>{this.setState({isLessLikeThisOpen:e})},this._onTagPickerStateChange=e=>{this.setState({isTagPickerOpen:e})},this._elementRef=n.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,l.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dataAttributes:i,entry:r,hideRelatedEntries:a,highlightKeywords:l,imageUrl:u,isBeyondPowerSearch:p,isCybersecurityTrend:m,isGPCTutorialRunning:g,isLeoPreview:f,metadataProps:y,onBlur:v,onFocus:b,onHideClick:E,onMarkAsReadClick:C,onOpenFeedbackModal:w,onSaveClick:_,onTitleFocusChange:M,searchOptions:S,showDeleteOption:T}=this.props,I=c.Ar.magazine,N=r.getId(),{isTwitterFeed:P,hasLinkedArticle:L}=r.metadata,x=P&&!L;return n.createElement("article",Object.assign({ref:this._elementRef,id:N+"_main",className:o()(s,{"entry--popover-open":t||e||g})},i,{"data-u":"4",onBlur:v,onFocus:b}),n.createElement(d.u,{url:u}),n.createElement("div",{className:"content"},n.createElement(te,{entry:r,onFocusChange:M,tweet:x},n.createElement(X,{entry:r,highlightKeywords:l})),n.createElement(q,{entry:r,isGPCTutorialRunning:g,layout:I,lessLikeThis:n.createElement(z,{entry:r,isBeyondPowerSearch:p,isCybersecurityTrend:m,isGPCTutorialRunning:g,isLeoPreview:f,layout:I,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:w,searchOptions:S}),onHideClick:E,onMarkAsReadClick:C,onReadLaterClick:_,onTagPickerStateChange:this._onTagPickerStateChange,showDeleteOption:T}),n.createElement(h.at,y),n.createElement(Z,{entry:r}),!x&&n.createElement(k,{entry:r,highlightKeywords:l,layout:I}),n.createElement(ne,{entry:r,layout:I}),!a&&n.createElement(ve,{entry:r})))}}ge.propTypes={className:r().string,dataAttributes:r().object.isRequired,entry:r().object.isRequired,hideRelatedEntries:r().bool,highlightKeywords:r().bool,imageUrl:r().string,isCybersecurityTrend:r().bool,isBeyondPowerSearch:r().bool,isGPCTutorialRunning:r().bool,isLeoPreview:r().bool,metadataProps:r().object.isRequired,onBlur:r().func.isRequired,onFocus:r().func.isRequired,onHideClick:r().func.isRequired,onMarkAsReadClick:r().func.isRequired,onOpenFeedbackModal:r().func,onSaveClick:r().func.isRequired,onTitleFocusChange:r().func.isRequired,searchOptions:r().shape({layers:r().arrayOf(f.aT)}),showDeleteOption:r().bool},ge.defaultProps={className:"",hideRelatedEntries:!1,highlightKeywords:!1,imageUrl:null,isCybersecurityTrend:!1,isBeyondPowerSearch:!1,isGPCTutorialRunning:!1,isLeoPreview:!1,onOpenFeedbackModal:void 0,searchOptions:{},showDeleteOption:!1};var fe=s(61257);function ye({referenceEntry:e}){return n.createElement("div",{className:"fx"},n.createElement("div",{className:"container center"},n.createElement(b,{entryId:e.getId(),layout:"uFeatured",hideAuthor:!0}),n.createElement(fe.p,{entry:e})))}ye.propTypes={referenceEntry:r().shape({getId:r().function}).isRequired};function ve({entry:e,isCompact:t}){if("no"===streets.service("preferences").getPreference(g.xV))return null;const s=e.listRelatedEntries();if(!s||!s.length)return null;const i=t?[]:s.slice(0,2),r=i.length-1,a=s.length-i.length;return n.createElement("div",{className:o()("RelatedEntries",{"RelatedEntries--compact":t})},n.createElement("span",{className:"metadata"},i.length>0&&"Also in ",i.map(((e,t)=>{const{entryId:s,feedTitle:i,unread:o}=e;return n.createElement(n.Fragment,{key:s},n.createElement(Be,{initialEntryId:s,initialIsRead:!o,sourceTitle:i}),0===a&&t===r?" ":", ")})),a>0&&n.createElement("span",{className:o()({"RelatedEntries__more--compact":t}),onClick:t=>{t&&t.stopPropagation(),streets.service("feedly").slideReactComponent(ye,{referenceEntry:e})}},"+",a," sources")))}ve.propTypes={entry:r().shape({listRelatedEntries:r().func}).isRequired,isCompact:r().bool},ve.defaultProps={isCompact:!1};class be extends n.Component{constructor(e){super(e),this._onLessLikeThisOpenChange=e=>{this.setState({isLessLikeThisOpen:e})},this._onTagPickerStateChange=e=>{this.setState({isTagPickerOpen:e})},this._elementRef=n.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,l.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dataAttributes:i,entry:r,highlightKeywords:a,imageUrl:l,isBeyondPowerSearch:u,isCybersecurityTrend:p,isLeoPreview:m,metadataProps:g,onBlur:f,onFocus:y,onHideClick:v,onMarkAsReadClick:b,onOpenFeedbackModal:E,onSaveClick:C,onTitleFocusChange:w,showDeleteOption:_}=this.props,M=c.Ar.cards,{isTwitterFeed:S,hasLinkedArticle:T}=r.metadata,I=S&&!T;return n.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:o()(s,"rtl",{"entry--popover-open":t||e})},i,{"data-u":"5",onBlur:f,onFocus:y}),n.createElement("div",{className:"visual-container"},n.createElement(d.u,{url:l}),n.createElement("div",{className:"visual-overlay"})),n.createElement("div",{className:"content"},n.createElement(te,{entry:r,onFocusChange:w,tweet:I},n.createElement(X,{entry:r,highlightKeywords:a})),n.createElement(q,{entry:r,layout:M,lessLikeThis:n.createElement(z,{darkBackground:!0,entry:r,isBeyondPowerSearch:u,isCybersecurityTrend:p,isLeoPreview:m,layout:M,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:E}),rtl:!0,onHideClick:v,onMarkAsReadClick:b,onReadLaterClick:C,onTagPickerStateChange:this._onTagPickerStateChange,showDeleteOption:_}),n.createElement(h.at,g),!I&&n.createElement(k,{entry:r,highlightKeywords:a,layout:M})))}}be.propTypes={className:r().string,dataAttributes:r().object.isRequired,entry:r().object.isRequired,highlightKeywords:r().bool,imageUrl:r().string,isBeyondPowerSearch:r().bool,isCybersecurityTrend:r().bool,isLeoPreview:r().bool,metadataProps:r().object.isRequired,onBlur:r().func.isRequired,onFocus:r().func.isRequired,onHideClick:r().func.isRequired,onMarkAsReadClick:r().func.isRequired,onOpenFeedbackModal:r().func,onSaveClick:r().func.isRequired,onTitleFocusChange:r().func.isRequired,showDeleteOption:r().bool},be.defaultProps={className:"",highlightKeywords:!1,imageUrl:null,isBeyondPowerSearch:!1,isCybersecurityTrend:!1,isLeoPreview:!1,onOpenFeedbackModal:void 0,showDeleteOption:!1};class Ee extends n.Component{constructor(e){super(e),this._onLessLikeThisOpenChange=e=>{this.setState({isLessLikeThisOpen:e})},this._onTagPickerStateChange=e=>{this.setState({isTagPickerOpen:e})},this._elementRef=n.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,l.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dataAttributes:i,entry:r,highlightKeywords:a,imageUrl:l,isBeyondPowerSearch:u,isCybersecurityTrend:p,isGPCTutorialRunning:m,isLeoPreview:g,metadataProps:f,onBlur:y,onFocus:v,onHideClick:b,onMarkAsReadClick:E,onOpenFeedbackModal:C,onSaveClick:w,onTitleFocusChange:_,searchOptions:M,showDeleteOption:S}=this.props,T=c.Ar.magazine,{isTwitterFeed:I,hasLinkedArticle:N}=r.metadata,P=I&&!N;return n.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:o()(s,"rtl",{"entry--popover-open":t||e||m})},i,{"data-u":"4",onBlur:y,onFocus:v}),n.createElement("div",{className:"content"},n.createElement(te,{entry:r,onFocusChange:_,tweet:P},n.createElement(X,{entry:r,highlightKeywords:a})),n.createElement(q,{entry:r,layout:T,isGPCTutorialRunning:m,lessLikeThis:n.createElement(z,{entry:r,isBeyondPowerSearch:u,isCybersecurityTrend:p,isGPCTutorialRunning:m,isLeoPreview:g,layout:T,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:C,searchOptions:M}),rtl:!0,onHideClick:b,onMarkAsReadClick:E,onReadLaterClick:w,onTagPickerStateChange:this._onTagPickerStateChange,showDeleteOption:S}),n.createElement(h.at,f),n.createElement(Z,{entry:r}),!P&&n.createElement(k,{entry:r,highlightKeywords:a,layout:T}),n.createElement(ne,{entry:r,layout:T})),n.createElement(d.u,{url:l}))}}Ee.propTypes={className:r().string,dataAttributes:r().object.isRequired,entry:r().object.isRequired,highlightKeywords:r().bool,imageUrl:r().string,isBeyondPowerSearch:r().bool,isCybersecurityTrend:r().bool,isGPCTutorialRunning:r().bool,isLeoPreview:r().bool,metadataProps:r().object.isRequired,onBlur:r().func.isRequired,onFocus:r().func.isRequired,onHideClick:r().func.isRequired,onMarkAsReadClick:r().func.isRequired,onOpenFeedbackModal:r().func,onSaveClick:r().func.isRequired,onTitleFocusChange:r().func.isRequired,searchOptions:r().shape({layers:r().arrayOf(f.aT)}),showDeleteOption:r().bool},Ee.defaultProps={className:"",highlightKeywords:!1,imageUrl:null,isBeyondPowerSearch:!1,isCybersecurityTrend:!1,isGPCTutorialRunning:!1,isLeoPreview:!1,onOpenFeedbackModal:void 0,searchOptions:{},showDeleteOption:!1};const Ce=["redef","twitter","linkedIn","facebook","pocket","buffer","email","evernote","oneNote","instapaper","hootsuite","customSharing"];var we=s(69098),ke=s(97418),_e=s(45146),Me=s(80716),Se=s(25035);const Te=(0,F.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.143 2.357H4.857a2.5 2.5 0 00-2.5 2.5v10.286a2.5 2.5 0 002.5 2.5h10.286a2.5 2.5 0 002.5-2.5V4.857a2.5 2.5 0 00-2.5-2.5zm-10.286 1h10.286a1.5 1.5 0 011.5 1.5v10.286a1.5 1.5 0 01-1.5 1.5H4.857a1.5 1.5 0 01-1.5-1.5V4.857a1.5 1.5 0 011.5-1.5z"}),n.createElement("path",{d:"M9.494 7.035l.006.108c0 .63.892.664.991.105l.009-.105c0-.513.416-.929.929-.929.666 0 .666-1 0-1H8.57c-.63 0-.664.892-.105.991l.105.01c.477 0 .87.358.923.82zM8.466 14.777l.105.009h2.858l.105-.01c.526-.092.526-.888 0-.981l-.106-.01-.108-.006a.93.93 0 01-.814-.814l-.006-.108c0-.63-.892-.664-.991-.105l-.009.105a.929.929 0 01-.82.922l-.109.007c-.63 0-.664.892-.105.99z"}),n.createElement("path",{d:"M10 5.929a.5.5 0 01.492.41l.008.09v7.142a.5.5 0 01-.992.09l-.008-.09V6.43a.5.5 0 01.5-.5z"})))}));var Ie=s(1464);const Ne=(0,F.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.857 3.786H4.143a2.5 2.5 0 00-2.5 2.5v8.143a2.5 2.5 0 002.5 2.5h11.714a2.5 2.5 0 002.5-2.5V6.286a2.5 2.5 0 00-2.5-2.5zm-11.714 1h11.714a1.5 1.5 0 011.5 1.5v8.143a1.5 1.5 0 01-1.5 1.5H4.143a1.5 1.5 0 01-1.5-1.5V6.286a1.5 1.5 0 011.5-1.5z"}),n.createElement("path",{d:"M14.71 6.736a.5.5 0 01.649.755l-.069.059-5.007 3.571a.5.5 0 01-.503.046l-.078-.046L4.709 7.55a.5.5 0 01.504-.86l.078.046L9.993 10.1l4.717-3.364z"})))}));var Pe=s(50240);const Le=(0,F.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.143 2.357H4.857a2.5 2.5 0 00-2.5 2.5v10.286a2.5 2.5 0 002.5 2.5h10.286a2.5 2.5 0 002.5-2.5V4.857a2.5 2.5 0 00-2.5-2.5zm-10.286 1h10.286a1.5 1.5 0 011.5 1.5v10.286a1.5 1.5 0 01-1.5 1.5H4.857a1.5 1.5 0 01-1.5-1.5V4.857a1.5 1.5 0 011.5-1.5z"}),n.createElement("path",{d:"M14.291 5.929a.5.5 0 01.09.992l-.09.008h-1.425c-1.101 0-1.6.442-1.648 1.473l-.004.168v8.573a.5.5 0 01-.992.09l-.008-.09V8.57c0-1.639.87-2.568 2.458-2.637l.194-.004h1.425z"}),n.createElement("path",{d:"M13.571 10.214a.5.5 0 01.09.992l-.09.008H7.857a.5.5 0 01-.09-.992l.09-.008h5.714z"})))}));const xe=(0,F.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12.857 7.357a4.786 4.786 0 00-4.786 4.786v5a.5.5 0 00.5.5h2.858a.5.5 0 00.5-.5v-5a.929.929 0 111.857 0v5a.5.5 0 00.5.5h2.857a.5.5 0 00.5-.5v-5a4.786 4.786 0 00-4.786-4.786zm.195 1.005c2 .101 3.59 1.755 3.59 3.78v4.5h-1.857v-4.5a1.929 1.929 0 00-1.928-1.928l-.15.006a1.929 1.929 0 00-1.778 1.923v4.5H9.07v-4.5a3.786 3.786 0 013.786-3.786l.195.005zM5.714 8.071H2.857a.5.5 0 00-.5.5v8.572a.5.5 0 00.5.5h2.857a.5.5 0 00.5-.5V8.57a.5.5 0 00-.5-.5zm-.5 1v7.571H3.357v-7.57h1.857zM4.286 3.071a1.929 1.929 0 100 3.858 1.929 1.929 0 000-3.858zm0 1a.929.929 0 110 1.858.929.929 0 010-1.858z"})))}));const De=(0,F.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M7.5 5.929a1.571 1.571 0 100 3.142 1.571 1.571 0 000-3.142zm0 1a.571.571 0 110 1.142.571.571 0 010-1.142zM12.5 5.929a1.571 1.571 0 100 3.142 1.571 1.571 0 000-3.142zm0 1a.571.571 0 110 1.142.571.571 0 010-1.142z"}),n.createElement("path",{d:"M15.263 1.768c-1.05.367-1.84.738-2.376 1.127l-.12.09-.127-.048a7.945 7.945 0 00-.486-.162l-.284-.08c-1.426-.377-2.927-.386-4.375.174l-.262.108-.01-.008a7.27 7.27 0 00-.696-.528c-.744-.496-1.5-.798-2.241-.798a.5.5 0 00-.5.5l-.003 7.35-.002.091c-.032 1.571.106 2.753.69 4.067 1.316 2.96 4.427 4.706 9.815 4.706h1.428a.5.5 0 00.5-.5V2.143a.5.5 0 00-.658-.474l-.293.1zm-10.446.95c.367.099.759.29 1.156.555.216.145.418.3.599.455l.183.164.034.033a.5.5 0 00.577.094c1.458-.729 3.025-.729 4.5-.286.368.11.633.218.768.286a.5.5 0 00.577-.094l.088-.082c.346-.303.953-.625 1.813-.955l.101-.038v14.507h-.927c-5.015 0-7.757-1.539-8.9-4.112-.472-1.06-.613-2.041-.61-3.315l.01-.6V2.71l.03.008z"}),n.createElement("path",{d:"M8.218 8.218a.5.5 0 01.638-.058l.069.058 1.074 1.075 1.076-1.075a.5.5 0 01.638-.058l.07.058a.5.5 0 01.057.638l-.058.069-1.428 1.429a.5.5 0 01-.638.057l-.07-.057-1.428-1.429a.5.5 0 010-.707z"})))}));var Oe=s(44323),Ae=s(89458),ze=s(15454),Re=s(24916);class Fe extends n.Component{constructor(e){super(e),this._onLessLikeThisOpenChange=e=>{this.setState({isLessLikeThisOpen:e})},this._onTagPickerStateChange=e=>{this.setState({isTagPickerOpen:e})},this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}componentDidMount(){this.feedly=streets.service("feedly"),this.microsessions=streets.service("microsessions"),this.preferences=streets.service("preferences"),this.signs=streets.service("signs")}componentWillUnmount(){this.feedly=null,this.microsessions=null,this.preferences=null,this.signs=null}render(){const{enabledSharingServices:e,entry:t,isCybersecurityTrend:s,isGPCTutorialRunning:i,onHideClick:r,onOpenFeedbackModal:a,showDeleteOption:l,showToolbar:c}=this.props,{isLessLikeThisOpen:d,isTagPickerOpen:h}=this.state;return n.createElement("div",{className:o()("CondensedToolbar",{"CondensedToolbar--visible":h||d||c}),onClick:e=>{e.stopPropagation()}},n.createElement($.D,{align:"right",className:"CondensedToolbar__button",entry:this.props.entry,importance:"",isGPCTutorialRunning:i,onTagPickerStateChange:this._onTagPickerStateChange,small:!0}),n.createElement(A.yv,{align:"end",button:n.createElement(N.zx,{"aria-label":"Less Like This",className:"CondensedToolbar__button",icon:n.createElement(x.Z,null),importance:""}),entry:t,isCybersecurityTrend:s,isGPCTutorialRunning:i,onOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:a,tagName:"span"}),e.map((e=>{const{icon:t,title:s}=Fe.SHARING_SERVICES[e];return n.createElement(P.d,{key:e,content:s},n.createElement(N.zx,{"aria-label":s,className:"CondensedToolbar__button",icon:n.createElement(t,null),importance:"",onClick:t=>{this._onShareClick(e,t)}}))})),n.createElement(L,{className:"icon CondensedToolbar__button",onClick:r,showDeleteOption:l,small:!0}))}_createPopupWindow(e,t,s){const n=screen.height,i=screen.width,r=Math.round(i/2-s/2);let a=0;n>t&&(a=Math.round(n/2-t/2));const o=window.open(e,"_blank","left="+r+",top="+a+",width="+s+",height="+t+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");o?o.focus():(0,ze.d)()}_onShareClick(e,t){if(streets.service("checklist").askMarkTaskAsComplete("share"),"email"===e){"gmail"===this.preferences.getPreference("emailClient")&&(e="gmail")}const{entry:s}=this.props,n=Fe.SHARING_SERVICES[e],i=this.preferences.getPreference("customSharing"),r=this.preferences.getPreference("twitterPostfix")||"";if("redef"!==e)if("customSharing"===e&&i&&0!==i.indexOf("http"))this.signs.showMessage("Invalid custom share URL");else if(n.decoration&&s.getDecoration(n.decoration)){const e=s.getDecoration(n.decoration);0===e.indexOf("http")&&window.open(e)}else if(!n.requiresPro||streets.hasProAccess())if(t.target=t.currentTarget,!n.popupUrl||streets.hasProAccess()&&n.showPopup)n.showPopup.call(this,t,s),this.microsessions.setEntryAsShared(s.getId());else{if("customSharing"===e&&!i)return void this.feedly.loadPage("account/saving-sharing");this._createPopupWindow(n.popupUrl(s.getAlternateLink(),s,r,i),n.windowHeight,n.windowWidth),streets.service("analytics").trackEvent("sharing",n.analyticsName),this.microsessions.setEntryAsShared(s.getId())}else this.feedly.loadPage("pro/"+n.proAnalytics);else(0,Re.x)(s)}}Fe.propTypes={enabledSharingServices:r().arrayOf(r().string),entry:r().object.isRequired,isCybersecurityTrend:r().bool,isGPCTutorialRunning:r().bool,onHideClick:r().func.isRequired,onOpenFeedbackModal:r().func,showDeleteOption:r().bool,showToolbar:r().bool},Fe.defaultProps={enabledSharingServices:[],isCybersecurityTrend:!1,isGPCTutorialRunning:!1,onOpenFeedbackModal:void 0,showDeleteOption:!1,showToolbar:!1},Fe.SHARING_SERVICES={redef:{icon:_e.Z,title:"Redef"},evernote:{analyticsName:"evernote",decoration:ke.I.evernote,icon:Me.Z,showPopup(e,t){this.feedly.askPickNotebook(t.id,e.target,{align:"end"})},title:"Evernote"},oneNote:{analyticsName:"oneNote",decoration:ke.I.oneNote,icon:Se.Z,showPopup(e,t){this.feedly.askPickOneNoteSection(t.id,e.target)},title:"OneNote"},instapaper:{windowWidth:550,windowHeight:320,analyticsName:"instapaper",icon:Te,popupUrl:(e,t)=>"http://www.instapaper.com/edit?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t.getCleanTitle())+"&_="+(new Date).getTime(),requiresPro:!0,proAnalytics:"sharing.button.instapaper",title:"Instapaper"},pocket:{windowWidth:550,windowHeight:320,analyticsName:"pocket",decoration:ke.I.pocket,icon:Ie.Z,popupUrl:(e,t)=>"https://getpocket.com/save?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t.getCleanTitle())+"&_="+(new Date).getTime()+"&__popup=true",showPopup(e,t){this.feedly.askAddToPocket(t.id,e)},title:"Pocket"},email:{analyticsName:"email",icon:Ne,showPopup(e,t){const s=t.body?encodeURIComponent(t.body+"\n"+t.getAlternateLink()):encodeURIComponent(t.getCleanTitle()+"\n"+t.getAlternateLink()+"\n\n -- via my Feedly newsfeed"),n="?subject="+encodeURIComponent(t.getCleanTitle()+" [feedly]")+"&body="+s;window.open("mailto:"+n,"_blank")},title:"Email"},gmail:{windowWidth:700,windowHeight:500,analyticsName:"gmail",icon:Ne,popupUrl(e,t){const s=t.body?encodeURIComponent(t.body+"\n"+t.getAlternateLink()):encodeURIComponent(t.getCleanTitle()+"\n"+t.getAlternateLink()+"\n\n -- via my Feedly newsfeed");return"http://mail.google.com/mail/?view=cm&fs=1&tf=1&to=&su="+encodeURIComponent(t.getCleanTitle()+" [feedly]")+"&body=\n\n"+s},title:"Email"},twitter:{windowWidth:550,windowHeight:286,analyticsName:"tweet",icon:Pe.Z,popupUrl(e,t,s){t.getCleanTitle||(t=null);const n=t?t.getDefaultTagOrCategory():null;let i=t?t.getCleanTitle():"";const r=[];return s&&(i+=" "+s),t&&"no"!==streets.service("preferences").getPreference("twitterHashtags")&&(n&&r.push(encodeURIComponent(n.slice(1))),r.push("feedly")),"http://twitter.com/share?related=feedly&text="+encodeURIComponent(i)+"&url="+encodeURIComponent(e)+"&_="+(new Date).getTime()+"&hashtags="+r.join(",")},title:"Twitter"},facebook:{windowWidth:550,windowHeight:450,analyticsName:"facebook",icon:Le,popupUrl:(e,t,s)=>"http://www.facebook.com/share.php?src=bm&v=4&i=1289025326&t="+encodeURIComponent(t.getCleanTitle()+" "+s)+"&u="+encodeURIComponent(e)+"&_="+(new Date).getTime(),title:"Facebook"},linkedIn:{windowWidth:550,windowHeight:600,analyticsName:"linkedin",icon:xe,requiresPro:!0,proAnalytics:"sharing.button.linkedin",popupUrl:e=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`,title:"LinkedIn"},hootsuite:{windowWidth:1e3,windowHeight:600,analyticsName:"hootsuite",icon:De,requiresPro:!0,proAnalytics:"sharing.button.hootsuite",popupUrl:e=>`https://hootsuite.com/dashboard#/compose?messageText=${e}`,title:"Hootsuite"},buffer:{analyticsName:"buffer",icon:Oe.Z,showPopup(e,t){streets.service("buffer").askShareEntry(t.id)},title:"Buffer"},customSharing:{windowWidth:550,windowHeight:750,analyticsName:"customSharing",icon:Ae.Z,requiresPro:!0,proAnalytics:"sharing.button.custom-sharing",popupUrl(e,t,s,n){return 0!==n.indexOf("http:")&&0!==n.indexOf("https:")?(this.signs.showMessage("Invalid custom sharing"),null):n.replace(/\${id}/g,encodeURIComponent(t.id)).replace(/\${url}/g,encodeURIComponent(e)).replace(/\${source}/g,encodeURIComponent(t.getCleanSourceTitle())).replace(/\${title}/g,encodeURIComponent(t.getCleanTitle()))},title:"Custom Sharing"}};class je extends n.Component{constructor(e){super(e),this._elementRef=n.createRef(),this.state={enabledSharingServices:streets.service("preferences").getEnabledSharingServices(Ce)}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,l.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{enabledSharingServices:e}=this.state,{className:t,dataAttributes:s,density:i,entry:r,highlightKeywords:a,isCybersecurityTrend:l,isGPCTutorialRunning:d,metadataProps:u,onBlur:p,onFocus:m,onHideClick:g,onOpenFeedbackModal:f,onSaveClick:y,onTitleFocusChange:v,showDeleteOption:b,showSourceTitle:C}=this.props,{isTwitterFeed:w,hasLinkedArticle:k}=r.metadata,_=w&&!k;return n.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:o()(t,"rtl")},s,{"data-u":"0",onBlur:p,onFocus:m}),n.createElement(Fe,{enabledSharingServices:e,entry:r,isCybersecurityTrend:l,isGPCTutorialRunning:d,onHideClick:g,onOpenFeedbackModal:f,showDeleteOption:b,showToolbar:d}),n.createElement(we.E,{date:r.getCrawledDate(),lastModifiedDate:r.getLastModifiedDate()}),n.createElement("div",{className:"content"},n.createElement(te,{entry:r,onFocusChange:v,tweet:_},n.createElement(X,{entry:r,highlightKeywords:a})),n.createElement(h.at,u),!_&&n.createElement("div",{className:"summary"},r.getExcerpt())),_&&r.metadata.tweet.icon&&n.createElement(B.q,{compact:!0,iconSize:12,url:r.metadata.tweet.icon}),n.createElement("div",{className:"engagement-container"},n.createElement(E,{entry:r})),C&&n.createElement("div",{className:"entry__meta-column"},n.createElement(h.P7,{entry:r,layout:c.Ar.titleOnly},r.getSourceTitle())),n.createElement(J,{className:`EntryReadLaterButton--density-${i}`,onSaveClick:y,saved:r.isQuicklisted()}))}}je.propTypes={className:r().string,dataAttributes:r().object.isRequired,density:r().oneOf([24,29,34]).isRequired,entry:r().object.isRequired,highlightKeywords:r().bool,isCybersecurityTrend:r().bool,isGPCTutorialRunning:r().bool,metadataProps:r().object.isRequired,onBlur:r().func.isRequired,onFocus:r().func.isRequired,onHideClick:r().func.isRequired,onOpenFeedbackModal:r().func,onSaveClick:r().func.isRequired,onTitleFocusChange:r().func.isRequired,showDeleteOption:r().bool,showSourceTitle:r().bool},je.defaultProps={className:"",highlightKeywords:!1,isCybersecurityTrend:!1,isGPCTutorialRunning:!1,onOpenFeedbackModal:void 0,showDeleteOption:!1,showSourceTitle:!1};var Ue=s(16847);class Be extends n.PureComponent{constructor(e){super(e),this.state={entryId:e.initialEntryId,isRead:e.initialIsRead}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}onEntryKeptUnread(e){e===this.state.entryId&&this.setState({isRead:!1})}onEntryMarkedAsRead(e){e===this.state.entryId&&this.setState({isRead:!0})}render(){const{sourceTitle:e}=this.props,{entryId:t,isRead:s}=this.state;return n.createElement("div",{className:o()("RelatedEntries__source",{"RelatedEntries__source--unread":!s||!1}),"data-inlineentryid":t,"data-navigation":"slider",onClick:e=>{0},title:e},this._renderCroppedTitle(e))}_renderCroppedTitle(e){if(!e)return null;const t=(0,Ue.Qc)(e,":-");return t.length>20?`${t.slice(0,20)}...`:t}}Be.propTypes={initialEntryId:r().string.isRequired,initialIsRead:r().bool,sourceTitle:r().string.isRequired},Be.defaultProps={initialIsRead:!1};class He extends n.Component{constructor(e){super(e),this._elementRef=n.createRef(),this.state={enabledSharingServices:streets.service("preferences").getEnabledSharingServices(Ce)}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,l.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{enabledSharingServices:e}=this.state,{className:t,dataAttributes:s,density:i,entry:r,hideRelatedEntries:a,highlightKeywords:o,isCybersecurityTrend:l,isGPCTutorialRunning:d,metadataProps:u,onBlur:p,onFocus:m,onHideClick:g,onOpenFeedbackModal:f,onSaveClick:y,onTitleFocusChange:v,showDeleteOption:b,showSourceTitle:C}=this.props,w=c.Ar.titleOnly,{isTwitterFeed:_,hasLinkedArticle:M}=r.metadata,S=_&&!M;return n.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:t},s,{"data-u":"0",onBlur:p,onFocus:m}),n.createElement(J,{className:`EntryReadLaterButton--density-${i}`,onSaveClick:y,saved:r.isQuicklisted()}),C&&n.createElement("div",{className:"entry__meta-column"},n.createElement(h.P7,{entry:r,layout:c.Ar.titleOnly},r.getSourceTitle())),n.createElement("div",{className:"engagement-container"},n.createElement(E,{entry:r})),S&&r.metadata.tweet.icon&&n.createElement(B.q,{compact:!0,iconSize:12,url:r.metadata.tweet.icon}),n.createElement("div",{className:"content"},n.createElement(te,{entry:r,onFocusChange:v,tweet:S},n.createElement(X,{entry:r,highlightKeywords:o})),n.createElement(h.at,u),!S&&n.createElement(k,{entry:r,highlightKeywords:o,layout:w})),!a&&n.createElement(ve,{entry:r,isCompact:!0}),n.createElement(we.E,{date:r.getCrawledDate(),lastModifiedDate:r.getLastModifiedDate()}),n.createElement(Fe,{enabledSharingServices:e,entry:r,isCybersecurityTrend:l,isGPCTutorialRunning:d,showDeleteOption:b,onHideClick:g,onOpenFeedbackModal:f,showToolbar:d}))}}He.propTypes={className:r().string,dataAttributes:r().object.isRequired,density:r().oneOf([24,29,34]).isRequired,entry:r().object.isRequired,hideRelatedEntries:r().bool,highlightKeywords:r().bool,isCybersecurityTrend:r().bool,isGPCTutorialRunning:r().bool,metadataProps:r().object.isRequired,onBlur:r().func.isRequired,onFocus:r().func.isRequired,onHideClick:r().func.isRequired,onOpenFeedbackModal:r().func,onSaveClick:r().func.isRequired,onTitleFocusChange:r().func.isRequired,showDeleteOption:r().bool,showSourceTitle:r().bool},He.defaultProps={className:"",hideRelatedEntries:!1,highlightKeywords:!1,isCybersecurityTrend:!1,isGPCTutorialRunning:!1,onOpenFeedbackModal:void 0,showDeleteOption:!1,showSourceTitle:!1}},28906:(e,t,s)=>{"use strict";s.d(t,{f:()=>A});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(11459),c=s(44406),d=s(3167),h=s(98521),u=s(40280),p=s(35278),m=s(31245),g=s(84955),f=s(66709);const y=["density","entryId","layout","showSourceTitle","showKeywordMarker","selected","inlined","hideMeme","hideBoardLabel","isGPCTutorialRunning"];class v extends r.Component{shouldComponentUpdate(e){for(let t=0;t<y.length;t+=1){const s=y[t];if(e[s]!==this.props[s])return!0}return!1}render(){const{entryRenderer:e}=this.props;return e(this.props)}}v.propTypes={demo:i().bool,density:i().oneOf(d.fM),entryId:i().string.isRequired,entryRenderer:i().func,hideAuthor:i().bool,hideCVSSMetadata:i().bool,hideMeme:i().bool,hideBoardLabel:i().bool,highlightKeywords:i().bool,isLeoPreview:i().bool,isGPCTutorialRunning:i().bool,showKeywordMarker:i().bool,isBeyondPowerSearch:i().bool,showSourceTitle:i().bool,layout:i().oneOf(l.tv),popoverOffsetParent:i().shape({current:i().instanceOf(Element)}),priorityInfo:i().shape({id:i().string,label:i().string,streamLabel:i().string,layers:i().arrayOf(i().object)}),searchOptions:i().shape({layers:i().arrayOf(h.aT)}),selected:i().bool,inlined:i().bool,streamId:i().string},v.defaultProps={demo:!1,density:d.AM.comfortable,entryRenderer:function(e){return r.createElement(f.kS,e)},hideAuthor:!1,hideMeme:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,isLeoPreview:!1,isGPCTutorialRunning:!1,layout:"u4",highlightKeywords:!1,popoverOffsetParent:void 0,priorityInfo:{},searchOptions:{},showKeywordMarker:!1,isBeyondPowerSearch:!1,showSourceTitle:!0,inlined:!1,selected:!1};var b=s(31813),E=s(95192);function C({className:e,horizontal:t,imageUrl:s,onClick:n,title:i,value:a}){const l="number"==typeof a;let c;return c=l?"smallest":t?"base":"small",r.createElement("div",{className:o()("BallotCard","BallotCard--"+(t?"horizontal":"vertical"),e,{"BallotCard--clickable":!!n}),onClick:n,role:"button"},r.createElement("div",{className:"BallotCard__visual-wrapper"},r.createElement(b.u,{className:"BallotCard__visual",url:s,alt:i})),r.createElement("div",{className:"BallotCard__text"},r.createElement(E.x,{className:"m-a-0 BallotCard__title",color:"none",size:c},i),l?r.createElement(E.x,{className:"m-a-0",color:a>50?"accent":"tertiary",tagName:"strong"},a,"%"):null))}C.propTypes={className:i().string,horizontal:i().bool,imageUrl:i().string,onClick:i().func,title:i().string,value:i().number},C.defaultProps={className:void 0,horizontal:!1,imageUrl:void 0,title:"",onClick:void 0,value:void 0};var w=s(86576),k=s(763),_=s(47264);const M={className:"Ballot__card"};function S({children:e,className:t,compact:s,kicker:n,onCloseClick:i,title:a}){const l=r.Children.toArray(e);return 2===!l.length?null:r.createElement("div",{className:o()("Ballot",t,{"Ballot--column":!s,"Ballot--row":s})},r.createElement(u.H2,{appearance:s?"h3":"h2",className:"Ballot__title"},n&&r.createElement(u.H8,{className:o()({"kicker--small":s})},n),a),r.createElement("div",{className:"Ballot__cards"},r.cloneElement(l[0],M),r.createElement(E.x,{className:"Ballot__vs",color:"primary",size:"smaller",tagName:"strong"},"VS"),r.cloneElement(l[1],M)),r.createElement(_.zx,{className:"Ballot__close",icon:r.createElement(k.Z,{importance:"secondary"}),importance:"tertiary",title:"Close",onClick:i}))}S.propTypes={children:i().arrayOf((0,w.componentWithName)("BallotCard")),className:i().string,compact:i().bool,kicker:i().string,onCloseClick:i().func,title:i().string},S.defaultProps={children:[],className:void 0,compact:!1,kicker:void 0,onCardClick:void 0,onCloseClick:void 0,title:void 0};var T=s(16847);const I=/:|(\s[-]\s)/;class N extends r.Component{constructor(...e){super(...e),this.state={ballotId:null,hasVoted:!1,sources:[],votes:{}},this._onCloseClick=async()=>{const{hasVoted:e}=this.state;e||await this.ballot.askHideBallot(),this.setState({ballotId:null,sources:[],votes:{}})},this._onSourceClick=async e=>{this.setState({hasVoted:!0});const{ballotId:t}=this.state,{result:s}=await this.ballot.askSaveVote(t,e.id),n=Object.keys(s),i=n.reduce(((e,t)=>e+s[t]),0),{highest:r,total:a,votes:o}=n.reduce(((e,t)=>{const n=Math.round(s[t]/i*100);return e.votes[t]=n,e.total+=n,n>e.votes[e.highest]&&(e.highest=t),e}),{highest:n[0],total:0,votes:{}});100!==a&&(o[r]+=100-a),this.state&&this.setState({votes:o})}}UNSAFE_componentWillMount(){this.ballot=streets.service("ballot"),this._updateSources()}render(){const{className:e,compact:t}=this.props,{hasVoted:s,sources:n,votes:i}=this.state;if(!n.length)return null;const a=n.map((({title:e})=>(0,T.Qc)(e,I))),o=a.every((e=>e===a[0]));return r.createElement(S,{className:e,compact:t,kicker:"Best of Tech",onCloseClick:this._onCloseClick,title:s?"Thank you for helping make Feedly's discovery better":"Which source would you recommend to someone in interested in tech?"},n.map(((e,n)=>{const l=i[e.id];return r.createElement(C,{key:e.id,horizontal:t,imageUrl:e.visualUrl,onClick:s?null:()=>{this._onSourceClick(e)},title:o?e.title:a[n],value:l})})))}async _updateSources(){const{options:e=[],id:t=null}=await this.ballot.askBallotInfo();this.state&&this.setState({ballotId:t,sources:e})}}N.propTypes={className:i().string,compact:i().bool},N.defaultProps={className:void 0,compact:!1};var P=s(29724);const L=Object.freeze({biopharmaUpgrade:P.X_,leoSatisfactionPrompt:P.lm,leoSecurityUpgrade:P.X_,leoSecurityUpgradeMalware:P.X_,leoSecurityUpgradeThreatActors:P.X_,leoSecurityUpgradeVulns:P.X_,likeBoard:P.XA,muteFilter:P.XA,security:P.XA,sponsor:P.oI,sourcesBallot:N});class x extends r.Component{constructor(e){super(e),this._renderEntry=(e,t)=>{const{density:s,entryRenderer:n,focusSelectedEntry:i,hideAuthor:a,hideMeme:o,hideRelatedEntries:c,hideBoardLabel:d,hideCVSSMetadata:h,highlightKeywords:u,inlinedEntryId:p,isLeoPreview:m,layout:g,popoverOffsetParent:f,priorityInfo:y,searchOptions:b,selectedEntryId:E,showKeywordMarker:C,showSecondarySourceMarker:w,isBeyondPowerSearch:k,showSourceTitle:_,streamId:M,isGPCTutorialRunning:S}=this.props,T=e.getId(),I=E===T;return r.createElement(v,{key:T,demo:this._showSwipeDiscovery()&&0===t,density:s,entryId:T,entryRenderer:n,focusOnSelect:I&&i,hideAuthor:a,hideMeme:o,hideRelatedEntries:c,hideBoardLabel:d,hideCVSSMetadata:h,highlightKeywords:u,inlined:p===T||g===l.Ar.fullArticle,isLeoPreview:m,layout:g,popoverOffsetParent:f,priorityInfo:y,searchOptions:b,selected:I,showKeywordMarker:C,showSecondarySourceMarker:w,isBeyondPowerSearch:k,showSourceTitle:_,streamId:M,isGPCTutorialRunning:S})},this.preferences=streets.service("preferences")}shouldComponentUpdate(e,t){return Object.keys(x.propTypes).some((t=>e[t]!==this.props[t]))}componentWillUnmount(){this.preferences=null}render(){const{entries:e,showDateHeadings:t}=this.props;let s=t?this._renderEntriesWithDateHeadings():e.map(this._renderEntry);return s=this._insertPrompt(s),r.createElement(r.Fragment,null,s)}_renderEntriesWithDateHeadings(){const{dateHeadingComponent:e,entries:t,headingField:s,previousHeading:n}=this.props;let i=n;return t.reduce(((t,n,a)=>{const o=n.getDateHeading(s),l=e;return o!==i&&(i=o,t.push(r.createElement(l,{appearance:"h4",key:"headingFor"+o,className:"EntryList__heading"},o))),t.push(this._renderEntry(n,a)),t}),[])}_showSwipeDiscovery(){const{swipeDiscovery:e}=this.props;if(!streets.getUserId()||!e)return!1;let t=this.preferences.getPreference(d.M_);const s=`feedly_backup_${d.M_}`,n=(0,p.WH)(s);if("yes"!==t&&"yes"===n){streets.service("preferences").setPreference(d.M_,"yes",null,!0),t="yes"}const i="yes"!==t;if(i){streets.service("preferences").setPreference(d.M_,"yes",null,!0),(0,p.If)(s,"yes")}return i}_insertPrompt(e){const{displayMode:t,layout:s,prompt:n,showDateHeadings:i,showSourceTitle:a,showPrompt:o,streamId:d}=this.props;if(!o||!n||!n.type||n.type===m.yQ.sourcesBallot||n.type===m.yQ.leoSatisfactionPrompt&&e.length<=7)return e;let h=n.position;n.type===m.yQ.sourcesBallot&&e.length<h?h=e.length:n.type.includes("Upgrade")&&(h=0);const u=[...e],p=L[n.type];if(!p)return u;const f={description:m.rr[n.type],hideable:!0,id:n.id},y={biopharmaUpgrade:{...f,feature:g.tp.Biopharma},leoSatisfactionPrompt:{layout:s,streamId:d,feature:n.feature},leoSecurityUpgrade:{...f,feature:g.tp.LeoSecurity},leoSecurityUpgradeMalware:{...f,feature:g.tp.LeoSecurity},leoSecurityUpgradeThreatActors:{...f,feature:g.tp.LeoSecurity},leoSecurityUpgradeVulns:{...f,feature:g.tp.LeoSecurity},likeBoard:{data:n,layout:s,streamId:d},muteFilter:{data:n,layout:s,streamId:d},security:{data:n,layout:s,streamId:d},sponsor:{data:n.data,layout:s,showSourceTitle:a,streamId:d},sourcesBallot:{className:`EntryList__ballot EntryList__ballot--layout-${s}`,compact:s===l.Ar.titleOnly}};t===c.DC.tablet&&l.Ar.cards;if(n.type===m.yQ.sponsor&&s===l.Ar.cards)return 3!==e.length&&u.splice(2,0,r.createElement(p,Object.assign({key:n.type},y[n.type]))),u;let v=0,b=0;if(i)for(let r=0;r<u.length;r+=1){const e=u[r];if(b>h)break;"h4"===e.type?v+=1:b+=1}return u.splice(h+v,0,r.createElement(p,Object.assign({key:n.type},y[n.type]))),u}}x.propTypes={previousHeading:i().string,dateHeadingComponent:i().func,density:i().oneOf(d.fM),displayMode:i().oneOf(Object.values(c.DC)),entries:i().arrayOf(i().object),entryRenderer:i().func,focusSelectedEntry:i().bool,hideAuthor:i().bool,hideMeme:i().bool,hideRelatedEntries:i().bool,hideBoardLabel:i().bool,hideCVSSMetadata:i().bool,highlightKeywords:i().bool,headingField:i().oneOf(["action","published"]),inlinedEntryId:i().string,isLeoPreview:i().bool,isGPCTutorialRunning:i().bool,layout:i().oneOf(l.tv),leoUpgradeDate:i().number,popoverOffsetParent:i().shape({current:i().instanceOf(Element)}),priorityInfo:i().shape({id:i().string,label:i().string,streamLabel:i().string,layers:i().arrayOf(i().object)}),prompt:i().shape({data:i().object,feature:i().string,id:i().string,position:i().number,type:i().string.isRequired}),searchOptions:i().shape({layers:i().arrayOf(h.aT)}),showDateHeadings:i().bool,showKeywordMarker:i().bool,showPrompt:i().bool,isBeyondPowerSearch:i().bool,showSourceTitle:i().bool,streamId:i().string,selectedEntryId:i().string,swipeDiscovery:i().bool},x.defaultProps={className:void 0,dateHeadingComponent:u.H2,density:d.AM.comfortable,displayMode:void 0,entries:[],endOfFeedLabel:"End of feed",entryRenderer:void 0,focusSelectedEntry:!1,hasAllEntries:!1,headingField:"published",hideAuthor:!1,hideMeme:!1,hideRelatedEntries:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,highlightKeywords:!1,inlinedEntryId:void 0,isLeoPreview:!1,isLoading:!1,isGPCTutorialRunning:!1,layout:l.Ar.magazine,leoUpgradeDate:void 0,previousHeading:void 0,popoverOffsetParent:void 0,priorityInfo:{},prompt:void 0,searchOptions:{},showDateHeadings:!1,showKeywordMarker:!1,showPrompt:!1,isBeyondPowerSearch:!1,showSourceTitle:!1,selectedEntryId:void 0,sponsor:void 0,streamId:void 0,swipeDiscovery:!1};var D=s(23005);function O(e,t){const s=e.entries[e.entries.length-1];return s?s.getDateHeading(t):null}class A extends r.Component{static getDerivedStateFromProps(e,t){const{entries:s,headingField:n,layout:i,streamVersion:r}=e,{lastCacheKey:a}=t,o=`${r}-${i}`,c=e.layout===l.Ar.cards&&!0;let d=t.chunks||[];(o!==a||c||function(e,t){return!(!e||0===e.length||0===e[0].entries.length||t.length<2)&&e[0].entries[0].getId()===t[1].getId()}(d,s))&&(d=[]);const{deletions:h,additions:u,startOfNextChunk:p}=function(e,t){let s=0,n=0;return e.forEach((e=>{let i;e.entries.forEach(((r,a)=>{t[s]&&r.getId()===t[s].getId()?s+=1:(i||(i=e.entries.slice(0)),i.splice(a,1),n+=1)})),i&&(e.entries=i)})),{deletions:n,additions:t.length-s,startOfNextChunk:s}}(d,s);if(o===a&&!(h>0||u>0))return null;if(h){const e=d.findIndex((({entries:e})=>!e||!e.length));if(e>-1){const t=d[e+1],s=d[e-1];t&&(t.previousHeading=s?O(s,n):null),d.splice(e,1)}}return u&&d.push({key:`chunk-${d.length}`,entries:s.slice(p),previousHeading:d.length>0?O(d[d.length-1],n):null}),{chunks:d,lastCacheKey:o}}constructor(e){super(e),this.preferences=streets.service("preferences"),this._wrapper=r.createRef(),this.state={chunks:[],lastEntryCount:0}}shouldComponentUpdate(e){return Object.keys(A.propTypes).some((t=>e[t]!==this.props[t]))}componentWillUnmount(){this.preferences=null,this._wrapper=null}render(){const{className:e,endOfFeedLabel:t,hasAllEntries:s,isLoading:n,layout:i,prompt:a,sponsor:c}=this.props,{chunks:d}=this.state,h=d.map(((e,t)=>r.createElement("div",{key:e.key,className:"EntryList__chunk"},r.createElement(x,Object.assign({},this.props,{entries:e.entries,popoverOffsetParent:this._wrapper,previousHeading:e.previousHeading,showPrompt:i!==l.Ar.fullArticle&&a&&0===t,sponsor:c&&0===t?c:null})))));return r.createElement("div",{ref:this._wrapper,className:o()("list-entries",`list-entries--layout-${i}`,e)},h,n&&r.createElement("div",{className:"EntryList__loading"},r.createElement(D.g,{key:"loadingEntriesIndicator",details:"articles"})),s&&""!==t&&r.createElement(u.H2,{appearance:"h4",key:"endIndicator",className:"EntryList__heading"},t))}}A.propTypes={className:i().string,density:i().oneOf(d.fM),endOfFeedLabel:i().string,entries:i().arrayOf(i().object),entryRenderer:i().func,focusSelectedEntry:i().bool,hasAllEntries:i().bool,hideAuthor:i().bool,hideMeme:i().bool,hideBoardLabel:i().bool,highlightKeywords:i().bool,headingField:i().oneOf(["action","published"]),hideCVSSMetadata:i().bool,isLeoPreview:i().bool,inlinedEntryId:i().string,isLoading:i().bool,isGPCTutorialRunning:i().bool,layout:i().oneOf(l.tv),leoUpgradeDate:i().number,priorityInfo:i().shape({id:i().string,label:i().string,streamLabel:i().string,layers:i().arrayOf(i().object)}),prompt:i().shape({data:i().object,position:i().number,type:i().string.isRequired}),showBallot:i().bool,showDateHeadings:i().bool,showKeywordMarker:i().bool,isBeyondPowerSearch:i().bool,searchOptions:i().shape({layers:i().arrayOf(h.aT)}),showSourceTitle:i().bool,sponsor:i().object,streamId:i().string,selectedEntryId:i().string,swipeDiscovery:i().bool,streamVersion:i().number},A.defaultProps={className:void 0,density:d.AM.comfortable,entries:[],endOfFeedLabel:"End of feed",entryRenderer:void 0,focusSelectedEntry:void 0,hasAllEntries:!1,headingField:"published",hideAuthor:!1,hideMeme:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,highlightKeywords:!1,inlinedEntryId:void 0,isLeoPreview:!1,isLoading:!1,isGPCTutorialRunning:!1,layout:l.Ar.magazine,leoUpgradeDate:void 0,priorityInfo:{},prompt:void 0,searchOptions:{},showBallot:!1,showDateHeadings:!1,showKeywordMarker:!1,isBeyondPowerSearch:!1,showSourceTitle:!1,selectedEntryId:void 0,sponsor:void 0,streamId:void 0,swipeDiscovery:!1,streamVersion:0}},39832:(e,t,s)=>{"use strict";s.d(t,{at:()=>_,B9:()=>S,yw:()=>P,vi:()=>x,Mu:()=>Y,HZ:()=>Z,M0:()=>q,mb:()=>G,JG:()=>K,P7:()=>J,vU:()=>te,JD:()=>O,kG:()=>ie});var n=s(24340),i=s.n(n),r=s(32735),a=s(60216),o=s.n(a),l=s(40841),c=s.n(l),d=s(3015),h=s(97418),u=s(35093),p=s(65698),m=s(2222),g=s(99442),f=s(11459),y=s(75320),v=s(78505),b=s(66063),E=s(66709),C=s(79199),w=s(99175),k=s(34039);class _ extends r.Component{constructor(...e){super(...e),this.state={hasLeoSecurity:!1},this._renderSource=()=>{const{entry:e,layout:t,showSourceTitle:s}=this.props,n=!!e.getFirstAlertSourceInfo(),{googleNews:i,hasLinkedArticle:a,isRedditFeed:o,isTwitterFeed:l,redditPost:c}=e.metadata;let d;(i||l||o||n||s)&&(d=e.getCleanSourceTitle(),d&&d.length>40&&(d=d.slice(0,40)+"..."));const h=o&&(!a||d.includes(c.subredditName));return!d||h?null:r.createElement(r.Fragment,null,r.createElement(J,{entry:e,layout:t},d),t!==f.Ar.fullArticle&&" / ")},this._onBuryEntryClick=()=>{const{entry:e}=this.props;streets.service("readingManager").askBuryEntry(e.getId())},this._onKeepUnreadClick=()=>{const{entry:e}=this.props;streets.service("readingManager").askKeepEntryAsUnread(e.getId())}}componentDidMount(){this.feedly=streets.service("feedly"),this.leo=streets.service("leo"),this.sliderService=streets.service("sliderService"),this._updateLeoInfo()}componentWillUnmount(){this.feedly=null,this.leo=null,this.sliderService=null}render(){const{entry:e,layout:t}=this.props,s=this._renderAuthor(),{mostInteresting:n,secondMostInteresting:i}=this._renderInterestingMetadata();if(t===f.Ar.titleOnly)return r.createElement(r.Fragment,null,n,r.createElement("div",{className:c()("EntryMetadata__second-most-interesting","EntryMetadata--u0",{"EntryMetadata--rtl":e.isContentRTL(),"m-r-1":i})},i));const{isTwitterFeed:a,hasLinkedArticle:o,tweet:l}=e.metadata,h=a&&!o,u=h&&l.isRetweet,p=e.listEnterpriseTags();return r.createElement("div",{className:"metadata EntryMetadata"},n,r.createElement("div",{className:"EntryMetadata__source-info"},r.createElement(E.RL,{engagement:e.getEngagement(),engagementRate:e.getEngagementRate(),hideFlameIcon:!0,isHot:e.isHot()}),!h&&this._renderSource(),!!s&&r.createElement(r.Fragment,null,s," / "),r.createElement(S,{layout:t,entry:e}),u&&this._renderRetweetedBy()),p&&p.length>0&&p[0].addedByUser&&r.createElement(w.d,{content:`Saved ${(0,d.Sy)(new Date(p[0].actionTimestamp),!0,!0)}`},r.createElement("span",null," Saved by ",p[0].addedByUser.name)),(t===f.Ar.magazine||t===f.Ar.fullArticle)&&i&&r.createElement(r.Fragment,null,r.createElement(K,null),r.createElement("div",{className:c()("EntryMetadata__second-most-interesting",{"EntryMetadata--rtl m-l-0":e.isContentRTL()})},i)),t===f.Ar.fullArticle&&r.createElement("span",null,r.createElement("span",{className:"m-l-1 m-r-1"},"//"),r.createElement("span",{className:"action",onClick:this._onKeepUnreadClick},"keep unread"),r.createElement("span",{className:"m-l-1 m-r-1"},"//"),r.createElement("span",{className:"action",onClick:this._onBuryEntryClick,title:"mark as read and remove from list"},"hide")))}_renderAuthor(){const{entry:e,hideAuthor:t}=this.props,s=e.listAuthors(),{isTwitterFeed:n,hasLinkedArticle:i}=e.metadata;if(n&&!i)return r.createElement(O,{entry:e});if(t||!s||s===e.getSourceTitle()||e.metadata.isTwitterFeed)return null;let a="by ";return e.isContentRTL()&&(a="/ "),r.createElement("span",{className:"authors"},a+s)}_renderRetweetedBy(){const{entry:e}=this.props,t=e.getFeedId()&&`subscription/${encodeURIComponent(e.getFeedId())}`;return r.createElement(r.Fragment,null,r.createElement(K,null),r.createElement(k.rU,{uri:t},e.metadata.tweet.twitterFeedAuthorHandle+" retweeted"))}_renderInterestingMetadata(){const{hasLeoSecurity:e}=this.state,{entry:t,hideBoardLabel:s,hideCVSSMetadata:n,hideMeme:a,isBeyondPowerSearch:o,isGPCTutorialRunning:l,isLeoPreview:d,layout:E,popoverOffsetParent:C,priorityInfo:w,showKeywordMarker:k,showSecondarySourceMarker:_,sourceTypes:M}=this.props;let S=t.listEnterpriseTags();S&&0!==S.length||(S=t.listPersonalTags(!0));const T=t.getDecoration(h.I.evernote),I=t.getDecoration(h.I.instapaper),N=t.getFeedback(),{parts:L=[]}=t.getPreviewSearchTerms()||{};let D=null,O=null;const A=!!t.getFirstAlertSourceInfo();if(o){const e=L.find((e=>e&&e.id&&(e.id.startsWith(y.aJ)||e.id.startsWith(y.jN))));if(e){let s;e.id.startsWith(y.aJ)&&(s=y.ST[e.id.slice(y.aJ.length)]),!s&&e.label&&(s=`${i()(e.label)} Publications`),s&&(D=r.createElement(b.h,{label:s}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm))}const s=t.findRelevantCausedEntities({searchTerms:{parts:L}});if(s.length){const e=s[0],t=e.causes[0],n=(0,p.FW)(e),i=r.createElement(b.h,{iconComponent:u.XA[n],iconColor:"accent",label:t.label});D?O=i:D=i}}else if(d){const s=[];let n=!1,i=!1;w.layers&&(n=0!==(0,m.eG)(w.layers,g.ur.security).length,i=0!==(0,m.eG)(w.layers,g.ur.likeBoard).length);const a=L.map((e=>e.id||e.text)),o=w.layers.filter((e=>e.type===g.ur.matches)).map((e=>{const{parts:t}=e;return t.find((e=>a.indexOf(e.id)>-1||a.indexOf(e.text)>-1))}));if(t.showCVSS(d)&&n&&e&&s.push(r.createElement(P,{key:g.ur.security,entry:t,popoverOffsetParent:C})),o.length){const e=t.findRelevantCausedEntities({searchTerms:{parts:o}});o.slice(0,v.Rc).forEach((t=>{if(t){let n=t.label||t.text;const i=(0,p.FW)(t);if(e.length){const s=e.find((e=>e.id===t.id));n=s?s.causes[0].label:n}s.push(r.createElement(b.h,{key:`${g.ur.matches}-${n}`,iconComponent:u.XA[i],iconColor:"accent",label:n}))}}))}S&&S.length>0&&i&&s.push(r.createElement(te,{key:g.ur.likeBoard,tag:S[0]})),t.metadata.isRedditFeed&&s.push(r.createElement(G,{key:"metadata-reddit",entry:t})),s.length&&(D=s.slice(0,v.PN).map(((e,t,s)=>t===s.length-1?e:r.createElement(r.Fragment,{key:`most-interesting-${e}`},e,r.createElement(K,null)))),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm))}else N?(D=r.createElement(Z,{entry:t,feedback:N,popoverOffsetParent:C}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):S&&S.length>0&&!s?(D=r.createElement(te,{tag:S[0]}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):t.metadata.isSavedToPocket?(D=r.createElement(b.h,{label:"Pocket"}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):I?(D=r.createElement(b.h,{label:"Instapaper"}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):T?(D=r.createElement(b.h,{label:"Evernote"}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):t.isQuicklisted()&&!s?(D=r.createElement(b.h,{label:"Read later",onClick:e=>{e.stopPropagation(),streets.service("feedly").loadPage("saved")}}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):t.isPrioritized()?(D=r.createElement(Y,{isGPCTutorialRunning:l,popoverOffsetParent:C,entry:t}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):M&&M.length?(D=r.createElement(b.h,{label:M[0]}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):!n&&t.showCVSS()&&e?(D=r.createElement(P,{entry:t,popoverOffsetParent:C}),O=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):!a&&t.getMeme()?D=r.createElement(q,{meme:t.getMeme()}):A&&(_||t.showEntityCauseLabel())?D=r.createElement(ie,{entry:t,popoverOffsetParent:C}):t.metadata.isRedditFeed&&_?D=r.createElement(G,{entry:t}):t.metadata.prettyTerm&&k&&(D=r.createElement(x,{keyword:t.metadata.prettyTerm}));if(D){const e=t.isContentRTL();D=r.createElement(r.Fragment,null,r.createElement("div",{className:c()("EntryMetadata__most-interesting",`EntryMetadata--${E}`,{"EntryMetadata--rtl":e,"m-l-0":e&&E!==f.Ar.titleOnly})},D),r.createElement(K,null))}return{mostInteresting:D,secondMostInteresting:O}}_renderSecondMostInterestingMetadata(e){const{hasLeoSecurity:t}=this.state,{entry:s,hideCVSSMetadata:n,hideMeme:i,isBeyondPowerSearch:a,isLeoPreview:o,popoverOffsetParent:l,showSecondarySourceMarker:c,sourceTypes:d}=this.props;if(s.showCVSS()&&t&&(a||!n&&d&&d.length))return r.createElement(P,{entry:s,popoverOffsetParent:l});if(s.isPrioritized()){if(s.showCVSS()&&t&&!o)return r.createElement(P,{entry:s,popoverOffsetParent:l});if(s.getFirstAlertSourceInfo()&&!o&&c)return r.createElement(ie,{entry:s,popoverOffsetParent:l});if(s.metadata.isRedditFeed&&c)return r.createElement(G,{entry:s});if(e)return r.createElement(x,{keyword:e})}return!i&&s.getMeme()?r.createElement(q,{meme:s.getMeme()}):null}async _updateLeoInfo(){const e=await this.leo.askHasLeoSecurityFeature();this.setState({hasLeoSecurity:e})}}_.propTypes={entry:C.A.isRequired,hideAuthor:o().bool,hideBoardLabel:o().bool,hideCVSSMetadata:o().bool,hideMeme:o().bool,isBeyondPowerSearch:o().bool,isGPCTutorialRunning:o().bool,isLeoPreview:o().bool,layout:o().oneOf(f.tv),popoverOffsetParent:o().shape({current:o().instanceOf(Element)}),priorityInfo:o().shape({id:o().string,label:o().string,streamLabel:o().string,layers:o().arrayOf(o().object)}),showKeywordMarker:o().bool,showSecondarySourceMarker:o().bool,showSourceTitle:o().bool,sourceTypes:o().arrayOf(o().string)},_.defaultProps={hideAuthor:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,hideMeme:!1,isBeyondPowerSearch:!1,isGPCTutorialRunning:!1,isLeoPreview:!1,layout:f.Ar.magazine,popoverOffsetParent:void 0,priorityInfo:{},showKeywordMarker:!1,showSecondarySourceMarker:!1,showSourceTitle:!0,sourceTypes:void 0};var M=s(69098);function S({entry:e}){return r.createElement(M.E,{className:c()({"m-l-1":e.isContentRTL(),EntryMetadataAgo:!0}),date:e.getCrawledDate(),isRTL:e.isContentRTL(),lastModifiedDate:e.getLastModifiedDate()})}S.propTypes={entry:o().shape({getCrawledDate:o().func,getLastModifiedDate:o().func,isContentRTL:o().func}).isRequired};var T=s(71263),I=s(10974),N=s(71792);class P extends r.PureComponent{constructor(...e){super(...e),this._onClick=e=>{const{entry:t}=this.props;e.stopPropagation();const{label:s}=t.listTopVulnerability()||{};s&&this.feedly.slideReactComponent(N.gF,{cveId:s},{customPath:`cve/${encodeURIComponent(s)}`})}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{className:e,entry:t}=this.props,s=t.listTopVulnerability()||{},{vulnerabilityInfo:n={},vulnerabilityInfo:{cvssScore:i,hasExploit:a}={}}=s,o=t.getPrioritySeverity(),{category:l}=t.getEstimatedCVSS()||{},c=i&&(i>8||i>5&&a);return r.createElement("div",{className:e,style:{display:"inline-block",position:"relative"}},r.createElement(b.h,{label:(0,I.GE)(n,o,l),iconComponent:T.Z,iconColor:c?"accent":"black",iconTitle:"CVSS Score",importance:c?void 0:"secondary",onClick:this._onClick}))}}P.propTypes={className:o().string,entry:o().shape({getEstimatedCVSS:o().func,getPrioritySeverity:o().func,listTopVulnerability:o().func,suggestViaFeedId:o().func}).isRequired},P.defaultProps={className:""};var L=s(51205);function x(e){const{keyword:t,onClick:s}=e;return t?r.createElement(b.h,{label:`${t}`,iconComponent:L.Z,iconTitle:"Keyword Alert",importance:"secondary",onClick:s}):null}x.propTypes={keyword:o().string,onClick:o().func},x.defaultProps={keyword:null,onClick:void 0};var D=s(77817);function O({entry:e}){const t=e.metadata.tweet.authorHandle,s=e.metadata.tweet.icon,n="subscription/"+encodeURIComponent(e.getFeedId());return r.createElement("span",{className:"authors EntryMetadataTweet"},s&&r.createElement(D.q,{url:s,className:"EntryMetadataTweet__avatar"}),r.createElement(k.rU,{className:"EntryMetadataTweet__handle",uri:n},t))}O.propTypes={entry:o().object.isRequired};var A=s(42070),z=s(74221),R=s(63402),F=s(55118),j=s(55024),U=s(47264),B=s(40280),H=s(46291);class Y extends r.Component{constructor(e){super(e),this._onCloseDeleteModal=()=>{this.setState({priorityToDelete:null,isDeleteConfirmModalOpen:!1,isExplanationOpen:!1})},this._onCloseExplanation=()=>{this.setState({isExplanationOpen:!1})},this._onDeleteClick=(e,t)=>{this.setState({priorityToDelete:e,isDeleteConfirmModalOpen:!0,isExplanationOpen:!1,usernames:t})},this._onDeleteConfirmClick=async()=>{const{priorityToDelete:e}=this.state;this.setState({isDeleteConfirmLoading:!0});try{await this.priorities.askDelete(e.id),this.setState({isDeleteConfirmLoading:!1,isDeleteConfirmModalOpen:!1}),this.signs.showMessage(`${e.label} has been deleted.`)}catch(t){this.setState({isDeleteConfirmLoading:!1,isDeleteConfirmModalOpen:!1}),this._onUpdateError(e)}},this._onMarkerClick=e=>{e.stopPropagation(),this.setState({isExplanationOpen:!0})},this._onPauseClick=async e=>{const t={streamIds:[],...e,active:!1},{isEnterprise:s}=(0,z.Yg)(e.id);this._updatePriorityService(s);try{await this.priorities.askSave(t),this.setState({isExplanationOpen:!1}),this.signs.showMessage(`${e.label} has been paused.`)}catch(n){this.setState({isExplanationOpen:!1}),this._onUpdateError(e)}},this._onRefineClick=e=>{this.setState({isExplanationOpen:!1}),streets.service("feedly").slideForm(R.c2,{initialPriority:e})},this._onResumeClick=async e=>{const t={streamIds:[],...e,active:!0},{isEnterprise:s}=(0,z.Yg)(e.id);this._updatePriorityService(s);try{await this.priorities.askSave(t),this.setState({isExplanationOpen:!1}),this.signs.showMessage(`${e.label} has been resumed.`)}catch(n){this.setState({isExplanationOpen:!1}),this._onUpdateError(e)}},this._offsetParent=r.createRef(),this._target=r.createRef(),this.state={isDeleteConfirmLoading:!1,isDeleteConfirmModalOpen:!1,isExplanationOpen:!1,priorityToDelete:null,usernames:{}}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.priorities=streets.service("priorities"),this.signs=streets.service("signs")}componentWillUnmount(){this._offsetParent=null,this._target=null,this.enterprise=null,this.priorities=null,this.signs=null}render(){const{entry:e,isGPCTutorialRunning:t}=this.props;if(!e)return null;const s=e.getPriorityLabel();return s?r.createElement("div",{className:c()("EntryMetadataLeo",{"GuidedTutorial__gpc-offset-8":t}),ref:this._offsetParent},r.createElement(b.h,{className:c()({"GuidedTutorial__gpc-target-8":t}),label:s,iconComponent:A.Z,iconColor:"accent",iconTitle:"Prioritized by Leo",onClick:this._onMarkerClick,elementRef:this._target}),this._renderExplanation(),this._renderDeleteConfirmModal()):null}_renderDeleteConfirmModal(){const{isDeleteConfirmModalOpen:e,priorityToDelete:t,usernames:s}=this.state;if(!e)return null;const n=t.streamLabels[0],{isEnterprise:i}=(0,z.Yg)(t.id);this._updatePriorityService(i);let a,o=!0;return i&&(o=streets.getUserId()===t.createdBy,a=o?"You":s[t.createdBy]),r.createElement(j.u_,{onClose:this._onCloseDeleteModal,small:!0},r.createElement(B.H2,{appearance:"h3"},"Are you sure you want to remove ",t.label,"?"),r.createElement("p",null,!o&&`${a} created this priority for the ${n} feed.`,i?" This will impact everyone in your team.":""),r.createElement(U.zx,{color:"danger",label:"Delete",onClick:this._onDeleteConfirmClick,loading:this.state.isDeleteConfirmLoading}),r.createElement(U.zx,{label:"No, keep this priority",onClick:this._onCloseDeleteModal,importance:"secondary"}))}_renderExplanation(){const{entry:e,popoverOffsetParent:t}=this.props,{isDeleteConfirmModalOpen:s,isExplanationOpen:n}=this.state,i=e.getMostRelevantPriority();if(!n||s)return null;const a=r.createElement(H.J,{align:"middle",caret:!0,className:"EntryMetadataLeo__popover",offsetParent:t?t.current:this._offsetParent.current,onClick:e=>{e.stopPropagation()},onClose:this._onCloseExplanation,target:this._target.current},r.createElement(R.eg,{entry:e,onDeleteClick:this._onDeleteClick,onPauseClick:this._onPauseClick,onRefineClick:this._onRefineClick,onResumeClick:this._onResumeClick,priority:i}));return t?r.createElement(F.h,{target:t.current},a):a}_onUpdateError(e){this.signs.showMessage(`There was an error when trying to update ${e.label}.`)}_updatePriorityService(e){this.priorities=e?streets.service("enterprisepriorities"):streets.service("personalpriorities")}}Y.propTypes={entry:o().shape({getMostRelevantPriority:o().function,getPriorityLabel:o().function}).isRequired,isGPCTutorialRunning:o().bool,popoverOffsetParent:o().shape({current:o().instanceOf(Element)})},Y.defaultProps={isGPCTutorialRunning:!1,popoverOffsetParent:void 0};class Z extends r.Component{constructor(e){super(e),this._onCloseExplanation=()=>{this.setState({isExplanationOpen:!1})},this._onDeleteFeedback=async()=>{const{entry:e}=this.props;await this.reader.askDeleteEntryFeedback(e.getId()),streets.service("signs").showMessage("Feedback undone")},this._onMarkerClick=e=>{e.stopPropagation(),this.setState({isExplanationOpen:!0})},this._offsetParent=r.createRef(),this._target=r.createRef(),this.state={isExplanationOpen:!1}}componentDidMount(){this.reader=streets.service("reader")}componentWillUnmount(){this._offsetParent=null,this._target=null,this.reader=null}render(){const{entry:e,feedback:t}=this.props;return e&&t?r.createElement("div",{className:"EntryMetadataLessLikeThis",ref:this._offsetParent},r.createElement(b.h,{label:"Less like this",onClick:this._onMarkerClick,elementRef:this._target}),this._renderExplanation()):null}_renderExplanation(){const{entry:e,feedback:t,popoverOffsetParent:s}=this.props,{isExplanationOpen:n}=this.state;if(!n)return null;const i=r.createElement(H.J,{align:"middle",caret:!0,className:"EntryMetadataLessLikeThis__popover",offsetParent:s?s.current:this._offsetParent.current,onClick:e=>{e.stopPropagation()},onClose:this._onCloseExplanation,target:this._target.current},r.createElement(R.Tx,{entry:e,feedback:t,onDeleteFeedback:this._onDeleteFeedback}));return s?r.createElement(F.h,{target:s.current},i):i}}Z.propTypes={entry:o().object.isRequired,feedback:o().shape({addedBy:o().string,description:o().string,reason:o().string}).isRequired,popoverOffsetParent:o().shape({current:o().instanceOf(Element)})},Z.defaultProps={popoverOffsetParent:void 0};var W=s(90898),$=s(83362);class q extends r.Component{constructor(...e){super(...e),this._onMemeClick=e=>{const{meme:t}=this.props;e&&e.stopPropagation(),streets.service("feedly").slideReactComponent($.r,{memeId:t.id},{customPath:`meme/${encodeURIComponent(t.id)}`})}}render(){const{meme:e}=this.props;return e.id?r.createElement(b.h,{label:e.label,iconComponent:W.Z,iconColor:"accent",iconTitle:"Meme",onClick:this._onMemeClick}):null}}q.propTypes={meme:o().shape({id:o().string,label:o().string}).isRequired};var V=s(28594);function G({entry:e}){const t=`subscription/${e.getFeedId()}`;return r.createElement(b.h,{label:`Shared in ${e.metadata.redditPost.subredditName}`,iconComponent:V.Z,iconTitle:"Reddit",importance:"secondary",onClick:e=>{e.stopPropagation(),streets.service("feedly").loadPage(t)}})}G.propTypes={entry:o().object.isRequired};var Q=s(95192);function K(){return r.createElement(Q.x,{className:"EntryMetadata__separator",color:"tertiary",size:"smallish",tagName:"span"},"")}function J({children:e,entry:t,layout:s}){if(!e)return null;const n=t.getFeedId(),i=t.getSourceAlternateLink(),a=n&&`subscription/${encodeURIComponent(t.getFeedId())}`,o=c()("entry__source",{"m-r-h":s===f.Ar.fullArticle,"entry__source--u0":s===f.Ar.titleOnly});return i?r.createElement(k.rU,{className:o,href:i,uri:a,onClick:e=>{e.stopPropagation()}},e):a?r.createElement(k.Oy,{className:`${o} entry__source--mock-link`,uri:a,onClick:e=>{e.stopPropagation()}},e):r.createElement("span",{className:o},e)}J.propTypes={children:o().node,entry:o().shape({getFeedId:o().func.isRequired,getSourceAlternateLink:o().func.isRequired}).isRequired,layout:o().oneOf(f.tv)},J.defaultProps={children:void 0,layout:f.Ar.magazine};var X=s(19381),ee=s(99220);class te extends r.Component{render(){const{className:e,tag:{actionTimestamp:t,addedByUser:s,id:n,label:i}}=this.props;if(!n)return null;const a=r.createElement(b.h,{className:e,label:i,iconComponent:X.Z,iconColor:"accent",iconTitle:`${i} Board`,onClick:e=>{e.stopPropagation(),streets.service("feedly").loadPage((0,ee.no)(n))}});if(!s)return a;const o=`Saved by ${s.name} ${(0,d.Sy)(new Date(t),!0,!0)}`;return r.createElement(w.d,{animateClass:"animateFadeIn",content:o},a)}}te.propTypes={className:o().string,tag:o().shape({actionTimestamp:o().number,addedByUser:o().shape({name:o().string}),id:o().string,label:o().string}).isRequired},te.defaultProps={className:void 0};var se=s(40429),ne=s(88175);class ie extends r.Component{constructor(e){super(e),this._onCloseExplanation=()=>{this.setState({isExplanationOpen:!1})},this._onMarkerClick=()=>{this.setState({isExplanationOpen:!0})},this._onRefineClick=e=>{this.setState({isExplanationOpen:!1}),streets.service("feedly").slideForm(ne.s,e)},this._offsetParent=r.createRef(),this._target=r.createRef(),this.state={isExplanationOpen:!1}}componentWillUnmount(){this._offsetParent=null,this._target=null}render(){const{entry:e}=this.props;if(!e)return null;const t=e.getFirstAlertSourceInfo()||{},s=e.getWebAlertLabel(t);return s?r.createElement("div",{className:"EntryMetadataWebAlert",ref:this._offsetParent},r.createElement(b.h,{elementRef:this._target,iconClassName:"m-r-h",iconComponent:se.Z,iconTitle:"Web Alert",importance:"secondary",label:s,onClick:e=>{e.stopPropagation(),this._onMarkerClick()}}),this._renderExplanation(t)):null}_renderExplanation(e){const{entry:t,popoverOffsetParent:s}=this.props,{isExplanationOpen:n}=this.state;if(!n)return null;const i=r.createElement(H.J,{align:"middle",caret:!0,className:"EntryMetadataWebAlert__popover",offsetParent:s?s.current:this._offsetParent.current,onClick:e=>{e.stopPropagation()},onClose:this._onCloseExplanation,target:this._target.current},r.createElement(ne.S,{entry:t,onRefineClick:this._onRefineClick,initialWebAlert:e}));return s?r.createElement(F.h,{target:s.current},i):i}}ie.propTypes={popoverOffsetParent:o().shape({current:o().instanceOf(Element)}),entry:C.A.isRequired},ie.defaultProps={popoverOffsetParent:void 0}},85933:(e,t,s)=>{"use strict";s.d(t,{S:()=>u});var n=s(21548),i=s(60216),r=s.n(i),a=s(32735),o=s(12788),l=s(3167),c=s(90514),d=s(12741),h=s(75608);function u({children:e}){const t=streets.service("feedly").getTheme()===l.Bd.dark?h:d;return a.createElement(n.SV,{fallback:({eventId:e})=>{const s=streets.hasProAccess()?a.createElement(c.Z,{information:{header:"An unexpected error occurred",sub:"Please report this issue to help us improve Feedly",primaryAction:"Report a Problem",tertiaryAction:"Reload Feedly",visual:t},onPrimaryAction:()=>{streets.service("helpscout").open({prefill:{subject:"Unexpected error",text:"Please list the steps you took before seeing this error. Be as descriptive as possible:\n1. "},sessionData:{errorId:e}})},onTertiaryAction:()=>{window.location.reload()}}):a.createElement(c.Z,{information:{header:"An unexpected error occurred",sub:"Try reloading Feedly",primaryAction:"Reload Feedly",visual:t},onPrimaryAction:()=>{window.location.reload()}});return o.createPortal(a.createElement("div",{className:"fx modal-container"},s),document.body)}},e)}u.propTypes={children:r().node.isRequired}},44022:(e,t,s)=>{"use strict";s.d(t,{u:()=>o});var n=s(60216),i=s.n(n),r=s(32735),a=s(24818);s(14171);function o({children:e,className:t}){return r.createElement("div",{className:`ErrorFeedback ${t}`},r.createElement("div",{className:"ErrorFeedback__content"},r.createElement(a.Z,{className:"ErrorFeedback__icon",color:"danger"}),e))}o.propTypes={children:i().node.isRequired,className:i().string},o.defaultProps={className:""}},70917:(e,t,s)=>{"use strict";s.d(t,{$:()=>p});var n=s(81346),i=s.n(n),r=s(60216),a=s.n(r),o=s(32735),l=s(12788),c=s(80716),d=s(23005),h=s(28576),u=s(46291);class p extends o.Component{constructor(e){super(e),this._renderMenuItems=(e,t)=>t.length?o.createElement(o.Fragment,null,o.createElement(h.NP,null,e," Notebooks"),t.map((e=>o.createElement(h.sN,{key:e.guid,onClick:()=>{this._onSelect(e)}},o.createElement(c.Z,{importance:"tertiary"}),e.name)))):[],this._onSelect=async e=>{const{entryId:t,imageTitle:s,imageURL:n,onCloseMenu:i,selection:r}=this.props;let a;n?a={imageTitle:s,imageURL:n}:r&&(a={selection:r}),this.evernote.askAdd(t,e,a),i()},this.state={businessNotebooks:[],isLoading:!0,personalNotebooks:[]}}componentDidMount(){this.evernote=streets.service("evernote"),this.evernote.registerObserver(this),this._updateNotebooks()}componentWillUnmount(){this.evernote.unregisterObserver(this),this.evernote=null}onEvernoteAdded(e){const{entryId:t}=this.props;e===t&&this.setState({})}render(){const{align:e,offsetParent:t,onCloseMenu:s,target:n}=this.props,{businessNotebooks:i,isLoading:r,personalNotebooks:a}=this.state;let c;return c=r?o.createElement(d.g,{className:"m-l-2",details:"notebooks"}):i.length||a.length?o.createElement(o.Fragment,null,this._renderMenuItems("Personal",a),this._renderMenuItems("Business",i)):o.createElement("p",{className:"p-x-2"},"Please create a Notebook in Evernote to get started."),l.createPortal(o.createElement(u.J,{align:e,className:"fx EvernoteNotebookPopover",offsetParent:t,onClose:s,position:"bottom",target:n},o.createElement(h.v2,{width:300},c)),t)}async _updateNotebooks(){const e=await this.evernote.askListNotebooks(),{business:t=[],personal:s=[]}=i()(e,"type");this.setState({businessNotebooks:t,isLoading:!1,personalNotebooks:s})}}p.propTypes={align:u.J.propTypes.align,entryId:a().string.isRequired,imageTitle:a().string,imageURL:a().string,offsetParent:a().instanceOf(Element),onCloseMenu:a().func.isRequired,selection:a().string,target:a().instanceOf(Element)},p.defaultProps={align:"start",imageTitle:void 0,imageURL:void 0,offsetParent:void 0,selection:void 0,target:void 0}},13129:(e,t,s)=>{"use strict";s.d(t,{H:()=>d});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(98521),c=s(47264);function d({data:e,onClick:t}){if(!e)return null;const{icon:s,label:n}=e;return r.createElement(c.Wu,{className:o()("ExampleCard","card","topic-card"),onClick:()=>{t(e)}},r.createElement("div",{className:"card-header"},n),r.createElement("div",{className:"card-footer"},r.createElement(s,{importance:"secondary",className:"topic-visual"})))}d.propTypes={data:i().shape({icon:i().elementType,label:i().string,leoBiopharmaSearchOptions:l.ys,leoSecuritySearchOptions:l.ys,mobileIcon:i().string,searchOptions:l.ys}),onClick:i().func.isRequired},d.defaultProps={data:void 0}},1542:(e,t,s)=>{"use strict";s.d(t,{c:()=>c});var n=s(60216),i=s.n(n),r=s(32735),a=s(28906),o=s(23005),l=s(95192);function c({entryRenderer:e,entries:t,isLeoPreview:s,loading:n,noEntriesText:i,priorityInfo:c,streamVersion:d}){return n||!t?r.createElement(o.g,{details:"examples"}):t.length?r.createElement(a.f,{key:"entryList",className:"ExampleEntryList",entryRenderer:e,entries:t,layout:"u4",hasAllEntries:!1,hideAuthor:!0,hideBoardLabel:!0,hideMeme:!0,highlightKeywords:!0,isLeoPreview:s,isLoading:!1,priorityInfo:c,showSourceTitle:!0,streamVersion:d}):r.createElement(l.x,null,i)}c.updateDelay=1500,c.propTypes={entryRenderer:i().func,entries:i().arrayOf(i().object),isLeoPreview:i().bool,loading:i().bool,noEntriesText:i().string,priorityInfo:i().shape({id:i().string,label:i().string,streamLabel:i().string,layers:i().arrayOf(i().object)}),streamVersion:i().number},c.defaultProps={entryRenderer:void 0,entries:[],isLeoPreview:!1,loading:!1,noEntriesText:"Sorry, no articles were found.",priorityInfo:{},streamVersion:0}},85350:(e,t,s)=>{"use strict";s.d(t,{Y:()=>h});var n=s(60216),i=s.n(n),r=s(32735),a=s(25193),o=s(47264),l=s(35093),c=s(65698),d=s(63402);class h extends r.Component{constructor(...e){super(...e),this._onExcludeTopic=e=>{const{onSubmit:t}=this.props;this.leo.askAddNotTopic(e),t()}}componentDidMount(){this.leo=streets.service("leo")}componentWillUnmount(){this.leo=null}render(){const{excludeTopics:e}=this.props;return r.createElement("div",{className:"ExcludeTopicSelector__menu"},e.length>0&&r.createElement(d.iD,{iconComponent:a.Z,label:"Exclude Topic"},e.map((e=>{const t=(0,c.FW)(e),s=l.XA[t];return r.createElement(o.zx,{key:e.id,className:"m-b-t ExcludeTopicSelector__topic-button",label:e.label,icon:r.createElement(s,{importance:"secondary"}),importance:"secondary",onClick:()=>{const t=(0,c.xT)(e.id)?e:{...e,type:l.gQ.other};this._onExcludeTopic(t)}})}))))}}h.propTypes={excludeTopics:i().arrayOf(i().object),onSubmit:i().func.isRequired},h.defaultProps={excludeTopics:[]}},89685:(e,t,s)=>{"use strict";s.d(t,{f:()=>v});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(39908),c=s(99175),d=s(55015),h=s(87970),u=s(25697),p=s(34039),m=s(31813),g=s(12859),f=s(62066),y=s(7004);class v extends r.PureComponent{constructor(...e){super(...e),this._onTitleClick=()=>{const{feed:e,scheme:t}=this.props;streets.service("feedly").slideReactComponent(y.L,{scheme:t,streamId:e.id})}}render(){const{className:e,feed:t,includeFollowButton:s,onCollectionPickerOpened:n,onSourceFollowed:i,scheme:a,view:l}=this.props,c=o()(e,"item","feed",{"feed-large":"large"===l,"feed-medium":"medium"===l,"feed-small":"small"===l});return r.createElement("div",{className:c,onClick:this._onClick.bind(this)},r.createElement(m.u,{className:"item-image",url:t.visualUrl,alt:t.title}),r.createElement("div",{className:"item-content"},s&&r.createElement(u.A,{feedId:t.id,float:"right",onCollectionPickerOpened:n,onSourceFollowed:i,scheme:a,size:"small"}),this._renderTitle(t),this._renderMetadata(),"large"===l&&r.createElement("div",{className:"item-description"},t.description),this._renderTopics(t),this._renderCollections()))}_renderMetadata(){const{feed:e,view:t,showMetadata:s}=this.props;if(!s)return null;let n;return"small"!==t&&(n=r.createElement("span",{className:"separated right"},r.createElement(f.M,{count:e.velocity}))),r.createElement("div",{className:"item-meta"},!e.private&&!!e.subscribers&&[r.createElement(g.g,{key:"followers",count:e.subscribers}),n?" / ":null],n)}_renderTitle(e){const{title:t,website:s}=e;return r.createElement(h.sr,{onClick:this._onTitleClick},s?r.createElement(c.d,{content:s},r.createElement("span",null,t)):r.createElement("span",null,t))}_renderCollections(){const{collections:e,onCollectionClick:t,showCollections:s}=this.props;return s&&e?r.createElement(d.j,{className:"item-extra",condensed:!0},e.map((e=>r.createElement(d.A,{key:e.id,muted:!0,onClick:()=>{t(e)},size:"sm"},r.createElement(l.Z,{importance:"tertiary",tiny:!0}),e.label)))):null}_renderTopics(e){const{view:t,showTopics:s}=this.props,n=e.topics||e.tags||[];if(!s)return null;if("large"===t){const e={},t=n.reduce(((t,s)=>(e[s]||(e[s]=!0,t.push(r.createElement(p.rU,{key:s,uri:`discover/sources/search/topic/${s}`},r.createElement(d.A,{muted:!0,size:"sm"},`#${s}`)))),t)),[]);if(t.length)return r.createElement(d.j,{className:"item-extra",condensed:!0},t)}return null}_onClick(){this.props.onClick&&this.props.onClick(this.props.feed)}}v.propTypes={className:i().string,collections:i().arrayOf(i().object),feed:i().shape({coverageScore:i().number,description:i().string,estimatedEngagement:i().number,id:i().string,subscribers:i().number,title:i().string,tags:i().array,topics:i().array,velocity:i().number,visualUrl:i().string}).isRequired,includeFollowButton:i().bool,onClick:i().func,onCollectionClick:i().func,onCollectionPickerOpened:i().func,onSourceFollowed:i().func,scheme:i().string,showMetadata:i().bool,showCollections:i().bool,showTopics:i().bool,view:i().oneOf(["small","medium","large"])},v.defaultProps={collections:void 0,includeFollowButton:!1,onClick:void 0,onCollectionClick:()=>{},onCollectionPickerOpened:()=>{},onSourceFollowed:()=>{},scheme:"",showCollections:!1,showMetadata:!1,showTopics:!1,view:"large"}},96750:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(19577),c=s(47264),d=s(40280),h=s(1388);class u extends r.Component{constructor(e){super(e),this._renderFeed=(e,t)=>{const{feedRenderer:s,onSourceFollowed:n}=this.props,{areRecsVisible:i,leoQueryFeedId:a,leoRecs:h,preloadedLeoQueryFeedId:u,scheme:p}=this.state;let m=null;if(e.id===a||e.id===u){const t=h.map((e=>r.cloneElement(s(e),{className:"m-t-1",key:e.id,onSourceFollowed:n.bind(this,null),scheme:p,hideSimilarSourcesButton:!0}))),g=o()({"leo-recommendations":!0,hidden:!i||e.id===u&&e.id!==a});m=r.createElement("div",{className:g,key:"leo-recommendations"},h.length&&r.createElement("div",null,r.createElement(d.H3,{appearance:"h4",className:"leo-recommendations__heading"},"People who read this source also read"),r.createElement(c.zx,{className:"close-button",icon:r.createElement(l.Z,{importance:"tertiary"}),importance:"tertiary",onClick:this._onCloseClick,title:"Close"}),t))}return r.cloneElement(s(e,t),{key:e.id,index:t,onCollectionPickerOpened:this._onCollectionPickerOpened,onSourceFollowed:this._onSourceFollowed.bind(this,t),recommendedSourcesSection:m})},this._onCloseClick=()=>{this.setState({areRecsVisible:!1})},this._onCollectionPickerOpened=e=>{const{enableLeo:t}=this.props,{areRecsVisible:s,leoQueryFeedId:n,preloadedLeoQueryFeedId:i}=this.state;t&&e!==n&&e!==i&&(s||this.setState({preloadedLeoQueryFeedId:e}),this.feeds.askFeedRecommendations(e,3).then((t=>{const{recommendations:s,scheme:n,versionCode:i}=t;s&&s.length?this.setState({preloadedLeoRecs:s,preloadedLeoVersionCode:i,preloadedScheme:n}):(this.setState({preloadedLeoQueryFeedId:""}),this.analytics.trackLeoEvent("discover.feedRecommendations.none","fetch",e))})).catch((e=>{this.setState({preloadedLeoRecs:[],preloadedLeoVersionCode:"",preloadedScheme:""}),$feedly(`Failed to get leo recs: ${e.message}`)})))},this._onSourceFollowed=(e,t)=>{const{enableLeo:s,onSourceFollowed:n}=this.props,{areRecsVisible:i,leoQueryFeedId:r,preloadedLeoRecs:a,preloadedLeoQueryFeedId:o,preloadedLeoVersionCode:l,preloadedScheme:c}=this.state;n(e),s&&(t===r&&i||(r&&this._saveLeoAnalytics(),this.setState({addedLeoRecIds:[],areRecsVisible:!1,leoQueryFeedId:t,leoRecs:[]}),a.length&&o===t?(this.setState({addedLeoRecIds:[],areRecsVisible:!0,leoRecs:a,leoVersionCode:l,preloadedLeoQueryFeedId:"",preloadedLeoVersionCode:"",scheme:c}),this.analytics.trackLeoEvent("discover.feedRecommendations","show",t)):this.feeds.askFeedRecommendations(t,3).then((e=>{const{recommendations:s,scheme:n,versionCode:i}=e;s&&s.length?(this.setState({areRecsVisible:!0,leoRecs:s,leoVersionCode:i,scheme:n}),this.analytics.trackLeoEvent("discover.feedRecommendations","show",t)):(this.setState({leoQueryFeedId:""}),this.analytics.trackLeoEvent("discover.feedRecommendations.none","fetch",t))})).catch((e=>{this.setState({areRecsVisible:!1}),$feedly(`Failed to get leo recs: ${e.message}`)}))))},this._defaultScrollTarget=document.getElementById("feedlyFrame"),this.state={addedLeoRecIds:[],areRecsVisible:!1,leoQueryFeedId:"",leoRecs:[],leoVersionCode:"",preloadedLeoRecs:[],preloadedLeoQueryFeedId:"",preloadedLeoVersionCode:"",preloadedScheme:"",scheme:""}}componentDidMount(){this.leo=streets.service("leo"),this.feeds=streets.service("feeds"),this.analytics=streets.service("analytics"),this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentWillUnmount(){this.state.leoQueryFeedId&&this._saveLeoAnalytics(),this._defaultScrollTarget=null,this.leo=null,this.feeds=null,this.analytics=null,this.reader.unregisterObserver(this),this.reader=null}onFeedChanged(e){const{addedLeoRecIds:t,leoRecs:s}=this.state;s.find((t=>t.id===e))&&this.setState({addedLeoRecIds:[...t,e]})}render(){const{feeds:e,renderAllAtOnce:t,scrollTarget:s=this._defaultScrollTarget}=this.props;return r.createElement("div",{className:"list list-feed"},t?e.map(this._renderFeed):r.createElement(h.G,{batchSize:3,childRenderArgs:e,childRenderer:this._renderFeed,initialChildCount:7,scrollTarget:s}))}_saveLeoAnalytics(){const{addedLeoRecIds:e,leoQueryFeedId:t,leoRecs:s,leoVersionCode:n}=this.state,i=s.map((e=>e.id));this.leo.askSaveAnalytics(t,i,e,n,"discover").catch((e=>{$feedly(`Failed to save leo analytics: ${e.message}`)}))}}u.propTypes={enableLeo:i().bool,feedRenderer:i().func.isRequired,feeds:i().arrayOf(i().object).isRequired,onSourceFollowed:i().func,renderAllAtOnce:i().bool,scrollTarget:i().oneOfType([i().shape({clientHeight:i().number,scrollHeight:i().number,scrollTop:i().number}),i().shape({document:i().object})])},u.defaultProps={enableLeo:!1,onSourceFollowed:()=>{},renderAllAtOnce:!1,scrollTarget:void 0}},7004:(e,t,s)=>{"use strict";s.d(t,{L:()=>C});var n=s(60216),i=s.n(n),r=s(32735),a=s(54960),o=s(16847),l=s(40280),c=s(25697),d=s(12859),h=s(34313),u=s(99348),p=s(28906),m=s(23005),g=s(34039),f=s(72405),y=s(62066),v=s(94759),b=s(23013),E=s(52986);class C extends r.Component{constructor(...e){super(...e),this.state={showLeoAnimationWhileLoading:!1,stream:void 0}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this),this._initializeStream()}componentWillUnmount(){this.stream&&(this.reader.releaseStream(this.stream),this.stream=null),clearTimeout(this._leoAnimationTimeout),this._leoAnimationTimeout=null,this.reader.unregisterObserver(this),this.reader=null}onStreamStateChanged(e){this.props.streamId===e&&this.setState({stream:this.stream.getState()})}onStreamIsLoadingEntries(e){this.props.streamId===e&&this.setState({stream:this.stream.getState()})}render(){const{stream:{entries:e,error:t,featuredEntries:s,info:n}={}}=this.state;return t?r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630 centered"},r.createElement("div",{className:"message error"},"Error: ",t))):n?r.createElement("div",{className:"fx"},r.createElement("div",{className:"feed-preview container630 centered m-b-2"},r.createElement(f.Le,{scrollParent:".floatingEntryScroller",target:"#header-title"},(({isSticky:e})=>r.createElement("div",null,this._renderHeader({isSticky:!1}),e&&this._renderHeader({isSticky:e})))),this._renderEntries(),e&&s&&r.createElement(v.v,{headingComponent:l.H3,streamId:this.props.streamId,view:"large"}))):r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630 centered"},r.createElement(m.g,{details:"Source"})))}_renderHeader({isSticky:e}){const{scheme:t,streamId:s}=this.props,{stream:n}=this.state,i=[],a=[];return n.info.private||i.push(r.createElement(d.g,{key:"followers",className:"detail",count:n.info.subscribers})),i.push(r.createElement(y.M,{key:"velocity",className:"detail",count:n.info.velocity})),this.state.stream.info.topics&&(this.state.stream.info.topics.slice(0,3).forEach((e=>{a.push(r.createElement(g.rU,{key:e,uri:`top/${e.toLowerCase()}-blogs`},"#",e.toLowerCase()))})),i.push(r.createElement("span",{key:"list-tags",className:"detail list-tags"},a))),r.createElement(h.mU,{actions:[r.createElement(c.A,{key:"subscribe",feedId:s,scheme:t})],compact:e,dataUri:e?"":`subscription/${encodeURIComponent(s)}`,details:e?null:i,headingColumnCount:8,kicker:e?"":"Source",sub:e?"":(0,o.oN)(n.info.description),sticky:e,title:n.info.title})}_renderEntries(){const{showLeoAnimationWhileLoading:e,stream:{entries:t,featuredEntries:s,info:n,isLoadingEntries:i,isLoadingFeaturedEntries:o,version:c}={}}=this.state;if(!t&&!s)return e?r.createElement(u.ub,{className:"m-t-3",header:"Loading articles...",illustration:b,illustrationDark:E}):r.createElement(m.g,{details:"articles"});if(t&&0===t.length&&s&&0===s.length)return(0,a.Qc)(n.id)?r.createElement("div",null,r.createElement("p",null,"This keyword alert does not match any articles at this point."),r.createElement("p",null,"Suggestions:"),r.createElement("ul",null,r.createElement("li",null,"Check that all words are spelled correctly"),r.createElement("li",null,"Try a more general keyword"),n.id.indexOf("site:")>-1&&r.createElement("li",null,"Make sure the site you selected is a valid news site"))):r.createElement("p",null,"This feed does not have any entries at the moment.");let d,h;return s&&s.length>0&&(d=r.createElement("div",{key:"featuredEntries"},r.createElement(l.H3,{appearance:"h4",key:"headingForFeaturedEntries"},"Most popular"),r.createElement(p.f,{entries:s,layout:"u4",hasAllEntries:!1,isLoading:o,streamVersion:c}))),t&&t.length>0&&(h=r.createElement(p.f,{dateHeadingComponent:l.H3,entries:t,layout:"u4",isLoading:i,showDateHeadings:!0,hasAllEntries:!0,headingField:"published",endOfFeedLabel:"",streamVersion:c})),r.createElement("div",null,d,h)}_initializeStream(){const{streamId:e}=this.props;this.stream=this.reader.lookupStream(e,{unreadOnly:!1,featured:1,sort:"newest",batchSize:9}),this.stream.registerObserver(this),this.setState({stream:this.stream.getState()}),this._leoAnimationTimeout=setTimeout((()=>{this.setState({showLeoAnimationWhileLoading:!0})}),2500)}}C.propTypes={scheme:i().string,streamId:i().string.isRequired},C.defaultProps={scheme:""}},56336:(e,t,s)=>{"use strict";s.d(t,{W:()=>d});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(50506),c=s.n(l);class d extends r.PureComponent{constructor(e){super(e),this._onBlur=e=>{const{children:t}=this.props,s=r.Children.only(t),{props:{onBlur:n}={}}=s;this.setState({isFocusVisible:!1}),n&&n(e)},this._onFocus=e=>{const{children:t}=this.props,s=r.Children.only(t),{props:{onFocus:n}={}}=s,i="keyboard"===c().ask();this.setState({isFocusVisible:i}),n&&n(e)},this.state={isFocusVisible:!1}}render(){const{children:e,focusVisibleClass:t}=this.props,{isFocusVisible:s}=this.state,n=r.Children.only(e),{props:{className:i,...a}={}}=n;return r.cloneElement(n,{...a,className:o()(i,{[t]:s}),onBlur:this._onBlur,onFocus:this._onFocus})}}d.propTypes={children:i().node.isRequired,focusVisibleClass:i().string.isRequired}},7860:(e,t,s)=>{"use strict";s.d(t,{O:()=>o});var n=s(60216),i=s.n(n),r=s(32735),a=s(6880);class o extends r.Component{constructor(...e){super(...e),this._handleReturn=()=>{const{handleReturn:e,ignoreEnterKey:t}=this.props;return!t&&e?e():t},this._onContainerRef=e=>{this._container=e},this._onEditorRef=e=>{this._editor=e}}componentDidMount(){this._updateEventListeners();const{editorState:e}=this.props;e.getSelection().hasFocus&&this._onFocus()}componentDidUpdate(){this._updateEventListeners()}componentWillUnmount(){const e=this._container.querySelector("[contenteditable=true]");window.clearTimeout(this._onBlur),this._onBlur=null,e&&(e.removeEventListener("blur",this._handleOnBlur),e.removeEventListener("focus",this._handleOnFocus)),this._handleOnBlur=null,this._handleOnFocus=null}render(){const e=this.props,{className:t,ignoreArrowKeys:s}=this.props,n=Object.assign({},e,{ignoreArrowKeys:null,ignoreEnterKey:null,onBlur:null,onFocus:null,style:null});return r.createElement("div",{ref:this._onContainerRef,className:"draft-editor "+(t||""),style:e.style},r.createElement(a.Editor,Object.assign({},n,{ref:this._onEditorRef,onDownArrow:s?this._preventArrowKey.bind(this):null,onUpArrow:s?this._preventArrowKey.bind(this):null,handleReturn:this._handleReturn.bind(this),stripPastedStyles:!0,suppressContentEditableWarning:!0})))}blur(){this._editor&&this._editor.blur()}focus(){this._editor&&this._editor.focus()}_onBlur(){this._onBlur=window.setTimeout((()=>{this.props.onBlur&&this.props.onBlur()}),0)}_onFocus(){this.props.onFocus()}_preventArrowKey(e){e.preventDefault()}_updateEventListeners(){const{onBlur:e,onFocus:t}=this.props,s=this._container.querySelector("[contenteditable=true]");e?this._handleOnBlur||(this._handleOnBlur=this._onBlur.bind(this),s.addEventListener("blur",this._handleOnBlur)):this._handleOnBlur&&(s.removeEventListener("blur",this._handleOnBlur),this._handleOnBlur=null),t?this._handleOnFocus||(this._handleOnFocus=this._onFocus.bind(this),s.addEventListener("focus",this._handleOnFocus)):this._handleOnFocus&&(s.removeEventListener("focus",this._handleOnFocus),this._handleOnFocus=null)}}o.propTypes={className:i().string,editorState:i().shape({getSelection:i().func}),handleReturn:i().func,ignoreArrowKeys:i().bool,ignoreEnterKey:i().bool,onBlur:i().func,onFocus:i().func},o.defaultProps={className:void 0,editorState:void 0,handleReturn:void 0,ignoreEnterKey:!1,ignoreArrowKeys:!1,onBlur:void 0,onFocus:void 0}},12859:(e,t,s)=>{"use strict";s.d(t,{g:()=>h});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(24443),c=s.n(l),d=s(32470);const h=({className:e,count:t})=>r.createElement("span",{className:o()(e,"count-followers"),title:t,"data-count":t},(0,d.HN)(t)," ",c()("follower",t));h.propTypes={className:i().string,count:i().number.isRequired},h.defaultProps={className:""}},34313:(e,t,s)=>{"use strict";s.d(t,{h4:()=>Ie,gM:()=>$e,KB:()=>qe,DJ:()=>Le,mU:()=>Ge});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(71262);const c=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M11 18h11v2H11v-2zm-5 0h5v2H6v-2zm5-5h11v2H11v-2zm-5 0h5v2H6v-2zm5-5h11v2H11V8zM6 8h5v2H6V8z",fill:"currentColor",fillRule:"evenodd"}))}));const d=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M11 18h11v2H11v-2zm-5 0h3v2H6v-2zm5-5h11v2H11v-2zm-5 0h3v2H6v-2zm5-5h11v2H11V8zM6 8h3v2H6V8z",fill:"currentColor",fillRule:"evenodd"}))}));const h=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M6 8h4v2H6V8zm6 0h4v2h-4V8zm6 0h4v2h-4V8zM6 13h4v2H6v-2zm6 0h4v2h-4v-2zm6 0h4v2h-4v-2zM6 18h4v2H6v-2zm6 0h4v2h-4v-2zm6 0h4v2h-4v-2z",fill:"currentColor",fillRule:"evenodd"}))}));const u=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M20 18h-9v2h11v-7H11v2h9v3zM8 18h3v2H6v-7h5v2H8v3zm3-10h11v2H11V8zM6 8h5v2H6V8z",fill:"currentColor",fillRule:"evenodd"}))}));var p=s(83442),m=s(5375),g=s(70664);const f=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M7.89 10.43c.924 0 1.68.756 1.68 1.68v4.21c0 .924-.756 1.68-1.68 1.68-.926 0-1.681-.756-1.681-1.68v-4.21c0-.924.755-1.68 1.68-1.68zm4.22 4.209c.926 0 1.681.755 1.681 1.68 0 .925-.755 1.681-1.68 1.681-.925 0-1.681-.756-1.681-1.68v-1.681h1.68zM5.362 10.43v1.68c0 .926-.755 1.681-1.68 1.681-.925 0-1.681-.755-1.681-1.68 0-.925.756-1.68 1.68-1.68h1.681zm10.958 0c.925 0 1.681.756 1.681 1.68 0 .926-.756 1.681-1.68 1.681h-4.21c-.924 0-1.68-.755-1.68-1.68 0-.925.756-1.68 1.68-1.68h4.21zM7.89 6.21c.925 0 1.681.755 1.681 1.68 0 .925-.756 1.68-1.68 1.68H3.68C2.757 9.57 2 8.815 2 7.89c0-.925.756-1.68 1.68-1.68h4.21zm8.43 0c.925 0 1.681.755 1.681 1.68 0 .925-.756 1.68-1.68 1.68h-1.681V7.89c0-.925.755-1.68 1.68-1.68zM12.111 2c.925 0 1.68.756 1.68 1.68v4.21c0 .924-.755 1.68-1.68 1.68-.925 0-1.681-.756-1.681-1.68V3.68c0-.924.756-1.68 1.68-1.68zM7.889 2c.925 0 1.681.756 1.681 1.68v1.681H7.89c-.926 0-1.681-.755-1.681-1.68 0-.925.755-1.681 1.68-1.681z",fill:"currentColor",fillRule:"nonzero"}))}));var y=s(74221),v=s(45750),b=s.n(v),E=s(3015),C=s(6931),w=s(47264),k=s(40280),_=s(31813),M=s(66617),S=s(16847),T=s(22735),I=s(3287);class N extends r.Component{constructor(e){super(e),this._onAddPdfClick=async()=>{const{summary:e,title:t}=this.state,{onClose:s,onSave:n,pdfPreview:i,tag:r,url:a}=this.props;this.setState({isLoading:!0});const o={author:i.author,summary:(0,S.Bj)(e),title:t,url:a};r&&(o.tagId=r.id);n(await this.reader.askLookupPdfEntry(o)),s&&s()},this._onKeyPress=e=>{const{isSummaryFocused:t}=this.state,{pdfPreview:s}=this.props;"Enter"!==e.key||!s||this._isAddPdfButtonDisabled()||t||this._onAddPdfClick()},this._onSummaryChange=e=>{this.setState({summary:e})},this._onTitleChange=e=>{this.setState({title:e})},this._onSummaryBlur=()=>{this.setState({isSummaryFocused:!1})},this._onSummaryFocus=()=>{this.setState({isSummaryFocused:!0})},this.state={isLoading:!1,isSummaryFocused:!1,summary:e.pdfPreview.summary||"",title:e.pdfPreview.title||""}}componentDidMount(){this.reader=streets.service("reader")}componentWillUnmount(){this.reader=null}render(){const{isLoading:e,summary:t,title:s}=this.state,{className:n,onClose:i}=this.props;return r.createElement("div",{className:`form ${n}`,onKeyPress:this._onKeyPress},r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:"SavePdfForm__title"},"Title"),r.createElement(C.At,{autoFocus:!0,id:"SavePdfForm__title",onChange:this._onTitleChange,value:s})),r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:"SavePdfForm__summary"},"Summary"),r.createElement(T.K,{id:"SavePdfForm__summary",onBlur:this._onSummaryBlur,onChange:this._onSummaryChange,onFocus:this._onSummaryFocus,value:t})),r.createElement(I.X,{className:"m-b-1",title:s}),r.createElement(w.zx,{label:"Save to Board",onClick:this._onAddPdfClick,loading:e,disabled:this._isAddPdfButtonDisabled()}),i&&r.createElement(w.zx,{label:"Cancel",onClick:i,importance:"secondary"}))}_isAddPdfButtonDisabled(){return!this.state.title||!this.state.summary}}N.propTypes={className:i().string,onClose:i().func,onSave:i().func,pdfPreview:i().shape({author:i().string,summary:i().string,title:i().string}),tag:i().shape({id:i().string,label:i().string}),url:i().string.isRequired},N.defaultProps={className:"",onClose:void 0,onSave:()=>{},pdfPreview:{},tag:void 0};class P extends r.Component{constructor(e){super(e),this._onAddWebPageClick=()=>{const{onClose:e,saveState:t,tag:s}=this.props;this._onSaveComment(),this.reader.askTagEntry(this.state.entryPreview.getId(),s).then((()=>{t(null),e()})).catch((e=>{this.signs.showError("Error: "+(e.message||e))}))},this._onKeyPress=e=>{const{isAddWebPageButtonDisabled:t}=this.state;"Enter"!==e.key||t||this._onAddWebPageClick()},this._onSaveComment=async()=>{streets.hasProAccess()&&await this._createCommentRef.current.askSaveComment()},this._onUrlChange=e=>{this.setState({isAddWebPageButtonDisabled:!0,isButtonLoading:!0,entryPreview:null,previewLoading:!0,url:e,urlHint:"",urlError:""});const t=e.trim();""===t?(this.setState({buttonLabel:"Save to board",isButtonLoading:!1,previewLoading:!1}),this.props.saveState&&this.props.saveState(null)):this._lookupUrl(t)},this._createCommentRef=r.createRef(),this._lookupUrl=b()(this._lookupUrl,500),e.initialState?this.state=e.initialState:this.state={buttonLabel:"Save to board",commentState:{},entryPreview:null,imageUrl:null,isAddWebPageButtonDisabled:!0,isButtonLoading:!1,isSummaryFocused:!1,pdfPreview:null,pdfSummary:"",pdfTitle:"",previewLoading:!1,url:"",urlHint:"",urlError:""}}componentDidMount(){this.reader=streets.service("reader"),this.image=streets.service("image"),this.signs=streets.service("signs")}componentDidUpdate(e,t){t!==this.state&&this.props.saveState(this.state)}componentWillUnmount(){this.reader=null,this.image=null,this.signs=null}render(){const{onClose:e,tag:t}=this.props,{pdfPreview:s,url:n}=this.state;return r.createElement("div",{className:"AddUrlForm form"},r.createElement(k.H2,{className:"m-t-0"},"Save a URL to ",t.label),s?r.createElement(N,{onClose:e,pdfPreview:s,tag:t,url:n}):this._renderWebForm())}_renderPreview(){const{entryPreview:e,imageUrl:t}=this.state;if(e){let s;return e.listAuthors()&&(s=" by "+e.listAuthors()),r.createElement("div",null,r.createElement(_.u,{className:"AddUrlForm__visual item-image",url:t}),r.createElement("div",null,r.createElement("div",{className:"item-header"},e.getTitle()),r.createElement("div",{className:"item-meta"},e.getSourceTitle(),s)))}return r.createElement("div",{className:"AddUrlForm__empty-preview"})}_renderWebForm(){const{buttonLabel:e,commentState:t,entryPreview:s,isAddWebPageButtonDisabled:n,isButtonLoading:i,previewLoading:a,url:l,urlError:c,urlHint:d}=this.state,{onClose:h}=this.props;return r.createElement("div",{onKeyPress:this._onKeyPress},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"AddUrlForm__url"},"URL"),r.createElement(C.At,{autoComplete:"off",autoFocus:!0,clearable:!0,error:c,hint:d,id:"AddUrlForm__url",onChange:this._onUrlChange,value:l})),r.createElement("div",{className:"AddUrlForm__entry-preview field"},r.createElement("label",{className:o()({loading:a})},"Preview"),this._renderPreview()),streets.hasProAccess()&&r.createElement("div",{className:"AddUrlForm__comment"},r.createElement(M.tL,Object.assign({},t,{entryId:s?s.getId():"",hideButtons:!0,ref:this._createCommentRef,saveState:e=>{this.setState({commentState:e})},user:streets.service("profile").getUserInfo()}))),r.createElement(w.zx,{label:e,onClick:this._onAddWebPageClick,loading:i,disabled:n}),r.createElement(w.zx,{label:"Cancel",onClick:h,importance:"secondary"}))}async _lookupUrl(e){const{tag:{id:t}}=this.props;if(1===e.length)return;let s;try{s=await this.reader.askLookupEntryByUrl(e)}catch(i){$feedly(i.message)}if(!s){try{const t=await this.reader.askPdfMetadata(e);if(t)return void this.setState({buttonLabel:"Save to Board",isButtonLoading:!1,entryPreview:null,pdfPreview:t,pdfSummary:t.summary||"",pdfTitle:t.title||"",previewLoading:!1,urlHint:""})}catch(i){$feedly(i.message)}return void this.setState({buttonLabel:"No Content",isButtonLoading:!1,entryPreview:null,pdfPreview:null,previewLoading:!1,urlHint:"Content not available"})}const n=s.listTags().find((e=>e.id===t));if(n){const e=(0,E.p6)(new Date(n.actionTimestamp),"MM/dd/yyyy");this.setState({buttonLabel:"Already Saved",isButtonLoading:!1,entryPreview:s,pdfPreview:null,previewLoading:!1,urlHint:"Already saved on "+e})}n||this.setState({isAddWebPageButtonDisabled:!1,buttonLabel:"Save to board",isButtonLoading:!1,entryPreview:s,pdfPreview:null,previewLoading:!1});try{const e=await this.image.askSecureVisualUrl(s);this.setState({imageUrl:e})}catch(i){this.setState({imageUrl:null})}}}P.propTypes={initialState:i().objectOf(i().any),onClose:i().func.isRequired,saveState:i().func,tag:i().shape({id:i().string,label:i().string}).isRequired},P.defaultProps={initialState:null,saveState:()=>{}};var L=s(84756),x=s(9648),D=s(30392),O=s(11505),A=s(86044),z=s(16569),R=s(12287),F=s(39908),j=s(54274),U=s(30271),B=s(81464),H=s(77496),Y=s(15238),Z=s(54960),W=s(94866),$=s(14355),q=s(28576),V=s(1623),G=s(80556),Q=s.n(G),K=s(94600),J=s(855),X=s(15851),ee=s(1542),te=s(99166);const se={batchSize:20};class ne extends r.Component{constructor(e){super(e),this._askAddFeed=async(e,t,s)=>{const{streamInfo:{id:n}}=this.props,{title:i}=this.state;await Promise.all([...s.map((({id:t})=>this.personalcollections.askAddFeed(t,{id:e,title:i}))),...t.map((({id:t})=>this.enterprisecollections.askAddFeed(t,{id:e,title:i})))]),await Promise.all([...s.map((({id:e})=>this.personalcollections.askRemoveFeed(e,n))),...t.map((({id:e})=>this.enterprisecollections.askRemoveFeed(e,n)))])},this._askUpdateTitle=async(e,t,s)=>{const{title:n}=this.state;return Promise.all([...s.map((({id:t})=>this.personalcollections.askRenameFeed(t,{id:e,title:n}))),...t.map((({id:t})=>this.enterprisecollections.askRenameFeed(t,{id:e,title:n})))])},this._onDomainChange=e=>{this.setState((({domain:t,hasPendingChanges:s})=>({hasPendingChanges:s||t!==e,domain:e})),this._updateExamples)},this._onKeywordChange=e=>{const t=(0,J.zd)(e);this.setState({hasPendingChanges:!0,keyword:t,error:(0,J.Rd)(t)},(()=>{const{error:e}=this.state;e||this._updateExamples()}))},this._onLanguageChange=({code:e})=>{this.setState({hasPendingChanges:!0,languageCode:e},this._updateExamples)},this._onSubmitClick=async()=>{const{onDone:e}=this.props,{streamInfo:{id:t}}=this.props;this.setState({isSaving:!0});try{const[s,n,i]=await Promise.all([this._askActiveFeedId(),this.personalcollections.askListCollectionsForFeed(t),streets.hasAdminBusinessAccess()?this.enterprisecollections.askListCollectionsForFeed(t):[]]);s!==t?(await this._askAddFeed(s,i,n),streets.service("feedly").loadPage(`subscription/${encodeURIComponent(s)}`)):(await this._askUpdateTitle(s,i,n),this.setState({isSaving:!1},e))}catch(s){this.signs.setDefaultErrorMessage(s)}},this._onTitleChange=e=>{this.setState({hasPendingChanges:!0,title:e})},this._updateExamples=()=>{this.setState({isLoadingExamples:!0}),this._updateExamplesDebounced()},this._updateExamplesDebounced=b()((async()=>{const{keyword:e}=this.state;this._exampleStream&&(this.reader.releaseStream(this._exampleStream),this._exampleStream.unregisterObserver(this),this._exampleStream=null);try{const t=await this._askActiveFeedId();if(e!==this.state.keyword)return;t?(this._exampleStream=this.reader.lookupStream(t,se),this._exampleStream.registerObserver(this),this.setState({streamVersion:this.state.streamVersion+1})):this.setState({exampleEntries:null,isDeadFeed:!0,isLoadingExamples:!1})}catch(t){this.setState({exampleEntries:null,isDeadFeed:!1,isLoadingExamples:!1})}}),1500);const{streamInfo:{id:t,title:s}={}}=e,n=(0,Z.ww)(t),{domain:i,keyword:r}=(0,Z.tQ)(n);this.state={domain:i,error:null,keyword:r,hasPendingChanges:!1,isDeadFeed:!1,isLoadingExamples:!1,languageCode:(0,Z.Ds)(t)||(0,K.Mb)(),title:s,streamVersion:0}}componentDidMount(){this._id=Q()("UpdateFilterForm"),this.feeds=streets.service("feeds"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections=streets.service("enterprisecollections"),this.collections=streets.service("collections"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.suggesto=streets.service("suggesto"),this._updateExamples()}componentWillUnmount(){this._id=null,this.personalcollections=null,this.enterprisecollections=null,this.collections=null,this.reader=null,this.signs=null,this.suggesto=null,this.feeds=null}onStreamStateChanged(){const{entries:e,isLoadingEntries:t,error:s}=this._exampleStream.getState();this.setState({exampleEntries:e,exampleError:s,isDeadFeed:!1,isLoadingExamples:t})}render(){const{onDone:e}=this.props,{domain:t,error:s,exampleEntries:n,keyword:i,hasPendingChanges:a,isDeadFeed:o,isLoadingExamples:l,isSaving:c,languageCode:d,title:h,streamVersion:u}=this.state;return r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630 centered"},r.createElement(k.H2,{appearance:"h1",sub:"Track mentions across thousands of news sites"},"Update Keyword Alert"),r.createElement("div",{className:"form"},r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:`${this._id}-title`},"Display title"),r.createElement(C.At,{id:`${this._id}-title`,clearable:!0,onChange:this._onTitleChange,padBottom:!0,value:h})),r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:`${this._id}-keyword`},"Keyword"),r.createElement(C.At,{id:`${this._id}-keyword`,clearable:!0,hint:r.createElement(C.ZS,null,"Use ",r.createElement("strong",null,"AND"),", ",r.createElement("strong",null,"OR")," and"," ",r.createElement("strong",null,"-")," operators to refine this keyword."),onChange:this._onKeywordChange,padBottom:!0,value:i,error:s})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:`${this._id}-domain`},"Refine to a specific news site"),r.createElement(X.c,{domain:t,keyword:i,language:d,onChange:this._onDomainChange})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:`${this._id}-language`},"Language"),r.createElement(te.P,{id:`${this._id}-language`,fullWidth:!0,items:K.rA.map((e=>({code:e,label:(0,K.vY)(e)}))),labelKey:"label",onItemSelect:this._onLanguageChange,value:(0,K.vY)(d)})),o&&r.createElement("div",{className:"field"},r.createElement("span",{className:"hint"},r.createElement("span",{className:"error"},"Sorry, there was a problem with the feed Google returned for this search."))),r.createElement(w.zx,{className:"floated left",label:"Update Keyword",onClick:this._onSubmitClick,loading:c,disabled:c||o||!a||!h||!i}),r.createElement(w.zx,{className:"floated left",label:"Cancel",onClick:e,importance:"secondary"}),r.createElement("div",{className:"field"},r.createElement(k.H3,{appearance:"h4"},"Example of matching stories"),r.createElement(ee.c,{entries:n,loading:l,streamVersion:u})))))}async _askActiveFeedId(){const{domain:e,keyword:t,languageCode:s}=this.state,n=(0,Z.xF)(t,e),i=(0,Z.sk)(n,s);if(!t)throw new Error;const[r]=await this.suggesto.askGuessFeeds(i,{fullTerm:!1,language:s,organic:!0,numResults:1});return r&&"dead"!==r.state?r.id:null}}ne.propTypes={onDone:i().func.isRequired,streamInfo:i().shape({id:i().string,title:i().string}).isRequired};var ie=s(11402),re=s(99689),ae=s(92242),oe=s(94613);const le="latest",ce="oldest",de="most popular",he="popular + latest";class ue extends r.Component{constructor(...e){super(...e),this.state={priorityDetails:null,usernames:{}},this._onEntryNavigationClick=()=>{const{pagePreferences:e,setPreference:t}=this.props,{entryNavigation:s}=e;t("entryNavigation","visit"===s?"inline":"visit"),document.body.style.overflow=""},this._onManageClick=e=>{const{streamId:t,streamInfo:s}=this.props,{isFeed:n,isCategory:i,isEnterprise:r,isTag:a}=(0,y.Yg)(t),o={streamInfo:s};e&&(o.defaultTab=e);let l=null;a?l=r?V.oq:V.qn:i?l=r?ie.KD:ie.YL:n&&(l=(0,Z.Qc)(t)?ne:re.s),this.feedly.slideForm(l,o)},this._onOrganizeClick=async()=>{const{streamInfo:e}=this.props,[t,s]=await Promise.all([this.personalcollections.askListCollections(),...streets.hasAdminBusinessAccess()?[this.enterprisecollections.askListCollections()]:[]]);streets.service("feedly").slideForm(ae.e,{initialCollections:t,initialFeeds:[e],initialTeamCollections:s})},this._onUnreadOnlyClick=()=>{const{pagePreferences:e,setPreference:t}=this.props,{hideReadArticlesFilter:s}=e;t("hideReadArticlesFilter","on"===s?"off":"on"),document.body.style.overflow=""}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.priorities=streets.service("priorities"),this.feedly=streets.service("feedly"),this.reader=streets.service("reader"),this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this._updateInfo()}componentWillUnmount(){this.priorities=null,this.feedly=null,this.reader=null,this.enterprisecollections=null,this.personalcollections=null}render(){return r.createElement(q.v2,{className:"CustomizePageMenu",preventBackgroundSroll:!0},this._renderSortOptions(),this._renderFilterOptions(),this._renderPriorityControls(),this._renderNavigationOptions(),this._renderManage(),this._renderUnfollowAndArchive(),this._renderDelete())}_renderSortOptions(){const{activeTab:e,pagePreferences:t,setPreference:s,streamId:n}=this.props,{isImportant:i,isPriority:a,isTag:o}=(0,y.Yg)(n);if(!n||"priority"===e||i||a)return null;let{entrySort:l}=t;return o&&l!==le&&l!==ce&&(l=le),r.createElement(q.aV,{name:"entrySort",className:"CustomizePageMenu__section",onChange:e=>{e!==de||streets.hasProAccess()?s("entrySort",e):streets.service("feedly").loadPage("pro/sort-popularity")},selectedValue:l},!o&&r.createElement(oe.Y8,{value:de},"Most Popular"),!o&&r.createElement(oe.Y8,{value:he},"Popular + Latest"),r.createElement(oe.Y8,{value:le},"Latest"),r.createElement(oe.Y8,{value:ce},"Oldest"))}_renderFilterOptions(){const{onShowMutedClick:e,pagePreferences:t,showMuted:s,streamId:n}=this.props,{isEnterprise:i,isGlobalEnterprise:a,isTag:o}=(0,y.Yg)(n),{hideReadArticlesFilter:l}=t;return!n||!i&&o&&!a?null:r.createElement("div",{className:"CustomizePageMenu__section"},r.createElement(q.sN,{onClick:this._onUnreadOnlyClick},r.createElement($.P,{checked:"on"===l}),"Unread only"),!o&&r.createElement(q.sN,{onClick:e},r.createElement($.P,{checked:s}),"Show muted articles"))}_renderPriorityControls(){const{streamId:e,onPauseClick:t,onResumeClick:s}=this.props,{priorityDetails:n,usernames:i}=this.state,{isEnterprise:a,isPriority:o}=(0,y.Yg)(e),l=streets.isUserAdmin();return n&&e&&o?a&&!l?null:r.createElement("div",{className:"CustomizePageMenu__section"},r.createElement(q.sN,{onClick:()=>{n.active?t(n):s(n)}},n.active?r.createElement(x.Z,{importance:"secondary"}):r.createElement(D.Z,{importance:"secondary"}),n.active?"Pause":"Resume"),r.createElement(q.sN,{danger:!0,onClick:()=>{this._onRemoveClick(n,i)}},r.createElement(O.Z,{color:"danger"}),"Remove")):null}_renderNavigationOptions(){const{pagePreferences:e,streamId:t,streamInfo:s}=this.props,{entryNavigation:n}=e,{isFeed:i}=(0,y.Yg)(t);return!i||(0,W.dB)(s)?null:r.createElement("div",{className:"CustomizePageMenu__section"},r.createElement(q.sN,{onClick:this._onEntryNavigationClick},r.createElement($.P,{checked:"visit"===n}),"Open in website directly"))}_renderManage(){const{isFeedInFavorites:e,isSubscribed:t,streamId:s,onToggleSaveToFavorites:n}=this.props,{isAll:i,isCategory:a,isEnterprise:o,isFavorites:l,isFeed:c,isGlobalEnterprise:d,isImportant:h,isReadLater:u,isRecentlyRead:p,isTag:m,isAnnotated:g}=(0,y.Yg)(s),f=[];return g||o&&!streets.isUserAdmin()||i||l||h||u||p||!streets.getUserId()?null:(c&&t&&(0,Z.Qc)(s)?f.push(r.createElement(q.sN,{key:"updateKeyword",onClick:this._onManageClick},r.createElement(A.Z,{importance:"secondary"}),"Update Keyword")):(c&&t||m&&!d||a&&!d)&&f.push(r.createElement(q.sN,{key:"rename",onClick:()=>{this._onManageClick("general")}},r.createElement(A.Z,{importance:"secondary"}),"Rename")),c&&f.push(r.createElement(q.sN,{key:"favoritesOption",onClick:n},r.createElement(z.Z,{importance:"secondary"}),e?"Remove from Favorites":"Add to Favorites")),o&&m&&!d&&f.push(r.createElement(q.sN,{key:"Sharing",onClick:()=>{this._onManageClick("sharing")}},r.createElement(R.Z,{importance:"secondary"}),"Sharing")),a&&!d&&f.push(r.createElement(q.sN,{key:"sources",onClick:()=>{this._onManageClick("feeds")}},r.createElement(F.Z,{importance:"secondary"}),"Manage sources")),c&&t&&f.push(r.createElement(q.sN,{key:"organize",onClick:this._onOrganizeClick},r.createElement(j.Z,{importance:"secondary"}),"Move to...")),!(0,Z.Qc)(s)&&(c&&t||m&&!d||a&&!d)&&f.push(r.createElement(q.sN,{key:"general-properties",onClick:()=>{this._onManageClick("general")}},r.createElement(U.Z,{importance:"secondary"}),"More settings")),f.length?r.createElement("div",{className:"CustomizePageMenu__section"},f):null)}_renderDelete(){const{onDeleteClick:e,streamId:t}=this.props,{isAll:s,isCategory:n,isEnterprise:i,isGlobalEnterprise:a,isReadLater:o,isRecentlyRead:l,isTag:c,isAnnotated:d,isFavorites:h}=(0,y.Yg)(t);return d||!t||s||!c&&!n||i||l||a||h?null:r.createElement("div",{className:"CustomizePageMenu__section"},r.createElement(q.sN,{danger:!0,onClick:e},r.createElement(O.Z,{color:"danger"}),o?"Clear all":"Delete"))}_renderUnfollowAndArchive(){const{isSubscribed:e,onArchiveClick:t,onUnfollowClick:s,streamId:n}=this.props,{isAll:i,isAllTag:a,isAnnotated:o,isCategory:l,isFeed:c,isGlobal:d,isTag:h}=(0,y.Yg)(n);if(!e||o||i||a||d)return null;let u;return u=l?B.Z:h?H.Z:O.Z,streets.isUserAdmin()&&!c?r.createElement("div",{className:"CustomizePageMenu__section"},r.createElement(q.sN,{onClick:s},r.createElement(u,{importance:"secondary"}),"Unfollow"),r.createElement(q.sN,{danger:!0,onClick:t},r.createElement(Y.Z,{color:"danger"}),"Archive")):r.createElement("div",{className:"CustomizePageMenu__section"},r.createElement(q.sN,{danger:!0,onClick:s},r.createElement(u,{color:"danger"}),"Unfollow"))}_onRemoveClick(e,t){const{onRemoveClick:s}=this.props;s(e,t[e.createdBy])}async _updateInfo(){const{streamId:e}=this.props,[t,s]=await Promise.all([this.priorities.askPriority(e),this.enterprise.askListUsernames()]);this.setState({priorityDetails:t,usernames:s})}}ue.propTypes={activeTab:i().string,isFeedInFavorites:i().bool,isSubscribed:i().bool,onArchiveClick:i().func,onDeleteClick:i().func,onPauseClick:i().func,onShowMutedClick:i().func.isRequired,onRemoveClick:i().func,onResumeClick:i().func,onUnfollowClick:i().func,pagePreferences:i().objectOf(i().any).isRequired,setPreference:i().func.isRequired,showMuted:i().bool.isRequired,streamId:i().string,streamInfo:i().shape({label:i().string}),onToggleSaveToFavorites:i().func},ue.defaultProps={activeTab:"",isFeedInFavorites:!1,isSubscribed:!1,onArchiveClick:()=>{},onDeleteClick:()=>{},onPauseClick:()=>{},onRemoveClick:()=>{},onResumeClick:()=>{},onUnfollowClick:()=>{},streamId:"",streamInfo:null,onToggleSaveToFavorites:()=>{}};var pe=s(74812),me=s(55024);class ge extends r.Component{constructor(e){super(e),this._closeDeleteModal=()=>{this.setState({isDeleteModalOpen:!1})},this._deleteEntity=async()=>{const{streamId:e}=this.props,{isTag:t}=(0,y.Yg)(e);this.setState({isDeleteButtonLoading:!0});try{t?await this.personaltags.askDeleteTag(e):await this.personalcollections.askDeleteCollection(e),streets.service("feedly").loadMyPage(),streets.service("signs").showMessage((t?"Board":"Feed")+" deleted")}catch(s){streets.service("signs").showError(`Operation failed: ${s.message}`),this.setState({isDeleteButtonLoading:!1,isDeleteModalOpen:!1})}},this._onCloseDeletePriorityModal=()=>{this.setState({priorityToDelete:null,isDeletePriorityConfirmModalOpen:!1})},this._onDeleteClick=()=>{this.setState({isDeleteModalOpen:!0})},this._onCloseArchiveModal=()=>{const{streamId:e}=this.props,{isTag:t,isCategory:s}=(0,y.Yg)(e);t?this.setState({boardToArchive:null}):s&&this.setState({collectionToArchive:null})},this._onArchiveClick=async()=>{const{streamId:e}=this.props,{isTag:t,isCategory:s}=(0,y.Yg)(e);t?this.setState({boardToArchive:await this.enterprisetags.askLookupTag(e)}):s&&this.setState({collectionToArchive:await this.enterprisecollections.askLookupCollection(e)})},this._onDeletePriorityConfirmClick=async()=>{const{priorityToDelete:e}=this.state;this.setState({isDeletePriorityConfirmLoading:!0});try{await this.priorities.askDelete(e.id),this.signs.showMessage(`${e.label} has been deleted.`),streets.service("feedly").loadDefaultPage()}catch(t){this._onUpdateError(e)}this.setState({isDeletePriorityConfirmLoading:!1,isDeletePriorityConfirmModalOpen:!1})},this._onPauseClick=async e=>{const t={streamIds:[],...e,active:!1},{isEnterprise:s}=(0,y.Yg)(e.id);this._updatePriorityService(s);try{await this.priorities.askSave(t),this.signs.showMessage(`${e.label} has been paused.`)}catch(n){this._onUpdateError(e)}},this._onRemoveClick=(e,t)=>{this.setState({priorityToDelete:e,isDeletePriorityConfirmModalOpen:!0,enterpriseCreatedByName:t})},this._onResumeClick=async e=>{const t={streamIds:[],...e,active:!0},{isEnterprise:s}=(0,y.Yg)(e.id);this._updatePriorityService(s);try{await this.priorities.askSave(t),this.signs.showMessage(`${e.label} has been resumed.`)}catch(n){this._onUpdateError(e)}},this._onToggleSaveToFavorites=async()=>{const{id:e,title:t}=this.props.streamInfo,{favoritesCollection:s,isFeedInFavorites:n}=this.state;if(n)try{await this.personalcollections.askRemoveFeed(s.id,e),this.signs.showMessage("Removed from Favorites")}catch(i){this.signs.showError("Failed to remove from Favorites")}else try{await this.personalcollections.askAddFeed(s.id,{id:e,title:t}),this.signs.showMessage("Saved to Favorites")}catch(i){this.signs.showError("Failed to save to Favorites")}},this._onUnfollowClick=async()=>{const{streamId:e}=this.props,{isCategory:t,isFeed:s,isTag:n}=(0,y.Yg)(e);if(s)this.setState({isUnfollowSourceModalOpen:!0});else try{n?await this.enterprisetags.askUnsubscribeTag(e):t&&await this.enterprisecollections.askUnsubscribeCollection(e)}catch(i){const e=`Failed to unfollow ${n?"board":"collection"}: ${i.message}`;console.error(e),this.signs(e)}},this._onUnfollowSourceModalCancel=()=>{this.setState({isUnfollowSourceModalOpen:!1})},this.state={boardToArchive:null,collectionToArchive:null,enterpriseCreatedByName:null,isDeleteButtonLoading:!1,isDeleteModalOpen:!1,isDeletePriorityConfirmLoading:!1,isDeletePriorityConfirmModalOpen:!1,isFeedInFavorites:!1,isUnfollowSourceModalOpen:!1,priorityToDelete:null}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisetags=streets.service("enterprisetags"),this.personalcollections=streets.service("personalcollections"),this.personaltags=streets.service("personaltags"),this.priorities=streets.service("priorities"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.personalcollections.registerObserver(this),this.reader.registerObserver(this),this._updateFavorites()}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.reader.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags=null,this.personaltags=null,this.personalcollections=null,this.priorities=null,this.reader=null,this.signs=null}onFeedChanged(e){e===this.props.streamId&&this._updateFavorites()}render(){const{activeTab:e,isOpen:t,isSubscribed:s,onButtonClick:n,onCloseClick:i,onShowMutedClick:a,pagePreferences:o,setPreference:l,showMuted:c,streamId:d,streamInfo:h}=this.props,{isFeedInFavorites:u,isUnfollowSourceModalOpen:p,boardToArchive:m,collectionToArchive:g}=this.state;return r.createElement("span",null,r.createElement(pe.X,{align:"right",closeOnClick:!0,icon:r.createElement(L.Z,{importance:"secondary"}),importance:"tertiary",isOpen:t,menu:r.createElement(ue,{activeTab:e,isFeedInFavorites:u,isSubscribed:s,onArchiveClick:this._onArchiveClick,onDeleteClick:this._onDeleteClick,onPauseClick:this._onPauseClick,onRemoveClick:this._onRemoveClick,onResumeClick:this._onResumeClick,onShowMutedClick:a,onUnfollowClick:this._onUnfollowClick,pagePreferences:o,setPreference:l,showMuted:c,streamId:d,streamInfo:h,onToggleSaveToFavorites:this._onToggleSaveToFavorites}),onButtonClick:n,onCloseMenu:i,title:"More options"}),p&&r.createElement(ie.ob,{isModal:!0,onClose:this._onUnfollowSourceModalCancel,streamId:h.id,streamLabel:h.title}),this._renderDeleteModal(),this._renderDeletePriorityConfirmModal(),g&&r.createElement(me.hX,{collection:g,onClose:this._onCloseArchiveModal}),m&&r.createElement(me.lY,{board:m,onClose:this._onCloseArchiveModal}))}_renderDeleteModal(){const{isDeleteButtonLoading:e,isDeleteModalOpen:t}=this.state,{isStreamEmpty:s,streamId:n}=this.props,{isCategory:i,isTag:a}=(0,y.Yg)(n);if(!t)return null;let o="Delete all saved articles",l="Are you sure you want to delete all the articles saved in this board? This operation cannot be undone.",c="No, keep saved articles";return a&&s?(o="Delete board",l="Are you sure you want to delete this board? This operation cannot be undone.",c="No, keep this board"):i&&(o="Delete feed",l="Are you sure you want to delete this feed? This operation cannot be undone.",c="No, keep this feed"),r.createElement(me.u_,{key:"confirmation",onClose:this._closeDeleteModal,small:!0},r.createElement(k.H2,{appearance:"h3"},o),r.createElement("p",null,l),r.createElement(w.zx,{color:"danger",label:"Delete",onClick:this._deleteEntity,loading:e}),r.createElement(w.zx,{label:c,onClick:this._closeDeleteModal,importance:"secondary"}))}_renderDeletePriorityConfirmModal(){const{enterpriseCreatedByName:e,isDeletePriorityConfirmLoading:t,isDeletePriorityConfirmModalOpen:s,priorityToDelete:n}=this.state;if(!s)return null;const i=n.streamLabels[0],{isEnterprise:a}=(0,y.Yg)(n.id);this._updatePriorityService(a);let o,l=!0;return a&&(l=streets.getUserId()===n.createdBy,o=l?"You":e),r.createElement(me.u_,{onClose:this._onCloseDeletePriorityModal,small:!0},r.createElement(k.H2,{appearance:"h3"},"Are you sure you want to remove ",n.label,"?"),r.createElement("p",null,!l&&`${o} created this priority for the ${i} feed.`,a?" This will impact everyone in your team.":""),r.createElement(w.zx,{color:"danger",label:"Delete",onClick:this._onDeletePriorityConfirmClick,loading:t}),r.createElement(w.zx,{label:"No, keep this priority",onClick:this._onCloseDeletePriorityModal,importance:"secondary"}))}_onUpdateError(e){this.signs.showMessage(`There was an error when trying to update ${e.label}.`)}async _updateFavorites(){const{streamId:e}=this.props,t=await this.personalcollections.askFavoritesCollection();this.personalcollections&&this.setState({favoritesCollection:t,isFeedInFavorites:t.containsFeed(e)})}_updatePriorityService(e){this.priorities=e?streets.service("enterprisepriorities"):streets.service("personalpriorities")}}ge.propTypes={activeTab:i().string,isOpen:i().bool,isStreamEmpty:i().bool,isSubscribed:i().bool,onButtonClick:i().func.isRequired,onCloseClick:i().func.isRequired,onShowMutedClick:i().func.isRequired,pagePreferences:i().objectOf(i().any).isRequired,setPreference:i().func.isRequired,showMuted:i().bool.isRequired,streamId:i().string,streamInfo:i().objectOf(i().any)},ge.defaultProps={activeTab:"",isOpen:!1,isStreamEmpty:!1,isSubscribed:!1,streamId:null,streamInfo:null};var fe=s(91891),ye=s(88175),ve=s(66149),be=s(34039),Ee=s(3167);const Ce=({pagePreferences:e,setPreference:t})=>{const s=e[Ee.aR];return r.createElement(q.v2,null,r.createElement(q.aV,{name:"layout",onChange:t.bind(void 0,Ee.aR),selectedValue:s},r.createElement(oe.Y8,{value:Ee.Ar.titleOnly},"Title-Only View"),r.createElement(oe.Y8,{value:Ee.Ar.magazine},"Magazine View"),r.createElement(oe.Y8,{value:Ee.Ar.cards},"Cards View"),r.createElement(oe.Y8,{value:Ee.Ar.fullArticle},"Article View")))};Ce.propTypes={pagePreferences:i().objectOf(i().any).isRequired,setPreference:i().func.isRequired};var we=s(50544),ke=s(63402);const _e=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M19.65 8.35A7.958 7.958 0 0014 6c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0114 20c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L15 13h7V6l-2.35 2.35z",fill:"currentColor",fillRule:"evenodd"}))}));var Me=s(99175);class Se extends r.Component{constructor(...e){super(...e),this.state={loading:!1}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{loading:e}=this.state,{hasNewerEntries:t}=this.props,s=r.createElement(w.zx,{className:o()({"update-available":t&&!e}),icon:r.createElement(_e,{importance:"secondary"}),importance:"tertiary",loading:e,onClick:this._onClick.bind(this),title:t?"":"Refresh"});return t?r.createElement(Me.d,{animateClass:"animateFadeIn",content:"Refresh to see newer stories",position:"bottom"},s):s}_onClick(){this.feedly.refresh()}}Se.propTypes={hasNewerEntries:i().bool},Se.defaultProps={hasNewerEntries:!1};const Te={0:c,4:d,5:h,100:u};class Ie extends r.Component{constructor(e){super(e),this._renderRefreshButton=()=>{const{hasNewerEntries:e,hideRefreshButton:t}=this.props;return!t&&r.createElement(Se,{hasNewerEntries:e})},this._onAddUrlClick=()=>{const{isAddUrlFormOpen:e,saveHeaderState:t}=this.props;t("isAddUrlFormOpen",!e)},this._onCloseAddUrlForm=()=>{const{saveHeaderState:e}=this.props;e("isAddUrlFormOpen",!1),e("addUrlFormState",null)},this._onCustomizePageClick=()=>{const{isCustomizePageMenuOpen:e,saveHeaderState:t}=this.props;t("isCustomizePageMenuOpen",!e)},this._onPageLayoutClick=()=>{const{isPageLayoutMenuOpen:e,saveHeaderState:t}=this.props;t("isPageLayoutMenuOpen",!e)},this._onInviteToEnterpriseGroupClick=()=>{const{isInviteToEnterpriseGroupMenuOpen:e,saveHeaderState:t}=this.props;t("isInviteToEnterpriseGroupMenuOpen",!e)},this._saveFormState=(e,t)=>{this.props.saveHeaderState(e,t)},this._updateInfo=async()=>{try{const e=await this.alerts.askHasWebAlertsAccess();this.setState({showWebAlerts:e})}catch(e){console.error(`Error: ${e.errorMessage}`)}},this.state={showWebAlerts:!1}}componentDidMount(){this.alerts=streets.service("alerts"),this.feedly=streets.service("feedly"),this._updateInfo()}componentWillUnmount(){this.alerts=null,this.feedly=null}render(){const{actions:e,className:t,compact:s,dataUri:n,details:i,headingColumnCount:a,hideRefreshButton:l,href:c,kicker:d,showAddUrlButton:h,showCustomizePageButton:u,showInviteButton:p,showPageLayoutButton:m,showSubscribeButton:g,sub:f,title:y,useH2:v}=this.props;let b=!0;!l||h||u||p||m||g||e&&e.length||(b=!1);const E=a||(b?6:12),C=o()("header","row",{kickered:d,[t]:t});if(s)return r.createElement("header",{className:C},r.createElement(k.H2,{className:`header__sticky-heading col-xs-${E} col-md-${E}`},y),b&&r.createElement("div",{className:`col-xs-${12-E} col-md-${12-E} right-col`},this._renderTrainLeoButton(),this._renderRefineWebAlert(),this._renderAddUrlButton(),this._renderSubscribeButton(),this._renderActions(),this._renderInviteButton(),this._renderNewsletterButton(),this._renderSlackButton(),this._renderPageLayoutButton(),this._renderRefreshButton(),this._renderCustomizePageButton()));const w=v?k.H2:k.H1;return r.createElement("header",{className:C},r.createElement("div",{className:`col-xs-${E} col-md-${E}`},r.createElement(w,{appearance:"h1",className:"m-b-0",kicker:d,sub:f},r.createElement("span",{id:"header-title"},this._renderTitle())),i&&r.createElement("div",{className:"details GuidedTutorial__gpc-offset-11"},i)),b&&r.createElement("div",{className:`col-xs-${12-E} col-md-${12-E} p-t-2 right-col extra`},r.createElement("div",{className:"actions-container"},this._renderTrainLeoButton(),this._renderRefineWebAlert(),this._renderAddUrlButton(),this._renderSubscribeButton(),this._renderActions(),this._renderInviteButton(),this._renderNewsletterButton(),this._renderSlackButton(),this._renderPageLayoutButton(),this._renderRefreshButton(),this._renderCustomizePageButton())))}_renderRefineWebAlert(){const{isSubscribed:e,streamInfo:t}=this.props,{showWebAlerts:s}=this.state;return e&&s&&"WebAlert"===t.feedlyFeedType?r.createElement(w.zx,{icon:r.createElement(p.Z,{importance:"secondary"}),importance:"secondary",label:"Refine",onClick:()=>{this.feedly.slideForm(ye.s,{feedId:t.id,webAlertId:t.alertId,webAlertTitle:t.title})}}):null}_renderTrainLeoButton(){const{isLeoEnabled:e,hasLeoSecurityFeature:t,hasSecurityFeed:s,isSubscribed:n,streamInfo:i}=this.props;return r.createElement(ke.ar,{isLeoEnabled:e,hasLeoSecurityFeature:t,hasSecurityFeed:s,isSubscribed:n,streamInfo:i})}_renderTitle(){const{dataUri:e,href:t,title:s}=this.props;return t?r.createElement(be.rU,{className:"header__link",href:t,newWindow:!0},s):e?r.createElement(be.rU,{className:"header__link",uri:e},s):s}_renderActions(){const{actions:e}=this.props;return e?e.map((e=>e?r.cloneElement(e):null)):null}_renderAddUrlButton(){const{addUrlFormState:e,isAddUrlFormOpen:t,isSubscribed:s,showAddUrlButton:n,streamInfo:i}=this.props;if(!n)return null;const{isTag:a,isEnterprise:o,isGlobalEnterprise:l}=(0,y.Yg)(i.id);if(a&&o&&!s||a&&l)return null;const c={id:i.id,label:i.label};return r.createElement(pe.X,{align:"right",key:"addUrlButton",caret:!0,icon:r.createElement(m.Z,{importance:"secondary"}),isOpen:t,label:"Add Article",menu:r.createElement(P,{initialState:e,onClose:this._onCloseAddUrlForm,saveState:this._saveFormState.bind(this,"addUrlFormState"),tag:c}),onButtonClick:this._onAddUrlClick,onCloseMenu:this._onCloseAddUrlForm})}_renderCustomizePageButton(){const{activeTab:e,isCustomizePageMenuOpen:t,isStreamEmpty:s,isSubscribed:n,onShowMutedClick:i,pagePreferences:a,setPreference:o,showCustomizePageButton:l,showMuted:c,streamInfo:d}=this.props;return l&&a?r.createElement(ge,{activeTab:e,isOpen:t,isStreamEmpty:s,isSubscribed:n,onButtonClick:this._onCustomizePageClick,onCloseClick:this._closeMenu.bind(this,"isCustomizePageMenuOpen"),onShowMutedClick:i,pagePreferences:a,setPreference:o,showMuted:c,streamId:d.id,streamInfo:d}):null}_renderInviteButton(){const{inviteToEnterpriseGroupState:e,isInviteToEnterpriseGroupMenuOpen:t,showInviteButton:s,streamInfo:n}=this.props;return s&&n?r.createElement(ve.u,{feed:n,initialState:e,isOpen:t,onButtonClick:this._onInviteToEnterpriseGroupClick,onCloseMenu:this._closeMenu.bind(this,"isInviteToEnterpriseGroupMenuOpen"),saveState:this._saveFormState.bind(this,"inviteToEnterpriseGroupState")}):null}_renderNewsletterButton(){const{isSubscribed:e,showNewsletterButton:t}=this.props;return t&&e&&streets.isUserAdmin()?r.createElement(w.zx,{icon:r.createElement(g.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onSettingsClick.bind(this,"email"),title:"Newsletter"}):null}_renderPageLayoutButton(){const{isPageLayoutMenuOpen:e,pagePreferences:t,setPreference:s,showPageLayoutButton:n}=this.props;if(!n||!t)return null;const i=t["entryOverviewSize.desktop"],a=Te[i];return r.createElement(pe.X,{align:"right",icon:r.createElement(a,{importance:"secondary"}),importance:"tertiary",isOpen:e,menu:r.createElement(Ce,{pagePreferences:t,setPreference:(e,t)=>{s(e,t),this._closeMenu("isPageLayoutMenuOpen")}}),onButtonClick:this._onPageLayoutClick,onCloseMenu:this._closeMenu.bind(this,"isPageLayoutMenuOpen"),title:"Change layout",wrapperChildren:r.createElement(fe.o,{id:"change-layout-button"})})}_renderSlackButton(){const{isSubscribed:e,showSlackButton:t,streamInfo:s}=this.props,{isEnterprise:n,isPriority:i}=(0,y.Yg)(s.id);return t&&e&&streets.isUserAdmin()||i&&n?r.createElement(w.zx,{icon:r.createElement(f,{importance:"secondary"}),importance:"tertiary",onClick:this._onSettingsClick.bind(this,"sharing"),title:"Slack integration"}):null}_renderSubscribeButton(){const{isSubscribed:e,showSubscribeButton:t,streamInfo:s}=this.props,{isCategory:n,isTag:i,isEnterprise:a}=(0,y.Yg)(s.id);return t?(n||i)&&a&&e?null:r.createElement(we.T,{key:"subscribe",streamId:s.id}):null}_closeMenu(e){this.props.saveHeaderState(e,!1)}_onSettingsClick(e){const{pagePreferences:t,priorityInfo:s,streamInfo:n}=this.props,{isCategory:i,isEnterprise:r,isPriority:a,isTag:o}=(0,y.Yg)(n.id);let l=null;r&&(o?l=V.oq:i?l=ie.KD:a&&(l=ke.zH)),l&&streets.service("feedly").slideForm(l,{defaultTab:e,pagePreferences:t,priorityInfo:s,streamInfo:n})}}Ie.propTypes={actions:i().arrayOf(i().element),activeTab:i().string,addUrlFormState:i().objectOf(i().any),className:i().string,compact:i().bool,dataUri:i().string,details:i().node,hasLeoSecurityFeature:i().bool,hasNewerEntries:i().bool,hasSecurityFeed:i().bool,headingColumnCount:i().number,hideRefreshButton:i().bool,href:i().string,inviteToEnterpriseGroupState:i().objectOf(i().any),isAddUrlFormOpen:i().bool,isCustomizePageMenuOpen:i().bool,isInviteToEnterpriseGroupMenuOpen:i().bool,isLeoEnabled:i().bool,isPageLayoutMenuOpen:i().bool,isStreamEmpty:i().bool,isSubscribed:i().bool,kicker:i().node,onShowMutedClick:i().func,pagePreferences:i().objectOf(i().any),priorityInfo:i().shape({id:i().string,label:i().string}),saveHeaderState:i().func,setPreference:i().func,showAddUrlButton:i().bool,showCustomizePageButton:i().bool,showInviteButton:i().bool,showMuted:i().bool,showNewsletterButton:i().bool,showPageLayoutButton:i().bool,showSlackButton:i().bool,showSubscribeButton:i().bool,streamInfo:i().shape({alertId:i().string,feedlyFeedType:i().string,id:i().string,label:i().string,title:i().string}),sub:i().node,title:i().string.isRequired,useH2:i().bool},Ie.defaultProps={actions:null,activeTab:"",addUrlFormState:null,className:"",compact:!1,dataUri:null,details:null,hasLeoSecurityFeature:!1,hasNewerEntries:!1,hasSecurityFeed:!1,headingColumnCount:null,hideRefreshButton:!1,href:"",inviteToEnterpriseGroupState:null,isAddUrlFormOpen:!1,isCustomizePageMenuOpen:!1,isInviteToEnterpriseGroupMenuOpen:!1,isLeoEnabled:!1,isPageLayoutMenuOpen:!1,isStreamEmpty:!1,isSubscribed:!1,kicker:"",onShowMutedClick:()=>{},pagePreferences:null,priorityInfo:{},saveHeaderState:()=>{},setPreference:()=>{},showAddUrlButton:!1,showCustomizePageButton:!1,showInviteButton:!1,showMuted:!1,showNewsletterButton:!1,showPageLayoutButton:!1,showSlackButton:!1,showSubscribeButton:!1,streamInfo:{},sub:"",useH2:!1};var Ne=s(44406);const Pe=({actionsLeft:e,actionsRight:t,className:s,displayMode:n,isSticky:i,onScrollBackToTop:a,title:l,titleAlign:c})=>n!==Ne.DC.tablet||i?r.createElement("header",{className:o()("MobileHeader",s,{"MobileHeader--tablet":n===Ne.DC.tablet}),onClick:a},r.createElement("div",{className:"MobileHeader__action-left",onClick:e=>{e.preventDefault(),e.stopPropagation()}},e),r.createElement(k.H1,{className:o()("MobileHeader__title",`MobileHeader__title--${c}`,{"MobileHeader__title--no-actions":!e&&!t})},l||" "),r.createElement("div",{className:"MobileHeader__action-right",onClick:e=>{e.preventDefault(),e.stopPropagation()}},t)):r.createElement("header",{className:o()("MobileHeader MobileHeader--tablet MobileHeader--inline",s),onClick:a},r.createElement("div",{className:"MobileHeader__action-left",onClick:e=>{e.preventDefault(),e.stopPropagation()}},e),r.createElement("div",{className:"MobileHeader__title-container"},r.createElement(k.H1,{className:"MobileHeader__title"},l),r.createElement("div",{className:"MobileHeader__action-right",onClick:e=>{e.preventDefault(),e.stopPropagation()}},t)));Pe.propTypes={actionsLeft:i().node,actionsRight:i().node,className:i().string,displayMode:i().oneOf(Object.keys(Ne.DC)),isSticky:i().bool,onScrollBackToTop:i().func,title:i().node,titleAlign:i().oneOf(["center","left","right"])},Pe.defaultProps={actionsLeft:null,actionsRight:null,className:void 0,displayMode:null,isSticky:!1,onScrollBackToTop:()=>{},title:null,titleAlign:"center",sub:void 0};const Le=Pe;const xe=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M15.755 3.755a.75.75 0 011.134.977l-.073.084-7.185 7.186 7.181 7.182a.75.75 0 01.073.977l-.073.084a.75.75 0 01-.977.072l-.084-.072-7.71-7.713a.75.75 0 01-.073-.976l.073-.084 7.714-7.717z",fill:"currentColor",fillRule:"nonzero"}))}));const De=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M5.47 5.47a.75.75 0 01.976-.073l.084.073 16 16a.75.75 0 01-.976 1.133l-.084-.073-16-16a.75.75 0 010-1.06z"}),r.createElement("path",{d:"M21.47 5.47a.75.75 0 011.133.976l-.073.084-16 16a.75.75 0 01-1.133-.976l.073-.084 16-16z"})))}));var Oe=s(73400),Ae=s.n(Oe);const ze=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M13.571 3.571l-6.428 6.43 6.425 6.428",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,fill:"none",fillRule:"evenodd"}))})),Re=({className:e,color:t,displayMode:s,pageManager:n,onClick:i})=>n.hasParentPage()?r.createElement(w.zx,{className:`NavigationButton button-mobile-icon-only ${e}`,icon:r.createElement(ze,{importance:t}),importance:"",label:s===Ne.DC.tablet?Ae()(n.parentPageManager.pageInfo.type):"",onClick:i,title:"Back"}):null;Re.propTypes={className:i().string,color:i().oneOf(["primary","secondary","tertiary"]),displayMode:i().oneOf(Object.keys(Ne.DC)),pageManager:i().objectOf(i().any).isRequired,onClick:i().func.isRequired},Re.defaultProps={className:void 0,color:"secondary",displayMode:Ne.DC.phone};var Fe=s(49245);class je extends r.Component{constructor(e){super(e),this._onClearClick=()=>{this.props.onChange(""),this._input.current.focus()},this._onClosePage=()=>this.props.pageManager.askClose(),this._onSubmit=e=>{e.preventDefault(),this.props.onSubmit()},this._input=r.createRef(),this.resize=streets.service("resize"),this.resize.registerObserver(this),this.state={displayMode:this.resize.getDisplayMode()}}blur(){this._input.current.blur()}onDisplayModeChanged(e){this.setState({displayMode:e})}componentWillUnmount(){this.resize.unregisterObserver(this),this.resize=null,this._input=null}render(){const{displayMode:e}=this.state,{activeTab:t,autoCapitalize:s,autoCorrect:n,autoFocus:i,className:a,defaultIcon:l,isCollapsed:c,isInputModeEnabled:d,onBackClick:h,onChange:u,onInputFocus:p,onTabChange:m,pageManager:g,placeholder:f,tabs:y,value:v,...b}=this.props;let E;return h&&d&&g&&g.hasParentPage()?E=r.createElement(Re,{className:"MobileInputHeader__icon m-x-1 p-a-0",color:"tertiary",pageManager:g,onClick:this._onClosePage}):h&&d?E=r.createElement(w.zx,{className:"MobileInputHeader__icon m-x-1 p-a-0",icon:r.createElement(xe,{importance:"tertiary"}),importance:"tertiary",onClick:h}):l&&(E=r.createElement(w.zx,{className:"MobileInputHeader__icon m-x-1 p-a-0",icon:r.createElement(l,{importance:"tertiary"}),importance:"tertiary",onClick:()=>{p(),this._input.current.focus()}})),r.createElement("div",{className:o()("MobileInputHeader",a,{"MobileInputHeader--input-enabled":d||c,"MobileInputHeader--tablet":e===Ne.DC.tablet,"MobileInputHeader--with-tabs":!!y.length})},r.createElement(Le,Object.assign({className:"MobileInputHeader__header",displayMode:e},b)),!!y.length&&r.createElement(Fe.mQ,{active:t,items:y,onChange:m,className:"MobileInputHeader__tabs"}),r.createElement("form",{action:".",className:"MobileInputHeader__form m-b-0",onSubmit:this._onSubmit},r.createElement(C.At,{autoCapitalize:s,autoCorrect:n,autoFocus:i,ref:this._input,className:"MobileInputHeader__input",elementsAfter:""!==v&&r.createElement(w.zx,{className:"DeluxeTextInput__clear-button",icon:r.createElement(De,{importance:"tertiary"}),importance:"",onClick:this._onClearClick}),elementsBefore:E,onChange:u,onFocus:()=>{p()},placeholder:f,type:"search",value:v})))}}je.propTypes={activeTab:i().string,autoCapitalize:i().string,autoCorrect:i().string,autoFocus:i().bool,className:i().string,defaultIcon:i().elementType,isCollapsed:i().bool,isInputModeEnabled:i().bool.isRequired,onBackClick:i().func,onChange:i().func.isRequired,onInputFocus:i().func,onSubmit:i().func,onTabChange:i().func,pageManager:i().objectOf(i().any),placeholder:i().string,tabs:i().arrayOf(i().shape({id:i().string,label:i().string})),value:i().string},je.defaultProps={activeTab:null,autoCorrect:"on",autoCapitalize:"sentences",autoFocus:!1,className:void 0,defaultIcon:void 0,isCollapsed:!1,onBackClick:void 0,onInputFocus:()=>{},onSubmit:()=>{},onTabChange:()=>{},pageManager:null,placeholder:"",tabs:[],value:""};var Ue=s(93839),Be=s.n(Ue),He=s(5371),Ye=s(72405),Ze=s(55118);function We(e,t){return Be()(e)?e(t):(0,r.cloneElement)(e,t)}class $e extends r.Component{constructor(...e){super(...e),this.state={headerState:{}},this._saveHeaderState=(e,t)=>{this.setState((({headerState:s})=>({headerState:{...s,[e]:t}})))}}render(){const{headerState:e}=this.state,{children:t,portalTarget:s,stickyTarget:n}=this.props;return r.createElement(Ye.Le,{offsetTop:He.vH,target:n},(({isSticky:n})=>r.createElement("div",null,We(t,{headerState:n?{}:e,isSticky:!1,saveHeaderState:this._saveHeaderState}),n&&s&&r.createElement(Ze.h,{target:s},We(t,{headerState:e,isSticky:n,saveHeaderState:this._saveHeaderState})),n&&!s&&We(t,{headerState:e,isSticky:n,saveHeaderState:this._saveHeaderState}))))}}$e.propTypes={children:i().oneOfType([i().element,i().func]).isRequired,portalTarget:i().string,stickyTarget:i().string},$e.defaultProps={portalTarget:"",stickyTarget:""};const qe=({accent:e,children:t,className:s,onClick:n})=>r.createElement("span",{className:o()("detail",s,{clickable:!!n,"detail--accent":e}),onClick:n,role:"button"},t);qe.propTypes={accent:i().bool,children:i().node.isRequired,className:i().string,onClick:i().func},qe.defaultProps={accent:!1,className:"",onClick:void 0};class Ve extends r.Component{constructor(e){super(e),this.resize=streets.service("resize"),this.resize.registerObserver(this),this.state={displayMode:this.resize.getDisplayMode()}}componentWillUnmount(){this.resize.unregisterObserver(this),this.resize=null}onDisplayModeChanged(e){this.setState({displayMode:e})}render(){const{displayMode:e}=this.state,{children:t,pageManager:s}=this.props,n=e===Ne.DC.tablet?Ye.QU:Ye.Pl;return r.createElement(n,{displayMode:e,pageManager:s},t)}}Ve.propTypes={children:i().node.isRequired,pageManager:i().objectOf(i().any).isRequired};class Ge extends r.Component{render(){const{sticky:e,...t}=this.props;return r.createElement("div",{className:o()("header",{"slider-header":!e,"sliderContainer__sticky-header":e,sticky:e})},r.createElement(Ie,Object.assign({hideRefreshButton:!0},t,{useH2:!0})))}}Ge.propTypes={sticky:i().bool},Ge.defaultProps={sticky:!1}},14171:(e,t,s)=>{"use strict";s.d(t,{J:()=>l});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a);class l extends r.Component{render(){const{className:e,color:t,custom:s,customSize:n,name:i,onClick:a,onMouseEnter:l,onMouseLeave:c,onMouseOver:d,size:h,style:u,title:p}=this.props;if("string"!=typeof i&&!s)return null;const m=u||{};if(s&&(m.backgroundImage="url("+s+")"),n){const e=n.split("x"),t=e[0],s=e[1];m.width=`${t}px`,m.height=`${s}px`,m.backgroundSize=`${t}px ${s}px`}const g={icon:!0,[`icon-${h}`]:!n,[`icon-${t}`]:t,visual:s,[i]:i,"icon-clickable":a,[e]:e};return r.createElement("i",{onClick:a,onMouseEnter:l,onMouseLeave:c,onMouseOver:d,style:m,className:o()(g),title:p})}}l.propTypes={className:i().string,color:i().oneOf(["primary","secondary","tertiary",""]),custom:i().string,customSize:i().string,name:i().string,onClick:i().func,onMouseEnter:i().func,onMouseLeave:i().func,onMouseOver:i().func,size:i().oneOf(["xs","sm","md","lg"]),style:i().object,title:i().string},l.defaultProps={className:void 0,color:"",custom:"",customSize:"",onClick:null,onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseOver:()=>{},name:void 0,size:"sm",style:null,title:void 0}},7837:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var n=s(60216),i=s.n(n),r=s(32735),a=s(56787),o=s(95192);function l({children:e,className:t,color:s,fontSize:n,iconComponent:i,onBlur:a,onFocus:l,onMouseEnter:c,onMouseLeave:d}){return r.createElement("div",{className:`IconText ${t}`,onBlur:a,onFocus:l,onMouseEnter:c,onMouseLeave:d},r.createElement(i,{className:"IconText__icon",color:s}),r.createElement(o.x,{className:"IconText__text",color:s,size:n,tagName:"div"},e))}l.propTypes={children:i().node.isRequired,className:i().string,color:i().oneOf(["warning","danger"]),fontSize:i().oneOf(Object.keys(a.T)),iconComponent:i().elementType.isRequired,onBlur:i().func,onFocus:i().func,onMouseEnter:i().func,onMouseLeave:i().func},l.defaultProps={className:"",color:"warning",fontSize:"small",onBlur:void 0,onFocus:void 0,onMouseEnter:void 0,onMouseLeave:void 0}},56732:(e,t,s)=>{"use strict";s.d(t,{Q:()=>c});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a);const l=["advertising","sales","competition","infosec","fintech","machine learning"],c=e=>{const{className:t,size:s,src:n}=e,i=n.indexOf("landing-team-illustration--hero")>-1||n.indexOf("hero-illustration--woman.svg")>-1||n.indexOf("hero-illustration--man.svg")>-1||n.indexOf("illustration-teams.svg")>-1;return r.createElement("div",{className:o()(`illustration-container col-${s}`,t,{"illustration-team":i})},r.createElement("img",{src:n,className:"illustration",alt:""}),i&&l.map(((e,t)=>r.createElement("span",{key:e,className:`decoration topic-${t+1}`},e))))};c.propTypes={className:i().string,size:i().oneOf(["1","2","3","4","5","6","7","8","9","10","11","12"]),src:i().string.isRequired},c.defaultProps={className:void 0,size:"12"}},73265:(e,t,s)=>{"use strict";s.d(t,{a:()=>c});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=(s(14171),s(65802));class c extends r.Component{constructor(e){super(e),this.state={imageUrl:e.imageUrl,draggedOver:!1}}UNSAFE_componentWillMount(){this.fileReader=new FileReader,this.fileReader.onload=e=>{this.setState({imageUrl:e.target.result})}}componentWillUnmount(){this.fileReader.onload=null}render(){const e=this.props,t=this.state,s={},n={image:!0,visual:!0};return t.imageUrl?s.backgroundImage="url("+t.imageUrl+")":n.cover=!0,r.createElement("div",{className:"image-upload"},r.createElement("div",{className:o()(n),style:s,onDrop:this._drop.bind(this),onDragEnter:this._enter.bind(this),onDragOver:this._dragging.bind(this),onDragLeave:this._leave.bind(this)},t.draggedOver&&r.createElement("div",{className:"image-drop-overlay"},"Drop Now!")),r.createElement("div",{className:"hint"},e.hint),r.createElement(l.R,{imageUrl:t.imageUrl,onChange:this._changeFile.bind(this)}))}_changeFile(e){e?this.fileReader.readAsDataURL(e):this.setState({imageUrl:""}),this.props.onFileChange(e)}_dragging(e){e.preventDefault()}_drop(e){e.preventDefault();const t=e.dataTransfer.files;t&&t[0]&&this._changeFile(t[0]),this.setState({draggedOver:!1})}_enter(e){e.preventDefault(),this.setState({draggedOver:!0})}_leave(e){e.preventDefault(),this.setState({draggedOver:!1})}}c.propTypes={hint:i().string,imageUrl:i().string,onFileChange:i().func.isRequired}},65802:(e,t,s)=>{"use strict";s.d(t,{R:()=>o});var n=s(60216),i=s.n(n),r=s(32735),a=s(47264);class o extends r.Component{render(){return r.createElement("div",{className:"image-upload-button"},r.createElement("input",{ref:"fileInput",type:"file",onChange:this._onFileChange.bind(this)}),r.createElement(a.zx,{importance:"secondary",label:"Choose File",onClick:this._onChooseFileClick.bind(this),size:"small"}),this.props.imageUrl&&r.createElement(a.zx,{importance:"secondary",label:"Remove Image",onClick:this._onRemoveImage.bind(this),size:"small"}))}_onChooseFileClick(e){e.preventDefault(),this.refs.fileInput.click()}_onFileChange(e){let t=e.target.files[0];this.props.onChange(t)}_onRemoveImage(){this.props.onChange(null)}}o.propTypes={imageUrl:i().string,onChange:i().func.isRequired}},31318:(e,t,s)=>{"use strict";s.d(t,{k4:()=>h,g_:()=>k,yi:()=>_});var n=s(32735),i=s(60216),r=s.n(i),a=s(35093),o=s(65698),l=s(10974),c=s(79199),d=s(71792);class h extends n.Component{constructor(e){super(e),this._onClick=e=>{const{entityId:t,entry:s}=this.props;if(e.preventDefault(),(0,l.D4)(t)){const{label:e}=s.findEntity(t);e&&this.feedly.slideReactComponent(d.gF,{cveId:e},{customPath:`cve/${encodeURIComponent(e)}`})}else this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))},this._onClose=()=>{this.setState({isPopoverOpen:!1})},this._offsetParent=n.createRef(),this._target=n.createRef(),this.state={isPopoverOpen:!1}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null,this._offsetParent=null,this._target=null}render(){const{children:e,entityId:t,entry:s,streamId:i}=this.props,{isPopoverOpen:r}=this.state,l=s.findEntity(t),c=(0,o.FW)(l),d=a.XA[c];return n.createElement("div",{className:"fx InlineEntity",onClick:this._onClick,ref:this._offsetParent},n.createElement("strong",{ref:this._target},e),n.createElement(d,{className:"InlineEntity__icon m-r-0"}),r&&n.createElement(k,{entityId:t,entry:s,offsetParent:this._offsetParent,onClose:this._onClose,streamId:i,target:this._target}))}}h.propTypes={children:r().node.isRequired,entityId:r().string.isRequired,entry:c.A.isRequired,streamId:r().string},h.defaultProps={streamId:null};var u=s(75320),p=s(99442),m=s(855),g=s(16847),f=s(56466),y=s(47264),v=s(40280),b=s(23005),E=s(46291),C=s(34393),w=s(95234);class k extends n.Component{constructor(...e){super(...e),this.state={entity:null},this._onPowerSearchEntity=async({id:e})=>{const t=await this.leo.askEntityInfo(e),s={bucketType:u.Zx.cybersecurity,defaultPublications:u.W9,layers:[],mainSearchLayer:{parts:[t],salience:p.mb.about,type:p.ur.matches}},n=(0,m.tN)(s);this.feedly.loadPage(`powerSearch/beyond/${n}`)}}componentDidMount(){this.feedly=streets.service("feedly"),this.leo=streets.service("leo"),this._updateEntity()}componentWillUnmount(){this.feedly=null,this.leo=null}render(){const{offsetParent:e,onClose:t,target:s}=this.props;return n.createElement("div",null,n.createElement(E.J,{caret:!0,className:"InlineEntityPopover",offsetParent:e,onClick:e=>{e.preventDefault(),e.stopPropagation()},onClose:t,target:s},this._renderBody()))}_renderBody(){const{entry:e,onClose:t,streamId:s}=this.props,{entity:i}=this.state;if(!i)return n.createElement(b.g,null);const{knowledgeBaseUrl:r,label:o,type:l}=i,{associatedEntities:c,description:d,isThreatEntity:h,sub:u}=(0,f._)(i);return n.createElement(n.Fragment,null,n.createElement(v.H3,{className:"InlineEntityPopover__heading"},o),!!r&&l!==a.KI&&n.createElement(y.zx,{className:"InlineEntityPopover__link",importance:"tertiary",label:u,onClick:()=>{window.open(r,"_blank")}}),d&&n.createElement("p",{className:"InlineEntityPopover__description"},(0,g.kC)(d)),h&&n.createElement(w._,{className:"InlineEntityPopover__associated-entities",associatedEntities:c,onSearchEntity:this._onPowerSearchEntity,type:l}),n.createElement("div",{className:"InlineEntityPopover__menu"},n.createElement(C.Y,{entry:e,onClose:t,part:i,streamId:s})))}async _updateEntity(){const{entityId:e}=this.props,t=await this.leo.askEntityInfo(e);this.setState({entity:t})}}function _({label:e,value:t}){return n.createElement("div",{className:"InlineVulnerabilityStat"},n.createElement("div",{className:"InlineVulnerabilityStat__label"},e),n.createElement("div",{className:"InlineVulnerabilityStat__value"},t))}k.propTypes={entry:r().shape({getMostRelevantPriority:r().function}).isRequired,entityId:r().string.isRequired,offsetParent:E.J.propTypes.offsetParent,onClose:r().func.isRequired,streamId:r().string,target:E.J.propTypes.target},k.defaultProps={offsetParent:null,streamId:null,target:null},_.propTypes={label:r().string.isRequired,value:r().string.isRequired}},66063:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a);const l=({className:e,elementRef:t,iconComponent:s,iconColor:i,iconTitle:r,importance:a,label:l,onClick:c,onMouseEnter:d,onMouseLeave:h})=>n.createElement("div",{ref:t,className:o()("InterestingMetadata",e,{"InterestingMetadata--clickable":!!c,"InterestingMetadata--secondary":"secondary"===a}),onClick:c,onMouseEnter:d,onMouseLeave:h},s&&n.createElement(s,{className:"InterestingMetadata__icon",color:i,importance:a,title:r}),n.createElement("span",{className:"Metadata__label"},l));l.propTypes={className:r().string,elementRef:r().oneOfType([r().func,r().shape({current:r().instanceOf(Element)})]),iconColor:r().string,iconComponent:r().elementType,iconTitle:r().string,importance:r().oneOf(["primary","secondary"]),label:r().string.isRequired,onClick:r().func,onMouseEnter:r().func,onMouseLeave:r().func},l.defaultProps={className:void 0,elementRef:void 0,iconColor:void 0,iconComponent:void 0,iconTitle:void 0,importance:void 0,onClick:null,onMouseEnter:void 0,onMouseLeave:void 0}},13275:(e,t,s)=>{"use strict";s.d(t,{L:()=>A});var n=s(60216),i=s.n(n),r=s(32735),a=s(55631),o=s.n(a),l=s(72453),c=s(16847),d=s(12788),h=s(6880),u=s(74221),p=s(47264),m=s(95192),g=s(7860),f=s(46291),y=s(23005);const v=String.fromCharCode(8203);class b extends r.Component{constructor(e){super(e),this._addAllGroups=async()=>{const{editorState:e}=this.state;this.setState({isLoadingAllGroups:!0});const[t,s]=await Promise.all([this.enterprisecollections.askListCollections(),this.enterprisetags.askListTags()]);this.setState({editorState:this._initializeEditorState(e,t,s),isLoadingAllGroups:!1,selectedCollections:t,selectedTags:s,showInitialState:!1})},this._keyBindingFn=e=>37===e.keyCode&&!this._isValidCursorPosition(-1)||(0,h.getDefaultKeyBinding)(e),this._onClickEntity=(e,t)=>{const s=this._removeGroup(e,t);this.setState(s)},this._onEditorStateChange=e=>{const t=e.getLastChangeType(),s=e.getSelection();let{selectedCollections:n,selectedTags:i}=this.state;if("backspace-character"===t){const t=e.getCurrentContent(),r=t.getBlockForKey(s.getAnchorKey()).getEntityAt(s.getStartOffset()-1);if(null!==r){const s=t.getEntity(r),{isTag:a}=(0,u.Yg)(s.data.id),o=a?"tag":"collection",l=this._removeGroup(o,s.data);l&&(e=l.editorState,n=l.selectedCollections,i=l.selectedTags)}}else this._isValidCursorPosition(0,e)||(e=h.EditorState.moveFocusToEnd(e));this.setState(Object.assign({editorState:e,selectedCollections:n,selectedTags:i},this._getSuggestionTargetInfo(e)))},this._onEntityOffsetKey=(e,t)=>{this._entityOffsetKeys[t.id]=e},this._onListItemSelect=(e,t)=>{const s=this._addGroup(e,t);s&&(s.editorState=h.EditorState.moveFocusToEnd(s.editorState),this.setState(s),this._focusAfterNextBlur=!0)},this._onListItemDeselect=(e,t)=>{this.setState(this._removeGroup(e,t)),this._focusAfterNextBlur=!0},this._onPickIndividualClick=()=>{this.setState({showInitialState:!1},(()=>{this._editor.focus()}))},this._onSuggestionTargetChange=(e,t)=>{this.setState({suggestionTargets:Object.assign({},this.state.suggestionTargets,{[e]:t})},(()=>{this.setState(this._getSuggestionTargetInfo(this.state.editorState))}))},this._entityOffsetKeys=[],this._onOffsetParentRef=e=>{e&&this.setState({offsetParent:e})},this._decorator=new h.CompositeDecorator([{strategy:k.COLLECTION_STRATEGY,component:e=>r.createElement(k,Object.assign({},e,{onClick:this._onClickEntity,onOffsetKey:this._onEntityOffsetKey,type:"collection"}))},{strategy:k.TAG_STRATEGY,component:e=>r.createElement(k,Object.assign({},e,{onClick:this._onClickEntity,onOffsetKey:this._onEntityOffsetKey,type:"tag"}))},{strategy:M.STRATEGY,component:e=>r.createElement(M,Object.assign({},e,{onChange:this._onSuggestionTargetChange}))}]);let t=h.EditorState.createEmpty(this._decorator);t=h.EditorState.set(t,{allowUndo:!1}),this.state={editorState:t,isLoadingAllGroups:!1,selectedCollections:e.initialSelectedCollections||[],selectedTags:e.initialSelectedTags||[],showInitialState:!e.initialSelectedCollections&&!e.initialSelectedTags}}UNSAFE_componentWillReceiveProps(e){const{editorState:t,selectedCollections:s,selectedTags:n}=this.state;n.length>0||s.length>0||this.props.initialSelectedCollections===e.initialSelectedCollections&&this.props.initialSelectedTags===e.initialSelectedTags||(this.props=e,this.setState({selectedTags:e.initialSelectedTags||[],selectedCollections:e.initialSelectedCollections||[],editorState:this._initializeEditorState(t,e.initialSelectedCollections||[],e.initialSelectedTags||[]),showInitialState:!e.initialSelectedCollections&&!e.initialSelectedTags}))}UNSAFE_componentWillMount(){const{editorState:e,selectedCollections:t,selectedTags:s}=this.state;this.setState({editorState:this._initializeEditorState(e,t,s)}),this.enterprisetags=streets.service("enterprisetags"),this.enterprisecollections=streets.service("enterprisecollections")}componentDidMount(){this.setState({defaultTarget:d.findDOMNode(this._editor)})}componentDidUpdate(e,t){const{onSelectedTagsChange:s,onSelectedCollectionsChange:n}=this.props,{selectedCollections:i,selectedTags:r}=this.state;n&&t.selectedCollections!==i&&n(i),s&&t.selectedTags!==r&&s(r)}componentWillUnmount(){this.enterprisecollections=null,this.enterprisetags=null,this._entityOffsetKeys=null,this._onOffsetParentRef=null,this._onTargetRef=null}render(){const{blockTarget:e,defaultTarget:t,editorState:s,isEditorFocused:n,isLoadingAllGroups:i,offsetParent:a,selectedCollections:o,selectedTags:l,showInitialState:c,suggestionTargetText:d}=this.state;return i?r.createElement("div",{className:"EnterpriseGroupEditor__initial"},r.createElement(y.g,{className:"m-a-0",details:"boards and feeds"})):c?r.createElement("div",{className:"EnterpriseGroupEditor__initial"},r.createElement(p.zx,{className:"EnterpriseGroupEditor__initial-action p-a-0",color:"accent",importance:"tertiary",label:"Pick individual boards and feeds",onClick:this._onPickIndividualClick}),r.createElement(m.x,{className:"p-r-1",size:"small",tagName:"span"},"or"),r.createElement(p.zx,{className:"EnterpriseGroupEditor__initial-action p-a-0",color:"accent",importance:"tertiary",label:"include all",onClick:this._addAllGroups})):r.createElement("div",{ref:this._onOffsetParentRef,className:"EnterpriseGroupEditor"},r.createElement(g.O,{className:"ChipList m-b-0",ref:e=>{this._editor=e},editorState:s,keyBindingFn:this._keyBindingFn,ignoreEnterKey:!0,ignoreArrowKeys:!0,onBlur:this._onEditorFocusChange.bind(this,!1),onChange:this._onEditorStateChange,onFocus:this._onEditorFocusChange.bind(this,!0),placeholder:"Click to select the right feeds and boards for these users..."}),n&&r.createElement(f.J,{offsetParent:a,position:"bottom",target:e||t},r.createElement(P,{filterTerm:d,onSelectedItemSelect:this._onListItemDeselect,onDeselectedItemSelect:this._onListItemSelect,selectedCollections:o,selectedTags:l})))}_addEntity(e,t,s=this.state.editorState){const{suggestionTargetEnd:n,suggestionTargetStart:i}=this.state,r=s.getCurrentContent(),a=r.createEntity(e,"IMMUTABLE",t);let o,l=s.getSelection();return"number"==typeof n&&"number"==typeof i&&(l=l.merge({anchorOffset:i,focusOffset:n})),l.isCollapsed()?o=r:(o=h.Modifier.removeRange(r,l,"backward"),l=o.getSelectionAfter()),o=h.Modifier.insertText(o,l,t.label,null,a.getLastCreatedEntityKey()),l=o.getSelectionAfter(),o=h.Modifier.insertText(o,l,v),s=h.EditorState.push(s,o,"insert-enterprise-group"),s=h.EditorState.moveSelectionToEnd(s)}_addGroup(e,t){let s,{selectedTags:n,selectedCollections:i}=this.state;"collection"===e?(s=i.slice(0),i=s):(s=n.slice(0),n=s);return-1!==s.indexOf(t)?null:(s.push(t),{selectedCollections:i,selectedTags:n,editorState:this._addEntity(e,t)})}_getSelectionBlockNode(){const e=window.getSelection();if(0===e.rangeCount)return null;let t=e.getRangeAt(0).startContainer;for(;null!==t;){if(t.getAttribute&&"true"===t.getAttribute("data-block"))return t;t=t.parentNode}return null}_getSuggestionTargetInfo(e){const t=e.getSelection(),s=this.state.suggestionTargets;let n=null,i=null,r=null;if(t.isCollapsed()&&t.getHasFocus()){const a=t.getAnchorKey(),o=t.getAnchorOffset();for(const t in s){if(!s[t])continue;const[l,c,d]=t.split("-");if(l===a){const t=e.getBlockTree(l).getIn([c,"leaves",d]);if(!t)continue;if(t.start<o&&t.end>=o){n=t.end,i=t.start;r=e.getCurrentContent().getBlockForKey(l).getText().substring(i,n+1);break}}}}return{suggestionTargetEnd:n,suggestionTargetStart:i,suggestionTargetText:r}}_initializeEditorState(e,t,s){return t.forEach((t=>{e=this._addEntity("collection",t,e)})),s.forEach((t=>{e=this._addEntity("tag",t,e)})),e}_isValidCursorPosition(e,t=this.state.editorState){const s=t.getCurrentContent(),n=t.getSelection(),i=s.getBlockForKey(n.getAnchorKey()),r=n.getStartOffset()+e;return r>-1&&r<=i.getLength()&&null===i.getEntityAt(r)&&i.getText().charAt(r)!==v}_onEditorFocusChange(e){this._focusAfterNextBlur?(this._focusAfterNextBlur=!1,this._editor.focus()):this.setState({blockTarget:e?this._getSelectionBlockNode():this.state.blockTarget,isEditorFocused:e})}_removeEntity(e){const t=this._entityOffsetKeys[e.id],[s,n,i]=t.split("-");let r=this.state.editorState;const a=r.getCurrentContent(),o=a.getBlockForKey(s).getText(),l=r.getBlockTree(s).getIn([n,"leaves",i]);let c=l.end;o.charAt(c)===v&&(c+=1);let d=h.SelectionState.createEmpty(s);d=d.merge({anchorOffset:l.start,focusOffset:c});const u=r.getSelection().getHasFocus(),p=h.Modifier.removeRange(a,d,"backward");return r=h.EditorState.push(r,p,"remove-range"),u&&(r=h.EditorState.moveFocusToEnd(r)),this._entityOffsetKeys[e.id]=null,r}_removeGroup(e,t){let s,{selectedTags:n,selectedCollections:i}=this.state;"collection"===e?(s=i.slice(0),i=s):(s=n.slice(0),n=s);const r=s.indexOf(t);return-1===r?null:(s.splice(r,1),{selectedCollections:i,selectedTags:n,editorState:this._removeEntity(t)})}}b.propTypes={initialSelectedCollections:i().arrayOf(i().object),initialSelectedTags:i().arrayOf(i().object),onSelectedTagsChange:i().func.isRequired,onSelectedCollectionsChange:i().func.isRequired},b.defaultProps={initialSelectedCollections:null,initialSelectedTags:null};var E=s(11245),C=s(39908),w=s(55015);class k extends r.Component{constructor(...e){super(...e),this._onClick=e=>{e.preventDefault();const{contentState:t,entityKey:s,onClick:n,type:i}=this.props;if(n){n(i,t.getEntity(s).data)}}}UNSAFE_componentWillMount(){const{contentState:e,entityKey:t,offsetKey:s,onOffsetKey:n}=this.props;n(s,e.getEntity(t).data)}UNSAFE_componentWillReceiveProps(e){const{props:t}=this,s=e.contentState.getEntity(e.entityKey),n=t.contentState.getEntity(t.entityKey);e.offsetKey===t.offsetKey&&s.data.id===n.data.id||e.onOffsetKey(e.offsetKey,s.data)}render(){const{type:e,children:t}=this.props;return r.createElement(w.A,{deletable:!0,onClick:this._onClick},"tag"===e?r.createElement(E.Z,{importance:"tertiary"}):r.createElement(C.Z,{importance:"tertiary"}),t)}}k.propTypes={contentState:i().object.isRequired,entityKey:i().string,offsetKey:i().string.isRequired,children:i().node,onClick:i().func.isRequired,onOffsetKey:i().func.isRequired,type:i().oneOf(["collection","tag"]).isRequired},k.COLLECTION_STRATEGY=(e,t,s)=>{e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&"collection"===s.getEntity(t).getType()}),t)},k.TAG_STRATEGY=(e,t,s)=>{e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&"tag"===s.getEntity(t).getType()}),t)};const _=/[^\u200B\s]+[^\u200B]*/g;class M extends r.Component{constructor(e){super(e),this._onRef=e=>{this._target=e}}componentDidMount(){this.props.onChange&&this.props.onChange(this.props.offsetKey,this._target)}componentWillUnmount(){this.props.onChange&&this.props.onChange(this.props.offsetKey,null)}render(){return r.createElement("strong",{ref:this._onRef},this.props.children)}}M.propTypes={children:i().node,offsetKey:i().string.isRequired,onChange:i().func},M.STRATEGY=(e,t)=>{let s,n=e.getText();for(;null!==(s=_.exec(n));)t(s.index,s.index+s[0].length)};var S=s(16048),T=s(14171),I=s(28576),N=s(39970);class P extends r.Component{constructor(e){super(e),this._list=r.createRef(),this.state={collections:[],tags:[]}}UNSAFE_componentWillMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisetags=streets.service("enterprisetags"),this.enterprisecollections.registerObserver(this),this.enterprisetags.registerObserver(this),this._updateEnterpriseCollectionList(),this._updateEnterpriseTagList()}UNSAFE_componentWillReceiveProps(e){e.filterTerm!==this.props.filterTerm&&this._list.current&&this._list.current.resetSelection()}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.enterprisetags.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags=null,this._list=null}onCollectionsChanged(){this._updateEnterpriseCollectionList()}onTagsChanged(){this._updateEnterpriseTagList()}render(){let{filterTerm:e}=this.props;e=e&&e.length?e.toLowerCase():null;const t=this._renderSuggestedCollections(e),s=this._renderSuggestedTags(e);return this._prevNumberSuggestions=this._numberSuggestions,this._numberSuggestions=t.length+s.length,r.createElement(I.GX,{maxHeight:"25rem",ref:this._list},!!s.length&&r.createElement(I.NP,null,"Boards"),s,!!t.length&&r.createElement(I.NP,null,"Feeds"),t)}_renderSuggestedCollections(e){const t=e?[e]:[],{selectedCollections:s}=this.props,{collections:n}=this.state,i={};return s&&s.forEach((e=>{i[e.id]=!0})),n.reduce(((s,n)=>{const a=n.label||"";if(e&&0!==a.toLowerCase().lastIndexOf(e,0))return s;const o=i[n.id];return s.push(r.createElement(I.sN,{key:n.id,className:"item-with-visuals",onMouseDown:()=>{this._onSelectCollection(n)}},r.createElement(C.Z,{importance:o?void 0:"tertiary",color:o?"accent":"black"}),r.createElement(N.L,{firstOccurance:!0,wordClassName:"autocomplete-bold",words:t,text:n.label,wrapper:"span"}),o?r.createElement(S.Z,{color:"accent"}):r.createElement(T.J,{name:"icon-placeholder",size:"sm"}))),s}),[])}_renderSuggestedTags(e){const t=e?[e]:[],{selectedTags:s}=this.props,{tags:n}=this.state,i={};return s&&s.forEach((e=>{i[e.id]=!0})),n.reduce(((s,n)=>{const a=n.label||"";if(e&&0!==a.toLowerCase().lastIndexOf(e,0))return s;const o=i[n.id];return s.push(r.createElement(I.sN,{key:n.id,className:"item-with-visuals",onMouseDown:()=>{this._onSelectTag(n)}},r.createElement(E.Z,{importance:o?void 0:"tertiary",color:o?"accent":"black"}),r.createElement(N.L,{firstOccurance:!0,wordClassName:"autocomplete-bold",words:t,text:n.label,wrapper:"span"}),o?r.createElement(S.Z,{color:"accent"}):r.createElement(T.J,{name:"icon-placeholder",size:"sm"}))),s}),[])}_onSelectCollection(e){const{onDeselectedItemSelect:t,onSelectedItemSelect:s,selectedCollections:n}=this.props;-1===n.indexOf(e)?t("collection",e):s("collection",e)}_onSelectTag(e){const{onDeselectedItemSelect:t,onSelectedItemSelect:s,selectedTags:n}=this.props;-1===n.indexOf(e)?t("tag",e):s("tag",e)}_updateEnterpriseCollectionList(){this.enterprisecollections.askListCollections().then((e=>{this._list.current&&this._list.current.resetSelection(),this.setState({collections:e})}))}_updateEnterpriseTagList(){this.enterprisetags.askListTags().then((e=>{this._list.current&&this._list.current.resetSelection(),this.setState({tags:e})}))}}P.propTypes={filterTerm:i().string,onSelectedItemSelect:i().func.isRequired,onDeselectedItemSelect:i().func.isRequired,selectedTags:i().arrayOf(i().shape({id:i().string})),selectedCollections:i().arrayOf(i().shape({id:i().string}))},P.defaultProps={filterTerm:"",selectedTags:[],selectedCollections:[]};var L=s(40280),x=s(6931),D=s(22735),O=s(57080);class A extends r.Component{constructor(e){super(e),this._onAdminClick=e=>{const t=o()(this.state,{invites:{[e]:{isAdmin:{$set:!this.state.invites[e].isAdmin}}}});this.setState(t)},this._onChange=(e,t,s)=>{const n=[];if(s){const t=e+2+1;for(let e=this.state.invites.length;e<t;e+=1)n.push(this._generateEmptyInvite())}const i=o()(this.state,{invites:{[e]:{[t]:{$set:s},[t+"Error"]:{$set:""}},$push:n}});this.setState(i)},this._onNoteChange=e=>{this.setState({note:e})},this._onSelectedCollectionsChange=e=>{this._selectedCollections=e},this._onSelectedTagsChange=e=>{this._selectedTags=e},this._onSubmit=e=>{e.preventDefault(),this.setState({loading:!0});const{state:t}=this,{invites:s}=t;let n=!1,i=!0;for(let r=0;r<s.length;r+=1)s[r].emailError="",s[r].nameError="",s[r].name=s[r].name.trim(),s[r].email=s[r].email.trim(),s[r].name&&!(0,c.oH)(s[r].email)&&(s[r].emailError="Invalid email address",n=!0),!s[r].email&&s[r].name?(s[r].emailError="Please provide an email",n=!0):s[r].email&&!s[r].name&&(s[r].nameError="Please provide a name",n=!0),(s[r].email||s[r].name)&&(i=!1);if(i&&(s[0].emailError="Please provide at least one email",s[0].nameError="Please provide at least one name",n=!0),n)this.setState({invites:s,loading:!1});else{const e=this._selectedCollections.map((e=>e.id)),i=this._selectedTags.map((e=>e.id)),r=s.filter((e=>e.email&&e.name)).map((t=>({collectionIds:e,email:t.email,isAdmin:t.isAdmin,name:t.name,tagIds:i}))),a=t.note||(0,l.H)();this.enterprise.askCreateInvites(r,a).then((e=>{for(let s=0;s<e.length;s+=1)if(e[s].error&&"invalidEmailAddress"===e[s].error)for(let i=0;i<t.invites.length;i+=1)if(e[s].email===t.invites[i].email){t.invites[i].emailError="Invalid email address",n=!0;break}n?this.setState({invites:t.invites,loading:!1}):(this.signs.showMessage("Invitations sent"),this.props.onDone())})).catch((e=>{this.signs.showError("Error:"+e),this.setState({loading:!1})}))}},this._updateDefaults=async()=>{const{initialCollections:e,initialTags:t}=this.props,[s=[],n=[]]=await Promise.all([this.enterprisecollections.askListCollections(),this.enterprisetags.askListTags()]);s.length+n.length<20&&s.length+n.length>0&&(!e||0===e.length)&&(!t||0===t.length)&&(this._selectedCollections=s.slice(0),this._selectedTags=n.slice(0),this.setState({defaultCollections:s,defaultTags:n}))},this._updateInvites=async()=>{try{const e=await this.enterprise.askListUsers();this.setState({invites:this._generateEmptyInvites(e.length)})}catch(e){this.setState({invites:this._generateEmptyInvites()}),console.error("Error: ",e)}};const{initialCollections:t,initialTags:s}=e;this._selectedCollections=t?t.slice(0):[],this._selectedTags=s?s.slice(0):[],this.state={defaultTags:[],defaultCollections:[],invites:[],loading:!1,note:(0,l.H)()}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs"),this._updateDefaults(),this._updateInvites()}componentWillUnmount(){this.enterprise=null,this.enterprisecollections=null,this.enterprisetags=null,this.signs=null,this._selectedCollections=null,this._selectedTags=null}render(){const{invites:e,loading:t,note:s}=this.state;let{initialCollections:n}=this.props;this.state.defaultCollections.length>0&&(n=this.state.defaultCollections);let{initialTags:i}=this.props;return this.state.defaultTags.length>0&&(i=this.state.defaultTags),r.createElement("div",{className:"fx"},r.createElement("section",{className:"container630 centered"},r.createElement("form",{"aria-labelledby":"invite-users-form",className:"form m-b-2",onSubmit:this._onSubmit},r.createElement(L.H2,{appearance:"h1",id:"invite-users-form"},"Invite users"),r.createElement("div",{className:"field"},r.createElement("div",{className:"row"},r.createElement("label",{className:"required col-md-5"},"Email"),r.createElement("label",{className:"required col-md-5"},"Full name"),r.createElement("label",{className:"col-md-2"},"Permissions")),e.map(((t,s)=>r.createElement("div",{className:"InviteForm__row row",key:`invite${s}`},r.createElement("div",{className:"col-md-5"},r.createElement(x.At,{value:t.email,placeholder:"Email",error:t.emailError,onChange:e=>{this._onChange(s,"email",e)}})),r.createElement("div",{className:"col-md-5"},r.createElement(x.At,{value:t.name,placeholder:"Full name",error:t.nameError,onChange:e=>{this._onChange(s,"name",e)}})),r.createElement("div",{className:"col-md-2"},r.createElement(O.X,{checked:e[s].isAdmin,className:"m-t-h",onChange:()=>{this._onAdminClick(s)}},"Admin")))))),r.createElement("div",{className:"field"},r.createElement("label",null,"Which boards and feeds should these users follow?"),r.createElement(b,{initialSelectedCollections:n,initialSelectedTags:i,onSelectedCollectionsChange:this._onSelectedCollectionsChange,onSelectedTagsChange:this._onSelectedTagsChange})),r.createElement("div",{className:"field"},r.createElement("label",null,"Welcome Email"),r.createElement(D.K,{value:s,onChange:this._onNoteChange,placeholder:"A note to include as part of the invitation email",rows:15})),r.createElement(p.zx,{disabled:0===e.length,label:"Invite",loading:t,type:"submit"}))))}_generateEmptyInvite(e){return{email:"",emailError:"",isAdmin:e<5,name:"",nameError:""}}_generateEmptyInvites(e=0){const t=[];for(let s=0;s<3;s+=1)t.push(this._generateEmptyInvite(e));return t}}A.propTypes={initialCollections:i().arrayOf(i().object),initialTags:i().arrayOf(i().object),onDone:i().func}},66149:(e,t,s)=>{"use strict";s.d(t,{u:()=>C});var n=s(60216),i=s.n(n),r=s(32735),a=s(71262);const o=(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M15 15c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3zm6.62.16c.83.72 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.5-4.38-2.84zM15 13c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm5 0c1.66 0 3-1.34 3-3s-1.34-3-3-3c-.32 0-.63.05-.92.14.57.81.92 1.8.92 2.86 0 1.06-.35 2.04-.92 2.85.29.1.6.15.92.15zm-10-1H7V9H5v3H2v2h3v3h2v-3h3v-2z",fill:"currentColor",fillRule:"evenodd"}))}));var l=s(74221),c=s(74812),d=s(5375);const h=(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M13.218 6.075a.5.5 0 01.765.638l-.058.07-7.857 7.856a.5.5 0 01-.638.058l-.07-.058-3.57-3.571a.5.5 0 01.637-.765l.07.058 3.217 3.218 7.504-7.504zM17.504 6.075a.5.5 0 01.765.638l-.058.07-7.857 7.856a.5.5 0 01-.638.058l-.07-.058-.716-.716a.5.5 0 01.638-.765l.07.058.362.363 7.504-7.504z"}),r.createElement("path",{d:"M5.365 9.65a.5.5 0 01.638-.057l.07.058.71.71a.5.5 0 01-.638.765l-.07-.057-.71-.711a.5.5 0 010-.707z"})))}));var u=s(47264),p=s(40280),m=s(95192),g=s(14171),f=s(13275),y=s(55024),v=s(77817),b=s(28576);class E extends r.Component{constructor(e){super(e),this._addAllTeammates=()=>{this.setState({isAddAllLoading:!0});const{feed:e,users:t}=this.props,{isTag:s}=(0,l.Yg)(e.id),n=t.map((e=>e.userId));let i;i=s?this.enterprisetags.askSubscribeUsers(e.id,n):this.enterprisecollections.askSubscribeUsers(e.id,n),i.then((()=>{this.signs.showMessage("Added all teammates"),this.setState({isAddAllLoading:!1})})).catch((e=>{$feedly(`[InviteToEnterpriseGroupButton] failed to add all teammates: ${e.message}`),this.signs.showError("Failed to add all teammates"),this.setState({isAddAllLoading:!1})}))},this._closeNonAdminModal=()=>{this.setState({isNonAdminModalOpen:!1},this._saveState)},this._onClickInviteByEmail=()=>{if(streets.isUserAdmin()){const{feed:e}=this.props,{isTag:t}=(0,l.Yg)(e.id);let s,n;t?n=[e]:s=[e],this.feedly.slideForm(f.L,{initialCollections:s,initialTags:n})}else this.setState({isNonAdminModalOpen:!0},this._saveState)},this._onFilterTermChange=e=>{this.setState({filterTerm:e},this._saveState)},this._list=r.createRef(),this.state=e.initialState||{filterTerm:"",isAddAllLoading:!1,isLoadingUserId:{},isNonAdminModalOpen:!1}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisetags=streets.service("enterprisetags"),this.feedly=streets.service("feedly"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisecollections=null,this.enterprisetags=null,this.feedly=null,this.signs=null,this._list=null}render(){const{filterTerm:e,isNonAdminModalOpen:t}=this.state,{feed:s,groupUsers:n,users:i}=this.props,{isTag:a}=(0,l.Yg)(s.id);if(!n||!i)return null;const o=this._renderFilteredUsers();return r.createElement("div",null,r.createElement(b.PA,{hint:o.length?"":"No teammates found.",menuItems:o,onChange:this._onFilterTermChange,placeholder:"Find and add teammates...",value:e}),r.createElement("div",{className:"menu-footer",onClick:this._onClickInviteByEmail},r.createElement(d.Z,{color:"accent"}),r.createElement(m.x,{className:"menu-footer-text",color:"accent",size:"smaller",tagName:"span"},"Invite a Teammate")),t&&r.createElement(y.u_,{onClose:this._closeNonAdminModal,small:!0},r.createElement(p.H2,{appearance:"h3"},"This is an admin-only action"),r.createElement("p",null,"You need admin access to invite teammates to a",` ${a?"board":"feed"}. `,"Please get in touch with the admin of your Feedly team."),r.createElement(u.zx,{label:"Close",onClick:this._closeNonAdminModal})))}_renderFilteredUsers(){let{filterTerm:e}=this.state;const{isLoadingUserId:t,isAddAllLoading:s}=this.state,{groupUsers:n,users:i}=this.props,a=[];e&&(e=e.toLowerCase(),a.push(e));const o={};return n.forEach((e=>{o[e.userId]=!0})),i.reduce(((n,i)=>{const a=i.name||i.email;if(e&&0!==a.toLowerCase().lastIndexOf(e,0))return n;const{userId:l}=i,c=t[l],d=o[l];return 0===n.length&&""===e&&n.push(r.createElement(b.sN,{key:"add-all",onClick:this._addAllTeammates},s?r.createElement(g.J,{name:"icon-fx-loading"}):r.createElement(h,null),s?"Adding all...":"Add all")),n.push(r.createElement(b.D8,{actionPhrase:"add",highlightedText:e.toLowerCase(),key:l,label:a,loading:c,onClick:()=>{this._onSelectUser(i)},selected:d,visual:r.createElement(v.q,{alt:a,className:"item-image m-l-0 m-r-1",compact:!0,url:i.picture})})),n}),[])}_onSelectUser(e){const{isLoadingUserId:t}=this.state,{feed:s,groupUsers:n}=this.props,i=!!n.find((t=>t.userId===e.userId)),{isTag:r}=(0,l.Yg)(s.id);let a;this.setState({isLoadingUserId:{...t,[e.userId]:!0}});const o=i?"askUnsubscribeUser":"askSubscribeUser";a=r?this.enterprisetags[o](s.id,e.userId):this.enterprisecollections[o](s.id,e.userId),a.then((()=>{this.setState({isLoadingUserId:{...t,[e.userId]:!1}})}))}_saveState(){const{saveState:e}=this.props;e&&e(this.state)}}E.propTypes={feed:i().shape({id:i().string}).isRequired,groupUsers:i().arrayOf(i().object),initialState:i().objectOf(i().any),saveState:i().func,users:i().arrayOf(i().object)},E.defaultProps={groupUsers:null,initialState:null,saveState:()=>{},users:null};class C extends r.Component{constructor(e){super(e),this._onButtonClick=()=>{this.props.saveState(null),this.props.onButtonClick()},this._onCloseMenu=()=>{this.props.saveState(null),this.props.onCloseMenu()},this.state={groupUsers:null,users:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.enterprisetags=streets.service("enterprisetags"),this.enterprisecollections=streets.service("enterprisecollections"),this.signs=streets.service("signs");const e=this.props.feed&&this.props.feed.id;this._updateEnterpriseUsers(),this._updateEnterpriseGroupUsers(e)}componentDidUpdate(e){const t=e.feed&&e.feed.id;t&&t!==this.props.feed.id&&this._updateEnterpriseGroupUsers(t)}componentWillUnmount(){this.enterprise=null,this.signs=null,this.enterprisecollections.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags.unregisterObserver(this),this.enterprisetags=null}onTagChanged(e){const t=this.props.feed&&this.props.feed.id;e===t&&this._updateEnterpriseGroupUsers(t)}onCollectionChanged(e){const t=this.props.feed&&this.props.feed.id;e===t&&this._updateEnterpriseGroupUsers(t)}render(){const{groupUsers:e,users:t}=this.state,{buttonStyle:s,feed:n,initialState:i,isOpen:a,saveState:l}=this.props;let d,h,u,p;return"secondary"===s?(d="accent",u="secondary",h="Add some teammates",p="small"):"primary"===s?(h="Add member",u="primary"):u="tertiary",r.createElement(c.X,{align:"right",caret:!0,color:d,icon:"icon"===s?r.createElement(o,{importance:"secondary"}):null,importance:u,isOpen:a,label:h,menu:r.createElement(E,{feed:n,groupUsers:e,initialState:i,saveState:l,users:t}),onButtonClick:this._onButtonClick,onCloseMenu:this._onCloseMenu,size:p,title:"Invite team members"})}_updateEnterpriseGroupUsers(e){const{isEnterprise:t,isTag:s}=(0,l.Yg)(e);if(!e||!t)return this.enterprisecollections.unregisterObserver(this),this.enterprisetags.unregisterObserver(this),void this.setState({groupUsers:[]});let n;s?(this.enterprisecollections.unregisterObserver(this),this.enterprisetags.registerObserver(this),n=this.enterprisetags.askListTagSubscribedUsers(e)):(this.enterprisetags.unregisterObserver(this),this.enterprisecollections.registerObserver(this),n=this.enterprisecollections.askListCollectionSubscribedUsers(e)),n.then((e=>{this.setState({groupUsers:e||[]})})).catch((e=>{this.signs.showError(`Failed to get users for ${s?"tag":"collection"}: ${e}`)}))}_updateEnterpriseUsers(){this.enterprise.askListUsers().then((e=>{this.setState({users:e})})).catch((e=>{this.signs.showError("Failed to get team users. "+e)}))}}C.propTypes={buttonStyle:i().oneOf(["icon","primary","secondary"]),feed:i().shape({id:i().string}).isRequired,initialState:i().objectOf(i().any),isOpen:i().bool,onButtonClick:i().func,onCloseMenu:i().func,saveState:i().func},C.defaultProps={buttonStyle:"icon",initialState:null,isOpen:!1,onButtonClick:()=>{},onCloseMenu:()=>{},saveState:()=>{}}},34393:(e,t,s)=>{"use strict";s.d(t,{Y:()=>I});var n=s(32735),i=s(60216),r=s.n(i);const a=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M4.286 11.643a.5.5 0 01.492.41l.008.09v5a.5.5 0 01-.992.09l-.008-.09v-5a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M7.143 2.357c-1 0-1.8.146-2.418.393-.398.16-.656.331-.793.468a.5.5 0 00-.146.353v8.572a.5.5 0 00.788.41l.065-.057c.042-.042.186-.138.457-.246.498-.199 1.171-.321 2.047-.321.701 0 1.23.124 2.194.491l1 .391c1.058.402 1.674.546 2.52.546 1 0 1.8-.145 2.418-.393.398-.16.656-.331.793-.468a.5.5 0 00.146-.353V3.57a.5.5 0 00-.788-.409l-.065.056c-.042.042-.186.138-.457.246-.498.2-1.171.322-2.047.322-.701 0-1.23-.125-2.194-.492l-1-.391c-1.058-.402-1.674-.546-2.52-.546zm0 1c.755 0 1.31.144 2.424.58l.247.099c1.396.558 2.067.75 3.043.75l.326-.006c.743-.024 1.366-.134 1.879-.309l.151-.056v7.474l-.029.017a2.714 2.714 0 01-.28.13c-.498.199-1.171.321-2.047.321-.755 0-1.31-.144-2.424-.58l-.247-.098c-1.396-.559-2.067-.75-3.043-.75l-.326.005c-.743.025-1.366.134-1.879.309l-.153.055V3.824l.03-.016c.072-.039.165-.083.281-.13.498-.198 1.171-.32 2.047-.32z"})))}));var o=s(71263),l=s(78684),c=s(14971),d=s(51205),h=s(14956),u=s(86130),p=s(65698),m=s(35093),g=s(16847),f=s(99442),y=s(28576),v=s(79199),b=s(63402),E=s(81197),C=s(71906),w=s(55015),k=s(40280),_=s(95192),M=s(67085),S=s(23005);class T extends n.Component{constructor(...e){super(...e),this.state={topics:null}}componentDidMount(){this.leo=streets.service("leo"),this.reader=streets.service("reader"),this._updateInfo()}componentWillUnmount(){this.leo=null,this.reader=null}render(){const{topics:e}=this.state,{entry:t}=this.props;return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(k.H2,{appearance:"h1"},t.getTitle()),e?this._renderTable():n.createElement(S.g,null)))}_renderTable(){const{topics:e}=this.state;return n.createElement(C._$,{data:e,uniqueKey:"id"},n.createElement(C.hN,{header:"Topic",cell:({details:e,label:t})=>n.createElement(C.aH,null,n.createElement(k.H3,{className:"m-t-0 m-b-h",style:{display:"flex"}},n.createElement(M.Z,{importance:"secondary"}),t),e&&e.items&&n.createElement(n.Fragment,null,Object.keys(e.items).map((t=>n.createElement(w.A,{className:"m-r-2 m-b-h"},t,":"," ",e.items[t].map(((t,s)=>s===e.items.length-1?t:t+" | ")))))),e&&e.customTokens&&n.createElement(n.Fragment,null,Object.keys(e.customTokens).map((t=>n.createElement(w.A,{className:"m-r-2 m-b-h"},"Custom token:"," ",e.customTokens[t].map(((t,s)=>s===e.customTokens.length-1?t:t+" | ")))))))}),n.createElement(C.hN,{header:"Salience",cell:({details:e})=>n.createElement(C.aH,null,!!e&&e.salienceLevel)}),n.createElement(C.hN,{header:"Score",cell:({details:e})=>n.createElement(C.aH,null,!!e&&n.createElement(n.Fragment,null,n.createElement("div",null,Math.round(100*e.score)/100),e.threshold&&n.createElement(_.x,{className:"m-t-t",size:"smaller",tagName:"div"},"> ",e.threshold)))}))}async _updateInfo(){const{entry:e}=this.props,t=await this.reader.askLookupRawEntryJson(e.getId()),s=await this.leo.askCommonTopicDebugInfo(t);this.setState({topics:s.predictions[0].topics})}}T.propTypes={entry:r().shape({getId:r().func,getTitle:r().func}).isRequired};class I extends n.Component{constructor(...e){super(...e),this._renderDebug=()=>{const e=u.Z.utils.SessionUtils.load(),{part:t}=this.props;return(0,p.xT)(t.id)&&(e&&e.sudoSession||"feedly"===streets.getEnterpriseId())?n.createElement(y.sN,{onClick:this._onOpenTopicInspector},n.createElement(o.Z,{importance:"secondary"}),"Debug Topic"):null},this._onMuteClick=()=>{const{streamId:e,part:t}=this.props;this.feedly.slideForm(E.K,{initialFilter:{streamId:e,term:t}})},this._onFeedbackClick=async()=>{const{part:e,entry:t,onClose:s}=this.props;s();try{await this.leo.askSaveFeedback(t.getId(),e.id,-1,"entityMenu"),this.signs.showMessage("Feedback collected")}catch(n){console.error("Failed to submit feedback",e,n)}},this._onOpenTopicInspector=()=>{const{entry:e}=this.props;this.feedly.slideForm(T,{entry:e})},this._onPrioritizeClick=()=>{const{streamId:e,part:t}=this.props;this.feedly.slideForm(b.qR,{initialPriority:{layers:[{[f.y9.matches]:[t],type:f.ur.matches}],streamIds:e?[e]:[]}})},this._onSearchClick=()=>{const{part:{label:e}}=this.props;streets.service("sliderService").addSlide(e,"searchResult")},this._onViewOnMitreClick=()=>{const{part:{knowledgeBaseUrl:e}}=this.props;window.open(e,"_blank")}}componentDidMount(){this.feedly=streets.service("feedly"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.leo=streets.service("leo")}componentWillUnmount(){this.feedly=null,this.reader=null,this.signs=null,this.leo=null}render(){const{part:{id:e,knowledgeBaseUrl:t,label:s,type:i}}=this.props;return n.createElement(y.v2,null,n.createElement(y.sN,{onClick:this._onPrioritizeClick},n.createElement(l.Z,{importance:"secondary"}),"Prioritize"),n.createElement(y.sN,{onClick:this._onMuteClick},n.createElement(c.Z,{importance:"secondary"}),"Mute"),n.createElement(y.sN,{onClick:this._onSearchClick},n.createElement(d.Z,{importance:"secondary"}),"Search"),t&&i===m.KI&&n.createElement(y.sN,{onClick:this._onViewOnMitreClick},n.createElement(h.Z,{importance:"secondary"}),"View on MITRE"),n.createElement(y.sN,{onClick:this._onFeedbackClick},n.createElement(a,{importance:"secondary"}),n.createElement("div",{className:"LeoEntityMenu__feedback-label"},(0,p.xT)(e)?"Not About ":"Wrong ",n.createElement("strong",null,(0,g.Fb)(s)))),this._renderDebug())}}I.propTypes={entry:v.A.isRequired,onClose:r().func.isRequired,part:r().shape({id:r().string,knowledgeBaseUrl:r().string,label:r().string,type:r().string}).isRequired,streamId:r().string},I.defaultProps={streamId:""}},42610:(e,t,s)=>{"use strict";s.d(t,{E:()=>d});var n=s(32735),i=s(60216),r=s.n(i),a=s(35093),o=s(65698),l=s(16847),c=s(99175);class d extends n.Component{render(){const{children:e,position:t,targetParentElement:s}=this.props;return n.createElement(c.d,{animateClass:"animateFadeIn",content:n.createElement(n.Fragment,null,n.createElement("div",{className:"LeoItemExplanationTipsy__tipsy-title"},this._getTitle()),n.createElement("div",{className:"LeoItemExplanationTipsy__tipsy-message"},this._renderMessage())),position:t,targetParentElement:s,tipClass:"LeoItemExplanationTipsy"},e)}_renderExamples(e){return n.createElement("div",{className:"LeoItemExplanationTipsy__examples"},e.map((e=>n.createElement("span",{key:e,className:"LeoItemExplanationTipsy__example"},e))))}_renderMessage(){const{item:{aliases:e,id:t,label:s,leoBehaviorExamples:i=[],leoBehaviorExplanation:r,text:a}}=this.props;if(r&&i.length)return n.createElement(n.Fragment,null,r,this._renderExamples(i));if(r)return r;if((0,o.xT)(t)||(0,o.jP)(t))return`Leo understands how to recognize articles about ${s}. He'll be looking for thousands of different terms related to that topic.`;if((0,o.ft)(t)){let t=e||[];return t.length>6&&(t=e.slice(0,6).concat([e.length-6+" more"])),n.createElement(n.Fragment,null,"Leo will be looking for:",this._renderExamples([s,...t]))}return(0,o.Sr)(a)?"Leo will be searching for this domain pattern in the URL of articles":`Leo will be searching for exact matches of the keyword "${a}"`}_getTitle(){const{item:{description:e,id:t,text:s}}=this.props;let n;return n=(0,o.xT)(t)?e||a.m3.topic:(0,o.ft)(t)?e||a.m3.entity:(0,o.jP)(t)?e||a.m3.businessEvent:(0,o.Sr)(s)?a.m3.domain:a.m3.keyword,(0,l.kC)(n)}}d.propTypes={children:r().node.isRequired,item:r().shape({aliases:r().arrayOf(r().string),description:r().string,id:r().string,label:r().string,leoBehaviorExamples:r().arrayOf(r().string),leoBehaviorExplanation:r().string,text:r().string,type:r().string}).isRequired,position:r().oneOf(["bottom","left","top","right"]),targetParentElement:r().bool},d.defaultProps={position:void 0,targetParentElement:!1}},41528:(e,t,s)=>{"use strict";s.d(t,{D:()=>l});var n=s(60216),i=s.n(n),r=s(32735),a=s(57993),o=s(56295);function l({feature:e,limit:t,planType:s,type:n}){return n===o.oj?r.createElement(r.Fragment,null,"You're following the"," ",r.createElement("b",{className:"color-primary"},"maximum of ",t," personal ",e)," ","and"," ",r.createElement("b",{className:"color-primary"},t," team ",e," "),"on the ",s," plan. Consider upgrading to follow more."):r.createElement(r.Fragment,null,n===a.s.personal?"You're following ":"Your team is using ","the"," ",r.createElement("b",{className:"color-primary"},"maximum of ",t," ",e)," ","on the ",s," plan. Consider upgrading to follow more.")}l.propTypes={feature:i().string.isRequired,limit:i().number.isRequired,planType:i().string.isRequired,type:i().string.isRequired}},85581:(e,t,s)=>{"use strict";s.d(t,{M:()=>u});var n=s(32735),i=s(60216),r=s.n(i),a=s(45800),o=s(40841),l=s.n(o),c=s(3167),d=s(99348);class h extends n.Component{constructor(...e){super(...e),this.state={messageIndex:0},this._timer=()=>{const{interval:e,messages:t}=this.props,{messageIndex:s}=this.state;let n;n=s<t.length-1?s+1:t.length-1,this.setState({messageIndex:n},(()=>{this.intervalId=setTimeout(this._timer,e)}))}}componentDidMount(){const{interval:e}=this.props;this.intervalId=setTimeout(this._timer,e)}componentWillUnmount(){clearTimeout(this.intervalId),this.intervalId=null}render(){const{className:e,messages:t}=this.props,{messageIndex:s}=this.state;return n.createElement("span",{className:l()("LoadingMessages",e)},t[s])}}function u({className:e,description:t,header:s,illustration:i,interval:r,layout:o,messages:u,progress:p}){return n.createElement("div",{className:l()("LeoProgressBar",{"m-l-3":o===c.Ar.titleOnly},e)},n.createElement(d.ub,{description:t,header:s,illustration:i}),n.createElement(a.Progress,{className:"LeoProgressBar__progress",percent:p,theme:{active:{color:"#2bb24c"}}}),u.length>0&&n.createElement(h,{className:"LeoProgressBar__messages",interval:r,messages:u}))}h.propTypes={className:r().string,interval:r().number,messages:r().arrayOf(r().string)},h.defaultProps={className:"",interval:1e3,messages:[]},u.propTypes={className:r().string,description:r().oneOfType([r().string,r().element]),header:r().string,illustration:r().string,interval:r().number,layout:r().string,messages:r().arrayOf(r().string),progress:r().number.isRequired},u.defaultProps={className:void 0,description:null,header:void 0,illustration:void 0,interval:2e3,layout:"4",messages:[]}},5665:(e,t,s)=>{"use strict";s.d(t,{Q:()=>v});var n=s(45750),i=s.n(n),r=s(32735),a=s(60216),o=s.n(a),l=s(35093),c=s(855),d=s(16847),h=s(65698),u=s(28576),p=s(39970),m=s(97090),g=s(42610);const f=Object.freeze({author:"author",site:"site",title:"title"}),y=Object.freeze({author:"name of",site:"domain of",title:"word or phrase in"});class v extends r.Component{constructor(e){super(e),this._renderMenuItem=e=>{const{tipsyPosition:t}=this.props,{parsedFilterTerm:s}=this.state,n=(0,h.FW)(e),i=l.XA[n],a=e.description||l.gQ[e.type]||l.gQ.smartTopic;let{label:o}=e;const c=(0,h.S_)(s,e);return c&&-1===e.label.toLowerCase().indexOf(s.toLowerCase())&&(o+=` (Alias: ${c})`),(s||this.props.searchHint)&&r.createElement(u.sN,{key:`${e.id}${e.label}`,onClick:()=>{this._onSelectEntity(e)}},r.createElement(g.E,{item:e,position:t},r.createElement("div",{className:"LeoTopicPicker__menu-item"},r.createElement(i,{importance:"secondary"}),r.createElement("div",{className:"LeoTopicPicker__menu-item-content"},r.createElement("span",{className:"LeoTopicPicker__menu-item-label",title:e.label},r.createElement(p.L,{firstOccurance:!0,text:o,words:s,wordClassName:"autocomplete-bold",wrapper:"span"})),r.createElement("p",{className:"m-a-0 LeoTopicPicker__menu-item-description"},a)))))},this._renderPhraseMenuItem=e=>{const{tipsyPosition:t}=this.props,{searchPrefix:s,text:n}=e;if(this.state.keywordHint)return r.createElement(u.sN,{key:n,disabled:!0},n);const i=l.XA.customKeyword;return r.createElement(u.sN,{key:s?`${s+n}`:`${n}-phrase`,onClick:()=>{this._onSelectEntity(s?{text:`${s}:${n}`}:e)}},r.createElement(g.E,{item:e,position:t},r.createElement("div",{className:"LeoTopicPicker__menu-item"},r.createElement(i,{importance:"secondary"}),r.createElement("div",{className:"LeoTopicPicker__menu-item-content"},r.createElement("span",{className:"LeoTopicPicker__menu-item-label autocomplete-bold",title:n},n),r.createElement("p",{className:"m-a-0 LeoTopicPicker__menu-item-description"},s||"keyword"," match")))))},this._organizeItems=()=>{const{initialSuggestions:e,searchHint:t}=this.props,{items:s,filterTerm:n,isLoadingInitial:i,parsedFilterTerm:r,keywordHint:a,searchPrefix:o}=this.state;let l=n&&n.length>0||t?s:e;if(!i&&n&&!a){const e=this._getPhraseKeywords(),t=l[0]&&r.toLowerCase()===(0,d.Nh)(l[0].label).toLowerCase();l=[...l],o||!t&&!(0,h.lA)(r,l[0])?l=[...e,...l]:l.splice(1,0,e[0])}return l},this._onFilterTermChange=e=>{let t="#"===e[0]?e.substr(1):e;t=t.replace(/["]+/g,"");const{searchPrefix:s,searchSuffix:n}=this._splitByPrefix(t);s&&(t=n?n.trim():""),this.setState({filterTerm:e,parsedFilterTerm:t,searchPrefix:s},(()=>{this._askUpdateEntities(t)}))},this._onSelectEntity=e=>{this.setState({items:[],filterTerm:"",parsedFilterTerm:""}),this.props.onSelect(e)},this._askUpdateEntities=i()(this._askUpdateEntities,100),this.state={isLoadingInitial:!0,filterTerm:"",keywordHint:"",items:[],parsedFilterTerm:"",searchPrefix:""}}componentDidMount(){this.leo=streets.service("leo"),this.signs=streets.service("signs"),this.props.initialQuery?this._onFilterTermChange(this.props.initialQuery):this.props.searchHint&&this._updateTopicSuggestions()}componentWillUnmount(){this.leo=null,this.signs=null,this._askUpdateEntities.cancel(),this._askUpdateEntities=null}render(){const{filterTerm:e}=this.state,t=this._organizeItems();return r.createElement("div",{className:"LeoTopicPicker"},r.createElement(u.PA,{menuItems:t.map((e=>e.text?this._renderPhraseMenuItem(e):this._renderMenuItem(e))),onChange:this._onFilterTermChange,value:e}))}_getKeywordHint(e,t){const s={text:""},n=e.includes(" AND "),i=e.includes(" NOT "),r=e.includes(" OR ");return!e&&t&&(s.text=`Enter the ${y[t]} the ${t} you want to ${this.props.isPriority?"prioritize":"mute"}`),n||i||r?(this.props.isPriority&&(n||i||r)?s.text=l.a3.priorities:s.text=!n||i||r?!i||n||r?!r||n||i?l.a3.multiple:l.a3.OR:l.a3.NOT:l.a3.AND,s):s}_getPhraseKeywords(){const{parsedFilterTerm:e,filterTerm:t,searchPrefix:s}=this.state;return s&&(t.includes(s)||t.includes((0,d.kC)(s)))?[{text:e,searchPrefix:s}]:s?[{text:e,searchPrefix:s},{text:e}]:[{text:e}]}_splitByPrefix(e){let t=e.length>0?(0,d.dQ)(e):e,s="";const n=(0,c.Th)(t);return n||0===t.indexOf("site:")?s=f.site:0===t.indexOf("author:")?s=f.author:0===t.indexOf("title:")&&(s=f.title),s&&!n&&(t=t.split(`${s}:`)[1]),{searchPrefix:s,searchSuffix:t}}async _updateTopicSuggestions(){const{searchHint:e,selectedParts:t}=this.props;this.setState({isLoadingInitial:!0});try{const s=await this.leo.askTopicSuggestions(e,t);this.setState({isLoadingInitial:!1,items:s||[]})}catch(s){this.setState({isLoadingInitial:!1})}}async _askUpdateEntities(e){const{searchPrefix:t}=this.state;if(!e&&!t)return void this.setState({items:[],isLoadingInitial:!0});const s=this._getKeywordHint(e,t);if(s.text)this.setState({items:[s],keywordHint:s.text});else try{const s=t?null:await this.leo.askAutocompleteParts(e);if(e!==this.state.parsedFilterTerm)return;this.setState({isLoadingInitial:!1,items:s||[],keywordHint:""})}catch(n){streets.service("signs").setDefaultErrorMessage(n)}}}v.propTypes={initialQuery:o().string,initialSuggestions:o().arrayOf(m.l),isPriority:o().bool,onSelect:o().func,selectedParts:o().arrayOf(o().object),searchHint:o().string,tipsyPosition:o().string},v.defaultProps={initialQuery:"",initialSuggestions:[],isPriority:!1,onSelect:()=>{},selectedParts:[],searchHint:"",tipsyPosition:"right"}},23005:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a);const l=({className:e,details:t,hideMessage:s,prefix:n})=>{let i;return i=t?`${n} ${t}...`:`${n}...`,r.createElement("div",{className:o()("message loading",e)},s?"":i)};l.propTypes={className:i().string,details:i().string,prefix:i().string,hideMessage:i().bool},l.defaultProps={className:"",details:"",hideMessage:!1,prefix:"Loading"}},3562:(e,t,s)=>{"use strict";s.d(t,{U:()=>m});var n=s(60216),i=s.n(n),r=s(32735),a=s(40280),o=s(66149),l=s(19577),c=s(47264),d=s(71906),h=s(23633);class u extends r.Component{render(){const{onRemoveClick:e,users:t,usersLoading:s}=this.props;return t.length?r.createElement(d._$,{data:t.map((e=>({userId:e.userId,user:e}))),flexLayout:!0,uniqueKey:"userId"},r.createElement(d.hN,{header:"Name",cell:({user:e})=>r.createElement(d.aH,null,r.createElement(h.n,{user:e}))}),r.createElement(d.hN,{header:"Actions",cell:({user:t,userId:n})=>r.createElement(d.aH,null,r.createElement(c.zx,{disabled:!!s[n],icon:r.createElement(l.Z,{importance:"tertiary"}),importance:"secondary",label:"Remove",loading:!!s[n],onClick:()=>{e(t)}})),width:142})):null}}u.propTypes={onRemoveClick:n.PropTypes.func,users:n.PropTypes.arrayOf(n.PropTypes.object),usersLoading:n.PropTypes.objectOf(n.PropTypes.bool)},u.defaultProps={onRemoveClick:()=>{},users:[],usersLoading:{}};var p=s(74221);class m extends r.Component{constructor(e){super(e),this._onAddMemberButtonClick=()=>{this.setState((({isAddMemberMenuOpen:e})=>({isAddMemberMenuOpen:!e})))},this._onCloseMemberMenu=()=>{this.setState({isAddMemberMenuOpen:!1})},this._onRemoveUserClick=async e=>{const{streamId:t}=this.state,s=this._getService(t);this.setState((({isUserIdDeleting:t})=>({isUserIdDeleting:{...t,[e.userId]:!0}})));try{await s.askUnsubscribeUser(t,e.userId),this.signs.showMessage(`${e.name} removed`)}catch(n){this.signs.setDefaultErrorMessage(n)}};const{streamInfo:t,streamInfo:{id:s,label:n,users:i}}=this.props;this.state={isAddMemberMenuOpen:!1,label:n,streamId:s,streamInfo:t,users:i,isUserIdDeleting:{}}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisecollections.registerObserver(this),this.enterprisetags=streets.service("enterprisetags"),this.enterprisetags.registerObserver(this),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags.unregisterObserver(this),this.enterprisetags=null,this.signs=null}onCollectionChanged(e){const{streamId:t}=this.state;e===t&&this._updateUsers()}onTagChanged(e){const{streamId:t}=this.state;e===t&&this._updateUsers()}render(){const{label:e,isAddMemberMenuOpen:t,streamId:s,streamInfo:n,users:i,isUserIdDeleting:l}=this.state,{isCategory:c}=(0,p.Yg)(s);return r.createElement("div",{className:"m-y-2"},r.createElement("div",{className:"container-flex"},r.createElement("div",null,r.createElement(a.H3,{appearance:"h2",className:"m-a-0",sub:`Add and remove members from the '${e}' ${c?"feed":"board"}.`},"Members")),r.createElement("div",{className:"col-no-flex"},r.createElement(o.u,{buttonStyle:"primary",feed:n,isOpen:t,onButtonClick:this._onAddMemberButtonClick,onCloseMenu:this._onCloseMemberMenu}))),i?r.createElement(u,{onRemoveClick:this._onRemoveUserClick,users:i,usersLoading:l}):null)}_getService(e){const{isCategory:t}=(0,p.Yg)(e);return t?this.enterprisecollections:this.enterprisetags}async _updateUsers(){const{streamId:e}=this.state,t=this._getService(e),{users:s}=await t.askMetadata(e),n=s.reduce(((e,{id:t})=>(e[t]=!0,e)),{});this.setState((({isUserIdDeleting:e})=>({isUserIdDeleting:Object.keys(e).reduce(((e,t)=>(n[t]&&(e[t]=!0),e)),{}),users:s})))}}m.propTypes={streamInfo:i().shape({id:i().string,users:i().arrayOf(i().object)}).isRequired}},98705:(e,t,s)=>{"use strict";s.d(t,{R:()=>u});var n=s(60216),i=s.n(n),r=s(32735),a=s(18193),o=s(95192),l=s(99166),c=s(66709),d=s(28906),h=s(23005);class u extends r.Component{constructor(...e){super(...e),this.state={referenceEntry:null,memeEntries:[],error:"",isLoading:!0,sortingOrder:a.q.popularity},this._onSortChange=e=>{const{memeEntries:t}=this.state;this.setState({memeEntries:this._sortMemeEntries(t,e),sortingOrder:e})}}UNSAFE_componentWillMount(){streets.service("analytics").trackLeoEvent("memeAnalysis","show",this.props.memeId),this.reader=streets.service("reader"),this.feedly=streets.service("feedly"),this.meme=streets.service("meme")}componentDidMount(){this._updateReferenceEntry()}componentWillUnmount(){this.reader=null,this.feedly=null,this.meme=null}render(){const{error:e,isLoading:t}=this.state;return t?r.createElement(h.g,{details:"trend analysis"}):e?r.createElement(o.x,{className:"error"},e):r.createElement("div",null,this._renderReferenceEntry(),this._renderMemeEntries())}_renderReferenceEntry(){const{referenceEntry:e}=this.state;return r.createElement(c.kS,{entryId:e.getId(),layout:"uFeatured",hideAuthor:!0})}_renderMemeEntries(){const{memeEntries:e,sortingOrder:t}=this.state;return e&&0!==e.length?r.createElement("section",null,r.createElement(l.P,{borderless:!0,className:"m-b-1",items:Object.values(a.q),labelKey:"label",onItemSelect:this._onSortChange,prefix:"Sorting by",size:"small",value:t.label}),r.createElement(d.f,{entries:e,hasAllEntries:!0,showSourceTitle:!0,hideMeme:!0,hideRelatedEntries:!0,endOfFeedLabel:""})):r.createElement("p",null,"This meme does not have any entries at the moment.")}_sortMemeEntries(e,t){const{sortDirection:s,getter:n}=t;return e.sort(((e,t)=>"asc"===s?e[n]()-t[n]():t[n]()-e[n]())).slice(0)}async _updateReferenceEntry(){try{const{memeId:e}=this.props;this.setState({isLoading:!0});const t=await this.meme.askReferenceEntry(e);this.setState({isLoading:!1,referenceEntry:t,memeEntries:this._sortMemeEntries(t.listMemeEntries().slice(0),a.q.popularity)})}catch(e){this.setState({error:`Could not get meme: ${e.message}`})}}}u.propTypes={memeId:i().string.isRequired,onDone:i().func},u.defaultProps={onDone:null}},83362:(e,t,s)=>{"use strict";s.d(t,{r:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(98705);const o=({memeId:e})=>n.createElement("div",{className:"fx"},n.createElement("div",{className:"container center"},n.createElement(a.R,{memeId:e})));o.propTypes={memeId:r().string.isRequired}},18078:(e,t,s)=>{"use strict";s.d(t,{U:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a);const l=({className:e,display:t,summary:s})=>{const i=o()("MemeSummary",e,{MemeSummary__list:"list"===t,MemeSummary__paragraph:"paragraph"===t});return"paragraph"===t?n.createElement("p",{className:i},s.join(" ")):"inline"===t?n.createElement("span",{className:"summary"},s.join(" ")):n.createElement("ul",{className:i},s.map((e=>n.createElement("li",{className:"MemeSummary__item",key:`meme-summary-${e}`},e))))};l.propTypes={className:r().string,display:r().oneOf(["list","paragraph","inline"]),summary:r().arrayOf(r().string)},l.defaultProps={className:void 0,display:"list",summary:[]}},94516:(e,t,s)=>{"use strict";s.d(t,{F:()=>c,Y:()=>d});var n=s(60216),i=s.n(n),r=s(32735),a=s(74221),o=s(39201),l=s(6931);class c extends r.Component{constructor(...e){super(...e),this._toggleWebhook=()=>{const{settings:e}=this.props;e.disabled=this._isWebhookEnabled(),this.props.onChange(e)},this._onUrlChange=e=>{const{settings:t}=this.props;t.webhookUrl=e,this.props.onChange(t)}}render(){const e=this._isWebhookEnabled(),t=e?"Webhook activated":"Activate Webhook";return r.createElement("div",{className:"field integration-webhook"},r.createElement("label",null,"Microsoft Teams Notifications",r.createElement("div",{className:"sub"},this._getDescription())),r.createElement(o.r,{isOn:e,label:t,onToggle:this._toggleWebhook}),this._renderForm())}_getDescription(){const{streamId:e}=this.props,{isPriority:t,isTag:s}=(0,a.Yg)(e);return s?"Push articles saved to this board to a Microsoft Teams channel using the Incoming Webhook connector":t?"Send a notification to a Microsoft Teams channel every time a new article is prioritized by Leo, using the Incoming Webhook connector.":"Error: invalid stream ID"}_renderForm(){const{settings:e}=this.props;return e.disabled?null:r.createElement("div",null,r.createElement("label",{className:"secondary",htmlFor:"url"},"Webhook URL:"),r.createElement(l.At,{id:"url",clearable:!0,placeholder:"http://...",value:e.webhookUrl||"",onChange:this._onUrlChange}))}_isWebhookEnabled(){return!this.props.settings.disabled}}const d=i().shape({disabled:i().bool,webhookUrl:i().string});c.propTypes={onChange:i().func.isRequired,settings:d.isRequired,streamId:i().string.isRequired}},90514:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s(60216),i=s.n(n),r=s(32735),a=s(56732),o=s(47264),l=s(40280);class c extends r.Component{render(){const{allowClose:e,onClickOutside:t}=this.props,s=e?t.bind(this):null;return r.createElement("div",{className:"fx"},r.createElement("div",{className:"modal-overlay",onClick:s},this._renderModal()))}_renderModal(){const{information:e,onPrimaryAction:t,onTertiaryAction:s}=this.props,n=[],i=[];return e.badge&&n.push(r.createElement("div",{className:"badge secondary",key:"modal-badge"},e.badge)),e.visual&&n.push(r.createElement(a.Q,{src:devhd.s3(e.visual),className:"modal-visual",key:`illustration-${e.header}`})),e.header&&n.push(r.createElement(l.H2,{className:"modal-notifications__heading",key:"modal-header"},e.header)),e.sub&&n.push(r.createElement("p",{key:"modal-sub"},e.sub)),e.primaryAction&&i.push(r.createElement(o.zx,{key:"modal-action-primary",importance:"primary",label:e.primaryAction,onClick:t.bind(this)})),e.tertiaryAction&&i.push(r.createElement(o.zx,{key:"modal-action-tertiary",importance:"tertiary",label:e.tertiaryAction,onClick:s.bind(this)})),n.push(r.createElement("div",{className:"spotlight-buttons",key:"moodal-actions"},i)),r.createElement("div",{className:"modal-notifications modal-spotlight",onClick:this._onModalClick.bind(this)},n)}_onModalClick(e){e.stopPropagation()}}c.propTypes={allowClose:i().bool,information:i().shape({badge:i().string,header:i().string,primaryAction:i().string,sub:i().string,tertiaryAction:i().string,visual:i().string}).isRequired,onClickOutside:i().func,onPrimaryAction:i().func,onTertiaryAction:i().func},c.defaultProps={allowClose:!1,onClickOutside:()=>{},onPrimaryAction:()=>{},onTertiaryAction:()=>{}}},55024:(e,t,s)=>{"use strict";s.d(t,{lY:()=>c,hX:()=>l,Ed:()=>g,PT:()=>M,cV:()=>T,z8:()=>O,u_:()=>j,_t:()=>U.Z,a5:()=>H,yB:()=>W,Z3:()=>G,IG:()=>te,El:()=>oe,Kd:()=>de,TN:()=>ge});var n=s(60216),i=s.n(n),r=s(32735),a=s(24443),o=s.n(a);class l extends r.Component{constructor(...e){super(...e),this.render=()=>{const{collection:e,collection:{label:t,users:s},onClose:n}=this.props,i=1===s.length&&s[0].userId===streets.getUserId();return r.createElement(T,{title:`Archive ${t} feed`,description:i?"Are you sure you want to archive this team feed?":`Are you sure you want to archive this team feed? This will remove the feed from the Feedly of ${o()("teammate",s.length-1,!0)} who follow${s.length-1==1?"s":""} it`,onSuccess:()=>{this._askArchiveCollection(e)},successLabel:"Archive",onCancel:n,cancelLabel:"No, keep this feed"})},this._askArchiveCollection=async e=>{const{onClose:t}=this.props;try{this.signs.setNextAutoHideDelay(5e3),this.signs.showMessage("Archiving feed..."),await streets.service("enterprisecollections").askArchiveCollection(e.id),this.signs.showMessage("Feed successfully archived!")}catch(s){this.signs.showError("Failed to archive Feed")}t()}}componentDidMount(){this.signs=streets.service("signs")}componentWillUnmount(){this.signs=null}}l.propTypes={collection:i().shape({label:i().string,users:i().array}).isRequired,onClose:i().func.isRequired};class c extends r.Component{constructor(...e){super(...e),this.render=()=>{const{onClose:e,board:t,board:{label:s,users:n}}=this.props,i=1===n.length&&n[0].userId===streets.getUserId();return r.createElement(T,{title:`Archive ${s} board`,description:i?"Are you sure you want to archive this team board?":`Are you sure you want to archive this team board? This will remove the board from the Feedly of ${o()("teammate",n.length-1,!0)} who follow${n.length-1==1?"s":""} it`,onSuccess:()=>{this._askArchiveBoard(t)},successLabel:"Archive",onCancel:e,cancelLabel:"No, keep this board"})}}componentDidMount(){this.signs=streets.service("signs")}componentWillUnmount(){this.signs=null}async _askArchiveBoard(e){const{onClose:t}=this.props;try{this.signs.setNextAutoHideDelay(5e3),this.signs.showMessage("Archiving board..."),await streets.service("enterprisetags").askArchiveTag(e.id),this.signs.showMessage("Board successfully archived!")}catch(s){this.signs.showError("Failed to archive board")}t()}}c.propTypes={board:i().shape({label:i().string,users:i().array}).isRequired,onClose:i().func.isRequired};var d=s(71262);const h=(0,d.Z)((function(e){return r.createElement("svg",Object.assign({width:122,height:20,viewBox:"0 0 122 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"M103.239 15.985h2.554v-7.98h-2.554v7.98zm-13.762-4.974c1.404.502 2.276 1.098 2.276 2.523 0 .862-.297 1.528-.872 1.979-.512.411-1.271.627-2.184.627-1.15 0-2.258-.349-2.851-.688l.306-1.918c.699.409 1.764.729 2.411.729.524 0 .811-.196.811-.535 0-.348-.297-.574-1.189-.892-1.386-.503-2.237-1.097-2.237-2.492 0-.77.276-1.406.809-1.846.514-.42 1.232-.647 2.094-.647 1.22 0 1.915.339 2.345.545l-.307 1.897c-.544-.267-1.146-.565-1.915-.565-.42 0-.656.165-.656.451 0 .339.409.554 1.159.832zm6.126-1.118v3.333c0 .584.215.841.717.841.236 0 .585-.072.739-.112v2c-.276.072-.678.185-1.333.185-.852 0-1.457-.164-1.878-.503-.502-.411-.748-1.077-.748-2.042V9.893h-1.146l.38-1.764.769-.124.315-1.932 2.185-.358v2.29h1.624l-.308 1.888h-1.316zm4.966.912v5.18h-2.544v-7.98h2.227l.152.944c.226-.677.676-1.054 1.394-1.054.154 0 .308.02.483.061v2.35c-.175-.031-.32-.031-.453-.031-.615 0-.941.14-1.259.53zm3.953-3.87c-.75 0-1.344-.606-1.344-1.344 0-.75.594-1.344 1.344-1.344.738 0 1.332.594 1.332 1.344a1.34 1.34 0 01-1.332 1.344zm5.968 2.856c-.144 0-.533.051-.965.502v3.795c.206.103.432.154.688.154.369 0 .687-.205.892-.596.236-.409.35-1.014.35-1.794 0-1.365-.319-2.061-.965-2.061zm.185 6.349c-.36 0-.76-.063-1.15-.185v2.596l-2.542.42V8.005h2.236l.133.8c.605-.645 1.251-.954 1.989-.954.801 0 1.425.288 1.878.872.512.657.769 1.682.769 3.036 0 1.528-.348 2.689-1.037 3.437-.717.78-1.641.944-2.276.944zm7.834-6.566c-.585 0-.893.69-.964 1.828h1.877c-.042-1.128-.339-1.828-.913-1.828zm3.273 3.389h-4.217c.051.521.205.735.472.961.247.215.586.318 1.077.318.82 0 1.549-.185 2.175-.523l.276 1.743c-.636.421-1.64.678-2.727.678-1.18 0-2.094-.309-2.729-.924-.708-.687-1.066-1.764-1.066-3.201 0-2.563 1.343-4.164 3.507-4.164 1.057 0 1.888.37 2.442 1.087.543.708.82 1.87.82 3.142 0 .184-.02.759-.03.883z",fillOpacity:.3}),r.createElement("path",{d:"M25.676 12.223c.027.488.142.884.345 1.19.387.57 1.069.855 2.045.855a3.62 3.62 0 001.196-.188c.695-.242 1.043-.676 1.043-1.3 0-.47-.147-.803-.44-1.003-.297-.195-.761-.365-1.394-.51l-1.166-.263c-.762-.172-1.301-.361-1.617-.568-.547-.36-.82-.897-.82-1.612 0-.773.267-1.408.802-1.904s1.293-.744 2.273-.744c.903 0 1.67.218 2.3.653.631.436.946 1.132.946 2.089h-1.095c-.059-.461-.184-.814-.375-1.06-.356-.45-.96-.674-1.81-.674-.688 0-1.182.144-1.483.433-.301.29-.451.625-.451 1.008 0 .422.175.73.527.926.23.125.752.281 1.564.469l1.207.275c.582.133 1.032.314 1.348.545.547.402.82.986.82 1.752 0 .953-.346 1.635-1.04 2.045-.693.41-1.499.615-2.417.615-1.07 0-1.908-.273-2.513-.82-.606-.543-.903-1.28-.89-2.21h1.095zm10.752-3.326c.418.21.737.48.955.812a2.8 2.8 0 01.422 1.107c.063.29.094.75.094 1.383h-4.6c.02.637.17 1.148.452 1.532.28.385.716.578 1.306.578.551 0 .99-.182 1.319-.545.187-.211.32-.455.398-.733h1.037c-.027.23-.118.488-.272.77a2.74 2.74 0 01-.519.695c-.32.313-.717.524-1.19.633a3.613 3.613 0 01-.86.094 2.643 2.643 0 01-1.987-.853c-.543-.568-.814-1.364-.814-2.388 0-1.007.273-1.826.82-2.455.547-.629 1.262-.943 2.144-.943.446 0 .877.104 1.295.313zm.387 2.464c-.043-.457-.142-.822-.299-1.095-.289-.508-.771-.762-1.447-.762-.484 0-.89.175-1.219.524-.328.35-.502.794-.521 1.333h3.486zm6.267-2.302c.444.343.71.935.8 1.775h-1.025a1.893 1.893 0 00-.428-.964c-.223-.256-.58-.384-1.072-.384-.672 0-1.153.328-1.442.985-.187.425-.28.95-.28 1.576 0 .629.132 1.158.398 1.588.265.43.683.644 1.253.644.438 0 .785-.133 1.04-.401.256-.268.433-.634.53-1.099h1.026c-.117.832-.41 1.44-.879 1.825-.468.385-1.068.578-1.799.578-.82 0-1.474-.3-1.962-.9-.489-.6-.733-1.348-.733-2.247 0-1.101.268-1.959.803-2.572s1.217-.92 2.045-.92c.707 0 1.282.172 1.725.516zm2.652-.334v4.166c0 .32.051.582.153.785.187.375.537.562 1.049.562.734 0 1.234-.328 1.5-.984.144-.352.216-.834.216-1.447V8.725h1.055V15h-.996l.012-.926c-.137.239-.307.44-.51.604-.402.328-.89.492-1.465.492-.894 0-1.504-.299-1.828-.897-.176-.32-.264-.748-.264-1.283V8.725h1.078zm5.392 0h1.002v1.084c.082-.211.283-.468.603-.77a1.565 1.565 0 011.207-.45l.24.024v1.114a1.575 1.575 0 00-.345-.03c-.531 0-.94.171-1.225.513a1.79 1.79 0 00-.428 1.18V15h-1.054V8.725zm7.618.172c.418.21.736.48.955.812a2.8 2.8 0 01.422 1.107c.062.29.093.75.093 1.383h-4.6c.02.637.17 1.148.452 1.532.281.385.717.578 1.306.578.551 0 .99-.182 1.319-.545.187-.211.32-.455.398-.733h1.037c-.027.23-.118.488-.272.77a2.74 2.74 0 01-.519.695c-.32.313-.716.524-1.19.633a3.613 3.613 0 01-.86.094 2.643 2.643 0 01-1.987-.853c-.543-.568-.814-1.364-.814-2.388 0-1.007.273-1.826.82-2.455.547-.629 1.262-.943 2.145-.943.445 0 .877.104 1.295.313zm.386 2.464c-.043-.457-.142-.822-.299-1.095-.289-.508-.771-.762-1.447-.762-.484 0-.89.175-1.219.524-.328.35-.501.794-.521 1.333h3.486zm3.218 2.262c.285.453.742.68 1.37.68.49 0 .89-.21 1.205-.63.314-.42.472-1.023.472-1.808 0-.793-.162-1.38-.487-1.76-.324-.381-.724-.572-1.2-.572-.532 0-.963.203-1.293.61-.33.406-.495 1.003-.495 1.793 0 .671.143 1.234.428 1.687zm2.367-4.705c.187.117.4.322.639.615v-3.17h1.013V15h-.949v-.873c-.246.387-.537.666-.873.838-.336.172-.72.258-1.154.258-.7 0-1.305-.294-1.817-.882-.511-.588-.767-1.37-.767-2.347 0-.914.233-1.706.7-2.376.467-.67 1.134-1.005 2-1.005.481 0 .884.102 1.208.305zm5.949-2.555h1.025v3.123c.23-.3.506-.53.826-.688.32-.158.668-.237 1.043-.237.781 0 1.415.268 1.901.805.487.537.73 1.33.73 2.376 0 .992-.24 1.817-.72 2.473-.481.656-1.147.984-1.999.984-.476 0-.879-.115-1.207-.345-.195-.137-.404-.356-.627-.657V15h-.972V6.363zm4.022 7.225c.283-.453.425-1.05.425-1.793 0-.66-.142-1.207-.425-1.64-.283-.434-.7-.651-1.251-.651-.48 0-.901.178-1.263.533-.361.356-.542.942-.542 1.758 0 .59.075 1.068.223 1.435.277.692.795 1.038 1.553 1.038.57 0 .997-.227 1.28-.68zm6.396-4.863h1.166c-.148.402-.478 1.32-.99 2.754a136.55 136.55 0 01-.961 2.636c-.61 1.602-1.039 2.578-1.289 2.93-.25.351-.68.527-1.29.527a2.53 2.53 0 01-.342-.017 2.708 2.708 0 01-.296-.065v-.96c.184.05.317.081.399.093.082.012.154.018.216.018.196 0 .34-.033.431-.097a.892.892 0 00.232-.237 29.798 29.798 0 00.475-1.125l-2.321-6.457h1.195l1.682 5.109 1.693-5.11z",fillOpacity:.38})),r.createElement("path",{d:"M0 0h20v20H0z"}),r.createElement("path",{d:"M10 4C7.797 4 6 5.797 6 8v1h-.5C4.676 9 4 9.676 4 10.5v5c0 .824.676 1.5 1.5 1.5h9c.824 0 1.5-.676 1.5-1.5v-5c0-.824-.676-1.5-1.5-1.5H14V8c0-2.203-1.797-4-4-4zm0 1c1.664 0 3 1.336 3 3v1H7V8c0-1.664 1.336-3 3-3zm-4.5 5h9c.281 0 .5.219.5.5v5c0 .281-.219.5-.5.5h-9a.494.494 0 01-.5-.5v-5c0-.281.219-.5.5-.5z",fill:"#2BB24C",fillRule:"nonzero"}),r.createElement("circle",{fill:"#2BB24C",cx:10,cy:12,r:1}),r.createElement("path",{d:"M9.5 12.5v2a.5.5 0 101 0v-2a.5.5 0 10-1 0z",fill:"#2BB24C",fillRule:"nonzero"})))}));var u=s(40280),p=s(23005),m=s(6318);function g({buttonLabel:e,description:t,isEnterprise:s,isStripePaymentLoading:n,onClose:i,onUpdateCardInfo:a,updateError:o}){return r.createElement(j,{className:"CardInfoModal",onClose:i},r.createElement("div",{className:"CardInfoModal__form"},r.createElement(u.H2,{className:"CardInfoModal__heading"},"Payment info"),t?r.createElement("p",{className:"CardInfoModal__description"},t):r.createElement(p.g,null),r.createElement(m.Z,{buttonLabel:e,handlePayment:a,isEnterprise:s,isStripePaymentLoading:n,upgradeError:o}),r.createElement(h,{className:"CardInfoModal__stripe-logo"})))}g.propTypes={buttonLabel:i().string,description:i().string,isEnterprise:i().bool,isStripePaymentLoading:i().bool,onClose:i().func.isRequired,onUpdateCardInfo:i().func.isRequired,updateError:i().string},g.defaultProps={buttonLabel:"Submit",description:"",isEnterprise:!1,isStripePaymentLoading:!1,updateError:""};var f=s(40841),y=s.n(f),v=s(19577),b=s(40830),E=s(92316),C=s(4425),w=s(47264),k=s(56732);const _=" modal-open";class M extends r.Component{constructor(e){super(e),this.state={activeSlide:0}}componentDidMount(){document.body.className+=_}componentWillUnmount(){document.body.className=document.body.className.replace(_,"")}render(){const{allowClose:e,onClose:t}=this.props;return r.createElement("div",{className:"fx"},r.createElement("div",{className:"modal-overlay"},e&&r.createElement("button",{className:"modal-close",onClick:t.bind(this)},r.createElement(v.Z,{color:"white",importance:"primary"})),this._renderModal()))}_renderModal(){return r.createElement("div",{className:"modal-notifications"},this._loadCacheImages(),this._renderSlide(),r.createElement("div",{className:"modal-navigation"},this._renderNavigation()))}_renderSlide(){const e=[],t=[],s=this.props.slides[this.state.activeSlide];s.badge&&e.push(r.createElement("div",{className:"badge secondary",key:"modal-badge"},s.badge)),s.visual&&e.push(r.createElement(k.Q,{src:devhd.s3(s.visual),className:"modal-visual",key:`illustration-${s.header}`})),s.header&&t.push(r.createElement(u.H2,{key:"modal-header"},s.header)),s.sub&&t.push(r.createElement("p",{className:"m-b-0",key:"modal-sub"},s.sub)),e.push(r.createElement("div",{className:"modal-content m-b-1",key:"modal-content"},t));const n=y()({item:!0,animate:!!this.state.animateWay,"animate-next":"byTheRight"===this.state.animateWay,"animate-prev":"byTheLeft"===this.state.animateWay});return r.createElement("div",{key:`slide-${this.state.activeSlide}`,onAnimationEnd:e=>{this.state.animateWay&&e.currentTarget.classList.remove("animate")},className:n},e)}_renderNavigation(){const{activeSlide:e}=this.state,t=[],s=[],n=[];for(let i=0;i<this.props.slides.length;i+=1){const t=y()({dots:!0,active:e===i});s.push(r.createElement("span",{key:`dot-${i}`,className:t,role:"button",onClick:this._showSlide.bind(this,i)}))}return t.push(r.createElement("div",{className:"carousel-dots",key:"carousel-dots"},s)),this.props.slides.length>1&&n.push(r.createElement(w.zx,{key:"button-prev",importance:"primary",icon:r.createElement(b.Z,{color:"white"}),disabled:0===e,onClick:this._showSlide.bind(this,e-1)})),this.props.slides.length>1&&e<this.props.slides.length-1&&n.push(r.createElement(w.zx,{key:"button-next",importance:"primary",icon:r.createElement(E.Z,{color:"white"}),onClick:this._showSlide.bind(this,e+1)})),e===this.props.slides.length-1&&n.push(r.createElement(w.zx,{key:"button-end",importance:"primary",icon:r.createElement(C.Z,{color:"white"}),onClick:this._onDone.bind(this)})),t.push(r.createElement("div",{className:"carousel-buttons",key:"carousel-buttons"},n)),t}_onDone(){this.props.onDone("Done")}_showSlide(e){let t="byTheRight";e<this.state.activeSlide&&(t="byTheLeft"),this.setState({activeSlide:e,animateWay:t})}_loadCacheImages(){const{slides:e}=this.props,t=[];return e.forEach((e=>{t.push(r.createElement("img",{src:devhd.s3(e.visual),alt:e.header,key:`cache-image-${e.visual}`}))})),r.createElement("div",{className:"modal-cache-images"},t)}}M.propTypes={allowClose:i().bool,onDone:i().func,onClose:i().func,slides:i().array};const S=({className:e,description:t,isLoading:s,onCancel:n,cancelLabel:i,onSuccess:a,successLabel:o,title:l})=>r.createElement(j,{className:y()("ConfirmationModal",e),onClose:n},r.createElement(u.H2,{appearance:"h3"},l),r.createElement("p",null,t),r.createElement(w.zx,{color:"danger",label:o,loading:s,onClick:a}),r.createElement(w.zx,{label:i,onClick:n,importance:"secondary"}));S.propTypes={className:i().string,description:i().string,isLoading:i().bool,onCancel:i().func,cancelLabel:i().string,onSuccess:i().func,successLabel:i().string,title:i().string},S.defaultProps={className:"",description:void 0,isLoading:!1,onCancel:()=>{},cancelLabel:"No",onSuccess:()=>{},successLabel:"Yes",title:void 0};const T=S;var I=s(88709),N=s(74250),P=s(16847),L=s(94613),x=s(28576),D=s(6931);class O extends r.Component{constructor(e){super(e),this._onCustomFeedbackChange=e=>{this.setState({customFeedbackMessage:e,selectedFeedback:N.O.other})},this._onSelectFeedback=e=>{this.setState({selectedFeedback:e})},this._onSubmitFeedback=async()=>{const{entryId:e,onClose:t,type:s}=this.props,{customFeedbackMessage:n,selectedFeedback:i}=this.state;try{if(i===N.O.notAThreat)await this.leo.askSaveFeedback(e,I.dh,-1,"cybersecurityDashboard");else{const t=`trending${(0,P.kC)(s)}`;this.reader.askSaveEntryFeedback(e,{description:n||i,reason:N.n[t],type:"less-like-this"})}}catch(r){console.error("Failed to submit feedback")}this.signs.showMessage("Feedback collected"),t()};const{type:t}=this.props,s=N.O[`notA${(0,P.kC)(t)}`];this._feedbackOptions=[s,N.O.notCriticalEnough,N.O.duplicate,N.O.tooOld,N.O.other],this.state={customFeedbackMessage:"",selectedFeedback:s}}componentDidMount(){this.leo=streets.service("leo"),this.reader=streets.service("reader"),this.signs=streets.service("signs")}componentWillUnmount(){this.leo=null,this.reader=null,this.signs=null,this._feedbackOptions=null}render(){const{onClose:e}=this.props,{customFeedbackMessage:t,selectedFeedback:s}=this.state;return r.createElement(j,{onClose:e},r.createElement("div",{className:"CybersecurityFeedbackModal__modal-container"},r.createElement("div",{className:"CybersecurityFeedbackModal__header m-b-h"},"Why is this article not relevant?"),r.createElement(x.aV,{name:"feedback",onChange:this._onSelectFeedback,selectedValue:s},this._feedbackOptions.map((e=>r.createElement(L.Y8,{key:e,value:e},r.createElement("span",{className:"CybersecurityFeedbackModal__options"},e))))),r.createElement(D.At,{className:"CybersecurityFeedbackModal__input",value:t,onChange:this._onCustomFeedbackChange}),r.createElement("div",{className:"CybersecurityFeedbackModal__buttons-container m-l-1 m-t-1"},r.createElement(w.zx,{className:"CybersecurityFeedbackModal__selector-button",color:"accent",label:"Submit Feedback",onClick:this._onSubmitFeedback}),r.createElement(w.zx,{className:"CybersecurityFeedbackModal__selector-button",importance:"secondary",label:"Cancel",onClick:e}))))}}O.propTypes={entryId:i().string.isRequired,onClose:i().func.isRequired,type:i().oneOf(Object.values(I.vZ)).isRequired},O.defaultProps={};var A=s(26211),z=s.n(A),R=s(55118);const F=Object.freeze({dark:"dark",darker:"darker"});class j extends r.Component{constructor(e){super(e),this._onModalClick=()=>{this._isInsideClick=!0},this._onModalOverlayClick=()=>{!this._isInsideClick&&this.props.onClose&&this.props.onClose(),this._isInsideClick=null},this._onKeyDown=e=>{const{onClose:t}=this.props;t&&27===e.keyCode&&(e.preventDefault(),t())},this._overlay=r.createRef()}componentDidMount(){this.props.inline||this._preventBackgroundScroll(),this._overlay&&(this._overlay.current.style.opacity=0,window.setTimeout((()=>{this._overlay&&(this._overlay.current.style.opacity=1)}),1))}componentDidUpdate(){this.props.inline?this._allowBackgroundScroll():this._preventBackgroundScroll()}componentWillUnmount(){this._allowBackgroundScroll(),this._isInsideClick=null,this._overlay=null}render(){const{classNameOverlay:e,fading:t,inline:s,overlay:n}=this.props,i=r.createElement("div",{ref:this._overlay,className:y()({"is-fading":t,"is-inline":s,"modal-overlay":!0,darker:n===F.darker,[e]:e}),onClick:this._onModalOverlayClick},this._renderModalBody());return s?i:r.createElement(R.h,{className:"fx modal-container",target:document.body},i)}_renderModalBody(){const{children:e,className:t,inline:s,small:n}=this.props,i=r.createElement("div",{className:y()("modal",t,{"modal--focus-trap":!s,"modal--small":n}),onClick:this._onModalClick,onKeyDown:this._onKeyDown,tabIndex:"-1"},e);return s?i:r.createElement(z(),{focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:!1,fallbackFocus:".modal--focus-trap"}},i)}_allowBackgroundScroll(){this._preventScrollClass&&(document.body.className=document.body.className.replace(this._preventScrollClass,""),this._preventScrollClass=null)}_preventBackgroundScroll(){this._preventScrollClass||(this._preventScrollClass=" modal-open",document.body.className+=this._preventScrollClass)}}j.propTypes={children:i().node,className:i().string,classNameOverlay:i().string,fading:i().bool,inline:i().bool,onClose:i().func,overlay:i().oneOf(Object.keys(F)),small:i().bool},j.defaultProps={children:[],className:void 0,classNameOverlay:void 0,fading:!1,inline:!1,darker:!1,onClose:void 0,overlay:F.dark,small:!1};var U=s(90514);const B=({topics:e,onClose:t})=>r.createElement(j,{className:"PersonalizedTopicModal",onClose:t},r.createElement("button",{className:"modal-close modal-close--inside",onClick:t},r.createElement(v.Z,{importance:"primary"})),e.join(", "));B.propTypes={topics:i().arrayOf(i().string).isRequired,onClose:i().func},B.defaultProps={onClose:()=>{}};const H=B;var Y=s(18089),Z=s(8199);class W extends r.Component{constructor(e){super(e),this.state={isStripePaymentLoading:!1,upgradeError:""}}componentDidMount(){this.analytics=streets.service("analytics"),this.feedly=streets.service("feedly"),this.profile=streets.service("profile"),this.signs=streets.service("signs")}componentWillUnmount(){this.analytics=null,this.feedly=null,this.profile=null,this.signs=null}render(){const{isStripePaymentLoading:e,upgradeError:t}=this.state,{onClose:s,plan:n}=this.props;return r.createElement(j,{className:"ProCheckoutModal",onClose:s,overlay:"dark"},r.createElement("div",{className:"ProCheckoutModal__form"},r.createElement(u.H2,{className:"ProCheckoutModal__heading"},"Upgrade to Feedly Pro"),r.createElement(m.Z,{buttonIcon:r.createElement(Y.Z,{color:"white"}),buttonLabel:"Upgrade Now",isStripePaymentLoading:e,handlePayment:(e,t)=>{this._handleStripePayment(e,t)},upgradeError:t}),r.createElement(h,{className:"ProCheckoutModal__stripe-logo"}),n===Z.ou.monthly?this._renderExplanationMonthly():this._renderExplanationYearly()))}_renderExplanationMonthly(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"ProCheckoutModal__bill-item"},r.createElement("p",{className:"ProCheckoutModal__item-description"},"Feedly Pro monthly"),r.createElement("p",{className:"ProCheckoutModal__price"},"$",Z.Tx.ProStandardMonthly,".00")),r.createElement("p",{className:"ProCheckoutModal__total"},"$",Z.Tx.ProStandardMonthly,".00"))}_renderExplanationYearly(){const{isBlackFriday:e}=this.props;return r.createElement(r.Fragment,null,r.createElement("div",{className:"ProCheckoutModal__bill-item"},r.createElement("p",{className:"ProCheckoutModal__item-description"},"One year of Feedly Pro"),r.createElement("p",{className:"ProCheckoutModal__price ProCheckoutModal__price--striked"},"$",12*Z.Tx.ProStandardMonthly,".00")),r.createElement("div",{className:"ProCheckoutModal__bill-item"},r.createElement("p",{className:"ProCheckoutModal__item-description"},"Yearly discount"),r.createElement("p",{className:"ProCheckoutModal__price"},"(25% off)")),e&&r.createElement("div",{className:"ProCheckoutModal__bill-item"},r.createElement("p",{className:"ProCheckoutModal__item-description"},"Special offer"),r.createElement("p",{className:"ProCheckoutModal__price"},"(30% off)")),r.createElement("p",{className:"ProCheckoutModal__total"},r.createElement(Y.Z,{className:"ProCheckoutModal__gift-icon",color:"accent"})," ","$",this._getPrice(),".00"))}_getPrice(){const{isBlackFriday:e}=this.props;return e?Z.Tx.ProBlackFriday:Z.Tx.ProStandardYearly}_handleStripePayment(e,t){const{analyticsInfo:s,onClose:n,product:i,reportStep:r}=this.props;s.approved&&this.analytics.trackProPageview(s.approved),this.setState({isStripePaymentLoading:!0}),this.signs.showMessage("Upgrading to Pro..."),this.profile.askProUpgrade(i,e,t).then((()=>{s.upgraded&&this.analytics.trackProPageview(s.upgraded),this.feedly.showProWelcomeSpotlight(i),window.setTimeout((()=>{this.feedly.loadPage("support"),n()}),100)})).catch((({errorCode:e,declineCode:t,errorMessage:s})=>{let n;"do_not_honor"===t?n="Payment declined. Please contact your bank to whitelist Feedly Inc.":(n=s,this.signs.showError(s)),r(`error-${e}`,i,"Stripe"),this.setState({isStripePaymentLoading:!1,upgradeError:n})}))}}W.propTypes={analyticsInfo:i().shape({approved:i().string,upgraded:i().string}),isBlackFriday:i().bool,onClose:i().func.isRequired,plan:i().oneOf([Z.ou.monthly,Z.ou.yearly]),product:i().oneOf(Object.values(Z.Sy)),reportStep:i().func},W.defaultProps={analyticsInfo:{},isBlackFriday:!1,plan:Z.ou.yearly,product:Z.Sy.StandardYearly,reportStep:()=>{}};var $=s(62363),q=s(80889),V=s(15859);class G extends r.Component{constructor(e){super(e),this._onUpdateCard=()=>{this.setState({showCardForm:!0})},this.profile=streets.service("profile");const{cardDetails:t,product:s}=this.profile.getUserInfo();this.state={cardDetails:t,isLifetime:(0,q.CM)(s),isStripePaymentLoading:!1,refundAmount:null,showCardForm:!t||(0,$.h6)(t),upgradeError:""}}componentDidMount(){this.analytics=streets.service("analytics"),this.feedly=streets.service("feedly"),this.signs=streets.service("signs"),this._updateProductInfo()}componentWillUnmount(){this.analytics=null,this.feedly=null,this.profile=null,this.signs=null}render(){const{isLifetime:e,isStripePaymentLoading:t,showCardForm:s,upgradeError:n}=this.state,{onClose:i,showLaunchOffer:a}=this.props;let o="Limited Time Feedly Pro+ Offer",l="$99 / first year",c="Upgrade to Pro+";return e?(o="Upgrade to Pro+ Lifetime",l=`$${Z.Tx.ProPlusKickstarter}/lifetime`,c="Get Pro+ Lifetime"):a||(o="Upgrade to Pro+",l=`$${Z.Tx.ProPlusYearly/12} per month billed annually`),r.createElement(j,{className:"ProPlusCheckoutModal",onClose:i,overlay:"dark"},a&&r.createElement("div",{className:"ProPlusCheckoutModal__savings-kicker"},"Save 30%"),r.createElement("div",{className:y()("ProPlusCheckoutModal__hero",{"m-b-h":s})},r.createElement("img",{alt:"Save time with Leo and Pro+",className:"ProPlusCheckoutModal__illustration",src:V}),r.createElement(u.H2,{appearance:"h3",className:"ProPlusCheckoutModal__heading",sub:l},o)),r.createElement("div",{className:"ProPlusCheckoutModal__form"},r.createElement(m.Z,{buttonIcon:r.createElement(Y.Z,null),buttonLabel:c,isStripePaymentLoading:t,handlePayment:(e,t)=>{this._handleStripePayment(e,t)},showAllFields:s,upgradeError:n})),this._renderNotes())}_renderNotes(){const{cardDetails:e,refundAmount:t,showCardForm:s}=this.state;if(s&&!t)return null;const n=r.createElement(C.Z,{className:"ProPlusCheckoutModal__note-icon",importance:"tertiary"});return r.createElement("div",{className:"ProPlusCheckoutModal__notes"},!s&&r.createElement("div",{className:"ProPlusCheckoutModal__note"},n,r.createElement("p",{className:"ProPlusCheckoutModal__note-label"},"Your credit card on file ends with ",e.last4,"."),r.createElement(w.zx,{className:"ProPlusCheckoutModal__card-button",importance:"tertiary",label:"Update card",onClick:this._onUpdateCard})),t&&r.createElement("div",{className:"ProPlusCheckoutModal__note"},n,r.createElement("p",{className:"ProPlusCheckoutModal__note-label"},"You will receive a $",t," Feedly Pro refund")))}_handleStripePayment(e,t){const{analyticsInfo:s,onClose:n,product:i,reportStep:r}=this.props;s.approved&&this.analytics.trackProPageview(s.approved),this.setState({isStripePaymentLoading:!0}),this.signs.showMessage("Upgrading to Pro+..."),this.profile.askProUpgrade(i,e,t).then((()=>{s.upgraded&&this.analytics.trackProPageview(s.upgraded),this.feedly.showProWelcomeSpotlight(i),window.setTimeout((()=>{const e=window.localStorage.getItem("upgradeRedirect.uri");window.localStorage.removeItem("upgradeRedirect.uri"),this.feedly.loadPage(e||"support"),n()}),100)})).catch((({errorCode:e,declineCode:t,errorMessage:s})=>{let n;"do_not_honor"===t?n="Payment declined. Please contact your bank to whitelist Feedly Inc.":(n=s,this.signs.showError(s)),r(`error-${e}`,i,"Stripe"),this.setState({isStripePaymentLoading:!1,upgradeError:n})}))}async _updateProductInfo(){const{product:e}=this.props;if(e===Z.Sy.PlusKickstarter)return;const{availableProducts:t}=await this.profile.askProProducts();if(t){const{refundAmount:s}=t.find((t=>t.product===e));this.setState({refundAmount:s?s/100:null})}}}G.propTypes={analyticsInfo:i().shape({approved:i().string,checkout:i().string,upgraded:i().string}),onClose:i().func.isRequired,plan:i().oneOf([Z.ou.monthly,Z.ou.yearly]),product:i().oneOf(Object.values(Z.Sy)),reportStep:i().func,showLaunchOffer:i().bool.isRequired},G.defaultProps={analyticsInfo:{},plan:Z.ou.yearly,product:Z.Sy.PlusYearly,reportStep:()=>{}};var Q=s(56813),K=s(3167),J=s(95192),X=s(96258),ee=s(8466);class te extends r.Component{constructor(e){super(e),this._onUpdateCard=()=>{this.setState({showCardForm:!0})},this.profile=streets.service("profile");const{cardDetails:t,product:s}=this.profile.getUserInfo();this.state={cardDetails:t,isLifetime:(0,q.CM)(s),isStripePaymentLoading:!1,refundAmount:null,showCardForm:!t||(0,$.h6)(t),upgradeError:""}}componentDidMount(){this.analytics=streets.service("analytics"),this.feedly=streets.service("feedly"),this.signs=streets.service("signs"),this._updateProductInfo()}componentWillUnmount(){this.analytics=null,this.feedly=null,this.profile=null,this.signs=null}render(){const{isLifetime:e,isStripePaymentLoading:t,showCardForm:s,upgradeError:n}=this.state,{onClose:i,showLaunchOffer:a}=this.props;let o="More signal, less noise with Pro+",l=`Upgrade to Pro for $${this._getPrice()}`;return e&&(o="Upgrade to Pro+ Lifetime",l=`Get Pro Lifetime for $${Z.Tx.ProPlusKickstarter}`),r.createElement(j,{className:"ProPlusCheckoutModalSideB",onClose:i,overlay:"dark"},r.createElement("div",{className:"ProPlusCheckoutModalSideB__hero"},a&&r.createElement("div",{className:"ProPlusCheckoutModalSideB__savings-kicker"},"Save 30%"),r.createElement("div",{className:"ProPlusCheckoutModalSideB__hero-content"},r.createElement(u.H2,{className:"ProPlusCheckoutModalSideB__heading"},o),r.createElement("div",{className:"ProPlusCheckoutModalSideB__features"},["Use Leo to filter out the noise","Follow Twitter feeds","Get newsletters delivered to Feedly"].map((e=>r.createElement("div",{className:"ProPlusCheckoutModalSideB__feature",key:e},r.createElement(Q.Z,{color:"accent"}),e)))),r.createElement("div",{className:"ProPlusCheckoutModalSideB__linebreak"}),this._renderPriceInfo()),r.createElement("img",{alt:"Save time with Leo and Pro+",className:"ProPlusCheckoutModalSideB__illustration",src:streets.service("feedly").getTheme()===K.Bd.light?X:ee})),r.createElement("div",{className:"ProPlusCheckoutModalSideB__form"},r.createElement("div",{className:y()({ProPlusCheckoutModalSideB__payment:!s})},r.createElement(m.Z,{buttonIcon:r.createElement(Y.Z,null),buttonLabel:l,fullWidth:!1,isStripePaymentLoading:t,handlePayment:(e,t)=>{this._handleStripePayment(e,t)},showAllFields:s,upgradeError:n})),this._renderNotes()))}_renderNotes(){const{cardDetails:e,isLifetime:t,refundAmount:s,showCardForm:n}=this.state,{showLaunchOffer:i}=this.props,a=r.createElement(Q.Z,{color:"accent"});return r.createElement("div",{className:"ProPlusCheckoutModalSideB__notes"},!n&&r.createElement("div",{className:"ProPlusCheckoutModalSideB__note"},a,"Your credit card on file ends with ",e.last4,".",r.createElement(w.zx,{className:"ProPlusCheckoutModalSideB__card-button",importance:"tertiary",label:"Update card",onClick:this._onUpdateCard})),i&&r.createElement("div",{className:"ProPlusCheckoutModalSideB__note"},a,"$",this._getPrice()," = $",Z.Tx.ProPlusLaunch/12," x first 12 months",s?` - $${s} Pro refund`:""),!i&&!t&&r.createElement("div",{className:"ProPlusCheckoutModalSideB__note"},a,"$",this._getPrice()," = $",Z.Tx.ProPlusYearly/12," x 12 months",s?` - $${s} Pro refund`:""),n&&r.createElement(r.Fragment,null,r.createElement("div",{className:"ProPlusCheckoutModalSideB__note"},a,"Cancel anytime"),r.createElement("div",{className:"ProPlusCheckoutModalSideB__note"},a,"Secured by Stripe")))}_renderPriceInfo(){const{isLifetime:e}=this.state,{showLaunchOffer:t}=this.props,s={color:"accent",size:"small",tagName:"div"};return e?r.createElement(J.x,s,"$",Z.Tx.ProPlusKickstarter," / lifetime"):t?r.createElement(r.Fragment,null,r.createElement(J.x,Object.assign({className:"ProPlusCheckoutModalSideB__original-price"},s,{color:"secondary"}),"$",Z.Tx.ProPlusYearly/12," per month"),r.createElement(J.x,s,"Now $",Z.Tx.ProPlusLaunch/12," per month for your first year")):r.createElement(J.x,s,"$",Z.Tx.ProPlusYearly/12," per month billed annually")}_getPrice(){const{isLifetime:e,refundAmount:t}=this.state,{showLaunchOffer:s}=this.props;let n=Z.Tx.ProPlusLaunch;return s||e||(n=Z.Tx.ProPlusYearly),t&&(n-=t),n}_handleStripePayment(e,t){const{analyticsInfo:s,onClose:n,product:i,reportStep:r}=this.props;s.approved&&this.analytics.trackProPageview(s.approved),this.setState({isStripePaymentLoading:!0}),this.signs.showMessage("Upgrading to Pro+..."),this.profile.askProUpgrade(i,e,t).then((()=>{s.upgraded&&this.analytics.trackProPageview(s.upgraded),this.feedly.showProWelcomeSpotlight(i),window.setTimeout((()=>{const e=window.localStorage.getItem("upgradeRedirect.uri");window.localStorage.removeItem("upgradeRedirect.uri"),this.feedly.loadPage(e||"support"),n()}),100)})).catch((({errorCode:e,declineCode:t,errorMessage:s})=>{let n;"do_not_honor"===t?n="Payment declined. Please contact your bank to whitelist Feedly Inc.":(n=s,this.signs.showError(s)),r(`error-${e}`,i,"Stripe"),this.setState({isStripePaymentLoading:!1,upgradeError:n})}))}async _updateProductInfo(){const{product:e}=this.props;if(e===Z.Sy.PlusKickstarter)return;const{availableProducts:t}=await this.profile.askProProducts();if(t){const{refundAmount:s}=t.find((t=>t.product===e));this.setState({refundAmount:s?s/100:null})}}}te.propTypes={analyticsInfo:i().shape({approved:i().string,checkout:i().string,upgraded:i().string}),onClose:i().func.isRequired,plan:i().oneOf([Z.ou.monthly,Z.ou.yearly]),product:i().oneOf(Object.values(Z.Sy)),reportStep:i().func,showLaunchOffer:i().bool.isRequired},te.defaultProps={analyticsInfo:{},plan:Z.ou.yearly,product:Z.Sy.PlusYearly,reportStep:()=>{}};var se=s(3015),ne=s(3171),ie=s(38084),re=s(58994),ae=s(10649);class oe extends r.Component{constructor(e){super(e),this._handleStripePayment=async(e,t)=>{const{product:s,subscriptionStatus:n}=this.state,{onClose:i}=this.props;if(this.setState({isStripePaymentLoading:!0}),this._isCanceled())try{e&&await this.profile.askUpdateCardInfo(e),await this.profile.askReactivateStripeSubscription(),this.signs.showMessage("Subscription reactivated"),i({closeBanner:!0})}catch(r){this.setState({isStripePaymentLoading:!1,upgradeError:"Something went wrong during reactivation. Please contact pro@feedly.com"}),console.error(`Failed to reactivate subscription: ${r.debugMessage||r.message}`),this.signs.showError("Failed to reactivate subscription")}else if(e&&n!==Z.Ch.unpaid)await this.profile.askUpdateCardInfo(e),this.signs.showMessage("Card info updated"),i({closeBanner:!0});else try{this.signs.showMessage(`Upgrading to ${this._getPlanLabel()}...`),await this.profile.askProUpgrade(s,e,t),i({closeBanner:!0})}catch({errorCode:a,declineCode:o,errorMessage:l}){let e;"do_not_honor"===o?e="Payment declined. Please contact your bank to whitelist Feedly Inc.":(e=l,streets.service("signs").showError(l),console.error(`Upgrade failed: ${JSON.stringify(e)}`)),this.setState({isStripePaymentLoading:!1,upgradeError:e})}},this.feedly=streets.service("feedly"),this.profile=streets.service("profile");const{cardDetails:t,product:s,subscriptionPaymentProvider:n,subscriptionStatus:i}=this.profile.getUserInfo();this.state={cardDetails:t,isStripePaymentLoading:!1,nextChargeDate:null,product:(0,q.Eh)(s),showCardForm:!this._hasValidCard(t)||i===Z.Ch.pastDue,showMonthlyOption:(0,q._Y)(s)&&(0,q.$l)(s),subscriptionPaymentProvider:n,subscriptionStatus:i,theme:this.feedly.getTheme(),upgradeError:""}}componentDidMount(){this.analytics=streets.service("analytics"),this.signs=streets.service("signs"),this._updateNextChargeDate()}componentWillUnmount(){this.analytics=null,this.feedly=null,this.profile=null,this.signs=null}render(){const{subscriptionPaymentProvider:e,subscriptionStatus:t}=this.state,{onClose:s}=this.props;return t!==Z.Ch.unpaid&&e===Z.RI.paypal?r.createElement(j,{className:"ProReactivationModal",onClose:s},r.createElement("p",null,"You've subscribed to Feedly ",this._getPlanLabel()," with PayPal. If you need to reactivate a canceled subscription or manage your payment info, please do so via PayPal."),r.createElement(w.zx,{importance:"secondary",label:"Close",onClick:s})):r.createElement(j,{className:"ProReactivationModal p-a-0",onClose:s},r.createElement("div",{className:"ProReactivationModal__plan-info"},r.createElement(u.H2,{className:"ProReactivationModal__heading"},this._getHeading()),this._renderDescription(),r.createElement("div",{className:"ProReactivationModal__price"},this._renderPrice())),this._renderPaymentForm())}_renderPaymentForm(){const{cardDetails:e,isStripePaymentLoading:t,nextChargeDate:s,showCardForm:n,subscriptionStatus:i,theme:a,upgradeError:o}=this.state,{onClose:l}=this.props;return r.createElement("div",{className:"ProReactivationModal__payment-form form"},r.createElement(u.H3,{className:"ProReactivationModal__heading"},"Payment method"),r.createElement("div",{className:"ProReactivationModal__stripe"},"Powered by",r.createElement("img",{alt:"Stripe logo",className:"ProReactivationModal__stripe-logo",src:a===K.Bd.light?re:ae})),this._hasValidCard(e)&&i!==Z.Ch.pastDue&&r.createElement(L.Ee,{className:y()({"m-b-0":!n}),name:"ProReactivationModal__payment-method",onChange:e=>{this.setState({showCardForm:"newCard"===e})},selectedValue:n?"newCard":"existingCard"},r.createElement(L.Y8,{className:"ProReactivationModal__radio m-b-t",value:"existingCard"},r.createElement(ie.u,e)),r.createElement(L.Y8,{className:"ProReactivationModal__radio",value:"newCard"},"Use a new credit card")),r.createElement(m.Z,{buttonLabel:"Renew Now",isStripePaymentLoading:t,handlePayment:this._handleStripePayment,onCancelClick:l,showAllFields:n,upgradeError:o}),r.createElement(J.x,{className:"ProReactivationModal__cancel-hint",size:"smallish"},this._isCanceled()&&s&&s-Date.now()>0&&`You won't be charged until ${(0,se.p6)(new Date(s),"MMM d, y")}. `,"Cancel anytime"))}_renderDescription(){const{cardDetails:e,nextChargeDate:t,product:s,subscriptionStatus:n}=this.state;if(n===Z.Ch.pastDue)return r.createElement("p",null,"There was an issue with your credit card.",r.createElement("br",null),"Update your payment method to keep using ",this._getPlanLabel(),".");if(this._isCanceled()&&!this._hasValidCard(e)){const e=(0,ne.P8)(t);return r.createElement("p",null,"number"==typeof e&&e>=0?`Your ${this._getPlanLabel()} plan will expire in ${0===e?"less than a day":o()("day",e,!0)}. Update your payment method to keep using ${this._getPlanLabel()}.`:`Your ${this._getPlanLabel()} plan has expired. Update your payment method to renew now and keep using ${this._getPlanLabel()}.`)}return((0,q._Y)(s)?["Add 1,000 sources","Add Notes and Highlights to articles","Save to Evernote, Pocket, OneNote"]:["Use Leo to filter out noisy content","Follow Twitter feeds","Get newsletters delivered to Feedly"]).map((e=>r.createElement("div",{className:"ProReactivationModal__feature",key:e},r.createElement(C.Z,{className:"ProReactivationModal__note-icon",importance:"tertiary"}),r.createElement(J.x,{color:"primary",size:"small",tagName:"span"},e))))}_renderPrice(){const{product:e,showMonthlyOption:t}=this.state,s=(0,q._Y)(e)?Z.Tx.ProStandardYearly:Z.Tx.ProPlusYearly;return t?e===Z.Sy.StandardMonthly?r.createElement(r.Fragment,null,r.createElement(J.x,{color:"primary",size:"small",tagName:"span"},"$",Z.Tx.ProStandardMonthly," per month"," "),r.createElement(J.x,{color:"accent",size:"small",tagName:"span"},""," ",r.createElement(w.Er,{className:"ProReactivationModal__plan-button",importance:"tertiary",onClick:()=>{this.setState({product:Z.Sy.StandardYearly})}},"Switch to annual")," ","and save 25%")):r.createElement(r.Fragment,null,r.createElement(J.x,{color:"primary",size:"small",tagName:"span"},"$",s," per year"," "),r.createElement(J.x,{size:"small",tagName:"span"},"($",s/12," per month)"," "),r.createElement(J.x,{size:"small",tagName:"span"},""," ",r.createElement(w.Er,{className:"ProReactivationModal__plan-button",importance:"tertiary",onClick:()=>{this.setState({product:Z.Sy.StandardMonthly})}},"Switch to monthly"))):r.createElement(r.Fragment,null,r.createElement(J.x,{color:"primary",size:"small",tagName:"span"},"$",s," per year"," "),r.createElement(J.x,{size:"small",tagName:"span"},"($",s/12," per month)"))}_getHeading(){const{cardDetails:e,subscriptionStatus:t}=this.state;return t===Z.Ch.pastDue||this._isCanceled()&&!this._hasValidCard(e)?"Update your payment method":`Renew your ${this._getPlanLabel()} plan`}_getPlanLabel(){const{product:e}=this.state;return(0,q._Y)(e)?"Pro":"Pro+"}_hasValidCard(e){return e&&!(0,$.h6)(e)}_isCanceled(){const{subscriptionStatus:e}=this.state;return e===Z.Ch.canceled||e===Z.Ch.canceledTrial}async _updateNextChargeDate(){const e=await this.profile.askProProducts();this.setState({nextChargeDate:(0,q.B1)(e)})}}oe.propTypes={onClose:i().func.isRequired};var le=s(71466);const ce=(0,d.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M4.613 4.613a.75.75 0 01.976-.073l.084.073 13.714 13.714a.75.75 0 01-.976 1.133l-.084-.073L4.613 5.673a.75.75 0 010-1.06z"}),r.createElement("path",{d:"M18.327 4.613a.75.75 0 011.133.976l-.073.084L5.673 19.387a.75.75 0 01-1.133-.976l.073-.084L18.327 4.613z"})))}));class de extends r.Component{constructor(...e){super(...e),this.state={isModalClosing:!1,isVideoLoaded:!1},this._onCloseModal=()=>{const{onClose:e}=this.props;this.setState({isVideoLoaded:!1,isModalClosing:!0},(()=>{setTimeout((()=>{this.setState({isModalClosing:!1}),e()}),100)}))},this._onLoaded=()=>{this.setState((({isVideoLoaded:e})=>e?null:{isVideoLoaded:!0}))}}render(){const{isModalClosing:e,isVideoLoaded:t}=this.state,{disallowAutoplay:s,showCloseButton:n,vimeoId:i}=this.props,a=y()("VideoModal",{"VideoModal--open":t,"VideoModal--closing":e}),o=y()({"VideoModal__overlay--closing":e,"VideoModal__overlay--text":!0});return r.createElement(j,{className:a,classNameOverlay:o,overlay:"darker",fading:!0,onClose:this._onCloseModal},r.createElement(le.Z,{video:i,paused:s||!t,responsive:!0,showByline:!1,showTitle:!1,showPortrait:!1,onLoaded:this._onLoaded}),n&&r.createElement(w.zx,{className:"VideoModal__close",onClick:this._onCloseModal,importance:"tertiary",icon:r.createElement(ce,{color:"white"})}))}}de.propTypes={disallowAutoplay:i().bool,onClose:i().func,showCloseButton:i().bool,vimeoId:i().string.isRequired},de.defaultProps={disallowAutoplay:!1,onClose:()=>{},showCloseButton:!1};var he=s(42566),ue=s(93023),pe=s(89919),me=s(34039);class ge extends r.Component{constructor(){super(),this.feedly=streets.service("feedly"),this.state={theme:this.feedly.getTheme()}}componentDidMount(){this.preferences=streets.service("preferences"),this.preferences.registerObserver(this)}componentWillUnmount(){this.preferences.unregisterObserver(this),this.feedly=null,this.preferences=null}onPreferenceChanged(e,t){e===K.BF&&this.setState({theme:this.feedly.getTheme()})}render(){const{feature:e,onProPlusUpgradeClick:t,partType:s}=this.props,{theme:n}=this.state,{buttonProps:i,illustration:a,illustrationDark:o,modalInfo:l,sub:c,title:d}=(0,ue.Fd)(e,s),h=i.uri?me.Qj:w.zx,p=e===Z._B.proPlus?t:void 0;return r.createElement(j,{className:"WebAlertUpgradeModal",inline:!0,fading:!0},r.createElement("img",{alt:"The Leo robot holding a magnifying glass over one eye.",src:n===K.Bd.dark?o:a,className:"WebAlertUpgradeModal__illustration illustration"}),r.createElement(u.H2,{className:"WebAlertUpgradeModal__title"},d),r.createElement("p",{className:"WebAlertUpgradeModal__description m-y-0"},c),r.createElement(h,Object.assign({className:"WebAlertUpgradeModal__button",color:he.r.accent,icon:r.createElement(pe.Z,{color:"white"})},i,{onClick:p})))}}ge.propTypes={feature:i().string.isRequired,onProPlusUpgradeClick:i().func,partType:i().string},ge.defaultProps={onProPlusUpgradeClick:void 0,partType:""}},81197:(e,t,s)=>{"use strict";s.d(t,{K:()=>B});var n=s(80556),i=s.n(n),r=s(60216),a=s.n(r),o=s(32735),l=s(5375),c=s(14978),d=s(74296),h=s(92219),u=s(74221),p=s(65698),m=s(35093),g=s(78505),f=s(56295),y=s(57993),v=s(2366),b=s(99442),E=s(84955),C=s(49616),w=s(1542),k=s(47264),_=s(40280),M=s(34039),S=s(99166),T=s(81501),I=s(34313),N=s(46291),P=s(5665),L=s(55024),x=s(42610),D=s(63402),O=s(74812),A=s(28576),z=s(94613),R=s(29724);const F={forever:{label:"Forever",value:void 0},month:{label:"One month",value:"month"},week:{label:"One week",value:"week"},day:{label:"One day",value:"day"}},j=Object.values(F),U=Object.freeze({positive:"create"});class B extends o.Component{constructor(e){super(e),this._renderButtons=()=>{const{isUpdateMode:e,onDone:t}=this.props,{hasPendingChanges:s,isLoading:n,isRestrictedFeature:i,isMaxPersonalFilters:r,isMaxEnterpriseFilters:a,label:l,streamId:c}=this.state,d=r||a,h=[o.createElement(k.zx,{key:"submit",label:e?"update":"create",onClick:this._onUpdateClick,loading:n,disabled:!s||!l||n||i||d}),o.createElement(k.zx,{key:"cancel",label:"Cancel",onClick:t,importance:"secondary"})];return c&&o.createElement(T.Z,{scrollParent:".floatingEntryScroller",target:".time-select"},(({isSticky:t})=>o.createElement(o.Fragment,null,h,t&&o.createElement(I.mU,{actions:h,compact:t,sticky:!0,title:e?"Update Mute Filter":"Create Mute Filter"}))))},this._renderTermSelect=()=>{const{isSaliencePopoverOpen:e,isAddTermPopoverOpen:t,isLoadingEntityInfo:s,label:n,salience:i,streamId:r,term:a}=this.state,{initialPhrase:h}=this.props;let u;return u=n?o.createElement("div",{className:"MuteFilterForm__parts-container"},o.createElement("div",{className:"MuteFilterForm__chip"},o.createElement(x.E,{item:a,position:"left"},o.createElement(D.KA,{isLoadingEntityInfo:s,onChangeMatchType:this._onChangeMatchType,onDeletePart:()=>this._onDeleteTerm(a),part:a,type:b.ur.matches}))),o.createElement("div",{className:"MuteFilterForm__salience-dropdown"},o.createElement(O.X,{align:"right",className:"MuteFilterForm__salience-button",iconAlign:"right",icon:o.createElement(c.Z,{importance:"tertiary"}),importance:"tertiary",isOpen:e,label:i===b.mb.about?"Title":"Everything",menu:o.createElement(A.v2,{className:"p-t-t"},o.createElement(A.NP,null,"Matching"),o.createElement(A.aV,{name:"salience",onChange:this._onSalienceChange,selectedValue:i},o.createElement(z.Y8,{value:b.mb.about},"Title"),o.createElement(z.Y8,{value:b.mb.mention},"Everything"))),onButtonClick:this._onSalienceClick,onCloseMenu:this._onCloseSaliencePopover,title:"Matching"}))):o.createElement(o.Fragment,null,o.createElement(k.zx,{elementRef:this._newTermButton,icon:o.createElement(l.Z,{color:"white"}),importance:"primary",onClick:this._onNewTermClick,label:v.Bk.matches}),t&&o.createElement(N.J,{align:"start",caret:!1,onClose:this._onCloseAddTermPopover,position:"bottom",target:this._newTermButton},o.createElement(P.Q,{initialQuery:h,onSelect:this._onAddTerm}))),r&&o.createElement("div",{className:"field m-b-2"},o.createElement(_.H2,{className:"heading--muted heading--light"},"What would you like Leo to mute?"," ",o.createElement(M.rU,{"data-inlineentryid":"V5M9RbbXAVoQzDcxE5fzmI8FZuGelr7TsG2DPCoJr6M=_16b4d7c317d:599c86:fbb95fc",href:"https://blog.feedly.com/leo-and-mute-filters/",title:"How to use mute filters"},o.createElement(d.Z,{style:{marginBottom:"2px"},importance:"tertiary"}))),u)},this._closeSlider=()=>{this._onCloseConfirmExitModal(),this._resolveExit()},this._isRestrictedEnterpriseFeature=e=>e.enterpriseFeatures&&e.enterpriseFeatures.length&&!streets.isEnterprisePlan(),this._onAddTerm=e=>{this.setState({exampleEntries:null,exampleError:null,isAddTermPopoverOpen:!1,hasPendingChanges:!0,isLoadingExamples:!1,isRestrictedFeature:this._isRestrictedEnterpriseFeature(e),term:e,label:e.text||e.label},this._updateExampleEntries)},this._onChangeMatchType=e=>{this.setState((({term:t})=>({hasPendingChanges:!0,term:{...t,convertToKeyword:e===m.m3.keyword}})),this._updateExampleEntries)},this._onCloseAddTermPopover=()=>{this.setState({isAddTermPopoverOpen:!1})},this._onDeleteTerm=()=>{this.setState({isAddTermPopoverOpen:!0,isRestrictedFeature:!1,label:"",term:{}},this._updateExampleEntries)},this._onNewTermClick=()=>{this.setState({isAddTermPopoverOpen:!0})},this._onStreamChange=({id:e})=>{this.setState({hasPendingChanges:!0,streamId:e},this._updateExampleEntries)},this._onCloseConfirmExitModal=()=>{this.setState({isConfirmExitModalOpen:!1})},this._onCloseSaliencePopover=()=>{this.setState({isSaliencePopoverOpen:!1})},this._onDurationChange=e=>{this.setState({duration:e,hasPendingChanges:!0})},this._onOpenConfirmExitModal=()=>{this.setState({isConfirmExitModalOpen:!0})},this._onSalienceClick=()=>{this.setState((({isSaliencePopoverOpen:e})=>({isSaliencePopoverOpen:!e})))},this._onSalienceChange=e=>{this.setState({hasPendingChanges:!0,isSaliencePopoverOpen:!1,salience:e},this._updateExampleEntries)},this._onUpgradeToTeams=()=>{this.feedly.loadPage("pro/filter-100"),this.props.onDone()},this._onUpdateClick=async()=>{const{id:e,label:t,term:s,streamId:n,duration:i,salience:r}=this.state,{isUpdateMode:a,onDone:o,viaSuggestion:l}=this.props,{isEnterprise:c}=(0,u.Yg)(n),d=n===(0,u.xW)();this.setState({isLoading:!0}),l&&streets.service("suggestions").askSaveSuggestionFeedback({feedback:U.postive,id:l.id});const h={active:!0,duration:i.value,salience:r,streamId:n,term:s.convertToKeyword?{text:s.suggestText||s.label}:s};let p,m;p=d?this.personalmutefilters:c?this.enterprisemutefilters:this.personalmutefilters,m=a?p.askUpdate({id:e,...h}):p.askSave(h);try{await m,this.signs.showMessage(`${t} has been muted.`),this.setState({isLoading:!1,hasPendingChanges:!1},(()=>{this._resolveExit&&this._closeSlider(),o()}))}catch(g){this.setState({isLoading:!1});let e=`There was an error when trying to save ${t}.`;if(g&&g.errorMessage){if(g.errorMessage.startsWith(f.zQ))return void this.setState({isMaxPersonalFilters:!c,isMaxEnterpriseFilters:c});e=g.errorMessage}this.signs.showMessage(e)}},this._updateExampleEntries=async({shouldResetEntries:e=!0}={})=>{const{continuation:t,exampleEntries:s,label:n,salience:i,term:r,streamId:a,streamVersion:o}=this.state;try{if(!n||n.length<2||!a)return void this.setState({exampleEntries:null,isLoadingExamples:!1});this.setState({isLoadingExamples:!0});const[l,c]=e?["",[]]:[t,s],{continuation:d,entries:h}=await this.reader.askMutePreview({salience:i,streamId:a,term:r.convertToKeyword?{text:r.suggestText||r.label}:r},n,g.Xh,l),u=[...c,...h],p=u.length<g.Xh&&!!d;this.setState({continuation:d,exampleEntries:u.slice(0,g.Xh),isLoadingExamples:p,streamVersion:o+1},(()=>{p&&this._updateExampleEntries({shouldResetEntries:!1})}))}catch(l){this.setState({continuation:"",exampleEntries:[],exampleError:l.message,isLoadingExamples:!1,streamVersion:o+1})}},this._id=i()("MuteFilterForm"),this._newTermButton=o.createRef();let{initialFilter:{streamId:t=""}={}}=e;const{initialFilter:{id:s="",label:n,salience:r=b.mb.mention,term:a={}}={},isUpdateMode:h}=e;if(t&&!streets.hasAdminBusinessAccess()){const{isEnterprise:e}=(0,u.Yg)(t);e&&(t="")}let{initialFilter:{duration:p=""}={}}=e;p=p?F[p]:F.forever,this.state={continuation:"",exampleEntries:null,hasPendingChanges:!!n&&!h,id:s,isSaliencePopoverOpen:!1,isAddTermPopoverOpen:!0,isConfirmExitModalOpen:!1,isLoading:!1,isLoadingExamples:!1,isMaxEnterpriseFilters:!1,isMaxPersonalFilters:!1,isRestrictedFeature:!1,exampleError:null,label:n||a.text||a.label,term:a,salience:r,streamId:t,streamVersion:0,duration:p}}componentDidMount(){this.enterprisemutefilters=streets.service("enterprisemutefilters"),this.personalmutefilters=streets.service("personalmutefilters"),this.feedly=streets.service("feedly"),this.signs=streets.service("signs"),this.reader=streets.service("reader"),this.state.label&&(this._updateExampleEntries(),this._updateTermEntityInfo())}componentWillUnmount(){this.enterprisemutefilters=null,this.personalmutefilters=null,this.feedly=null,this.signs=null,this.reader=null,this._newTermButton=null,this._resolveExit=null}askConfirmExit(){const{hasPendingChanges:e}=this.state;return new Promise((t=>{e?(this._resolveExit=t,this._onOpenConfirmExitModal()):t()}))}render(){const{label:e,streamId:t,duration:s}=this.state;return o.createElement("div",{className:"fx"},o.createElement("section",{className:"container630 centered form"},o.createElement("div",{className:"field"},o.createElement(_.H2,{className:"heading--muted heading--light"},"In which feed?"),o.createElement(C.T,{selected:t,onSelect:this._onStreamChange,prefixedCollections:this._allFeedsCollection&&[this._allFeedsCollection],showAll:!0,showPersonal:!0,showTeam:streets.hasAdminBusinessAccess()})),this._renderTermSelect(),t&&e&&o.createElement("div",{className:"field m-b-2"},o.createElement(_.H2,{className:"heading--muted heading--light"},"For how long?"),o.createElement(S.P,{className:"time-select",fullWidth:!0,iconComponent:h.Z,labelKey:"label",onItemSelect:this._onDurationChange,items:j,value:s.label})),this._renderUpgradePrompt(),this._renderButtons(),this._renderExampleEntries(),this._renderConfirmExitModal()))}_renderConfirmExitModal(){const{isConfirmExitModalOpen:e}=this.state,{confirmExitHeaderText:t,confirmExitBodyText:s}=this.props;return e?o.createElement(L.u_,{onClose:this._onCloseConfirmExitModal,small:!0},o.createElement(_.H2,{appearance:"h3"},t),o.createElement("p",null,s),o.createElement(k.zx,{label:"Save Changes",onClick:this._onUpdateClick}),o.createElement(k.zx,{label:"Discard",onClick:this._closeSlider,importance:"secondary"})):null}_renderEnterpriseFeaturePrompt(){const{term:e}=this.state,t=(0,p.Td)(e),s=e.enterpriseFeatures[0],n=o.createElement(o.Fragment,null,t?`The ${t}`:""," ",o.createElement("b",{className:"color-primary"},e.label)," is part of the"," ",E.Jw[s]||E.Jw.Enterprise," ","package.");return o.createElement(R.X_,{description:n,feature:s})}_renderExampleEntries(){const{exampleEntries:e,isLoadingExamples:t,exampleError:s,streamVersion:n}=this.state;if(!t&&!e)return null;let i;return s?i=o.createElement("p",null,"Invalid filter / Error: ",s):(e||t)&&(i=o.createElement(w.c,{entries:e,loading:t,noEntriesText:"No matching articles.",streamVersion:n})),o.createElement("div",{className:"field"},o.createElement(_.H2,{appearance:"h4"},"Preview"),i)}_renderUpgradePrompt(){const{isMaxEnterpriseFilters:e,isMaxPersonalFilters:t,isRestrictedFeature:s}=this.state;return t||e?o.createElement(R.og,{feature:"muteFilters",type:t?y.s.personal:y.s.team}):s?this._renderEnterpriseFeaturePrompt():null}async _updateTermEntityInfo(){const{term:e}=this.state;this.setState({isLoadingEntityInfo:!0});const t=await streets.service("leo").askFullEntitiesInfo([e]);this.setState({isLoadingEntityInfo:!1,isRestrictedFeature:this._isRestrictedEnterpriseFeature(t[0]),term:t[0]})}}B.propTypes={confirmExitHeaderText:a().string,confirmExitBodyText:a().string,initialFilter:a().shape({term:v.qi,streamId:a().string}),initialPhrase:a().string,isUpdateMode:a().bool,onDone:a().func.isRequired,viaSuggestion:a().shape({id:a().string})},B.defaultProps={confirmExitHeaderText:"Save Mute Filter?",confirmExitBodyText:"Do you want to save this mute filter?",initialFilter:void 0,initialPhrase:"",isUpdateMode:!1,viaSuggestion:void 0}},2366:(e,t,s)=>{"use strict";s.d(t,{qi:()=>a,Bk:()=>o,Kv:()=>d,C:()=>h});var n=s(60216),i=s(99442);const r=n.PropTypes.shape({id:n.PropTypes.string.isRequired,label:n.PropTypes.string.isRequired}),a=n.PropTypes.oneOfType([r,n.PropTypes.shape({text:n.PropTypes.string.isRequired})]),o=Object.freeze({matches:"Company, product, or keyword"}),l=n.PropTypes.shape({active:n.PropTypes.bool.isRequired,id:n.PropTypes.string.isRequired,created:n.PropTypes.number,createdBy:n.PropTypes.string,label:n.PropTypes.string.isRequired,streamId:n.PropTypes.string.isRequired,salience:n.PropTypes.oneOf(Object.keys(i.mb)),term:a}),c=n.PropTypes.shape({active:n.PropTypes.bool.isRequired,id:n.PropTypes.string.isRequired,created:n.PropTypes.number,createdBy:n.PropTypes.string,label:n.PropTypes.string.isRequired,searchQuery:n.PropTypes.string.isRequired}),d=n.PropTypes.oneOfType([l,c]),h=50},85131:(e,t,s)=>{"use strict";s.d(t,{H:()=>b});var n=s(60216),i=s.n(n),r=s(32735),a=s(12788),o=s(97418),l=s(25035),c=s(5375),d=s(68681),h=s(38916),u=s(89856),p=s(23005),m=s(46291),g=s(47264),f=s(28576),y=s(6931);let v=null;class b extends r.Component{constructor(e){super(e),this._onClip=(e,t)=>{this._doClipOneNoteEntry(e,t)},this._onCreateAndClip=()=>{const{newSectionName:e}=this.state;e&&this._doClipOneNoteEntry(e,null)},this.state={isLoading:!0,newSectionName:"",sections:null,isCreatingSection:!1}}componentDidMount(){this.analytics=streets.service("analytics"),this.integrations=streets.service("integrations"),this.net=streets.service("net"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this._updateOneNoteSections()}componentWillUnmount(){this.analytics=null,this.integrations=null,this.net=null,this.reader=null,this.signs=null}render(){const{offsetParent:e,onCloseMenu:t,target:s,align:n}=this.props,{isLoading:i,newSectionName:o,sections:d,isCreatingSection:h}=this.state;let u;return u=i?r.createElement(p.g,{className:"m-l-2",details:"OneNote sections"}):r.createElement(r.Fragment,null,d.length>0&&d.map((e=>r.createElement(f.sN,{key:e.id,onClick:()=>{this._onClip(e.name,e.id)}},r.createElement(l.Z,{importance:"tertiary"}),e.name))),h?r.createElement("div",{className:"OneNoteSectionsPopover__form"},r.createElement(y.oi,{className:"OneNoteSectionsPopover__input",value:o,onChange:e=>{this.setState({newSectionName:e})}}),r.createElement(g.zx,{className:"OneNoteSectionsPopover__button",onClick:this._onCreateAndClip,importance:"primary"},"Create")):r.createElement(f.sN,{onClick:()=>{this.setState({isCreatingSection:!0})}},r.createElement(c.Z,{color:"accent"}),"Create new section")),a.createPortal(r.createElement(m.J,{align:n,className:"fx OneNoteSectionsPopover",offsetParent:e,onClose:t,position:"bottom",target:s},r.createElement(f.v2,{className:"OneNoteSectionsPopover__menu",width:300},u)),e)}_updateOneNoteSections(){null==v?this.net.GET("!{cloud}/v3/microsoft/oneNoteSections").then(JSON.parse).then((e=>{e.sort(((e,t)=>e.name.localeCompare(t.name))),e.length>0&&(v=e),this.setState({sections:e,isLoading:!1})})).catch((e=>this.signs.showError(e))):this.setState({sections:v,isLoading:!1})}_doClipOneNoteEntry(e,t){const{entryId:s,imageURL:n,imageTitle:i,selection:r}=this.props;if(null==s)return void this.signs.showMessage("Unknow post");if(null==e)return void this.signs.showMessage("Unknow section");const a={sectionId:t,sectionName:e};null==t&&(v=null);const l=this.reader.lookupEntry(s);null!=n?(a.content=(0,u.w)(n,i,l),a.url=l.getCleanAlternateLink(),a.title=l.getCleanTitle()):null!=r?(a.content=(0,u.F)(r,l),a.url=l.getCleanAlternateLink(),a.title=l.getCleanTitle()):a.entryId=s,this.signs.showMessage("Saving to OneNote..."),this.analytics.trackEvent("sharing","onenote"),this.analytics.trackEntryEvent(l,"share","onenote"),this.net.POST("!{cloud}/v3/microsoft/oneNoteAdd",a).then(JSON.parse).then((e=>{if(this.signs.showMessage("Saved to OneNote"),null==n)try{null!=l&&(l.setDecoration(o.I.oneNote,e.pageUrl||"https://www.onenote.com/notebooks"),l.metadata.oneNote=!0),this.reader.fire("onDecorationChanged",s,o.I.oneNote)}catch(t){this.signs.showError("Failed to save to OneNote: "+t)}this.props.onCloseMenu()})).catch((e=>{v=null,e instanceof d.o&&403===e.errorCode&&this.integrations.connect(h.bK.oneNote),this.signs.showMessage("Oops. Something went wrong. Error:"+e)}))}}b.propTypes={align:m.J.propTypes.align,entryId:i().string.isRequired,imageTitle:i().string,imageURL:i().string,offsetParent:i().instanceOf(Element),onCloseMenu:i().func.isRequired,selection:i().string,target:i().instanceOf(Element)},b.defaultProps={align:"start",imageTitle:void 0,imageURL:void 0,offsetParent:void 0,selection:void 0,target:void 0}},92242:(e,t,s)=>{"use strict";s.d(t,{e:()=>R});var n=s(91815),i=s.n(n),r=s(73400),a=s.n(r),o=s(60216),l=s.n(o),c=s(32735),d=s(24443),h=s.n(d),u=s(85251),p=s(74221),m=s(47264),g=s(55015),f=s(40280),y=s(80556),v=s.n(y),b=s(5375),E=s(6931),C=s(28576);class w extends c.Component{constructor(e){super(e),this._list=c.createRef()}componentDidMount(){this.inputId=v()("ui-InputSuggestionList-input-")}UNSAFE_componentWillReceiveProps(e){e.value!==this.props.value&&this._list.current&&this._list.current.resetSelection()}componentWillUnmount(){this.inputId=null,this._list=null}render(){const{autoFocus:e,children:t,error:s,label:n,onChange:i,placeholder:r,suggestions:a,value:o}=this.props,l=o.toLowerCase(),d=a.reduce(((e,t)=>{const s=t.toLowerCase();return(!o||0===s.indexOf(l)&&s!==l)&&e.push(c.createElement(C.sN,{key:t,onClick:()=>{i(t)}},c.createElement(b.Z,{importance:"tertiary"}),t)),e}),[]);return c.createElement("div",{className:"form"},c.createElement("div",{className:"field"},n&&c.createElement("label",{htmlFor:this.inputId},n),c.createElement(E.At,{autoComplete:"off",autoFocus:e,clearable:!0,error:s,id:this.inputId,onChange:i,placeholder:r,type:"text",value:o})),c.createElement("div",{className:"field"},d.length>0&&c.createElement(C.GX,{deselectable:!0,ref:this._list},c.createElement("label",null,"Suggestions"),d)),t)}}w.propTypes={autoFocus:l().bool,children:l().node,error:l().string,label:l().string,onChange:l().func.isRequired,suggestions:l().arrayOf(l().string),placeholder:l().string,value:l().string},w.defaultProps={autoFocus:!1,children:void 0,error:void 0,label:"",placeholder:void 0,suggestions:[],value:""};var k=s(99348),_=s(23005),M=s(32166),S=s.n(M),T=s(57080);const I=({className:e,hideType:t,isEnterprise:s,onClick:n})=>{let i;return i=t?"New Feed":s?"New Team Feed":"New Personal Feed",c.createElement(m.zx,{className:`${e} p-l-0`,color:"accent",icon:c.createElement(b.Z,{color:"accent"}),importance:"tertiary",label:i,onClick:n})};I.propTypes={className:l().string,hideType:l().bool,isEnterprise:l().bool,onClick:l().func.isRequired},I.defaultProps={className:"",hideType:!1,isEnterprise:!1};const N=I,P=l().shape({id:l().string.isRequired,label:l().string.isRequired}),L="all",x="none",D="some";class O extends c.Component{constructor(e){super(e),this._renderCollectionItem=(e,t,s,n)=>c.createElement(T.X,{key:e.id,checked:t===L,className:"p-y-t",indeterminate:t===D,onChange:s,id:`ui-Checkbox-${e.id}`},e.label,n&&c.createElement("div",{className:"badge small primary m-l-1"},n)),this._renderPersonalCollectionItem=e=>{const{feeds:t,onAddClick:s,onRemoveClick:n}=this.props,i=S()(e.feeds,(({id:e})=>-1!==t.findIndex((t=>e===t.id))?1:0)),r=this._getFeedsIn(i);return this._renderCollectionItem(e,r,(()=>{r===L?n(e):s(e)}))},this._renderTeamCollectionItem=(e,t)=>{const{feeds:s,onTeamAddClick:n,onTeamRemoveClick:i}=this.props,r=S()(e.feeds,(({id:e})=>-1!==s.findIndex((t=>e===t.id))?1:0)),a=this._getFeedsIn(r);return this._renderCollectionItem(e,a,(()=>{a===L?i(e):n(e)}),t)},this._list=c.createRef()}componentDidUpdate(e){const{collections:t=[],currentCollectionIds:s=[],teamCollections:n=[]}=this.props,{collections:i=[],currentCollectionIds:r=[],teamCollections:a=[]}=e;t.length===i.length&&s.length===r.length&&n.length===a.length||!this._list.current||this._list.current.resetSelection()}componentWillUnmount(){this._list=null}render(){const{collections:e,currentCollectionIds:t,feeds:s,onCreateClick:n,onTeamCreateClick:i,teamCollections:r,uncategorizedId:a}=this.props,o=t.reduce(((e,t)=>(e[t]=!0,e)),{});if(s&&e&&r){if(!e.length&&!r.length)return c.createElement("p",{className:"hint"},"Organize the sources you want to follow into feeds");let t=e.reduce(((e,t)=>{if(t.id!==a){const s=this._renderPersonalCollectionItem(t);o[t.id]?e.initiallyIn.push(s):e.notInitiallyIn.push(s)}return e}),{initiallyIn:[],notInitiallyIn:[]});r&&(t=r.reduce(((e,t)=>(o[t.id]?e.initiallyIn.push(this._renderTeamCollectionItem(t,"Team")):e.notInitiallyInTeam.push(this._renderTeamCollectionItem(t)),e)),Object.assign(t,{notInitiallyInTeam:[]})));const{initiallyIn:s,notInitiallyIn:l,notInitiallyInTeam:d=[]}=t,h=d.length>0||!!i;return c.createElement("div",{className:"m-b-2"},s.length>0&&c.createElement(f.H3,{appearance:"h4",className:"m-b-h",key:"addedInTitle"},"Added In"),s,c.createElement(f.H3,{appearance:"h4",className:"m-b-h",key:"personalTitle"},"Personal Feeds"),l,c.createElement(N,{hideType:!h,onClick:n}),h&&[c.createElement(f.H3,{appearance:"h4",className:"m-b-h",key:"teamTitle"},"Team Feeds"),...d,c.createElement(N,{key:"teamFeedsCreate",isEnterprise:!0,onClick:i})])}return c.createElement(_.g,{details:"collections"})}_getFeedsIn(e){const{feeds:t}=this.props;return e===t.length?L:0===e?x:D}}O.propTypes={collections:l().arrayOf(P),currentCollectionIds:l().arrayOf(l().string),feeds:l().arrayOf(l().object),onAddClick:l().func.isRequired,onCreateClick:l().func.isRequired,onRemoveClick:l().func.isRequired,onTeamAddClick:l().func,onTeamCreateClick:l().func,onTeamRemoveClick:l().func,teamCollections:l().arrayOf(P),uncategorizedId:l().string.isRequired},O.defaultProps={collections:void 0,currentCollectionIds:[],feeds:void 0,onTeamAddClick:()=>{},onTeamCreateClick:void 0,onTeamRemoveClick:()=>{},teamCollections:void 0};var A=s(15813);const z=/["<>?&/\\^]/;class R extends c.Component{constructor(e){super(e),this._onChangeModeToCreate=()=>{this._updateLimitInfo(),this.setState({isCreateMode:!0,isCreateModeLoading:!0,newCollectionName:""})},this._onChangeModeToList=()=>{this.setState({isCreateMode:!1,isTeamCreateMode:!1})},this._onChangeModeToTeamCreate=()=>{this.setState({isTeamCreateMode:!0,newCollectionName:""})},this._onFeedChipClick=e=>{this.setState((({feeds:t})=>({feeds:t.length>1?t.filter((t=>t!==e)):t})))},this._onCollectionAddClick=e=>{this.setState((({addCollections:t,feeds:s,collections:n,removeCollections:i})=>({addCollections:[...t,e],collections:this._mockAddFeeds(n,e,s),removeCollections:this._without(i,e)})))},this._onCollectionRemoveClick=e=>{this.setState((({addCollections:t,collections:s,feeds:n,newCollections:i,removeCollections:r})=>{const a=s.findIndex((({id:t})=>t===e.id));if(a>-1){const i=[...s];return i.splice(a,1,this.collections.mockRemoveFeeds(e,n)),{addCollections:this._without(t,e),collections:i,removeCollections:[...r,e]}}return{newTeamCollections:this._without(i,e)}}))},this._onCreateClick=()=>{this.setState((({feeds:e,newCollections:t,newCollectionName:s})=>({isCreateMode:!1,newCollections:[...t,this.collections.mockAddFeeds({id:(0,p.P2)("category",s,streets.getUserId()),label:s},e)]})))},this._onMoreSourcesClick=()=>{this.setState({isShowingAllFeeds:!0})},this._onNewCollectionNameChange=e=>{this.setState({newCollectionError:z.test(e)?'Avoid using ", <, >, ?, &, /, \\, or ':"",newCollectionName:e})},this._onSave=async()=>{const{onDone:e}=this.props;let{feeds:t}=this.state;this.setState({isSaving:!0}),t=t.map((({id:e,title:t})=>({id:e,title:t})));try{await this._askSavePersonalCollections(t),await this._askSaveTeamCollections(t),this.setState({isSaving:!1},e)}catch(s){this.signs.showError(`Failed to update feeds: ${s.message}`),this.setState({isSaving:!1})}},this._onTeamCollectionAddClick=e=>{this.setState((({addTeamCollections:t,feeds:s,removeTeamCollections:n,teamCollections:i})=>({addTeamCollections:[...t,e],removeTeamCollections:this._without(n,e),teamCollections:this._mockAddFeeds(i,e,s)})))},this._onTeamCollectionRemoveClick=e=>{this.setState((({addTeamCollections:t,feeds:s,newTeamCollections:n,removeTeamCollections:i,teamCollections:r})=>{const a=r.findIndex((({id:t})=>t===e.id));if(a>-1){const n=[...r];return n.splice(a,1,this.collections.mockRemoveFeeds(e,s)),{addTeamCollections:this._without(t,e),removeTeamCollections:[...i,e],teamCollections:n}}return{newTeamCollections:this._without(n,e)}}))},this._onTeamCreateClick=()=>{this.setState((({feeds:e,newCollectionName:t,newTeamCollections:s})=>({isTeamCreateMode:!1,newTeamCollections:[...s,this.collections.mockAddFeeds({id:`enterprise/${streets.getEnterpriseId()}/category/${t}`,label:t},e)]})))};const{initialCollections:t=[],initialFeeds:s,initialTeamCollections:n}=e;this._uncategorizedId=(0,p.wN)();const i=[...t,...n||[]].reduce(((e,t)=>(s.some((({id:e})=>t.feeds.some((t=>e===t.id))))&&e.push(t.id),e)),[]);this.state={addCollections:[],addTeamCollections:[],collections:t,newCollections:[],newTeamCollections:[],feeds:s,initialCollectionsInAFeed:i,isCreateMode:!1,isCreateModeLoading:!1,isTeamCreateMode:!1,isUpgradeNeeded:!1,isSaving:!1,newCollectionError:"",newCollectionName:"",removeCollections:[],removeTeamCollections:[],teamCollections:n}}componentDidMount(){this.collections=streets.service("collections"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections=streets.service("enterprisecollections"),this.signs=streets.service("signs")}componentWillUnmount(){this.collections=null,this.personalcollections=null,this.enterprisecollections=null,this.signs=null,this._uncategorizedId=null}render(){const{isCreateMode:e,isTeamCreateMode:t}=this.state;return c.createElement("div",{className:"fx organize-feeds-form"},e||t?this._renderCreateMode():this._renderListMode())}_renderCreateMode(){const{isCreateModeLoading:e,isTeamCreateMode:t}=this.state;return c.createElement("section",{className:"organize-feeds-form--create container630"},c.createElement(f.H2,{appearance:"h1"},`Create New ${t?"Team":""} Feed`),e?c.createElement(_.g,null):this._renderCreateBody())}_renderCreateBody(){const{feeds:e,isTeamCreateMode:t,isUpgradeNeeded:s,newCollectionError:n,newCollectionName:r}=this.state;if(s)return c.createElement(k.Ym,null);let o=e.reduce(((e,{topics:t=[]})=>e.concat(t)),[]);return o=i()(o).slice(0,5).map((e=>a()(e))),c.createElement(w,{autoFocus:!0,error:n,label:"Name",onChange:this._onNewCollectionNameChange,placeholder:`e.g. ${o[0]||"Design Systems"}`,suggestions:o,value:r},c.createElement(m.zx,{disabled:!!n||!r,label:"Create",onClick:t?this._onTeamCreateClick:this._onCreateClick}),c.createElement(m.zx,{label:"Cancel",onClick:this._onChangeModeToList,importance:"secondary"}))}_renderListMode(){const{onDone:e,title:t}=this.props,{feeds:s,initialCollectionsInAFeed:n,isSaving:i,isShowingAllFeeds:r,newCollections:a,newTeamCollections:o}=this.state;let{collections:l,teamCollections:d}=this.state;const p=r?s:s.slice(0,3);return a.length&&(l=[...l,...a],(0,u.zy)(l)),o.length&&(d=[...d,...o],(0,u.zy)(d)),c.createElement("div",{className:"organize-feeds-form--edit"},c.createElement("div",{className:"organize-feeds-form--edit--body"},c.createElement("div",{className:"container630 form"},c.createElement(f.H2,{appearance:"h1"},t),c.createElement("div",{className:"field"},c.createElement("span",{className:"label"},"You've selected ",h()("source",s.length,!0)),c.createElement(g.j,null,p.map((e=>c.createElement(g.A,{key:e.id,deletable:s.length>1,onClick:()=>{this._onFeedChipClick(e)}},c.createElement(A.t,{alt:e.title,url:e.favicon}),e.title)))),!r&&s.length>3&&c.createElement(m.zx,{className:"organize-feeds-form--edit--more",importance:"tertiary",label:`and ${s.length-3} more`,onClick:this._onMoreSourcesClick})),c.createElement(O,{currentCollectionIds:n,collections:l,feeds:s,onAddClick:this._onCollectionAddClick,onCreateClick:this._onChangeModeToCreate,onRemoveClick:this._onCollectionRemoveClick,onTeamAddClick:this._onTeamCollectionAddClick,onTeamCreateClick:d?this._onChangeModeToTeamCreate:void 0,onTeamRemoveClick:this._onTeamCollectionRemoveClick,teamCollections:d||[],uncategorizedId:this._uncategorizedId}))),c.createElement("div",{className:"organize-feeds-form--edit--footer"},c.createElement("div",{className:"container630"},c.createElement(m.zx,{disabled:i,label:"Save",loading:i,onClick:this._onSave}),c.createElement(m.zx,{importance:"secondary",label:"Cancel",onClick:e}))))}_mockAddFeeds(e,t,s){const n=[...e],i=n.findIndex((({id:e})=>e===t.id));return n.splice(i,1,this.collections.mockAddFeeds(t,s)),n}async _askSavePersonalCollections(e){const{addCollections:t,newCollections:s,removeCollections:n}=this.state;for(let i=0;i<t.length;i+=1){const s=t[i];await this.personalcollections.askAddFeeds(s.id,e)}for(let i=0;i<s.length;i+=1){const t=s[i];await this.personalcollections.askSave({feeds:e,label:t.label})}for(let i=0;i<n.length;i+=1){const t=n[i];await this.personalcollections.askRemoveFeeds(t.id,e.map((e=>e.id)))}}async _askSaveTeamCollections(e){const{addTeamCollections:t,newTeamCollections:s,removeTeamCollections:n}=this.state;for(let i=0;i<t.length;i+=1){const s=t[i];await this.enterprisecollections.askAddFeeds(s.id,e)}for(let i=0;i<s.length;i+=1){const t=s[i];await this.enterprisecollections.askSave({feeds:e,label:t.label})}for(let i=0;i<n.length;i+=1){const t=n[i];await this.enterprisecollections.askRemoveFeeds(t.id,e.map((e=>e.id)))}}async _updateLimitInfo(){const e=await this.personalcollections.askIsUpgradeNeededToCreate();this.setState({isCreateModeLoading:!1,isUpgradeNeeded:e})}_without(e,t){const s=e.findIndex((({id:e})=>e===t.id));if(s>-1){const t=[...e];return t.splice(s,1),t}return e}}R.propTypes={initialFeeds:O.propTypes.feeds,initialCollections:O.propTypes.collections,initialTeamCollections:O.propTypes.collections,onDone:l().func.isRequired,title:l().string},R.defaultProps={initialCollections:void 0,initialFeeds:[],initialTeamCollections:void 0,title:"Reorganize Selected Sources"}},3287:(e,t,s)=>{"use strict";s.d(t,{X:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(40280),o=s(34039);function l({className:e,href:t,title:s}){let i=n.createElement("div",null,n.createElement("div",{className:"PdfPreview__visual item-image"}),n.createElement("div",null,n.createElement("div",{className:"item-header"},s),n.createElement("div",{className:"item-meta"},"PDF")));return t&&(i=n.createElement(o.rU,{className:"PdfPreview__link",href:t,newWindow:!0},i)),n.createElement("div",{className:`PdfPreview ${e}`},n.createElement(a.H3,{className:"PdfPreview__heading"},"Link"),i)}l.propTypes={className:r().string,href:r().string,title:r().string},l.defaultProps={className:"",href:null,title:""}},10324:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s(98978),i=s.n(n),r=s(86330),a=s.n(r),o=s(60216),l=s.n(o),c=s(32735),d=s(74221),h=s(57993),u=s(28576);class p extends c.Component{constructor(e){super(e),this._onFilterTermChange=e=>{this.setState({filterTerm:e}),this.props.onFilterChange(e)},this.state={filterTerm:"",personalCollections:[],subscribedEnterpriseCollections:[],unsubscribedEnterpriseCollections:[]}}componentDidMount(){this.collections=streets.service("collections"),this.feeds=streets.service("feeds"),this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),this._updateEnterpriseCollections(),this._updatePersonalCollections()}componentDidUpdate(e){e.feedId!==this.props.feedId&&(this._updateEnterpriseCollections(),this._updatePersonalCollections())}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.collections=null,this.enterprisecollections=null,this.feeds=null,this.personalcollections=null}onCollectionsChanged(){this._updateEnterpriseCollections()}onFeedChanged(e){e===this.props.feedId&&this._updatePersonalCollections()}render(){const{subscribedEnterpriseCollections:e,unsubscribedEnterpriseCollections:t,filterTerm:s,personalCollections:n}=this.state,i=this._renderFilteredEnterpriseCollections(e),r=this._renderFilteredEnterpriseCollections(t),a=this._renderFilteredPersonalCollections();return n.length||e.length||t.length?c.createElement(u.PA,{hint:i.length+a.length+r.length===0?"No feeds found.":"",menuItems:this._renderMenuItems(i,r,a),onChange:this._onFilterTermChange,value:s}):c.createElement(u.v2,{width:300},c.createElement("p",{className:"hint p-x-2"},"Organize the sources you want to follow into feeds"))}_renderFilteredEnterpriseCollections(e){let{filterTerm:t}=this.state;const{feedId:s}=this.props;if(!e||!e.length)return[];let n=[...e];return t&&(t=t.toLowerCase(),n=a()(n,(({label:e})=>e.toLowerCase().includes(t))),n=i()(n,(({label:e})=>e.toLowerCase().indexOf(t)))),n.map((e=>{const t=e.containsFeed(s);return this._renderMenuItem(e,"team-collection",t,(()=>{this._onSelectEnterpriseCollection(e,t)}))}))}_renderFilteredPersonalCollections(){let{filterTerm:e}=this.state;const{hasFavorite:t,personalCollections:s=[],subscribedFeedsCount:n}=this.state,{feedId:r}=this.props;if(!s.length)return[];let o=[...s];return!t&&n>=7&&o.unshift({containsFeed:()=>!1,id:(0,d.Mc)(),isGlobalMust:!0,label:"Favorites"}),e&&(e=e.toLowerCase(),o=a()(o,(({label:t})=>t.toLowerCase().includes(e))),o=i()(o,(({label:t})=>t.toLowerCase().indexOf(e)))),o.map((e=>{const t=e.containsFeed(r);return this._renderMenuItem(e,e.isGlobalMust?"favorite":"collection",t,(()=>{this._onSelectPersonalCollection(e,t)}))}))}_renderMenuItem(e,t,s,n){return c.createElement(u.AW,{key:e.id,highlightedText:this.state.filterTerm,label:e.label,onClick:n,selected:s,type:t})}_renderMenuItems(e,t,s){const n=[];return e.length&&n.push(c.createElement(u.NP,{key:"teamDivider"},"Team Feeds")),n.push(...e),s.length&&streets.hasBusinessAccess()&&n.push(c.createElement(u.NP,{key:"personalDivider"},"Personal Feeds")),n.push(...s),t.length&&n.push(c.createElement(u.NP,{key:"unsubbedDivider"},"Team Feeds You Do Not Follow")),n.push(...t),n}async _onSelectEnterpriseCollection(e,t){const{feedId:s,feeds:n,feedTitle:i,onClose:r,onSelect:a,onSourceFollowed:o,onUpdateError:l,scheme:c}=this.props;a(e);try{if(n)await this.enterprisecollections.askAddFeeds(e.id,n.map((({id:e,title:t})=>({id:e,title:t}))));else if(t)await this.enterprisecollections.askRemoveFeed(e.id,s);else if(s){s.indexOf("news.google.")>-1&&streets.service("checklist").askMarkTaskAsComplete("follow-google-news"),streets.service("checklist").askMarkTaskAsComplete("share-sources");let t=i;if(!t){const e=await this.feeds.askMetadata(s);if(!e)throw new Error("The provided feed could not be found");t=e.title}await this.enterprisecollections.askAddFeed(e.id,{id:s,scheme:c,title:t}),o(s,e),r()}}catch(d){l(d,h.s.team)}}async _onSelectPersonalCollection(e,t){const{feedId:s,feeds:n,feedTitle:i,onClose:r,onSelect:a,onSourceFollowed:o,onUpdateError:l,scheme:c}=this.props;a(e);try{if(n)await this.personalcollections.askAddFeeds(e.id,n.map((({id:e,title:t})=>({id:e,title:t}))));else if(t)await this.personalcollections.askRemoveFeed(e.id,s);else if(s){let t=i;if(!t){const e=await this.feeds.askMetadata(s);if(!e)throw new Error("The provided feed could not be found");t=e.title}await this.personalcollections.askAddFeed(e.id,{id:s,scheme:c,title:t}),o(s,e),r()}}catch(d){l(d,h.s.personal)}}async _updateEnterpriseCollections(){if(streets.isUserAdmin())try{const[e,t]=await Promise.all([this.enterprisecollections.askListSubscribedCollections(),this.enterprisecollections.askListNonSubscribedCollections()]);this.setState({subscribedEnterpriseCollections:e,unsubscribedEnterpriseCollections:t})}catch(e){this.props.onUpdateError(e)}else this.setState({enterpriseCollections:[]})}async _updatePersonalCollections(){const[e,t]=await Promise.all([this.personalcollections.askListCollections(),this.personalcollections.askListAllFeeds()]),s=e.find((e=>e.isGlobalMust));this.setState({hasFavorite:!!s,personalCollections:e.slice(0),subscribedFeedsCount:t.length})}}p.propTypes={feedId:l().string,feeds:l().arrayOf(l().shape({id:l().string,title:l().string})),feedTitle:l().string,onClose:l().func,onSelect:l().func,onSourceFollowed:l().func,onUpdateError:l().func,onFilterChange:l().func.isRequired,scheme:l().string},p.defaultProps={feedId:null,feeds:null,feedTitle:"",onClose:()=>{},onSelect:()=>{},onSourceFollowed:()=>{},onUpdateError:()=>{},scheme:""}},25305:(e,t,s)=>{"use strict";s.d(t,{r6:()=>h,hD:()=>B,FV:()=>P,vj:()=>C});s(10324);var n=s(60216),i=s.n(n),r=s(32735),a=s(40280),o=s(34039),l=s(99166),c=s(94613);const d=["Text only (no image)","Text and featured image"];class h extends r.Component{constructor(...e){super(...e),this._updateTemplate=e=>{const t=e!==d[0];this.props.onChangeTemplate(t)},this._updateSubject=e=>{this.props.onChangeSubject(e)}}render(){return r.createElement("div",{className:"picker-email"},r.createElement(a.H3,{appearance:"h2"},"Appearance"),this._renderSubjectPicker(),this._renderTemplatesPicker(),r.createElement("div",{className:"hint"},r.createElement(o.rU,{"data-inlineentryid":"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15ce6ad3025:33284a6:5b78a817",href:"https://blog.feedly.com/newsletter-templates"},"See samples")))}_renderTemplatesPicker(){const{includeImages:e}=this.props;return r.createElement("div",null,r.createElement("label",{htmlFor:"select-template"},r.createElement("div",{className:"sub"},"Template")),r.createElement("div",{className:"template-picker"},r.createElement(l.P,{fullWidth:!0,onItemSelect:this._updateTemplate,items:d,value:e?d[1]:d[0]})))}_renderSubjectPicker(){const{streamInfo:e,subjectTemplate:t}=this.props;return r.createElement("div",null,r.createElement("label",{htmlFor:"select-subject"},r.createElement("div",{className:"sub"},"Subject")),r.createElement(c.Ee,{name:"radio-subject",onChange:this._updateSubject,selectedValue:t},r.createElement(c.Y8,{value:"NameAndDate"},e.label," Newsletter // [Date]"),r.createElement(c.Y8,{value:"FirstArticleTitle"},"Title of the first article")))}}h.propTypes={isTag:i().bool,includeImages:i().bool,subjectTemplate:i().string,streamInfo:i().object.isRequired,onChangeTemplate:i().func.isRequired,onChangeSubject:i().func.isRequired},h.defaultProps={isTag:!1,includeImages:!0,subjectTemplate:"NameAndDate"};var u=s(86205),p=s.n(u),m=s(80556),g=s.n(m),f=s(99717),y=s.n(f),v=s(3015),b=s(57080),E=s(20647);class C extends r.Component{constructor(e){super(e),this._updateDay=e=>{const{daysOfWeek:t,hourOfDay:s,onChange:n}=this.props;n(t.indexOf(e)>-1?p()(t,e):[...t,e],s)},this._updateHour=e=>{const{onChange:t,daysOfWeek:s,hourOfDay:n}=this.props,{meridiem:i}=(0,v.cc)(n);t(s,(0,v.EO)(parseInt(e),i))},this._updateMeridiem=e=>{const{daysOfWeek:t,hourOfDay:s,onChange:n}=this.props,{hour:i}=(0,v.cc)(s);n(t,(0,v.EO)(i,e))},this._ids={day:g()("SchedulePicker"),time:g()("SchedulePicker")}}componentWillUnmount(){this._ids=null}render(){const{daysOfWeek:e,hourOfDay:t,timezone:s}=this.props,{hour:n,meridiem:i}=(0,v.cc)(t);return r.createElement("div",{className:"pickerschedule"},r.createElement(a.H3,{appearance:"h2"},"Schedule"),r.createElement("label",{htmlFor:this._ids.day},r.createElement("div",{className:"sub"},"On specific days:")),r.createElement("div",{className:"list-days"},E.Z.days.map(((t,s)=>r.createElement(b.X,{checked:e.indexOf(t)>-1,className:"m-r-3",id:0===s?this._ids.day:null,key:`day-${t}`,onChange:()=>{this._updateDay(t)}},t.substring(0,3))))),r.createElement("label",{htmlFor:this._ids.time},r.createElement("div",{className:"sub"},"At a specific time:")),r.createElement("div",{className:"time-picker"},r.createElement(l.P,{id:this._ids.time,fullWidth:!0,onItemSelect:this._updateHour,items:E.Z.hours,value:`${n<10?"0":""}${n}`}),r.createElement(l.P,{fullWidth:!0,onItemSelect:this._updateMeridiem,items:["AM","PM"],value:i}),r.createElement("p",{className:"form-info"},r.createElement("b",null,s)," timezone")))}}C.propTypes={daysOfWeek:i().arrayOf(i().oneOf(E.Z.days)),hourOfDay:i().oneOf(y()(24)),timezone:i().string,onChange:i().func.isRequired},C.defaultProps={daysOfWeek:[],hourOfDay:10,timezone:""};var w=s(98978),k=s.n(w),_=s(43913),M=s.n(_),S=s(74221),T=s(28576);const I="board",N="team-board";class P extends r.Component{constructor(e){super(e),this._onFilterTextChange=e=>{this.setState({filterText:e},this._updateFilteredTags),this.props.onFilterChange(e)},this._personalTags=[],this._subscribedEnterpriseTags=[],this._unsubscribedEnterpriseTags=[],this.state={followedEntryTags:[],filterText:"",leoSuggestedTag:e.entry.getFirstSuggestedLikeBoard(),loadingTags:{},personalTags:[],readLater:null,subscribedEnterpriseTags:[],unsubscribedEnterpriseTags:[]}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.reader=streets.service("reader"),this.personaltags=streets.service("personaltags"),this.enterprisetags.registerObserver(this),this.reader.registerObserver(this),this._updateFollowedEntryTags(),this._updatePersonalTagList(),this._updateEnterpriseTagList()}componentDidUpdate(e){const{entry:t}=this.props;e.entry!==t&&this.setState({leoSuggestedTag:t.getFirstSuggestedLikeBoard()})}componentWillUnmount(){this.enterprisetags.unregisterObserver(this),this.reader.unregisterObserver(this),this.enterprisetags=null,this.reader=null,this.personaltags=null,this._personalTags=null,this._subscribedEnterpriseTags=null,this._unsubscribedEnterpriseTags=null}onTagsChanged(){this._updateEnterpriseTagList()}onTagChanged(){this._updateEnterpriseTagList()}onNewTagDiscovered(e){e===this.props.entry.getId()&&(this._updateFollowedEntryTags(),this._updatePersonalTagList())}onEntryTagsChanged(e){e===this.props.entry.getId()&&this._updateFollowedEntryTags()}render(){const{filterText:e,personalTags:t,subscribedEnterpriseTags:s,unsubscribedEnterpriseTags:n}=this.state;return r.createElement(T.PA,{hint:t.length+s.length+n.length===0?"No boards found.":"",menuItems:this._renderMenuItems(),onChange:this._onFilterTextChange,placeholder:"Find board",value:e})}_renderMenuItem(e,t,s=!1){const{leoSuggestedTag:n,filterText:i,loadingTags:a}=this.state;return!e||n&&e.id===n.id&&!s?null:r.createElement(T.AW,{key:e.id,highlightedText:i,label:e.label,loading:!!a[e.id],onClick:()=>{this._saveTag(e)},selected:this.props.entry.includesTag(e.id),type:t})}_renderMenuItems(){const{leoSuggestedTag:e,personalTags:t,readLater:s,subscribedEnterpriseTags:n,unsubscribedEnterpriseTags:i}=this.state,a=[];return s&&this._containsFilterText(s)&&a.push(this._renderMenuItem(s,"save-for-later")),e&&a.push(r.createElement(T.NP,{key:"leoDivider"},"Leo Suggestion"),this._renderMenuItem(e,I,!0)),n.length&&a.push(r.createElement(T.NP,{key:"teamDivider"},"Team Boards")),a.push(...n.map((e=>this._renderMenuItem(e,N)))),t.length&&streets.hasBusinessAccess()&&a.push(r.createElement(T.NP,{key:"personalDivider"},"Personal Boards")),a.push(...t.map((e=>this._renderMenuItem(e,I)))),i.length&&a.push(r.createElement(T.NP,{key:"unsubbedDivider"},"Team Boards You Do Not Follow")),a.push(...i.map((e=>this._renderMenuItem(e,N)))),a}_containsFilterText(e){return e.label.toLowerCase().includes(this.state.filterText.toLowerCase())}_getFilteredTags(e){if(!e)return[];e=e.slice(0);const{filterText:t}=this.state;if(!t)return e;const s=e.filter((e=>this._containsFilterText(e)));return k()(s,(({label:e})=>e.toLowerCase().indexOf(t.toLowerCase())))}_isEntryTagged(e){let t=!1;return this.state.followedEntryTags.forEach((s=>{s.id===e&&(t=!0)})),t}_saveTag(e){this._setTagAsLoading(e),this._isEntryTagged(e.id)?this.reader.askUntagEntry(this.props.entry.getId(),e).then((()=>{this._setTagAsNotLoading(e)})).catch((t=>{$feedly("[picker.tag] ignore error",t,streets.service("signs")),this._setTagAsNotLoading(e),streets.service("signs")&&streets.service("signs").showError(t||"Oops! Something went wrong")})):this.reader.askTagEntry(this.props.entry.getId(),e).then((()=>{this._setTagAsNotLoading(e)})).catch((t=>{this._setTagAsNotLoading(e);const s=streets.service("signs");s&&(s.setNextAutoHideDelay(5e3),s.showError(t))}))}_setTagAsLoading(e){const{loadingTags:t}=this.state;if(!t[e.id]){const s=Object.assign(t,{[e.id]:!0});this.setState({loadingTags:s})}}_setTagAsNotLoading(e){const{loadingTags:t}=this.state;if(t[e.id]){const s=Object.assign(t,{[e.id]:!1});this.setState({loadingTags:s})}}async _updateEnterpriseTagList(){const[e,t]=await Promise.all([this.enterprisetags.askListSubscribedTags(),this.enterprisetags.askListNonSubscribedTags()]);this._subscribedEnterpriseTags=e||[],this._unsubscribedEnterpriseTags=t||[],this._updateFilteredTags()}_updateFilteredTags(){const e=this._getFilteredTags(this._personalTags),t=this._getFilteredTags(this._subscribedEnterpriseTags),s=this._getFilteredTags(this._unsubscribedEnterpriseTags);this.setState({personalTags:e,subscribedEnterpriseTags:t,unsubscribedEnterpriseTags:s})}_updateFollowedEntryTags(){this.setState({followedEntryTags:this.props.entry.listTags(!1)})}async _updatePersonalTagList(){const e=await this.personaltags.askListTags({excludeGlobal:this.props.excludeGlobal}),[t]=M()(e,(e=>{const{isReadLater:t}=(0,S.Yg)(e.id);return t}));this._personalTags=e||[],this.setState({readLater:t}),this._updateFilteredTags()}}P.propTypes={entry:i().shape({getFirstSuggestedLikeBoard:i().func,getId:i().func,includesTag:i().func,listTags:i().func}).isRequired,excludeGlobal:i().bool,onFilterChange:i().func.isRequired},P.defaultProps={excludeGlobal:!1};var L=s(81346),x=s.n(L),D=s(16101),O=s(14171);const A=(0,s(71262).Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M9.142 2.017a1.929 1.929 0 011.552-.073l.165.073 5.714 2.857c.608.302 1.009.9 1.063 1.57l.007.156v1.743a.5.5 0 01-.992.09l-.008-.09V6.6a.929.929 0 00-.416-.773l-.1-.058-5.714-2.857a.929.929 0 00-.711-.048l-.114.047L3.873 5.77c-.281.14-.47.41-.509.715l-.007.116v6.803a.93.93 0 00.41.777l.1.059 5.714 2.857c.261.13.57.13.831 0l1.867-.934a.5.5 0 11.447.895l-1.867.933a1.929 1.929 0 01-1.56.073l-.165-.073-5.716-2.858a1.929 1.929 0 01-1.056-1.577l-.005-.155V6.6c0-.68.358-1.305.933-1.651l.136-.075 5.716-2.857z"}),r.createElement("path",{d:"M16.69 5.381a.5.5 0 01.525.847l-.077.048-6.914 3.457a.5.5 0 01-.36.034l-.088-.034-6.914-3.457a.5.5 0 01.363-.928l.084.033L10 8.726l6.69-3.345z"}),r.createElement("path",{d:"M10 8.786a.5.5 0 01.492.41l.008.09v8.4a.5.5 0 01-.992.09l-.008-.09v-8.4a.5.5 0 01.5-.5zM15.833 10.333a.5.5 0 01.492.41l.008.09v5a.5.5 0 01-.992.09l-.008-.09v-5a.5.5 0 01.5-.5z"}),r.createElement("path",{d:"M18.333 12.833a.5.5 0 01.09.992l-.09.008h-5a.5.5 0 01-.09-.992l.09-.008h5z"})))}));var z=s(56157),R=s(67085),F=s(39970),j=s(99967);class U extends r.Component{render(){const{active:e,highlightedText:t,label:s,loading:n,onFeedbackClick:i,curationLabel:a,predictedCurationLabel:o,itemType:l,createDataset:c}=this.props,d=a!==D.K4.unlabeled;let h;h=c?A:"entity"===l?z.Z:R.Z;const u=r.createElement(h,{importance:d?"":"tertiary",color:d?"accent":"black"});return r.createElement(T.sN,{active:e,onClick:()=>{i(D.K4.positive)}},n?r.createElement(O.J,{name:"icon-fx-loading"}):u,t?r.createElement(F.L,{className:"AddRemoveMenuItem__label",firstOccurance:!0,wordClassName:"autocomplete-bold",words:t,text:s,wrapper:"span"}):r.createElement("span",{className:"AddRemoveMenuItem__label"},s),r.createElement("div",{className:"AddRemoveMenuItem__indicator"},r.createElement(j.uw,{showReview:!1,onFeedbackClick:i,curationLabel:a,predictedCurationLabel:o})))}}U.propTypes={curationLabel:i().string,predictedCurationLabel:i().string,active:i().bool,onFeedbackClick:i().func.isRequired,label:i().string.isRequired,highlightedText:i().string,loading:i().bool,itemType:i().string.isRequired,createDataset:i().bool},U.defaultProps={curationLabel:D.K4.unlabeled,predictedCurationLabel:D.K4.unlabeled,active:!1,highlightedText:null,loading:!1,createDataset:!1};class B extends r.Component{constructor(e){super(e),this._containsFilterText=e=>e.name.toLowerCase().includes(this.state.filterText.toLowerCase()),this._onFilterTextChange=e=>{this.setState({filterText:e}),this.props.onFilterChange(e)},this.state={isLoading:!1,filterText:"",datasets:[],loadingDatasets:{},entryDatasetLabels:{}}}componentDidMount(){this.reader=streets.service("reader"),this.mltopicdatasets=streets.service("mltopicdatasets"),this.reader.registerObserver(this),this.mltopicdatasets.registerObserver(this),this._updateDatasets()}componentDidUpdate(e){const{entry:t}=this.props;e.entry!==t&&this._updateEntryDatasetLabels()}componentWillUnmount(){this.reader.unregisterObserver(this),this.mltopicdatasets.unregisterObserver(this),this.reader=null,this.mltopicdatasets=null}onEntryDatasetsChanged(){this._updateEntryDatasetLabels()}render(){const{isLoading:e,filterText:t}=this.state,s=this._getFilteredDatasets();return r.createElement(T.PA,{hint:e||0!==s.length?"":"No datasets found.",menuItems:this._renderDatasetMenuItems(s),onChange:this._onFilterTextChange,placeholder:"Find dataset",value:t})}_renderDatasetMenuItems(e){const t=[];if(this.state.isLoading&&0===e.length)return[];const{articlesMatchingDatasets:s,missingDatasets:n,otherDatasets:i}=this._makeMatchingMissingOtherDatasets(e);return s.length&&t.push(r.createElement(T.NP,{key:"LeoSuggestionMatchingTopicOrEntityDatasetHeader"},"Leo Suggestions"),...s.map((e=>this._renderDatasetMenuItem(e,D.K4.positive)))),t.push(...n.map((e=>this._renderDatasetMenuItem(e,D.K4.positive,!0))),r.createElement(T.NP,{key:"datasetHeader"},"Datasets"),...i.map((e=>this._renderDatasetMenuItem(e)))),t}_renderDatasetMenuItem(e,t,s){const{filterText:n,loadingDatasets:i,entryDatasetLabels:a}=this.state;let o;return o=void 0===e.resourceId?"undefined":e.resourceId.startsWith("nlp/f/entity")?"entity":"topic",r.createElement(U,{key:e.id,highlightedText:n,label:e.name,loading:!!i[e.id],onFeedbackClick:t=>{s?this._createDatasetThenSave(e,t):this._saveToDataset(e.id,t)},curationLabel:a[e.id],predictedCurationLabel:t,itemType:o,createDataset:s})}_makeMatchingMissingOtherDatasets(e){const t=Object.assign({},...this.props.entry.listEntities("nlp/f/entity").map((e=>({[e.id]:e})))),s=Object.keys(t),n=new Set(s),i=new Set(this.props.entry.listCommonTopics().map((e=>e.id))),r=new Set(e.map((e=>e.resourceId))),a=s.filter((e=>!r.has(e))).map((e=>t[e])).map(((e,t)=>({id:-t,name:"Entity "+e.label,resourceId:e.id}))),{articleTopicDatasets:o=[],articleEntitiesDatasets:l=[],otherDatasets:c=[]}=x()(e,(({resourceId:e})=>i.has(e)?"articleTopicDatasets":n.has(e)?"articleEntitiesDatasets":"otherDatasets"));return{articlesMatchingDatasets:o.concat(l),missingDatasets:a,otherDatasets:c}}_getFilteredDatasets(){const{datasets:e,filterText:t}=this.state;if(!t)return e;const s=e.filter(this._containsFilterText);return k()(s,(({name:e})=>e.toLowerCase().includes(t.toLowerCase())))}async _createDatasetThenSave(e,t){this._setDatasetLoadingStatus(e.id,!0);try{let s=e.name;e.id.includes("gz:ta:")?s+=" (actor)":e.id.includes("gz:mal:")?s+=" (malware)":e.id.includes("gz:org:")&&(s+=" (org)");const n=await this.mltopicdatasets.askCreateTopicDataset({name:s,resourceId:e.resourceId});await this._saveToDataset(n.id,t),this.setState((({datasets:e})=>({datasets:[...e,n]}))),this._setDatasetLoadingStatus(e.id,!1)}catch(s){this._handleDatasetError(s,e.id)}}async _saveToDataset(e,t){this._setDatasetLoadingStatus(e,!0);const{entryDatasetLabels:s}=this.state,n=s[e]!==t?t:D.K4.unlabeled;try{await Promise.all([this.mltopicdatasets.askCurateEntry({topicDatasetId:e,entryId:this.props.entry.getId(),curationLabel:n})]),this._setDatasetLoadingStatus(e,!1)}catch(i){this._handleDatasetError(i,e)}}_handleDatasetError(e,t){$feedly("[picker.tag] ignore error",e,streets.service("signs")),this._setDatasetLoadingStatus(t,!1),streets.service("signs")&&streets.service("signs").showError(e||"Oops! Something went wrong")}_setDatasetLoadingStatus(e,t){this.setState((({loadingDatasets:s})=>s[e]===t?null:{loadingDatasets:{...s,[e]:t}}))}async _updateDatasets(){this.setState({isLoading:!0});try{const e=await this.mltopicdatasets.askListTopicDatasets();this.setState({datasets:e}),await this._updateEntryDatasetLabels()}catch(e){this.setState({error:e.message,isLoading:!1,datasets:[]})}}async _updateEntryDatasetLabels(){const{entry:e}=this.props,{datasets:t}=this.state;try{const s=await this.mltopicdatasets.askEntryDatasetIds(e.getId()),n={};t.forEach((e=>{n[e.id]=D.K4.unlabeled})),s.forEach((({datasetId:e,label:t})=>{n[e]=t})),this.setState({entryDatasetLabels:n,isLoading:!1})}catch(s){this.setState({error:s.message,isLoading:!1})}}}B.propTypes={entry:i().shape({getId:i().func,listCommonTopics:i().func,listEntities:i().func}).isRequired,onFilterChange:i().func.isRequired},B.defaultProps={}},15813:(e,t,s)=>{"use strict";s.d(t,{t:()=>l});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a);class l extends r.PureComponent{render(){const{alt:e,borderless:t,className:s,compact:n,defaultAvatar:i,elementRef:a,onClick:l,square:c,title:d,url:h}=this.props;let u,p;return h?u={backgroundImage:`url(${h})`}:p=e&&e.length?e.charAt(0):"",r.createElement("div",{ref:a,className:o()("picture",s,{"picture--borderless":t,"picture-compact":n,"picture--square":c,placeholder:!h}),onClick:l,style:u,title:d},i||p)}}l.propTypes={alt:i().string,borderless:i().bool,className:i().string,compact:i().bool,defaultAvatar:i().node,elementRef:i().shape({current:i().instanceOf(Element)}),onClick:i().func,square:i().bool,title:i().string,url:i().string},l.defaultProps={alt:"",borderless:!1,className:void 0,compact:!1,defaultAvatar:void 0,elementRef:null,onClick:null,square:!1,title:"",url:""}},46291:(e,t,s)=>{"use strict";s.d(t,{J:()=>u});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(26211),c=s.n(l),d=s(5371),h=s(32285);class u extends r.Component{constructor(e){super(e),this._onClick=e=>{const{closeOnClick:t,onClick:s,onClose:n}=this.props;s&&s(e),t&&n&&(this._delayClose=window.setTimeout(n,1))},this._onMouseDown=()=>{this._isMouseDownInside=!0},this._onDocumentClick=e=>{const{onClickOutside:t,onClose:s}=this.props;this._isMouseDown&&!this._isMouseDownInside&&(t&&t(e),s&&s()),this._isMouseDown=!1,this._isMouseDownInside=!1},this._onDocumentMouseDown=()=>{this._isMouseDown=!0},this._caretRef=r.createRef(),this._popoverRef=r.createRef(),this.state={opacity:0}}componentDidMount(){window.streets&&(this.shortcuts=streets.service("shortcuts"),this.props.onClose&&this.shortcuts.claim(this,h.PC.close)),this._updateEventListeners(),this.setState({opacity:""})}componentWillUnmount(){this.shortcuts&&(this.shortcuts.unclaim(this,h.PC.close),this.shortcuts=null),window.clearTimeout(this._delayClose),this._delayClose=null,document.removeEventListener("mousedown",this._onDocumentMouseDown),document.removeEventListener("click",this._onDocumentClick),this._isHandlingOutsideClick=null}componentDidUpdate(e){const{onClickOutside:t,onClose:s}=this.props;e.onClose&&!s?this.shortcuts.unclaim(this,h.PC.close):!e.onClose&&s&&this.shortcuts.claim(this,h.PC.close),typeof t==typeof e.onClickOutside&&typeof s==typeof e.onClose||this._updateEventListeners()}onShortcutKey(e){const{onClose:t}=this.props;t&&e===h.PC.close&&t()}render(){const{onClose:e}=this.props,t=this._renderBody();return e?r.createElement(c(),{focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:!1,fallbackFocus:".popover"}},t):t}_renderBody(){const{caret:e,children:t,className:s,color:n,onClickOutside:i,onClose:a}=this.props,l=this._flipPositionIfNecessary(),c=this._calculateStyles(l);return r.createElement("div",{ref:this._popoverRef,onClick:this._onClick,onMouseDown:(i||a)&&this._onMouseDown,className:o()("popover",`popover--color-${n}`,{[s]:s}),style:c.popover,tabIndex:a?"-1":void 0},t,e&&r.createElement("div",{ref:this._caretRef,className:o()("caret",{"caret-up":"bottom"===l,"caret-down":"top"===l,"caret-left":"right"===l,"caret-right":"left"===l}),style:c.caret}))}_calculateStyles(e){const{align:t,caret:s}=this.props,{opacity:n}=this.state,{offsetParent:i,target:r}=this._getRefs(),a=this._caretRef.current,o=this._popoverRef.current;if(!i||!r||s&&!a||!o)return{};const l=i.getBoundingClientRect(),c=r.getBoundingClientRect(),d=o.offsetHeight,h=o.offsetWidth,u=this._calculateStylesForCaret(e,h,d,c.width,c.height),p=Object.assign({top:"",bottom:"",left:"",right:"",opacity:n},u.popover);if("top"===e||"bottom"===e){"bottom"===e?p.top=c.bottom-l.top:i===document.body?p.bottom=window.innerHeight-c.top:p.bottom=l.bottom-c.top;const n=c.left-l.left;"end"===t?(p.right=l.right-c.right,s&&c.width<a.offsetWidth+8&&(p.right-=8)):"start"===t?(p.left=n,s&&c.width<a.offsetWidth+8&&(p.left-=8)):p.left=n+(c.width-h)/2}else{"right"===e?p.left=c.right-l.left:p.right=l.right-c.left;const n=c.top-l.top;"end"===t?(p.bottom=l.bottom-c.bottom,s&&c.height<a.offsetHeight+8&&(p.bottom-=8)):"start"===t?(p.top=n,s&&c.height<a.offsetHeight+8&&(p.top-=8)):p.top=n+(c.height-d)/2}return p.top&&(p.top=Math.round(p.top)),p.bottom&&(p.bottom=Math.round(p.bottom)),p.left&&(p.left=Math.round(p.left)),p.right&&(p.right=Math.round(p.right)),{popover:p,caret:u.caret}}_calculateStylesForCaret(e,t,s,n,i){const{align:r,caret:a}=this.props,o=this._caretRef.current,l={marginTop:"",marginBottom:"",marginLeft:"",marginRight:""},c={left:"",top:""};if(!a)return{caret:c,popover:l};const d=Math.round(o.offsetHeight/2),h=Math.round(o.offsetWidth/2);if("top"===e||"bottom"===e){"top"===e?l.marginBottom=o.offsetHeight:"bottom"===e&&(l.marginTop=o.offsetHeight);const s=Math.round(n/2);s+h+u.CARET_PADDING<t&&("start"===r?(c.left=s,n<o.offsetWidth+8&&(c.left+=8)):"end"===r&&(c.left=t-s,n<o.offsetWidth+8&&(c.left-=8)))}else{"left"===e?l.marginRight=o.offsetWidth:"right"===e&&(l.marginLeft=o.offsetWidth);const t=Math.round(i/2);t+d+u.CARET_PADDING<s&&("start"===r?(c.top=t,i<o.offsetHeight+8&&(c.top+=8)):"end"===r&&(c.top=s-t,i<o.offsetHeight+8&&(c.top-=8)))}return{caret:c,popover:l}}_flipPositionIfNecessary(){let{position:e}=this.props;const t=this._popoverRef.current,{target:s}=this._getRefs();if(!s||!t)return e;const n=s.getBoundingClientRect(),i=t.offsetHeight,r=t.offsetWidth,a=n.top-d.vH-i>0,o=window.innerHeight>n.bottom+i,l=n.left-r>0,c=window.innerWidth>n.right+r;switch(e){case"bottom":!o&&a&&(e="top");break;case"top":!a&&o&&(e="bottom");break;case"left":!l&&c&&(e="right");break;case"right":!c&&l&&(e="left")}return e}_getRefs(){let{offsetParent:e,target:t}=this.props;return e&&void 0!==e.current&&(e=e.current),t&&void 0!==t.current&&(t=t.current),{offsetParent:e,target:t}}_updateEventListeners(){const{onClickOutside:e,onClose:t}=this.props;!e&&!t||this._isHandlingOutsideClick?this._isHandlingOutsideClick&&(document.removeEventListener("mousedown",this._onDocumentMouseDown),document.removeEventListener("click",this._onDocumentClick),this._isHandlingOutsideClick=!1):(document.addEventListener("mousedown",this._onDocumentMouseDown),document.addEventListener("click",this._onDocumentClick),this._isHandlingOutsideClick=!0)}}u.propTypes={align:i().oneOf(["start","middle","end"]),caret:i().bool,children:i().node,className:i().string,closeOnClick:i().bool,color:i().oneOf(["accent","black","default"]),offsetParent:i().oneOfType([i().instanceOf(Element),i().shape({current:i().instanceOf(Element)})]),onClick:i().func,onClickOutside:i().func,onClose:i().func,position:i().oneOf(["top","bottom","left","right"]),target:i().oneOfType([i().instanceOf(Element),i().shape({current:i().instanceOf(Element)})])},u.defaultProps={align:"middle",caret:!1,children:[],className:"",closeOnClick:!1,color:"default",offsetParent:null,onClick:void 0,onClickOutside:void 0,onClose:void 0,position:"bottom",target:null},u.CARET_PADDING=12},55118:(e,t,s)=>{"use strict";s.d(t,{h:()=>o});var n=s(60216),i=s.n(n),r=s(32735),a=s(12788);class o extends r.Component{render(){const{children:e,className:t,style:s,tagName:n}=this.props;let{target:i}=this.props;const o=n;return"string"==typeof i&&(i=document.querySelector(i)),i?a.createPortal(r.createElement(o,{style:s,className:t},e),i):null}}o.propTypes={children:i().node.isRequired,className:i().string,style:i().objectOf(i().string),target:i().oneOfType([i().object,i().string]).isRequired,tagName:i().string},o.defaultProps={className:"",style:{},tagName:"div"}},97090:(e,t,s)=>{"use strict";s.d(t,{G$:()=>r,tm:()=>c,l:()=>d,Zg:()=>p});var n=s(60216);const i=n.PropTypes.shape({id:n.PropTypes.string.isRequired,label:n.PropTypes.string.isRequired}),r=n.PropTypes.oneOfType([i,n.PropTypes.shape({text:n.PropTypes.string.isRequired}),n.PropTypes.string]),a=n.PropTypes.shape({type:n.PropTypes.string.isRequired,boards:n.PropTypes.arrayOf(i)}),o=n.PropTypes.shape({type:n.PropTypes.string.isRequired,topics:n.PropTypes.arrayOf(r)}),l=n.PropTypes.shape({type:n.PropTypes.string.isRequired,boards:n.PropTypes.arrayOf(i)}),c=n.PropTypes.shape({active:n.PropTypes.bool,id:n.PropTypes.string,label:n.PropTypes.string,layers:n.PropTypes.arrayOf(n.PropTypes.oneOfType([a,o,l])),streamIds:n.PropTypes.arrayOf(n.PropTypes.string),streamLabel:n.PropTypes.string}),d=n.PropTypes.shape({id:n.PropTypes.string.isRequired,label:n.PropTypes.string.isRequired}),h=n.PropTypes.shape({id:n.PropTypes.string.isRequired,label:n.PropTypes.string.isRequired}),u=n.PropTypes.shape({id:n.PropTypes.string.isRequired,label:n.PropTypes.string.isRequired}),p=n.PropTypes.oneOfType([d,h,u])},63402:(e,t,s)=>{"use strict";s.d(t,{qR:()=>d,zH:()=>y,At:()=>J,Tx:()=>ne,vg:()=>V,iD:()=>$,yv:()=>K,Os:()=>Et,yG:()=>oe,no:()=>we,eg:()=>Lt,UN:()=>Oe,A4:()=>et,eR:()=>ut,KA:()=>yt,Pf:()=>At,hz:()=>bt,fo:()=>zt,ar:()=>Ut,c2:()=>Bt});var n=s(60216),i=s.n(n),r=s(32735),a=s(74221),o=s(56295),l=s(97090);const c=Object.freeze({positive:"create"});class d extends r.Component{constructor(e){super(e),this._onSubmit=async e=>{const{initialPriority:t}=this.state,s=e.streamIds||t.streamIds,{isEnterprise:n}=s&&(0,a.Yg)(s[0]);try{const{onDone:s,viaSuggestion:i}=this.props;this.setState({isSaving:!0}),i&&streets.service("suggestions").askSaveSuggestionFeedback({feedback:c.positive,id:i.id});const r=n?this.enterprisepriorities:this.personalpriorities;await r.askSave({...t,...e}),s()}catch(i){this.setState({isSaving:!1}),i&&i.errorMessage&&i.errorMessage.startsWith(o.bf)?this.setState({isMaxEnterprisePriorities:n,isMaxPersonalPriorities:!n}):(console.error(i),streets.service("signs").showError(`${i.errorCode||i.name} -- ${i.errorMessage||i.message}`))}};let{initialPriority:t}=e;if(this._priorityFormRef=r.createRef(),t&&!streets.hasAdminBusinessAccess()){const{streamIds:[e]}=t,{isEnterprise:s}=(0,a.Yg)(e);s&&(t={...t,streamIds:[]})}this.state={initialPriority:t,isMaxEnterprisePriorities:!1,isMaxPersonalPriorities:!1,isSaving:!1}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.personalpriorities=streets.service("personalpriorities")}componentWillUnmount(){this.enterprisepriorities=null,this.personalpriorities=null,this._priorityFormRef=null}askConfirmExit(){return this._priorityFormRef.current.askConfirmExit()}render(){const{initialTopicQuery:e,onDone:t}=this.props,{initialPriority:s}=this.state,{isMaxPersonalPriorities:n,isMaxEnterprisePriorities:i,isSaving:a}=this.state;return r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630 centered"},r.createElement(et,{ref:this._priorityFormRef,initialPriority:s,initialTopicQuery:e,isMaxEnterprisePriorities:i,isMaxPersonalPriorities:n,isSaving:a,onCancel:t,onSubmit:this._onSubmit,submitLabel:"Create",title:"What would you like Leo to prioritize?"})))}}d.propTypes={initialPriority:l.tm,initialTopicQuery:i().string,onDone:i().func.isRequired,viaSuggestion:i().shape({id:i().string})},d.defaultProps={initialPriority:void 0,initialTopicQuery:"",viaSuggestion:void 0};var h=s(94516),u=s(47264),p=s(34313),m=s(72405),g=s(49245),f=s(82624);class y extends r.Component{constructor(e){super(e),this._onSlackSettingsChanged=e=>{this.setState({slackSettings:e})},this._onWebhookSettingsChanged=e=>{this.setState({microsoftTeamsSettings:e})},this._onSubmit=async e=>{e.preventDefault();try{const{slackSettings:{slackChannelId:e,slackChannelName:t},microsoftTeamsSettings:s}=this.state,{onDone:n,priorityInfo:i}=this.props;this.setState({isLoading:!0}),await this.enterprisepriorities.askSave({...i,slackChannelId:e,slackChannelName:t,microsoftTeamsSettings:s}),this.signs.showMessage("Priority Settings updated"),n()}catch(t){this.signs.showMessage(`Failed to update Priority Settings: ${t.message}`)}this.setState({isLoading:!1})},this._onTabChange=e=>{this.setState({activeTab:e})};const{priorityInfo:{slackChannelName:t,slackChannelId:s,microsoftTeamsSettings:n}}=this.props;this.state={activeTab:this.props.defaultTab,isLoading:!1,slackSettings:{slackChannelName:t,slackChannelId:s},microsoftTeamsSettings:n||{}};const{tabs:i}=y;this.fragments=[{id:i.sharing,label:"Sharing"}]}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisepriorities=null,this.signs=null}render(){const{activeTab:e}=this.state;return r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630"},r.createElement(m.Le,{scrollParent:".floatingEntryScroller",target:".slider-header"},(({isSticky:e})=>r.createElement("div",null,this._renderHeader({isSticky:!1}),e&&this._renderHeader({isSticky:e})))),r.createElement(g.mQ,{items:this.fragments,active:e,onChange:this._onTabChange}),this._renderForm()))}_renderForm(){const{onDone:e,priorityInfo:{id:t}}=this.props,{isLoading:s,slackSettings:n,microsoftTeamsSettings:i}=this.state;return r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},r.createElement(f.A,{connected:!!n.slackChannelName,onChange:this._onSlackSettingsChanged,settings:n,streamId:t}),r.createElement(h.F,{settings:i,onChange:this._onWebhookSettingsChanged,streamId:t}),r.createElement(u.zx,{disabled:s,label:"Update",loading:s,type:"submit"}),r.createElement(u.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:e}))}_renderHeader({isSticky:e}){const{priorityInfo:t}=this.props;return r.createElement(p.mU,{compact:e,kicker:t.label,sticky:e,title:"Priority Settings"})}}y.tabs={sharing:"sharing"},y.propTypes={defaultTab:i().oneOf(Object.values(y.tabs)),onDone:i().func.isRequired,priorityInfo:i().shape({id:i().string,label:i().string,slackChannelId:i().string,slackChannelName:i().string,microsoftTeamsSettings:h.Y}).isRequired},y.defaultProps={defaultTab:y.tabs.sharing};var v=s(15615),b=s(40841),E=s.n(b),C=s(86576),w=s(3167),k=s(46291),_=s(85646),M=s.n(_),S=s(89793),T=s.n(S),I=s(71262);const N=(0,I.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M5.143 14.071a.5.5 0 01.492.41l.008.09v6a.5.5 0 01-.992.09l-.008-.09v-6a.5.5 0 01.5-.5z"}),r.createElement("path",{d:"M8.571 2.929c-1.187 0-2.133.172-2.864.464-.465.186-.763.385-.918.54a.5.5 0 00-.146.353V14.57a.5.5 0 00.788.41l.065-.056c.06-.06.244-.183.583-.318.608-.243 1.43-.393 2.492-.393.865 0 1.512.154 2.7.608l1.129.443c1.283.49 2.018.664 3.029.664 1.187 0 2.133-.173 2.864-.465.465-.186.763-.385.918-.539a.5.5 0 00.146-.354V4.286a.5.5 0 00-.788-.41l-.065.056c-.06.06-.244.183-.583.318-.608.244-1.43.393-2.492.393-.865 0-1.512-.154-2.7-.608L11.6 3.592c-1.283-.49-2.018-.663-3.029-.663zm0 1c.927 0 1.604.176 2.962.71l.281.111c1.664.666 2.46.893 3.615.893l.348-.005c1.026-.03 1.858-.197 2.516-.46l.064-.027v9.173l-.04.025c-.096.055-.227.12-.396.187-.608.243-1.43.393-2.492.393-.927 0-1.604-.177-2.962-.71l-.281-.112c-1.664-.665-2.46-.893-3.615-.893l-.348.005c-1.026.03-1.858.197-2.516.46l-.064.027V4.533l.04-.024c.096-.055.227-.12.396-.188.608-.243 1.43-.392 2.492-.392z"})))}));var P=s(11245);const L=(0,I.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M13.029 3.443c.797 0 1.452.61 1.522 1.39l.006.138v4.115a.5.5 0 01-.992.09l-.008-.09V4.97a.529.529 0 00-.433-.52l-.095-.008H4.8a.529.529 0 00-.52.433l-.009.095V13.2c0 .26.187.475.434.52l.095.009h5.143a.5.5 0 01.09.992l-.09.008H4.8c-.797 0-1.452-.61-1.522-1.39L3.27 13.2V4.971c0-.797.61-1.452 1.39-1.522l.139-.006h8.229z"}),r.createElement("path",{d:"M19.2 8.586h-8.229c-.844 0-1.528.684-1.528 1.528v8.229c0 .844.684 1.528 1.528 1.528H19.2c.844 0 1.529-.684 1.529-1.528v-8.229c0-.844-.685-1.528-1.529-1.528zm-8.229 1H19.2c.292 0 .529.236.529.528v8.229a.529.529 0 01-.529.528h-8.229a.529.529 0 01-.528-.528v-8.229c0-.292.236-.528.528-.528z"})))}));var x=s(25193),D=s(54533);const O=(0,I.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12 2.66a9.34 9.34 0 100 18.68 9.34 9.34 0 000-18.68zm0 1a8.34 8.34 0 110 16.68 8.34 8.34 0 010-16.68z"}),r.createElement("path",{d:"M8.536 8.277a1.116 1.116 0 100 2.232 1.116 1.116 0 000-2.232zM15.393 8.277a1.116 1.116 0 100 2.232 1.116 1.116 0 000-2.232zM12 13.214c1.004 0 2.181.147 3.534.44a.5.5 0 01-.211.978c-1.288-.28-2.397-.418-3.323-.418-1.247 0-2.438.702-3.107 1.815a.5.5 0 11-.857-.515c.846-1.409 2.359-2.3 3.964-2.3z"})))}));var A=s(74250),z=s(65698),R=s(35610),F=s(99442),j=s(35093),U=s(93023),B=s(99220),H=s(79199),Y=s(95192),Z=s(23005),W=s(81197);class $ extends r.Component{constructor(e){super(e),this.state={}}componentDidMount(){0}componentWillUnmount(){this._horizontalScroll=null}render(){const{children:e,iconComponent:t,onClick:s,label:n}=this.props;return r.createElement(r.Fragment,null,r.createElement("div",{className:E()("LessLikeThisSelector__row",{"LessLikeThisSelector__row--clickable":s}),onClick:s},r.createElement(t,{className:"m-r-2",importance:"secondary"}),r.createElement(Y.x,{className:"LessLikeThisSelector__row-label",color:"primary",size:"small",tagName:"span"},n)),e&&r.createElement("div",{className:"LessLikeThisSelector__horizontal-scroll",ref:this._horizontalScroll},e))}_onTouchMove(e){e.stopPropagation()}}$.propTypes={children:i().node,iconComponent:i().elementType.isRequired,onClick:i().func,label:i().string.isRequired},$.defaultProps={children:void 0,onClick:void 0};const q=Object.freeze({source:"source",topic:"topic"});class V extends r.Component{constructor(e){super(e),this._renderBoardSection=e=>e.length?r.createElement($,{iconComponent:N,label:"Not like board"},e.map((e=>r.createElement(u.zx,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:r.createElement(P.Z,{importance:"secondary"}),importance:"secondary",onClick:()=>{this._onBoardClick(e)}})))):null,this._renderDuplicateSection=()=>r.createElement($,{iconComponent:L,label:"Duplicated article",onClick:this._onDuplicateClick}),this._renderExcludeSection=e=>{const{entry:t,previewExcludeTopics:s}=this.props,{isFollowingAlert:n,isSubscribed:i,isUpdatingWebAlert:o,itemToExclude:l,webAlertOptions:{layers:c=[]}}=this.state,{isEnterprise:d,isFeed:h}=(0,a.Yg)(t.metadata.viaStreamId);if(h&&!n||d&&!i&&!streets.isUserAdmin())return null;if(e===q.source){const e=(0,R._Y)(t.getSourceAlternateLink());let s=`Exclude ${e}`;return o&&l.text&&l.text.startsWith("site:")&&(s=`Excluding ${e}...`),r.createElement($,{iconComponent:x.Z,label:s,onClick:()=>{o||this._onExcludeItem(e,q.source)}})}const p=s.length?s:(0,z.p2)(t,c);return p.length?r.createElement($,{iconComponent:x.Z,label:"Exclude Topic"},p.map((e=>{const t=this._getLeoPartIcon(e);return r.createElement(u.zx,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:r.createElement(t,{importance:"secondary"}),importance:"secondary",loading:o&&(e.id===l.id||e.label===l.label),onClick:()=>{const t=(0,z.xT)(e.id)?e:{...e,type:j.gQ.other};this._onExcludeItem(t,q.topic)}})}))):null},this._renderMuteSection=e=>{const{entry:t}=this.props;if(e===q.source){const e=this._getMuteCategoryIds(),s=(0,R._Y)(t.getCleanAlternateLink()),n=t.metadata.googleNews||t.metadata.googleAlerts||t.metadata.baiduNews;return e.length&&n&&s?r.createElement($,{iconComponent:x.Z,label:`Mute ${s}`,onClick:()=>{this._onSourceClick(s,e)}}):null}const s=this._getMuteTopics();return s.length?r.createElement($,{iconComponent:x.Z,label:"Mute Topic"},s.map((e=>{const t=this._getLeoPartIcon(e);return r.createElement(u.zx,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:r.createElement(t,{importance:"secondary"}),importance:"secondary",onClick:()=>{this._onMutePartClick(e)}})}))):null},this._renderPartsSection=e=>e.length?r.createElement($,{iconComponent:N,label:"Wrong"},e.map((e=>{const t=this._getLeoPartIcon(e);return r.createElement(u.zx,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:r.createElement(t,{importance:"secondary"}),importance:"secondary",onClick:()=>{this._onPartClick(e)}})}))):null,this._renderSecuritySection=()=>{const{entry:e}=this.props;return e.hasSecurityPriority()?r.createElement(r.Fragment,null,r.createElement($,{iconComponent:N,label:"Not vulnerability",onClick:this._onVulnerabilityClick}),r.createElement($,{iconComponent:D.Z,label:"Wrong severity",onClick:this._onSeverityClick})):null},this._renderSomethingElseSection=()=>r.createElement($,{iconComponent:O,label:"Something else",onClick:this._onSomethingElseClick}),this._renderTopicSection=e=>e.length?r.createElement($,{iconComponent:N,label:"Not about"},e.map((e=>{const t=this._getLeoPartIcon(e);return r.createElement(u.zx,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:r.createElement(t,{importance:"secondary"}),importance:"secondary",onClick:()=>{this._onPartClick(e)}})}))):null,this._onBoardClick=e=>{this._submitFeedback(A.n.board,e.id)},this._onDuplicateClick=()=>{const{entry:e}=this.props;this._submitFeedback(A.n.duplicate,e.getId())},this._onExcludeItem=async(e,t)=>{const{entry:s,isBeyondPowerSearch:n,onClose:i}=this.props;let r=e;t===q.source&&(r={text:`site:${e}`}),s.isFromWebAlertSource()&&!n?await this._onUpdateWebAlert(r):await this.leo.askAddNotTopic(r),i()},this._onPartClick=async e=>{const{entry:t,onSubmit:s}=this.props;s();try{await this.leo.askSaveFeedback(t.getId(),e.id,-1,"lessLikeThisMenu")}catch(n){console.error("Failed to submit feedback",e,n)}},this._onMutePartClick=async e=>{const{streamId:t}=this.state,{onClose:s}=this.props;this.feedly.slideForm(W.K,{initialFilter:{streamId:t,term:e}})},this._onSeverityClick=()=>{this._submitFeedback(A.n.severity)},this._onSomethingElseClick=()=>{this._submitFeedback(A.n.other,"other")},this._onSourceClick=async(e,t)=>{const s=streets.hasBusinessAccess();this._submitFeedback(A.n.source,e);try{await Promise.all(t.map((async t=>{const{isEnterprise:n}=(0,a.Yg)(t),i={term:{text:`site:${e}`},streamId:t};return n?!s||streets.service("enterprisemutefilters").askSave(i):streets.service("personalmutefilters").askSave(i)})))}catch(n){n&&n.errorMessage&&streets.service("commonsigns").showMessage(n.errorMessage)}},this._onUpdateWebAlert=async e=>{const{webAlertOptions:t,webAlertOptions:{feedId:s,id:n,layers:i=[],source:r,title:a}}=this.state,o=(e.label||e.text).replace(/site:/gi,"");try{this.setState({isUpdatingWebAlert:!0,itemToExclude:e});const l=!i.find((e=>e.negate));let c=[];c=l?[...i,{negate:!0,parts:[{...e}],salience:F.mb.mention,type:F.ur.matches}]:i.map((t=>{if(t.negate){const s=[...t.parts,{...e}],n=M()(s,T());return{...t,parts:n}}return t}));const d={feedId:s,initialSearchOptions:t,searchOptions:{layers:c.filter((e=>"publicationType"!==e.type)),source:r},title:a},{webAlert:h,isRecreated:u}=await this.alerts.askSave(n,d);streets.service("commonsigns").showMessage(`${o} has been excluded from your ${a} web alert`),u&&streets.service("feedly").loadPage((0,B.no)(h.feedId))}catch(l){streets.service("commonsigns").showError(`Failed to exclude ${o}`),this.feedly&&this.setState({isUpdatingWebAlert:!1,itemToExclude:{}})}},this._onVulnerabilityClick=()=>{this._submitFeedback(A.n.vulnerability)},this._getMuteTopics=()=>{const{entry:e}=this.props,{filters:t}=this.state,s=e.getMostRelevantPriority()||{},{searchTerms:{parts:n=[]}={}}=s,i=n.reduce(((e,t)=>(e[t.id]=!0,e)),{});return t.reduce(((e,t)=>(e[t.term.id]=!0,e)),i),(0,z.WW)(e.listCommonTopics().filter((e=>!i[e.id]&&(i[e.id]=!0,!0)))).slice(0,2)};const{entry:t}=this.props,s=t.suggestViaFeedId();this.state={isFollowingAlert:!1,isLoading:!1,isSubscribed:!1,isUpdatingWebAlert:!1,itemToExclude:{},streamId:s,filters:[],webAlertOptions:{}}}componentDidMount(){this.alerts=streets.service("alerts"),this.commonsigns=streets.service("commonsigns"),this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisemutefilters=streets.service("enterprisemutefilters"),this.feedly=streets.service("feedly"),this.feeds=streets.service("feeds"),this.leo=streets.service("leo"),this.personalmutefilters=streets.service("personalmutefilters"),this.reader=streets.service("reader"),this._updateInitialData()}componentWillUnmount(){this.alerts=null,this.commonsigns=null,this.enterprisecollections=null,this.enterprisemutefilters=null,this.feedly=null,this.feeds=null,this.leo=null,this.personalmutefilters=null,this.reader=null}render(){const{entry:e,isBeyondPowerSearch:t}=this.props,{isLoading:s}=this.state,n=e.getMostRelevantPriority()||{},i=e.getFirstAlertSourceInfo()||{},a=e.isFromWebAlertSource(),o=t||a,{searchTerms:{likeBoards:l=[]}={}}=n,{searchTerms:{parts:c=[]}={}}=n,{searchTerms:{parts:d=[]}={}}=i,{parts:h=[]}=e.getPreviewSearchTerms()||{};let u=[];if(t?u=h:a?u=d:c&&(u=c),s)return r.createElement(Z.g,{className:"m-x-1"});const p=u.filter((e=>((0,z.xT)(e.id)||(0,z.jP)(e.id))&&e.label)),m=u.filter((e=>(0,z.ft)(e.id)&&e.label));return r.createElement("div",{className:"LessLikeThisSelector__menu"},r.createElement(Y.x,{className:"p-x-3 m-b-h",color:"secondary",size:"small"},"What do you dislike about this article?"),o?r.createElement(r.Fragment,null,this._renderExcludeSection(q.source),this._renderExcludeSection(q.topic),this._renderTopicSection(p),this._renderPartsSection(m),this._renderDuplicateSection()):r.createElement(r.Fragment,null,this._renderBoardSection(l),this._renderSecuritySection(),this._renderTopicSection(p),this._renderPartsSection(m),this._renderDuplicateSection(),this._renderMuteSection(q.source),this._renderMuteSection(q.topic)),this._renderSomethingElseSection())}_getLeoPartIcon(e){const{entry:t}=this.props,s=e.type?e:t.findSearchTermFullInfo(e),n=(0,z.FW)(s);return j.XA[n]}_getMuteCategoryIds(){const{entry:e}=this.props,t=[];return e.listPersonalCollections().length>0&&t.push((0,a.N1)()),e.listEnterpriseCollections()&&streets.isUserAdmin()&&t.push((0,a.Gr)()),t}_submitFeedback(e,t){const{entry:s,onSubmit:n}=this.props,i=s.getMostRelevantPriority()||{};n();try{this.reader.askSaveEntryFeedback(s.getId(),{description:t,priorityId:i.id,reason:e,streamId:s.metadata.viaStreamId,type:"less-like-this"})}catch(r){console.error("Failed to submit feedback",e,t,r)}}async _updateInitialData(){const{entry:e}=this.props,{streamId:t}=this.state,s=e.getWebAlertSourcesInfo(),n=s.reduce(((e,t)=>(e[t.streamId]=t,e)),{});let i;if(this.setState({isLoading:!0}),s.length){const{viaStreamId:t}=e.metadata;if(t&&(i=n[t],!i)){const{isEnterprise:e,isCategory:s}=(0,a.Yg)(t);if(s){const s=e?streets.service("enterprisecollections"):streets.service("personalcollections");i=(await s.askListCollectionFeeds(t)).find((e=>n[e.id]))}}i||([i]=s)}const r=(0,a.Yg)(t).isEnterprise?this.enterprisemutefilters:this.personalmutefilters,[o,l={},c]=await Promise.all([r.askListFiltersForFeed(t),this.alerts.askInfo((0,U.kW)(i?i.streamId:"")),this.enterprisecollections.askLookupCollection(t)]),d=await this.feeds.askLookupFeed(l.feedId),h=!!c&&c.subscribed;i&&i.title&&(l.title=i.title),this.setState({filters:o,isFollowingAlert:!!d,isLoading:!1,isSubscribed:h,webAlertOptions:l})}}V.propTypes={entry:H.A.isRequired,isBeyondPowerSearch:i().bool,onClose:i().func,onSubmit:i().func.isRequired,previewExcludeTopics:i().arrayOf(i().object)},V.defaultProps={isBeyondPowerSearch:!1,onClose:()=>{},previewExcludeTopics:[]};var G=s(85350),Q=s(99175);class K extends r.Component{constructor(e){super(e),this._onSubmit=()=>{this.setState({isOpen:!1}),this.signs.showMessage("Feedback collected")},this._onButtonClick=e=>{const{button:t,isCybersecurityTrend:s,onOpenChange:n,onOpenFeedbackModal:i}=this.props;t.props.onClick&&t.props.onClick(e),s?i():this.setState((({isOpen:e})=>{const t=!e;return n&&n(t),{isOpen:t}}))},this._onCloseMenu=()=>{const{onOpenChange:e}=this.props;e&&e(false),this.setState({isOpen:false})},this._wrapper=r.createRef(),this._button=r.createRef(),this.state={isLeoEnabled:!1,isLoadingInitialData:!0,isOpen:!1}}componentDidMount(){this.leo=streets.service("leo"),this.signs=streets.service("signs"),this._updateInitialData()}componentWillUnmount(){this.leo=null,this.signs=null}onPreferenceChanged(e){e===w.Bu&&this.setState({customReasons:this._getCustomReasons()})}render(){const{align:e,button:t,className:s,entry:n,isBeyondPowerSearch:i,isGPCTutorialRunning:a,isLeoPreview:o,previewExcludeTopics:l,tagName:c}=this.props,{isLeoEnabled:d,isLoadingInitialData:h,isOpen:u}=this.state,p=c;return h||!d?null:r.createElement(p,{ref:this._wrapper,className:E()("LessLikeThisSelector",s,{"GuidedTutorial__gpc-offset-10":a})},r.createElement("span",{style:{display:"inline-block"},className:E()({"GuidedTutorial__gpc-target-10":a})},r.createElement(Q.d,{content:"Less Like This"},r.cloneElement(t,{onClick:this._onButtonClick,elementRef:this._button}))),u&&r.createElement(k.J,{align:e,caret:!0,offsetParent:this._wrapper,onClick:e=>{e.stopPropagation()},onClose:this._onCloseMenu,target:this._button},o?r.createElement(G.Y,{entry:n,excludeTopics:l,onSubmit:this._onCloseMenu}):r.createElement(V,{entry:n,isBeyondPowerSearch:i,onClose:this._onCloseMenu,onSubmit:this._onSubmit,previewExcludeTopics:l})))}async _updateInitialData(){const e=await this.leo.askIsLeoEnabled();this.setState({isLoadingInitialData:!1,isLeoEnabled:e})}}K.propTypes={align:k.J.propTypes.align,button:(0,C.componentWithName)("Button").isRequired,className:i().string,entry:i().shape({getFeedback:i().func,getId:i().func,listPersonalCollections:i().func,listEnterpriseCollections:i().func,metadata:i().object,priorities:i().array}).isRequired,isBeyondPowerSearch:i().bool,isCybersecurityTrend:i().bool,isGPCTutorialRunning:i().bool,isLeoPreview:i().bool,onOpenChange:i().func,onOpenFeedbackModal:i().func,previewExcludeTopics:i().arrayOf(i().object),tagName:i().oneOf(["div","span"])},K.defaultProps={align:"start",className:void 0,isBeyondPowerSearch:!1,isCybersecurityTrend:!1,isGPCTutorialRunning:!1,isLeoPreview:!1,onOpenChange:void 0,onOpenFeedbackModal:void 0,previewExcludeTopics:[],tagName:"span"};class J extends r.Component{constructor(e){super(e),this.state={isActive:!!e.entry.getFeedback()}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}onEntryFeedbackChanged(e){const{entry:t}=this.props;t.getId()===e&&this.setState({isActive:!!t.getFeedback()})}render(){const{entry:e}=this.props,{isActive:t}=this.state;return r.createElement(K,{className:"fx LessLikeThisSelector--sharebar",button:r.createElement(u.zx,{"aria-label":"Less like this",className:"headerInfo__button m-r-0",icon:r.createElement(v.Z,{color:t?"accent":"black",importance:t?void 0:"secondary"}),importance:"tertiary"}),entry:e})}}J.propTypes={entry:K.propTypes.entry},J.defaultProps={entry:void 0};var X=s(86130),ee=s(28576),te=s(71263);const se=(0,I.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12.143 8.071a2.643 2.643 0 01.167 5.28l-.167.006H11.07a.5.5 0 01-.09-.992l.09-.008h1.072a1.643 1.643 0 00.142-3.28l-.142-.006H5.714a.5.5 0 01-.09-.992l.09-.008h6.429z"}),r.createElement("path",{d:"M7.504 6.074a.5.5 0 01.765.637l-.058.07L6.42 8.57l1.79 1.79a.5.5 0 01.058.637l-.058.07a.5.5 0 01-.638.057l-.07-.058-2.142-2.142a.5.5 0 01-.058-.638l.058-.07 2.143-2.142z"}),r.createElement("path",{d:"M10 1.641a8.357 8.357 0 100 16.715A8.357 8.357 0 0010 1.64zm0 1a7.357 7.357 0 110 14.715A7.357 7.357 0 0110 2.64z"})))}));class ne extends r.Component{constructor(...e){super(...e),this.state={descriptionLabel:"",usernames:null},this._renderBugInspector=()=>{const e=X.Z.utils.SessionUtils.load();return e&&e.sudoSession||"feedly"===streets.getEnterpriseId()?r.createElement(ee.sN,{onClick:this._onOpenLikeBoardInspector},r.createElement(te.Z,{importance:"secondary"}),r.createElement("div",{className:"LessLikeThisExplanation__item-label"},"Debug Priority")):null},this._onOpenLikeBoardInspector=()=>{const{entry:e}=this.props,t=e.suggestViaFeedId(),s=e.getId();let n=`https://ml.feedly.com/personalized-topics/demo/stats?entryId=${encodeURIComponent(s)}`;t&&(n+=`&streamId=${encodeURIComponent(t)}&categoryId=${encodeURIComponent(t)}`),window.open(n)}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.leo=streets.service("leo"),this.tags=streets.service("tags"),this._updateInfo()}componentWillUnmount(){this.enterprise=null,this.leo=null,this.tags=null}render(){const{usernames:e}=this.state,{feedback:{addedBy:t},onDeleteFeedback:s}=this.props;if(!e)return r.createElement(Z.g,null);let n="You";return t&&t!==streets.getUserId()&&e&&(n=e[t]||"Your team"),r.createElement("div",{className:"LessLikeThisExplanation"},r.createElement("p",{className:"LessLikeThisExplanation__description"},n," flagged this article ",this._getReason()),r.createElement(ee.v2,{className:"LessLikeThisExplanation__menu"},this._renderBugInspector(),r.createElement(ee.sN,{onClick:s},r.createElement(se,{importance:"secondary"}),r.createElement("div",{className:"LessLikeThisExplanation__item-label"},"Undo feedback"))))}_getReason(){const{descriptionLabel:e}=this.state,{feedback:{reason:t}}=this.props;return t===A.n.board?`as not like board ${e}`:t===A.n.duplicate?"as a duplicate":t===A.n.entity||t===A.n.topic?`as not about ${e}`:t===A.n.severity?"as having the wrong vulnerability severity":t===A.n.vulnerability?"as having the wrong vulnerability":""}async _updateInfo(){const{entry:e,feedback:{description:t,reason:s}}=this.props,n=await this.enterprise.askListUsernames();let i;if(s===A.n.board){i=(await this.tags.askLabelsIndex())[t]}else if(s===A.n.entity){i=(await this.leo.askEntityInfo(t)).label}else if(s===A.n.topic){i=e.listCommonTopics().find((e=>e.id===t)).label}this.setState({descriptionLabel:i,usernames:n})}}ne.propTypes={entry:i().shape({getId:i().func}).isRequired,feedback:i().shape({addedBy:i().string,description:i().string,reason:i().string}).isRequired,onDeleteFeedback:i().func.isRequired};var ie=s(2222),re=s(38884),ae=s(11402);class oe extends r.Component{constructor(...e){super(...e),this._onManagePriorities=()=>{const{streamInfo:e}=this.props,{isEnterprise:t}=(0,a.Yg)(e.id),s=t?ae.KD:ae.YL;this.feedly.slideForm(s,{defaultTab:"trainLeo",streamInfo:e})}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{streamInfo:{id:e}}=this.props,{isEnterprise:t}=(0,a.Yg)(e),s=this._renderMessage();return s?r.createElement("div",{className:"PriorityBanner"},r.createElement("div",{className:"PriorityBanner__message",onClick:this._onManagePriorities},s),(!t||streets.isUserAdmin())&&this._renderTrainingScore()):null}_renderMessage(){const{globalPriorities:e,priorities:t,streamInfo:{id:s}}=this.props,{isGlobal:n}=(0,a.Yg)(s),i={local:[],global:[]};let o;if(t.forEach((({latestRefreshErrors:e,layers:t,trainingStatus:s})=>{(0,ie.FN)({latestRefreshErrors:e,trainingStatus:s})&&t.forEach((({boards:e})=>{e&&i.local.push(...e.map((e=>e.label)))}))})),e.forEach((({latestRefreshErrors:e,layers:t,trainingStatus:s})=>{(0,ie.FN)({latestRefreshErrors:e,trainingStatus:s})&&t.forEach((({boards:e})=>{e&&i.global.push(...e.map((e=>e.label)))}))})),i.global.length&&n?o=i.global[0]:i.local.length&&(o=i.local[0]),o)return r.createElement(r.Fragment,null,"Save at least 20 articles in your ",i.local[0]," ","board");const l={local:[],global:[]};let c;return t.forEach((({layers:e,trainingScore:t})=>{"number"==typeof t&&t<.5&&e.forEach((({boards:e})=>{e&&l.local.push(...e.map((e=>e.label)))}))})),e.forEach((({layers:e,trainingScore:t})=>{"number"==typeof t&&t<.5&&e.forEach((({boards:e})=>{e&&l.global.push(...e.map((e=>e.label)))}))})),l.global.length&&n?c=l.global[0]:l.local.length&&(c=l.local[0]),c?r.createElement(r.Fragment,null,"Save 20 more articles to the ",l.local[0]," board to improve Leo's accuracy"):null}_renderTrainingScore(){const{priorities:e}=this.props,t=e.filter((({trainingScore:e})=>"number"==typeof e)).map((({trainingScore:e})=>e));if(!t.length)return null;const s=Math.round(100*t.reduce(((e,t)=>e+t),0)/t.length);return r.createElement(re.f,{active:!0,className:"m-x-2",hoverMessage:`${s}% learning score: keep saving articles to your boards to increase accuracy`,value:s})}}oe.propTypes={globalPriorities:i().arrayOf(i().object).isRequired,priorities:i().arrayOf(i().object).isRequired,streamInfo:i().shape({id:i().string})},oe.defaultProps={streamInfo:null};var le=s(24443),ce=s.n(le),de=s(99348),he=s(85581),ue=s(23013),pe=s(52986),me=s(12741),ge=s(75608),fe=s(38185),ye=s(66210),ve=s(50931),be=s(97340);const Ee=["Loading articles...","Analyzing article content...","Personalizing your model..."],Ce=Object.freeze({failed:"FAILED",pending:"PENDING",success:"SUCCESS"});class we extends r.Component{constructor(e){super(e),this._onTrainLeoClick=()=>{this.setState({isTrainLeoPickerOpen:!0})},this._updateTrainingProgress=async()=>{const e=this._findLikeBoardPriority();if(e&&e.trainingStatus===F.Py.updating&&!(e.layers.length>1))try{const{progress:t,status:s}=await this._askTrainingProgress(e.id);1===t?clearTimeout(this._updateProgressTimer):this._updateProgressTimer=setTimeout(this._updateTrainingProgress,5e3),this.setState({trainingProgress:t,progressMessage:s})}catch(t){clearTimeout(this._updateProgressTimer)}},this._updateProgressTimer=null,this.state={trainingProgress:0,progressMessage:""}}componentDidMount(){this.feedly=streets.service("feedly"),this._updateTrainingProgress()}componentWillUnmount(){this.feedly=null,clearTimeout(this._updateProgressTimer),this._updateProgressTimer=null}render(){const{globalPriorities:e,onShowUnread:t,priorities:s,streamInfo:n}=this.props,i=n.id,{progressMessage:o,trainingProgress:l}=this.state,c=streets.isUserAdmin(),{isEnterprise:h,isAll:u,isGlobalEnterprise:p}=(0,a.Yg)(i),m=u||p,g=m?s.concat(e):s,f=g.reduce(((e,t)=>e+t.numEntriesMatching),0),y=this._findLikeBoardPriority();if(g.length>0&&y&&y.layers.length>0&&0===y.numEntriesMatching&&y.trainingStatus!==F.Py.success){const e=y.layers.find((e=>e.type===F.ur.likeBoard)),t=e?e.boards:[],s=this._combineBoardNames(t),{latestRefreshErrors:n,trainingStatus:i}=y;if(i===F.Py.updating&&l<1){const e=streets.service("feedly").getTheme();return 1===y.layers.length?r.createElement("div",{className:"GuidedTutorial__gpc-offset-7"},r.createElement(he.M,{className:"GuidedTutorial__gpc-target-7",description:`Leo needs a couple minutes to analyze your ${s} ${ce()("board",t.length)} and build a model. Please wait...`,header:"Building model...",illustration:e===w.Bd.dark?pe:ue,interval:5e3,messages:Ee,progress:100*l})):r.createElement(de.ub,{header:"Building model...",actions:[{label:"Refresh",importance:"secondary",onClick:()=>{this.feedly.refresh()}}],description:`Leo needs a couple minutes to analyze your ${s} ${ce()("board",t.length)} and build a model. Please wait...`,illustration:e===w.Bd.dark?pe:ue})}if(i===F.Py.error){if(1===l&&o===Ce.pending){const e=`Sorry, but an error occurred while building the model for your ${s} ${ce()("board",t.length)}. Please contact support.`;return r.createElement(de.ub,{header:"Something went wrong",description:e,illustration:me,illustrationDark:ge,actions:[{label:"Refine Priority",importance:"secondary",onClick:()=>{this.feedly.slideForm(Bt,{initialPriority:y})}}]})}return n&&n.length?r.createElement(de.cU,{boardNames:s,priority:y}):r.createElement(de.ub,{header:"Oops! Something went wrong",description:`An error occurred while updating the model for your ${s} ${ce()("board",t.length)}.`,illustration:me,illustrationDark:ge,actions:[{label:"refresh",onClick:()=>{this.feedly.refresh()}},{label:"contact support",importance:"secondary",onClick:()=>{this.feedly.loadPage("support")}}]})}}if(g.length&&0===f)return r.createElement(de.ub,{header:"Waiting for new articles...",description:"Leo is waiting for new articles to be published to analyse them and apply your priorities.",illustration:ve,illustrationDark:be,size:"large",actions:m?[]:[{label:"Train Leo",importance:"secondary",onClick:()=>{const e=h?ae.KD:ae.YL;this.feedly.slideForm(e,{defaultTab:"trainLeo",streamInfo:n})}}]});if(!g.length&&m){const e=c||!p;return r.createElement(de.ub,{header:"Meet Leo, your AI research assistant",className:"EmptyStatePriority",description:"Train him to read your feeds and short-list the most important articles.",illustration:ve,illustrationDark:be,actions:[...e?[{label:"New Priority",importance:"primary",onClick:()=>{this.feedly.slideForm(d)}}]:[],{label:"Learn more",importance:e?"tertiary":"secondary",onClick:()=>{this.feedly.previewEntry("2ngmJckPrdoYvE625AafrGNTcAht7494JFcpIOEUSC0=_1678149753a:464294:120aac75")}}],size:"large"})}return g.length?r.createElement(de.ub,{className:"EmptyStatePriority",header:"All done!",description:"You have read all your prioritized articles!",illustration:fe,illustrationDark:ye,actions:[{label:"See all prioritized articles",importance:"secondary",onClick:()=>{t()}}]}):r.createElement("div",null,r.createElement(de.P9,{header:"Meet Leo, your AI research assistant",description:"Ask him to read your feeds and short-list crucial articles.",streamId:i}),h&&!c&&r.createElement("p",{className:"EmptyStatePriority__sub is-centered-text"},"Only admins can train Leo for team feeds. Ask your teammates to promote you to admin."))}_combineBoardNames(e){if(!e||!e.length)return"";const t=[];return e.forEach(((s,n)=>{t.length>1&&n===e.length-1&&t.push("and "),t.push(s.label||"Read later"),e.length>2&&n!==e.length-1&&t.push(","),t.push(" ")})),t.join("")}_findLikeBoardPriority(){const{globalPriorities:e,priorities:t,streamInfo:s}=this.props,{isAll:n,isGlobalEnterprise:i}=(0,a.Yg)(s.id);return(n||i?t.concat(e):t).find((e=>e.trainingStatus))}async _askTrainingProgress(e){const{progress:t,status:s}=await streets.service("likeboard").askUpdateTrainingProgress({id:e,streamId:this.props.streamInfo.id});return{progress:t,status:s}}}we.propTypes={globalPriorities:i().arrayOf(i().object).isRequired,onShowUnread:i().func.isRequired,priorities:i().arrayOf(i().object).isRequired,streamInfo:i().shape({id:i().string}).isRequired},we.defaultProps={hasLeoSecurityFeature:!1};var ke=s(5375);const _e=(0,I.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12.006 3.86a.5.5 0 01.492.41l.008.09v15.3a.5.5 0 01-.992.089l-.008-.09V4.36a.5.5 0 01.5-.5z"}),r.createElement("path",{d:"M19.64 11.523a.5.5 0 01.09.992l-.09.008H4.377a.5.5 0 01-.09-.992l.09-.008h15.261z"})))}));var Me=s(51196),Se=s(57993),Te=s(84955),Ie=s(40280),Ne=s(49616),Pe=s(6931),Le=s(1542),xe=s(55024),De=s(29724);class Oe extends r.Component{constructor(e){super(e),this._renderButtons=()=>{const{hasPendingChanges:e,isMaxEnterprisePriorities:t,isMaxPersonalPriorities:s,isSaving:n,isUpdateMode:i,labelError:a,onCancel:o,restrictedEnterpriseParts:l,streamId:c,submitLabel:d}=this.props,{formError:h}=this.state,g=t||s,f=[r.createElement(u.zx,{className:"GuidedTutorial__gpc-target-5",disabled:n||!e||!c||!!a||!!l.length||g,key:"submit",label:d,loading:n,onClick:this._onSubmit}),r.createElement(u.zx,{importance:"secondary",key:"cancel",label:"Cancel",onClick:o})];return r.createElement(m.Le,{scrollParent:".floatingEntryScroller",target:i?".DeluxeTextInput":".PriorityOptionSelector"},(({isSticky:e})=>r.createElement(r.Fragment,null,f,h&&r.createElement("div",{className:"message error"},h),e&&r.createElement(p.mU,{actions:f,compact:e,sticky:!0,title:i?"Update priority":"Create priority"}))))},this._renderTitle=e=>r.createElement(Ie.H2,{className:"heading--muted heading--light"},e),this._renderLayerSelector=({isFullLineAnd:e}={})=>{const{askAddNotLayer:t,askNewLeoOptionSelect:s,hasLeoSecurityFeature:n,hasSecurityLayer:i,layers:a,notLayers:o}=this.props;let l;return l=e?r.createElement(u.zx,{className:"PriorityForm__selector-button m-x-0 m-b-1",color:"accent",icon:r.createElement(ke.Z,{color:"accent"}),importance:"tertiary",label:"AND"}):r.createElement(u.zx,{icon:r.createElement(_e,{importance:"tertiary"}),importance:"secondary",rounded:!0,size:"large"}),r.createElement(r.Fragment,null,e&&r.createElement("div",{className:"PriorityForm__selector-line"}),r.createElement(Et,{andButton:r.createElement(bt,{button:l,hideSecurityLayer:i,hasLeoSecurityFeature:n,onSelect:s,tagName:e?"div":"span"}),notButton:!o.length&&a.length>0?r.createElement(u.zx,{className:"PriorityForm__selector-button m-x-0 m-b-1",color:"accent",icon:r.createElement(Me.Z,{color:"accent"}),importance:"tertiary",label:"NOT",onClick:t}):null}))},this._renderNotLayers=()=>{const{onChangeMatchType:e,onLayerAddPart:t,onLayerDelete:s,onLayerDeletePart:n,onSalienceChange:i,notLayers:a,streamId:o}=this.props;return a.map((({parts:a,salience:l,type:c},d)=>r.createElement("div",{key:d,className:"m-b-2"},r.createElement(Ie.H2,{className:"heading--muted heading--light m-t-0"},"Excluding"),r.createElement(ut,{onAddPart:e=>{t(d,e,F.ti.notLayers)},onChangeMatchType:(t,s)=>{e(d,t,F.ti.notLayers,s)},onDelete:()=>{s(d,F.ti.notLayers)},onDeletePart:e=>n(d,e,F.ti.notLayers),onSalienceChange:e=>{i(d,e,F.ti.notLayers)},parts:a,salience:l,streamId:o,type:c}))))},this._closeSlider=()=>{this._onCloseConfirmExitModal(),this._resolveExit()},this._onCloseConfirmExitModal=()=>{this.setState({isConfirmExitModalOpen:!1})},this._onOpenConfirmExitModal=()=>{this.setState({isConfirmExitModalOpen:!0})},this._onSubmit=()=>{const{getAPIData:e,label:t,layers:s,onSubmit:n,needsLabel:i}=this.props;s.some((e=>e.parts&&e.parts.length))?i&&!t?(this.setState({formError:"Please provide a name"}),this._onCloseConfirmExitModal()):n(e()):(this.setState({formError:"Please choose at least one thing for Leo to prioritize"}),this._onCloseConfirmExitModal())},this.leo=streets.service("leo"),this._showCollectionSelect=!e.streamId||e.isUpdateMode,this.state={formError:"",isConfirmExitModalOpen:!1}}componentDidUpdate(e){const{label:t,layers:s}=this.props;e.layers===s&&e.label===t||this.setState({formError:""})}componentWillUnmount(){this.leo=null,this._resolveExit=null}askConfirmExit(){const{hasPendingChanges:e}=this.props;return new Promise((t=>{e?(this._resolveExit=t,this._onOpenConfirmExitModal()):t()}))}render(){const{hasPendingChanges:e,initialTopicQuery:t,isLoadingEntityInfo:s,label:n,labelError:i,layers:o,onChangeMatchType:l,onCollectionChange:c,onLabelChange:d,onLayerAddPart:h,onLayerDelete:u,onLayerDeletePart:p,onSalienceChange:m,needsLabel:g,notLayers:f,restrictedEnterpriseParts:y,title:v,streamId:b}=this.props;if(!this._showCollectionSelect&&!o.length)return r.createElement("div",{className:"PriorityForm"},this._renderTitle(v),this._renderLayerSelector(),this._renderConfirmExitModal(),r.createElement("div",{className:"m-t-2"},this._renderNotLayers(),this._renderUpgradePrompt(),f.length>0&&this._renderButtons()));let C=0;const{isEnterprise:w}=(0,a.Yg)(b);return r.createElement("div",{className:"PriorityForm form GuidedTutorial__gpc-offset-4"},this._showCollectionSelect&&r.createElement(r.Fragment,null,this._renderTitle("In which feed?"),r.createElement(Ne.T,{className:E()({"m-b-2":!b}),selected:b,onSelect:c,showPersonal:!0,showAll:!0,showTeam:streets.hasAdminBusinessAccess()})),b&&r.createElement(r.Fragment,null,this._renderTitle(v),o.map((({parts:e,salience:n,type:i,searchHint:a},o)=>{C+=e.length;let c=[];switch(i){case F.ur.likeBoard:c=this.leo.listCachedTagSuggestions(b);break;case F.ur.matches:c=this.leo.listCachedPartSuggestions(b)}return r.createElement(r.Fragment,{key:o},o>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"PriorityForm__conjunction-separator"}),r.createElement("div",{className:"PriorityForm__conjunction-container"},r.createElement(Y.x,{className:"PriorityForm__conjunction",size:"smaller",tagName:"span"},"AND"))),r.createElement(ut,{initialTopicQuery:t,isLoadingEntityInfo:s,isTeam:w,onChangeMatchType:(e,t)=>{l(o,e,F.ti.layers,t)},onDelete:()=>{u(o,F.ti.layers)},onDeletePart:e=>{p(o,e,F.ti.layers)},onAddPart:e=>{h(o,e,F.ti.layers)},onSalienceChange:e=>{m(o,e,F.ti.layers)},parts:e,salience:n,streamId:b,suggestions:c,searchHint:a,type:i}))})),this._renderLayerSelector({isFullLineAnd:!0}),this._renderNotLayers()),(C>0||e)&&r.createElement(r.Fragment,null,g&&0===y.length&&r.createElement("div",{className:"form m-b-2"},r.createElement(Ie.H2,{className:"heading--muted heading--light "+(f.length?"m-t-2":"m-t-1")},"What do you want to name this priority?"),r.createElement(Pe.At,{className:"PriorityForm__input",error:i,onChange:d,value:n})),r.createElement("div",{className:"GuidedTutorial__gpc-offset-5 m-b-2 m-t-1"},this._renderUpgradePrompt(),this._renderButtons())),o.length>0&&this._renderPreview(),this._renderConfirmExitModal())}_renderEnterpriseFeaturePrompt(){const{restrictedEnterpriseParts:e}=this.props,t=e[0],s=(0,z.Td)(t),n="string"==typeof t?"The Security Threat Skill":t.label,i="string"==typeof t?"LeoSecurity":t.enterpriseFeatures[0],a=r.createElement(r.Fragment,null,s?`The ${s}`:""," ",r.createElement("b",{className:"color-primary"},n)," is part of the"," ",Te.Jw[i]||Te.Jw.Enterprise," ","package.");return r.createElement(De.X_,{description:a,feature:i})}_renderPreview(){const{entries:e,getAPIData:t,isLoadingPreview:s,previewError:n,streamVersion:i}=this.props;let a;if(n)a=r.createElement("div",null,"Preview failed because: ",n);else if(e||s){const n=t();a=r.createElement(Le.c,{entries:e,isLeoPreview:!0,loading:s,noEntriesText:"No matching articles yet.",priorityInfo:n,streamVersion:i})}return a?r.createElement("div",{className:"GuidedTutorial__gpc-target-4"},r.createElement(Ie.H2,{appearance:"h4"},"Preview"),a):null}_renderConfirmExitModal(){const{isConfirmExitModalOpen:e}=this.state,{confirmExitHeaderText:t,confirmExitBodyText:s,isSaving:n}=this.props;return e?r.createElement(xe.u_,{onClose:this._onCloseConfirmExitModal,small:!0},r.createElement(Ie.H2,{appearance:"h3"},t),r.createElement("p",null,s),r.createElement(u.zx,{disabled:n,label:"Save Changes",loading:n,onClick:this._onSubmit}),r.createElement(u.zx,{label:"Discard",onClick:this._closeSlider,importance:"secondary"})):null}_renderUpgradePrompt(){const{hasLeoFeedsLimit:e,isMaxEnterprisePriorities:t,isMaxPersonalPriorities:s,restrictedEnterpriseParts:n}=this.props;return s||t?r.createElement(De.og,{feature:e?"leoFeeds":"priorities",type:s?Se.s.personal:Se.s.team}):n.length?this._renderEnterpriseFeaturePrompt():null}}Oe.propTypes={askAddNotLayer:i().func.isRequired,askNewLeoOptionSelect:i().func.isRequired,confirmExitBodyText:i().string.isRequired,confirmExitHeaderText:i().string.isRequired,entries:i().arrayOf(i().object),getAPIData:i().func.isRequired,hasPendingChanges:i().bool.isRequired,hasLeoSecurityFeature:i().bool.isRequired,hasSecurityLayer:i().bool.isRequired,initialTopicQuery:i().string,isLoadingEntityInfo:i().bool,isLoadingPreview:i().bool.isRequired,isMaxEnterprisePriorities:i().bool,isMaxPersonalPriorities:i().bool,isSaving:i().bool.isRequired,isUpdateMode:i().bool.isRequired,label:i().string,labelError:i().string,layers:i().arrayOf(i().object),needsLabel:i().bool.isRequired,notLayers:i().arrayOf(i().object),onCancel:i().func.isRequired,onChangeMatchType:i().func.isRequired,onCollectionChange:i().func.isRequired,onLabelChange:i().func.isRequired,onLayerAddPart:i().func.isRequired,onLayerDelete:i().func.isRequired,onLayerDeletePart:i().func.isRequired,onSalienceChange:i().func.isRequired,onSubmit:i().func.isRequired,previewError:i().string,restrictedEnterpriseParts:i().arrayOf(i().oneOfType([i().object,i().string])),hasLeoFeedsLimit:i().bool.isRequired,streamVersion:i().number.isRequired,streamId:i().string,submitLabel:i().string.isRequired,title:i().string.isRequired},Oe.defaultProps={entries:null,initialTopicQuery:"",isLoadingEntityInfo:!1,isMaxEnterprisePriorities:!1,isMaxPersonalPriorities:!1,label:"",labelError:"",layers:[],notLayers:[],previewError:"",restrictedEnterpriseParts:null,streamId:""};var Ae=s(88982),ze=s(78505);const Re=(0,I.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M2.857 7.821a9.321 9.321 0 019.322 9.322.75.75 0 01-1.5 0A7.821 7.821 0 002.857 9.32a.75.75 0 110-1.5z"}),r.createElement("path",{d:"M2.857 2.107c8.304 0 15.036 6.732 15.036 15.036a.75.75 0 01-1.5 0c0-7.476-6.06-13.536-13.536-13.536a.75.75 0 010-1.5zM4.286 13.536a2.179 2.179 0 100 4.357 2.179 2.179 0 000-4.357zm0 1.5a.679.679 0 110 1.357.679.679 0 010-1.357z"})))}));var Fe=s(51381),je=s(11459),Ue=s(53307),Be=s(28906);function He({entries:e,isLeoPreview:t,loading:s,noEntriesText:n,priorityInfo:i,streamVersion:a}){return s||!e?r.createElement("div",{className:"EntryList__loading"},r.createElement(Z.g,{details:"examples"})):e.length?r.createElement(Be.f,{key:"entryList",className:"ExampleEntryList p-l-0",entryRenderer:Ue.y,entries:e,layout:je.Ar.magazine,hasAllEntries:!1,hideAuthor:!0,hideBoardLabel:!0,hideMeme:!0,highlightKeywords:!0,isLeoPreview:t,isLoading:!1,priorityInfo:i,showSourceTitle:!0,streamVersion:a}):r.createElement(Y.x,{className:"p-l-2 m-t-0"},n)}He.propTypes={entries:i().arrayOf(i().object),isLeoPreview:i().bool,loading:i().bool,noEntriesText:i().string,priorityInfo:i().shape({id:i().string,label:i().string,streamLabel:i().string,layers:i().arrayOf(i().object)}),streamVersion:i().number},He.defaultProps={entries:[],isLeoPreview:!1,loading:!1,noEntriesText:"Sorry, no articles were found.",priorityInfo:{},streamVersion:0};const Ye=(0,I.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M6.327 8.898a.75.75 0 01.976-.072l.084.072L12 13.511l4.613-4.613a.75.75 0 01.976-.072l.084.072a.75.75 0 01.073.977l-.073.084-5.143 5.143a.75.75 0 01-.976.072l-.084-.072-5.143-5.143a.75.75 0 010-1.06z",fill:"currentColor",fillRule:"nonzero"}))})),Ze=({onClick:e,placeholder:t,selectedValue:s,className:n,iconComponent:i})=>{const a=E()("MobileSelect__value",{"MobileSelect__value--empty":!s});return r.createElement("div",{className:E()("MobileSelect DeluxeTextInput__TextInput",n),onClick:e},r.createElement("div",{className:a},i&&r.createElement(i,{className:"MobileSelect__icon",importance:"secondary"}),s||t),r.createElement("div",{className:"MobileSelect__arrow"},r.createElement(Ye,{importance:"tertiary"})))};Ze.propTypes={onClick:i().func,selectedValue:i().string,className:i().string,iconComponent:i().elementType,placeholder:i().string},Ze.defaultProps={onClick:()=>{},selectedValue:"",iconComponent:void 0,className:void 0,placeholder:"none"};var We=s(38476),$e=s(87790),qe=s(11505),Ve=s(55015),Ge=s(11681);class Qe extends r.Component{constructor(e){super(e),this._renderParts=()=>{const{isLoadingEntityInfo:e,onChangeMatchType:t,onDeletePart:s,parts:n,salience:i,type:a}=this.props,o=i===F.mb.mention?We.Z:$e.Z;return r.createElement(r.Fragment,null,r.createElement(Ve.j,{className:"PriorityLayer__chip-list"},n.map(((n,i)=>r.createElement(yt,{key:"string"==typeof n?n:n.id||n.text,isLoadingEntityInfo:e,onChangeMatchType:e=>{t(i,e)},onDeletePart:s,part:n,type:a}))),this._renderOrButton()),r.createElement("div",{className:"PriorityLayer__actions-container m-t-t"},r.createElement(o,{className:"m-r-3",importance:"secondary",onClick:this._onSalienceClick}),r.createElement(qe.Z,{importance:"secondary",onClick:this._onDeleteClick})))},this._renderDeleteLayerDrawer=()=>r.createElement(Ge.xJ,{actionColor:"danger",actionLabel:"Yes, delete",description:"This is permanent and can't be undone.",onCloseDrawer:this._onCloseDeleteDrawer,title:"Delete layer?",onClick:this._onDeleteConfirmClick,onClose:this._onCloseDeleteDrawer}),this._renderSalienceDrawer=()=>{const{salience:e}=this.props;return r.createElement(Ge.M5,{onClose:this._onCloseSalienceDrawer,onSalienceChange:this._onSalienceChange,salience:e})},this._onCloseDeleteDrawer=()=>{this.setState({isDeleteDrawerOpen:!1})},this._onCloseSalienceDrawer=()=>{this.setState({isSalienceDrawerOpen:!1})},this._onDeleteClick=()=>{this.setState({isDeleteDrawerOpen:!0})},this._onDeleteConfirmClick=()=>{this.setState({isDeleteDrawerOpen:!1}),this.props.onDelete()},this._onSalienceClick=()=>{this.setState((({isSalienceDrawerOpen:e})=>({isSalienceDrawerOpen:!e})))},this._onSalienceChange=e=>{this.props.onSalienceChange(e),this._onCloseSalienceDrawer()},this.state={isDeleteDrawerOpen:!1,isSalienceDrawerOpen:!1}}render(){const{isDeleteDrawerOpen:e,isSalienceDrawerOpen:t}=this.state;return r.createElement("div",{className:"PriorityLayer"},this._renderParts(),t&&this._renderSalienceDrawer(),e&&this._renderDeleteLayerDrawer())}_renderOrButton(){const{onNewPartClick:e,parts:t,type:s}=this.props;return s===F.ur.security&&t.length===F.BU.length?null:r.createElement(u.zx,{className:"p-l-h m-b-t",color:"accent",icon:r.createElement(ke.Z,{color:"accent"}),importance:"tertiary",label:"OR",onClick:e,title:F.bL[s]})}}Qe.propTypes={isLoadingEntityInfo:i().bool,onChangeMatchType:i().func.isRequired,onDelete:i().func.isRequired,onDeletePart:i().func.isRequired,onNewPartClick:i().func.isRequired,onSalienceChange:i().func.isRequired,parts:i().arrayOf(l.G$),salience:i().oneOf(Object.keys(F.mb)).isRequired,type:i().oneOf(Object.keys(F.ur)).isRequired},Qe.defaultProps={isLoadingEntityInfo:!1,parts:[]};class Ke extends r.Component{constructor(...e){super(...e),this.state={formError:"",isTrainLeoDrawerOpen:!1},this._renderHeader=()=>{const{isSaving:e,label:t,labelError:s,needsLabel:n,onCancel:i,pageManager:a,restrictedEnterpriseParts:o,submitLabel:l,title:c}=this.props;return r.createElement(m.Pl,{pageManager:a},r.createElement(p.DJ,{actionsRight:r.createElement(u.zx,{key:"submit",color:!n||t?"accent":"black",importance:"tertiary",label:l,onClick:this._onSubmit,loading:e,disabled:e||n&&!t||o.length>0||!!s}),actionsLeft:r.createElement(u.zx,{key:"cancel",importance:"tertiary",label:"Cancel",onClick:i}),title:c,titleAlign:"center"}))},this._renderTitle=e=>r.createElement(Ie.H2,{appearance:"h4",className:"PriorityForm__heading"},e),this._renderLayerSelector=()=>{const{isTrainLeoDrawerOpen:e}=this.state,{hasLeoSecurityFeature:t,hasSecurityFeed:s,hasSecurityLayer:n}=this.props;return e&&r.createElement(Ge.fy,{hideSecurityLayer:n,hasLeoSecurityFeature:t,hasSecurityFeed:s,onCloseDrawer:this._onCloseTrainLeoDrawer,onNewPriorityClick:this._onNewLeoOptionSelect})},this._renderFeedSelector=()=>{const{streamLabel:e}=this.props;return r.createElement(r.Fragment,null,this._renderTitle("Feed"),r.createElement(Ze,{label:"Select Personal Boards",className:"PriorityForm__input",iconComponent:Re,selectedValue:e,onClick:this._onOpenCollectionSelector}))},this._renderNotLayers=()=>{const{isLoadingEntityInfo:e,notLayers:t,onChangeMatchType:s,onLayerDelete:n,onLayerDeletePart:i,onSalienceChange:a}=this.props;return t.map((({parts:t,salience:o,type:l},c)=>r.createElement("div",{key:c,className:"PriorityForm__not-layer"},r.createElement(Ie.H2,{appearance:"h4",className:"PriorityForm__heading m-t-0"},"Excluding"),r.createElement(Qe,{isLoadingEntityInfo:e,onChangeMatchType:(e,t)=>{s(c,e,F.ti.notLayers,t)},onDelete:()=>{n(c,F.ti.notLayers)},onDeletePart:e=>i(c,e,F.ti.notLayers),onNewPartClick:()=>{this._onNewPartClick(l,c,{matchesLayerType:F.ti.notLayers})},onSalienceChange:e=>{a(c,e,F.ti.notLayers)},parts:t,salience:o,type:l}))))},this._onAddNotLayer=async()=>{await this.props.askAddNotLayer();const{notLayers:e}=this.props;this._onNewPartClick(F.ur.matches,e.length-1,{matchesLayerType:F.ti.notLayers})},this._onOpenCollectionSelector=()=>{const{onCollectionChange:e}=this.props;this.tabsManager.askOpenNewPage("selectCollection",{helperPage:!0,props:{onCollectionSelect:e,showTeamCollections:streets.hasAdminBusinessAccess(),showPersonalCollections:!0,hasAllOption:!0}})},this._onNewLeoOptionSelect=async e=>{await this.props.askNewLeoOptionSelect(e);const{layers:t}=this.props;F.ur[e]===F.ur.security||e===F.Pr.cyberEvent||this._onNewPartClick(e,t.length-1),this._onCloseTrainLeoDrawer()},this._onNewPartClick=(e,t,{openSecuritySelector:s=!0,matchesLayerType:n=F.ti.layers}={})=>{const{layers:i,onLayerAddPart:r,onLayerDelete:o,streamId:l}=this.props,{isEnterprise:c}=(0,a.Yg)(l),d=F.ur[e];d===F.ur.matches?this.tabsManager.askOpenNewPage("SelectLeoTopic",{helperPage:!0,props:{isPriority:!0,onSelectLeoTopic:e=>{e?r(t,e,n):this._isEmpty(i[t])&&o(t,n),this.tabsManager.askBack()},selectedParts:i[t].parts,searchHint:i[t].searchHint||F.TP[e],streamId:l}}):d===F.ur.likeBoard?this.tabsManager.askOpenNewPage("SelectTag",{helperPage:!0,props:{isTeam:c,onTagSelect:e=>{e?r(t,e,n):this._isEmpty(i[t])&&o(t,n),this.tabsManager.askBack()}}}):d===F.ur.security&&s&&this.tabsManager.askOpenNewPage("SelectSecuritySeverity",{helperPage:!0,props:{onSeveritySelect:e=>{e?r(t,e,n):this._isEmpty(i[t])&&o(t,n),this.tabsManager.askBack()},selectedParts:i[t].parts}})},this._onSubmit=()=>{const{getAPIData:e,layers:t,onSubmit:s}=this.props;t.some((e=>e.parts&&e.parts.length))?s(e()):this.setState({formError:"Please choose at least one thing for Leo to prioritize"})},this._onOpenTrainLeoDrawer=()=>{this.setState({isTrainLeoDrawerOpen:!0})},this._onCloseTrainLeoDrawer=()=>{this.setState({isTrainLeoDrawerOpen:!1})}}componentDidMount(){const{isUpdateMode:e,layers:t}=this.props;this.tabsManager=streets.service("tabsManager"),e||t.length||this._onOpenTrainLeoDrawer()}componentDidUpdate(e){const{isTrainLeoDrawerOpen:t}=this.state,{layers:s}=this.props;e.layers.length===s.length||0!==s.length||t||this._onOpenTrainLeoDrawer(),e.layers!==s&&this.setState({formError:""})}componentWillUnmount(){this.tabsManager=null}render(){const{formError:e}=this.state,{isLoadingEntityInfo:t,layers:s,label:n,labelError:i,needsLabel:a,notLayers:o,onChangeMatchType:l,onLabelChange:c,onLayerDelete:d,onLayerDeletePart:h,onSalienceChange:p,restrictedEnterpriseParts:m,streamId:g,title:f}=this.props;return s.length?r.createElement(r.Fragment,null,this._renderHeader(),r.createElement("div",{className:"PriorityForm Page Page--white"},this._renderFeedSelector(),g&&r.createElement(r.Fragment,null,this._renderTitle("Prioritize"),s.map((({parts:e,salience:s,type:n},i)=>r.createElement(r.Fragment,{key:i},i>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"PriorityForm__conjunction-separator"}),r.createElement("div",{className:"PriorityForm__conjunction-container"},r.createElement(Y.x,{className:"PriorityForm__conjunction",size:"smaller",tagName:"span"},"AND"))),r.createElement(Qe,{isLoadingEntityInfo:t,onChangeMatchType:(e,t)=>{l(i,e,F.ti.layers,t)},onDelete:()=>{d(i,F.ti.layers)},onDeletePart:e=>{h(i,e,F.ti.layers)},onNewPartClick:()=>{this._onNewPartClick(n,i)},onSalienceChange:e=>{p(i,e,F.ti.layers)},parts:e,salience:s,type:n})))),r.createElement("div",{className:"PriorityForm__selector-line"}),r.createElement(Et,{andButton:r.createElement(u.zx,{color:"accent",className:"PriorityForm__selector-button m-x-0 m-b-1",icon:r.createElement(ke.Z,{color:"accent"}),importance:"tertiary",label:"AND",onClick:this._onOpenTrainLeoDrawer}),notButton:!o.length&&s.length>0?r.createElement(u.zx,{className:"PriorityForm__selector-button m-x-0 m-b-1 p-l-2",color:"accent",icon:r.createElement(Me.Z,{color:"accent"}),importance:"tertiary",label:"NOT",onClick:this._onAddNotLayer}):null}),this._renderLayerSelector()),this._renderNotLayers(),this._renderEnterpriseFeaturePrompt(),a&&0===m.length&&r.createElement(r.Fragment,null,r.createElement(Ie.H2,{appearance:"h4",className:"PriorityForm__heading m-t-0"},"Priority Name"),r.createElement(Pe.At,{className:"PriorityForm__input",error:i,onChange:c,placeholder:"e.g. Tesla",value:n})),e&&r.createElement("div",{className:"m-l-2 message error"},e),s.length>0&&this._renderPreview())):r.createElement("div",null,this._renderHeader(),r.createElement("div",{className:"PriorityForm Page Page--white"},this._renderFeedSelector(),this._renderTitle(f),this._renderLayerSelector(),r.createElement(u.zx,{className:"PriorityForm__new-layer is-centered-block",icon:r.createElement(Fe.Z,{importance:"tertiary"}),importance:"secondary",onClick:this._onOpenTrainLeoDrawer,rounded:!0}),this._renderNotLayers(),e&&r.createElement("div",{className:"m-l-2 message error"},e)))}_renderEnterpriseFeaturePrompt(){const{restrictedEnterpriseParts:e}=this.props;if(!e.length)return null;const t=e[0],s=(0,z.Td)(t),n="string"==typeof t?"The Security Threat Skill":t.label,i="string"==typeof t?"LeoSecurity":t.enterpriseFeatures[0],a=r.createElement(r.Fragment,null,s?`The ${s}`:""," ",r.createElement("b",{className:"color-primary"},n)," is part of the"," ",Te.Jw[i]||Te.Jw.Enterprise," ","package.");return r.createElement(De.X_,{description:a,feature:i})}_renderPreview(){const{entries:e,getAPIData:t,isLoadingPreview:s,previewError:n,streamVersion:i}=this.props;let a;if(n)a=r.createElement("div",{className:"m-l-2"},"Preview failed because: ",n);else if(e||s){const n=t();a=r.createElement(He,{entries:e,isLeoPreview:!0,loading:s,noEntriesText:"No matching articles yet.",priorityInfo:n,streamVersion:i})}return a?r.createElement(r.Fragment,null,r.createElement(Ie.H2,{appearance:"h4",className:"PriorityForm__heading"},"Preview"),a):null}_isEmpty(e){return!e.parts||!e.parts.length}}Ke.propTypes={askAddNotLayer:i().func.isRequired,askNewLeoOptionSelect:i().func.isRequired,entries:i().arrayOf(i().object),getAPIData:i().func.isRequired,hasLeoSecurityFeature:i().bool.isRequired,hasSecurityFeed:i().bool.isRequired,hasSecurityLayer:i().bool.isRequired,isLoadingEntityInfo:i().bool,isLoadingPreview:i().bool.isRequired,isSaving:i().bool.isRequired,isUpdateMode:i().bool.isRequired,label:i().string,labelError:i().string,layers:i().arrayOf(i().object),needsLabel:i().bool.isRequired,notLayers:i().arrayOf(i().object),onCancel:i().func.isRequired,onChangeMatchType:i().func.isRequired,onCollectionChange:i().func.isRequired,onLabelChange:i().func.isRequired,onLayerAddPart:i().func.isRequired,onLayerDelete:i().func.isRequired,onLayerDeletePart:i().func.isRequired,onSalienceChange:i().func.isRequired,onSubmit:i().func.isRequired,pageManager:i().shape({askClose:i().func}).isRequired,previewError:i().string,restrictedEnterpriseParts:i().arrayOf(i().oneOfType([i().object,i().string])),streamVersion:i().number.isRequired,streamId:i().string,streamLabel:i().string,submitLabel:i().string.isRequired,title:i().string.isRequired},Ke.defaultProps={entries:null,isLoadingEntityInfo:!1,label:"",labelError:"",layers:null,notLayers:null,previewError:"",restrictedEnterpriseParts:null,streamId:"",streamLabel:""};const Je="id",Xe="text";class et extends r.Component{constructor(e){super(e),this._askAddNotLayer=()=>new Promise((e=>{this.setState((({notLayers:e})=>({notLayers:[...e,{negate:!0,parts:[],salience:F.mb.mention,type:F.ur.matches}]})),e)})),this._askNewLeoOptionSelect=e=>{const t=F.ur[e],s=F.Eh[e];return new Promise((n=>{this.setState((({hasPendingChanges:n,layers:i})=>({hasPendingChanges:!!s||n,layers:[...i,{parts:s?[s]:[],salience:F.mb.mention,searchHint:F.TP[e],type:t}]})),(()=>{s&&(this._updateEntries(),this._updateEnterprisePartRestrictions()),n()}))}))},this._getAPIData=()=>{const{initialPriority:e={}}=this.props,{layers:t,notLayers:s,streamId:n}=this.state;let{label:i}=this.state;this._needsLabel()||(i=t[0].parts[0]?t[0].parts[0].label||t[0].parts[0].text:null);return{...e,...n?{streamIds:[n]}:{},label:i,layers:[...t,...s].filter((e=>e.parts.length)).map((e=>({...e,parts:e.parts.map((e=>e.convertToKeyword?{text:e.suggestText||e.label}:e))}))).map((({negate:e,parts:t,salience:s=F.mb.mention,type:n})=>({negate:e,[F.y9[n]]:this._getLayerParts(t,n),type:n,...n===F.ur.matches?{salience:s}:{}})))}},this._hasSecurityLayer=()=>{const{layers:e}=this.state;return e.some((({type:e})=>e===F.ur.security))},this._isMono=()=>{const{layers:e,notLayers:t}=this.state;return!(e.length>1)&&((!e.length||!t.length)&&!(e[0]&&e[0].parts.length>1))},this._needsLabel=()=>!this._isMono()||this.state.isUpdateMode||this._hasSecurityLayer(),this._onChangeMatchType=(e,t,s,n)=>{this.setState((({layers:i,notLayers:r})=>{const a=s===F.ti.layers?[...i]:[...r],o=[...a[e].parts],l={...o[t]};return l.convertToKeyword=n===j.m3.keyword,o[t]=l,a[e]={...a[e],parts:o},{hasPendingChanges:!0,[s]:a}}),this._updateEntries)},this._onCollectionChange=({streamId:e,label:t})=>{this.setState((({layers:s,streamId:n})=>{let i;if(e){const{isEnterprise:t}=(0,a.Yg)(n),{isEnterprise:r}=(0,a.Yg)(e);t!==r&&(i=s.map((e=>e.type===F.ur.likeBoard?{...e,parts:[]}:e)))}return{hasPendingChanges:!0,layers:i||s,streamId:e,streamLabel:t}}),this._updateEntries)},this._onLabelChange=e=>{this.setState({hasPendingChanges:!0,label:e,labelError:(0,Ae.B)(e)?Ae.I:""})},this._onLayerAddPart=(e,t,s)=>{this.setState((({layers:n,notLayers:i,restrictedEnterpriseParts:r})=>{let a=s===F.ti.layers?[...n]:[...i];s===F.ti.notLayers&&0===a.length&&(a=[{negate:!0,parts:[],salience:F.mb.mention,type:F.ur.matches}]);const{parts:o}=a[e],l=[...o];return o.find((e=>(0,ie.xF)(e,t)))||l.push(t),this._isRestrictedEnterpriseFeature(t)&&r.push(t),a[e]={...a[e],parts:l,searchHint:(0,z.Iz)(l,a[e].type)},{hasPendingChanges:!0,[s]:a,restrictedEnterpriseParts:r}}),(()=>{this.forceUpdate(),this._updateEntries()}))},this._onLayerDelete=(e,t)=>{this.setState((({layers:s,notLayers:n,restrictedEnterpriseParts:i})=>{const r=t===F.ti.layers?[...s]:[...n],a=r[e].parts.find((e=>this._isRestrictedEnterpriseFeature(e)));return r.splice(e,1),{hasPendingChanges:!0,restrictedEnterpriseParts:a?this._removeRestrictedPart(a):i,[t]:r}}),this._updateEntries)},this._onLayerDeletePart=(e,t,s)=>{this.setState((({layers:n,notLayers:i})=>{const r=s===F.ti.layers?[...n]:[...i],a=r[e],o=a.parts.filter((e=>{if("string"==typeof t)return e!==t;const s=t.text?Xe:Je;return e[s]!==t[s]}));return r[e]={...a,parts:o,searchHint:(0,z.Iz)(o,r[e].type)},{restrictedEnterpriseParts:this._removeRestrictedPart(t),hasPendingChanges:!0,[s]:r}}),this._updateEntries)},this._onSalienceChange=(e,t,s)=>{this.setState((({layers:n,notLayers:i})=>{const r=s===F.ti.layers?[...n]:[...i];return r[e]={...r[e],salience:t},{hasPendingChanges:!0,[s]:r}}),this._updateEntries)};const{initialPriority:{id:t,label:s="",layers:n=[],streamLabel:i}={}}=e;let{initialPriority:{streamIds:[o]=[]}={}}=e;this._priorityFormRef=r.createRef();const{layers:l,notLayers:c}=(0,ie.Sc)(n);o&&o===(0,a.sX)()&&(o=(0,a.Gr)()),this.state={continuation:"",entries:null,hasPendingChanges:!t&&!!l.length,hasLeoSecurityFeature:!1,hasSecurityFeed:!1,hasLeoFeedsLimit:!1,isLoadingEntityInfo:!1,isLoadingPreview:!1,isUpdateMode:!!t,label:s,labelError:"",layers:l.map((e=>({type:e.type,parts:e[F.y9[e.type]],salience:e.salience,searchHint:e.searchHint}))),notLayers:c,previewError:null,restrictedEnterpriseParts:[],streamVersion:0,streamId:o,streamLabel:i}}componentDidMount(){this.feeds=streets.service("feeds"),this.leo=streets.service("leo"),this.reader=streets.service("reader"),this.tabsManager=streets.service("tabsManager"),this.leo.registerObserver(this),this.state.layers.length&&this._updateLayerEntityInfo(),this._updateLeoInfo(),this._updateEntries()}componentWillUnmount(){this.leo.unregisterObserver(this),this.feeds=null,this.leo=null,this.reader=null,this.tabsManager=null,this._priorityFormRef=null}askConfirmExit(){return!this._priorityFormRef.current||this._priorityFormRef.current.askConfirmExit()}onTopicExcluded(e){this._onLayerAddPart(0,e,F.ti.notLayers)}render(){const{entries:e,hasPendingChanges:t,hasLeoFeedsLimit:s,hasLeoSecurityFeature:n,hasSecurityFeed:i,isLoadingEntityInfo:a,isLoadingPreview:o,isUpdateMode:l,label:c,labelError:d,layers:h,notLayers:u,previewError:p,restrictedEnterpriseParts:m,streamVersion:g,streamId:f,streamLabel:y}=this.state,{confirmExitBodyText:v,confirmExitHeaderText:b,initialTopicQuery:E,isMaxEnterprisePriorities:C,isMaxPersonalPriorities:w,isSaving:k,onCancel:_,onSubmit:M,pageManager:S,submitLabel:T,title:I}=this.props;return r.createElement(Oe,{askAddNotLayer:this._askAddNotLayer,askNewLeoOptionSelect:this._askNewLeoOptionSelect,confirmExitBodyText:v,confirmExitHeaderText:b,entries:e,getAPIData:this._getAPIData,hasLeoFeedsLimit:s,hasPendingChanges:t,hasLeoSecurityFeature:n,hasSecurityLayer:this._hasSecurityLayer(),isLoadingEntityInfo:a,isLoadingPreview:o,initialTopicQuery:E,isMaxEnterprisePriorities:C,isMaxPersonalPriorities:w,isSaving:k,isUpdateMode:l,label:c,labelError:d,layers:h,needsLabel:this._needsLabel(),notLayers:u,onCancel:_,onChangeMatchType:this._onChangeMatchType,onCollectionChange:this._onCollectionChange,onLabelChange:this._onLabelChange,onLayerAddPart:this._onLayerAddPart,onLayerDelete:this._onLayerDelete,onLayerDeletePart:this._onLayerDeletePart,onSalienceChange:this._onSalienceChange,onSubmit:M,previewError:p,ref:this._priorityFormRef,restrictedEnterpriseParts:m,streamVersion:g,streamId:f,submitLabel:T,title:I})}_getLayerParts(e,t){return t===F.ur.likeBoard?e.map((e=>({id:e.id,label:e.label}))):e}_isRestrictedEnterpriseFeature(e){const{hasLeoSecurityFeature:t}=this.state;return F.BU.includes(e)&&!t||e.enterpriseFeatures&&e.enterpriseFeatures.length&&!streets.isEnterprisePlan()}_removeRestrictedPart(e){const{restrictedEnterpriseParts:t}=this.state;return t.filter((t=>{if("string"==typeof e)return t!==e;const s=e.text?Xe:Je;return t[s]!==e[s]}))}async _updateEntries({shouldResetEntries:e=!0}={}){const{continuation:t,entries:s,layers:n,streamId:i,streamVersion:r}=this.state;try{if(!i||!n.length||!n.find((({parts:e})=>e.length)))return void this.setState({continuation:"",isLoadingPreview:!1,entries:null,streamVersion:r+1,previewError:null});this.setState({isLoadingPreview:!0,previewError:null});const a=this._getAPIData();a.id=void 0;const[o,l]=e?["",[]]:[t,s],{continuation:c,entries:d}=await this.reader.askPriorityPreview(a,o),h=[...l,...d],u=h.length<ze.Xh&&!!c;this.setState({continuation:c,isLoadingPreview:u,entries:h.slice(0,ze.Xh),streamVersion:r+1},(()=>{u?this._updateEntries({shouldResetEntries:!1}):streets.service("guidedtutorials").enableContinueButton()}))}catch(a){this.setState({continuation:"",isLoadingPreview:!1,entries:[],streamVersion:r+1,previewError:a.message})}}async _updateLayerEntityInfo(){const{isUpdateMode:e,layers:t,notLayers:s}=this.state;this.setState({isLoadingEntityInfo:!0});const n=await Promise.all([...t,...s].map((async t=>{if(t.type===F.ur.matches&&e){const s=await this.leo.askFullEntitiesInfo(t.parts);return{...t,parts:s,searchHint:e?(0,z.Iz)(s,t.type):t.searchHint}}return t}))),{layers:i,notLayers:r}=(0,ie.Sc)(n);this.setState({isLoadingEntityInfo:!1,layers:i,notLayers:r})}async _updateLeoInfo(){const[e,t,s]=await Promise.all([this.leo.askHasLeoSecurityFeature(),this.feeds.askHasFeedWithTopic("security"),streets.service("profile").askHasLeoFeedsLimit()]);this.setState({hasLeoSecurityFeature:e,hasSecurityFeed:t,hasLeoFeedsLimit:s},(()=>{const{layers:e}=this.state;e.length&&this._updateEnterprisePartRestrictions()}))}_updateEnterprisePartRestrictions(){const{layers:e}=this.state;let{restrictedEnterpriseParts:t}=this.state;e.forEach((e=>{const{hasLeoSecurityFeature:s}=this.state;e.type!==F.ur.security||s?e.type===F.ur.matches&&(t=e.parts.filter((e=>this._isRestrictedEnterpriseFeature(e)))):t=[...e.parts]})),this.setState({restrictedEnterpriseParts:t})}}et.propTypes={confirmExitBodyText:i().string,confirmExitHeaderText:i().string,initialPriority:l.tm,initialTopicQuery:i().string,isMaxEnterprisePriorities:i().bool,isMaxPersonalPriorities:i().bool,isSaving:i().bool,onCancel:i().func.isRequired,onSubmit:i().func.isRequired,pageManager:i().shape({askClose:i().func}),submitLabel:i().string,title:i().string.isRequired},et.defaultProps={confirmExitBodyText:"Do you want to save this priority?",confirmExitHeaderText:"Save Priority?",initialPriority:void 0,initialTopicQuery:"",isMaxPersonalPriorities:!1,isMaxEnterprisePriorities:!1,isSaving:!1,pageManager:null,submitLabel:"Update"};const tt=(0,I.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12 5.929c-3.297 0-5.643 2.47-5.643 6.071 0 3.676 2.414 6.5 5.643 6.5 3.229 0 5.643-2.824 5.643-6.5 0-3.6-2.346-6.071-5.643-6.071zm0 1c2.733 0 4.643 2.011 4.643 5.071 0 3.156-2.004 5.5-4.643 5.5S7.357 15.156 7.357 12c0-3.06 1.91-5.071 4.643-5.071z"}),r.createElement("path",{d:"M16.169 16.226l.067.06 1.452 1.543a.5.5 0 01.096.145l.027.083.484 2.057a.5.5 0 01-.945.315l-.028-.086-.453-1.926-1.36-1.446a.5.5 0 01-.04-.64l.06-.067a.5.5 0 01.565-.084l.075.046zm-7.699.038a.5.5 0 01.077.636l-.055.071-1.361 1.446-.453 1.926a.5.5 0 01-.512.385l-.089-.013a.5.5 0 01-.385-.512l.013-.089.484-2.057a.5.5 0 01.068-.16l.054-.068 1.453-1.543a.5.5 0 01.706-.022zm10.79-3.221a.5.5 0 01.412.216l.04.071.969 2.057a.5.5 0 01-.86.504l-.045-.078-.833-1.77h-1.619a.5.5 0 01-.492-.41l-.008-.09a.5.5 0 01.41-.492l.09-.008h1.936zm-12.584 0a.5.5 0 01.09.992l-.09.008h-1.62l-.832 1.77a.5.5 0 01-.58.27l-.086-.03a.5.5 0 01-.27-.581l.03-.085.969-2.057a.5.5 0 01.37-.28l.082-.007h1.937zM19.77 5.329l.089.013a.5.5 0 01.385.512l-.013.09-.968 4.113a.5.5 0 01-.243.323l-.077.034-1.452.514a.5.5 0 01-.416-.905l.082-.037 1.196-.424.905-3.848a.5.5 0 01.512-.385zm-15.056.3l.028.085.905 3.848 1.195.424a.5.5 0 01.327.55l-.022.088a.5.5 0 01-.551.327l-.087-.023-1.452-.514a.5.5 0 01-.294-.277l-.026-.08-.968-4.114a.5.5 0 01.903-.392l.042.077zm4.81-1.772l.04.081.968 2.572a.5.5 0 01-.897.433l-.04-.081-.967-2.572a.5.5 0 01.845-.504l.051.07zm5.556-.21a.5.5 0 01.316.557l-.024.086-.968 2.572a.5.5 0 01-.96-.265l.024-.087.968-2.572a.5.5 0 01.644-.292z"})))}));var st=s(14978),nt=s(1948),it=s(74812),rt=s(5665),at=s(94613);class ot extends r.Component{constructor(e){super(e),this._onCreateBoard=()=>{this.setState({isLoading:!0}),this.props.isTeam?this._createTeamBoard():this._createPersonalBoard()},this._onCreateClick=()=>{this.setState({isCreateMode:!0})},this._onNameChange=e=>{this.setState({error:(0,Ae.B)(e)?Ae.I:"",name:e})},this._onCancel=()=>{this.setState({isCreateMode:!1})},this._selectTag=e=>{this.props.onSelect(e)},this.state={error:null,isCreateMode:!1,isLoading:!1,loadingTags:[],name:"",personalTags:[],subscribedEnterpriseTags:[],unsubscribedEnterpriseTags:[]}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.reader=streets.service("reader"),this.personaltags=streets.service("personaltags"),this.signs=streets.service("signs"),this._updatePersonalTagList(),this._updateEnterpriseTagList()}componentWillUnmount(){this.enterprisetags=null,this.reader=null,this.personaltags=null,this.signs=null}render(){const{error:e,isCreateMode:t,isLoading:s,name:n,personalTags:i,subscribedEnterpriseTags:a,unsubscribedEnterpriseTags:o}=this.state,{isTeam:l}=this.props;let c=[],d=[],h=[];return l?(d=a.map((e=>this._renderMenuItem(e))),h=o.map((e=>this._renderMenuItem(e)))):c=i.map((e=>this._renderMenuItem(e))),t?r.createElement(ee.v2,{className:"form p-x-2 p-y-1",width:300},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"SelectTagPicker-board-name"},"Board name"),r.createElement(Pe.At,{autoFocus:!0,clearable:!0,error:e,id:"SelectTagPicker-board-name",onChange:this._onNameChange,placeholder:"e.g. Design Systems",type:"text",value:n})),r.createElement(u.zx,{disabled:s||!!e||!n,label:"Create",loading:s,onClick:this._onCreateBoard}),r.createElement(u.zx,{label:"Cancel",onClick:this._onCancel,importance:"secondary"})):r.createElement(r.Fragment,null,r.createElement(ee.GX,{deselectable:!0,preventBackgroundSroll:!0,width:300},c.length>0&&r.createElement(ee.NP,null,"Personal Boards"),c,d.length>0&&r.createElement(ee.NP,null,"Team Boards"),d,h.length>0&&r.createElement(ee.NP,null,"Team Boards You Do Not Follow"),h),r.createElement("div",{className:"menu-footer",onClick:this._onCreateClick},r.createElement(ke.Z,{color:"accent"}),r.createElement(Y.x,{className:"menu-footer-text",color:"accent",size:"smaller",tagName:"span"},"Create a board")))}_renderMenuItem(e){const{loadingTags:t}=this.state,{selectedIds:s}=this.props;return r.createElement(ee.AW,{key:e.id,className:"GuidedTutorial__gpc-target-3",label:e.label,loading:t.indexOf(e.id)>-1,onClick:()=>{this._selectTag(e)},selected:s.indexOf(e.id)>-1,type:"select-board"})}async _updateEnterpriseTagList(e){try{const[t,s]=await Promise.all([this.enterprisetags.askListSubscribedTags(),this.enterprisetags.askListNonSubscribedTags()]);if(this.setState({subscribedEnterpriseTags:t,unsubscribedEnterpriseTags:s}),e)return[...t,...s].find((({id:t})=>t===e))}catch(t){this.signs.setDefaultErrorMessage("Failed to retrieve the boards list.")}return null}async _updatePersonalTagList(e){const{excludeGlobal:t}=this.props;try{const s=await this.personaltags.askListTags({excludeGlobal:t});if(this.setState({personalTags:s}),e)return s.find((({id:t})=>t===e))}catch(s){this.signs.setDefaultErrorMessage("Failed to retrieve the boards list.")}return null}async _createPersonalBoard(){const{name:e}=this.state;try{const t=await this.personaltags.askSave({id:null,label:e}),s=await this._updatePersonalTagList(t);s&&this.props.onSelect(s)}catch(t){this.setState({error:t})}}async _createTeamBoard(){const{name:e}=this.state;try{const{id:t}=await this.enterprisetags.askSave({label:e}),s=await this._updateEnterpriseTagList(t);s&&this.props.onSelect(s)}catch(t){this.setState({error:t.errorMessage&&t.errorMessage.indexOf("duplicate label")>-1?"A board with that name already exists.":t.errorMessage,isLoading:!1})}}}ot.propTypes={excludeGlobal:i().bool,isTeam:i().bool,onSelect:i().func,selectedIds:i().arrayOf(i().string)},ot.defaultProps={excludeGlobal:!1,isTeam:!1,onSelect:()=>{},selectedIds:[]};var lt=s(24818),ct=s(23741),dt=s(855);class ht extends r.Component{constructor(e){super(e),this._onChange=e=>{this.setState({query:e})},this._onSelectItem=()=>{const{onSelect:e}=this.props,{query:t}=this.state;e({text:`site:${(0,R._Y)(t)}`})},this.state={query:""}}render(){const{onClose:e}=this.props,{query:t}=this.state,s=t&&!(0,dt.K2)(t)?r.createElement(Pe.HC,{className:"container-flex"},r.createElement(lt.Z,{className:"col-no-flex",color:"danger"}),"The domain needs to be in the following format: example.com"):null;return r.createElement("div",{className:"DomainPicker"},r.createElement("label",{className:"DomainPicker__label m-t-0 m-b-h",htmlFor:"DomainPicker__input"},"Enter the domain of the website you want to exclude"),r.createElement(Pe.At,{id:"DomainPicker__input",elementsBefore:r.createElement(ct.Z,{className:"m-l-2",importance:"secondary"}),error:s,onChange:this._onChange,placeholder:"example.com",value:t}),r.createElement("div",{className:"DomainPicker__buttons-container"},r.createElement(u.zx,{color:"accent",disabled:!!s||!t.length,label:"Exclude",onClick:this._onSelectItem}),r.createElement(u.zx,{importance:"secondary",label:"Cancel",onClick:e})))}}ht.propTypes={onSelect:i().func,onClose:i().func},ht.defaultProps={onSelect:()=>{},onClose:()=>{}};class ut extends r.Component{constructor(e){super(e),this._renderAddPartMenu=()=>{const{initialTopicQuery:e,isTeam:t,isWebAlertExcludeLayer:s,parts:n,searchHint:i,suggestions:a,type:o}=this.props,{excludeType:l}=this.state;switch(o){case F.ur.likeBoard:return r.createElement(ot,{excludeGlobal:t,isTeam:t,onSelect:this._onAddPart,selectedIds:n.map((({id:e})=>e))});case F.ur.matches:return s&&l===F.Pr.domain?r.createElement(ht,{onSelect:this._onAddPart,onClose:this._onCloseAddPartPopover}):r.createElement(rt.Q,{onSelect:this._onAddPart,initialQuery:e,initialSuggestions:a,isPriority:!0,searchHint:i,selectedParts:n});case F.ur.security:return r.createElement(zt,{onSelect:this._onAddPart,selectedParts:n});default:return null}},this._renderBugInspector=()=>{const{parts:e}=this.props,t=X.Z.utils.SessionUtils.load();let s=!1;return e.length||(s=!0),t&&t.sudoSession||"feedly"===streets.getEnterpriseId()?r.createElement(u.zx,{className:"PriorityLayer__action",disabled:s,icon:r.createElement(tt,{importance:"tertiary"}),onClick:()=>this._onOpenLikeBoardInspector(),importance:"tertiary",title:"Open Like Board Inspector"}):null},this._renderParts=()=>{const{isLoadingEntityInfo:e,isWebAlertExcludeLayer:t,onChangeMatchType:s,onDeletePart:n,parts:i,type:a}=this.props,{excludeType:o}=this.state;return i.length?r.createElement(Ve.j,{className:"PriorityLayer__chip-list"},i.map(((t,i)=>r.createElement(yt,{key:"string"==typeof t?t:t.id||t.text,isLoadingEntityInfo:e,onChangeMatchType:e=>{s(i,e)},onDeletePart:n,part:t,type:a}))),this._renderOrButton()):r.createElement(u.zx,{elementRef:this._newPartButton,icon:r.createElement(ke.Z,{color:"white"}),importance:"primary",onClick:this._onNewPartClick,label:t&&o?F.aB[o]:F.bL[a]})},this._onAddPart=e=>{this.setState({isAddPartPopoverOpen:!1}),this.props.onAddPart(e)},this._onCloseAddPartPopover=()=>{this.setState({isAddPartPopoverOpen:!1})},this._onCloseAboutPopover=()=>{this.setState({isAboutPopoverOpen:!1})},this._onCloseDeleteModal=()=>{this.setState({isDeleteModalOpen:!1})},this._onDeleteClick=()=>{this.setState({isDeleteModalOpen:!0})},this._onDeleteConfirmClick=()=>{this.setState({isDeleteModalOpen:!1}),this.props.onDelete()},this._onNewPartClick=()=>{this.setState((({isAddPartPopoverOpen:e})=>({isAddPartPopoverOpen:!e})))},this._onOpenLikeBoardInspector=()=>{const{parts:e,streamId:t}=this.props,s=t,n=e[0].id;window.open(`https://ml.feedly.com/personalized-topics/demo/stats?streamId=${encodeURIComponent(t)}&categoryId=${encodeURIComponent(s)}&boardId=${encodeURIComponent(n)}`)},this._onSalienceChange=e=>{this._onCloseAboutPopover(),this.props.onSalienceChange(e)},this._onSalienceClick=()=>{this.setState((({isAboutPopoverOpen:e})=>({isAboutPopoverOpen:!e})))},this._onSelectOption=e=>{this.setState({excludeType:e},this._onNewPartClick)};const{isAddPartPopoverInitiallyOpen:t,parts:s,streamId:n}=e;this._newPartButton=r.createRef(),this._wrapper=r.createRef(),this.state={excludeType:e.initialExcludeType,isAboutPopoverOpen:!1,isAddPartPopoverOpen:!s.length&&!!n||t,isDeleteModalOpen:!1}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.personalpriorities=streets.service("personalpriorities")}componentWillUnmount(){this.enterprisepriorities=null,this.personalpriorities=null,this._aboutButton=null,this._newPartButton=null,this._wrapper=null}render(){const{parts:e,salience:t,type:s}=this.props,{isAboutPopoverOpen:n,isAddPartPopoverOpen:i,isDeleteModalOpen:a}=this.state;return r.createElement("div",{ref:this._wrapper,className:"PriorityLayer"},r.createElement("div",{className:"PriorityLayer__parts-container"},this._renderParts(),i&&r.createElement("span",{className:"GuidedTutorial__gpc-portal-target-3"},r.createElement(k.J,{align:"start",caret:e.length>0,className:"GuidedTutorial__gpc-offset-3",offsetParent:this._wrapper,onClose:this._onCloseAddPartPopover,position:"bottom",target:this._newPartButton},this._renderAddPartMenu()))),r.createElement("div",{className:"PriorityLayer__actions-container"},r.createElement("div",{className:"PriorityLayer__actions"},s===F.ur.matches&&r.createElement(it.X,{align:"right",className:"PriorityLayer__action",iconAlign:"right",icon:r.createElement(st.Z,{importance:"tertiary"}),importance:"tertiary",isOpen:n,label:t===F.mb.about?"Title":"Everything",menu:r.createElement(ee.v2,{className:"p-t-t"},r.createElement(ee.NP,null,"Matching"),r.createElement(ee.aV,{name:"salience",onChange:this._onSalienceChange,selectedValue:t},r.createElement(at.Y8,{value:F.mb.about},"Title"),r.createElement(at.Y8,{value:F.mb.mention},"Everything"))),onButtonClick:this._onSalienceClick,onCloseMenu:this._onCloseAboutPopover,title:"Matching"}),s===F.ur.likeBoard&&this._renderBugInspector(),r.createElement(u.zx,{className:"PriorityLayer__action m-l-h",icon:r.createElement(nt.Z,{importance:"tertiary"}),importance:"tertiary",onClick:this._onDeleteClick,title:"Delete"}))),a&&r.createElement(xe.u_,{onClose:this._onCloseDeleteModal,small:!0},r.createElement(Ie.H2,{appearance:"h3"},"Delete layer?"),r.createElement("p",null,"This is permanent and cannot be undone."),r.createElement(u.zx,{color:"danger",label:"Delete Layer",onClick:this._onDeleteConfirmClick}),r.createElement(u.zx,{label:"Cancel",onClick:this._onCloseDeleteModal,importance:"secondary"})))}_renderOrButton(){const{isWebAlertExcludeLayer:e,parts:t,type:s}=this.props,{excludeType:n}=this.state;if(s===F.ur.security&&t.length===F.BU.length)return null;const i=r.createElement(u.zx,{className:"p-l-h m-b-t",color:"accent",elementRef:this._newPartButton,icon:r.createElement(ke.Z,{color:"accent"}),importance:"tertiary",label:"OR",onClick:this._onNewPartClick,title:e&&n?F.aB[n]:F.bL[s]});return e?r.createElement("div",{ref:this._newPartButton},r.createElement(bt,{button:i,onSelect:this._onSelectOption,showExcludeOptions:!0,tagName:"div"})):i}}ut.propTypes={initialExcludeType:i().oneOf([F.Pr.matches,F.Pr.domain]),initialTopicQuery:i().string,isAddPartPopoverInitiallyOpen:i().bool,isLoadingEntityInfo:i().bool,isTeam:i().bool,isWebAlertExcludeLayer:i().bool,onAddPart:i().func.isRequired,onChangeMatchType:i().func.isRequired,onDelete:i().func.isRequired,onDeletePart:i().func.isRequired,onSalienceChange:i().func,parts:i().arrayOf(l.G$),salience:i().oneOf(Object.values(F.mb)),suggestions:i().arrayOf(l.Zg),streamId:i().string,searchHint:i().string,type:i().oneOf(Object.keys(F.ur)).isRequired},ut.defaultProps={initialExcludeType:F.Pr.matches,initialTopicQuery:"",isAddPartPopoverInitiallyOpen:!1,isLoadingEntityInfo:!1,isTeam:!1,isWebAlertExcludeLayer:!1,onSalienceChange:()=>{},parts:[],salience:F.mb.mention,streamId:"",suggestions:[],searchHint:""};var pt=s(73400),mt=s.n(pt),gt=s(763),ft=s(42610);class yt extends r.Component{constructor(...e){super(...e),this.state={isIconHovered:!1},this._renderContent=e=>{const{part:t,type:s}=this.props;let n;s===F.ur.security&&(n=r.createElement("span",{className:"PriorityLayerChip__sub"},F.BY[t]));let i=r.createElement("div",{className:"PriorityLayerChip__label"},e," ",n);const a=t.convertToKeyword?{text:t.suggestText||t.label}:t;return s===F.ur.matches&&(i=r.createElement(ft.E,{item:a,position:"bottom",targetParentElement:!0},i)),i},this._onDeleteClick=()=>{const{onDeletePart:e,part:t}=this.props;e(t)},this._onMouseEnterDeleteButton=()=>{this.setState({isIconHovered:!0})},this._onMouseLeaveDeleteButton=()=>{this.setState({isIconHovered:!1})}}render(){const{part:e,type:t}=this.props,{isIconHovered:s}=this.state;let n=(0,ie.Ao)(e);return t===F.ur.security&&(n=`${mt()(n)} Vulnerability`),r.createElement(Ve.A,{className:"PriorityLayerChip",size:"lg"},this._renderChipIcon(),this._renderContent(n),r.createElement(u.Er,{"aria-label":`Delete ${n}`,className:"PriorityLayerChip__delete",danger:!0,importance:"tertiary",onClick:this._onDeleteClick,onMouseEnter:this._onMouseEnterDeleteButton,onMouseLeave:this._onMouseLeaveDeleteButton},r.createElement(gt.Z,{className:"m-r-0",importance:s?"primary":"tertiary",color:s?"danger":"black"})))}_renderChipIcon(){const{isLoadingEntityInfo:e,onChangeMatchType:t,part:s}=this.props,n=j.XA;if((0,z.xT)(s.id)||(0,z.ft)(s.id)||(0,z.jP)(s.id))return r.createElement(At,{isLoadingEntityInfo:e,onChangeMatchType:t,part:s});const i=n[(0,z.FW)(s)];return i?r.createElement(i,{className:"PriorityLayerChip__chip-icon m-r-1",importance:"secondary"}):null}}yt.propTypes={isLoadingEntityInfo:i().bool,onChangeMatchType:i().func.isRequired,onDeletePart:i().func.isRequired,part:l.G$.isRequired,type:i().oneOf(Object.keys(F.ur)).isRequired},yt.defaultProps={isLoadingEntityInfo:!1};var vt=s(55118);class bt extends r.Component{constructor(e){super(e),this._renderMenuItem=(e,{addOn:t=!1}={})=>{const s=j.XA[e];return r.createElement(ee.sN,{className:E()("PriorityOptionSelector__item container-flex",{"GuidedTutorial__gpc-target-2":e===F.Pr.likeBoard}),key:e,onClick:()=>this._onSelect(e)},r.createElement(s,{className:"col-no-flex m-l-1",importance:"tertiary"}),r.createElement("div",null,r.createElement("div",{className:"PriorityOptionSelector__item-title"},F.aB[e],t&&r.createElement("span",{className:"badge accent small m-l-1"},"add-on")),F.zR[e]&&r.createElement(Y.x,{color:"tertiary",size:"smaller",tagName:"div"},F.zR[e])))},this._onButtonClick=()=>{this.setState((({isOpen:e})=>({isOpen:!e})))},this._onCloseMenu=()=>{this.setState({isOpen:!1})},this._onSelect=e=>{const{onSelect:t,streamId:s}=this.props,n=F.ur[e];this._onCloseMenu(),t?t(e):e===F.Pr.muteFilter?this.feedly.slideForm(W.K,{initialFilter:{streamId:s}}):this.feedly.slideForm(d,{initialPriority:{layers:[{[F.y9[n]]:F.Eh[e]?[F.Eh[e]]:[],type:n,searchHint:F.TP[e]}],streamIds:[s]}})},this._button=r.createRef(),this._popoverHook=document.getElementById("reactPopoverHook"),this.state={isOpen:!1}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this._button=null,this._popoverHook=null,this.feedly=null}render(){const{align:e,button:t,hideLikeBoardLayer:s,showExcludeOptions:n,showMuteFilter:i,tagName:a}=this.props,{isOpen:o}=this.state,l=a;return r.createElement(l,{className:"PriorityOptionSelector"},r.cloneElement(t,{onClick:this._onButtonClick,elementRef:this._button}),o&&r.createElement(vt.h,{target:this._popoverHook},r.createElement(k.J,{align:e,caret:!0,className:"PriorityOptionSelector__popover GuidedTutorial__gpc-offset-2",offsetParent:this._popoverHook,onClose:this._onCloseMenu,target:this._button},r.createElement(ee.GX,{className:"PriorityOptionSelector__menu p-y-h GuidedTutorial__popover",deselectable:!0},n?r.createElement(r.Fragment,null,r.createElement(ee.NP,{className:"m-l-1"},"Exclude"),this._renderMenuItem(F.Pr.matches),this._renderMenuItem(F.Pr.domain)):r.createElement(r.Fragment,null,r.createElement(ee.NP,{className:"m-l-1"},"Prioritize"),this._renderMenuItem(F.Pr.matches),this._renderMenuItem(F.Pr.businessEvent),this._renderMenuItem(F.Pr.industryTopic,{addOn:!streets.isEnterprisePlan()}),!s&&this._renderMenuItem(F.Pr.likeBoard),this._renderSecurityItems(),i&&r.createElement(r.Fragment,null,r.createElement(ee.NP,{className:"m-l-1"},"Mute"),this._renderMenuItem(F.Pr.muteFilter)))))))}_renderSecurityItems(){const{hasLeoSecurityFeature:e,hasSecurityFeed:t,hideSecurityLayer:s,isBeyondPowerSearch:n}=this.props;if(s)return r.createElement(r.Fragment,null,this._renderMenuItem(F.Pr.cyberEvent),this._renderMenuItem(F.Pr.malwareFamily),this._renderMenuItem(F.Pr.threatActor),this._renderMenuItem(F.Pr.mitreAttack));if(e||n){const t=!e;return r.createElement(r.Fragment,null,this._renderMenuItem(F.Pr.criticalVulnerability,{addOn:t}),this._renderMenuItem(F.Pr.cyberEvent,{addOn:t}),this._renderMenuItem(F.Pr.malwareFamily,{addOn:t}),this._renderMenuItem(F.Pr.threatActor,{addOn:t}),this._renderMenuItem(F.Pr.mitreAttack,{addOn:t}))}return t?this._renderMenuItem(F.Pr.security,{addOn:!0}):null}}function Et({andButton:e,notButton:t}){return r.createElement("div",{className:"PriorityAndNotSelector"},e,t&&r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(Y.x,{className:"PriorityAndNotSelector__buttons-divider"},"/")),r.createElement("div",null,t)))}bt.propTypes={align:k.J.propTypes.align,button:(0,C.componentWithName)("Button").isRequired,hideLikeBoardLayer:i().bool,hideSecurityLayer:i().bool,hasLeoSecurityFeature:i().bool,hasSecurityFeed:i().bool,onSelect:i().func,showExcludeOptions:i().bool,showMuteFilter:i().bool,streamId:i().string,tagName:i().oneOf(["div","span"])},bt.defaultProps={align:"middle",hasLeoSecurityFeature:!1,hasSecurityFeed:!1,hideSecurityLayer:!1,hideLikeBoardLayer:!1,onSelect:null,showExcludeOptions:!1,showMuteFilter:!1,streamId:null,tagName:"span"},Et.propTypes={andButton:i().node,notButton:i().node},Et.defaultProps={andButton:null,notButton:null};var Ct=s(83442),wt=s(9648),kt=s(30392),_t=s(16847);const Mt=Ct.Z,St=wt.Z,Tt=kt.Z,It=qe.Z,Nt=te.Z,Pt=ee.sN;class Lt extends r.Component{constructor(...e){super(...e),this.state={priorityDetails:null,usernames:{}},this._renderBugInspector=()=>{const e=devhd.utils.SessionUtils.load();return e&&e.sudoSession||"feedly"===streets.getEnterpriseId()?r.createElement(Pt,{onClick:()=>this._onOpenLikeBoardInspector()},r.createElement(Nt,{importance:"secondary"}),r.createElement("div",{className:"PriorityExplanation__item-label"},"Debug Priority")):null},this._getFeedsString=()=>{const{streamLabels:e}=this.state.priorityDetails;return 1===e.length&&"All"===e[0]?"All feeds. ":`the ${(0,_t.sw)(e)} ${ce()("feed",e.length)}. `},this._renderEntityCauses=()=>{const{entry:e,priority:t}=this.props,s=e.findRelevantCausedEntities(t);if(s.length){const e=s[0].causes.slice(0,3),t=this._createSegment(e,"This article mentions ",!0);return t.push("."),t}return null},this._onOpenLikeBoardInspector=()=>{const{entry:e,priority:{streamId:t,searchTerms:{likeBoards:s=[]}}}=this.props,n=t,i=s[0].id,r=e.getId(),a=`https://ml.feedly.com/personalized-topics/demo/stats?streamId=${encodeURIComponent(t)}&categoryId=${encodeURIComponent(n)}&boardId=${encodeURIComponent(i)}&entryId=${encodeURIComponent(r)}`;window.open(a)}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.priorities=streets.service("priorities"),this.tabsManager=streets.service("tabsManager"),this._updateInfo()}componentWillUnmount(){this.enterprise=null,this.priorities=null,this.tabsManager=null}render(){const{onDeleteClick:e,onPauseClick:t,onResumeClick:s,onRefineClick:n,priority:{searchTerms:{likeBoards:i=[]}}}=this.props,{priorityDetails:a,usernames:o}=this.state;if(!a)return r.createElement(Z.g,null);let l="You";return a.createdBy&&a.createdBy!==streets.getUserId()&&o&&(l=o[a.createdBy]||"Your team"),r.createElement("div",{className:"PriorityExplanation"},r.createElement("p",{className:"PriorityExplanation__description"},l," prioritized articles ",this._renderTerms()," in"," ",this._getFeedsString(),this._renderEntityCauses()),r.createElement(ee.v2,{className:"PriorityExplanation__menu"},r.createElement(Pt,{onClick:()=>n(a)},r.createElement(Mt,{importance:"secondary"}),r.createElement("div",{className:"PriorityExplanation__item-label"},"Refine Priority")),i.length>0&&this._renderBugInspector(),r.createElement(Pt,{onClick:()=>{a.active?t(a):s(a)}},a.active?r.createElement(St,{importance:"secondary"}):r.createElement(Tt,{importance:"secondary"}),r.createElement("div",{className:"PriorityExplanation__item-label"},a.active?"Pause":"Resume")),r.createElement(Pt,{danger:!0,onClick:()=>e(a,o)},r.createElement(It,{color:"danger"}),r.createElement("div",{className:"PriorityExplanation__item-label PriorityExplanation__item-label--danger"},"Remove"))))}_renderPart({label:e,type:t},s){const n=j.XA[t],i=t===j.w7?`${ce()(e)}`:e;return r.createElement("span",{className:"PriorityExplanation__keyword",key:`${t}-${e}`},n&&!s&&r.createElement(n,{className:"PriorityExplanation__keyword-icon"}),i)}_renderTerms(){const{priority:{searchTerms:{parts:e=[],likeBoards:t=[],severity:s}}}=this.props;let n=this._createSegment(e,"about ");return t.length>0&&(n.length>0&&n.push(" and "),n=n.concat(this._createSegment(t,"similar to board "))),s&&(n.length>0&&n.push(" and "),n=n.concat(this._createSegment([s],"about vulnerabilities marked as "))),n}_createSegment(e,t,s=!1){const{entry:n}=this.props;if(!e||0===e.length)return[];const i=[],r=e.map((e=>{const t=s?e:n.findSearchTermFullInfo(e),i=(0,z.FW)(t),r=i===j.w7&&!t.label?(0,ie.hh)(t):(0,ie.Ao)(t);return{id:t.id,label:r,type:i}}));return r.forEach(((e,n)=>{0===n&&i.push(t),i.length>1&&n===r.length-1&&i.push(" and"),i.push(" "),i.push(this._renderPart(e,s)),r.length>2&&n!==r.length-1&&i.push(",")})),i}async _updateInfo(){const{priority:e}=this.props,[t,s]=await Promise.all([this.enterprise.askListUsernames(),this.priorities.askPriority(e.id)]);this.setState({priorityDetails:s,usernames:t})}}Lt.propTypes={entry:H.A.isRequired,onDeleteClick:i().func,onPauseClick:i().func,onRefineClick:i().func,onResumeClick:i().func,priority:l.tm.isRequired},Lt.defaultProps={closeExplanation:()=>{},offsetParent:null,onDeleteClick:()=>{},onPauseClick:()=>{},onRefineClick:()=>{},onResumeClick:()=>{},target:null};var xt=s(4425),Dt=s(81593),Ot=s(14171);class At extends r.Component{constructor(...e){super(...e),this.state={isDrawerOpen:!1,isDropdownOpen:!1},this._onClose=()=>{this.setState({isDrawerOpen:!1,isDropdownOpen:!1})},this._onOpenDrawer=()=>{this.setState({isDrawerOpen:!0})},this._onToggleIsDropdownOpen=()=>{this.setState((e=>({isDropdownOpen:!e.isDropdownOpen})))}}render(){const{isDrawerOpen:e,isDropdownOpen:t}=this.state;return r.createElement(it.X,{caret:!0,className:"PriorityLayerChipTypeSelector p-a-0",importance:"tertiary",isOpen:t,label:this._renderLabel(),menu:this._renderMenu(),onButtonClick:this._onToggleIsDropdownOpen,onCloseMenu:this._onClose})}_renderLabel(){const{isLoadingEntityInfo:e,part:t}=this.props;return r.createElement(r.Fragment,null,e?r.createElement(Ot.J,{className:"m-a-0",color:"secondary",name:""}):this._renderTopicIcon(t),r.createElement(st.Z,{className:"m-a-0",importance:"tertiary"}))}_renderMenu(){const{onChangeMatchType:e,part:t}=this.props,s=ee.sN,n=j.XA[(0,z.FW)(t)],i=r.createElement(xt.Z,{className:"PriorityLayerChipTypeSelector__icon m-x-1",color:"accent"});return r.createElement(ee.v2,{className:"PriorityLayerChipTypeSelector__menu"},r.createElement(s,{className:"PriorityLayerChipTypeSelector__menu-item",onClick:()=>{e(j.m3.entity),this._onClose()}},r.createElement(n,{className:"PriorityLayerChipTypeSelector__icon m-r-1",importance:"secondary"}),r.createElement("div",{className:"PriorityLayerChipTypeSelector__menu-item-label"},this._getTopicLabel()),!t.convertToKeyword&&i),(!(0,z.ft)(t.id)||t.aliases&&t.aliases.length>0)&&r.createElement(s,{className:"PriorityLayerChipTypeSelector__menu-item",onClick:()=>{e(j.m3.keyword),this._onClose()}},r.createElement(Dt.Z,{className:"PriorityLayerChipTypeSelector__icon m-r-1",importance:"secondary"}),r.createElement("div",{className:"PriorityLayerChipTypeSelector__menu-item-label"},'Articles mentioning "',t.label,'" only'),t.convertToKeyword&&i))}_renderTopicIcon(e){const t=j.XA,s=(0,z.FW)(e),n=e.convertToKeyword?t.customKeyword:t[s];return r.createElement(n,{className:"m-a-0",importance:"secondary"})}_getTopicLabel(){const{part:{aliases:e=[],id:t,label:s,leoBehaviorExamples:n}}=this.props,i=n||[s,...e],r=n&&n.length>6;return(0,z.ft)(t)?`Articles mentioning ${(0,_t.sw)(i,{addQuotes:!0,limit:7,noQuotesIndex:r?n.length-1:null})}`:`Articles about ${s}`}}function zt({onSelect:e,selectedParts:t}){return r.createElement(ee.GX,null,F.BU.filter((e=>!t.includes(e))).map((t=>r.createElement(ee.sN,{key:t,onClick:()=>e(t)},r.createElement("div",null,mt()(t),r.createElement(Y.x,{color:"tertiary",size:"smaller",tagName:"div"},F.BY[t]))))))}At.propTypes={isLoadingEntityInfo:i().bool,onChangeMatchType:i().func.isRequired,part:i().shape({aliases:i().arrayOf(i().string),convertToKeyword:i().bool,id:i().string,label:i().string,leoBehaviorExamples:i().arrayOf(i().string),type:i().string}).isRequired},At.defaultProps={isLoadingEntityInfo:!1},zt.propTypes={onSelect:i().func.isRequired,selectedParts:i().arrayOf(i().string)},zt.defaultProps={selectedParts:[]};var Rt=s(81445),Ft=s(15859);const jt={className:"GuidedTutorial__gpc-target-1",icon:r.createElement(Rt.Z,{importance:"secondary"}),importance:"secondary",label:"Train Leo"};class Ut extends r.Component{constructor(e){super(e),this._renderButton=(e,{isCategory:t,isEnterprise:s,isGlobalEnterprise:n,isPriority:i})=>{const{hasLeoSecurityFeature:o,hasSecurityFeed:l,isLeoEnabled:c,isSubscribed:d}=this.props;return i?r.createElement(u.zx,Object.assign({},jt,{label:"Refine",onClick:streets.isUserAdmin()||!s?this._onRefineClick:this._onNonAdminClick})):!streets.hasProPlusAccess()||!t||s&&!d?null:c?streets.isUserAdmin()||!s?r.createElement(bt,{align:"middle",button:r.createElement(u.zx,jt),hasLeoSecurityFeature:o,hasSecurityFeed:l,showMuteFilter:!0,streamId:n?(0,a.Gr)():e}):n?null:r.createElement(u.zx,Object.assign({},jt,{onClick:this._onNonAdminClick})):r.createElement(it.L,Object.assign({},jt,{align:"right",menu:r.createElement(ee.v2,{className:"TrainLeoButton__empty-state"},r.createElement(de.ub,{header:"Meet Leo",description:"Your AI research assistant. Train him to analyse and declutter your feeds.",illustration:Ft,size:"small",actions:[{label:"How does Leo work?",onClick:()=>{this.feedly.askOpenLeoBlogPost("train-leo-button")}}]}))}))},this._renderNoAccessPopover=({isPriority:e})=>r.createElement(k.J,{caret:!0,offsetParent:this._wrapper,onClose:this._onCloseNoAccessPopover,target:this._button},r.createElement(ee.v2,{width:300},r.createElement(de.ub,{header:"Admin permission needed",description:`You need admin permission to ${e?"refine":"create"} a Leo priority ${e?"":"or mute filter "}on a team feed.\n            Please ask one of your team's admins to grant you admin permission.`,size:"small"}))),this._onCloseNoAccessPopover=()=>{this.setState({isNoAccessPopoverOpen:!1})},this._onNonAdminClick=()=>{this.setState({isNoAccessPopoverOpen:!0})},this._onRefineClick=async()=>{const{streamInfo:e}=this.props,t=await this.priorities.askPriority(e.id);t?this.feedly.slideForm(Bt,{initialPriority:t}):this.signs.showError("Priority not found")},this._button=r.createRef(),this._wrapper=r.createRef(),this.state={isNoAccessPopoverOpen:!1}}componentDidMount(){this.feedly=streets.service("feedly"),this.priorities=streets.service("priorities"),this.signs=streets.service("signs")}componentWillUnmount(){this.feedly=null,this.priorities=null,this.signs=null,this._button=null,this._wrapper=null}render(){const{isNoAccessPopoverOpen:e}=this.state,{streamInfo:t}=this.props,s=(0,a.Yg)(t.id),n=this._renderButton(t.id,s);return n?r.createElement("div",{ref:this._wrapper,className:"TrainLeoButton GuidedTutorial__gpc-offset-1"},r.cloneElement(n,{elementRef:this._button}),e&&this._renderNoAccessPopover(s)):null}}Ut.propTypes={hasLeoSecurityFeature:i().bool,hasSecurityFeed:i().bool,isLeoEnabled:i().bool,isSubscribed:i().bool,streamInfo:i().shape({id:i().string}).isRequired},Ut.defaultProps={hasLeoSecurityFeature:!1,hasSecurityFeed:!1,isLeoEnabled:!1,isSubscribed:!1};class Bt extends r.Component{constructor(e){super(e),this._onSubmit=async e=>{try{const{initialPriority:t,onDone:s}=this.props,n=e.streamIds||t.streamIds,{isEnterprise:i}=n&&(0,a.Yg)(n[0]);this.setState({isSaving:!0});const r=i?this.enterprisepriorities:this.personalpriorities;this._hasStreamIdChanged(t,e)||!(0,ie.hY)(t,e)?await r.askUpdate({...t,...e}):await r.askSave({...t,...e}),s()}catch(t){console.error(t),this.setState({isSaving:!1});const e=`${t.errorCode||t.name} -- ${t.errorMessage||t.message}`;streets.service("signs").showError(e)}},this._priorityFormRef=r.createRef(),this.state={isSaving:!1,isConfirmExitModalOpen:!1}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.personalpriorities=streets.service("personalpriorities")}componentWillUnmount(){this.enterprisepriorities=null,this.personalpriorities=null,this._priorityFormRef=null}askConfirmExit(){return this._priorityFormRef.current.askConfirmExit()}render(){const{initialPriority:e,onDone:t}=this.props,{isSaving:s}=this.state;return r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630 centered"},r.createElement(et,{ref:this._priorityFormRef,confirmExitHeaderText:"Save changes?",confirmExitBodyText:"Do you want to save the refinements you made to this priority?",initialPriority:e,isSaving:s,onCancel:t,onSubmit:this._onSubmit,submitLabel:"Update",title:"How would you like to refine this priority?"})))}_hasStreamIdChanged(e,t){const s=e.streamIds||[],n=t.streamIds;return!T()(s,n)}}Bt.propTypes={initialPriority:l.tm.isRequired,onDone:i().func.isRequired}},29724:(e,t,s)=>{"use strict";s.d(t,{lm:()=>M,XA:()=>B,X_:()=>W,og:()=>J,oI:()=>re});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a),l=s(21495),c=s(14237),d=s(58754),h=s(45577),u=s(75112),p=s(88016),m=s(763),g=s(12765),f=s(74221),y=s(28514),v=s(11459),b=s(31245),E=s(47264),C=s(40280),w=s(95192);const k={loop:!0,autoplay:!1},_=[{id:"unhappy",scoreLabel:"Unhappy",score:2,animation:{...k,path:d}},{id:"disappointed",scoreLabel:"Disappointed",score:4,animation:{...k,path:c}},{id:"justok",scoreLabel:"Just Ok",score:6,animation:{...k,path:h}},{id:"happy",scoreLabel:"Happy",score:8,animation:{...k,path:u}},{id:"loveit",scoreLabel:"Love It",score:10,animation:{...k,path:p}}];class M extends n.Component{constructor(e){super(e),this._onContactSupport=e=>{const{selectedScore:t}=this.state,{feature:s,streamId:n}=this.props;(0,y.$L)()?this.helpscout.open({prefill:{subject:e},sessionData:{leoSatisfactionScore:t,feature:s,streamId:n}}):window.$B.core.application.composeMail({ishtml:!1,to:[streets.hasBusinessAccess()?"teams@feedly.com":"pro@feedly.com"],subject:e,body:`\n\n\n--\nuserId: ${streets.getUserId()} / ${(0,y.gn)()?"iOS":"Android"} / score: ${t} / feature: ${s} / streamId: ${n}`})},this._onCloseClick=()=>{this.setState({isClosed:!0})},this._onMouseEnterScoreOption=e=>{this.setState({scoreAnimationStartedId:e.id})},this._onMouseLeaveScoreOption=()=>{this.setState({scoreAnimationStartedId:null})},this._onScoreClick=e=>{const{feature:t}=this.props;this.leo.askSaveSatisfactionScore(e,this._getStreamInfo(),t),this.preferences.setPreference("lastLeoFeedbackDate",Date.now()),this.setState({selectedScore:e})},this.state={isClosed:!1,selectedScore:null,scoreAnimationStartedId:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.helpscout=streets.service("helpscout"),this.leo=streets.service("leo"),this.preferences=streets.service("preferences")}componentWillUnmount(){this.enterprise=null,this.helpscout=null,this.leo=null,this.preferences=null}_renderScoreOptionEmoji(e){const{scoreAnimationStartedId:t}=this.state;return n.createElement("div",{className:"LeoSatisfactionPrompt__emoji"},n.createElement(l.Z,{options:e.animation,isStopped:t!==e.id}))}render(){const{isClosed:e,selectedScore:t}=this.state,{layout:s}=this.props;if(!e){if(null===t)return n.createElement("div",{className:o()("LeoSatisfactionPrompt LeoSatisfactionPrompt__score",{"LeoSatisfactionPrompt--magazine":s===v.Ar.magazine})},n.createElement(C.H2,{appearance:"h3",className:"LeoSatisfactionPrompt__heading heading--muted heading--light"},"How satisfied were you with Leo these past few months?"),_.map((e=>n.createElement("div",{key:e.id,className:"LeoSatisfactionPrompt__option",onClick:()=>{this._onScoreClick(e.score)},onMouseEnter:()=>{this._onMouseEnterScoreOption(e)},onMouseLeave:this._onMouseLeaveScoreOption},this._renderScoreOptionEmoji(e),(0,y.$L)()&&n.createElement("div",{className:"LeoSatisfactionPrompt__score-labels"},n.createElement(w.x,{color:"tertiary",size:"small",tagName:"div"},e.scoreLabel))))),n.createElement(E.zx,{className:"LeoSatisfactionPrompt__close",onClick:this._onCloseClick,importance:"tertiary",icon:n.createElement(m.Z,null)}));if(t<=6)return this._renderWrittenFeedback("negative");if(t>6)return this._renderWrittenFeedback("positive")}return null}_renderWrittenFeedback(e){const{layout:t}=this.props;let s,i,r;return"positive"===e?(s="Thanks for the feedback. Do you have any feature requests or suggestions that would make Leo even better for you?",i="SUGGEST A FEATURE",r="New Leo feature request"):"negative"===e&&(s="Sorry it's been disappointing. Can you tell us a little more about what's wrong so we can help tune your Leo?",i="SUGGEST IMPROVEMENTS",r="Need help training Leo"),n.createElement("div",{className:o()("LeoSatisfactionPrompt--feedback LeoSatisfactionPrompt form",{"LeoSatisfactionPrompt--magazine":t===v.Ar.magazine})},n.createElement("div",{className:"LeoSatisfactionPrompt__avatar"},n.createElement("img",{className:"LeoSatisfactionPrompt__avatar-image",alt:"",src:g})),n.createElement("div",{className:"LeoSatisfactionPrompt__response"},n.createElement(C.H2,{appearance:"h3",className:" LeoSatisfactionPrompt__response-text m-t-0 heading--muted heading--light"},s),n.createElement(E.zx,{className:"LeoSatisfactionPrompt__contact",label:i,onClick:()=>{this._onContactSupport(r)}})),n.createElement(E.zx,{className:"LeoSatisfactionPrompt__close",onClick:this._onCloseClick,importance:"tertiary",icon:n.createElement(m.Z,null)}))}_getStreamInfo(){const{streamId:e}=this.props,{isPriority:t}=(0,f.Yg)(e);return t?{priorityId:e}:{streamId:e}}}M.propTypes={feature:r().string,layout:r().oneOf(v.tv).isRequired,streamId:r().string.isRequired},M.defaultProps={feature:b.z1.priority};var S=s(74296),T=s(35093),I=s(99442),N=s(65698),P=s(16847),L=s(84481),x=s(3167),D=s(34039),O=s(63402),A=s(81197),z=s(15354),R=s(56732),F=s(13156);const j=Object.freeze({negative:"dismiss",positive:"follow"}),U=Object.freeze({likeBoard:"likeBoard",muteFilter:"muteFilter",security:"security"});class B extends n.Component{constructor(e){super(e),this._onFeedbackClick=e=>{const{data:{id:t}}=this.props;this.suggestions.askSaveSuggestionFeedback({feedback:e,id:t}),streets.service("preferences").setPreference("lastLeoSuggestionDate",Date.now()),e===j.negative&&(streets.service("signs").showMessage("Feedback collected. Thank you!"),this.setState({hasFeedback:!0}))},this._onStartTutorial=(e,t,s)=>{streets.service("guidedtutorials").onStartTutorial(e,t,s)},this._onTrainLeoClick=()=>{const{data:{boardId:e,id:t,label:s,streamId:n,term:i,type:r}}=this.props,{feedLabel:a}=this.state;if(r===U.likeBoard){if("yes"===streets.service("preferences").getPreference(x._0)){const e={boardName:s,feedName:a,dataSpecifier:s};return void this._onStartTutorial(z.Z,L.e.GuidedTutorialLikeBoard,e)}this.feedly.slideForm(O.qR,{initialPriority:{layers:[{[I.y9.likeBoard]:[{id:e,label:s}],type:I.ur.likeBoard}],streamIds:[n]},viaSuggestion:{id:t}})}else r===U.muteFilter?this.feedly.slideForm(A.K,{initialFilter:{streamId:n,term:i},viaSuggestion:{id:t}}):r===U.security&&this.feedly.slideForm(O.qR,{initialPriority:{layers:[{[I.y9.security]:[I.$R.high],type:I.ur.security}],streamIds:[n]},viaSuggestion:{id:t}});this._onFeedbackClick(j.positive)},this._getFeedLabel=async()=>{const{label:e}=await streets.service("collections").askLookupCollection(this.props.streamId);this.setState({feedLabel:e})},this.state={hasFeedback:!1,isLoading:!1}}componentDidMount(){this.suggestions=streets.service("suggestions"),this.feedly=streets.service("feedly"),this._getFeedLabel()}componentWillUnmount(){this.suggestions=null,this.feedly=null}render(){const{hasFeedback:e}=this.state,{layout:t,data:{type:s}}=this.props;return e||!U[s]?null:n.createElement("div",{className:`LeoSuggestion--${t}`},t===v.Ar.magazine&&n.createElement(n.Fragment,null,n.createElement(R.Q,{className:"LeoSuggestion__image",src:F,size:"5"}),n.createElement("div",null,this._renderLeoSuggestionContent())),t===v.Ar.titleOnly&&this._renderLeoSuggestionContent())}_renderLeoSuggestionContent(){const{layout:e}=this.props,{isLoading:t}=this.state;return n.createElement(n.Fragment,null,n.createElement(w.x,{className:`LeoSuggestion__message--${e} m-r-1`,size:e===v.Ar.titleOnly?"small":"base"},this._renderMessage()),n.createElement(E.zx,{className:"LeoSuggestion__train-leo-button",color:"accent",disabled:t,importance:"secondary",label:"Yes, train Leo",loading:t,onClick:this._onTrainLeoClick,size:"small"}),n.createElement(E.zx,{disabled:t,importance:"secondary",label:"No",loading:t,onClick:()=>{this._onFeedbackClick(j.negative)},size:"small"}),n.createElement(D.rU,{href:"https://blog.feedly.com/leo/",newWindow:!0,title:"Learn more about Leo"},n.createElement(S.Z,{importance:"secondary"})))}_renderMessage(){const{data:{label:e,term:t,type:s}}=this.props;if(s===U.likeBoard){const t=T.XA.likeBoard;return n.createElement(n.Fragment,null,"Would you like Leo to read this feed and prioritize the articles you are most likely to save in your"," ",n.createElement(t,{className:"LeoSuggestion__icon"}),n.createElement("span",{className:"LeoSuggestion__label LeoSuggestion--left-adjusted"},e)," ","board?")}if(s===U.muteFilter){const e=(0,N.FW)(t),s=T.XA[e];return n.createElement(n.Fragment,null,"There are a lot of articles about"," ",n.createElement(s,{className:"LeoSuggestion__icon"}),n.createElement("span",{className:"LeoSuggestion__label LeoSuggestion--left-adjusted"},(0,P.kC)(t.label))," ","in this feed, would you like Leo to mute them?")}return s===U.security?n.createElement(n.Fragment,null,"Would you like Leo to read this feed and prioritize"," ",n.createElement("span",{className:"LeoSuggestion__label"},"high-risk vulnerabilities"),"?"):null}}B.propTypes={data:r().shape({type:r().string.isRequired,streamId:r().string.isRequired,id:r().string.isRequired,affinity:r().string,boardId:r().string,label:r().string,term:r().shape({id:r().string,label:r().string})}),layout:r().oneOf(v.tv).isRequired,streamId:r().string.isRequired},B.defaultProps={data:{},layout:"u4"};const H=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 2.469c-.327 0-.63.16-.83.427l-3.25 5.52c-.017.029-.033.04-.042.042l-.016-.012-3.275-2.897c-.454-.275-.91-.232-1.244.048a1.215 1.215 0 00-.404 1.08l1.005 8.808a.5.5 0 00.496.444h15.12a.5.5 0 00.496-.444l1.006-8.814a1.212 1.212 0 00-.405-1.074 1.005 1.005 0 00-1.165-.105l-3.37 2.967c-.008-.001-.025-.013-.042-.043l-3.22-5.474c-.23-.313-.533-.473-.86-.473zm4.826 6.704l3.182-2.816.032.037a.25.25 0 01.03.158l-.956 8.376H4.886l-.955-8.37c-.01-.087.017-.163.056-.196.012-.01.01-.01.017-.006l3.182 2.827c.223.212.541.314.857.261.309-.051.575-.244.739-.52l3.22-5.475c-.01.017-.01.02-.006.02.007 0 .017.005.034.027l3.188 5.427c.163.277.429.47.738.522.316.054.634-.048.87-.272zM19.714 20.071a.5.5 0 01.09.992l-.09.008H4.286a.5.5 0 01-.09-.992l.09-.008h15.428z"})))}));var Y=s(84955);const Z=Object.freeze({negative:"dismiss",positive:"follow"});class W extends n.Component{constructor(e){super(e),this._onContactSupport=()=>{streets.hasProAccess()?this.helpscout.open():this.feedly.loadPage("pro/support")},this._onUpgradeClick=()=>{const{feature:e,landingPage:t}=this.props,s=t||Y.UP[e];s?this.feedly.loadPage(s):this._onContactSupport(),this._onFeedbackClick(Z.positive)},this._onHidePrompt=()=>{this.setState({isHidden:!0}),this._onFeedbackClick(Z.negative)},this._onFeedbackClick=e=>{const{id:t}=this.props;t&&(this.suggestions.askSaveSuggestionFeedback({feedback:e,id:t}),this.preferences.setPreference("lastLeoSuggestionDate",Date.now()))},this.state={isHidden:!1}}componentDidMount(){this.feedly=streets.service("feedly"),this.helpscout=streets.service("helpscout"),this.preferences=streets.service("preferences"),this.suggestions=streets.service("suggestions")}componentWillUnmount(){this.feedly=null,this.helpscout=null,this.preferences=null,this.suggestions=null}render(){const{buttonLabel:e,className:t,description:s,feature:i,hideable:r,illustration:a}=this.props,{isHidden:l}=this.state;if(l)return null;let c;c=e||`Try ${Y.Jw[i]}`;const d=Y.Yl[i]||H;return n.createElement("div",{className:o()("LeoUpgradePrompt",t)},n.createElement(d,{importance:"tertiary"}),n.createElement("div",null,n.createElement(w.x,{className:"LeoUpgradePrompt__message m-r-1",size:"small"},s),n.createElement(E.zx,{className:"LeoUpgradePrompt__upgrade-button",label:c,onClick:this._onUpgradeClick,size:"small"}),r&&n.createElement(E.zx,{label:"Not now",importance:"secondary",onClick:this._onHidePrompt,size:"small"})),screen.width>400&&n.createElement("img",{alt:"",className:"LeoUpgradePrompt__image",src:a||Y.Z7[i]}))}}W.propTypes={buttonLabel:r().string,className:r().string,description:r().node.isRequired,feature:r().string.isRequired,hideable:r().bool,illustration:r().string,id:r().string,landingPage:r().string},W.defaultProps={buttonLabel:"",className:"",hideable:!1,id:"",illustration:"",landingPage:""};var $=s(57993),q=s(56295),V=s(8199),G=s(80889),Q=s(41528),K=s(38706);function J({className:e,feature:t,type:s}){const i=streets.getPlan(),r=(0,G.qL)(),{accountLimits:a}=streets.service("profile").getUserInfo(),o=r?`Try Feedly ${V.vu[r]}`:"Contact Support",{name:l,limitName:c,uri:d}=q.M$[t],{priorities:h,muteFilters:u}=q.M$,p=(t===u.id||t===h.id)&&s===$.s.personal;return n.createElement(W,{className:e,buttonLabel:o,description:n.createElement(Q.D,{feature:p?`personal ${l}`:l,limit:a[c],planType:V.vu[i],type:s}),feature:t,landingPage:r?`pro/limit-${r}-${d}`:"",illustration:K,nextPlan:r})}J.propTypes={className:r().string,feature:r().string.isRequired,type:r().string.isRequired},J.defaultProps={className:""};s(42566),s(44406);var X=s(31813),ee=s(74812),te=(s(63776),s(20785),s(11681)),se=s(66709);const ne="https://blog.feedly.com/ads",ie=Object.freeze({click:"click",impression:"impression"});class re extends n.Component{constructor(e){super(e),this._renderSponsorDrawer=()=>{const{data:e,isSponsorDrawerOpen:t}=this.state;return t?n.createElement(te.oo,{data:e,onClose:this._onCloseSponsorDrawer,onUpgrade:this._onMobileUpgrade}):null},this._onOpenSponsorDrawer=()=>{this.setState({isSponsorDrawerOpen:!0})},this._onCloseSponsorDrawer=()=>{this.setState({isSponsorDrawerOpen:!1})},this._onMobileUpgrade=()=>{this.tabsManager.askOpenNewPage("premium/pro"),this._onCloseSponsorDrawer()},this._onOpenTarget=()=>{const{data:e}=this.state;this._onTrackClick(),window.open(e.statlink,"_blank")},this._onTrackClick=(e=ie.click)=>{const{data:t}=this.state;if(!t||!t.statlink)return;const s=t.company||"no-company",n=t.zonekey||"no-zone";streets.service("analytics").trackAdPageview(`bsa-inlined.v1/${n}/${e}/${s}`)},this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this.state={data:e.data,displayDensity:this.preferences.getPreference("displayDensity")||29,isSponsorDrawerOpen:!1}}componentDidMount(){this.analytics=streets.service("analytics"),this.bsa=streets.service("bsa"),this.feeds=streets.service("feeds"),this.tabsManager=streets.service("tabsManager"),this.bsa.registerObserver(this),this._onTrackClick(ie.impression)}componentWillUnmount(){this.analytics=null,this.bsa.unregisterObserver(this),this.preferences.unregisterObserver(this),this.bsa=null,this.feeds=null,this.preferences=null,this.tabsManager=null}onBSALoaded(e){const{data:t}=this.state;t||this.setState({data:e})}onPreferenceChanged(e){"displayDensity"===e&&this.setState({displayDensity:e})}render(){const{layout:e,showSourceTitle:t}=this.props,{data:s,displayDensity:i}=this.state;if(!s)return null;const{company:r,image:a,sub:l,clickUrl:c,header:d}=s;if(!r||!c)return null;const h=n.createElement(n.Fragment,null,n.createElement("span",{className:"SponsorPrompt__company sponsoredBy",onClick:this._onOpenTarget},"by ",r),n.createElement("div",{className:"SponsorPrompt__sponsored",onClick:()=>{window.open(ne,"_blank")}},"sponsored"));let u;t&&(u=n.createElement(D.rU,{href:c,newWindow:!0,className:o()("entry__source",{"entry__source--u0":e===v.Ar.titleOnly})},r));const p=o()("entry","unread",{[e]:!0,["density-"+i]:!0,MobileEntry:!1});switch(e){case v.Ar.titleOnly:return n.createElement("div",{className:p,"data-u":"0"},n.createElement(se.yx,{className:`EntryReadLaterButton--density-${i}`,saved:!1}),t&&n.createElement("div",{className:"entry__meta-column"},u),n.createElement("div",{className:"engagement-container"},n.createElement("span",{className:"SponsorPrompt__engagement engagement no-icon"},"")),n.createElement("div",{className:"content"},n.createElement(D.rU,{className:"entry__title",href:c,onClick:this._onTrackClick,newWindow:!0},d),n.createElement(D.rU,{className:"summary",href:c,onClick:this._onTrackClick,newWindow:!0},l)),n.createElement(D.rU,{className:"SponsorPrompt__sponsored ago",href:ne,newWindow:!0},"Sponsored"),n.createElement("div",{className:"CondensedToolbar"},this._renderExplainDropdown(!1)));case v.Ar.cards:return n.createElement("div",{className:o()(p),"data-u":"5"},n.createElement("div",{className:"visual-container"},n.createElement(D.rU,{href:c,newWindow:!0,onClick:this._onTrackClick},n.createElement(X.u,{url:a}),n.createElement("div",{className:"visual-overlay"}))),n.createElement("div",{className:"content"},n.createElement(D.rU,{className:"entry__title",href:c,newWindow:!0},d),n.createElement("div",{className:"metadata"},h),n.createElement("div",{className:"summary",onClick:this._onOpenTarget},l)));case v.Ar.magazine:default:return n.createElement("div",{className:o()(p),"data-u":"4"},n.createElement(D.rU,{href:c,onClick:this._onTrackClick,newWindow:!0},n.createElement(X.u,{url:a})),n.createElement("div",{className:"content"},n.createElement(D.rU,{className:"entry__title",href:c,onClick:this._onTrackClick,newWindow:!0},d),this._renderExplainDropdown(!1),n.createElement("div",{className:"metadata"},h),n.createElement("div",{className:"summary",onClick:this._onOpenTarget},l)))}}_renderExplainDropdown(e){const{data:t}=this.state,s=n.createElement("div",{className:"SponsorPrompt__popover-thanks"},n.createElement(C.H3,{className:"m-t-0"},"The Faster Feedly Sponsorship"),n.createElement("p",null,"We would like to thank ",t.company," for sponsoring Feedly and for making your Feedly experience better."),n.createElement("p",null,"Want to remove this module? Back Feedly directly via",n.createElement(D.rU,{className:"m-l-h",primary:!0,uri:"pro/thanks"},"Feedly Pro+"),"."),n.createElement("p",{className:"m-b-0"},"Want to showcase your products or services?",n.createElement(D.rU,{className:"m-l-h",href:"https://discover.buysellads.com/tech/feedly",primary:!0},"Learn more"),"."));return n.createElement(ee.L,{align:"right",caret:!0,className:o()("CondensedToolbar__icon",{dark:e}),float:"right",icon:n.createElement(m.Z,null),importance:"tertiary",menu:s,title:"Thanks to"})}}re.propTypes={data:r().shape({clickUrl:r().string,company:r().string,header:r().string,image:r().string,sub:r().string}),layout:r().oneOf(Object.values(v.Ar)),showSourceTitle:r().bool},re.defaultProps={data:null,layout:"u4",showSourceTitle:!1}},61257:(e,t,s)=>{"use strict";s.d(t,{p:()=>f});var n=s(32735),i=s(60216),r=s.n(i);const a=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.932 7.36a.5.5 0 01.765.639l-.058.069-9.428 9.428a.5.5 0 01-.638.058l-.07-.058-4.285-4.285a.5.5 0 01.638-.765l.069.058 3.932 3.932 9.075-9.075zM21.075 7.36A.5.5 0 0121.84 8l-.058.069-9.428 9.428a.5.5 0 01-.638.058l-.07-.058-.859-.859a.5.5 0 01.638-.765l.07.058.505.506 9.075-9.075z"}),n.createElement("path",{d:"M6.509 11.652a.5.5 0 01.638-.058l.069.058.853.853a.5.5 0 01-.638.764l-.07-.057-.852-.853a.5.5 0 010-.707z"})))}));var o=s(3167),l=s(18193),c=s(18514),d=s(66709),h=s(28906),u=s(23005),p=s(40280),m=s(99166),g=s(95192);s(53307);class f extends n.Component{constructor(e){super(e),this._renderEntry=e=>{const t={...e,className:"RelatedEntriesSection__entry"};return n.createElement(d.kS,Object.assign({},t,{navigation:"slider"}))},this._onMarkAllAsReadClick=()=>{const{hasUnread:e,relatedEntries:t}=this.state,s=t.map((e=>e.getId()));e?this.reader.askMarkEntriesAsRead(s,{forceFlush:!1}):this.reader.askKeepEntriesAsUnread(s)},this._onSortChange=e=>{const{relatedEntries:t}=this.state;this.setState({relatedEntries:this._onSortEntries(t,e),sortingOrder:e})},this._updateHasUnread=()=>{const{relatedEntries:e}=this.state,t=e.some((e=>!e.isRead()));this.setState({hasUnread:t})},this._updateInfo=async()=>{const{showRelated:e}=this.state,{entry:t}=this.props;if(!e)return;const s=t.listRelatedEntries();try{if(!s.length)return void this.setState({isLoading:!1,relatedEntries:[]});const e=s.map((e=>e.entryId)),t=await this.reader.askLookupEntries(e),n=(0,c.q)(t,{isRelatedEntries:!0});this.setState({isLoading:!1,relatedEntries:this._onSortEntries(n.slice(0),l.q.popularity)},this._updateHasUnread)}catch(n){this.setState({isLoading:!1,error:`Could not get related business event entries: ${n.message}`})}},this.preferences=streets.service("preferences"),this.state={error:"",hasUnread:!0,isLoading:!0,relatedEntries:[],showRelated:"yes"===this.preferences.getPreference(o.xV),sortingOrder:l.q.popularity}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this),this._updateInfo()}componentWillUnmount(){this.reader.unregisterObserver(this),this.preferences=null,this.reader=null}onEntryMarkedAsRead(){this._updateHasUnread()}onEntryKeptUnread(){this._updateHasUnread()}render(){const{isInlineEntry:e}=this.props,{error:t,hasUnread:s,isLoading:i,relatedEntries:r,showRelated:o,sortingOrder:c}=this.state;return o?i?n.createElement(u.g,{details:"related entries"}):t?n.createElement(g.x,{className:"error"},t):r&&0!==r.length?n.createElement("div",{className:"RelatedEntriesSection"},e?n.createElement("div",{className:"RelatedEntriesSection__header m-t-2"},n.createElement(p.H2,{appearance:"h4",className:"m-t-t"},"Related Articles"),n.createElement("div",{className:"RelatedEntriesSection__icon"},n.createElement(a,{className:"icon-right",onClick:this._onMarkAllAsReadClick,title:s?"Mark all articles as read":"Mark all articles as unread"}))):n.createElement(m.P,{borderless:!0,className:"m-b-1",items:Object.values(l.q),labelKey:"label",onItemSelect:this._onSortChange,prefix:"Sorting by",size:"small",value:c.label}),n.createElement(h.f,{endOfFeedLabel:"",entries:r,entryRenderer:this._renderEntry,hasAllEntries:!0,hideMeme:!0,hideRelatedEntries:!0,showSourceTitle:!0})):null:null}_onSortEntries(e,t){const{sortDirection:s,getter:n}=t;return e.sort(((e,t)=>"asc"===s?e[n]()-t[n]():t[n]()-e[n]())).slice(0)}}f.propTypes={entry:r().shape({id:r().string,listRelatedEntries:r().function}).isRequired,isInlineEntry:r().bool},f.defaultProps={isInlineEntry:!1}},94759:(e,t,s)=>{"use strict";s.d(t,{v:()=>h});var n=s(60216),i=s.n(n),r=s(32735),a=s(74221),o=s(40280),l=s(96750),c=s(89685),d=s(34039);class h extends r.Component{constructor(...e){super(...e),this.state={feeds:null}}componentDidMount(){this.collections=streets.service("collections"),this.feeds=streets.service("feeds"),this.reader=streets.service("reader"),this.suggesto=streets.service("suggesto"),this._updateRelatedFeeds()}componentWillUnmount(){this.collections=null,this.feeds=null,this.reader=null,this.suggesto=null}render(){const{feeds:e}=this.state,{headingComponent:t,streamId:s,view:n}=this.props,{isCategory:i}=(0,a.Yg)(s);if(!e||0===e.length)return null;const o=t,h=i?"discover/sources":`discover/sources/search/leo/${encodeURIComponent(s)}`;return r.createElement("div",{className:"fx"},r.createElement(o,{appearance:"h4"},"You might also like"),r.createElement(l.A,{feedRenderer:e=>r.createElement(c.f,{feed:e,showMetadata:!0,showTopics:"large"===n,view:n}),feeds:e.slice(0,3),renderAllAtOnce:!0}),r.createElement(d.Qj,{className:"m-t-1",importance:"secondary",label:"Explore",size:"small",uri:h}))}async _updateRelatedFeeds(){try{const{streamId:e}=this.props,{isCategory:t}=(0,a.Yg)(e);let s=[];s=t?await this.collections.askUnsubscribedFeedRecommendations(e):await this.feeds.askUnsubscribedFeedRecommendations(e),this.setState({feeds:s})}catch(e){console.error("[related feeds widget] failed to get related feeds",e)}}}h.propTypes={headingComponent:i().func,streamId:i().string.isRequired,view:i().oneOf(["small","medium","large"])},h.defaultProps={headingComponent:o.H2,view:"small"}},98521:(e,t,s)=>{"use strict";s.d(t,{Z0:()=>m,DM:()=>g,G9:()=>f,aT:()=>b,ys:()=>E});var n=s(60216),i=s(97090),r=s(84955),a=s(34094),o=s(63381),l=s(39993),c=s(32720),d=s(31563),h=s(2145),u=s(82085),p=s(60014);const m=3,g=Object.freeze({webAlertsIntro:{id:"webAlertsIntro",link:"https://vimeo.com/556197273",thumbnail:a,title:"Introducing Web Alerts",vimeoId:"556197273"},tuningTips:{id:"tuningTips",link:"https://vimeo.com/556203305",thumbnail:o,title:"Tuning Tips",vimeoId:"556203305"}}),f={LeoSecurity:{illustration:d,illustrationDark:h,modalInfo:{threatActor:{title:"Track threat actors with Feedly for Cybersecurity",sub:"Leo knows all the threat actors referenced by MITRE and Malpedia."},cyberEvent:{title:"Track cyber attacks with Feedly for Cybersecurity",sub:"Ask Leo to prioritize articles mentioning cyber attacks and their targets or industries."},malwareFamily:{title:"Track malware families with Feedly for Cybersecurity",sub:"Leo knows all the malware families referenced by MITRE and Malpedia."},security:{title:"Track critical vulnerabilities with Feedly for Cybersecurity",sub:"Ask Leo to track vulnerabilities with CVSS > 8 or CVSS > 5 with an exploit."},topic:{title:"Track cybersecurity threats with Feedly for Cybersecurity",sub:"Upgrade to track, prioritize, and share critical security threats without the noise."}},buttonProps:{label:"Try Feedly for Cybersecurity",uri:r.UP.LeoSecurity}},Biopharma:{illustration:l,illustrationDark:c,modalInfo:{gene:{title:"Track genes with Feedly for Biopharma",sub:"Leo knows 42,000 genes and their aliases referenced by PubMed and the NCBI."},disease:{title:"Track diseases with Feedly for Biopharma",sub:"Leo knows 5,000 diseases and their aliases referenced by PubMed."},org:{title:"Track biopharma companies with Feedly for Biopharma",sub:"Leo knows 200 company names and their aliases in the biopharmaceutical sector."},topic:{title:"Track biopharma trends with Feedly for Biopharma",sub:"Upgrade to research crucial topics and trends without the noise."}},buttonProps:{label:"Try Feedly for Biopharma",uri:r.UP.Biopharma}},LeoIndustryTopics:{illustration:u,illustrationDark:p,modalInfo:{industryTopic:{title:"Industry topics are powered by Leo models that are part of Feedly Enterprise",sub:"Upgrade to keep up with industry updates, without the noise."}},buttonProps:{label:"Try Feedly Enterpise",uri:r.UP.Enterprise}},proPlus:{illustration:u,illustrationDark:p,modalInfo:{webAlert:{title:"Create Web Alerts with Pro+",sub:"Upgrade to track companies, products, and trends you care about, without the noise."},powerSearch:{title:"Search Across the Web with Pro+",sub:"Upgrade to track companies, products, and trends you care about, without the noise."}},buttonProps:{label:"Get Feedly Pro+"}}},y=n.PropTypes.shape({type:n.PropTypes.string,reputation:n.PropTypes.string,publicationBuckets:n.PropTypes.arrayOf(n.PropTypes.string)}),v=n.PropTypes.shape({negate:n.PropTypes.bool,parts:i.G$,type:n.PropTypes.string,salience:n.PropTypes.string}),b=n.PropTypes.oneOfType([y,v]),E=n.PropTypes.shape({beyondLayers:n.PropTypes.arrayOf(n.PropTypes.object),beyondMainSearchLayer:n.PropTypes.shape({parts:n.PropTypes.arrayOf(n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.string])),salience:n.PropTypes.string,type:n.PropTypes.string}),beyondPublicationTypes:n.PropTypes.arrayOf(n.PropTypes.string),beyondSearchLocation:n.PropTypes.string,beyondTerm:n.PropTypes.string})},89401:(e,t,s)=>{"use strict";s.d(t,{pj:()=>Ge,qD:()=>o,q8:()=>Qe,ZA:()=>te,rk:()=>me,ES:()=>Ke,ol:()=>G,UI:()=>Q,E2:()=>et,Pm:()=>nt,Uh:()=>tt});var n=s(32735),i=s(98521),r=s(47264),a=s(55024);class o extends n.Component{constructor(e){super(e),this._onOpenVideoModal=e=>{this.setState({openVideoId:e})},this._onCloseVideoModal=()=>{this.setState({openVideoId:null})},this.state={openVideoId:null}}render(){const{openVideoId:e}=this.state;return n.createElement(n.Fragment,null,Object.values(i.DM).map((({id:e,thumbnail:t,title:s})=>n.createElement(r.Er,{key:s,"aria-label":`Play Video: ${s}`,className:"GettingStartedVideos__video",importance:"primary",onClick:()=>{this._onOpenVideoModal(e)}},n.createElement("img",{alt:s,className:"GettingStartedVideos__video-thumbnail",src:t})))),e&&n.createElement(a.Kd,{onClose:()=>{this._onCloseVideoModal()},showCloseButton:!0,vimeoId:i.DM[e].vimeoId}))}}var l=s(33259),c=s.n(l),d=s(89793),h=s.n(d),u=s(45750),p=s.n(u),m=s(60216),g=s.n(m),f=s(51205),y=s(74221),v=s(855),b=s(32285),E=s(55015),C=s(40280),w=s(34039),k=s(6931),_=s(40841),M=s.n(_),S=s(29125),T=s(74812),I=s(28576),N=s(15813),P=s(89521),L=s(11245),x=s(71262);const D=(0,x.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 1.643a8.357 8.357 0 100 16.714 8.357 8.357 0 000-16.714zm0 1a7.357 7.357 0 110 14.714 7.357 7.357 0 010-14.714z"}),n.createElement("path",{d:"M12.699 6.669L8.413 8.097a.5.5 0 00-.316.316L6.67 12.7a.5.5 0 00.632.632l4.286-1.428a.5.5 0 00.316-.316L13.33 7.3a.5.5 0 00-.632-.632zm-.633 1.264l-1.033 3.1-3.1 1.033 1.033-3.1 3.1-1.033z"})))}));var O=s(16569),A=s(39908),z=s(78684),R=s(56816),F=s(4425);const j={annotated:P.Z,board:L.Z,teamBoard:L.Z,explore:D,favorites:O.Z,feed:A.Z,priority:z.Z,readLater:R.Z,recentlyRead:F.Z};class U extends n.Component{constructor(...e){super(...e),this.state={enterpriseCollections:[],enterpriseTags:[],feedItems:[],personalCollections:[],personalTags:[],priorityList:[]}}UNSAFE_componentWillMount(){this.feeds=streets.service("feeds"),this.enterprisetags=streets.service("enterprisetags"),this.enterprisetags.registerObserver(this),this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisecollections.registerObserver(this),this.personalcollections=streets.service("personalcollections"),this.personalcollections.registerObserver(this),this.reader=streets.service("reader"),this.reader.registerObserver(this),this.personaltags=streets.service("personaltags"),this.personaltags.registerObserver(this),this.priorities=streets.service("priorities"),this.priorities.registerObserver(this),this._updateGlobalScopeItems(),this._updateFeedItems(),this._updatePersonalCollections(),this._updatePersonalTags(),this._updateEnterpriseCollections(),this._updateEnterpriseTags(),this._updatePriorities()}componentWillUnmount(){this.personalcollections.unregisterObserver(this),this.personalcollections=null,this.enterprisecollections.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags.unregisterObserver(this),this.enterprisetags=null,this.reader.unregisterObserver(this),this.reader=null,this.personaltags.unregisterObserver(this),this.personaltags=null,this.priorities.unregisterObserver(this),this.priorities=null,this.feeds=null}onCollectionsChanged(){this._updateEnterpriseCollections()}onTagsChanged(){this._updateEnterpriseTags(),this._updatePersonalTags()}onFeedChanged(){this._updatePersonalCollections()}onPrioritiesChanged(){this._updatePriorities()}render(){const e=this._getSelectedItem(),{className:t}=this.props;return n.createElement("div",{className:M()("fx-select ScopeFilterSearch",t)},n.createElement(T.L,{align:"right",className:"ScopeFilterSearch__dropdown",dropDownArrow:!0,fullWidth:!0,label:e&&e.label||"Select an option",menu:this._renderMenu()}))}_renderMenu(){const{enterpriseCollections:e,enterpriseTags:t,feedItems:s,globalScopeItems:i,personalCollections:r,personalTags:a,priorityList:o}=this.state,l=streets.hasBusinessAccess()?"Personal ":"",c=(0,S.FM)("global.saved",streets.getUserId());return n.createElement(I.GX,{deselectable:!0},i.map((e=>this._renderMenuItem(e,e.icon))),s.map((e=>this._renderFaviconMenuItem(e))),o.length>0&&n.createElement("div",{className:"list-separator"},"Priorities"),o.map((e=>this._renderMenuItem(e,j.priority))),e.length>0&&n.createElement("div",{className:"list-separator"},"Team Feeds"),e.map((e=>this._renderMenuItem(e,j.feed))),t.length>0&&n.createElement("div",{className:"list-separator"},"Team Boards"),t.map((e=>this._renderMenuItem(e,j.teamBoard))),r.length>0&&n.createElement("div",{className:"list-separator"},l+"Feeds"),r.map((e=>this._renderMenuItem(e,e.icon||j.feed))),a.length>0&&n.createElement("div",{className:"list-separator"},l+"Boards"),a.map((e=>this._renderMenuItem(e,e.id===c?j.readLater:j.board))))}_renderFaviconMenuItem(e){return n.createElement(I.sN,{key:e.id,onClick:()=>{this.props.onScopeSelect(e)}},n.createElement(N.t,{alt:e.alt,className:"m-r-1",compact:!0,square:!0,url:e.favicon}),n.createElement("span",null,e.label))}_renderMenuItem(e,t){return n.createElement(I.sN,{key:e.id,onClick:()=>{this.props.onScopeSelect(e)}},n.createElement(t,{importance:"tertiary"}),e.label)}_getSelectedItem(){const{selectedScope:e}=this.props,{feedItems:t,globalScopeItems:s,personalCollections:n,personalTags:i,priorityList:r,enterpriseCollections:a,enterpriseTags:o}=this.state;if(e){const l=[...t,...s,...a,...o,...n,...i,...r].find((({id:t})=>t===e));if(l)return l}return s[0]}_updateEnterpriseCollections(){streets.hasBusinessAccess()?this.enterprisecollections.askListSubscribedCollections().then((e=>{const t=`enterprise/${streets.getEnterpriseId()}/category/global.all`,s=(e||[]).slice(0);s.unshift({label:"All Team Feeds",icon:j.feed,id:`${t}`}),this.setState({enterpriseCollections:s})})).catch(this._onErrorFetching):this.setState({enterpriseCollections:[]})}_updateEnterpriseTags(){streets.hasBusinessAccess()?this.enterprisetags.askListSubscribedTags().then((e=>{const t=`enterprise/${streets.getEnterpriseId()}/tag/global.all`,s=(e||[]).slice(0);s.unshift({label:"All Team Boards",icon:j.board,id:`${t}`}),this.setState({enterpriseTags:s})})).catch(this._onErrorFetching):this.setState({enterpriseTags:[]})}_updateFeedItems(){const{selectedScope:e}=this.props,{isFeed:t}=(0,y.Yg)(e);t?this.feeds.askLookupFeed(e).then((e=>{e&&e.id&&this.setState({feedItems:[{alt:e.title,id:e.id,favicon:e.favicon,label:`Source: ${e.title}`}]})})):this.setState({feedItems:[]})}_updateGlobalScopeItems(){const e=[],t=streets.getUserId();if(t){const s=(0,S.FM)("global.all",t,"category"),n=(0,S.FM)("global.all",t,"tag");if(streets.hasBusinessAccess()){const t=streets.getEnterpriseId(),i=`enterprise/${t}/tag/global.all`,r=`enterprise/${t}/category/global.all`;e.push({label:"All Feeds",icon:j.feed,id:`${s},${r}`},{label:"All Boards",icon:j.board,id:`${n},${i}`},{label:"Annotated",icon:j.annotated,id:(0,y.LI)()})}else e.push({label:"All Personal Feeds",icon:j.feed,id:s},{label:"All Personal Boards",icon:j.board,id:n},{label:"Annotated",icon:j.annotated,id:(0,y._k)()});e.push({label:"Recently Read",icon:j.recentlyRead,id:(0,y.os)()})}e.push({label:"Beyond Your Feedly",icon:j.explore,id:"topic/global.popular"}),this.setState({globalScopeItems:e})}async _updatePersonalCollections(){const e=streets.getUserId();if(!e)return void this.setState({personalCollections:[]});const t=(0,S.FM)("global.all",e,"category");let s=await this.personalcollections.askListCollections();streets.hasBusinessAccess()&&(s=[{label:"All Personal Feeds",icon:j.feed,id:`${t}`},...s]),this.setState({personalCollections:s})}_updatePersonalTags(){const e=streets.getUserId();e?this.personaltags.askListTags().then((t=>{const s=(0,S.FM)("global.all",e,"tag"),n=(t||[]).slice(0);streets.hasBusinessAccess()&&n.unshift({label:"All Personal Boards",icon:j.board,id:`${s}`}),this.setState({personalTags:n})})).catch(this._onErrorFetching):this.setState({personalTags:[]})}_updatePriorities(){this.priorities.askListPriorities().then((e=>{this.setState({priorityList:e})})).catch(this._onErrorFetching)}_onErrorFetching(e){streets.service("signs").showMessage("Error: "+e&&e.message)}}U.propTypes={className:g().string,onScopeSelect:g().func.isRequired,selectedScope:g().string.isRequired},U.defaultProps={className:""};var B=s(28906),H=s(23005),Y=s(99166);const Z={time:{items:v.tR,label:""},fields:{items:v.lP,label:"Matching"},ranked:{items:v._y,label:"Sort by"},embedded:{items:v.yJ,label:"Embedding"},locale:{items:v.P7,label:"Language"}};Object.keys(Z).forEach((e=>{const t=Z[e];t.itemLabel=t.items.reduce(((e,t)=>(e[t.id]=t.label,e)),{})}));const W=(e,t,s)=>{const{items:i,label:r,itemLabel:a}=Z[e];return n.createElement("div",{className:"field"+("locale"!==e?" m-r-1":""),style:{display:"inline-block"}},n.createElement(Y.P,{borderless:!0,items:i,labelKey:"label",onItemSelect:s.bind(null,e),prefix:r,value:a[t]||a[v.iK[e]],size:"small"}))},$=e=>{const{embedded:t,fields:s,locale:i,onItemSelect:r,ranked:a,time:o}=e;return n.createElement("div",{className:"form search--filter-list"},W("time",o,r),W("fields",s,r),W("ranked",a,r),W("embedded",t,r),W("locale",i,r))};$.DEFAULTS=v.iK,$.propTypes={embedded:g().oneOf(["any","audio","doc","video"]),fields:g().oneOf(["all","author","title"]),locale:g().string,onItemSelect:g().func,ranked:g().oneOf(["engagement","newest"]),time:g().oneOf(["forever","month","today","week"])},$.defaultProps={embedded:void 0,fields:void 0,locale:void 0,onItemSelect:()=>{},ranked:void 0,time:void 0};const{DEFAULTS:q}=$,V=[{description:"Put phrase inside quotes for an exact match. This is particularly useful for names.",label:'"Elon Musk"'},{description:"Use the minus (-) operator to exclude results which match specific keywords",label:'"Elon Musk" -Tesla'},{chipContents:["Tesla ",n.createElement("strong",{key:"and"},"AND"),' "Elon Musk"'],description:"Use AND to search for multiple keywords in the same article",label:'Tesla AND "Elon Musk"'},{chipContents:["Tesla ",n.createElement("strong",{key:"or"},"OR")," Ford"],description:'Combine searches by putting "OR" between each search query',label:"Tesla OR Ford"}];class G extends n.Component{constructor(e){super(e),this._checkMoreEntriesNeeded=()=>{const e=this.state&&this.state.streamState,t=!streets.hasProAccess();if(!this.stream||!e||e.isLoadingEntries||e.hasAllEntries||t&&e.entries&&e.entries.length>=4)return;const{scrollTarget:s}=this.props,{height:n}=s.getBoundingClientRect(),i=n;s.scrollTop+i>s.scrollHeight-1.5*i&&(this._doCheckIfMoreEntriesNeeded=!0,this.stream.askMoreEntries())},this._getSearchScope=(e=this.props.scope)=>e&&streets.getUserId()?e:this._getDefaultSearchScope(),this._onItemSelect=(e,t)=>{const s=this.props[e],n=t.id;this._areBothDefault(e,n,s)||n===s||this.props.onFilterChange(e,n)},this._onSearchTermKeyPress=e=>{"Enter"===e.key&&(this._debounceUpdateStream.cancel(),this._updateStream())},this._registerScrollListener=()=>{const{scrollTarget:e}=this.props;e.addEventListener("scroll",this._throttledCheckMoreEntriesNeeded)},this._unregisterScrollListener=e=>{e.removeEventListener("scroll",this._throttledCheckMoreEntriesNeeded)},this._debounceUpdateStream=p()(this._updateStream,2e3),this._annotatedScopeId=streets.hasBusinessAccess()?(0,y.LI)():(0,y._k)(),this.state={streamState:{},navigation:streets.service("navigo").getState(),streamVersion:0}}componentDidMount(){this.reader=streets.service("reader"),this.navigo=streets.service("navigo"),this.shortcuts=streets.service("shortcuts"),this.shortcuts.claim(this,b.PC.powerSearch),this.navigo.registerObserver(this),this._updateStream(),this._throttledCheckMoreEntriesNeeded=c()(this._checkMoreEntriesNeeded,200),this._searchInput=n.createRef(),this._registerScrollListener()}componentDidUpdate(e){const{embedded:t,fields:s,locale:n,ranked:i,scrollTarget:r,term:a,time:o}=this.props;e.term!==a?a?this._debounceUpdateStream():(this._debounceUpdateStream.cancel(),this._updateStream()):e.embedded===t&&e.fields===s&&e.locale===n&&e.ranked===i&&this._getSearchScope(e.scope)===this._getSearchScope()&&e.term===a&&e.time===o||(this._debounceUpdateStream.cancel(),this._updateStream()),r!==e.scrollTarget&&(this._unregisterScrollListener(e.scrollTarget),this._registerScrollListener())}componentWillUnmount(){this.navigo.unregisterObserver(this),this.shortcuts.unclaim(this,b.PC.powerSearch),this.reader=null,this.navigo=null,this.shortcuts=null,this._annotatedScopeId=null,this._unregisterScrollListener(this.props.scrollTarget),this._throttledCheckMoreEntriesNeeded=null}onStreamStateChanged(){const{term:e}=this.props;if(e){const e=this.stream.getState();this.setState({streamState:e});let t=[];e&&e.featuredEntries&&e.featuredEntries.length>0&&(t=t.concat(e.featuredEntries)),e&&e.entries&&e.entries.length>0&&(t=t.concat(e.entries)),this._throttledCheckMoreEntriesNeeded(),this.navigo.setEntries(t)}}onStreamIsLoadingEntries(){this.setState({streamState:this.stream.getState()})}onNavigationChanged(e){this.setState({navigation:e})}onShortcutKey(e){const{onClear:t}=this.props;e===b.PC.powerSearch&&(t(),this._searchInput.current.focus())}render(){const{embedded:e,fields:t,locale:s,onTermChange:i,ranked:r,term:a="",time:o}=this.props,l=this._getSearchScope();return n.createElement(n.Fragment,null,n.createElement(k.At,{autoFocus:!0,className:"m-b-1",clearable:!0,elementsAfter:n.createElement(U,{selectedScope:l,onScopeSelect:e=>{this._onItemSelect("scope",e)}}),elementsBefore:n.createElement(f.Z,{className:"m-l-2",importance:"tertiary"}),helpLink:n.createElement(k.Uu,{entryId:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2b4:c3f7604e",href:"https://blog.feedly.com/feedly-power-search"}),onBlur:this._onBlur,onChange:i,onFocus:this._onFocus,onKeyPress:this._onSearchTermKeyPress,ref:this._searchInput,size:"large",value:a}),l!==this._annotatedScopeId&&n.createElement($,{embedded:e,fields:t,locale:s,ranked:r,time:o||q.time,onItemSelect:this._onItemSelect}),this._renderStream())}_renderExamples(){return n.createElement("div",null,n.createElement(C.H2,{appearance:"h4"},"Narrow your search"),V.map((({chipContents:e,description:t,label:s})=>n.createElement("div",{key:s},n.createElement(E.A,{className:"search--example-chip",onClick:()=>{this.props.onTermChange(s)}},e||s),n.createElement("p",{className:"hint search--example-hint"},t)))))}_renderPreview(e){return n.createElement("div",{key:"searchPreview",className:"promo",style:{position:"relative"}},e,n.createElement(a.u_,{inline:!0,fading:!0,small:!0},n.createElement(C.H2,{appearance:"h3"},"Find specific articles in your Feedly"),n.createElement(w.Qj,{label:"Get Power Search",className:"item-action",color:"accent",uri:"pro/search"}),n.createElement("p",{className:"item-meta m-b-0"},"Search in your entire Feedly or zoom into a specific feed or board. Filter results by time, popularity, language, or media type.")))}_renderStream(){const{term:e,time:t}=this.props,{streamVersion:s}=this.state,i=this.state.streamState||{},{entries:r}=i,{error:a}=i,o=!streets.hasProAccess();if(a){let e;return a.includes("not logged in")?e="You must be logged in to search for content within your Feedly.":a.includes("query too long")?e="The query is too long (max 2000 characters).":a.includes("advanced operators")&&(e="There is a problem with your query. If you are using advanced operators, please double check the syntax."),n.createElement("p",null,e||`Error: ${a.message}`)}if(!e)return this._renderExamples();if(!r)return n.createElement(H.g,{details:"results"});if(!r.length)return[n.createElement("p",{key:"description"},"Sorry, we couldn't find any articles for ",n.createElement("strong",null,e),"."),n.createElement("p",{key:"suggestionTitle"},"Suggestions:"),n.createElement("ul",{key:"suggestionList",className:"fx-p"},n.createElement("li",null,"Check that all the words are spelled correctly."),n.createElement("li",null,"Try a more general search term."),"forever"!==t&&n.createElement("li",null,"Increase the date range."))];const l=this.state.navigation||{};let c;l.inlinedEntryId&&"inline"===l.inlineMode&&(c=l.inlinedEntryId);const d=o?i.isLoading&&i.entries.length>=4:i.isLoading,h=n.createElement(n.Fragment,null,n.createElement(C.H2,{appearance:"h4"},"Results"),n.createElement(B.f,{key:"entryList",entries:o?r.slice(0,4):r,focusSelectedEntry:l.focusSelectedEntry,layout:"u4",hasAllEntries:i.hasAllEntries,hideAuthor:!0,highlightKeywords:!0,isLoading:d,showSourceTitle:!0,selectedEntryId:l.selectedEntryId,inlinedEntryId:c,endOfFeedLabel:o?"":"End of search results",streamVersion:s}));return o?this._renderPreview(h):h}_areBothDefault(e,t,s){let n;return n="scope"===e?!s&&t===this._getDefaultSearchScope():!(t&&"-"!==t&&t!==q[e]||s&&"-"!==s&&s!==q[e]),n}_clearStream(){this.stream&&(this.stream.unregisterObserver(this),this.stream=null,this._streamSettings=null,this.setState({streamState:{}}))}_getDefaultSearchScope(){const e=streets.getUserId();let t;if(e){const s=(0,S.FM)("global.all",e,"category");t=streets.hasBusinessAccess()?`${s},enterprise/${streets.getEnterpriseId()}/category/global.all`:s}else t="topic/global.popular";return t}async _updateStream(){const{embedded:e,fields:t,locale:s,onSubmit:n,ranked:i,term:r,time:a}=this.props,o=this._getSearchScope();if(!r)return void this._clearStream();let l={batchSize:20,searchScope:o,searchTerm:r,unfilteredOnly:!1};if(l=o===this._annotatedScopeId?{...l,searchFields:"note,highlight",searchTime:v.qp.forever}:{...l,searchEmbedded:e,searchFields:t,searchLocale:s||q.locale,searchRanked:i,searchScope:o,searchTime:a||q.time},this._streamSettings)if(l.searchScope!==this._streamSettings.searchScope)this._clearStream();else if(h()(this._streamSettings,l))return;this._streamSettings=l,this.stream?await this.stream.askUpdateQuery(l):(this.stream=this.reader.lookupStream(o,l),this.stream.registerObserver(this)),n({embedded:l.searchEmbedded,fields:l.searchFields,locale:l.searchLocale,ranked:l.searchRanked,scope:l.searchScope,term:l.searchTerm,time:l.searchTime}),this.setState({streamState:this.stream.getState(),streamVersion:this.state.streamVersion+1})}}G.propTypes={embedded:g().string,fields:g().string,locale:g().string,onFilterChange:g().func.isRequired,onSubmit:g().func,onClear:g().func,onTermChange:g().func.isRequired,ranked:g().string,scope:g().string,scrollTarget:g().instanceOf(Element).isRequired,term:g().string,time:g().string},G.defaultProps={embedded:void 0,fields:void 0,locale:void 0,onSubmit:()=>{},onClear:()=>{},ranked:void 0,scope:void 0,scrollTarget:void 0,term:"",time:void 0};class Q extends n.Component{constructor(e){super(e),this._onFilterChange=(e,t)=>{this.setState({[e]:t})},this._onTermChange=e=>{this.setState({term:e})},this.state={term:e.initialTerm,scope:e.initialScope,scrollTarget:void 0}}componentDidMount(){this.setState({scrollTarget:streets.service("sliderService").getScrollTarget()})}render(){const{embedded:e,fields:t,locale:s,ranked:i,scope:r,scrollTarget:a,term:o,time:l}=this.state;return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container"},n.createElement(C.H2,{className:"heading--muted heading--light"},"Find specific articles in your Feedly"),a&&n.createElement(G,{embedded:e,fields:t,locale:s,onFilterChange:this._onFilterChange,onSubmit:this._replacePageURL,onTermChange:this._onTermChange,ranked:i,scope:r,scrollTarget:a,term:o,time:l})))}}Q.propTypes={initialTerm:g().string,initialScope:g().string},Q.defaultProps={initialTerm:"",initialScope:void 0};var K=s(39970),J=s(35093),X=s(65698),ee=s(42610);class te extends n.Component{constructor(...e){super(...e),this._preventBlur=e=>{e.preventDefault()}}render(){const{items:e,onSelect:t,query:s}=this.props;return n.createElement(I.GX,{className:"PowerSearchAutocomplete popover",deselectable:!0,maxHeight:336},!!e.length&&e.map((e=>{const{description:i,id:r,label:a,text:o}=e,l=(0,X.FW)(e),c=J.XA[l],d=i||J.gQ[l];let h=a;const u=(0,X.S_)(s,e);return u&&-1===e.label.toLowerCase().indexOf(s.toLowerCase())&&(h+=` (Alias: ${u})`),n.createElement(I.sN,{key:`${r}${a}`||o,className:"PowerSearchAutocomplete__menu-item",onClick:()=>t(e),onMouseDown:this._preventBlur},n.createElement(ee.E,{item:e,position:"left",targetParentElement:!0},n.createElement("div",{className:"PowerSearchAutocomplete__item-container"},n.createElement(c,{importance:"secondary"}),n.createElement("div",{className:"PowerSearchAutocomplete__menu-item-content"},n.createElement("span",{className:"PowerSearchAutocomplete__menu-item-label",title:h||o},n.createElement(K.L,{firstOccurance:!0,text:h||o,words:s,wordClassName:"autocomplete-bold",wrapper:"span"})),n.createElement("p",{className:"m-a-0 PowerSearchAutocomplete__menu-item-description"},d)))))})))}}te.propTypes={items:g().arrayOf(g().object),onSelect:g().func.isRequired,query:g().string},te.defaultProps={items:[],query:""};var se=s(14978),ne=s(5375),ie=s(75320),re=s(16847),ae=s(94613),oe=s(57080),le=s(99175),ce=s(74296);function de({children:e,href:t,tipsyPosition:s}){return n.createElement(le.d,{content:e,position:s,textAlign:"left"},n.createElement(w.Qj,{"aria-label":"Get help",href:t,icon:n.createElement(ce.Z,{importance:"tertiary"}),importance:"tertiary",newWindow:!0,size:"small",rounded:!0}))}de.propTypes={children:g().node.isRequired,href:g().string.isRequired,tipsyPosition:g().string},de.defaultProps={tipsyPosition:void 0};const he="isCustomTopicPopoverOpen",ue="isScopeSelectPopoverOpen",pe="https://www.feedly.com/i/landing";class me extends n.Component{constructor(e){super(e),this._renderScopeSelector=()=>{const{bucketType:e,isTopicModeler:t}=this.props,{isScopeSelectPopoverOpen:s}=this.state,r=t?n.createElement(C.H3,{className:"heading--muted heading--light m-t-h m-b-t"},"Sources"):n.createElement(C.H3,{appearance:"h4",className:"PublicationLayer__header m-t-0 m-b-h"},"Sources");return n.createElement("div",{className:M()("PublicationLayer__scope-selector",{"m-t-0":t})},n.createElement(T.X,{align:"left",key:"PublicationLayerScopeSelect",className:M()("PublicationLayer__scope-selector-button",{"PublicationLayer__scope-selector-button--horizontal":t}),iconAlign:t?"left":"right",icon:n.createElement(se.Z,{className:M()("PublicationLayer__icon",{"PublicationLayer__icon--horizontal":t}),importance:"secondary"}),importance:"tertiary",isOpen:s,label:r,menu:n.createElement(I.v2,{className:"PublicationLayer__dropdown-menu p-t-t"},n.createElement(I.aV,{name:"mode",onChange:this._onModeChange,selectedValue:e},this._renderRadioOptions())),onButtonClick:()=>{this._onOpenPopover(ue)},onCloseMenu:()=>{this._onClosePopover(ue)},size:"small",title:"Scope Select"}),!t&&n.createElement(de,{href:i.DM.tuningTips.link,tipsyPosition:"top"},n.createElement("div",{className:"PublicationLayer__tipsy-title"},"Refine sources"),n.createElement("div",{className:"PublicationLayer__tipsy-message"},"Focus your Web Alert on specific types of publications")))},this._renderRadioOptions=()=>{const{hasLeoBiopharmaAccess:e,hasLeoSecurityAccess:t}=this.props;return[n.createElement(ae.Y8,{key:ie.Zx.industryIntelligence,value:ie.Zx.industryIntelligence},"Industry Intelligence Mode"),n.createElement(ae.Y8,{key:ie.Zx.cybersecurity,value:ie.Zx.cybersecurity},n.createElement("div",{className:"PublicationLayer__mode-option"},n.createElement("span",null,"Cybersecurity Mode"),!t&&n.createElement("span",{className:"badge accent small m-l-1"},"add-on"))),n.createElement(ae.Y8,{key:ie.Zx.biopharma,value:ie.Zx.biopharma},n.createElement("div",{className:"PublicationLayer__mode-option"},n.createElement("span",null,"Biopharma Mode"),!e&&n.createElement("span",{className:"badge accent small m-l-1"},"add-on")))]},this._renderPublicationTypes=()=>{const{isTopicModeler:e,onTogglePublicationBox:t,publicationTypes:s}=this.props,{isCustomTopicPopoverOpen:i}=this.state;return n.createElement("div",{className:"PublicationLayer__checkbox-container"},s.map(((s,i)=>{const{checked:r,id:a,label:o,type:l=ie.mn.default}=s;let c,d;return l===ie.mn.default?(c=this._renderBucketDescription(a),d=ie.ST[a]):(c=this._renderCustomTopicDescription(s),d=`${(0,re.Fb)(o)} Sources`),n.createElement(oe.X,{key:`${a}-${o}`,className:M()("PublicationLayer__checkbox",{"m-t-t":e}),checked:r,id:a,onChange:()=>{t(i)}},n.createElement(le.d,{content:c,key:a,position:"top",tipClass:"Tipsy--text-align-left"},n.createElement("div",null,d)))})),n.createElement("div",{className:"PublicationLayer__custom-topic-container"},n.createElement(T.X,{caret:!0,className:"PublicationLayer__custom-topic-button accent",icon:n.createElement(ne.Z,{color:"accent"}),importance:"tertiary",isOpen:i,label:"Sources",menu:n.createElement(Ke,{onSelect:this._onAddCustomTopic}),onButtonClick:()=>{this._onOpenPopover(he)},onCloseMenu:()=>{this._onClosePopover(he)}})))},this._renderBucketDescription=e=>{const{description:t,examples:s}=ie.W2[e];let i="PublicationLayer__tipsy-title";return"everything"===e&&(i+="--regular"),n.createElement(n.Fragment,null,n.createElement("span",{className:i},t),s?n.createElement("span",{className:"PublicationLayer__tipsy-message"},`Examples: ${s.join(", ")}, etc.`):null)},this._renderCustomTopicDescription=e=>{const t=e.examples.map((e=>e.title));return n.createElement(n.Fragment,null,n.createElement("span",{className:"PublicationLayer__tipsy-title"},`${(0,re.Fb)(e.label)} publications`),n.createElement("span",{className:"PublicationLayer__tipsy-message"},`Examples: ${t.join(", ")}, etc.`))},this._onAddCustomTopic=e=>{const{onAddCustomTopic:t}=this.props;t(e),this._onClosePopover(he)},this._onClosePopover=e=>{this.setState({[e]:!1})},this._onModeChange=e=>{const{hasLeoBiopharmaAccess:t,hasLeoSecurityAccess:s,onModeChange:n}=this.props;e!==ie.Zx.cybersecurity||s?e!==ie.Zx.biopharma||t?n(e):window.open(`${pe}/biopharma`,"_blank"):window.open(`${pe}/cybersecurity`,"_blank"),this._onClosePopover(ue)},this._onOpenPopover=e=>{this.setState({[e]:!0})},this.state={isCustomTopicPopoverOpen:!1,isScopeSelectPopoverOpen:!1}}render(){const{isTopicModeler:e}=this.props;return n.createElement("div",{className:M()("PublicationLayer",{"PublicationLayer--horizontal":e})},this._renderScopeSelector(),this._renderPublicationTypes())}}me.propTypes={bucketType:g().string,hasLeoBiopharmaAccess:g().bool,hasLeoSecurityAccess:g().bool,isTopicModeler:g().bool,onAddCustomTopic:g().func,onModeChange:g().func,onTogglePublicationBox:g().func,publicationTypes:g().arrayOf(g().shape({checked:g().bool,label:g().string})).isRequired},me.defaultProps={bucketType:ie.Zx.industryIntelligence,hasLeoBiopharmaAccess:!1,hasLeoSecurityAccess:!1,isTopicModeler:!1,onAddCustomTopic:()=>{},onModeChange:()=>{},onTogglePublicationBox:()=>{}};var ge=s(24443),fe=s.n(ge),ye=s(51196);const ve=(0,x.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.857 2.786c.706 0 1.285.538 1.351 1.226l.006.13v3.43a.5.5 0 01-.992.09l-.008-.09v-3.43a.357.357 0 00-.285-.349l-.072-.007H4a.357.357 0 00-.35.285l-.007.072V11c0 .173.122.317.285.35l.072.007h4.286a.5.5 0 01.09.992l-.09.008H4a1.357 1.357 0 01-1.35-1.226L2.642 11V4.143c0-.706.538-1.285 1.226-1.351L4 2.786h6.857z"}),n.createElement("path",{d:"M16 7.071H9.143c-.75 0-1.357.608-1.357 1.358v6.857c0 .75.607 1.357 1.357 1.357H16c.75 0 1.357-.608 1.357-1.357V8.429c0-.75-.608-1.358-1.357-1.358zm-6.857 1H16c.197 0 .357.16.357.358v6.857c0 .197-.16.357-.357.357H9.143a.357.357 0 01-.357-.357V8.429c0-.198.16-.358.357-.358z"})))}));var be=s(86130),Ee=s(63763),Ce=s(27765),we=s(25700),ke=s(8199),_e=s(57855),Me=s(99442),Se=s(2222),Te=s(32470),Ie=s(93023),Ne=s(99220),Pe=s(84955),Le=s(18514),xe=s(57993),De=s(56295),Oe=s(25697),Ae=s(63402),ze=s(95192),Re=s(34313),Fe=s(72405),je=s(55118),Ue=s(14956);function Be({children:e,className:t,color:s}){return n.createElement("div",{className:M()("Callout",`Callout--${s}`,t)},n.createElement(Ue.Z,{color:"warning"===s?"warning":"black"}),n.createElement("span",null,e))}Be.propTypes={children:g().node.isRequired,className:g().string,color:g().oneOf(["default","warning"])},Be.defaultProps={className:void 0,color:"default"};var He=s(22738),Ye=s(75203),Ze=s(29724),We=s(99348);const $e="Company Intelligence",qe=Object.freeze({selectCompany:"company selected",selectCard:"card selected",createAlert:"create alert"}),Ve=Object.freeze({auto:"auto",autoSetToMention:"autoSetToMention",manual:"manual"});class Ge extends n.Component{constructor(e){super(e),this._renderBody=()=>{const{isTopicModeler:e,isWebAlert:t,isWebAlertForm:s}=this.props,{bucketType:i,hasLeoBiopharmaAccess:r,hasLeoSecurityAccess:a,isLoadingGuidedOptions:o,isLoadingGuidedIntelligenceEntries:l,layers:c,mainSearchLayer:{parts:d},notLayers:h,publicationTypes:u,showGuidedIntelligenceOptions:p}=this.state;return o?n.createElement(H.g,{details:"Analyzing company...",prefix:""}):l?n.createElement(n.Fragment,null,this._renderLayers(Me.ti.layers,c),this._renderLayerSelector(),n.createElement(H.g,null)):d?p&&d.length?n.createElement(n.Fragment,null,this._renderLayerSelector(),n.createElement("p",{className:"BeyondYourFeedlySearch__section-header"},"What would you like to track about"," ",(0,re.sw)(d.map((e=>e.label))),"?"),n.createElement(et,{className:"BeyondYourFeedlySearch__guided-intelligence-cards",list:Ee.TQ,onClick:this._onExampleSearch})):e?n.createElement(n.Fragment,null,n.createElement(C.H2,{appearance:"h4",className:"is-centered-text m-y-h"},"In"),n.createElement(me,{bucketType:i,hasLeoBiopharmaAccess:r,hasLeoSecurityAccess:a,isTopicModeler:e,onAddCustomTopic:this._onAddCustomTopic,onTogglePublicationBox:this._onToggleCheckbox,onModeChange:this._onModeChange,publicationTypes:u[i]}),this._renderLayers(Me.ti.layers,c),this._renderLayerSelector(),this._renderLayers(Me.ti.notLayers,h),this._renderEntries()):n.createElement(n.Fragment,null,this._renderLayers(Me.ti.layers,c),this._renderLayerSelector(),this._renderLayers(Me.ti.notLayers,h),this._renderWebAlertsButtons(),this._renderResults()):s?this._renderWebAlertsButtons():n.createElement(tt,{hasLeoBiopharmaAccess:r,hasLeoSecurityAccess:a,isWebAlert:t,onKnowledgeItemSearch:this._onKnowledgeItemSearch,onExampleSearch:this._onExampleSearch})},this._renderWebAlertsActionModal=()=>{const{isConfirmClearSearchModalOpen:e,isFollowWebAlertsModalOpen:t,webAlertModalTitle:s}=this.state;return e?n.createElement(a.cV,{cancelLabel:"Cancel",description:"Do you want to clear all fields in this search? This action cannot be undone.",onCancel:this._onCloseConfirmClearSearchModal,onSuccess:this._onClearSearch,successLabel:"Clear Search",title:"Clear Search?"}):t?n.createElement(a.u_,{className:"BeyondYourFeedlySearch__web-alerts-modal",onClose:this._onCloseFollowWebAlertsModal},n.createElement(C.H2,{appearance:"h3"},"Follow Web Alert"),n.createElement(ze.x,{color:"tertiary"},"Name the Web Alert"),n.createElement(k.oi,{value:s,onChange:this._onChangeWebAlertName}),n.createElement(ze.x,{color:"tertiary"},"Add it to one of your feeds"),n.createElement(Oe.A,{align:"left",buttonLabel:"Choose Feed",disabled:!s,importance:"primary",onCollectionSelect:this._createWebAlert,onCollectionCreated:this._createWebAlert}),n.createElement(r.zx,{importance:"secondary",label:"Cancel",onClick:this._onCloseFollowWebAlertsModal,size:"normal"})):null},this._renderResults=()=>{const{mainSearchLayer:e}=this.state;return e.parts&&e.parts.length?n.createElement("div",{className:"BeyondYourFeedlySearch__results"},n.createElement("div",{className:"BeyondYourFeedlySearch__entries"},this._renderEntries(),this._renderUpgradeModal()),n.createElement("div",{className:"BeyondYourFeedlySearch__search-filters"},this._renderFiltersSidebar())):null},this._renderFiltersSidebar=()=>{const{bucketType:e,hasLeoBiopharmaAccess:t,hasLeoSecurityAccess:s,isLoadingEntries:i,isUpdatingVelocity:r,publicationTypes:a,tierLevel:o,velocities:l}=this.state,c=l?{disabled:i&&!r,rangeValues:(0,Ye.Kk)(l),value:(0,Ye.VV)(o)}:{disabled:!0};return n.createElement(nt,{publicationLayer:n.createElement(me,{bucketType:e,hasLeoBiopharmaAccess:t,hasLeoSecurityAccess:s,onAddCustomTopic:this._onAddCustomTopic,onTogglePublicationBox:this._onToggleCheckbox,onModeChange:this._onModeChange,publicationTypes:a[e]}),volumeInputRange:n.createElement(He.vL,Object.assign({min:0,max:5,onChange:this._onVelocityChange,sliderHeight:48,sliderWidth:173},c))})},this._renderLayers=(e,t)=>{const{isTopicModeler:s}=this.props,{excludeType:i,isAddPartPopoverOpen:r}=this.state,a=e===Me.ti.notLayers;return n.createElement("div",{className:"form"},a&&!!t.length&&n.createElement(C.H2,{className:"heading--muted heading--light m-t-1"},"Excluding"),t.map((({parts:t,salience:o,searchHint:l,type:c},d)=>n.createElement("div",{key:d,className:M()({"m-b-2":a})},!a&&n.createElement(n.Fragment,null,n.createElement("div",{className:M()("BeyondYourFeedlySearch__conjunction-separator",{"BeyondYourFeedlySearch__conjunction-separator--compact":s})}),n.createElement("div",{className:M()("BeyondYourFeedlySearch__conjunction-container",{"BeyondYourFeedlySearch__conjunction-container--compact":s})},n.createElement(ze.x,{className:"BeyondYourFeedlySearch__conjunction",size:"smaller",tagName:"span"},"AND"))),n.createElement(Ae.eR,{initialExcludeType:i,isAddPartPopoverInitiallyOpen:r,isWebAlertExcludeLayer:a,onAddPart:t=>{this._onLayerAddPart(d,t,e)},onChangeMatchType:(t,s)=>{this._onChangeMatchType(d,t,e,s)},onDelete:()=>{this._onLayerDelete(d,e)},onDeletePart:t=>{this._onLayerDeletePart(d,t,e)},onSalienceChange:t=>{this._onSalienceChange(d,t,e)},parts:t,salience:o,searchHint:l,type:c})))))},this._renderLayerSelector=()=>{const{isTopicModeler:e}=this.props,{hasLeoSecurityAccess:t,mainSearchLayer:s,notLayers:i}=this.state;if(!s.parts)return null;const a=n.createElement(Ae.hz,{button:n.createElement(r.zx,{color:"accent",className:"BeyondYourFeedlySearch__selector-button m-x-0",icon:n.createElement(ne.Z,{color:"accent"}),importance:"tertiary",label:"AND"}),hasLeoSecurityFeature:t,hideLikeBoardLayer:!0,isBeyondPowerSearch:!0,onSelect:this._onNewLeoOptionSelect,tagName:"div"}),o=i.length?null:n.createElement(Ae.hz,{button:n.createElement(r.zx,{color:"accent",className:"BeyondYourFeedlySearch__selector-button m-x-0",icon:n.createElement(ye.Z,{color:"accent"}),importance:"tertiary",label:"NOT"}),onSelect:this._onAddNotLayer,showExcludeOptions:!0,tagName:"div"});return n.createElement(n.Fragment,null,n.createElement("div",{className:M()("BeyondYourFeedlySearch__selector-line",{"m-t-h":!e})}),n.createElement(Ae.Os,{andButton:a,notButton:o}))},this._renderMainSearchInput=()=>{const{isSearchFocused:e,items:t,mainSearchLayer:{parts:s,salience:i,searchHint:r,type:a},term:o}=this.state;return s?n.createElement(Ae.eR,{isAddPartPopoverInitiallyOpen:!s.length,onAddPart:e=>{this._onLayerAddPart(0,e,Me.ti.main)},onChangeMatchType:(e,t)=>{this._onChangeMatchType(0,e,Me.ti.main,t)},onDelete:()=>{this._onLayerDelete(0,Me.ti.main)},onDeletePart:e=>{this._onLayerDeletePart(0,e,Me.ti.main)},onSalienceChange:e=>{this._onSalienceChange(0,e,Me.ti.main)},parts:s,salience:i,searchHint:r,type:a}):n.createElement(n.Fragment,null,n.createElement(k.At,{autoFocus:!0,size:"large",onBlur:this._onBlur,onChange:this._onTermChange,onFocus:this._onFocus,placeholder:"Companies, products, topics",ref:this._searchInput,value:o,elementsBefore:n.createElement(f.Z,{className:"m-l-2",importance:"secondary"})}),o&&e&&n.createElement(te,{items:t,onSelect:e=>{this._onAddMainPart(e),this._onBlur()},query:o}))},this._renderUpgradeModal=()=>{const{isWebAlert:e,isWebAlertForm:t}=this.props,{hasUnpaidProPlan:s,isLoadingEntries:i,restrictedTypes:r}=this.state;if(i||t)return null;let o;return r.length?o=r[0]:!streets.isStandardPlan()&&!s||e?!streets.hasProPlusAccess()&&e&&(o={feature:ke._B.proPlus,onProPlusUpgradeClick:this._onProPlusUpgradeClick,partType:"webAlert"}):o={feature:ke._B.proPlus,onProPlusUpgradeClick:this._onProPlusUpgradeClick,partType:"powerSearch"},o?n.createElement(a.TN,o):null},this._getNavigationState=({focusSelectedEntry:e,inlinedEntryId:t,inlineMode:s,selectedEntryId:n})=>({focusSelectedEntry:e,inlinedEntryId:"inline"===s&&t?t:void 0,selectedEntryId:n}),this._createWebAlert=async e=>{const{guidedSearchOptions:t,webAlertModalTitle:s}=this.state,{layers:n,source:i}=this._getSearchOptions();t&&this.analytics.trackGuidedWebAlertEvent($e,qe.createAlert);const r={categoryId:e.id,title:s,layers:n,source:i};try{const e=await this.alerts.askCreate(r);this.feedly.loadPage((0,Ne.no)(e.feedId))}catch(a){if(a.message&&a.message.startsWith(De.f4)){const{isEnterprise:t}=(0,y.Yg)(e.id);this.setState({isLimitReachedPersonal:!t,isLimitReachedTeam:t})}else this.signs.setDefaultErrorMessage(a)}finally{this._onCloseFollowWebAlertsModal()}},this._updateWebAlert=async()=>{const{disableRedirect:e,onDoneEditing:t,feedId:s,webAlertFormId:n,webAlertFormTitle:i}=this.props,{initialSearchOptions:r}=this.state,a={feedId:s,initialSearchOptions:r,searchOptions:this._getSearchOptions(),title:i};try{this.setState({isSavingWebAlert:!0});const{webAlert:s,isRecreated:i}=await this.alerts.askSave(n,a);i&&!e&&this.feedly.loadPage((0,Ne.no)(s.feedId))}catch(o){this.signs.setDefaultErrorMessage(o)}finally{this.setState({isSavingWebAlert:!1}),t()}},this._onAddCustomTopic=e=>{this.setState((({bucketType:t,publicationTypes:s,mainSearchLayer:n})=>{const r={...s},a=[...r[t]],o=e.feedInfos.slice(0,i.Z0);return a.push({id:e.publicationBucket,label:e.topic,checked:!0,examples:o,type:ie.mn.discovery}),{publicationTypes:{...r,[t]:a},isLoadingEntries:!!n.parts,salienceSwitchState:Ve.manual,tierLevel:Ye._O}}),this._updateEntries)},this._onAddMainPart=e=>{const{sourceModePreference:t}=this.state,s={parts:[e],salience:Me.mb.about,type:Me.ur.matches};if(this._showGuidedIntelligenceOptions(s.parts,Me.ti.main))return this.setState({isLoadingGuidedOptions:!0}),void window.setTimeout((()=>{this.setState({bucketType:t,isLoadingGuidedOptions:!1,mainSearchLayer:s,showGuidedIntelligenceOptions:!0})}),500);this.setState({bucketType:t,isLoadingEntries:!0,mainSearchLayer:s,term:"",tierLevel:Ye._O},this._updateEntries)},this._onAddNotLayer=e=>{const{showGuidedIntelligenceOptions:t}=this.state;this.setState((({notLayers:s})=>({isAddPartPopoverOpen:!0,isLoadingEntries:t,excludeType:e,notLayers:[...s,{negate:!0,parts:[],type:Me.ur.matches}],showGuidedIntelligenceOptions:!1})),(()=>{t&&this._updateEntries()}))},this._onBlur=()=>{this.setState({isSearchFocused:!1})},this._onChangeMatchType=(e,t,s,n)=>{this.setState((()=>{const i=this._getRelevantLayers(s),r=[...i[e].parts],a={...r[t]};return a.convertToKeyword=n===J.m3.keyword,r[t]=a,i[e]={...i[e],parts:r},{isLoadingEntries:!0,[s]:s!==Me.ti.main?i:i[0],salienceSwitchState:Ve.manual,showGuidedIntelligenceOptions:!1,tierLevel:Ye._O}}),this._updateEntries)},this._onCloseConfirmClearSearchModal=()=>{this.setState({isConfirmClearSearchModalOpen:!1})},this._onOpenConfirmClearSearchModal=()=>{this.setState({isConfirmClearSearchModalOpen:!0})},this._onProPlusUpgradeClick=()=>{const{isWebAlert:e}=this.props,{bucketType:t,layers:s,mainSearchLayer:n,notLayers:i,publicationTypes:r,tierLevel:a}=this.state,[o,...l]=(0,Ie.rT)({mainSearchLayer:n,layers:s,notLayers:i}),c={bucketType:t,defaultPublications:(0,Ie.$2)(r[t]),layers:l,mainSearchLayer:o,tierLevel:a},d=`${e?"discover/webAlerts":"powerSearch/beyond"}/${(0,v.tN)(c)}`;window.localStorage.setItem("upgradeRedirect.uri",d),this.feedly.loadPage("pro/webAlerts")},this._onChangeWebAlertName=e=>{this.setState({webAlertModalTitle:e})},this._onCloseFollowWebAlertsModal=()=>{this.setState({isFollowWebAlertsModalOpen:!1,webAlertModalTitle:""})},this._onOpenFollowWebAlertsModal=()=>{const{layers:e,mainSearchLayer:t,webAlertModalTitle:s}=this.state;if(!s.length&&(0,Ie.bB)({layers:e,mainSearchLayer:t})){const e=t.parts[0],s=e.label||e.text;this.setState({webAlertModalTitle:s,isFollowWebAlertsModalOpen:!0})}else this.setState({isFollowWebAlertsModalOpen:!0})},this._onClearSearch=()=>{this.setState({continuation:"",entries:[],guidedSearchOptions:null,isConfirmClearSearchModalOpen:!1,layers:[],mainSearchLayer:{},notLayers:[],publicationTypes:this.initialPublications,salienceSwitchState:Ve.auto,showGuidedIntelligenceOptions:!1,term:"",tierLevel:Ye._O,velocities:null},(()=>{this._replacePageURL(),this._searchInput.current.focus()}))},this._onOpenDebugMenu=()=>{this.setState({isDebugMenuOpen:!0})},this._onCloseDebugMenu=()=>{this.setState({isDebugMenuOpen:!1})},this._onDebugClick=e=>{const{bucketType:t,layers:s,mainSearchLayer:n,notLayers:i,publicationTypes:r,tierLevel:a}=this.state,[o,...l]=(0,Ie.rT)({mainSearchLayer:n,layers:s,notLayers:i}),c={bucketType:t,defaultPublications:(0,Ie.$2)(r[t]),layers:l,mainSearchLayer:o,tierLevel:a};e?this.alerts.askDebugTopic((0,v.tN)(c),e):this.alerts.askDebugClusters((0,v.tN)(c))},this._onExampleSearch=({label:e,leoBiopharmaSearchOptions:t,leoSecuritySearchOptions:s,searchOptions:n})=>{const{mainSearchLayer:i,hasLeoBiopharmaAccess:r,hasLeoSecurityAccess:a,showGuidedIntelligenceOptions:o}=this.state;let l;o&&(this.analytics.trackGuidedWebAlertEvent($e,qe.selectCard,e),this.setState({showGuidedIntelligenceOptions:!1,guidedSearchOptions:n,isLoadingGuidedIntelligenceEntries:!0})),l=r&&t?t:a&&s?s:n,this._updateSearchParameters({beyondMainSearchLayer:i,...l})},this._onFocus=()=>{this.setState({isSearchFocused:!0})},this._onKnowledgeItemSearch=({bucketType:e,id:t,publications:s,salience:n=Me.mb.about})=>{const{sourceModePreference:i}=this.state,r=e||i;let a;a=s||(r===ie.Zx.cybersecurity?ie.W9:r===ie.Zx.biopharma?ie.TE:ie._P);const{publicationTypes:o}=this.state,l=Me.Eh[t],c={parts:l?[l]:[],salience:n,searchHint:Me.TP[t],type:Me.ur[t]},d={...o,[r]:o[r].map((e=>({...e,checked:a.includes(ie.Dc[e.id])})))};this.setState({bucketType:r,isLoadingEntries:!0,mainSearchLayer:c,publicationTypes:d,showGuidedIntelligenceOptions:!l,term:"",tierLevel:Ye._O},this._updateEntries)},this._onLayerAddPart=(e,t,s)=>{const{showGuidedIntelligenceOptions:n}=this.state,i=this._getRelevantLayers(s),{parts:r}=i[e],a=[...r],o=r.find((e=>(0,Se.xF)(e,t))),l=s===Me.ti.notLayers;o||a.push(t),i[e]={...i[e],parts:a,searchHint:(0,X.Iz)(a,i[e].type)},n&&this._showGuidedIntelligenceOptions(a,s)?this.setState({showGuidedIntelligenceOptions:!0,[s]:s!==Me.ti.main?i:i[0]}):this.setState((({tierLevel:e})=>({isAddPartPopoverOpen:!1,isLoadingEntries:!0,[s]:s!==Me.ti.main?i:i[0],salienceSwitchState:Ve.manual,showGuidedIntelligenceOptions:!1,tierLevel:l?e:Ye._O})),(()=>{this._updateEntries({shouldComputeBestTierLevel:!l})}))},this._onLayerDelete=(e,t)=>{const s=this._getRelevantLayers(t),{guidedSearchOptions:n}=this.state;let i=n?{...n}:null;if(t!==Me.ti.main){n&&n.beyondLayers.length&&h()(s[e],n.beyondLayers[0])&&(i=null),s.splice(e,1);const r=t===Me.ti.notLayers;this.setState((({tierLevel:e})=>({guidedSearchOptions:i,isLoadingEntries:!0,[t]:s,tierLevel:r?e:Ye._O})),(()=>{this._updateEntries({shouldComputeBestTierLevel:!r})}))}else this.setState({continuation:"",entries:[],guidedSearchOptions:null,isLoadingEntries:!0,layers:[],mainSearchLayer:{},notLayers:[],publicationTypes:this.initialPublications,salienceSwitchState:Ve.auto,showGuidedIntelligenceOptions:!1,term:"",tierLevel:Ye._O,velocities:null},this._replacePageURL)},this._onLayerDeletePart=(e,t,s)=>{const{guidedSearchOptions:n}=this.state;let i=n?{...n}:null;const r=this._getRelevantLayers(s),a=s===Me.ti.notLayers,o=r[e],l=o.parts.filter((e=>e.id!==t.id||e.text!==t.text));if(n&&n.beyondLayers&&n.beyondLayers.length){!!n.beyondLayers[0].parts.find((e=>e.id===t.id))&&(i=null)}r[e]={...o,parts:l,searchHint:(0,X.Iz)(l,r[e].type)},s!==Me.ti.main||r[e].parts.length?this.setState((({tierLevel:e})=>({guidedSearchOptions:i,isLoadingEntries:!0,[s]:s!==Me.ti.main?r:r[0],tierLevel:a?e:Ye._O})),(()=>{this._updateEntries({shouldComputeBestTierLevel:!a})})):this.setState({continuation:"",entries:[],guidedSearchOptions:null,layers:[],mainSearchLayer:{},notLayers:[],publicationTypes:this.initialPublications,salienceSwitchState:Ve.auto,showGuidedIntelligenceOptions:!1,term:"",tierLevel:Ye._O,velocities:null},this._replacePageURL)},this._onModeChange=e=>{this.setState({isLoadingEntries:!0,bucketType:e,tierLevel:Ye._O},this._updateEntries)},this._onNewLeoOptionSelect=e=>{const t=Me.ur[e],{showGuidedIntelligenceOptions:s}=this.state,n=Me.Eh[e];this.setState((({layers:i})=>({layers:[...i,{parts:n?[n]:[],type:t,searchHint:Me.TP[e]}],isAddPartPopoverOpen:!n,isLoadingEntries:s||n,showGuidedIntelligenceOptions:!1})),(()=>{(s||n)&&this._updateEntries()}))},this._onSalienceChange=(e,t,s)=>{if(s===Me.ti.main)this.setState((({mainSearchLayer:e})=>({isLoadingEntries:!0,mainSearchLayer:{...e,salience:t},salience:t,salienceSwitchState:Ve.manual,tierLevel:Ye._O})),this._updateEntries);else{const n=this._getRelevantLayers(s);n[e]={...n[e],salience:t},this.setState({isLoadingEntries:!0,[s]:n,salienceSwitchState:Ve.manual,tierLevel:Ye._O},this._updateEntries)}},this._onScrollPage=()=>{const{continuation:e,isLoadingEntries:t,isLoadingMoreEntries:s,restrictedTypes:n,showGuidedIntelligenceOptions:i}=this.state;if(i)return;const r=1.5*(0,_e.$$)(document);!(0,_e.Hp)(this._scrollTarget,r)||!e||s||t||n.length||this.setState({isLoadingMoreEntries:!0},(()=>{this._debouncedUpdateEntries.cancel(),this._debouncedUpdateEntries({isScrolling:!0})}))},this._onTermChange=e=>{this.setState({isSearchFocused:!0,mainSearchLayer:{},term:e},(()=>{this._askUpdateSearchResults(e)}))},this._onToggleCheckbox=e=>{this.setState((({bucketType:t,mainSearchLayer:s,publicationTypes:n})=>{const i={...n},r=[...i[t]];return r[e]={...r[e],checked:!r[e].checked},{isLoadingEntries:!!s.parts,publicationTypes:{...i,[t]:r},tierLevel:Ye._O}}),this._updateEntries)},this._onVelocityChange=e=>{const{isSliderBlocked:t}=this.state;t||this.setState({isLoadingEntries:!0,isUpdatingVelocity:!0,tierLevel:`step${parseInt(e)+1}`},(()=>{this._debouncedUpdateEntries.cancel(),this._debouncedUpdateEntries()}))},this._getRelevantLayers=e=>{const{layers:t,mainSearchLayer:s,notLayers:n}=this.state;let i=[];return e===Me.ti.layers?i=[...t]:e===Me.ti.notLayers?i=n.length?[...n]:[{negate:!0,parts:[],type:Me.ur.matches}]:e===Me.ti.main&&(i=[s]),i},this._getSearchOptions=()=>{const{bucketType:e,layers:t,mainSearchLayer:s,notLayers:n,publicationTypes:i,tierLevel:r}=this.state,[a,...o]=(0,Ie.rT)({mainSearchLayer:s,layers:t,notLayers:n}),{parts:l,...c}=a,d={[Me.y9[a.type]]:l,...c};return{source:{publications:{publicationBuckets:(0,Ie.$2)(i[e]),type:"publicationType",velocitySetting:r}},layers:[d,...o.map((({negate:e,parts:t,salience:s=Me.mb.mention,type:n})=>({negate:e,[Me.y9[n]]:t,type:n,...n===Me.ur.matches?{salience:s}:{}})))]}},this._askUpdateSearchResults=async e=>{const{term:t}=this.state;if(e)try{let s=await this.leo.askAutocompleteParts(e);const n={type:"customKeyword",text:e};if(s[0]&&e.toLowerCase()===(0,re.Nh)(s[0].label).toLowerCase()||(0,X.lA)(e,s[0])?s.splice(1,0,n):s=[n,...s],e!==t)return;this.setState({items:s||[]})}catch(s){this.signs.setDefaultErrorMessage(s)}else this.setState({items:[]})},this._debouncedUpdateEntries=({isScrolling:e=!1}={})=>{const{mainSearchLayer:t}=this.state;t.parts&&t.parts.length&&this._updateEntries({shouldCalcVelocityValues:!1,shouldScrollToTop:!e})},this._updateEntries=async({shouldCalcVelocityValues:e=!0,shouldComputeBestTierLevel:t=!0,shouldScrollToTop:s=!0}={})=>{const{isWebAlertForm:n}=this.props,{continuation:i,entries:r,salienceSwitchState:a,isLoadingGuidedIntelligenceEntries:o,isLoadingMoreEntries:l,isSliderBlocked:c,layers:d,mainSearchLayer:h,streamVersion:u,tierLevel:p,velocities:m}=this.state;s&&this._scrollTarget.scroll(0,0);try{if(!h.parts||!h.parts.length)return this.setState({isLoadingEntries:!1,entries:[],previewError:null,streamVersion:u+1}),void this._replacePageURL();this._updateEnterprisePartRestrictions();const s=this._getSearchOptions();s.continuation=l?i:"",this._globalSearchCount+=1;const g=this._globalSearchCount,[{continuation:f,entries:y},v]=await Promise.all([this.reader.askAlertsPreview(s),e?this.alerts.askAlertsVelocities(s):m]),b=e?(0,Ye.Kk)(v).every((e=>0===e)):c;if(e&&t&&v[p]<Ye.Gs&&!l)return void this.setState({isSliderBlocked:b,tierLevel:(0,Ye.WW)(v),velocities:v},(()=>{this._updateEntries({shouldCalcVelocityValues:!1})}));if(this._globalSearchCount!==g)return;const E=l?r:[],C=(0,Le.q)([...E,...y]),w=C.length<10&&!!f;if(0===C.length&&!f&&(0,Ie.bB)({layers:d,mainSearchLayer:h})&&a===Ve.auto)return void this.setState({salienceSwitchState:Ve.autoSetToMention,mainSearchLayer:{...h,salience:Me.mb.mention}},(()=>this._updateEntries()));this.setState({continuation:f,entries:C,isLoadingEntries:w,isLoadingGuidedIntelligenceEntries:o&&w,isLoadingMoreEntries:w,isSliderBlocked:b,isUpdatingVelocity:w,previewError:null,streamVersion:u+1,velocities:v},(()=>{w?this._updateEntries({shouldCalcVelocityValues:!1}):n||this._replacePageURL()}))}catch(g){this.setState({continuation:"",isLoadingEntries:!1,isLoadingMoreEntries:!1,entries:[],streamVersion:u+1,previewError:g})}},this._replacePageURL=()=>{const{isTopicModeler:e,isWebAlert:t,topicDatasetId:s,type:n}=this.props,{bucketType:i,layers:r,mainSearchLayer:a,notLayers:o,publicationTypes:l,tierLevel:c}=this.state,[d,...h]=(0,Ie.rT)({mainSearchLayer:a,layers:r,notLayers:o}),u=(0,Ie.$2)(l[i]);let p;if(d.parts&&d.parts.length){const r={bucketType:i,defaultPublications:u,layers:h,mainSearchLayer:d,tierLevel:c},a=(0,v.tN)(r);p=e?`topicDataset/${s}/build?curationMode=Search&options=${a}`:t?`discover/webAlerts/${a}`:`powerSearch/${n}/${a}`}else this.feedly.scrollPageTo(0),p=e?`topicDataset/${s}/build?curationMode=Search`:t?"discover/webAlerts":"powerSearch/beyond";this.feedly.setBrowserPath(p)},this._updateSearchParameters=async({beyondDefaultPublications:e,beyondLayers:t=[],beyondMainSearchLayer:s,beyondBucketType:n=ie.Zx.industryIntelligence,beyondTierLevel:i,openAddPartPopover:r=!1}={})=>{const{isWebAlertForm:a}=this.props,{publicationTypes:o}=this.state,[l,c]=await Promise.all([this.alerts.enrichLayers([s,...t]),this.alerts.enrichPublicationTypes(e,n,o)]),[d,...h]=l,{layers:u,notLayers:p}=(0,Se.Sc)(h);this.setState((({layers:t,mainSearchLayer:s,notLayers:a,publicationTypes:o,tierLevel:h})=>({bucketType:n,isAddPartPopoverOpen:r||!l.length,isLoadingEntries:!0,isLoadingInitialState:!1,layers:u.length?u:t,mainSearchLayer:d||s,notLayers:p.length?p:a,publicationTypes:e?{...o,[n]:c}:o,tierLevel:i||h})),(()=>{a&&this.setState({initialSearchOptions:this._getSearchOptions()}),this._updateEntries()}))},this._updateInfo=async()=>{try{const[e,t,s,n]=await Promise.all([this.alerts.askHasWebAlertsAccess(),this.alerts.getWebAlertSourceMode(),this.profile.askHasLeoFeedsLimit(),this.leo.askListUserEnterpriseFeatures()]),i=n.reduce(((e,t)=>(e[t]=!0,e)),{});this.setState({hasLeoBiopharmaAccess:!!i[Pe.tp.Biopharma],hasLeoSecurityAccess:!!i[Pe.tp.LeoSecurity],hasWebAlertsAccess:e,hasLeoFeedsLimit:s,sourceModePreference:t})}catch(e){console.error("Error",e)}},this._updateEnterprisePartRestrictions=async()=>{const{layers:e,mainSearchLayer:t,notLayers:s}=this.state,n=[t,...e,...s],i=await this.leo.askListUserEnterpriseFeatures(),r=n.reduce(((e,t)=>{if(t.type===Me.ur.matches){const s=t.parts.reduce(((e,t)=>{const{hasRestrictedEnterprisePart:s,restrictedEnterpriseParts:n}=(0,X.yA)(t,i);if(s){const s=n[0],i=Pe.Jw[s]?s:Pe.tp.Enterprise;e.push({feature:i,partType:t.type})}return e}),[]);e=[...e,...s]}return t.type!==Me.ur.criticalVulnerability||streets.isEnterprisePlan()||(e=[...e,{feature:"LeoSecurity",partType:t.type}]),e}),[]);this.setState({restrictedTypes:r})},this._askUpdateSearchResults=p()(this._askUpdateSearchResults,200),this._debouncedUpdateEntries=p()(this._debouncedUpdateEntries,1e3),this._searchInput=n.createRef(),this.preferences=streets.service("preferences"),this.profile=streets.service("profile"),this.initialPublications={biopharma:[{id:"biopharma:business",checked:!0},{id:"biopharma:regulatory",checked:!0},{id:"biopharma:science-journals",checked:!0},{id:"biopharma:healthtech",checked:!1}],cybersecurity:[{id:"cybersecurity:security-news",checked:!0},{id:"cybersecurity:threat-research",checked:!0},{id:"cybersecurity:ciso",checked:!0},{id:"cybersecurity:security-vendors",checked:!0},{id:"cybersecurity:vulnerabilities",checked:!1},{id:"cybersecurity:foreign-affairs",checked:!1}],industryIntelligence:[{id:"byf:strategy",checked:!0},{id:"byf:industry",checked:!0},{id:"byf:tech",checked:!0},{id:"byf:business",checked:!0},{id:"byf:research",checked:!0},{id:"byf:news",checked:!1}]};const{pageInfo:{beyondSearchOptions:t}={}}=this.props;this.state={...this._getNavigationState(streets.service("navigo").getState()),bucketType:ie.Zx.industryIntelligence,continuation:"",entries:[],guidedSearchOptions:null,hasUnpaidProPlan:this.profile.hasUnpaidProPlan(),hasUnpaidProPlusPlan:this.profile.hasUnpaidProPlusPlan(),hasLeoBiopharmaAccess:!1,hasLeoSecurityAccess:!1,hasWebAlertsAccess:!1,isDebugMenuOpen:!1,isLimitReachedPersonal:!1,isLimitReachedTeam:!1,isLoadingEntries:!1,isLoadingInitialState:!!t,isLoadingGuidedIntelligenceEntries:!1,isLoadingGuidedOptions:!1,isLoadingMoreEntries:!1,isSearchFocused:!0,isConfirmClearSearchModalOpen:!1,isSavingWebAlert:!1,isSliderBlocked:!1,isUpdatingVelocity:!1,items:[],layers:[],mainSearchLayer:{},notLayers:[],previewError:null,publicationTypes:this.initialPublications,restrictedTypes:[],sourceModePreference:ie.Zx.industryIntelligence,streamVersion:0,showGuidedIntelligenceOptions:!1,salienceSwitchState:Ve.auto,term:"",tierLevel:Ye._O,velocities:null,webAlertModalTitle:""}}componentDidMount(){const{pageInfo:{beyondSearchOptions:e}={}}=this.props;this.alerts=streets.service("alerts"),this.analytics=streets.service("analytics"),this.feedly=streets.service("feedly"),this.leo=streets.service("leo"),this.navigo=streets.service("navigo"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.shortcuts=streets.service("shortcuts"),this.sliderService=streets.service("sliderService"),this.shortcuts.claim(this,b.PC.powerSearch),this.leo.registerObserver(this),this.navigo.registerObserver(this),this.profile.registerObserver(this),this._scrollTarget=this.props.isWebAlertForm?this.sliderService.getScrollTarget():this.feedly.getMainScrollTarget(),this._globalSearchCount=0,this._throttledCheckMoreEntriesNeeded=c()(this._onScrollPage,200),this._scrollTarget.addEventListener("scroll",this._throttledCheckMoreEntriesNeeded),e&&this._updateSearchParameters(e),this._updateInfo()}componentDidUpdate(e,t){const{entries:s}=this.state;t.entries!==s&&this.navigo.setEntries(s)}componentWillUnmount(){this.leo.unregisterObserver(this),this.navigo.unregisterObserver(this),this.profile.unregisterObserver(this),this.shortcuts.unclaim(this,b.PC.powerSearch),this._askUpdateSearchResults.cancel(),this._debouncedUpdateEntries.cancel(),this._askUpdateSearchResults=null,this._debouncedUpdateEntries=null,this._globalSearchCount=null,this._scrollTarget.removeEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this._scrollTarget=null,this.alerts=null,this.analytics=null,this.feedly=null,this.leo=null,this.navigo=null,this.preferences=null,this.profile=null,this.reader=null,this.signs=null,this.shortcuts=null,this.sliderService=null}onNavigationChanged(e){this.setState(this._getNavigationState(e))}onProfileUpgraded(){this.setState({hasUnpaidProPlan:this.profile.hasUnpaidProPlan(),hasUnpaidProPlusPlan:this.profile.hasUnpaidProPlusPlan()})}onTopicExcluded(e){this._onLayerAddPart(0,e,Me.ti.notLayers)}onShortcutKey(e){e===b.PC.powerSearch&&this._onClearSearch()}render(){const{isSlider:e,isWebAlert:t}=this.props,{hasUnpaidProPlusPlan:s,isLoadingInitialState:i}=this.state;return t&&s?n.createElement(We.ub,{actions:[{label:"Renew Pro+",onClick:()=>{this.feedly.loadPage("account/billing")}}],header:"Follow Web Alerts",description:"Renew Pro+ to track companies, products, and topics across the Web and cut through the noise.",illustration:Ce,illustrationDark:we}):i?n.createElement(H.g,null):n.createElement("div",{className:"fx"},n.createElement("div",{className:M()("BeyondYourFeedlySearch",{"BeyondYourFeedlySearch--slider":e})},n.createElement(C.H2,{className:"BeyondYourFeedlySearch__section-header"},"Track specific companies, products, and topics across the web"),this._renderMainSearchInput(),this._renderWebAlertsActionModal(),this._renderBody()))}_renderDebugMenu(){const{isDebugMenuOpen:e,layers:t,mainSearchLayer:s,notLayers:i}=this.state,r=(0,Ie.rT)({mainSearchLayer:s,layers:t,notLayers:i}).reduce(((e,t)=>(t.parts.forEach((t=>{t.id&&((0,X.jP)(t.id)||(0,X.xT)(t.id))&&e.push(t)})),e)),[]);return n.createElement(T.X,{key:"debug-clusters",caret:!0,importance:"tertiary",label:"Debug",isOpen:e,menu:n.createElement(I.GX,{deselectable:!0},n.createElement(I.sN,{onClick:()=>{this._onDebugClick()}},n.createElement(ve,{importance:"secondary"}),"Clusters"),r.map((e=>{const t=(0,X.FW)(e),s=J.XA[t];return n.createElement(I.sN,{key:e.label,onClick:()=>{this._onDebugClick(e.id)}},n.createElement(s,{importance:"secondary"}),e.label)}))),onButtonClick:this._onOpenDebugMenu,onCloseMenu:this._onCloseDebugMenu})}_renderWebAlertsButtons(){const{mainSearchLayer:e,hasWebAlertsAccess:t,isLimitReachedPersonal:s,isLimitReachedTeam:i,isSavingWebAlert:a,restrictedTypes:o,tierLevel:l,velocities:c}=this.state,{isWebAlertForm:d,onDoneEditing:h}=this.props,u=be.Z.utils.SessionUtils.load(),p=(c?c[l]:null)>500,m=s||i,g=e.parts&&!!e.parts.length,f=!t||!g||p||m||!!o.length||!streets.hasProPlusAccess();let y;if(d)y=[n.createElement(r.zx,{disabled:f,key:"update-alert",label:"Update Web Alert",loading:a,onClick:this._updateWebAlert}),n.createElement(r.zx,{key:"cancel-edit",importance:"secondary",label:"Cancel",onClick:h})];else{if(y=[n.createElement(r.zx,{key:"clear-search",importance:t?"tertiary":"secondary",label:"Clear Search",onClick:this._onOpenConfirmClearSearchModal})],t&&(y=[n.createElement(r.zx,{disabled:f,key:"follow-alert",label:"Follow Web Alert",onClick:this._onOpenFollowWebAlertsModal}),...y],p)){const e=y[0];y[0]=n.createElement(le.d,{key:"disabled-tipsy",content:n.createElement(n.Fragment,null,n.createElement("div",{className:"BeyondYourFeedlySearch__tipsy-title"},"Too many articles"),n.createElement("div",{className:"BeyondYourFeedlySearch__tipsy-message"},"Refine to less than ",500," articles per week")),textAlign:"left"},n.createElement("span",{className:"BeyondYourFeedlySearch__tipsy-target"},e))}(u&&u.sudoSession||"feedly"===streets.getEnterpriseId())&&y.push(this._renderDebugMenu())}return n.createElement("div",{className:"BeyondYourFeedlySearch__web-alert-buttons"},n.createElement(Fe.Le,{target:".PriorityOptionSelector"},(({isSticky:e})=>n.createElement(n.Fragment,null,y,e&&n.createElement(je.h,{target:"#headerBarFX"},n.createElement(Re.h4,{actions:y,compact:!0,headingColumnCount:4,title:"Web Alerts"}))))),this._renderUpgradePrompt())}_renderEntries(){const{continuation:e,entries:t,focusSelectedEntry:s,inlinedEntryId:i,isLoadingEntries:r,isLoadingMoreEntries:a,previewError:o,selectedEntryId:l,streamVersion:c}=this.state,{entryRenderer:d,isWebAlert:h,isWebAlertForm:u}=this.props;if(o)return n.createElement("div",null,"Preview failed because: ",o.error);if(d)return d({entries:t,hasAllEntries:!e,isLoading:a});const p=h||u?"Preview":"Results";return n.createElement(n.Fragment,null,n.createElement(C.H2,{className:"BeyondYourFeedlySearch__section-header m-t-0 m-b-h"},p),r?n.createElement(H.g,{className:"m-t-0",details:"search results"}):n.createElement(n.Fragment,null,this._renderVelocityInfo(),!!t.length&&n.createElement(B.f,{key:"entryList",entries:t,focusSelectedEntry:s,layout:"u4",hasAllEntries:!e,endOfFeedLabel:"End of results",hideAuthor:!0,highlightKeywords:!0,inlinedEntryId:i,isBeyondPowerSearch:!0,selectedEntryId:l,searchOptions:this._getSearchOptions(),showSourceTitle:!0,streamVersion:c}),a&&n.createElement(H.g,{details:"more search results"})))}_renderUpgradePrompt(){const{isWebAlertForm:e}=this.props,{hasLeoFeedsLimit:t,isLimitReachedPersonal:s,isLimitReachedTeam:i,restrictedTypes:r}=this.state;if(s||i)return n.createElement(Ze.og,{className:"BeyondYourFeedlySearch__upgrade-prompt",feature:t?"leoFeeds":"webAlerts",type:s?xe.s.personal:xe.s.team});if(r.length&&e){const{feature:e,partType:t}=r[0],{sub:s,title:i}=(0,Ie.Fd)(e,t);return n.createElement(Ze.X_,{className:"BeyondYourFeedlySearch__upgrade-prompt",description:`${i}. ${s}`,feature:e})}return null}_renderVelocityInfo(){const{entries:e,salienceSwitchState:t,tierLevel:s,velocities:r}=this.state,a=r[s],o=a<1,l=a>500,c=!e.length,d=o?"Less than 1 article per week":`${fe()("article",(0,Te.HN)(a),!0)} per week`;let h,u,p;return t===Ve.autoSetToMention?u="Leo couldn't find articles for 'Title Only', so we switched to 'Everything'":o?(u=(c?"No ":"Want more ")+" articles? ",p="Tips on how to refine your Leo Web Alert"):l&&(h="warning",u="Too many articles. Refine to less than 500 articles per week. ",p="Learn how"),n.createElement("div",{className:"BeyondYourFeedlySearch__velocity"},n.createElement(ze.x,{className:"m-t-h m-b-h",color:"tertiary",size:"small"},d),u&&n.createElement(Be,{color:h},u,p&&n.createElement(w.rU,{className:"BeyondYourFeedlySearch__callout-link",href:i.DM.tuningTips.link},p)))}_showGuidedIntelligenceOptions(e,t){const{layers:s}=this.state;return t===Me.ti.main&&!s.length&&0!==e.length&&(!!e.every((e=>"org"===e.type))&&(this.analytics.trackGuidedWebAlertEvent($e,qe.selectCompany),!0))}}Ge.propTypes={disableRedirect:g().bool,entryRenderer:g().func,feedId:g().string,isSlider:g().bool,isTopicModeler:g().bool,isWebAlert:g().bool,isWebAlertForm:g().bool,onDoneEditing:g().func,pageInfo:g().shape({beyondSearchOptions:i.ys}),topicDatasetId:g().string,type:g().string,webAlertFormTitle:g().string,webAlertFormId:g().string},Ge.defaultProps={disableRedirect:!1,entryRenderer:void 0,feedId:"",isSlider:!1,isTopicModeler:!1,isWebAlert:!1,isWebAlertForm:!1,onDoneEditing:null,pageInfo:{},topicDatasetId:null,type:"",webAlertFormTitle:null,webAlertFormId:null};class Qe extends n.Component{constructor(...e){super(...e),this.state={embedded:"",fields:"",locale:"",ranked:"",scope:"",term:"",time:""},this._onFilterChange=(e,t)=>{this.setState({[e]:t})},this._onTermChange=e=>{this.setState({term:e})},this._clearTerm=()=>{this.setState({term:""})},this._replacePageURL=e=>{const{type:t}=this.props;streets.service("feedly").setBrowserPath((0,v.xU)({...e,type:t}))}}render(){const{pageInfo:{searchEmbedded:e,searchFields:t,searchLocale:s,searchRanked:i,searchScope:r,searchTerm:a,searchTime:o}}=this.props,{embedded:l,fields:c,locale:d,ranked:h,scope:u,term:p,time:m}=this.state;return n.createElement("div",{className:"fx"},n.createElement(G,{embedded:l||e,fields:c||t,locale:d||s,onFilterChange:this._onFilterChange,onSubmit:this._replacePageURL,onTermChange:this._onTermChange,onClear:this._clearTerm,ranked:h||i,scope:u||r,scrollTarget:streets.service("feedly").getMainScrollTarget(),term:p||a,time:m||o}))}}Qe.propTypes={pageInfo:g().shape({searchEmbedded:g().string,searchFields:g().string,searchLocale:g().string,searchRanked:g().string,searchScope:g().string,searchTerm:g().string,searchTime:g().string}).isRequired,type:g().string.isRequired};class Ke extends n.Component{constructor(e){super(e),this._renderMenuItem=e=>{const{query:t}=this.state;return e?n.createElement(le.d,{key:e.topic,animateClass:"animateFadeIn",content:this._renderExampleSources(e),position:"right",tipClass:"Tipsy--text-align-left"},n.createElement(I.sN,{onClick:()=>{this._onSelectTopic(e)}},n.createElement("div",{className:"PublicationTopicPicker__menu-item"},n.createElement(A.Z,{importance:"secondary"}),n.createElement("div",{className:"PublicationTopicPicker__menu-item-content"},n.createElement("span",{className:"PublicationTopicPicker__menu-item-label",title:e.topic},n.createElement(K.L,{firstOccurance:!0,text:e.topic,words:t,wordClassName:"autocomplete-bold",wrapper:"span"})," ","sources"))))):null},this._renderExampleSources=e=>{const t=e.feedInfos.slice(0,5).map((e=>e.title));return n.createElement(n.Fragment,null,n.createElement("span",{className:"PublicationTopicPicker__tipsy-title"},`${(0,re.Fb)(e.topic)} Publications`),n.createElement("span",{className:"PublicationTopicPicker__tipsy-message"},`${t.join(", ")}, etc.`))},this._onFilterTermChange=e=>{this.setState({query:e},(()=>{this._askUpdateSearchResults()}))},this._onSelectTopic=e=>{this.setState({items:[],query:""}),this.props.onSelect(e)},this._askUpdateSearchResults=async()=>{const{query:e}=this.state;if(e)try{const t=await this.leo.askTopicAutocomplete(e,8,"en",!0);if(e!==this.state.query)return;const s=await Promise.all(t.map((({id:e,publicationBucket:t})=>this.leo.askDiscoveryTopic(e).then((e=>({...e,publicationBucket:t}))))));this.setState({items:s||[]})}catch(t){streets.service("signs").setDefaultErrorMessage(t)}else this.setState({items:[]})},this._askUpdateSearchResults=p()(this._askUpdateSearchResults,100),this.state={items:[],query:""}}componentDidMount(){this.leo=streets.service("leo")}componentWillUnmount(){this._askUpdateSearchResults.cancel(),this._askUpdateSearchResults=null,this.leo=null}render(){const{items:e,query:t}=this.state;return n.createElement("div",{className:"PublicationTopicPicker"},n.createElement(I.PA,{menuItems:e.map((e=>this._renderMenuItem(e))),onChange:this._onFilterTermChange,placeholder:"Search by topic",value:t}))}}Ke.propTypes={onSelect:g().func},Ke.defaultProps={onSelect:()=>{}};var Je=s(13129),Xe=s(59663);function et({className:e,header:t,list:s,onClick:i}){return n.createElement(n.Fragment,null,t&&n.createElement(C.H2,{appearance:"h4"},t),n.createElement(Xe.C,{className:e,card:n.createElement(Je.H,{onClick:i}),layout:"col-xs-12 col-md-3 m-b-1",list:s,uniqueKey:"label"}))}function tt({hasLeoBiopharmaAccess:e,hasLeoSecurityAccess:t,isWebAlert:s,onKnowledgeItemSearch:i,onExampleSearch:r}){const a=(0,Ie.uZ)(e,t);return s?n.createElement(n.Fragment,null,n.createElement(C.H2,{appearance:"h4"},"Getting Started"),n.createElement(o,null),n.createElement(et,{header:"Track",list:a,onClick:i}),n.createElement(et,{header:"Examples",list:Ee.ww,onClick:r}),n.createElement("p",{className:"m-y-2"},"Looking for the old Google News integration? It is available"," ",n.createElement(w.rU,{primary:!0,uri:"discover/keywordAlerts"},"here"),".")):n.createElement(et,{header:"Search",list:a,onClick:i})}et.propTypes={className:g().string,header:g().string,list:g().arrayOf(g().object).isRequired,onClick:g().func.isRequired},et.defaultProps={className:void 0,header:void 0},tt.propTypes={hasLeoBiopharmaAccess:g().bool.isRequired,hasLeoSecurityAccess:g().bool.isRequired,isWebAlert:g().bool.isRequired,onKnowledgeItemSearch:g().func.isRequired,onExampleSearch:g().func.isRequired};var st=s(86576);function nt({publicationLayer:e,volumeInputRange:t}){return n.createElement(n.Fragment,null,n.createElement(C.H2,{className:"WebAlertFiltersSidebar__section-header m-y-0 p-l-2"},"Refine"),n.createElement("div",{className:"WebAlertFiltersSidebar__velocity-container"},n.createElement("div",{className:"WebAlertFiltersSidebar__velocity-header"},n.createElement(C.H3,{appearance:"h4",className:"WebAlertFiltersSidebar__velocity-title"},"Articles per week"),n.createElement(de,{href:i.DM.tuningTips.link,tipsyPosition:"top"},n.createElement("div",{className:"WebAlertFiltersSidebar__tipsy-title"},"Control article volume"),n.createElement("div",{className:"WebAlertFiltersSidebar__tipsy-message"},"When you increase the volume, Leo casts a wider net and reviews more sources for your Web Alert"))),t),e)}nt.propTypes={publicationLayer:(0,st.componentWithName)("PublicationLayer").isRequired,volumeInputRange:(0,st.componentWithName)("VolumeInputRange").isRequired}},75203:(e,t,s)=>{"use strict";s.d(t,{Gs:()=>i,_O:()=>r,WW:()=>a,Kk:()=>o,VV:()=>l,Se:()=>c});const n=["step1","step2","step3","step4","step5","step6"],i=2,r="step1";function a(e){for(const t of n)if(e[t]>=i)return t;return"step6"}function o(e){return n.map((t=>e[t]))}function l(e){return n.findIndex((t=>t===e))}function c(e,t){const s=e=>Math.log(e+1),n=s(e[e.length-1]);return e.map((e=>{if(0===n)return 1;const i=s(e);return Math.round(i/n*(t-1))+1}))}},82624:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var n=s(60216),i=s.n(n),r=s(32735);const a=(0,s(71262).Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M8.432 2.357l.09.012a.5.5 0 01.39.507l-.011.09L5.726 17.25a.5.5 0 01-.988-.127l.012-.09L7.925 2.75a.5.5 0 01.507-.392zM14.78 2.357l.09.012a.5.5 0 01.392.507l-.012.09-3.175 14.285a.5.5 0 01-.987-.127l.011-.09L14.274 2.75a.5.5 0 01.507-.392z"}),r.createElement("path",{d:"M15.556 12.675a.5.5 0 01.09.992l-.09.008H2.857a.5.5 0 01-.09-.992l.09-.008h12.699zM17.143 6.325a.5.5 0 01.09.992l-.09.008H4.444a.5.5 0 01-.09-.992l.09-.008h12.699z"})))}));var o=s(74221),l=s(38916),c=s(99166),d=s(39201);class h extends r.Component{constructor(e){super(e),this.state={slackChannels:null}}componentDidMount(){this.signs=streets.service("signs"),this.enterprise=streets.service("enterprise"),this.integrations=streets.service("integrations");const e=this._isSlackEnabled(),t=this.props.connected;t&&this._askSlackChannels(),e&&!t&&this._reset()}componentWillUnmount(){this.enterprise=null,this.integrations=null,this.signs=null}render(){return r.createElement("div",{className:"field integration-slack"},this._renderSlackNotifications())}_renderSlackNotifications(){const e=this._isSlackEnabled(),t=e?"Slack notifications activated":"Activate Slack notifications";return r.createElement("div",null,r.createElement("label",null,"Slack Notifications",r.createElement("div",{className:"sub"},this._getDescription())),r.createElement(d.r,{isOn:e,label:t,onToggle:this._toggleSlackNotifications.bind(this)}),this._renderChannelSelect())}_renderChannelSelect(){const e=this._isSlackEnabled(),t=this.props.settings.slackChannelName;return e&&this.state.slackChannels?r.createElement("div",null,r.createElement("label",{className:"secondary",htmlFor:"SlackForm-channel-select"},"Notifications will be posted to:"),r.createElement(c.P,{fullWidth:!0,iconComponent:a,id:"SlackForm-channel-select",items:this.state.slackChannels,labelKey:"channelName",onItemSelect:this._onChannelSelect.bind(this),value:t})):null}_getDescription(){const{streamId:e}=this.props,{isPriority:t,isTag:s}=(0,o.Yg)(e);return s?"Send a notification to a Slack channel every time an article is saved to this board.":t?"Send a notification to a Slack channel every time a new article is prioritized by Leo.":"Error: invalid stream ID"}async _toggleSlackNotifications(){if(this._isSlackEnabled())return void this._reset();if(await this.integrations.askIsConnected(l.bK.slack)){const e=await this._askSlackChannels();0===e.length?this.signs.showError("No Slack channels found"):this._onChannelSelect(e[0])}else this.integrations.connect(l.bK.slack)}_askSlackChannels(){return this.enterprise.askListSlackChannels().then((e=>(this.setState({slackChannels:e}),e))).catch((e=>{console.error("[SlackForm] error getting channels: ",e),this.signs.showError("Failed to retrieve Slack channels"),this._reset()}))}_onChannelSelect(e){const t={slackChannelName:e.channelName,slackChannelId:e.channelId};this.props.onChange(t)}_reset(){this.props.onChange({slackChannelName:null,slackChannelId:null})}_isSlackEnabled(){return!!this.props.settings.slackChannelName}}h.propTypes={connected:i().bool,onChange:i().func.isRequired,settings:i().shape({slackChannelName:i().string}).isRequired,streamId:i().string.isRequired},h.defaultProps={connected:!1}},63013:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a);const l=({items:e,layout:t})=>r.createElement("div",{className:"list list-stat row"},e.map((({decoration:e,label:s,value:n})=>r.createElement("div",{className:o()(t,"item stat"),key:s},r.createElement("div",{className:"value"},n,e&&r.createElement("span",{className:"decoration"},e)),r.createElement("div",{className:"stat-label"},s)))));l.propTypes={items:i().arrayOf(i().shape({decoration:i().node,label:i().string,value:i().oneOfType([i().string,i().number])})).isRequired,layout:i().string},l.defaultProps={layout:"col-md-2 col-sm-12 m-b-1"}},6318:(e,t,s)=>{"use strict";s.d(t,{Z:()=>w});var n=s(32735),i=s(76553),r=s(28514),a=s(21120),o=s(40280),l=s(60216),c=s.n(l),d=s(40841),h=s.n(d),u=s(16847),p=s(3167),m=s(95192),g=s(47264),f=s(6931),y=s(44022);const v="Invalid email address";class b extends n.Component{constructor(e){super(e),this._onEmailBlur=()=>{const{email:e}=this.state;(0,u.oH)(e)||this.setState({error:v})},this._onEmailChange=e=>{this.setState({email:e,error:""})},this._onFormChange=e=>{e.error?this.setState({cardInfoComplete:!1,error:e.error.message}):e.complete?this.setState({cardInfoComplete:!0,error:""}):this.setState({cardInfoComplete:!1,error:""})},this._onNameChange=e=>{this.setState({error:"",name:e})},this._onSubmit=async e=>{const{isCreatingToken:t}=this.state,{isStripePaymentLoading:s}=this.props;if(t||s)return;e.preventDefault();const{email:n,name:r,userInfo:a}=this.state,{elements:o,handlePayment:l,isEnterprise:c,showAllFields:d,stripe:h}=this.props;if(h&&o)if(d)if(r)if((0,u.oH)(n)){this.setState({isCreatingToken:!0});try{a.email||await this.profile.askUpdateUserInfo({email:n});const e=c?this.enterprise:this.profile,t=await e.askStripeSecret(),s={card:o.getElement(i.CardElement),billing_details:{email:n,name:r}},d=await h.confirmCardSetup(t,{payment_method:s});d.error?this.setState({error:d.error.message,isCreatingToken:!1}):(this.setState({isCreatingToken:!1}),l(d.setupIntent.payment_method,n))}catch(p){this.setState({error:`Payment failed: ${p.debugMessage||p.message}`,isCreatingToken:!1})}}else this.setState({error:v});else this.setState({error:"Please provide a name"});else l()};const t=streets.service("profile").getUserInfo(),{email:s=""}=t;this.feedly=streets.service("feedly"),this.state={cardInfoComplete:!1,email:s,error:"",isCreatingToken:!1,name:"",userInfo:t}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.profile=streets.service("profile")}componentWillUnmount(){this.enterprise=null,this.feedly=null,this.profile=null}render(){const{buttonIcon:e,buttonLabel:t,buttonPrice:s,fullWidth:r,isStripePaymentLoading:a,onCancelClick:o,showAllFields:l,upgradeError:c}=this.props,{email:d,error:u,isCreatingToken:v,name:b}=this.state,E={disabled:!l,style:{base:{fontSize:"16px",color:this.feedly.getTheme()===p.Bd.dark?"#fff":"#333",fontFamily:"sans-serif","::placeholder":{color:"#9e9e9e"}},invalid:{color:"#f44336"}}},C=s?n.createElement("span",null,t,n.createElement("span",{className:"StripePaymentForm__price-info"},s)):t;return n.createElement("form",{className:"StripePaymentForm",onSubmit:this._onSubmit},n.createElement("div",{className:h()("StripePaymentForm__fields",{"StripePaymentForm__fields--hidden":!l})},n.createElement(f.oi,{autoFocus:!0,className:"StripePaymentForm__name",disabled:!l,onChange:this._onNameChange,placeholder:"Name on card",value:b}),n.createElement(f.oi,{className:h()("StripePaymentForm__email",{"StripePaymentForm__email--error":u.indexOf("email")>-1}),disabled:!l,onBlur:this._onEmailBlur,onChange:this._onEmailChange,placeholder:"Email",value:d}),n.createElement(i.CardElement,{onChange:this._onFormChange,options:E})),!!c&&n.createElement(y.u,{className:"StripePaymentForm__upgrade-error"},c),!!u&&n.createElement(m.x,{className:"StripePaymentForm__error",color:"danger",size:"smaller"},u),n.createElement("div",{className:"StripePaymentForm__actions"},n.createElement(g.zx,{className:h()({"StripePaymentForm__full-width-button":r&&!o}),disabled:this._isSubmitDisabled(),icon:e&&n.cloneElement(e,{color:this._isSubmitDisabled()?"black":"white"}),label:C,loading:v||a,type:"submit"}),!!o&&n.createElement(g.zx,{importance:"secondary",label:"Cancel",onClick:o})))}_isSubmitDisabled(){const{cardInfoComplete:e,email:t,isCreatingToken:s,name:n}=this.state,{isStripePaymentLoading:i,showAllFields:r}=this.props;return!(!s&&!i)||!!r&&(!n||!(0,u.oH)(t)||!e)}}function E(e){return n.createElement(i.ElementsConsumer,null,(({stripe:t,elements:s})=>n.createElement(b,Object.assign({stripe:t,elements:s},e))))}b.propTypes={buttonIcon:c().node,buttonLabel:c().string,buttonPrice:c().string,elements:c().shape({getElement:c().func}),fullWidth:c().bool,handlePayment:c().func.isRequired,isEnterprise:c().bool,isStripePaymentLoading:c().bool,onCancelClick:c().func,showAllFields:c().bool,stripe:c().shape({confirmCardSetup:c().func,createToken:c().func}),upgradeError:c().string},b.defaultProps={buttonIcon:void 0,buttonLabel:"Submit",buttonPrice:void 0,elements:null,fullWidth:!0,isEnterprise:!1,isStripePaymentLoading:!1,onCancelClick:void 0,showAllFields:!0,stripe:null,upgradeError:""};let C=null;(0,r.p1)()||s.e(5217).then(s.bind(s,65217)).then((({loadStripe:e})=>e((0,a._)()))).then((e=>{C=e})).catch((e=>{C=null,console.error(`[StripePaymentFormWrapper] Unable to load Stripe: ${e}`)}));const w=e=>C?n.createElement(i.Elements,{stripe:C},n.createElement(E,e)):n.createElement("div",null,n.createElement(o.H2,{appearance:"h4"},"Something went wrong"),n.createElement("p",null,"We were unable to load our payment form with Stripe. Please try disabling your browser extensions and reloading the page."))},50544:(e,t,s)=>{"use strict";s.d(t,{T:()=>d});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(74221),c=s(47264);class d extends r.Component{constructor(e){super(e),this.state={isSubscribed:null}}onCollectionChanged(e){this.props.streamId===e&&this._updateSubscribedGroup()}onTagChanged(e){this.props.streamId===e&&this._updateSubscribedGroup()}UNSAFE_componentWillMount(){this.signs=streets.service("signs"),this._updateService(),this._updateSubscribedGroup()}UNSAFE_componentWillReceiveProps(e){let t=e.streamId;t!==this.props.streamId&&(this._updateService(t),this._updateSubscribedGroup(t))}componentWillUnmount(){this.streetsService&&(this.streetsService.unregisterObserver(this),this.streetsService=null),this.signs=null}render(){const{className:e,size:t,streamId:s}=this.props,{isLoading:n,isSubscribed:i}=this.state;if(null===i)return null;let{isTag:a}=(0,l.Yg)(s),d={[e]:e};return a?(d.join=!i,d.joined=i):(d.follow=!i,d.following=i),r.createElement(c.zx,{className:o()(d),onClick:this._onClick.bind(this),importance:"",label:i?"Following":"Follow",loading:n,size:t})}_onClick(){let e,t=this.props.streamId,{isTag:s}=(0,l.Yg)(t);this.setState({isLoading:!0}),e=s?this.state.isSubscribed?this.streetsService.askUnsubscribeTag:this.streetsService.askSubscribeTag:this.state.isSubscribed?this.streetsService.askUnsubscribeCollection:this.streetsService.askSubscribeCollection,e.call(this.streetsService,t).catch((()=>{this.signs.showError("Operation Failed")}))}_updateService(e=this.props.streamId){this.streetsService&&this.streetsService.unregisterObserver(this);let{isEnterprise:t,isTag:s}=(0,l.Yg)(e);t&&(this.streetsService=s?streets.service("enterprisetags"):streets.service("enterprisecollections"),this.streetsService.registerObserver(this))}_updateSubscribedGroup(e=this.props.streamId){let{isEnterprise:t,isTag:s}=(0,l.Yg)(e);t&&(s?this.streetsService.askLookupTag(e).then((e=>{this.streetsService===streets.service("enterprisetags")&&this.setState({isSubscribed:e&&e.subscribed,isLoading:!1})})):this.streetsService.askLookupCollection(e).then((e=>{this.setState({isSubscribed:e&&e.subscribed,isLoading:!1})})))}}d.propTypes={className:i().string,size:i().oneOf(["small","normal"]),streamId:i().string.isRequired},d.defaultProps={className:void 0,size:"normal"}},90183:(e,t,s)=>{"use strict";s.d(t,{n:()=>c});var n=s(60216),i=s.n(n),r=s(32735),a=s(15813),o=s(47264),l=s(34039);class c extends r.Component{constructor(e){super(e),this._openHelpscout=()=>{const{context:e}=this.props;e?this.helpscout.open({prefill:{context:e}}):this.helpscout.open()},this.state={onboardingUrl:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.helpscout=streets.service("helpscout"),this.updateOnboardingUrl()}componentWillUnmount(){this.enterprise=null,this.helpscout=null}render(){const{onboardingUrl:e}=this.state,{campaign:t,className:s,proCtaLabel:n,proMessage:i}=this.props;if(!streets.hasProAccess())return null;let c=e?`${e}?utm_source=feedly-webapp`:null;return c&&t&&(c+="&utm_campaign="+encodeURIComponent(t)),c?r.createElement("div",{className:`training-message ${s}`},r.createElement(a.t,{url:"https://lh6.googleusercontent.com/-BeU_1h0Liis/AAAAAAAAAAI/AAAAAAAAAKo/gMHAk-TTQkw/photo.jpg"}),r.createElement("p",null,r.createElement("strong",null,"Need help?")," Book"," ",r.createElement(l.rU,{href:c,newWindow:!0,primary:!0},"a 1:1 session")," ","with a Feedly expert or"," ",r.createElement(o.ZP,{onClick:this._openHelpscout,primary:!0},"ask us a question")," ","online.")):r.createElement("div",{className:`training-message ${s}`},r.createElement(a.t,{url:"https://lh3.googleusercontent.com/-gJ6lu1_attM/AAAAAAAAAAI/AAAAAAAAAEg/GPlp26R7A8s/photo.jpg"}),r.createElement("p",null,r.createElement("strong",null,"Need help?")," We're happy to"," ",r.createElement(o.ZP,{onClick:this._openHelpscout,primary:!0},n)," ",i,"."))}async updateOnboardingUrl(){const e=await this.enterprise.askCalendlyOnboardingLink();this.setState({onboardingUrl:e})}}c.propTypes={campaign:i().string,className:i().string,context:i().string,proCtaLabel:i().string,proMessage:i().string},c.defaultProps={campaign:null,className:"",context:null,proCtaLabel:"answer your questions",proMessage:"and get you acquainted with Feedly"}},80147:(e,t,s)=>{"use strict";s.d(t,{D:()=>L});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(71262);const c=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M10.341 2.2l.048.08 2.312 4.7 5.17.759a.5.5 0 01.333.787l-.057.065-1.97 1.925a4.167 4.167 0 00-5.999 4.86l-.004.003-4.856 2.563a.5.5 0 01-.734-.446l.008-.08.883-5.168-3.741-3.657a.5.5 0 01.193-.833l.084-.02 5.168-.758 2.313-4.7a.5.5 0 01.849-.08z"}),r.createElement("path",{d:"M14.167 11.167a.5.5 0 01.492.41l.008.09v5a.5.5 0 01-.992.09l-.008-.09v-5a.5.5 0 01.5-.5z"}),r.createElement("path",{d:"M16.667 13.667a.5.5 0 01.09.992l-.09.008h-5a.5.5 0 01-.09-.992l.09-.008h5z"})))}));const d=(0,l.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12.33 2.7l.047.08 2.797 5.687 6.256.918a.5.5 0 01.333.788l-.056.065-2.387 2.332a5 5 0 00-7.136 5.779l-.022.017-5.827 3.076a.5.5 0 01-.734-.446l.008-.08 1.068-6.253-4.527-4.425a.5.5 0 01.194-.833l.083-.02 6.255-.918 2.798-5.688a.5.5 0 01.85-.079z"}),r.createElement("path",{d:"M17 13.5a.5.5 0 01.492.41l.008.09v6a.5.5 0 01-.992.09L16.5 20v-6a.5.5 0 01.5-.5z"}),r.createElement("path",{d:"M20 16.5a.5.5 0 01.09.992L20 17.5h-6a.5.5 0 01-.09-.992L14 16.5h6z"})))}));var h=s(5375),u=s(73789),p=s(21174),m=s(32285),g=s(47264),f=s(28576),y=s(74221),v=s(57993),b=s(88982),E=s(6931),C=s(94613);class w extends r.Component{constructor(e){super(e),this._onAccessChange=this._onAccessChange.bind(this),this._onCreateClick=this._onCreateClick.bind(this),this._onNameChange=this._onNameChange.bind(this);const t=streets.hasAdminBusinessAccess();this.state={access:t?v.s.team:v.s.personal,canCreateTeamBoards:t,isLoading:!1,name:e.initialName}}UNSAFE_componentWillMount(){this.enterprisetags=streets.service("enterprisetags"),this.personaltags=streets.service("personaltags"),this.reader=streets.service("reader")}componentWillUnmount(){this.enterprisetags=null,this.personaltags=null,this.reader=null,this._onAccessChange=null,this._onCreateClick=null,this._onNameChange=null,this._onSubmit=null}render(){const{access:e,error:t,isLoading:s,name:n,canCreateTeamBoards:i}=this.state;return r.createElement("div",{className:"CreateTagMenu form"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"board-name"},"Board name"),r.createElement(E.At,{id:"board-name",autoFocus:!0,clearable:!0,error:t,onChange:this._onNameChange,placeholder:"e.g. Design Systems",type:"text",value:n})),i&&r.createElement(C.Ee,{name:"access",onChange:this._onAccessChange,selectedValue:e,title:"Access"},r.createElement(C.Y8,{value:v.s.team}),r.createElement(C.Y8,{value:v.s.personal})),r.createElement(g.zx,{disabled:s||!!t||!n,label:"Create",loading:s,onClick:this._onCreateClick}),r.createElement(g.zx,{label:"Cancel",onClick:this.props.onCancel,importance:"secondary"}))}_onAccessChange(e){this.setState({access:e})}_createPersonalBoard(){const e=this.state.name,{entryId:t,onSubmit:s,onSubmitError:n}=this.props;this.personaltags.askSave({label:e}).then((i=>{this.reader.askTagEntry(t,{id:i,label:e}).catch(n),s()}))}_createTeamBoard(){const e=this.state.name,{entryId:t,onSubmit:s,onSubmitError:n}=this.props;this.enterprisetags.askSave({label:e}).then((e=>{this.reader.askTagEntry(t,e).then((()=>{const{isEnterprise:t}=(0,y.Yg)(e.id);t&&streets.service("checklist").askMarkTaskAsComplete("create-knowledge-board")})).catch(n),s()})).catch((e=>{e&&e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({error:"A board with that name already exists.",isLoading:!1}):(n(e),s())}))}_onCreateClick(){const e=this.state.access;this.setState({isLoading:!0}),e===v.s.personal?this._createPersonalBoard():e===v.s.team&&this._createTeamBoard()}_onNameChange(e){this.setState({name:e,error:(0,b.B)(e)?b.I:""})}}w.propTypes={entryId:i().string,initialName:i().string,onCancel:i().func,onSubmit:i().func,onSubmitError:i().func},w.defaultProps={entryId:null,initialName:"",onCancel:()=>{},onSubmit:()=>{},onSubmitError:()=>{}};var k=s(99348),_=s(95192),M=s(23005),S=s(25305),T=s(46291),I=s(55118),N=s(99175),P=s(30018);class L extends r.Component{constructor(e){super(e),this._onButtonClick=e=>{const{isOpen:t}=this.state;e.stopPropagation(),t?this._onCloseMenu():this.setState({isOpen:!0})},this._onFilterTextChange=e=>{this.setState({filterText:e})},this._onCloseMenu=()=>{this.setState({isOpen:!1,filterText:"",isCreateMode:!1})},this._onCreateCancel=this._onCreateCancel.bind(this),this._onCreateClick=this._onCreateClick.bind(this),this._onCreateComplete=this._onCreateComplete.bind(this),this._onTagListError=this._onTagListError.bind(this),this._onTagUpdateError=this._onTagUpdateError.bind(this),this._popoverHook=document.getElementById("reactPopoverHook"),this._targetRef=r.createRef(),this.state={filterText:"",isCreateMode:!1,isOpen:!1}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.personaltags=streets.service("personaltags"),this.shortcuts=streets.service("shortcuts"),this.signs=streets.service("signs"),this.enterprisetags.registerObserver(this),this.personaltags.registerObserver(this),this.shortcuts.registerObserver(this),this._updateHasTag(),this.state.isOpen&&this.shortcuts.claim(this,m.PC.close)}componentDidUpdate(e,t){const{onTagPickerStateChange:s}=this.props,{isOpen:n}=this.state;n!==t.isOpen&&(n?this.shortcuts.claim(this,m.PC.close):this.shortcuts.unclaim(this,m.PC.close),s&&s(n))}componentWillUnmount(){this.shortcuts.unclaim(this,m.PC.close),this.enterprisetags.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.shortcuts.unregisterObserver(this),this.signs=null,this.enterprisetags=null,this.personaltags=null,this.shortcuts=null,this._onCreateCancel=null,this._onCreateClick=null,this._onCreateComplete=null,this._onTagListError=null,this._onTagUpdateError=null,this._popoverHook=null,this._targetRef=null}onShortcutKey(e,t){if(e===m.PC.saveToBoard){const{entry:e,isInSharebar:s,onTagPickerStateChange:n}=this.props,{isOpen:i}=this.state,{selectedEntryId:r,inlinedEntryId:a}=t,o=e.getId();s&&a===o||!a&&r===o?(n&&n(!0),this.setState({isOpen:!0})):i&&this.setState({isOpen:!1})}else e===m.PC.close&&this._onCloseMenu()}onShortcutKeyInInput(e){e===m.PC.close&&this._onCloseMenu()}onTagsChanged(){this._updateHasTag()}render(){const{align:e,children:t,className:s,dark:n,disabled:i,entry:a,importance:l,isGPCTutorialRunning:c}=this.props,{hasTag:d,isCreateMode:u,isOpen:p,filterText:m}=this.state,y=a.listTags().length;let v;return v=void 0===d?r.createElement(f.v2,{width:300},r.createElement(M.g,{className:"m-l-2",details:"boards"})):u?r.createElement(w,{entryId:a.getId(),initialName:m,onCancel:this._onCreateCancel,onSubmit:this._onCreateComplete,onSubmitError:this._onTagUpdateError}):d?r.createElement("div",null,r.createElement(S.FV,{entry:a,excludeGlobal:!0,onFilterChange:this._onFilterTextChange}),r.createElement("div",{className:"menu-footer",onClick:this._onCreateClick},r.createElement(h.Z,{color:"accent"}),r.createElement(_.x,{className:"menu-footer-text",color:"accent",size:"smaller",tagName:"span"},"Create a board"))):r.createElement(f.v2,{className:"p-a-1",width:300},r.createElement(k.ub,{header:"Save to boards",description:"Organize your saved articles by project, topic, and more.",size:"small",illustration:P,actions:[{label:"Create your first board",onClick:this._onCreateClick}]})),r.createElement("div",{className:o()("fx tag-button",{"GuidedTutorial__gpc-offset-9":c})},r.createElement(N.d,{content:"Save to Board"},r.createElement(g.zx,{"aria-label":"Save to Board",elementRef:this._targetRef,className:o()("tag-button__button",s,{"tag-button__button--dark":n,"tag-button__button--saved":y}),disabled:i,icon:this._getIcon(y),importance:l,onClick:this._onButtonClick})),t,p&&r.createElement(I.h,{target:this._popoverHook},r.createElement(T.J,{align:"left"===e?"start":"end",caret:!0,offsetParent:this._popoverHook,onClose:this._onCloseMenu,target:this._targetRef},v)))}_getIcon(e){const{dark:t,small:s,isInSharebar:n}=this.props,i=n&&!e?"secondary":void 0;if(e){const e=s?c:d;return r.createElement(e,{color:"accent",importance:i})}const a=s?u.Z:p.Z;return r.createElement(a,{color:t?"white":"black",importance:i})}_onCreateCancel(){this.setState({filterText:"",isCreateMode:!1})}_onCreateClick(){streets.getUserId()?this.setState({isCreateMode:!0}):askSignupFeedly()}_onCreateComplete(){this.setState({hasTag:!0,isCreateMode:!1})}_onTagListError(e){this.signs.showError("Unable to fetch tags: "+(e.message||e))}_onTagUpdateError(e){this.signs.showError("Error: "+(e.message||e))}_updateHasTag(){Promise.all([this.personaltags.askListTags({excludeGlobal:!0}),this.enterprisetags.askListTags()]).then((([e=[],t=[]])=>{this.setState({hasTag:e.length>0||t.length>0})})).catch(this._onTagListError)}}L.propTypes={align:i().string,children:i().node,className:i().string,dark:i().bool,disabled:i().bool,entry:i().shape({getId:i().func,listTags:i().func}).isRequired,importance:g.zx.propTypes.importance,isInSharebar:i().bool,isGPCTutorialRunning:i().bool,onTagPickerStateChange:i().func,small:i().bool},L.defaultProps={align:"left",children:null,className:null,dark:!1,disabled:!1,importance:"tertiary",isInSharebar:!1,isGPCTutorialRunning:!1,onTagPickerStateChange:null,small:!1}},1623:(e,t,s)=>{"use strict";s.d(t,{vg:()=>f,Ox:()=>v,oq:()=>k,qn:()=>_,ky:()=>S,rY:()=>T,wu:()=>x,Gm:()=>H});var n=s(60216),i=s.n(n),r=s(32735);const a=(0,s(71262).Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M7.44 3.158c-2.717 2.562-2.536 6.565.265 9.206.603.568.935 1.818.935 3.75v1.029a.5.5 0 00.5.5h6.546a.5.5 0 00.5-.5v-1.029c0-1.932.332-3.182.934-3.75 2.86-2.696 3.01-6.619.265-9.206-2.75-2.592-7.195-2.592-9.944 0zm9.26.728c2.312 2.18 2.188 5.438-.266 7.75l-.13.133c-.762.83-1.118 2.278-1.118 4.345v.528H9.639v-.528c0-2.182-.395-3.674-1.248-4.478-2.397-2.26-2.547-5.598-.264-7.75 2.3-2.169 6.001-2.227 8.377-.176l.195.176zM15.429 20.071a.5.5 0 01.09.992l-.09.008h-6a.5.5 0 01-.09-.992l.09-.008h6z"})))}));var o=s(11245),l=s(88982),c=s(47264),d=s(40280),h=s(34039),u=s(6931),p=s(22735),m=s(99166),g=s(73265);class f extends r.Component{constructor(e){super(e),this.state={coverImage:null,coverImageFile:null,deleteCover:!1,description:"",id:null,label:e.initialLabel||"",labelError:"",isLoading:!1,personalTags:[],tagToImport:e.initialTagToImport}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs"),this.personaltags=streets.service("personaltags"),this.enterprise=streets.service("enterprise"),this.preferences=streets.service("preferences"),this.enterprise.registerObserver(this),this._updatePersonalTags()}componentWillUnmount(){this.enterprise.unregisterObserver(this),this.enterprise=null,this.personaltags=null,this.enterprisetags=null,this.signs=null,this.preferences=null}render(){const{description:e,id:t,isLoading:s,label:n,labelError:i}=this.state;return r.createElement("div",{className:"fx"},r.createElement("section",{className:"container630 centered enterprise-tag-info-form"},r.createElement(d.H2,{appearance:"h1",sub:"A private space where your team can save individual articles for reference, sharing or the creation of a newsletter"},"Create a Team Board"),r.createElement("form",{className:"form m-b-2",onSubmit:this._onSubmit.bind(this)},r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:"title"},"Title"),r.createElement(u.At,{id:"title",error:i,placeholder:"Title",value:n,onChange:this._onValueChange.bind(this,"label")})),this._renderTagImport(),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"description"},"Description"),r.createElement(p.K,{id:"decsription",placeholder:"What kind of articles should the team save to this board?",value:e,rows:3,onChange:this._onValueChange.bind(this,"description")})),r.createElement(c.zx,{disabled:s,label:t?"Save":"Create",loading:s,type:"submit"}),r.createElement(c.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:this.props.onDone})),r.createElement("div",{className:"bordered-box container-flex"},r.createElement(a,{className:"col-no-flex",color:"accent"}),r.createElement("div",null,r.createElement("div",{className:"item-header",style:{lineHeight:"1.5rem"}},"7 Great Board Examples"),r.createElement("div",{className:"item-description"},"We reviewed the boards created by some of the smartest industry professionals. Here are a few best practices that might inspire you."),r.createElement(h.rU,{className:"item-description","data-inlineentryid":"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15af7c9a6b0:8f0f66:1879190",href:"https://blog.feedly.com/examples-of-boards",primary:!0,style:{display:"inline-block"}},"Read more")))))}_renderTagImport(){const{personalTags:e,tagToImport:t}=this.state;return this.state.id?null:r.createElement("div",{className:"field"},r.createElement("label",null,"Clone existing personal board"),r.createElement(m.P,{defaultLabel:"None",fullWidth:!0,iconComponent:o.Z,items:e,labelKey:"label",onItemSelect:this._onTagSelect.bind(this),value:t&&t.label}))}_renderCoverImage(){const{coverImage:e}=this.state;return r.createElement("div",{className:"field"},r.createElement("label",null,"Cover Image"),r.createElement(g.a,{hint:"Drag and drop the image above or browse your computer. Recommended: 840px by 250px.",imageUrl:e,onFileChange:this._onImageChange.bind(this)}))}_updatePersonalTags(){this.personaltags.askListTags().then((e=>{for(let t=0;t<e.length;t++)if(e[t].id.indexOf("tag/global.saved")>-1){e[t].label="Read later";break}this.setState({personalTags:e})}))}_onValueChange(e,t){this.setState({[e]:t,labelError:(0,l.B)(t)?l.I:""})}_updateState(e,t,s){if(null===e)this.setState({[t]:s});else{const n=this.state[e];n[t]=s,this.setState({[e]:n})}}_onTagSelect(e){this.setState({tagToImport:e})}_onImageChange(e){e?this.setState({coverImageFile:e,deleteCover:!1}):this.setState({coverImageFile:null,deleteCover:!0})}_generateApiInput(){const{deleteCover:e,description:t,label:s,tagToImport:n}=this.state,i={label:s?s.trim():null,description:t?t.trim():null};return n&&(i.importTag=n.id),e&&(i.deleteCover=!0),i}_onSubmit(e){e.preventDefault();const{coverImageFile:t,label:s}=this.state;if(!s.length)return void this.setState({labelError:"The 'Title' field is required."});this.setState({isLoading:!0});const n="Board created",i=this._generateApiInput();this.enterprisetags.askSave(i).then((e=>{t?this.enterprisetags.askSaveCoverImage(e.id,t).then((()=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(n),this.props.onDone(e),streets.service("feedly").loadPage(`board/content/${e.id}`)})).catch((()=>{this.setState({formError:"Failed to save cover image.",isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(n),this.props.onDone(e),streets.service("feedly").loadPage(`board/content/${e.id}`))})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({formError:"",labelError:"A board with that name already exists."}):this.setState({formError:`Failed to save board settings: ${e.message}`,labelError:""}),this.setState({isLoading:!1})}))}}f.propTypes={initialLabel:i().string,initialTagToImport:i().shape({label:i().string}),onDone:i().func.isRequired},f.defaultProps={initialLabel:"",initialTagToImport:void 0};var y=s(99220);class v extends r.Component{render(){const{onDone:e}=this.props;return r.createElement("div",{className:"fx"},r.createElement("section",{className:"container630 centered"},r.createElement(d.H2,{appearance:"h1",sub:"Save the most important articles you read around your projects, clients, or interests"},"Create New Board"),r.createElement(x,{onDone:e,onTagChanged:e=>{streets.service("feedly").loadPage((0,y.no)(e))}}),r.createElement("div",{className:"bordered-box container-flex"},r.createElement(a,{className:"col-no-flex",color:"accent"}),r.createElement("div",null,r.createElement("div",{className:"item-header",style:{lineHeight:"1.5rem"}},"7 Great Board Examples"),r.createElement("div",{className:"item-description"},"We reviewed the boards created by some of the smartest industry professionals. Here are a few best practices that might inspire you."),r.createElement(h.rU,{className:"item-description","data-inlineentryid":"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15af7c9a6b0:8f0f66:1879190",href:"https://blog.feedly.com/examples-of-boards",primary:!0,style:{display:"inline-block"}},"Read more")))))}}v.propTypes={onDone:i().func.isRequired};var b=s(34313),E=s(72405),C=s(49245),w=s(3562);class k extends r.Component{constructor(e){super(e),this._onTabChange=e=>{this.setState({activeTab:e})},this.state={activeTab:this.props.defaultTab};const{tabs:t}=k;this.fragments=[{id:t.general,label:"General"},{id:t.members,label:"Members"},{id:t.email,label:"Newsletter"},{id:t.sharing,label:"Sharing"}]}render(){const{activeTab:e}=this.state;return r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630 centered enterprise-tag-info-form"},r.createElement(E.Le,{scrollParent:".floatingEntryScroller",target:".slider-header"},(({isSticky:e})=>r.createElement("div",null,this._renderHeader({isSticky:!1}),e&&this._renderHeader({isSticky:e})))),r.createElement(C.mQ,{items:this.fragments,active:e,onChange:this._onTabChange}),this._renderContent()))}_renderHeader({isSticky:e=!1}){const{streamInfo:t}=this.props;return r.createElement(b.mU,{compact:e,kicker:t.label,sticky:e,title:"Board Settings"})}_renderContent(){const{streamInfo:e,onDone:t}=this.props,{activeTab:s}=this.state,{tabs:n}=k;switch(s){case n.sharing:return r.createElement(H,{streamInfo:e,onDone:t});case n.email:return r.createElement(S,{streamInfo:e,onDone:t});case n.members:return r.createElement(w.U,{streamInfo:e,onDone:t});default:return r.createElement(T,{streamInfo:e,onDone:t})}}}k.tabs={email:"email",general:"general",members:"members",sharing:"sharing"},k.propTypes={defaultTab:i().oneOf(Object.values(k.tabs)),onDone:i().func.isRequired,streamInfo:i().shape({label:i().string}).isRequired},k.defaultProps={defaultTab:k.tabs.general};class _ extends r.Component{constructor(e){super(e),this._onTabChange=e=>{this.setState({activeTab:e})},this.state={activeTab:e.defaultTab},this.tabs=[{id:"general",label:"General"}]}render(){return r.createElement("div",{className:"fx"},r.createElement("div",{className:"container630 centered enterprise-tag-info-form"},r.createElement(E.Le,{scrollParent:".floatingEntryScroller",target:".slider-header"},(({isSticky:e})=>r.createElement("div",null,this._renderHeader({isSticky:!1}),e&&this._renderHeader({isSticky:e})))),this._renderTabs(),this._renderContent()))}_renderHeader({isSticky:e}){const{streamInfo:t}=this.props;return r.createElement(b.mU,{compact:e,kicker:t.label,sticky:e,title:"Manage Board"})}_renderTabs(){return r.createElement(C.mQ,{items:this.tabs,active:this.state.activeTab,onChange:this._onTabChange})}_renderContent(){return r.createElement(x,{initialStreamInfo:this.props.streamInfo,onDone:this.props.onDone})}}_.propTypes={defaultTab:i().string,onDone:i().func.isRequired,streamInfo:i().shape({label:i().string}).isRequired},_.defaultProps={defaultTab:"general"};var M=s(54591);class S extends r.Component{constructor(e){super(e);const t=this.props.streamInfo;this.state={emailSettings:t.emailSettings||{}}}UNSAFE_componentWillMount(){this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs"),this._checkEmailSettings()}componentWillUnmount(){this.enterprisetags=null,this.signs=null}render(){return r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit.bind(this)},this._renderForm())}_renderForm(){const{emailSettings:e,isLoading:t}=this.state;return r.createElement("div",null,r.createElement(M.o,{isTag:!0,streamInfo:this.props.streamInfo,settings:e,onChange:e=>{this.setState({emailSettings:e})}}),r.createElement(c.zx,{disabled:t,label:"Update",loading:t,type:"submit"}),r.createElement(c.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:()=>this.props.onDone()}))}_checkEmailSettings(){let e=this.props.streamInfo.emailSettings||{};if(!e.timeZone||!e.daysOfWeek){const t=e.disabled;e=this.enterprisetags.getDefaultEmailSettings(),e.disabled=t}this.setState({emailSettings:e})}_generateApiInput(){return Object.assign({},this.props.streamInfo,{emailSettings:this.state.emailSettings})}_onSubmit(e){e.preventDefault(),this.setState({isLoading:!0});const t="Board "+(this.props.streamInfo.id?"updated":"created"),s=this._generateApiInput();this.enterprisetags.askSave(s).then((e=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(t),this.props.onDone(e)})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({formError:"",labelError:"A board with that name already exists."}):this.setState({formError:`Failed to save board settings: ${e.message})`,labelError:""}),this.setState({isLoading:!1})}))}}S.propTypes={onDone:i().func.isRequired,streamInfo:i().object.isRequired};class T extends r.Component{constructor(e){super(e);const{streamInfo:t}=this.props;this.state={coverImage:t.cover,coverImageFile:null,deleteCover:!1,description:t.description,id:t.id,label:t.label,labelError:"",loadCoverImage:!0}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisetags=null,this.signs=null}render(){const{description:e,id:t,isLoading:s,label:n,labelError:i}=this.state;return r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit.bind(this)},r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:"title"},"Title"),r.createElement(u.At,{id:"title",error:i,placeholder:"Title",value:n,onChange:this._onValueChange.bind(this,"label")})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"purpose"},"Purpose"),r.createElement(p.K,{id:"purpose",placeholder:"Why is your team saving content in this board?",value:e,hint:"Example: Deliver best 3D printing articles to our sales team.",rows:3,onChange:this._onValueChange.bind(this,"description")})),this._renderCoverImage(),r.createElement(c.zx,{disabled:s,importance:"primary",label:t?"Save":"Create",loading:s,type:"submit"}),r.createElement(c.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:this.props.onDone}))}_renderCoverImage(){const{coverImage:e}=this.state;return r.createElement("div",{className:"field"},r.createElement("label",null,"Cover Image"),r.createElement(g.a,{hint:"Drag and drop the image above or browse your computer. Recommended: 840px by 250px.",imageUrl:e,onFileChange:this._onImageChange.bind(this)}))}_onValueChange(e,t){this.setState({[e]:t,labelError:(0,l.B)(t)?l.I:""})}_onImageChange(e){e?this.setState({coverImageFile:e,deleteCover:!1}):this.setState({coverImageFile:null,deleteCover:!0})}_generateApiInput(){const{deleteCover:e,description:t,label:s}=this.state,n=this.props.streamInfo;return n.label=s.trim(),n.description=t?t.trim():"",e&&(n.deleteCover=!0),n}_onSubmit(e){e.preventDefault();const{coverImageFile:t,id:s,label:n}=this.state;if(!n||!n.length)return void this.setState({labelError:"The 'Title' field is required."});this.setState({isLoading:!0});const i="Board "+(s?"updated":"created"),r=this._generateApiInput();this.enterprisetags.askSave(r).then((e=>{t?this.enterprisetags.askSaveCoverImage(e.id,t).then((()=>{this.setState({isLoading:!1,labelError:""}),this.props.onDone(e),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(i)})).catch((()=>{this.setState({formError:"Failed to save cover image.",isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.props.onDone(e),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(i))})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({formError:"",labelError:"A board with that name already exists."}):this.setState({formError:`Failed to save board settings: ${e.message}`,labelError:""}),this.setState({isLoading:!1})}))}}T.propTypes={onDone:i().func.isRequired,streamInfo:i().shape({cover:i().string,deleteCover:i().func,description:i().string,id:i().string,label:i().string}).isRequired},T.defaultProps={};var I=s(72720),N=s.n(I),P=s(39201),L=s(57080);class x extends r.Component{constructor(e){super(e),this._onValueChange=(e,t)=>{this.setState({[e]:t,[`${e}Error`]:(0,l.B)(t)?l.I:""})},this._toggleBoardPublic=()=>{streets.hasProAccess()?this.setState({isPublic:!this.state.isPublic}):this.feedly.loadPage("pro/public-board")},this._onIncludeChange=e=>{this.setState({[e]:!this.state[e]})},this._onImageChange=e=>{e?this.setState({coverImageFile:e,deleteCover:!1}):this.setState({coverImageFile:null,deleteCover:!0})},this._onSubmit=e=>{const{coverImageFile:t,deleteCover:s,id:n,isPublic:i,showNotes:r,showHighlights:a}=this.state;let{description:o,label:l}=this.state;if(l=l.trim(),o=o.trim(),e.preventDefault(),!l.length)return void this.setState({labelError:"The 'Title' field is required."});const c={id:n,label:l,description:o,isPublic:i,showNotes:r,showHighlights:a};s&&(c.deleteCover=!0),this.setState({isLoading:!0}),this.personaltags.askSave(c).then((e=>{t?this.personaltags.askSaveCoverImage(e,t).then((()=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(n?"Board updated":"Board created"),this.props.onDone()})).catch((()=>{this.setState({formError:"Failed to save cover image.",isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(n?"Board updated":"Board created"),this.props.onTagChanged(e),this.props.onDone())})).catch((()=>{this.setState({formError:"Operation failed",isLoading:!1,labelError:""})}))};const{initialStreamInfo:t={}}=e;this.state={description:t.description||"",coverImage:t.cover||null,coverImageFile:null,deleteCover:!1,loadCoverImage:!0,formError:"",id:t.id||null,isLoading:!1,label:t.label||"",labelError:"",isPublic:!N()(t.isPublic)&&t.isPublic,showNotes:!!N()(t.showNotes)||t.showNotes,showHighlights:!!N()(t.showHighlights)||t.showHighlights,uri:null}}componentDidMount(){this.signs=streets.service("signs"),this.personaltags=streets.service("personaltags"),this.feedly=streets.service("feedly"),this.state.id||this.personaltags.askListTags()}componentWillUnmount(){this.signs=null,this.personaltags=null,this.feedly=null}render(){const{formError:e,id:t,isLoading:s,label:n,labelError:i,description:a,isPublic:o}=this.state;return r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},r.createElement("div",{className:"field"},r.createElement("label",{className:"required",htmlFor:"tag-title"},"Title"),r.createElement(u.At,{autoFocus:!0,error:i,id:"tag-title",onChange:e=>{this._onValueChange("label",e)},placeholder:"Title",value:n}),e&&r.createElement("div",{className:"hint"},r.createElement("span",{className:"error"},e))),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"description"},"Description"),r.createElement(p.K,{id:"description",hint:"Example: Monitor trends in 3D printing industry, Discover content to share on LinkedIn, etc.",value:a,rows:3,onChange:e=>{this._onValueChange("description",e)}})),this._renderCoverImage(),r.createElement("div",{className:"field"},r.createElement(d.H3,{appearance:"h2",sub:"Would you like to make this board public?"},"Public Board"),r.createElement(P.r,{isOn:o,label:"Board public",onToggle:this._toggleBoardPublic}),this._renderPublicBoardOptions()),r.createElement(c.zx,{disabled:s,loading:s,label:t?"Save":"Create",type:"submit"}),r.createElement(c.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:()=>{this.props.onDone()}}))}_renderCoverImage(){const{coverImage:e,id:t}=this.state;return t?r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"cover"},"Cover Image"),r.createElement(g.a,{hint:"Drag and drop the image above or browse your computer. Recommended: 840px by 250px.",imageUrl:e,onFileChange:this._onImageChange})):null}_renderPublicBoardOptions(){const{isPublic:e,showNotes:t,showHighlights:s}=this.state;return!e||streets.hasBusinessAccess()?null:r.createElement("div",{className:"email-roundup-form"},r.createElement("label",null,r.createElement("div",{className:"sub"},"Include")),r.createElement(L.X,{checked:t,className:"m-b-h",onChange:()=>{this._onIncludeChange("showNotes")}},"Notes"),r.createElement(L.X,{checked:s,className:"m-b-h",onChange:()=>{this._onIncludeChange("showHighlights")}},"Highlights"))}}x.propTypes={initialStreamInfo:i().shape({description:i().string,id:i().string,label:i().string}),onDone:i().func,onTagChanged:i().func},x.defaultProps={initialStreamInfo:void 0,onDone:()=>{},onTagChanged:()=>{}};var D=s(82624),O=s(40841),A=s.n(O),z=s(38916),R=s(77817);class F extends r.Component{constructor(e){super(e),this._toggleIncludeHighlight=()=>{const{settings:e}=this.props,t=e&&!0===e.includeHighlight;this._changeSetting("includeHighlight",!t)},this._toggleSendNow=()=>{const{settings:e}=this.props,t=e&&!0===e.sendNow;this._changeSetting("sendNow",!t)},this.state={allProfiles:null}}componentDidMount(){const{connected:e}=this.props;this.buffer=streets.service("buffer"),this.integrations=streets.service("integrations"),this.signs=streets.service("signs"),this.integrations.registerObserver(this),e&&this._askAllProfiles();const t=this._isDisabled();e||t||this._reset()}componentWillUnmount(){this.integrations.unregisterObserver(this),this.buffer=null,this.integrations=null,this.signs=null}onIntegrationConnectionChanged(){this._askAllProfiles()}render(){return r.createElement("div",{className:"field integration-buffer"},this._renderBufferSharing())}_renderBufferSharing(){const e=this._isDisabled(),t=e?"Activate Buffer sharing":"Buffer sharing activated";return r.createElement("div",{className:"field"},r.createElement("label",null,"Buffer Sharing",r.createElement("div",{className:"sub"},"Share articles saved in this board to Buffer. Sharing to Facebook requires a note or highlight.")),r.createElement(P.r,{isOn:!e,label:t,onToggle:this._toggleBufferSharing.bind(this)}),this._renderBufferForm())}_renderBufferForm(){const{settings:e}=this.props,t=this._isDisabled(),s=e&&!0===e.includeHighlight,n=e&&!0===e.sendNow;return t?null:r.createElement("div",{className:"BufferForm__settings"},this._renderBufferProfiles(),r.createElement(L.X,{className:"m-t-1 m-b-h",checked:s,onChange:this._toggleIncludeHighlight},"Include snapshot of first highlight"),r.createElement(L.X,{checked:n,onChange:this._toggleSendNow},"Share right away"))}_renderBufferProfiles(){const{allProfiles:e}=this.state,{settings:t}=this.props;if(!e)return null;const s=t&&t.profileIds||[],n=t&&t.profileSelection;return r.createElement("div",{className:"BufferForm__profiles"},e.map((e=>{const t=s.indexOf(e.id)>-1||"allProfiles"===n;let i=e.service.toLowerCase();"google+"===i&&(i="google");const a={inset:!0,[i]:!0};return r.createElement("div",{className:A()("BufferForm__profile",{"BufferForm__profile--checked":t}),key:e.id,onClick:this._toggleProfileId.bind(this,e.id)},r.createElement(R.q,{alt:e.username,className:A()(a),title:`${e.service} (${e.username})`,url:e.picture}))})))}_changeSetting(e,t){const{onChange:s,settings:n}=this.props;s({...n,[e]:t})}async _toggleBufferSharing(){const{onChange:e,settings:t}=this.props;if(!this._isDisabled())return void e({...t,disabled:!0,profileSelection:"allProfiles"});await this.integrations.askIsConnected(z.bK.buffer)?(await this._askAllProfiles(),e({...t,disabled:!1})):this.integrations.connect(z.bK.buffer)}_toggleProfileId(e){const{allProfiles:t}=this.state,{onChange:s,settings:n}=this.props;let i=(n.profileIds||[]).slice(0);"allProfiles"===n.profileSelection&&(i=t.map((e=>e.id)));const r=i.indexOf(e);-1===r?i.push(e):i.splice(r,1),s({...n,profileIds:i,profileSelection:"selectedProfiles"})}async _askAllProfiles(){try{const e=await this.buffer.askProfiles();this.setState({allProfiles:e})}catch(e){this.signs.showError("Buffer connection disabled"),this._reset()}}_reset(){const{onChange:e,settings:t}=this.props;e({...t,disabled:!0,profileIds:[],includeHighlight:!1,sendNow:!1,profileSelection:"allProfiles"})}_isDisabled(){const{settings:e}=this.props;return!e||!0===e.disabled}}F.propTypes={connected:i().bool.isRequired,onChange:i().func.isRequired,settings:i().object.isRequired};var j=s(94516),U=s(91809);class B extends r.Component{constructor(...e){super(...e),this._onCopyClick=()=>{const{url:e}=this.props;(0,U.v)(e)}}render(){const{enabled:e,loadingUrl:t,onChange:s,url:n}=this.props;return r.createElement("div",{className:"field m-t-2 m-b-2"},r.createElement("label",null,"Private RSS URL",r.createElement("div",{className:"sub"},"Push articles saved to this board to other applications (MailChimp, SharePoint, etc.) via RSS")),r.createElement(P.r,{isOn:e,disabled:t,label:e?"Private RSS URL activated":"Activate Private RSS URL",onToggle:()=>{s(!e)}}),e&&r.createElement("div",{className:"container-flex m-t-1"},r.createElement(u.oi,{loading:t,readOnly:!0,value:n}),r.createElement(c.zx,{className:"col-no-flex m-l-1",importance:"secondary",label:"Copy Link",onClick:this._onCopyClick})))}}B.propTypes={enabled:i().bool,loadingUrl:i().bool,onChange:i().func.isRequired,url:i().string},B.defaultProps={enabled:!1,loadingUrl:!1,url:void 0};class H extends r.Component{constructor(e){super(e),this._onBufferSettingsChanged=e=>{this.setState({bufferSettings:e})},this._onFeedSettingsChanged=async e=>{const{streamInfo:t}=this.props;this.setState({enableFeed:e,loadingFeedUrl:!0});const{atomFeedUrl:s}=await this.enterprisetags.askSave({...t,enableFeed:e});this.setState({enableFeed:!!s,atomFeedUrl:s,loadingFeedUrl:!1})},this._onSlackSettingsChanged=e=>{this.setState({slackSettings:e})},this._onSubmit=e=>{e.preventDefault(),this.setState({isLoading:!0}),this.enterprisetags.askSave(this._generateApiInput()).then((e=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage("Board updated"),this.props.onDone(e)})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({formError:"",labelError:"A board with that name already exists."}):this.setState({formError:`Failed to save board settings: ${e.message}`,labelError:""}),this.setState({isLoading:!1})}))},this._onWebhookSettingsChanged=e=>{this.setState({microsoftTeamsSettings:e})};const{streamInfo:{bufferSettings:t,atomFeedUrl:s,microsoftTeamsSettings:n,slackChannelName:i,slackChannelId:r}}=this.props;this.state={enableFeed:!!s,atomFeedUrl:s,slackSettings:{slackChannelName:i,slackChannelId:r},bufferSettings:t||{},microsoftTeamsSettings:n||{}}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisetags=null,this.signs=null}render(){return r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},this._renderForm())}_renderForm(){const{onDone:e,streamInfo:{bufferConnected:t,id:s,slackTeamName:n}}=this.props,{atomFeedUrl:i,slackSettings:a,bufferSettings:o,enableFeed:l,loadingFeedUrl:d,microsoftTeamsSettings:h,isLoading:u}=this.state;return r.createElement("div",null,r.createElement(D.A,{connected:!!n,onChange:this._onSlackSettingsChanged,settings:a,streamId:s}),r.createElement(F,{settings:o,connected:t,onChange:this._onBufferSettingsChanged}),r.createElement(j.F,{settings:h,onChange:this._onWebhookSettingsChanged,streamId:s}),r.createElement(B,{enabled:l,loadingUrl:d,onChange:this._onFeedSettingsChanged,url:i}),r.createElement(c.zx,{disabled:u,label:"Update",loading:u,type:"submit"}),r.createElement(c.zx,{className:"floated left",importance:"secondary",label:"Cancel",onClick:e}))}_generateApiInput(){const{bufferSettings:e,enableFeed:t,slackSettings:{slackChannelId:s,slackChannelName:n},microsoftTeamsSettings:i}=this.state,{streamInfo:r}=this.props;return{...r,bufferSettings:e,enableFeed:t,microsoftTeamsSettings:i,slackChannelId:s,slackChannelName:n}}}H.propTypes={onDone:i().func.isRequired,streamInfo:i().shape({atomFeedUrl:i().string,bufferConnected:i().bool,bufferSettings:i().objectOf(i().any),id:i().string,microsoftTeamsSettings:j.Y,slackChannelName:i().string,slackChannelId:i().string,slackTeamName:i().string}).isRequired},H.defaultProps={}},99175:(e,t,s)=>{"use strict";s.d(t,{d:()=>c});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(55118);class c extends r.Component{constructor(e){super(e),this._getChildProps=()=>{const{children:e}=this.props,t=r.Children.only(e);return t&&t.props||{}},this._hideTip=()=>{window.clearTimeout(this._displayTimeout),this._displayTimeout=null,this.setState({isVisible:!1})},this._getPositionInfo=e=>{const{position:t}=this.props,s=document.querySelector(".Tipsy");if(!s)return{positionClass:"",style:{}};const n=s.offsetHeight,i=s.offsetWidth;let r,a,o="left"===t||"right"===t?t:"top";return"left"===t?(a=e.top-n/2+e.height/2+"px",r=e.left-i-10+"px"):"right"===t?(a=e.top-n/2+e.height/2+"px",r=e.left+e.width+10+"px"):e.top>200&&"bottom"!==t?(a=e.top-n-5+"px",r=e.left-i/2+e.width/2+"px"):(o="bottom",a=e.top+e.height+5+"px",r=e.left-i/2+e.width/2+"px"),{style:{left:r,top:a},positionClass:o}},this._onBlur=e=>{this._isMouseOver||this._hideTip();const{onBlur:t}=this._getChildProps();t&&t(e)},this._onFocus=e=>{this._showTip(e,!0);const{onFocus:t}=this._getChildProps();t&&t(e)},this._onMouseEnter=e=>{this._isMouseOver=!0,this._showTip(e);const{onMouseEnter:t}=this._getChildProps();t&&t(e)},this._onMouseLeave=e=>{this._isMouseOver=!1,this._hideTip();const{onMouseLeave:t}=this._getChildProps();t&&t(e)},this._showTip=({currentTarget:e},t=!1)=>{if(this._displayTimeout)return;const{targetParentElement:s,tipDelay:n}=this.props,i=s?e.parentNode:e;this._displayTimeout=window.setTimeout((()=>{this.setState({isVisible:!0,target:i})}),t?0:n)};let t=document.querySelector("#tipsy-wrapper");t||(t=document.createElement("div"),t.id="tipsy-wrapper",document.body.appendChild(t)),this._tipsyWrapper=t,this._isMouseOver=!1;const{targetSelector:s}=this.props,n=s?document.querySelector(s):null;this.state={isVisible:!!s,positionClass:"",style:{},target:n}}componentDidMount(){const{target:e}=this.state;if(e){const{positionClass:t,style:s}=this._getPositionInfo(e.getBoundingClientRect());this.setState({style:s,positionClass:t})}}componentWillUnmount(){window.clearTimeout(this._displayTimeout),this._displayTimeout=null,this._tipsyWrapper=null,this._isMouseOver=null}componentDidUpdate(e,t){const{target:s}=this.state;if(s){const{positionClass:e,style:n,style:{left:i,top:r}}=this._getPositionInfo(s.getBoundingClientRect());r===t.style.top&&i===t.style.left&&e===t.positionClass||this.setState({style:n,positionClass:e})}}render(){const{animateClass:e,children:t,content:s,textAlign:n,tipClass:i}=this.props,{isVisible:a,positionClass:c,style:d}=this.state;return r.createElement(r.Fragment,null,r.cloneElement(r.Children.only(t),{onBlur:this._onBlur,onFocus:this._onFocus,onMouseLeave:this._onMouseLeave,onMouseEnter:this._onMouseEnter}),a&&r.createElement(l.h,{className:o()("Tipsy",e,i,{[`Tipsy--text-align-${n}`]:n}),style:d,target:this._tipsyWrapper},s,r.createElement("div",{className:o()("Tipsy__caret",{[`Tipsy__caret--${c}`]:c})})))}}c.propTypes={animateClass:i().oneOf(["animateFadeIn",""]),children:i().node.isRequired,content:i().node.isRequired,position:i().oneOf(["bottom","left","top","right"]),targetParentElement:i().bool,targetSelector:i().node,textAlign:i().oneOf(["left",""]),tipClass:i().string,tipDelay:i().number},c.defaultProps={animateClass:"",position:void 0,targetParentElement:!1,targetSelector:void 0,textAlign:"",tipClass:void 0,tipDelay:300}},88182:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s(60216),i=s.n(n),r=s(32735);const a=(0,s(71262).Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M11.015 2.51a2.214 2.214 0 011.8-.077l.171.077 6.856 3.428a2.214 2.214 0 011.223 1.815l.006.167v2.091a.5.5 0 01-.992.09l-.008-.09v-2.09c0-.415-.211-.798-.555-1.02l-.12-.068-6.856-3.428a1.214 1.214 0 00-.95-.056l-.13.055-6.858 3.43c-.37.184-.62.543-.666.95l-.008.136v8.163c-.002.416.207.8.548 1.024l.119.069 6.857 3.428c.342.171.745.171 1.087 0l2.24-1.12a.5.5 0 01.447.895l-2.24 1.12a2.214 2.214 0 01-1.808.077l-.173-.077-6.859-3.43a2.214 2.214 0 01-1.212-1.822l-.006-.167V7.92c.001-.785.416-1.506 1.082-1.902l.146-.08 6.859-3.429z"}),r.createElement("path",{d:"M20.074 6.547a.5.5 0 01.524.847l-.077.047-8.297 4.15a.5.5 0 01-.36.033l-.088-.034L3.48 7.441a.5.5 0 01.363-.927l.084.033L12 10.583l8.074-4.036z"}),r.createElement("path",{d:"M12 10.643a.5.5 0 01.492.41l.008.09v10.08a.5.5 0 01-.992.09l-.008-.09v-10.08a.5.5 0 01.5-.5zM19 12.5a.5.5 0 01.492.41l.008.09v6a.5.5 0 01-.992.09L18.5 19v-6a.5.5 0 01.5-.5z"}),r.createElement("path",{d:"M22 15.5a.5.5 0 01.09.992L22 16.5h-6a.5.5 0 01-.09-.992L16 15.5h6z"})))}));var o=s(74812),l=s(25305);class c extends r.Component{constructor(e){super(e),this._onButtonClick=()=>{const{isOpen:e}=this.state;e?this._onCloseMenu():this.setState({isOpen:!0})},this._onFilterTextChange=e=>{this.setState({filterText:e})},this._onCloseMenu=()=>{this.setState({isOpen:!1,filterText:""})},this.state={isOpen:!1}}componentDidUpdate(e,t){const{onDatasetPickerStateChange:s}=this.props,{isOpen:n}=this.state;n!==t.isOpen&&s&&s(n)}render(){const{className:e,entry:t}=this.props,{isOpen:s}=this.state,n=r.createElement("div",null,r.createElement(l.hD,{entry:t,onFilterChange:this._onFilterTextChange}));return r.createElement("div",{className:"fx AddToDatasetButton"},r.createElement(o.X,{caret:!0,icon:r.createElement(a,{importance:"secondary"}),className:e,importance:"tertiary",isOpen:s,menu:n,onButtonClick:this._onButtonClick,onCloseMenu:this._onCloseMenu,title:"Add to Dataset"}))}}c.propTypes={className:i().string,entry:i().shape({getId:i().func}).isRequired,onDatasetPickerStateChange:i().func},c.defaultProps={className:null,onDatasetPickerStateChange:null}},16101:(e,t,s)=>{"use strict";s.d(t,{cZ:()=>n,IH:()=>i,M3:()=>r,_b:()=>a,K4:()=>o,aE:()=>l,pH:()=>c,wj:()=>d,PG:()=>h,oq:()=>u,x7:()=>p,wU:()=>m,Y8:()=>g,Uf:()=>f});const n="Overall Score",i="feed%2",r="topicDataset",a=Object.freeze({POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE",TO_REVIEW:"REVIEW"}),o=Object.freeze({positive:"POSITIVE",negative:"NEGATIVE",review:"TO_REVIEW",unlabeled:"UNLABELED"}),l=Object.freeze({precision:"The ability of the model to cut out the noise",recall:"The ability of the model to find the signal",betaScore:"How accurate is the model overall? (average of precision and recall)"}),c=Object.freeze({precision:"precision",recall:"recall",betaScore:"betaScore"});function d(e){return e.reduce(((e,t)=>({...e,[t.id]:t})),{})}const h=Object.freeze({streamSelect:"Stream",search:"Search",activeLearning:"Active Learning",communityFeedback:"Community Feedback",livePredictions:"Live Predictions",customList:"Custom Lists",reviewAll:"ALL",reviewNegative:"NEGATIVE",reviewPositive:"POSITIVE",reviewToReview:"TO_REVIEW"}),u=Object.freeze({default:"Try the Model",negatives:"Negatives",positives:"Positives"}),p={"theme.light":"#333","theme.dark":"#fff"},m="#9e9e9e75",g="#2bb24c",f="#8c8c8c"},99967:(e,t,s)=>{"use strict";s.d(t,{td:()=>Z,fL:()=>d,ho:()=>V,uw:()=>y,hn:()=>b,hA:()=>N,jB:()=>L,ih:()=>j,TY:()=>H,sL:()=>ee,WZ:()=>se,UA:()=>ae,RF:()=>ue});var n=s(32735),i=s(60216),r=s.n(i),a=s(6931),o=s(47264),l=s(34313);const c=Object.freeze({internalServerError:"InternalServerError"});class d extends n.Component{constructor(e){super(e),this._onCancel=()=>{this.props.onDone()},this._onCreateTopicDataset=async()=>{const{onDone:e,onEditDataset:t}=this.props,{datasetName:s,resourceId:n}=this.state;this.setState({isLoading:!0});try{const i={name:s,resourceId:n},r=await this.mltopicdatasets.askCreateTopicDataset(i);this.setState({isLoading:!1}),t(r),e()}catch(i){this.setState({error:i,isLoading:!1})}},this._onNameChange=e=>{this.setState({datasetName:e})},this._onResourceIdChange=e=>{this.setState({resourceId:e})},this.state={datasetName:"",error:{},isLoading:!1,resourceId:""}}componentDidMount(){this.mltopicdatasets=streets.service("mltopicdatasets"),this.signs=streets.service("signs")}componentWillUnmount(){this.mltopicdatasets=null,this.signs=null}render(){const{datasetName:e,error:{errorType:t,errorMessage:s},isLoading:i,resourceId:r}=this.state;return n.createElement("div",{className:"fx"},n.createElement("div",{className:"container630 centered"},n.createElement(l.h4,{className:"slider-header",hideRefreshButton:!0,title:"Create New Topic Dataset"}),n.createElement("div",{className:"form m-t-2"},n.createElement("div",{className:"field"},s&&n.createElement("div",{className:"m-t-2"},n.createElement("p",{className:"color-danger"},t===c.internalServerError?"This resource id is already in use. Please choose another id.":s)),n.createElement("label",{className:"required",htmlFor:"dataset-name"},"Name"),n.createElement(a.At,{autoComplete:"off",className:"m-b-1",id:"name",onChange:this._onNameChange,placeholder:"e.g. cybersecurity",value:e}),n.createElement("label",{htmlFor:"resource-id"},"Resource id"),n.createElement(a.At,{autoComplete:"off",className:"m-b-1",id:"resourceId",onChange:this._onResourceIdChange,placeholder:"e.g. nlp/f/topic/10000",value:r}),n.createElement(o.zx,{disabled:!e,label:"Create",loading:i,onClick:this._onCreateTopicDataset}),n.createElement(o.zx,{label:"Cancel",color:"black",importance:"secondary",onClick:this._onCancel})))))}}d.propTypes={onDone:r().func.isRequired,onEditDataset:r().func.isRequired};var h=s(40841),u=s.n(h),p=s(5375),m=s(74296),g=s(86451);const f=Object.freeze({negative:"NEGATIVE",positive:"POSITIVE",review:"TO_REVIEW",unlabeled:"UNLABELED"});class y extends n.Component{constructor(...e){super(...e),this._onFeedbackClick=(e,t)=>{const{onFeedbackClick:s}=this.props;e.stopPropagation(),s(t)}}render(){const{curationLabel:e,predictedCurationLabel:t,showReview:s}=this.props,i=e===f.negative,r=e===f.positive,a=e===f.review,l=t===f.negative,c=t===f.positive,d=t===f.review;return n.createElement(n.Fragment,null,n.createElement(o.zx,{className:u()("TopicCurationButton",{"TopicCurationButton--predicted":!r&&c}),color:"accent",icon:n.createElement(p.Z,{color:r||c?"white":"accent"}),importance:r||c?"primary":"",onClick:e=>{this._onFeedbackClick(e,f.positive)},rounded:!0,title:"Mark as positive"}),s&&n.createElement(o.zx,{className:u()("TopicCurationButton",{"TopicCurationButton--predicted":!a&&d}),color:"notification",icon:n.createElement(m.Z,{color:a||d?"white":"black"}),importance:a||d?"primary":"",onClick:e=>{this._onFeedbackClick(e,f.review)},rounded:!0,title:"Mark as review"}),n.createElement(o.zx,{className:u()("TopicCurationButton",{"TopicCurationButton--predicted":!i&&l}),color:"danger",icon:n.createElement(g.Z,{color:i||l?"white":"danger"}),importance:i||l?"primary":"",onClick:e=>{this._onFeedbackClick(e,f.negative)},rounded:!0,title:"Mark as negative"}))}}y.propTypes={curationLabel:r().string,predictedCurationLabel:r().string,onFeedbackClick:r().func.isRequired,showReview:r().bool},y.defaultProps={curationLabel:f.unlabeled,predictedCurationLabel:f.unlabeled,showReview:!0};var v=s(16101);class b extends n.Component{constructor(e){super(e),this.state={streamVersion:0,entries:[],predictions:[]}}async componentDidMount(){this.reader=streets.service("reader"),this.mltopicdatasets=streets.service("mltopicdatasets"),this._loadData()}componentWillUnmount(){this.reader=null,this.mltopicdatasets=null}async componentDidUpdate(e){e.unlabeledOnly!==this.props.unlabeledOnly&&this._loadData()}render(){const{topicDatasetId:e}=this.props,{predictions:t,entries:s,streamVersion:i}=this.state;return n.createElement(L,{entries:t.map((e=>s[e.entryId])),topicDatasetId:e,curationStates:t,streamVersion:i,hasAllEntries:!0})}async _loadData(){const{topicDatasetId:e,unlabeledOnly:t}=this.props,{items:s=[]}=await this.mltopicdatasets.askListActiveLearningEntries({topicDatasetId:e,unlabeledOnly:t}),n=s.map((e=>e.entryId)),i=(0,v.wj)(await this.reader.askLookupEntries(n));this.props.unlabeledOnly===t&&this.setState((({streamVersion:e})=>({entries:i,predictions:s,streamVersion:e+1})))}}b.propTypes={topicDatasetId:r().string.isRequired,unlabeledOnly:r().bool},b.defaultProps={unlabeledOnly:!1};var E=s(3167),C=s(11459),w=s(32285),k=s(69098),_=s(34039),M=s(39970),S=s(66709),T=s(18078),I=s(39832);class N extends n.Component{constructor(e){super(e),this._onFeedbackClick=async e=>{const{entryId:t,selected:s,topicDatasetId:n}=this.props,{curationState:i}=this.state;let r=e;if(i&&i.label===r&&(r=v.K4.unlabeled),this.setState({curationState:{...i,label:r}}),s){const e=streets.service("navigo").getState(),t="slider"===e.inlineMode||"preview"===e.inlineMode;t&&streets.service("signs").showMessage(r),streets.service("readingManager").onNextEntry({alignToTop:!1,open:t,unreadOnly:!1})}try{await this.mltopicdatasets.askCurateEntry({topicDatasetId:n,entryId:t,curationLabel:r})}catch(a){streets.service("signs").showError("Failed to curate entry. "+(403===a.errorCode?"Unauthorized access.":"")),this.setState({curationState:{...i,label:v.K4.unlabeled}})}},this.reader=streets.service("reader"),this.preferences=streets.service("preferences"),this.mltopicdatasets=streets.service("mltopicdatasets"),this.shortcuts=streets.service("shortcuts"),this.feedly=streets.service("feedly");const t=this.reader.lookupEntry(e.entryId);this.state={displayDensity:this.preferences.getPreference("displayDensity")||29,curationState:e.initialCurationState,entry:t,expandNotes:!1,expandHighlights:!1}}onEntryMarkedAsRead(e,t){e!==this.props.entryId||t&&t.batch||this._updateEntry()}onEntryKeptUnread(e){e===this.props.entryId&&this._updateEntry()}onEntryAnnotationsChanged(e){e===this.props.entryId&&this._updateEntry()}onEntryQuicklistStatusChanged(e){e===this.props.entryId&&this._updateEntry()}onEntryFeedbackChanged(e){e===this.props.entryId&&this._updateEntry()}onEntryPriorityChanged(e){e===this.props.entryId&&this._updateEntry()}onShortcutKey(e){e===w.PC.markPositive?this._onFeedbackClick(v.K4.positive):e===w.PC.markNegative?this._onFeedbackClick(v.K4.negative):e===w.PC.markToReview&&this._onFeedbackClick(v.K4.review)}componentDidUpdate(e){const{selected:t}=this.props;t!==e.selected&&(t?(this.shortcuts.claim(this,w.PC.markPositive),this.shortcuts.claim(this,w.PC.markNegative),this.shortcuts.claim(this,w.PC.markToReview)):(this.shortcuts.unclaim(this,w.PC.markPositive),this.shortcuts.unclaim(this,w.PC.markNegative),this.shortcuts.unclaim(this,w.PC.markToReview)))}componentDidMount(){this.reader.registerObserver(this),this.mltopicdatasets.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.mltopicdatasets.unregisterObserver(this),this.props.selected&&(this.shortcuts.unclaim(this,w.PC.markPositive),this.shortcuts.unclaim(this,w.PC.markNegative),this.shortcuts.unclaim(this,w.PC.markToReview)),this.reader=null,this.preferences=null,this.mltopicdatasets=null,this.shortcuts=null,this.feedly=null}render(){const{children:e,className:t,highlightKeywords:s,inlined:i,selected:r,showSourceTitle:a}=this.props;let{navigation:o}=this.props;const{displayDensity:l,entry:c}=this.state;if(!c)return n.createElement("div",null);const d=c.getId(),h=c.isRead(),p=c.isQuicklisted(),m=c.isPrioritized();let g=c.getCleanTitle();o||(o=c.getNavigation());const f={entry:!0,"entry--read":h,"entry--unread":!h,prioritized:m,quicklisted:p,selected:r,[C.Ar.titleOnly]:!0,["density-"+l]:!0,[t]:!!t};if(i)return n.createElement(S.nc,{entry:c,layout:C.Ar.titleOnly,selected:r});const y={"data-alternate-link":c.getBestAlternateLink(),"data-navigation":o};let v;"visit"!==o?y["data-inlineentryid"]=d:y["data-visitentryid"]=d,a&&(v=n.createElement(I.P7,{entry:c,layout:C.Ar.titleOnly},c.getSourceTitle()));const b=c.getHighlightableKeywords();return s&&b&&b.length>0&&(g=n.createElement(M.L,{caseSensitive:!0,wordClassName:"entry__keyword",words:b,text:g,wrapper:"fragment",fullword:!0})),n.createElement("div",Object.assign({id:c.getId()+"_main",className:u()(f)},y,{"data-u":"0"}),this._renderTopicCurationActions(),a&&n.createElement("div",{className:"entry__meta-column"},v),this._renderCurationScore(),n.createElement("div",{className:"content"},n.createElement(_.rU,{className:"entry__title",href:c.getBestAlternateLink(),newWindow:!0},g),this._renderMetadata(),this._renderBestSummary()),n.createElement(k.E,{date:c.getCrawledDate(),lastModifiedDate:c.getLastModifiedDate()}),e)}_renderBestSummary(){const{entry:e}=this.state,{highlightKeywords:t}=this.props,s=e.getLeoSummary(),n=e.getHighlightableKeywordSnippets();if(t&&n&&n.length>0)return this._renderHighlightableKeywordSnippets(n);const i=e.listHighlights();return i&&i.length>0?this._renderHighlights():n&&n.length>0?this._renderHighlightableKeywordSnippets(n):s&&s.length>0?this._renderLeoSummary():this._renderDefaultSummary()}_renderCurationScore(){const{curationState:e}=this.state;return e&&"number"==typeof e.score?n.createElement("span",{className:"TopicModeler__curation-score",title:"Curation score"},e.score.toFixed(3)):null}_renderTopicCurationActions(){const{curationState:e}=this.state;return n.createElement(y,{curationLabel:e?e.label:"",onFeedbackClick:this._onFeedbackClick,predictedCurationLabel:e?e.predictedLabel:""})}_renderLeoSummary(){const{entry:e}=this.state;return n.createElement(T.U,{summary:e.getLeoSummary(),display:"inline"})}_renderMetadata(){const{entry:e}=this.state,{hideAuthor:t,hideMeme:s,hideBoardLabel:i,isLeoPreview:r,popoverOffsetParent:a,priorityInfo:o,showKeywordMarker:l,showSecondarySourceMarker:c,isBeyondPowerSearch:d,showSourceTitle:h}=this.props;return n.createElement(I.at,{entry:e,hideAuthor:t,hideMeme:s,hideBoardLabel:i,isLeoPreview:r,layout:C.Ar.titleOnly,popoverOffsetParent:a,priorityInfo:o,showKeywordMarker:l,showSecondarySourceMarker:c,isBeyondPowerSearch:d,showSourceTitle:h})}_renderDefaultSummary(){return this.state.entry?n.createElement("div",{className:"summary",dangerouslySetInnerHTML:{__html:this.state.entry.getBestSummary()}}):null}_renderHighlights(){const e=[];if(!this.state.entry)return null;return this.state.entry.listAnnotations().forEach((t=>{t.highlight&&t.authorUser&&e.push(n.createElement("div",{key:t.id,className:"item-highlight"},n.createElement("span",null,t.highlight.text)))})),0===e.length?null:e.length>1&&!this.state.expandHighlights?n.createElement("div",{className:"list-highlight"},e[0],n.createElement("div",{key:"showMore",onClick:()=>this.setState({expandHighlights:!0}),className:"item-more"},"+",e.length-1," highlights")):n.createElement("div",{className:"list-highlight"},e)}_renderHighlightableKeywordSnippets(e){if(!e||0===e.length)return null;const{highlightKeywords:t}=this.props,s=e[0];let i,r=s.text;if(t&&(r=n.createElement(M.L,{caseSensitive:!0,wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0})),s.text&&s.text.length<160&&e.length>1){const s=e[1];i=s.text,t&&(i=n.createElement(M.L,{caseSensitive:!0,wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0}))}return n.createElement("div",{className:"summary mention"},r,i&&n.createElement(n.Fragment,null,"... ",i))}_updateEntry(){return this.reader.askLookupEntry(this.props.entryId).then((e=>{null!==this.reader&&this.setState({entry:e})}))}}N.propTypes={children:r().node,className:r().string,density:r().oneOf(E.fM),entryId:r().string.isRequired,initialCurationState:r().shape({entryId:r().string,label:r().label,predictedLabel:r().string}),hideAuthor:r().bool,hideMeme:r().bool,hideBoardLabel:r().bool,highlightKeywords:r().bool,inlined:r().bool,isLeoPreview:r().bool,navigation:r().oneOf(["slider",void 0]),popoverOffsetParent:r().shape({current:r().instanceOf(Element)}),priorityInfo:r().shape({id:r().string,label:r().string,streamLabel:r().string,layers:r().arrayOf(r().object)}),selected:r().bool,showSourceTitle:r().bool,showKeywordMarker:r().bool,topicDatasetId:r().string.isRequired,isBeyondPowerSearch:r().bool},N.defaultProps={children:null,className:void 0,density:E.AM.comfortable,initialCurationState:{},hideAuthor:!1,hideMeme:!1,hideBoardLabel:!1,highlightKeywords:!1,inlined:!1,isLeoPreview:!1,navigation:void 0,popoverOffsetParent:void 0,priorityInfo:{},selected:!1,showSourceTitle:!0,isBeyondPowerSearch:!1,showKeywordMarker:!1};var P=s(28906);class L extends n.Component{constructor(e){super(e),this.state=this._buildInitialState()}async componentDidMount(){this.mltopicdatasets=streets.service("mltopicdatasets"),this.props.initialNavigable&&(this.navigo=streets.service("navigo"),this.navigo.registerObserver(this)),this._updateCurationStates()}componentWillUnmount(){this.props.initialNavigable&&(this.navigo.unregisterObserver(this),this.navigo=null),this.mltopicdatasets=null}async componentDidUpdate(e){e.streamVersion!==this.props.streamVersion&&this.setState(this._buildInitialState()),e.entries!==this.props.entries&&this._updateCurationStates(e.entries)}_buildInitialState(){return{isLoading:this.props.entries.length>0,entries:[],curationStates:this.props.curationStates.reduce(((e,t)=>({...e,[t.entryId]:t})),{}),selectedEntryId:null}}async _updateCurationStates(e=[]){const{topicDatasetId:t,entries:s,loadCurationStates:n,initialNavigable:i}=this.props,r=s.filter((e=>void 0!==e));if(!n)return this.setState({isLoading:!1,entries:r,curationStates:this.props.curationStates.reduce(((e,t)=>({...e,[t.entryId]:t})),{})}),void(i&&this.navigo.setEntries(r));const a=e.filter((e=>void 0!==e)),o=new Set(a.map((e=>e.id))),l=r.map((e=>e.id)).filter((e=>!o.has(e)));if(0===l.length)return;this.setState({isLoading:!0});const{items:c}=await this.mltopicdatasets.askListEntryCurationStates({topicDatasetId:t,entryIds:l}),{curationStates:d}=this.state,h={...d};c.forEach((e=>{h[e.entryId]={...e,...d[e.entryId]}})),this.setState({isLoading:!1,entries:r,curationStates:h}),i&&this.navigo.setEntries(r)}onNavigationChanged(e){this.setState({focusSelectedEntry:e.focusSelectedEntry,selectedEntryId:e.selectedEntryId}),this.props.onNavigationChanged&&this.props.onNavigationChanged(e)}render(){const{topicDatasetId:e,isLoadingEntries:t,hasAllEntries:s,streamVersion:i}=this.props,{focusSelectedEntry:r,isLoading:a,curationStates:o,entries:l,selectedEntryId:c}=this.state;return 0===l.length?null:n.createElement(P.f,{endOfFeedLabel:"End of results",entryRenderer:({entryId:t})=>n.createElement(N,{key:t,entryId:t,initialCurationState:o[t],selected:c===t,showSourceTitle:!0,topicDatasetId:e}),entries:l,focusSelectedEntry:r,layout:"u0",hasAllEntries:s,hideAuthor:!0,hideBoardLabel:!0,hideMeme:!0,highlightKeywords:!0,isLoading:t||a,selectedEntryId:c,showSourceTitle:!0,streamVersion:i})}}L.propTypes={topicDatasetId:r().string.isRequired,entries:r().arrayOf(r().object).isRequired,curationStates:r().arrayOf(r().shape({entryId:r().string,label:r().string,predictedLabel:r().string})),isLoadingEntries:r().bool,hasAllEntries:r().bool,streamVersion:r().number,loadCurationStates:r().bool,initialNavigable:r().bool,onNavigationChanged:r().func},L.defaultProps={curationStates:[],isLoadingEntries:!1,hasAllEntries:!1,streamVersion:0,loadCurationStates:!1,initialNavigable:!0,onNavigationChanged:void 0};var x=s(33259),D=s.n(x),O=s(57855),A=s(23005),z=s(99348),R=s(38185),F=s(66210);class j extends n.Component{constructor(e){super(e),this.onNavigationChanged=e=>{const{focusSelectedEntry:t,selectedEntryId:s}=e;if(this.setState({focusSelectedEntry:t,selectedEntryId:s}),s&&this.state.entries.length&&!this.state.isLoadingEntries){const e=this.state.entries.map((e=>e.id));e.indexOf(s)>e.length-7&&(this._doCheckIfMoreEntriesNeeded=!0,this._updateEntries())}},this._checkMoreEntriesNeeded=()=>{const{isLoadingEntries:e}=this.state;if(!e)try{const e=this._scrollTarget.scrollTop,t=this._scrollTarget.scrollHeight,s=(0,O.$$)(document);let n=1.5*s;streets.service("pageManager").shouldAutoSelectOnScroll()&&(n+=s),e+s>t-n&&(this._doCheckIfMoreEntriesNeeded=!0,this._updateEntries())}catch(t){console.error("[page.important] failed to check for more entries",t)}},this._continuation=null,this.state={error:"",entries:[],curationStates:[],hasAllEntries:!1,isLoadingEntries:!1}}async componentDidMount(){this.feedly=streets.service("feedly"),this.reader=streets.service("reader"),this.mltopicdatasets=streets.service("mltopicdatasets"),this.reader.registerObserver(this),this._scrollTarget=this.feedly.getMainScrollTarget(),this._updateEntries(),this._throttledCheckMoreEntriesNeeded=D()(this._checkMoreEntriesNeeded,200),this._scrollTarget.addEventListener("scroll",this._throttledCheckMoreEntriesNeeded)}componentDidUpdate(e){const{isLoadingEntries:t}=this.state,{curationMode:s,customListId:n,streamId:i,unlabeledOnly:r}=this.props;e.streamId===i&&e.curationMode===s&&e.customListId===n&&e.unlabeledOnly===r||this._clearStream(),this._doCheckIfMoreEntriesNeeded&&!t&&(this._doCheckIfMoreEntriesNeeded=!1,this._throttledCheckMoreEntriesNeeded())}componentWillUnmount(){this.reader.unregisterObserver(this),this.feedly=null,this.reader=null,this.mltopicdatasets=null,this._continuation=null,this._scrollTarget.removeEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this._scrollTarget=null,this._throttledCheckMoreEntriesNeeded=null}render(){const{curationStates:e,entries:t,error:s,focusSelectedEntry:i,inlinedEntryId:r,isLoadingEntries:a,hasAllEntries:o,selectedEntryId:l}=this.state,{curationMode:c,topicDatasetId:d}=this.props;return s?n.createElement("p",{className:"color-danger"},s):a&&0===t.length?n.createElement(A.g,{details:"articles"}):0===t.length&&o?n.createElement(z.ub,{description:`There are no entries for ${c}.`,illustration:R,illustrationDark:F}):0===t.length?null:n.createElement(L,{entries:t,focusSelectedEntry:i,curationStates:e,topicDatasetId:d,inlinedEntryId:r,isLoading:a,selectedEntryId:l,hasAllEntries:o,onNavigationChanged:this.onNavigationChanged,loadCurationStates:c===v.PG.streamSelect})}_clearStream(){this._continuation=null,this.setState({entries:[],hasAllEntries:!1},(()=>this._updateEntries()))}_updateEntries(){const{curationMode:e}=this.props;this.state.hasAllEntries||(e===v.PG.streamSelect?this._askStreamEntries():this._askDatasetEntries())}async _askDatasetEntries(){const{curationMode:e,customListId:t,topicDatasetId:s,unlabeledOnly:n}=this.props;this.setState({isLoadingEntries:!0});try{const{continuation:i,items:r=[]}=await this.mltopicdatasets.askListDatasetEntries({continuation:this._continuation,curationMode:e===v.PG.reviewAll?"":e,customListId:t,topicDatasetId:s,unlabeledOnly:n}),a=this.props.curationMode;this._continuation=i;const o=r.length?await this.reader.askLookupEntries(r.map((e=>e.entryId))):[];if(a!==this.props.curationMode)return;this.setState((({entries:e,curationStates:t})=>({entries:e.concat(o),curationStates:t.concat(r),hasAllEntries:null==i,isLoadingEntries:!1})))}catch(i){this.setState({error:`Could not fetch entries: ${i.message}`,isLoadingEntries:!1})}}async _askStreamEntries(){const{streamId:e}=this.props;if(e){this.setState({isLoadingEntries:!0});try{const{entries:t,continuation:s}=await this.reader.askMoreEntries(e,{unreadOnly:!1},40,this._continuation);this._continuation=s,this.setState((({entries:e})=>({entries:e.concat(t),error:"",hasAllEntries:null==s,isLoadingEntries:!1})))}catch(t){this.setState({error:`Could not fetch entries: ${t.message}`,isLoadingEntries:!1})}}}}j.propTypes={curationMode:r().string.isRequired,customListId:r().string,streamId:r().string,topicDatasetId:r().string.isRequired,unlabeledOnly:r().bool},j.defaultProps={customListId:"",streamId:"",unlabeledOnly:!1};var U=s(89401),B=s(98521);class H extends n.Component{constructor(...e){super(...e),this._renderEntries=({entries:e,hasAllEntries:t,isLoading:s})=>{const{topicDatasetId:i}=this.props;return n.createElement(L,{topicDatasetId:i,entries:e,hasAllEntries:t,isLoadingEntries:s,loadCurationStates:!0})}}render(){const{pageInfo:e,topicDatasetId:t}=this.props;return n.createElement(U.pj,{entryRenderer:this._renderEntries,isTopicModeler:!0,pageInfo:e,topicDatasetId:t})}}H.propTypes={pageInfo:r().shape({beyondSearchOptions:B.ys}),topicDatasetId:r().string.isRequired},H.defaultProps={pageInfo:{}};s(88182);var Y=s(74221);class Z extends n.Component{constructor(e){super(e),this._onStreamIdChange=async e=>{const t=-1!==e.indexOf(v.IH)?decodeURIComponent(e):e,s=await this._askStreamLabel(t);this.setState({isLoading:!1,label:s,streamId:t})},this._onLabelChange=e=>{this.setState({label:e})},this.state={isLoading:!1,label:"",streamId:""}}render(){const{isLoading:e,label:t,streamId:s}=this.state,{onAddSource:i}=this.props;return n.createElement("div",{className:"TopicDefineTab__source-menu form"},n.createElement("div",{className:"field"},n.createElement("label",{htmlFor:"stream-id"},"Source or Feed Id"),n.createElement(a.At,{id:"stream-id",autoFocus:!0,clearable:!0,onChange:this._onStreamIdChange,onKeyPress:e=>{"Enter"===e.key&&i({id:s,label:t})},placeholder:"e.g. feed/http://feeds.feedburner.com/Techcrunch",type:"text",value:s}),n.createElement("label",{className:"m-t-1",htmlFor:"stream-label"},"Label"),n.createElement(a.At,{id:"stream-label",clearable:!0,onChange:this._onLabelChange,onKeyPress:e=>{"Enter"===e.key&&i({id:s,label:t})},placeholder:"e.g. TechCrunch",type:"text",value:t})),n.createElement(o.zx,{disabled:!s||e,label:"Add",loading:e,onClick:()=>{i({id:s,label:t})}}),n.createElement(o.zx,{label:"Cancel",onClick:this.props.onCancel,importance:"secondary"}))}async _askStreamLabel(e){const{isTag:t,isCategory:s,isFeed:n}=(0,Y.Yg)(e);if(!t&&!s&&!n)return"";if(this.setState({isLoading:!0}),t){return(await streets.service("tags").askLabelsIndex())[e]}if(s){return(await streets.service("collections").askLabelsIndex())[e]}return(await streets.service("feeds").askMetadata(e)).title}}Z.propTypes={onAddSource:r().func.isRequired,onCancel:r().func.isRequired};var W=s(40280),$=s(55015),q=s(46291);class V extends n.Component{constructor(e){super(e),this._renderAliases=()=>{const{aliases:e,isPopoverOpen:t,newAlias:s}=this.state;return n.createElement("div",{className:"TopicDefineTab__aliases",ref:this._offsetParent},e.map((e=>n.createElement($.A,{className:"TopicDefineTab__keyword-chip",key:e,deletable:!0,onClick:()=>{this._onDeleteAlias(e)}},e))),n.createElement(o.zx,{className:"p-x-h m-b-t",color:"accent",elementRef:this._target,icon:n.createElement(p.Z,{color:"accent"}),importance:"tertiary",onClick:this._onOpenPopover,title:"Add alias"}),t&&n.createElement(q.J,{align:"middle",caret:!0,onClose:this._onClosePopover,offsetParent:this._offsetParent,position:"right",target:this._target},n.createElement(a.At,{id:"newAlias",autoFocus:!0,className:"InputMenu__input m-b-0",clearable:!0,onChange:this._onAliasChange,onFocus:this._onToggleEditMode,onKeyPress:e=>{"Enter"===e.key&&this._onAddAlias(s)},placeholder:0===e.length?"Add an Alias":"",type:"text",value:s})))},this._onAliasChange=e=>{this.setState({newAlias:e})},this._onClosePopover=()=>{this.setState({isPopoverOpen:!1})},this._onDeleteAlias=e=>{const{aliases:t}=this.state,s=t.filter((t=>t!==e));this.setState({aliases:s,isEditing:!0})},this._onDescriptionChange=e=>{this.setState({isEditing:!0,description:e})},this._onLabelChange=e=>{this.setState({isEditing:!0,label:e})},this._onOpenPopover=()=>{this.setState({isPopoverOpen:!0})},this._target=n.createRef(),this._offsetParent=n.createRef();const{datasetInfo:{name:t,autocompleteInfo:{aliases:s=[],label:i=t,description:r=""}={}}}=e;this.state={aliases:s,description:r,isEditing:!1,isPopoverOpen:0===s.length,label:i,newAlias:""}}componentDidMount(){this.mltopicdatasets=streets.service("mltopicdatasets")}componentWillUnmount(){this.mltopicdatasets=null}render(){const{aliases:e,description:t,isEditing:s,label:i}=this.state;return n.createElement("div",{className:"form"},n.createElement(W.H2,{sub:"Short description to show in search results and list of aliases (synonyms) for the topic"},"Auto-complete Info"),n.createElement("div",{className:"field"},n.createElement("label",{className:"required m-b-h",htmlFor:"topic-label"},"Label"),n.createElement(a.At,{className:"m-b-1",onChange:this._onLabelChange,onFocus:this._onToggleEditMode,type:"text",value:i}),n.createElement("label",{className:"m-b-h",htmlFor:"topic-description"},"Description"),n.createElement(a.At,{className:"m-b-1",onChange:this._onDescriptionChange,onFocus:this._onToggleEditMode,placeholder:"Short topic description",type:"text",value:t}),n.createElement("label",{className:"m-b-h",htmlFor:"topic-aliases"},"Aliases"),this._renderAliases(),n.createElement(o.zx,{key:"submit",className:"m-t-1",disabled:!s,label:"Update Auto-complete Info",onClick:()=>{this._onSaveDatasetInfo({aliases:e,description:t,label:i})}})))}_onAddAlias(){const{aliases:e,newAlias:t}=this.state,s=e.concat([t]);this.setState({aliases:s,isEditing:!0,isPopoverOpen:!1,newAlias:""})}async _onSaveDatasetInfo(e){const{datasetInfo:{name:t,resourceId:s},topicDatasetId:n}=this.props;this.setState({isLoading:!0});try{await this.mltopicdatasets.askUpdateDatasetInfo({topicDatasetId:n,datasetInfo:{name:t,resourceId:s,autocompleteInfo:e}}),this.setState({isEditing:!1,isLoading:!1})}catch(i){streets.service("signs").setErrorMessage(`Error: ${i.message}`),this.setState({isEditing:!1,isLoading:!1})}}}V.propTypes={datasetInfo:r().shape({name:r().string,resourceId:r().string,autocompleteInfo:r().shape({aliases:r().arrayOf(r().string),description:r().string,label:r().string})}),topicDatasetId:r().string.isRequired},V.defaultProps={datasetInfo:{}};var G=s(56157),Q=s(83442),K=s(71906),J=s(99166);const X=Object.freeze({topic:{label:"Topic",id:"topic"},businessEvent:{label:"Business Event",id:"businessEvent"},entity:{label:"Entity",id:"entity"},all:{label:"All",id:"all"}});class ee extends n.Component{constructor(e){super(e),this._renderFilterDropdown=()=>{const{filterMode:e}=this.state;return n.createElement("div",{className:"TopicModeler__mode-select"},n.createElement(J.P,{borderless:!0,className:"m-y-h",items:Object.values(X),labelKey:"label",onItemSelect:this._onFilterChange,prefix:"Filter by: ",size:"small",value:e.label}))},this._onFilterChange=e=>{this.setState({filterMode:e})},this._computeDatasets=()=>{const{datasets:e}=this.props;return e.reduce(((e,t)=>{const{numMuteFilters:s,numNegativeExamples:n,numNegativeFeedback:i,numPositiveExamples:r,numPositiveFeedback:a,numPriorities:o,resourceId:l}=t,c=n+r,d=i+a,h=s+o,u=l?l.split("/")[2]:null,p={...t,totalExamples:c,totalFeedback:d,totalUsage:h};return u&&e[u].push(p),e.all.push(p),e}),{topic:[],businessEvent:[],entity:[],all:[]})},this.state={datasetGroups:this._computeDatasets(),filterMode:X.topic}}render(){const{onEditDataset:e}=this.props,{datasetGroups:t,filterMode:s}=this.state;return n.createElement(n.Fragment,null,this._renderFilterDropdown(),n.createElement(K.OY,{data:t[s.id],flexLayout:!0,uniqueKey:"id"},n.createElement(K.Kk,{header:"Name",initialSortDirection:K.Sr.ASC,sortProperty:"name",cell:e=>n.createElement(K.aH,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement("div",{className:"col-no-flex"},n.createElement(G.Z,{importance:"secondary"})),n.createElement("div",null,n.createElement("div",{className:u()("item-header","item-header--normal-case","item-header--word-wrap")},e.name," "),n.createElement("div",{className:u()("item-header--normal-case","item-header--word-wrap")},e.resourceId||""))))}),n.createElement(K.Kk,{centered:!0,header:"Examples",sortProperty:"totalExamples",width:175,cell:({numNegativeExamples:e,numPositiveExamples:t})=>n.createElement(K.aH,{className:"TopicDatasetsTable__cell--centered va-middle"},n.createElement("div",{className:"TopicDatasetsTable__data TopicDatasetsTable__data--positive"},`${t} +`),n.createElement("div",{className:"m-x-h"},"/"),n.createElement("div",{className:"TopicDatasetsTable__data"},`${e} -`))}),n.createElement(K.Kk,{centered:!0,header:"Feedback",sortProperty:"totalFeedback",width:175,cell:({numNegativeFeedback:e,numPositiveFeedback:t})=>n.createElement(K.aH,{className:"TopicDatasetsTable__cell--centered va-middle"},n.createElement("div",{className:"TopicDatasetsTable__data TopicDatasetsTable__data--positive"},`${t} +`),n.createElement("div",{className:"m-x-h"},"/"),n.createElement("div",{className:"TopicDatasetsTable__data"},`${e} -`))}),n.createElement(K.Kk,{centered:!0,header:"Usage",sortProperty:"totalUsage",width:175,cell:({numMuteFilters:e,numPriorities:t})=>n.createElement(K.aH,{className:"TopicDatasetsTable__cell--centered va-middle"},n.createElement("div",{className:"TopicDatasetsTable__data TopicDatasetsTable__data--positive"},t),n.createElement("div",{className:"m-x-h"},"/"),n.createElement("div",{className:"TopicDatasetsTable__data"},e))}),n.createElement(K.hN,{header:"",width:75,style:{justifyContent:"flex-end",textAlign:"right"},cell:t=>n.createElement(K.aH,{className:"va-middle"},n.createElement(o.zx,{icon:n.createElement(Q.Z,{importance:"tertiary"}),importance:"secondary",onClick:()=>e(t)}))})))}}ee.propTypes={onEditDataset:r().func,datasets:r().arrayOf(r().object).isRequired},ee.defaultProps={onEditDataset:()=>{}};var te=s(22735);class se extends n.Component{constructor(e){super(e),this._onCancelClick=e=>{e.stopPropagation(),this.setState({isEditing:!1})},this._onToggleEditMode=()=>{this.setState({isEditing:!0})},this._onSubmit=e=>{e.stopPropagation();const{onSaveDatasetInfo:t}=this.props;t(),this.setState({isEditing:!1})},this.state={isEditing:!1}}render(){const{isEditing:e}=this.state,{curationInfo:{definition:t}={},onEditorStateChange:s}=this.props;return n.createElement(n.Fragment,null,n.createElement(W.H2,null,"Definition"),n.createElement("div",{className:"form",onClick:this._onToggleEditMode},n.createElement(te.K,{className:"field",onChange:s,placeholder:"Define this topic...",rows:5,value:t})),e&&[n.createElement(o.zx,{key:"submit",disabled:!t,label:"Update",onClick:this._onSubmit}),n.createElement(o.zx,{key:"cancel",label:"Cancel",onClick:this._onCancelClick,importance:"secondary"})])}}se.propTypes={curationInfo:r().shape({definition:r().string}).isRequired,onEditorStateChange:r().func.isRequired,onSaveDatasetInfo:r().func.isRequired};var ne=s(81593);const ie=Object.freeze({positiveKeywords:"Positive markers for this topic",negativeKeywords:"Negative markers for this topic"}),re=Object.freeze({positiveKeywords:"Related Keywords",negativeKeywords:"Keywords to Exclude"});class ae extends n.Component{constructor(e){super(e),this._onClosePopover=()=>{this.setState({isPopoverOpen:!1})},this._onDeleteKeyword=e=>{const{datasetInfo:{curationInfo:t={}},keywordType:s}=this.props,n=t[s].filter((t=>t!==e));this._onSaveDatasetInfo(n)},this._onKeywordChange=e=>{this.setState({keyword:e})},this._onOpenPopover=()=>{this.setState({isPopoverOpen:!0})},this._onAddKeyword=async e=>{const{datasetInfo:{curationInfo:t={}},keywordType:s}=this.props,n=t[s]||[];this.setState({isLoading:!0}),this._onSaveDatasetInfo([...n,e]),this._onClosePopover()},this._target=n.createRef(),this._offsetParent=n.createRef(),this.state={isLoading:!1,isPopoverOpen:!1,keyword:""}}componentDidMount(){this.mltopicdatasets=streets.service("mltopicdatasets")}componentWillUnmount(){this.mltopicdatasets=null}render(){const{datasetInfo:{curationInfo:e={}},keywordType:t}=this.props,{isLoading:s,isPopoverOpen:i,keyword:r}=this.state,l=e[t]||[];return n.createElement("div",null,n.createElement("div",{className:"TopicDefineTab__header",ref:this._offsetParent},n.createElement(W.H2,{sub:ie[t]},n.createElement(o.zx,{className:"right floated",elementRef:this._target,disabled:i&&!r,importance:i?"primary":"secondary",label:i?"Add":"Add Keyword",loading:s,onClick:i?()=>this._onAddKeyword(r):this._onOpenPopover}),re[t]),i&&n.createElement(q.J,{align:"middle",offsetParent:this._offsetParent,onClose:this._onClosePopover,position:"left",target:this._target},n.createElement(a.At,{id:"keyword",autoFocus:!0,clearable:!0,onChange:this._onKeywordChange,onKeyPress:e=>{"Enter"===e.key&&this._onAddKeyword(r)},type:"text",value:r}))),!!l.length&&n.createElement("div",null,l.map((e=>n.createElement($.A,{className:"TopicDefineTab__keyword-chip",key:e,deletable:!0,onClick:()=>this._onDeleteKeyword(e)},n.createElement(ne.Z,{className:"m-r-1",importance:"secondary"}),e)))))}async _onSaveDatasetInfo(e){const{datasetInfo:{name:t,resourceId:s},keywordType:n,topicDatasetId:i}=this.props;try{await this.mltopicdatasets.askUpdateDatasetInfo({topicDatasetId:i,datasetInfo:{name:t,resourceId:s,curationInfo:{[n]:e}}}),this.setState({isLoading:!1,keyword:""})}catch(r){streets.service("signs").setErrorMessage(`Error: ${r.message}`),this.setState({isLoading:!1})}}}ae.propTypes={datasetInfo:r().shape({name:r().string,resourceId:r().string,curationInfo:r().shape({positiveKeywords:r().arrayOf(r().string),negativeKeywords:r().arrayOf(r().string)})}),keywordType:r().string.isRequired,topicDatasetId:r().string.isRequired},ae.defaultProps={datasetInfo:{}};var oe=s(39908),le=s(11505),ce=s(55024);const de=Object.freeze({Golden:"The best sources about this topic",QA:"Sources to test this topic"}),he=Object.freeze({Golden:"goldenStreams",QA:"qaStreams"});class ue extends n.Component{constructor(e){super(e),this._onAddSource=async e=>{const{sources:t}=this.props;this._onSaveDatasetInfo([...t,e]),this._onClosePopover()},this._onClosePopover=()=>{this.setState({isPopoverOpen:!1})},this._onCloseConfirmDeleteModal=()=>{this.setState({isConfirmDeleteModalOpen:!1,sourceIdToDelete:""})},this._onConfirmDeleteSource=async()=>{const{sources:e}=this.props,{sourceIdToDelete:t}=this.state,s=e.filter((e=>e.id!==t));this._onSaveDatasetInfo(s),this._onCloseConfirmDeleteModal()},this._onOpenConfirmDeleteModal=e=>{this.setState({isConfirmDeleteModalOpen:!0,sourceIdToDelete:e.id})},this._onOpenPopover=()=>{this.setState({isPopoverOpen:!0})},this._target=n.createRef(),this._offsetParent=n.createRef(),this.state={isPopoverOpen:!1,isConfirmDeleteModalOpen:!1}}componentDidMount(){this.mltopicdatasets=streets.service("mltopicdatasets")}componentWillUnmount(){this.mltopicdatasets=null}render(){const{sources:e,sourceType:t}=this.props,{isConfirmDeleteModalOpen:s,isPopoverOpen:i}=this.state;return n.createElement(n.Fragment,null,n.createElement("div",{className:"TopicDefineTab__header",ref:this._offsetParent},n.createElement(W.H2,{sub:`${de[t]}`},n.createElement(o.zx,{className:"right floated",elementRef:this._target,importance:"secondary",label:"Add Source",onClick:this._onOpenPopover}),`${t} Sources`),i&&n.createElement(q.J,{align:"end",offsetParent:this._offsetParent,onClose:this._onClosePopover,position:"bottom",target:this._target},n.createElement(Z,{onCancel:this._onClosePopover,onAddSource:this._onAddSource}))),!!e.length&&n.createElement(K.OY,{data:e,flexLayout:!0,uniqueKey:"id"},n.createElement(K.Kk,{header:"Source",initialSortDirection:K.Sr.ASC,sortProperty:"label",cell:e=>n.createElement(K.aH,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement(oe.Z,{className:"col-no-flex",importance:"secondary"}),n.createElement("div",{className:"item-header item-header--normal-case item-header--word-wrap"},e.label)))}),n.createElement(K.Kk,{header:"id",initialSortDirection:K.Sr.ASC,sortProperty:"id",cell:e=>n.createElement(K.aH,{className:"va-middle"},n.createElement("div",{className:"item-header--light item-description item-header--word-wrap"},e.id))}),n.createElement(K.hN,{header:"",width:75,cell:e=>n.createElement(K.aH,null,n.createElement(o.zx,{className:"right floated",importance:"secondary",icon:n.createElement(le.Z,{importance:"tertiary"}),onClick:()=>{this._onOpenConfirmDeleteModal(e)}}))})),s&&n.createElement(ce.cV,{cancelLabel:"No, keep this source",className:"small",onCancel:this._onCloseConfirmDeleteModal,onSuccess:this._onConfirmDeleteSource,successLabel:"Delete",title:"Are you sure you want to remove this source?"}))}async _onSaveDatasetInfo(e){const{datasetInfo:{name:t,resourceId:s},sourceType:n,topicDatasetId:i}=this.props;try{await this.mltopicdatasets.askUpdateDatasetInfo({topicDatasetId:i,datasetInfo:{name:t,resourceId:s,curationInfo:{[he[n]]:e}}})}catch(r){streets.service("signs").showError(`Error: ${r.message}`)}}}ue.propTypes={datasetInfo:r().shape({name:r().string,resourceId:r().string,curationInfo:r().shape({goldenStreams:r().arrayOf(r().shape({id:r().string,label:r().string})),qaStreams:r().arrayOf(r().shape({id:r().string,label:r().string}))})}),sources:r().arrayOf(r().shape({id:r().string,label:r().string})),sourceType:r().string.isRequired,topicDatasetId:r().string.isRequired},ue.defaultProps={datasetInfo:{},sources:[]}},86702:(e,t,s)=>{"use strict";s.d(t,{w:()=>u});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a),l=s(50240),c=s(11459),d=s(40280),h=s(77817);class u extends n.Component{constructor(e){super(e),this._onTweetClick=()=>{const{layout:e}=this.props,t=e===c.Ar.fullArticle;this.setState((()=>t?{isHidden:!0}:null),this.props.onClick)},this._onTweetIconClick=e=>{const{tweet:{link:t}}=this.props;window.open(t,"_blank"),e.preventDefault(),e.stopPropagation()},this.state={isHidden:!1}}render(){const{layout:e,tweet:{authorName:t,authorHandle:s,content:i,icon:r}}=this.props;if(!i||this.state.isHidden)return null;const a={TweetInfo:!0,"TweetInfo--fullArticle":e===c.Ar.fullArticle},u=e===c.Ar.fullArticle?n.createElement("span",null,n.createElement("strong",null,t)," ",n.createElement("span",null,s)):n.createElement("span",null,s);return n.createElement("div",null,e===c.Ar.fullArticle&&n.createElement(d.H2,{appearance:"h4"},"Tweet")," ",n.createElement("div",{className:o()(a),onClick:this._onTweetClick},n.createElement("div",{className:"TweetInfo__author"},r&&n.createElement(h.q,{url:r,className:"TweetInfo__author-avatar",iconSize:12}),u,n.createElement(l.Z,{importance:"secondary",className:"TweetInfo__icon",onClick:this._onTweetIconClick})),n.createElement("div",{className:"TweetInfo__content"},i," ")))}}u.propTypes={layout:r().oneOf(c.tv),tweet:r().shape({authorName:r().string,authorHandle:r().string,content:r().string}).isRequired,onClick:r().func},u.defaultProps={layout:c.Ar.fullArticle,onClick:()=>{}}},23633:(e,t,s)=>{"use strict";s.d(t,{n:()=>d});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(35610),c=s(77817);const d=e=>{const{includeLogins:t,user:{email:s,familyName:n,fullName:i,givenName:a,isAdmin:d,logins:h,name:u,picture:p}}=e;return r.createElement("div",{className:"user item-with-visuals"},r.createElement(c.q,{alt:u||s,className:o()("item-image",{"inset role-admin":d}),url:(0,l.w6)(p),iconSize:28}),r.createElement("div",null,r.createElement("div",{className:"item-header"},u||i||`${a} ${n}`),r.createElement("div",{className:"item-meta"},s),t&&h&&r.createElement("div",{className:"item-extra"},h.map((e=>e===s?null:r.createElement("div",{key:e},e))))))};d.propTypes={includeLogins:i().bool,user:i().shape({email:i().string,familyName:i().string,fullName:i().string,givenName:i().string,isAdmin:i().bool,logins:i().arrayOf(i().string),name:i().string,picture:i().string}).isRequired},d.defaultProps={includeLogins:!1}},62066:(e,t,s)=>{"use strict";s.d(t,{M:()=>l});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a);class l extends r.Component{render(){let e,t={"count-velocity":!0};return this.props.classes&&Object.assign(t,this.props.classes),this.props.className&&this.props.className.split(" ").forEach((e=>{t[e]=!0})),null===this.props.count||isNaN(this.props.count)?null:(e=this.props.count<.25?"1 article per month":this.props.count<2?"1 article per week":Math.ceil(this.props.count)+" articles per week",r.createElement("span",{className:o()(t),title:this.props.count,"data-count":this.props.count},e))}}l.propTypes={count:i().number,classes:i().object,className:i().string}},88175:(e,t,s)=>{"use strict";s.d(t,{s:()=>m,S:()=>S});var n=s(60216),i=s.n(n),r=s(32735),a=s(75320),o=s(99442),l=s(89401),c=s(40280),d=s(6931),h=s(95192),u=s(99348),p=s(15859);class m extends r.Component{constructor(e){super(e),this._onTitleChange=e=>{this.setState({title:e})},this._getBucketType=e=>{const t=e[0];let s;return s=t&&t.startsWith(a.zb)?a.Zx.cybersecurity:t&&t.startsWith(a._s)?a.Zx.biopharma:a.Zx.industryIntelligence,s},this.state={title:this.props.webAlertTitle,beyondSearchOptions:null}}async componentDidMount(){const{webAlertId:e}=this.props;this.alerts=streets.service("alerts");try{const t=await this.alerts.askInfo(e),[s,...n]=t.layers.filter((e=>"publicationType"!==e.type)).map((e=>({...e,parts:e[o.y9[e.type]]}))),{publicationBuckets:i,velocitySetting:r}=t.source.publications;this.setState({beyondSearchOptions:{beyondBucketType:this._getBucketType(i),beyondDefaultPublications:i,beyondLayers:n,beyondMainSearchLayer:s,beyondTierLevel:r},isV1:!r})}catch(t){console.error("error getting web alert info",t)}}render(){const{disableRedirect:e,onDone:t,feedId:s,webAlertId:n,webAlertTitle:i}=this.props,{beyondSearchOptions:a,isV1:o,title:m}=this.state;return o?r.createElement("div",{className:"EditWebAlertForm fx"},r.createElement(u.ub,{description:r.createElement(h.x,{size:"large"},"This beta Web Alert is being migrated and will be editable in a few weeks."),illustration:p})):a?r.createElement("div",{className:"EditWebAlertForm fx"},r.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},r.createElement("div",{className:"field"},r.createElement(c.H2,{appearance:"h1",className:"m-t-0",kicker:"Leo Web Alert"},i),r.createElement(h.x,{className:"EditWebAlertForm__label",htmlFor:"web-alert-title",size:"large"},"What do you want to name this alert?"),r.createElement(d.At,{id:"web-alert-title",onChange:this._onTitleChange,placeholder:"Name",value:m}))),r.createElement(l.pj,{disableRedirect:e,feedId:s,isWebAlertForm:!0,onDoneEditing:t,pageInfo:{beyondSearchOptions:a},webAlertFormTitle:m,webAlertFormId:n})):null}}m.propTypes={disableRedirect:i().bool,feedId:i().string.isRequired,onDone:i().func.isRequired,webAlertId:i().string.isRequired,webAlertTitle:i().string.isRequired},m.defaultProps={disableRedirect:!1};var g=s(24443),f=s.n(g),y=s(83442),v=s(2222),b=s(93023),E=s(65698),C=s(35093),w=s(79199),k=s(28576),_=s(56962),M=s(23005);class S extends r.Component{constructor(e){super(e),this._renderEntityCauses=()=>{const{entry:e}=this.props,{webAlertInfo:t}=this.state,s=e.findRelevantCausedEntities(t);if(s.length){const e=s[0].causes.slice(0,3);return this._renderTerms(e," This article mentions ",!0)}return null},this.state={isLoading:!1,webAlertInfo:e.initialWebAlert}}componentDidMount(){this._updateWebAlertInfo()}render(){const{onRefineClick:e}=this.props,{isLoading:t,webAlertInfo:{streamId:s,title:n,searchTerms:{parts:i=[]}={}}={}}=this.state;return t?r.createElement(M.g,null):i.length?r.createElement("div",{className:"WebAlertExplanation"},r.createElement("p",{className:"WebAlertExplanation__description"},"This Web Alert tracks articles about ",this._renderTerms(i),this._renderEntityCauses()),r.createElement(k.v2,{className:"WebAlertExplanation__menu"},r.createElement(k.sN,{onClick:()=>{e({feedId:s,webAlertId:(0,b.kW)(s),webAlertTitle:n})}},r.createElement(y.Z,{importance:"secondary"}),r.createElement("div",{className:"WebAlertExplanation__item-label"},"Refine Web Alert")))):null}_renderPart({label:e,type:t},s){const n=t===C.w7?`${f()(e)}`:e,i=C.XA[t];return r.createElement("span",{className:"WebAlertExplanation__keyword",key:`${e}`},!s&&r.createElement(i,{className:"WebAlertExplanation__keyword-icon"}),n)}_renderTerms(e,t,s=!1){const{entry:n}=this.props;if(!e||0===e.length)return[];const i=e.reduce(((e,t)=>{if(t.id&&t.id.startsWith(a.aJ))return e;const i=s?t:n.findSearchTermFullInfo(t),r=(0,E.FW)(i),o=(0,v.Ao)(i);return e.push(this._renderPart({id:i.id,label:o,type:r},s)),e}),[]);return r.createElement(r.Fragment,null,t,r.createElement(_.S,null,i),".")}async _updateWebAlertInfo(){const{initialWebAlert:{streamId:e,searchTerms:t},initialWebAlert:s}=this.props;if(t)return;this.setState({isLoading:!0});const n=(await streets.service("alerts").askInfo((0,b.kW)(e))).layers.reduce(((e,t)=>t.parts?e.concat(t.parts):e),[]);this.setState({isLoading:!1,webAlertInfo:{...s,searchTerms:{parts:n}}})}}S.propTypes={entry:w.A.isRequired,onRefineClick:i().func.isRequired,initialWebAlert:i().shape({title:i().string,searchTerms:i().shape({parts:i().arrayOf(i().object)}),streamId:i().string}).isRequired}},39970:(e,t,s)=>{"use strict";s.d(t,{L:()=>l});var n=s(60216),i=s.n(n),r=s(32735);const a=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,o={div:"div",fragment:"fragment",span:"span"};class l extends r.Component{render(){const{caseSensitive:e,firstOccurance:t,fullword:s,text:n,wordClassName:i}=this.props;let{words:o}=this.props;const l=[];if(!n||!o||!o.length)return this._renderWrapper(n);"string"==typeof o?o=[o]:(o=o.slice(),o.sort(((e,t)=>e.length<t.length)));const c=o.reduce(((e,t)=>{if(t){let n=t.replace(a,"\\$&");s&&(n="\\b"+n+"\\b"),e.push(n)}else console.warn(`[WordClassNameApplier] Invalid option '${t}' in \`words\` array.`);return e}),[]);let d,h,u=0;const p=new RegExp(c.join("|"),e?"g":"gi");for(;(d=p.exec(n))&&(h=d[0],u!==d.index&&l.push(n.substring(u,d.index)),l.push(r.createElement("span",{key:d.index,className:i},h)),u=d.index+h.length,!t););return u!==n.length&&l.push(n.substring(u)),this._renderWrapper(l)}_renderWrapper(e){const{className:t,wrapper:s}=this.props;return s===o.span?r.createElement("span",{className:t},e):s===o.fragment?r.createElement(r.Fragment,null,e):r.createElement("div",{className:t},e)}}l.propTypes={caseSensitive:i().bool,className:i().string,firstOccurance:i().bool,fullword:i().bool,text:i().string,wordClassName:i().string.isRequired,words:i().oneOfType([i().arrayOf(i().string),i().string]),wrapper:i().oneOf(Object.values(o))},l.defaultProps={caseSensitive:!1,className:void 0,firstOccurance:!1,fullword:!1,text:"",wrapper:"div",words:void 0}},11681:(e,t,s)=>{"use strict";s.d(t,{OH:()=>l,dR:()=>m,xJ:()=>d,dy:()=>$,OX:()=>q,h1:()=>V,ot:()=>ce,fy:()=>Me,NL:()=>xe,M5:()=>Ae,oo:()=>ze,HX:()=>Ye,VP:()=>We});var n=s(32735),i=s(60216),r=s.n(i),a=s(16847),o=s(87272);function l({entry:e,onClose:t,streamId:s,topic:i}){return n.createElement($,{className:"CommonTopicDrawer",onClose:t},n.createElement(q,null,(0,a.Fb)(i.label),n.createElement(V,null,"Smart Topic")),n.createElement(o.f,{entry:e,onClose:t,part:i,streamId:s}))}l.propTypes={topic:r().shape({id:r().string,label:r().string}).isRequired,entry:r().shape({getMostRelevantPriority:r().function}).isRequired,onClose:r().func.isRequired,streamId:r().string},l.defaultProps={streamId:void 0};var c=s(47264);class d extends n.Component{constructor(){super(),this._onClose=()=>{this.drawer&&this.drawer.current&&this.drawer.current.close()},this._onConfirmClick=async()=>{await this.props.onClick(),this._onClose()},this.drawer=n.createRef()}render(){const{actionColor:e,actionLabel:t,body:s,description:i,isLoading:r,onCloseDrawer:a,title:o}=this.props;return n.createElement($,{onClose:a,ref:this.drawer},n.createElement("div",{className:"Drawer__header"},o),i&&n.createElement("p",{className:"m-a-0"},i),s,n.createElement(c.zx,{className:"full-width m-b-h m-t-1",color:e,loading:r,label:t,onClick:this._onConfirmClick}),n.createElement(c.zx,{className:"full-width",importance:"secondary",label:"Cancel",onClick:this._onClose}))}}d.propTypes={actionLabel:r().string.isRequired,actionColor:r().string,body:r().element,description:r().string,isLoading:r().bool,onClick:r().func.isRequired,onCloseDrawer:r().func,title:r().string.isRequired},d.defaultProps={actionColor:"accent",body:null,description:"",isLoading:!1,onCloseDrawer:()=>{}};var h=s(40280),u=s(97090),p=s(2366);function m({isFilter:e,isLegacy:t,isPriority:s,leoTopicToDelete:i,onCloseDeleteDrawer:r,onDeleteConfirmClick:a}){let o;return s?o=i.label:e&&(o=t?i.searchQuery:i.term.label||i.term.text),n.createElement($,{onClose:r},n.createElement(h.H2,{appearance:"h3",className:"ConfirmDeleteLeoTopicDrawer__header p-l-0 m-b-0 m-t-t"},"Are you sure you want to remove ",o,"?"),n.createElement("p",{className:"ConfirmDeleteLeoTopicDrawer__sub m-b-t m-t-t"},"This is permanent and can't be undone."),n.createElement(c.zx,{color:"danger",className:"ConfirmDeleteLeoTopicDrawer__button",label:"Delete",onClick:()=>a(i)}),n.createElement(c.zx,{className:"ConfirmDeleteLeoTopicDrawer__button",label:"No, keep this "+(s?"priority":"filter"),onClick:r,importance:"secondary"}))}m.propTypes={isFilter:r().bool,isLegacy:r().bool,isPriority:r().bool,leoTopicToDelete:r().oneOfType([p.Kv,u.tm]).isRequired,onCloseDeleteDrawer:r().func.isRequired,onDeleteConfirmClick:r().func.isRequired},m.defaultProps={isFilter:!1,isLegacy:!1,isPriority:!1};var g=s(40841),f=s.n(g),y=s(71262);const v=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-sanfrancisco_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-sanfrancisco_svg__c",d:"M25.216 36l-1.982-5.646h-7.848L13.404 36H10.82l7.273-19.729h2.434L27.8 36h-2.584zM19.27 19.266l-3.158 8.996h6.398l-3.158-8.996h-.082zm15.928 14.629c2.474 0 4.129-2.038 4.129-5.06 0-3.02-1.655-5.085-4.13-5.085-2.447 0-4.046 2.01-4.046 5.086 0 3.076 1.6 5.059 4.047 5.059zm.082 7.464c-3.131 0-5.606-1.763-6.002-4.183h2.447c.465 1.299 1.873 2.16 3.65 2.16 2.461 0 3.952-1.422 3.952-3.541v-2.242h-.055C38.396 35.098 36.714 36 34.718 36c-3.595 0-6.002-2.857-6.002-7.164 0-4.348 2.407-7.191 6.057-7.191 2.01 0 3.678.888 4.621 2.447h.041v-2.31h2.27v13.93c0 3.392-2.502 5.647-6.426 5.647z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-sanfrancisco_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-sanfrancisco_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-sanfrancisco_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-sanfrancisco_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-sanfrancisco_svg__c"}))))}));const b=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-roboto_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-roboto_svg__c",d:"M22.795 30.873h-7.492L13.526 36h-2.748l7.178-19.906h2.31L27.294 36h-2.749l-1.75-5.127zm-6.712-2.256h5.947l-2.899-8.545h-.082l-2.966 8.545zm13.07.26c0-2.379.508-4.298 1.524-5.756 1.017-1.458 2.436-2.187 4.26-2.187.938 0 1.763.189 2.474.567.71.378 1.308.923 1.79 1.634l.329-1.928h2.146v14.875c0 1.896-.551 3.352-1.654 4.368-1.103 1.016-2.693 1.525-4.771 1.525-.711 0-1.48-.098-2.304-.294-.825-.196-1.552-.463-2.18-.8l.41-2.092c.519.274 1.145.495 1.88.663a9.654 9.654 0 002.166.253c1.313 0 2.267-.298 2.864-.895s.896-1.507.896-2.728V34.4a4.77 4.77 0 01-1.736 1.409c-.675.319-1.454.478-2.338.478-1.805 0-3.215-.654-4.232-1.962-1.016-1.308-1.524-3.028-1.524-5.16v-.288zm2.693.287c0 1.486.306 2.68.916 3.582.61.902 1.554 1.354 2.83 1.354.812 0 1.49-.185 2.037-.554.547-.37.998-.891 1.354-1.566v-6.808a4.178 4.178 0 00-1.354-1.497c-.556-.37-1.225-.554-2.01-.554-1.284 0-2.235.533-2.85 1.6-.615 1.066-.923 2.452-.923 4.156v.287z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-roboto_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-roboto_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-roboto_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-roboto_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-roboto_svg__c"}))))}));const E=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-amasis_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-amasis_svg__c",d:"M18.544 16.54h2.296l5.544 15.792c.672 1.96.868 2.296 1.932 2.296h.588V36h-6.3v-1.372h1.008c.364 0 .84-.056.84-.644 0-.42-.364-1.316-1.344-4.144h-7.364l-1.064 2.996c-.168.448-.28.896-.28 1.092 0 .644.504.7 1.204.7h.728V36h-5.88v-1.372h.476c.952 0 1.316-.28 1.736-1.428l5.88-16.66zm.896 2.912h-.056l-3.052 8.708h6.16l-3.052-8.708zm16.828 2.884c.98 0 1.596.084 2.464.392h4.228v1.652h-2.464c.7.868.952 1.848.952 2.968 0 .84-.168 1.848-.672 2.66-.784 1.26-1.932 2.24-5.096 2.24-1.456 0-2.24.476-2.24 1.12 0 .588.756.896 2.296.98 3.752.196 4.788.168 5.824.84.98.616 1.344 1.652 1.344 2.52 0 1.26-.588 2.492-1.876 3.332-1.12.728-2.268 1.148-5.012 1.148-2.156 0-6.076-.196-6.076-3.248 0-1.736 1.232-2.716 3.052-3.108v-.056c-1.232-.476-1.652-.98-1.652-1.764 0-1.092.896-1.932 2.38-2.296v-.056c-1.708-.644-2.8-2.24-2.8-4.34 0-2.688 1.764-4.984 5.348-4.984zm-3.136 4.9c0 2.352 1.26 3.612 3.192 3.612 1.792 0 2.94-1.288 2.94-3.5 0-2.324-1.204-3.668-3.08-3.668-2.184 0-3.052 1.82-3.052 3.556zM31.928 38.52c0 1.428 1.68 2.184 4.312 2.184 2.828 0 4.536-.924 4.536-2.408 0-1.176-1.064-1.876-4.48-1.876-2.996 0-4.368.7-4.368 2.1z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-amasis_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-amasis_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-amasis_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-amasis_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-amasis_svg__c"}))))}));const C=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-dinnext_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-dinnext_svg__c",d:"M18.376 17.24c.056-.187.168-.28.336-.28h1.82c.187 0 .308.093.364.28l6.524 18.48c.056.187-.01.28-.196.28h-1.96c-.187 0-.308-.093-.364-.28l-1.456-4.144h-7.7l-1.456 4.144c-.075.187-.196.28-.364.28h-1.96c-.187 0-.252-.093-.196-.28l6.608-18.48zm4.256 12.04l-2.996-8.652h-.056l-3.024 8.652h6.076zm12.124 12.068a6.787 6.787 0 01-2.702-.546c-.85-.364-1.498-.845-1.946-1.442-.112-.13-.103-.261.028-.392l1.148-1.148c.13-.13.27-.13.42 0 .467.43.947.76 1.442.994.495.233 1.069.35 1.722.35 1.12 0 1.965-.294 2.534-.882.57-.588.854-1.498.854-2.73v-1.568h-.028a3.545 3.545 0 01-1.358 1.344c-.588.336-1.377.504-2.366.504-1.139 0-2.09-.275-2.856-.826-.765-.55-1.316-1.358-1.652-2.422a7.976 7.976 0 01-.35-1.554 16.613 16.613 0 01-.098-1.974c0-.784.033-1.442.098-1.974s.182-1.05.35-1.554c.336-1.064.887-1.871 1.652-2.422.765-.55 1.717-.826 2.856-.826.99 0 1.778.168 2.366.504.588.336 1.04.784 1.358 1.344h.028v-1.26c0-.187.093-.28.28-.28h1.792c.187 0 .28.093.28.28v12.544c0 1.923-.5 3.393-1.498 4.41-.999 1.017-2.45 1.526-4.354 1.526zm.336-7.672c1.437 0 2.39-.672 2.856-2.016.112-.336.191-.71.238-1.12.047-.41.07-.905.07-1.484s-.023-1.069-.07-1.47a6.098 6.098 0 00-.238-1.134c-.467-1.325-1.419-1.988-2.856-1.988-1.419 0-2.361.663-2.828 1.988a6.878 6.878 0 00-.252 1.162c-.056.42-.084.9-.084 1.442 0 1.064.112 1.932.336 2.604.467 1.344 1.41 2.016 2.828 2.016z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-dinnext_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-dinnext_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-dinnext_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-dinnext_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-dinnext_svg__c"}))))}));const w=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-frutigernext_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-frutigernext_svg__c",d:"M12.79 36h-2.156l7.448-18.676h2.604L28.162 36h-2.296l-1.932-5.068h-9.156L12.79 36zm6.58-16.884L15.422 29.14h7.84L19.37 19.116zm11.228 22.512l.168-1.988a8.69 8.69 0 004.032 1.008c3.36 0 4.62-2.296 4.62-5.32v-1.792C38.55 35.104 36.87 36 35.106 36c-4.144 0-5.628-3.584-5.628-7.028 0-3.696 1.568-7.196 5.684-7.196 1.988 0 3.472.84 4.368 2.632v-2.352h1.932V35.3c0 4.34-1.96 7.056-6.524 7.056-1.456 0-2.912-.28-4.34-.728zm1.82-9.1c.588 1.008 1.54 1.736 3.108 1.736 2.996 0 3.948-2.912 3.948-5.264 0-2.436-1.036-5.488-3.92-5.488-3.136 0-3.892 2.912-3.892 5.488 0 1.204.196 2.52.756 3.528z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-frutigernext_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-frutigernext_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-frutigernext_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-frutigernext_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-frutigernext_svg__c"}))))}));const k=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-iowan_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-iowan_svg__c",d:"M19.207 19.06l-3.13 8.176c.172 0 .423.005.751.014 1.03.027 1.732.041 2.106.041.455 0 1.28-.014 2.474-.041.264-.01.465-.014.602-.014l-2.803-8.175zm-.615-2.57h2.351a424.22 424.22 0 003.37 9.912c1.062 2.99 1.899 5.237 2.51 6.74.364.866.678 1.4.943 1.6.264.2.642.301 1.134.301h.274V36c-.711-.036-1.36-.064-1.948-.082a49.194 49.194 0 00-1.484-.027c-.51 0-1.07.009-1.682.027-.61.018-1.257.046-1.94.082v-.957h.259c.647 0 1.089-.075 1.326-.226.237-.15.355-.426.355-.827 0-.146-.018-.307-.054-.485a5.66 5.66 0 00-.178-.636l-1.34-4.183c-.346 0-.82-.005-1.422-.014a112.904 112.904 0 00-2.105-.041c-.62 0-1.206.002-1.757.007-.551.004-1.123.016-1.716.034-.647 1.631-1.089 2.82-1.326 3.568-.237.748-.355 1.28-.355 1.6 0 .446.118.759.355.936.237.178.66.267 1.272.267h.369V36a80.626 80.626 0 00-1.867-.082 49.824 49.824 0 00-1.551-.027c-.365 0-.82.009-1.367.027-.547.018-1.14.046-1.778.082v-.943c.647-.019 1.16-.148 1.538-.39.379-.242.709-.645.991-1.21.51-1.066 1.416-3.201 2.714-6.405a436.107 436.107 0 004.109-10.562zm18.21 6.74c-.975 0-1.731.301-2.269.903-.538.601-.806 1.449-.806 2.543 0 1.203.262 2.14.786 2.81.524.67 1.26 1.004 2.208 1.004.957 0 1.709-.303 2.256-.909.546-.606.82-1.442.82-2.509 0-1.23-.26-2.178-.78-2.843-.519-.666-1.257-.999-2.214-.999zM34.315 35.81c-.446.5-.774.957-.984 1.367-.21.41-.314.802-.314 1.176 0 .847.38 1.563 1.141 2.146s1.716.875 2.864.875c1.304 0 2.432-.362 3.384-1.087.953-.724 1.429-1.538 1.429-2.44 0-.739-.232-1.258-.697-1.559-.465-.3-1.358-.451-2.68-.451-.137 0-.438-.005-.902-.014a61.59 61.59 0 00-1.176-.013h-2.065zm5.729-12.66a63.48 63.48 0 003.732-.11l-.068 1.367c-.401-.045-.84-.08-1.32-.102a35.404 35.404 0 00-1.66-.034c.428.328.754.726.977 1.196.223.47.335.986.335 1.552 0 1.23-.513 2.287-1.538 3.171-1.025.885-2.286 1.327-3.78 1.327-.155 0-.374-.012-.657-.035l-.601-.047a9.179 9.179 0 00-.697.512c-.22.178-.42.363-.602.554.137.255.294.49.472.704.177.214.385.417.622.608.282 0 .688-.004 1.217-.013 1.276-.028 2.114-.041 2.515-.041 1.65 0 2.837.25 3.562.752.724.501 1.087 1.308 1.087 2.42 0 .71-.199 1.428-.595 2.153-.397.725-.955 1.388-1.675 1.99a8.459 8.459 0 01-2.55 1.435 8.408 8.408 0 01-2.864.52c-1.413 0-2.595-.374-3.548-1.122-.952-.747-1.429-1.654-1.429-2.72 0-.62.199-1.229.595-1.826.397-.597 1.092-1.3 2.085-2.112A6.68 6.68 0 0132.64 34.1a5.49 5.49 0 01-.65-1.286 9.97 9.97 0 011.08-.881 16.49 16.49 0 011.3-.828c-.921-.291-1.642-.779-2.161-1.462-.52-.684-.78-1.477-.78-2.38 0-1.412.522-2.606 1.566-3.581 1.044-.976 2.35-1.463 3.917-1.463.574 0 1.112.075 1.613.225.502.15 1.007.385 1.518.704z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-iowan_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-iowan_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-iowan_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-iowan_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-iowan_svg__c"}))))}));const _=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-itccharter_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-itccharter_svg__c",d:"M19.125 19.922l-2.762 7.765h5.646l-2.884-7.765zm-.438-2.94h1.846l6.713 17.528 1.681.342V36H22.57v-1.148l1.736-.137.205-.397-2.023-5.345h-6.604l-1.996 5.345.287.397 1.819.137V36H10.51v-1.148l1.614-.342 6.562-17.528zm15.709 18.184c-.756.228-1.347.583-1.77 1.066a2.455 2.455 0 00-.636 1.668c0 .839.355 1.534 1.066 2.085.711.552 1.623.828 2.735.828 1.194 0 2.187-.288 2.98-.862.793-.574 1.19-1.276 1.19-2.105 0-.63-.174-1.094-.52-1.395-.346-.3-1.121-.565-2.324-.793l-2.721-.492zm1.121-11.826c-.838 0-1.506.312-2.003.936-.497.625-.745 1.461-.745 2.51 0 1.038.253 1.872.759 2.501.506.629 1.169.943 1.99.943.82 0 1.483-.314 1.988-.943.506-.629.76-1.463.76-2.502 0-1.039-.251-1.873-.753-2.502-.501-.629-1.166-.943-1.996-.943zm3.445-.3h4.006v1.312h-3.09c.274.41.474.824.602 1.244.128.419.191.87.191 1.353 0 1.285-.496 2.336-1.49 3.152-.993.815-2.283 1.223-3.869 1.223h-.465a2.696 2.696 0 00-.314 1.258c0 .064.009.2.027.41.018.119.027.205.027.26l2.694.424c1.75.264 2.98.658 3.691 1.182.711.524 1.067 1.279 1.067 2.263 0 .538-.149 1.087-.445 1.648a4.775 4.775 0 01-1.237 1.483 7.903 7.903 0 01-2.53 1.374 9.491 9.491 0 01-3.007.472c-1.595 0-2.84-.32-3.733-.957-.893-.638-1.34-1.523-1.34-2.653 0-.902.27-1.663.807-2.283.538-.62 1.276-1.016 2.215-1.19a3.737 3.737 0 01-.205-.642 2.892 2.892 0 01-.068-.615c0-.356.109-.752.328-1.19.219-.437.556-.925 1.011-1.463-1.066-.237-1.911-.736-2.536-1.497-.624-.76-.936-1.674-.936-2.74 0-1.377.499-2.491 1.497-3.344.998-.852 2.308-1.278 3.93-1.278a6.49 6.49 0 011.593.198c.524.132 1.05.33 1.58.595z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-itccharter_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-itccharter_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-itccharter_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-itccharter_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-itccharter_svg__c"}))))}));const M=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-merriweather_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-merriweather_svg__c",d:"M8.597 34.838l1.955-.397 7.123-19.673h2.297l6.809 19.66 2.174.41V36h-7.219v-1.162l2.27-.41-1.477-4.403h-8.203l-1.477 4.403 2.284.41V36H8.597v-1.162zm13.399-6.412l-2.229-6.672-1.299-4.115-3.609 10.787h7.137zm8.722 10.76c0-.42.076-.82.226-1.204.15-.382.34-.733.567-1.052.228-.32.477-.604.746-.855a5.27 5.27 0 01.772-.608c-.41-.146-.72-.315-.93-.506a1.713 1.713 0 01-.444-.602 1.877 1.877 0 01-.144-.642c-.009-.219-.013-.424-.013-.615 0-.165.036-.379.11-.643.072-.264.18-.547.32-.848.142-.3.32-.606.534-.916.214-.31.458-.588.731-.834a4.528 4.528 0 01-1.62-1.647c-.397-.688-.595-1.53-.595-2.523 0-.938.18-1.754.54-2.447a5.153 5.153 0 011.422-1.723 6.176 6.176 0 012.003-1.025 8.437 8.437 0 012.27-.369 7.85 7.85 0 012.18.24 5.09 5.09 0 011.798.854c.182-.21.449-.38.8-.513.35-.132.818-.198 1.401-.198h1.655v2.064h-2.68c.191.347.34.738.444 1.176.105.438.157.916.157 1.436 0 .902-.166 1.702-.499 2.399a5.198 5.198 0 01-1.34 1.757 5.859 5.859 0 01-1.94 1.08 7.196 7.196 0 01-2.305.369c-1.075 0-2.037-.169-2.884-.506a2.165 2.165 0 00-.117.472 4.673 4.673 0 00-.04.492 7.44 7.44 0 000 .451c.004.141.006.258.006.349 0 .492.13.875.39 1.148.26.274.713.438 1.36.492.41.037.903.057 1.477.062.574.005 1.258.007 2.05.007.848 0 1.573.066 2.174.198.602.132 1.101.308 1.498.526.396.22.708.474.936.766.228.292.401.597.52.916.118.32.191.64.218.964.028.323.041.631.041.923 0 .784-.164 1.495-.492 2.133a4.712 4.712 0 01-1.415 1.64c-.615.456-1.367.81-2.256 1.06-.888.25-1.898.376-3.028.376-.82 0-1.625-.064-2.413-.192a7.176 7.176 0 01-2.112-.663 4.153 4.153 0 01-1.504-1.258c-.383-.524-.575-1.178-.575-1.961zm6.563-9.858c.565 0 1.044-.077 1.435-.232.392-.155.71-.39.95-.704.242-.315.418-.707.527-1.176.11-.47.164-1.019.164-1.648 0-1.358-.292-2.365-.875-3.021-.583-.656-1.458-.985-2.625-.985-.456 0-.882.06-1.278.178a2.573 2.573 0 00-1.04.595c-.295.278-.528.647-.697 1.107-.168.46-.252 1.037-.252 1.73 0 .565.068 1.1.205 1.606.136.506.353.948.649 1.326.296.379.68.677 1.148.896.47.219 1.033.328 1.689.328zm-4.02 8.983c0 .62.119 1.146.356 1.579.237.433.556.784.957 1.052.4.27.866.465 1.394.588a7.4 7.4 0 001.682.185c.738 0 1.401-.062 1.99-.185.587-.123 1.086-.307 1.496-.553.41-.247.725-.559.944-.937.219-.378.328-.823.328-1.333 0-.437-.05-.827-.15-1.169a1.727 1.727 0 00-.588-.868c-.292-.237-.7-.417-1.224-.54-.524-.123-1.21-.185-2.058-.185l-1.722-.027c-.538 0-1.019-.016-1.443-.048a13.535 13.535 0 01-1.141-.13 3.15 3.15 0 00-.568.978 3.868 3.868 0 00-.184.697c-.046.26-.069.558-.069.896z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-merriweather_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-merriweather_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-merriweather_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-merriweather_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-merriweather_svg__c"}))))}));const S=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-mundosans_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-mundosans_svg__c",d:"M29.085 36h-2.668c-.58-1.624-1.247-3.364-2.349-6.293h-7.366c-.957 2.552-1.827 4.843-2.349 6.293h-2.639c.783-1.856 1.856-4.408 3.654-9.164 2.291-5.974 3.277-8.555 3.915-10.556h2.291c.551 1.682 1.972 5.249 4.031 10.73 1.45 3.828 2.842 7.424 3.48 8.99zm-5.626-8.178l-2.842-7.772a8.639 8.639 0 01-.261-1.247h-.058c-.029.319-.145.928-.261 1.247l-2.784 7.772h6.206zm19.894-4.147l-2.494.435c.319.493.696 1.45.696 2.523 0 2.552-1.856 5.017-5.336 5.017-.725 0-1.653-.145-2.03-.319-1.102.725-1.566 1.247-1.566 1.74 0 .841.435 1.218 2.204 1.218.638 0 2.233-.116 3.248-.116 3.364 0 4.698 1.653 4.698 3.799 0 2.494-2.407 5.133-7.076 5.133-4.002 0-5.597-1.827-5.597-3.857 0-1.218.754-2.233 2.262-3.451-1.421-.377-1.827-1.363-1.827-2.204 0-.783.435-1.711 2.349-2.9-1.247-.783-1.972-2.32-1.972-3.857 0-2.784 2.059-5.104 5.597-5.104 1.16 0 2.465.348 3.335 1.015.841-.145 2.465-.551 3.509-.783v1.711zM39.38 26.72c0-1.885-1.073-3.219-3.132-3.219-1.885 0-3.132 1.305-3.132 3.248 0 1.769 1.073 3.132 3.103 3.132 2.03 0 3.161-1.363 3.161-3.161zm1.131 11.629c0-1.45-.725-2.291-3.132-2.291-.696 0-2.059.145-3.248.145-1.392.957-1.856 1.827-1.856 2.639 0 1.392.986 2.552 3.857 2.552 3.016 0 4.379-1.711 4.379-3.045z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-mundosans_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-mundosans_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-mundosans_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-mundosans_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-mundosans_svg__c"}))))}));const T=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-notosans_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-notosans_svg__c",d:"M24.696 36l-2.406-6.193h-7.93L11.98 36H9.438l7.807-20.07h2.27L27.306 36h-2.611zm-3.158-8.422l-2.243-6.057-.957-2.994a40.797 40.797 0 01-.86 2.994l-2.27 6.057h6.33zm13.89 6.686c1.513 0 2.614-.408 3.302-1.224.688-.816 1.032-2.126 1.032-3.93v-.589c0-2.005-.346-3.463-1.039-4.375-.693-.911-1.81-1.367-3.35-1.367-1.257 0-2.23.5-2.918 1.497-.689.998-1.033 2.423-1.033 4.273 0 1.86.335 3.277 1.005 4.252.67.975 1.67 1.463 3.001 1.463zm4.307 1.6l.082-1.846h-.11c-1.011 1.503-2.56 2.255-4.648 2.255-1.941 0-3.457-.676-4.546-2.03-1.089-1.353-1.634-3.26-1.634-5.722 0-2.415.55-4.32 1.648-5.714 1.098-1.395 2.6-2.092 4.505-2.092 2.032 0 3.6.756 4.703 2.27h.15l.328-1.997h1.955v15.258c0 2.151-.544 3.769-1.633 4.854-1.09 1.084-2.783 1.627-5.08 1.627-2.187 0-3.987-.32-5.4-.957V39.5c1.459.784 3.304 1.176 5.537 1.176 1.276 0 2.286-.374 3.029-1.121.742-.748 1.114-1.782 1.114-3.104v-.588z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-notosans_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-notosans_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-notosans_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-notosans_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-notosans_svg__c"}))))}));const I=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-opendyslexic_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-opendyslexic_svg__c",d:"M9.274 36l7.776-19.683h2.511L27.31 36h-3.807l-.756-3.213h-8.856L12.892 36H9.274zm12.663-6.345l-3.645-10.908-3.618 10.908h7.263zm22.788-8.424l-.405 12.933c-.216 6.804-2.322 8.91-6.939 8.91-1.701 0-3.186-.27-4.617-.783v-4.32c1.431.783 2.808 1.134 4.239 1.134 3.186 0 4.536-2.754 4.887-4.509v-.81C41.08 35.001 39.46 36 37.3 36c-3.618 0-6.048-2.997-6.048-7.56s2.43-7.56 6.048-7.56c2.16 0 3.726.864 4.725 2.592l.27-2.241h2.43zm-3.753 7.074c0-3.537-1.512-5.535-4.131-5.535-2.592 0-4.131 1.998-4.131 5.535.351 3.483 1.35 3.753 3.942 3.753 2.619 0 4.32-.27 4.32-3.753z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-opendyslexic_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-opendyslexic_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-opendyslexic_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-opendyslexic_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-opendyslexic_svg__c"}))))}));const N=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:56,height:56,viewBox:"0 0 56 56"},e),n.createElement("defs",null,n.createElement("path",{id:"feature-font-ysobel_svg__a",d:"M0 0h56v56H0z"}),n.createElement("path",{id:"feature-font-ysobel_svg__c",d:"M29.618 36H21.75v-.924l2.716-.336-1.736-4.76h-7.336l-1.82 4.76 2.688.336V36H10.13v-.924l1.932-.336 7.252-19.236h1.12l7.084 19.236 2.1.336V36zm-7.42-7.504l-3.052-8.456h-.056l-3.164 8.456h6.272zM44.01 21.86v1.54l-2.688-.252c.896.84 1.288 1.876 1.288 3.08 0 2.828-2.296 4.676-5.796 4.676H35.05c-1.148 0-1.876.448-1.876 1.036 0 .84.644.98 2.94 1.148l2.744.196c1.876.14 4.648.392 4.648 3.444 0 3.08-2.576 4.648-7 4.648-3.696 0-5.908-1.176-5.908-3.332 0-1.4 1.036-2.576 3.332-2.8v-.112c-1.736-.168-2.632-1.092-2.632-2.38 0-1.708 1.484-2.436 2.548-2.66v-.112c-1.568-.616-2.632-1.96-2.632-3.752 0-2.912 2.1-4.788 5.74-4.788.896 0 1.904.168 2.576.42h4.48zm-7.084 7.924c1.904 0 3.052-1.484 3.052-3.752 0-2.184-1.12-3.472-2.996-3.472-1.96 0-3.136 1.372-3.136 3.668 0 2.128 1.176 3.556 3.08 3.556zm-.112 10.332c2.828 0 4.62-.952 4.62-2.716 0-1.176-.756-1.764-2.8-1.904-1.764-.14-2.212-.168-2.576-.168-1.736 0-2.912 1.12-2.912 2.464 0 1.652 1.344 2.324 3.668 2.324z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"feature-font-ysobel_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#feature-font-ysobel_svg__a"})),n.createElement("g",{fill:"currentColor",mask:"url(#feature-font-ysobel_svg__b)"},n.createElement("use",{xlinkHref:"#feature-font-ysobel_svg__c"}),n.createElement("use",{fillOpacity:.8,xlinkHref:"#feature-font-ysobel_svg__c"}))))}));var P=s(56813);const L=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M14.69 6.607l.05.101 5.907 14a.75.75 0 01-1.336.675l-.046-.091-1.94-4.598h-6.536l-1.93 4.597a.75.75 0 01-.886.434l-.097-.034a.75.75 0 01-.434-.885l.033-.097 5.883-14a.751.751 0 011.268-.191l.063.089zm-.639 2.326l-2.631 6.261h5.273l-2.642-6.261z",fill:"currentColor",fillRule:"nonzero"}))}));const x=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M14.457 4.274l.052.101 8.015 19a.75.75 0 01-1.336.674l-.046-.09-2.701-6.404H9.215l-2.69 6.402a.75.75 0 01-.886.434l-.096-.033a.75.75 0 01-.434-.885l.033-.097 7.984-19a.751.751 0 011.268-.191l.063.089zM13.819 6.6l-3.974 9.455h7.963L13.819 6.6z",fill:"currentColor",fillRule:"nonzero"}))}));var D=s(84546),O=s(3167),A=s(35278),z=s(2121),R=s(28514),F=s(22738),j=(s(14171),s(83809));const U=Object.freeze({sansserif:(0,R.gn)()?v:b,amasis:E,dinnext:C,frutigernext:w,iowan:k,itccharter:_,merriweather:M,mundosans:S,notosans:T,opendyslexic:I,roboto:b,sanfrancisco:v,ysobel:N}),B=Object.freeze({1:"small",2:"medium",3:"large",4:"extra-large"});class H extends n.Component{constructor(e){super(e),this._onFontSizeChange=e=>{this.setState({fontSize:e},(()=>{(0,A.If)("feedly_text_size",B[e]),UPDATE_GLOBAL_DIMENSIONS()}))},this._onThemeChange=e=>{this.setState({theme:e},(()=>{this.feedly.setTheme(e)}))},this._disableDrawerTouch=()=>{this.setState({isTouchEnabled:!1})},this._enableDrawerTouch=()=>{this.setState({isTouchEnabled:!0})},this.feedly=streets.service("feedly"),this.font=streets.service("font");const t=parseInt(Object.keys(B).find((e=>B[e]===window.SETTING("feedly_text_size"))))||2;this.state={fontFamily:this.font.getFontFamily(),fontSize:t,isFontLoading:{},isTouchEnabled:!0,theme:this.feedly.getTheme()}}componentDidMount(){this.tabsManager=streets.service("tabsManager"),this.font.registerObserver(this)}componentWillUnmount(){this.font.unregisterObserver(this),this.feedly=null,this.font=null,this.tabsManager=null}onFontFamilyChanged(){this.setState({fontFamily:this.font.getFontFamily(),isFontLoading:{}})}render(){const{onClose:e}=this.props,{fontFamily:t,fontSize:s,isFontLoading:i,isTouchEnabled:r,theme:a}=this.state;return n.createElement($,{className:"CustomFontDrawer form",isTouchEnabled:r,onClose:e},n.createElement("div",{className:"CustomFontDrawer__top"},n.createElement("div",{className:"field CustomFontDrawer__theme"},n.createElement("label",null,"Theme"),n.createElement("div",null,n.createElement(c.zx,{className:f()("CustomFontDrawer__theme-button CustomFontDrawer__theme-button--day p-a-0"),onClick:()=>this._onThemeChange(O.z0.day),importance:"",icon:a===O.z0.day&&n.createElement(P.Z,{importance:"secondary"})}),n.createElement(c.zx,{className:f()("CustomFontDrawer__theme-button CustomFontDrawer__theme-button--night p-a-0"),onClick:()=>this._onThemeChange(O.z0.night),importance:"",icon:a===O.z0.night&&n.createElement(P.Z,{color:"white",importance:"secondary"})}))),n.createElement("div",{className:"field CustomFontDrawer__font-size"},n.createElement("label",null,"Text size"),n.createElement("div",{className:"CustomFontDrawer__font-range container-flex"},n.createElement(L,{className:"col-no-flex m-r-1",importance:"tertiary"}),n.createElement(F.Bm,{max:4,onChange:this._onFontSizeChange,onTouchStart:this._disableDrawerTouch,onTouchEnd:this._enableDrawerTouch,value:s}),n.createElement(x,{className:"col-no-flex m-l-1 m-r-0",importance:"tertiary"})))),n.createElement("div",{className:"field CustomFontDrawer__font"},n.createElement("label",null,"Font"),n.createElement(j.A,{cardWidth:134,onTouchStart:this._disableDrawerTouch,onTouchEnd:this._enableDrawerTouch},z.BD.map((e=>n.createElement("div",{key:e,onClick:()=>{this._onFontClick(e)}},n.createElement("div",{className:f()("CustomFontDrawer__card",{"CustomFontDrawer__card--active":t===e})},i[e]?n.createElement("span",{className:"CustomFontDrawer__loading"}):this._getFontIcon(e)),n.createElement("div",{className:"CustomFontDrawer__card-label"},this._renderFontLabel(e),z.T6.includes(e)&&n.createElement(D.Z,{className:"m-l-1 m-r-0",color:"accent"}))))))))}_renderFontLabel(e){return"sansserif"===e?(0,R.gn)()?"San Francisco":"Roboto":z.ph[e]}_getFontIcon(e){const t=U[e];return n.createElement(t,{className:"m-r-0",importance:"primary"})}_onFontClick(e){z.T6.includes(e)&&!streets.hasProAccess()?(this.tabsManager.askOpenNewPage("premium/pro/font"),this.props.onClose()):(this.setState((({isFontLoading:t})=>({isFontLoading:{...t,[e]:!0}}))),this.font.setFontFamily(e))}}H.propTypes={onClose:r().func},H.defaultProps={onClose:()=>{}};var Y=s(12788),Z=s(32285);class W extends n.Component{constructor(){super(),this.close=()=>{this._onClose()},this._onTouchStart=e=>{!e.touches||e.touches.length>1||(this.touchPosition=e.targetTouches[0].clientY,this.setState({pullUp:!1}))},this._onTouchMove=e=>{const{displayMode:t}=this.state;if(!e.touches||e.touches.length>1)return;e.preventDefault();const{clientY:s}=e.targetTouches[0];if(s>=this.touchPosition){let e=Math.abs(this.touchPosition-s);"tablet"===t&&(e-=this.drawer.current.offsetHeight/2),this.touchHistory={secondToLastDistance:this.touchHistory.lastDistance,lastDistance:e},this.setState({pullHeight:e})}},this._onTouchEnd=()=>{const{displayMode:e,pullHeight:t}=this.state,{lastDistance:s,secondToLastDistance:n}=this.touchHistory;t>=44&&s>=n?this._onClose():this.setState({pullHeight:"tablet"===e?"-50%":0})},this._onClose=()=>{this.setState({isClosing:!0},(()=>{this.drawer.current.addEventListener("animationend",(()=>{this.props.onClose()}))}))},this.resize=streets.service("resize");const e=this.resize.getDisplayMode();this.drawer=n.createRef(),this.drawerOverlay=n.createRef(),this.drawerContainer=document.getElementById("drawer-container"),this.state={displayMode:e,isClosing:!1,pullHeight:"tablet"===e?"-50%":0}}componentDidMount(){this.touchHistory={},this.shortcuts=streets.service("shortcuts"),this.shortcuts.registerObserver(this),this.resize.registerObserver(),this.drawerOverlay.current.addEventListener("touchmove",(e=>{e.preventDefault()})),this.drawer.current.addEventListener("touchstart",this._onTouchStart,!1),this.props.isTouchEnabled&&this.drawer.current.addEventListener("touchmove",this._onTouchMove,!1),this.drawer.current.addEventListener("touchend",this._onTouchEnd,!1)}componentDidUpdate(e){const{isTouchEnabled:t}=this.props;e.isTouchEnabled!==t&&(t?this.drawer.current.addEventListener("touchmove",this._onTouchMove,!1):this.drawer.current.removeEventListener("touchmove",this._onTouchMove))}componentWillUnmount(){this.drawer.current.removeEventListener("touchstart",this._onTouchStart,!1),this.drawer.current.removeEventListener("touchmove",this._onTouchMove,!1),this.drawer.current.removeEventListener("touchend",this._onTouchEnd,!1),this.drawerContainer=null,this.resize.unregisterObserver(),this.shortcuts.unregisterObserver(this),this.resize=null,this.shortcuts=null}onDisplayModeChanged(e){this.setState({displayMode:e})}onShortcutKey(e){e===Z.PC.close&&this._onClose()}render(){return Y.createPortal(this._renderDrawer(),this.drawerContainer)}_renderDrawer(){const{displayMode:e,isClosing:t,pullHeight:s}=this.state,{children:i,className:r}=this.props,a="tablet"===e?`translate(-50%, ${s+(isNaN(s)?"":"px")})`:`translateY(${s}px)`;return n.createElement("div",{onClick:e=>{e.stopPropagation()}},n.createElement("div",{className:f()("Drawer__overlay",{"Drawer__overlay--closing":t}),onClick:()=>{this._onClose()},ref:this.drawerOverlay}),n.createElement("div",{className:f()("Drawer",r,{"Drawer--closing":e&&t,"Drawer--tablet":"tablet"===e}),ref:this.drawer,style:{transform:a}},i))}}W.propTypes={children:r().node,className:r().string,isTouchEnabled:r().bool,onClose:r().func.isRequired},W.defaultProps={children:void 0,className:void 0,isTouchEnabled:!0};const $=W;function q({children:e,padTop:t}){return n.createElement("div",{className:f()("Drawer__header",{"Drawer__header--pad-top":t})},e)}function V({children:e,muted:t,small:s}){return n.createElement("div",{className:f()("Drawer__sub",{"Drawer__sub--muted":t,"Drawer__sub--small":s})},e)}q.propTypes={children:r().node.isRequired,padTop:r().bool},q.defaultProps={padTop:!1},V.propTypes={children:r().node.isRequired,muted:r().bool,small:r().bool},V.defaultProps={muted:!1,small:!1};var G=s(97418),Q=s(96119),K=s(80891),J=s(66352),X=s(74330);const ee=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M19.714 11.25a.75.75 0 01.743.648l.007.102v6.857c0 1.329-1.125 2.38-2.51 2.46l-.168.004H6.214c-1.404 0-2.584-1-2.673-2.306l-.005-.158V12a.75.75 0 011.493-.102l.007.102v6.857c0 .478.443.904 1.047.959l.131.005h11.572c.624 0 1.11-.394 1.172-.862l.006-.102V12a.75.75 0 01.75-.75zM11.47 2.898a.75.75 0 01.976-.072l.084.072 4.286 4.286a.75.75 0 01-.976 1.133l-.085-.072L12 4.49 8.245 8.245a.75.75 0 01-.977.072l-.084-.072a.75.75 0 01-.073-.977l.073-.084 4.286-4.286z"}),n.createElement("path",{d:"M12 2.679a.75.75 0 01.743.648l.007.102v12a.75.75 0 01-1.493.101l-.007-.101v-12a.75.75 0 01.75-.75z"})))}));const te=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M17.143 2.679a3.321 3.321 0 100 6.642 3.321 3.321 0 000-6.642zm0 1.5a1.821 1.821 0 110 3.642 1.821 1.821 0 010-3.642zM6.857 8.679a3.321 3.321 0 100 6.642 3.321 3.321 0 000-6.642zm0 1.5a1.821 1.821 0 110 3.642 1.821 1.821 0 010-3.642zM17.143 14.679a3.321 3.321 0 100 6.642 3.321 3.321 0 000-6.642zm0 1.5a1.821 1.821 0 110 3.642 1.821 1.821 0 010-3.642z"}),n.createElement("path",{d:"M8.43 12.917a.75.75 0 01.933-.316l.092.045 5.854 3.412a.75.75 0 01-.664 1.341l-.091-.045L8.7 13.942a.75.75 0 01-.27-1.025zM14.545 6.647a.75.75 0 01.84 1.238l-.084.057-5.846 3.411a.75.75 0 01-.84-1.238l.084-.057 5.846-3.411z"})))}));var se=s(2400),ne=s(39895);const ie=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12.013 2.695a.75.75 0 01.743.648l.007.102v16.904a.75.75 0 01-1.493.102l-.007-.102V3.445a.75.75 0 01.75-.75z"}),n.createElement("path",{d:"M11.469 2.896a.75.75 0 01.973-.072l.084.072 6.83 6.785a.75.75 0 01-.972 1.136l-.085-.072-6.302-6.26-6.301 6.26a.75.75 0 01-.977.07l-.084-.074a.75.75 0 01-.07-.977l.074-.083 6.83-6.785z"})))}));const re=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12.013 2.695a.75.75 0 01.743.648l.007.102v16.904a.75.75 0 01-1.493.102l-.007-.102V3.445a.75.75 0 01.75-.75z"}),n.createElement("path",{d:"M4.633 13.07a.75.75 0 01.976-.08l.085.072 6.303 6.22 6.304-6.22a.75.75 0 01.977-.066l.084.073a.75.75 0 01.066.977l-.073.084-6.83 6.74a.75.75 0 01-.97.072l-.084-.071-6.83-6.741a.75.75 0 01-.008-1.06z"})))}));const ae=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M11.33 1.75c.95 0 1.622.355 2.158.98l.137.173.251.327.287.053c.273.046.665.103 1.171.17l1.258.16c2.258.364 3.572 1.591 3.74 3.583l.123 1.536c.249 3.258.371 6.005.245 7.115-.373 3.284-2.212 6.403-5.542 6.403-1.899 0-3.116-.86-3.535-2.259-.31-1.032-.116-2.313.384-2.935.413-.515.843-.875 1.334-1.077l.187-.068.162-.047-.102-.03a6.554 6.554 0 01-.92-.36l-.195-.104-.052-.03-.04.08c-.512.907-1.313 1.516-2.4 1.647l-.222.02-.229.006c-3.088 0-6.059-2.41-6.192-5.749l-.004-.166-.025-.19-.013-.116a7.21 7.21 0 01-.003-1.605c.035-.29.092-.563.175-.816.325-.99 1.388-2.295 2.892-3.856.188-.195.425-.404.706-.628.17-.135.352-.273.549-.416.227-.165.465-.33.706-.491l.653-.426.05-.084c.331-.498.975-.734 1.874-.788l.212-.009.22-.003zm0 1.5c-.748 0-1.047.11-1.048.115a.75.75 0 01-.239.362l-.148.1-.395.252a23.45 23.45 0 00-1.004.686c-.18.13-.345.255-.495.375l-.26.214a4.59 4.59 0 00-.3.282l-.427.45C5.911 7.268 5.091 8.313 4.893 8.918c-.05.152-.087.33-.111.528-.048.4-.04.844.005 1.267l.035.268.011.128c0 2.563 2.31 4.483 4.697 4.483.736 0 1.213-.324 1.545-.91.125-.222.218-.466.282-.71l.03-.123.05-.286c.198-.82 1.477-.713 1.477.195 0 .146.36.401 1.127.644l.466.132c.382.104.832.22.902.241 1.357.42 2.528 1.655 2.374 3.131-.112 1.069-.652 1.876-1.633 2.363-1.303.52-2.371.305-2.86-.768-.409-.896-.116-1.644.576-2.048.045-.026.113-.06.184-.091l.151-.066-.066.008c-.267.047-.49.181-.728.427l-.121.132-.11.131c-.174.217-.29.985-.116 1.566.224.75.847 1.189 2.098 1.189 2.305 0 3.755-2.459 4.052-5.072.129-1.135-.057-4.587-.374-8.356-.105-1.257-.866-1.968-2.454-2.225l-1.315-.166c-.904-.12-1.462-.212-1.71-.283a1.141 1.141 0 01-.501-.307l-.11-.124c-.15-.183-.361-.468-.398-.511-.267-.312-.54-.456-1.017-.456zm4.642 13.625l.023.148.008.16c0 .56-.27.983-.688 1.25l-.135.08-.19.087-.256.098-.062.026-.082.04c-.01.004.005.005.037.062l.027.053c.098.215.297.255.883.024.457-.228.694-.584.754-1.152.025-.237-.05-.481-.193-.705l-.076-.11-.05-.061zm.817-7.137c.946 0 1.805.578 1.805 1.48 0 .416-.2.79-.53 1.056-.336.273-.808.34-1.212.194l-.15-.063-.084-.025-.115-.01-.446-.007c-.472-.041-.898-.34-1.027-.81a1.27 1.27 0 01-.045-.336c0-.901.858-1.479 1.804-1.479z",fill:"currentColor",fillRule:"nonzero"}))}));var oe=s(28576);class le extends n.Component{constructor(e){super(e),this._onAddToInstapaper=async()=>{const{entry:e}=this.props,t=streets.service("notifications");try{if(this.drawer.current.close(),!streets.hasProAccess())return void streets.service("tabsManager").askOpenNewPage("premium/pro/instapaper");e.metadata.instapaper?t.showMessage("Already saved to Instapaper"):await streets.service("instapaper").askAdd(e.id)}catch(s){t.showError(`Error ${s.message}`)}},this._onAddToPocket=async()=>{const{entry:e}=this.props,t=streets.service("notifications");try{if(this.drawer.current.close(),!streets.hasProAccess())return void streets.service("tabsManager").askOpenNewPage("premium/pro/pocket");e.metadata.isSavedToPocket?t.showMessage("Already saved to Pocket"):await streets.service("pocket").askAddToPocket(e.id)}catch(s){t.showError(`Error ${s.message}`)}},this._onEvernoteClick=e=>{const{entry:t}=this.props;this.drawer.current.close(),streets.hasProAccess()?e?window.$B.core.application.openURL(e,"browser"):streets.service("tabsManager").askOpenNewPage(`evernote/${encodeURIComponent(t.id)}`,{helperPage:!0}):streets.service("tabsManager").askOpenNewPage("premium/pro/evernote")},this._onOpenSaveBoard=()=>{const{entry:e}=this.props;this.drawer.current.close(),streets.getUserId()?streets.service("tabsManager").askOpenNewPage(`saveEntry/${encodeURIComponent(e.getId())}`,{helperPage:!0}):streets.service("auth").startFlow("signup")},this._onOpenFeedbackDrawer=()=>{const{onOpenFeedbackDrawer:e}=this.props;this.drawer.current.close(),e()},this._onShare=()=>{const{entry:e}=this.props;this.drawer.current.close(),window.$B.core.wm.share({title:e.getCleanTitle(),url:e.getCleanAlternateLink()})},this._toggleMarkAsRead=()=>{const{entry:e}=this.props,t=streets.service("reader"),s=streets.service("notifications");if(this.drawer.current.close(),streets.getUserId())try{t.askToggleEntryRead(e.id)}catch(n){s.showError(`Error ${n}`)}else streets.service("auth").startFlow("signup")},this._onMarkAboveAsRead=()=>{const{entry:e,pageManager:t}=this.props,s=t.getNavigo(),n=streets.service("reader"),i=streets.service("notifications");if(this.drawer.current.close(),!streets.getUserId())return void streets.service("auth").startFlow("signup");const r=s.listEntryIdsBefore(e.getId());i.showMessage(`${r.length} articles marked as read`),n.askMarkEntriesAsRead(r).catch((e=>{i.showError(`Error ${e}`)}))},this._onMarkBelowAsRead=async()=>{const{entry:e,pageManager:t}=this.props,s=t.getNavigo(),n=streets.service("reader"),i=streets.service("notifications");if(this.drawer.current.close(),!streets.getUserId())return void streets.service("auth").startFlow("signup");const r=s.getStreamInfo(),a=s.listEntryIdsAfter(e.getId());if(n.askMarkEntriesAsRead(a,{forceFlush:!1}),i.showMessage("Articles marked as read"),r&&r.streamId&&"newest"===r.sort)try{await n.askMarkStreamAsRead(r.streamId,{lastReadEntryId:e.getId(),partial:!0,silently:!0})}catch(o){i.showError(`Error ${o}`)}},this.drawer=n.createRef()}render(){const{entry:e,isInstapaperConnected:t,isPocketConnected:s,onClose:i,isLeoEnabled:r}=this.props;return n.createElement($,{ref:this.drawer,onClose:i},s&&n.createElement(oe.kR,{onClick:this._onAddToPocket},n.createElement(Q.Z,{importance:"secondary"}),e.metadata.isSavedToPocket?"Saved to Pocket":"Save to Pocket"),t&&n.createElement(oe.kR,{onClick:this._onAddToInstapaper},n.createElement(K.Z,{importance:"secondary"}),e.getDecoration("instapaper")?"Saved to Instapaper":"Save to Instapaper"),this._renderEvernote(),n.createElement(oe.kR,{onClick:this._onOpenSaveBoard},n.createElement(J.Z,{importance:"secondary"}),"Save to board"),!!r&&n.createElement(oe.kR,{onClick:this._onOpenFeedbackDrawer},n.createElement(X.Z,{importance:"secondary"}),"Less Like This"),n.createElement(oe.kR,{onClick:this._onShare},(0,R.gn)()?n.createElement(ee,{importance:"secondary"}):n.createElement(te,{importance:"secondary"}),"Share"),n.createElement(oe.kR,{onClick:this._toggleMarkAsRead},e.isRead()?n.createElement(se.Z,{importance:"secondary"}):n.createElement(ne.Z,{importance:"secondary"}),e.isRead()?"Mark as unread":"Mark as read"),n.createElement(oe.kR,{onClick:this._onMarkAboveAsRead},n.createElement(ie,{importance:"secondary"}),"Mark above as read"),n.createElement(oe.kR,{onClick:this._onMarkBelowAsRead},n.createElement(re,{importance:"secondary"}),"Mark below as read"))}_renderEvernote(){const{entry:e,isEvernoteConnected:t}=this.props;if(!t)return null;const s=e.getDecoration(G.I.evernote);return n.createElement(oe.kR,{onClick:()=>{this._onEvernoteClick(s)}},n.createElement(ae,{importance:"secondary"}),s?"Open in Evernote":"Save to Evernote")}}le.propTypes={...$.propTypes,entry:r().objectOf(r().any).isRequired,isEvernoteConnected:r().bool,isInstapaperConnected:r().bool,isPocketConnected:r().bool,onOpenFeedbackDrawer:r().func,pageManager:r().objectOf(r().any)},le.defaultProps={isEvernoteConnected:!1,isInstapaperConnected:!1,isPocketConnected:!1,onOpenFeedbackDrawer:()=>{},pageManager:null};const ce=le;var de=s(24443),he=s.n(de),ue=s(32470);class pe extends n.Component{constructor(e){super(e),this._onChange=()=>{this.drawer.current.close()},this.drawer=n.createRef()}render(){const{feed:e,topic:t,onClose:s}=this.props,{private:i}=e;return n.createElement($,{onClose:s,ref:this.drawer},n.createElement("div",{className:"FeedInfoDrawer__header"},`About ${e.title}`),n.createElement("div",{className:"FeedInfoDrawer__sub"},e.description),n.createElement("div",{className:"FeedInfoDrawer__metrics"},!i&&n.createElement("div",{className:"FeedInfoDrawer__column",key:"subscribers"},n.createElement("div",{className:"FeedInfoDrawer__value"},(0,ue.HN)(e.subscribers)),n.createElement("div",{className:"FeedInfoDrawer__label"},he()("follower",e.subscribers))),n.createElement("div",{className:"FeedInfoDrawer__column",key:"velocity"},n.createElement("div",{className:"FeedInfoDrawer__value"},Math.round(e.velocity)),n.createElement("div",{className:"FeedInfoDrawer__label"},"articles/week")),t&&e.relevanceScore&&n.createElement("div",{className:"FeedInfoDrawer__column",key:"ontopicness"},n.createElement("div",{className:"FeedInfoDrawer__value"},n.createElement("div",{className:"FeedInfoDrawer__percentage-bar-container"},n.createElement("div",{className:"FeedInfoDrawer__percentage-bar",style:{width:`${e.relevanceScore}%`}}))),n.createElement("div",{className:"FeedInfoDrawer__label"},t))))}}pe.propTypes={...$.propTypes,feed:r().shape({description:r().string,id:r().string,relevanceScore:r().number,subscribers:r().number,title:r().string,velocity:r().number,visualUrl:r().string}).isRequired,topic:r().string},pe.defaultProps={topic:null};s(94600);r().func.isRequired,r().func.isRequired,r().string.isRequired;(0,y.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.613 9.614a.75.75 0 01.976-.073l.084.073 2.673 2.673a.75.75 0 01-.977 1.133l-.084-.073-2.672-2.673a.75.75 0 010-1.06z"}),n.createElement("path",{d:"M10.143 5.187a.75.75 0 01.743.648l.007.102v4.207a.75.75 0 01-1.493.102l-.007-.102V5.937a.75.75 0 01.75-.75z"}),n.createElement("path",{d:"M10.143 2.393a7.75 7.75 0 100 15.5 7.75 7.75 0 000-15.5zm0 1.5a6.25 6.25 0 110 12.5 6.25 6.25 0 010-12.5z"})))}));r().arrayOf(r().shape({label:r().string,value:r().string})).isRequired,r().func.isRequired,r().func.isRequired;var me=s(38676),ge=s(17696),fe=s(55359),ye=s(69993),ve=s(34238),be=s(3015),Ee=s(32853);function Ce({isLegacy:e,onClose:t,onPauseClick:s,onRefineClick:i,onResumeClick:r,onRemoveClick:a,onUpgradeClick:o,onViewArticlesClick:l,filter:c,usernames:d}){const{active:h,created:u,createdBy:p,label:m,numEntries:g}=c,y=u&&(0,be.p6)(new Date(u),"M/dd/yyyy"),v=(0,Ee.IE)(c);let b;return p?(b=`Created by ${d[p]}`,y&&(b+=` on ${y}`)):y&&(b=`Created on ${y}`),n.createElement($,{onClose:t},n.createElement("div",{className:f()("MuteOptionsDrawer__header",{"MuteOptionsDrawer__header--is-muted":!h})},n.createElement("div",{className:"MuteOptionsDrawer__label"},m,!h&&!v&&" (Paused)"),n.createElement("div",{className:"MuteOptionsDrawer__sub"},b)),!e&&n.createElement(n.Fragment,null,v?n.createElement(oe.kR,{onClick:o},n.createElement(D.Z,{importance:"secondary"}),"Upgrade to reactivate"):n.createElement(n.Fragment,null,n.createElement(oe.kR,{onClick:()=>{i(c)}},n.createElement(me.Z,{importance:"secondary"}),"Refine Mute Filter"),n.createElement(oe.kR,{onClick:()=>{h?s(c):r(c)}},h?n.createElement(ge.Z,{importance:"secondary"}):n.createElement(fe.Z,{importance:"secondary"}),h?"Pause":"Resume"))),n.createElement(oe.kR,{onClick:()=>{l(c,e)}},n.createElement(ye.Z,{importance:"secondary"}),`View ${g} muted ${he()("article",g)}`),n.createElement(oe.kR,{danger:!0,onClick:()=>{a(c)}},n.createElement(ve.Z,{color:"danger"}),"Remove"))}Ce.propTypes={filter:r().shape({active:r().bool.isRequired,created:r().number.isRequired,label:r().string.isRequired,numEntries:r().number.isRequired}).isRequired,isLegacy:r().bool,onClose:r().func.isRequired,onPauseClick:r().func.isRequired,onRefineClick:r().func.isRequired,onRemoveClick:r().func.isRequired,onResumeClick:r().func.isRequired,onUpgradeClick:r().func.isRequired,onViewArticlesClick:r().func.isRequired,usernames:r().objectOf(r().string)},Ce.defaultProps={usernames:{},isLegacy:!1};var we=s(99442),ke=s(35093),_e=s(95192);class Me extends n.Component{render(){const{onCloseDrawer:e}=this.props;return n.createElement($,{onClose:e},n.createElement("div",{className:"form"},n.createElement("div",{className:"field m-b-0"},n.createElement("label",null,"What would you like to prioritize?"),this._renderMenuItem(we.Pr.matches),this._renderMenuItem(we.Pr.industryTopic,{addOn:!streets.isEnterprisePlan()}),this._renderMenuItem(we.Pr.likeBoard),this._renderMenuItem(we.Pr.businessEvent),this._renderSecurityItems())))}_renderMenuItem(e,{addOn:t=!1}={}){const{onNewPriorityClick:s}=this.props,i=ke.g[e];return n.createElement(oe.kR,{key:e,onClick:()=>{s(e)}},n.createElement(i,{importance:"secondary",style:{alignSelf:"flex-start"}}),n.createElement("div",null,n.createElement("div",{className:"LeoSelectorDrawer__item-title"},we.aB[e],t&&n.createElement("span",{className:"badge accent small m-l-1"},"add-on")),we.zR[e]&&n.createElement(_e.x,{color:"tertiary",size:"smallest",tagName:"div"},we.zR[e])))}_renderSecurityItems(){const{hasLeoSecurityFeature:e,hasSecurityFeed:t,hideSecurityLayer:s}=this.props;return s?null:e?n.createElement(n.Fragment,null,this._renderMenuItem(we.Pr.criticalVulnerability),this._renderMenuItem(we.Pr.cyberEvent),this._renderMenuItem(we.Pr.malwareFamily),this._renderMenuItem(we.Pr.threatActor),this._renderMenuItem(we.Pr.mitreAttack)):t?this._renderMenuItem(we.Pr.security,{addOn:!0}):null}}Me.propTypes={hideSecurityLayer:r().bool,hasLeoSecurityFeature:r().bool,hasSecurityFeed:r().bool,onCloseDrawer:r().func.isRequired,onNewPriorityClick:r().func.isRequired},Me.defaultProps={hideSecurityLayer:!1,hasLeoSecurityFeature:!1,hasSecurityFeed:!1};var Se=s(3453);function Te({onCloseDrawer:e,onPauseClick:t,onRefinePriority:s,onResumeClick:i,onRemovePriority:r,onUpgradeClick:a,onViewPrioritizedArticles:o,priority:l,usernames:c}){const d=(0,Ee.IE)(l);let h;return l.createdBy?(h=`Created by ${c[l.createdBy]}`,l.created&&(h+=` on ${(0,be.p6)(new Date(l.created),"M/dd/yyyy")}`)):l.created&&(h=`Created on ${(0,be.p6)(new Date(l.created),"M/dd/yyyy")}`),n.createElement($,{onClose:e},n.createElement("div",{className:f()("PriorityOptionsDrawer__header",{"PriorityOptionsDrawer__header--is-muted":!l.active})},n.createElement("div",{className:"PriorityOptionsDrawer__label"},l.label,!l.active&&!d&&" (Paused)"),n.createElement("div",{className:"PriorityOptionsDrawer__sub"},h)),d?n.createElement(oe.kR,{onClick:()=>{a(l)}},n.createElement(D.Z,{importance:"secondary"}),"Upgrade to reactivate"):n.createElement(n.Fragment,null,n.createElement(oe.kR,{onClick:()=>{s(l)}},n.createElement(me.Z,{importance:"secondary"}),"Refine Priority"),n.createElement(oe.kR,{onClick:()=>{l.active?t(l):i(l)}},l.active?n.createElement(ge.Z,{importance:"secondary"}):n.createElement(fe.Z,{importance:"secondary"}),l.active?"Pause":"Resume")),n.createElement(oe.kR,{onClick:()=>{o(l)}},n.createElement(Se.Z,{importance:"secondary"}),`View ${l.numEntries} prioritized ${he()("article",l.numEntries)}`),n.createElement(oe.kR,{danger:!0,onClick:()=>{r(l)}},n.createElement(ve.Z,{color:"danger"}),"Remove"))}Te.propTypes={onCloseDrawer:r().func.isRequired,onPauseClick:r().func.isRequired,onRefinePriority:r().func.isRequired,onResumeClick:r().func.isRequired,onRemovePriority:r().func.isRequired,onUpgradeClick:r().func.isRequired,onViewPrioritizedArticles:r().func.isRequired,priority:r().shape({}).isRequired,usernames:r().objectOf(r().string)},Te.defaultProps={usernames:{}};var Ie=s(13315);class Ne extends n.Component{render(){const{onClose:e}=this.props;return n.createElement($,{className:"ProFeaturesDrawer",onClose:e,ref:this.drawer},Ie.Z.pro.filter((e=>!e.hideFromProPlusPage)).map((e=>n.createElement("div",{className:"ProFeaturesDrawer__feature",key:e.label},n.createElement(ne.Z,{className:"ProFeaturesDrawer__icon",color:"accent"}),n.createElement("p",{className:"m-t-0 m-b-0"},e.label)))))}}Ne.propTypes={onClose:r().func.isRequired};var Pe=s(94613);class Le extends n.Component{constructor(){super(),this._onChange=e=>{this.drawer.current.close(),this.props.onChange(e)},this.drawer=n.createRef()}render(){const{onCloseDrawer:e,options:t,selectedValue:s,sub:i,title:r}=this.props;return n.createElement($,{onClose:e,className:"form",ref:this.drawer},n.createElement("div",{className:"Drawer__header"},r,n.createElement("div",{className:"Drawer__sub"},i)),n.createElement(Pe.kH,{name:"layout",onChange:this._onChange,selectedValue:s},t.map((e=>n.createElement(Pe.mI,{key:e.label,value:e.value},e.label)))))}}Le.propTypes={onChange:r().func,onCloseDrawer:r().func.isRequired,options:r().arrayOf(r().shape({label:r().string,value:r().oneOfType([r().string,r().number])})),selectedValue:r().string,sub:r().string,title:r().string},Le.defaultProps={onChange:()=>{},options:[],selectedValue:null,sub:"",title:""};const xe=Le;var De=s(38476),Oe=s(87790);function Ae({onClose:e,onSalienceChange:t,salience:s}){const i=s===we.mb.about,r=n.createElement(ne.Z,{className:"SalienceDrawer__icon m-x-1",color:"accent"});return n.createElement($,{className:"SalienceDrawer",onClose:e},n.createElement(q,null,"Matching"),n.createElement(oe.v2,{className:"SalienceDrawer__menu"},n.createElement(oe.kR,{className:"SalienceDrawer__menu-item",onClick:()=>{t(we.mb.mention)}},n.createElement(De.Z,{className:"SalienceDrawer__icon m-r-1",importance:i?"secondary":void 0,color:i?"black":"accent"}),n.createElement(_e.x,{className:f()("SalienceDrawer__menu-item-label",{"SalienceDrawer__menu-item-label--active":!i}),color:"primary",size:"small",tagName:"span"},"Everything"),!i&&r),n.createElement(oe.kR,{className:"SalienceDrawer__menu-item",onClick:()=>{t(we.mb.about)}},n.createElement(Oe.Z,{className:"SalienceDrawer__icon m-r-1",importance:i?void 0:"secondary",color:i?"accent":"black"}),n.createElement(_e.x,{className:f()("SalienceDrawer__menu-item-label",{"SalienceDrawer__menu-item-label--active":i}),color:"primary",size:"small",tagName:"span"},"Title only"),i&&r)))}function ze({data:e,onClose:t,onUpgrade:s}){return n.createElement($,{className:"SponsorDrawer",onClose:t},n.createElement(q,null,"The Faster Feedly Sponsorship",n.createElement(V,null,"We would like to thank ",e.company," for sponsoring Feedly and for making your Feedly experience better."),n.createElement(V,null,"Want to remove this module from your feed? Back Feedly directly via Feedly Pro.")),n.createElement(c.zx,{className:"full-width",onClick:s,importance:"primary",label:"Learn more"}))}Ae.propTypes={onClose:r().func.isRequired,onSalienceChange:r().func.isRequired,salience:r().string.isRequired},ze.propTypes={data:r().shape({company:r().string}),onClose:r().func,onUpgrade:r().func},ze.defaultProps={data:{},onClose:()=>{},onUpgrade:()=>{}};class Re extends n.Component{constructor(){super(),this._onChange=()=>{this.drawer.current.close()},this.drawer=n.createRef()}render(){const{data:e,onClose:t}=this.props;return n.createElement($,{onClose:t,ref:this.drawer},n.createElement("div",{className:"Drawer__grid"},e.map((e=>n.createElement("div",{className:"Drawer__column",key:`column-${e.label}`},n.createElement("div",{className:"Drawer__value"},e.value),n.createElement(h.H2,{appearance:"h3",className:"Drawer__label"},e.label))))))}}Re.propTypes={...$.propTypes,data:r().arrayOf(r().shape({label:r().string,value:r().oneOfType([r().string,r().number,r().node])}))},Re.defaultProps={data:[]};var Fe=s(64568);const je=(0,y.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M18.571 2.679h-4.857a.75.75 0 00-.75.75v6.857c0 .414.336.75.75.75h6.857a.75.75 0 00.75-.75V5.429a2.75 2.75 0 00-2.75-2.75zm-4.107 6.857V4.179h4.107l.128.006a1.25 1.25 0 011.122 1.244v4.107h-5.357zM10.286 2.679H5.429a2.75 2.75 0 00-2.75 2.75v4.857c0 .414.335.75.75.75h6.857a.75.75 0 00.75-.75V3.429a.75.75 0 00-.75-.75zm-.75 1.5v5.357H4.179V5.429c0-.69.56-1.25 1.25-1.25h4.107zM10.286 12.964H3.429a.75.75 0 00-.75.75v4.857a2.75 2.75 0 002.75 2.75h4.857a.75.75 0 00.75-.75v-6.857a.75.75 0 00-.75-.75zm-.75 6.857H5.429l-.128-.006a1.25 1.25 0 01-1.122-1.244v-4.107h5.357v5.357zM20.571 12.964h-6.857a.75.75 0 00-.75.75v6.857c0 .415.336.75.75.75h4.857a2.75 2.75 0 002.75-2.75v-4.857a.75.75 0 00-.75-.75zm-.75 1.5v4.107l-.006.128a1.25 1.25 0 01-1.244 1.122h-4.107v-5.357h5.357z"})))}));var Ue=s(11350);const Be=[{label:"Today",iconComponent:Fe.Z,uri:O.JP.Today},{label:"All",iconComponent:je,uri:O.JP.All},{label:"Favorites",iconComponent:Ue.Z,uri:O.JP.Favorites}];class He extends n.Component{constructor(e){super(e),this._onClickMenuItem=e=>{this.preferences.setPreference(O.RO,e.uri),this.feedly.askOpenStartPage(),this._onCloseDrawer()},this._onCloseDrawer=()=>{this.drawer&&this.drawer.current&&(this.drawer.current.close(),this.props.onClose&&this.props.onClose())},this.preferences=streets.service("preferences"),this.drawer=n.createRef(),this.state={activeMenuItem:this.preferences.getPreference(O.RO)}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null,this.preferences=null}render(){const{activeMenuItem:e}=this.state;return n.createElement($,{onClose:this._onCloseDrawer,ref:this.drawer},n.createElement("div",{className:"Drawer__header"},"Start Page"),Be.map((t=>{const s=t.uri===e,i=t.iconComponent;return n.createElement(oe.kR,{key:`item-${t.label}`,active:s,onClick:()=>{this._onClickMenuItem(t)}},n.createElement(i,{color:s?"accent":"black",importance:s?void 0:"secondary"}),n.createElement("div",{style:{flex:1}},t.label),s&&n.createElement(ne.Z,{color:"accent"}))})))}}He.propTypes={...$.propTypes,onClose:r().func},He.defaultProps={onClose:()=>{}};const Ye=He;class Ze extends n.Component{constructor(...e){super(...e),this._renderMenuItem=(e,{addOn:t=!1}={})=>{const{onNewMuteFilterClick:s,onNewPriorityClick:i}=this.props,r=ke.g[e];return n.createElement(oe.kR,{key:e,onClick:()=>{e===we.Pr.muteFilter?s():i(e)}},n.createElement(r,{importance:"secondary",style:{alignSelf:"flex-start"}}),n.createElement("div",null,n.createElement("div",{className:"LeoSelectorDrawer__item-title"},we.aB[e],t&&n.createElement("span",{className:"badge accent small m-l-1"},"add-on")),we.zR[e]&&n.createElement(_e.x,{color:"tertiary",size:"smallest",tagName:"div"},we.zR[e])))}}render(){const{isEnterprise:e,onClose:t}=this.props;return e&&!streets.hasAdminBusinessAccess()?n.createElement(We,{onClose:t}):n.createElement($,{onClose:t},n.createElement(q,null,"Prioritize"),this._renderMenuItem(we.Pr.matches),this._renderMenuItem(we.Pr.businessEvent),this._renderMenuItem(we.Pr.industryTopic,{addOn:!streets.isEnterprisePlan()}),this._renderMenuItem(we.Pr.likeBoard),this._renderSecurityItems(),n.createElement(q,{padTop:!0},"Mute"),this._renderMenuItem(we.Pr.muteFilter))}_renderSecurityItems(){const{hasLeoSecurityFeature:e,hasSecurityFeed:t,hideSecurityLayer:s}=this.props;return s?null:e?n.createElement(n.Fragment,null,this._renderMenuItem(we.Pr.criticalVulnerability),this._renderMenuItem(we.Pr.cyberEvent),this._renderMenuItem(we.Pr.malwareFamily),this._renderMenuItem(we.Pr.threatActor),this._renderMenuItem(we.Pr.mitreAttack)):t?this._renderMenuItem(we.Pr.security,{addOn:!0}):null}}function We({isPriority:e,onClose:t}){return n.createElement($,{onClose:t},n.createElement(q,null,"Admin Permission Needed"),n.createElement("p",{className:"m-a-0"},"You need admin permission to ",e?"refine":"create"," a Leo priority ",e?"":"or mute filter ","on a team feed. Please ask one of your team's admins to grant you admin permission."),n.createElement(c.zx,{className:"full-width m-t-1",importance:"primary",label:"Close",onClick:t}))}Ze.propTypes={hideSecurityLayer:r().bool,isEnterprise:r().bool,hasLeoSecurityFeature:r().bool,hasSecurityFeed:r().bool,onClose:r().func.isRequired,onNewPriorityClick:r().func.isRequired,onNewMuteFilterClick:r().func.isRequired},Ze.defaultProps={hideSecurityLayer:!1,isEnterprise:!1,hasLeoSecurityFeature:!1,hasSecurityFeed:!1},We.propTypes={isPriority:r().bool,onClose:r().func.isRequired},We.defaultProps={isPriority:!1},r().func.isRequired},20785:(e,t,s)=>{"use strict";s.d(t,{U:()=>h});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a),l=s(89803),c=s(86462),d=s(28514);class h extends n.Component{constructor(){super(),this._onTouchableRef=e=>{e&&(this._element=e,this._element.addEventListener("touchstart",this._onTouchStart,!1))},this._onClick=e=>{const{onClick:t}=this.props;!t||this._deepPressTriggered||this._cancelClick||(t(),e.cancelable&&e.preventDefault())},this._onDeepPress=()=>{if(this._deepPressTriggered)return;const{onDeepPress:e}=this.props;e(event),this._deepPressTriggered=!0},this._onTouchStart=e=>{!e.touches||e.touches.length>1||(this._touchStartX=e.targetTouches[0].clientX,this._touchStartY=e.targetTouches[0].clientY,this._touchStartX<c.o?this._cancelClick=!0:(this._cancelClick=!1,this._deepPressTriggered=!1,this._trackGesture(e)))},this._onTouchMove=e=>{if(!e.touches||e.touches.length>1)return this._cancelClick=!0,void this._untrackGesture();if(this._deepPressTriggered)return e.cancelable&&e.preventDefault(),void e.stopPropagation();const t=e.targetTouches[0].clientX-this._touchStartX,s=e.targetTouches[0].clientY-this._touchStartY;(0,l.Xl)(t,s)&&(this._cancelClick=!0,this._untrackGesture())},this._onTouchForceChange=e=>{const[t]=e.touches;t&&t.force>=1&&(this._onDeepPress(),e.preventDefault(),e.stopPropagation())},this._onTouchEnd=()=>{this._untrackGesture()},this._deepPressTriggered=!1,this._element=null,this._touchStartX=null,this._touchStartY=null}componentWillUnmount(){this._untrackGesture(),this._element&&(this._element.removeEventListener("touchstart",this._onTouchStart,!1),this._element=null),this._cancelClickTimer&&(window.clearTimeout(this._cancelClickTimer),this._cancelClickTimer=null),this.longPressTimer&&(window.clearTimeout(this.longPressTimer),this.longPressTimer=null),this._deepPressTriggered=null,this._touchStartX=null,this._touchStartY=null}render(){const{children:e,className:t}=this.props;return n.createElement("div",{className:o()("ForceTouchable",t),onClick:this._onClick,ref:this._onTouchableRef},e)}onPageScroll(e){(0,d.Dt)()&&this._trackingScrollTop===e||(this._cancelClick=!0,this._untrackGesture())}_trackGesture(){const{pageManager:e}=this.props;e&&(this._trackingScrollTop=e.getScrollTop(),e.registerObserver(this)),this._element.addEventListener("touchmove",this._onTouchMove,!1),this._element.addEventListener("touchend",this._onTouchEnd,!1),this._element.addEventListener("touchforcechange",this._onTouchForceChange,!1),this.longPressTimer=window.setTimeout(this._onDeepPress,l.gt)}_untrackGesture(){const{pageManager:e}=this.props;e&&e.unregisterObserver(this),this._cancelClickTimer=window.setTimeout((()=>{this._cancelClick=!1}),10),this._element&&(this._element.removeEventListener("touchmove",this._onTouchMove,!1),this._element.removeEventListener("touchend",this._onTouchEnd,!1),this._element.removeEventListener("touchforcechange",this._onTouchForceChange)),this.longPressTimer&&(window.clearTimeout(this.longPressTimer),this.longPressTimer=null)}}h.propTypes={children:r().node.isRequired,className:r().string,onClick:r().func,onDeepPress:r().func,pageManager:r().objectOf(r().any)},h.defaultProps={className:void 0,onClick:void 0,onDeepPress:()=>{},pageManager:void 0}},83809:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a);function l(e){let{cardWidth:t,displayItems:s,outerPadding:n}=e;return s&&(t=(window.W-n)/s),t}class c extends n.Component{constructor(e){super(e),this.state={cardWidthCalculated:l(e)}}static getDerivedStateFromProps(e,t){return{cardWidthCalculated:l(e)}}render(){const{cardWidth:e,children:t,className:s,formatForTablet:i,innerPadding:r,onTouchEnd:a,onTouchStart:l,outerPadding:c,style:d}=this.props,{cardWidthCalculated:h}=this.state;let u;return i||(u={paddingLeft:`${c}px`,width:this._getCarouselWidth()}),n.createElement("div",{className:o()("MobileCarousel",s,{"MobileCarousel--tablet":i}),style:d,onTouchEnd:a,onTouchStart:l},n.createElement("div",{className:"MobileCarousel__content",style:u},n.Children.map(t,((s,i)=>n.createElement("div",{style:{paddingRight:i!==t.length-1||e?`${r}px`:`${c}px`,width:h||"auto"}},n.cloneElement(s,{width:h}))))))}_getCarouselWidth(){const{cardWidth:e,children:t,displayItems:s,outerPadding:n}=this.props,{cardWidthCalculated:i}=this.state;return s||e?`${t.length*i+n}px`:"auto"}}c.propTypes={cardWidth:r().number,children:r().arrayOf(r().node),className:r().string,displayItems:r().number,formatForTablet:r().bool,innerPadding:r().number,onTouchEnd:r().func,onTouchStart:r().func,outerPadding:r().number,style:r().objectOf(r().string)},c.defaultProps={cardWidth:null,children:[],className:void 0,displayItems:null,formatForTablet:!1,innerPadding:16,onTouchEnd:()=>{},onTouchStart:()=>{},outerPadding:16,style:{}}},53307:(e,t,s)=>{"use strict";s.d(t,{y:()=>Ie});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(66352),c=s(2400),d=s(39895),h=s(74330),u=s(96119),p=s(80891),m=s(13871),g=s(38916),f=s(35278),y=s(27213),v=s(44406),b=s(42566),E=s(11459),C=s(3167),w=s(65698),k=s(97418),_=s(2222),M=s(99442),S=s(35093),T=s(74221),I=s(78505),N=s(79199),P=s(66063),L=s(66709),x=s(39832);class D extends r.Component{constructor(e){super(e),this._onBoardLabelClick=e=>{this.tabsManager.askOpenNewPage(e)},this._onEvernoteClick=()=>{const{entry:e}=this.props,t=e.getDecoration(DECORATIONS.evernote);window.$B.core.application.openURL(t,"browser")},this._onInstapaperClick=()=>{const{entry:e}=this.props,t=e.getDecoration(DECORATIONS.instapaper);this.tabsManager.askOpenExternalUrl(t)},this._onKeywordClick=()=>{const{entry:{feedId:e},streamId:t}=this.props;e!==t&&this.tabsManager.askOpenNewPage(`subscription/${e}`)},this._onMemeMarkerClick=e=>{this.tabsManager.askOpenNewPage(`meme/${encodeURIComponent(e)}`)},this._onPocketClick=()=>{this.tabsManager.askOpenExternalUrl("https://getpocket.com")},this._onReadLaterClick=()=>{const{isReadLater:e}=(0,T.Yg)(this.props.streamId);e||this.tabsManager.askOpenNewPage(this.tabsManager.getReadLaterPageUrl())},this.preferences=streets.service("preferences"),this.state={hasLeoSecurity:!1}}componentDidMount(){this.tabsManager=streets.service("tabsManager"),this._updateLeoInfo()}componentWillUnmount(){this.preferences=null,this.tabsManager=null}render(){const{entry:e,density:t,displayMode:s,hideEngagement:n,layout:i}=this.props,{mostInteresting:a,secondMostInteresting:o}=this._renderInterestingMetadata();if(s===v.DC.tablet&&t===C.AM.compact&&i===E.Ar.titleOnlyMobile)return r.createElement("div",{className:"MobileEntry__metadata metadata"},a,o);const{isTwitterFeed:l,hasLinkedArticle:c}=e.metadata,d=l&&!c,h=d&&e.metadata.tweet.isRetweet;return r.createElement("div",{className:"MobileEntry__metadata metadata"},a,!n&&r.createElement(L.RL,{engagement:e.getEngagement(),engagementRate:e.getEngagementRate(),isHot:e.isHot()}),!d&&this._renderSourceTitle(),this._renderAuthor(),r.createElement(A,{entry:e}),h&&this._renderRetweetedBy(),o)}_renderAuthor(){const{hideAuthor:e,entry:t}=this.props,s=t.getFirstAuthor(),{isTwitterFeed:n,hasLinkedArticle:i}=t.metadata;if(n&&!i)return r.createElement(r.Fragment,null,r.createElement(x.JD,{entry:t})," / ");if(e||!s||s===t.getSourceTitle()||t.metadata.isTwitterFeed)return null;let a="by ";return t.isContentRTL()&&(a=" / "),r.createElement(r.Fragment,null,r.createElement("span",{className:"authors"},a+s)," / ")}_renderRetweetedBy(){const{entry:e}=this.props;return r.createElement(r.Fragment,null,r.createElement(x.JG,null),r.createElement("span",null,e.metadata.tweet.twitterFeedAuthorHandle+" retweeted"))}_renderInterestingMetadata(){const{hasLeoSecurity:e}=this.state,{entry:t,hideMeme:s,hideBoardLabel:n,isLeoPreview:i,layout:a,priorityInfo:l,showKeywordMarker:c,showSecondarySourceMarker:d}=this.props,h=a===E.Ar.fullArticle;let u=t.listEnterpriseTags();u&&0!==u.length||(u=t.listPersonalTags(!0));const p=t.getDecoration(k.I.evernote),m=t.getDecoration(k.I.instapaper),g=t.getFeedback(),{parts:f=[]}=t.getPreviewSearchTerms()||{};let y=null,v=null;const b=!!t.getFirstAlertSourceInfo();if(i){const s=[];let n=!1,a=!1;l.layers&&(n=0!==(0,_.eG)(l.layers,M.ur.security).length,a=0!==(0,_.eG)(l.layers,M.ur.likeBoard).length);const o=f.map((e=>e.id||e.text)),c=l.layers.filter((e=>e.type===M.ur.matches)).map((e=>{const{parts:t}=e;return t.find((e=>o.indexOf(e.id)>-1||o.indexOf(e.text)>-1))}));if(t.showCVSS(i)&&n&&e&&s.push(r.createElement(ie,{key:M.ur.security,entry:t})),c.length){const e=t.findRelevantCausedEntities({searchTerms:{parts:c}});c.slice(0,I.Rc).forEach((t=>{if(t){let n=t.label||t.text;const i=(0,w.FW)(t);if(e.length){const s=e.find((e=>e.id===t.id));n=s?s.causes[0].label:n}s.push(r.createElement(P.h,{key:`${M.ur.matches}-${n}`,iconComponent:S.Z1[i],iconColor:"accent",label:n}))}}))}u&&u.length>0&&a&&s.push(r.createElement(fe,{key:M.ur.likeBoard,tag:u[0]})),t.metadata.isRedditFeed&&s.push(r.createElement(Ee,{entry:t})),s.length&&(y=s.slice(0,I.PN).map(((e,t,s)=>r.createElement(r.Fragment,{key:e.key},e,t!==s.length-1&&r.createElement(x.JG,null)))),v=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm))}else g?(y=r.createElement(ue,{clickable:h,entry:t,feedback:g}),v=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):u&&u.length>0&&!n?(y=r.createElement(fe,{tag:u[0]}),v=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):t.metadata.isSavedToPocket?(y=r.createElement(P.h,{label:"Pocket",onClick:h?this._onPocketClick:null}),v=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):m?(y=r.createElement(P.h,{label:"Instapaper",onClick:h?this._onInstapaperClick:null}),v=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):p?(y=r.createElement(P.h,{label:"Evernote",onClick:h?this._onEvernoteClick:null}),v=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):t.isQuicklisted()&&!n?(y=r.createElement(P.h,{label:"Read later",onClick:h?this._onReadLaterClick:null}),v=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):t.isPrioritized()?(y=r.createElement(he,{clickable:h,entry:t}),v=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):t.showCVSS()&&e?(y=r.createElement(ie,{clickable:h,entry:t}),v=this._renderSecondMostInterestingMetadata(t.metadata.prettyTerm)):!s&&t.getMeme()?y=r.createElement(me,{meme:t.getMeme(),onClick:h?()=>{this._onMemeMarkerClick(t.getMeme().id)}:null}):b&&(d||t.showEntityCauseLabel())?y=this._renderWebAlertMetadata():t.metadata.isRedditFeed&&d?y=r.createElement(Ee,{entry:t}):t.metadata.prettyTerm&&c&&(y=r.createElement(ae,{keyword:t.metadata.prettyTerm,onClick:h?this._onKeywordClick:null}));if(y&&(y=r.createElement(r.Fragment,null,r.createElement("div",{className:o()("EntryMetadata__most-interesting",`EntryMetadata__most-interesting--${a}`)},y),r.createElement(x.JG,null))),v){const e=t.metadata.tweet&&!t.metadata.hasLinkedArticle&&t.metadata.tweet.isRetweet;v=r.createElement(r.Fragment,null,r.createElement(x.JG,null),r.createElement("div",{className:o()("EntryMetadata__second-most-interesting",`EntryMetadata__second-most-interesting--${a}`,{"m-l-1":e})},v))}return{mostInteresting:y,secondMostInteresting:v}}_renderSecondMostInterestingMetadata(e){const{hasLeoSecurity:t}=this.state,{entry:s,hideMeme:n,isLeoPreview:i,layout:a,showSecondarySourceMarker:o}=this.props,l=a===E.Ar.fullArticle;if(s.isPrioritized()){if(s.showCVSS()&&t&&!i)return r.createElement(ie,{clickable:l,entry:s});if(!!s.getFirstAlertSourceInfo()&&!i&&o)return this._renderWebAlertMetadata();if(s.metadata.isRedditFeed&&o)return r.createElement(Ee,{entry:s});if(e)return r.createElement(ae,{keyword:e})}return!n&&s.getMeme()?r.createElement(me,{meme:s.getMeme()}):null}_renderWebAlertMetadata(){const{entry:e,layout:t}=this.props;return r.createElement(ve,{clickable:t===E.Ar.fullArticle,entry:e})}_renderSourceTitle(){const{entry:e,layout:t,showSourceTitle:s}=this.props,n=!!e.getFirstAlertSourceInfo();return e.metadata.googleNews||e.metadata.isTwitterFeed&&e.metadata.hasLinkedArticle||n||s?r.createElement(R,{clickable:t===E.Ar.fullArticle,entry:e}):null}async _updateLeoInfo(){const e=await streets.service("leo").askHasLeoSecurityFeature();this.setState({hasLeoSecurity:e})}}D.propTypes={density:i().oneOf(C.fM),displayMode:i().string,entry:N.A.isRequired,hideAuthor:i().bool,hideEngagement:i().bool,hideBoardLabel:i().bool,hideMeme:i().bool,isLeoPreview:i().bool,layout:i().oneOf(E.tv),priorityInfo:i().shape({id:i().string,label:i().string,streamLabel:i().string,layers:i().arrayOf(i().object)}),showKeywordMarker:i().bool,showSecondarySourceMarker:i().bool,showSourceTitle:i().bool,streamId:i().string},D.defaultProps={density:C.AM.comfortable,displayMode:null,entry:null,hideAuthor:!1,hideBoardLabel:!1,hideEngagement:!1,hideMeme:!1,isLeoPreview:!1,layout:E.Ar.magazine,priorityInfo:{},showKeywordMarker:!1,showSecondarySourceMarker:!1,showSourceTitle:!0,streamId:""};var O=s(69098);function A({entry:e}){return r.createElement(O.E,{className:e.isContentRTL()?"m-l-1":"",date:e.getCrawledDate(),isRTL:e.isContentRTL(),lastModifiedDate:e.getLastModifiedDate()})}A.propTypes={entry:i().objectOf(i().any).isRequired};var z=s(35610);function R({className:e,clickable:t,entry:s,hideSlash:n}){let i=s.getCleanSourceTitle();i||(i=(0,z._Y)(s.getCleanAlternateLink()));const a=s.metadata.isRedditFeed&&(!s.metadata.hasLinkedArticle||i.includes(s.metadata.redditPost.subredditName));if(i&&!a){let a;if(i.length>40&&(i=i.slice(0,40)+"..."),t){const e=s.getFeedId();e&&(a="subscription/"+encodeURIComponent(e))}return r.createElement(r.Fragment,null,r.createElement("span",{className:o()("MobileEntry__metadata-source",e),onClick:a?()=>{streets.service("tabsManager").askOpenNewPage(a)}:null},i),!n&&" / ")}return null}R.propTypes={className:i().string,clickable:i().bool,entry:i().shape({getCleanSourceTitle:i().func,getFeedId:i().func,metadata:i().object}).isRequired,hideSlash:i().bool},R.defaultProps={className:void 0,clickable:!1,hideSlash:!1};var F=s(49031),j=s(10974);class U extends r.Component{constructor(e){super(e),this._onClick=e=>{e.stopPropagation(),e.preventDefault(),this.setState({isDrawerOpen:!0})},this._onClose=()=>{this.setState({isDrawerOpen:!1})},this._element=r.createRef(),this.state={isDrawerOpen:!1}}componentDidMount(){this._element.current.addEventListener("click",this._onClick,!0)}componentWillUnmount(){this._element.current.removeEventListener("click",this._onClick,!0),this._element=null}render(){const{isDrawerOpen:e}=this.state,{children:t,entityId:s,entry:n,hasLeoHighlight:i,streamId:a}=this.props,l=n.findEntity(s),c=(0,w.FW)(l),d=S.Z1[c];let h;return h=(0,j.D4)(s)?ne:V,r.createElement("div",{ref:this._element,className:o()("fx InlineEntity",{"InlineEntity--leo-highlighted":i}),onClick:this._onClick},r.createElement("strong",null,t),r.createElement(d,{className:"InlineEntity__icon m-r-0",importance:"primary"}),e&&r.createElement(h,{entry:n,entityId:s,onClose:this._onClose,streamId:a}))}}U.propTypes={children:i().node.isRequired,entityId:i().string.isRequired,entry:N.A.isRequired,hasLeoHighlight:i().bool,streamId:i().string},U.defaultProps={hasLeoHighlight:!1,streamId:void 0};var B=s(16847),H=s(855),Y=s(56466),Z=s(11681),W=s(23005),$=s(87272),q=s(95234);class V extends r.Component{constructor(...e){super(...e),this.state={entity:null},this._onSearchEntity=({label:e})=>{const{onClose:t}=this.props;this.tabsManager.askOpenNewPage(`https://feedly.com/i/${(0,H.xU)({scope:"topic/global.popular",term:e,time:H.qp.month,type:H.Fq.in})}`),t()}}componentDidMount(){this.leo=streets.service("leo"),this.tabsManager=streets.service("tabsManager"),this._updateEntity()}componentWillUnmount(){this.leo=null,this.tabsManager=null}render(){const{entry:e,onClose:t,streamId:s}=this.props,{entity:n}=this.state;if(!n)return r.createElement(Z.dy,{onClose:t},r.createElement(W.g,null));const{knowledgeBaseUrl:i,label:a,type:o}=n,{associatedEntities:l,description:c,isThreatEntity:d,sub:h}=(0,Y._)(n);return r.createElement(Z.dy,{className:"InlineEntityDrawer",onClose:t},r.createElement(Z.OX,null,a,i&&o!==S.KI&&r.createElement(Z.h1,{muted:!0,small:!0},h)),c&&r.createElement("p",{className:"InlineEntityDrawer__description"},(0,B.kC)(c)),d&&r.createElement(q._,{className:"InlineEntityDrawer__associated-entities",associatedEntities:l,onSearchEntity:this._onSearchEntity,type:o}),r.createElement($.f,{entry:e,onClose:t,part:n,streamId:s}))}async _updateEntity(){const{entityId:e}=this.props,t=await this.leo.askEntityInfo(e);this.setState({entity:t})}}V.propTypes={entityId:i().string.isRequired,entry:N.A.isRequired,onClose:i().func.isRequired,streamId:i().string},V.defaultProps={streamId:""};var G=s(3453),Q=s(36899),K=s(71262);const J=(0,K.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M13.979 14.69a1.395 1.395 0 01-2.39.128l-.073-.122-2.32-4.334a.75.75 0 011.268-.794l.054.086 2.227 4.16 2.204-4.157a.75.75 0 01.56-.392l.103-.007h3.808c1.982 0 3.108 1.097 3.108 3.046 0 1.872-1.035 2.975-2.898 3.1l-.21.01H16.8a.75.75 0 01-.743-.649l-.007-.102V12a.75.75 0 011.493-.102l.007.102v1.913h1.85c1.112-.03 1.58-.445 1.625-1.446l.003-.163c0-1.056-.402-1.5-1.439-1.543l-.169-.003h-3.358l-2.083 3.933zM8.136 9.25a.75.75 0 01.743.648l.007.102v4.028a1.395 1.395 0 01-2.354 1.013l-.099-.103-3.369-3.916v3.65a.75.75 0 01-.648.743l-.102.007a.75.75 0 01-.743-.648l-.007-.102v-3.933a1.395 1.395 0 012.348-1.02l.105.11 3.369 3.916V10a.75.75 0 01.648-.743l.102-.007z"})))}));var X=s(16216),ee=s(31318),te=s(28576),se=s(95192);class ne extends r.Component{constructor(...e){super(...e),this.state={entity:null,isLeoEnabled:!1},this._onPrioritizeClick=async e=>{const{onClose:t,streamId:s}=this.props,{entity:n}=this.state,{isGlobal:i}=(0,T.Yg)(s);let r;if(e.stopPropagation(),s){const e=await streets.service("collections").askLabelsIndex();!i&&e[s]&&(r={streamIds:[s],streamLabel:e[s]})}t(),streets.service("tabsManager").askOpenNewPage("priorityForm",{helperPage:!0,props:{initialPriority:{...r||{streamIds:[],streamLabel:"Select a Feed"},layers:[{[M.y9.matches]:[{text:n.cveid}],type:M.ur.matches}]}}})},this._onViewOnNVDClick=()=>{const{entity:e}=this.state;this.tabsManager.askOpenExternalUrl((0,j.OZ)(e.cveid))},this._onSearchClick=e=>{const{onClose:t}=this.props,{entity:{cveid:s}}=this.state;e.stopPropagation(),t(),streets.service("tabsManager").askOpenPage(`https://feedly.com/i/${(0,H.xU)({locale:"en",scope:"topic/global.popular",term:s,time:H.qp.month,type:H.Fq.in})}`)}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.tabsManager=streets.service("tabsManager"),this.leo=streets.service("leo"),this._updateInitialData()}componentWillUnmount(){this.enterprise=null,this.tabsManager=null,this.leo=null}render(){const{onClose:e}=this.props,{entity:t,isLeoEnabled:s}=this.state;if(!t)return r.createElement(Z.dy,{onClose:e},r.createElement(W.g,null));if(!t.cveid)return r.createElement(Z.dy,{onClose:e},r.createElement("p",null,"Info could not be found for this vulnerability. Please check again later."));const{cveid:n,cvssV3:{attackComplexity:i,attackVector:a,availabilityImpact:o,baseScore:l}={},description:c,exploits:d,patched:h,trendingSparklineUrl:u,trending:p}=t;return r.createElement(Z.dy,{className:"InlineEntityDrawer",onClose:e},r.createElement("div",{className:"InlineEntityDrawer__content"},r.createElement(Z.OX,null,n,r.createElement(Z.h1,{muted:!0,small:!0},l&&r.createElement(se.x,{className:"m-r-1",color:"accent",size:"smallest",tagName:"span"},"CVSS: ",l),r.createElement("span",{className:"m-r-1"},"Exploit: ",d&&d.length?"Yes":"No"),r.createElement("span",{className:"m-r-1"},"Patched: ",h?"Yes":"No"),p&&r.createElement(se.x,{className:"m-l-1",color:"accent",size:"smallest",tagName:"span"},"trending"))),c&&r.createElement("p",{className:"InlineEntityDrawer__description"},c),r.createElement("div",{className:"InlineEntityDrawer__stats"},r.createElement("div",null,a&&r.createElement(ee.yi,{label:"AV:",value:X.z3[a]}),i&&r.createElement(ee.yi,{label:"AC:",value:X.DQ[i]}),o&&r.createElement(ee.yi,{label:"A:",value:X.UQ[o]})),u&&r.createElement("img",{className:"InlineEntityDrawer__chart",alt:"Trend graph of "+n,src:u}))),s&&r.createElement(te.kR,{onClick:this._onPrioritizeClick},r.createElement(G.Z,{importance:"secondary"}),"Prioritize"),r.createElement(te.kR,{onClick:this._onSearchClick},r.createElement(Q.Z,{importance:"secondary"}),"Search"),r.createElement(te.kR,{onClick:this._onViewOnNVDClick},r.createElement(J,{importance:"secondary"}),"View on NVD"))}async _updateInitialData(){const{entityId:e}=this.props,t=await this.leo.askEntityInfo(e),s=await this.leo.askIsLeoEnabled();this.setState({entity:t,isLeoEnabled:s})}}ne.propTypes={entityId:i().string.isRequired,onClose:i().func.isRequired,streamId:i().string},ne.defaultProps={streamId:void 0};class ie extends r.Component{constructor(...e){super(...e),this.state={isDrawerOpen:!1},this._onClick=()=>{this.setState({isDrawerOpen:!0})},this._onCloseDrawer=()=>{this.setState({isDrawerOpen:!1})}}render(){const{clickable:e,entry:t}=this.props,{isDrawerOpen:s}=this.state,n=t.listTopVulnerability()||{},{id:i,vulnerabilityInfo:a={},vulnerabilityInfo:{cvssScore:o,hasExploit:l}={}}=n,c=t.getPrioritySeverity(),{category:d}=t.getEstimatedCVSS()||{},h=o&&(o>8||o>5&&l);return r.createElement(r.Fragment,null,r.createElement(P.h,{label:(0,j.GE)(a,c,d),iconComponent:F.Z,iconColor:h?"accent":"black",iconTitle:"CVSS Score",importance:h?void 0:"secondary",onClick:e&&o?this._onClick:null}),s&&r.createElement(ne,{entityId:i,onClose:this._onCloseDrawer,streamId:t.suggestViaFeedId()}))}}ie.propTypes={clickable:i().bool,entry:i().shape({getEstimatedCVSS:i().func,getPrioritySeverity:i().func,listTopVulnerability:i().func,suggestViaFeedId:i().func}).isRequired},ie.defaultProps={clickable:!1};var re=s(51205);class ae extends r.PureComponent{render(){const{keyword:e,onClick:t}=this.props;return e?r.createElement(P.h,{label:e,iconComponent:re.Z,iconTitle:"Keyword Alert",importance:"secondary",onClick:t}):null}}ae.propTypes={keyword:i().string,onClick:i().func},ae.defaultProps={keyword:null,onClick:()=>{}};var oe=s(50240);class le extends r.Component{render(){const{authorHandle:e,onClick:t}=this.props;return e?r.createElement(P.h,{label:`${e}`,iconComponent:oe.Z,iconTitle:"Tweet",importance:"secondary",onClick:t}):null}}le.propTypes={authorHandle:i().string,onClick:i().func},le.defaultProps={authorHandle:null,onClick:()=>{}};var ce=s(42070),de=s(63402);class he extends r.Component{constructor(e){super(e),this._onOpenPriorityExplanationDrawer=()=>{this.setState({isPriorityExplanationDrawerOpen:!0})},this._onClosePriorityExplanationDrawer=()=>{this.setState({isPriorityExplanationDrawerOpen:!1})},this._onCloseDeleteDrawer=()=>{this.setState({isConfirmDeleteDrawerOpen:!1})},this._onPauseClick=async e=>{this._onClosePriorityExplanationDrawer();const t={streamIds:[],...e,active:!1};try{await this.priorities.askSave(t),this.notifications.showMessage(`${e.label} has been paused.`)}catch(s){this.notifications.showError(`There was an error when trying to update ${e.label}.`)}},this._onRefinePriorityClick=e=>{this._onClosePriorityExplanationDrawer(),this.tabsManager.askOpenNewPage("priorityForm",{props:{initialPriority:e,isUpdating:!0}})},this._onRemovePriorityClick=()=>{this.setState({isPriorityExplanationDrawerOpen:!1,isConfirmDeleteDrawerOpen:!0})},this._onResumeClick=async e=>{this._onClosePriorityExplanationDrawer();const t={streamIds:[],...e,active:!0};try{await this.priorities.askSave(t),this.notifications.showMessage(`${e.label} has been resumed.`)}catch(s){this.notifications.showError(`There was an error when trying to update ${e.label}.`)}},this._onDeleteConfirmClick=async e=>{this.setState({isConfirmDeleteDrawerOpen:!1});try{await this.priorities.askDelete(e.id),this.notifications.showMessage(`${e.label} has been deleted.`)}catch(t){this.notifications.showError(`There was an error when trying to delete ${e.label}.`)}this.setState({selectedPriority:null})},this.state={isPriorityExplanationDrawerOpen:!1,isConfirmDeleteDrawerOpen:!1}}componentDidMount(){const{entry:e}=this.props;if(!e)return;const t=e.getMostRelevantPriority();if(!t)return;const{streamId:s}=t;if(!s)return;const{isEnterprise:n}=(0,T.Yg)(s);this.priorities=n?streets.service("enterprisepriorities"):streets.service("personalpriorities"),this.notifications=streets.service("notifications"),this.tabsManager=streets.service("tabsManager")}componentWillUnmount(){this.priorities=null,this.notifications=null,this.tabsManager=null}render(){const{clickable:e,entry:t}=this.props,{isPriorityExplanationDrawerOpen:s,isConfirmDeleteDrawerOpen:n}=this.state;if(!t)return null;const i=t.getPriorityLabel(),a=t.getMostRelevantPriority();return i?r.createElement(r.Fragment,null,r.createElement(P.h,{label:i,iconComponent:ce.Z,iconColor:"accent",iconTitle:"Prioritized by Leo",onClick:e?this._onOpenPriorityExplanationDrawer:null}),s&&r.createElement(Z.dy,{onClose:this._onClosePriorityExplanationDrawer},r.createElement(de.eg,{entry:t,priority:a,onDeleteClick:this._onRemovePriorityClick,onPauseClick:this._onPauseClick,onRefineClick:this._onRefinePriorityClick,onResumeClick:this._onResumeClick})),n&&r.createElement(Z.dR,{isPriority:!0,leoTopicToDelete:a,onCloseDeleteDrawer:this._onCloseDeleteDrawer,onDeleteConfirmClick:this._onDeleteConfirmClick})):null}}he.propTypes={clickable:i().bool,entry:i().shape({getMostRelevantPriority:i().function,getPriorityLabel:i().function}).isRequired},he.defaultProps={clickable:!1};class ue extends r.Component{constructor(...e){super(...e),this.state={isExplanationDrawerOpen:!1},this._onDeleteFeedback=async()=>{const{entry:e}=this.props;this._onCloseExplanationDrawer(),await this.reader.askDeleteEntryFeedback(e.getId()),streets.service("notifications").showMessage("Feedback undone")},this._onOpenExplanationDrawer=()=>{this.setState({isExplanationDrawerOpen:!0})},this._onCloseExplanationDrawer=()=>{this.setState({isExplanationDrawerOpen:!1})}}componentDidMount(){this.reader=streets.service("reader")}componentWillUnmount(){this.reader=null}render(){const{isExplanationDrawerOpen:e}=this.state,{clickable:t,entry:s,feedback:n}=this.props;return s?r.createElement(r.Fragment,null,r.createElement(P.h,{label:"Less like this",onClick:t?this._onOpenExplanationDrawer:null}),e&&r.createElement(Z.dy,{onClose:this._onCloseExplanationDrawer},r.createElement(de.Tx,{entry:s,feedback:n,onDeleteFeedback:this._onDeleteFeedback}))):null}}ue.propTypes={clickable:i().bool,entry:i().object.isRequired,feedback:i().shape({addedBy:i().string,description:i().string,reason:i().string}).isRequired},ue.defaultProps={clickable:!1};var pe=s(90898);class me extends r.PureComponent{render(){const{meme:e,onClick:t}=this.props;return e.id?r.createElement(P.h,{label:e.label,iconComponent:pe.Z,iconColor:"accent",iconTitle:"Meme",onClick:t}):null}}me.propTypes={meme:i().shape({id:i().string,label:i().string}).isRequired,onClick:i().func},me.defaultProps={onClick:()=>{}};var ge=s(19381);class fe extends r.PureComponent{render(){const{className:e,tag:{id:t,label:s}}=this.props;return t?r.createElement(P.h,{className:e,label:s,iconComponent:ge.Z,iconColor:"accent",iconTitle:"Priority"}):null}}fe.propTypes={className:i().string,tag:i().shape({id:i().string,label:i().string}).isRequired},fe.defaultProps={className:void 0};var ye=s(40429);function ve({clickable:e,entry:t}){const s=t.getFirstAlertSourceInfo();let n=t.getWebAlertLabel(s);if(n){let t;return n.length>40&&(n=n.slice(0,40)+"..."),e&&(t="subscription/"+encodeURIComponent(s.streamId)),r.createElement(P.h,{label:n,iconComponent:ye.Z,iconTitle:"Web Alert",importance:"secondary",onClick:e=>{e.stopPropagation(),streets.service("tabsManager").askOpenNewPage(t)}})}return null}ve.propTypes={clickable:i().bool,entry:N.A.isRequired},ve.defaultProps={clickable:!1,hideSlash:!1};const be=(0,K.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M15.555 1.82a2.417 2.417 0 11-2.41 2.594l-1.592-.448-.598 2.342c1.312.12 2.523.487 3.53 1.039a2.484 2.484 0 014.247 1.867 2.487 2.487 0 01-1.39 2.117c.003.065.005.13.005.197 0 2.98-3.337 5.264-7.348 5.264-4.01 0-7.347-2.283-7.347-5.264 0-.066.002-.132.005-.198a2.484 2.484 0 01.488-4.643c.87-.219 1.765.05 2.37.66 1.1-.603 2.444-.985 3.899-1.067l.876-3.43a.75.75 0 01.828-.557l.101.021 2.286.642a2.415 2.415 0 012.05-1.137zM9.999 7.763c-1.69 0-3.191.468-4.25 1.196a.133.133 0 01-.025.019c-.98.68-1.572 1.586-1.572 2.549 0 2.005 2.57 3.764 5.847 3.764 3.277 0 5.848-1.76 5.848-3.764 0-2.005-2.571-3.764-5.848-3.764zm-2.103 5.103a4.23 4.23 0 002.114.525c.728.01 1.446-.17 2.084-.52a.75.75 0 01.723 1.315 5.69 5.69 0 01-2.807.705 5.708 5.708 0 01-2.84-.713.75.75 0 01.726-1.312zm4.881-4.173a1.792 1.792 0 110 3.584 1.792 1.792 0 010-3.584zm-5.555 0a1.792 1.792 0 110 3.584 1.792 1.792 0 010-3.584zm5.555 1.5a.292.292 0 100 .584.292.292 0 000-.584zm-5.555 0a.292.292 0 100 .584.292.292 0 000-.584zM3.51 8.142a.986.986 0 00-.458 1.652 4.997 4.997 0 011.186-1.551.977.977 0 00-.728-.101zm12.26.094l-.01.007c.51.457.914.98 1.187 1.55a.986.986 0 00-1.177-1.557zm-.215-4.917a.917.917 0 100 1.834.917.917 0 000-1.834z",fill:"currentColor",fillRule:"nonzero"}))}));function Ee({entry:e}){const t=`subscription/${e.getFeedId()}`;return r.createElement(P.h,{label:`Shared in ${e.metadata.redditPost.subredditName}`,iconComponent:be,iconTitle:"Reddit",importance:"secondary",onClick:e=>{e.stopPropagation(),streets.service("tabsManager").askOpenNewPage(t)}})}Ee.propTypes={entry:i().object.isRequired};var Ce=s(31813),we=s(77817),ke=s(39970),_e=s(63776),Me=s(20785),Se=s(85350);const Te={u4:[110,70],u5:[254,182],uFeatured:[604,320]};function Ie(e){return r.createElement(Ne,e)}class Ne extends r.Component{constructor(e){super(e),this._onAddToInstapaper=async()=>{const{entry:e}=this.state,t=e.getDecoration("instapaper");try{streets.hasProAccess()?t||await streets.service("instapaper").askAdd(e.id):this.tabsManager.askOpenNewPage("premium/pro/instapaper")}catch(s){streets.service("notifications").showError(`Error ${s.message}`)}},this._onAddToPocket=async()=>{const{entry:e}=this.state;try{if(!streets.hasProAccess())return void this.tabsManager.askOpenNewPage("premium/pro/pocket");e.metadata.isSavedToPocket||await streets.service("pocket").askAddToPocket(e.id)}catch(t){streets.service("notifications").showError(`Error ${t.message}`)}},this._onOpenFeedbackDrawer=()=>{this.setState({isFeedbackDrawerOpen:!0})},this._onDeepPress=()=>{(0,y.n)(),this.setState({isActionDrawerOpen:!0})},this._onCloseActionDrawer=()=>{this.setState({isActionDrawerOpen:!1})},this._onCloseFeedbackDrawer=()=>{this.setState({isFeedbackDrawerOpen:!1})},this._onSubmitFeedback=()=>{this.notifications.showMessage("Feedback collected"),this._onCloseFeedbackDrawer()},this._onClick=async()=>{const{entry:e,isActionDrawerOpen:t}=this.state;if(t)return;const s=e.getId(),n=e.getNavigation(),i=(0,f.WH)("feedly_openWebsiteDirectly");"visit"===n||"yes"===i?(this.reader.askMarkEntryAsRead(s),this.tabsManager.askOpenExternalUrl(e.getBestAlternateLink())):this.tabsManager.askOpenNewPage(`entry/${encodeURIComponent(s)}`)},this._onToggleMarkedAsRead=()=>{const{entryId:e}=this.props;streets.getUserId()?this.reader.askToggleEntryRead(e):streets.service("auth").startFlow("signup")},this._onToggleQuicklisted=()=>{const{entry:e}=this.state;streets.getUserId()?this.reader.askToggleEntryQuicklisted(e.id):streets.service("auth").startFlow("signup")},this._onSaveToBoard=()=>{const{entry:e}=this.state,t=e.getId();streets.getUserId()?this.tabsManager.askOpenNewPage(`saveEntry/${encodeURIComponent(t)}`,{helperPage:!0}):streets.service("auth").startFlow("signup")},this.feedly=streets.service("feedly"),this.image=streets.service("image"),this.reader=streets.service("reader"),this.resize=streets.service("resize"),this.entryElementRef=r.createRef();const t=this.reader.lookupEntry(e.entryId);this.state={displayMode:this.resize.getDisplayMode(),entry:t,expandNotes:!1,expandHighlights:!1,isActionDrawerOpen:!1,isEvernoteConnected:!1,isInstapaperConnected:!1,isPocketConnected:!1,isLeoEnabled:!1,theme:this.feedly.getTheme(),visual:null}}componentDidMount(){const{entry:e}=this.state;this.engagements=streets.service("engagements"),this.evernote=streets.service("evernote"),this.instapaper=streets.service("instapaper"),this.integrations=streets.service("integrations"),this.leo=streets.service("leo"),this.notifications=streets.service("notifications"),this.pocket=streets.service("pocket"),this.preferences=streets.service("preferences"),this.tabsManager=streets.service("tabsManager"),this.engagements.registerObserver(this),this.evernote.registerObserver(this),this.instapaper.registerObserver(this),this.integrations.registerObserver(this),this.pocket.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this),this.resize.registerObserver(this),e?(this._updateBestVisual(),this.engagements.askRefreshEntryEngagement(e)):this._updateEntry({refreshEngagement:!0}),this._updateIsLeoEnabled(),this._updateConnections()}componentWillUnmount(){this.engagements.unregisterObserver(this),this.evernote.unregisterObserver(this),this.instapaper.unregisterObserver(this),this.integrations.unregisterObserver(this),this.reader.unregisterObserver(this),this.resize.unregisterObserver(this),this.pocket.unregisterObserver(this),this.preferences.unregisterObserver(this),this.engagements=null,this.evernote=null,this.feedly=null,this.image=null,this.instapaper=null,this.integrations=null,this.leo=null,this.notifications=null,this.pocket=null,this.preferences=null,this.reader=null,this.resize=null,this.tabsManager=null}onDisplayResized(){this.setState({displayMode:this.resize.getDisplayMode()})}onEntryAnnotationsChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryTagsChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryMarkedAsRead(e,t){const{entryId:s}=this.props;e!==s||t&&!0===t.batch||this._updateEntry()}onEntryKeptUnread(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryQuicklistStatusChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryEngagementChanged(e,t){const{entryId:s}=this.props;e===s&&(!t||t<20||this._updateEntry())}onEvernoteAdded(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryFeedbackChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryPriorityChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onInstapaperAdded(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onIntegrationConnectionChanged(){this._updateConnections()}onPocketAdded(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onPreferenceChanged(e){e===C.ZW&&this.setState({theme:this.feedly.getTheme()},(()=>this._updateBestVisual()))}render(){const{entryId:e}=this.props;window.entryRendererDebug||(window.entryRendererDebug={}),window.entryRendererDebug[e]||(window.entryRendererDebug[e]=0),window.entryRendererDebug[e]+=1;const{className:t,demo:s,density:n,hideRelatedEntries:i,highlightKeywords:a,isLeoPreview:u,layout:p,pageManager:m,selected:g}=this.props,{displayMode:f,entry:y,isActionDrawerOpen:k,isFeedbackDrawerOpen:_,isEvernoteConnected:M,isInstapaperConnected:S,isLeoEnabled:T,isPocketConnected:I,visual:N}=this.state;if(!y)return r.createElement("div",null);const P=y.isRead(),x=y.isPrioritized(),D=N&&N.url?N.url:null,{isTwitterFeed:O,hasLinkedArticle:A}=y.metadata,z=O&&!A,R={entry:!0,"entry--read":P,OpenAnimationOverview:!0,MobileEntry:!0,[`MobileEntry--${f}`]:!0,[`MobileEntry--density-${n}`]:f!==v.DC.tablet||window.W>740,mobile:!0,prioritized:x,selected:g,"MobileEntry--rtl":y.isContentRTL(),[p]:!0,[t]:!!t};let F=y.getCleanTitle();const j=y.getHighlightableKeywords();let U;switch(a&&j&&j.length>0&&(F=r.createElement(ke.L,{caseSensitive:!0,wordClassName:"entry__keyword",words:j,text:F,wrapper:"fragment",fullword:!0})),p){case E.Ar.titleOnlyMobile:U=r.createElement("article",{id:`entry-${e}`,"data-entry-id":e,"data-key":e,className:o()(R),ref:this.entryElementRef},r.createElement("div",{className:"content"},this._renderTitleOnlyViewContent(F),this._renderAdditionalInfo(),(n!==C.AM.compact||f!==v.DC.tablet)&&!i&&r.createElement(L.wK,{entry:y})),k&&r.createElement(Z.ot,{entry:y,isEvernoteConnected:M,isInstapaperConnected:S,isPocketConnected:I,onClose:this._onCloseActionDrawer,onOpenFeedbackDrawer:this._onOpenFeedbackDrawer,isLeoEnabled:T,pageManager:m}),_&&this._renderFeedbackDrawer(y));break;case E.Ar.cards:U=r.createElement("article",{id:`entry-${e}`,"data-entry-id":e,"data-key":e,className:o()(R),ref:this.entryElementRef},(D||f===v.DC.tablet)&&r.createElement(Ce.u,{url:D}),r.createElement("div",{className:"content"},r.createElement("div",{className:o()("entry__title",{"entry__title--tweet":z}),"data-entry-id":e},F),this._renderMetadata(),this._renderAdditionalInfo(),!i&&r.createElement(L.wK,{entry:y})),k&&r.createElement(Z.ot,{entry:y,isEvernoteConnected:M,isInstapaperConnected:S,isPocketConnected:I,onClose:this._onCloseActionDrawer,onOpenFeedbackDrawer:this._onOpenFeedbackDrawer,isLeoEnabled:T,pageManager:m}),_&&this._renderFeedbackDrawer(y));break;case E.Ar.magazine:default:U=r.createElement("article",{id:`entry-${e}`,"data-entry-id":e,"data-key":e,className:o()(R),ref:this.entryElementRef},r.createElement("div",{className:"content"},D&&r.createElement(Ce.u,{url:D}),r.createElement("div",{className:o()("entry__title",{"entry__title--tweet":z}),"data-entry-id":e},F),this._renderMetadata(),z||f!==v.DC.tablet||n!==C.AM.compact?this._renderAdditionalInfo():this._renderBestSummary(),!i&&r.createElement(L.wK,{entry:y})),k&&r.createElement(Z.ot,{entry:y,isEvernoteConnected:M,isInstapaperConnected:S,isPocketConnected:I,onClose:this._onCloseActionDrawer,onOpenFeedbackDrawer:this._onOpenFeedbackDrawer,isLeoEnabled:T,pageManager:m}),_&&this._renderFeedbackDrawer(y))}const B=r.createElement(Me.U,{onDeepPress:m&&this._onDeepPress,onClick:this._onClick,pageManager:m},U);if(f===v.DC.tablet&&p===E.Ar.cards)return B;let H=[];u&&(H=(0,w.p2)(y));const Y=T&&!u||u&&H.length;return r.createElement(_e.m,{demo:s,leftAction:this._renderLeftAction(y),leftActionLevel2:r.createElement(_e.C,{activeColor:b.r.deepGray,iconComponent:l.Z,onSwipe:this._onSaveToBoard},"Save to board"),rightAction:r.createElement(_e.C,{iconComponent:y.isRead()?c.Z:d.Z,onSwipe:this._onToggleMarkedAsRead},y.isRead()?"Mark as unread":"Mark as read"),rightActionLevel2:Y?r.createElement(_e.C,{iconAfter:!0,activeColor:b.r.deepGray,iconComponent:h.Z,onSwipe:this._onOpenFeedbackDrawer},"Less Like This"):null,pageManager:m},B)}_renderAdditionalInfo(){const{density:e}=this.props,{entry:t}=this.state;if(e===C.AM.compact)return null;const{isTwitterFeed:s,hasLinkedArticle:n}=t.metadata,i=s&&!n;return r.createElement(r.Fragment,null,this._renderNotes(),!i&&this._renderBestSummary())}_renderBestSummary(){const{entry:e,displayMode:t}=this.state,{highlightKeywords:s}=this.props,n=e.getLeoSummary({useSummarySentences:t===v.DC.tablet}),i=e.getHighlightableKeywordSnippets();if(s&&i&&i.length>0)return this._renderHighlightableKeywordSnippets(i);const r=e.listHighlights();return r&&r.length>0?this._renderHighlights():i&&i.length>0?this._renderHighlightableKeywordSnippets(i):n&&n.length>0?this._renderLeoSummary():this._renderDefaultSummary()}_renderFeedbackDrawer(e){const{isLeoPreview:t}=this.props;return r.createElement(Z.dy,{className:"LessLikeThisSelector p-a-0",onClose:this._onCloseFeedbackDrawer},t?r.createElement(Se.Y,{excludeTopics:(0,w.p2)(e),onSubmit:this._onCloseFeedbackDrawer}):r.createElement(de.vg,{entry:e,onClose:this._onCloseFeedbackDrawer,onSubmit:this._onSubmitFeedback}))}_renderLeftAction(e){const{isInstapaperConnected:t,isPocketConnected:s}=this.state,n=e.getDecoration("instapaper");return s?r.createElement(_e.C,{iconComponent:u.Z,onSwipe:this._onAddToPocket},e.metadata.isSavedToPocket?"Saved":"Save to Pocket"):t?r.createElement(_e.C,{iconComponent:p.Z,onSwipe:this._onAddToInstapaper},n?"Saved":"Save to Instapaper"):r.createElement(_e.C,{iconComponent:m.Z,onSwipe:this._onToggleQuicklisted},e.isQuicklisted()?"Undo save":"Read later")}_renderTitleOnlyViewContent(e){const{density:t,layout:s,showSourceTitle:n}=this.props,{displayMode:i,entry:a}=this.state,l=a.getId(),{isTwitterFeed:c,hasLinkedArticle:d}=a.metadata,h=c&&!d,u=r.createElement("div",{className:o()("entry__title",{"entry__title--tweet":h}),"data-entry-id":l},e);return i===v.DC.tablet&&t===C.AM.compact&&window.W>740?r.createElement(r.Fragment,null,n&&r.createElement(R,{className:"MobileEntry__source-column",clickable:s===E.Ar.fullArticle,entry:a,hideSlash:!0}),r.createElement("div",{className:"MobileEntry__engagement-container"},r.createElement(L.RL,{className:"MobileEntry__engagement",engagement:a.getEngagement(),engagementRate:a.getEngagementRate(),isHot:a.isHot()})),r.createElement("div",{className:"MobileEntry__title-column"},u,this._renderMetadata()),r.createElement(L.wK,{entry:a,isCompact:!0}),r.createElement("div",{className:o()("MobileEntry__ago-column metadata",a.isContentRTL()?"m-r-2":"m-l-2")},r.createElement(A,{entry:a}))):r.createElement(r.Fragment,null,u,this._renderMetadata())}_renderMetadata(){const{displayMode:e,entry:t}=this.state,{density:s,hideAuthor:n,hideMeme:i,hideBoardLabel:a,isLeoPreview:o,layout:l,priorityInfo:c,streamId:d,showKeywordMarker:h,showSecondarySourceMarker:u,showSourceTitle:p}=this.props;return r.createElement(D,{displayMode:e,density:s,entry:t,hideAuthor:n,hideMeme:i,hideBoardLabel:a,isLeoPreview:o,layout:l,priorityInfo:c,showKeywordMarker:h,showSecondarySourceMarker:u,showSourceTitle:p,streamId:d})}_renderDefaultSummary(){const{entry:e}=this.state;return e?r.createElement("div",{className:"summary",dangerouslySetInnerHTML:{__html:e.getBestSummary()}}):null}_renderLeoSummary(){const{layout:e,density:t}=this.props,{entry:s,displayMode:n}=this.state,i=s.getLeoSummary();if(!i||0===i.length)return null;let a,l;e===E.Ar.titleOnlyMobile&&t===C.AM.compact?(a="inline",l=i.slice(0,2)):e===E.Ar.cards&&n===v.DC.tablet||e===E.Ar.magazine&&t===C.AM.compact?(a="paragraph",l=i.slice(0,1)):(a="list",l=i.slice(0,2));const c=o()("summary","MobileEntry__memeSummary",`MobileEntry__memeSummary--${a}`);return r.createElement("ul",{className:c},l.map((e=>r.createElement("li",{className:"MobileEntry__memeSummaryItem",key:`summary-${e}`},e))))}_renderNotes(){const{entry:e,expandNotes:t}=this.state,s=[];if(!e)return null;return e.listAnnotations().forEach((e=>{if(!e.comment)return;if(!e.authorUser)return;const t=e.emailMentions||[],n=e.slackMentions||[];s.push(r.createElement("div",{key:e.id,className:"item-note"},r.createElement(we.q,{className:"item-picture",alt:e.authorUser.name||e.authorUser.email,url:e.authorUser.picture}),r.createElement("div",{className:"item-content"},r.createElement("div",{className:"item-header"},e.authorUser.name),r.createElement("div",{className:"item-description"},r.createElement(ke.L,{className:"MobileEntry__note",wordClassName:"mention",words:t.map((e=>"+"+e)).concat(n),text:e.comment})))))})),0===s.length?null:s.length>1&&!t?r.createElement("div",{className:"list-note"},s[0],r.createElement("div",{key:"showMore",className:"item-more"},"+",s.length-1," notes")):r.createElement("div",{className:"list-note"},s)}_renderHighlights(){const{entry:e,expandHighlights:t}=this.state,s=[];if(!e)return null;return e.listAnnotations().forEach((e=>{e.highlight&&e.authorUser&&s.push(r.createElement("div",{key:e.id,className:"item-highlight MobileEntry__highlight"},r.createElement("span",null,e.highlight.text,r.createElement(we.q,{className:"item-picture",alt:e.authorUser.name||e.authorUser.email,url:e.authorUser.picture}))))})),0===s.length?null:s.length>1&&!t?r.createElement("div",{className:"list-highlight"},s[0],r.createElement("div",{key:"showMore",className:"item-more"},"+",s.length-1," highlights"," ")):r.createElement("div",{className:"list-highlight"},s)}_renderHighlightableKeywordSnippets(e){if(!e||0===e.length)return null;const{highlightKeywords:t}=this.props,s=e[0];let n,i=s.text;if(t&&(i=r.createElement(ke.L,{caseSensitive:!0,wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0})),s.text&&s.text.length<160&&e.length>1){const s=e[1];n=s.text,t&&(n=r.createElement(ke.L,{caseSensitive:!0,wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0}))}return r.createElement("div",{className:"summary mention"},i,n&&r.createElement(r.Fragment,null,"... ",n))}async _updateEntry({refreshEngagement:e=!1}={}){const{entryId:t}=this.props,s=await this.reader.askLookupEntry(t);null!==this.reader&&this.setState({entry:s},(()=>{e&&this.engagements.askRefreshEntryEngagement(s),this._updateBestVisual()}))}_updateBestVisual(){const{layout:e}=this.props,{entry:t,theme:s}=this.state;if(null===t)return;if(e!==E.Ar.magazine&&e!==E.Ar.cards&&e!==E.Ar.featuredLarge)return;const[n,i]=Te[e],r=this.image.getBestVisual(t,{layout:e,height:i,theme:s,width:n}),{entry:a}=this.state;a&&a.getId()===t.getId()&&this.setState({visual:r})}async _updateConnections(){const[e,t,s]=await Promise.all([this.integrations.askIsConnected(g.bK.evernote),this.integrations.askIsConnected(g.bK.instapaper),this.integrations.askIsConnected(g.bK.pocket)]);this.setState({isEvernoteConnected:e,isInstapaperConnected:t,isPocketConnected:s})}async _updateIsLeoEnabled(){const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e})}}Ne.propTypes={className:i().string,demo:i().bool,density:i().oneOf(C.fM),entryId:i().string.isRequired,hideAuthor:i().bool,hideMeme:i().bool,hideBoardLabel:i().bool,hideRelatedEntries:i().bool,highlightKeywords:i().bool,isLeoPreview:i().bool,layout:i().oneOf(E.tv),pageManager:i().objectOf(i().any),priorityInfo:i().shape({id:i().string,label:i().string,streamLabel:i().string,layers:i().arrayOf(i().object)}),selected:i().bool,showKeywordMarker:i().bool,showSecondarySourceMarker:i().bool,showSourceTitle:i().bool,streamId:i().string},Ne.defaultProps={className:void 0,demo:!1,density:C.AM.comfortable,hideAuthor:!1,hideMeme:!1,hideBoardLabel:!1,hideRelatedEntries:!1,highlightKeywords:!1,isLeoPreview:!1,layout:E.Ar.magazine,pageManager:void 0,priorityInfo:{},selected:!1,showKeywordMarker:!1,showSecondarySourceMarker:!1,showSourceTitle:!0,streamId:""},Ne.SHARING_SERVICE_OPTIONS=["redef","twitter","linkedIn","facebook","pocket","buffer","email","evernote","oneNote","instapaper","hootsuite","customSharing"]},87272:(e,t,s)=>{"use strict";s.d(t,{f:()=>E});var n=s(32735),i=s(60216),r=s.n(i),a=s(71262);const o=(0,a.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm0 1.5a8.25 8.25 0 110 16.5 8.25 8.25 0 010-16.5z"}),n.createElement("path",{d:"M12 7.5l.117.007a1 1 0 11-.234 0L12 7.5zM12 10.75a.75.75 0 01.743.648l.007.102V17a.75.75 0 01-1.493.102L11.25 17v-5.5a.75.75 0 01.75-.75z"})))}));const l=(0,a.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M5.143 13.821a.75.75 0 01.743.649l.007.101v6a.75.75 0 01-1.493.102l-.007-.102v-6a.75.75 0 01.75-.75z"}),n.createElement("path",{d:"M8.571 2.679c-1.217 0-2.196.177-2.957.482-.497.199-.823.416-1.001.594a.75.75 0 00-.22.53v10.286a.75.75 0 001.203.599l.077-.068c.036-.036.192-.14.498-.263.579-.231 1.368-.375 2.4-.375.829 0 1.454.15 2.617.594l.533.21c1.693.677 2.511.91 3.708.91 1.217 0 2.196-.177 2.957-.482.497-.199.823-.416 1.001-.594a.75.75 0 00.22-.53V4.285a.75.75 0 00-1.203-.599l-.077.068c-.036.037-.192.14-.498.263-.579.231-1.368.375-2.4.375-.829 0-1.454-.15-2.617-.594l-.533-.21c-1.693-.677-2.511-.91-3.708-.91zm0 1.5c.888 0 1.542.17 2.875.694l.872.343c1.306.498 2.064.677 3.11.677l.359-.005c.819-.025 1.522-.134 2.116-.31l.204-.066v8.666l-.052.026a3.53 3.53 0 01-.226.1c-.579.231-1.368.375-2.4.375-.888 0-1.542-.172-2.875-.695l-.275-.109c-1.693-.677-2.511-.91-3.708-.91l-.358.005c-.819.024-1.522.133-2.116.31l-.204.065V4.679l.052-.026a3.53 3.53 0 01.226-.1c.579-.23 1.368-.374 2.4-.374z"})))}));var c=s(3453),d=s(69993),h=s(36899),u=s(65698),p=s(35093),m=s(99442),g=s(16847),f=s(855),y=s(74221),v=s(28576),b=s(79199);class E extends n.Component{constructor(...e){super(...e),this._onMuteClick=e=>{const{onClose:t,streamId:s,part:n}=this.props;e.stopPropagation(),streets.service("tabsManager").askOpenNewPage("muteFilterForm",{props:{initialFilter:{streamId:s,term:n}}}),t()},this._onFeedbackClick=async()=>{const{part:e,onClose:t,entry:s}=this.props;try{await this.leo.askSaveFeedback(s.getId(),e.id,-1,"entityMenu"),this.notifications.showMessage("Feedback collected")}catch(n){console.error("Failed to submit feedback",e,n)}t()},this._onPrioritizeClick=async e=>{const{onClose:t,streamId:s,part:n}=this.props,{isGlobal:i}=(0,y.Yg)(s);let r;if(e.stopPropagation(),s){const e=await this.collections.askLabelsIndex();!i&&e[s]&&(r={streamIds:[s],streamLabel:e[s]})}this.tabsManager.askOpenNewPage("priorityForm",{props:{initialPriority:{...r||{streamIds:[],streamLabel:"Select a Feed"},layers:[{[m.y9.matches]:[n],type:m.ur.matches}]}}}),t()},this._onSearchClick=e=>{const{onClose:t,part:{label:s}}=this.props;e.stopPropagation(),this.tabsManager.askOpenNewPage(`https://feedly.com/i/${(0,f.xU)({scope:"topic/global.popular",term:s,time:f.qp.month,type:f.Fq.in})}`),t()},this._onViewOnMitreClick=()=>{const{part:{knowledgeBaseUrl:e}}=this.props;this.tabsManager.askOpenExternalUrl(e)}}componentDidMount(){this.collections=streets.service("collections"),this.notifications=streets.service("notifications"),this.reader=streets.service("reader"),this.tabsManager=streets.service("tabsManager"),this.leo=streets.service("leo")}componentWillUnmount(){this.collections=null,this.notifications=null,this.reader=null,this.tabsManager=null,this.leo=null}render(){const{part:{id:e,knowledgeBaseUrl:t,label:s,type:i}}=this.props;return n.createElement(n.Fragment,null,n.createElement(v.kR,{onClick:this._onPrioritizeClick},n.createElement(c.Z,{importance:"secondary"}),"Prioritize"),n.createElement(v.kR,{onClick:this._onMuteClick},n.createElement(d.Z,{importance:"secondary"}),"Mute"),n.createElement(v.kR,{onClick:this._onSearchClick},n.createElement(h.Z,{importance:"secondary"}),"Search"),t&&i===p.KI&&n.createElement(v.kR,{onClick:this._onViewOnMitreClick},n.createElement(o,{importance:"secondary"}),"View on MITRE"),n.createElement(v.kR,{onClick:this._onFeedbackClick},n.createElement(l,{importance:"secondary"}),(0,u.xT)(e)?"Not About ":"Wrong ",n.createElement("strong",{className:"m-l-h truncated-text"},(0,g.Fb)(s))))}}E.propTypes={entry:b.A.isRequired,onClose:r().func.isRequired,part:r().shape({id:r().string,knowledgeBaseUrl:r().string,label:r().string,type:r().string}).isRequired,streamId:r().string},E.defaultProps={streamId:""}},63776:(e,t,s)=>{"use strict";s.d(t,{m:()=>f,C:()=>v});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(86576),c=s(27213);const d=Object.freeze({none:"Swipeable__mover--none",swipeLeft:"Swipeable__mover--swipe-left",swipeRight:"Swipeable__mover--swipe-right",return:"Swipeable__mover--return"}),h=Object.freeze({none:"none",return:"return",swipe:"swipe"});function u({animation:e,children:t,onAnimationEnd:s,xOffset:n}){const i=e!==h.none;let a,l;return 0!==n&&(e===h.swipe?a=n>0?d.swipeRight:d.swipeLeft:e===h.return?a=d.return:(a=d.none,l={transform:`translateX(${n}px)`})),r.createElement("div",{className:o()("Swipeable__mover",a),onTransitionEnd:i?s:null,style:l},t)}u.propTypes={animation:i().oneOf(Object.values(h)),children:i().element.isRequired,onAnimationEnd:i().func,xOffset:i().number},u.defaultProps={animation:h.none,onAnimationEnd:void 0,xOffset:0};var p=s(89803),m=s(86462);const g={active:!1,height:"",isCollapsing:!1,isSwiping:!1,moverAnimation:h.none,onMoverAnimationEnd:null,xOffset:0};class f extends r.Component{constructor(e){super(e),this._onCollapseAnimationEnd=()=>{const{action:e={}}=this._getActionInfo(),{props:{onSwipe:t}={}}=e;this.setState({...g,isCollapsing:!0},t)},this._onReturnAnimationEnd=()=>{this.setState({...g})},this._onDemoAnimationEnd=()=>{this.setState({...g})},this._onSwipeableRef=e=>{this._element=e},this._onSwipeAnimationEnd=()=>{this.setState({height:this._element.clientHeight},(()=>{window.requestAnimationFrame((()=>{this.setState({height:"",isCollapsing:!0,onMoverAnimationEnd:null})}))}))},this._onTouchEnd=()=>{if(this.setState({isSwiping:!1}),this._element.removeEventListener("touchmove",this._onTouchMove,p.HF),!this._gestureDirection)return;const{active:e}=this.state,{action:t}=this._getActionInfo();if(e&&t)if(t.props.collapse)this.setState({moverAnimation:h.swipe,onMoverAnimationEnd:this._onSwipeAnimationEnd});else{const{props:{onSwipe:e}={}}=t;this.setState({moverAnimation:h.return,onMoverAnimationEnd:this._onReturnAnimationEnd},e)}else t&&this.setState({moverAnimation:h.return,onMoverAnimationEnd:this._onReturnAnimationEnd});this._touchStart=null,this._gestureDirection=null},this._onTouchMove=e=>{if(!e.touches||e.touches.length>1)return void this._cancelGesture(!0);const[t]=e.touches;if(!this._touchStart||!t)return;const s=t.clientX-this._touchStart.x;if(!this._gestureDirection){const e=t.clientY-this._touchStart.y,n=(0,p.Q1)(s,e);if(n===p.Qk.tooEarly)return;if(n!==p.Qk.horizontal)return void this._cancelGesture(!1);this._gestureDirection=n,this.setState({isSwiping:!0})}e.preventDefault();const{action:n}=this._getActionInfo(s),i=Math.abs(s)>=70,{action:r}=this._getActionInfo();n&&i&&(n!==r||this.state.active!==i)&&(0,c.n)(),n&&this.setState({active:i,xOffset:s})},this._onTouchStart=e=>{if(!e.touches||e.touches.length>1)return;const[t]=e.targetTouches;this._gestureDirection=null,t&&t.clientX>m.o?(this._touchStart={x:t.clientX,y:t.clientY},this._element.addEventListener("touchmove",this._onTouchMove,p.HF)):this._element.removeEventListener("touchmove",this._onTouchMove,p.HF)},!0===e.demo?this.state={...g,xOffset:160,showLeftAction:!0,action:e.leftAction}:this.state={...g}}componentDidMount(){!0===this.props.demo&&window.setTimeout((()=>{this.setState({moverAnimation:h.return,onMoverAnimationEnd:this._onDemoAnimationEnd})}),2e3)}static getDerivedStateFromProps(e,t){return 0===t.xOffset||e.leftAction||e.rightAction?null:{...g}}componentWillUnmount(){this._cancelGesture(!1)}render(){const{children:e,leftAction:t,rightAction:s}=this.props,{active:n,height:i,isCollapsing:a,isSwiping:l,moverAnimation:c,onMoverAnimationEnd:d,xOffset:p}=this.state,{action:m,showLeftAction:g}=this._getActionInfo();let f={};return!t&&!s||""!==i||a||c!==h.none||(f={onTouchEnd:this._onTouchEnd,onTouchStart:this._onTouchStart}),r.createElement("div",Object.assign({ref:this._onSwipeableRef,className:o()("Swipeable",{[`Swipeable--active-${m?m.props.activeColor:""}`]:n,"Swipeable--collapse":a,"Swipeable--swiping":l}),onTransitionEnd:a?this._onCollapseAnimationEnd:null,style:{height:i}},f),m&&r.cloneElement(m,{active:n,alignRight:!g}),r.createElement(u,{animation:c,onAnimationEnd:d,xOffset:p},e))}_cancelGesture(e){this._element.removeEventListener("touchmove",this._onTouchMove,p.HF),this._touchStart=null,this._gestureDirection=null,e&&this.setState({...g})}_getActionInfo(e=this.state.xOffset){const{leftAction:t,leftActionLevel2:s,rightAction:n,rightActionLevel2:i}=this.props;if(0===e)return{};const r=e>0,a=s&&Math.abs(e)>200?s:t,o=i&&Math.abs(e)>200?i:n;return{action:r?a:o,showLeftAction:r}}}f.propTypes={children:i().element.isRequired,demo:i().bool,leftAction:(0,l.componentWithName)("SwipeableAction"),leftActionLevel2:(0,l.componentWithName)("SwipeableAction"),rightAction:(0,l.componentWithName)("SwipeableAction"),rightActionLevel2:(0,l.componentWithName)("SwipeableAction")},f.defaultProps={demo:!1,leftAction:void 0,leftActionLevel2:void 0,rightAction:void 0,rightActionLevel2:void 0};var y=s(42566);function v({active:e,alignRight:t,children:s,iconComponent:n,iconAfter:i}){return r.createElement("div",{className:o()("SwipeableAction",{"SwipeableAction--active":e,"SwipeableAction--align-right":t,"SwipeableAction--iconAfter":i})},n&&!i&&r.createElement(n,{color:e?"white":"black"}),s,n&&i&&r.createElement(n,{name:e?"white":"black"}))}v.propTypes={active:i().bool,activeColor:i().oneOf(Object.values(y.r)),alignRight:i().bool,children:i().node.isRequired,collapse:i().bool,iconComponent:i().elementType,onSwipe:i().func.isRequired,iconAfter:i().bool},v.defaultProps={active:!1,activeColor:y.r.accent,alignRight:!1,collapse:!1,iconComponent:void 0,iconAfter:!1}},69098:(e,t,s)=>{"use strict";s.d(t,{E:()=>g});var n=s(40841),i=s.n(n),r=s(64280),a=s.n(r),o=s(22535),l=s.n(o),c=s(68718),d=s.n(c),h=s(60216),u=s.n(h),p=s(32735),m=s(3015);function g({action:e,className:t,date:s,lastModifiedDate:n,longLabels:r,includeAgo:o}){return d()(s)&&a()(s)?p.createElement("span",{className:i()(t,{ago:!0,lessThanAnHour:l()(s)}),title:n&&`Published: ${n.toUTCString()}\nReceived: ${s.toUTCString()}`},e," ",(0,m.Sy)(s,r,o)):null}g.propTypes={action:u().string,className:u().string,date:u().instanceOf(Date).isRequired,includeAgo:u().bool,lastModifiedDate:u().instanceOf(Date),longLabels:u().bool},g.defaultProps={className:"",includeAgo:!1,lastModifiedDate:null,longLabels:!1}},47264:(e,t,s)=>{"use strict";s.d(t,{zx:()=>c,Wu:()=>g,ZP:()=>d,Er:()=>f});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(56336);class c extends r.PureComponent{render(){const{"aria-label":e,autoFocus:t,children:s,className:n,color:i,entryId:a,nextUri:c,disabled:d,elementRef:h,icon:u,iconAlign:p,id:m,importance:g,loading:f,onBlur:y,onClick:v,onFocus:b,onMouseDown:E,onMouseEnter:C,onMouseLeave:w,rounded:k,size:_,style:M,title:S,type:T}=this.props;let I,N,{label:P}=this.props;return u&&!f&&(I=r.createElement("span",{className:"button__icon-wrapper"},u),P?(P=r.createElement("span",{className:"button__label"},P),N=`button-icon-${p}`):N="button-icon-only"),r.createElement(l.W,{focusVisibleClass:o()("button--focus-visible",`button--focus-visible--${g||"tertiary"}`)},r.createElement("button",{ref:h,"aria-label":e,autoFocus:t,className:o()(n,i,N,{[`button--${g}`]:g,"button--rounded":k,loading:f,loud:"large"===_,small:"small"===_}),"data-nexturi":c,"data-inlineentryid":a,disabled:d,id:m,onBlur:y,onFocus:b,onClick:v,onMouseDown:E,onMouseEnter:C,onMouseLeave:w,style:M,title:S,type:T},"left"===p&&I,P||s,("right"===p||"far-right"===p)&&I))}}c.propTypes={"aria-label":i().string,autoFocus:i().bool,children:i().node,className:i().string,color:i().oneOf(["accent","danger","danger-hover","pro","warning","pink","notification","black","google",void 0]),disabled:i().bool,elementRef:i().oneOfType([i().func,i().shape({current:i().instanceOf(Element)})]),entryId:i().string,icon:i().node,iconAlign:i().oneOf(["left","right","far-right"]),id:i().string,importance:i().oneOf(["primary","secondary","tertiary",""]),label:i().oneOfType([i().string,i().number,i().object]),loading:i().bool,nextUri:i().string,onBlur:i().func,onClick:i().func,onFocus:i().func,onMouseDown:i().func,onMouseEnter:i().func,onMouseLeave:i().func,rounded:i().bool,size:i().oneOf(["small","normal","large"]),style:i().object,title:i().string,type:i().string},c.defaultProps={"aria-label":void 0,autoFocus:!1,children:null,className:void 0,color:void 0,disabled:!1,elementRef:void 0,entryId:void 0,icon:void 0,iconAlign:"left",id:void 0,importance:"primary",label:void 0,loading:!1,nextUri:void 0,onBlur:void 0,onClick:void 0,onFocus:void 0,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0,rounded:!1,size:"normal",style:void 0,title:void 0,type:"button"};class d extends r.PureComponent{constructor(e){super(e),this._onClick=e=>{const{onClick:t}=this.props;e.preventDefault(),t(e)},this._onKeyDown=e=>{"Enter"===e.key&&this._elemRef.current.click()},this._elemRef=r.createRef()}render(){const{action:e,children:t,className:s,primary:n,style:i,title:a}=this.props;return r.createElement("a",{ref:this._elemRef,className:o()("ButtonLink",s,{"ButtonLink--action":e,"ButtonLink--primary":n}),onClick:this._onClick,onKeyDown:this._onKeyDown,style:i,title:a,role:"button",tabIndex:"0"},t)}}d.propTypes={action:i().bool,children:i().node.isRequired,className:i().string,onClick:i().func.isRequired,primary:i().bool,style:i().object,title:i().string},d.defaultProps={action:!1,className:void 0,primary:!1,style:void 0,title:void 0};var h=s(80556),u=s.n(h),p=s(86576);class m extends r.Component{UNSAFE_componentWillMount(){this._id=u()("ButtonToggle")}componentWillUnmount(){this._id=null}render(){const{active:e,children:t,className:s,color:n,disabled:i,iconLeft:a,onChange:l}=this.props;return r.createElement("label",{className:o()("ButtonToggle",s,{"ButtonToggle--active":e&&"accent"===n,"ButtonToggle--active-danger":e&&"danger"===n,"ButtonToggle--disabled":i,"ButtonToggle--icon-left":a}),htmlFor:this._id},r.createElement("input",{checked:e,className:"ButtonToggle__checkbox",disabled:i,id:this._id,onChange:l,type:"checkbox"}),a,t)}}function g(e){const{children:t,className:s,onClick:n}=e,i={ButtonCard:!0,[s]:!!s};return r.createElement("button",{className:o()(i),onClick:n},t)}m.propTypes={active:i().bool,children:i().node,className:i().string,color:i().oneOf(["accent","danger"]),disabled:i().bool,iconLeft:(0,p.componentWithName)("Icon"),onChange:i().func},m.defaultProps={active:!1,children:null,className:"",color:"accent",disabled:!1,iconLeft:void 0,onChange:()=>{}},g.propTypes={children:i().node.isRequired,className:i().string,onClick:i().func},g.defaultProps={className:void 0,onClick:()=>{}};class f extends r.Component{constructor(e){super(e),this._onKeyDown=e=>{"Enter"===e.key&&this._elementRef.current.click()},this._elementRef=r.createRef()}componentWillUnmount(){this._elementRef=null}render(){const{children:e,className:t,danger:s,importance:n,onClick:i,...a}=this.props;return r.createElement(l.W,{focusVisibleClass:o()("MockButton--focus-visible",`MockButton--focus-visible--${n}${s?"-danger":""}`)},r.createElement("div",Object.assign({},a,{ref:this._elementRef,className:o()("MockButton",`MockButton--${n}`,t),onClick:i,onKeyDown:this._onKeyDown,role:"button",tabIndex:"0"}),e))}}f.propTypes={children:i().node.isRequired,className:i().string,danger:i().bool,importance:i().oneOf(["primary","secondary","tertiary"]).isRequired,onClick:i().func},f.defaultProps={className:void 0,danger:!1,onClick:()=>{}}},14355:(e,t,s)=>{"use strict";s.d(t,{P:()=>d});var n=s(60216),i=s.n(n),r=s(32735),a=s(71262);const o=(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),r.createElement("defs",null,r.createElement("path",{d:"M0 4.01A3.003 3.003 0 013.01 1h9.98A3.003 3.003 0 0116 4.01v9.98A3.003 3.003 0 0112.99 17H3.01A3.003 3.003 0 010 13.99V4.01zm11.773.552L6.47 11.4 3.924 9.63 3 10.812l3.728 2.693 6.047-7.938-1.002-1.005z",id:"fx-checkbox-checked_svg__a"}),r.createElement("mask",{id:"fx-checkbox-checked_svg__b",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:16,height:16,fill:"#fff"},r.createElement("use",{xlinkHref:"#fx-checkbox-checked_svg__a"}))),r.createElement("use",{mask:"url(#fx-checkbox-checked_svg__b)",xlinkHref:"#fx-checkbox-checked_svg__a",transform:"translate(0 -1)",stroke:"currentColor",strokeWidth:2,fill:"currentColor",fillRule:"evenodd"}))}));const l=(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"evenodd"},r.createElement("path",{d:"M12.99 0A3.003 3.003 0 0116 3.01v9.98A3.003 3.003 0 0112.99 16H3.01A3.003 3.003 0 010 12.99V3.01A3.003 3.003 0 013.01 0h9.98zm0 1H3.01a2.002 2.002 0 00-2.005 1.859L1 3.009v9.982c0 1.065.816 1.927 1.859 2.004l.15.005h9.982a2.002 2.002 0 002.004-1.859l.005-.15V3.009a2.002 2.002 0 00-1.859-2.004L12.991 1z",fillRule:"nonzero"}),r.createElement("path",{d:"M4 7h8v2H4z"})))}));const c=(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),r.createElement("defs",null,r.createElement("rect",{id:"fx-checkbox-sm_svg__a",x:0,y:1,width:16,height:16,rx:3}),r.createElement("mask",{id:"fx-checkbox-sm_svg__b",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:16,height:16,fill:"#fff"},r.createElement("use",{xlinkHref:"#fx-checkbox-sm_svg__a"}))),r.createElement("use",{mask:"url(#fx-checkbox-sm_svg__b)",xlinkHref:"#fx-checkbox-sm_svg__a",transform:"translate(0 -1)",stroke:"currentColor",strokeWidth:2,fill:"none",fillRule:"evenodd"}))}));function d({checked:e,indeterminate:t}){return e?r.createElement(o,{className:"CheckboxIcon",color:"accent"}):t?r.createElement(l,{className:"CheckboxIcon",color:"accent"}):r.createElement(c,{className:"CheckboxIcon",importance:"tertiary"})}d.propTypes={checked:i().bool,indeterminate:i().bool},d.defaultProps={checked:!1,indeterminate:!1}},57080:(e,t,s)=>{"use strict";s.d(t,{X:()=>h});var n=s(80556),i=s.n(n),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(32735),d=s(14355);class h extends c.Component{UNSAFE_componentWillMount(){const{id:e}=this.props;this.id=e||i()("ui-Checkbox-")}render(){const{checked:e,children:t,indeterminate:s,style:n,className:i,onChange:r}=this.props;return c.createElement("div",{className:a()("Checkbox",i),style:n},c.createElement(d.P,{checked:e,indeterminate:s}),c.createElement("input",{type:"checkbox",onChange:r,className:"Checkbox__input",id:this.id,checked:e,ref:e=>{e&&(e.indeterminate=s)}}),c.createElement("label",{htmlFor:this.id,className:"Checkbox__label"},t))}}h.propTypes={checked:l().bool,children:l().node,className:l().string,id:l().string,indeterminate:l().bool,onChange:l().func.isRequired,style:l().object},h.defaultProps={checked:!1,children:null,className:void 0,id:void 0,indeterminate:!1}},55015:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,j:()=>h});var n=s(40841),i=s.n(n),r=s(60216),a=s.n(r),o=s(32735);const l=(0,s(71262).Z)((function(e){return o.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M15.53 5.53l-1.06-1.06L10 8.94 5.53 4.47 4.47 5.53 8.94 10l-4.47 4.47 1.06 1.06L10 11.06l4.47 4.47 1.06-1.06L11.06 10l4.47-4.47z",fill:"currentColor",fillRule:"evenodd"}))}));class c extends o.PureComponent{render(){const{children:e,className:t,deletable:s,muted:n,onClick:r,onMouseEnter:a,onMouseLeave:c,size:d}=this.props,h=i()(`Chip Chip--${d}`,t,{"Chip--clickable":r,"Chip--deleteable":s,"Chip--muted":n});return o.createElement("span",{className:h,onClick:r,onMouseEnter:a,onMouseLeave:c,role:r?"button":void 0},e,s&&o.createElement(l,{className:"Chip__delete-button",importance:"tertiary"}))}}c.propTypes={children:a().node.isRequired,className:a().string,deletable:a().bool,muted:a().bool,onClick:a().func,onMouseEnter:a().func,onMouseLeave:a().func,size:a().oneOf(["sm","md","lg"])},c.defaultProps={className:void 0,deletable:!1,muted:!1,onClick:void 0,onMouseEnter:void 0,onMouseLeave:void 0,size:"md"};const d=e=>{const{className:t,condensed:s,...n}=e;return o.createElement("div",Object.assign({className:i()("ChipList",t,{"ChipList--condensed":s})},n))};d.propTypes={className:a().string,condensed:a().bool},d.defaultProps={className:void 0,condensed:!1};const h=d},71906:(e,t,s)=>{"use strict";s.d(t,{_$:()=>L,aH:()=>x,EM:()=>z,hN:()=>v,Sr:()=>b,OY:()=>U,Kk:()=>T,lI:()=>w});var n=s(86349),i=s.n(n),r=s(80022),a=s.n(r),o=s(72720),l=s.n(o),c=s(60216),d=s.n(c),h=s(32735),u=s(40841),p=s.n(u),m=s(54349),g=s(53515),f=s(86162);function y({className:e,children:t,style:s}){return h.createElement("th",{className:e,style:s},t)}y.propTypes={children:d().node,style:d().object,className:d().string},y.defaultProps={children:null,className:void 0};class v extends h.Component{}v.propTypes={cell:d().func,header:d().node,headerCellRenderer:d().oneOfType([d().func,d().string]),property:d().string},v.defaultProps={cell:void 0,header:"Column",headerCellRenderer:y,property:void 0};const b={ASC:"asc",DESC:"desc"},E={asc:b.DESC,desc:b.ASC},C={...E,FIRST:b.ASC},w={...E,FIRST:b.DESC},k="SortIndicator__arrow--active",_="SortIndicator__arrow";function M({centered:e,sortDirection:t}){const s=t===b.ASC,n=t===b.DESC,i=p()("SortIndicator",{"SortIndicator--asc":s,"SortIndicator--desc":n,"SortIndicator--centered":e});return h.createElement("svg",{className:i,width:20,height:20,viewBox:"0 0 20 20"},h.createElement("path",{d:"M6 10l4-4 4 4z",className:s?k:_}),h.createElement("path",{d:"M6 12l4 4 4-4z",className:n?k:_}),h.createElement("path",{d:"M0 0h20v20H0z",fill:"none"}))}function S(e){const{children:t,centered:s,sortDirection:n,onClick:i,...r}=e;return h.createElement(y,r,h.createElement("span",{role:"button",className:p()("SortedDataGrid__label",{"SortedDataGrid__label--centered":s}),onClick:i},t,h.createElement(M,{centered:s,sortDirection:n})))}M.propTypes={centered:d().bool,sortDirection:d().oneOf([b.ASC,b.DESC])},M.defaultProps={centered:!1,sortDirection:b.ASC},S.propTypes={children:d().node,centered:d().bool,sortDirection:d().oneOf([void 0,b.ASC,b.DESC]),onClick:d().func},S.defaultProps={children:null,centered:!1,sortDirection:void 0,onClick:()=>{}};class T extends h.Component{}function I(e){return h.createElement("tr",e)}T.propTypes={sortProperty:d().string.isRequired,sortBehavior:d().shape({FIRST:d().string.isRequired}),initialSortDirection:d().oneOf([void 0,b.ASC,b.DESC]),onHeaderClick:d().func},T.defaultProps={onHeaderClick:()=>{},initialSortDirection:void 0,headerCellRenderer:S,sortBehavior:C},I.shouldComponentUpdate=!0;const N=h.forwardRef(((e,t)=>h.createElement("tbody",Object.assign({ref:t},e))));N.shouldComponentUpdate=!0;const P=e=>t=>{const{children:s,...n}=t;if("function"==typeof s.type){const e={...s.props};return delete e.children,h.cloneElement(s,i()(n,e))}return h.createElement(e,t)};class L extends h.Component{constructor(...e){super(...e),this._onRow=(e,{rowIndex:t})=>this.props.decoration&&{className:this.props.decoration(e,t)}}render(){const{className:e,flexLayout:t,height:s,isDisabled:n,data:r,rowRenderer:a,uniqueKey:o}=this.props,l=p()(e,{flexLayout:t||this._isVirtualized(),isDisabled:n});let c={header:{cell:P("th")},body:{wrapper:N,row:a,cell:P("td")}};return this._isVirtualized()&&(c=i()(c,{body:{wrapper:f.ef,row:f.Pw}})),h.createElement(m.Provider,{className:l,columns:this._getColumns(),renderers:c},this._renderHeaderRow(),this._isVirtualized()?h.createElement(f.uT,{rows:r,rowKey:o,onRow:this._onRow,height:s}):h.createElement(m.Body,{rows:r,rowKey:o,onRow:this._onRow}))}_isVirtualized(){return!l()(this.props.height)}_getColumns(){const{children:e,flexLayout:t,uniqueKey:s}=this.props,n=h.Children.toArray(e).filter((e=>!!e)),r=n.filter((e=>!!e.props.width)).map((e=>a()(e.props.width)?`${e.props.width}px`:e.props.width)).join(" - ");return n.map(((e,n)=>{const{header:a,onHeaderClick:o,headerCellRenderer:c,...d}=e.props,{cell:u,property:p,flexGrow:m,flexShrink:g,width:f,className:y,style:v}=e.props;let b=[],E=[];l()(c)||(b=[()=>(o&&(d.onClick=o.bind(this,n)),h.createElement(c,d,a))]),!p&&u&&(E=[(t,s)=>{const{rowData:n,rowIndex:i}=s;return u.call(e,n,i)}]);let C={};if(t||this._isVirtualized()){const e=`calc(100% - ${r})`;C={flexGrow:m||l()(f)?1:0,flexShrink:g||1,flexBasis:f||e},l()(f)&&(C.maxWidth=e)}return{property:p||s,props:{className:y,style:i()(v,C)},header:{label:a,formatters:b},cell:{props:{},formatters:E}}}))}_renderHeaderRow(){const{children:e,hideHeader:t,headerRenderer:s}=this.props;if(t||!e)return null;const n=h.Children.toArray(e).filter((e=>!!e));return s?h.createElement("thead",null,h.createElement("tr",null,h.createElement("th",{colSpan:n.length},"function"==typeof s?s(this.props):s))):this._isVirtualized()?h.createElement(g.Header,null):h.createElement(m.Header,null)}}function x({className:e,children:t,...s}){return h.createElement("td",Object.assign({className:e},s),t)}L.propTypes={children:d().oneOfType([d().arrayOf(((e,t,s,n)=>{if(e[t]&&e[t].type&&!/DataGridColumn/.test(e[t].type.name))return new Error("Invalid prop `"+n+"` supplied to `"+s+"`. Validation failed.")})),d().instanceOf(v),d().instanceOf(T)]).isRequired,className:d().string,data:d().arrayOf(d().object).isRequired,decoration:d().func,flexLayout:d().bool,height:d().number,hideHeader:d().bool,headerRenderer:d().func,isDisabled:d().bool,rowRenderer:d().oneOfType([d().func,d().element]),uniqueKey:d().string.isRequired},L.defaultProps={className:void 0,height:void 0,hideHeader:!1,headerRenderer:void 0,isDisabled:!1,rowRenderer:I,decoration:()=>{},flexLayout:!1},x.propTypes={children:d().node,className:d().string},x.defaultProps={children:null,className:void 0};var D=s(3015),O=s(47567),A=s(69098);function z(e){let t=(0,D.p6)(e.date,e.pattern||"MMM d, yyyy");(0,O.Y3)(e.date)?t="Today":(0,O.UW)(e.date)&&(t="Yesterday");let s=null;return e.includeAgo&&(s=h.createElement("div",{className:"metric-details"},h.createElement(A.E,{date:e.date,includeAgo:!0,longLabels:!0}))),h.createElement("td",{className:p()("cell-date",e.className)},t,s)}z.propTypes={className:d().string,date:d().object.isRequired,includeAgo:d().bool,pattern:d().string},z.defaultProps={className:void 0,includeAgo:!1,pattern:""};var R=s(81473),F=s.n(R),j=s(91802);class U extends h.Component{static getSortingColumns({children:e}){return h.Children.toArray(e).reduce(((e,t,s)=>t.props.initialSortDirection?{...e,[s]:{direction:t.props.initialSortDirection,position:0}}:e),{})}static getInitialState(e){return{sortingColumns:U.getSortingColumns(e)}}constructor(e){super(e),this.state=U.getInitialState(e)}render(){const{data:e,children:t,...s}=this.props,{sortingColumns:n}=this.state,i=h.Children.toArray(t).filter((e=>!!e)),r=i.map((e=>({property:e.props.sortProperty}))),a=i.map(((e,t)=>{const s=n[t]&&0===n[t].position?n[t].direction:null,i=e.props.sortProperty?t=>{this.setState({sortingColumns:(0,j.oq)({sortingColumns:n,selectedColumn:t,sortingOrder:e.props.sortBehavior})})}:()=>{};return h.cloneElement(e,{sortDirection:s,onHeaderClick:i})})),o=(0,j.jl)({columns:r,sortingColumns:n,sort:F()})(e);return h.createElement(L,Object.assign({data:o},s),a)}}U.propTypes=L.propTypes},74812:(e,t,s)=>{"use strict";s.d(t,{L:()=>p,X:()=>u});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(763);const c=(0,s(71262).Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h20v20H0z"}),r.createElement("path",{fill:"currentColor",d:"M17 7.2l-.721-.7-5.779 5.6-5.777-5.6L4 7.2l6.5 6.3z"})))}));var d=s(47264),h=s(46291);class u extends r.Component{constructor(e){super(e),this._onClearClick=e=>{e.stopPropagation(),this.props.onClear(e)},this._onOffsetParentRef=e=>{e&&this.setState({offsetParent:e})},this._onTargetRef=e=>{e&&this.setState({target:e})},this.state={}}render(){const{align:e,caret:t,className:s,clearable:n,closeOnClick:i,disabled:a,dropDownArrow:u,float:p,fullWidth:m,id:g,importance:f,isOpen:y,isGPCTutorialRunning:v,label:b,loading:E,menu:C,onButtonClick:w,onCloseMenu:k,popoverClassName:_,size:M,title:S,wrapperChildren:T}=this.props;let{iconAlign:I,icon:N}=this.props;const{offsetParent:P,target:L}=this.state,x="left"===p,D="right"===p;return(u||n)&&(I=m?"far-right":"right",N=n?r.createElement(l.Z,{importance:"tertiary",onClick:this._onClearClick}):r.createElement(c,{importance:"tertiary"})),r.createElement("div",{ref:this._onOffsetParentRef,className:o()({"GuidedTutorial__gpc-target-9":v,"button-dropdown":!0,"floated left":x,"floated right":D,"full-width":m})},r.createElement(d.zx,{elementRef:this._onTargetRef,className:o()({[s]:s,"left floated":x,"right floated":D,"full-width":m,"container-flex":m}),disabled:a,label:b,loading:E,iconAlign:I,icon:N,id:g,importance:f,onClick:w,size:M,title:S}),T,y&&r.createElement(h.J,{align:"right"===e?"end":"start",caret:t,className:o()(_,m?"full-width":null),closeOnClick:i,offsetParent:P,onClose:k,position:"bottom",target:L},C))}}u.propTypes={align:i().oneOf(["left","right"]),caret:i().bool,className:i().string,clearable:i().bool,closeOnClick:i().bool,disabled:i().bool,dropDownArrow:i().bool,float:i().string,fullWidth:i().bool,iconAlign:d.zx.propTypes.iconAlign,icon:d.zx.propTypes.icon,id:i().string,importance:d.zx.propTypes.importance,isGPCTutorialRunning:i().bool,isOpen:i().bool,label:i().oneOfType([i().string,i().element]),loading:d.zx.propTypes.loading,menu:i().element,onButtonClick:i().func.isRequired,onClear:i().func,onCloseMenu:i().func,popoverClassName:i().string,size:i().oneOf(["small","normal","large"]),title:i().string,wrapperChildren:i().node},u.defaultProps={align:"left",caret:!1,className:void 0,clearable:!1,closeOnClick:!1,disabled:!1,dropDownArrow:!1,float:void 0,fullWidth:!1,iconAlign:"left",icon:void 0,id:void 0,importance:"secondary",isGPCTutorialRunning:!1,isOpen:!1,menu:null,label:void 0,loading:!1,onClear:()=>{},onCloseMenu:void 0,popoverClassName:void 0,size:"normal",title:"",wrapperChildren:null};class p extends r.Component{constructor(e){super(e),this._toggleDropdown=()=>{this.setState((e=>({isOpen:!e.isOpen})))},this._closeDropdown=()=>{this.setState({isOpen:!1})},this.state={isOpen:e.initialIsOpen}}render(){const{...e}=this.props,{isOpen:t}=this.state;return r.createElement(u,Object.assign({},e,{closeOnClick:!0,isOpen:t,onButtonClick:this._toggleDropdown,onCloseMenu:this._closeDropdown}))}}p.propTypes={initialIsOpen:i().bool},p.defaultProps={initialIsOpen:!1}},40280:(e,t,s)=>{"use strict";s.d(t,{H1:()=>a,H2:()=>o,H3:()=>l,H4:()=>c,X6:()=>p,H8:()=>m,Fu:()=>g});var n=s(32735),i=s(60216),r=s.n(i);function a({children:e,...t}){return n.createElement(p,Object.assign({},t,{tagName:"h1"}),e)}function o({children:e,...t}){return n.createElement(p,Object.assign({},t,{tagName:"h2"}),e)}function l({children:e,...t}){return n.createElement(p,Object.assign({},t,{tagName:"h3"}),e)}function c({children:e,...t}){return n.createElement(p,Object.assign({},t,{tagName:"h4"}),e)}a.propTypes={children:r().node.isRequired},o.propTypes={children:r().node.isRequired},l.propTypes={children:r().node.isRequired},c.propTypes={children:r().node.isRequired},r().node.isRequired,r().node.isRequired;var d=s(40841),h=s.n(d);const u=["h1","h2","h3","h4","h5","h6"];function p(e){const{appearance:t,children:s,className:i,kicker:r,sub:a,tagName:o,title:l}=e,c=t||o,d=o;return n.createElement(d,{className:h()("Heading",`Heading--${c}`,i),title:l},r&&n.createElement(m,null,r),s,a&&n.createElement(g,null,a))}function m({children:e,compact:t}){return n.createElement("div",{className:h()("HeadingKicker",{"HeadingKicker--compact":t})},e)}function g({children:e,className:t}){return n.createElement("div",{className:h()("HeadingSub",t)},e)}p.propTypes={appearance:r().oneOf(u),children:r().node.isRequired,className:r().string,kicker:r().string,sub:r().node,tagName:r().oneOf(u).isRequired,title:r().string},p.defaultProps={appearance:void 0,className:"",kicker:"",sub:void 0,title:void 0},m.propTypes={children:r().node.isRequired,compact:r().bool},m.defaultProps={compact:!1},g.propTypes={children:r().node.isRequired,className:r().string},g.defaultProps={className:""}},22738:(e,t,s)=>{"use strict";s.d(t,{Bm:()=>a,Kq:()=>o,vL:()=>u});var n=s(32735),i=s(60216),r=s.n(i);class a extends n.PureComponent{constructor(...e){super(...e),this.state={hasChanged:!1}}render(){const{max:e,min:t,onChange:s,onTouchStart:i,onTouchEnd:r,step:a,value:l}=this.props,c=(l-t)/(e-t)*100;return n.createElement("div",{className:"FlatInputRange"},n.createElement("div",{className:"FlatInputRange__track"}),this._renderSteps(),n.createElement("div",{className:"FlatInputRange__progress",style:{width:c+"%"}}),n.createElement(o,{inputElement:n.createElement("input",{min:t,max:e,step:a,className:"FlatInputRange__input",value:l,onTouchStart:i,onTouchEnd:r}),onChange:s}))}_renderSteps(){const{min:e,max:t,showSteps:s,step:i}=this.props;if(!s)return null;const r=(t-e)/i,a=[];for(let o=0;o<=r;o+=1)a.push(n.createElement("span",{className:"FlatInputRange__step",key:`step-${o}`}));return n.createElement("div",{className:"FlatInputRange__steps"},a)}}a.propTypes={max:r().number,min:r().number,onChange:r().func.isRequired,onTouchEnd:r().func,onTouchStart:r().func,showSteps:r().bool,step:r().number,value:r().number.isRequired},a.defaultProps={max:10,min:1,onTouchEnd:()=>{},onTouchStart:()=>{},showSteps:!0,step:1};class o extends n.PureComponent{constructor(...e){super(...e),this.state={hasChanged:!1},this._onChange=e=>{this.setState({hasChanged:!0});const t=parseInt(e.target.value);this.props.onChange(t)}}render(){const{inputElement:e}=this.props,{hasChanged:t}=this.state;return n.cloneElement(e,{type:"range",onInput:t?null:this._onChange,onChange:this._onChange})}}o.propTypes={inputElement:r().node.isRequired,onChange:r().func.isRequired};var l=s(40841),c=s.n(l),d=s(32470),h=s(75203);class u extends n.Component{constructor(e){super(e),this._renderBars=()=>{const{max:e,min:t,rangeValues:s,sliderHeight:i,value:r}=this.props,a=(s?(0,h.Se)(s,i):new Array(e-t+1).fill(1)).map(((e,t)=>{const i={height:`${e}px`};return n.createElement("div",{key:`${e}-${t}`,className:c()("VolumeInputRange__slider-bar",{"VolumeInputRange__slider-bar--accent":t<=r&&s&&s[t]>0}),style:i})}));return n.createElement("div",{className:"VolumeInputRange__slider-bars"},a)},this._renderHoverThumb=()=>{const{hoverThumbStyles:e,hoverValue:t}=this.state;if(!e.left||null===t)return null;const s=(0,d.HN)(t),i=s.toString().length,r={left:e.left+1+12-4-8*i/2+"px"};return n.createElement(n.Fragment,null,n.createElement("div",{style:{left:`${e.left}px`},className:"VolumeInputRange__thumb VolumeInputRange__thumb--hover"}),n.createElement("div",{style:r,className:"VolumeInputRange__thumb-label VolumeInputRange__thumb-label--hover"},s))},this._renderSliderThumb=()=>{const{rangeValues:e,value:t}=this.props,s=(0,d.HN)(e[t]),i=28*(t+1)+t+1,r={left:`${i-10}px`},a={left:`${i-4-8*s.toString().length/2}px`};return n.createElement(n.Fragment,null,n.createElement("div",{style:r,className:"VolumeInputRange__thumb"}),n.createElement("div",{style:a,className:"VolumeInputRange__thumb-label"},s))},this._onHideHoverThumb=()=>{this.setState({hoverThumbStyles:{},hoverValue:null})},this._onMouseMove=e=>{const{rangeValues:t,value:s}=this.props;if(!t.length)return;const n=Array.from(this._wrapper.current.querySelectorAll(".VolumeInputRange__slider-bar")),{element:i,index:r}=n.reduce(((t,s,n)=>{const i=s.getBoundingClientRect();return e.clientX>=i.x&&e.clientX<i.x+28+1?{element:s,index:n}:t}),{});if(r===s||!i)return void this._onHideHoverThumb();const a=t[r],o={left:28+i.getBoundingClientRect().left-this._inputRangeRef.current.getBoundingClientRect().left-12};this.setState({hoverThumbStyles:o,hoverValue:a})},this._onMouseLeave=()=>{this._onHideHoverThumb()},this._inputRangeRef=n.createRef(),this._wrapper=n.createRef(),this.state={hoverThumbStyles:{},hoverValue:null}}componentWillUnmount(){this._wrapper=null}render(){const{className:e,disabled:t,max:s,min:i,onChange:r,sliderHeight:a,sliderWidth:l,step:d,value:h}=this.props,u={height:`${a}px`,width:`${l}px`};return n.createElement("div",{ref:this._wrapper,className:c()("VolumeInputRange",e),style:u},!t&&n.createElement(n.Fragment,null,this._renderSliderThumb(),this._renderHoverThumb()),n.createElement(o,{inputElement:n.createElement("input",{ref:this._inputRangeRef,className:c()("VolumeInputRange__input",{"VolumeInputRange__input--disabled":t}),disabled:t,min:i,max:s,onMouseMove:this._onMouseMove,onMouseLeave:this._onMouseLeave,step:d,value:h}),onChange:r}),this._renderBars())}}u.propTypes={className:r().string,disabled:r().bool,max:r().number.isRequired,min:r().number.isRequired,onChange:r().func.isRequired,sliderHeight:r().number,sliderWidth:r().number,step:r().number,rangeValues:r().arrayOf(r().number),value:r().number},u.defaultProps={className:"",disabled:!1,sliderHeight:12,sliderWidth:60,step:1,rangeValues:void 0,value:0}},87970:(e,t,s)=>{"use strict";s.d(t,{sD:()=>c,sr:()=>h,tm:()=>p});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a);function l({className:e,muted:t,normalCase:s,small:n,wordWrap:i}){return o()("item-header",e,{"item-header--normal-case":s,"item-header--word-wrap":i,"is-muted":t,small:n})}class c extends n.PureComponent{render(){const{children:e,className:t,light:s,muted:i,normalCase:r,small:a,title:o,wordWrap:c}=this.props;return n.createElement("div",{className:l({className:t,light:s,muted:i,normalCase:r,small:a,wordWrap:c}),title:o},e)}}c.propTypes={children:r().node.isRequired,className:r().string,light:r().bool,muted:r().bool,normalCase:r().bool,small:r().bool,title:r().string,wordWrap:r().bool},c.defaultProps={className:void 0,light:!1,muted:!1,normalCase:!1,small:!1,title:void 0,wordWrap:!1};var d=s(47264);class h extends n.PureComponent{render(){const{children:e,className:t,light:s,muted:i,normalCase:r,onClick:a,small:o,title:c,wordWrap:h}=this.props;return n.createElement(d.Er,{className:l({className:t,light:s,muted:i,normalCase:r,small:o,wordWrap:h}),importance:"tertiary",onClick:a,title:c},e)}}h.propTypes={children:r().node.isRequired,className:r().string,light:r().bool,muted:r().bool,normalCase:r().bool,onClick:r().func.isRequired,small:r().bool,title:r().string,wordWrap:r().bool},h.defaultProps={className:void 0,light:!1,muted:!1,normalCase:!1,small:!1,title:void 0,wordWrap:!1};var u=s(34039);class p extends n.PureComponent{render(){const{children:e,className:t,href:s,light:i,muted:r,newWindow:a,normalCase:o,small:c,title:d,uri:h,wordWrap:p}=this.props;return n.createElement(u.rU,{className:l({className:t,light:i,muted:r,normalCase:o,small:c,wordWrap:p}),href:s,newWindow:a,title:d,uri:h},e)}}p.propTypes={children:r().node.isRequired,className:r().string,href:r().string,light:r().bool,muted:r().bool,newWindow:r().bool,normalCase:r().bool,small:r().bool,title:r().string,uri:r().string,wordWrap:r().bool},p.defaultProps={className:void 0,href:void 0,light:!1,muted:!1,newWindow:!1,normalCase:!1,small:!1,title:void 0,uri:void 0,wordWrap:!1}},34039:(e,t,s)=>{"use strict";s.d(t,{rU:()=>u,Qj:()=>f,Oy:()=>p});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(35610);const c=(0,r.forwardRef)((({tagName:e,replace:t,uri:s,href:n,onClick:i,...a},o)=>{const{target:c}=a,d=n||`${(0,l.il)()}/${s}`,h={...a,href:d,onClick:e=>{try{i&&i(e)}catch(n){throw e.preventDefault(),n}if(!(e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))){e.preventDefault();(t?streets.service("feedly").setBrowserPath:streets.service("feedly").loadPage)(s)}},ref:o};return r.createElement(e,h)}));c.displayName="NavLink",c.propTypes={href:i().string,onClick:i().func,replace:i().bool,tagName:i().elementType.isRequired,uri:i().string.isRequired},c.defaultProps={href:void 0,onClick:void 0,replace:!1};const d=c,h=(0,r.forwardRef)(((e,t)=>{const{action:s,children:n,className:i,href:a,newWindow:l,primary:c,title:h,uri:u,underline:p,...m}=e;let g={className:o()("link",i,{action:s,[`link--underline-${p}`]:"always"!==p,primary:c}),href:a,ref:t,title:h,...m};return l&&(g={...g,target:"_blank",rel:"noopener noreferrer"}),u?r.createElement(d,Object.assign({tagName:"a",uri:u},g),n):r.createElement("a",g,n)}));h.displayName="Link",h.propTypes={action:i().bool,children:i().node,className:i().string,href:i().string,newWindow:i().bool,primary:i().bool,title:i().string,underline:i().oneOf(["always","hover","never"]),uri:i().string},h.defaultProps={action:!1,children:void 0,className:void 0,href:void 0,newWindow:!1,primary:!1,title:void 0,underline:"always",uri:void 0};const u=h;class p extends r.Component{constructor(e){super(e),this._onKeyDown=e=>{"Enter"===e.key&&this._elemRef.current.click()},this._elemRef=r.createRef()}componentWillUnmount(){this._elemRef=null}render(){const{blockLevel:e,children:t,className:s,uri:n,...i}=this.props;return r.createElement(d,Object.assign({},i,{tagName:e?"div":"span",uri:n,ref:this._elemRef,className:o()("MockLink",s),onKeyDown:this._onKeyDown,role:"link",tabIndex:"0"}),t)}}p.propTypes={blockLevel:i().bool,children:i().node.isRequired,className:i().string,uri:i().string.isRequired},p.defaultProps={blockLevel:!1,className:void 0};var m=s(56336);const g={rel:"noopener noreferrer",target:"_blank"};class f extends r.PureComponent{constructor(e){super(e),this._elemRef=r.createRef()}render(){const{children:e,className:t,color:s,href:n,iconAlign:i,icon:a,importance:l,newWindow:c,onBlur:h,onClick:u,onFocus:p,onMouseEnter:f,onMouseLeave:y,rounded:v,size:b,title:E,uri:C}=this.props;let{label:w}=this.props;const k={LinkButton:!0,[`LinkButton--${s}`]:s,[`LinkButton--${l}`]:l,[`LinkButton--${l}--${s}`]:s&&l,[`LinkButton--${b}`]:b,"LinkButton--rounded":v,[t]:!!t};let _;a&&(_=r.createElement("span",{className:"button__icon-wrapper"},a),w?(w=r.createElement("span",{className:"LinkButton__label"},w),k[`LinkButton--icon-${i}`]=!0):(k["LinkButton--icon-only"]=!0,k[`LinkButton--icon-only--${b}`]=!0));const M=C?e=>r.createElement(d,Object.assign({tagName:"a",uri:C},e)):"a";return r.createElement(m.W,{focusVisibleClass:o()("LinkButton--focus-visible",`LinkButton--focus-visible--${l||"tertiary"}`)},r.createElement(M,Object.assign({className:o()(t,k),href:n,title:E},c?g:{},{onBlur:h,onClick:u,onFocus:p,onMouseEnter:f,onMouseLeave:y}),"left"===i&&_,w||e,("right"===i||"far-right"===i)&&_))}}f.propTypes={children:i().node,className:i().string,color:i().oneOf(["default","accent","danger","pro","warning"]),href:i().string,icon:i().node,iconAlign:i().oneOf(["left","right","far-right"]),importance:i().oneOf(["primary","secondary","tertiary",""]),label:i().oneOfType([i().string,i().number,i().object]),newWindow:i().bool,onBlur:i().func,onClick:i().func,onFocus:i().func,onMouseEnter:i().func,onMouseLeave:i().func,rounded:i().bool,size:i().oneOf(["small","normal","large"]),title:i().string,uri:i().string},f.defaultProps={children:null,className:void 0,color:"default",href:void 0,icon:void 0,iconAlign:"left",importance:"primary",label:void 0,newWindow:!1,onBlur:void 0,onClick:void 0,onFocus:void 0,onMouseEnter:void 0,onMouseLeave:void 0,rounded:!1,size:"normal",title:void 0,uri:void 0}},28576:(e,t,s)=>{"use strict";s.d(t,{D8:()=>f,AW:()=>k,PA:()=>M,v2:()=>I,sN:()=>P,NP:()=>L,aV:()=>D,Rr:()=>R,kR:()=>j,lM:()=>W,GX:()=>Q});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a),l=s(763),c=s(5375),d=s(4425),h=s(47264),u=s(14171),p=s(39970);const m={add:"Added",save:"Saved",select:"Selected"},g={add:"Add",save:"Save",select:"Select"};class f extends n.Component{constructor(...e){super(...e),this.state={showHoverButton:!1},this._onMouseEnter=()=>{this.setState({showHoverButton:!0})},this._onMouseLeave=()=>{this.setState({showHoverButton:!1})}}render(){const{active:e,className:t,disabled:s,highlightedText:i,label:r,loading:a,onClick:l,visual:c}=this.props;return n.createElement(P,{active:e,className:o()("AddRemoveMenuItem",t),dataItem:r,disabled:s,onClick:l,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},a?n.createElement(u.J,{name:"icon-fx-loading"}):c,i?n.createElement(p.L,{className:"AddRemoveMenuItem__label",firstOccurance:!0,wordClassName:"autocomplete-bold",words:i,text:r,wrapper:"span"}):n.createElement("span",{className:"AddRemoveMenuItem__label"},r),n.createElement("div",{className:"AddRemoveMenuItem__indicator"},this._renderIndicator()))}_renderIndicator(){const{showHoverButton:e}=this.state,{actionPhrase:t,active:s,selected:i}=this.props,r=e||s;return r&&i?n.createElement(h.zx,{className:"AddRemoveMenuItem__button",color:"danger",icon:n.createElement(l.Z,{color:"danger"}),importance:"secondary",label:"Remove",size:"small"}):r?n.createElement(h.zx,{className:"AddRemoveMenuItem__button",color:"accent",icon:n.createElement(c.Z,{color:"accent"}),importance:"secondary",label:g[t],size:"small"}):i?n.createElement(h.zx,{className:"AddRemoveMenuItem__button",icon:n.createElement(d.Z,{color:"white"}),label:m[t],size:"small"}):null}}f.propTypes={actionPhrase:r().oneOf(["add","save","select"]),active:r().bool,className:r().string,disabled:r().bool,label:r().string.isRequired,highlightedText:r().string,loading:r().bool,onClick:r().func,selected:r().bool,visual:r().element},f.defaultProps={actionPhrase:"add",active:!1,className:void 0,disabled:!1,highlightedText:null,loading:!1,onClick:()=>{},selected:!1,visual:{}};var y=s(11245);const v=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M7.239 6.337l-5.169.759-.084.02a.5.5 0 00-.193.832l3.74 3.656-.882 5.169-.007.08a.5.5 0 00.734.446L10 14.86l4.622 2.44.074.032a.5.5 0 00.653-.558l-.884-5.168 3.742-3.657.056-.065a.5.5 0 00-.333-.787l-5.17-.759-2.311-4.7a.5.5 0 00-.898 0l-2.312 4.7z",fill:"currentColor",fillRule:"nonzero"}))}));var b=s(39908),E=s(16569),C=s(56816);const w={board:{default:y.Z,active:v},collection:{default:b.Z},favorite:{default:E.Z},"save-for-later":{default:C.Z},"team-board":{default:y.Z,active:v},"team-collection":{default:b.Z},"select-board":{default:y.Z}};function k(e){const{className:t,selected:s,type:i}=e,r=s&&w[i].active?w[i].active:w[i].default,a=n.createElement(r,{color:s?"accent":"black",importance:s?"":"tertiary"});let o;o=i.indexOf("select")>-1?"select":"collection"===i||"team-collection"===i||"favorite"===i?"add":"save";const l={...e,className:t,actionPhrase:o,type:null,visual:a};return n.createElement(f,l)}k.propTypes={className:f.propTypes.className,selected:f.propTypes.selected,type:r().oneOf(Object.keys(w)).isRequired},k.defaultProps={className:void 0,selected:!1};var _=s(6931);class M extends n.Component{constructor(e){super(e),this._onChange=e=>{this._list.current&&this._list.current.resetSelection(),this.props.onChange(e)},this._input=n.createRef(),this._list=n.createRef()}componentDidMount(){this._handleFocus=window.requestAnimationFrame((()=>{this._input.current.focus()}))}componentWillUnmount(){window.cancelAnimationFrame(this._handleFocus),this._handleFocus=null,this._input=n.createRef(),this._list=null}render(){const{hint:e,menuItems:t,placeholder:s,value:i}=this.props;return n.createElement("div",{className:"InputMenu form"},n.createElement(_.At,{ref:this._input,className:"InputMenu__input m-b-0",clearable:!0,hint:e,onChange:this._onChange,placeholder:s,value:i}),n.createElement(Q,{className:"InputMenu__menu",deselectable:!0,maxHeight:336,preventBackgroundSroll:!0,ref:this._list,width:300},t))}}M.propTypes={hint:r().string,menuItems:r().arrayOf(r().element).isRequired,onChange:r().func.isRequired,placeholder:r().string,value:r().string},M.defaultProps={hint:"",placeholder:"Search",value:""};var S=s(84481),T=s(28514);class I extends n.Component{constructor(e){super(e),this._onMouseOver=()=>{const e=document.querySelector(".floatingEntryScroller");e?e.style.overflow="hidden":document.body.style.overflow="hidden"},this._onMouseOut=()=>{const e=document.querySelector(".floatingEntryScroller");e?e.style.overflow="":document.body.style.overflow=""},this.state={isTutorialRunning:!!(0,T.$L)()&&streets.service("guidedtutorials").checkTutorialRunning(S.e.GuidedTutorialLikeBoard)}}componentWillUnmount(){this.props.preventBackgroundSroll&&!this.state.isTutorialRunning&&this._onMouseOut()}render(){const{className:e,children:t,elementRef:s,preventBackgroundSroll:i,width:r,style:a={},tabIndex:l}=this.props,{isTutorialRunning:c}=this.state;return n.createElement("menu",{className:o()("menu",e),onMouseOver:i&&!c?this._onMouseOver:null,onMouseOut:i&&!c?this._onMouseOut:null,ref:s,style:{overflow:c?"":"auto",minWidth:"number"==typeof r?`${r}px`:r,...a},tabIndex:l},t)}}I.propTypes={children:r().node.isRequired,className:r().string,elementRef:r().shape({current:r().instanceOf(Element)}),preventBackgroundSroll:r().bool,style:r().object,tabIndex:r().string,width:r().oneOfType([r().number,r().string])},I.defaultProps={className:void 0,elementRef:void 0,preventBackgroundSroll:!1,style:{},tabIndex:void 0,width:""};const N=({active:e,children:t,className:s,danger:i,dataItem:r,disabled:a,onClick:l,onKeyDown:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:u})=>n.createElement("li",{className:o()("MenuItem",s,{"MenuItem--active":e,"MenuItem--danger":i,"MenuItem--disabled":a}),"data-item":r,onClick:a?null:l,onKeyDown:a?null:c,onMouseDown:a?null:d,onMouseEnter:h,onMouseLeave:u},t);N.propTypes={active:r().bool,className:r().string,children:r().node,danger:r().bool,dataItem:r().string,disabled:r().bool,onClick:r().func,onKeyDown:r().func,onMouseDown:r().func,onMouseEnter:r().func,onMouseLeave:r().func},N.defaultProps={active:!1,children:null,className:void 0,danger:!1,dataItem:"",disabled:!1,onClick:void 0,onKeyDown:void 0,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0,onMouseOver:void 0};const P=N;function L({className:e,children:t}){return n.createElement(P,{className:o()("MenuItemDivider",e,{"MenuItemDivider--with-children":t}),disabled:!0},t)}L.propTypes={children:r().node,className:r().string},L.defaultProps={children:void 0,className:void 0};var x=s(94613);function D({children:e,name:t,onChange:s,selectedValue:i}){return n.createElement("div",{className:"form menu__radiogroup"},n.createElement(x.Ee,{name:t,onChange:s,selectedValue:i},e))}D.propTypes={children:r().arrayOf(r().node).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,selectedValue:r().oneOfType([r().string,r().number]).isRequired};var O=s(86576);const A=({className:e,gray:t})=>n.createElement("div",{className:o()("icon","icon-sm","icon-fx-loading",e,{"icon-fx-loading--gray":t})});A.propTypes={className:r().string,gray:r().bool},A.defaultProps={className:void 0,gray:!1};const z=({children:e,loading:t,marker:s,visual:i,...r})=>n.createElement(j,r,n.createElement("div",{className:"MobileAddRemoveMenuItem__visual"},i),n.createElement("div",{className:"MobileAddRemoveMenuItem__content"},e),!t&&n.createElement("div",{className:"MobileAddRemoveMenuItem__marker"},s),t&&n.createElement(A,null));z.propTypes={children:r().node.isRequired,loading:r().bool,marker:r().oneOfType([(0,O.componentWithName)("MobileMenuItemMarker"),(0,O.componentWithName)("Icon")]),visual:r().element},z.defaultProps={loading:!1,marker:null,visual:null};function R({children:e}){return n.createElement("div",{className:"MobileMenuHeader"},e)}R.propTypes={children:r().node},R.defaultProps={children:null};const F=({active:e,children:t,className:s,danger:i,onClick:r,style:a})=>n.createElement("div",{className:o()("MobileMenuItem",s,{"MobileMenuItem--active":e,"MobileMenuItem--danger":i}),onClick:r,style:a},t);F.propTypes={active:r().bool,children:r().node,className:r().string,danger:r().bool,onClick:r().func,style:r().object},F.defaultProps={active:!1,children:null,className:void 0,danger:!1,onClick:()=>{},style:null};const j=F,U=({icon:e,isLoading:t,label:s})=>e||s?t?n.createElement(A,null):n.createElement("div",{className:"MobileMenuItemMarker"},e,s&&n.createElement("span",null,s)):null;U.propTypes={icon:(0,O.componentWithName)("Icon"),isLoading:r().bool,label:r().string},U.defaultProps={icon:void 0,isLoading:!1,label:void 0};var B=s(12788),H=s(26211),Y=s.n(H),Z=s(32285);class W extends n.Component{constructor(){super(),this._onDocumentMouseDown=()=>{document.removeEventListener("mousedown",this._onDocumentMouseDown),document.addEventListener("mouseup",this._onDocumentMouseUp)},this._onDocumentMouseUp=()=>{this._isMouseDownInside?this._handleFocusTrap=window.setTimeout((()=>{this.setState({focusTrapIsActive:!0})}),1):this.props.onClose(),this._isMouseDownInside=!1},this._onMenuClick=()=>{window.clearTimeout(this._handleFocusTrap),this._handleFocusTrap=null,this._handleClose=window.setTimeout(this.props.onClose,1)},this._onMouseDown=()=>{this._isMouseDownInside=!0,this.setState({focusTrapIsActive:!1})},this._onWindowResize=()=>{this.props.onClose()},this._menu=n.createRef(),this.state={focusTrapIsActive:!0,opacity:0,offsetLeft:0,offsetTop:0}}componentDidMount(){this.shortcuts=streets.service("shortcuts"),this.shortcuts.claim(this,Z.PC.close),window.addEventListener("resize",this._onWindowResize),document.addEventListener("mousedown",this._onDocumentMouseDown),this._updateOffsets()}componentWillUnmount(){this.shortcuts.unclaim(this,Z.PC.close),this.shortcuts=null,window.clearTimeout(this._handleClose),window.clearTimeout(this._handleFocusTrap),this._handleClose=null,this._handleFocusTrap=null,window.removeEventListener("resize",this._onWindowResize),document.removeEventListener("mousedown",this._onDocumentMouseDown),document.removeEventListener("mouseup",this._onDocumentMouseUp),this._menu=null,this._isMouseDownInside=null}onShortcutKey(e){e===Z.PC.close&&this.props.onClose()}render(){const{children:e,pageX:t,pageY:s}=this.props,{focusTrapIsActive:i,offsetLeft:r,offsetTop:a,opacity:o}=this.state;return B.createPortal(n.createElement("div",{onClick:this._onMenuClick,onMouseDown:this._onMouseDown},n.createElement(Y(),{active:i,focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:!1,fallbackFocus:".menu--positioned",returnFocusOnDeactivate:!1}},n.createElement(I,{className:"menu--positioned",elementRef:this._menu,style:{left:t+r,opacity:o,position:"fixed",top:s+a},tabIndex:"-1"},e))),document.getElementById("reactPopoverHook"))}_updateOffsets(){const{pageX:e,pageY:t}=this.props,{innerHeight:s,innerWidth:n}=window,{offsetHeight:i,offsetWidth:r}=this._menu.current;this.setState({opacity:null,offsetLeft:n<e+r?-r:0,offsetTop:Math.min(0,s-t-i)})}}W.propTypes={children:r().node,onClose:r().func.isRequired,pageX:r().number.isRequired,pageY:r().number.isRequired},W.defaultProps={children:[]};var $=s(3704),q=s.n($),V=s(72594);const G=/(auto|scroll)/;class Q extends n.Component{constructor(e){super(e),this._renderChild=e=>{const{activeIndex:t}=this.state,s=e&&e.props;if(!s||!s.onClick&&!s.onMouseDown||s.disabled)return e;this._selectableItemCount+=1;const i=t===this._selectableItemCount-1;i&&(this._onSelectActiveItem=s.onClick||s.onMouseDown);const r={active:i,className:o()(s.className,{active:i})};return n.cloneElement(e,r)},this._renderChildren=e=>q()(n.Children.toArray(e),(e=>(0,V.isFragment)(e)?this._renderChildren(e.props.children):0===e||e?this._renderChild(e):[])),this._onKeyDown=e=>{const{activeIndex:t}=this.state,{deselectable:s,loop:n}=this.props;if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)return;let i;40===e.keyCode?(e.stopPropagation(),e.preventDefault(),i=t>=this._selectableItemCount-1?n?0:this._selectableItemCount-1:t+1,i!==t&&this.setState({activeIndex:i},(()=>{this._onNewSelection(t)}))):38===e.keyCode?(e.stopPropagation(),e.preventDefault(),i=0===t&&s?-1:t<1?n?this._selectableItemCount-1:t:t-1,i!==t&&this.setState({activeIndex:i},(()=>{this._onNewSelection(t)}))):13===e.keyCode&&this._onSelectActiveItem&&(e.stopPropagation(),e.preventDefault(),this._onSelectActiveItem(e))},this._listRef=n.createRef(),this.state={activeIndex:e.deselectable?-1:0}}componentDidMount(){document.addEventListener("keydown",this._onKeyDown)}resetSelection(){const{activeIndex:e}=this.state;this.setState({activeIndex:this.props.deselectable?-1:0},(()=>{this._onNewSelection(e)}))}componentWillUnmount(){document.removeEventListener("keydown",this._onKeyDown),this._listRef=null,this._onKeyDown=null,this._onSelectActiveItem=null,this._selectableItemCount=null}render(){const{activeIndex:e}=this.state,{children:t,className:s,maxHeight:i,preventBackgroundSroll:r,width:a}=this.props;this._selectableItemCount=0;const o={};i&&(o.maxHeight="number"==typeof i?`${i}px`:i),a&&(o.maxWidth="number"==typeof a?`${a}px`:a),e<0&&(this._onSelectActiveItem=null);return n.createElement(I,{className:s,elementRef:this._listRef,preventBackgroundSroll:r,style:o,width:a},this._renderChildren(t))}_onNewSelection(e=0){const{activeIndex:t}=this.state,s=this._listRef.current.querySelector(".active");s&&function(e,t=!1){if(!e)throw new Error("Please provide a valid DOM Node");let s,n=e.parentNode;for(;n&&n!==document&&(s=window.getComputedStyle(n),!((G.test(s.overflow)||G.test(s.overflowY))&&n.scrollHeight>n.clientHeight));)n=n.parentNode;if(!n||n===document)return;const i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=i.top-r.top-n.clientTop;if(t&&a<0&&(n.scrollTop+=a),!t){const e=a+i.height-n.clientHeight;e>0&&(n.scrollTop+=e)}}(s,e>t)}}Q.propTypes={children:r().node.isRequired,className:r().string,deselectable:r().bool,loop:r().bool,maxHeight:r().oneOfType([r().number,r().string]),preventBackgroundSroll:r().bool,width:r().oneOfType([r().number,r().string])},Q.defaultProps={className:void 0,deselectable:!1,loop:!1,maxHeight:"",preventBackgroundSroll:!1,width:""}},47395:(e,t,s)=>{"use strict";s.d(t,{JE:()=>$,Cv:()=>z,NF:()=>D,m:()=>V});var n=s(32735),i=s(60216),r=s.n(i),a=s(74221),o=s(84955),l=s(24443),c=s.n(l),d=s(68971),h=s(2366),u=s(40280),p=s(28906),m=s(23005);class g extends n.Component{constructor(e){super(e),this.state={continuation:"",isLoading:!0,mutedEntries:null,previewError:null,streamVersion:0}}componentDidMount(){this.signs=streets.service("signs"),this.reader=streets.service("reader"),this.reader.registerObserver(this),this._updateMutedEntries()}componentWillUnmount(){this._mutedStream&&(this._mutedStream.unregisterObserver(this),this._mutedStream=null),this.reader.unregisterObserver(this),this.reader=null,this.signs=null}onStreamStateChanged(){const{entries:e,isLoadingEntries:t,error:s}=this._mutedStream.getState();this.setState({mutedEntries:e,isLoading:t,previewError:s,streamVersion:0})}render(){const{filter:e,isLegacy:t}=this.props,{isLoading:s,mutedEntries:i}=this.state,r=t?e.searchQuery:e.term.label||e.term.text;let a;return a=e.numEntries?i&&i.length?`Review the last ${c()("article",i.length,!0)} removed by this filter`:"No recent filtered articles":"No matching articles found yet",n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered form"},n.createElement(u.H2,{appearance:"h1",sub:!s&&a},r," Filter"),this._renderMutedEntries()))}_renderMutedEntries(){const{mutedEntries:e,isLoading:t,previewError:s,streamVersion:i}=this.state;return t||e?s?n.createElement("p",null,"Invalid filter / Error: ",s):t?n.createElement(m.g,{details:"removed articles"}):0===e.length?null:n.createElement(p.f,{key:"entryList",className:"ExampleEntryList ExampleEntryList--remove",entries:e,hideAuthor:!0,highlightKeywords:!0,layout:"u4",showSourceTitle:!0,streamVersion:i}):null}async _updateMutedEntries(){const{filter:e,filter:{id:t,label:s,salience:n,term:i},isLegacy:r}=this.props,{continuation:a,mutedEntries:o,streamVersion:l}=this.state;if(0===e.numEntries)return void this.setState({mutedEntries:[],isLoading:!1});const{streamId:c}=(0,d.R)(t);if(r){const e={batchSize:h.C,unfilteredOnly:!1};this.setState({mutedEntries:[],isLoading:!0,streamVersion:l+1}),this._mutedStream=this.reader.lookupStream(c,e),this._mutedStream.registerObserver(this)}else try{const{continuation:e,entries:t}=await this.reader.askMutePreview({streamId:c,term:i,filteredOnly:!0,salience:n},s,h.C,a),r=[...o||[],...t],d=r.length<h.C&&!!e;this.setState({continuation:e,mutedEntries:r.slice(0,h.C),isLoading:d,streamVersion:l+1},(()=>{d&&this._updateMutedEntries()}))}catch(u){this.setState({continuation:"",isLoading:!1,mutedEntries:[],streamVersion:l+1})}}}g.propTypes={filter:h.Kv.isRequired,isLegacy:r().bool},g.defaultProps={isLegacy:!1};var f=s(81197),y=s(55024),v=s(40841),b=s.n(v),E=s(14971);const C=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.429 2.107c1.15 0 2.093.893 2.173 2.023l.005.156v1.428a.75.75 0 01-1.493.102l-.007-.102V4.286a.679.679 0 00-.578-.671l-.1-.008H8.57a.679.679 0 00-.67.578l-.008.1v1.43a.75.75 0 01-1.493.101l-.007-.102V4.286c0-1.151.892-2.094 2.023-2.173l.155-.006h2.858z"}),n.createElement("path",{d:"M16.429 4.964a.75.75 0 01.101 1.493l-.101.007H3.57a.75.75 0 01-.101-1.493l.101-.007H16.43z"}),n.createElement("path",{d:"M15 4.964H5a.75.75 0 00-.75.75v10c0 1.203.975 2.179 2.179 2.179h7.142a2.179 2.179 0 002.179-2.179v-10a.75.75 0 00-.75-.75zm-9.25 1.5h8.5v9.25a.679.679 0 01-.679.679H6.43l-.1-.007a.679.679 0 01-.579-.672v-9.25z"})))}));var w=s(11505),k=s(3015),_=s(32853),M=s(47264),S=s(71906),T=s(87970),I=s(95192),N=s(66360),P=s(39970);const L=["site:","author:","title:"];class x extends n.Component{render(){const{filters:e,isLegacy:t,isLoading:s,isTablet:i,onDeleteClick:r,onEditClick:a,onMuteOptionsClick:o,onPauseClick:l,onPreviewClick:d,onResumeClick:h,onUpgradeClick:u,usernames:p}=this.props;if(!e.length)return null;const m=e.some((e=>(0,_.IE)(e)));return n.createElement(S.OY,{data:e,flexLayout:!0,uniqueKey:"id"},n.createElement(S.Kk,{header:"Name",initialSortDirection:S.Sr.ASC,sortProperty:"label",cell:e=>{const{active:t,created:s,createdBy:i}=e,r=i&&p[i],a=(0,_.IE)(e);return n.createElement(S.aH,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement("div",{className:"col-no-flex"},n.createElement(E.Z,{importance:"secondary"})),n.createElement("div",null,n.createElement(T.sr,{className:"ControlledMuteFiltersTable__label",muted:!t,normalCase:!0,onClick:()=>{d(e)},wordWrap:!0},n.createElement(P.L,{firstOccurance:!0,text:e.label,wordClassName:"item-header--light",words:L,wrapper:"span"}),!t&&!a&&" (Paused)"),n.createElement("div",{className:b()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},!!r&&`Created by ${r}`,s&&n.createElement("div",{className:b()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},"on ",(0,k.p6)(new Date(s),"M/dd/yyyy"))))))}}),n.createElement(S.Kk,{header:"Feed",sortProperty:"streamLabel",width:180,cell:({active:e,streamLabel:t})=>n.createElement(S.aH,{className:"va-middle"},n.createElement(I.x,{color:e?"secondary":"tertiary",size:i?"smaller":"small",tagName:"div"},t))}),n.createElement(S.Kk,{header:"Muted",sortBehavior:S.lI,sortProperty:"numEntries",width:150,cell:e=>n.createElement(S.aH,{className:"va-middle"},n.createElement(M.Er,{importance:"tertiary",onClick:()=>{d(e,t)}},c()("article",e.numEntries||0,!0)))}),m&&n.createElement(S.hN,{header:"",sortBehavior:S.lI,sortProperty:"numEntries",width:114,cell:e=>n.createElement(S.aH,{className:"va-middle"},n.createElement(N.d,{filter:e}))}),n.createElement(S.hN,{header:"",width:i?112:175,style:{justifyContent:"flex-end",textAlign:"right"},cell:e=>n.createElement(S.aH,{className:"va-middle"},t?n.createElement(M.zx,{icon:i?n.createElement(C,{importance:"tertiary"}):n.createElement(w.Z,{importance:"tertiary"}),importance:"secondary",label:"Remove",onClick:()=>r(e,!0)}):n.createElement(V,{filter:e,isLoading:s,isTablet:i,onEditClick:()=>a(e),onPauseClick:()=>l(e),onResumeClick:()=>h(e),onDeleteClick:()=>r(e),onUpgradeClick:()=>u(),onMuteOptionsClick:()=>o(e)}))}))}}x.propTypes={filters:r().arrayOf(r().object),isLegacy:r().bool,isLoading:r().shape({[r().string]:r().bool}),isTablet:r().bool,onDeleteClick:r().func,onEditClick:r().func,onMuteOptionsClick:r().func,onPauseClick:r().func,onPreviewClick:r().func,onResumeClick:r().func,onUpgradeClick:r().func,usernames:r().objectOf(r().string)},x.defaultProps={filters:[],isLegacy:!1,isLoading:{},isTablet:!1,onDeleteClick:()=>{},onEditClick:()=>{},onMuteOptionsClick:()=>{},onPauseClick:()=>{},onPreviewClick:()=>{},onResumeClick:()=>{},onUpgradeClick:()=>{},usernames:{}};class D extends n.Component{constructor(...e){super(...e),this.state={filterToDelete:null,isLoading:{}},this._onCloseDeleteModal=()=>{this.setState({filterToDelete:null})},this._onDeleteClick=(e,t=!1)=>{const s=e.streamId||e.id,{isEnterprise:n}=(0,a.Yg)(s);this._updateFiltersService(n,t),this.setState({filterToDelete:e})},this._onDeleteConfirmClick=async()=>{const{filterToDelete:e}=this.state;this.setState({isDeleteConfirmLoading:!0});try{await this.filters.askDelete(e.id),this.setState({filterToDelete:null,isDeleteConfirmLoading:!1}),this.signs.showMessage(`${e.label} has been unmuted.`)}catch(t){this.setState({filterToDelete:null,isDeleteConfirmLoading:!1}),this._onUpdateError(e)}},this._onEditClick=e=>{this.feedly.slideForm(f.K,{initialFilter:e,isUpdateMode:!0,confirmExitHeaderText:"Save changes?",confirmExitBodyText:"Do you want to save the changes you made to this mute filter?"})},this._onPauseClick=async e=>{const{isEnterprise:t}=(0,a.Yg)(e.streamId);this.setState((({isLoading:t})=>({isLoading:{...t,[e.id]:!0}}))),this._updateFiltersService(t);try{await this.filters.askSave({...e,active:!1}),this.setState((({isLoading:t})=>({isLoading:{...t,[e.id]:!1}})))}catch(s){this._onUpdateError(e)}},this._onPreviewClick=e=>{const{isLegacy:t}=this.props;this.feedly.slideForm(g,{filter:e,isLegacy:t})},this._onResumeClick=async e=>{const{isEnterprise:t}=(0,a.Yg)(e.streamId);this.setState((({isLoading:t})=>({isLoading:{...t,[e.id]:!0}}))),this._updateFiltersService(t);const s=(new Date).getTime(),n={streamIds:[],...e,active:!0};e.activeUntil&&e.activeUntil<s&&(n.activeUntil=null);try{await this.filters.askSave(n),this.setState((({isLoading:t})=>({isLoading:{...t,[e.id]:!1}})))}catch(i){this._onUpdateError(e)}},this._onUpgradeClick=()=>{this.feedly.loadPage(o.UP.LeoSecurity)}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.feedly=streets.service("feedly"),this.signs=streets.service("signs"),this._updateFiltersService(),this._updateEnterpriseUsernames()}componentWillUnmount(){this.filters=null,this.feedly=null,this.signs=null}render(){const{filters:e,isLegacy:t,tableElement:s}=this.props,{enterpriseUsernames:i,filterToDelete:r,isLoading:a}=this.state,o=s;return n.createElement("div",null,n.createElement(o,{filters:e,isLegacy:t,isLoading:a,onEditClick:this._onEditClick,onDeleteClick:this._onDeleteClick,onPauseClick:this._onPauseClick,onPreviewClick:this._onPreviewClick,onResumeClick:this._onResumeClick,onUpgradeClick:this._onUpgradeClick,usernames:i}),r&&n.createElement(y.u_,{onClose:this._onCloseDeleteModal,small:!0},n.createElement(u.H2,{appearance:"h3"},"Delete filter"),n.createElement("p",null,"Are you sure you want to delete this filter? This operation cannot be undone."),n.createElement(M.zx,{color:"danger",label:"Delete",onClick:this._onDeleteConfirmClick,loading:this.state.isDeleteConfirmLoading}),n.createElement(M.zx,{label:"No, keep this filter",onClick:this._onCloseDeleteModal,importance:"secondary"})))}_onUpdateError(e){this.signs.showMessage(`There was an error when trying to update ${e.label}.`)}_updateFiltersService(e,t=!1){this.filters=t?e?streets.service("enterprisefilters"):streets.service("personalfilters"):e?streets.service("enterprisemutefilters"):streets.service("personalmutefilters")}async _updateEnterpriseUsernames(){const e=await this.enterprise.askListUsernames();this.setState({enterpriseUsernames:e})}}D.propTypes={filters:r().arrayOf(r().object),isLegacy:r().bool,tableElement:r().func},D.defaultProps={filters:[],isLegacy:!1,tableElement:x};var O=s(32470);const A=["site:","author:","title:"];class z extends n.Component{render(){const{filters:e,onDeleteClick:t,onPreviewClick:s,usernames:i}=this.props;return e.length?n.createElement(S.OY,{data:e,flexLayout:!0,uniqueKey:"id"},n.createElement(S.Kk,{header:"Name",initialSortDirection:S.Sr.ASC,sortProperty:"label",cell:e=>{const{active:t,created:r,createdBy:a}=e,o=a&&i[a];return n.createElement(S.aH,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement("div",{className:"col-no-flex"},n.createElement(E.Z,{importance:"secondary"})),n.createElement("div",null,n.createElement(T.sr,{muted:!t,normalCase:!0,wordWrap:!0,onClick:()=>{s(e)}},n.createElement(P.L,{firstOccurance:!0,text:e.label,wordClassName:"item-header--light",words:A,wrapper:"span"}),!t&&" (Paused)"),n.createElement("div",{className:b()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},!!o&&`Created by ${o}`),n.createElement("div",{className:b()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},"on ",(0,k.p6)(new Date(r),"M/dd/yyyy")))))}}),n.createElement(S.Kk,{header:"Removed",sortBehavior:S.lI,sortProperty:"numEntries",width:100,style:{float:"right"},cell:({active:e,numEntries:t})=>n.createElement(S.aH,{className:"va-middle"},n.createElement("div",{className:b()({"is-muted":!e})},(0,O.HN)(t)," ",c()("article",t)))}),n.createElement(S.hN,{header:"",width:190,style:{justifyContent:"flex-end",textAlign:"right"},cell:e=>n.createElement(S.aH,{className:"va-middle"},n.createElement(M.zx,{icon:n.createElement(w.Z,{importance:"tertiary"}),importance:"secondary",onClick:()=>t(e,!0)}))})):null}}z.propTypes={filters:r().arrayOf(r().object),onDeleteClick:r().func,onPreviewClick:r().func,usernames:r().objectOf(r().string)},z.defaultProps={filters:[],onDeleteClick:()=>{},onPreviewClick:()=>{},usernames:{}};var R=s(89919),F=s(83442),j=s(69247),U=s(9648),B=s(30392),H=s(14171),Y=s(74812),Z=s(28576);const W=["site:","author:","title:"];class $ extends n.Component{render(){const{filters:e,isLoading:t,onDeleteClick:s,onEditClick:i,onPauseClick:r,onPreviewClick:a,onResumeClick:o,onUpgradeClick:l,usernames:d}=this.props;if(!e.length)return null;const h=e.some((e=>(0,_.IE)(e)));return n.createElement(S.OY,{data:e,flexLayout:!0,uniqueKey:"id"},n.createElement(S.Kk,{header:"Name",initialSortDirection:S.Sr.ASC,sortProperty:"label",cell:e=>{const{active:t,createdBy:s,created:i}=e,r=s&&d[s],o=(0,_.IE)(e);return n.createElement(S.aH,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement("div",{className:"col-no-flex"},n.createElement(E.Z,{importance:"secondary"})),n.createElement("div",null,n.createElement(T.sr,{muted:!t,normalCase:!0,onClick:()=>{a(e)},wordWrap:!0},n.createElement(P.L,{firstOccurance:!0,text:e.label,wordClassName:"item-header--light",words:W,wrapper:"span"}),!t&&!o&&" (Paused)"),n.createElement("div",{className:b()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},!!r&&`Created by ${r}`),n.createElement("div",{className:b()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},"on ",(0,k.p6)(new Date(i),"M/dd/yyyy")))))}}),n.createElement(S.Kk,{header:"Muted",sortBehavior:S.lI,sortProperty:"numEntries",width:100,style:{float:"right",textAlign:"left"},cell:({active:e,numEntries:t})=>n.createElement(S.aH,{className:"va-middle"},n.createElement("div",{className:b()({"is-muted":!e})},t?(0,O.HN)(t):"0"," ",c()("article",t)))}),h&&n.createElement(S.hN,{header:"",sortBehavior:S.lI,sortProperty:"numEntries",width:101,cell:e=>n.createElement(S.aH,{className:"va-middle"},n.createElement(N.d,{filter:e}))}),n.createElement(S.hN,{header:"",width:112,style:{justifyContent:"flex-end",textAlign:"right"},cell:e=>{const a=(0,_.IE)(e);return n.createElement(S.aH,{className:"va-middle"},n.createElement(M.zx,{icon:a?n.createElement(R.Z,{importance:"tertiary"}):n.createElement(F.Z,{importance:"tertiary"}),importance:"secondary",onClick:()=>a?l():i(e),title:a?"Upgrade":"Refine"}),n.createElement(Y.L,{align:"right",className:"m-a-0",icon:t[e.id]?n.createElement(H.J,{name:"icon-fx-loading",color:"primary"}):n.createElement(j.Z,{importance:"secondary"}),importance:"tertiary",menu:n.createElement(Z.v2,{width:160},!a&&n.createElement(Z.sN,{onClick:e.active?r.bind(null,e):o.bind(null,e)},e.active?n.createElement(U.Z,{importance:"secondary"}):n.createElement(B.Z,{importance:"secondary"}),e.active?"Pause":"Resume"),n.createElement(Z.sN,{danger:!0,onClick:()=>s(e)},n.createElement(w.Z,{color:"danger"}),"Remove")),title:"More actions"}))}}))}}$.propTypes={filters:r().arrayOf(r().object),isLoading:r().shape({[r().string]:r().bool}),onDeleteClick:r().func,onEditClick:r().func,onPauseClick:r().func,onPreviewClick:r().func,onResumeClick:r().func,onUpgradeClick:r().func,usernames:r().objectOf(r().string)},$.defaultProps={filters:[],isLoading:{},onDeleteClick:()=>{},onEditClick:()=>{},onPauseClick:()=>{},onPreviewClick:()=>{},onResumeClick:()=>{},onUpgradeClick:()=>{},usernames:{}};var q=s(48124);function V({filter:e,isLoading:t,isTablet:s,onDeleteClick:i,onEditClick:r,onMuteOptionsClick:a,onPauseClick:o,onResumeClick:l,onUpgradeClick:c}){const d=(0,_.IE)(e);return s?n.createElement(n.Fragment,null,n.createElement(M.zx,{icon:d?n.createElement(R.Z,{importance:"tertiary"}):n.createElement(F.Z,{importance:"tertiary"}),importance:"secondary",onClick:d?c:r}),n.createElement(M.zx,{icon:n.createElement(q.Z,{importance:"tertiary"}),importance:"tertiary",onClick:a})):n.createElement(n.Fragment,null,n.createElement(M.zx,{icon:d?null:n.createElement(F.Z,{importance:"tertiary"}),importance:"secondary",label:d?"Upgrade":"Refine",onClick:d?c:r}),n.createElement(Y.L,{align:"right",className:"m-a-0",icon:t[e.id]?n.createElement(H.J,{name:"icon-fx-loading",color:"primary"}):n.createElement(j.Z,{importance:"secondary"}),importance:"tertiary",menu:n.createElement(Z.v2,{width:160},!d&&n.createElement(Z.sN,{onClick:e.active?o:l},e.active?n.createElement(U.Z,{importance:"secondary"}):n.createElement(B.Z,{importance:"secondary"}),e.active?"Pause":"Resume"),n.createElement(Z.sN,{danger:!0,onClick:i},n.createElement(w.Z,{color:"danger"}),"Remove")),title:"More actions"}))}V.propTypes={filter:r().shape({active:r().bool,id:r().string}).isRequired,isLoading:r().shape({[r().string]:r().bool}),isTablet:r().bool,onDeleteClick:r().func,onEditClick:r().func,onMuteOptionsClick:r().func,onPauseClick:r().func,onResumeClick:r().func,onUpgradeClick:r().func},V.defaultProps={isLoading:{},isTablet:!1,onDeleteClick:()=>{},onEditClick:()=>{},onMuteOptionsClick:()=>{},onPauseClick:()=>{},onResumeClick:()=>{},onUpgradeClick:()=>{}}},38884:(e,t,s)=>{"use strict";s.d(t,{f:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a),l=s(99175);function c({active:e,className:t,hoverMessage:s,value:i}){const r=n.createElement("div",{className:o()("PercentageBar PercentageBar__container",t),title:s?"":`${i}%`},n.createElement("div",{className:o()("PercentageBar__bar",{"PercentageBar__bar--active":e}),style:{width:`${i}%`}}));return s?n.createElement(l.d,{content:s},r):r}c.propTypes={active:r().bool,className:r().string,hoverMessage:r().string,value:r().number.isRequired},c.defaultProps={active:!1,className:void 0,hoverMessage:""}},42221:(e,t,s)=>{"use strict";s.d(t,{Ng:()=>F,EI:()=>R,rg:()=>q});var n=s(32735),i=s(60216),r=s.n(i),a=s(84955),o=s(74221),l=s(40841),c=s.n(l),d=s(24443),h=s.n(d),u=s(89919),p=s(83442),m=s(69247),g=s(9648),f=s(30392),y=s(11505),v=s(3015),b=s(99442),E=s(35093),C=s(2222),w=s(32853),k=s(47264),_=s(74812),M=s(87970),S=s(95192),T=s(71906),I=s(14171),N=s(28576);class P extends n.Component{render(){const{isLoading:e,priorities:t,onDeleteClick:s,onEditClick:i,onPauseClick:r,onPreviewClick:a,onResumeClick:o,onUpgradeClick:l,usernames:d}=this.props;if(!t.length)return null;const P=t.some((({active:e,trainingScore:t,trainingStatus:s,inactiveReason:n})=>"number"==typeof t||s===b.Py.error||s===b.Py.updating||(0,w.IE)({active:e,inactiveReason:n})));return n.createElement(T.OY,{data:t,uniqueKey:"id",flexLayout:!0},n.createElement(T.Kk,{header:"Name",initialSortDirection:T.Sr.ASC,sortProperty:"label",cell:e=>{const t=(0,C.F1)(e),s=b.aB[t],r=E.XA[t]||E.XA.various;return n.createElement(T.aH,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement("div",{className:"col-no-flex"},n.createElement(r,{importance:"secondary",title:s})),n.createElement("div",null,n.createElement(M.sr,{muted:!e.active,normalCase:!0,onClick:()=>{i(e)}},(0,C.kk)(e)&&s&&n.createElement("span",{className:"item-header--light"},s.toLowerCase()," "),e.label,!e.active&&!(0,w.IE)(e)&&" (Paused)"),!!e.createdBy&&n.createElement("div",{className:c()("item-meta",{"is-muted":!e.active}),style:{marginTop:"4px"}},e.createdBy&&!!d[e.createdBy]&&`Created by ${d[e.createdBy]}`),e.created&&n.createElement("div",{className:c()("item-meta",{"is-muted":!e.active}),style:{marginTop:"4px"}},"on ",(0,v.p6)(new Date(e.created),"M/dd/yyyy")))))}}),n.createElement(T.Kk,{header:"Last 7 Days",sortBehavior:T.lI,sortProperty:"numEntriesMatching",width:100,cell:e=>n.createElement(T.aH,{className:"va-middle"},n.createElement(S.x,{className:"clickable",color:e.active?"secondary":"tertiary",onClick:a.bind(null,e),size:"small",tagName:"div"},h()("article",e.numEntriesMatching,!0)))}),P?n.createElement(T.hN,{header:"Learning",width:101,cell:e=>n.createElement(T.aH,{className:"va-middle"},n.createElement(q,{priority:e}))}):null,n.createElement(T.hN,{header:"",width:112,cell:t=>{const a=(0,w.IE)(t);return n.createElement(T.aH,{className:"va-middle"},n.createElement(k.zx,{icon:a?n.createElement(u.Z,{importance:"tertiary"}):n.createElement(p.Z,{importance:"tertiary"}),importance:"secondary",onClick:()=>{a?l():i(t)},title:a?"Upgrade":"Refine"}),n.createElement(_.L,{align:"right",className:"m-a-0",icon:e[t.id]?n.createElement(I.J,{name:"icon-fx-loading",color:"primary"}):n.createElement(m.Z,{importance:"secondary"}),importance:"tertiary",menu:n.createElement(N.v2,{width:160},!a&&n.createElement(N.sN,{onClick:t.active?r.bind(null,t):o.bind(null,t)},t.active?n.createElement(g.Z,{importance:"secondary"}):n.createElement(f.Z,{importance:"secondary"}),t.active?"Pause":"Resume"),n.createElement(N.sN,{danger:!0,onClick:s.bind(null,t)},n.createElement(y.Z,{color:"danger"}),"Remove")),title:"More actions"}))}}))}}P.propTypes={isLoading:r().shape({[r().string]:r().bool}),priorities:r().arrayOf(r().object),onDeleteClick:r().func,onEditClick:r().func,onPauseClick:r().func,onPreviewClick:r().func,onResumeClick:r().func,onUpgradeClick:r().func,usernames:r().objectOf(r().string)},P.defaultProps={isLoading:{},priorities:[],onDeleteClick:()=>{},onEditClick:()=>{},onPauseClick:()=>{},onPreviewClick:()=>{},onResumeClick:()=>{},onUpgradeClick:()=>{},usernames:{}};var L=s(63402),x=s(40280),D=s(1542),O=s(23005);class A extends n.Component{constructor(e){super(e),this.state={isLoading:!1,previewError:null,previewCount:Math.min(50,e.priority.numEntries),prioritizedEntries:null}}componentDidMount(){this.signs=streets.service("signs"),this.reader=streets.service("reader"),this.reader.registerObserver(this),this._updatePrioritizedEntries()}componentWillUnmount(){this._stream&&(this._stream.unregisterObserver(this),this._stream=null),this.reader.unregisterObserver(this),this.reader=null,this.signs=null}onStreamStateChanged(){const{entries:e,isLoadingEntries:t,error:s}=this._stream.getState();this.setState({prioritizedEntries:e,isLoading:t,previewError:s})}render(){const{previewCount:e}=this.state,{label:t}=this.props.priority,s=0===e?"No articles have been prioritized yet":`Review the last ${h()("article",e,!0)} prioritized`;return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered form"},n.createElement(x.H2,{appearance:"h1",sub:s},t," Priority"),this._renderPrioritizedEntries()))}_renderPrioritizedEntries(){const{prioritizedEntries:e,isLoading:t,previewError:s}=this.state;return t||e?s?n.createElement("p",null,"Preview failed because: ",s):t?n.createElement(O.g,{details:"prioritized articles"}):0===e.length?null:n.createElement(D.c,{entries:e}):null}_updatePrioritizedEntries(){const{previewCount:e}=this.state,{id:t}=this.props.priority;if(0===e)return void this.setState({prioritizedEntries:[],isLoading:!1});this._stream&&(this.reader.releaseStream(this._stream),this._stream.unregisterObserver(this),this._stream=null);const s={batchSize:e,unfilteredOnly:!1};this.setState({prioritizedEntries:[],isLoading:!0}),this._stream=this.reader.lookupStream(t,s),this._stream.registerObserver(this)}}A.propTypes={priority:r().shape({id:r().string,label:r().string,numEntries:r().number}).isRequired};var z=s(55024);class R extends n.Component{constructor(...e){super(...e),this.state={usernames:{},isDeleteConfirmLoading:!1,isLoading:{},priorityToDelete:null},this._onCloseDeleteModal=()=>{this.setState({priorityToDelete:null})},this._onDeleteClick=e=>{this.setState({priorityToDelete:e})},this._onDeleteConfirmClick=async()=>{const{priorityToDelete:e}=this.state;this.setState({isDeleteConfirmLoading:!0});try{await this.priorities.askDelete(e.id),this.setState({priorityToDelete:null,isDeleteConfirmLoading:!1}),this.signs.showMessage(`${e.label} has been deleted.`)}catch(t){this.setState({priorityToDelete:null,isDeleteConfirmLoading:!1}),this._onUpdateError(e)}},this._onEditClick=e=>{this.feedly.slideForm(L.c2,{initialPriority:e})},this._onPauseClick=async e=>{this.setState((({isLoading:t})=>({isLoading:{...t,[e.id]:!0}})));try{await this.priorities.askSave({streamIds:[],...e,active:!1}),this.setState((({isLoading:t})=>({isLoading:{...t,[e.id]:!1}})))}catch(t){this._onUpdateError(e)}},this._onPreviewClick=e=>{this.feedly.slideForm(A,{priority:e})},this._onResumeClick=async e=>{const t={streamIds:[],...e,active:!0};this.setState((({isLoading:t})=>({isLoading:{...t,[e.id]:!0}})));try{await this.priorities.askSave(t),this.setState((({isLoading:t})=>({isLoading:{...t,[e.id]:!1}})))}catch(s){this._onUpdateError(e)}},this._onUpgradeClick=()=>{this.feedly.loadPage(a.UP.Enterprise)}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.feedly=streets.service("feedly"),this.signs=streets.service("signs"),this._updatePriorityService(),this._updateEnterpriseUsernames()}componentDidUpdate(e){const{team:t}=this.props;t!==e.team&&(this._updatePriorityService(),this._updateEnterpriseUsernames())}componentWillUnmount(){this.enterprise=null,this.feedly=null,this.priorities=null,this.signs=null}render(){const{priorities:e,tableElement:t}=this.props,{isLoading:s,usernames:i}=this.state,r=t;return n.createElement("div",null,n.createElement(r,{isLoading:s,priorities:e,onEditClick:this._onEditClick,onDeleteClick:this._onDeleteClick,onPauseClick:this._onPauseClick,onPreviewClick:this._onPreviewClick,onResumeClick:this._onResumeClick,onUpgradeClick:this._onUpgradeClick,usernames:i}),this._renderDeleteConfirmModal())}_renderDeleteConfirmModal(){const{priorityToDelete:e,usernames:t}=this.state;if(!e)return null;const s=e.streamLabels[0],{isEnterprise:i}=(0,o.Yg)(e.id);let r,a=!0;return i&&(a=streets.getUserId()===e.createdBy,r=a?"You":t[e.createdBy]),n.createElement(z.u_,{onClose:this._onCloseDeleteModal,small:!0},n.createElement(x.H2,{appearance:"h3"},"Are you sure you want to remove ",e.label,"?"),n.createElement("p",null,!a&&`${r} created this priority for the ${s} feed.`,i?" This will impact everyone in your team.":""),n.createElement(k.zx,{color:"danger",label:"Delete",onClick:this._onDeleteConfirmClick,loading:this.state.isDeleteConfirmLoading}),n.createElement(k.zx,{label:"No, keep this priority",onClick:this._onCloseDeleteModal,importance:"secondary"}))}_onUpdateError(e){this.signs.showMessage(`There was an error when trying to update ${e.label}.`)}async _updateEnterpriseUsernames(){const{team:e}=this.props,t=e?await this.enterprise.askListUsernames():null;this.setState({usernames:t})}_updatePriorityService(){const{team:e}=this.props;this.priorities=e?streets.service("enterprisepriorities"):streets.service("personalpriorities")}}R.propTypes={priorities:r().arrayOf(r().object),tableElement:r().func,team:r().bool},R.defaultProps={priorities:[],tableElement:P,team:!1};class F extends n.Component{componentDidMount(){this.collections=streets.service("collections")}componentWillUnmount(){this.collections=null}render(){const{isLoading:e,priorities:t,onDeleteClick:s,onEditClick:i,onPauseClick:r,onPreviewClick:a,onResumeClick:o,onUpgradeClick:l,usernames:d}=this.props;if(!t.length)return null;const u=t.some((({active:e,trainingScore:t,trainingStatus:s,inactiveReason:n})=>"number"==typeof t||s===b.Py.error||s===b.Py.updating||(0,w.IE)({active:e,inactiveReason:n})));return n.createElement(T.OY,{data:t,flexLayout:!0,uniqueKey:"id"},n.createElement(T.Kk,{header:"Name",initialSortDirection:T.Sr.ASC,sortProperty:"label",cell:e=>{const t=(0,C.F1)(e),s=b.aB[t],i=E.XA[t]||E.XA.various;return n.createElement(T.aH,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement("div",{className:"col-no-flex"},n.createElement(i,{importance:"secondary",title:s})),n.createElement("div",null,n.createElement(M.tm,{muted:!e.active,normalCase:!0,uri:e.uri},(0,C.kk)(e)&&s&&n.createElement("span",{className:"item-header--light"},s.toLowerCase()," "),e.label,!e.active&&!(0,w.IE)(e)&&" (Paused)"),!!e.createdBy&&n.createElement("div",{className:c()("item-meta",{"is-muted":!e.active}),style:{marginTop:"4px"}},!!d[e.createdBy]&&`Created by ${d[e.createdBy]}`),e.created&&n.createElement("div",{className:c()("item-meta",{"is-muted":!e.active}),style:{marginTop:"4px"}},"on ",(0,v.p6)(new Date(e.created),"M/dd/yyyy")))))}}),n.createElement(T.Kk,{header:"Feed",sortProperty:"streamLabel",width:200,cell:({active:e,streamLabel:t})=>n.createElement(T.aH,{className:"va-middle"},n.createElement(S.x,{color:e?"secondary":"tertiary",size:"small",tagName:"div"},t))}),n.createElement(T.Kk,{header:"Last 7 Days",sortBehavior:T.lI,sortProperty:"numEntriesMatching",width:120,cell:e=>n.createElement(T.aH,{className:"va-middle"},n.createElement(S.x,{className:"clickable",color:e.active?"secondary":"tertiary",onClick:()=>{a(e)},size:"small",tagName:"div"},h()("article",e.numEntriesMatching,!0)))}),u&&n.createElement(T.hN,{header:"Learning",width:101,cell:e=>n.createElement(T.aH,{className:"va-middle"},n.createElement(q,{priority:e}))}),n.createElement(T.hN,{header:"",width:175,cell:t=>{const a=(0,w.IE)(t);return n.createElement(T.aH,{className:"va-middle ha-right"},n.createElement(k.zx,{icon:a?null:n.createElement(p.Z,{importance:"tertiary"}),importance:"secondary",label:a?"Upgrade":"Refine",onClick:()=>{a?l():i(t)}}),n.createElement(_.L,{align:"right",className:"m-a-0",icon:e[t.id]?n.createElement(I.J,{name:"icon-fx-loading",color:"primary"}):n.createElement(m.Z,{importance:"secondary"}),importance:"tertiary",menu:n.createElement(N.v2,{width:160},!a&&n.createElement(N.sN,{onClick:()=>{t.active?r(t):o(t)}},t.active?n.createElement(g.Z,{importance:"secondary"}):n.createElement(f.Z,{importance:"secondary"}),t.active?"Pause":"Resume"),n.createElement(N.sN,{danger:!0,onClick:()=>{s(t)}},n.createElement(y.Z,{color:"danger"}),"Remove")),title:"More actions"}))}}))}}F.propTypes={isLoading:r().shape({[r().string]:r().bool}),priorities:r().arrayOf(r().object),onDeleteClick:r().func,onEditClick:r().func,onPauseClick:r().func,onPreviewClick:r().func,onResumeClick:r().func,onUpgradeClick:r().func,usernames:r().objectOf(r().string)},F.defaultProps={isLoading:{},priorities:[],onDeleteClick:()=>{},onEditClick:()=>{},onPauseClick:()=>{},onPreviewClick:()=>{},onResumeClick:()=>{},onUpgradeClick:()=>{},usernames:{}};var j=s(48124),U=s(32470);function B({priorities:e,onPriorityOptionsClick:t,onRefinePriority:s,onUpgradeClick:i,onViewPrioritizedArticles:r,usernames:a}){if(!e.length)return null;const o=e.some((({active:e,inactiveReason:t,trainingScore:s,trainingStatus:n})=>"number"==typeof s||n===b.Py.error||n===b.Py.updating||(0,w.IE)({active:e,inactiveReason:t})));return n.createElement(T.OY,{data:e,flexLayout:!0,uniqueKey:"id"},n.createElement(T.Kk,{header:"Name",initialSortDirection:T.Sr.ASC,sortProperty:"label",cell:e=>{const t=(0,C.F1)(e),i=b.aB[t],r=E.XA[t]||E.XA.various;return n.createElement(T.aH,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement("div",{className:"col-no-flex"},n.createElement(r,{importance:"secondary",title:i})),n.createElement("div",null,n.createElement(M.sr,{muted:!e.active,normalCase:!0,onClick:()=>{s(e)}},(0,C.kk)(e)&&i&&n.createElement("span",{className:"item-header--light"},i.toLowerCase()," "),e.label,!e.active&&!(0,w.IE)(e)&&" (Paused)"),!!e.createdBy&&n.createElement("div",{className:c()("item-meta",{"is-muted":!e.active}),style:{marginTop:"4px"}},!!a[e.createdBy]&&`Created by ${a[e.createdBy]}`),e.created&&n.createElement("div",{className:c()("item-meta",{"is-muted":!e.active}),style:{marginTop:"4px"}},"on ",(0,v.p6)(new Date(e.created),"M/dd/yyyy")))))}}),n.createElement(T.Kk,{header:"Feed",sortProperty:"streamLabel",width:140,cell:({active:e,streamLabel:t})=>n.createElement(T.aH,{className:"va-middle"},n.createElement(S.x,{color:e?"secondary":"tertiary",size:"smaller",tagName:"div"},t))}),n.createElement(T.Kk,{header:"Last 7 Days",sortBehavior:T.lI,sortProperty:"numEntriesMatching",width:120,cell:e=>n.createElement(T.aH,{className:"va-middle"},n.createElement(S.x,{color:e.active?"secondary":"tertiary",onClick:()=>{r(e)},size:"smaller",tagName:"div"},(0,U.HN)(e.numEntriesMatching)," ",h()("article",e.numEntriesMatching)))}),o&&n.createElement(T.hN,{header:"Learning",width:136,cell:e=>n.createElement(T.aH,{className:"va-middle"},n.createElement(q,{priority:e}))}),n.createElement(T.hN,{header:"",width:110,cell:e=>{const r=(0,w.IE)(e);return n.createElement(T.aH,{className:"va-middle"},n.createElement(k.zx,{icon:r?n.createElement(u.Z,{importance:"tertiary"}):n.createElement(p.Z,{importance:"tertiary"}),importance:"secondary",onClick:()=>{r?i():s(e)},title:r?"Upgrade":"Refine"}),n.createElement(k.zx,{className:"m-r-0",icon:n.createElement(j.Z,{importance:"tertiary"}),importance:"tertiary",onClick:()=>{t(e)}}))}}))}B.propTypes={onPriorityOptionsClick:r().func,onRefinePriority:r().func,onUpgradeClick:r().func,onViewPrioritizedArticles:r().func,priorities:r().arrayOf(r().object),usernames:r().objectOf(r().string)},B.defaultProps={onPriorityOptionsClick:()=>{},onRefinePriority:()=>{},onUpgradeClick:()=>{},onViewPrioritizedArticles:()=>{},priorities:[],usernames:{}};var H=s(14956),Y=s(99175),Z=s(66360),W=s(7837),$=s(38884);function q({priority:e,priority:{active:t,inactiveReason:s,latestRefreshErrors:i,trainingScore:r,trainingStatus:a}}){return(0,w.IE)({active:t,inactiveReason:s})?n.createElement(Z.d,{filter:e}):a===b.Py.error?n.createElement(Y.d,{content:(0,C.aV)({latestRefreshErrors:i})},n.createElement(W.j,{color:"danger",fontSize:"small",iconComponent:H.Z},"Error")):a===b.Py.updating?n.createElement(S.x,{color:t?"secondary":"tertiary",size:"small",tagName:"div"},"Building..."):(0,C.FN)(e)?n.createElement(S.x,{color:t?"accent":"tertiary",size:"smaller",className:"is-centered-block",tagName:"div"},"Save 20 articles"):"number"==typeof r?n.createElement($.f,{active:t,hoverMessage:`${Math.round(100*r)}% learning score: keep saving articles to your boards to increase accuracy`,value:Math.round(100*r)}):null}q.propTypes={priority:r().shape({active:r().bool.isRequired,inactiveReason:r().string,latestRefreshErrors:r().arrayOf(r().object),trainingScore:r().number,trainingStatus:r().oneOfType([r().string,r().number])}).isRequired}},94613:(e,t,s)=>{"use strict";s.d(t,{mI:()=>v,kH:()=>u,Y8:()=>d,Ee:()=>l});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a);class l extends r.Component{render(){const{cards:e,children:t,className:s,horizontal:n,name:i,required:a,selectedValue:l,title:c}=this.props,d=o()({horizontal:n,radiogroup:!0,"list-cards row":e});return r.createElement("fieldset",{className:o()("field",s)},c&&r.createElement("label",{className:o()({required:a})},c),r.createElement("div",{className:d},r.Children.map(t,(e=>{if(!e)return null;const t=e.props&&e.props.value;return r.cloneElement(e,{name:i,onChange:this._onChange.bind(this,t),selected:t===l})}))))}_onChange(e){this.props.onChange&&e!==this.props.selectedValue&&this.props.onChange(e)}}l.propTypes={cards:i().bool,children:i().arrayOf(i().node).isRequired,className:i().string,horizontal:i().bool,name:i().string.isRequired,onChange:i().func.isRequired,required:i().bool,selectedValue:i().oneOfType([i().string,i().number]).isRequired,title:i().string},l.defaultProps={cards:!1,className:void 0,horizontal:!1,required:!1,title:null};var c=s(16847);function d({children:e,className:t,disabled:s,name:n,onChange:i,selected:a,value:l}){let d;d=e&&r.Children.count(e)>0?e:"string"==typeof l?(0,c.kC)(l):l;const h=`${n}-${l}`;return r.createElement("label",{className:o()("secondary label-radio",t,{checked:a}),htmlFor:h},r.createElement("input",{checked:a,disabled:s,id:h,name:n,onChange:i,type:"radio"}),d)}function h(e){const{children:t,className:s,disabled:n,layout:i,name:a,onChange:l,selected:c,value:h}=e;return r.createElement("div",{className:i},r.createElement("div",{className:o()("card",s,{uncompleted:!c})},r.createElement(d,{disabled:n,value:h,name:a,onChange:l,selected:c,className:s},t)))}d.propTypes={children:i().oneOfType([i().string,i().node]),className:i().string,disabled:i().bool,value:i().oneOfType([i().string,i().number]).isRequired,name:i().string,onChange:i().func,selected:i().bool},d.defaultProps={children:null,className:void 0,disabled:!1,name:"",onChange:null,selected:!1},h.propTypes={...d.PropTypes,className:i().string,layout:i().string},h.defaultProps={...d.defaultProps,className:void 0,layout:"col-xs-12 col-md-4 m-b-1"};class u extends r.Component{render(){const{children:e,selectedValue:t}=this.props;return r.createElement("div",{className:"MobileGroupRadio"},r.Children.map(e,(e=>{const s=e.props&&e.props.value;return r.cloneElement(e,{name,onClick:()=>{this._onChange(s)},selected:s===t})})))}_onChange(e){this.props.onChange&&e!==this.props.selectedValue&&this.props.onChange(e)}}u.propTypes={children:i().arrayOf(i().node).isRequired,onChange:i().func.isRequired,selectedValue:i().oneOfType([i().string,i().number]).isRequired};var p=s(71262);const m=(0,p.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{transform:"translate(6 6)",fillRule:"nonzero",fill:"none"},r.createElement("circle",{fill:"#2BB24C",cx:8,cy:8,r:8}),r.createElement("circle",{fill:"#FFF",cx:8,cy:8,r:3})))}));const g=(0,p.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),r.createElement("defs",null,r.createElement("circle",{id:"fx-mobile-radio_svg__a",cx:8,cy:8,r:8})),r.createElement("g",{transform:"translate(6 6)",fill:"none",fillRule:"evenodd"},r.createElement("mask",{id:"fx-mobile-radio_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#fx-mobile-radio_svg__a"})),r.createElement("circle",{stroke:"currentColor",strokeWidth:2,fill:"#FFF",fillRule:"nonzero",mask:"url(#fx-mobile-radio_svg__b)",cx:8,cy:8,r:8})))}));var f=s(28576);const y=({children:e,onClick:t,selected:s,value:n})=>{let i;return i=e&&r.Children.count(e)>0?e:"string"==typeof n?(0,c.kC)(n):n,r.createElement(f.kR,{onClick:t},s?r.createElement(m,null):r.createElement(g,{className:"MobileRadio__icon",importance:"secondary"}),i)};y.propTypes={children:i().oneOfType([i().string,i().node]),value:i().oneOfType([i().string,i().number]).isRequired,onClick:i().func,selected:i().bool},y.defaultProps={children:void 0,onClick:()=>{},selected:!1};const v=y},99166:(e,t,s)=>{"use strict";s.d(t,{P:()=>d});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(74812),c=s(28576);class d extends r.Component{constructor(e){super(e),this._onClearClick=()=>{const{defaultLabel:e,items:t,onItemSelect:s}=this.props;e||!t.length?s(null):s(t[0])},this._onCloseMenu=()=>{this.setState({isOpen:!1})},this.state={isOpen:!1,showPlaceholder:"string"!=typeof e.value}}componentDidUpdate(e){e.value!==this.props.value&&this.setState({showPlaceholder:!1})}render(){const{isOpen:e,showPlaceholder:t}=this.state,{borderless:s,className:n,clearable:i,defaultLabel:a,fullWidth:d,id:h,items:u,placeholder:p,prefix:m,size:g,value:f}=this.props;let y,v;t&&p?(v=p,y=!1):f?(v=f,y=i&&this._getLabelForItem(u[0])!==v):(v=a||"",y=!1);const b=o()({"default-selection":v===a,"button--label-h4":"small"===g});return r.createElement("div",{className:o()("fx-select",n,{"fx-select--borderless":s})},r.createElement(l.X,{className:b,clearable:y,closeOnClick:!0,dropDownArrow:!0,fullWidth:d,label:(m?m+" ":"")+v,id:h,isOpen:e,onButtonClick:this._onSelectClick.bind(this),onClear:this._onClearClick,onCloseMenu:this._onCloseMenu,menu:r.createElement(c.GX,{maxHeight:"70vh"},this._renderMenuItems()),size:g}))}_renderMenuItems(){const{defaultLabel:e,iconComponent:t,items:s,onItemSelect:n}=this.props,i=[];return e&&i.push(r.createElement(c.sN,{key:`default-${e}`,onClick:()=>{n(null)}},e)),s.forEach(((e,s)=>{const a=this._getLabelForItem(e);i.push(r.createElement(c.sN,{key:`${a}-${s}`,onClick:()=>{n(e)}},t&&r.createElement(t,{importance:"tertiary"}),a))})),i}_getLabelForItem(e){const{labelKey:t}=this.props;return e?t?e[t]:e:null}_onSelectClick(e){e.preventDefault(),this.setState({isOpen:!this.state.isOpen})}}d.propTypes={borderless:i().bool,className:i().string,clearable:i().bool,defaultLabel:i().string,fullWidth:i().bool,iconComponent:i().elementType,id:i().string,items:i().arrayOf(i().oneOfType([i().string,i().object])).isRequired,labelKey:i().string,onItemSelect:i().func.isRequired,placeholder:i().string,prefix:i().string,size:i().oneOf(["small","normal"]),value:i().string},d.defaultProps={borderless:!1,className:"",clearable:!1,defaultLabel:"",fullWidth:!1,iconComponent:void 0,id:void 0,labelKey:"",placeholder:"",prefix:"",size:"normal",value:void 0}},81501:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(33259),i=s.n(n),r=s(60216),a=s.n(r),o=s(32735);class l extends o.Component{constructor(){super(),this._onScroll=i()((()=>{this._setBreakpoint(),this._checkStickiness()}),100),this._setBreakpoint=i()((()=>{const{offsetTop:e,target:t}=this.props,s=document.querySelectorAll(t),n=s[s.length-1];if(n){let t=n.getBoundingClientRect().bottom;const s=this._scrollParent.scrollTop;e&&(t-=e),s&&(t+=s),this._breakpoint=t}}),5e3,{leading:!0,trailing:!1}),this._boundOnScroll=null,this._scrollParent=null,this._breakpoint=null,this.state={isSticky:!1}}componentDidMount(){const{scrollParent:e}=this.props,t=document.querySelectorAll(e);this._scrollParent=t[t.length-1],this._setBreakpoint(),this._attachScrollEvents(),this._checkStickiness()}componentDidUpdate(){this._breakpoint||this._setBreakpoint()}componentWillUnmount(){this._detachScrollEvents(),this._breakpoint=null,this._scrollParent=null}render(){const e=this.props.children(this.state);return e&&o.Children.only(e)}_attachScrollEvents(){this._scrollParent.addEventListener("scroll",this._onScroll)}_checkStickiness(){const{isSticky:e}=this.state;if(!this._breakpoint)return;const t=this._scrollParent.scrollTop;t<this._breakpoint&&e?this.setState({isSticky:!1}):t>=this._breakpoint&&!e&&this.setState({isSticky:!0})}_detachScrollEvents(){this._scrollParent.removeEventListener("scroll",this._onScroll)}}l.propTypes={children:a().func.isRequired,offsetTop:a().number,scrollParent:a().string,target:a().string.isRequired},l.defaultProps={offsetTop:null,scrollParent:"#feedlyFrame"}},72405:(e,t,s)=>{"use strict";s.d(t,{Pl:()=>w,WW:()=>f,QU:()=>b,Le:()=>n.Z,M5:()=>p});var n=s(81501),i=s(93839),r=s.n(i),a=s(60216),o=s.n(a),l=s(32735),c=s(55118),d=s(5371);function h(e,t){return r()(e)?e(t):(0,l.cloneElement)(e,t)}const u=({children:e})=>l.createElement(n.Z,{offsetTop:d.vH,target:"#header-title"},(({isSticky:t})=>l.createElement("div",null,h(e,{compact:!1,isSticky:!1}),t&&l.createElement(c.h,{target:"#headerBarFX"},h(e,{compact:t,isSticky:t})))));u.propTypes={children:o().oneOfType([o().element,o().func]).isRequired};const p=u;var m=s(12788);s(33259);function g(e){return e?1===e.nodeType&&"yes"===e.getAttribute("data-PageElement")?e:1!==e.nodeType||"yes"!==e.getAttribute("data-PageHeaderContainer")&&"yes"!==e.getAttribute("data-PageFooterContainer")?g(e.parentNode):document.getElementById(e.getAttribute("data-PageElement")):null}class f extends l.Component{constructor(){super(),this._breakpoint=null,this._isSticky=!1,this._stickyContainerElement=null,this._targetElement=null,this.state={stickyContainerId:null}}componentDidMount(){this._intializeElements(),this.props.pageManager.registerObserver(this)}componentWillUnmount(){this.props.pageManager.unregisterObserver(this),this._transitionIn(this._stickyContainerElement),this._breakpoint=null,this._isSticky=null,this._stickyContainerElement=null,this._targetElement=null}onPageScroll(e){this._updateStickiness(e)}render(){const e=this.props.children(this.state);return e&&l.Children.only(e)}_updateStickiness(e){this._breakpoint&&this._stickyContainerElement&&this._targetElement&&(e>=this._breakpoint&&!this._isSticky?(this._transitionIn(this._stickyContainerElement),this._isSticky=!0):e<this._breakpoint&&this._isSticky&&(this._transitionOut(this._stickyContainerElement),this._isSticky=!1))}_intializeElements(){const{target:e}=this.props,t=g(m.findDOMNode(this));this._targetElement=t.querySelector(e),this._targetElement&&(this._breakpoint=this._targetElement.getBoundingClientRect().bottom-window.SAFE_AREA_INSET_TOP);const s=t.getAttribute("data-PageHeaderContainer");this.setState({stickyContainerId:s},(()=>{this._stickyContainerElement=document.getElementById(s),this._stickyContainerElement&&(this._stickyContainerHeight=this._stickyContainerElement.getBoundingClientRect().height),this._transitionOut(this._stickyContainerElement)}))}_transitionIn(e){e&&(e.style.transform="translate3d(0, 0, 0 )",e.firstChild.style.opacity=1)}_transitionOut(e){e&&(e.style.transform=`translate3d(0, -${d.cO}px, 0 )`,e.firstChild.style.opacity=0)}}function y(e,t){return r()(e)?e(t):(0,l.cloneElement)(e,t)}f.propTypes={children:o().func.isRequired,pageManager:o().objectOf(o().any).isRequired,target:o().string.isRequired},f.defaultProps={};const v=({children:e,displayMode:t,pageManager:s})=>l.createElement(f,{target:"header",pageManager:s},(({stickyContainerId:s})=>l.createElement(l.Fragment,null,y(e,{displayMode:t,isSticky:!1}),s&&l.createElement(c.h,{className:"border-bottom-secondary",target:`#${s}`},y(e,{displayMode:t,isSticky:!0})))));v.propTypes={children:o().oneOfType([o().element,o().func]).isRequired,displayMode:o().string.isRequired,pageManager:o().objectOf(o().any).isRequired};const b=v;var E=s(40841),C=s.n(E);class w extends l.Component{constructor(){super(),this.state={containerElement:null,showBorder:!1}}componentDidMount(){this.props.pageManager.registerObserver(this),this._intializeElements()}componentWillUnmount(){this.props.pageManager.unregisterObserver(this)}onPageScroll(e){const{showBorder:t}=this.state;e>0&&!t?this.setState({showBorder:!0}):e<=0&&t&&this.setState({showBorder:!1})}render(){const{children:e,height:t}=this.props,{containerElement:s,showBorder:n}=this.state;return l.createElement("div",{className:"MobileFixedHeader-placeholder",style:"number"==typeof t?{height:`${t}px`}:null},s&&l.createElement(c.h,{className:C()({"border-bottom-secondary":n}),target:s},function(e,t){return r()(e)?e(t):(0,l.cloneElement)(e,t)}(e)))}_intializeElements(){const e=g(m.findDOMNode(this)).getAttribute("data-PageHeaderContainer");this.setState({containerElement:document.getElementById(e)})}}w.propTypes={children:o().oneOfType([o().element,o().func]).isRequired,height:o().number,pageManager:o().objectOf(o().any).isRequired},w.defaultProps={height:null};class k extends l.Component{constructor(){super(),this.state={containerElement:null}}componentDidMount(){this._intializeElements()}render(){const{children:e,height:t}=this.props,{containerElement:s}=this.state;return l.createElement("div",{className:"MobileFixedFooter-placeholder",style:"number"==typeof t?{height:`${t}px`}:null},s&&l.createElement(c.h,{target:s},function(e,t){return r()(e)?e(t):(0,l.cloneElement)(e,t)}(e)))}_intializeElements(){const e=g(m.findDOMNode(this)).getAttribute("data-PageFooterContainer"),t=document.getElementById(e);t.style.display="block",this.setState({containerElement:t})}}k.propTypes={height:o().number,children:o().oneOfType([o().element,o().func]).isRequired},k.defaultProps={height:null}},39201:(e,t,s)=>{"use strict";s.d(t,{r:()=>l});var n=s(60216),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a);function l({disabled:e,isOn:t,label:s,onToggle:n}){const i=o()("Switch",{"Switch--on":t,"Switch--off":!t,"Switch--disabled":e});return r.createElement("div",null,r.createElement("div",{className:i,onClick:e?null:n,role:"button"},r.createElement("span",{className:"Switch__switch"}),r.createElement("span",{className:"Switch__status-text"},t?"On":"Off")),s&&r.createElement("span",{className:"Switch__label"},s))}l.propTypes={disabled:i().bool,isOn:i().bool.isRequired,label:i().string,onToggle:i().func},l.defaultProps={disabled:!1,label:"",onToggle:()=>{}}},49245:(e,t,s)=>{"use strict";s.d(t,{T3:()=>l,Hr:()=>u,r6:()=>g,mQ:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a);function l({active:e,className:t,items:s,onChange:i}){return s?n.createElement("div",{className:o()("GuidedTutorial__gpc-offset-6",{BigTabs:!0,[t]:t})},s.map((t=>{const{badge:s,dot:r,iconComponent:a,id:l,label:c}=t,d=e===l,h=a?n.createElement(a,{className:o()("BigTabs__icon",{"BigTabs__icon--active":d}),importance:d?void 0:"tertiary",color:d?"accent":"black"}):null;return n.createElement("a",{key:l,className:o()({BigTabs__tab:!0,"BigTabs__tab--active":d,"GuidedTutorial__gpc-target-6":"priority"===l}),onClick:()=>{i(l)}},h,c,r,s&&n.createElement("span",{className:o()("BigTabs__badge badge small",{"BigTabs__badge--accent":d})},s))}))):null}l.propTypes={active:r().string.isRequired,className:r().string,items:r().arrayOf(r().shape({dot:r().node,id:r().string.isRequired,iconComponent:r().elementType,label:r().string.isRequired,badge:r().string})).isRequired,onChange:r().func.isRequired},l.defaultProps={className:void 0};s(44406);class c extends n.Component{constructor(){var e;super(),this.resize=streets.service("resize"),this.state={displayMode:null===(e=this.resize)||void 0===e?void 0:e.getDisplayMode()}}componentDidMount(){this.resize&&this.resize.registerObserver(this)}componentWillUnmount(){this.resize&&(this.resize.unregisterObserver(this),this.resize=null)}onDisplayModeChanged(e){this.setState({displayMode:e})}render(){const{displayMode:e}=this.state;return n.createElement(l,this.props)}}var d=s(86576);const h=({children:e,onChange:t})=>n.createElement("div",{className:"TabBar"},n.Children.map(e,(e=>n.cloneElement(e,{onClick:t}))));h.propTypes={children:r().arrayOf(r().oneOfType([(0,d.componentWithName)("MobileTabBarTab"),(0,d.componentWithName)("MobileTabBarStart")])),onChange:r().func.isRequired},h.defaultProps={children:[]};const u=h;var p=s(47264);const m=({active:e,iconComponent:t,id:s,onClick:i})=>n.createElement("div",{className:"TabBar__tab"},n.createElement(p.zx,{className:"button-mobile-icon-only",icon:n.createElement(t,{color:e?"accent":"black",importance:e?void 0:"tertiary"}),importance:"",onClick:()=>{i(s)}}));m.propTypes={active:r().bool,iconComponent:r().elementType,id:r().string.isRequired,onClick:r().func},m.defaultProps={active:!1,iconComponent:void 0,onClick:()=>{}};const g=m;var f=s(71262);const y=(0,f.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12.162 3.416L1.59 13.988a2.554 2.554 0 000 3.612l6.942 6.942c.48.48 1.13.749 1.808.748l7.266-.005c.677 0 1.326-.27 1.804-.749l6.937-6.936a2.554 2.554 0 000-3.612L15.775 3.416a2.554 2.554 0 00-3.613 0zM2.651 15.048L13.223 4.476a1.054 1.054 0 011.491 0l10.572 10.572c.412.412.412 1.08 0 1.491l-6.936 6.937a1.054 1.054 0 01-.745.309l-7.266.005c-.28 0-.548-.11-.746-.309L2.65 16.54a1.054 1.054 0 010-1.49z"}),n.createElement("path",{d:"M13.362 9.27a.75.75 0 011.128.984l-.067.077-5.25 5.25a.75.75 0 01-1.128-.985l.067-.077 5.25-5.25zM13.38 14.888a.75.75 0 011.128.983l-.067.077-2.45 2.45a.75.75 0 01-1.128-.984l.067-.077 2.45-2.45zM14.594 18.905a.75.75 0 011.128.984l-.067.077-1.048 1.048a.75.75 0 01-1.128-.984l.067-.077 1.048-1.048z"})))}));const v=(0,f.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M6.185 4.554A6.695 6.695 0 004.88 9.048l.02.124a6.633 6.633 0 002.658 3.84.75.75 0 001.031-.17 6.692 6.692 0 001.305-4.496l-.02-.123a6.634 6.634 0 00-2.657-3.839.75.75 0 00-1.032.17zm.785 1.559l.01.008a5.115 5.115 0 011.368 2.21l.053.194.011.202a5.157 5.157 0 01-.47 2.277l-.139.279-.008-.008a5.114 5.114 0 01-1.369-2.21l-.054-.195.004.063a5.151 5.151 0 01.458-2.544l.136-.276z"}),n.createElement("path",{d:"M3.632 10.557a.75.75 0 00-.578.81c.166 1.567.83 2.981 1.88 3.986l.107.085a5.302 5.302 0 004.13.725.75.75 0 00.58-.81c-.167-1.568-.83-2.983-1.883-3.988l-.107-.084a5.303 5.303 0 00-4.129-.724zm1.23 1.36c.665-.002 1.31.169 1.887.501l.129.079.119.12c.534.57.922 1.303 1.127 2.128l.011.053-.193.006c-.666 0-1.31-.17-1.888-.503l-.132-.082-.115-.116c-.534-.571-.921-1.304-1.127-2.128l-.012-.054.194-.005z"}),n.createElement("path",{d:"M3.994 15.411a.75.75 0 00-.35.936c.572 1.47 1.584 2.666 2.862 3.368l.124.054a5.308 5.308 0 004.18-.351.75.75 0 00.35-.936c-.573-1.471-1.585-2.667-2.864-3.369l-.124-.054a5.308 5.308 0 00-4.178.352zm3.639 1.052l.144.084A4.866 4.866 0 019.43 18.32l.024.044-.015.006a3.772 3.772 0 01-2.104.045l-.166-.05-.144-.084a4.87 4.87 0 01-1.651-1.772l-.025-.045.015-.005a3.773 3.773 0 012.103-.046l.166.05z"}),n.createElement("path",{d:"M10.527 18.812l-.135-.01a5.27 5.27 0 00-3.807 1.738.75.75 0 00-.008 1.002c1.048 1.187 2.411 1.969 3.854 2.199l.135.009a5.27 5.27 0 003.809-1.738.75.75 0 00.008-1.001c-1.048-1.188-2.413-1.97-3.856-2.2zm-.167 1.493l.164.032c.774.167 1.523.55 2.175 1.113l.039.034-.143.104a3.742 3.742 0 01-1.838.65l-.157.008-.165-.03c-.774-.168-1.523-.551-2.175-1.113l-.038-.035.142-.104a3.743 3.743 0 011.838-.65l.158-.009zM20.81 4.384a6.634 6.634 0 00-2.657 3.839l-.02.123a6.691 6.691 0 001.305 4.497.75.75 0 001.031.169 6.634 6.634 0 002.658-3.84l.02-.124a6.695 6.695 0 00-1.305-4.494.75.75 0 00-1.032-.17zm.245 1.729l.009.014c.414.786.622 1.66.6 2.541l-.01.202-.054.194a5.106 5.106 0 01-1.161 2.003l-.216.216-.008-.014a5.168 5.168 0 01-.6-2.542l.01-.203-.017.062a5.1 5.1 0 011.235-2.259l.212-.214z"}),n.createElement("path",{d:"M20.239 11.28l-.107.085c-1.052 1.005-1.716 2.42-1.882 3.988a.75.75 0 00.578.81 5.302 5.302 0 004.13-.725l.107-.085c1.052-1.005 1.715-2.419 1.88-3.986a.75.75 0 00-.577-.81 5.303 5.303 0 00-4.13.724zm3.092.641l-.011.054c-.206.824-.593 1.557-1.127 2.128l-.116.116-.131.082a3.753 3.753 0 01-1.888.503l-.194-.006.012-.053c.205-.825.593-1.558 1.127-2.129l.118-.119-.06.038a3.756 3.756 0 012.077-.619l.193.005z"}),n.createElement("path",{d:"M19.813 15.06l-.124.053c-1.28.702-2.292 1.898-2.864 3.369a.75.75 0 00.35.936 5.308 5.308 0 004.18.351l.124-.054c1.278-.702 2.29-1.898 2.862-3.368a.75.75 0 00-.35-.936 5.308 5.308 0 00-4.178-.352zm2.821 1.404l-.023.045a4.87 4.87 0 01-1.652 1.772l-.144.084-.166.05a3.767 3.767 0 01-1.874.019l-.245-.07.025-.044a4.866 4.866 0 011.652-1.773l.144-.084-.065.02a3.775 3.775 0 012.079-.094l.269.075z"}),n.createElement("path",{d:"M17.506 18.802l-.134.01c-1.444.23-2.808 1.01-3.856 2.199a.75.75 0 00.008 1.001 5.27 5.27 0 003.809 1.738l.134-.01c1.443-.23 2.807-1.01 3.855-2.198a.75.75 0 00-.008-1.002 5.27 5.27 0 00-3.808-1.738zm.031 1.503l.16.008a3.743 3.743 0 011.838.651l.141.104-.038.035c-.652.562-1.4.945-2.174 1.113l-.166.03-.157-.007a3.742 3.742 0 01-1.838-.65l-.143-.105.04-.034c.652-.563 1.4-.946 2.175-1.113l.162-.032z"})))}));const b=(0,f.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M22 3.25h-6a.75.75 0 00-.75.75v8c0 .414.336.75.75.75h8a.75.75 0 00.75-.75V6A2.75 2.75 0 0022 3.25zm-5.25 8v-6.5H22l.128.006A1.25 1.25 0 0123.25 6v5.25h-6.5zM12 3.25H6A2.75 2.75 0 003.25 6v6c0 .414.336.75.75.75h8a.75.75 0 00.75-.75V4a.75.75 0 00-.75-.75zm-.75 1.5v6.5h-6.5V6c0-.69.56-1.25 1.25-1.25h5.25zM12 15.25H4a.75.75 0 00-.75.75v6A2.75 2.75 0 006 24.75h6a.75.75 0 00.75-.75v-8a.75.75 0 00-.75-.75zm-.75 8H6l-.128-.006A1.25 1.25 0 014.75 22v-5.25h6.5v6.5zM24 15.25h-8a.75.75 0 00-.75.75v8c0 .414.336.75.75.75h6A2.75 2.75 0 0024.75 22v-6a.75.75 0 00-.75-.75zm-.75 1.5V22l-.006.128A1.25 1.25 0 0122 23.25h-5.25v-6.5h6.5z"})))}));const E=(0,f.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M13.54 13.578a.429.429 0 01.279.754l-1.841 1.579a.429.429 0 01-.558 0l-1.842-1.579a.429.429 0 01.28-.754h3.682zm-1.562-5.76l1.84 1.578a.429.429 0 01-.278.754H9.857a.429.429 0 01-.279-.754l1.842-1.579a.429.429 0 01.558 0z",fill:"currentColor",fillRule:"evenodd"}))}));var C=s(27213),w=s(3167),k=s(11681),_=s(20785);const M={[w.JP.Today]:y,[w.JP.Favorites]:v,[w.JP.All]:b};class S extends n.Component{constructor(e){super(e),this._onClose=()=>{this.setState({isDrawerOpen:!1})},this._onDeepPress=()=>((0,C.n)(),this.setState({isDrawerOpen:!0})),this.preferences=streets.service("preferences"),this.drawer=n.createRef(),this.state={isDrawerOpen:!1,startId:this.preferences.isReady()?this.preferences.getPreference(w.RO):null}}componentDidMount(){this.preferences.registerObserver(this)}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null}onPreferencesReady(){this.setState({startId:this.preferences.getPreference(w.RO)})}onPreferenceChanged(e,t){e===w.RO&&this.setState({startId:t})}render(){const{active:e,id:t,onClick:s}=this.props,{isDrawerOpen:i,startId:r}=this.state;if(!r||!M[r])return null;const a=M[r];return n.createElement("div",{className:"TabBar__tab"},n.createElement(_.U,{onDeepPress:this._onDeepPress},n.createElement(p.zx,{className:"button-mobile-icon-only",icon:n.createElement(n.Fragment,null,n.createElement(E,{className:"MobileTabBarStart__carets",color:e?"accent":"black",importance:e?void 0:"tertiary"}),n.createElement(a,{color:e?"accent":"black",importance:e?void 0:"tertiary"})),importance:"",onClick:()=>{s(t)}})),i&&n.createElement(k.HX,{onClose:this._onClose}))}}S.propTypes={active:r().bool,id:r().string.isRequired,onClick:r().func},S.defaultProps={active:!1,onClick:()=>{}};const T=({tabs:e,onChange:t,activeTabId:s})=>n.createElement(u,{onChange:t},e.map((({deepPressDrawer:e,iconComponent:t,id:i,label:r,tabRenderer:a})=>a?n.cloneElement(a,{key:`tabbar-tab-${i}`,id:i,active:s===i,deepPressDrawer:e}):n.createElement(g,{key:`tabbar-tab-${i}`,active:s===i,iconComponent:t,id:i,label:r,deepPressDrawer:e}))));T.propTypes={activeTabId:r().string,tabs:r().arrayOf(r().shape({deepPressDrawer:r().node,iconComponent:r().elementType,id:r().string,label:r().string,tabRenderer:r().node})),onChange:r().func.isRequired},T.defaultProps={activeTabId:null,tabs:[]};var I=s(83809);class N extends n.Component{constructor(){super(),this._onTabChange=(e,t)=>{const{active:s}=this.props;(0,C.n)(),t.preventDefault(),e!==s&&this.props.onChange(e)},this.navigation=n.createRef(),this.state={selectorLeft:void 0,selectorWidth:void 0}}componentDidMount(){const{active:e}=this.props;this._updateSelectorStyle(e)}componentDidUpdate(e){const{active:t,items:s}=this.props;e.active===t&&e.items===s||this._updateSelectorStyle(t)}render(){const{items:e,active:t,className:s}=this.props,{selectorLeft:i,selectorWidth:r}=this.state;return e.length<=3?n.createElement("nav",{className:o()("SmallTabs","border-bottom-secondary",s),ref:this.navigation},e.map((e=>n.createElement("div",{className:o()("SmallTabs__tab",{"SmallTabs__tab--active":e.id===t}),key:`tab-${e.id}`,onClick:t=>{this._onTabChange(e.id,t)}},e.label))),void 0!==i&&n.createElement("div",{className:"SmallTabs__selector",style:{transform:`translate3d(${i}px, 0, 0)`,width:`${r}px`}},n.createElement("div",{className:"SmallTabs__selector-marker"}))):n.createElement(I.A,{className:o()("SmallTabs SmallTabs--carousel",s),innerPadding:32},e.map((e=>n.createElement("div",{key:e.id,onClick:t=>{this._onTabChange(e.id,t)},className:o()("SmallTabs__tab",{"SmallTabs__tab--active":t===e.id})},e.label))))}_updateSelectorStyle(e){const{active:t,items:s}=this.props;if(t||this.setState({selectorLeft:void 0,selectorWidth:void 0}),!this.navigation.current)return;const n=this.navigation.current.children;let i=n[1];if(t){i=n[s.findIndex((t=>t.id===e))||0]}this.setState({selectorLeft:i.offsetLeft,selectorWidth:i.offsetWidth})}}N.propTypes={active:r().string,className:r().string,items:r().arrayOf(r().shape({id:r().string.isRequired,label:r().string.isRequired})).isRequired,onChange:r().func.isRequired},N.defaultProps={active:null,className:void 0}},56787:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});const n=Object.freeze({micro:"micro",smallest:"smallest",smaller:"smaller",smallish:"smallish",small:"small",base:"base",large:"large",larger:"larger",largest:"largest",jumbo:"jumbo",display3:"display3",display4:"display4"})},95192:(e,t,s)=>{"use strict";s.d(t,{x:()=>c});var n=s(40841),i=s.n(n),r=s(60216),a=s.n(r),o=s(32735),l=s(56787);const c=({children:e,className:t,color:s,onClick:n,size:r,style:a,tagName:l})=>(0,o.createElement)(l,{className:i()(`fz-${r} color-${s}`,t,{"fx-p":"p"===l}),onClick:n,style:a},e);c.propTypes={children:a().node.isRequired,className:a().string,color:a().string,onClick:a().func,size:a().oneOf(Object.keys(l.T)),style:a().object,tagName:a().string},c.defaultProps={color:"secondary",onClick:()=>{},size:l.T.base,tagName:"p"}},22735:(e,t,s)=>{"use strict";s.d(t,{K:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a);class l extends n.Component{constructor(...e){super(...e),this._onChange=e=>{this.props.onChange(e.target.value)},this._onRef=e=>{this._textarea=e}}componentDidMount(){if(this.props.autoFocus&&this.props.value){const e=this._textarea;if("number"==typeof e.selectionStart){const{length:t}=e.value;e.selectionEnd=t,e.selectionStart=t,e.scrollTop=999999}}}render(){const{autoFocus:e,className:t,error:s,hint:i,id:r,name:a,onBlur:l,onFocus:c,onKeyDown:d,placeholder:h,rows:u,value:p}=this.props;return n.createElement("div",{className:o()(t,{error:!!s})},n.createElement("textarea",{ref:this._onRef,autoFocus:e,id:r,name:a,value:p,placeholder:h,rows:u,onBlur:l,onChange:this._onChange,onFocus:c,onKeyDown:d}),n.createElement("div",{className:"hint"},i,s&&n.createElement("span",{className:"error"},s)))}}l.propTypes={autoFocus:r().bool,className:r().string,error:r().string,hint:r().string,id:r().string,name:r().string,onBlur:r().func,onChange:r().func.isRequired,onFocus:r().func,onKeyDown:r().func,placeholder:r().string,rows:r().number,value:r().string},l.defaultProps={autoFocus:!1,className:void 0,error:void 0,hint:void 0,id:"",name:void 0,onBlur:void 0,onFocus:void 0,onKeyDown:void 0,placeholder:void 0,rows:3,value:""}},6931:(e,t,s)=>{"use strict";s.d(t,{At:()=>b,HC:()=>p,Uu:()=>w,ZS:()=>m,oi:()=>c});var n=s(60216),i=s.n(n),r=s(32735),a=s(86576),o=s(40841),l=s.n(o);class c extends r.Component{constructor(...e){super(...e),this._onChange=e=>{this.props.onChange(e.target.value)}}componentDidMount(){const{autoFocus:e,value:t}=this.props;e&&t&&this.focus()}blur(){this.fxInput.blur()}focus(){const{value:e}=this.props;this.fxInput.focus(),e&&this.setCursorPosition(e.length)}getCursorPosition(){return this.fxInput.selectionStart}setCursorPosition(e){this.fxInput.setSelectionRange(e,e)}render(){const{autoCapitalize:e,autoComplete:t,autoCorrect:s,autoFocus:n,className:i,disabled:a,id:o,onBlur:c,onFocus:d,onKeyPress:h,onMouseDown:u,readOnly:p,placeholder:m,size:g,style:f,type:y,value:v}=this.props;return r.createElement("input",{autoCapitalize:e,autoComplete:t,autoCorrect:s,autoFocus:n,className:l()("TextInput",i,{"TextInput--large":"large"===g}),disabled:a,id:o,onBlur:c,onChange:this._onChange,onFocus:d,onKeyPress:h,onMouseDown:u,placeholder:m,readOnly:p,ref:e=>{this.fxInput=e},style:f,type:y,value:v})}}c.propTypes={autoComplete:i().string,autoCorrect:i().string,autoCapitalize:i().string,autoFocus:i().bool,className:i().string,disabled:i().bool,id:i().string,onBlur:i().func,onChange:i().func,onFocus:i().func,onKeyPress:i().func,onMouseDown:i().func,readOnly:i().bool,placeholder:i().string,style:i().object,size:i().oneOf(["normal","large"]),type:i().oneOf(["email","number","password","search","tel","text","url"]),value:i().string},c.defaultProps={autoComplete:void 0,autoCorrect:"on",autoCapitalize:"sentences",autoFocus:!1,className:"",disabled:!1,id:void 0,onBlur:()=>{},onChange:()=>{},onFocus:()=>{},onMouseDown:()=>{},onKeyPress:void 0,placeholder:void 0,readOnly:!1,style:void 0,size:"normal",type:"text",value:""};var d=s(763),h=s(47264);function u({className:e,onClick:t,size:s}){return r.createElement(h.zx,{className:`DeluxeTextInput__clear-button DeluxeTextInput__clear-button--${s} ${e}`,icon:r.createElement(d.Z,{importance:"tertiary"}),importance:"tertiary",onClick:t})}function p({children:e,className:t}){return e?r.createElement("div",{className:l()("DeluxeTextInput__meta","DeluxeTextInput__meta--error",t)},e):null}function m({children:e}){return e?r.createElement("div",{className:"DeluxeTextInput__meta DeluxeTextInput__meta--hint"},e):null}function g({className:e}){return r.createElement("div",{className:`icon-fx-loading DeluxeTextInput__loading ${e}`})}u.propTypes={className:i().string,onClick:i().func,size:i().oneOf(["normal","large"])},u.defaultProps={className:"",onClick:()=>{},size:"normal"},p.propTypes={children:i().node,className:i().string},p.defaultProps={children:null,className:""},m.propTypes={children:i().node},m.defaultProps={children:null},g.propTypes={className:i().string},g.defaultProps={className:""};class f extends r.Component{render(){const{children:e,elementRef:t,side:s}=this.props,n=r.Children.toArray(e).reduce(((e,t)=>{if(t){const{className:s=""}=t.props;e.push((0,r.cloneElement)(t,{className:`${s} DeluxeTextInputOverlay__child`}))}return e}),[]);return n.length?r.createElement("div",{ref:t,className:`DeluxeTextInputOverlay__overlay DeluxeTextInputOverlay__overlay--${s}`},n):null}}f.propTypes={children:i().node,elementRef:i().shape({current:i().instanceOf(Element)}),side:i().oneOf(["left","right"])},f.defaultProps={children:null,elementRef:()=>{},side:"left"};class y extends r.Component{constructor(e){super(e),this._afterElem=r.createRef(),this._beforeElem=r.createRef(),this.state={paddingLeft:null,paddingRight:null}}componentDidMount(){this._updateWidths()}componentDidUpdate(){this._updateWidths()}componentWillUnmount(){this._afterElem=null,this._beforeElem=null}render(){const{elementsAfter:e,elementsBefore:t,children:s}=this.props,{paddingLeft:n,paddingRight:i}=this.state,a=r.Children.only(s);return r.createElement("div",{className:"DeluxeTextInputOverlay"},n||i?(0,r.cloneElement)(a,{style:{paddingLeft:n,paddingRight:i}}):a,r.createElement(f,{elementRef:this._beforeElem,side:"left"},t),r.createElement(f,{elementRef:this._afterElem,side:"right"},e))}_updateWidths(){this.setState((e=>{const t=this._afterElem.current?this._afterElem.current.offsetWidth:null,s=this._beforeElem.current?this._beforeElem.current.offsetWidth:null;return t!==e.paddingRight||s!==e.paddingLeft?{paddingLeft:s,paddingRight:t}:null}))}}y.propTypes={children:i().element.isRequired,elementsAfter:i().node,elementsBefore:i().node},y.defaultProps={elementsAfter:null,elementsBefore:null};var v=s(28514);class b extends r.Component{constructor(...e){super(...e),this._onBlur=e=>{try{(0,v.gn)()&&streets.service("tabsManager").onKeyboardLeave()}catch(t){console.error("[DeluxeTextInput] Failed to work around iOS keyboard blur issue",t)}this._isClearButtonMouseDown||this.props.onBlur(e)},this._onClearClick=()=>{this._isClearButtonMouseDown=!1,this.props.onChange(""),this.focus()}}blur(){this.input.blur()}focus(){this.input.focus()}getCursorPosition(){return this.input.getCursorPosition()}setCursorPosition(e){this.input.setCursorPosition(e)}render(){const{autoCapitalize:e,autoComplete:t,autoCorrect:s,autoFocus:n,className:i,id:a,onChange:o,onFocus:d,onKeyPress:h,onMouseDown:u,padBottom:p,placeholder:m,readOnly:g,size:f,style:v,type:b,value:E}=this.props;return r.createElement("div",{className:l()("DeluxeTextInput",{[i]:i,"DeluxeTextInput--pad-bottom":p})},r.createElement(y,{elementsAfter:this._renderElementsAfter(),elementsBefore:this._renderElementsBefore()},r.createElement(c,{autoCapitalize:e,autoComplete:t,autoCorrect:s,autoFocus:n,className:"DeluxeTextInput__TextInput",id:a,onBlur:this._onBlur,onChange:o,onFocus:d,onKeyPress:h,onMouseDown:u,placeholder:m,readOnly:g,ref:e=>{this.input=e},size:f,style:v,type:b,value:E})),this._renderHint(),this._renderError())}_renderElementsAfter(){const{clearable:e,elementsAfter:t,helpLink:s,loading:n,size:i,value:a}=this.props,o=[];if(s&&o.push((0,r.cloneElement)(s,{key:"DeluxeTextInputHelpLink"})),n?o.push(r.createElement(g,{key:"DeluxeTextInputLoading"})):e&&""!==a&&o.push(r.createElement(u,{key:"DeluxeTextInputClearButton",onClick:this._onClearClick,onMouseDown:this._onClearMouseDown,size:i})),o.length){const e=o.pop();o.push((0,r.cloneElement)(e,{className:"DeluxeTextInput__child--pad-right"}))}return t&&(Array.isArray(t)?o.push(...t):o.push((0,r.cloneElement)(t,{key:"DeluxeTextInputAfter"}))),o}_renderElementsBefore(){const{elementsBefore:e}=this.props,t=[];return e&&(Array.isArray(e)?t.push(...e):t.push((0,r.cloneElement)(e,{key:"DeluxeTextInputBefore"}))),t}_renderError(){const{error:e}=this.props;return"string"==typeof e?r.createElement(p,null,e):e}_renderHint(){const{hint:e}=this.props;return"string"==typeof e?r.createElement(m,null,e):e}_onClearMouseDown(){this._isClearButtonMouseDown=!0}}b.propTypes={...c.propTypes,className:i().string,clearable:i().bool,error:i().oneOfType([i().string,(0,a.componentWithName)("DeluxeTextInputError")]),helpLink:(0,a.componentWithName)("DeluxeTextInputHelpLink"),hint:i().oneOfType([i().string,(0,a.componentWithName)("DeluxeTextInputHint")]),elementsAfter:i().node,elementsBefore:i().node,loading:i().bool,onMouseDown:i().func,padBottom:i().bool},b.defaultProps={className:"",clearable:!1,error:void 0,helpLink:void 0,hint:void 0,elementsAfter:null,elementsBefore:null,loading:!1,onBlur:()=>{},onMouseDown:()=>{},padBottom:!1};var E=s(74296),C=s(34039);function w({className:e,entryId:t,href:s,title:n}){return r.createElement(C.rU,{className:`DeluxeTextInput__help-link ${e}`,"data-inlineentryid":t,href:s,title:n},r.createElement(E.Z,{className:"DeluxeTextInput__help-link-icon",importance:"tertiary"}))}w.propTypes={className:i().string,entryId:i().string.isRequired,href:i().string.isRequired,title:i().string},w.defaultProps={className:"",title:"Help"}},31813:(e,t,s)=>{"use strict";s.d(t,{u:()=>l,j:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(40841),o=s.n(a);function l({url:e,className:t,alt:s}){let i,r;return e?i={backgroundImage:`url(${e})`}:r=s&&s.length?s.charAt(0):"",n.createElement("div",{className:o()("visual",{placeholder:!e,[t]:t}),title:s,style:i},r)}function c({className:e,items:t}){const s=t.slice(0,4);return n.createElement("div",{className:o()(e,"VisualGrid")},s.map((({title:e,visualUrl:t})=>n.createElement(l,{key:e,alt:e,className:"VisualGrid__visual",url:t}))))}l.propTypes={alt:r().string,className:r().string,url:r().string},l.defaultProps={alt:void 0,className:void 0,url:null},c.propTypes={className:r().string,items:r().arrayOf(r().shape({title:r().string,visualUrl:r().string})).isRequired},c.defaultProps={className:void 0}},86316:(e,t,s)=>{"use strict";s.d(t,{c:()=>Ht});var n=s(32735),i=s(12788),r=s(47264);function a(e,t){return new Promise((function(s){if(!e.src&&!t)return void s(!1);let n=function(t=!0){e.removeEventListener("load",n),e.removeEventListener("error",i),i=null,n=null,s(!!t)},i=function(){n(!1)};e.addEventListener("load",n),e.addEventListener("error",i),t&&e.src!==t&&(e.src=t)}))}function o(e,t,s,n){if(e&&e.parentNode)try{var i=n.maxWidth-2;null!=e.naturalWidth&&e.naturalWidth>t&&(t=e.naturalWidth,s=e.naturalHeight),"wp-smiley"==e.className&&e.src.indexOf("emoji")>-1||e.src.indexOf("core/emoji")>-1?(e.setAttribute("data-image-enhancer","WordPress smiley"),e.style.width="1em",e.style.height="1em",e.style.display="inline-block",e.style.verticalAlign="middle",e.style.borderRadius="0px",e.style.boxShadow="none",e.className+=" emoji"):e.src.indexOf("latex.php")>-1||"latext"==e.className?(e.setAttribute("data-image-enhancer","Latex"),e.style.display="inline",e.style.margin="0px",e.style.border="0px",e.style.borderRadius="0px",e.style.boxShadow="none",e.style.verticalAlign="middle"):null==t||null==s||isNaN(t)||isNaN(s)?e.setAttribute("data-image-enhancer","unknown case"):0==t&&0==s?(e.setAttribute("data-image-enhancer","0 x 0"),e.style.maxWidth=i,e.style.display="block",e.style.marginTop="3rem",e.style.marginBottom="3rem",e.style.borderRadius="3px",e.style.border="1px solid #EFEFEF"):t<42||s<42?(e.setAttribute("data-image-enhancer","less than 42 pixel"),e.parentNode.removeChild(e)):t>i?(e.setAttribute("data-image-enhancer","larger than "+i),e.style.width=i+"px",e.style.height=Math.floor(s*i/t),e.style.marginTop="3rem",e.style.marginBottom="3rem",e.style.display="block",e.style.borderRadius="3px",e.style.border="1px solid #EFEFEF","yes"==n.pinImage&&l(e)):t>i/3?(e.setAttribute("data-image-enhancer","larger than third of "+i),e.style.marginTop="3rem",e.style.marginBottom="3rem",e.style.marginLeft="0rem",e.style.marginBottom="0rem",e.style.display="block",e.style.borderRadius="3px",e.style.border="1px solid #EFEFEF",e.style.cssFloat="none","yes"==n.pinImage&&t>i/2&&l(e)):(e.setAttribute("data-image-enhancer","float because smaller: "+t+" versus "+s),e.style.cssFloat="right",e.style.marginLeft="1rem",e.style.marginBottom="1rem",e.style.marginTop="0rem",e.style.marginBottom="1rem",e.style.display="inline")}catch(r){$feedly("[html] failed to clean image:"+r.name+" -- "+r.message)}}function l(e){const{src:t}=e;t.includes("/ad/")||t.includes("doubleclick")||(e.className="pinable")}async function c(e,t){if(e&&!(e.className&&e.className.indexOf&&e.className.indexOf("webfeeds")>-1)&&"yes"!=e.getAttribute("data-clean")){var s,n,i=t.maxWidth;if(null!=e.removeAttribute)1==t.rtl&&(s=e.style.direction,n=e.style.textAlign),e.removeAttribute("style"),e.removeAttribute("align"),1==t.rtl&&(e.style.direction=s,e.style.textAlign=n);if("FONT"==e.tagName)e.removeAttribute("size"),e.removeAttribute("color"),e.removeAttribute("face");else if("IMG"==e.tagName){let s=parseInt(e.getAttribute("width")),n=parseInt(e.getAttribute("height"));(!s||isNaN(s))&&e.naturalWidth>0&&(s=parseInt(e.naturalWidth)),(!n||isNaN(n))&&e.naturalHeight>0&&(n=parseInt(e.naturalHeight)),e.removeAttribute("hspace"),e.removeAttribute("width"),e.removeAttribute("height"),e.style.maxWidth=i+"px";let r=!1;!isNaN(s)&&s>0&&!isNaN(n)&&n>0&&(o(e,s,n,t),r=!0);await async function(e,t){if(e.naturalWidth>0&&e.naturalHeight>0)return!0;let s=await a(e);if(!s&&t.allowNonSecureImages&&e.parentNode){const t=e.getAttribute("data-original");t&&t!==e.src&&(s=await a(e,t))}return s}(e,t)?!r&&s<i/3&&o(e,e.naturalWidth||e.width,e.naturalHeight||e.height,t):e.parentNode&&e.parentNode.removeChild(e)}else if("A"==e.tagName)try{e.target="_blank"}catch(d){$feedly("[html] clean up failed:"+d.name+" -- "+d.message)}else if("TABLE"==e.tagName||"TR"==e.tagName)try{let t=parseInt(e.getAttribute("width"));null!=t&&!isNaN(t)&&t>i&&(e.width=i)}catch(d){$feedly("[html] clean up failed:"+d.name+" -- "+d.message)}else if("CENTER"==e.tagName)try{e.style.textAlign="left"}catch(d){$feedly("[html] clean up failed:"+d.name+" -- "+d.message)}else if("IFRAME"==e.tagName)try{if(e.src.indexOf("youtube.com")>-1)!function(e,t){var s=e.width,n=e.height;(""==s||null==s||isNaN(s)||""==n||null==n||isNaN(n))&&(s=647,n=394);var i=t.maxWidth;e.width=i+"px",e.height=Math.floor(n*i/s)+"px",e.style.marginTop="3rem",e.style.marginBottom="3rem",e.style.display="block"}(e,t);else{let t=e.width,s=e.height;null!=t&&null!=s&&s>0&&t>i&&(e.width=i+"px",e.height=Math.floor(s/t*i)+"px")}}catch(d){$feedly("[html] clean up failed:"+d.name+" -- "+d.message)}if(e.hasChildNodes())for(var r=e.childNodes,l=0;l<r.length;l++)1==r[l].nodeType&&c(r[l],t)}}function d(e,t={}){if(!e)return;const s=e.querySelectorAll("img");s.forEach((e=>{a(e).then((t=>{t||e.parentNode.removeChild(e)}))}));const{maxWidth:n=580,removeEmptyTrNodes:i=!1,entry:r}=t;if(r.metadata.isWellFormattedNewsletter)return void(t.padding&&s.forEach((e=>{m(e,t)})));e.querySelectorAll("td").forEach((e=>{const t=p(e);(null!=t&&t<50||i&&0===e.childNodes.length)&&e.parentNode.removeChild(e)}));e.querySelectorAll("td:not(:first-child)").forEach((e=>{const t=p(e);null!=t&&t<350&&e.parentNode.removeChild(e)}));e.querySelectorAll("td:not(:only-child) img").forEach((e=>{p(e)||(e.width=Math.floor(n/4),e.style.width=`${Math.floor(n/4)}px`)})),h(e,t);e.querySelectorAll("td:not(:only-child):first-child").forEach((e=>{e.style.paddingRight="16px"}))}function h(e,t){if(!e)return;e.style.width&&(""+e.style.width).startsWith("calc")&&(e.style.width=null);const{maxWidth:s=580,removeLeftRightSpacing:n=!1}=t;if(e.style&&(e.style.color=null,e.style.backgroundColor=null,e.style.fontFamily=null,e.style.maxWidth=null),"FONT"==e.tagName?(e.removeAttribute("size"),e.removeAttribute("color"),e.removeAttribute("face")):"A"==e.tagName?(e.target="_blank",e.style.textDecoration="underline",e.style.boxShadow="",e.style.border="0px"):"TABLE"==e.tagName||"TR"==e.tagName||"TD"==e.tagName?(u(e,{maxWidth:s,removeLeftRightSpacing:n}),e.style.backgroundImage="none",e.style.border=0):"DIV"==e.tagName?u(e,{maxWidth:s}):"HR"==e.tagName?(e.style.backgroundImage="none",e.style.height="1px"):"IMG"==e.tagName?m(e,{maxWidth:s}):"H1"!=e.tagName&&"H2"!=e.tagName&&"H3"!=e.tagName&&"H4"!=e.tagName||(e.style.borderWidth=0,e.style.fontSize=null,e.style.fontWeight=null,e.style.lineHeight=null),n&&(e.style.paddingLeft&&(e.style.paddingLeft=0),e.style.paddingRight&&(e.style.paddingRight=0),e.style.marginLeft&&(e.style.marginLeft=0),e.style.marginRight&&(e.style.marginRight=0)),e.hasChildNodes())for(var i=e.childNodes,r=0;r<i.length;r++)1==i[r].nodeType&&h(i[r],t)}function u(e,{maxWidth:t,removeLeftRightSpacing:s=!1}={}){try{let n=p(e);s&&null!=n&&n<=50&&(e.style.display="none",e.setAttribute("data-explanation","removing padding columns")),null!=n&&!isNaN(n)&&n>t-150&&(e.width=t,e.style.width=`${t}px`)}catch(n){}}function p(e){try{let t=null,s=e.getAttribute("width");return s&&-1===s.indexOf("%")&&(t=parseInt(e.getAttribute("width"))),t&&!isNaN(t)||(t=parseInt(e.style.width)),isNaN(t)?null:t}catch(t){return null}}function m(e,{maxWidth:t,padding:s}={}){try{let n=e.getAttribute("width"),i=parseInt(n),r=e.getAttribute("height"),a=parseInt(r);n&&isNaN(i)||!e.style.width||(n=e.style.width,i=parseInt(n)),r&&isNaN(a)||!e.style.height||(r=e.style.height,a=parseInt(r));let o=t;if(s){const{left:n}=e.getBoundingClientRect();o=t-2*(n-s)}if(n&&(!isNaN(i)&&i>t-150||"auto"===n))if(e.width=o,e.style.width=`${o}px`,"auto"===r)e.height="auto",e.style.height="auto";else if(r&&!isNaN(a)&&n&&!isNaN(i)){const t=Math.floor(a*o/i);e.height=t,e.style.height=`${t}px`}e.style.maxWidth=`${o}px`}catch(n){}}var g=s(57855),f=s(87561),y=s(44694),v=s(11459),b=s(74221),E=s(48942),C=s(3167),w=s(86130),k=s(83168);class _ extends k.y{constructor(){super(),w.Z.addFeature(this,w.Z.features.bind)}setHome(e){this.home=e}element(e){return this.home.element(e,this.part.ownerDocument)}setPart(e){if(null==e)throw console.error("setPart(...) is being called with an null HTML element."),new Error("setPart(...) is being called with an null HTML element. hint: "+this.display);try{this.part=e}catch(t){const e="Failed to assign _controllerId to HTML element.";throw console.error(e,t),new Error(e)}}display(){w.Z.assert(!1,"display() contract not implemented")}unload(){}destroy(){try{if("destroyed"==this.state)return void console.warn("destroy(...) is called multiple times");null!=this.part&&(this.part=null),this.removeAllObservers(),this.unbindAll(),this.home=null}catch(e){console.error("problem during destroy ",e)}this.state="destroyed",super.destroy()}isDestroyed(){return"destroyed"==this.state}}var M=s(37007),S=s.n(M),T=s(77817),I=s(46291),N=s(60216),P=s.n(N),L=s(44323),x=s(11505);const D=e=>{const{annotation:t,currentUser:s,onBufferClick:i,onDeleteClick:a}=e,o=s&&s.id;return n.createElement("div",{className:"TextHighlight__menu list-button"},i&&n.createElement(r.zx,{icon:n.createElement(L.Z,{importance:"secondary"}),onClick:i,title:"Share to Buffer",importance:"tertiary"}),o&&t.author===o&&[i&&n.createElement("div",{className:"button-divider",key:"divider"}),n.createElement(r.zx,{icon:n.createElement(x.Z,{color:"danger"}),onClick:a,title:"Delete Highlight",importance:"tertiary"})])};D.propTypes={annotation:P().object.isRequired,currentUser:P().object,onBufferClick:P().func,onDeleteClick:P().func},D.defaultProps={currentUser:void 0,onBufferClick:void 0,onDeleteClick:()=>{}};var O=s(74296),A=s(86451),z=s(34039);const R=({onFeedbackClick:e})=>n.createElement("div",{className:"TextHighlight__menu list-button"},n.createElement(z.Qj,{href:"https://blog.feedly.com/leo-and-summarization/",icon:n.createElement(O.Z,{importance:"secondary"}),importance:"tertiary",newWindow:!0,title:"Learn more about Leo Summaries"}),n.createElement("div",{className:"button-divider",key:"divider"}),n.createElement(r.zx,{icon:n.createElement(A.Z,{importance:"secondary"}),importance:"tertiary",onClick:e,title:"Wrong sentence summarized"}));R.propTypes={onFeedbackClick:P().func.isRequired};s(95823),s(97816),s(22885);var F=s(81445),j=s(10920);const U="TextHighlight--example",B="TextHighlight",H="TextHighlight--leo",Y=new RegExp("(^|\\s+)"+B+"($|\\s+)"),Z=new RegExp("(^|\\s+)"+H+"($|\\s+)"),W=["a","b","em","span","strong"],$="highlight",q="leo",V=/[-[\]/{}()*+?.\\^$|]/g;class G{constructor(e,t){this._onLeoSummaryFeedbackClick=()=>{try{streets.service("leo").askSaveLeoSummaryFeedback(this._entry.getId()),this.commonsigns.showMessage("Feedback collected")}catch(e){console.error("Failed to submit feedback",e)}},e?(this._entry=e,this._entryId=e.id,this._parentElement=t,this._iconWrappers=[],this._snapshotPromises=[],this._previewIconWrappers=[],this.buffer=streets.service("buffer"),this.commonsigns=streets.service("commonsigns"),this.enterprise=streets.service("enterprise"),this.profile=streets.service("profile"),this.reader=streets.service("reader"),this.enterprise.registerObserver(this),this.reader.registerObserver(this),this._user=this.profile.getUserInfo(),S().initialized||S().init(),this._highlighter=S().createHighlighter(),this._highlighter.addClassApplier(S().createClassApplier(B,{elementProperties:{onclick:this._onClickHighlight.bind(this)},tagNames:W})),this._previewHighlighter=S().createHighlighter(),this._previewHighlighter.addClassApplier(S().createClassApplier(U,{tagNames:W})),this._leoHighlighter=S().createHighlighter(),this._leoHighlighter.addClassApplier(S().createClassApplier(H,{elementProperties:{onclick:this._onClickHighlight.bind(this)},tagNames:W}))):console.warn("[HighlightController] The `entry` and `parentElement` are required.")}destroy(){this.enterprise.unregisterObserver(this),this.reader.unregisterObserver(this),this._previewIconWrappers.forEach((e=>{i.unmountComponentAtNode(e),e.parentNode.removeChild(e)})),this.buffer=null,this.commonsigns=null,this.enterprise=null,this.profile=null,this.reader=null,this._entryId=null,this._highlighter=null,this._highlightIdToAnnotation=null,this._iconWrappers=null,this._leoHighlighter=null,this._previewIconWrappers=null,this._user=null}onEntryAnnotationsChanged(e){e===this._entryId&&this.render()}add(){let e=S().getSelection(),t=e.getBookmark(this._parentElement).rangeBookmarks[0];if(!this._entryId||e.isCollapsed||!t||t.start===t.end)return;let s=Math.max(t.start,t.end),n=Math.min(t.start,t.end);this.reader.askAddAnnotation(this._entryId,{comment:"",highlight:{end:s,start:n,text:e.toString(),version:1}}),this._highlightBookmark({containerNode:this._parentElement,end:s,start:n},this._user),e.removeAllRanges(),e.detach()}delete(e){e&&this._entryId&&this.reader.askDeleteAnnotation(this._entryId,e)}isHighlightable(){let e=S().getSelection(),t=e.getBookmark(this._parentElement).rangeBookmarks[0],s=this._highlighter.getIntersectingHighlights(e.getAllRanges());return t.start!==t.end&&!s.length}preview(e,t=$){if(!e)return null;let s,r=e.replace(V,"\\$&"),a=new RegExp(r.split(/ +/g).join("[  ]*")),o=S().createRange(),l=S().createRange();if(o.selectNodeContents(this._parentElement),l.findText(a,{withinRange:o}),l.collapsed)return null;if(s=t===q?this._leoHighlighter.highlightRanges(H,[l],{containerElement:this._parentElement})[0]:this._previewHighlighter.highlightRanges(U,[l],{containerElement:this._parentElement})[0],!s)return null;const c=s.getHighlightElements();if(t===q){const e=document.createElement("span");e.className="fx",i.render(n.createElement(F.Z,{className:"TextHighlight__icon-before",importance:"tertiary",onMouseOver:this._onMouseOverArrow.bind(this)}),e);c[c.length-1].appendChild(e),this._previewIconWrappers.push(e)}return this._addEntityClassName(c,t),s}render(){this.reader.askLookupEntry(this._entryId).then((e=>{if(!e||!this._entryId)return;this._iconWrappers.forEach((e=>{i.unmountComponentAtNode(e),e.parentNode.removeChild(e)})),this._iconWrappers=[];try{this._highlighter.removeAllHighlights()}catch(s){}this._highlightIdToAnnotation={};let t=e.listAnnotations();for(let n,i=0;n=t[i];i++){let e=n.highlight;if("object"!=typeof e)continue;let t=this._highlightBookmark({containerNode:this._parentElement,end:e.end,start:e.start},n.authorUser);t&&(this._highlightIdToAnnotation[t]=n)}}))}_addEntityClassName(e,t){e.forEach((e=>{const s=e.offsetParent;if(s&&s.classList){s.classList.contains("InlineEntity")&&s.classList.add(t===q?"InlineEntity--leo-highlighted":"InlineEntity--highlighted")}}))}_getHighlightNodeAncestor(e){for(;e;){if(Y.test(e.className)||Z.test(e.className))return e;e=e.parentNode}return null}_getAnnotationForNode(e){let t=this._getHighlightNodeAncestor(e);if(!t)return null;let s=this._highlighter.getHighlightForElement(t);return this._highlightIdToAnnotation[s&&s.id]||null}_hidePopover(){i.unmountComponentAtNode(this._popupWrapper)}_highlightBookmark(e,t){let s=S().createRange();if(s.moveToBookmark(e),s.collapsed)return null;let r=this._highlighter.highlightRanges(B,[s],{containerElement:this._parentElement})[0],a=document.createElement("span"),o=t?t.name||t.email:"";a.className="fx";const l=t.userId&&streets.hasProAccess();i.render(n.createElement("span",null,n.createElement(T.q,{className:"TextHighlight__user-picture",alt:o,url:t&&t.picture,title:o}),l&&n.createElement(j.Z,{className:"TextHighlight__down-arrow",importance:"tertiary",onMouseOver:this._onMouseOverArrow.bind(this)})),a),this._iconWrappers.push(a);let c=r.getHighlightElements();return c[c.length-1].appendChild(a),this._addEntityClassName(c),r.id}_onClickHighlight(e){if(e.target.offsetParent.classList.contains("InlineEntity"))return;let t=this._getHighlightNodeAncestor(e.target),s=this._getAnnotationForNode(t);const n=Z.test(t.className);this._showMenu(s,t,n)}_onMouseOverArrow(e){let t=this._getHighlightNodeAncestor(e.target);const s=Z.test(t.className);let n=this._getAnnotationForNode(t);this._showMenu(n,e.target,s)}_showMenu(e,t,s){if(!e&&!s||!t||!this.buffer&&this._user&&e&&e.author!==this._user.id)return;let r;s||(r=e.id,this._snapshotPromises[r]||(this._snapshotPromises[r]=this.reader.askSnapshotAnnotation(r))),this._popupWrapper&&this._popupWrapper.parentNode||(this._popupWrapper=this._parentElement.parentNode.appendChild(document.createElement("div")),this._popupWrapper.className="fx",this._popupWrapper.style.position="relative");let a=this._hidePopover.bind(this);i.render(n.createElement(I.J,{caret:!0,closeOnClick:!0,offsetParent:this._popupWrapper,onClose:a,position:"top",target:t},s?n.createElement(R,{onFeedbackClick:this._onLeoSummaryFeedbackClick}):n.createElement(D,{annotation:e,currentUser:this._user,isLeoSummary:s,onDeleteClick:this.delete.bind(this,r),onBufferClick:this.buffer&&this._shareToBuffer.bind(this,r)})),this._popupWrapper)}_shareToBuffer(e){this._snapshotPromises[e].then((e=>{this.buffer.askShareEntry(this._entry.getId(),e.imageUrl)}))}}var Q=s(91891);class K{constructor(e,t){e?(this._id=e,this._props=t||{},this._querySelector=Q.o.querySelector(e),this._wrapper=document.createElement("div"),this._wrapper.className="fx"):console.warn("[DotController] The `id` is required.")}destroy(){i.unmountComponentAtNode(this._wrapper);let e=this._wrapper.parentNode;e&&e.removeChild(this._wrapper),this._wrapper=null}render(){let e=document.querySelector(this._querySelector);e?(this._wrapper.parentNode!==e&&e.appendChild(this._wrapper),i.render(n.createElement(Q.o,Object.assign({},this._props,{id:this._id,offsetParent:"data-dot"})),this._wrapper)):i.unmountComponentAtNode(this._wrapper)}}var J=s(39832),X=s(31318),ee=s(81197),te=s(63402),se=s(89521),ne=s(14971),ie=s(94820),re=s(50240);const ae=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 1.643a8.357 8.357 0 100 16.714 8.357 8.357 0 000-16.714zm0 1a7.357 7.357 0 110 14.714 7.357 7.357 0 010-14.714z"}),n.createElement("path",{d:"M2.644 6.578a.5.5 0 01.62.161l.046.078 4.282 9.094 1.92-4.588.02-.069a.5.5 0 01.378-.317l.1-.008a.5.5 0 01.489.61l-.027.083-2.392 5.714a.5.5 0 01-.864.103l-.05-.083L2.406 7.243a.5.5 0 01.24-.665z"}),n.createElement("path",{d:"M13.838 5.565c.325-1.039 1.154-1.495 2.152-1.016 1.285.617 1.33 2.096.357 4.237l-.108.232-3.274 8.308a.5.5 0 01-.888.084l-.042-.084-3.929-10a.5.5 0 01.89-.447l.04.081 3.464 8.817 1.477-3.747.003-.01.03-.085c.352-.77.378-1.746.056-2.938l-.08-.28c-.35-1.144-.408-2.32-.148-3.152zm1.72-.114c-.406-.195-.61-.082-.765.412-.178.568-.152 1.436.08 2.32l.07.242c.062.205.116.406.162.603l.02.092.198-.5c.852-1.788.886-2.775.31-3.128l-.076-.041z"}),n.createElement("path",{d:"M10 6.643a.5.5 0 01.09.992l-.09.008H7.857a.5.5 0 01-.09-.992l.09-.008H10zM4.286 6.643a.5.5 0 01.09.992l-.09.008H2.857a.5.5 0 01-.09-.992l.09-.008h1.429z"})))}));var oe=s(80716),le=s(25035),ce=s(51205),de=s(99442);class he extends n.Component{constructor(...e){super(...e),this._onEvernoteClick=()=>{streets.service("evernote").askClipEntry(this.props.entry.getId(),{selection:this.props.rawSelection})},this._onFeedlySearchClick=()=>{let e=this.props.selection.trim();0!==e.length&&streets.service("sliderService").addSlide(e,"searchResult")},this._onHighlightClick=()=>{streets.hasProAccess()?this.props.highlightController.add():streets.service("feedly").loadPage("pro/highlight")},this._onMuteClick=()=>{let e=this.props.selection.trim();0!==e.length&&(streets.isProLegacyPlan()||streets.hasProPlusAccess()?streets.service("feedly").slideReactComponent(ee.K,{initialFilter:{streamId:this.props.entry.suggestViaFeedId()||void 0},initialPhrase:e}):streets.service("feedly").loadPage("pro/filters"))},this._onOneNoteClick=()=>{streets.service("feedly").askPickOneNoteSection(this.props.entry.getId(),this.props.target,{selection:this.props.rawSelection})},this._onPrioritizeClick=()=>{let e=this.props.selection.trim();0!==e.length&&(e.indexOf(" ")>-1&&-1===e.indexOf('"')&&(e=`"${e}"`),streets.service("feedly").slideForm(te.qR,{initialPriority:{layers:[{[de.y9.matches]:[],type:de.ur.matches}],streamIds:[this.props.entry.suggestViaFeedId()||void 0]},initialTopicQuery:e}))},this._onTweetClick=()=>{const e=this.props.entry.getDefaultTagOrCategory(),t=[];"no"!=streets.service("preferences").getPreference("twitterHashtags")&&(null!=e&&t.push(encodeURIComponent(e.slice(1))),t.push("feedly")),window.askTweetSelectionPopup(this.props.selection,this.props.entry.getBestAlternateLink(),t)},this._onWordpressClick=()=>{if(!streets.hasProAccess())return void streets.service("feedly").loadPage("pro/wordpress");let e=streets.service("preferences").getPreference("wordpressUrlPrefix");if(!e)return void streets.service("signs").showMessage("Missing WordPress URL. See Preferences.");if(0!==e.indexOf("http:")&&0!==e.indexOf("https:"))return void streets.service("signs").showMessage("Wordpress URL should start with http or https");let t=e;t.indexOf("wp-admin/press-this.php")>0?t.endsWith("?")||(t+="?"):(t.endsWith("/")||(t+="/"),t+="wp-admin/press-this.php?"),t.endsWith("/")||(t+="/wp-admin/press-this.php?"),t+="u="+encodeURIComponent(this.props.entry.getBestAlternateLink()),t+="&t="+encodeURIComponent(this.props.entry.getCleanTitle());let s=this.props.selection.trim();t+="&s="+encodeURIComponent(s);let n=this.props.entry.suggestVisual();n&&(t+="&i="+encodeURIComponent(n));let i=screen.height,r=screen.width,a=Math.round(r/2-400),o=0;return i>600&&(o=Math.round(i/2-300)),window.open(t,"_blank","left="+a+",top="+o+",width=800,height=600,personalbar=0,toolbar=0,scrollbars=1,resizable=1"),t}}render(){let{selection:e,highlightController:t,isLeoEnabled:s,location:i}=this.props;return e=e.replace("&nbsp;"," "),n.createElement("div",{className:"fx popover",style:{top:i.top,left:i.left}},n.createElement("div",{className:"menu"},t.isHighlightable()&&n.createElement("div",{className:"item",onMouseDown:this._onHighlightClick},n.createElement(se.Z,null),"Highlight"),n.createElement("div",{className:"item",onClick:this._onMuteClick},n.createElement(ne.Z,null),"Mute this Phrase"),s&&n.createElement("div",{className:"item",onClick:this._onPrioritizeClick},n.createElement(F.Z,null),"Prioritize this Phrase"),n.createElement("div",{className:"item",onClick:this._onFeedlySearchClick},n.createElement(ie.Z,null),"Search Feedly"),n.createElement("div",{className:"item",onClick:this._onTweetClick},n.createElement(re.Z,null),e.length>0?`Tweet (${e.length} chars)`:"Tweet"),n.createElement("div",{className:"item",onClick:this._onWordpressClick},n.createElement(ae,null),"Post to WordPress"),n.createElement("div",{className:"item",onClick:this._onEvernoteClick},n.createElement(oe.Z,null),"Clip to Evernote"),n.createElement("div",{className:"item",onClick:this._onOneNoteClick},n.createElement(le.Z,null),"Save to OneNote"),n.createElement(z.rU,{className:"item",href:`http://www.google.com/search?q=${encodeURIComponent(this.props.selection)}`,newWindow:!0},n.createElement(ce.Z,null),"Search Google")))}}he.propTypes={entry:P().object.isRequired,location:P().object.isRequired,selection:P().string.isRequired,rawSelection:P().string.isRequired,isLeoEnabled:P().bool,highlightController:P().object.isRequired,target:P().instanceOf(Element).isRequired},he.defaultProps={isLeoEnabled:!1};var ue=s(40841),pe=s.n(ue),me=s(37679),ge=s(21548),fe=s(65698),ye=s(95192),ve=s(75755);const be=-1,Ee=1,Ce=Object.freeze({cyberAttack:"cyberAttack",topic:"topic"});class we extends n.Component{constructor(e){super(e),this._onFeedbackClick=async e=>{const{analysisFeedbackPrompt:{confidenceLevel:t,topic:s,type:n},entryId:i}=this.props;this.setState({feedback:e,isLoading:!0});try{n===Ce.cyberAttack?await this.leo.askSaveFeedback(i,null,e,"cyberAttackPrompt",n):await this.leo.askSaveFeedback(i,s.id,e,`topicPrompt/${t}`)}catch(r){console.error("Failed to submit feedback",s,e,r)}},this._getTopicLabel=()=>{const{analysisFeedbackPrompt:{topic:e}}=this.props;return(0,fe.jP)(e.id)?`a ${e.label}`:e.label},this.state={isLoading:!1}}componentDidMount(){this.leo=streets.service("leo")}componentWillUnmount(){this.leo=null}render(){const{analysisFeedbackPrompt:e}=this.props;return streets.service("preferences").getPreference(C.u_)===C.ZD.on&&Ce[e.type]?n.createElement("div",{className:"AnalysisFeedbackPrompt m-t-1"},this._renderPrompt(),this._renderButtons(),this._renderFeedbackMessage()):null}_renderPrompt(){const{analysisFeedbackPrompt:{predictedTarget:e,type:t}}=this.props,{feedback:s}=this.state;return s?null:t===Ce.cyberAttack?n.createElement("span",{className:"m-r-1"},"Is ",n.createElement("b",null,e.text)," the target of this attack?"):n.createElement("span",{className:"m-r-1"},"Is this article about ",n.createElement("b",null,this._getTopicLabel()),"?")}_renderButtons(){const{feedback:e,isLoading:t}=this.state;return e?null:n.createElement(n.Fragment,null,n.createElement(r.zx,{color:"accent",disabled:t,importance:"secondary",label:"yes",loading:t,onClick:()=>{this._onFeedbackClick(Ee)},size:"small"}),n.createElement(r.zx,{disabled:t,importance:"secondary",label:"no",loading:t,onClick:()=>{this._onFeedbackClick(be)},size:"small"}))}_renderFeedbackMessage(){const{feedback:e}=this.state,{analysisFeedbackPrompt:{confidence:t,predictedTarget:s,type:i}}=this.props;if(!e)return null;let r;return t&&i===Ce.cyberAttack?r=n.createElement(n.Fragment,null,"Leo was"," ",n.createElement(ye.x,{color:"primary",size:"small",tagName:"b"},Math.floor(100*t),"%")," ","confident that"," ",n.createElement(ye.x,{color:"primary",tagName:"b",size:"small"},s.text)," ","was the target of this attack."):t&&(r=n.createElement(n.Fragment,null,"Leo was"," ",n.createElement(ye.x,{color:"primary",size:"small",tagName:"b"}," ",Math.floor(100*t),"%")," ","confident this article was about"," ",n.createElement(ye.x,{color:"primary",size:"small",tagName:"b"},this._getTopicLabel()),".")),n.createElement("div",{className:"AnalysisFeedbackPrompt__message-container animateFadeIn"},n.createElement("p",{className:"AnalysisFeedbackPrompt__message"},"Thanks! Your feedback helps make Leo smarter. ",r),n.createElement("img",{alt:"",className:"AnalysisFeedbackPrompt__image",src:ve}))}}we.propTypes={analysisFeedbackPrompt:P().shape({candidateTargets:P().arrayOf(P().shape({text:P().string})),confidence:P().number,confidenceLevel:P().string,predictedTarget:P().shape({text:P().string}),topic:P().shape({id:P().string,label:P().string}),type:P().string}).isRequired,entryId:P().string.isRequired};const ke=(0,ge.Pf)(we,{});var _e=s(40280),Me=s(3015),Se=s(47567),Te=s(39970),Ie=s(87970);class Ne extends n.Component{render(){const{created:e,currentUserId:t,emailMentions:s,onEditClick:i,onDeleteClick:a,slackMentions:o,text:l,user:c={}}=this.props,d=s.map((e=>"+"+e)).concat(o),h=c.name||c.email,u=(0,Se.Bq)(e);let p;if((0,Se.Y3)(u)){const e=new Date,t=e.getHours()-u.getHours();if(t)p=`${t} hour${t>1?"s":""} ago`;else{const t=e.getMinutes()-u.getMinutes();p=t<=0?"Now":`${t} minute${t>1?"s":""} ago`}}else p=(0,Se.UW)(u)?"Yesterday":(0,Me.p6)(u,"MMM d, yyyy");return n.createElement("div",{className:"comment"},n.createElement(T.q,{className:"item-large",alt:h,url:c.picture}),n.createElement("div",{className:"comment-body"},a&&n.createElement(r.zx,{importance:"tertiary",label:"Delete",onClick:a,size:"small"}),i&&n.createElement(r.zx,{importance:"tertiary",label:"Edit",onClick:i,size:"small"}),h&&n.createElement(Ie.sD,{small:!0},t&&t===c.userId?"You":h),n.createElement("div",{className:"item-meta"},p),n.createElement("div",{className:"item-description"},l&&l.split("\n").map(((e,t)=>e?n.createElement(Te.L,{key:e,text:e,wordClassName:"comment-mention",words:d}):n.createElement("br",{key:t}))))))}}Ne.propTypes={created:P().number.isRequired,currentUserId:P().string,emailMentions:P().arrayOf(P().string),onEditClick:P().func,onDeleteClick:P().func,slackMentions:P().arrayOf(P().string),text:P().string,user:P().shape({name:P().string.isRequired,email:P().string,picture:P().string,userId:P().string})},Ne.defaultProps={currentUserId:void 0,emailMentions:[],onEditClick:void 0,onDeleteClick:void 0,slackMentions:[],text:"",user:void 0};var Pe=s(66617),Le=s(55024);class xe extends n.Component{constructor(e){super(e),this._onEditClick=e=>{this.setState({editAnnotationId:e})},this._onEditComplete=()=>{this.setState({editAnnotationId:null})},this._onDeleteClick=e=>{this.setState({deleteAnnotationId:e})},this._onDeleteConfirmClick=()=>{this.setState({isDeleting:!0}),this.reader.askDeleteAnnotation(this.props.entryId,this.state.deleteAnnotationId).then(this._resetDeleteUI)},this._resetDeleteUI=()=>{this.setState({isDeleting:!1,deleteAnnotationId:null})},this.state={annotations:null,entry:null,user:streets.service("profile").getUserInfo()}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this),this._updateEntryAndAnnotations()}componentDidUpdate(e){e.entryId!==this.props.entryId&&this._updateEntryAndAnnotations()}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}onEntryAnnotationsChanged(e){e===this.props.entryId&&this._updateEntryAndAnnotations()}render(){const{user:e}=this.state,{readOnly:t}=this.props,s=!t&&streets.hasProAccess(),i=this._renderComments();return s||i&&0!==i.length?n.createElement("div",null,n.createElement(_e.H2,{appearance:"h4"},"Insights"),n.createElement("div",{className:"list-comment"},i,s&&n.createElement(Pe.tL,{entryId:this.props.entryId,user:e})),this._renderDeleteCommentModal()):null}_renderComments(){const e=[],{entryId:t,readOnly:s}=this.props,{annotations:i,editAnnotationId:r,user:a}=this.state,o=a.id,l=!s&&streets.hasProAccess();return i?(i.forEach((s=>{let i,c;s.highlight||(r===s.id?e.push(n.createElement(Pe.tL,{key:s.id,annotationId:r,entryId:t,initialEmailMentions:s.emailMentions,initialSlackMentions:s.slackMentions,initialText:s.comment,onCancel:this._onEditComplete,onSubmit:this._onEditComplete,user:a})):(l&&s.author===o&&(i=()=>{this._onDeleteClick(s.id)},c=()=>{this._onEditClick(s.id)}),e.push(n.createElement(Ne,{key:s.id,created:s.created,currentUserId:o,emailMentions:s.emailMentions,slackMentions:s.slackMentions,onDeleteClick:i,onEditClick:c,text:s.comment,user:s.authorUser}))))})),e):null}_renderDeleteCommentModal(){const{deleteAnnotationId:e,isDeleting:t}=this.state;return e?n.createElement(Le.u_,{onClose:this._resetDeleteUI,small:!0},n.createElement(_e.H2,null,"Delete note?"),n.createElement("p",null,"Are you sure you want to delete this note? It will be permanently lost."),n.createElement(r.zx,{autoFocus:!0,color:"danger",label:"Delete",loading:t,onClick:this._onDeleteConfirmClick}),n.createElement(r.zx,{label:"Cancel",onClick:this._resetDeleteUI,importance:"secondary"})):null}_updateEntryAndAnnotations(){this.reader.askLookupEntry(this.props.entryId).then((e=>{this.reader&&this.setState({annotations:e&&e.listAnnotations(),entry:e})}))}}xe.propTypes={entryId:P().string.isRequired,readOnly:P().bool},xe.defaultProps={readOnly:!1};var De=s(35093),Oe=s(79199),Ae=s(34393);class ze extends n.Component{render(){const{offsetParent:e,onClose:t,target:s}=this.props;return n.createElement("div",null,n.createElement(I.J,{caret:!0,className:"CommonTopicPopover",offsetParent:e,onClose:t,target:s},this._renderBody()))}_renderBody(){const{entry:e,onClose:t,streamId:s,topic:i}=this.props;return n.createElement(n.Fragment,null,n.createElement(_e.H3,{className:"CommonTopicPopover__heading"},i.label),n.createElement("p",{className:"CommonTopicPopover__description"},"Smart Topic"),n.createElement("div",{className:"CommonTopicPopover__menu"},n.createElement(Ae.Y,{entry:e,onClose:t,part:i,streamId:s})))}}ze.propTypes={entry:P().shape({getMostRelevantPriority:P().function}).isRequired,topic:P().shape({id:P().string,label:P().string}).isRequired,offsetParent:I.J.propTypes.offsetParent,onClose:P().func.isRequired,streamId:P().string,target:I.J.propTypes.target},ze.defaultProps={offsetParent:null,streamId:null,target:null};var Re=s(11681);class Fe extends n.Component{constructor(e){super(e),this._onClick=e=>{this.setState({isPopoverOpen:!0,selectedTopic:e})},this._onClose=()=>{this.setState({isDrawerOpen:!1,isPopoverOpen:!1})},this._offsetParent=n.createRef(),this._target=n.createRef(),this.state={isDrawerOpen:!1,isPopoverOpen:!1,selectedTopic:null}}componentWillUnmount(){this._offsetParent=null,this._target=null}render(){const{className:e,entry:t,streamId:s,topic:i}=this.props,{isDrawerOpen:a,isPopoverOpen:o,selectedTopic:l}=this.state,c=t.findSearchTermFullInfo(i),d=(0,fe.FW)(c),h=De.XA[d];return n.createElement("div",{className:"CommonTopicButton",ref:this._offsetParent},n.createElement(r.zx,{key:i.id,className:e,icon:n.createElement(h,{importance:"tertiary"}),importance:"secondary",label:i.label,onClick:()=>this._onClick(i),elementRef:this._target}),o&&n.createElement(ze,{topic:l,entry:t,offsetParent:this._offsetParent,onClose:this._onClose,streamId:s,target:this._target}),a&&n.createElement(Re.OH,{topic:l,entry:t,onClose:this._onClose,streamId:s}))}}Fe.propTypes={className:P().string,entry:Oe.A.isRequired,streamId:P().string,topic:P().shape({id:P().string,label:P().string}).isRequired},Fe.defaultProps={className:"",streamId:void 0};const je="https://blog.feedly.com/topic-classification-skill-leo/";class Ue extends n.Component{constructor(e){super(e),this._onTouchStart=()=>{this._horizontalScroll&&this._horizontalScroll.current&&this._horizontalScroll.current.addEventListener("touchmove",this._onTouchMove,{passive:!1})},this._updateInfo=async()=>{const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e})},this.state={topics:(0,fe.WW)(e.topics).slice(0,5),isLeoEnabled:!1}}componentDidMount(){this.leo=streets.service("leo"),this._updateInfo()}componentWillUnmount(){this._horizontalScroll&&this._horizontalScroll.current&&this._horizontalScroll.current.removeEventListener("touchmove",this._onTouchMove),this._horizontalScroll=null,this.leo=null}render(){const{entry:e,streamId:t}=this.props,{isLeoEnabled:s,topics:i}=this.state;if(!s||!i||0===i.length)return null;const r={};return n.createElement("div",{className:"CommonTopics"},n.createElement("div",{className:"CommonTopics__header"},n.createElement(_e.H2,{appearance:"h4",className:"CommonTopics__title"},"Leo Topics"),n.createElement(z.rU,{href:je,newWindow:!0,title:"Learn more about this feature"},n.createElement(O.Z,{importance:"secondary"}))),n.createElement("div",Object.assign({className:"CommonTopics__buttons"},r),i.map((s=>n.createElement(Fe,{key:s.id,className:"CommonTopics__button",entry:e,streamId:t,topic:s})))))}_onTouchMove(e){e.stopPropagation()}}Ue.propTypes={entry:P().shape({getMostRelevantPriority:P().function}).isRequired,streamId:P().string,topics:P().arrayOf(P().shape({id:P().string.isRequired,label:P().string.isRequired}))},Ue.defaultProps={streamId:void 0,topics:[]};var Be=s(3287),He=s(29724),Ye=s(28594);function Ze({redditPost:{commentsLink:e,subredditName:t,userName:s}}){return t?n.createElement("div",{className:"RedditPostInfo"},n.createElement("div",{className:"RedditPostInfo__content"},"This article was shared in ",t," by ",s),n.createElement(z.Qj,{className:"RedditPostInfo__button",icon:n.createElement(Ye.Z,{className:"RedditPostInfo__icon"}),importance:"tertiary",label:"View Conversation",href:e,newWindow:!0})):null}Ze.propTypes={redditPost:P().shape({commentsLink:P().string,subredditName:P().string,userName:P().string}).isRequired};var We=s(61257),$e=s(24443),qe=s.n($e),Ve=s(56962);class Ge extends n.Component{constructor(e){super(e),this._onSave=async()=>{const{entry:e}=this.props,t=this._getLikeBoards(),s=e.getId(),n={};this.setState({isSaving:!0});try{await Promise.all(t.map((async e=>{try{await this.reader.askTagEntry(s,e)}catch(t){throw n[e.id]=!0,t}})))}catch(i){this.signs.showError(i)}this.setState({hasErrored:n,isSaving:!1,isTagged:this._getIsTagged()})},this.state={hasErrored:{},isSaving:!1,isTagged:this._getIsTagged(),isLessLikeThis:!!this.props.entry.getFeedback()}}componentDidMount(){this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null,this.signs=null}onEntryTagsChanged(e){e===this.props.entry.getId()&&this.setState({isSaving:!1,isTagged:this._getIsTagged()})}onEntryFeedbackChanged(e){const{isSaving:t}=this.state;t||e!==this.props.entry.getId()||this.setState({isLessLikeThis:!0})}render(){const{isSaving:e,isLessLikeThis:t}=this.state,{mobile:s}=this.props,i=this._getLikeBoards();return t||!i.length?null:n.createElement("div",{className:"SaveToLikeBoard m-t-1"},n.createElement("span",{className:"m-r-2"},"Do you want to save this article in your"," ",n.createElement(Ve.S,null,i.map((({id:e,label:t})=>n.createElement("strong",{key:e},t))))," ",qe()("board",i.length),"?"),n.createElement(r.zx,{className:pe()("SaveToLikeBoard__button",{"SaveToLikeBoard__button--mobile":s}),color:"accent",disabled:e,importance:"secondary",label:"Save",loading:e,onClick:this._onSave,size:"small"}))}_getIsTagged(){const{entry:e,likeBoards:t}=this.props;return t.reduce(((t,{id:s})=>(t[s]=e.includesTag(s),t)),{})}_getLikeBoards(){const{hasErrored:e,isTagged:t}=this.state;let{likeBoards:s}=this.props;return s?(s=s.filter((({id:s})=>!t[s]&&!e[s])),s.slice(0,3)):[]}}Ge.propTypes={entry:P().shape({getId:P().func,listTags:P().func,getFeedback:P().func}).isRequired,likeBoards:P().arrayOf(P().shape({id:P().string,label:P().string})),mobile:P().bool},Ge.defaultProps={likeBoards:[],mobile:!1};var Qe=s(90183),Ke=s(11245),Je=s(55015),Xe=s(99175);class et extends n.Component{constructor(e){super(e),this._onTagClick=(e,t)=>{t.stopPropagation(),this.setState({removing:e.id},(()=>{this.reader.askUntagEntry(this.props.entryId,e)}))},this.state={tags:[],removing:null}}onEntryTagsChanged(){this._updateTags()}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this),this._updateTags()}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}render(){const{tags:e}=this.state;return e&&0!==e.length?n.createElement("div",{className:"TagList"},n.createElement(_e.H2,{appearance:"h4"},"Saved in"),this._renderTags()):null}_renderTags(){return this.state.tags.map((e=>{if(e.id===this.state.removing)return n.createElement(Je.A,{className:"TagListChip TagListChip--removing",muted:!0,key:e.id},n.createElement(Ke.Z,{color:"danger"}),n.createElement("span",{className:"TagListChip__label"},"Removing..."));if("user"===e.id.substr(0,"user".length))return n.createElement(Je.A,{className:"TagListChip",muted:!0,deletable:!0,key:e.id,title:e.label,onClick:t=>{this._onTagClick(e,t)}},n.createElement(Ke.Z,{importance:"tertiary"}),n.createElement("span",{className:"TagListChip__label"},e.label));if("enterprise"===e.id.substr(0,"enterprise".length)){const{name:t,picture:s}=e.addedByUser||{};return n.createElement(Xe.d,{key:e.id,animateClass:"animateFadeIn",content:"Saved by "+(t||"a teammate"),tipClass:"fx-tag"},n.createElement(Je.A,{className:"TagListChip",muted:!0,deletable:!0,onClick:t=>{this._onTagClick(e,t)}},n.createElement(T.q,{alt:s||t?t:"",url:s}),n.createElement("span",{className:"TagListChip__label"},e.label)))}return null}))}async _updateTags(){const e=await this.reader.askLookupEntry(this.props.entryId);if(!e)return void console.error("failed to updateTags");if(!this.reader)return;const t=e.listTags();this.setState({tags:t,removing:null})}}et.propTypes={entryId:P().string.isRequired};var tt=s(86702),st=s(80033),nt=s(97418),it=s(84955),rt=s(63403),at=s(32285),ot=s(35610),lt=s(10974),ct=s(86966);const dt=/video\/([0-9]+)/i;function ht({entry:e}){const t=(0,ct.Y)(dt,e.getAlternateLink());return n.createElement("center",null,n.createElement("iframe",{src:`http://www.collegehumor.com/e/${t}`,width:"647",height:"364",frameBorder:"0",webkitAllowFullScreen:!0,allowFullScreen:!0}))}ht.propTypes={entry:P().object.isRequired};var ut=s(6844);class pt extends n.Component{render(){return n.createElement(n.Fragment,null,this._renderVideoEnclosure(),this._renderAudioEnclosure(),this._renderVisuals(),this._renderContent())}_renderVideoEnclosure(){const{entry:e}=this.props,t=e.getEnclosure("video");return null!=t&&(null==t.length||t.length>512e3)?n.createElement("div",{style:{paddingBottom:10,paddingTop:10,textAlign:"center",borderBottom:"4px solid #FFF",marginBottom:10}},n.createElement("video",{width:"580",height:"363",controls:!0},n.createElement("source",{src:t.href,type:t.type}),"Your browser does not support the video tag.")):null}_renderAudioEnclosure(){const{entry:e}=this.props,t=e.getEnclosure("audio");if(null!=t)return n.createElement("div",{style:{paddingBottom:10,paddingTop:10,textAlign:"center",borderBottom:"4px solid #FFF",marginBottom:10}},n.createElement("audio",{src:t.href,controls:!0},"Your browser does not support the ",n.createElement("code",null,"ogg audio"),"."),n.createElement("br",null),n.createElement("div",{style:{paddingTop:10,fontSize:12}},n.createElement("a",{href:t.href,target:"_blank",rel:"noopener"},"download"),null!=t.length&&`(size: ${(0,ut.U)(Math.floor(t.length/1024/1024))} MB )`))}_renderVisuals(){const{entry:e}=this.props;if(e.includesInlinedMedia())return null;const t="reddit"===e.getSource(),s=e.getEnclosures();if(t&&s.length>0)return n.createElement("div",{style:{marginBottom:17}},s.map((e=>n.createElement("img",{key:e,"data-external":"yes",src:e,"data-original":e,style:{maxWidth:647,visibility:"visible"}}))));const i=e.getExternalImageURL();if(null!=i){const e=(0,ot.sA)(i);return n.createElement("div",{style:{marginBottom:17}},n.createElement("img",{"data-external":"yes",src:e,"data-original":i,style:{maxWidth:647,visibility:"visible",background:"red"}}))}return null}_renderContent(){const{entry:e,isLeoEnabled:t}=this.props;let s="\n\n\n\n";return s+=e.getOptimizedContent({isLeoEnabled:t}),!e.isPartialContent()&&(e.getFeedId()&&e.getFeedId().includes("://news.ycombinator")||e.getSummary().includes(">Comments</a>"))&&(s+=e.jsonInfo.summary.content),n.createElement("div",{className:"content",itemProp:"description",id:`${e.getId()}_entryContent`,dangerouslySetInnerHTML:{__html:s}})}}pt.propTypes={entry:P().object.isRequired,isLeoEnabled:P().bool.isRequired};var mt=s(23005),gt=s(29355),ft=s.n(gt);function yt({icon:e,missing:t,title:s}){return n.createElement("span",{className:pe()("NamedEntitiesBubble","m-r-1",{"NamedEntitiesBubble--danger":t}),title:s},e||s&&s[0].toUpperCase()||"?")}yt.propTypes={icon:P().node,missing:P().bool,title:P().string},yt.defaultProps={icon:void 0,missing:!1,title:void 0};function vt({label:e,type:t,salience:s,uri:i}){const r=i&&i.replace("https://en.wikipedia.org/wiki","");return n.createElement("span",{className:"NamedEntitiesEntity"},n.createElement(ye.x,{className:pe()("NamedEntitiesEntity__label",{"NamedEntitiesEntity__label--danger":!r||!t}),color:"primary",tagName:"span"},e),n.createElement(ye.x,{className:"NamedEntitiesEntity__meta",tagName:"span"},r&&n.createElement(z.rU,{className:"m-r-1",href:i,newWindow:!0},r),n.createElement(yt,{missing:!t,title:t}),n.createElement(ye.x,{color:"tertiary",size:"smaller",tagName:"span"},"(",ft()(s,3),")")))}vt.propTypes={label:P().string.isRequired,salience:P().number.isRequired,type:P().string,uri:P().string},vt.defaultProps={type:void 0,uri:void 0};var bt=s(2222),Et=s(32470),Ct=s(71906);function wt({explanations:e}){return e.length?n.createElement(Ct._$,{data:e,uniqueKey:"score"},n.createElement(Ct.hN,{header:"ngram",cell:({ngram:e})=>n.createElement(Ct.aH,null,n.createElement(ye.x,{className:"BusinessEventExplanations__ngram",tagName:"span"},e))}),n.createElement(Ct.hN,{header:"Score",cell:({score:e})=>n.createElement(Ct.aH,null,(0,Et.VG)(e,4))}),n.createElement(Ct.hN,{header:"Location",cell:({location:e})=>n.createElement(Ct.aH,null,e)})):n.createElement(ye.x,{tagName:"span"},"No business event explanations found.")}function kt(e){const{businessEvents:{events:t=[]},namedEntities:s,sentences:i,timings:r}=e;return n.createElement("div",{className:"NamedEntitiesViewer"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-8 col-md-8"},n.createElement(_e.H2,null,"Top Entities"),n.createElement(It,{namedEntities:s}))),n.createElement(_e.H2,null,"Leo NLP Skills"),i.map((({entities:e,word_tokens:t},s)=>n.createElement(_t,{key:s,entities:e,title:`S${parseInt(s)+1}`,words:t}))),!i.length&&n.createElement(ye.x,{tagName:"span"},"No sentence information found."),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-6 col-md-6"},n.createElement(_e.H2,null,"Pipeline Performance"),r?n.createElement(Mt,{timings:r}):n.createElement(ye.x,{tagName:"span"},"No timing information found."))),t.length>0&&n.createElement(_e.H2,{className:"m-b-0"},"Business Event Explanations"),t.map((e=>{const{id:t,details:{explanation:s}}=e;let{explanationsBottom:i,explanationsTop:r}=s;return r||i||(i=s.CNNInspectorPipeline.explanationsBottom,r=s.CNNInspectorPipeline.explanationsTop),n.createElement("div",{key:t,className:"row"},n.createElement("div",{className:"col-xs-12 col-md-12"},n.createElement(_e.H3,{appearance:"h4",className:"m-t-2"},(0,bt.hh)(e)," Best N-grams"),n.createElement(wt,{explanations:r}),n.createElement(_e.H3,{appearance:"h4",className:"m-t-2"},(0,bt.hh)(e)," Worst N-grams"),n.createElement(wt,{explanations:i})))})))}function _t({entities:e,title:t,words:s}){let i=0;const r=s.map(((e,t)=>n.createElement(ye.x,{key:t,className:"NamedEntitiesSentence__word",tagName:"span"},e)));return n.createElement("div",{className:"NamedEntitiesSentence"},n.createElement(_e.H3,{appearance:"h4",className:"NamedEntitiesSentence__heading"},t,n.createElement(ye.x,{className:"NamedEntitiesSentence__meta",color:"tertiary",size:"smaller",tagName:"span"},"- ",qe()("entity",e.length,!0))),n.createElement("div",{className:"NamedEntitiesSentence__content"},e.reduce(((e,t)=>{const{end_idx:s,label:r,salience:a,start_idx:o,type:l,uri:c}=t,d=t.end_idx-t.start_idx;return e.splice(t.start_idx-i,d+1,n.createElement(vt,{key:`${o}-${s}`,label:r,salience:a,type:l,uri:c})),d>0&&(i+=d),e}),r)))}function Mt({timings:e}){let t=0;const s=Object.keys(e).sort().map((s=>{const n=e[s];return t+=n,{name:s,time:n}}));return s.push({name:"Total",time:ft()(t,3)}),n.createElement(Ct._$,{data:s,uniqueKey:"name"},n.createElement(Ct.hN,{header:"Description",cell:({name:e})=>n.createElement(Ct.aH,null,e.includes("_")?n.createElement("span",{className:"m-l-1"},e):n.createElement(_e.H3,{className:"m-a-0"},e))}),n.createElement(Ct.hN,{header:"Time(s)",cell:({time:e})=>n.createElement(Ct.aH,null,e)}))}wt.propTypes={explanations:P().arrayOf(P().shape({location:P().number,ngram:P().string,score:P().number}))},wt.defaultProps={explanations:[]},kt.propTypes={businessEvents:P().shape({events:P().arrayOf(P().shape({id:P().string,label:P().string,score:P().number,details:P().object}))}),namedEntities:P().arrayOf(P().object),sentences:P().arrayOf(P().shape({entities:P().arrayOf(P().shape({end_idx:P().number,label:P().string,salience:P().number,start_idx:P().number,type:P().string})),word_offsets:P().arrayOf(P().number),word_tokens:P().arrayOf(P().string)})),timings:P().objectOf(P().any)},kt.defaultProps={businessEvents:{},namedEntities:[],sentences:[],timings:void 0},_t.propTypes={entities:P().arrayOf(P().shape({end_idx:P().number.isRequired,start_idx:P().number.isRequired})),title:P().string,words:P().arrayOf(P().string)},_t.defaultProps={entities:[],title:"",words:[]},Mt.propTypes={timings:P().objectOf(P().number)},Mt.defaultProps={timings:{}};var St=s(81346),Tt=s.n(St);function It({namedEntities:e}){if(!e.length)return n.createElement(ye.x,{tagName:"span"},"No entities found.");const t=e.sort(((e,t)=>t.salience-e.salience)),{about:s=[],mention:i=[]}=Tt()(t,"salienceLevel");return n.createElement(Ct._$,{data:[...s,...i].splice(0,10),uniqueKey:"id"},n.createElement(Ct.hN,{header:"Entity",cell:({label:e,wikiUrl:t,salienceLevel:s})=>n.createElement(Ct.aH,{style:{wordBreak:"break-all"}},n.createElement(ye.x,{color:"about"===s?"accent":"tertiary",tagName:"span"},t?t.replace("https://en.wikipedia.org/wiki",""):e))}),n.createElement(Ct.hN,{header:"Salience",cell:({salience:e})=>n.createElement(Ct.aH,null,e)}),n.createElement(Ct.hN,{header:"Mentions",cell:({mentionCount:e})=>n.createElement(Ct.aH,null,e)}))}It.propTypes={namedEntities:P().arrayOf(P().shape({label:P().string.isRequired,mentionCount:P().number,salience:P().number,wikiUrl:P().string}))},It.defaultProps={namedEntities:[]};class Nt extends n.Component{constructor(e){super(e),this.state={isLoading:!0,debugInfo:null}}componentDidMount(){const{entryId:e}=this.props;streets.service("leo").askEntryContentAnalysis(e,{withDetails:!0}).then((e=>{this.setState({isLoading:!1,debugInfo:e})})).catch((e=>{streets.service("signs").showError("Failed to debug entry: "+e),this.setState({isLoading:!1})}))}render(){const{isLoading:e,debugInfo:t}=this.state;return e||t?e?n.createElement("div",{className:"fx"},n.createElement(mt.g,{details:"details"})):n.createElement("div",{className:"fx"},n.createElement(kt,{timings:t.timings})):null}}Nt.propTypes={entryId:P().string.isRequired};class Pt extends n.Component{componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}onEntryFeedbackChanged(e){const{entry:t}=this.props;t.getId()===e&&this.forceUpdate()}onEntryPriorityChanged(e){const{entry:t}=this.props;t.getId()===e&&this.reader.askLookupEntry(e).then((e=>{t.priorities=e.priorities,t.jsonInfo.priorities=e.priorities,this.forceUpdate()}))}render(){const{entry:e}=this.props;return e.metadata.hasCustomHeader?null:n.createElement("div",{className:"fx metadata",style:e.isTitleRTL()?{textAlign:"right"}:void 0},n.createElement(J.at,{entry:e,hideBoardLabel:!0,layout:v.Ar.fullArticle,showSecondarySourceMarker:!0}))}}Pt.propTypes={entry:P().object.isRequired};const Lt=/vimeo\.com.*\/([A-Za-z0-9\-_]+)/i;function xt({entry:e}){const t=e.getAlternateLink();let s;return t.indexOf("#")>-1&&(s=t.split("#")[1]),null!=s&&""!==s||(s=(0,ct.Y)(Lt,t)),n.createElement("iframe",{"data-clean":"yes",width:"647",height:"364",src:`//player.vimeo.com/video/${s}?hd=1&showinfo=0`,frameBorder:"0",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0})}function Dt({entry:e}){const t=e.getContent(),s=t&&-1===t.indexOf("<iframe");return n.createElement(n.Fragment,null,n.createElement("iframe",{"data-clean":"yes",width:"647",height:"364",src:`//www.youtube.com/embed/${e.metadata.youtube}?hd=1&amp;fs=1&amp;showinfo=0&amp;rel=0`,frameBorder:"0",allowFullScreen:!0}),s&&n.createElement("div",{dangerouslySetInnerHTML:{__html:t}}))}xt.propTypes={entry:P().object.isRequired},Dt.propTypes={entry:P().object.isRequired};class Ot extends n.Component{constructor(e){super(e),this._onExpandTweet=()=>{this.setState((({tweetInfoExpanded:e})=>({tweetInfoExpanded:!e})))},this._onClickRedditLink=()=>{streets.service("analytics").incrementDashboardEvent("REDDIT:clicks")},this.state={tweetInfoExpanded:!1,leoDebugExpanded:!1,debugExpanded:!1}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this),this.navigo=streets.service("navigo"),this.navigo.registerObserver(this),this.shortcuts=streets.service("shortcuts"),this._toggleShortcutClaims(this.navigo.getState().selectedEntryId)}componentWillUnmount(){this.shortcuts=null,this.navigo.unregisterObserver(this),this.navigo=null,this.reader.unregisterObserver(this),this.reader=null}onDecorationChanged(e,t){const{entry:s}=this.props;s.getId()!==e||t!==nt.I.oneNote&&t!==nt.I.evernote||this.forceUpdate()}onNavigationChanged({selectedEntryId:e}){this._toggleShortcutClaims(e)}_toggleShortcutClaims(e){const{entry:t}=this.props;e===t.getId()?(this.shortcuts.claim(this,at.PC.debugEntry),this.shortcuts.claim(this,at.PC.leoDebugEntry)):(this.shortcuts.unclaim(this,at.PC.leoDebugEntry),this.shortcuts.unclaim(this,at.PC.debugEntry))}onShortcutKey(e){if(e===at.PC.debugEntry)this.setState({debugExpanded:!0});else if(e===at.PC.leoDebugEntry){if(!streets.hasProPlusAccess())return;this.setState({leoDebugExpanded:!0})}}render(){const{tweetInfoExpanded:e,leoDebugExpanded:t}=this.state,{entry:s,inSlider:i}=this.props,r=s.getTitle().replace(" ","&nbsp;"),a=s.listFilters(),o=a.length>0?a[0].searchQuery||a[0].label||a[0].text:null;let l=s.metadata.isNewsletter?"entryBody-newsletter":"entryBody";s.metadata.isWellFormattedNewsletter&&(l+=" entryBody-newsletter--well-formatted");return s.isFeedlyBlog()&&(l+=" entryBody--feedly-blog"),n.createElement("article",{id:`${s.getId()}_main`},n.createElement("div",{className:"entryholder"},!i&&n.createElement("div",{className:"frameActionsTop","data-uninlineentryid":s.getId(),title:"close this article and return to the list"}),n.createElement("div",{className:pe()("u100Entry",{promoted:null!=s.metadata.promotion,[s.metadata.customFullArticleClass]:null!=s.metadata.customFullArticleClass}),"data-alternate-link":s.getBestAlternateLink(),"data-select-entry-id":s.getId()},s.webfeeds.wordmark&&n.createElement("div",{className:"webfeeds-wordmark",style:{backgroundImage:`url(${(0,ot.w6)(s.webfeeds.wordmark)})`}}),n.createElement("div",{className:"entryHeader"},!s.metadata.hasCustomHeader&&n.createElement("a",{href:s.getAlternateLink(),className:pe()("entryTitle entry__title",{"entry__title--read":s.isRead()}),target:"_blank",rel:"noopener noreferrer",style:s.isTitleRTL()?{direction:"rtl",textAlign:"right"}:void 0,dangerouslySetInnerHTML:{__html:(0,st.RI)(r,s.getHighlightableKeywords())},onClick:e=>{s.metadata.isNewsletter?(e.preventDefault(),streets.service("commonsigns").showMessage("Newsletter articles do not have a website page associated with them")):(0,rt.YC)(s.getAlternateLink())&&this._onClickRedditLink()}}),n.createElement(Pt,{entry:s}),n.createElement("div",{className:"shareBarHolder"},!i&&n.createElement(me.q,{entryId:s.getId()}))),t&&n.createElement(Nt,{entryId:s.getId()}),this._renderDebugger(),a&&a.length>0&&n.createElement("div",{className:"u100Entry__warning"},n.createElement("i",null,"Article removed from your feeds by your"," ",n.createElement("strong",null,o)," mute filter")),this._renderTopPrompt(),s.metadata.tweet&&n.createElement("div",{className:pe()("fx",{"TweetInfo--hidden":!e,"TweetInfo--expanded":e}),dangerouslySetInnerHTML:{__html:s.jsonInfo.content&&s.jsonInfo.content.content}}),s.metadata.tweet&&n.createElement("div",{className:"fx tweetHolder"},n.createElement(tt.w,{tweet:s.metadata.tweet,onClick:this._onExpandTweet})),s&&s.metadata.redditPost&&s.metadata.hasLinkedArticle&&n.createElement("div",{className:"fx"},n.createElement(Ze,{redditPost:s.metadata.redditPost})),n.createElement("div",{className:"fx tagsHolder"},n.createElement(et,{entryId:s.getId()})),n.createElement("div",{className:"fx annotationsHolder"},"yes"===streets.service("preferences").getPreference(C.DD)&&n.createElement(xe,{entryId:s.getId()})),this._renderIntegrationsStatus(),n.createElement("div",{className:l,id:`${s.getId()}_entryBody`,title:""},this._renderEntryBody()),n.createElement("div",{className:"fx"},s.getPdfLink()&&n.createElement(Be.X,{className:"m-t-2",href:s.getPdfLink(),title:s.getTitle()})),n.createElement("div",{className:"fx tagsHolder"},n.createElement(et,{entryId:s.getId()})),n.createElement("div",{style:{clear:"both"}}),!0===s.metadata.subscribed&&!0!==s.metadata.tutorial&&!s.metadata.isRedditFeed&&!s.metadata.isNewsletter&&n.createElement("div",{className:"fx"},this._renderOutboundButton("Visit Website",s.getAlternateLink(),!0)),s.metadata.isRedditFeed&&s.jsonInfo&&s.jsonInfo.originId&&n.createElement("div",{className:"fx"},this._renderOutboundButton("Visit Website",s.getAlternateLink(),!1),this._renderOutboundButton("View Conversation",s.jsonInfo.originId,!1)),this._renderCommonTopics(),!0===s.metadata.tutorial&&n.createElement("div",{className:"fx"},n.createElement(Qe.n,{context:"tutorial-"+s.getTitle()})),n.createElement("div",{className:"fx"},n.createElement(We.p,{entry:s,isInlineEntry:!0})))))}_renderTopPrompt(){const{entry:e,inSlider:t,hasLeoSecurity:s}=this.props,i=e.getSuggestedLikeBoards();if(i.some((t=>!e.includesTag(t.id))))return n.createElement("div",{className:"fx"},n.createElement(Ge,{entry:e,likeBoards:i}));const r=e.listTopVulnerability(),a=streets.service("preferences").getPreference(C.$h);if(r&&!s&&"yes"===a)return n.createElement("div",{className:"fx"},n.createElement(He.X_,{description:n.createElement("span",null,"Would you like Leo to enrich this article with CVSS and exploit information about"," ",n.createElement(z.rU,{href:(0,lt.OZ)(r.label),newWindow:!0},r.label),"?"),feature:it.tp.LeoSecurity,hideable:!0}));const{analysisFeedbackPrompt:o}=e.jsonInfo;return!e.isPartialContent()&&t&&o?n.createElement("div",{className:"fx"},n.createElement(ke,{analysisFeedbackPrompt:o,entryId:e.getId()})):null}_renderDebugger(){const{debugExpanded:e}=this.state;if(!e)return null;const{entry:t}=this.props;return n.createElement("div",{className:"EntryImpl__debugger"},JSON.stringify(t.jsonInfo,void 0,2))}_renderIntegrationsStatus(){const{entry:e}=this.props;return null==e.getDecoration(nt.I.evernote)&&null==e.getDecoration(nt.I.oneNote)?null:n.createElement("div",{className:"toolsStatus"},null!=e.getDecoration(nt.I.evernote)&&n.createElement(n.Fragment,null,"Also"," ",n.createElement("a",{href:e.getDecoration(nt.I.evernote),target:"Evernote"},"saved in Evernote")),null!=e.getDecoration(nt.I.oneNote)&&n.createElement(n.Fragment,null,"Also"," ",n.createElement("a",{href:e.getDecoration(nt.I.oneNote),target:"OneNote"},"saved in OneNote")))}_renderEntryBody(){const{isLeoEnabled:e,entry:t}=this.props,s=t.getFeedId();return s&&s.includes("youtube.com/feeds")&&t.metadata.youtube?n.createElement(Dt,{entry:t}):null!=s&&s.includes("vimeo.com")?n.createElement(xt,{entry:t}):null!=s&&s.includes("collegehumor.com")?n.createElement(ht,{entry:t}):n.createElement(pt,{entry:t,isLeoEnabled:e})}_renderOutboundButton(e,t,s){return n.createElement(z.Qj,{importance:"secondary",className:pe()("EntryImpl__button visitWebsiteButton",{"EntryImpl__button--full":s}),href:t,onClick:(0,rt.YC)(t)?this._onClickRedditLink:void 0,newWindow:!0},e)}_renderCommonTopics(){const{entry:e,inSlider:t}=this.props,{commonTopics:s}=e.jsonInfo,i=!e.isPartialContent()&&t,r="yes"===streets.service("preferences").getPreference(C.u_);return i&&r&&s&&s.length>0?n.createElement("div",{className:"fx"},n.createElement(Ue,{entry:e,entryId:e.getId(),streamId:e.suggestViaFeedId(),topics:s})):null}}Ot.propTypes={entry:P().object.isRequired,inSlider:P().bool,isLeoEnabled:P().bool,hasLeoSecurity:P().bool},Ot.defaultProps={inSlider:!1,isLeoEnabled:!1,hasLeoSecurity:!1};var At=s(38916);class zt extends n.Component{constructor(e){super(e),this.state={isEvernoteConnected:!1,isEvernoteOpen:!1,isOneNoteConnected:!1,isOneNoteOpen:!1}}componentDidMount(){this.integrations=streets.service("integrations"),this.pinterest=streets.service("pinterest"),this.integrations.registerObserver(this),this._updateConnections()}componentWillUnmount(){this.integrations.unregisterObserver(this),this.integrations=null,this.pinterest=null}onIntegrationConnectionChanged(){this._updateConnections(!0)}render(){const{isEvernoteConnected:e,isEvernoteOpen:t,isOneNoteConnected:s,isOneNoteOpen:i}=this.state,{alternateLink:a,entryId:o,imageTitle:l,imageUrl:c}=this.props;return n.createElement("div",{className:pe()("PinableImageActions",{"PinableImageActions--open":t||i})},n.createElement(r.zx,{className:"PinableImageActions__action PinableImageActions__pinterest",onClick:()=>{this.pinterest.pinImage(c,{alternateLink:a,imageTitle:l})}}),n.createElement(Ft,{buttonClassName:"PinableImageActions__evernote",className:"PinableImageActions__action",entryId:o,imageTitle:l,imageUrl:c,isConnected:e,isOpen:t,onClick:()=>{this.setState((e=>({isEvernoteOpen:!e.isEvernoteOpen})))},onClose:()=>{this.setState({isEvernoteOpen:!1})}}),n.createElement(Ut,{buttonClassName:"PinableImageActions__one-note",className:"PinableImageActions__action",entryId:o,imageTitle:l,imageUrl:c,isConnected:s,isOpen:i,onClick:()=>{this.setState((e=>({isOneNoteOpen:!e.isOneNoteOpen})))},onClose:()=>{this.setState({isOneNoteOpen:!1})}}))}async _updateConnections(e=!1){const[t,s]=await Promise.all([this.integrations.askIsConnected(At.bK.evernote),this.integrations.askIsConnected(At.bK.oneNote)]);this.setState((n=>({isEvernoteConnected:t,isEvernoteOpen:e&&!n.isEvernoteConnected&&t,isOneNoteConnected:s,isOneNoteOpen:e&&!n.isOneNoteConnected&&s})))}}zt.propTypes={alternateLink:P().string,entryId:P().string.isRequired,imageTitle:P().string,imageUrl:P().string.isRequired},zt.defaultProps={alternateLink:void 0,imageTitle:void 0};var Rt=s(70917);class Ft extends n.Component{constructor(e){super(e),this._parent=n.createRef(),this._target=n.createRef()}componentDidMount(){this.analytics=streets.service("analytics"),this.feedly=streets.service("feedly"),this.integrations=streets.service("integrations")}componentWillUnmount(){this.analytics=null,this.feedly=null,this.integrations=null}render(){const{buttonClassName:e,className:t,entryId:s,imageTitle:i,imageUrl:a,isConnected:o,isOpen:l,onClick:c,onClose:d}=this.props;return n.createElement("div",{className:t,ref:this._parent},n.createElement(r.zx,{className:e,elementRef:this._target,onClick:()=>{streets.hasProAccess()?o?c():this.integrations.connect(At.bK.evernote):(this.analytics.trackPageview("pro.v2/trigger.evernote"),this.feedly.loadPage("pro/evernote"))}}),l&&n.createElement(Rt.$,{entryId:s,imageTitle:i,imageURL:a,onCloseMenu:d,offsetParent:this._parent.current,target:this._target.current}))}}Ft.propTypes={buttonClassName:P().string,className:P().string,entryId:P().string.isRequired,imageTitle:P().string,imageUrl:P().string.isRequired,isConnected:P().bool.isRequired,isOpen:P().bool.isRequired,onClick:P().func.isRequired,onClose:P().func.isRequired},Ft.defaultProps={buttonClassName:void 0,className:void 0,imageTitle:void 0};var jt=s(85131);class Ut extends n.Component{constructor(e){super(e),this._parent=n.createRef(),this._target=n.createRef()}componentDidMount(){this.feedly=streets.service("feedly"),this.integrations=streets.service("integrations")}componentWillUnmount(){this.feedly=null,this.integrations=null}render(){const{buttonClassName:e,className:t,entryId:s,imageTitle:i,imageUrl:a,isConnected:o,isOpen:l,onClick:c,onClose:d}=this.props;return n.createElement("div",{className:t,ref:this._parent},n.createElement(r.zx,{className:e,elementRef:this._target,onClick:()=>{streets.hasProAccess()?o?c():this.integrations.connect(At.bK.oneNote):this.feedly.loadPage("pro/onenote")}}),l&&n.createElement(jt.H,{entryId:s,imageTitle:i,imageUrl:a,onCloseMenu:d,offsetParent:this._parent.current,target:this._target.current}))}}Ut.propTypes={buttonClassName:P().string,className:P().string,entryId:P().string.isRequired,imageTitle:P().string,imageUrl:P().string.isRequired,isConnected:P().bool.isRequired,isOpen:P().bool.isRequired,onClick:P().func.isRequired,onClose:P().func.isRequired},Ut.defaultProps={buttonClassName:void 0,className:void 0,imageTitle:void 0};const Bt="add-highlight";class Ht extends _{constructor(){super(),this._processSelection=e=>{try{if("embed"==e.target.tagName.toLowerCase())return;if("action"==e.target.className)return;const t=(0,y.TC)(this.home.getDocument());if(null==t||""==t)return;this.signs.hide();if("no"==this.preferences.getPreference("contextualMenu"))return;window.requestAnimationFrame((()=>{this._doProcessSelection(e)}))}catch(t){$feedly((0,f.Z)("process section",t))}},this._inSlider=!1}setEntryId(e){this.entryId=e}setReader(e){this.reader=e,this.reader.registerObserver(this)}setPreferences(e){this.preferences=e}setSigns(e){this.signs=e}setFeedly(e){this.feedly=e}setLeo(e){this.leo=e}setAnalytics(e){this.analytics=e}setDots(e){this.dots=e,this.dots.registerObserver(this)}setLayout(e){this.layout=e}setMicrosessions(e){this.microsessions=e}destroy(){this.highlightController&&this.highlightController.destroy(),this.removeDotPreviewHighlight(),this.addHighlightDot&&this.addHighlightDot.destroy(),this.layout!==v.Ar.fullArticle&&this.endReadTime();const e=this.part.querySelectorAll(".webfeeds-accordion__title");e.length&&e.forEach((e=>{e.removeEventListener("click",(e=>{e.target.parentNode.classList.toggle("webfeeds-accordion--open")}))})),null!=this.reader&&(this.reader.unregisterObserver(this),this.reader=null),this.analytics=null,this.feedly=null,this.microsessions=null,this.leo=null,this.preferences=null,this.signs=null,this.part.innerHTML="",super.destroy(),this.entry=null}startReadTime(){this.openTime=(new Date).getTime(),this.microsessions.setEntryAsRead(this.entryId),E.a.set("pendingMarkAsRead",this.entryId)}endReadTime(){this.openTime&&this.entry&&(this.entry.readTime=(new Date).getTime()-this.openTime,this.microsessions.setEntryReadTime(this.entryId,this.entry.readTime)),this.reader.askMarkEntryAsRead(this.entryId,{batch:!1,buried:!1,inlined:!0,skipKeptUnread:!0}),E.a.remove("pendingMarkAsRead"),this.openTime=null}display(){this.layout!==v.Ar.fullArticle&&this.startReadTime(),this.reader.askLookupEntry(this.entryId).then((async e=>{try{if(this.isDestroyed())return!0;if(null==e)return void this._onEntryNotFound();const[t,s]=await Promise.all([this.leo.askIsLeoEnabled(),this.leo.askHasLeoSecurityFeature()]);e.jsonInfo.keptUnread=!1,this.entry=e,this.entry.metadata.inlined=!0;const r=(0,g.aT)(this.part,"DIV","class","floatingEntryScroller");if(this._inSlider=null!=r,i.render(n.createElement(Ot,{entry:this.entry,inSlider:this._inSlider,isLeoEnabled:t,hasLeoSecurity:s}),this.part),this.entry.metadata.hasCustomHeader){const t=this.entry.getTitle(),s=this.part.getElementsByClassName("webfeeds-header__title")[0];s.innerHTML=t,s.addEventListener("click",(()=>{window.open(e.getBestAlternateLink())}));const r=document.createElement("div");r.className="fx webfeeds-header__metadata";this.part.getElementsByClassName("webfeeds-header")[0].appendChild(r);const a=this.part.querySelectorAll(".webfeeds-blockquote");a.length&&a.forEach((e=>{if(e.nextElementSibling&&e.nextElementSibling.className&&e.nextElementSibling.className.includes("webfeeds-call-for-action")){e.nextElementSibling.classList.add("webfeeds-blockquote-call-for-action")}})),i.render(n.createElement(J.at,{entry:this.entry,hideBoardLabel:!0,layout:v.Ar.fullArticle}),r)}const a=this.part.querySelectorAll(".webfeeds-accordion__title");a.length&&(a[0].parentNode.classList.add("webfeeds-accordion--open"),a.forEach(((e,t)=>{e.parentNode.classList.add("fx");const s=document.createElement("i");s.classList.add("icon","icon-sm"),s.classList.add(0===t?"icon-fx-minus-ios-sm-accent":"icon-fx-plus-ios-sm-accent"),e.parentNode.insertBefore(s,e.parentNode.firstChild),e.addEventListener("click",(e=>{e.target.parentNode.classList.toggle("webfeeds-accordion--open"),s.classList.toggle("icon-fx-minus-ios-sm-accent"),s.classList.toggle("icon-fx-plus-ios-sm-accent")}))})));const o=this.part.querySelectorAll(".webfeeds-related-post img");if(o.length)for(let e=0;e<o.length;e++){const t=o[e],s=document.createElement("div");s.className="webfeeds-related-post__image",t.parentNode.insertBefore(s,t),s.appendChild(t)}let l=this.entry.suggestViaFeedId();const c=this.part.getElementsByClassName("InlineEntityWrapper");for(let e=0;e<c.length;e++){const t=c[e];i.render(n.createElement(X.k4,{entityId:t.dataset.entityId,entry:this.entry,streamId:l},t.innerText),t)}this._manipulateContent(),this.part.style.opacity=1;const d=this.part.querySelectorAll(".webfeeds-actions a");streets.getUserId()&&d.forEach((e=>{const t=e.href;if(t&&t.startsWith("https://feedly.com/i/landing/business")){let[s]=t.split("/").slice(6);s&&s.includes("?")&&(s=s.split("?")[0]),e.addEventListener("click",(e=>(e.preventDefault(),streets.isBusinessPlan()||streets.isEnterprisePlan()?this.feedly.loadPage("team"):this.feedly.loadPage("pro/enterprise"),!1)))}}));const h=this.part.querySelectorAll(".webfeeds-card-post");if(h.length>0){let e=[];h.forEach((t=>{if(e.push(t),!t.nextElementSibling||!t.nextElementSibling.classList.contains("webfeeds-card-post")){let t=document.createElement("div");t.classList.add("webfeeds-card-column"),e[0].parentNode.insertBefore(t,e[0]),e.forEach((e=>{t.appendChild(e)})),e=[]}}))}this.finishDisplay(),this.analytics.trackEntryPageView(this.entry)}catch(t){console.error("failed to display entry",t),this.signs.showMessage("[ERR-EC-001]"+(0,f.Z)("display entry: "+this.entryId,t))}}),(()=>{if(this.isDestroyed())return!0;this._onEntryNotFound()}))}onDotChanged(e){if(e===Bt){let e=this.dots.lookupDot(Bt);if(!e||!this.entry)return;e.active?this.renderDotPreviewHighlight():this.removeDotPreviewHighlight()}}_onEntryNotFound(){i.render(n.createElement(n.Fragment,null,"Oops! Feedly is out of sync."," ",n.createElement(r.Er,{importance:"tertiary",onClick:()=>{window.location.reload(!0)}},"Try to re-sync"),"."),this.part)}removeDotPreviewHighlight(){let e=this.dots.lookupDot(Bt);e&&(e.active||(this._dotPreviewHighlightParent&&(this._dotPreviewHighlightParent.parentNode.removeChild(this._dotPreviewHighlightParent),this._dotPreviewHighlightParent=null),this._dotPreviewHighlight&&(this._dotPreviewHighlight.unapply(),this._dotPreviewHighlight=null)))}renderDotPreviewHighlight(){let e=this.entry.metadata.tutorial,t=this.entry.getFirstSentence(),s=this.dots.lookupDot(Bt);if(!e&&t&&s&&s.active){if(this.addHighlightDot||(this.addHighlightDot=new K(Bt)),!this._dotPreviewHighlight){let e=this.highlightController.preview(t);if(!e)return;let s=e.getHighlightElements(),n=s[s.length-1],i=document.createElement("span");i.appendChild(document.createTextNode("|")),i.setAttribute("data-dot",Bt),i.style.display="inline-block",i.style.color="transparent",n.appendChild(i),this._dotPreviewHighlight=e,this._dotPreviewHighlightParent=i}this.addHighlightDot.render()}}renderLeoSummaryHighlights(){const e=this.entry.getLeoSummarySentences(),t=this.entry.getFeedId();e&&!(0,b.a8)(t)&&e.sentences.forEach((e=>{this.highlightController.preview(e.text,"leo")}))}finishDisplay(){try{this.bind(this.part,"mouseup",this._processSelection),this.highlightController=new G(this.entry,document.getElementById(this.entry.getId()+"_entryBody")),this.renderLeoSummaryHighlights(),this.highlightController.render(),this.renderDotPreviewHighlight();try{const e=this.part.querySelectorAll(".twitter-tweet"),t=streets.service("feedly").getTheme()===C.Bd.dark?"dark":null;e.forEach((e=>{e.setAttribute("data-theme",t),window.twttr.widgets.load(e)}))}catch(e){$feedly("[control entry] failed to transform tweets:"+e.name+" -- "+e.message)}}catch(e){$feedly("[control entry] failed to finish display:"+e.name+" -- "+e.message)}}_manipulateContent(){const e=this.element(this.entryId+"_entryBody");if(this.entry.metadata.isNewsletter)d(e,{maxWidth:this._inSlider?647:580,removeLeftRightSpacing:!0,removeEmptyTrNodes:this.entry.metadata.isSubstack,entry:this.entry});else{c(e,{allowNonSecureImages:this.preferences.getPreference(C.Qt)===C.ZD.on,maxWidth:this._inSlider||this.condensed?647:580,rtl:this.entry.isContentRTL(),pinImage:this.preferences.getPreference("pinImage")});this.part.querySelectorAll(".pinable").forEach((e=>{const t=document.createElement("span");t.className="PinableImageContainer";const s=document.createElement("span");s.className="PinActions",e.parentNode.replaceChild(t,e),t.appendChild(e),t.appendChild(s),i.render(n.createElement(zt,{alternateLink:this.entry.getCleanAlternateLink()||this.entry.getBestAlternateLink(),entryId:this.entry.getId(),imageUrl:e.src,imageTitle:e.getAttribute("title")}),s)}))}}async _doProcessSelection(e){if(null==this.home)return;const t=(0,y.TC)(this.home.getDocument());if(null==t||""===t)return;const s=await this.leo.askIsLeoEnabled(),r=document.getElementById("entryContextMenuPart");i.render(n.createElement(he,{entry:this.entry,isLeoEnabled:s,highlightController:this.highlightController,selection:t,rawSelection:(0,y.Ub)(this.home.getDocument()),location:{left:e.pageX-24,top:e.pageY+15},target:e.target}),r);const a=()=>{i.unmountComponentAtNode(r),document.removeEventListener("click",a)};document.addEventListener("click",a)}}},61454:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const n={twitter:{feature:"twitter",minPlan:"proPlus",redirect:"discover/twitterFeeds"},newsletters:{feature:"newsletters",minPlan:"proPlus",redirect:"discover/newsletters"},reddit:{feature:"reddit",minPlan:"standard",redirect:"discover/redditFeeds"}}},15354:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(32735),i=s(73789),r=s(86451);const a="modal",o="popover",l=[{id:0,tutorialInfo:{content:"<span>Let's start with a 1-min introduction to Leo, your new AI research assistant</span>",continueButtonLabel:"continue"},type:a,vimeoId:"365065639"},{id:1,clickable:!0,needsBorder:!0,offsetParentClassName:".GuidedTutorial__gpc-offset-1",targetClassName:".GuidedTutorial__gpc-target-1",tutorialInfo:{content:"<span>Let's train Leo to read your <span placeholder='feed-name'/> feed and prioritize articles similar to those in your <span placeholder='board-name'/> board</span>",actionInfo:"<span>Click on <b>TRAIN LEO</b> to create your first priority</span>"},type:o},{id:2,clickable:!0,needsBorder:!0,offsetParentClassName:".GuidedTutorial__gpc-offset-2",position:"left",needsLoading:!0,targetClassName:".GuidedTutorial__gpc-target-2",tutorialInfo:{content:"<span>Unlike blackbox recommendation engines, Leo has a set of skills that let you define what is relevant to you.</span>",actionInfo:"<span>Pick the LIKE BOARD skill to ask Leo to prioritize articles similar to your <span placeholder='board-name'/> board...</span>"},type:o},{id:3,clickable:!0,needsBorder:!0,needsSlider:!0,offsetParentClassName:".GuidedTutorial__gpc-offset-3",position:"right",targetClassName:".GuidedTutorial__gpc-target-3",tutorialInfo:{actionInfo:"<span>Select your <span placeholder='board-name'/> board</span>"},type:o},{id:4,align:"start",clickable:!1,needsBorder:!1,offsetParentClassName:".GuidedTutorial__gpc-offset-4",paddingHorizontal:16,paddingVertical:16,position:"left",targetClassName:".GuidedTutorial__gpc-target-4",tutorialInfo:{content:"<span>Leo found some articles that are similar to the ones in your <span placeholder='board-name' /> board. What do you think?</span>",continueButtonLabel:"They're great!",initialButtonState:"disabled"},type:o},{id:5,clickable:!0,needsBorder:!0,needsLoading:!0,offsetParentClassName:".GuidedTutorial__gpc-offset-5",position:"left",targetClassName:".GuidedTutorial__gpc-target-5",tutorialInfo:{content:"<span>Awesome!</span>",actionInfo:"<span>Click on <b>CREATE</b> to finish your first priority</span>"},type:o},{id:6,clickable:!1,needsBorder:!0,offsetParentClassName:".GuidedTutorial__gpc-offset-6",position:"left",targetClassName:".GuidedTutorial__gpc-target-6",tutorialInfo:{content:"<span> From now on, Leo will read all the <span placeholder='feed-name' /> articles and pull the ones similar to those you save into your <span placeholder='board-name'/> board into your <b>new priority tab</b></span>",continueButtonLabel:"continue"},type:o},{id:7,align:"start",clickable:!1,needsBorder:!1,offsetParentClassName:".GuidedTutorial__gpc-offset-7",position:"left",targetClassName:".GuidedTutorial__gpc-target-7",tutorialInfo:{content:"<span>Let's wait until Leo is done reading your board and learning what is relevant to you</span>"},type:o},{id:8,clickable:!1,needsBorder:!0,type:o,position:"left",targetClassName:".GuidedTutorial__gpc-target-8",offsetParentClassName:".GuidedTutorial__gpc-offset-8",tutorialInfo:{content:"<span>Each article prioritized by Leo has a <b>green label</b> which explains why the article was prioritized.</span>",continueButtonLabel:"continue"}},{id:9,clickable:!1,needsBorder:!0,offsetParentClassName:".GuidedTutorial__gpc-offset-9",position:"right",targetClassName:".tag-button .GuidedTutorial__gpc-target-9",tutorialInfo:{content:"<span> Leo is always learning and getting smarter. He learns from both positive and negative feedback: <br /> <br /> <b> When a recommendation is useful, you can save it to your </b> <span placeholder='board-name'/> <b>board and send Leo a positive signal...</b></span>",continueButtonLabel:"continue"},type:o},{id:10,clickable:!1,needsBorder:!0,offsetParentClassName:".GuidedTutorial__gpc-offset-10",position:"left",targetClassName:".GuidedTutorial__gpc-target-10",tutorialInfo:{content:'<span> When a recommendation is not useful, you can use the <b>"Less-Like-This" down</b> arrow button to correct Leo.</span>',continueButtonLabel:"continue"},type:o},{id:11,clickable:!1,needsBorder:!0,offsetParentClassName:".GuidedTutorial__gpc-offset-11",position:"bottom",targetClassName:".GuidedTutorial__gpc-target-11",tutorialInfo:{content:"<span>You can access and refine your existing priorities here.</span>",continueButtonLabel:"continue"},type:o},{id:12,tutorialInfo:{content:"<span>All done! You now know:</span>",list:[{id:"gt-lesson-1",listItem:n.createElement("span",null,"How to train Leo to read your feeds and prioritize articles which are similar to your boards.")},{id:"gt-lesson-2",listItem:n.createElement("span",null,"Use the save to board"," ",n.createElement(i.Z,{className:"m-r-0",importance:"tertiary"})," ","action to provide positive feedback to Leo.")},{id:"gt-lesson-3",listItem:n.createElement("span",null,"Use the less like this"," ",n.createElement(r.Z,{className:"m-r-0",importance:"tertiary"})," ","button to provide negative feedback to Leo.")}],actionInfo:"<span>Your turn: Train Leo, declutter your feeds, and save time</span>",continueButtonLabel:"Finish Tour"},type:a}]},17022:(e,t,s)=>{"use strict";s.d(t,{pp:()=>n,CB:()=>i,G:()=>r,xv:()=>a,Rd:()=>o,VQ:()=>l,Fy:()=>d,G2:()=>p});const n=Object.freeze({advertising:"leoIndustries",adtech:"leoIndustries",automotive:"leoIndustries",autoTech:"leoIndustries",biopharmaBusiness:"leoHealthTech",biopharmaRegulatory:"leoHealthTech",businessNews:"leoIndustries",ciso:"leoCybersecurity",cleanTech:"leoIndustries",construction:"leoIndustries",cryptocurrency:"leoIndustries",banks:"leoIndustries",energy:"leoIndustries",esports:"leoIndustries",fashion:"leoIndustries",finTech:"leoIndustries",food:"leoIndustries",foodTech:"leoIndustries",foreignAffairs:"leoCybersecurity",generalNews:"leoIndustries",healthcareProviders:"leoHealthTech",healthTech:"leoHealthTech",industrials:"leoIndustries",insurance:"leoIndustries",insurTech:"leoIndustries",legal:"leoIndustries",marketing:"leoIndustries",martech:"leoIndustries",media:"leoIndustries",medicalDeviceBusiness:"leoHealthTech",medicalDeviceRegulatory:"leoHealthTech",medTech:"leoHealthTech",oil:"leoIndustries",oilTech:"leoIndustries",propTech:"leoIndustries",scienceJournals:"leoHealthTech",securityNews:"leoCybersecurity",sports:"leoIndustries",supplyChain:"leoIndustries",retail:"leoIndustries",retailTech:"leoIndustries",realEstate:"leoIndustries",telecom:"leoIndustries",threatResearch:"leoCybersecurity",travel:"leoIndustries",travelTech:"leoIndustries",vendor:"leoCybersecurity",vulnerability:"leoCybersecurity"}),i=Object.freeze(Object.keys(n)),r=Object.freeze({advertising:"alias/leoIndustries/category/5a529960-16bf-4005-8d0c-f3155d6406ef",adtech:"alias/leoIndustries/category/72a6cc88-5ce2-491a-b673-fbc91a02bbe3",automotive:"alias/leoIndustries/category/cf382bcc-f96a-46fb-a4b7-84967f74aec4",autoTech:"alias/leoIndustries/category/c1481c1b-2da5-4d3e-83b1-062fcbea8a7f",banks:"alias/leoIndustries/category/273386f5-9867-41cf-9077-6da311b9df7c",ciso:"alias/leoCybersecurity/category/5e7b9bbc-2c18-4528-907b-55c4ae084211",biopharmaBusiness:"alias/leoHealthTech/category/352f9f15-2440-41a6-9764-74b03fe5bd93",biopharmaRegulatory:"alias/leoHealthTech/category/4b6ac647-4696-46a9-8c93-b8931cbde838",businessNews:"alias/leoIndustries/category/7c1d3d24-ecfe-4ee8-bd66-06727803eff7",cleanTech:"alias/leoIndustries/category/bc851f34-b118-4c2b-a4f3-4283965278a2",construction:"alias/leoIndustries/category/8ca678cb-77fd-4b86-a8fd-c3f701ce524b",cryptocurrency:"alias/leoIndustries/category/fe23c491-1f6d-4653-91c4-338c139d0aed",energy:"alias/leoIndustries/category/7a40ab52-96b2-4d30-8d12-183bb13a3342",esports:"alias/leoIndustries/category/c7ef680b-aaeb-4563-b724-4d68a7bf1ff5",fashion:"alias/leoIndustries/category/6d07d1b1-7390-4d7b-b684-e7573d537f13",finTech:"alias/leoIndustries/category/ace13245-6466-40d0-9737-cb7489a84754",food:"alias/leoIndustries/category/04dabadd-ba18-4bc8-b3bf-1533102326b7",foodTech:"alias/leoIndustries/category/aa1aed58-b8e3-4543-9a26-c43da71d688b",foreignAffairs:"alias/leoCybersecurity/category/2044c7d3-a591-4e01-8f56-f187611fe3d6",generalNews:"alias/leoIndustries/category/df692a2c-a80d-45fd-8509-67e3158e2c0c",healthcareProviders:"alias/leoHealthTech/category/c7b4bd46-612b-45a3-bc1f-88febfdd9aeb",healthTech:"alias/leoHealthTech/category/772f2714-d9ae-4191-a701-b93d818d5fec",industrials:"alias/leoIndustries/category/1cec81ea-260a-4baa-ae1c-6459e7cddc18",insurance:"alias/leoIndustries/category/675ec519-7f22-48bd-a387-0911c48741af",insurTech:"alias/leoIndustries/category/acdedc1f-48fe-41ed-8017-023cc84dcc06",legal:"alias/leoIndustries/category/a2e3f095-c7a6-4053-b6f7-8e3f406df6cd",marketing:"alias/leoIndustries/category/53065f70-fe53-41b6-8443-a621ff79d7cb",martech:"alias/leoIndustries/category/f4a6ca89-f281-4c77-9354-480a36d199ee",media:"alias/leoIndustries/category/3fd7f5ec-3af5-405c-ad88-e545b123adb0",medicalDeviceBusiness:"alias/leoHealthTech/category/075039df-06c9-40a3-b64f-8b35b472e038",medicalDeviceRegulatory:"alias/leoHealthTech/category/5f9f4f6b-751e-4615-b7aa-1d3ada03e24f",medTech:"alias/leoHealthTech/category/10cbd779-d65f-4021-a1d8-66e291557845",oil:"alias/leoIndustries/category/c29d2baf-df02-474a-a889-bcc91d510c52",oilTech:"alias/leoIndustries/category/3dde80fe-4351-4ae8-a1d7-84faff50c7b2",propTech:"alias/leoIndustries/category/ac54d133-b213-4316-9b0b-0b839261ec2b",scienceJournals:"alias/leoHealthTech/category/1d71e4a5-dfbf-4f6b-ab03-813458247e1d",securityNews:"alias/leoCybersecurity/category/1722e7ff-bb6e-410b-b983-fd6f8a18d3a6",sports:"alias/leoIndustries/category/146c171a-089d-4c17-bd6e-55ee781421b9",supplyChain:"alias/leoIndustries/category/4e39985c-be8c-4d5b-be98-59e8c15067c3",realEstate:"alias/leoIndustries/category/db305997-c683-4997-8f84-f6bc9f221f0f",retail:"alias/leoIndustries/category/a40d25a9-c8a3-49e3-aa22-e63f2d2cd933",retailTech:"alias/leoIndustries/category/5b8ff9ae-bd94-40b2-b5b2-189719a1c222",telecom:"alias/leoIndustries/category/2ab8708b-5790-4300-8d40-94a374341e3f",threatResearch:"alias/leoCybersecurity/category/dacf3f34-410c-4061-9f0e-e7229ad8d611",travel:"alias/leoIndustries/category/0d4ca890-662b-4e4b-8c2c-bd7e2a18606d",travelTech:"alias/leoIndustries/category/b539b8e9-b84c-4493-a2b7-e71f7d84a55e",vendor:"alias/leoCybersecurity/category/f950a249-62df-433a-b0c5-6d2444d2706e",vulnerability:"alias/leoCybersecurity/category/ed1a8727-987c-44dc-b6b3-9b26290f63c5"}),a=Object.freeze({advertising:"Advertising",automotive:"Automotive",biopharma:"Biopharma",cybersecurity:"Cybersecurity",energy:"Energy",financial:"Financial Services",food:"Food",healthcare:"Healthcare",industrials:"Industrials",media:"Media & Entertainment",medicalDevices:"Medical Devices",realEstate:"Real Estate",retail:"Retail",telecom:"Telecom",travel:"Travel & Hospitality"}),o=Object.freeze(Object.keys(a)),l=Object.freeze({advertising:["advertising","adtech"],automotive:["automotive","autoTech"],biopharma:["biopharmaBusiness","biopharmaRegulatory","healthTech","scienceJournals"],cybersecurity:["ciso","foreignAffairs","securityNews","threatResearch","vendor","vulnerability"],energy:["cleanTech","energy","oil","oilTech"],financial:["banks","cryptocurrency","finTech","insurance","insurTech"],food:["food","foodTech"],healthcare:["healthcareProviders","healthTech"],industrials:["construction","industrials","supplyChain"],media:["esports","media","sports"],medicalDevices:["medicalDeviceBusiness","medicalDeviceRegulatory","medTech","scienceJournals"],realEstate:["propTech","realEstate"],retail:["fashion","retail","retailTech"],telecom:["telecom"],travel:["travel","travelTech"]}),c={advertising:["ad","advertising","social media","adtech","google ad","programmatic"],adtech:["ad","advertising","social media","adtech","google ad","programmatic"],automotive:["automotive","automobile","trucking","trucks","motorcycles","mobility","tesla","jeep","bmw","porsche","self driving cars","4X4","toyota","honda","audi","VW","Ford","Volvo","F1","transportation","cars","electric vehicles","transport","autonomous vehicles"],autoTech:["ev","tesla","automotive","automobile","motorcycles","mobility","self driving cars","transportation","Jeep","cars","electric vehicles","transport","autonomous vehicles"],banks:["banks","finance","financial","bankruptcy","banking","money","payments","credit union","fintech","RPA","cryptocurrency","investing","private equity","investment banking","central banks","P2P lending","Bloomberg","ethereum","gold","stocks","trading"],biopharmaBusiness:["healthcare","pharma","pharmacy","biotech","drugs","health","biopharma","biopharma business"],biopharmaRegulatory:["fda","clinical trials","clinical trial","ema","regulatory","regulatory affairs","biopharma","pharma","biotech"],businessNews:["business","entrepreneurship","leadership","news"],ciso:["security","cybersecurity","cyber security","hacking","vulnerability","malware","cyber"],cleanTech:["water","electrical","waste","solar","wind","nuclear","energy","climate","utilities","cleantech","climate change","green building"],construction:["construction","materials","architecture","home improvement"],cryptocurrency:["cryptocurrency","bitcoin","blockchain"],energy:["water","electrical","waste","solar","wind","nuclear","energy","climate","urbanism","utilities","oil"],esports:["esports"],fashion:["Clothing","clothes","luxury","cosmetics","sneakers","shoes","jewelry","watches","makeup","fragrance","perfume","shopping","beauty","skincare","fashion","fashionista","men","women","moda","vintage","street style","lingerie"],finTech:["banks","finance","financial","bankruptcy","banking","money","payments","credit union","fintech","RPA","cryptocurrency","investing","private equity","investment banking","central banks","P2P lending","Bloomberg","ethereum","gold","regulators","stocks","trading"],food:["food","agriculture","food industry","beverage","brewers","farming","beer","wine","beverage","restaurant","food industry","cocktails","food safety","alcohol"],foodTech:["foodtech","food","agtech","agritech"],foreignAffairs:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","malware"],generalNews:["news"],healthcareProviders:["healthcare providers","healthcare","nursing","medicare","health policy"],healthTech:["healthcare","healthcare it","digital health","health tech","ehealth","i-health"],industrials:["industrials","aerospace","defense","infrastructure","packaging","military","maritime","space","drones","mining","NASA","geopolitics","civil engineering","manufacturing","manufacturers","rail","railway"],insurance:["insurance","risk","insurtech","actuarial","audit"],insurTech:["insurance","risk","insurtech","actuarial","audit"],legal:["legal","legal tech","ip","lawyer","compliance","law practice","courts","law"],marketing:["PR","public relations","marketing","copyright","social media marketing","blogging","martech","ppc","video marketing","seo","cro","content marketing","hubspot"],martech:["PR","public relations","marketing","copyright","social media marketing","blogging","martech","ppc","video marketing","seo","cro","content marketing","hubspot"],media:["entertainment","media center","media","film","filmmaking","music","music production","music business","TV Shows","magazines","radio","TV","journalism","copyright","culture","transmedia","hollywood","multimedia","cinematography","cinema 4D"],medicalDeviceBusiness:["medical devices","medtech","medical equipment","medical device"],medicalDeviceRegulatory:["fda","clinical trials","clinical trial","ema","regulatory","regulatory affairs","medical device","medical devices","medical equipment","medtech"],medTech:["medical devices","medtech","medical equipment","medical device"],oil:["oil","gas"],oilTech:["oil","gas"],propTech:["real estate","real estate investing","property","property management","house","home","invest","housing","mortgage","commercial real estate","estate planning","financial planning"],realEstate:["real estate","real estate investing","property","property management","house","home","invest","housing","mortgage","commercial real estate","estate planning","financial planning"],retail:["retailers","shops","stores","grocery","FMCG","CPG","customer experience","Shopify","ecommerce","consumerist","retail"],retailTech:["retailers","shops","stores","grocery","FMCG","CPG","customer experience","Shopify","ecommerce","consumerist","retail"],scienceJournals:["science journals","healthcare","medical","biology","science","medicine","research","journals","health","life sciences"],securityNews:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","malware"],sports:["sports","sports business"],supplyChain:["supply chain","logistics"],telecom:["telecommunications","infrastructure","cable","wireless","television","computer","satellite","internet","telecom","tv","the internet of things","iot","broadband","wifi","5G"],threatResearch:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","malware"],travel:["airline","aviation","hotels","hospitality","travel","airport","tourism"],travelTech:["airline","aviation","hotels","hospitality","travel","airport","tourism"],vendor:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","malware"],vulnerability:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","malware"]},d=Object.freeze({advertising:"advertising",automotive:"automotive",biopharma:"pharma",cybersecurity:"cybersecurity",energy:"energy",financial:"finance",food:"food",healthcare:"healthcare",industrials:"manufacturing",media:"media",medicalDevices:"medical devices",realEstate:"real estate",retail:"retail",telecom:"telecom",travel:"travel"});o.forEach((e=>{l[e].forEach((t=>{c[t].includes(d[e])||c[t].push(d[e])}))}));const h=Object.freeze(c),u=["securityNews","threatResearch","vulnerability","vendor","ciso","foreignAffairs","biopharmaBusiness","biopharmaRegulatory","healthcareProviders","medicalDeviceBusiness","medicalDeviceRegulatory","healthTech","medTech","scienceJournals","advertising","adtech","automotive","autoTech","banks","businessNews","energy","cleanTech","construction","cryptocurrency","esports","fashion","finTech","food","foodTech","generalNews","industrials","insurance","insurTech","legal","marketing","martech","media","oil","oilTech","retail","retailTech","realEstate","propTech","sports","supplyChain","telecom","travel","travelTech"];const p=Object.freeze(u.reduce(((e,t)=>(h[t].forEach((s=>{let n=s.trim().toLowerCase();e[n]?e[n].push(t):e[n]=[t]})),e)),{}))},22590:(e,t,s)=>{"use strict";s.d(t,{cX:()=>n,wI:()=>i,_C:()=>r});const n={id:"introducing-boards",after:"3days",type:"notifications-carousel",data:{slides:[{visual:"images/fx/illustrations/save-to-board-v1.svg",header:"Save to Boards",sub:"Bookmark the most interesting articles to boards for reference or sharing"},{visual:"images/fx/illustrations/add-note-v0.svg",header:"Add Your Insights",sub:"Use notes and highlights to enrich articles with your insights - and tag teammates"}],allowClose:!0}},i={id:"introducing-mute-filters-v1",after:"7days",type:"notifications-carousel",data:{slides:[{visual:"images/fx/illustrations/mute-filters-v0.svg",header:"Introducing Mute Filters",sub:"Fine-tune your feeds by hiding mentions of unwanted topics or keywords",badge:"pro"},{visual:"images/fx/illustrations/mute-filters-scope-duration-v0.svg",header:"Simple Yet Powerful",sub:"Filter using simple keywords or advanced queries. Give it an expiration date or keep it on.",badge:"pro"},{visual:"images/fx/illustrations/mute-filters-keyword-v0.svg",header:"Also While Reading",sub:"Create filters while reading by selecting a word and clicking 'Mute this phrase'",badge:"pro"}],allowClose:!0,targetUri:"filters"}},r={id:"introducing-newsletters",after:"7days",type:"notifications-spotlight",data:{visual:"images/fx/illustrations/disseminate-v0.svg",header:"Introducing Team Newsletters",sub:"Easily share important articles and industry trends with your teammates",primaryAction:"5 Great Newsletter Features",tertiaryAction:"Later",badge:"team",targetEntryId:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15f35a9df6a:548084f:9ac85644",targetUrl:"https://blog.feedly.com/team-newsletters/"}}},90197:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(22590);const i=[{id:"team-welcome",after:"0days",type:"notifications-carousel",data:{slides:[{visual:"images/fx/illustrations/teams-v0.svg",header:"Introducing Feedly Business",sub:"Where smart teams research and share key industry trends",tags:!0},{visual:"images/fx/illustrations/feeds-v0.svg",header:"Share Feeds",sub:"Follow in one place all your trusted sources and Google keyword alerts"},{visual:"images/fx/illustrations/boards-teams-v0.svg",header:"Curate Boards",sub:"Annotate, save, and share the most important articles you read"},{visual:"images/fx/illustrations/newsletter-v0.svg",header:"Create Newsletters",sub:"Easily share the content of your boards and fuel your team's success"}],allowClose:!0}},n.cX,n._C,{id:"team-gettingStarted",type:"forced-landing",data:"team/gettingStarted",after:"7days"},n.wI]},13315:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const n={standard:[{label:"Up to 100 sources"},{label:"Up to 3 feeds"},{label:"Web, iOS, and Android"}],pro:[{label:"1,000 sources",hideFromProPlusPage:!0},{label:"Notes and highlights",sources:["highlight"]},{label:"Power Search",sources:["search"]},{label:"Save to Evernote, Pocket, and OneNote",sources:["evernote","onenote","pocket","ifttt"]},{label:"Share to LinkedIn, Buffer, IFTTT, Zapier, and Hootsuite",sources:["sharing.button.linkedin","sharing.button.hootsuite","sharing.button.wordpress","buffer"]},{label:"Get new articles up to 10x faster"},{label:"Hide sponsored ads",sources:["thanks"]},{label:"Premium fonts",sources:["font"]},{label:"Premium support",sources:["support"]}],proLegacy:[{label:"2,500 sources",grandfathered:!0},{label:"Notes and highlights",sources:["highlight"]},{label:"Power Search",sources:["search"]},{label:"Save to Evernote, Pocket, and OneNote",sources:["evernote","onenote","pocket","ifttt"]},{label:"Share to LinkedIn, Buffer, IFTTT, Zapier, and Hootsuite",sources:["sharing.button.linkedin","sharing.button.hootsuite","sharing.button.wordpress","buffer"]},{label:"Google News feeds",grandfathered:!0},{label:"Mute filters",grandfathered:!0},{label:"Get new articles up to 10x faster"},{label:"Hide sponsored ads",sources:["thanks"]},{label:"Premium fonts",sources:["font"]},{label:"Premium support",sources:["support"]}],proPlus:[{label:"Up to 2,500 sources"},{label:"Cut through the noise with Leo"},{label:"Google News feeds",sources:["google-news"]},{label:"Twitter feeds",sources:["twitter"]},{label:"Follow newsletters",new:!0,sources:["newsletters"]}],proPlusLifetime:[{label:"5,000 sources"},{label:"Google News feeds",sources:["google-news"]},{label:"Twitter feeds",sources:["twitter"]},{label:"Follow newsletters",new:!0,sources:["newsletters"]}],business:[{label:"5,000 sources"},{label:"50 Leo Priorities"},{label:"Team feeds and boards"},{label:"Team newsletters"},{label:"Shared notes and highlights"},{label:"Slack & Microsoft Teams"}],enterprise:[{label:"Up to 7,500 sources"},{label:"Team feeds and boards"},{label:"Create newsletters"},{label:"Slack & Microsoft Teams"},{label:"API access"},{label:"SSO/SAML"},{label:"Onboarding & training"}],enterpriseForBusinessUsers:[{label:"Up to 7,500 sources"},{label:"Team feeds and boards"},{label:"Create newsletters"},{label:"Slack & Microsoft Teams"},{label:"API access"},{label:"SSO/SAML"},{label:"Onboarding & training"}],leoCoreSkills:[{label:"Topics"},{label:"Like board"},{label:"Business events"},{label:"Deduplication"},{label:"Mute filters"},{label:"Summarization"}],leoAdvancedSkills:[{label:"Industry intelligence"},{label:"Cybersecurity threat intelligence"},{label:"Biopharma research"},{label:"Competitive intelligence"}]}},20647:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const n={hours:["01","02","03","04","05","06","07","08","09","10","11","12"],days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}},80875:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const n={Security:"Cyber Security",IndustryIntelligence:"Industry Intelligence & Trend Spotting",SocialSelling:"Social Selling",EditorialInspiration:"Editorial Inspiration"}},63763:(e,t,s)=>{"use strict";s.d(t,{TQ:()=>O,H8:()=>x,ww:()=>D});var n=s(32735),i=s(71262);const r=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12.887 3.002l-8 4A2.5 2.5 0 003.5 9.24v9.52a2.499 2.499 0 001.375 2.247l8.001 4a2.5 2.5 0 002.238 0l8-4A2.5 2.5 0 0024.5 18.77V9.24a2.5 2.5 0 00-1.388-2.238l-8-4a2.5 2.5 0 00-2.225 0zm1.78.896l8 4A1.5 1.5 0 0123.5 9.24v9.53a1.5 1.5 0 01-.832 1.342l-8.002 4a1.5 1.5 0 01-1.342 0l-8-4a1.5 1.5 0 01-.824-1.349V9.24a1.5 1.5 0 01.832-1.342l8.002-4a1.5 1.5 0 011.334 0z"}),n.createElement("path",{d:"M23.456 7.713a.5.5 0 01.524.847l-.076.047-9.68 4.84a.5.5 0 01-.36.034l-.088-.034-9.68-4.84a.5.5 0 01.364-.927l.084.033L14 12.44l9.456-4.727z"}),n.createElement("path",{d:"M14 12.5a.5.5 0 01.492.41l.008.09v11.76a.5.5 0 01-.992.09l-.008-.09V13a.5.5 0 01.5-.5z"})))}));const a=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M20.188 3.188a.5.5 0 01.491.41l.009.09v8.874a.5.5 0 01-.992.09l-.009-.09V4.188H8.312v11.126a.5.5 0 01-.41.491l-.09.008a.5.5 0 01-.491-.41l-.008-.09V3.688a.5.5 0 01.41-.492l.09-.009h12.375z"}),n.createElement("path",{d:"M11.688 15.563h-8a.5.5 0 00-.5.5v8.25a.5.5 0 00.5.5h8a.5.5 0 00.5-.5v-8.25a.5.5 0 00-.5-.5zm-.501.999v7.25h-7v-7.25h7zM24.063 12.813h-8a.5.5 0 00-.5.5v11a.5.5 0 00.5.5h8a.5.5 0 00.5-.5v-11a.5.5 0 00-.5-.5zm-.501.999v10h-7v-10h7z"}),n.createElement("path",{d:"M9.188 19.688a.5.5 0 01.09.991l-.09.009h-2.75a.5.5 0 01-.09-.992l.09-.009h2.75zM21 16.5a.5.5 0 01.09.992L21 17.5h-2a.5.5 0 01-.09-.992L19 16.5h2zM21 20.5a.5.5 0 01.09.992L21 21.5h-2a.5.5 0 01-.09-.992L19 20.5h2zM16.063 23.813a.5.5 0 01.09.991l-.09.009h-4.125a.5.5 0 01-.09-.992l.09-.009h4.124zM16.063 8.313a.5.5 0 01.09.991l-.09.008h-4.125a.5.5 0 01-.09-.991l.09-.008h4.124z"})))}));const o=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M6.198 16.05l-.045.073a.5.5 0 00.447.725l7.171-.001-1.808 7.84c-.122.529.566.846.889.41l9.75-13.147.045-.073a.5.5 0 00-.447-.725h-7.172l1.81-7.84c.121-.528-.567-.845-.89-.41L6.198 16.05zm9.125-10.628l-1.41 6.118-.012.085a.5.5 0 00.499.527h6.806l-7.73 10.425 1.411-6.117.012-.085a.5.5 0 00-.499-.527l-6.807-.001 7.73-10.425z",fill:"currentColor",fillRule:"nonzero"}))}));const l=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M7.47 6.486H5a1.5 1.5 0 00-1.5 1.5v14a2.5 2.5 0 002.5 2.5h16a2.5 2.5 0 002.5-2.5V10.899l-.007-.086a.5.5 0 00-.8-.309l-6.953 5.399v-5.004l-.007-.086a.5.5 0 00-.8-.31L8.97 15.905V7.986a1.5 1.5 0 00-1.5-1.5zm-2.47 1h2.47a.5.5 0 01.5.5v8.939l.007.086a.5.5 0 00.8.31l6.963-5.402v5.006l.007.086a.5.5 0 00.8.309l6.953-5.401v10.067a1.5 1.5 0 01-1.5 1.5H6a1.5 1.5 0 01-1.5-1.5v-14a.5.5 0 01.5-.5zM12.017 3.5c.581 0 .979.126 1.559.44l.325.183c.492.281.749.377 1.104.377.235 0 .53-.05.869-.147.28-.079.58-.186.89-.315.17-.07.334-.143.493-.218l.407-.2c.048-.024.085-.044.11-.058a.5.5 0 01.482.876l-.218.114-.104.052c-.247.122-.512.244-.787.358-.344.142-.68.263-1 .353-.42.12-.802.185-1.142.185-.51 0-.879-.117-1.398-.396l-.302-.17c-.57-.327-.853-.434-1.288-.434-.767 0-1.685.306-2.749.931a.5.5 0 11-.506-.862C9.966 3.861 11.049 3.5 12.017 3.5z"})))}));const c=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M14 7c-3.8 0-6.5 2.844-6.5 7 0 4.246 2.782 7.5 6.5 7.5s6.5-3.254 6.5-7.5c0-4.156-2.7-7-6.5-7zm0 1c3.235 0 5.5 2.385 5.5 6 0 3.725-2.372 6.5-5.5 6.5S8.5 17.725 8.5 14c0-3.615 2.265-6 5.5-6z"}),n.createElement("path",{d:"M18.814 18.997l.068.06 1.694 1.8a.5.5 0 01.095.146l.027.082.565 2.4a.5.5 0 01-.945.315l-.028-.085-.535-2.271-1.602-1.701a.5.5 0 01-.038-.64l.06-.067a.5.5 0 01.64-.039zm-8.99.039a.5.5 0 01.078.636l-.056.07-1.603 1.703-.533 2.27a.5.5 0 01-.512.384l-.09-.012a.5.5 0 01-.384-.512l.013-.09.564-2.4a.5.5 0 01.069-.16l.054-.068 1.694-1.8a.5.5 0 01.707-.021zM22.472 15.3a.5.5 0 01.411.216l.04.071 1.13 2.4a.5.5 0 01-.859.504l-.046-.078-.994-2.114-1.941.001a.5.5 0 01-.492-.41l-.008-.09a.5.5 0 01.41-.492l.09-.008h2.259zm-14.683 0a.5.5 0 01.09.992l-.09.008-1.942-.001-.994 2.114a.5.5 0 01-.58.27l-.085-.03a.5.5 0 01-.27-.581l.03-.085 1.13-2.4a.5.5 0 01.37-.28l.082-.007h2.26zm15.272-9l.09.013a.5.5 0 01.385.512l-.013.09-1.13 4.8a.5.5 0 01-.243.322l-.076.034-1.694.6a.5.5 0 01-.416-.905l.082-.037 1.437-.51 1.066-4.533a.5.5 0 01.512-.385zm-17.637.3l.028.086 1.066 4.533 1.438.51a.5.5 0 01.327.55l-.023.088a.5.5 0 01-.55.327l-.088-.023-1.694-.6a.5.5 0 01-.294-.276l-.026-.08-1.13-4.8a.5.5 0 01.904-.392l.042.077zm5.617-2.057l.04.08 1.129 3a.5.5 0 01-.897.434l-.039-.08-1.13-3a.5.5 0 01.846-.505l.051.07zm6.524-.21a.5.5 0 01.316.556l-.024.087-1.13 3a.5.5 0 01-.96-.265l.025-.087 1.13-3a.5.5 0 01.643-.292z"})))}));const d=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.136 4.001a.416.416 0 00-.386.412v5.72c0 5.753 3.167 11.043 8.25 13.8 5.082-2.758 8.25-8.047 8.25-13.8v-5.72a.416.416 0 00-.386-.412c-3.46.604-6.088.912-7.864.912-1.776 0-4.404-.308-7.864-.912zm-1.386.412C4.75 3.629 5.39 3 6.171 3a.5.5 0 01.086.007c3.474.608 6.049.906 7.743.906s4.269-.298 7.743-.906A.498.498 0 0121.829 3c.78 0 1.421.628 1.421 1.413v5.72c0 6.215-3.474 11.917-9.019 14.81a.5.5 0 01-.462 0c-5.546-2.892-9.02-8.595-9.019-14.81v-5.72z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.224 7.72a.5.5 0 01.223.67l-1.971 3.943h3.857a.5.5 0 01.448.724l-2.334 4.667a.5.5 0 01-.894-.448l1.971-3.943h-3.857a.5.5 0 01-.447-.723l2.333-4.667a.5.5 0 01.67-.224z",fill:"currentColor"}))}));const h=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 18.5a.5.5 0 01.492.41l.008.09v1.5a4 4 0 01-3.8 3.995l-.2.005H7a2.5 2.5 0 01-2.494-2.336L4.5 22v-3a.5.5 0 01.992-.09L5.5 19v3a1.5 1.5 0 001.356 1.493L7 23.5h1.5a3 3 0 002.995-2.824l.005-.176V19a.5.5 0 01.5-.5zM16 18.5a.5.5 0 00-.492.41L15.5 19v1.5a4 4 0 003.8 3.995l.2.005H21a2.5 2.5 0 002.495-2.336L23.5 22v-3a.5.5 0 00-.992-.09L22.5 19v3a1.5 1.5 0 01-1.355 1.493L21 23.5h-1.5a3 3 0 01-2.995-2.824L16.5 20.5V19a.5.5 0 00-.5-.5zM17.996 4.5c1.278 0 2.166.865 2.517 2.191l1.973 8.179a.5.5 0 01-.943.32l-.029-.085-1.93-7.997C19.36 6.08 18.805 5.5 17.997 5.5c-.448 0-.734.142-1.19.56l-.312.3C15.667 7.16 15.05 7.5 14 7.5c-.973 0-1.629-.306-2.402-.97l-.25-.223a43.036 43.036 0 00-.31-.282c-.429-.381-.701-.526-1.04-.526-.654 0-1.11.445-1.361 1.425l-.048.203-2.105 8a.5.5 0 01-.982-.165l.015-.09 2.1-7.976C7.938 5.381 8.76 4.5 9.996 4.5c.576 0 1.014.202 1.53.628l.176.15c.086.077.375.343.386.352.688.625 1.161.871 1.911.871.68 0 1.076-.19 1.651-.72l.319-.306c.71-.686 1.211-.975 2.026-.975z"}),n.createElement("path",{d:"M25.007 14.5a.5.5 0 01.09.992l-.09.008H3a.5.5 0 01-.09-.992L3 14.5h22.007zM21.043 10.5a.5.5 0 01.09.992l-.09.008H7.058a.5.5 0 01-.09-.992l.09-.008h13.985zM25.007 18.5a.5.5 0 01.09.992l-.09.008H3a.5.5 0 01-.09-.992L3 18.5h22.007z"})))}));const u=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M13.515 2.735a.583.583 0 01.966 0l2.073 3.057.134.04c.377.124.743.273 1.097.446l1.119-1.938a.583.583 0 011.05.497l-.04.086-1.119 1.938c.329.22.642.464.938.729l.099.092 3.682.267c.38.028.623.401.517.75l-.034.087-1.613 3.323.033.14c.099.469.16.935.18 1.401l-.016-.234h2.237a.583.583 0 01.095 1.16l-.095.007h-2.235a9.098 9.098 0 01-.244 1.517l.048-.21L24 19.216a.584.584 0 01-.306.795l-.085.027-.092.014-3.684.266-.1.094a8.63 8.63 0 01-.937.727l1.118 1.938a.583.583 0 01-.956.661l-.054-.078-1.119-1.937c-.353.173-.72.322-1.096.446l-.133.04-2.072 3.056a.584.584 0 01-.902.078l-.063-.078-2.072-3.057-.133-.04a8.571 8.571 0 01-1.097-.446l-1.12 1.938a.583.583 0 01-1.052-.497l.04-.086 1.12-1.939a8.573 8.573 0 01-.936-.728l-.1-.093-3.683-.266a.584.584 0 01-.517-.75l.034-.087 1.612-3.324-.032-.14a8.598 8.598 0 01-.18-1.4l.015.233H3.182a.583.583 0 01-.095-1.159l.095-.007h2.235c.036-.506.12-1.01.247-1.519l-.042.182-.007.029-1.612-3.323a.584.584 0 01.391-.823l.092-.014 3.682-.267.1-.093a8.61 8.61 0 01.938-.728l-1.12-1.938a.583.583 0 01.892-.728l.064.067.054.078 1.12 1.938c.353-.173.72-.322 1.096-.446l.132-.041zm.483 1.366l-1.703 2.514a.583.583 0 01-.323.235A7.438 7.438 0 008.82 8.668a.583.583 0 01-.364.164l-3.029.219 1.327 2.734a.583.583 0 01.057.296l-.016.1A7.446 7.446 0 006.562 14c0 .6.08 1.205.234 1.818a.583.583 0 01-.041.397l-1.327 2.733 3.03.22a.583.583 0 01.285.1l.08.064a7.402 7.402 0 003.15 1.817c.132.037.247.12.324.234L14 23.898l1.705-2.514a.583.583 0 01.228-.197l.096-.037a7.441 7.441 0 003.15-1.817.583.583 0 01.365-.163l3.029-.22-1.326-2.734a.583.583 0 01-.057-.294l.015-.1c.153-.62.232-1.225.232-1.822 0-.6-.08-1.204-.234-1.818a.583.583 0 01.041-.397l1.326-2.734-3.028-.22a.583.583 0 01-.285-.098l-.08-.065a7.402 7.402 0 00-3.149-1.817.583.583 0 01-.324-.234l-1.707-2.516zm-5.985 7.381a.5.5 0 01.688-.263l4.355 2.172a.5.5 0 01.199.717c-.937 1.463-2.28 1.91-3.874 1.282-1.649-.648-2.11-2.034-1.368-3.908zm11.976 0c.743 1.874.281 3.26-1.367 3.908-1.595.627-2.938.181-3.874-1.282a.5.5 0 01.198-.717l4.355-2.172a.5.5 0 01.688.263zm-11.222.888l-.038.154c-.222.982.114 1.58 1.018 1.935.906.357 1.618.258 2.213-.322l.113-.12-3.306-1.647zm10.469 0l-3.306 1.647.113.12c.594.58 1.307.679 2.213.322.903-.355 1.24-.953 1.018-1.935l-.038-.154z",fill:"currentColor",fillRule:"nonzero"}))}));const p=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{clipPath:"url(#mitreattack-lg_svg__clip0)",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"},n.createElement("path",{d:"M23.283 3.368a.5.5 0 01.146.353v4.465a.5.5 0 01-.17.377l-5.148 4.503a.5.5 0 11-.658-.752l4.976-4.354V4.22h-3.738l-4.157 4.751a.5.5 0 11-.753-.658l4.306-4.922a.5.5 0 01.377-.17h4.465a.5.5 0 01.354.146zM14.445 15.61a.5.5 0 01-.047.706l-3.034 2.655-.38.379 1.136 1.134a1.552 1.552 0 11-2.196 2.196l-1.135-1.135-3.367 3.367a.5.5 0 01-.242.134l-2.419.558a.5.5 0 01-.465-.134l-.557-.556-.001-.002-.56-.555a.5.5 0 01-.134-.468l.56-2.42a.5.5 0 01.134-.24l3.367-3.368-1.135-1.135a1.552 1.552 0 112.196-2.195L7.3 15.666l.379-.38 2.418-2.763a.5.5 0 01.752.659l-2.429 2.776a.553.553 0 01-.023.024l-.39.39 2.27 2.27.39-.39a.435.435 0 01.025-.023l3.046-2.666a.5.5 0 01.706.047zm-8.633 2.958l-3.266 3.266-.465 2.01.364.361.362.362 2.009-.463 3.266-3.266-2.27-2.27zm-.353-3.33a.552.552 0 10-.782.781l5.954 5.954a.552.552 0 10.781-.781L5.46 15.238z"}),n.createElement("path",{d:"M4.895 3.367a.5.5 0 01.353-.146h4.466a.5.5 0 01.376.17l10.408 11.896.379.378 1.135-1.134a1.553 1.553 0 012.195 2.195l-1.135 1.135 3.368 3.367a.5.5 0 01.141.282l.379 2.605a.5.5 0 01-.145.428l-.375.37-.363.368a.5.5 0 01-.427.145l-2.611-.372a.5.5 0 01-.283-.142l-3.368-3.367-1.135 1.135a1.552 1.552 0 11-2.195-2.196l1.135-1.135-.379-.379L4.919 8.563a.5.5 0 01-.17-.377V3.721a.5.5 0 01.146-.354zM17.9 18.642l2.27-2.27-.391-.39a.476.476 0 01-.023-.024L9.486 4.22H5.749v3.738l11.737 10.27a.475.475 0 01.024.023l.391.39zm2.196 2.196l3.249 3.25 2.196.312.195-.198.197-.194-.318-2.19-3.25-3.25-2.27 2.27zm-3.33.353a.552.552 0 10.78.782l5.954-5.954a.552.552 0 10-.781-.781l-5.954 5.953z"})),n.createElement("defs",null,n.createElement("clipPath",{id:"mitreattack-lg_svg__clip0"},n.createElement("path",{fill:"#fff",d:"M0 0h28v28H0z"}))))}));const m=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M21.36 16.774a.5.5 0 01.06.638l-.058.07-7.056 7.102a.5.5 0 01-.64.059l-.07-.059-6.951-6.998a.5.5 0 01.64-.763l.07.058 6.596 6.641 6.701-6.746a.5.5 0 01.708-.002zm-6.914-6.515l.042.083 1.881 4.784 1.864-3.697a.5.5 0 01.844-.079l.049.078L20.17 13.5h4.351a.5.5 0 01.492.41l.008.09a.5.5 0 01-.41.492l-.09.009h-4.658a.5.5 0 01-.397-.196l-.05-.08-.737-1.461-1.92 3.81a.5.5 0 01-.868.044l-.043-.086-1.833-4.66-1.892 4.665a.5.5 0 01-.86.117l-.05-.082-2.022-4.055-1.838 1.837a.5.5 0 01-.275.14L7 14.501H3.523a.5.5 0 01-.09-.992l.09-.008 3.269-.001 2.185-2.18a.5.5 0 01.754.053l.047.077 1.835 3.684 1.946-4.797a.501.501 0 01.834-.15l.053.072zM19.138 3.5c1.662 0 3.256.665 4.43 1.848a6.321 6.321 0 011.504 6.479.5.5 0 01-.948-.32 5.333 5.333 0 00-1.265-5.454A5.244 5.244 0 0019.14 4.5c-1.31 0-2.568.49-3.533 1.371l-.19.182-1.11 1.118a.5.5 0 01-.64.058l-.07-.058-1.11-1.118a5.237 5.237 0 00-7.443 0 5.316 5.316 0 00-1.502 4.414c.044.356.124.707.239 1.046a.5.5 0 01-.948.32 6.339 6.339 0 01-.283-1.242 6.315 6.315 0 011.785-5.243 6.237 6.237 0 018.675-.18l.186.18.756.76.756-.76a6.245 6.245 0 014.139-1.841l.292-.007z",fill:"currentColor",fillRule:"nonzero"}))}));const g=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M22.182 3l.09.011a.5.5 0 01.383.594c-.931 4.327-2.45 7.237-4.589 8.712a.5.5 0 01-.567-.823c.846-.584 1.595-1.446 2.244-2.589l-10.357.001c1.278 2.041 3.136 3.522 5.579 4.453l.37.136c4.871 1.708 7.332 5.412 7.332 11.005a.5.5 0 01-1 0c0-.697-.04-1.36-.12-1.99H7.817c-.124.64-.231 1.324-.32 2.051a.5.5 0 11-.993-.122c.544-4.425 1.742-7.398 3.642-8.909a.5.5 0 11.622.783c-.47.373-.894.862-1.274 1.467l10.282.001c-1.035-1.409-2.496-2.473-4.387-3.201l-.384-.141c-4.845-1.699-7.691-5.345-8.5-10.867a.5.5 0 01.99-.144c.038.26.08.517.128.768h13.871c.064-.261.125-.528.184-.801a.5.5 0 01.417-.39L22.182 3zm-1.775 15.78H8.955c-.36.776-.667 1.686-.92 2.73H21.38a10.013 10.013 0 00-.973-2.73zm.824-13.583L7.844 5.196c.248.982.576 1.885.985 2.71l11.423.001c.365-.797.691-1.7.979-2.71z",fill:"currentColor",fillRule:"nonzero"}))}));const f=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 1.5a.5.5 0 01.5.5v1.083a12.531 12.531 0 0112.031 12.521.5.5 0 01-.82.384l-.867-.723a4.535 4.535 0 00-6.443.651.5.5 0 01-.744.041 5.167 5.167 0 00-3.157-1.491V24.5c0 .423-.197.968-.547 1.406-.363.454-.934.844-1.703.844-.77 0-1.34-.39-1.703-.844-.35-.438-.547-.983-.547-1.406a.5.5 0 011 0c0 .16.095.49.328.781.22.276.524.469.922.469s.702-.193.922-.469c.233-.29.328-.62.328-.781V14.466a5.168 5.168 0 00-3.157 1.492.5.5 0 01-.744-.042 4.533 4.533 0 00-6.443-.65l-.867.722a.5.5 0 01-.82-.384A12.531 12.531 0 0113.5 3.083V2a.5.5 0 01.5-.5zm0 2.573A11.531 11.531 0 002.523 14.492a5.534 5.534 0 017.504.4 6.169 6.169 0 017.946 0 5.534 5.534 0 017.505-.4A11.532 11.532 0 0014 4.073z",fill:"currentColor"}))}));const y=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M25.2 9.573a.5.5 0 01.09.992l-.09.008H2.8a.5.5 0 01-.09-.992l.09-.008h22.4zM25.2 13.645a.5.5 0 01.09.992l-.09.008H2.8a.5.5 0 01-.09-.991l.09-.009h22.4z"}),n.createElement("path",{d:"M23.673 5.5H4.327A2 2 0 002.3 7.527v13.237a2 2 0 002.027 2.027h19.346a2 2 0 002.027-2.027V7.527A2 2 0 0023.673 5.5zm-19.346 1h19.346A1 1 0 0124.7 7.527v13.237a1 1 0 01-1.027 1.027H4.327A1 1 0 013.3 20.764V7.527A1 1 0 014.327 6.5z"}),n.createElement("path",{d:"M11.964 17.718a.5.5 0 01.09.992l-.09.008H6.873a.5.5 0 01-.09-.992l.09-.008h5.09zM21.127 17.718a.5.5 0 01.09.992l-.09.008H19.6a.5.5 0 01-.09-.992l.09-.008h1.527z"})))}));const v=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M7.7 19.8a2.6 2.6 0 100 5.2 2.6 2.6 0 000-5.2zm0 1a1.6 1.6 0 110 3.2 1.6 1.6 0 010-3.2zM21.7 19.8a2.6 2.6 0 100 5.2 2.6 2.6 0 000-5.2zm0 1a1.6 1.6 0 110 3.2 1.6 1.6 0 010-3.2zM23.8 5.8a.5.5 0 01.49.603l-.026.083-2.8 7a.5.5 0 01-.378.307L21 13.8H7a.5.5 0 01-.09-.992L7 12.8h13.661l2.4-6H7a.5.5 0 01-.492-.41L6.5 6.3a.5.5 0 01.41-.492L7 5.8h16.8z"}),n.createElement("path",{d:"M3.846 3.146a.5.5 0 01.638-.057l.07.057 2.8 2.8a.5.5 0 01.14.275L7.5 6.3v7a.5.5 0 01-.038.19l-.046.087L5.134 17H23.8a.5.5 0 01.492.41l.008.09a.5.5 0 01-.41.492L23.8 18H4.2a.5.5 0 01-.457-.705l.041-.072L6.5 13.147v-6.64L3.846 3.854a.5.5 0 01-.057-.638l.057-.07z"})))}));const b=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M14.814 10.244a.5.5 0 01.636-.076l.07.055 9.206 8.677a1.79 1.79 0 01.119 2.401l-.12.132-.911.91a1.788 1.788 0 01-2.408.113l-.134-.122-8.667-9.19a.5.5 0 01.66-.746l.068.06 8.657 9.18a.788.788 0 001.021.08l.096-.081.912-.912a.79.79 0 00.086-1.017l-.075-.09-9.195-8.667a.5.5 0 01-.021-.707z"}),n.createElement("path",{d:"M13.84 2.373c-.475 0-.93.189-1.266.525l-.083.11a18.258 18.258 0 01-7.106 7.106l-.11.083a1.79 1.79 0 000 2.533l3.458 3.458a1.79 1.79 0 002.532 0l.087-.118a17.356 17.356 0 017.095-7.095l.117-.087a1.788 1.788 0 000-2.532l-3.459-3.458a1.788 1.788 0 00-1.265-.525zm0 1c.21 0 .41.083.558.231l3.46 3.46c.148.148.232.349.232.558l-.01.125a.788.788 0 01-.141.339l-.044.051-.315.175a18.356 18.356 0 00-6.891 6.89l-.174.314.043-.035a.79.79 0 01-1.118 0l-3.458-3.459a.79.79 0 01-.232-.559l.01-.124a.79.79 0 01.14-.34l.049-.057.313-.177a19.258 19.258 0 006.88-6.88l.178-.314-.038.033a.788.788 0 01.558-.231zM13.187 21.557H5.796a1.978 1.978 0 00-1.97 1.788l-.008.166v1.502a.5.5 0 00.5.5h10.347a.5.5 0 00.5-.5v-1.478a1.978 1.978 0 00-1.978-1.978zm0 1l.114.006c.487.057.864.47.864.972v.978H4.817v-.978l.007-.119a.974.974 0 01.972-.86h7.391z"}),n.createElement("path",{d:"M16.143 24.513a.5.5 0 01.09.992l-.09.008H2.84a.5.5 0 01-.09-.992l.09-.008h13.304z"})))}));const E=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.854 9.02l-1.264.48c-.181.066-.253.084-.318.088l-.106.002c-.237 0-.355-.04-1.34-.428-.895-.351-1.493-.51-2.165-.496A5.693 5.693 0 005.85 11.58c-1.769 3.07-.914 7.906 1.37 11.206 1.43 2.071 2.367 2.947 3.774 2.893.492-.019.864-.11 1.368-.31l.389-.162c.686-.291 1.071-.395 1.695-.395.517 0 .86.076 1.374.283l.393.167c.668.287 1.11.403 1.742.391 1.437-.026 2.264-.8 3.645-2.82.66-.968 1.176-2.027 1.532-3.143a.5.5 0 00-.28-.612 4.178 4.178 0 01-2.542-3.828 4.29 4.29 0 012.05-3.606.5.5 0 00.147-.714l-.152-.206a5.458 5.458 0 00-3.86-2.09l-.222-.013c-.771-.078-1.483.062-2.419.4zm1.961.58h.106l.519.032a4.467 4.467 0 012.781 1.312l.155.164-.115.09a5.292 5.292 0 00-1.951 4.048l.006.23a5.182 5.182 0 002.535 4.213l.188.105-.132.349c-.3.747-.679 1.46-1.133 2.126l-.3.432c-1.013 1.421-1.64 1.935-2.537 1.951-.406.008-.699-.055-1.134-.229l-.355-.15c-.764-.33-1.25-.462-2.002-.462-.697 0-1.172.107-1.83.37l-.42.174c-.522.222-.824.308-1.241.324-.915.035-1.685-.686-2.913-2.463-2.086-3.014-2.87-7.456-1.322-10.143a4.695 4.695 0 013.965-2.407c.445-.009.885.093 1.525.331l.922.357c.573.217.706.236 1.034.236.249 0 .515-.062.86-.183l.9-.345c.774-.299 1.349-.452 1.889-.462zM18.431 2.322a5.513 5.513 0 00-3.623 1.861A5.186 5.186 0 0013.5 8.008a.5.5 0 00.493.464A4.652 4.652 0 0017.708 6.7a5.423 5.423 0 001.27-3.918.5.5 0 00-.547-.46zm-.444 1.081l-.013.2a4.436 4.436 0 01-1.04 2.463l-.147.176a3.668 3.668 0 01-2.109 1.177l-.185.025.017-.23a4.19 4.19 0 011.047-2.368 4.522 4.522 0 012.247-1.399l.183-.044z"})))}));const C=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M6.767 5.333a2.367 2.367 0 100 4.734 2.367 2.367 0 000-4.734zm0 1a1.367 1.367 0 110 2.734 1.367 1.367 0 010-2.734zM7 11.4a.5.5 0 010 1 3 3 0 00-2.995 2.824L4 15.4V17h.9a.5.5 0 01.48.357l.016.081.645 5.161L8.4 22.6a.5.5 0 01.492.41l.008.09a.5.5 0 01-.41.492l-.09.008H5.6a.5.5 0 01-.48-.357l-.016-.081L4.458 18H3.5a.5.5 0 01-.492-.41L3 17.5v-2.1a4 4 0 014-4zM21.233 5.333a2.367 2.367 0 100 4.734 2.367 2.367 0 000-4.734zm0 1a1.367 1.367 0 110 2.734 1.367 1.367 0 010-2.734zM21 11.4a4 4 0 013.995 3.8l.005.2v2.1a.5.5 0 01-.41.492L24.5 18h-.959l-.645 5.162a.5.5 0 01-.414.431l-.082.007h-2.8a.5.5 0 01-.09-.992l.09-.008 2.358-.001.646-5.161a.5.5 0 01.414-.431L23.1 17h.9v-1.6a3 3 0 00-2.824-2.995L21 12.4a.5.5 0 110-1zM14 3a3.3 3.3 0 100 6.6A3.3 3.3 0 0014 3zm0 1a2.3 2.3 0 110 4.6A2.3 2.3 0 0114 4zM14 10a5.4 5.4 0 00-5.4 5.4v2.1l.008.09A.5.5 0 009.1 18h1.647l.655 6.55a.5.5 0 00.498.45h4.2l.084-.007a.5.5 0 00.414-.443l.654-6.55H18.9a.5.5 0 00.5-.5v-2.1A5.4 5.4 0 0014 10zm.213 1.005A4.4 4.4 0 0118.4 15.4l-.001 1.6H16.8l-.084.007a.5.5 0 00-.414.443L15.647 24h-3.295l-.654-6.55-.016-.083A.5.5 0 0011.2 17H9.6v-1.6A4.4 4.4 0 0114 11l.213.005z"})))}));const w=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.99 15.353a.5.5 0 01.09.992l-.09.008-4.441-.001v7.647h3.941v-3.323h-1.342a.5.5 0 01-.491-.41l-.009-.09a.5.5 0 01.41-.491l.09-.009h1.843a.5.5 0 01.492.41l.008.09V24.5a.5.5 0 01-.41.492l-.09.008H11.05a.5.5 0 01-.492-.41l-.008-.09v-8.647a.5.5 0 01.41-.492l.09-.008h4.94zM7.352 15.353a.5.5 0 01.09.992l-.09.008-3.229-.001v3.249h2.119a2.7 2.7 0 012.694 2.529l.005.17a2.7 2.7 0 01-2.528 2.695L6.242 25H3.5a.5.5 0 01-.09-.992L3.5 24h2.742a1.7 1.7 0 00.147-3.392l-.147-.007H3.624a.5.5 0 01-.492-.41l-.008-.09v-4.248a.5.5 0 01.41-.492l.09-.008h3.728zM14.687 3c5.734 0 10.382 4.648 10.382 10.382a.5.5 0 01-1 0C24.07 8.201 19.87 4 14.687 4a.5.5 0 010-1zM14.687 7.941a5.441 5.441 0 015.441 5.441.5.5 0 11-1 0 4.441 4.441 0 00-4.441-4.44.5.5 0 010-1z"})))}));const k=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M4 11.5c6.904 0 12.5 5.596 12.5 12.5a.5.5 0 11-1 0c0-6.351-5.149-11.5-11.5-11.5a.5.5 0 010-1z"}),n.createElement("path",{d:"M4 3.5c11.322 0 20.5 9.178 20.5 20.5a.5.5 0 11-1 0C23.5 13.23 14.77 4.5 4 4.5a.5.5 0 110-1zM6 19.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5zm0 1a1.5 1.5 0 110 3 1.5 1.5 0 010-3z"})))}));var _=s(91074),M=s(55852),S=s(37774),T=s(94190),I=s(5357),N=s(99442),P=s(75320),L=s(75203);const x={default:[{id:N.Pr.topic,icon:r,label:"Topic"},{id:N.Pr.org,bucketType:P.Zx.industryIntelligence,icon:a,label:"Company",publications:P._P},{id:N.Pr.businessEvent,bucketType:P.Zx.industryIntelligence,icon:o,label:"Business Event",publications:P._P},{id:N.Pr.industryTopic,bucketType:P.Zx.industryIntelligence,icon:l,label:"Industry",publications:P._P},{id:N.Pr.person,bucketType:P.Zx.industryIntelligence,icon:_.Z,label:"Person",publications:P._P}],cybersecurity:[{id:N.Pr.criticalVulnerability,bucketType:P.Zx.cybersecurity,icon:c,label:"Critical Vulnerability",publications:[...P.W9,P.Dc["cybersecurity:vulnerabilities"]]},{id:N.Pr.cyberEvent,bucketType:P.Zx.cybersecurity,icon:d,label:"Cyber Attack",publications:P.W9},{id:N.Pr.threatActor,bucketType:P.Zx.cybersecurity,icon:h,label:"Threat Actor",publications:P.W9},{id:N.Pr.malwareFamily,bucketType:P.Zx.cybersecurity,icon:u,label:"Malware",publications:P.W9},{id:N.Pr.mitreAttack,bucketType:P.Zx.cybersecurity,icon:p,label:"Mitre ATT&CK",publications:P.W9,salience:N.mb.mention}],biopharma:[{id:N.Pr.disease,bucketType:P.Zx.biopharma,icon:m,label:"Disease",publications:P.TE},{id:N.Pr.gene,bucketType:P.Zx.biopharma,icon:g,label:"Gene",publications:P.TE}]},D=[{label:"Funding Events in the Insurance Industry",icon:f,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/topic/4020",label:"insurance industry",type:"industryTopic"}],type:N.ur.matches}],beyondMainSearchLayer:{parts:[{id:"nlp/f/businessEvent/funding",label:"Funding events",type:"businessEvent"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}},{label:"Alibaba Payment Innovations",icon:y,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[],beyondMainSearchLayer:{parts:[{id:"nlp/f/entity/wd:21979415",label:"Ant Group",type:"org"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}},{label:"The Amazon Walmart Battle",icon:v,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/entity/gz:org:walmart",label:"Walmart",type:"org"}],salience:N.mb.about,type:N.ur.matches}],beyondMainSearchLayer:{parts:[{id:"nlp/f/entity/gz:org:amazon",label:"Amazon",type:"org"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}},{label:"Antitrust in the Tech Industry",icon:b,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/entity/wd:312",label:"Apple Inc.",type:"org"},{id:"nlp/f/entity/wd:95",label:"Google",type:"org"},{id:"nlp/f/entity/gz:org:amazon",label:"Amazon",type:"org"},{id:"nlp/f/entity/wd:380",label:"Facebook, Inc.",type:"org"},{id:"nlp/f/entity/wd:1359568",label:"Alibaba Group",type:"org"},{id:"nlp/f/entity/wd:283233",label:"WeChat",type:"consumerGood"},{id:"nlp/f/entity/wd:780442",label:"Uber",type:"org"},{id:"nlp/f/entity/wd:907311",label:"Netflix",type:"org"}],salience:N.mb.mention,type:N.ur.matches}],beyondMainSearchLayer:{parts:[{id:"nlp/f/entity/wd:326498",label:"Competition law",type:"other"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}},{label:"Tim Cook",icon:E,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[],beyondMainSearchLayer:{parts:[{id:"nlp/f/entity/wd:265852",label:"Tim Cook",type:"person"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}},{label:"Diversity & Bias",icon:C,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/entity/wd:742736",label:"Bias",type:"other"}],salience:N.mb.about,type:N.ur.matches}],beyondMainSearchLayer:{parts:[{id:"nlp/f/topic/100292",label:"diversity",type:"topic"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}},{package:"Biopharma",label:"Cell Therapy Treatments",icon:g,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:[P.Dc["byf:research"],"discovery:pharma"],beyondLayers:[{parts:[{id:"nlp/f/entity/gz:MeSH:D001943",label:"Breast Neoplasms",type:"disease"}],salience:N.mb.mention,type:N.ur.matches}],beyondMainSearchLayer:{parts:[{id:"nlp/f/entity/wd:15268054",label:"Cell therapy",type:"other"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O},leoBiopharmaSearchOptions:{beyondBucketType:P.Zx.biopharma,beyondDefaultPublications:P.TE,beyondLayers:[{parts:[{id:"nlp/f/entity/gz:MeSH:D001943",label:"Breast Neoplasms",type:"disease"}],salience:N.mb.mention,type:N.ur.matches}],beyondMainSearchLayer:{parts:[{id:"nlp/f/entity/wd:15268054",label:"Cell therapy",type:"other"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}},{label:"Digital Twin Technology",icon:w,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[],beyondMainSearchLayer:{parts:[{id:"nlp/f/entity/wd:25099680",label:"Digital twin",type:"other"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}},{label:"Electric Vehicles",icon:M.Z,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[],beyondMainSearchLayer:{parts:[{id:"nlp/f/entity/wd:13629441",label:"Electric vehicle",type:"other"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}},{package:"LeoSecurity",label:"Zero Trust in Cybersecurity",icon:S.Z,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:[...P._P,"discovery:security"],beyondLayers:[],beyondMainSearchLayer:{parts:[{text:"zero trust",type:"customKeyword"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O},leoSecuritySearchOptions:{beyondBucketType:P.Zx.cybersecurity,beyondDefaultPublications:P.W9,beyondLayers:[],beyondMainSearchLayer:{parts:[{text:"zero trust",type:"customKeyword"}],salience:N.mb.about,type:N.ur.matches},beyondTierLevel:L._O}}],O=[{label:"General News",icon:k,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[],beyondTierLevel:L._O}},{label:"Product Launches",icon:o,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/businessEvent/productLaunch",label:"Product launches",type:"businessEvent"}],salience:N.mb.about,type:N.ur.matches}],beyondTierLevel:L._O}},{label:"Leadership Changes",icon:o,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/businessEvent/leadershipChange",label:"Leadership changes",type:"businessEvent"}],salience:N.mb.about,type:N.ur.matches}],beyondTierLevel:L._O}},{label:"Funding Events",icon:o,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/businessEvent/funding",label:"Funding events",type:"businessEvent"}],salience:N.mb.about,type:N.ur.matches}],beyondTierLevel:L._O}},{label:"Partnerships",icon:o,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/businessEvent/partnership",label:"Partnerships",type:"businessEvent"}],salience:N.mb.about,type:N.ur.matches}],beyondTierLevel:L._O}},{label:"News Within a Specific Industry",icon:l,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[],searchHint:N.TP.industryTopic,type:N.ur.matches}],beyondTierLevel:L._O,openAddPartPopover:!0}},{label:"News About a Specific Technology or Topic",icon:r,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[],type:N.ur.matches}],beyondTierLevel:L._O,openAddPartPopover:!0}},{label:"Relationship with Another Company",icon:a,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[],searchHint:N.TP.org,type:N.ur.matches}],beyondTierLevel:L._O,openAddPartPopover:!0}},{label:"Earnings Calls",icon:T.Z,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/entity/wd:5326943",label:"Earnings call"}],salience:N.mb.about,type:N.ur.matches}],beyondTierLevel:L._O}},{label:"Cyber Attacks",icon:d,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[{parts:[{id:"nlp/f/topic/4009",label:"cyber attacks",type:"cyberEvent"}],salience:N.mb.about,type:N.ur.matches}],beyondTierLevel:L._O}},{label:"Something else",icon:I.Z,searchOptions:{beyondBucketType:P.Zx.industryIntelligence,beyondDefaultPublications:P._P,beyondLayers:[],beyondTierLevel:L._O}}]},51381:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M10.004 3.633v12.75M3.648 10.02h12.718"})))}))},5375:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.005 3.133a.5.5 0 01.492.41l.008.09v12.75a.5.5 0 01-.992.09l-.008-.09V3.633a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M16.366 9.52a.5.5 0 01.09.991l-.09.008H3.648a.5.5 0 01-.09-.992l.09-.008h12.718z"})))}))},66352:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.256 2.669a.75.75 0 011.288-.098l.058.098 2.739 5.57 6.125.9a.75.75 0 01.487 1.198l-.072.08-2.468 2.413a.75.75 0 01-1.123-.99l.074-.082 1.385-1.356-5.016-.736a.75.75 0 01-.511-.32l-.053-.09-2.241-4.557-2.24 4.556a.75.75 0 01-.462.389l-.102.022-5.017.736 3.632 3.55a.75.75 0 01.225.56l-.01.103-.858 5.011 4.482-2.365a.75.75 0 01.96.226l.054.087a.75.75 0 01-.227.96l-.086.054-5.827 3.075a.75.75 0 01-1.1-.689l.01-.1L6.41 14.75l-4.433-4.335a.75.75 0 01.31-1.255l.105-.023 6.125-.899 2.74-5.57z"}),n.createElement("path",{d:"M17 13.25a.75.75 0 01.743.648l.007.102v6a.75.75 0 01-1.493.102L16.25 20v-6a.75.75 0 01.75-.75z"}),n.createElement("path",{d:"M20 16.25a.75.75 0 01.102 1.493L20 17.75h-6a.75.75 0 01-.102-1.493L14 16.25h6z"})))}))},21174:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.48 2.78a.5.5 0 01.85-.08l.047.08 2.797 5.687 6.256.918a.5.5 0 01.333.788l-.056.065-2.47 2.413a.5.5 0 01-.757-.646l.059-.069 1.746-1.709-5.516-.808a.5.5 0 01-.324-.191l-.052-.083-2.465-5.012-2.464 5.012a.5.5 0 01-.282.25l-.094.024-5.517.808 3.993 3.904a.5.5 0 01.15.345l-.007.097-.942 5.511 4.93-2.602a.5.5 0 01.627.133l.049.076a.5.5 0 01-.133.626l-.076.05-5.827 3.075a.5.5 0 01-.734-.446l.008-.08 1.068-6.253-4.527-4.425a.5.5 0 01.194-.833l.083-.02 6.255-.918 2.798-5.688z"}),n.createElement("path",{d:"M17 13.5a.5.5 0 01.492.41l.008.09v6a.5.5 0 01-.992.09L16.5 20v-6a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M20 16.5a.5.5 0 01.09.992L20 17.5h-6a.5.5 0 01-.09-.992L14 16.5h6z"})))}))},73789:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.492 2.28a.5.5 0 01.849-.08l.048.08 2.312 4.7 5.17.759a.5.5 0 01.333.787l-.057.065-2.057 2.011a.5.5 0 01-.758-.646l.059-.069 1.335-1.306-4.43-.65a.5.5 0 01-.325-.19l-.051-.083-1.98-4.025-1.979 4.025a.5.5 0 01-.281.25l-.095.024-4.431.649 3.207 3.136a.5.5 0 01.15.344l-.006.097-.757 4.426 3.96-2.09a.5.5 0 01.626.134l.049.076a.5.5 0 01-.133.626l-.076.05-4.856 2.562a.5.5 0 01-.734-.446l.008-.08.883-5.168-3.741-3.657a.5.5 0 01.193-.833l.084-.02 5.168-.758 2.313-4.7z"}),n.createElement("path",{d:"M14.167 11.167a.5.5 0 01.492.41l.008.09v5a.5.5 0 01-.992.09l-.008-.09v-5a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M16.667 13.667a.5.5 0 01.09.992l-.09.008h-5a.5.5 0 01-.09-.992l.09-.008h5z"})))}))},15238:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15 2.357H5a1.929 1.929 0 00-1.929 1.929l-.71 6.373-.004 5.055c0 1.065.864 1.929 1.929 1.929h11.428a1.929 1.929 0 001.929-1.929v-5l-.717-6.484c.003-1.01-.86-1.873-1.926-1.873zm-10 1h10c.513 0 .929.416.929.929l.717 6.484-.003 4.944a.929.929 0 01-.929.929H4.286a.929.929 0 01-.929-.929v-5l.711-6.373c.003-.568.42-.984.932-.984z"}),n.createElement("path",{d:"M7.143 10.214a.5.5 0 01.473.34c.42 1.23 1.184 1.803 2.384 1.803s1.965-.574 2.384-1.804a.5.5 0 01.383-.33l.09-.009h4.286a.5.5 0 01.09.992l-.09.008H13.2l-.027.068c-.57 1.298-1.577 2.006-2.962 2.07l-.211.005c-1.494 0-2.574-.712-3.173-2.075l-.028-.068H2.857a.5.5 0 01-.492-.41l-.008-.09a.5.5 0 01.41-.492l.09-.008h4.286z"})))}))},10920:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.146 6.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L9.5 7.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z",fill:"currentColor"}))}))},14978:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M5.36 7.504A.5.5 0 016 7.446l.069.058 3.931 3.932 3.933-3.932a.5.5 0 01.638-.058l.07.058a.5.5 0 01.057.637l-.058.07-4.285 4.285a.5.5 0 01-.638.058l-.07-.058-4.285-4.285a.5.5 0 010-.707z",fill:"currentColor",fillRule:"nonzero"}))}))},39194:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M13.218 3.218a.5.5 0 01.765.638l-.058.069L7.849 10l6.073 6.074a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.638.057l-.07-.058-6.425-6.427a.5.5 0 01-.058-.638l.058-.069 6.429-6.43z",fill:"currentColor",fillRule:"nonzero"}))}))},1816:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M6.432 3.218a.5.5 0 01.638-.058l.07.058 6.428 6.428a.5.5 0 01.058.638l-.058.07-6.429 6.428a.5.5 0 01-.765-.638l.058-.069 6.075-6.076-6.075-6.074a.5.5 0 01-.058-.638l.058-.07z",fill:"currentColor",fillRule:"nonzero"}))}))},65608:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M8.587 7.668l-6.124.899-.105.022a.75.75 0 00-.31 1.256L6.48 14.18l-1.046 6.122-.01.101a.75.75 0 001.1.689l5.475-2.891 5.478 2.89.092.042a.75.75 0 00.997-.83l-1.047-6.124 4.434-4.334.071-.08a.75.75 0 00-.487-1.198l-6.125-.9-2.739-5.57a.75.75 0 00-1.346 0l-2.74 5.57zM12 4.128l2.241 4.556.053.09a.75.75 0 00.512.32l5.015.737-3.63 3.55-.07.078a.75.75 0 00-.145.585l.856 5.01-4.48-2.364-.097-.043a.75.75 0 00-.604.043l-4.483 2.365.858-5.011.01-.104a.75.75 0 00-.225-.559l-3.632-3.55 5.017-.736a.75.75 0 00.565-.411L12 4.128z",fill:"currentColor",fillRule:"nonzero"}))}))},11245:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M7.239 6.337l-5.169.759-.084.02a.5.5 0 00-.193.832l3.74 3.656-.882 5.169-.007.08a.5.5 0 00.734.446L10 14.86l4.622 2.44.074.032a.5.5 0 00.653-.558l-.884-5.168 3.742-3.657.056-.065a.5.5 0 00-.333-.787l-5.17-.759-2.311-4.7a.5.5 0 00-.898 0l-2.312 4.7zm2.76-3.348l1.98 4.026.052.083a.5.5 0 00.324.19l4.43.65-3.206 3.136-.063.074a.5.5 0 00-.08.367l.756 4.426-3.959-2.09-.09-.036a.5.5 0 00-.376.037l-3.96 2.09.757-4.427.007-.097a.5.5 0 00-.15-.344L3.214 7.938l4.43-.65a.5.5 0 00.377-.273L10 2.989z",fill:"currentColor",fillRule:"nonzero"}))}))},56157:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.142 2.017L3.426 4.874A1.928 1.928 0 002.357 6.6v6.8a1.927 1.927 0 001.06 1.732l5.717 2.858a1.928 1.928 0 001.725 0l5.715-2.857a1.928 1.928 0 001.069-1.726V6.6c0-.732-.415-1.4-1.07-1.726l-5.715-2.857a1.929 1.929 0 00-1.716 0zm1.157.848l.113.046 5.714 2.858c.317.157.517.479.517.831v6.807c0 .352-.2.674-.515.83l-5.716 2.859a.929.929 0 01-.831 0l-5.715-2.857a.928.928 0 01-.509-.836V6.6c0-.352.2-.674.516-.83L9.588 2.91a.928.928 0 01.711-.046z"}),n.createElement("path",{d:"M16.69 5.381a.5.5 0 01.525.847l-.077.048-6.914 3.457a.5.5 0 01-.36.034l-.088-.034-6.914-3.457a.5.5 0 01.363-.928l.084.033L10 8.726l6.69-3.345z"}),n.createElement("path",{d:"M10 8.786a.5.5 0 01.492.41l.008.09v8.4a.5.5 0 01-.992.09l-.008-.09v-8.4a.5.5 0 01.5-.5z"})))}))},9722:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.82 3.832L4.068 7.268a.5.5 0 00-.002.913l7.754 3.475a.5.5 0 00.409 0l7.716-3.455a.5.5 0 000-.913l-7.716-3.455a.5.5 0 00-.407-.001zm.203 1.004l6.494 2.908-6.494 2.908-6.525-2.925 6.525-2.891zM3.83 16.088a.5.5 0 01.575-.28l.085.029 7.55 3.383 7.511-3.364a.5.5 0 01.617.174l.044.078a.5.5 0 01-.173.617l-.079.044-7.717 3.455a.5.5 0 01-.328.028l-.08-.028L4.08 16.75a.5.5 0 01-.252-.66z"}),n.createElement("path",{d:"M3.83 11.803a.5.5 0 01.575-.282l.085.03 7.55 3.383 7.511-3.363a.5.5 0 01.617.173l.044.079a.5.5 0 01-.173.616l-.079.044-7.717 3.456a.5.5 0 01-.328.028l-.08-.028-7.754-3.476a.5.5 0 01-.252-.66z"})))}))},44323:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.817 3.117L3.356 5.98a.5.5 0 00-.002.914l6.46 2.896a.5.5 0 00.41 0l6.43-2.88a.5.5 0 000-.913l-6.43-2.88a.5.5 0 00-.407 0zm.2 1.004l5.21 2.332-5.208 2.331L4.785 6.44l5.231-2.318zM3.115 13.373a.5.5 0 01.576-.281l.085.03 6.256 2.803 6.227-2.787a.5.5 0 01.616.173l.045.078a.5.5 0 01-.174.617l-.078.044-6.431 2.88a.5.5 0 01-.329.028l-.08-.028-6.461-2.896a.5.5 0 01-.252-.661z"}),n.createElement("path",{d:"M3.115 9.801a.5.5 0 01.576-.28l.085.029 6.256 2.804 6.227-2.788a.5.5 0 01.616.173l.045.08a.5.5 0 01-.174.616l-.078.044-6.431 2.88a.5.5 0 01-.329.027l-.08-.028-6.461-2.896a.5.5 0 01-.252-.66z"})))}))},49031:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 4.607C7.065 4.607 4.964 6.82 4.964 10c0 3.237 2.148 5.75 5.036 5.75 2.887 0 5.036-2.513 5.036-5.75 0-3.181-2.1-5.393-5.036-5.393zm0 1.5c2.089 0 3.536 1.523 3.536 3.893 0 2.456-1.534 4.25-3.536 4.25S6.464 12.456 6.464 10c0-2.37 1.447-3.893 3.536-3.893z"}),n.createElement("path",{d:"M13.691 13.268l.082.075 1.21 1.286a.75.75 0 01.155.248l.029.094.403 1.714a.75.75 0 01-1.43.441l-.03-.097-.358-1.519-1.071-1.139a.75.75 0 01-.043-.978l.075-.082a.75.75 0 01.978-.043zm-6.404.043a.75.75 0 01.102.974l-.07.086-1.073 1.14-.356 1.518a.75.75 0 01-.802.575l-.1-.017a.75.75 0 01-.575-.801l.017-.1.403-1.715a.75.75 0 01.121-.266l.063-.076 1.21-1.286a.75.75 0 011.06-.032zm8.763-2.775a.75.75 0 01.626.336l.053.094.807 1.715a.75.75 0 01-1.308.728l-.05-.09-.604-1.284h-1.137a.75.75 0 01-.743-.648l-.007-.101a.75.75 0 01.648-.743l.102-.007h1.613zm-10.487 0a.75.75 0 01.102 1.493l-.102.007H4.424l-.603 1.283a.75.75 0 01-.903.397l-.095-.037a.75.75 0 01-.396-.903l.037-.095.807-1.715a.75.75 0 01.571-.423l.108-.007h1.613zm11.062-6.409a.75.75 0 01.575.801l-.016.1-.807 3.43a.75.75 0 01-.38.491l-.1.044-1.21.428a.75.75 0 01-.594-1.373l.094-.04.823-.293.714-3.03a.75.75 0 01.901-.558zm-12.379.46l.03.098.712 3.03.825.292a.75.75 0 01.484.86l-.027.098a.75.75 0 01-.86.484l-.097-.028-1.21-.428a.75.75 0 01-.448-.432l-.032-.103-.807-3.43a.75.75 0 011.43-.44zM8.24 3.073l.043.092.806 2.143a.75.75 0 01-1.361.622l-.042-.093-.807-2.143a.75.75 0 011.302-.714l.06.093zm4.445-.345a.75.75 0 01.467.868l-.029.098-.807 2.143a.75.75 0 01-1.433-.431l.03-.098.806-2.143a.75.75 0 01.966-.437z"})))}))},71263:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 4.857c-2.794 0-4.786 2.097-4.786 5.143 0 3.107 2.046 5.5 4.786 5.5 2.74 0 4.786-2.393 4.786-5.5 0-3.046-1.992-5.143-4.786-5.143zm0 1c2.23 0 3.786 1.638 3.786 4.143 0 2.587-1.636 4.5-3.786 4.5-2.15 0-3.786-1.913-3.786-4.5 0-2.505 1.556-4.143 3.786-4.143z"}),n.createElement("path",{d:"M13.523 13.455l.068.06L14.8 14.8a.5.5 0 01.095.145l.028.083.403 1.715a.5.5 0 01-.945.314l-.028-.085-.373-1.584-1.118-1.188a.5.5 0 01-.039-.64l.06-.067a.5.5 0 01.565-.084l.074.046zm-6.407.038a.5.5 0 01.077.636l-.056.07-1.118 1.188-.373 1.585a.5.5 0 01-.512.385l-.089-.013a.5.5 0 01-.385-.512l.013-.09.403-1.714a.5.5 0 01.069-.16l.054-.068 1.21-1.286a.5.5 0 01.707-.021zm8.934-2.707a.5.5 0 01.412.216l.04.07.807 1.715a.5.5 0 01-.859.504l-.045-.078-.673-1.428h-1.295a.5.5 0 01-.492-.41l-.008-.09a.5.5 0 01.41-.491l.09-.008h1.613zm-10.487 0a.5.5 0 01.09.992l-.09.008H4.266l-.67 1.427a.5.5 0 01-.581.27l-.085-.03a.5.5 0 01-.27-.581l.03-.085.807-1.714a.5.5 0 01.37-.28l.083-.007h1.613zm10.916-6.428l.09.012a.5.5 0 01.384.512l-.013.09-.806 3.428a.5.5 0 01-.243.322l-.077.035-1.21.429a.5.5 0 01-.416-.905l.082-.038.953-.338.744-3.162a.5.5 0 01.512-.385zm-12.475.299l.029.086.743 3.162.954.338a.5.5 0 01.327.55l-.023.088a.5.5 0 01-.55.327l-.088-.022-1.21-.429a.5.5 0 01-.294-.277l-.026-.08-.807-3.428a.5.5 0 01.945-.315zm4.004-1.486l.04.081.806 2.143a.5.5 0 01-.896.434l-.04-.081-.806-2.143a.5.5 0 01.845-.505l.051.071zm4.588-.21a.5.5 0 01.316.557l-.024.087-.807 2.143a.5.5 0 01-.96-.266l.024-.087.807-2.143a.5.5 0 01.644-.291z"})))}))},94190:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:29,height:28,viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.167 3a.5.5 0 01.5.5v18.667c0 1.012.82 1.833 1.833 1.833h18.667a.5.5 0 010 1H6.5a2.833 2.833 0 01-2.833-2.833V3.5a.5.5 0 01.5-.5zm21.354 7.146a.5.5 0 010 .708l-5.834 5.833a.5.5 0 01-.707 0l-4.313-4.313-5.48 5.48a.5.5 0 01-.707-.708l5.833-5.833a.5.5 0 01.707 0l4.314 4.313 5.48-5.48a.5.5 0 01.706 0z",fill:"currentColor"}))}))},39895:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M20.036 5.474a.75.75 0 011.142.967l-.071.085-11.786 12a.75.75 0 01-.986.074l-.084-.074-5.358-5.455a.75.75 0 01.987-1.124l.084.073 4.822 4.909 11.25-11.455z",fill:"currentColor",fillRule:"nonzero"}))}))},56813:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M17.143 5L7.32 15l-4.464-4.545",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,fill:"none",fillRule:"evenodd"}))}))},4425:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16.786 4.65a.5.5 0 01.77.63l-.056.07-9.822 10a.5.5 0 01-.644.06l-.07-.06L2.5 10.805a.5.5 0 01.645-.76l.069.06 4.107 4.181 9.465-9.636z",fill:"currentColor",fillRule:"nonzero"}))}))},19577:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M4.79 4.79a.5.5 0 01.637-.059l.07.058L19.21 18.504a.5.5 0 01-.638.765l-.07-.058L4.79 5.496a.5.5 0 010-.707z"}),n.createElement("path",{d:"M18.504 4.79a.5.5 0 01.765.637l-.058.07L5.496 19.21a.5.5 0 01-.765-.638l.058-.07L18.504 4.79z"})))}))},763:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M3.932 3.932a.5.5 0 01.638-.058l.07.058 11.428 11.429a.5.5 0 01-.638.765l-.07-.058L3.933 4.639a.5.5 0 010-.707z"}),n.createElement("path",{d:"M15.36 3.932a.5.5 0 01.766.638l-.058.07L4.639 16.067a.5.5 0 01-.765-.638l.058-.07L15.361 3.933z"})))}))},38676:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M19.477 4.758l.61.611a2 2 0 01.001 2.829L9.367 18.921a2 2 0 01-1.129.566l-3.346.482h0l.483-3.345a2 2 0 01.563-1.127L16.647 4.76a2 2 0 012.83-.002z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,fill:"none",fillRule:"evenodd"}))}))},83442:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16.819 3.845a2.5 2.5 0 00-3.536.004l-8.61 8.633a2.5 2.5 0 00-.704 1.408l-.387 2.679a.5.5 0 00.566.566l2.679-.386a2.5 2.5 0 001.411-.707l8.62-8.622a2.5 2.5 0 00.113-3.416l-.152-.159zm-.707.708l.039.038a1.5 1.5 0 010 2.122l-8.62 8.622-.12.108a1.5 1.5 0 01-.727.316l-2.017.29.291-2.016a1.5 1.5 0 01.423-.845l8.61-8.633a1.5 1.5 0 012.121-.002z",fill:"currentColor",fillRule:"nonzero"}))}))},907:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M11.33 2c.871 0 1.477.32 1.968.893l.413.532.028.032.014.003c.28.067 1.04.18 2.252.332l.547.067c2.151.348 3.373 1.489 3.53 3.358l.15 1.9c.23 3.078.339 5.655.22 6.702-.36 3.172-2.135 6.181-5.294 6.181-1.79 0-2.909-.79-3.296-2.08-.286-.957-.106-2.153.34-2.707.693-.864 1.411-1.25 2.426-1.165l.246.03.08.019.042.013c.102.033.203.081.3.149.283.198.457.516.457.924 0 .468-.222.816-.573 1.04-.077.05-.155.09-.24.127l-.134.055c-.03.012-.14.05-.161.06a1.01 1.01 0 00-.15.068c-.165.097-.195.173-.068.45.163.358.506.427 1.222.143.534-.267.822-.698.89-1.35.081-.772-.649-1.543-1.498-1.805l-1.057-.283c-.127-.035-.24-.068-.32-.093a5.586 5.586 0 01-1.053-.437l-.168-.101-.12-.084-.032.078-.128.246c-.539.955-1.41 1.546-2.633 1.546-3.031 0-5.947-2.424-5.94-5.648l-.033-.237a6.97 6.97 0 01-.016-1.66 4 4 0 01.164-.769c.308-.94 1.363-2.232 2.835-3.76a7.13 7.13 0 01.682-.607c.166-.132.346-.268.54-.408.224-.164.46-.327.698-.487l.599-.39.105-.067.018-.037c.265-.475.856-.707 1.727-.76l.206-.01L11.33 2zm0 1c-.848 0-1.244.146-1.288.294a.5.5 0 01-.145.23l-.092.065-.323.204-.118.076c-.347.225-.693.46-1.015.694l-.345.258-.159.123c-.242.193-.44.368-.585.518C5.914 6.86 4.896 8.11 4.655 8.841a3.018 3.018 0 00-.121.576c-.051.422-.042.883.005 1.323l.044.37c0 2.712 2.432 4.733 4.947 4.733.833 0 1.39-.377 1.762-1.038.137-.242.238-.505.307-.769l.032-.133.055-.297c.141-.491.883-.45.97.053l.008.1c0 .299.436.608 1.301.882l.333.096c.406.112.964.256 1.038.278 1.255.388 2.338 1.53 2.198 2.866-.103.985-.592 1.718-1.477 2.157-1.193.476-2.116.29-2.54-.64-.352-.772-.112-1.385.475-1.728l.091-.048c.09-.043.205-.091.287-.124l.132-.05.13-.056.008-.01c.083-.053.113-.1.113-.2 0-.072-.01-.089-.031-.104l-.017-.01-.019-.008-.145-.016c-.65-.054-1.063.176-1.56.795-.228.284-.357 1.138-.16 1.793.256.858.978 1.368 2.337 1.368 2.476 0 3.99-2.569 4.3-5.294.132-1.159-.054-4.613-.372-8.405-.116-1.38-.97-2.176-2.674-2.452l-1.519-.194c-.77-.105-1.252-.186-1.467-.247a.9.9 0 01-.394-.243c-.109-.11-.436-.553-.494-.621C12.226 3.179 11.887 3 11.33 3zm5.46 6.988c.823 0 1.554.491 1.554 1.23 0 .336-.164.64-.437.862a1.014 1.014 0 01-.957.157l-.118-.05a.903.903 0 00-.171-.053l-.144-.013-.438-.007c-.375-.033-.71-.267-.808-.626a1.02 1.02 0 01-.036-.27c0-.739.73-1.23 1.554-1.23zm0 1a.903.903 0 00-.435.1l-.044.028h.044c.092.001.178.004.255.008l.109.009c.112.01.23.037.35.076l.151.057.064.03-.006.007c.05-.041.066-.07.066-.086 0-.082-.219-.229-.555-.229z",fill:"currentColor",fillRule:"nonzero"}))}))},80716:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M9.414 1.5c.777 0 1.322.277 1.763.773l.371.458.142.028c.284.052.808.126 1.56.218l.74.09c1.908.296 3.003 1.28 3.144 2.897l.115 1.38c.212 2.697.316 4.968.208 5.883-.32 2.705-1.893 5.273-4.694 5.273-1.59 0-2.593-.682-2.942-1.803-.26-.835-.096-1.874.313-2.364.528-.633 1.075-.969 1.786-1.01l.18-.003.182.008-.59-.154-.25-.07a5.41 5.41 0 01-.843-.324l-.172-.094-.121-.075-.113.211c-.42.715-1.062 1.194-1.935 1.309l-.206.02-.213.007c-2.682 0-5.266-2.068-5.258-4.82l-.03-.204a5.741 5.741 0 01-.014-1.422c.03-.237.078-.46.147-.665.276-.809 1.2-1.9 2.5-3.198.16-.16.362-.332.604-.517.145-.111.304-.227.474-.345.197-.138.404-.276.613-.411l.423-.267.177-.109.013-.025c.245-.415.766-.614 1.526-.663l.195-.009.205-.003zm0 1c-.717 0-1.044.116-1.069.196a.5.5 0 01-.15.23l-.102.07-.373.228c-.303.189-.605.386-.886.582l-.3.216-.138.104c-.21.16-.38.306-.505.43-1.167 1.166-2.056 2.215-2.26 2.814-.046.136-.08.293-.102.466-.044.347-.036.73.004 1.093l.04.322c0 2.231 2.094 3.907 4.266 3.907.71 0 1.177-.306 1.492-.842.115-.196.2-.411.259-.626l.027-.108.028-.149c.073-.635.998-.582.998.048 0 .197.362.445 1.09.666l.197.056c.356.096.93.238 1.002.26 1.126.334 2.1 1.323 1.972 2.5-.093.859-.538 1.5-1.337 1.882-1.067.41-1.903.247-2.293-.576-.33-.696-.1-1.26.444-1.567l.091-.044c.089-.041.201-.086.272-.113l.018-.003c.212-.086.182-.073.177-.074l.008-.008c.04-.024.055-.038.06-.065l.004-.05.002-.001-.013-.006-.137-.013c-.437-.03-.743.085-1.065.395l-.121.125-.113.129c-.18.216-.288.902-.125 1.426.214.688.821 1.1 1.987 1.1 2.13 0 3.434-2.129 3.701-4.39.114-.966-.048-3.874-.326-7.059-.098-1.119-.818-1.766-2.283-1.994l-1.202-.147c-.75-.097-1.216-.17-1.417-.226a.851.851 0 01-.37-.22c-.1-.096-.389-.473-.437-.527-.26-.294-.543-.437-1.015-.437zm3.51 11.025l.084.065c.21.182.338.447.338.774 0 .429-.21.746-.537.948-.07.043-.141.078-.218.11l-.262.1a2.379 2.379 0 00-.092.038l-.029.014c-.113.064-.12.08-.03.267.123.261.395.314.993.086.447-.215.683-.553.74-1.073.051-.479-.33-.973-.851-1.26l-.136-.069zm1.267-5.298c.75 0 1.422.435 1.422 1.114 0 .313-.156.594-.412.794a.963.963 0 01-.872.145l-.132-.052-.05-.018a.54.54 0 00-.105-.023l-.147-.008-.33-.005c-.35-.029-.665-.241-.762-.58a.922.922 0 01-.035-.253c0-.679.673-1.114 1.423-1.114z",fill:"currentColor",fillRule:"nonzero"}))}))},13931:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M18.571 2.929H5.43a2.5 2.5 0 00-2.5 2.5V18.57a2.5 2.5 0 002.5 2.5H18.57a2.5 2.5 0 002.5-2.5V5.43a2.5 2.5 0 00-2.5-2.5zm-13.142 1H18.57a1.5 1.5 0 011.5 1.5V18.57a1.5 1.5 0 01-1.5 1.5H5.43a1.5 1.5 0 01-1.5-1.5V5.43a1.5 1.5 0 011.5-1.5z"}),n.createElement("path",{d:"M17.15 7.214a.5.5 0 01.09.992l-.09.008h-1.711c-1.385 0-2.027.582-2.079 1.895l-.003.175v10.287a.5.5 0 01-.992.09l-.008-.09V10.284c0-1.919 1.009-2.991 2.871-3.066l.21-.004h1.711z"}),n.createElement("path",{d:"M16.286 12.357a.5.5 0 01.09.992l-.09.008H9.429a.5.5 0 01-.09-.992l.09-.008h6.857z"})))}))},11350:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M5.215 3.84a5.845 5.845 0 00-1.139 3.924l.02.123a5.793 5.793 0 002.32 3.354.75.75 0 001.032-.17 5.843 5.843 0 001.14-3.925l-.02-.124A5.794 5.794 0 006.246 3.67a.75.75 0 00-1.032.17zm.788 1.58l.108.11c.429.466.75 1.02.937 1.626l.046.169.01.175a4.312 4.312 0 01-.376 1.848l-.069.143-.106-.11a4.268 4.268 0 01-.937-1.627l-.048-.17.004.065a4.306 4.306 0 01.364-2.086l.067-.143z"}),n.createElement("path",{d:"M3.09 8.945a.75.75 0 00-.579.81c.145 1.367.725 2.603 1.645 3.482l.106.085a4.652 4.652 0 003.623.636.75.75 0 00.579-.81c-.145-1.368-.725-2.604-1.646-3.484l-.107-.085a4.652 4.652 0 00-3.621-.634zm1.047 1.377l.152.001c.498.019.98.153 1.416.399l.125.077.111.113c.36.392.64.874.82 1.415l.075.253h-.15a3.105 3.105 0 01-1.417-.4l-.126-.076.05.05a3.866 3.866 0 01-.98-1.579l-.076-.253z"}),n.createElement("path",{d:"M3.373 13.115a.75.75 0 00-.35.936c.5 1.283 1.384 2.327 2.502 2.941l.124.055a4.657 4.657 0 003.666-.308.75.75 0 00.35-.936c-.5-1.284-1.384-2.329-2.503-2.943l-.124-.054a4.657 4.657 0 00-3.665.309zM6.5 14.21l.139.082c.452.288.85.684 1.167 1.161l.138.222-.138.036a3.12 3.12 0 01-1.474-.026l-.146-.043-.135-.08A3.99 3.99 0 014.883 14.4l-.139-.222.14-.036a3.12 3.12 0 011.473.026l.142.042z"}),n.createElement("path",{d:"M9.04 16.018l-.135-.009a4.625 4.625 0 00-3.34 1.525.75.75 0 00-.008 1.002c.914 1.035 2.105 1.718 3.367 1.919l.135.01A4.625 4.625 0 0012.4 18.94a.75.75 0 00.009-1.002c-.915-1.036-2.107-1.719-3.37-1.92zm-.17 1.495l.16.03c.527.12 1.04.359 1.507.702l.206.163-.109.075a3.1 3.1 0 01-1.391.47l-.15.007-.16-.03a4.068 4.068 0 01-1.504-.701l-.209-.163.11-.075a3.1 3.1 0 011.392-.47l.148-.008zM17.776 3.67a5.793 5.793 0 00-2.32 3.352l-.02.124a5.843 5.843 0 001.139 3.926.75.75 0 001.031.17 5.793 5.793 0 002.32-3.355l.02-.123a5.846 5.846 0 00-1.138-3.924.75.75 0 00-1.032-.17zm.242 1.75l.07.143c.259.582.388 1.212.375 1.847l-.01.175-.046.17a4.269 4.269 0 01-.937 1.626l-.108.11-.067-.143a4.312 4.312 0 01-.376-1.848l.008-.175-.016.06a4.263 4.263 0 011.001-1.855l.106-.11z"}),n.createElement("path",{d:"M17.289 9.58l-.107.084c-.921.88-1.501 2.116-1.646 3.484a.75.75 0 00.578.81 4.652 4.652 0 003.624-.636l.106-.085c.92-.88 1.5-2.115 1.645-3.482a.75.75 0 00-.579-.81 4.652 4.652 0 00-3.621.634zm2.422.743l.15-.001-.003.018a3.99 3.99 0 01-.891 1.65l-.112.114-.124.076c-.437.246-.918.381-1.416.4h-.153l.005-.018c.174-.636.48-1.202.892-1.65l.11-.114-.058.036a3.11 3.11 0 011.6-.51z"}),n.createElement("path",{d:"M16.948 12.806l-.124.054c-1.119.614-2.003 1.66-2.503 2.943a.75.75 0 00.35.936 4.657 4.657 0 003.667.308l.124-.055c1.118-.614 2.002-1.658 2.501-2.941a.75.75 0 00-.35-.936 4.657 4.657 0 00-3.665-.309zm2.155 1.336l.138.036-.006.012a4.05 4.05 0 01-1.299 1.371l-.137.08-.143.044a3.12 3.12 0 01-1.474.026l-.14-.036.008-.012a4.047 4.047 0 011.299-1.371l.137-.082-.064.02a3.128 3.128 0 011.68-.088z"}),n.createElement("path",{d:"M15.008 16.01l-.134.008c-1.263.201-2.455.884-3.37 1.92a.75.75 0 00.009 1.002 4.624 4.624 0 003.342 1.524l.134-.01c1.262-.2 2.453-.883 3.367-1.918a.75.75 0 00-.008-1.002 4.625 4.625 0 00-3.34-1.525zm.033 1.503l.15.008a3.1 3.1 0 011.391.47l.11.075-.01.01c-.517.425-1.1.718-1.703.854l-.16.03-.148-.007a3.1 3.1 0 01-1.392-.47l-.11-.075.01-.01a4.129 4.129 0 011.703-.855l.16-.03z"})))}))},16569:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M4.447 3.274a4.746 4.746 0 00-.925 3.186c.287 1.184.955 2.15 1.897 2.805a.5.5 0 00.687-.113 4.744 4.744 0 00.926-3.188c-.288-1.183-.956-2.148-1.898-2.803a.5.5 0 00-.687.113zm.522 1.035l.11.104c.47.472.807 1.062.969 1.711l.007.223c0 .523-.128 1.07-.373 1.58l-.098.188-.11-.102A3.682 3.682 0 014.506 6.3c-.04-.588.086-1.22.366-1.802l.098-.19z"}),n.createElement("path",{d:"M2.603 7.576a.5.5 0 00-.386.54c.118 1.11.588 2.113 1.332 2.825.933.622 1.972.803 2.994.569a.5.5 0 00.386-.54C6.81 9.858 6.34 8.856 5.596 8.144c-.933-.621-1.971-.803-2.993-.568zm.841.9a2.72 2.72 0 011.532.448l.133.14c.3.343.543.798.69 1.316l.057.221-.154.009a2.719 2.719 0 01-1.533-.449l-.132-.14a3.433 3.433 0 01-.691-1.315l-.057-.223.155-.007z"}),n.createElement("path",{d:"M2.87 11.04a.5.5 0 00-.234.624c.406 1.042 1.123 1.89 2.028 2.387 1.063.363 2.114.274 3.04-.213a.5.5 0 00.234-.624c-.406-1.043-1.123-1.89-2.03-2.388-1.062-.362-2.113-.273-3.039.214zm2.806.801a3.48 3.48 0 011.017 1.097l.11.198-.14.046a2.732 2.732 0 01-1.6-.044l-.165-.102A3.483 3.483 0 013.88 11.94l-.112-.199.143-.044a2.733 2.733 0 011.598.043l.166.102z"}),n.createElement("path",{d:"M7.513 13.472l-.09-.006a3.729 3.729 0 00-2.693 1.23.5.5 0 00-.006.668c.744.841 1.71 1.395 2.733 1.558 1.124-.016 2.082-.453 2.784-1.223a.5.5 0 00.006-.668c-.743-.842-1.71-1.396-2.734-1.559zm-.113.996l.17.033c.497.116.978.354 1.407.696l.176.15-.112.086a2.716 2.716 0 01-1.517.496l-.191-.04a3.551 3.551 0 01-1.34-.692l-.176-.15.113-.085a2.708 2.708 0 011.31-.484l.16-.01zM14.885 3.161A4.703 4.703 0 0013 5.882a4.759 4.759 0 00.912 3.27.5.5 0 00.687.113 4.703 4.703 0 001.884-2.722 4.762 4.762 0 00-.912-3.269.5.5 0 00-.687-.113zm.164 1.15l.072.134a3.72 3.72 0 01.38 1.938l-.058.196a3.662 3.662 0 01-.899 1.435l-.108.101-.072-.135a3.717 3.717 0 01-.38-1.938 3.61 3.61 0 01.957-1.63l.108-.102z"}),n.createElement("path",{d:"M14.476 8.087c-.817.769-1.287 1.771-1.405 2.883a.5.5 0 00.386.54 3.751 3.751 0 002.922-.513c.816-.768 1.286-1.77 1.404-2.881a.5.5 0 00-.386-.54 3.752 3.752 0 00-2.921.511zm2.233.395l-.056.225a3.383 3.383 0 01-.893 1.511l-.158.092a2.69 2.69 0 01-1.305.3l-.153-.008.058-.224a3.38 3.38 0 01.893-1.51c.408-.261.921-.402 1.462-.393l.152.007z"}),n.createElement("path",{d:"M14.163 10.79c-.989.534-1.706 1.381-2.112 2.424a.5.5 0 00.233.624 3.756 3.756 0 002.958.249c.988-.534 1.705-1.38 2.111-2.423a.5.5 0 00-.233-.624 3.756 3.756 0 00-2.957-.25zm2.057.95l-.114.2c-.324.53-.758.957-1.263 1.234l-.177.05a2.7 2.7 0 01-1.34-.041l-.142-.046.114-.2a3.43 3.43 0 011.264-1.234 2.656 2.656 0 011.517-.008l.14.044z"}),n.createElement("path",{d:"M12.504 13.466l-.09.006c-1.023.163-1.99.717-2.733 1.56a.5.5 0 00.005.667 3.728 3.728 0 002.696 1.23c1.111-.17 2.078-.724 2.821-1.565a.5.5 0 00-.005-.668 3.729 3.729 0 00-2.694-1.23zm.023 1.002l.16.01c.477.045.923.211 1.31.484l.113.085-.176.15a3.499 3.499 0 01-1.62.738l-.184-.014a2.678 2.678 0 01-1.245-.488l-.112-.087.178-.149c.428-.342.91-.58 1.406-.696l.17-.033z"})))}))},39908:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M2.857 8.071a9.071 9.071 0 019.072 9.072.5.5 0 11-1 0A8.071 8.071 0 002.857 9.07a.5.5 0 110-1z"}),n.createElement("path",{d:"M2.857 2.357c8.166 0 14.786 6.62 14.786 14.786a.5.5 0 11-1 0c0-7.614-6.172-13.786-13.786-13.786a.5.5 0 110-1zM4.286 13.786a1.929 1.929 0 100 3.857 1.929 1.929 0 000-3.857zm0 1a.929.929 0 110 1.857.929.929 0 010-1.857z"})))}))},64568:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.349 2.852l-9.062 9.062a2.297 2.297 0 000 3.248l5.95 5.95a2.297 2.297 0 001.626.672l6.228-.004c.609 0 1.192-.243 1.622-.673l5.946-5.945a2.297 2.297 0 000-3.248l-9.062-9.062a2.297 2.297 0 00-3.248 0zM2.348 12.974l9.062-9.061a.797.797 0 011.126 0l9.062 9.061a.797.797 0 010 1.127l-5.945 5.945a.797.797 0 01-.563.234l-6.228.004a.797.797 0 01-.564-.233l-5.95-5.95a.797.797 0 010-1.127z"}),n.createElement("path",{d:"M11.377 7.87a.75.75 0 011.128.984l-.067.077-4.5 4.5a.75.75 0 01-1.127-.985l.067-.076 4.5-4.5zM11.393 12.685a.75.75 0 011.128.984l-.067.077-2.1 2.1a.75.75 0 01-1.128-.984l.067-.077 2.1-2.1zM12.434 16.129a.75.75 0 011.127.984l-.067.077-.898.898a.75.75 0 01-1.128-.984l.067-.077.899-.898z"})))}))},94820:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.713 2.465L1.16 10.016a1.789 1.789 0 000 2.53l4.959 4.959c.335.336.791.524 1.266.524l5.19-.004c.474 0 .928-.19 1.263-.524l4.955-4.955a1.789 1.789 0 000-2.53l-7.552-7.551a1.789 1.789 0 00-2.53 0zm-6.845 8.259L9.42 3.172a.789.789 0 011.115 0l7.552 7.552a.789.789 0 010 1.115l-4.955 4.955a.789.789 0 01-.557.23l-5.19.005a.789.789 0 01-.558-.231l-4.959-4.959a.789.789 0 010-1.115z"}),n.createElement("path",{d:"M9.57 6.647a.5.5 0 01.764.637l-.057.07-3.75 3.75a.5.5 0 01-.765-.638l.058-.07 3.75-3.75zM9.583 10.66a.5.5 0 01.765.637l-.058.07-1.75 1.75a.5.5 0 01-.765-.639l.058-.069 1.75-1.75zM10.45 13.53a.5.5 0 01.765.637l-.058.07-.749.748a.5.5 0 01-.765-.638l.058-.07.749-.748z"})))}))},81464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M2.857 8.071a9.03 9.03 0 015.046 1.532.5.5 0 01-.557.83 8.03 8.03 0 00-4.489-1.362.5.5 0 110-1zM2.857 2.357c3.616 0 7.032 1.304 9.704 3.63a.5.5 0 11-.657.754 13.728 13.728 0 00-9.047-3.384.5.5 0 110-1zM4.286 13.786a1.929 1.929 0 100 3.857 1.929 1.929 0 000-3.857zm0 1a.929.929 0 110 1.857.929.929 0 010-1.857zM13.571 8.071a4.786 4.786 0 100 9.572 4.786 4.786 0 000-9.572zm0 1a3.786 3.786 0 110 7.572 3.786 3.786 0 010-7.572z"}),n.createElement("path",{d:"M15.005 12.357a.5.5 0 01.09.992l-.09.008h-2.868a.5.5 0 01-.09-.992l.09-.008h2.868z"})))}))},40830:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.354 3.646a.5.5 0 010 .708L3.207 9.5H18a.5.5 0 010 1H3.207l5.147 5.146a.5.5 0 01-.708.708l-6-6a.5.5 0 010-.708l6-6a.5.5 0 01.708 0z",fill:"currentColor"}))}))},92316:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.646 3.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708l5.147-5.146H2a.5.5 0 010-1h14.793l-5.147-5.146a.5.5 0 010-.708z",fill:"currentColor"}))}))},16048:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M14.888 7.701l-5.484 5.372a.733.733 0 01-.106.137l-.258.257c-.141.142-.308.205-.372.14l-2.613-2.732c-.064-.064-.001-.232.14-.374l.258-.256c.142-.143.309-.206.373-.142l1.958 2.049 5.333-5.222a.362.362 0 01.514 0l.257.257a.363.363 0 010 .514M10 2a8 8 0 10.001 16 8 8 0 000-16",fill:"currentColor",fillRule:"evenodd"}))}))},67085:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h20v20H0z"}),n.createElement("path",{d:"M6.996 4v2.996H4v1h2.996v4.008H4v1h2.996V16h1v-2.996h4.008V16h1v-2.996H16v-1h-2.996V7.996H16v-1h-2.996V4h-1v2.996H7.996V4h-1zm1 3.996h4.008v4.008H7.996V7.996z",fill:"currentColor",fillRule:"nonzero"})))}))},90898:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M17.02 6.106a.5.5 0 01.816.572l-.052.074-6.33 7.483a.5.5 0 01-.662.092l-.073-.06-3.933-3.918-3.932 3.933a.5.5 0 01-.638.058l-.07-.058a.5.5 0 01-.057-.638l.057-.069 4.286-4.286a.5.5 0 01.637-.058l.07.058 3.9 3.886 5.982-7.07z"}),n.createElement("path",{d:"M17.403 5.929a.5.5 0 01.492.41l.008.09v3.214a.5.5 0 01-.992.09l-.008-.09-.001-2.714h-2.616a.5.5 0 01-.492-.41l-.008-.09a.5.5 0 01.41-.492l.09-.008h3.117z"})))}))},42070:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M3 3h7.49a2 2 0 011.645.863L15 8.008l-2.864 4.131a2 2 0 01-1.644.861H3a2 2 0 01-2-2V5a2 2 0 012-2z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"}))}))},19381:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M8.265 1.455l1.666 3.871h3.243a.796.796 0 01.56 1.392l-2.815 2.51 1.559 3.593a.852.852 0 01-1.21 1.065L7.502 11.76l-3.768 2.126a.849.849 0 01-1.21-1.065l1.56-3.592-2.815-2.511a.797.797 0 01.556-1.392h3.248l1.669-3.87a.866.866 0 011.524 0z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"}))}))},18089:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M16 9.5a.5.5 0 01.492.41l.008.09v5.833a2.167 2.167 0 01-2.012 2.162l-.155.005H5.667a2.167 2.167 0 01-2.162-2.012l-.005-.155V10a.5.5 0 01.992-.09L4.5 10v5.833c0 .602.455 1.097 1.04 1.16l.127.007h8.666c.602 0 1.097-.455 1.16-1.04l.007-.127V10a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M16.667 5.75H3.333C2.597 5.75 2 6.347 2 7.083v2.084c0 .736.597 1.333 1.333 1.333h13.334c.736 0 1.333-.597 1.333-1.333V7.083c0-.736-.597-1.333-1.333-1.333zm-13.334 1h13.334c.184 0 .333.15.333.333v2.084c0 .184-.15.333-.333.333H3.333A.333.333 0 013 9.167V7.083c0-.184.15-.333.333-.333z"}),n.createElement("path",{d:"M10 9.5a.5.5 0 01.492.41l.008.09v7.5a.5.5 0 01-.992.09L9.5 17.5V10a.5.5 0 01.5-.5zM6.625 2a2.375 2.375 0 000 4.75H10a.5.5 0 00.49-.598l-.046-.202a7.818 7.818 0 00-.126-.437 7.682 7.682 0 00-.583-1.379C9.011 2.819 7.988 2 6.625 2zm0 1c.934 0 1.668.588 2.234 1.616l.149.29c.094.196.178.398.252.602l.083.242H6.625a1.375 1.375 0 010-2.75z"}),n.createElement("path",{d:"M13.375 2c-1.363 0-2.386.819-3.11 2.134-.243.441-.435.91-.583 1.38-.09.281-.145.504-.172.638a.5.5 0 00.49.598h3.375a2.375 2.375 0 100-4.75zm0 1c.76 0 1.375.616 1.375 1.375l-.006.132a1.375 1.375 0 01-1.369 1.243h-2.719l-.021.065c.13-.41.298-.82.506-1.199C11.707 3.588 12.441 3 13.375 3z"})))}))},55852:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 3.5a.5.5 0 01.492.41L10.5 4v3a.5.5 0 01-.992.09L9.5 7V4a.5.5 0 01.5-.5zM18 3.5a.5.5 0 01.492.41L18.5 4v3a.5.5 0 01-.992.09L17.5 7V4a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M22 6.5a.5.5 0 01.09.992L22 7.5H6a.5.5 0 01-.09-.992L6 6.5h16zM18.667 10c-3.641 0-5.427 1.795-5.136 5.205a.5.5 0 00.484.457c3.364.097 5.152-1.5 5.152-4.644V10.5a.5.5 0 00-.5-.5zm-.732 1.027l.231-.015-.003.234c-.07 2.176-1.151 3.279-3.388 3.408l-.274.009-.001-.214c.016-2.132 1.119-3.238 3.435-3.422z"}),n.createElement("path",{d:"M9.334 10c3.64 0 5.426 1.795 5.135 5.205a.5.5 0 01-.483.457c-3.365.097-5.152-1.5-5.152-4.644V10.5a.5.5 0 01.5-.5zm.731 1.027l-.231-.015.003.234c.07 2.176 1.152 3.279 3.388 3.408l.274.009.002-.214c-.017-2.132-1.12-3.238-3.436-3.422z"}),n.createElement("path",{d:"M14 12.575a.5.5 0 01.492.41l.008.09v10.758a.5.5 0 01-.992.09l-.008-.09V13.075a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M21 6.5a.5.5 0 01.492.41L21.5 7v6.077c0 3.568-3.375 6.423-7.5 6.423-4.04 0-7.36-2.738-7.496-6.201l-.004-.222V7a.5.5 0 01.992-.09L7.5 7v6.077c0 2.975 2.893 5.423 6.5 5.423 3.525 0 6.368-2.338 6.496-5.221l.004-.202V7a.5.5 0 01.5-.5z"})))}))},74296:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 1.643a8.357 8.357 0 100 16.714 8.357 8.357 0 000-16.714zm0 1a7.357 7.357 0 110 14.714 7.357 7.357 0 010-14.714z"}),n.createElement("path",{d:"M7.242 6.691a2.857 2.857 0 015.552.952c0 .89-.54 1.61-1.4 2.184-.19.126-.387.239-.586.34l-.3.143-.071.03v1.237a.5.5 0 01-.41.492l-.09.008a.5.5 0 01-.492-.41l-.008-.09V10a.5.5 0 01.342-.474l.238-.093.085-.037c.252-.112.504-.247.736-.401.612-.408.956-.867.956-1.353a1.857 1.857 0 00-3.609-.619.5.5 0 01-.943-.332zM9.994 13.429a.5.5 0 01.497.404l.009.09.004.357a.5.5 0 01-.991.101l-.009-.09-.004-.357a.5.5 0 01.494-.505z"})))}))},89521:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M17.26 3.072l-.202-.202a2.5 2.5 0 00-3.536.006l-9.721 9.756a2.5 2.5 0 00-.729 1.764v2.746a.5.5 0 00.5.5h1.597a2.5 2.5 0 001.759-.724l2.148-2.126 8.184-8.184a2.5 2.5 0 000-3.536zm-.908.506l.201.201a1.5 1.5 0 010 2.121l-8.182 8.183-2.147 2.125-.11.098a1.5 1.5 0 01-.945.336H4.072v-2.246a1.5 1.5 0 01.437-1.058l9.721-9.756a1.5 1.5 0 012.122-.004z"}),n.createElement("path",{d:"M5.36 11.075A.5.5 0 016 11.017l.069.058 2.854 2.854a.5.5 0 01-.638.765l-.07-.058-2.853-2.854a.5.5 0 010-.707zM17.143 16.643a.5.5 0 01.09.992l-.09.008H9.295a.5.5 0 01-.09-.992l.09-.008h7.848z"})))}))},51013:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9 7.214a1.786 1.786 0 100 3.572 1.786 1.786 0 000-3.572zm0 1a.786.786 0 110 1.572.786.786 0 010-1.572zM15 7.214a1.786 1.786 0 100 3.572 1.786 1.786 0 000-3.572zm0 1a.786.786 0 110 1.572.786.786 0 010-1.572z"}),n.createElement("path",{d:"M18.372 2.209c-1.39.483-2.396.972-3.036 1.488l-.123-.048-.302-.11a9.988 9.988 0 00-.355-.113l-.289-.082c-1.739-.469-3.572-.478-5.335.231l-.27.114-.123-.106a8.431 8.431 0 00-.918-.672c-.83-.526-1.665-.84-2.478-.84a.5.5 0 00-.5.5l-.004 8.838-.002.094c-.038 1.872.127 3.277.82 4.838 1.562 3.513 5.258 5.588 11.686 5.588h1.714a.5.5 0 00.5-.5V2.57a.5.5 0 00-.658-.474l-.327.112zm-12.615.944c.424.106.873.314 1.33.603.38.241.712.501.967.73l.168.158a.5.5 0 00.573.089c1.775-.887 3.68-.887 5.474-.35.447.135.77.267.936.35a.5.5 0 00.577-.094l.101-.094c.432-.381 1.19-.783 2.266-1.191l.208-.079V20.93h-1.214c-6.055 0-9.382-1.868-10.772-4.995-.575-1.294-.746-2.49-.739-4.045l.01-.692V3.128l.115.025z"}),n.createElement("path",{d:"M9.932 9.932a.5.5 0 01.638-.058l.07.058 1.36 1.36 1.36-1.36A.5.5 0 0114 9.874l.069.058a.5.5 0 01.058.638l-.058.07-1.714 1.714a.5.5 0 01-.638.057l-.07-.057-1.714-1.715a.5.5 0 010-.707z"})))}))},14956:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 1.5a8.5 8.5 0 100 17 8.5 8.5 0 000-17zm0 1a7.5 7.5 0 110 15 7.5 7.5 0 010-15z"}),n.createElement("path",{d:"M10 6.375l.096.006a.708.708 0 11-.192 0L10 6.375zM10 9.083a.5.5 0 01.492.41l.008.09v4.584a.5.5 0 01-.992.09l-.008-.09V9.583a.5.5 0 01.5-.5z"})))}))},80891:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M18.571 2.679H5.43a2.75 2.75 0 00-2.75 2.75V18.57a2.75 2.75 0 002.75 2.75H18.57a2.75 2.75 0 002.75-2.75V5.43a2.75 2.75 0 00-2.75-2.75zM5.43 4.179H18.57c.69 0 1.25.56 1.25 1.25V18.57c0 .69-.56 1.25-1.25 1.25H5.43c-.69 0-1.25-.56-1.25-1.25V5.43c0-.69.56-1.25 1.25-1.25z"}),n.createElement("path",{d:"M11.244 8.459l.006.112c0 .959 1.378.999 1.492.12l.008-.12c0-.494.372-.902.852-.957l.112-.007c1 0 1-1.5 0-1.5h-3.428c-.959 0-.999 1.378-.12 1.493l.12.007c.494 0 .902.372.958.852zM10.166 17.885l.12.008h3.428l.12-.008c.84-.11.84-1.375 0-1.485l-.232-.014a.965.965 0 01-.846-.845l-.006-.112c0-.959-1.378-.999-1.492-.12l-.008.12a.965.965 0 01-.852.957l-.112.007c-.959 0-.999 1.377-.12 1.492z"}),n.createElement("path",{d:"M12 6.964a.75.75 0 01.743.649l.007.101v8.572a.75.75 0 01-1.493.101l-.007-.101V7.714a.75.75 0 01.75-.75z"})))}))},94197:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M18.571 2.929H5.43a2.5 2.5 0 00-2.5 2.5V18.57a2.5 2.5 0 002.5 2.5H18.57a2.5 2.5 0 002.5-2.5V5.43a2.5 2.5 0 00-2.5-2.5zm-13.142 1H18.57a1.5 1.5 0 011.5 1.5V18.57a1.5 1.5 0 01-1.5 1.5H5.43a1.5 1.5 0 01-1.5-1.5V5.43a1.5 1.5 0 011.5-1.5z"}),n.createElement("path",{d:"M11.494 8.447l.006.124c0 .667 1 .667 1 0 0-.67.544-1.214 1.214-1.214.667 0 .667-1 0-1h-3.428c-.63 0-.665.892-.105.991l.105.01c.628 0 1.146.477 1.208 1.09zM10.18 17.634l.106.009h3.428l.105-.01c.527-.092.527-.888 0-.981l-.105-.01-.124-.005a1.215 1.215 0 01-1.084-1.084l-.006-.124c0-.63-.892-.665-.991-.105l-.009.105c0 .628-.478 1.145-1.09 1.208l-.124.006c-.63 0-.665.892-.105.99z"}),n.createElement("path",{d:"M12 7.214a.5.5 0 01.492.41l.008.09v8.572a.5.5 0 01-.992.09l-.008-.09V7.714a.5.5 0 01.5-.5z"})))}))},12287:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M7.143 2.357a.5.5 0 01.492.41l.008.09V5a.5.5 0 01-.992.09L6.643 5V2.857a.5.5 0 01.5-.5zM12.857 2.357a.5.5 0 01.492.41l.008.09V5a.5.5 0 01-.992.09L12.357 5V2.857a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M15.714 4.5a.5.5 0 01.09.992l-.09.008H4.286a.5.5 0 01-.09-.992l.09-.008h11.428z"}),n.createElement("path",{d:"M14.286 4.5a.5.5 0 01.492.41l.008.09v4.34c0 2.615-2.144 4.731-4.786 4.731-2.568 0-4.666-2-4.78-4.514l-.006-.216V5a.5.5 0 01.992-.09l.008.09v4.34c0 2.06 1.694 3.731 3.786 3.731 2.025 0 3.676-1.565 3.78-3.532l.006-.198V5a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M10 13.071a.5.5 0 01.5.5 4.786 4.786 0 01-4.786 4.786.5.5 0 110-1A3.786 3.786 0 009.5 13.571a.5.5 0 01.5-.5z"})))}))},81593:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.547 1.941a.5.5 0 01.868-.085l.047.085 2.913 6.61a.5.5 0 01-.871.482l-.044-.08-2.456-5.571L2.84 17.364a.5.5 0 01-.573.285l-.086-.029a.5.5 0 01-.285-.574l.03-.085 6.62-15.02z"}),n.createElement("path",{d:"M8.571 11.643a.5.5 0 01.09.992l-.09.008H5a.5.5 0 01-.09-.992l.09-.008h3.571z"}),n.createElement("path",{d:"M13.214 8.071a5.143 5.143 0 100 10.286 5.143 5.143 0 000-10.286zm0 1a4.143 4.143 0 110 8.286 4.143 4.143 0 010-8.286z"}),n.createElement("path",{d:"M14.623 11.905a.5.5 0 01.771.631l-.057.07-2.435 2.481a.5.5 0 01-.644.06l-.07-.06-1.106-1.128a.5.5 0 01.645-.759l.069.059.749.763 2.078-2.117z"})))}))},81445:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15 9.5a.5.5 0 01.492.41l.008.09v3c0 1.241-1.35 2.407-2.505 2.495l-.138.005H7.143c-1.137 0-2.531-1.118-2.637-2.351L4.5 13v-3a.5.5 0 01.992-.09L5.5 10v3c0 .654.87 1.41 1.529 1.493l.114.007h5.714c.63 0 1.536-.72 1.634-1.384L14.5 13v-3a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M15.844 9.5c.957 0 1.723.792 1.794 1.78l.005.149v2.142a.5.5 0 01-.992.09l-.008-.09V11.43c0-.483-.314-.866-.7-.922l-.099-.007H10a.5.5 0 01-.09-.992L10 9.5h5.844z"}),n.createElement("path",{d:"M10 9.5a.5.5 0 01.09.992L10 10.5H4.156c-.397 0-.742.346-.792.81l-.007.119v2.142a.5.5 0 01-.992.09l-.008-.09V11.43c0-1.005.72-1.845 1.657-1.923l.142-.006H10zM11.429 14.5a.5.5 0 01.492.41l.008.09v1.429a1.929 1.929 0 01-3.852.15l-.006-.15V15a.5.5 0 01.992-.09l.008.09v1.429a.929.929 0 001.851.108l.007-.108V15a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M10 2.357a5.5 5.5 0 015.496 5.279l.004.221V10a.5.5 0 01-.992.09L14.5 10V7.857a4.5 4.5 0 00-8.995-.212l-.005.212V10a.5.5 0 01-.992.09L4.5 10V7.857a5.5 5.5 0 015.5-5.5z"}),n.createElement("path",{d:"M10 1.643a.5.5 0 01.492.41l.008.09v.685a.5.5 0 01-.992.09l-.008-.09v-.685a.5.5 0 01.5-.5zM7.857 5.929a1.214 1.214 0 100 2.428 1.214 1.214 0 000-2.428zm0 1a.214.214 0 110 .428.214.214 0 010-.428zM12.143 5.929a1.214 1.214 0 100 2.428 1.214 1.214 0 000-2.428zm0 1a.214.214 0 110 .428.214.214 0 010-.428z"})))}))},74330:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.156 2.695a.75.75 0 01.743.648l.007.102v16.904a.75.75 0 01-1.494.102l-.006-.102V3.445a.75.75 0 01.75-.75z"}),n.createElement("path",{d:"M3.776 13.07a.75.75 0 01.976-.08l.085.072 6.303 6.22 6.304-6.22a.75.75 0 01.977-.066l.084.073a.75.75 0 01.066.977l-.073.084-6.83 6.74a.75.75 0 01-.97.072l-.084-.071-6.83-6.741a.75.75 0 01-.008-1.06zM20.143 6.107a.75.75 0 01.102 1.493l-.102.007H15a.75.75 0 01-.102-1.493L15 6.107h5.143z"})))}))},15615:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.156 2.945a.5.5 0 01.491.41l.009.09v16.904a.5.5 0 01-.992.09l-.008-.09V3.445a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M3.954 13.245a.5.5 0 01.638-.062l.07.057 6.478 6.395 6.48-6.395a.5.5 0 01.638-.053l.069.058a.5.5 0 01.053.638l-.058.07-6.83 6.74a.5.5 0 01-.634.057l-.069-.057-6.83-6.74a.5.5 0 01-.005-.708zM20.143 6.357a.5.5 0 01.09.992l-.09.008H15a.5.5 0 01-.09-.992l.09-.008h5.143z"})))}))},86451:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.296 2.37a.5.5 0 01.492.41l.008.09v14.088a.5.5 0 01-.992.09l-.008-.09V2.87a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M14.625 10.974a.5.5 0 01.76.643l-.058.069-5.692 5.617A.5.5 0 019 17.36l-.068-.057-5.693-5.617a.5.5 0 01.633-.77l.07.058 5.34 5.271 5.342-5.27zM16.786 5.214a.5.5 0 01.09.992l-.09.008H12.5a.5.5 0 01-.09-.992l.09-.008h4.286z"})))}))},69065:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.429 8.929a5.643 5.643 0 00-5.643 5.642v6a.5.5 0 00.5.5h3.428a.5.5 0 00.5-.5v-6a1.214 1.214 0 112.429 0v6a.5.5 0 00.5.5h3.428a.5.5 0 00.5-.5v-6A5.643 5.643 0 0015.43 8.93zm.212 1.004a4.643 4.643 0 014.43 4.638v5.5h-2.428v-5.5a2.214 2.214 0 00-2.214-2.214l-.159.006a2.214 2.214 0 00-2.056 2.208v5.5h-2.428v-5.5a4.643 4.643 0 014.643-4.642l.212.004zM6.857 9.786H3.43a.5.5 0 00-.5.5V20.57a.5.5 0 00.5.5h3.428a.5.5 0 00.5-.5V10.286a.5.5 0 00-.5-.5zm-.5 1v9.285H3.929v-9.285h2.428zM5.143 3.786a2.214 2.214 0 100 4.428 2.214 2.214 0 000-4.428zm0 1a1.214 1.214 0 110 2.428 1.214 1.214 0 010-2.428z"})))}))},79987:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M19.429 4.643H4.57a2.5 2.5 0 00-2.5 2.5v10.571a2.5 2.5 0 002.5 2.5H19.43a2.5 2.5 0 002.5-2.5V7.143a2.5 2.5 0 00-2.5-2.5zm-14.858 1H19.43a1.5 1.5 0 011.5 1.5v10.571a1.5 1.5 0 01-1.5 1.5H4.57a1.5 1.5 0 01-1.5-1.5V7.143a1.5 1.5 0 011.5-1.5z"}),n.createElement("path",{d:"M5.593 8.28a.5.5 0 01.62-.161l.078.046 5.7 4.077 5.719-4.078a.5.5 0 01.638.049l.06.068a.5.5 0 01-.05.639l-.068.058-6.008 4.286a.5.5 0 01-.504.045l-.078-.045-5.99-4.286a.5.5 0 01-.117-.697z"})))}))},96864:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M9.584 1.907a.5.5 0 01.828 0l1.466 2.16.117.036c.23.078.456.17.675.273l.76-1.318a.5.5 0 01.905.418l-.038.082-.76 1.318c.2.138.392.288.575.449l.088.082 2.602.188a.5.5 0 01.444.637l-.03.08-1.14 2.347.028.125c.062.304.101.608.117.912l-.015-.197 1.521.001a.5.5 0 01.09.992l-.09.008h-1.52a6.629 6.629 0 01-.17 1.02l.04-.181 1.14 2.35a.5.5 0 01-.25.677l-.078.027-.085.013-2.604.188-.088.082c-.183.161-.376.311-.576.45l.76 1.316a.5.5 0 01-.814.574l-.051-.074-.762-1.317a6.225 6.225 0 01-.673.273l-.117.035-1.464 2.16a.5.5 0 01-.768.073l-.06-.073-1.465-2.161-.116-.035a6.206 6.206 0 01-.676-.273l-.76 1.318a.5.5 0 01-.905-.418l.038-.082.761-1.318a6.207 6.207 0 01-.575-.449l-.089-.083-2.602-.187a.5.5 0 01-.444-.637l.03-.08 1.139-2.348-.027-.124a6.222 6.222 0 01-.117-.912l.014.195-1.52.001a.5.5 0 01-.09-.992l.09-.008h1.52c.028-.34.086-.68.172-1.022l-.036.156-.006.025-1.138-2.347a.5.5 0 01.328-.704l.085-.013L5.8 5.407l.09-.082c.183-.161.375-.311.575-.45l-.76-1.317a.5.5 0 01.751-.635l.063.061.051.074.762 1.318c.218-.104.443-.195.674-.273l.116-.037zm.414 1.171L8.851 4.772a.5.5 0 01-.277.2 5.23 5.23 0 00-2.215 1.28.5.5 0 01-.312.14l-2.041.147.894 1.843a.5.5 0 01.049.253l-.014.087A5.236 5.236 0 004.771 10c0 .422.056.847.164 1.278a.5.5 0 01-.035.34l-.894 1.842 2.042.149a.5.5 0 01.244.084l.068.056a5.204 5.204 0 002.214 1.277.5.5 0 01.278.2l1.149 1.695 1.149-1.693a.5.5 0 01.195-.17l.082-.03a5.232 5.232 0 002.216-1.279.5.5 0 01.312-.14l2.04-.148-.893-1.842a.5.5 0 01-.049-.251l.013-.086c.108-.437.163-.862.163-1.282 0-.422-.056-.846-.164-1.278a.5.5 0 01.035-.34l.893-1.843-2.04-.148a.5.5 0 01-.244-.084l-.068-.056a5.204 5.204 0 00-2.214-1.277.5.5 0 01-.278-.2L9.998 3.077zM5.591 8.149a.5.5 0 01.688-.263l3.11 1.55a.5.5 0 01.199.718c-.706 1.102-1.736 1.445-2.94.972-1.257-.494-1.615-1.57-1.057-2.977zm8.82 0c.558 1.407.2 2.483-1.057 2.977-1.203.473-2.234.13-2.94-.972a.5.5 0 01.199-.717l3.11-1.551a.5.5 0 01.689.263zm-8.051.894l-.01.056c-.092.557.128.885.664 1.096.554.218.985.182 1.353-.13l.014-.014L6.36 9.043zm7.282 0l-2.02 1.008.014.014c.367.312.798.348 1.352.13.537-.21.756-.539.665-1.096l-.01-.056z",fill:"currentColor",fillRule:"nonzero"}))}))},2400:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.429 8.25a6.321 6.321 0 01.231 12.639l-.231.004h-4.286a.75.75 0 01-.102-1.493l.102-.007h4.286a4.821 4.821 0 00.214-9.638l-.214-.005H2.57a.75.75 0 01-.101-1.493l.101-.007H15.43z"}),n.createElement("path",{d:"M6.327 4.181a.75.75 0 011.133.977l-.073.084-3.755 3.756 3.755 3.755a.75.75 0 01.073.976l-.073.084a.75.75 0 01-.976.073l-.084-.073L2.04 9.528a.75.75 0 01-.073-.977l.073-.084 4.286-4.286z"})))}))},5357:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M23 5.5a.5.5 0 01.09.992L23 6.5H5a.5.5 0 01-.09-.992L5 5.5h18zM23 13.5a.5.5 0 01.09.992L23 14.5H5a.5.5 0 01-.09-.992L5 13.5h18zM14 21.5a.5.5 0 01.09.992L14 22.5H5a.5.5 0 01-.09-.992L5 21.5h9z"})))}))},51196:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16.366 9.52a.5.5 0 01.09.991l-.09.008H3.648a.5.5 0 01-.09-.992l.09-.008h12.718z",fill:"currentColor",fillRule:"nonzero"}))}))},84756:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 10.393a1.607 1.607 0 100 3.214 1.607 1.607 0 000-3.214zM18 10.393a1.607 1.607 0 100 3.214 1.607 1.607 0 000-3.214zM6 10.393a1.607 1.607 0 100 3.214 1.607 1.607 0 000-3.214z"})))}))},48124:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 8.536a1.464 1.464 0 100 2.928 1.464 1.464 0 000-2.928zM15 8.536a1.464 1.464 0 100 2.928 1.464 1.464 0 000-2.928zM5 8.536a1.464 1.464 0 100 2.928 1.464 1.464 0 000-2.928z"})))}))},69247:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 8.786a1.214 1.214 0 100 2.428 1.214 1.214 0 000-2.428zm0 1a.214.214 0 110 .428.214.214 0 010-.428zM15 8.786a1.214 1.214 0 100 2.428 1.214 1.214 0 000-2.428zm0 1a.214.214 0 110 .428.214.214 0 010-.428zM5 8.786a1.214 1.214 0 100 2.428 1.214 1.214 0 000-2.428zm0 1a.214.214 0 110 .428.214.214 0 010-.428z"})))}))},69993:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 1.821C6.379 1.821 1.821 6.38 1.821 12S6.38 22.179 12 22.179 22.179 17.62 22.179 12 17.62 1.821 12 1.821zm0 1.5a8.679 8.679 0 110 17.358A8.679 8.679 0 0112 3.32z"}),n.createElement("path",{d:"M4.918 4.893a.75.75 0 01.981-.097l.079.064L19.37 17.454a.75.75 0 01-.949 1.157l-.079-.065L4.95 5.953a.75.75 0 01-.032-1.06z"})))}))},25193:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 2.071c-5.483 0-9.929 4.446-9.929 9.929 0 5.483 4.446 9.929 9.929 9.929 5.483 0 9.929-4.446 9.929-9.929 0-5.483-4.446-9.929-9.929-9.929zm0 1a8.929 8.929 0 110 17.858A8.929 8.929 0 0112 3.07z"}),n.createElement("path",{d:"M5.1 5.064a.5.5 0 01.636-.077l.07.055L19.2 17.636a.5.5 0 01-.614.784l-.071-.056L5.122 5.771a.5.5 0 01-.022-.707z"})))}))},14971:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 1.643a8.357 8.357 0 100 16.714 8.357 8.357 0 000-16.714zm0 1a7.357 7.357 0 110 14.714 7.357 7.357 0 010-14.714z"}),n.createElement("path",{d:"M4.19 4.163a.5.5 0 01.635-.077l.071.055 11.16 10.495a.5.5 0 01-.613.784l-.071-.056L4.21 4.87a.5.5 0 01-.022-.707z"})))}))},61142:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M19.371 4.643c1.351 0 2.465 1.01 2.552 2.297l.006.162v9.796c0 1.31-1.06 2.371-2.39 2.454l-.168.005h-3.076a.5.5 0 01-.09-.992l.09-.008h3.076c.818 0 1.48-.588 1.551-1.327l.007-.132V7.102c0-.756-.618-1.385-1.415-1.453l-.143-.006H16.29a.5.5 0 01-.09-.992l.09-.008h3.082zM10.364 2.522L4.935 3.615a2.5 2.5 0 00-2.006 2.451v11.875a2.5 2.5 0 001.986 2.447l5.429 1.139a2.5 2.5 0 003.013-2.447V4.973a2.5 2.5 0 00-2.993-2.45zm1.964 2.155c.02.097.03.196.03.296V19.08a1.5 1.5 0 01-1.809 1.468L5.121 19.41a1.5 1.5 0 01-1.192-1.468V6.066a1.5 1.5 0 011.203-1.47l5.429-1.094a1.5 1.5 0 011.731 1.035l.036.14z"}),n.createElement("path",{d:"M10.313 8.621a.5.5 0 01.492.41l.008.09v5.424a.5.5 0 01-.82.385l-.063-.064-3.414-4.083v3.762a.5.5 0 01-.41.492l-.09.008a.5.5 0 01-.492-.41l-.008-.09V9.407a.5.5 0 01.82-.385l.063.064 3.414 4.08V9.121a.5.5 0 01.41-.492l.09-.008zM18.067 8.162a.5.5 0 01.09.992l-.09.008h-1.781a.5.5 0 01-.09-.992l.09-.008h1.78zM18.067 11.59a.5.5 0 01.09.992l-.09.008h-1.781a.5.5 0 01-.09-.992l.09-.008h1.78zM18.067 15.019a.5.5 0 01.09.992l-.09.008h-1.781a.5.5 0 01-.09-.992l.09-.008h1.78z"})))}))},25035:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M16.143 3.786c1.164 0 2.127.868 2.209 1.98l.005.152v8.164c0 1.132-.912 2.05-2.057 2.127l-.157.005h-2.564a.5.5 0 01-.09-.992l.09-.008h2.564c.63 0 1.142-.446 1.207-1.01l.007-.122V5.918c0-.578-.469-1.063-1.081-1.126l-.133-.006h-2.57a.5.5 0 01-.089-.992l.09-.008h2.569zM8.22 2.1l-3.856.777a2.5 2.5 0 00-2.007 2.451v9.353a2.5 2.5 0 001.987 2.446l3.857.81a2.5 2.5 0 003.013-2.447V4.55a2.5 2.5 0 00-2.993-2.45zm1.965 2.155c.02.098.03.197.03.296V15.49a1.5 1.5 0 01-1.809 1.468l-3.857-.81a1.5 1.5 0 01-1.192-1.467V5.328a1.5 1.5 0 011.204-1.47l3.857-.777a1.5 1.5 0 011.732 1.034l.035.14z"}),n.createElement("path",{d:"M8.594 7.101a.5.5 0 01.492.41l.008.09v4.52a.5.5 0 01-.82.385l-.063-.064-2.698-3.226v2.905a.5.5 0 01-.41.492l-.09.008a.5.5 0 01-.492-.41l-.008-.09V7.839a.5.5 0 01.82-.385l.064.064 2.697 3.226V7.6a.5.5 0 01.41-.492l.09-.008zM15.056 6.718a.5.5 0 01.09.992l-.09.008H13.57a.5.5 0 01-.09-.992l.09-.008h1.485zM15.056 9.575a.5.5 0 01.09.992l-.09.008H13.57a.5.5 0 01-.09-.992l.09-.008h1.485zM15.056 12.432a.5.5 0 01.09.992l-.09.008H13.57a.5.5 0 01-.09-.992l.09-.008h1.485z"})))}))},54274:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M5.36 2.504a.5.5 0 01.766.637l-.058.07-2.143 2.143a.5.5 0 01-.765-.638l.058-.07L5.36 2.504z"}),n.createElement("path",{d:"M5.36 2.504A.5.5 0 016 2.446l.069.058L8.21 4.646a.5.5 0 01-.638.765l-.07-.057L5.362 3.21a.5.5 0 010-.707z"}),n.createElement("path",{d:"M5.714 2.357a.5.5 0 01.492.41l.008.09v5.714a.5.5 0 01-.992.09l-.008-.09V2.857a.5.5 0 01.5-.5zM14.286 10.929a.5.5 0 01.492.41l.008.09v5.714a.5.5 0 01-.992.09l-.008-.09v-5.714a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M16.075 14.646a.5.5 0 01.765.638l-.058.07-2.143 2.142a.5.5 0 01-.765-.637l.058-.07 2.143-2.143z"}),n.createElement("path",{d:"M11.79 14.646a.5.5 0 01.637-.057l.07.057 2.142 2.143a.5.5 0 01-.638.765l-.069-.058-2.143-2.142a.5.5 0 010-.708zM17.143 2.357h-5.714a.5.5 0 00-.5.5v5.714a.5.5 0 00.5.5h5.714a.5.5 0 00.5-.5V2.857a.5.5 0 00-.5-.5zm-.5 1v4.714h-4.715V3.357h4.714zM8.571 10.929H2.857a.5.5 0 00-.5.5v5.714a.5.5 0 00.5.5h5.714a.5.5 0 00.5-.5v-5.714a.5.5 0 00-.5-.5zm-.5 1v4.713H3.357v-4.714h4.714z"})))}))},44970:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M21.075 2.218a.5.5 0 01.765.638l-.058.069-10.879 10.88a.5.5 0 01-.765-.639l.058-.069 10.879-10.88z"}),n.createElement("path",{d:"M2.408 8.626l-.082.037a.5.5 0 00.006.875l7.85 4.281 4.28 7.849a.5.5 0 00.912-.076L21.9 2.735a.5.5 0 00-.636-.636L2.408 8.626zM20.619 3.38L14.8 20.196l-3.81-6.985-.054-.079a.5.5 0 00-.146-.12L3.802 9.2 20.62 3.38z"})))}))},89458:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M17.504 1.79a.5.5 0 01.765.637l-.058.07-9.066 9.065a.5.5 0 01-.765-.638l.058-.069 9.066-9.066z"}),n.createElement("path",{d:"M1.98 7.11l-.083.036a.5.5 0 00.006.875l6.519 3.556 3.557 6.52a.5.5 0 00.911-.076l5.44-15.715a.5.5 0 00-.636-.636L1.979 7.11zm15.068-4.158l-4.733 13.673-3.085-5.656-.053-.079a.5.5 0 00-.146-.12L3.375 7.685l13.673-4.733z"})))}))},17696:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.286 4.393H6.857a.75.75 0 00-.75.75v13.714c0 .414.336.75.75.75h3.429a.75.75 0 00.75-.75V5.143a.75.75 0 00-.75-.75zm-.75 1.5v12.214H7.606V5.893h1.928zM17.143 4.393h-3.429a.75.75 0 00-.75.75v13.714c0 .414.336.75.75.75h3.429a.75.75 0 00.75-.75V5.143a.75.75 0 00-.75-.75zm-.75 1.5v12.214h-1.929V5.893h1.928z"})))}))},9648:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.571 3.786H5.714a.5.5 0 00-.5.5v11.428a.5.5 0 00.5.5h2.857a.5.5 0 00.5-.5V4.286a.5.5 0 00-.5-.5zm-.5 1v10.428H6.214V4.786h1.857zM14.286 3.786h-2.857a.5.5 0 00-.5.5v11.428a.5.5 0 00.5.5h2.857a.5.5 0 00.5-.5V4.286a.5.5 0 00-.5-.5zm-.5 1v10.428h-1.858V4.786h1.857z"})))}))},91074:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M14 3.5a4.5 4.5 0 100 9 4.5 4.5 0 000-9zm0 1a3.5 3.5 0 110 7 3.5 3.5 0 010-7zM14 15.5a8.5 8.5 0 018.5 8.5.5.5 0 11-1 0 7.5 7.5 0 00-15 0 .5.5 0 11-1 0 8.5 8.5 0 018.5-8.5z"})))}))},54424:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 2.357a3.357 3.357 0 100 6.714 3.357 3.357 0 000-6.714zm0 1a2.357 2.357 0 110 4.714 2.357 2.357 0 010-4.714zM10 10.929a6.214 6.214 0 016.214 6.214.5.5 0 11-1 0 5.214 5.214 0 10-10.428 0 .5.5 0 11-1 0A6.214 6.214 0 0110 10.929z"})))}))},96119:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M18.857 3.536H5.143A2.464 2.464 0 002.679 6v5.143a9.321 9.321 0 1018.642 0V6a2.464 2.464 0 00-2.464-2.464zm-13.714 1.5h13.714c.533 0 .964.431.964.964v5.143a7.821 7.821 0 11-15.642 0V6c0-.533.431-.964.964-.964z"}),n.createElement("path",{d:"M8.041 9.755a.75.75 0 01.977-.072l.084.072L12 12.654l2.898-2.899a.75.75 0 01.977-.072l.084.072a.75.75 0 01.073.977l-.073.084-3.429 3.429a.75.75 0 01-.976.072l-.084-.072-3.429-3.429a.75.75 0 010-1.06z"})))}))},35307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M18.857 3.786H5.143A2.214 2.214 0 002.929 6v5.143a9.071 9.071 0 1018.142 0V6a2.214 2.214 0 00-2.214-2.214zm-13.714 1h13.714c.67 0 1.214.543 1.214 1.214v5.143a8.071 8.071 0 11-16.142 0V6c0-.67.543-1.214 1.214-1.214z"}),n.createElement("path",{d:"M8.218 9.932a.5.5 0 01.638-.058l.069.058L12 13.007l3.075-3.075a.5.5 0 01.638-.058l.07.058a.5.5 0 01.057.638l-.058.07-3.428 3.428a.5.5 0 01-.638.058l-.07-.058-3.428-3.429a.5.5 0 010-.707z"})))}))},1464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.714 3.071H4.286A1.929 1.929 0 002.357 5v4.286a7.643 7.643 0 1015.286 0V5a1.929 1.929 0 00-1.929-1.929zm-11.428 1h11.428c.513 0 .929.416.929.929v4.286a6.643 6.643 0 01-13.286 0V5c0-.513.416-.929.929-.929z"}),n.createElement("path",{d:"M6.79 8.218a.5.5 0 01.637-.058l.07.058L10 10.72l2.504-2.503a.5.5 0 01.637-.058l.07.058a.5.5 0 01.058.638l-.058.069-2.857 2.857a.5.5 0 01-.638.058l-.07-.058L6.79 8.925a.5.5 0 010-.707z"})))}))},3453:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16.838 5.25H4.571A2.75 2.75 0 001.821 8v8a2.75 2.75 0 002.75 2.75h12.27a2.75 2.75 0 002.386-1.384l2.853-4.984a.75.75 0 000-.744l-2.853-5a2.75 2.75 0 00-2.389-1.388zm0 1.5l.134.007c.396.043.752.273.952.624l2.64 4.627-2.639 4.613a1.25 1.25 0 01-1.085.629H4.571c-.69 0-1.25-.56-1.25-1.25V8c0-.69.56-1.25 1.25-1.25h12.267z",fill:"currentColor",fillRule:"nonzero"}))}))},78684:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M13.838 4.5H4.143a2.5 2.5 0 00-2.5 2.5v6a2.5 2.5 0 002.5 2.5h9.697a2.5 2.5 0 002.17-1.258l2.281-3.986a.5.5 0 000-.496L16.01 5.76A2.5 2.5 0 0013.838 4.5zm0 1l.146.007a1.5 1.5 0 011.157.75l2.14 3.75-2.139 3.738a1.5 1.5 0 01-1.302.755H4.143a1.5 1.5 0 01-1.5-1.5V7a1.5 1.5 0 011.5-1.5h9.695z",fill:"currentColor",fillRule:"nonzero"}))}))},13871:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16 2.679H8a2.75 2.75 0 00-2.75 2.75v16l.007.103a.75.75 0 001.088.562l5.662-2.937 5.647 2.937a.75.75 0 001.096-.665v-16A2.75 2.75 0 0016 2.679zm0 1.5l.128.006a1.25 1.25 0 011.122 1.244v14.764l-4.896-2.547-.111-.047a.75.75 0 00-.58.047L6.75 20.195V5.429c0-.69.56-1.25 1.25-1.25h8z",fill:"currentColor",fillRule:"nonzero"}))}))},76730:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M15.692 3H8.308C7.033 3 6 4.06 6 5.368v15.158l.006.08a.46.46 0 00.668.34l5.332-2.84 5.32 2.84a.462.462 0 00.674-.42V5.368C18 4.06 16.967 3 15.692 3z",fill:"currentColor",fillRule:"nonzero"}))}))},68130:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16 2.929H8a2.5 2.5 0 00-2.5 2.5v16l.007.084a.5.5 0 00.723.36l5.777-2.998 5.762 2.997a.5.5 0 00.731-.443v-16a2.5 2.5 0 00-2.5-2.5zm0 1l.144.006A1.5 1.5 0 0117.5 5.43v15.176l-5.261-2.737-.09-.036a.5.5 0 00-.371.036L6.5 20.606V5.429a1.5 1.5 0 011.5-1.5h8z",fill:"currentColor",fillRule:"nonzero"}))}))},56816:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M13 2.357H7a2.5 2.5 0 00-2.5 2.5v13l.007.084a.5.5 0 00.723.36l4.775-2.478 4.764 2.478a.5.5 0 00.731-.444v-13a2.5 2.5 0 00-2.5-2.5zm0 1l.144.007A1.5 1.5 0 0114.5 4.857v12.176l-4.263-2.217-.09-.036a.5.5 0 00-.37.036L5.5 17.034V4.857a1.5 1.5 0 011.5-1.5h6z",fill:"currentColor",fillRule:"nonzero"}))}))},28594:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M15.555 2.07a2.167 2.167 0 11-2.167 2.152l-2.015-.567-.734 2.879c1.47.092 2.817.499 3.896 1.129a2.234 2.234 0 013.948 1.54 2.237 2.237 0 01-1.404 1.972c.012.116.018.234.018.353 0 2.818-3.21 5.014-7.098 5.014s-7.097-2.196-7.097-5.014c0-.12.006-.237.017-.354a2.235 2.235 0 112.546-3.512c1.139-.665 2.578-1.081 4.145-1.14l.922-3.61a.5.5 0 01.53-.374l.09.017 2.473.695a2.167 2.167 0 011.93-1.18zM9.999 7.513c-1.733 0-3.284.48-4.388 1.238a.017.017 0 01-.006.006c-1.058.727-1.703 1.71-1.703 2.77 0 2.167 2.698 4.014 6.097 4.014 3.4 0 6.098-1.847 6.098-4.014 0-2.168-2.699-4.014-6.098-4.014zm-2.224 5.571a4.473 4.473 0 002.232.557c.771.01 1.532-.18 2.208-.551a.5.5 0 01.481.876 5.447 5.447 0 01-2.69.675 5.458 5.458 0 01-2.715-.682.5.5 0 01.484-.875zm5.002-4.14a1.542 1.542 0 110 3.083 1.542 1.542 0 010-3.084zm-5.555 0a1.542 1.542 0 110 3.083 1.542 1.542 0 010-3.084zm5.555 1a.542.542 0 100 1.083.542.542 0 000-1.084zm-5.555 0a.542.542 0 100 1.083.542.542 0 000-1.084zm8.232-1.793l-.09.082c.681.553 1.193 1.214 1.478 1.947a1.236 1.236 0 10-1.389-2.03zM3.449 7.899a1.236 1.236 0 00-.292 2.284c.285-.736.797-1.397 1.477-1.949A1.235 1.235 0 003.449 7.9zm12.106-4.83a1.167 1.167 0 100 2.334 1.167 1.167 0 000-2.334z",fill:"currentColor",fillRule:"nonzero"}))}))},45146:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 6.307a.5.5 0 01.5-.5h.77c1.75 0 3.055.446 3.915 1.302.754.72 1.121 1.68 1.121 2.846v.03c0 .913-.25 1.696-.71 2.335A4.01 4.01 0 015.8 13.46l2.276 3.245a.5.5 0 01-.41.787H4.164a.5.5 0 01-.413-.219l-2.163-3.175a.5.5 0 01-.087-.281v-2.381a.5.5 0 01.5-.5h.63c.445 0 .729-.106.89-.234.149-.117.237-.284.237-.534v-.03c0-.28-.096-.44-.24-.548-.164-.123-.453-.22-.901-.22H2a.5.5 0 01-.5-.5V6.308zm1 .5V8.37h.116c.567 0 1.099.118 1.5.418.424.317.641.79.641 1.35v.03c0 .529-.208.995-.616 1.317-.393.311-.922.45-1.51.45H2.5v1.727l1.927 2.829h2.278l-2.06-2.937a.5.5 0 01.218-.75c.611-.253 1.093-.613 1.422-1.07.326-.453.521-1.028.521-1.75v-.03c0-.94-.288-1.624-.815-2.126l-.008-.008c-.609-.608-1.618-1.014-3.212-1.014H2.5z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.198 2.961a.5.5 0 01.477-.352h4.456a.5.5 0 01.355.149c2.408 2.436 3.89 5.625 3.89 9.135 0 3.675-1.625 6.995-4.237 9.47a.5.5 0 01-.344.137h-4.12a.5.5 0 01-.328-.877c.853-.742 1.955-1.98 2.842-3.515.886-1.535 1.54-3.337 1.54-5.215 0-1.755-.659-3.562-1.551-5.093-.895-1.536-1.987-2.731-2.786-3.278a.5.5 0 01-.194-.56zm1.822.648c.69.702 1.407 1.632 2.022 2.687.946 1.624 1.687 3.607 1.687 5.597 0 2.106-.73 4.081-1.674 5.715A15.95 15.95 0 017.908 20.5h2.686c2.353-2.294 3.782-5.306 3.782-8.607 0-3.147-1.298-6.033-3.456-8.284h-2.9z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.345 2.878a.5.5 0 01.444-.269h3.976a.5.5 0 01.437.257c1.516 2.718 2.395 5.776 2.395 9.027 0 3.381-.94 6.56-2.578 9.36a.5.5 0 01-.431.247h-4.021a.5.5 0 01-.403-.796c1.863-2.544 2.952-5.565 2.952-8.811 0-3.116-1.009-6.018-2.737-8.498a.5.5 0 01-.034-.517zm1.37.731c1.52 2.455 2.401 5.273 2.401 8.284 0 3.141-.953 6.078-2.596 8.607h2.778c1.466-2.596 2.3-5.514 2.3-8.607 0-2.966-.775-5.767-2.13-8.284h-2.752z",fill:"currentColor"}))}))},86044:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12.857 2.357a.5.5 0 110 1A2.357 2.357 0 0010.5 5.714c0 .667-1 .667-1 0a2.357 2.357 0 00-2.357-2.357.5.5 0 110-1c1.174 0 2.208.603 2.808 1.516l.049.08.05-.08a3.355 3.355 0 012.623-1.51l.184-.006zM9.509 14.18c.093-.526.889-.526.982 0l.009.105.005.162a2.358 2.358 0 002.19 2.19l.162.006a.5.5 0 110 1 3.354 3.354 0 01-2.808-1.516l-.05-.08-.048.08a3.355 3.355 0 01-2.624 1.51l-.184.006a.5.5 0 110-1c1.247 0 2.269-.97 2.352-2.196l.005-.161.009-.105z"}),n.createElement("path",{d:"M10 4.5a.5.5 0 01.492.41L10.5 5v10a.5.5 0 01-.992.09L9.5 15V5a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M12.857 12.357a.5.5 0 01.09.992l-.09.008H7.143a.5.5 0 01-.09-.992l.09-.008h5.714z"})))}))},55359:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M5.25 4.286v15.428a.75.75 0 001.156.631l12-7.714a.75.75 0 000-1.262l-12-7.714a.75.75 0 00-1.156.63zm1.5 1.373l9.863 6.34-9.863 6.34V5.66z",fill:"currentColor",fillRule:"nonzero"}))}))},30392:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M4.5 3.571V16.43a.5.5 0 00.77.42l10-6.428a.5.5 0 000-.842l-10-6.428a.5.5 0 00-.77.42zm1 .915L14.074 10 5.5 15.512V4.486z",fill:"currentColor",fillRule:"nonzero"}))}))},36899:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.714 2.679a8.036 8.036 0 100 16.071 8.036 8.036 0 000-16.071zm0 1.5a6.536 6.536 0 110 13.071 6.536 6.536 0 010-13.071z"}),n.createElement("path",{d:"M15.756 15.755a.75.75 0 01.977-.072l.084.073 3.424 3.432a.75.75 0 01-.977 1.133l-.084-.073-3.425-3.433a.75.75 0 01.001-1.06z"})))}))},51205:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.929 2.357a6.571 6.571 0 100 13.143 6.571 6.571 0 000-13.143zm0 1a5.571 5.571 0 110 11.143 5.571 5.571 0 010-11.143z"}),n.createElement("path",{d:"M13.218 13.217a.5.5 0 01.638-.057l.07.058 2.853 2.86a.5.5 0 01-.638.765l-.07-.058-2.854-2.86a.5.5 0 01.001-.708z"})))}))},38476:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7.5a.5.5 0 01.5-.5h4.793a.5.5 0 110 1H2.5a.5.5 0 01-.5-.5zM2 11.667a.5.5 0 01.5-.5h4.793a.5.5 0 110 1H2.5a.5.5 0 01-.5-.5zM2 15.833a.5.5 0 01.5-.5h10.271a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5zM2 3.333a.5.5 0 01.5-.5h10.271a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5zM13.214 7.167A2.71 2.71 0 0010.5 9.873a2.71 2.71 0 002.714 2.707 2.708 2.708 0 002.715-2.707 2.71 2.71 0 00-2.715-2.706zM9.5 9.873a3.71 3.71 0 013.714-3.706 3.71 3.71 0 013.715 3.706c0 .848-.286 1.63-.766 2.254l1.69 1.686a.5.5 0 11-.706.708l-1.694-1.69a3.705 3.705 0 01-2.239.748A3.71 3.71 0 019.5 9.873z",fill:"currentColor"}))}))},87790:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 11.667a.5.5 0 01.5-.5h4.793a.5.5 0 110 1H2.5a.5.5 0 01-.5-.5zM2 15.833a.5.5 0 01.5-.5h10.271a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5zM13.214 7.167A2.71 2.71 0 0010.5 9.873a2.71 2.71 0 002.714 2.707 2.708 2.708 0 002.715-2.707 2.71 2.71 0 00-2.715-2.706zM9.5 9.873a3.71 3.71 0 013.714-3.706 3.71 3.71 0 013.715 3.706c0 .848-.286 1.63-.766 2.254l1.69 1.686a.5.5 0 11-.706.708l-1.694-1.69a3.705 3.705 0 01-2.239.748A3.71 3.71 0 019.5 9.873zM3 3.428v.322a.5.5 0 01-1 0v-.364c0-.287.136-.54.34-.713.202-.17.46-.256.716-.256H8.61c.255 0 .513.085.715.256.205.172.34.426.34.713v.364a.5.5 0 01-1 0v-.322a.138.138 0 00-.055-.01H3.056a.138.138 0 00-.056.01z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.833 2.833a.5.5 0 01.5.5v5a.5.5 0 11-1 0v-5a.5.5 0 01.5-.5z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.333a.5.5 0 01.5-.5h1.667a.5.5 0 010 1H5a.5.5 0 01-.5-.5z",fill:"currentColor"}))}))},30271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.305 2.259l-.66.724a.869.869 0 01-1.29.002l-.658-.726a1.869 1.869 0 00-3.25 1.344l.047.98a.87.87 0 01-.912.916l-.98-.05A1.869 1.869 0 002.258 8.7l.727.66a.87.87 0 01.001 1.292l-.727.657a1.869 1.869 0 001.35 3.251l.978-.05a.868.868 0 01.912.912l-.05.979a1.87 1.87 0 003.249 1.346l.66-.728a.87.87 0 011.29-.001l.658.728a1.87 1.87 0 003.248-1.343l-.05-.982a.869.869 0 01.912-.912l.978.05a1.869 1.869 0 001.348-3.254l-.728-.657a.87.87 0 010-1.29l.728-.657a1.87 1.87 0 00-1.345-3.254l-.979.05a.867.867 0 01-.908-.911l.05-.978a1.869 1.869 0 00-3.254-1.348zm1.72.45c.34.14.553.48.535.847l-.05.979a1.869 1.869 0 001.957 1.96l.98-.05a.869.869 0 01.624 1.513l-.728.656a1.87 1.87 0 000 2.776l.728.657a.869.869 0 01-.627 1.512l-.978-.05a1.868 1.868 0 00-1.961 1.962l.05.978a.868.868 0 01-1.51.623l-.655-.725a1.869 1.869 0 00-2.774 0l-.66.726a.868.868 0 01-1.51-.625l.05-.975a1.868 1.868 0 00-1.961-1.962l-.978.05a.868.868 0 01-.629-1.511l.727-.657a1.87 1.87 0 000-2.775l-.726-.66a.869.869 0 01.625-1.51l.976.05a1.867 1.867 0 001.963-1.966l-.047-.976a.869.869 0 011.51-.625l.657.724a1.867 1.867 0 002.774 0l.659-.724a.87.87 0 01.979-.222z"}),n.createElement("path",{d:"M10 6.643a3.357 3.357 0 100 6.714 3.357 3.357 0 000-6.714zm0 1a2.357 2.357 0 110 4.714 2.357 2.357 0 010-4.714z"})))}))},54533:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M14.271 9.029a.5.5 0 01.667.74l-.067.06-5.142 3.857a.5.5 0 01-.667-.74l.067-.06 5.142-3.857z"}),n.createElement("path",{d:"M9.029 9.129a.5.5 0 01.623-.148l.077.048 5.142 3.857a.5.5 0 01-.523.847l-.077-.047L9.13 9.829a.5.5 0 01-.1-.7z"}),n.createElement("path",{d:"M18.902 2.5l-.084.007-.935.155c-2.577.414-4.541.62-5.883.62-1.5 0-3.776-.258-6.818-.775-.805-.007-1.396.563-1.396 1.276v4.902c-.001 5.357 3.077 10.27 7.988 12.76a.5.5 0 00.452 0c4.91-2.49 7.988-7.403 7.988-12.76V3.783c0-.713-.591-1.283-1.312-1.283zm-13.804 1c3.009.519 5.334.783 6.902.783l.254-.003c1.474-.024 3.555-.26 6.25-.706l.424-.072-.026-.002c.177 0 .312.13.312.283v4.902l-.004.331c-.121 4.737-2.833 9.066-7.134 11.38l-.076.04.226.118c-4.578-2.322-7.44-6.892-7.44-11.87V3.784c0-.152.135-.283.312-.283z"})))}))},37774:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M13.82 3.033l-8.167 3.15a.5.5 0 00-.32.467V14c0 2.925 1.602 5.602 4.25 7.984a22.467 22.467 0 003.598 2.63l.22.128c.175.099.3.167.37.203a.5.5 0 00.458 0l.27-.148.1-.055a22.467 22.467 0 003.82-2.758c2.646-2.382 4.248-5.06 4.248-7.984V6.65a.5.5 0 00-.32-.467l-8.167-3.15a.5.5 0 00-.36 0zM14 4.035l7.666 2.958V14c0 2.588-1.46 5.03-3.917 7.24a21.48 21.48 0 01-3.436 2.511l-.313.18-.104-.058a21.48 21.48 0 01-3.645-2.632l-.269-.247C7.688 18.85 6.333 16.492 6.333 14V6.992L14 4.035z"}),n.createElement("path",{d:"M17.152 11.308a.5.5 0 01.755.65l-.059.068-4.812 4.666a.5.5 0 01-.619.062l-.078-.062-2.187-2.12a.5.5 0 01.626-.776l.07.057 1.84 1.784 4.464-4.33z"})))}))},49279:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.572 13.071a.5.5 0 01.492.41l.008.09v1.072a3 3 0 01-2.824 2.995l-.176.005H5a1.929 1.929 0 01-1.923-1.778l-.005-.15V13.57a.5.5 0 01.992-.09l.008.09v2.143c0 .476.358.869.82.923l.108.006h1.072a2 2 0 001.994-1.85l.006-.15V13.57a.5.5 0 01.5-.5zM11.429 13.071a.5.5 0 00-.492.41l-.008.09v1.072a3 3 0 002.824 2.995l.176.005H15a1.929 1.929 0 001.923-1.778l.006-.15V13.57a.5.5 0 00-.992-.09l-.008.09v2.143a.929.929 0 01-.82.923l-.109.006H13.93a2 2 0 01-1.995-1.85l-.005-.15V13.57a.5.5 0 00-.5-.5zM12.854 3.071c.976 0 1.655.652 1.926 1.636l1.42 5.88a.5.5 0 01-.943.321l-.029-.085-1.379-5.715c-.147-.675-.494-1.037-.995-1.037-.271 0-.447.084-.737.349l-.236.225c-.615.595-1.086.856-1.88.856-.726 0-1.22-.226-1.786-.707l-.425-.383c-.283-.251-.45-.34-.649-.34-.388 0-.663.263-.829.892l-.039.165-1.504 5.714a.5.5 0 01-.982-.165l.015-.09 1.499-5.69c.242-1.143.88-1.826 1.84-1.826.5 0 .864.194 1.313.592l.277.253c.468.424.776.585 1.27.585.433 0 .685-.116 1.056-.453l.25-.24c.533-.514.92-.737 1.547-.737z"}),n.createElement("path",{d:"M17.862 10.214a.5.5 0 01.09.992l-.09.008H2.142a.5.5 0 01-.089-.992l.09-.008h15.72zM15.03 7.357a.5.5 0 01.09.992l-.09.008H5.041a.5.5 0 01-.09-.992l.09-.008h9.99zM17.862 13.071a.5.5 0 01.09.992l-.09.008H2.142a.5.5 0 01-.089-.992l.09-.008h15.72z"})))}))},77496:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.94 2a.5.5 0 01.45.28l2.311 4.7 5.17.759a.5.5 0 01.276.852l-1.63 1.594a.5.5 0 01-.7-.715l.91-.888-4.431-.65a.5.5 0 01-.376-.274L9.94 3.633 7.961 7.658a.5.5 0 01-.376.274l-4.43.65 3.206 3.135a.5.5 0 01.144.441l-.757 4.426 3.96-2.09a.5.5 0 01.466.885l-4.856 2.563a.5.5 0 01-.726-.526l.883-5.168-3.741-3.657a.5.5 0 01.277-.852L7.18 6.98l2.312-4.7A.5.5 0 019.94 2z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.583 12.167a2.417 2.417 0 100 4.833 2.417 2.417 0 000-4.833zm-3.416 2.416a3.417 3.417 0 116.833 0 3.417 3.417 0 01-6.833 0z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.354 14.583a.5.5 0 01.5-.5h1.459a.5.5 0 110 1h-1.459a.5.5 0 01-.5-.5z",fill:"currentColor"}))}))},29306:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 2.134a7.866 7.866 0 100 15.732 7.866 7.866 0 000-15.732zm0 1a6.866 6.866 0 110 13.732 6.866 6.866 0 010-13.732z"}),n.createElement("path",{d:"M10 6.062a3.937 3.937 0 100 7.875 3.937 3.937 0 000-7.875zm0 1a2.938 2.938 0 110 5.875 2.938 2.938 0 010-5.875z"}),n.createElement("path",{d:"M14.855 4.438a.5.5 0 01.765.638l-.058.07-2.779 2.778a.5.5 0 01-.765-.638l.058-.07 2.779-2.778zM12.076 12.076a.5.5 0 01.638-.058l.07.058 2.778 2.779a.5.5 0 01-.638.765l-.07-.058-2.778-2.779a.5.5 0 010-.707zM7.217 12.076a.5.5 0 01.765.638l-.058.07-2.779 2.778a.5.5 0 01-.765-.638l.058-.07 2.779-2.778zM4.438 4.438a.5.5 0 01.638-.058l.07.058 2.778 2.779a.5.5 0 01-.638.765l-.07-.058-2.778-2.779a.5.5 0 010-.707z"})))}))},92219:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.79 9.79a.5.5 0 01.637-.057l.07.058 2.672 2.672a.5.5 0 01-.638.765l-.069-.058-2.673-2.672a.5.5 0 010-.707z"}),n.createElement("path",{d:"M10.143 5.437a.5.5 0 01.492.41l.008.09v4.207a.5.5 0 01-.992.09l-.008-.09V5.937a.5.5 0 01.5-.5z"}),n.createElement("path",{d:"M10.143 2.643a7.5 7.5 0 100 15 7.5 7.5 0 000-15zm0 1a6.5 6.5 0 110 13 6.5 6.5 0 010-13z"})))}))},70664:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),n.createElement("defs",null,n.createElement("path",{id:"toolbar-plane_svg__a",d:"M0 0h28v28H0z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"toolbar-plane_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#toolbar-plane_svg__a"})),n.createElement("use",{fillOpacity:0,fill:"#FFF",xlinkHref:"#toolbar-plane_svg__a"}),n.createElement("path",{d:"M5 15.563l4.25 1.593L11.375 23l3.04-4.059 5.46 1.934L22 6 5 15.563zm7.617 2.592l-.973 2.64-1.154-3.313 8.927-8.107-6.8 8.78z",fill:"currentColor",fillRule:"nonzero",mask:"url(#toolbar-plane_svg__b)"})))}))},34238:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M13.714 2.679a2.464 2.464 0 012.46 2.302l.005.162v1.714a.75.75 0 01-1.494.102l-.006-.102V5.143a.964.964 0 00-.852-.958l-.113-.006h-3.428a.964.964 0 00-.958.851l-.007.113v1.714a.75.75 0 01-1.493.102l-.007-.102V5.143a2.464 2.464 0 012.303-2.46l.162-.004h3.428z"}),n.createElement("path",{d:"M19.714 6.107a.75.75 0 01.102 1.493l-.102.007H4.286a.75.75 0 01-.102-1.493l.102-.007h15.428z"}),n.createElement("path",{d:"M18 6.107H6a.75.75 0 00-.75.75v12a2.464 2.464 0 002.464 2.464h8.572a2.464 2.464 0 002.464-2.464v-12a.75.75 0 00-.75-.75zm-11.25 1.5h10.5v11.25a.964.964 0 01-.964.964H7.714l-.112-.006a.964.964 0 01-.852-.958V7.607z"})))}))},1948:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M13.714 2.929c1.17 0 2.128.907 2.209 2.056l.006.158v1.714a.5.5 0 01-.992.09l-.008-.09V5.143c0-.629-.478-1.146-1.09-1.208l-.125-.006h-3.428c-.629 0-1.146.477-1.208 1.09l-.007.124v1.714a.5.5 0 01-.992.09l-.008-.09V5.143c0-1.17.907-2.128 2.057-2.209l.158-.005h3.428z"}),n.createElement("path",{d:"M19.714 6.357a.5.5 0 01.09.992l-.09.008H4.286a.5.5 0 01-.09-.992l.09-.008h15.428z"}),n.createElement("path",{d:"M18 6.357H6a.5.5 0 00-.5.5v12c0 1.223.991 2.214 2.214 2.214h8.572a2.214 2.214 0 002.214-2.214v-12a.5.5 0 00-.5-.5zm-11.5 1h11v11.5c0 .67-.544 1.214-1.214 1.214H7.714l-.124-.006a1.214 1.214 0 01-1.09-1.208v-11.5z"})))}))},11505:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.429 2.357c1.014 0 1.845.783 1.922 1.778l.006.15v1.43a.5.5 0 01-.992.09l-.008-.09v-1.43a.929.929 0 00-.82-.922l-.108-.006H8.57a.929.929 0 00-.922.82l-.006.109v1.428a.5.5 0 01-.992.09l-.008-.09V4.286c0-1.015.783-1.846 1.778-1.923l.15-.006h2.858z"}),n.createElement("path",{d:"M16.429 5.214a.5.5 0 01.09.992l-.09.008H3.57a.5.5 0 01-.09-.992l.09-.008H16.43z"}),n.createElement("path",{d:"M15 5.214H5a.5.5 0 00-.5.5v10c0 1.065.863 1.929 1.929 1.929h7.142a1.929 1.929 0 001.929-1.929v-10a.5.5 0 00-.5-.5zm-9.5 1h9v9.5a.929.929 0 01-.929.929H6.43l-.109-.006a.929.929 0 01-.82-.923v-9.5z"})))}))},36728:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M14.09 5.002a4.34 4.34 0 00-2.59 4.03v.349l-.109-.003a8.637 8.637 0 01-6.696-3.665.5.5 0 00-.866.084l-.09.223-.041.109c-.094.255-.187.545-.274.865-.495 1.818-.581 3.73.007 5.537l.092.267c.647 1.766 1.921 3.242 3.905 4.336l.105.056-.158.088a9.477 9.477 0 01-4.784 1.08c-.526-.021-.723.68-.262.936 8.374 4.653 17.885-.41 17.885-10.294l-.009-.27a3.62 3.62 0 00-.028-.273l-.18.188a7.117 7.117 0 001.917-3.384.5.5 0 00-.774-.527l-.295.2c-.598.386-1.24.7-1.913.932l-.05.016-.081-.08a4.34 4.34 0 00-4.509-.882l-.201.082zm4.27 1.78a.5.5 0 00.521.151l.378-.122c.374-.13.74-.281 1.096-.454l.123-.065-.024.054a6.117 6.117 0 01-1.16 1.587.5.5 0 00-.14.45c.04.204.06.41.06.619l-.003.285c-.164 8.149-7.352 12.587-14.43 10.03l-.21-.077.197-.03a10.477 10.477 0 004.084-1.653.5.5 0 00-.078-.871c-2.38-1.058-3.78-2.584-4.392-4.465-.52-1.594-.441-3.318.007-4.965l.063-.227.2.225a9.638 9.638 0 007.361 3.129.5.5 0 00.487-.5v-.857a3.34 3.34 0 015.86-2.243z",fill:"currentColor",fillRule:"nonzero"}))}))},50240:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M11.694 4.099a3.7 3.7 0 00-2.191 3.228L9.5 7.73h-.06a7.114 7.114 0 01-5.46-3.017.5.5 0 00-.865.084l-.085.207a8.637 8.637 0 00-.257.802c-.416 1.53-.49 3.138.007 4.662l.085.246c.507 1.37 1.463 2.531 2.918 3.424l.319.186-.1.054a7.814 7.814 0 01-3.84.837c-.525-.021-.722.68-.262.936 7.033 3.907 15.029-.349 15.029-8.651l-.008-.23-.02-.194-.178.187a6.014 6.014 0 001.62-2.859.5.5 0 00-.774-.527l-.279.187c-.376.24-.774.446-1.188.613l-.345.13-.058-.057a3.7 3.7 0 00-3.819-.728l-.186.077zm3.543 1.608a.5.5 0 00.521.15l.363-.118c.24-.084.475-.18.706-.286l.046-.024-.011.024c-.228.401-.51.771-.842 1.098a.5.5 0 00-.14.45c.032.165.048.333.049.5l-.003.264c-.15 6.64-5.947 10.284-11.723 8.321l-.071-.025.085-.014a8.814 8.814 0 003.207-1.348.5.5 0 00-.078-.87c-1.963-.873-3.113-2.126-3.615-3.67l-.084-.283c-.305-1.128-.263-2.328.01-3.491l.092-.36.142.157a8.115 8.115 0 006.122 2.554.5.5 0 00.487-.5V7.52a2.7 2.7 0 014.737-1.815z",fill:"currentColor",fillRule:"nonzero"}))}))},84546:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.865 2.226a1.297 1.297 0 00-.895.52L7.827 8.08 4.753 5.362l-.12-.086a1.255 1.255 0 00-1.45.13 1.464 1.464 0 00-.492 1.303l1.004 8.805a.75.75 0 00.745.665h15.12a.75.75 0 00.745-.665L21.31 6.7a1.46 1.46 0 00-.492-1.295 1.255 1.255 0 00-1.452-.13l-.12.087-3.073 2.72-3.097-5.266c-.292-.398-.668-.597-1.076-.597l-.135.007zM8.997 9.05l3.005-5.11 3 5.11c.2.338.528.577.912.642l.148.016c.344.016.68-.111.936-.353l2.78-2.462-.888 7.785H5.11l-.888-7.784L7.02 9.37c.272.26.668.387 1.063.321.384-.064.713-.302.913-.64zM19.714 19.821a.75.75 0 01.102 1.494l-.102.006H4.286a.75.75 0 01-.102-1.493l.102-.007h15.428z"})))}))},92814:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.86 1.732c-.326.04-.619.215-.818.481L6.492 6.54 4.043 4.375l-.12-.087a1.171 1.171 0 00-1.353.12c-.344.29-.51.748-.453 1.199l.837 7.335a.75.75 0 00.745.665h12.6a.75.75 0 00.745-.665l.838-7.345a1.34 1.34 0 00-.454-1.188 1.171 1.171 0 00-1.353-.12l-.12.086-2.448 2.166-2.503-4.258c-.275-.374-.625-.56-1.005-.56l-.14.01zM7.604 7.606l2.397-4.076 2.392 4.075c.184.313.49.534.847.595l.138.015c.321.015.634-.104.871-.328l2.07-1.832-.69 6.052H4.37l-.69-6.052 2.088 1.847c.252.24.621.359.99.297.357-.06.662-.28.847-.593zM16.429 16.393a.75.75 0 01.101 1.493l-.101.007H3.57A.75.75 0 013.47 16.4l.101-.007H16.43z"})))}))},89919:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.873 1.983a.958.958 0 00-.631.38L6.553 6.928 3.878 4.562c-.422-.257-.841-.218-1.146.038a1.096 1.096 0 00-.366.975l.838 7.339a.5.5 0 00.496.443h12.6a.5.5 0 00.496-.443l.839-7.345a1.092 1.092 0 00-.367-.969l-.106-.077a.918.918 0 00-.96-.019L13.446 6.93l-2.657-4.52c-.213-.289-.49-.435-.789-.435l-.127.009zM7.39 7.479l2.611-4.442 2.609 4.44c.147.252.39.429.672.476l.124.013a.936.936 0 00.673-.261l2.562-2.267-.788 6.919H4.145L3.36 5.455v-.03l2.575 2.29a.92.92 0 00.782.238.972.972 0 00.674-.474zM16.429 16.643a.5.5 0 01.09.992l-.09.008H3.57a.5.5 0 01-.09-.992l.09-.008H16.43z"})))}))},24818:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.264 4.531c.767-1.344 2.705-1.344 3.473 0l5.748 10.06c.762 1.333-.2 2.992-1.736 2.992H4.25c-1.535 0-2.498-1.659-1.736-2.992l5.749-10.06zm2.604.496a1 1 0 00-1.736 0l-5.749 10.06a1 1 0 00.868 1.496H15.75a1 1 0 00.868-1.496l-5.749-10.06z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 7.833a.5.5 0 01.5.5V12.5a.5.5 0 01-1 0V8.333a.5.5 0 01.5-.5z",fill:"currentColor"}),n.createElement("path",{d:"M10 14.167l.08.005a.59.59 0 11-.16 0l.08-.005z",fill:"currentColor"}))}))},40429:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 5.5a4.5 4.5 0 104.244 3 .5.5 0 11.943-.333 5.5 5.5 0 11-3.354-3.354.5.5 0 01-.333.943A4.492 4.492 0 0010 5.5z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.167a7.833 7.833 0 107.475 5.483.5.5 0 01.954-.3 8.833 8.833 0 11-5.779-5.779.5.5 0 01-.3.954A7.83 7.83 0 0010 2.167z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.008 7.875a.5.5 0 01-.36.61 1.533 1.533 0 101.868 1.866.5.5 0 11.968.25A2.533 2.533 0 119.4 7.516a.5.5 0 01.61.36z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.942 1.179a.5.5 0 01.361.317l.587 1.614 1.614.587a.5.5 0 01.183.823l-1.423 1.423c-.25.25-.589.39-.942.39h-1.948l-4.02 4.02a.5.5 0 11-.708-.707l4.02-4.02V3.678c0-.353.141-.692.391-.942l1.423-1.423a.5.5 0 01.462-.134zm-1.275 4.154h1.655a.333.333 0 00.235-.097l.868-.868-1.096-.398a.5.5 0 01-.299-.3l-.398-1.095-.868.868a.333.333 0 00-.097.235v1.655z",fill:"currentColor"}))}))},23741:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.186 9.5H2.182a7.836 7.836 0 016.682-7.252A13.25 13.25 0 006.186 9.5zm0 1H2.182a7.836 7.836 0 006.682 7.252A13.25 13.25 0 016.186 10.5zm3.821 8.333a8.833 8.833 0 10-.015 0h.015zm1.128-1.081a13.25 13.25 0 002.679-7.252h4.003a7.836 7.836 0 01-6.682 7.252zm1.677-7.252A12.25 12.25 0 0110 17.573 12.25 12.25 0 017.188 10.5h5.624zm0-1H7.188A12.25 12.25 0 0110 2.427 12.25 12.25 0 0112.812 9.5zm1.002 0h4.003a7.836 7.836 0 00-6.682-7.252A13.25 13.25 0 0113.814 9.5z",fill:"currentColor"}))}))},75200:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 2.071c-5.483 0-9.929 4.446-9.929 9.929 0 5.483 4.446 9.929 9.929 9.929 5.483 0 9.929-4.446 9.929-9.929 0-5.483-4.446-9.929-9.929-9.929zm0 1a8.929 8.929 0 110 17.858A8.929 8.929 0 0112 3.07z"}),n.createElement("path",{d:"M3.216 7.984a.5.5 0 01.62.161l.045.078L9.115 19.34l2.392-5.714a.502.502 0 01.403-.404l.103-.008a.5.5 0 01.488.61l-.027.083-2.87 6.857a.5.5 0 01-.865.104l-.049-.084L2.976 8.65a.5.5 0 01.24-.665z"}),n.createElement("path",{d:"M16.701 6.708c.373-1.192 1.306-1.705 2.444-1.159 1.48.71 1.528 2.437.369 4.979l-.12.257-3.929 9.97a.5.5 0 01-.888.083l-.042-.084-4.715-12a.5.5 0 01.89-.446l.041.08 4.25 10.818 1.87-4.745.001-.013.03-.085c.439-.955.466-2.163.063-3.634l-.086-.297c-.414-1.356-.483-2.747-.178-3.724zm2.011-.257c-.546-.262-.854-.093-1.056.555-.22.706-.188 1.775.102 2.862l.077.272c.099.321.18.634.243.939l.04.214.36-.907c1.047-2.196 1.084-3.436.322-3.888l-.088-.047z"}),n.createElement("path",{d:"M12 8.071a.5.5 0 01.09.992l-.09.008H9.429a.5.5 0 01-.09-.992l.09-.008H12zM5.143 8.071a.5.5 0 01.09.992l-.09.008H3.429a.5.5 0 01-.09-.992l.09-.008h1.714z"})))}))},71262:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(40841),i=s.n(n),r=s(60216),a=s.n(r),o=s(32735);function l(e){function t({className:t,color:s,importance:n,onClick:r,tiny:a,...l}){const c={icon:!0,[`icon-${s}`]:!0,[`icon-${n}`]:n,"icon-clickable":r,[t]:t},d={...l};return a&&(d.height=16,d.width=16),o.createElement(e,Object.assign({className:i()(c),onClick:r},d))}return t.propTypes={className:a().string,color:a().oneOf(["accent","danger","warning","notification","white","black"]),importance:a().oneOf(["primary","secondary","tertiary"]),onClick:a().func,tiny:a().bool},t.defaultProps={className:void 0,color:"black",importance:void 0,tiny:!1,onClick:void 0},t.displayName=`withIconTheme(${e.displayName||e.name})`,t}},64498:(e,t,s)=>{"use strict";function n(){return!streets.getUserId()||parseInt(streets.getUserId().slice(-2),16)%2==1}s.d(t,{E:()=>n})},80033:(e,t,s)=>{"use strict";s.d(t,{RI:()=>a,Te:()=>o});var n=s(91815),i=s.n(n),r=s(44694);function a(e,t,s){try{if(null==t||0===t.length)return e;let n=new String(e);const i=[];for(let e=0;e<t.length;e++){const s=t[e],r=new RegExp("\\b("+s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+")(?=(\\W+|$))","gi");n=n.replace(r,"<span class='highlightedTerm'>$1</span>");const a=s.split(" ");if(a.length>1)for(let e=0;e<a.length;e++)a[e].length>3&&i.push(a[e])}return i.length>0&&n.length===e.length&&1!=s?a(e,i,!0):n}catch(n){return $feedly("[annotation utils] failed to highlight terms because:"+n.name+" -- "+n.message),e}}function o(e,t,s){try{if(null==t||0===t.length)return e;const n=(0,r.D8)(e),a=[],l=[];for(let e=0;e<t.length;e++){const s=t[e].split(" ");if(s.length>1)for(let e=0;e<s.length;e++)s[e].length>3&&l.push(s[e])}const c=i()(t);for(let e=0;e<n.length;e++)if(e%2==0){let t=n[e];for(let e=0;e<c.length;e++){const s=c[e],n=new RegExp("\\b("+s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+")(?=(\\W+|$))","gi");t=t.replace(n,"<span class='highlightedTerm'>$1</span>")}a.push(t)}else a.push(n[e]);const d=a.join("");return l.length>0&&d.length===n.join("").length&&1!=s?o(e,l,!0):d}catch(n){return $feedly("[annotation utils] failed to highlight terms because:"+n.name+" -- "+n.message),e}}},53411:(e,t,s)=>{"use strict";function n(e){for(var t,s,n=e.length;n;t=parseInt(Math.random()*n),s=e[--n],e[n]=e[t],e[t]=s);return e}function i(e,t,s=((e,t)=>e===t)){return e.filter((e=>!t.find((t=>s(e,t)))))}s.d(t,{T:()=>n,v:()=>i})},3e3:(e,t,s)=>{"use strict";s.d(t,{tN:()=>l,qs:()=>i,Q3:()=>o,n2:()=>c,W6:()=>d,Dt:()=>r,kC:()=>a,pg:()=>u,$B:()=>h});var n=s(57855);function i(){let e=null;return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Chrome")>-1?e="chrome":"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Firefox")>-1?e="firefox":"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Apple")>-1&&-1==navigator.userAgent.indexOf("Chrome")&&(e="safari"),e}function r(){return!!navigator.userAgent.match(/Android/g)}function a(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&(0,n.x5)(document)<768||r()||!!navigator.userAgent.match(/(Kindle|Silk)/g)}function o(){if("undefined"==typeof navigator){let e=function(e){try{return Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch).getCharPref(e)}catch(t){return null}}("general.useragent.locale");return(null==e||e.indexOf("chrome")>-1||e.length>5)&&(e="en-US"),"fr-FR"===e&&(e="fr"),e}return navigator.language?navigator.language:navigator.userLanguage||"en-US"}function l(){let e;const t=o()||"en-US";return e=0===t.indexOf("ja")?"ja":0===t.indexOf("de")?"de":0===t.indexOf("fr")?"fr":0===t.indexOf("es")?"es":0===t.indexOf("it")?"it":"en-US",e}function c(){try{return function(e){if(!e||0!==e.indexOf("/"))throw"A pathname should start with /";let[t,...s]=e.split("/").slice(1);0===t.indexOf("d.")&&(t="d");switch(t){case"":return"";case"a":case"d":case"i":case"b":case"beta":return s.join("/")+window.location.search+window.location.hash;default:return"library/"+decodeURIComponent(t)}}(window.location.pathname)}catch(e){return console.error("[utils] failed to getFeedlyPath",e),null}}function d(){try{let[e]=window.location.pathname.split("/").slice(1);if(0===e.indexOf("d."))return e;switch(e){case"":return"i";case"a":return"a";case"i":return"i";case"b":return"b";case"d":return"d";case"beta":return"beta";default:return"i"}}catch(e){return $feedly("[utils] failed to get path prefix:"+e.name+" -- "+e.message),"i"}}function h(e){try{const t=p(e);t!==window.location.href&&history.pushState({},"",t)}catch(t){$feedly("[utils] failed to push state:"+t.name+" -- "+t.message)}}function u(e,t){try{const s=p(e);s!==window.location.href&&history.replaceState({},t||"",s)}catch(s){$feedly("[utils] failed to push state:"+s.name+" -- "+s.message)}}function p(e){if(e.startsWith("library/")){const t=e.slice("library/".length);return window.location.protocol+"//"+window.location.host+"/"+t}return window.location.protocol+"//"+window.location.host+"/"+d()+"/"+e.replace("#","%23","gi")}},62363:(e,t,s)=>{"use strict";s.d(t,{y5:()=>l,h6:()=>c,_P:()=>d});var n=s(28033),i=s.n(n),r=s(32735),a=s(71262);const o={"American Express":(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M6.799 14.23h1.246l-.623-1.528-.623 1.527zm17.36-2.904h-3.191l-.779.84-.7-.84h-6.774l-.623 1.375-.623-1.375H8.745v.612l-.312-.612H6.098L3.84 16.674h2.725l.311-.84h.779l.311.84h3.036v-.611l.234.61h1.557l.234-.687v.688h6.228l.779-.84.7.84h3.192L21.902 14l2.258-2.674zm-9.42 4.584h-.856v-2.98l-1.324 2.98h-.778l-1.324-2.98v2.98h-1.79l-.312-.84H6.487l-.311.84H5.164l1.634-3.82h1.324L9.6 15.68v-3.59h1.479l1.168 2.597 1.09-2.597h1.478v3.82h-.077zm7.708 0h-1.168l-1.012-1.3-1.168 1.3h-3.504v-3.82h3.582l1.09 1.222 1.167-1.222h1.09L20.812 14l1.635 1.91zm-5.995-3.056v.688h1.946v.764h-1.946v.764h2.18l1.012-1.146-.934-1.07h-2.258z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 012.834-2.834h18.666a2.833 2.833 0 012.834 2.834v11.666a2.833 2.833 0 01-2.834 2.834H4.667a2.833 2.833 0 01-2.834-2.834V8.167zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667z",fill:"currentColor"}))})),"Diners Club":(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 012.834-2.834h18.666a2.833 2.833 0 012.834 2.834v11.666a2.833 2.833 0 01-2.834 2.834H4.667a2.833 2.833 0 01-2.834-2.834V8.167zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667z",fill:"currentColor"}),r.createElement("path",{d:"M12.25 11.75v4.5A2.33 2.33 0 0014 14a2.33 2.33 0 00-1.75-2.25z",fill:"currentColor"}),r.createElement("path",{d:"M16.333 9.333h-4.666a4.667 4.667 0 000 9.334h4.666a4.667 4.667 0 000-9.334zM11.667 17.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z",fill:"currentColor"}),r.createElement("path",{d:"M11.083 11.75A2.33 2.33 0 009.333 14a2.33 2.33 0 001.75 2.25v-4.5z",fill:"currentColor"}))})),Discover:(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 012.834-2.834h18.666a2.833 2.833 0 012.834 2.834v11.666a2.833 2.833 0 01-2.834 2.834H4.667a2.833 2.833 0 01-2.834-2.834V8.167zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667z",fill:"currentColor"}),r.createElement("path",{d:"M14.55 12.403c-.903 0-1.637.706-1.637 1.578 0 .927.702 1.619 1.637 1.619.914 0 1.633-.702 1.633-1.602.001-.894-.714-1.595-1.633-1.595zM5.255 12.46h-.88v3.071h.875c.466 0 .801-.11 1.096-.355.35-.289.558-.726.558-1.18 0-.906-.678-1.536-1.649-1.536zm.7 2.307c-.19.17-.432.244-.82.244h-.16v-2.03h.16c.388 0 .621.069.821.247.206.185.33.47.33.764 0 .296-.124.591-.33.775zM7.776 12.46H7.18v3.071h.597v-3.07zM9.242 13.637c-.36-.132-.466-.22-.466-.386 0-.193.189-.34.447-.34.18 0 .328.072.485.248l.312-.409a1.336 1.336 0 00-.902-.34c-.543 0-.958.377-.958.877 0 .425.193.64.755.845.235.081.354.137.415.175.12.077.179.188.179.316 0 .25-.198.434-.466.434a.708.708 0 01-.653-.41l-.386.374c.276.404.607.585 1.063.585.622 0 1.06-.416 1.06-1.01 0-.488-.203-.71-.885-.959zM10.315 13.997c0 .903.709 1.603 1.621 1.603.257 0 .478-.05.75-.18v-.705c-.24.241-.45.336-.724.336-.603 0-1.03-.436-1.03-1.059 0-.588.441-1.054 1.004-1.054.284 0 .5.1.75.345v-.704a1.533 1.533 0 00-.738-.188c-.906 0-1.633.713-1.633 1.606zM17.538 14.522l-.818-2.062h-.654l1.302 3.149h.322l1.327-3.149h-.648l-.83 2.062zM19.289 15.531h1.698v-.52h-1.099v-.829h1.057v-.52h-1.057v-.682h1.099v-.52h-1.698v3.071zM23.358 13.366c0-.575-.395-.906-1.087-.906h-.89v3.071h.601v-1.235h.078l.827 1.235h.738l-.966-1.295c.45-.091.699-.4.699-.87zm-1.201.507h-.174v-.929h.183c.374 0 .575.157.575.456 0 .307-.2.473-.584.473z",fill:"currentColor"}))})),JCB:(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 012.834-2.834h18.666a2.833 2.833 0 012.834 2.834v11.666a2.833 2.833 0 01-2.834 2.834H4.667a2.833 2.833 0 01-2.834-2.834V8.167zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.933 14.236H19.073l.018.001.02.001.018.002.019.002a.747.747 0 01.049.007l.007.002a.648.648 0 01.094.032.407.407 0 01.076.042.645.645 0 01.075.063.516.516 0 01.132.242.539.539 0 01-.094.438.514.514 0 01-.245.17.58.58 0 01-.038.01l-.007.001a.176.176 0 01-.03.005.747.747 0 01-.038.005l-.019.001-.019.001-.018.001H17.931v-1.026zm1.516-1.16a.506.506 0 01-.075.387.446.446 0 01-.207.159.425.425 0 01-.076.023l-.018.003-.005.001a.743.743 0 01-.07.008h-.038l-.003.001H17.933v-.947H18.978l.02.002a1.046 1.046 0 01.07.007h.005a.63.63 0 01.056.014l.019.006a.603.603 0 01.094.045.404.404 0 01.075.057.414.414 0 01.095.126.465.465 0 01.037.107s-.005-.022 0 0zm2.335-4.91h.008v9.723a1.965 1.965 0 01-.234.923 2.228 2.228 0 01-.132.21l-.018.026-.02.025-.018.024-.019.023a2.023 2.023 0 01-.019.022l-.019.023-.018.02a1.25 1.25 0 01-.02.021l-.018.02-.019.02-.019.019-.019.018a1.064 1.064 0 01-.018.018l-.02.018-.018.017a1.485 1.485 0 01-.019.017l-.019.016-.019.016-.018.015-.02.015-.018.015-.019.014-.019.014-.019.014-.018.013-.02.013-.018.012-.019.013-.019.012-.019.011-.018.012-.02.01-.018.012a.891.891 0 01-.019.01l-.019.01-.018.01-.02.01-.018.01-.02.009a1.083 1.083 0 01-.018.009l-.019.009-.018.008a1.542 1.542 0 01-.02.008l-.018.009-.019.007-.019.008-.019.007-.018.007-.02.007-.018.007-.019.006-.019.006-.019.007a4.434 4.434 0 00-.018.005l-.02.006a1.031 1.031 0 01-.018.005l-.019.005-.019.006-.019.004-.018.005-.02.004-.018.004-.019.005-.019.003-.019.004-.019.003-.018.003-.02.004-.018.002-.019.003-.019.003-.018.002-.02.002-.018.002-.019.002-.019.001-.019.002h-.018l-.02.002h-.018l-.019.001h-.019l-.019.001H16.98V15.87H20.07l.02-.002h.018l.019-.002h.019l.019-.002.018-.002.02-.002.018-.002.019-.002.019-.003.019-.003.019-.002.018-.004.02-.003.018-.004.019-.003.019-.005c.006 0 .012-.002.019-.004l.018-.004.02-.005.018-.005.019-.005.019-.006.018-.006.02-.006a1.036 1.036 0 00.037-.013l.019-.007a1.05 1.05 0 00.019-.008l.018-.008a.76.76 0 00.02-.008l.018-.008a1.08 1.08 0 00.038-.018l.019-.01.018-.01.02-.01.018-.01c.006-.005.013-.008.019-.012a1.196 1.196 0 00.17-.13.82.82 0 00.018-.019l.02-.02a.905.905 0 00.187-.311.848.848 0 00.046-.287.877.877 0 00-.064-.327.841.841 0 00-.358-.403 1.178 1.178 0 00-.038-.023l-.019-.01a1.121 1.121 0 00-.018-.01l-.02-.01a.656.656 0 00-.056-.027l-.019-.008a1.504 1.504 0 00-.018-.008l-.02-.007a.607.607 0 00-.018-.008l-.019-.007-.019-.006-.019-.007-.018-.006a.678.678 0 00-.02-.005l-.018-.006-.019-.005a1.318 1.318 0 00-.038-.01l-.018-.004-.02-.005c-.006 0-.012-.002-.018-.004l-.019-.003-.019-.004-.019-.003-.018-.003-.02-.003a.567.567 0 00-.018-.003l-.019-.003-.019-.002-.019-.002-.019-.002-.018-.002-.02-.002h-.017v-.023l.018-.003.019-.003.018-.003.02-.004a1.04 1.04 0 00.018-.004l.019-.004a1.034 1.034 0 00.038-.009l.019-.005a1.03 1.03 0 00.018-.005l.02-.006a1.363 1.363 0 00.056-.018l.019-.007.018-.007.02-.008a.63.63 0 00.056-.025l.018-.01.02-.009.018-.01.019-.01a1.164 1.164 0 00.056-.036l.02-.013.018-.014a1.025 1.025 0 00.132-.12l.019-.022a.832.832 0 00.188-.632.87.87 0 00-.075-.274.84.84 0 00-.15-.212.654.654 0 00-.095-.082.704.704 0 00-.038-.027l-.018-.013-.02-.012-.018-.011-.019-.01-.019-.011a1.11 1.11 0 00-.056-.029l-.02-.008a1.065 1.065 0 00-.018-.008l-.019-.008a1.05 1.05 0 00-.037-.015l-.02-.007-.018-.006a1.034 1.034 0 00-.019-.006l-.019-.006a1.031 1.031 0 00-.019-.005l-.018-.006a.659.659 0 00-.02-.005l-.018-.005-.019-.004a.64.64 0 00-.019-.004l-.019-.004-.019-.004a.626.626 0 00-.018-.003l-.02-.004-.018-.003-.019-.003-.019-.002-.018-.003-.02-.002-.018-.002-.019-.002-.019-.002-.019-.001-.018-.002h-.02l-.007-.001h-.011l-.019-.002h-.019l-.019-.002h-.018l-.02-.002h-.037l-.019-.001H16.98v-2.02a1.946 1.946 0 01.342-1.1l.019-.026a1.54 1.54 0 01.056-.076l.02-.023a2.061 2.061 0 01.037-.045l.019-.021.018-.021.02-.02.018-.02.019-.02.019-.018.019-.018.018-.017.02-.018.018-.016.019-.017.019-.016.019-.015a1.38 1.38 0 01.018-.015l.02-.015.018-.014a2.556 2.556 0 01.038-.028l.019-.013c.006-.005.012-.01.018-.013l.02-.013.018-.012.019-.013.019-.011.018-.012.02-.01.018-.012.019-.01.019-.01c.006-.004.012-.008.019-.01.006-.004.012-.008.018-.01l.02-.01a1.37 1.37 0 01.018-.01l.019-.009.019-.008.019-.01.018-.007.02-.008.018-.008.019-.008.019-.007.019-.007.018-.007.02-.007.018-.007.019-.006.019-.006.019-.006.018-.005.02-.006.018-.005.019-.005.019-.005.019-.005.018-.004.02-.004.018-.004.019-.004.019-.004.019-.004.019-.003.018-.003c.007 0 .013-.002.02-.003l.018-.002.019-.003.019-.002.018-.002.02-.003.018-.001.019-.002.019-.001.019-.001.018-.002h.02l.018-.001h.019l.019-.001H21.785zM6.249 14.933a7.063 7.063 0 01-.04-.02v-4.802a1.946 1.946 0 01.34-1.098l.02-.027c.005-.01.012-.018.018-.026l.019-.025.019-.025.018-.023a1.776 1.776 0 01.038-.045l.019-.021.019-.021.018-.02a1.743 1.743 0 01.038-.039l.019-.019.019-.018.018-.017.02-.018.018-.016.019-.017.019-.015A1.666 1.666 0 017 8.547l.018-.014a1.68 1.68 0 01.076-.051l.018-.013.02-.011.018-.012.019-.01c.006-.005.012-.008.019-.012l.018-.01.02-.01c.005-.004.012-.008.018-.01a2.07 2.07 0 01.038-.02l.018-.01a1.71 1.71 0 01.02-.009l.018-.008.019-.01.019-.007.018-.009.02-.007.018-.008.019-.007.019-.008.018-.007.02-.006.018-.007.019-.006.019-.006.018-.006.02-.006.018-.005.019-.006.019-.005.018-.005.02-.004.018-.005.019-.004.019-.004.018-.004.02-.003.018-.004.019-.003.019-.003.018-.003.02-.003.018-.003.019-.002.019-.002.018-.002.02-.002.018-.002.019-.001.019-.001.018-.002h.02l.018-.001h.019l.018-.001H11.021v9.722a1.957 1.957 0 01-.204.866l-.019.037a1.924 1.924 0 01-.056.1l-.02.03a2.909 2.909 0 01-.074.11l-.02.026a2.267 2.267 0 01-.037.048l-.019.023a1.99 1.99 0 01-.056.065l-.019.02-.019.02-.018.02a1.666 1.666 0 01-.038.036l-.019.018a1.556 1.556 0 01-.019.018l-.018.016-.02.017-.018.016-.019.016-.019.015-.018.015-.02.014-.018.014a1.285 1.285 0 01-.038.027l-.018.014-.02.012c-.005.005-.012.009-.018.013l-.019.012-.019.012a3.093 3.093 0 01-.018.011l-.02.012-.018.01-.019.011a.692.692 0 01-.037.021l-.02.01-.018.01a1.318 1.318 0 01-.019.009l-.019.01-.018.008-.02.009-.018.008-.019.008-.019.008-.018.008-.02.007-.018.007-.019.008-.019.006-.018.007-.02.006-.018.006c-.006.002-.012.005-.019.006l-.019.006-.018.006-.02.005-.018.005-.019.005-.019.005a1.196 1.196 0 01-.018.004l-.02.005-.018.004-.019.004-.019.003-.018.004-.02.003a1.169 1.169 0 01-.018.003l-.019.004-.019.002-.018.003-.02.002-.018.002-.019.003-.019.001-.018.002-.02.002H9.2l-.019.002-.019.001h-.018l-.02.002H6.21v-4.097l.04.01.018.005.02.004.018.005.019.004.019.005.018.004.02.004.018.004.019.004.019.004.018.004.02.004.018.004.019.004.019.004.018.004.02.003.018.004.019.004.019.003.018.004.02.003.018.004.019.003.019.003.018.004.02.003.018.003.019.003.019.003.018.003.02.003.018.003.019.003.019.003.018.003.02.003.018.003.019.002.019.003.018.003.02.002.018.003.019.002.019.003.018.003.02.002.018.002.019.003.019.002.018.002.02.002.018.003.019.002.019.002.018.002.02.002.018.002.019.002.019.002.018.002.02.001.018.002.019.002.019.002.018.001.02.002.018.001.019.002.019.001.018.002.02.001.018.002h.019l.019.002.018.001.02.002h.018l.019.002.019.001.018.001.02.001.018.001h.019l.019.002h.018l.02.001.018.001h.019l.019.001.018.001h.02l.018.001h.019l.019.001h.038l.018.001h.075l.019.001h.131l.02-.001h.037l.019-.001h.018l.02-.002h.037l.019-.002h.018l.02-.001.018-.001.019-.001.019-.001.018-.001.02-.001.018-.002h.019l.019-.002.018-.002.02-.001.018-.002.019-.001.019-.002.018-.002.02-.002.018-.002.019-.001.019-.002.018-.003.02-.002.018-.002.019-.002.019-.003.018-.002.02-.003.018-.003.019-.003.019-.002.018-.004c.007 0 .013-.002.02-.003l.018-.003.019-.003.019-.003.018-.004.02-.003.018-.004.019-.004.019-.004.018-.004.02-.004.018-.004.019-.004.019-.005.018-.005.02-.004.018-.005.019-.005.019-.005.018-.005.02-.006.018-.005.019-.006.019-.006.018-.006.02-.006.018-.006.019-.007.019-.007.018-.006.02-.007.018-.008.019-.007.019-.008.018-.008.02-.007.018-.009.019-.008.019-.009.018-.009.02-.009.018-.01.019-.01.019-.01a1.169 1.169 0 00.056-.031l.019-.011.019-.012.018-.012.02-.013.018-.012.019-.014.019-.013a.924.924 0 00.018-.014l.02-.015.018-.015a.976.976 0 00.038-.032l.018-.017.02-.017.018-.018a1.12 1.12 0 00.019-.02l.019-.019.018-.02a1.268 1.268 0 00.057-.069l.019-.025a1.168 1.168 0 00.15-.274 1.273 1.273 0 00.075-.267 1.687 1.687 0 00.028-.327V12.13H8.941v2.257a1.18 1.18 0 01-.042.306.945.945 0 01-.131.271.876.876 0 01-.188.189.724.724 0 01-.113.07.639.639 0 01-.057.027l-.018.008a.996.996 0 01-.076.028l-.018.006-.02.006a5.14 5.14 0 01-.018.005l-.019.005a1.076 1.076 0 01-.037.01c-.007 0-.013.002-.02.004l-.018.003a1.114 1.114 0 01-.038.007l-.018.003a1.104 1.104 0 01-.038.005l-.019.002c-.006 0-.012 0-.018.002l-.02.001a1.14 1.14 0 01-.037.002l-.019.001-.018.001h-.132l-.019-.001-.019-.001h-.018l-.02-.002-.018-.001-.019-.001-.019-.002-.018-.001-.02-.002-.018-.001-.019-.002-.019-.002-.018-.002-.02-.002-.018-.002-.019-.003-.019-.002-.018-.003-.02-.003-.018-.002-.019-.003-.019-.003-.018-.003-.02-.004-.018-.003-.019-.004-.019-.003-.018-.004-.02-.004-.018-.003-.019-.005-.019-.004-.018-.004-.02-.004-.018-.005-.019-.004-.019-.005-.018-.005-.02-.004-.018-.005-.019-.005-.019-.005-.018-.006-.02-.005-.018-.005-.019-.006-.019-.006-.018-.005-.02-.006-.018-.006-.019-.006-.019-.006-.018-.007-.02-.006-.018-.006-.019-.007-.019-.006-.018-.007-.02-.007-.018-.007-.019-.007-.019-.007-.018-.007-.02-.007-.018-.008-.019-.007-.019-.007-.018-.008-.02-.008-.018-.008-.019-.007-.019-.008-.018-.008-.02-.009-.018-.008-.019-.008-.019-.008-.018-.009-.02-.008-.018-.009-.019-.009-.019-.008-.018-.01zM11.712 12.623a1.938 1.938 0 00-.04.034V10.11a1.941 1.941 0 01.36-1.125l.019-.026.019-.025.018-.024.02-.024a1.296 1.296 0 01.056-.066l.018-.02a1.79 1.79 0 01.038-.04l.019-.02.018-.018.02-.019.018-.017.019-.017.019-.017.019-.016.018-.016a1.806 1.806 0 01.076-.06l.018-.014a3.198 3.198 0 01.038-.027l.019-.013a1.507 1.507 0 01.056-.037l.019-.012.019-.012.019-.01.018-.012.02-.01c.005-.004.012-.007.018-.01l.019-.01a1.51 1.51 0 01.019-.01l.018-.01.02-.01a1.49 1.49 0 01.018-.009l.019-.008.019-.01.018-.007.02-.008.018-.008.019-.008.019-.007.018-.008.02-.007.018-.006.019-.007.019-.006.018-.006.02-.006.018-.006.019-.005.019-.005.018-.006.02-.004.018-.005.019-.005.019-.004.018-.004.02-.004.018-.003.019-.004.019-.003.018-.003.02-.003.018-.003.019-.003.019-.002.018-.002.02-.002.018-.002.019-.002.019-.001.018-.001.02-.001.018-.001.019-.001h.019l.018-.001H16.485v9.722a1.956 1.956 0 01-.26.97l-.02.032-.018.03-.019.03-.019.028-.019.027a4.25 4.25 0 01-.094.123 3.697 3.697 0 01-.056.065l-.019.02a1.777 1.777 0 01-.094.094l-.019.018-.018.016-.02.017-.018.016-.019.015-.019.016-.018.015-.02.014-.018.014-.019.014-.019.013c-.006.005-.012.01-.018.013a2.117 2.117 0 01-.038.026l-.019.012-.019.012-.018.011-.02.012-.018.01a1.144 1.144 0 01-.019.011l-.019.01-.018.01-.02.01a1.679 1.679 0 01-.018.01l-.019.01-.019.01-.018.008-.02.009a1.539 1.539 0 01-.018.008l-.019.008-.019.008-.018.008-.02.007a.605.605 0 01-.018.007l-.019.008a1.41 1.41 0 01-.019.006l-.018.007-.02.006a1.369 1.369 0 01-.018.006l-.019.006-.019.006-.018.006-.02.005-.018.005-.019.005a1.286 1.286 0 01-.037.01l-.02.004-.018.004-.019.004-.019.003-.018.004-.02.003a1.227 1.227 0 01-.018.003l-.019.004-.019.002-.018.003-.02.002-.018.002-.019.003-.019.001-.018.002-.02.002h-.018l-.019.002-.019.001h-.018l-.02.002H11.673v-4.49a1.938 1.938 0 00.097.078l.019.014.018.013c.007.005.013.01.02.013l.018.013.019.013.019.012.018.012.02.012.018.011.019.011a.702.702 0 00.019.01l.018.012.02.01.018.01a.83.83 0 00.019.01l.019.01.018.01.02.009.018.009.019.009.019.008.018.009.02.008.018.008.019.008.018.008.02.008.018.007.019.008.019.007.019.007.018.007a.822.822 0 00.038.013l.019.007.019.006.018.006.02.006.018.006.019.006.019.006.018.005.02.006.018.005.019.005.019.005.018.005.02.005.018.005.019.005.019.004.018.005.02.004.018.004.019.005.019.004.018.004.02.004.018.003.019.004.019.004.018.003.02.004.018.003.019.003.019.004.018.003.02.003.018.003.019.003.019.002.018.003.02.003.018.003.019.002.019.002.018.003.02.002.018.002.019.003.019.002.018.002.02.002.018.002.019.002.019.001.018.002.02.002.018.001.019.002.019.001.018.002.02.001.018.001.019.002.019.001.018.001.02.001.018.001.019.001.019.001.018.001h.02l.018.002h.038l.018.002h.038l.019.001h.037l.02.001H13.95l.018.001H14.138l.018-.001h.038l.019-.001h.019l.018-.001h.02l.018-.001h.019l.019-.002h.018l.02-.001h.018l.019-.002h.019l.018-.001.02-.001.018-.001.019-.001.019-.002h.018l.02-.002.018-.002h.019l.019-.002.018-.002.02-.002.018-.001.019-.002.019-.002.018-.001.02-.002.018-.002.019-.002.019-.002.018-.002.02-.002.018-.002.019-.003.019-.002.018-.002.02-.003.018-.002.019-.002.019-.003.018-.002.02-.003.018-.003.019-.002.019-.003.018-.003.02-.002.018-.003.019-.003.019-.003.018-.003.02-.003.018-.003.019-.003.019-.003.018-.003.02-.003.018-.004.019-.003.019-.003.018-.004.02-.003.018-.003.019-.004.019-.003.018-.004.02-.003.018-.004.019-.004.019-.003.018-.004.02-.003.018-.004.019-.004.019-.004.018-.004.02-.004.018-.004.019-.004.019-.004.018-.004.02-.004.018-.004.019-.004.019-.004.018-.005.02-.004.018-.005.019-.004.019-.004.018-.005v-.823l-.018.01-.02.009-.018.01-.019.008-.019.01-.018.008-.02.009-.018.009-.019.008-.019.009-.018.008-.02.009-.018.008-.019.008-.019.008-.018.008-.02.008-.018.008-.019.007-.019.008-.018.007-.02.008-.018.007-.019.007-.019.007-.018.007-.02.007-.018.007-.019.006-.019.007-.018.006-.02.007-.018.006-.019.006-.019.006-.018.006-.02.005-.018.006-.019.006-.019.005-.018.005-.02.006-.018.005-.019.005-.019.005-.018.005-.02.004-.018.005-.019.004-.019.005-.018.004-.02.004-.018.004-.019.004-.019.004-.018.004-.02.004-.018.003-.019.004-.019.003-.018.003-.02.003-.018.003-.019.003-.019.003-.018.003-.02.002-.018.003-.019.002-.019.003-.018.002-.02.002-.018.002-.019.002-.019.002-.018.002-.02.001-.018.002h-.011l-.008.001-.019.001-.018.002h-.02l-.018.002h-.019l-.019.001h-.018l-.02.001h-.131l-.019-.002h-.018l-.02-.001-.018-.001-.019-.002-.019-.001-.018-.002-.02-.002-.018-.002-.019-.002-.019-.002-.018-.002-.02-.003-.018-.003-.019-.003-.019-.003-.018-.004c-.007 0-.013-.002-.02-.003l-.018-.004-.019-.004-.019-.004-.018-.005-.02-.004-.018-.005-.019-.005a1.03 1.03 0 01-.113-.037l-.018-.006-.02-.008-.018-.007-.019-.008-.019-.008a.818.818 0 01-.056-.027l-.019-.01-.019-.01-.018-.01-.02-.011-.018-.011-.019-.012-.019-.012-.018-.013a1.268 1.268 0 01-.02-.013l-.018-.014a.67.67 0 01-.019-.014l-.019-.015-.018-.016a.739.739 0 01-.076-.07.879.879 0 01-.094-.11.938.938 0 01-.094-.147.974.974 0 01-.056-.12 1.157 1.157 0 01-.056-.177 1.36 1.36 0 01-.038-.226 1.802 1.802 0 01.038-.563 1.358 1.358 0 01.131-.332.898.898 0 01.094-.137.82.82 0 01.094-.104.801.801 0 01.019-.018l.019-.018.019-.016a.968.968 0 01.037-.03l.019-.015.019-.014a1.268 1.268 0 01.037-.026l.02-.012a.593.593 0 01.056-.034.568.568 0 01.018-.01l.02-.01.018-.01.019-.01.019-.008.018-.009.02-.008.018-.008a1.05 1.05 0 01.038-.014l.018-.007.02-.007a4.124 4.124 0 01.037-.013l.019-.006.018-.005.02-.006.018-.005a5.073 5.073 0 01.038-.01l.018-.004.02-.004.018-.004.019-.004.019-.003.018-.004.02-.003.018-.003.019-.003.019-.003.018-.002.02-.002.018-.002.019-.002.019-.002.018-.002.02-.001.018-.002h.019l.019-.002h.018l.02-.001h.018l.019-.001h.131l.02.002h.018l.019.001.019.001.018.002h.02l.007.001.011.001.019.002.019.001.018.002.02.002.018.002.019.002.019.002.018.002.02.002.018.003.019.002.019.003.018.003.02.002.018.003.019.003.019.003.018.004.02.003.018.003.019.004.019.003.018.004.02.004.018.004.019.004.019.004.018.004.02.005.018.004.019.005.019.004.018.005.02.005.018.005.019.005.019.005.018.006.02.005.018.006.019.005.019.006.018.006.02.006.018.006.019.006.019.007.018.006.02.006.018.007.019.007.019.007.018.007.02.007.018.007.019.007.019.008.018.007.02.008.018.008.019.007.019.008.018.008.02.008.018.009.019.008.019.008.018.009.02.008.018.01.019.008.019.009.018.009.02.009.018.01.019.008.019.01.018.01v-.824l-.018-.005-.02-.004-.018-.005-.019-.004-.019-.004-.018-.005-.02-.004-.018-.004-.019-.004-.019-.004-.018-.004-.02-.004-.018-.004-.019-.004-.019-.004-.018-.004-.02-.004-.018-.004-.019-.004-.019-.003-.018-.004-.02-.004-.018-.003-.019-.004-.019-.003-.018-.004-.02-.003-.018-.004-.019-.003-.019-.003-.018-.004-.02-.003-.018-.003-.019-.003-.019-.004-.018-.003-.02-.003-.018-.003-.019-.003-.019-.003-.018-.003-.02-.003-.018-.002-.019-.003-.019-.003-.018-.003-.02-.003-.018-.002-.019-.003-.019-.002-.018-.003-.02-.002-.018-.003-.019-.002-.019-.002-.018-.003-.02-.002-.018-.002-.019-.002-.019-.002-.018-.003-.02-.002-.018-.002-.019-.001-.019-.002-.018-.002-.02-.002-.018-.002-.019-.001-.019-.002-.018-.001-.02-.002-.018-.001-.019-.002h-.019l-.018-.002-.02-.001-.018-.001-.019-.001-.019-.001-.018-.001h-.01l-.01-.001h-.018l-.019-.002h-.019l-.018-.001h-.02l-.018-.001h-.019l-.019-.001h-.018l-.02-.001h-.018l-.019-.001h-.037l-.02-.001H13.857l-.02.001h-.018l-.019.001h-.019l-.018.002h-.038l-.019.002h-.019l-.018.001-.02.001-.018.001-.019.001-.019.001-.018.002h-.02l-.018.002-.019.001-.019.002-.018.001-.02.002-.018.001-.019.002-.019.001-.018.002-.02.002-.018.002-.019.002-.019.002-.018.002-.02.002-.018.002-.019.002-.019.003-.018.002-.02.003-.018.002-.019.003-.019.002-.018.003-.02.003-.018.003-.019.003-.019.003-.018.003-.02.003-.018.003-.019.004-.019.003-.018.004-.02.003-.018.004-.019.004-.019.004-.018.004-.02.004-.018.004-.019.005-.019.004-.018.004-.02.005-.018.005-.019.004-.019.005-.018.005-.02.005-.018.006-.019.005-.019.005-.018.006-.02.006-.018.005-.019.007-.019.005-.018.007a1.034 1.034 0 00-.02.006l-.018.007-.019.006-.019.007-.018.007-.02.007a1.045 1.045 0 00-.018.007l-.019.007-.019.008-.018.007-.02.008-.018.008-.019.008-.019.009-.018.008-.02.01a1.083 1.083 0 00-.018.008l-.019.01-.019.008-.018.01-.02.01a.83.83 0 00-.018.01l-.019.01-.019.01a.84.84 0 00-.018.01l-.02.012-.018.01a1.178 1.178 0 00-.038.024l-.018.012-.02.012a1.225 1.225 0 00-.018.013l-.019.012a1.53 1.53 0 00-.056.04l-.019.015a.937.937 0 00-.038.03z",fill:"currentColor"}))})),MasterCard:(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.985 10.742a3.258 3.258 0 100 6.516 3.258 3.258 0 000-6.516zM6.727 14a4.258 4.258 0 118.516 0 4.258 4.258 0 01-8.516 0z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.724 9.942a4.258 4.258 0 11-2.134 6.59.5.5 0 01.804-.595 3.258 3.258 0 100-3.874.5.5 0 01-.804-.594 4.258 4.258 0 012.134-1.527z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 012.834-2.834h18.666a2.833 2.833 0 012.834 2.834v11.666a2.833 2.833 0 01-2.834 2.834H4.667a2.833 2.833 0 01-2.834-2.834V8.167zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667z",fill:"currentColor"}))})),Visa:(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M10.692 16.811h1.574l.986-5.778h-1.575l-.985 5.778zM16.427 13.353c-.55-.267-.888-.446-.884-.716 0-.24.286-.497.902-.497.505-.008.911.094 1.32.287l.214-1.252a4.065 4.065 0 00-1.411-.243c-1.557 0-2.653.784-2.662 1.907-.009.83.783 1.294 1.38 1.57.613.283.82.464.816.717-.003.387-.489.564-.942.564-.699 0-1.051-.108-1.685-.395l-.221 1.293c.368.162 1.048.302 1.755.309 1.655 0 2.73-.775 2.742-1.975.004-.657-.415-1.157-1.324-1.569zM22.017 11.039H20.8c-.377 0-.659.103-.825.479l-2.338 5.295h1.654s.27-.712.332-.868l2.017.002c.047.202.192.866.192.866h1.461l-1.276-5.774zm-1.941 3.724c.065-.166.707-1.816.836-2.166.213.996.005.03.471 2.166h-1.307zM9.372 11.037l-1.543 3.94-.164-.8-.552-2.656c-.095-.366-.372-.475-.714-.487H3.86l-.02.12c.618.15 1.17.365 1.655.633l1.4 5.019 1.667-.002 2.479-5.767H9.372z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 012.834-2.834h18.666a2.833 2.833 0 012.834 2.834v11.666a2.833 2.833 0 01-2.834 2.834H4.667a2.833 2.833 0 01-2.834-2.834V8.167zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667z",fill:"currentColor"}))}))};function l(e){return o[e]}function c({expirationMonth:e,expirationYear:t}={}){const s=new Date;return!i()(e)||!i()(t)||(s.getFullYear()>t||s.getFullYear()===t&&s.getMonth()+1>e)}function d({expirationMonth:e,expirationYear:t}={}){if(!i()(e)||!i()(t))return!0;const s=(new Date).getFullYear(),n=(new Date).getMonth()+1;return t===s&&(e===n||e===n+1)||t===s+1&&1===e&&12===n}},7757:(e,t,s)=>{"use strict";s.d(t,{VZ:()=>c,C0:()=>d,hd:()=>u});var n=s(86130),i=s(3171),r=(s(83294),s(68681)),a=s(9990),o=s(80889),l=s(35610);async function c(e){const t=await async function(e){if(!e)throw new Error("Authentication Code Missing");const t={code:e,client_id:"feedly",client_secret:"0XP4XQ07VVMDWBKUHTJM4WUQ",redirect_uri:document.location.toString().indexOf("sandbox.feedly.com")>-1?"http://dev.feedly.com/feedly.html":"http://www.feedly.com/feedly.html",grant_type:"authorization_code"};try{const e=await(0,a.Ko)("!{cloud}/v3/auth/token",(0,l.m1)(t),{authenticated:!1,"Content-Type":"application/x-www-form-urlencoded"}),s={};return s.plan=e.plan,s.provider=e.provider,s.feedlyId=e.id,s.feedlyToken=e.access_token,s.feedlyRefreshToken=e.refresh_token,s.feedlyExpirationTime=(new Date).getTime()+1e3*e.expires_in-1e4,s.created=(new Date).getTime(),s}catch(s){throw console.error("Failed to get session:",s),new Error("Failed to get session:"+s.message)}}(e);n.Z.utils.SessionUtils.save(t),gtag("event","login",{method:t.provider})}async function d(e=!1){let t=n.Z.utils.SessionUtils.load();return t?!e&&t.plan&&t.feedlyToken&&t.feedlyExpirationTime>(new Date).getTime()?(t.feedlyExpirationTime-(new Date).getTime()<(0,i.z1)(1)&&h(t,!0),t):await h(t):null}async function h(e,t=!1){if(!e||!e.feedlyRefreshToken)return n.Z.utils.SessionUtils.clear(),null;const s={refresh_token:e.feedlyRefreshToken,client_id:"feedly",client_secret:"0XP4XQ07VVMDWBKUHTJM4WUQ",grant_type:"refresh_token"};try{const t=await(0,a.Ko)("!{cloud}/v3/auth/token",(0,l.m1)(s),{authenticated:!1,"Content-Type":"application/x-www-form-urlencoded"});return(!t.expires_in||t.expires_in<0)&&(t.expires_in=86400),e.feedlyToken=t.access_token,e.feedlyExpirationTime=(new Date).getTime()+1e3*t.expires_in-1e4,e.plan=t.plan||"standard",e.lastUpdated=(new Date).getTime(),n.Z.utils.SessionUtils.save(e),e}catch(i){if(t)return null;if(i instanceof r.o&&[401,403,429].includes(i.errorCode))return n.Z.utils.SessionUtils.clear(),null;throw console.error("failed to renew session",status),i}}async function u(){let e=await d();if(!e)throw new Error("no session");const t=await(0,a.kA)("!{cloud}/v3/profile");if(!t)throw new Error("no profile");const s=await(0,a.kA)("!{cloud}/v3/preferences");if(!s)throw new Error("no preferences");let n=[];if(("business"===e.plan||"enterprise"===e.plan)&&(n=await(0,a.kA)("!{cloud}/v3/enterprise/users"),!n))throw new Error("no users");if(function(e,t){const s=t.enterpriseName||t.adHocEnterpriseName,{enterpriseStatus:n,product:i,subscriptionStatus:r}=t;if("business"!==e&&"enterprise"!==e&&s&&"Unpaid"!==n)return console.log("[feedly] session should be upgraded to business"),!0;if("standard"===e&&"Active"===r)return console.log("[feedly] session should be upgraded to pro"),!0;if("proPlus"!==e&&(0,o.sL)(i))return console.log("[feedly] session should be upgraded to pro+"),!0;return!1}(e.plan,t)&&(e=await h(e),!e))throw new Error("no session");let i={preferences:s,profile:t,users:n,userId:e.feedlyId,plan:e.plan};return console.log("[feedly] initial context ready",i.userId,i.plan),i}},42566:(e,t,s)=>{"use strict";s.d(t,{r:()=>n});const n=Object.freeze({accent:"accent",danger:"danger",deepGray:"deep-gray",secure:"secure"})},88709:(e,t,s)=>{"use strict";s.d(t,{nm:()=>n,dh:()=>i,MG:()=>r,Mn:()=>a,vZ:()=>o});const n="cybersecurityStreamId",i="nlp/f/topic/4050",r=Object.freeze({CN:"China",IR:"Iran",KP:"North Korea",RU:"Russian Federation",TR:"Turkey",US:"USA"}),a=Object.freeze({malware:"malwareFamily",threatActor:"threatActor"}),o=Object.freeze({mitreAttack:"mitreAttack",vulnerability:"vulnerability",threat:"threat",threatActor:"threatActor"})},3015:(e,t,s)=>{"use strict";s.d(t,{HA:()=>a,p6:()=>d,Sy:()=>h,cc:()=>p,EO:()=>m,vp:()=>g});var n=s(24443),i=s.n(n);const r=Object.freeze({hour:60,day:1440,month:44640,year:535680}),a=Object.freeze({day:864e5,week:6048e5,month:2592e6});var o=["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function c(e){return(e<0||e>9?"":"0")+e}function d(e,t){t+="";let s="",n=0,i="",r="",a=e.getYear()+"";const d=e.getMonth()+1,h=e.getDate(),u=e.getDay(),p=e.getHours(),m=e.getMinutes(),g=e.getSeconds(),f=-1*Math.floor(e.getTimezoneOffset()/60),y={};a.length<4&&(a=""+(a-0+1900)),y.y=""+a,y.yyyy=a,y.yy=a.substring(2,4),y.M=d,y.MM=c(d),y.MMM=o[d+11],y.MMMM=o[d-1],y.NNN=o[d+11],y.d=h,y.dd=c(h),y.E=l[u+7],y.EE=l[u],y.H=p,y.HH=c(p),y.h=0==p?12:p>12?p-12:p,y.hh=c(y.h),y.K=p>11?p-12:p,y.k=p+1,y.KK=c(y.K),y.kk=c(y.k),y.a=p>11?"PM":"AM",y.m=m,y.mm=c(m),y.s=g,y.ss=c(g),y.z="UTC"+(f>=0?"+"+f:f);for(;n<t.length;){if(i=t.charAt(n),"'"==i)do{if(i=t.charAt(++n),"'"==i&&(n++,"'"!=t.charAt(n)))break;s+=i}while(n<t.length);for(r="";t.charAt(n)==i&&n<t.length;)r+=t.charAt(n++);null!=y[r]?s+=y[r]:s+=r}return s}function h(e,t,s){if(!e||"Invalid Date"===e.toString())return null;const n=!0===t?{minutes:" minutes",hour:" hour",hours:" hours",day:" day",days:" days",month:" month",months:" months"}:{minutes:"min",hour:"h",hours:"h",day:"d",days:"d",month:"mo",months:"mo"},i=(Date.now()-e.getTime())/1e3,r=Math.floor(i/86400),a=Math.floor(r/30),o=Math.floor((i-24*r*3600)/3600),l=Math.floor(i/60);let c;const d=!0===s?" ago":"";return c=l<2?"now":l<60?l+n.minutes+d:0===r?o+(1===o?n.hour:n.hours)+d:a<2?r+(1===r?n.day:n.days)+d:a+(1===a?n.month:n.months)+d,c}const u=12;function p(e){let t,s=e;return e>=u?(t="PM",e>u&&(s-=u)):(t="AM",0===e&&(s=u)),{meridiem:t,hour:s}}function m(e,t){return"PM"===t&&e<u?e+u:"AM"===t&&e===u?0:e}function g(e){const t=Math.round(e/6e4);if(t<r.hour)return t<1?"1 minute":i()("minute",t,!0);if(t>=r.hour&&t<r.day){const e=Math.round(t/r.hour);return e<1?"1 hour":i()("hour",e,!0)}if(t>=r.day&&t<r.month){const e=Math.round(t/r.hour/24);return e<1?"1 day":i()("day",e,!0)}if(t>=r.month&&t<r.year){const e=Math.round(t/r.hour/24/31);return e<1?"1 month":i()("month",e,!0)}return"More than a year"}},47567:(e,t,s)=>{"use strict";function n(e){"string"==typeof e&&(e=parseInt(e));var t=new Date;return t.setTime(e),t}function i(e,t){return!(!e||!t)&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function r(e){return i(e,new Date)}function a(e){return i(e,new Date(Date.now()-864e5))}function o(e){const t=new Date;return e.getFullYear()===t.getFullYear()}function l(e){var t,s=new Date(e.valueOf()),n=(e.getUTCDay()+6)%7;return s.setUTCDate(s.getUTCDate()-n+3),t=s.valueOf(),s.setUTCMonth(0,1),4!==s.getUTCDay()&&s.setUTCMonth(0,1+(4-s.getUTCDay()+7)%7),Math.ceil((t-s)/6048e5)+1}s.d(t,{Bq:()=>n,Y3:()=>r,UW:()=>a,g1:()=>o,uW:()=>l})},97418:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});const n=Object.freeze({oneNote:"OneNote",evernote:"Evernote",instapaper:"instapaper",pocket:"Pocket"})},18514:(e,t,s)=>{"use strict";function n(e,{isRelatedEntries:t=!1}={}){return e&&0!==e.length?e.reduce(((e,s)=>{const{uniques:n,titleIndex:i,urlIndex:r,idIndex:a}=e,o=s.getCanonicalUrl(),l=s.getTitle(),c=s.getId();if(o&&r[o]||l&&i[l]||c&&a[c])return e;o&&(r[o]=s),l&&(i[l]=s);let d=!1;return c&&!t&&(a[c]=!0,s.listDuplicates().forEach((e=>{a[e.entryId]=!0})),s.listRelatedEntries().forEach((e=>{a[e.entryId]&&(d=!0)}))),d||n.push(s),e}),{uniques:[],titleIndex:{},urlIndex:{},idIndex:{}}).uniques:e}s.d(t,{q:()=>n})},53623:(e,t,s)=>{"use strict";s.d(t,{sn:()=>n,CO:()=>i,Sh:()=>r});const n={autocomplete:"autocomplete",discover:"discover",leoSourceSearch:"leoSourceSearch",store:"store",suggestoSourceSearch:"suggestoSourceSearch",topicSearch:"topicSearch"},i={leo:"leo",placeholder:"placeholder",suggesto:"suggesto",topic:"topic"},r=2},5371:(e,t,s)=>{"use strict";s.d(t,{vH:()=>n,cO:()=>i});const n=56,i=48},57855:(e,t,s)=>{"use strict";s.d(t,{du:()=>a,cE:()=>o,MF:()=>l,EB:()=>c,Hp:()=>d,$$:()=>h,x5:()=>u,aT:()=>p,Ld:()=>m,D4:()=>f,tJ:()=>y,BB:()=>v,Iz:()=>b});var n=s(77834),i=s(16847);const r={button:!0,details:!0,input:!0,select:!0,textarea:!0};function a(e,t=document.body){if("string"!=typeof e)return void console.error("[focusLink] The `url` is required.");const s=t.querySelector(`a[href='${e}']`);s&&s.focus()}function o(e,t){if(!e||!t)return console.error("[domUtils] The `node` and `className` are required."),!1;let{parentNode:s}=e;for(;s&&s!==document;){if(s.classList.contains(t))return s;s=s.parentNode}return null}function l(e,t){return!!o(e,t)}function c(e){const{disabled:t,href:s,tabindex:n}=e,i=e.tagName.toLowerCase();return"number"==typeof n?n>-1:r[i]?!t:"a"===i&&!!s}function d(e,t){const s=e.document?e.document.documentElement:e,n="HTML"===s.tagName?window.pageYOffset:e.scrollTop,{clientHeight:i,scrollHeight:r}=s;let a;return t?a=t:(a=1.5*i,streets.service("pageManager").shouldAutoSelectOnScroll()&&(a+=i)),n+i>r-a}function h(e){var t=e.defaultView;return"number"==typeof t.innerHeight?t.innerHeight:e.documentElement&&e.documentElement.clientHeight?e.documentElement.clientHeight:e.body&&e.body.clientHeight?e.body.clientHeight:void 0}function u(e){if(null==e||null==e.defaultView)return 1024;var t=e.defaultView;return"number"==typeof t.innerWidth?t.innerWidth:e.documentElement&&e.documentElement.clientWidth?e.documentElement.clientWidth:e.body&&e.body.clientWidth?e.body.clientWidth:void 0}function p(e,t,s,n){let i;return null==e?null:1!=e.nodeType||"*"!=t&&t!=e.tagName||(i=e.getAttribute(s),!i||"*"!=n&&n!=i)?p(e.parentNode,t,s,n):e}function m(e,t){if(null==e)return null;if(1==e.nodeType&&null!=e.getAttribute(t))return e.getAttribute(t);const s=e.parentNode;return null!=s?m(s,t):null}function g(e){return null==e?null:e.replace("&amp;","&","g")}function f(e){try{if(null==e)return[];const t=[];let s=0;for(;s>-1;){const n=(0,i._o)(e,"<a","</a>",s);if(null==n)s=-1;else{s=n.end;const e=(0,i._o)(n.content,'href="','"');null!=e&&null!=e.content&&t.push({href:g(e.content),all:n.content})}}return t}catch(t){return $feedly("[nitro] failed to listLinks:"+t.name+" -- "+t.message),[]}}function y(e){if(null==e)return null;const t=(0,i._o)(e,'href="','"');return null==t?null:t.content}function v(e){try{if(null==e)return[];const t=[];let s=0;for(;s>-1;){const r=(0,i._o)(e,"<img",">",s);if(null!=r&&null!=r.content){s=r.end;const e=r.content,a={src:(0,i.Y7)(e,"src","string"),srcset:(0,i.Y7)(e,"srcset","string"),width:(0,i.Y7)(e,"width","int"),height:(0,i.Y7)(e,"height","int"),featured:e.indexOf("webfeedsFeaturedVisual")>-1};let o=(0,i.Y7)(e,"alt","string");o&&o.length>0&&(a.alt=o);let l=(0,i.Y7)(e,"title","string");l&&l.length>0&&(a.title=l);const c=(0,i.Y7)(e,"data-lazy-src","string");if(c&&(a.src=c),a.src&&a.src.startsWith("http")&&(a.url=g(a.src)),a.srcset){const e=(0,n.p)(a.srcset);e&&(a.url=e)}a.url&&t.push(a)}else s=-1}return t}catch(t){return $feedly("[nitro] listImages failed "+t.name+" -- "+t.message),[]}}function b(){const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const s=e.offsetWidth;t.style.overflow="scroll";let n=e.offsetWidth;return s==n&&(n=t.clientWidth),document.body.removeChild(t),s-n}},35330:(e,t,s)=>{"use strict";s.d(t,{V2:()=>C,im:()=>I,x$:()=>k,xG:()=>_,xf:()=>S,hR:()=>P,RC:()=>M,co:()=>E});var n=s(86130),i=s(3171),r=s(94866),a=s(57471),o=s(54960),l=s(63403),c=s(48689),d=s(35610);var h=s(74221),u=s(68971),p=s(3167),m=s(85251),g=s(16847),f=s(99220);const y=/feed:\/\//gi,v=Object.freeze({description:"Product updates and news from Feedly",title:"New Features"}),b=Object.freeze({likeBoard:"likeBoard"});async function E(e,t){if(!e)return null;const s=streets.service("reader"),n=await s.askUnreadCountsIndex(t);return e.forEach((e=>{e.unreadCount=n[e.id],e.feeds&&e.feeds.forEach((e=>{e.unreadCount=n[e.id]}))})),e}async function C(e,t){if(!e)return null;if(!e.length)return e;const s=streets.service("reader"),n=streets.service("enterprisecollections"),i=streets.service("preferences"),r=await s.askUnreadCountsIndex(t);for(let a=0;a<e.length;a+=1){const t=e[a];await w(t,{unreadCountsIndex:r,enterprisecollections:n,preferences:i})}return(0,m.zy)(e)}async function w(e,{unreadCountsIndex:t,enterprisecollections:s,preferences:n}){if(!e)return null;const{isEnterprise:i,isFavorites:r,isUncategorized:a}=(0,h.Yg)(e.id);let o;i&&!e.emailSettings&&(e.emailSettings=s.getDefaultEmailSettings()),r&&(e.label="Favorites"),e.LABEL=e.label&&e.label.toUpperCase(),e.unreadCount=t[e.id],e.subscribed=void 0!==e.unreadCount,e.streamId=e.id,e.uri=(0,f.no)(e.id),e.prefContext=(0,f.uu)(e.id),e.isGlobalMust=r,e.isGlobalUncategorized=a,e.feeds||(e.feeds=[]),e.feeds=await I(e.feeds,{unreadCountsIndex:t,preferences:n}),0===Object.keys(t).length&&e.feeds.forEach((e=>{e.subscribed=!0})),e.feeds.sort(((e,t)=>e.title?t.title?e.title.localeCompare(t.title):1:-1)),e.getFeed=t=>(o||(o={},e.feeds.forEach((e=>{o[e.id]=e}))),o[t]||null),e.containsFeed=t=>!!e.getFeed(t)}async function k(e){if(!e)return null;const t=await streets.service("collections").askLabelsIndex();return e.forEach((e=>function(e,t){if(!e)return;let s=e.streamIds&&e.streamIds[0];if(!s){const{isEnterprise:t}=(0,h.Yg)(e.id);s=t?(0,h.Gr)():(0,h.N1)()}const n=s?t[s]:"All Feeds";e.streamLabel=n,e.numEntries||(e.numEntries=0)}(e,t))),e}async function _(e){const t=await streets.service("collections").askLabelsIndex();return e.forEach((e=>function(e,t){const{streamId:s,term:n}=e;e.id=(0,u.s)(e),e.label=n.label||n.text;const i=s?t[s]:"All Feeds";e.streamLabel=i,e.numEntries||(e.numEntries=0);return e}(e,t))),e}async function M(e,t){if(!e)return null;const s=streets.service("reader"),n=streets.service("enterprisetags"),r=streets.service("preferences"),a=await s.askUnreadCountsIndex(t);return e.forEach((async e=>await async function(e,{unreadCountsIndex:t,enterprisetags:s},{cachedUnreadCountsOnly:n=!1}={}){if(!e)return null;const{isEnterprise:r,isReadLater:a}=(0,h.Yg)(e.id);if(r){const t=streets.service("reader").getStreamUnreadCountInfo(e.id);t&&t.capped&&(e.isCapped=t.capped),e.emailSettings||(e.emailSettings=s.getDefaultEmailSettings()),e.bufferSettings||(e.bufferSettings=s.getDefaultBufferSettings()),e.microsoftTeamsSettings||(e.microsoftTeamsSettings=s.getDefaultWebhookSettings())}a&&(e.label="Read later");e.LABEL=e.label&&e.label.toUpperCase(),e.unreadCount=t[e.id],n&&null==e.unreadCount||(e.subscribed=void 0!==e.unreadCount);e.streamId=e.id,e.uri=(0,f.no)(e.id),e.prefContext=(0,f.gQ)(e.id),e.score=(new Date).getTime()-e.lastEntryAdded<(0,i.z1)(7)?1e5:0,e.users&&(e.score+=e.users.length)}(e,{unreadCountsIndex:a,enterprisetags:n,preferences:r},t))),(e=e.filter((e=>{const{isRecentlyRead:t}=(0,h.Yg)(e.id);return!t&&!!e.label}))).sort((function(e,t){return e.label.localeCompare(t.label)})),e}async function S(e,t={}){if(!e)return null;const s=streets.service("reader"),n=streets.service("collections"),i=await s.askUnreadCountsIndex(t);let r={};t.skipStreamLabel||(r=await n.askLabelsIndex());for(let a=0;a<e.length;a++){let s=e[a];await T(s,{unreadCountsIndex:i,streamLabels:r},t)}return e.sort((function(e,t){return e.label?t.label?e.label.localeCompare(e.label):-1:1})),e}async function T(e,{unreadCountsIndex:t,streamLabels:s},{cachedUnreadCountsOnly:n=!1,skipStreamLabel:i=!1}={}){if(!e)return null;const r=streets.service("reader").getStreamUnreadCountInfo(e.id);r&&r.capped&&(e.isCapped=r.capped);const a=e.streamIds[0],o=a===(0,h.Gr)()||a===(0,h.N1)();if(e.label||(e.label="unnamed"),e.LABEL=e.label&&e.label.toUpperCase(),e.unreadCount=t[e.id],e.isGlobal=o,e.numEntriesMatching=e.numEntriesMatching||0,o?e.isFollowingStream=null!=e.unreadCount:n&&null==e.unreadCount||(e.isFollowingStream=!!t[a]),!i){const t=s[a]||"[deleted feed]";e.streamLabels=[t],e.streamLabel=t}e.uri=(0,f.no)(e.id),e.prefContext=(0,f.UO)(e.id)}async function I(e,{unreadCountsIndex:t,preferences:s}={}){if(!e)return[];if(!t){const e=streets.service("reader");t=await e.askUnreadCountsIndex()}return s||(s=streets.service("preferences")),e.map((e=>(function(e){if(!e)return;e.id||(e.id=e.feedId);const t=streets.service("reader").getStreamUnreadCountInfo(e.id);t&&t.capped&&(e.isCapped=t.capped);e.id=e.id.replace(y,"http://"),e.title=e.title||"",e.title=(0,g.oN)(e.title),e.title=e.title.replace(/ - Medium$/gi,""),(0,h.m2)(e.id)&&(e.title=v.title,e.description=v.description);e.description=e.description||"",e.subscribers=e.subscribers||1,e.tags||(e.tags=e.deliciousTags||e.topics);e.topics||(e.topics=e.tags);(0,r.Co)(e)?e.ownerPicture?(e.favicon=null,e.visualUrl=e.ownerPicture,e.iconUrl=e.ownerPicture,e.fallbackIconUrl=n.Z.s3("images/logos/publicboard-favicon@2x.png")):(e.visualUrl=n.Z.s3("images/logos/publicboard-visual@2x.png"),e.iconUrl=n.Z.s3("images/logos/publicboard-favicon@2x.png")):(0,r.dB)(e)?(e.favicon=null,e.iconUrl=n.Z.s3("images/logos/newsletter-favicon-v2@2x.png"),e.visualUrl=n.Z.s3("images/logos/newsletter-visual-v2@2x.png")):(0,r.$O)(e)?(e.favicon=null,e.iconUrl=n.Z.s3("images/logos/webalert-favicon-v3@2x.png"),e.visualUrl=n.Z.s3("images/logos/webalert-visual-v3@2x.png")):(s=e.id,s&&(s.includes("gdata.youtube.com")||s.includes("youtube.com/feeds")||s.includes("youtube.com/playlist"))?e.iconUrl&&-1===e.iconUrl.indexOf("feedly.com")?(e.fallbackIconUrl=n.Z.s3("images/logos/youtube-favicon@2x.png"),e.visualUrl||(e.visualUrl=n.Z.s3("images/logos/youtube-visual@2x.png"))):(e.iconUrl=n.Z.s3("images/logos/youtube-favicon@2x.png"),e.visualUrl=n.Z.s3("images/logos/youtube-visual@2x.png")):(0,l.hj)(e.id)?(e.iconUrl=n.Z.s3("images/logos/reddit-favicon@2x.png"),e.visualUrl=n.Z.s3("images/logos/reddit-visual@2x.png")):(0,c.iR)(e.id)?e.iconUrl&&-1===e.iconUrl.indexOf("feedly.com")?(e.fallbackIconUrl=n.Z.s3("images/logos/twitter-favicon@2x.png"),e.visualUrl||(e.visualUrl=n.Z.s3("images/logos/twitter-visual@2x.png"))):(e.iconUrl=n.Z.s3("images/logos/twitter-favicon@2x.png"),e.visualUrl=n.Z.s3("images/logos/twitter-visual@2x.png")):(e.favicon=function(e){if(!e)return"https://www.google.com/s2/favicons?domain=google.com";if(e.indexOf("twitter.com")>-1)return"https://twitter.com/favicon.ico";return"https://www.google.com/s2/favicons?domain="+e.split("/").slice(2,3)+"&alt=feed"}(e.website||e.id.slice("feed/".length)),e.fallbackIconUrl=n.Z.s3("images/logos/rss-favicon-v2@2x.png"),e.visualUrl||(e.visualUrl=n.Z.s3("images/logos/rss-visual-v2@2x.png"))));var s;if(e.visualUrl=(0,d.w6)(e.visualUrl),e.coverUrl=(0,d.w6)(e.coverUrl),e.iconUrl=(0,d.w6)(e.iconUrl),delete e.deliciousTags,(0,o.Qc)(e.id)){let t=(0,o.ww)(e.id),{domain:s,keyword:i}=(0,o.tQ)(t);e.isGoogleNews=!0,e.googleNewsQuery=t,e.googleNewsKeyword=i,e.googleNewsDomain=s,e.googleNewsLanguage=(0,o.Ds)(e.id),e.defaultTitle=s?`${i} in ${s}`:`${i}`,e.iconUrl=n.Z.s3("images/logos/google-favicon@2x.png"),e.title.endsWith(" Google News")&&(e.title=e.defaultTitle),e.visualUrl=n.Z.s3("images/logos/google@2x.png"),e.description=`Track mentions of ${t||""} across the world's top news publications`,s&&(e.description=`Track mentions of ${i} within ${s}`),e.title&&!e.title.includes("news.google")||(e.title=`${i}`)}if((0,a.tp)(e.id)){e.iconUrl=n.Z.s3("images/logos/google@2x.png"),e.visualUrl=n.Z.s3("images/logos/google@2x.png");let t=(0,a.IG)(e.title);t?(e.title=t+"  Google Alert",e.description="Get the content of your "+t+" Google Alert delivered to your Feedly"):e.description="Get the content of your Google Alerts delivered to your Feedly"}e.categories=e.categories||[],e.uri=(0,f.no)(e.id),e.prefContext=(0,f.ct)(e.id),e.state=e.state||"alive",e.velocity=e.velocity||0,e.numLongReadEntriesPastMonth=e.numLongReadEntriesPastMonth||0,e.numLongReadEntriesPastWeek=e.numLongReadEntriesPastWeek||0,e.numReadEntriesPastMonth=e.numReadEntriesPastMonth||0,e.numReadEntriesPastWeek=e.numReadEntriesPastWeek||0,e.numTaggedEntriesPastMonth=e.numTaggedEntriesPastMonth||0,e.numTaggedEntriesPastWeek=e.numTaggedEntriesPastWeek||0,e.totalReadingTimePastMonth=e.totalReadingTimePastMonth||0,e.totalReadingTimePastWeek=e.totalReadingTimePastWeek||0}(e),e.unreadCount=t[e.id],e.subscribed=null!=t[e.id],e.streamId=e.id,e.navigation=N(s,e.id,p.T$)||"inline",e.u=parseInt(N(s,e.id,p.aR)),e.following=!0,e)))}function N(e,t,s){return t&&s&&e?e.getPreference(s,"subscription/"+t):null}async function P(e){return await Promise.all(e.map((async e=>e.type===b.likeBoard?await async function(e){const{isEnterprise:t}=(0,h.Yg)(e.streamId),s=t?streets.service("enterprisetags"):streets.service("personaltags"),n=(await s.askListTags()).find((t=>t.id===e.boardId));n&&(e.label=n.label);return e}(e):e)))}},84955:(e,t,s)=>{"use strict";s.d(t,{Yl:()=>d,Z7:()=>h,Jw:()=>u,UP:()=>p,tp:()=>m});var n=s(32735),i=s(71262);const r=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M18.359 14.47a.5.5 0 01.06.638l-.058.069-6.048 6.088a.5.5 0 01-.64.059l-.07-.059-5.958-5.998a.5.5 0 01.64-.763l.07.058 5.602 5.642 5.694-5.732a.5.5 0 01.708-.002zm-5.916-5.715l.041.084 1.554 3.95 1.526-3.025a.5.5 0 01.845-.078l.048.078.875 1.736h3.686a.5.5 0 01.492.41l.008.09a.5.5 0 01-.41.492l-.09.008h-3.993a.5.5 0 01-.397-.196l-.05-.078-.568-1.126-1.58 3.138a.5.5 0 01-.87.045l-.043-.087-1.506-3.826-1.554 3.831a.5.5 0 01-.86.117l-.05-.082-1.688-3.386-1.506 1.504a.5.5 0 01-.275.14L6 12.5H3.02a.5.5 0 01-.09-.992l.09-.008h2.773l1.851-1.848a.5.5 0 01.754.053l.047.078 1.502 3.015 1.609-3.964a.501.501 0 01.834-.15l.053.071zm3.961-5.826c1.444 0 2.828.577 3.849 1.604a5.49 5.49 0 011.305 5.627.5.5 0 11-.948-.32 4.5 4.5 0 00-1.067-4.602 4.423 4.423 0 00-3.139-1.31c-1.099 0-2.155.41-2.969 1.147l-.17.163-.952.959a.5.5 0 01-.64.058l-.07-.058-.952-.959a4.418 4.418 0 00-6.278 0 4.485 4.485 0 00-1.267 3.725c.037.3.105.596.201.883a.5.5 0 11-.947.32c-.118-.351-.2-.713-.246-1.08a5.485 5.485 0 011.55-4.552 5.417 5.417 0 017.517-.174l.18.174.597.6.597-.6a5.425 5.425 0 013.58-1.599l.27-.006z",fill:"currentColor",fillRule:"nonzero"}))}));const a=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M6.26 5.488H4.429a1.5 1.5 0 00-1.5 1.5v11.571a2.5 2.5 0 002.5 2.5H18.57a2.5 2.5 0 002.5-2.5V9.342l-.007-.086a.5.5 0 00-.8-.309l-5.844 4.538V9.342l-.007-.086a.5.5 0 00-.8-.31l-5.853 4.54V6.988a1.5 1.5 0 00-1.5-1.5zm-1.831 1H6.26a.5.5 0 01.5.5v7.52l.007.085a.5.5 0 00.8.31l5.853-4.541v4.145l.007.086a.5.5 0 00.8.309l5.844-4.538v8.195a1.5 1.5 0 01-1.5 1.5H5.43a1.5 1.5 0 01-1.5-1.5V6.988a.5.5 0 01.5-.5zM10.3 2.929c.512 0 .862.11 1.368.384l.283.159c.412.235.621.314.91.314.194 0 .441-.043.725-.123.237-.067.492-.159.756-.268a9.22 9.22 0 00.859-.405.5.5 0 01.481.877l-.279.144c-.212.105-.44.21-.678.308a7.958 7.958 0 01-.866.306c-.366.104-.699.16-.997.16-.444 0-.767-.1-1.21-.335l-.283-.16c-.48-.274-.712-.361-1.069-.361-.643 0-1.418.258-2.32.788a.5.5 0 11-.506-.862c1.042-.613 1.982-.926 2.826-.926z"})))}));var o=s(54533),l=s(44096),c=s(75755);const d=Object.freeze({Biopharma:r,LeoIndustryTopics:a,LeoSecurity:o.Z}),h=Object.freeze({Biopharma:l,Enterprise:c,LeoIndustryTopics:c,LeoSecurity:c}),u=Object.freeze({Biopharma:"Feedly for Biopharma",Enterprise:"Feedly Enterprise",LeoIndustryTopics:"Feedly Enterprise",LeoSecurity:"Feedly for Cybersecurity"}),p=Object.freeze({Biopharma:"landing/biopharma",Enterprise:"pro/enterprise",LeoIndustryTopics:"pro/industry-topics",LeoSecurity:"landing/cybersecurity"}),m=Object.freeze({Biopharma:"Biopharma",Enterprise:"Enterprise",LeoIndustryTopics:"LeoIndustryTopics",LeoSecurity:"LeoSecurity"})},32853:(e,t,s)=>{"use strict";s.d(t,{LF:()=>r,qV:()=>a,IE:()=>o,a3:()=>l});var n=s(84955),i=s(16847);function r(e,t){let s=e;return t&&(s+=` / ${t}`),s}function a(e){e||console.error("[enterpriseUtils] getEnterprisePlanName - teamInfo required");const{enterpriseFeatures:t,leoBillingPricePerCycleInCents:s}=e;return s||streets.isEnterprisePlan()?t&&t.length?(0,i.sw)(t.map((e=>n.Jw[e]))):"Feedly Enterprise":"Feedly Business"}function o({active:e,inactiveReason:t}){return!e&&"missingEnterpriseFeatures"===t}function l(e){let t=e.indexOf(" / ");return-1===t?{companyName:e,teamName:""}:{companyName:e.slice(0,t),teamName:e.slice(t+3)}}},56466:(e,t,s)=>{"use strict";s.d(t,{v:()=>o,_:()=>l});var n=s(44694),i=s(99442),r=s(10974),a=s(88709);function o(e,t){const s=(0,n.D8)(e);return t.filter((e=>e.mentions&&(e.salienceLevel===i.mb.about||(0,r.D4)(e.id)))).sort(((e,t)=>t.label.length-e.label.length)).forEach((e=>{e.mentions.map((({text:e})=>e)).sort(((e,t)=>t.length-e.length)).some((t=>{let n=!1;return s.some(((i,r)=>{if("<"===i[0]&&">"===i[i.length-1])return!1;if(i.includes("InlineEntityWrapper"))return!1;const a=i.replace(new RegExp("\\b("+t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+")(?=(\\W+|$))","i"),`<span class="InlineEntityWrapper" data-entity-id="${e.id}">$1</span>`);return i!==a&&(s[r]=a,n=!0,!0)})),n}))})),s.join("")}function l(e){const{description:t,knowledgeBaseUrl:s,malwareDetails:n,threatActorDetails:i,type:r}=e;let o,l,c,d=!1;if(r===a.Mn.threatActor&&i){const{associatedMalwares:e,country:t,malpediaDescription:s}=i;o=e,l="Threat Actor "+(t?`> ${a.MG[t]}`:""),c=s,d=!0}else if(r===a.Mn.malware&&n){const{associatedThreatActors:e,malpediaDescription:t}=n;o=e,l="Malware Family",c=t,d=!0}else s&&(l=decodeURIComponent(s.slice(s.lastIndexOf("/"))));return{associatedEntities:o,description:c||t,isThreatEntity:d,sub:l}}},87561:(e,t,s)=>{"use strict";function n(e,t){try{null!=window&&null!=window.console&&null!=window.console.trace&&window.console.trace()}catch(n){$feedly("[nitro] trace failed")}try{var s=[];return null==t.name&&null==t.message?s.push(t.toString()):(s.push("[error] failed to "),s.push(e),s.push(" because "),s.push(t.name),s.push(" -- "),s.push(t.message)),s.join("")}catch(i){return"failed to "+e}}s.d(t,{Z:()=>n})},57993:(e,t,s)=>{"use strict";s.d(t,{s:()=>n});const n=Object.freeze({personal:"personal",team:"team"})},94866:(e,t,s)=>{"use strict";s.d(t,{Co:()=>r,$O:()=>a,dB:()=>o,jM:()=>l});s(74221);var n=s(48689),i=s(63403);function r(e){return e&&e.isFeedlyFeed&&"PublicBoard"===e.feedlyFeedType}function a(e){return e&&e.isFeedlyFeed&&"WebAlert"===e.feedlyFeedType}function o(e){return e&&e.isEmailFeed}function l(e={}){const{feedId:t,isEmailFeed:s,isFeedlyFeed:r}=e;return t&&!r&&!s&&!(0,n.iR)(t)&&!(0,i.hj)(t)}},74250:(e,t,s)=>{"use strict";s.d(t,{n:()=>n,O:()=>i});const n=Object.freeze({board:"badLikeBoard",businessEvent:"badEvent",custom:"user",duplicate:"duplicate",entity:"badEntity",other:"user",severity:"badSeverity",source:"badSource",topic:"badTopic",vulnerability:"badVulnerability",trendingMitreAttack:"badTrendingMitreAttack",trendingThreat:"badTrendingThreat",trendingThreatActor:"badTrendingThreatActor",trendingVulnerability:"badTrendingVulnerability"}),i=Object.freeze({notAMitreAttack:"Not a Mitre TTP",notAThreat:"Not a threat",notAThreatActor:"Not a threat actor",notAVulnerability:"Not a vulnerability",notCriticalEnough:"Not critical enough",duplicate:"Duplicate",tooOld:"Too old",other:"Something Else"})},2121:(e,t,s)=>{"use strict";s.d(t,{Jn:()=>n,ph:()=>i,T6:()=>r,BD:()=>a});const n=Object.freeze({itccharter:"ITC Charter",amasis:"Amasis",ysobel:"Ysobel",iowan:"Iowan",mundosans:"Mundo Sans",frutigernext:"Frutiger Next",dinnext:"DIN Next"}),i=Object.freeze({merriweather:"Merriweather",sansserif:"Sans Serif",...n,opendyslexic:"OpenDyslexic",notosans:"Noto Sans"}),r=Object.keys(n),a=Object.keys(i)},86462:(e,t,s)=>{"use strict";s.d(t,{o:()=>n});const n=45},89803:(e,t,s)=>{"use strict";s.d(t,{gt:()=>n,HF:()=>i,Qk:()=>r,Q1:()=>a,Xl:()=>o});const n=550,i={capture:!1,passive:!1},r=Object.freeze({tooEarly:"tooEarly",vertical:"vertical",horizontal:"horizontal",ambigious:"ambigious"});function a(e,t){const s=Math.abs(e),n=Math.abs(t);return n>0&&s>4*n?r.horizontal:s>0&&n>4*s?r.vertical:s+n<8?r.tooEarly:s>1.65*n?r.horizontal:n>1.65*s?r.vertical:r.ambigious}function o(e,t){const s=window.TOUCH_SLOP||12;return Math.abs(e)>s||Math.abs(t)>s}},59852:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var n=s(74221);async function i(e){if(!streets.getUserId())return{};const t=streets.service("personalcollections"),s=streets.service("enterprisecollections"),i=streets.service("personaltags"),r=streets.service("enterprisetags"),[a,o,l,c,d]=await Promise.all([t.askLookupCollection((0,n.N1)(),e),s.askLookupCollection((0,n.sX)(),e),i.askLookupTag((0,n.TN)(),e),r.askLookupTag((0,n.$n)(),e),streets.hasBusinessAccess()?r.askLookupTag((0,n.LI)(),e):i.askLookupTag((0,n._k)(),e)]);return{userCategoryGlobalAll:a,userCategoryGlobalEnterprise:o,userTagGlobalAll:l,userTagGlobalEnterprise:c,globalAnnotated:d}}},57471:(e,t,s)=>{"use strict";s.d(t,{vc:()=>i,IG:()=>r,tp:()=>a});var n=s(16847);function i(e){if(!e)return null;let t,s=(0,n._o)(e,"&url=","&");if(s&&s.content&&s.content.length>0){let e=s.content.replace(/\+/g,"%20");t=decodeURIComponent(e)}return t||e}function r(e){if(!e)return null;let t,s=[" - ","  "," : ",""];return["Google Alert","Google ","Google ","Google-melding","Alerte Google","Alerta de Google","Google "," Google"].forEach((n=>{t||s.forEach((s=>{let i=n+s;0===e.indexOf(i)&&(t=e.slice(i.length))}))})),t}function a(e){return!!e&&/google\.(.*)\/alerts/gi.test(e)}},54960:(e,t,s)=>{"use strict";s.d(t,{Qc:()=>c,sk:()=>d,ld:()=>h,xF:()=>u,P6:()=>p,A4:()=>m,xU:()=>g,Ds:()=>f,ww:()=>y,tQ:()=>v});var n=s(81613),i=s.n(n),r=s(86130),a=s(16847),o=s(94600);const l=/q=/;function c(e){return!!e&&(/\.google\.(.*)\/news/gi.test(e)||/news\.google\.(.*)\/rss/gi.test(e))}function d(e,t){let s=t||"en";return"feed/https://news.google.com/news/rss/search/section/q/"+encodeURIComponent(e)+"/"+encodeURIComponent(e)+"?ned="+o.rB[s]}function h(e,t){if(!e||0===e.length)return null;e=e.replace(/[]/g,'"');const{domain:s,keyword:n}=v(e);return{id:d(e,t),title:s?`${n} in ${s}`:`${n}`,defaultTitle:s?`${n} in ${s}`:`${n}`,iconUrl:r.Z.s3("images/logos/google@2x.png"),suggestUrl:r.Z.s3("images/logos/google-suggest@2x.png"),visualUrl:r.Z.s3("images/logos/google@2x.png"),description:`Track mentions of ${n} across the world's top news publications`,isGoogleNews:!0,googleNewsQuery:e,googleNewsKeyword:n,googleNewsDomain:s,googleNewsLanguage:t}}function u(e,t){return t?`${e} site:${t}`:e}function p(e){let t='</b></font><br><font size="-1">';if(!e||-1===e.indexOf(t))return e;let s=(0,a._o)(e,t,"</font>");return s&&s.content&&s.content.length>0?s.content:e}function m(e){if(!e)return null;let t,s=y(e);if(s){let e=v(s);e&&e.keyword&&(t=e.keyword)}return t}function g(e){if(!e)return null;const t=(0,a._o)(e,'<font color="#6f6f6f">',"</font>");return t&&t.content&&t.content.length>0?t.content:null}function f(e){const t=(0,a._o)(e,"hl=","&");if(t&&t.content&&t.content.length)return t.content.startsWith("en-")?"en":t.content;const s=function(e){const t=(0,a._o)(e,"ned=","&");return t&&t.content&&t.content.length?t.content:null}(e);if(s){const e=i()(o.rB,(e=>e===s));if(e)return e}return null}function y(e){if(!e)return null;let t,s=l.test(e)?(0,a._o)(e,"q=","&"):(0,a._o)(e,"/section/q/","/");return s&&s.content&&s.content.length>0&&(t=s.content.replace(/\+/g,"%20"),t=decodeURIComponent(t)),t}function v(e=""){let t="site:".length,s=e.indexOf("site:");if(-1===s)return{domain:"",keyword:e};let n=e.slice(s).indexOf(" ");return n>0&&(n+=s),-1===n?{domain:e.slice(s+t),keyword:e.slice(0,s).trim()}:0===s?{domain:e.slice(s+t,n),keyword:e.slice(n+1)}:{domain:e.slice(s+t,n),keyword:e.slice(0,s)+e.slice(n+1)}}},27213:(e,t,s)=>{"use strict";function n(){window.$B&&window.$B.core&&window.$B.core.application.hapticFeedback()}s.d(t,{n:()=>n})},44694:(e,t,s)=>{"use strict";s.d(t,{D8:()=>i,Ub:()=>r,TC:()=>a,Oo:()=>o,xg:()=>l,cn:()=>c,IV:()=>d});var n=s(16847);function i(e){const t=[];e=new String(e);let s=0,n="content";for(let i=0;i<e.length;i++)if("content"==n){if("<"!=e.charAt(i))continue;t.push(e.slice(s,i)),s=i,n="tag"}else{if(">"!=e.charAt(i))continue;t.push(e.slice(s,i+1)),s=i+1,n="content"}return t.push(e.slice(s)),t}function r(e){const t=e.defaultView.getSelection();if(t.rangeCount>=1){const s=t.getRangeAt(0).cloneContents(),n=e.createElement("p");return n.appendChild(s),n.innerHTML}return""}function a(e){return(0,n.L0)(function(e){const t=e.defaultView.getSelection();if(t.rangeCount>=1){const s=t.getRangeAt(0).cloneContents(),i=e.createElement("p");return i.appendChild(s),(0,n.L0)(i.innerHTML)}return""}(e))}function o(e,t,s,n){null!=e&&(e.addEventListener?e.addEventListener(t,s,n||!1):e.attachEvent&&e.attachEvent("on"+t,s))}function l(e,t,s,n){null!=e&&(e.removeEventListener?e.removeEventListener(t,s,n||!1):e.detachEvent&&e.detachEvent("on"+t,s))}function c(e,...t){if(!e||1!=e.nodeType)return;const s=e.className.split(/\s+/),n=s.length;for(const i of t)i&&!s.includes(i)&&s.push(i);s.length>n&&(e.className=s.join(" "))}function d(e,t){if(!e||1!=e.nodeType)return;const s=e.className.split(/\s+/).filter((e=>e&&e.length&&t!=e));0===s.length?e.className="":e.className=s.join(" ")}},68681:(e,t,s)=>{"use strict";s.d(t,{o:()=>n});class n extends Error{constructor({errorMessage:e,errorCode:t,errorId:s,declineCode:n}){super(e||"network error"),this.name="HttpError",this.errorMessage=e,this.errorCode=t,this.errorId=s,this.declineCode=n,this.debugMessage=`${t} / ${e} / ${s}`}}},9990:(e,t,s)=>{"use strict";s.d(t,{kA:()=>o,Ko:()=>l,wG:()=>c});var n=s(7757),i=s(83294),r=s(16847);const a=window.feedlyClientSecret;async function o(e,t){const s=await c({method:"GET",url:e,headers:t});return JSON.parse(s)}async function l(e,t,s){const n=await c({method:"POST",url:e,body:t,headers:s});return JSON.parse(n)}async function c({method:e,url:t,body:s,headers:o}){const l=t.startsWith("!{cloud}")||t.startsWith("!{cloud-ml}");if(l){const e=-1===t.indexOf("?")?"?":"&";-1===t.indexOf("&ct=")&&(t+=`${e}ck=${(new Date).getTime()}&ct=${feedlyApplicationType}&cv=31.0.1284`)}0===(t=(0,r.ng)(t,{"!{google}":"https://www.google.com","!{google.search}":"https://encrypted.google.com","!{cloud}":window.BACKEND,"!{cloud-ml}":"https://cloud-ml.feedly.com"})).indexOf("//")&&(t="https:"+t),o||(o={});if(!!o["$Authorization.secrets"]&&(o.Authorization=`Basic ${window.btoa("feedly:"+a)}`,delete o["$Authorization.secrets"]),!1!==o.authenticated){const e=await(0,n.C0)(),t=!0===o.authenticated,s=e&&e.feedlyToken;if(t&&!s)throw new Error("Bug: authenticated request with no session");(t||l&&s)&&(o.Authorization="Bearer "+e.feedlyToken)}return delete o.authenticated,o["Content-Type"]||s instanceof FormData||(o["Content-Type"]="application/json"),"string"!=typeof s&&"application/json"===o["Content-Type"]&&(s=JSON.stringify(s)),new Promise(((n,r)=>{(0,i.U)({method:e,url:t,body:s,headers:o,onComplete:n,onError:r})}))}},74221:(e,t,s)=>{"use strict";s.d(t,{BS:()=>o,fM:()=>l,Yg:()=>c,P2:()=>d,wN:()=>h,N1:()=>u,Mc:()=>p,sX:()=>m,Gr:()=>g,kW:()=>f,LI:()=>y,_k:()=>v,$n:()=>b,xW:()=>E,GJ:()=>C,TN:()=>w,uf:()=>k,os:()=>_,PH:()=>M,m2:()=>S,a8:()=>T});const n=Object.freeze({all:"global.all",favorites:"global.must",uncategorized:"global.uncategorized"}),i=Object.freeze({board:"board",collection:"collection",priority:"priority",subscription:"subscription"}),r=Object.freeze({all:"global.all",read:"global.read",starred:"starred",savedFeedly:"feedly.saved",saved:"global.saved",feedback:"global.feedback",annotated:"global.annotated"}),a=Object.freeze({category:"category",feed:"feed",filter:"filter",tag:"tag"});function o(e){if(!e)return null;if(-1==e.indexOf("/"))return e;const[t,s,n,...i]=e.split("/");return i.join("/")}function l(e){if(!e)return null;const[t,...s]=e.split("/");if(t===i.subscription)return decodeURIComponent(s.join("/"));if(t===i.collection||t===i.board||t===i.priority){const[e,t,n,i,...r]=s;return`${t}/${n}/${i}/${decodeURIComponent(r.join("/"))}`}return null}function c(e){let t=e&&0===e.indexOf("feed");if(!e||t)return{isAll:!1,isCategory:!1,isTag:!1,isEnterprise:!1,isUser:!1,isFavorites:!1,isReadLater:!1,isFilter:!1,isPriority:!1,isImportant:!1,isGlobal:!1,isAnnotated:!1,isFeed:t};let[s,i,a,o]=e.split("/"),l="category"===a,c="tag"===a,d="filter"===a,h="priority"===a,u="important"===a,p=o&&o.indexOf("global.enterprise")>-1;return{isCategory:l,isTag:c,isFilter:d,isPriority:h,isEnterprise:"enterprise"===s||p,isUser:"user"===s,isAll:l&&"global.all"===o,isAllTag:c&&"global.all"===o,isFavorites:l&&"global.must"===o,isReadLater:c&&"global.saved"===o,isRecentlyRead:c&&"global.read"===o,isImportant:u&&"global.all"===o,isGlobal:o&&o.indexOf("global")>-1,isGlobalEnterprise:p,isAnnotated:c&&"global.annotated"===o,isFeed:!1,isUncategorized:l&&o===n.uncategorized,isFeedback:o===r.feedback}}function d(e,t,s){return t?(s||(s="-"),t===r.starred||t===r.savedFeedly?`user/${s}/tag/global.saved`:e!==a.category||t!==n.my&&t!==n.all&&t!==n.allFeedly?`user/${s}/${e}/${t}`:`user/${s}/category/global.all`):null}function h(){const e=streets.getUserId();return e?d(a.category,n.uncategorized,e):null}function u(){const e=streets.getUserId();return e?d(a.category,n.all,e):null}function p(){const e=streets.getUserId();return e?d(a.category,n.favorites,e):null}function m(){const e=streets.getUserId();return e?`user/${e}/${a.category}/global.enterprise`:null}function g(){const e=streets.getEnterpriseId();return e?`enterprise/${e}/${a.category}/${n.all}`:null}function f(){const e=streets.getEnterpriseId();return e?`enterprise/${e}/${a.tag}/${r.all}`:null}function y(){const e=streets.getEnterpriseId();return e&&streets.hasBusinessAccess()?`enterprise/${e}/${a.tag}/${r.annotated}`:null}function v(){const e=streets.getUserId();return e?`user/${e}/${a.tag}/${r.annotated}`:null}function b(){const e=streets.getUserId();return e?`user/${e}/${a.tag}/global.enterprise`:null}function E(){return streets.hasBusinessAccess()?`${u()},${g()}`:null}function C(){return streets.hasBusinessAccess()?`${w()},${f()}`:null}function w(){const e=streets.getUserId();return e?d(a.tag,r.all,e):null}function k(){const e=streets.getUserId();return e?d(a.tag,r.saved,e):null}function _(){const e=streets.getUserId();return e?d(a.tag,r.read,e):null}function M(e){const{isFavorites:t}=c(e);return t}function S(e){return"feed/https://blog.feedly.com/category/features-tutorials/feed/"===e}function T(e){return e&&e.includes("blog.feedly.com")}},61861:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const n={};function i(e){n[e]=null}function r(e,t,s){if(!e||!t)return void console.error("[inflight] The `service` and `methodName` are required.");const r=`${e}:${t}`;return s&&(s.then((()=>{i(r)})).catch((()=>{i(r)})),n[r]=s),n[r]}},38916:(e,t,s)=>{"use strict";s.d(t,{gJ:()=>n,bK:()=>i,yC:()=>r});const n=Object.freeze({buffer:"Buffer",dropbox:"Dropbox",evernote:"Evernote",instapaper:"Instapaper",pocket:"Pocket",reddit:"Reddit",slack:"Slack",twitter:"Twitter",oneNote:"OneNote"}),i=Object.freeze({buffer:"buffer",dropbox:"dropbox",evernote:"evernote",instapaper:"instapaper",oneNote:"oneNote",pocket:"pocket",reddit:"reddit",slack:"slack",twitter:"twitter"}),r=[i.buffer,i.reddit,i.slack,i.twitter]},89856:(e,t,s)=>{"use strict";function n(e,t,s){return`<img src="${e}" /><br/>\n${null!=t?`${t}<br>`:""}\n<br><br><br>\nSource: <a href="${s.getBestAlternateLink()}">${s.getCleanSourceTitle()}</a><br>\n`}function i(e,t){return`${e}\n<br><br><br>\nSource: <a href="${t.getBestAlternateLink()}">${t.getCleanSourceTitle()}</a><br>\n`}s.d(t,{w:()=>n,F:()=>i})},72453:(e,t,s)=>{"use strict";function n(e){let t=streets.service("profile").getUserInfo();e||(e=t.enterpriseDescription),e=e.split(" / ")[0];let s=t.fullName,n=s;return n&&n.indexOf(" ")>-1&&(n=s.split(" ")[0]),`Hi,\n\nI've just added you to our Feedly team. Click on join to get started!\n\nFeedly is our hub to follow, research, and share key industry trends.\n\nFeedly lets you subscribe to news sources, keyword alerts, and Twitter feeds - and easily read, annotate, and share what is important.\n\nFeedly also has a mobile app if you prefer to check your news on the go.\n\nLet me know if you have any questions!\n\n-${n}`}s.d(t,{H:()=>n})},83294:(e,t,s)=>{"use strict";s.d(t,{U:()=>o});var n=s(7757),i=s(55833),r=s(68681);const a=[1e4,3e4,9e4,27e4];function o(e,t=0,s){const{method:c,url:d,body:h="",headers:u={},timeout:p=9e4,onComplete:m=(()=>{}),onError:g=(()=>{})}=e;try{if(function(e,t=0,s){if("GET"!==e.method)return(0,i.Yo)(),!1;const n=function(e){try{if(!e)return null;const t=Object.keys(i.RP).find((t=>{const s=i.RP[t].indexOf("?")>-1?i.RP[t]:`${i.RP[t]}?`;return e.indexOf(s)>-1||e.endsWith(i.RP[t])}));if(t)return i.RP[t];if(e.startsWith("https://feedly.com/v3/streams/contents?streamId=")||e.startsWith("https://feedly.com/v3/mixes/contents?streamId=")){const t=/&newerThan=[0-9]+/gm;return e.split("&ck=")[0].replace(t,"")}return null}catch(t){return console.log("[warning] failed to find preload uri",e,t),null}}(e.url);if(n&&!0!==s&&(0,i.MJ)(n))return(0,i.uB)(n).then((t=>{e.onComplete(t)})).catch((s=>{console.error("[io.ask] failed to preload uri:",e.url,n,s),o(e,t,!0)})),!0;return!1}(e,t,s))return;if(!d)return void g(new Error("url not specified"));const f=new XMLHttpRequest;if(d.startsWith("https://a.feedly.com")&&(f.withCredentials=!0),null==f)return void g(new Error("Could not create HTTP request"));const y=d.indexOf("/v3/auth/token")>-1;f.onreadystatechange=async function(){if(4===f.readyState)try{if(200===f.status||201===f.status||204===f.status){try{m(f.responseText)}catch(s){g(s)}return}if(401===f.status&&y)return void g(new Error("authentication invalidated"));if(401===f.status&&t<2){const s=await(0,n.C0)(!0);if(s)return u.Authorization="Bearer "+s.feedlyToken,void l((()=>{o(e,t+1)}),a[t])}if(0===f.status||408===f.status||504===f.status)return void g(new r.o({errorCode:0,errorMessage:"request timed out"}));409===f.status&&$feedly("[io] 409 error for "+c+" "+d);let h={errorCode:f.status,errorMessage:f.responseText};try{h={...h,...JSON.parse(f.responseText)}}catch(i){}g(new r.o(h))}catch(h){g(h)}},f.ontimeout=function(){if(t<2)l((()=>{o(e,t+1)}),a[t]);else try{g(new r.o({errorCode:0,errorMessage:"network timeout"}))}catch(s){g(s)}},f.open(c,d,!0);for(const e in u)f.setRequestHeader(e,u[e]);f.timeout=p,f.send(h)}catch(f){console.log(e),g(f)}}function l(e,t){try{window.setTimeout(e,t)}catch(s){e()}}},80721:(e,t,s)=>{"use strict";s.d(t,{k:()=>n});const n=Object.freeze({authenticationIssue:"AuthenticationIssue",paymentError:"PaymentError",floodingMuteFilters:"TooManyMutedEntries",floodingPriorities:"TooManyPrioritizedEntries",notificationIssue:"NotificationIssue"})},45538:(e,t,s)=>{"use strict";function n(e){return e.ctrlKey||e.metaKey||e.altKey}function i(e){const t=e.target,s=t.localName.toLowerCase(),n=t.getAttribute("contenteditable");return"input"===s||"textarea"===s||("true"===n||""===n)}s.d(t,{V:()=>n,E:()=>i})},88982:(e,t,s)=>{"use strict";s.d(t,{I:()=>i,B:()=>r});const n=/[<>]/,i="Avoid using < or  >",r=e=>n.test(e)},94600:(e,t,s)=>{"use strict";s.d(t,{As:()=>n,rB:()=>i,rA:()=>r,Mb:()=>a,vY:()=>o});const n={en:"English",ja:"","zh-CN":"",fr:"Franais",de:"Deutsch",ru:" ","pt-PT":"Portugus",it:"Italiano",ko:"",pl:"Polski","es-419":"Espaol"},i={en:"us",ja:"jp","zh-CN":"cn",fr:"fr",de:"de",ru:"ru_ru","pt-PT":"pt-PT_pt",it:"it",ko:"kr",pl:"pl_pl","es-419":"es_us"},r=Object.keys(n);function a(){let e="en";const t=streets.service("preferences").getPreference("language");return t?e=t:navigator.language?e=navigator.language:navigator.userLanguage&&(e=navigator.userLanguage),e=r.find((t=>t.indexOf(e.split("-")[0])>-1))||"en",e}function o(e){return n[e]||null}},11459:(e,t,s)=>{"use strict";s.d(t,{Ar:()=>n,tv:()=>i});const n=Object.freeze({cards:"u5",featuredLarge:"uFeatured",fullArticle:"u100",magazine:"u4",titleOnly:"u0",titleOnlyMobile:"u0Mobile"}),i=Object.freeze(Object.values(n));Object.freeze({0:{entry:n.titleOnlyMobile,featured:n.titleOnlyMobile},4:{entry:n.magazine,featured:n.magazine},5:{entry:n.cards,featured:n.cards}}),Object.freeze({stretched:"stretched",fullWidth:"full-width"})},35093:(e,t,s)=>{"use strict";s.d(t,{a3:()=>we,XA:()=>fe,m3:()=>be,gQ:()=>Ce,Z1:()=>ye,g:()=>ve,K5:()=>Ee,o0:()=>ke,w7:()=>me,KI:()=>ge});var n=s(32735),i=s(71262);const r=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M4.313 11.38l-.046.072a.5.5 0 00.447.725h4.943l-1.251 5.425c-.122.528.566.845.888.41l6.965-9.391.045-.073a.5.5 0 00-.447-.725h-4.943l1.252-5.425c.122-.528-.566-.845-.889-.41l-6.964 9.391zm6.339-6.871L9.799 8.21l-.013.084a.5.5 0 00.5.528h4.577L9.919 15.49l.854-3.7.012-.085a.5.5 0 00-.5-.528H5.708l4.945-6.668z",fill:"currentColor",fillRule:"nonzero"}))}));const a=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.379 3.002a.154.154 0 00-.129.15v4.085c0 4.031 2.205 7.74 5.75 9.696 3.545-1.956 5.75-5.665 5.75-9.696V3.152a.154.154 0 00-.129-.15c-2.463.43-4.343.65-5.621.65-1.278 0-3.158-.22-5.621-.65zm-1.129.15C3.25 2.512 3.773 2 4.408 2a.5.5 0 01.086.007c2.48.434 4.309.645 5.506.645s3.026-.21 5.506-.645A.5.5 0 0115.592 2c.635 0 1.158.512 1.158 1.152v4.085c0 4.494-2.511 8.615-6.519 10.706a.5.5 0 01-.462 0c-4.008-2.09-6.52-6.212-6.519-10.706V3.152z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.223 5.386a.5.5 0 01.224.671l-1.305 2.61h2.525a.5.5 0 01.447.723l-1.667 3.334a.5.5 0 11-.894-.448l1.305-2.61H8.333a.5.5 0 01-.447-.723L9.553 5.61a.5.5 0 01.67-.224z",fill:"currentColor"}))}));const o=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M15.357 12.166a.5.5 0 01.06.637l-.057.07-5.04 5.074a.5.5 0 01-.64.058l-.07-.058-4.965-5a.5.5 0 01.64-.762l.07.058 4.61 4.641 4.685-4.716a.5.5 0 01.707-.002zM10.44 7.25l.041.084 1.227 3.12 1.188-2.356a.5.5 0 01.844-.078l.049.078.706 1.401h3.02a.5.5 0 01.492.41l.008.09a.5.5 0 01-.41.492l-.09.008h-3.327a.5.5 0 01-.397-.196l-.05-.078-.4-.792-1.242 2.469a.5.5 0 01-.869.044l-.043-.086-1.18-2.996-1.215 3a.5.5 0 01-.86.118L7.88 11.9 6.527 9.182l-1.174 1.172a.5.5 0 01-.275.14L5 10.5H2.517a.5.5 0 01-.09-.992l.09-.008h2.275l1.52-1.516a.5.5 0 01.753.054l.047.077 1.17 2.347 1.27-3.132a.5.5 0 01.888-.079zm3.23-4.894c1.226 0 2.4.49 3.266 1.362a4.658 4.658 0 011.108 4.774.5.5 0 11-.948-.319 3.666 3.666 0 00-.87-3.75 3.6 3.6 0 00-4.953-.152l-.16.152-.793.799a.5.5 0 01-.64.058l-.07-.058-.793-.799a3.598 3.598 0 00-5.113 0 3.654 3.654 0 00-.869 3.754.5.5 0 11-.947.32A4.654 4.654 0 012.994 3.72a4.598 4.598 0 016.36-.166l.173.165.438.441.439-.44a4.604 4.604 0 013.022-1.356l.244-.007z",fill:"currentColor",fillRule:"nonzero"}))}));const l=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.99 1.723a1.333 1.333 0 011.187 0l6.25 3.104c.453.225.74.688.74 1.194v2.123a.5.5 0 01-1 0V6.119l-6.084 2.962v7.932l1.934-.96a.5.5 0 01.445.895l-2.285 1.135a1.333 1.333 0 01-1.187 0L2.74 14.98A1.333 1.333 0 012 13.785V6.02c0-.506.287-.969.74-1.194l6.25-3.104zm.742.895l5.613 2.789-5.762 2.805-5.762-2.805 5.614-2.789a.333.333 0 01.297 0zM3 13.784V6.12l6.083 2.962v7.932l-5.898-2.93A.333.333 0 013 13.784zm9.5-3.45a.5.5 0 100 1h5a.5.5 0 000-1h-5zm-.5 3a.5.5 0 01.5-.5h5a.5.5 0 110 1h-5a.5.5 0 01-.5-.5zm2.166 2a.5.5 0 100 1H17.5a.5.5 0 100-1h-3.334z",fill:"currentColor"}))}));const c=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M15.849 2l.09.011a.5.5 0 01.383.594c-.672 3.123-1.773 5.233-3.337 6.31a.5.5 0 01-.567-.823c.532-.366 1.01-.895 1.433-1.586H6.968c.879 1.301 2.114 2.258 3.71 2.879l.323.12c3.538 1.24 5.332 3.94 5.332 7.995a.5.5 0 01-1 0c0-.446-.023-.872-.069-1.278H5.702c-.079.42-.148.866-.206 1.339a.5.5 0 11-.992-.122c.393-3.194 1.261-5.35 2.654-6.458a.5.5 0 11.622.783c-.264.21-.508.474-.733.793h6.787c-.702-.863-1.654-1.527-2.858-1.996l-.306-.113c-3.512-1.231-5.58-3.88-6.165-7.876a.5.5 0 01.99-.144c.02.144.044.286.07.426h9.675c.036-.15.07-.303.105-.46a.5.5 0 01.416-.389L15.85 2zm-1.358 11.557H6.488a10.324 10.324 0 00-.566 1.665h9.173a6.955 6.955 0 00-.604-1.665zm.484-9.702H5.788a9.53 9.53 0 00.607 1.65h7.979c.22-.494.42-1.043.6-1.65z",fill:"currentColor",fillRule:"nonzero"}))}));const d=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M5.05 4.49H3.857a1.5 1.5 0 00-1.5 1.5v9.143a2.5 2.5 0 002.5 2.5h10.286a2.5 2.5 0 002.5-2.5V7.785l-.007-.086a.5.5 0 00-.8-.309L12.1 11.068l.001-3.283-.007-.086a.5.5 0 00-.8-.31L6.55 11.07l.001-5.08a1.5 1.5 0 00-1.5-1.5zm-1.193 1H5.05a.5.5 0 01.5.5v6.1l.007.085a.5.5 0 00.8.31l4.742-3.68.001 3.284.007.086a.5.5 0 00.8.31l4.735-3.679v6.327a1.5 1.5 0 01-1.5 1.5H4.858a1.5 1.5 0 01-1.5-1.5V5.99a.5.5 0 01.5-.5zM8.583 2.357c.436 0 .737.093 1.158.319l.26.145c.33.19.494.25.717.25.153 0 .351-.034.581-.099.194-.055.404-.13.62-.22.305-.126.56-.252.708-.333a.5.5 0 11.481.876l-.235.122c-.178.088-.37.177-.57.26-.251.103-.496.19-.731.257a3.176 3.176 0 01-.854.137c-.385 0-.665-.086-1.045-.288l-.24-.135c-.388-.222-.57-.29-.85-.29-.519 0-1.151.21-1.89.644a.5.5 0 01-.507-.862c.88-.517 1.677-.783 2.397-.783z"})))}));const h=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.005 18.212l-.269-.274a39.558 39.558 0 01-2.811-3.254c-.757-.983-1.408-1.94-1.919-2.849-.787-1.4-1.22-2.643-1.22-3.706 0-3.783 3.041-6.486 6.571-6.486s6.572 2.703 6.572 6.486c0 1.653-1.039 3.733-2.798 6.103a37.544 37.544 0 01-2.046 2.506l-.406.451c-.326.358-.62.669-.87.923l-.097.097a.5.5 0 01-.707.003zm.352-1.07l.05-.053a39.324 39.324 0 002.921-3.453c1.639-2.207 2.6-4.135 2.6-5.507 0-3.203-2.568-5.486-5.57-5.486-3.003 0-5.572 2.283-5.572 5.486 0 .857.381 1.952 1.092 3.216.485.863 1.11 1.78 1.84 2.729.654.85 1.357 1.676 2.06 2.446l.354.383.225.238z"}),n.createElement("path",{d:"M10.357 5.929a2.286 2.286 0 100 4.571 2.286 2.286 0 000-4.571zm0 1a1.286 1.286 0 110 2.571 1.286 1.286 0 010-2.571z"})))}));const u=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{clipPath:"url(#mitreattack-sm_svg__clip0)",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"},n.createElement("path",{d:"M16.731 2.304a.5.5 0 01.147.354v3.19a.5.5 0 01-.171.376L13.03 9.44a.5.5 0 11-.658-.753l3.506-3.067V3.158h-2.463l-2.927 3.345a.5.5 0 11-.752-.659l3.076-3.515a.5.5 0 01.376-.171h3.19a.5.5 0 01.353.146zm-6.306 8.752a.5.5 0 01-.047.706l-2.164 1.893-.166.166.71.71a1.252 1.252 0 01-1.77 1.77l-.71-.71-2.305 2.305a.5.5 0 01-.24.133l-1.729.399a.5.5 0 01-.466-.134l-.397-.397-.001-.001-.4-.397a.5.5 0 01-.134-.467l.4-1.729a.5.5 0 01.134-.24l2.304-2.305-.71-.71a1.252 1.252 0 011.77-1.77l.71.71.167-.167 1.724-1.97a.5.5 0 11.752.659l-1.735 1.982a.46.46 0 01-.022.025l-.178.178 1.419 1.419.178-.178a.522.522 0 01.024-.023L9.72 11.01a.5.5 0 01.706.047zM4.15 13.465l-2.203 2.203-.305 1.318.204.203.203.202 1.318-.304 2.203-2.203-1.42-1.419zm-.353-2.48a.252.252 0 00-.356.356l4.252 4.253a.252.252 0 00.356-.356l-4.252-4.253z"}),n.createElement("path",{d:"M3.395 2.304a.5.5 0 01.354-.146h3.19a.5.5 0 01.376.17l7.43 8.493.167.167.71-.71a1.252 1.252 0 111.77 1.77l-.71.71 2.304 2.304a.5.5 0 01.142.282l.27 1.86a.5.5 0 01-.144.429l-.268.263-.258.262a.5.5 0 01-.427.145l-1.865-.266a.5.5 0 01-.283-.141l-2.304-2.305-.71.71a1.252 1.252 0 01-1.77-1.77l.71-.71-.167-.166L3.42 6.224a.5.5 0 01-.171-.377v-3.19a.5.5 0 01.146-.353zm9.39 10.81l1.42-1.42-.178-.177a.577.577 0 01-.023-.025L6.711 3.158H4.25V5.62l8.334 7.293a.437.437 0 01.024.023l.179.178zm1.77 1.77l2.187 2.187 1.45.206.09-.091.09-.089-.21-1.445-2.187-2.187-1.42 1.42zm-2.479.354a.252.252 0 10.356.356l4.253-4.253a.252.252 0 00-.356-.356l-4.253 4.253z"})),n.createElement("defs",null,n.createElement("clipPath",{id:"mitreattack-sm_svg__clip0"},n.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"}))))}));const p=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M14.42 2.134a.5.5 0 01.492.41l.008.09v6.34a.5.5 0 01-.992.09l-.008-.09-.001-5.84h-7.84l.001 7.803a.5.5 0 01-.41.492l-.09.008a.5.5 0 01-.492-.41l-.008-.09V2.634a.5.5 0 01.41-.492l.09-.008h8.84z"}),n.createElement("path",{d:"M8.348 10.973H2.634a.5.5 0 00-.5.5v5.893a.5.5 0 00.5.5h5.714a.5.5 0 00.5-.5v-5.893a.5.5 0 00-.5-.5zm-.5 1v4.893H3.134v-4.893h4.714zM17.187 9.009h-5.714a.5.5 0 00-.5.5v7.857a.5.5 0 00.5.5h5.714a.5.5 0 00.5-.5V9.51a.5.5 0 00-.5-.5zm-.5 1v6.857h-4.714v-6.857h4.714z"}),n.createElement("path",{d:"M6.562 13.92a.5.5 0 01.09.992l-.09.008H4.598a.5.5 0 01-.09-.992l.09-.008h1.964zM15 11.643a.5.5 0 01.09.992l-.09.008h-1.429a.5.5 0 01-.09-.992l.09-.008H15zM15 14.5a.5.5 0 01.09.992L15 15.5h-1.429a.5.5 0 01-.09-.992l.09-.008H15zM11.473 16.866a.5.5 0 01.09.992l-.09.008H8.527a.5.5 0 01-.09-.992l.09-.008h2.946zM11.473 5.795a.5.5 0 01.09.992l-.09.008H8.527a.5.5 0 01-.09-.992l.09-.008h2.946z"})))}));const m=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.99 1.723a1.333 1.333 0 011.187 0l6.25 3.104c.453.225.74.688.74 1.194v2.123a.5.5 0 01-1 0V6.119l-6.084 2.962v7.932l1.934-.96a.5.5 0 01.445.895l-2.285 1.135a1.333 1.333 0 01-1.187 0L2.74 14.98A1.333 1.333 0 012 13.785V6.02c0-.506.287-.969.74-1.194l6.25-3.104zm.093 15.29V9.081L3 6.119v7.665c0 .127.072.243.185.299l5.898 2.93zM3.821 5.407l5.762 2.805 5.762-2.805-5.613-2.789a.333.333 0 00-.297 0L3.821 5.407zM15 10.002a.5.5 0 00-1-.004c-.003.94-.249 1.532-.628 1.899-.384.37-.988.59-1.88.603a.5.5 0 00.008 1c.99 0 1.58.262 1.933.643.361.39.56.997.567 1.861a.5.5 0 001 .021c.045-.914.288-1.529.667-1.915.373-.38.95-.613 1.831-.61a.5.5 0 00.013-1c-.966-.02-1.57-.276-1.937-.657-.367-.382-.577-.974-.574-1.841zm-.933 2.614c.167-.162.31-.342.43-.54a2.681 2.681 0 00.958.93 2.732 2.732 0 00-.924.957 2.647 2.647 0 00-.951-.974c.176-.106.338-.23.487-.373zm3.1 3.634a.083.083 0 10-.167 0 .083.083 0 00.166 0zm-.084.917a.917.917 0 110-1.834.917.917 0 010 1.834z",fill:"currentColor"}))}));const g=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.266 9.757c-.473.55-.59 1.05-.605 2.087l-.009.716c-.024.66-.146 1.086-.464 1.466a.5.5 0 00.335.819 5.147 5.147 0 004.344-1.696l.16-.188a2.458 2.458 0 00.486-2.432 2.47 2.47 0 00-4.247-.772zm2.171.122a1.47 1.47 0 01.83 2.432l-.154.18a4.17 4.17 0 01-2.576 1.347l-.103.009.008-.018c.13-.361.192-.762.21-1.232l.007-.382v-.138c.002-.963.068-1.322.372-1.676.346-.42.882-.617 1.406-.522z"}),n.createElement("path",{d:"M16.13 1.643a1.956 1.956 0 011.658 2.973l-.093.14-4.18 5.697a.5.5 0 01-.853-.514l.046-.077 4.18-5.697a.956.956 0 10-1.553-1.117l-.059.098-3.143 6.515a.5.5 0 01-.932-.35l.032-.085L14.382 2.7a1.956 1.956 0 011.749-1.056z"}),n.createElement("path",{d:"M10.357 2.357c.541 0 1.075.054 1.597.16a.5.5 0 11-.198.98 7 7 0 105.565 6.145.5.5 0 01.995-.101 8 8 0 11-7.959-7.183z"}),n.createElement("path",{d:"M9.643 5.929a.5.5 0 110 1c-1.485 0-2.714 1.38-2.714 3.11 0 .424.073.835.215 1.215a.5.5 0 11-.938.348 4.488 4.488 0 01-.277-1.562c0-2.259 1.649-4.111 3.714-4.111z"})))}));const f=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M4.112 11.23l-.058.09a.75.75 0 00.66 1.107h4.629l-1.181 5.119c-.183.792.85 1.268 1.333.615L16.46 8.77l.057-.09a.75.75 0 00-.66-1.107h-4.63l1.182-5.119c.183-.792-.849-1.268-1.333-.615L4.112 11.23zM10.14 5.62l-.585 2.535-.016.1a.75.75 0 00.747.819h4.08l-3.935 5.306.586-2.533.016-.1a.75.75 0 00-.747-.819H6.203l3.937-5.308z",fill:"currentColor",fillRule:"nonzero"}))}));const y=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.03 1.793L3.316 4.65A2.178 2.178 0 002.107 6.6v6.8a2.177 2.177 0 001.198 1.955l5.717 2.859a2.178 2.178 0 001.95 0l5.713-2.857a2.178 2.178 0 001.208-1.95V6.6c0-.827-.469-1.582-1.21-1.95L10.97 1.793a2.179 2.179 0 00-1.938 0zm1.272 1.343l5.713 2.856a.68.68 0 01.378.608v6.807a.678.678 0 01-.377.607L10.3 16.872a.679.679 0 01-.607 0l-5.715-2.857a.678.678 0 01-.37-.61V6.6c0-.257.145-.492.376-.607L9.7 3.135a.678.678 0 01.602 0z"}),n.createElement("path",{d:"M2.415 5.493a.75.75 0 01.912-.375l.094.04L10 8.447l6.58-3.29a.75.75 0 01.954.248l.052.088a.75.75 0 01-.247.955l-.088.051-6.915 3.458a.75.75 0 01-.562.044l-.108-.044L2.75 6.499a.75.75 0 01-.335-1.006z"}),n.createElement("path",{d:"M10 8.536a.75.75 0 01.743.648l.007.102v8.4a.75.75 0 01-1.493.101l-.007-.101v-8.4a.75.75 0 01.75-.75z"})))}));const v=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.318 1.84a.75.75 0 011.32-.099l.052.1 2.914 6.609a.75.75 0 01-1.325.695l-.048-.09-2.227-5.053-5.935 13.463a.75.75 0 01-.893.419l-.096-.035a.75.75 0 01-.418-.893l.034-.096L8.318 1.84z"}),n.createElement("path",{d:"M8.571 11.393a.75.75 0 01.102 1.493l-.102.007H5a.75.75 0 01-.102-1.493L5 11.393h3.571z"}),n.createElement("path",{d:"M13.214 7.821a5.393 5.393 0 100 10.786 5.393 5.393 0 000-10.786zm0 1.5a3.893 3.893 0 110 7.786 3.893 3.893 0 010-7.786z"}),n.createElement("path",{d:"M14.445 11.73a.75.75 0 011.142.966l-.072.085-2.434 2.481a.75.75 0 01-.986.074l-.085-.074-1.107-1.128a.75.75 0 01.988-1.124l.083.074.57.582 1.9-1.936z"})))}));const b=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 3.277v3.96c0 3.893 2.105 7.48 5.5 9.41a10.83 10.83 0 005.5-9.41v-3.96c-2.386.411-4.228.625-5.5.625-1.272 0-3.114-.214-5.5-.625zM3 3.152c0-.78.637-1.402 1.408-1.402a.75.75 0 01.13.011c2.476.434 4.287.641 5.462.641 1.175 0 2.986-.207 5.463-.64a.75.75 0 01.13-.012c.77 0 1.407.622 1.407 1.402v4.085c0 4.588-2.564 8.794-6.653 10.928a.75.75 0 01-.694 0C5.563 16.032 3 11.825 3 7.237V3.152z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.335 5.163a.75.75 0 01.336 1.006L9.547 8.417h2.12a.75.75 0 01.67 1.085l-1.666 3.333a.75.75 0 11-1.342-.67l1.124-2.248h-2.12a.75.75 0 01-.67-1.086l1.666-3.333a.75.75 0 011.006-.335z",fill:"currentColor"}))}));const E=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M15.534 11.988a.75.75 0 01.076.977l-.073.084-5.04 5.074a.75.75 0 01-.98.073l-.084-.073-4.965-4.999a.75.75 0 01.98-1.13l.084.073 4.433 4.462 4.508-4.537a.75.75 0 011.06-.004zm-4.87-4.85l.05.106 1.022 2.6.936-1.858a.75.75 0 011.282-.096l.058.096.637 1.264h2.866a.75.75 0 01.743.649l.007.101a.75.75 0 01-.648.744l-.102.006h-3.327a.75.75 0 01-.616-.322l-.054-.09-.175-.348-1.021 2.025a.75.75 0 01-1.32.038l-.048-.1-.95-2.414-.98 2.42a.75.75 0 01-1.31.149l-.057-.096-1.2-2.408-.927.927a.75.75 0 01-.412.21l-.118.01H2.517a.75.75 0 01-.102-1.494l.102-.007h2.17l1.448-1.443a.75.75 0 011.146.104l.055.093.922 1.851L9.32 7.236c.225-.554.944-.615 1.28-.189l.063.092zm3.006-5.03c1.292 0 2.531.516 3.444 1.435a4.908 4.908 0 011.167 5.03.75.75 0 11-1.422-.479 3.416 3.416 0 00-.81-3.494 3.35 3.35 0 00-4.596-.153l-.162.153-.794.799a.75.75 0 01-.98.073l-.084-.073L8.64 4.6a3.348 3.348 0 00-4.76 0 3.404 3.404 0 00-.808 3.498.75.75 0 11-1.421.48 4.904 4.904 0 011.166-5.035 4.848 4.848 0 016.71-.169l.177.169.26.262.262-.262a4.854 4.854 0 013.186-1.429l.258-.007z",fill:"currentColor",fillRule:"nonzero"}))}));const C=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.952 9.25H2.454a7.589 7.589 0 015.841-6.641A13.5 13.5 0 005.952 9.25zm0 1.5H2.454a7.589 7.589 0 005.841 6.64 13.5 13.5 0 01-2.343-6.64zm4.06 8.333a9.083 9.083 0 10-.023 0h.023zm1.693-1.692a13.501 13.501 0 002.343-6.641h3.499a7.589 7.589 0 01-5.842 6.64zm.838-6.641A12 12 0 0110 17.176a12 12 0 01-2.543-6.426h5.086zm0-1.5H7.457A12 12 0 0110 2.824a12 12 0 012.543 6.426zm1.505 0h3.499a7.589 7.589 0 00-5.842-6.641 13.5 13.5 0 012.343 6.641z",fill:"currentColor"}))}));const w=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.879 1.499c.444-.22.965-.22 1.409 0l6.25 3.104c.538.268.879.817.879 1.418v2.123a.75.75 0 01-1.5 0V6.519l-5.583 2.718v7.373l1.572-.782a.75.75 0 01.667 1.344l-2.285 1.135c-.444.22-.965.22-1.409 0l-6.25-3.104a1.583 1.583 0 01-.879-1.418V6.02c0-.6.34-1.15.879-1.418L8.879 1.5zm-.046 15.11V9.238L3.25 6.519v7.265c0 .032.018.061.046.075l5.537 2.75zM4.388 5.405l5.195 2.53 5.196-2.53L9.62 2.842a.083.083 0 00-.074 0L4.388 5.404zm7.362 5.43a.75.75 0 01.75-.75h5a.75.75 0 010 1.5h-5a.75.75 0 01-.75-.75zm0 2.5a.75.75 0 01.75-.75h5a.75.75 0 010 1.5h-5a.75.75 0 01-.75-.75zm2.417 1.75a.75.75 0 000 1.5H17.5a.75.75 0 000-1.5h-3.333z",fill:"currentColor"}))}));const k=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M5.742 2.893l.024.153 8.456.002.044-.204a.75.75 0 01.69-.593h.1l.1.015a.75.75 0 01.578.89c-.635 2.978-1.681 5.007-3.196 6.063a.75.75 0 01-.858-1.23c.345-.24.665-.563.96-.968H7.377c.745.94 1.727 1.649 2.95 2.134l.31.116c3.385 1.2 5.113 3.83 5.113 7.729a.75.75 0 11-1.5 0c0-.314-.012-.617-.037-.91H5.89a20.5 20.5 0 00-.145 1 .75.75 0 11-1.49-.18c.371-3.048 1.198-5.123 2.554-6.214a.75.75 0 01.94 1.17c-.089.071-.176.15-.26.238h5.022c-.622-.607-1.412-1.078-2.375-1.42C6.79 9.5 4.812 6.938 4.258 3.108a.75.75 0 011.484-.214zm7.84 10.712l-7.017-.001a9.2 9.2 0 00-.34.986h7.724a6.142 6.142 0 00-.368-.985zm.237-9.058H6.11c.105.341.226.666.364.973h6.989c.126-.3.246-.625.357-.973z",fill:"currentColor",fillRule:"nonzero"}))}));const _=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M5.05 4.24H3.857a1.75 1.75 0 00-1.75 1.75v9.143a2.75 2.75 0 002.75 2.75h10.286a2.75 2.75 0 002.75-2.75V7.785l-.007-.107a.75.75 0 00-1.203-.485l-4.334 3.363.001-2.771-.007-.107a.75.75 0 00-1.203-.486L6.8 10.558V5.99a1.75 1.75 0 00-1.75-1.75zm-1.193 1.5H5.05a.25.25 0 01.25.25v6.1l.007.106a.75.75 0 001.203.486l4.34-3.367v2.774l.007.107a.75.75 0 001.203.486l4.332-3.365v5.816c0 .69-.559 1.25-1.25 1.25H4.858c-.69 0-1.25-.56-1.25-1.25V5.99a.25.25 0 01.25-.25z"}),n.createElement("path",{d:"M8.583 2.107c.484 0 .817.103 1.27.345l.271.152c.297.17.425.217.594.217.126 0 .303-.03.513-.09.184-.052.385-.123.593-.21a7.37 7.37 0 00.683-.321.75.75 0 01.722 1.315l-.22.114a9.566 9.566 0 01-.611.278 6.957 6.957 0 01-.758.268 3.413 3.413 0 01-.922.146c-.433 0-.746-.096-1.156-.314l-.254-.142c-.353-.202-.5-.258-.725-.258-.469 0-1.06.197-1.764.61a.75.75 0 11-.76-1.292c.916-.539 1.754-.818 2.524-.818z"})))}));const M=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M7.073 6.108l-5.039.74-.104.023a.75.75 0 00-.311 1.256l3.647 3.565-.861 5.039-.01.1a.75.75 0 001.1.69L10 15.141l4.506 2.378.092.042a.75.75 0 00.997-.831l-.862-5.038 3.648-3.566.072-.08a.75.75 0 00-.487-1.198l-5.04-.74-2.253-4.583a.75.75 0 00-1.346 0L7.073 6.108zM10 3.556l1.755 3.569.053.09a.75.75 0 00.511.321l3.93.576-2.845 2.783-.07.078a.75.75 0 00-.145.585l.67 3.925-3.509-1.852-.096-.043a.75.75 0 00-.604.043l-3.511 1.852.672-3.925.01-.105a.75.75 0 00-.225-.558L3.749 8.112l3.932-.576a.75.75 0 00.564-.411L10 3.556z",fill:"currentColor",fillRule:"nonzero"}))}));const S=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.828 18.39l-.272-.279-.335-.352a39.805 39.805 0 01-2.494-2.922c-.764-.993-1.421-1.959-1.939-2.88-.806-1.434-1.252-2.714-1.252-3.828 0-3.928 3.16-6.736 6.821-6.736 3.662 0 6.822 2.808 6.822 6.736 0 1.723-1.058 3.842-2.847 6.252a37.79 37.79 0 01-2.06 2.523l-.408.454a36.62 36.62 0 01-.72.769l-.254.258a.75.75 0 01-1.062.004zm.134-2.039l.396.427.399-.432c.126-.139.258-.285.393-.438a36.314 36.314 0 001.977-2.421c1.609-2.166 2.552-4.056 2.552-5.358 0-3.058-2.451-5.236-5.322-5.236-2.87 0-5.321 2.178-5.321 5.236 0 .806.368 1.863 1.06 3.093.479.852 1.096 1.76 1.82 2.699.65.844 1.348 1.665 2.046 2.43z"}),n.createElement("path",{d:"M10.357 5.679a2.536 2.536 0 100 5.071 2.536 2.536 0 000-5.071zm0 1.5a1.036 1.036 0 110 2.071 1.036 1.036 0 010-2.071z"})))}));const T=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M9.377 1.767a.75.75 0 011.242 0l1.417 2.087.038.012c.167.057.331.12.492.189l.648-1.122a.75.75 0 011.344.659l-.045.091-.647 1.122c.142.105.279.216.411.332l.028.026 2.515.183a.75.75 0 01.66.979l-.04.096L16.34 8.69l.01.045c.035.172.063.343.084.515h1.294a.75.75 0 01.102 1.493l-.102.007h-1.294a7.022 7.022 0 01-.153.83l.06-.27 1.103 2.27a.75.75 0 01-.421 1.034l-.097.027-.103.014-2.517.182-.028.027c-.132.117-.27.227-.41.332l.646 1.12a.75.75 0 01-1.242.836l-.057-.085-.647-1.121c-.16.07-.325.132-.491.188l-.039.012-1.415 2.087a.75.75 0 01-1.173.088l-.069-.088-1.416-2.088-.037-.011a6.457 6.457 0 01-.493-.19l-.648 1.123a.75.75 0 01-1.344-.659l.045-.091.647-1.122a6.458 6.458 0 01-.41-.332l-.029-.027-2.515-.182a.75.75 0 01-.66-.979l.04-.096 1.1-2.27-.01-.043a6.655 6.655 0 01-.083-.516H2.273a.75.75 0 01-.102-1.493l.102-.007h1.294c.034-.277.086-.554.155-.832l-.062.272-1.1-2.269a.75.75 0 01.517-1.06l.103-.015 2.515-.183.028-.026c.133-.117.27-.227.412-.333l-.648-1.12a.75.75 0 011.169-.917l.073.081.057.085.647 1.122c.161-.07.325-.133.492-.19l.039-.012zm.621 1.757l-.94 1.388a.75.75 0 01-.416.301 4.98 4.98 0 00-2.11 1.218.75.75 0 01-.467.21l-1.674.12.734 1.512a.75.75 0 01.073.276c.04-.16.094-.324.16-.492a.75.75 0 011.032-.395l3.111 1.551a.75.75 0 01.297 1.076c-.769 1.202-1.926 1.587-3.241 1.07-1.024-.403-1.516-1.17-1.467-2.153-.046.267-.07.531-.07.794 0 .4.054.805.158 1.218a.75.75 0 01-.053.51l-.734 1.51 1.675.121c.14.01.275.06.388.143l.08.067a4.954 4.954 0 002.108 1.217.75.75 0 01.417.3l.942 1.39.942-1.389a.75.75 0 01.317-.265l.099-.035a4.982 4.982 0 002.11-1.217.75.75 0 01.467-.21l1.674-.121-.733-1.51a.75.75 0 01-.071-.404l.018-.103a4.763 4.763 0 00.093-1.984c.035.968-.458 1.722-1.47 2.12-1.316.518-2.473.133-3.242-1.07a.75.75 0 01.297-1.075l3.111-1.55a.75.75 0 011.032.394c.065.164.118.325.16.482a.694.694 0 01.07-.266l.733-1.512-1.673-.12a.75.75 0 01-.388-.143l-.08-.067a4.954 4.954 0 00-2.108-1.217.75.75 0 01-.417-.3l-.944-1.39zm-3.414 5.91l.014.071c.058.21.226.347.508.458.276.108.507.146.711.106l.025-.008-1.258-.627zm6.835 0l-1.258.627.025.008c.205.04.436.002.712-.106.281-.111.45-.248.507-.458l.014-.071z",fill:"currentColor",fillRule:"nonzero"}))}));const I=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{clipPath:"url(#mitreattack-bold-sm_svg__clip0)",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"},n.createElement("path",{d:"M2.999 2.662a.75.75 0 01.75-.75h3.19a.75.75 0 01.564.256l7.41 8.47.294-.295a1.837 1.837 0 112.599 2.598l-.296.295 1.653 1.654a.75.75 0 01.212.422l.27 1.86a.75.75 0 01-.216.643l-.266.261-.256.262a.75.75 0 01-.641.216l-1.865-.265a.75.75 0 01-.425-.213l-1.653-1.653-.296.296a1.837 1.837 0 11-2.598-2.598l.295-.295-8.47-7.41A.75.75 0 013 5.852v-3.19zm9.787 10.102L13.85 11.7l-.001-.001a.78.78 0 01-.034-.037L6.598 3.412h-2.1v2.1l8.25 7.217a.785.785 0 01.036.034l.002.002zm2.598 2.599l1.476 1.476 1.242.177.004-.004-.18-1.238-1.477-1.477-1.065 1.066zm-2.894-.182a.337.337 0 10.477.477l3.778-3.778a.337.337 0 10-.477-.477l-3.778 3.778z"}),n.createElement("path",{d:"M16.379 1.908a.75.75 0 01.75.75v3.19a.75.75 0 01-.257.564L13.12 9.696a.75.75 0 11-.987-1.13l3.497-3.059v-2.1h-2.1L10.633 6.72a.75.75 0 11-1.129-.988l3.122-3.567a.75.75 0 01.564-.256h3.19zm-5.814 9.026a.75.75 0 01-.07 1.059l-2.091 1.83.294.294A1.837 1.837 0 016.1 16.715l-.296-.296-1.653 1.653a.75.75 0 01-.422.212l-1.86.27a.75.75 0 01-.643-.216l-.262-.266-.261-.256a.75.75 0 01-.217-.641l.266-1.865a.75.75 0 01.212-.425l1.653-1.653-.295-.295a1.837 1.837 0 012.598-2.599l.294.295 1.642-1.876a.75.75 0 011.129.988L6.31 11.657a.775.775 0 01-.034.036v.002l1.065 1.065h.001a.71.71 0 01.036-.035l2.128-1.861a.75.75 0 011.058.07zm-6.887 3.359l-1.476 1.476-.177 1.243.004.003 1.238-.18 1.477-1.477-1.066-1.065zm.181-2.894a.337.337 0 10-.477.477l3.779 3.778a.337.337 0 10.476-.477L3.86 11.4z"})),n.createElement("defs",null,n.createElement("clipPath",{id:"mitreattack-bold-sm_svg__clip0"},n.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"}))))}));const N=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 1.393a8.607 8.607 0 100 17.214 8.607 8.607 0 000-17.214zm0 1.5a7.107 7.107 0 110 14.214 7.107 7.107 0 010-14.214z"}),n.createElement("path",{d:"M4.007 3.992a.75.75 0 01.981-.098l.08.065 11.16 10.495a.75.75 0 01-.949 1.157l-.078-.065L4.04 5.052a.75.75 0 01-.033-1.06z"})))}));const P=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M14.42 1.884a.75.75 0 01.743.648l.007.102v6.34a.75.75 0 01-1.494.101l-.006-.102-.001-5.59h-7.34l.001 7.554a.75.75 0 01-.648.744l-.102.006a.75.75 0 01-.743-.648l-.007-.102V2.634a.75.75 0 01.649-.743l.101-.007h8.84z"}),n.createElement("path",{d:"M8.348 10.723H2.634a.75.75 0 00-.75.75v5.893c0 .414.336.75.75.75h5.714a.75.75 0 00.75-.75v-5.893a.75.75 0 00-.75-.75zm-.75 1.5v4.393H3.384v-4.393h4.214zM17.187 8.759h-5.714a.75.75 0 00-.75.75v7.857c0 .414.336.75.75.75h5.714a.75.75 0 00.75-.75V9.51a.75.75 0 00-.75-.75zm-.75 1.5v6.357h-4.214v-6.357h4.214z"}),n.createElement("path",{d:"M6.562 13.67a.75.75 0 01.102 1.493l-.102.007H4.598a.75.75 0 01-.102-1.494l.102-.006h1.964zM15 11.393a.75.75 0 01.102 1.493l-.102.007h-1.429a.75.75 0 01-.101-1.493l.101-.007H15zM15 14.25a.75.75 0 01.102 1.493L15 15.75h-1.429a.75.75 0 01-.101-1.493l.101-.007H15zM11.473 16.616a.75.75 0 01.102 1.493l-.102.007H8.527a.75.75 0 01-.102-1.493l.102-.007h2.946zM11.473 5.545a.75.75 0 01.102 1.493l-.102.007H8.527a.75.75 0 01-.102-1.494l.102-.006h2.946z"})))}));const L=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 2.107a3.607 3.607 0 100 7.214 3.607 3.607 0 000-7.214zm0 1.5a2.107 2.107 0 110 4.214 2.107 2.107 0 010-4.214zM10 10.679a6.464 6.464 0 016.464 6.464.75.75 0 01-1.5 0 4.964 4.964 0 10-9.928 0 .75.75 0 01-1.5 0A6.464 6.464 0 0110 10.679z"})))}));const x=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.572 12.821a.75.75 0 01.743.649l.007.101v1.072a3.25 3.25 0 01-3.066 3.245l-.184.005H5a2.179 2.179 0 01-2.173-2.023l-.005-.156v-2.143a.75.75 0 011.493-.101l.007.101v2.143c0 .341.25.623.578.672l.1.007h1.072a1.75 1.75 0 001.744-1.607l.006-.143V13.57a.75.75 0 01.75-.75zM11.429 12.821a.75.75 0 00-.743.649l-.007.101v1.072a3.25 3.25 0 003.065 3.245l.185.005H15c1.151 0 2.094-.893 2.173-2.023l.006-.156v-2.143a.75.75 0 00-1.493-.101l-.007.101v2.143c0 .341-.251.623-.579.672l-.1.007H13.93a1.75 1.75 0 01-1.744-1.607l-.006-.143V13.57a.75.75 0 00-.75-.75zM12.854 2.821c1.108 0 1.875.743 2.17 1.83l1.42 5.878a.75.75 0 01-1.428.45l-.03-.098-1.38-5.72c-.125-.57-.384-.84-.752-.84-.2 0-.327.061-.578.292l-.221.212c-.657.636-1.182.926-2.055.926-.793 0-1.336-.249-1.942-.763l-.23-.205a28.348 28.348 0 00-.204-.185c-.242-.214-.359-.277-.483-.277-.264 0-.454.183-.593.727l-.033.144-1.504 5.714a.75.75 0 01-1.47-.282l.02-.1 1.495-5.68c.265-1.246.99-2.023 2.085-2.023.575 0 .988.22 1.479.655l.279.255c.426.387.682.52 1.101.52.359 0 .56-.09.884-.384l.25-.239c.574-.554 1.012-.807 1.72-.807z"}),n.createElement("path",{d:"M17.862 9.964a.75.75 0 01.102 1.493l-.102.007H2.142a.75.75 0 01-.1-1.493l.1-.007h15.72zM15.03 7.107a.75.75 0 01.102 1.493l-.102.007H5.041a.75.75 0 01-.101-1.493l.101-.007h9.99zM17.862 12.821a.75.75 0 01.102 1.494l-.102.006H2.142a.75.75 0 01-.1-1.493l.1-.007h15.72z"})))}));const D=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.879 1.499c.444-.22.965-.22 1.409 0l6.25 3.104c.538.268.879.817.879 1.418v2.123a.75.75 0 01-1.5 0V6.519l-5.583 2.718v7.373l1.572-.782a.75.75 0 01.667 1.344l-2.285 1.135c-.444.22-.965.22-1.409 0l-6.25-3.104a1.583 1.583 0 01-.879-1.418V6.02c0-.6.34-1.15.879-1.418L8.879 1.5zm-.046 15.11V9.238L3.25 6.519v7.265c0 .032.018.061.046.075l5.537 2.75zM4.388 5.405l5.195 2.53 5.196-2.53L9.62 2.842a.083.083 0 00-.074 0L4.388 5.404zm10.946 4.599a.75.75 0 00-1.5-.006c-.003.87-.23 1.367-.53 1.657-.307.297-.819.501-1.648.513a.75.75 0 00.011 1.5c.917 0 1.409.241 1.686.54.288.312.473.826.48 1.633a.75.75 0 001.5.03c.042-.85.267-1.377.574-1.69.298-.303.782-.516 1.59-.513a.75.75 0 00.02-1.5c-.898-.02-1.407-.255-1.699-.558-.293-.305-.487-.803-.484-1.606zm-.988 2.73c.085-.082.163-.168.237-.259a2.894 2.894 0 00.469.457 2.908 2.908 0 00-.436.45 2.865 2.865 0 00-.466-.476 2.88 2.88 0 00.196-.172zm3.071 3.517a.333.333 0 10-.667 0 .333.333 0 00.667 0zm-.333 1.167a1.167 1.167 0 110-2.334 1.167 1.167 0 010 2.334z",fill:"currentColor"}))}));const O=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M13.838 4.25H4.143A2.75 2.75 0 001.393 7v6a2.75 2.75 0 002.75 2.75h9.697a2.75 2.75 0 002.387-1.384l2.281-3.986a.75.75 0 000-.744l-2.281-3.999a2.75 2.75 0 00-2.389-1.387zm0 1.5l.134.007c.396.043.752.273.952.624l2.069 3.626-2.068 3.614a1.25 1.25 0 01-1.085.629H4.143c-.69 0-1.25-.56-1.25-1.25V7c0-.69.56-1.25 1.25-1.25h9.695z",fill:"currentColor",fillRule:"nonzero"}))}));const A=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.073 9.599c-.519.602-.645 1.144-.662 2.233l-.008.719c-.023.609-.13.984-.407 1.315a.75.75 0 00.502 1.227 5.397 5.397 0 004.563-1.787l.16-.188c.635-.702.847-1.736.529-2.67a2.72 2.72 0 00-4.677-.85zm2.32.526a1.22 1.22 0 01.688 2.019l-.155.18c-.529.58-1.199.982-1.927 1.17l-.214.05.008-.026c.047-.21.078-.431.095-.669l.016-.33.01-.795c.018-.641.09-.909.307-1.16.26-.315.64-.48 1.026-.456l.146.017z"}),n.createElement("path",{d:"M16.132 1.393a2.206 2.206 0 011.863 3.365l-.099.146-4.18 5.697a.75.75 0 01-1.268-.793l.059-.094 4.18-5.698a.706.706 0 00-1.138-.839l-.048.078-3.143 6.514a.75.75 0 01-1.389-.557l.038-.094 3.153-6.534a2.206 2.206 0 011.972-1.191z"}),n.createElement("path",{d:"M10.357 2.107c.558 0 1.109.056 1.647.165a.75.75 0 11-.298 1.47 6.75 6.75 0 105.366 5.925.75.75 0 011.493-.152 8.25 8.25 0 11-8.208-7.408z"}),n.createElement("path",{d:"M9.643 5.679a.75.75 0 110 1.5c-1.34 0-2.464 1.262-2.464 2.86 0 .394.068.776.199 1.128a.75.75 0 11-1.406.522 4.738 4.738 0 01-.293-1.65c0-2.39 1.754-4.36 3.964-4.36z"})))}));const z=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M5.055 13.566l-.058.089a.75.75 0 00.66 1.107H11.4l-1.46 6.327c-.182.792.85 1.268 1.334.615l8.357-11.27.057-.089a.75.75 0 00-.66-1.107h-5.743l1.46-6.327c.183-.792-.849-1.268-1.333-.615l-8.357 11.27zm7.42-7.49l-.863 3.743-.016.1a.75.75 0 00.747.819h5.195l-5.328 7.184.864-3.741.016-.1a.75.75 0 00-.747-.819H7.147l5.328-7.186z",fill:"currentColor",fillRule:"nonzero"}))}));const R=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.903 2.285l-6.858 3.43A2.464 2.464 0 002.678 7.92v8.16a2.463 2.463 0 001.356 2.213l6.86 3.43a2.464 2.464 0 002.204 0l6.857-3.43a2.464 2.464 0 001.366-2.204V7.92c0-.936-.53-1.79-1.367-2.206l-6.857-3.429a2.464 2.464 0 00-2.194 0zM12.43 3.63l6.856 3.428c.329.163.536.497.536.863v8.169c0 .365-.207.7-.535.862l-6.859 3.43a.964.964 0 01-.863 0l-6.857-3.429a.964.964 0 01-.529-.867V7.92c0-.366.208-.7.536-.863l6.859-3.429a.963.963 0 01.856 0z"}),n.createElement("path",{d:"M3.032 6.659a.75.75 0 01.912-.375l.094.04L12 10.303l7.962-3.98a.75.75 0 01.954.247l.052.088a.75.75 0 01-.247.954l-.088.052-8.298 4.149a.75.75 0 01-.562.044l-.108-.044-8.298-4.149a.75.75 0 01-.335-1.006z"}),n.createElement("path",{d:"M12 10.393a.75.75 0 01.743.648l.007.102v10.08a.75.75 0 01-1.493.102l-.007-.102v-10.08a.75.75 0 01.75-.75z"})))}));const F=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.119 2.269a.75.75 0 011.32-.1l.052.1 3.496 7.931a.75.75 0 01-1.325.695l-.047-.09-2.81-6.376-7.26 16.469a.75.75 0 01-.892.418l-.096-.035a.75.75 0 01-.419-.892l.035-.096 7.946-18.024z"}),n.createElement("path",{d:"M10.286 13.821a.75.75 0 01.101 1.494l-.101.006H6a.75.75 0 01-.102-1.493L6 13.821h4.286z"}),n.createElement("path",{d:"M15.857 9.536a6.321 6.321 0 100 12.643 6.321 6.321 0 000-12.643zm0 1.5a4.821 4.821 0 110 9.643 4.821 4.821 0 010-9.643z"}),n.createElement("path",{d:"M17.44 14.181a.75.75 0 011.143.966l-.072.085-2.921 2.977a.75.75 0 01-.986.075l-.085-.075-1.328-1.353a.75.75 0 01.987-1.124l.084.074.792.806 2.387-2.43z"})))}));const j=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 5.679c-3.438 0-5.893 2.585-5.893 6.321 0 3.807 2.516 6.75 5.893 6.75 3.376 0 5.893-2.943 5.893-6.75 0-3.736-2.455-6.321-5.893-6.321zm0 1.5c2.591 0 4.393 1.896 4.393 4.821 0 3.026-1.902 5.25-4.393 5.25-2.491 0-4.393-2.224-4.393-5.25 0-2.925 1.801-4.821 4.393-4.821z"}),n.createElement("path",{d:"M16.336 16.04l.082.075 1.452 1.542a.75.75 0 01.156.249l.028.094.484 2.057a.75.75 0 01-1.43.44l-.03-.097-.438-1.862-1.314-1.395a.75.75 0 01-.043-.979l.075-.082a.75.75 0 01.878-.11l.1.067zm-7.694.042a.75.75 0 01.102.974l-.07.087-1.314 1.395-.438 1.862a.75.75 0 01-.802.575l-.1-.016a.75.75 0 01-.575-.802l.016-.1L5.945 18a.75.75 0 01.122-.267l.062-.076 1.453-1.542a.75.75 0 011.06-.033zm10.618-3.29a.75.75 0 01.626.338l.053.094.968 2.057a.75.75 0 01-1.308.728l-.05-.09-.764-1.626h-1.46a.75.75 0 01-.744-.648l-.007-.102a.75.75 0 01.649-.743l.101-.007h1.936zm-12.584 0a.75.75 0 01.101 1.494l-.101.007H5.215l-.765 1.626a.75.75 0 01-.903.397l-.095-.037a.75.75 0 01-.396-.903l.037-.095.968-2.057a.75.75 0 01.57-.423l.108-.008h1.937zM19.916 5.1a.75.75 0 01.575.8L20.475 6l-.969 4.115a.75.75 0 01-.38.491l-.1.044-1.451.514a.75.75 0 01-.595-1.373l.094-.04 1.066-.378.874-3.716a.75.75 0 01.902-.558zm-14.96.46l.03.098.873 3.715 1.067.378a.75.75 0 01.484.86l-.027.098a.75.75 0 01-.86.484l-.098-.028-1.452-.514a.75.75 0 01-.447-.432l-.033-.103L3.525 6a.75.75 0 011.43-.44zm4.8-1.802l.042.093.968 2.571a.75.75 0 01-1.362.622l-.042-.093-.968-2.571a.75.75 0 011.302-.714l.06.092zm5.412-.345a.75.75 0 01.467.869l-.029.098-.968 2.571a.75.75 0 01-1.433-.43l.03-.099.967-2.57a.75.75 0 01.966-.439z"})))}));const U=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.252 3.772a.025.025 0 00-.002.01v4.903c0 4.754 2.586 9.132 6.75 11.463 4.164-2.332 6.75-6.709 6.75-11.463V3.783c0-.005 0-.008-.002-.01a.033.033 0 00-.007-.011.046.046 0 00-.006-.005c-2.94.511-5.194.776-6.735.776-1.54 0-3.795-.265-6.735-.776a.041.041 0 00-.013.015zm-1.502.01c0-.852.695-1.532 1.54-1.532a.75.75 0 01.129.011c2.974.52 5.158.772 6.581.772s3.607-.252 6.581-.772a.749.749 0 01.13-.011c.844 0 1.539.68 1.539 1.533v4.902c0 5.449-3.045 10.445-7.903 12.98a.75.75 0 01-.694 0C6.795 19.131 3.75 14.134 3.75 8.685V3.783z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.335 6.33a.75.75 0 01.336 1.005l-1.457 2.915H14a.75.75 0 01.67 1.085l-2 4a.75.75 0 11-1.34-.67l1.457-2.915H10a.75.75 0 01-.67-1.085l2-4a.75.75 0 011.005-.336z",fill:"currentColor"}))}));const B=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M18.535 14.293a.75.75 0 01.076.976l-.073.084-6.048 6.089a.75.75 0 01-.98.073l-.084-.073-5.958-5.999a.75.75 0 01.98-1.13l.084.073 5.425 5.462 5.517-5.552a.75.75 0 011.06-.003zm-5.868-5.65l.05.104 1.35 3.432L15.34 9.65a.75.75 0 011.282-.097l.057.097.806 1.599h3.532a.75.75 0 01.743.649l.007.101a.75.75 0 01-.648.744l-.102.006h-3.993a.75.75 0 01-.616-.322l-.053-.09-.346-.684-1.358 2.697a.75.75 0 01-1.32.038l-.047-.101-1.278-3.245-1.318 3.252a.75.75 0 01-1.31.149l-.056-.096-1.533-3.076-1.26 1.26a.75.75 0 01-.412.21L6 12.75H3.02a.75.75 0 01-.102-1.493l.102-.007h2.67l1.778-1.775a.75.75 0 011.146.103l.055.093 1.254 2.52 1.401-3.451c.225-.554.944-.616 1.281-.19l.062.092zm3.737-5.964c1.51 0 2.959.604 4.026 1.678a5.74 5.74 0 011.364 5.883.75.75 0 01-1.421-.479 4.25 4.25 0 00-1.007-4.347 4.173 4.173 0 00-2.962-1.235 4.171 4.171 0 00-2.789 1.071l-.173.164-.952.959a.75.75 0 01-.98.073l-.084-.073-.952-.959a4.168 4.168 0 00-5.923 0 4.235 4.235 0 00-1.197 3.518c.036.284.1.563.19.834a.75.75 0 11-1.421.48 5.754 5.754 0 01-.257-1.129 5.735 5.735 0 011.62-4.76 5.667 5.667 0 017.87-.176l.182.176.42.423.42-.423a5.675 5.675 0 013.744-1.671l.282-.007z",fill:"currentColor",fillRule:"nonzero"}))}));const H=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.282 11.25H2.78a9.255 9.255 0 017.516-8.343 16.05 16.05 0 00-3.014 8.343zm0 1.5H2.78a9.255 9.255 0 007.516 8.343 16.05 16.05 0 01-3.014-8.343zm6.422 8.343a9.255 9.255 0 007.516-8.343h-4.502a16.051 16.051 0 01-3.014 8.343zm1.51-8.343A14.55 14.55 0 0112 20.851a14.55 14.55 0 01-3.214-8.101h6.428zm0-1.5H8.786A14.55 14.55 0 0112 3.149a14.55 14.55 0 013.214 8.101zm1.504 0h4.502a9.255 9.255 0 00-7.516-8.343 16.05 16.05 0 013.014 8.343zM12 1.25C6.063 1.25 1.25 6.063 1.25 12S6.063 22.75 12 22.75 22.75 17.937 22.75 12 17.937 1.25 12 1.25z",fill:"currentColor"}))}));const Y=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.722 1.933a1.75 1.75 0 011.556 0l7.5 3.725c.596.296.972.903.972 1.567v2.547a.75.75 0 01-1.5 0v-2.19l-7 3.408v9.183l2.104-1.045a.75.75 0 01.667 1.344l-2.743 1.362a1.75 1.75 0 01-1.556 0l-7.5-3.725a1.75 1.75 0 01-.972-1.568V7.225c0-.664.376-1.271.971-1.567l7.5-3.725zm.028 18.24V10.99l-7-3.407v8.958a.25.25 0 00.139.224l6.861 3.409zM4.926 6.488l6.574 3.2 6.575-3.2-6.464-3.21a.25.25 0 00-.222 0l-6.463 3.21zM14.25 13a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6a.75.75 0 01-.75-.75zm0 3a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6a.75.75 0 01-.75-.75zM17 18.25a.75.75 0 000 1.5h4a.75.75 0 000-1.5h-4z",fill:"currentColor"}))}));const Z=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M6.742 2.891c.019.13.04.258.061.384H18.17l.097-.433a.75.75 0 011.466.316c-.814 3.781-2.151 6.345-4.065 7.664a.75.75 0 01-.852-1.235c.561-.386 1.073-.93 1.533-1.63l-7.7-.001c1.03 1.424 2.44 2.477 4.237 3.173l.365.135c4.308 1.51 6.499 4.81 6.499 9.736a.75.75 0 11-1.5 0c0-.481-.023-.942-.068-1.384H6.967c-.084.465-.159.957-.223 1.476a.75.75 0 01-1.488-.184c.476-3.868 1.532-6.49 3.24-7.848a.75.75 0 11.934 1.174c-.238.19-.463.418-.675.685h7.52c-.809-.905-1.87-1.608-3.186-2.116l-.334-.124c-4.27-1.496-6.787-4.722-7.497-9.57a.75.75 0 111.484-.218zM17.297 16.42H7.883a12.12 12.12 0 00-.582 1.696h10.622a8.136 8.136 0 00-.626-1.696zm.47-11.644H7.144c.171.598.38 1.158.626 1.68l9.381.002c.179-.408.346-.848.503-1.321l.115-.36z",fill:"currentColor",fillRule:"nonzero"}))}));const W=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M6.26 5.238H4.429a1.75 1.75 0 00-1.75 1.75v11.571a2.75 2.75 0 002.75 2.75H18.57a2.75 2.75 0 002.75-2.75V9.342l-.007-.107a.75.75 0 00-1.203-.485l-5.441 4.225V9.342l-.007-.107a.75.75 0 00-1.203-.486l-5.45 4.227V6.988a1.75 1.75 0 00-1.75-1.75zm-1.831 1.5H6.26a.25.25 0 01.25.25v7.52l.007.106a.75.75 0 001.203.486l5.45-4.227v3.634l.007.107a.75.75 0 001.203.485l5.44-4.225.001 7.685c0 .69-.56 1.25-1.25 1.25H5.43c-.69 0-1.25-.56-1.25-1.25V6.988a.25.25 0 01.25-.25zM10.3 2.679c.56 0 .944.12 1.481.41l.294.166c.377.215.552.28.787.28.167 0 .392-.038.656-.113.227-.064.473-.152.728-.258.36-.149.661-.298.835-.393a.75.75 0 01.721 1.315l-.288.149c-.217.107-.45.214-.694.315a8.202 8.202 0 01-.893.315c-.386.11-.74.17-1.065.17-.491 0-.847-.11-1.32-.361l-.298-.166c-.444-.255-.641-.33-.944-.33-.593 0-1.327.245-2.193.754a.75.75 0 01-.76-1.293c1.078-.634 2.059-.96 2.953-.96z"})))}));const $=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.9 21.96l-.324-.33-.401-.422a47.618 47.618 0 01-2.983-3.496c-.914-1.185-1.698-2.338-2.315-3.437-.956-1.7-1.484-3.214-1.484-4.52 0-4.627 3.72-7.934 8.036-7.934 4.315 0 8.035 3.307 8.035 7.934 0 1.306-.528 2.82-1.484 4.52-.617 1.099-1.401 2.252-2.314 3.437a47.618 47.618 0 01-2.545 3.022l-.439.474-.205.217-.52.536a.75.75 0 01-1.057 0zm.528-1.61l.16-.169a46.14 46.14 0 002.889-3.384c.872-1.132 1.618-2.228 2.196-3.257.841-1.496 1.291-2.787 1.291-3.785 0-3.757-3.012-6.434-6.535-6.434-3.524 0-6.536 2.677-6.536 6.434 0 .998.45 2.289 1.291 3.785.579 1.029 1.324 2.125 2.196 3.257a46.14 46.14 0 002.464 2.925l.217.236.367.393z"}),n.createElement("path",{d:"M12.429 6.964a2.893 2.893 0 100 5.786 2.893 2.893 0 000-5.786zm0 1.5a1.393 1.393 0 110 2.786 1.393 1.393 0 010-2.786z"})))}));const q=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M11.377 2.204a.75.75 0 011.242 0l1.727 2.546.366.129c.145.055.29.114.43.178l.845-1.462a.75.75 0 011.344.658l-.045.092-.844 1.462a7.6 7.6 0 01.638.512l.025.023 3.068.222a.75.75 0 01.66.98l-.04.096-1.344 2.77.023.1c.05.248.088.494.114.74h1.687a.75.75 0 01.101 1.493l-.101.007h-1.687a8.19 8.19 0 01-.195 1.11l.06-.272v.001l1.345 2.772a.75.75 0 01-.42 1.034l-.098.027-.103.015-3.07.222-.29.25a7.644 7.644 0 01-.373.285l.844 1.461a.75.75 0 01-1.242.835l-.057-.085-.844-1.461c-.247.111-.5.21-.76.295l-.036.011-1.725 2.546a.75.75 0 01-1.173.087l-.069-.087-1.726-2.547-.365-.128a7.595 7.595 0 01-.43-.179l-.846 1.463a.75.75 0 01-1.344-.658l.045-.092.845-1.462a7.6 7.6 0 01-.638-.512l-.026-.024-3.068-.221a.75.75 0 01-.66-.98l.04-.096L4.55 13.59l-.022-.1a7.775 7.775 0 01-.114-.739H2.727a.75.75 0 01-.101-1.493l.101-.007h1.687c.039-.37.105-.74.198-1.112l-.036.156-.026.116-1.344-2.77a.75.75 0 01.518-1.061l.103-.015 3.067-.222.291-.25c.122-.099.247-.194.374-.285l-.845-1.462a.75.75 0 011.17-.916l.072.081.057.085.845 1.462c.247-.112.5-.21.76-.296l.034-.011zm.621 1.757l-1.252 1.85a.75.75 0 01-.416.3c-.98.278-1.87.794-2.595 1.498a.75.75 0 01-.468.21l-2.228.161.976 2.013a.75.75 0 01.07.406l-.017.103A6.133 6.133 0 005.875 12c0 .493.066.991.193 1.498a.75.75 0 01-.053.51l-.976 2.011 2.229.162c.14.01.275.06.388.142l.08.068a6.095 6.095 0 002.594 1.496.75.75 0 01.417.3l1.254 1.851 1.255-1.849a.75.75 0 01.317-.265l.099-.036a6.128 6.128 0 002.595-1.497.75.75 0 01.468-.209l2.228-.162-.975-2.011a.75.75 0 01-.072-.404l.018-.102c.126-.514.191-1.012.191-1.503 0-.494-.065-.99-.193-1.498a.75.75 0 01.053-.51l.975-2.012-2.227-.16a.75.75 0 01-.388-.143l-.08-.068a6.095 6.095 0 00-2.594-1.496.75.75 0 01-.417-.3L11.998 3.96zM6.57 9.724a.75.75 0 011.032-.395l3.733 1.861a.75.75 0 01.297 1.075c-.885 1.383-2.198 1.82-3.709 1.226-1.591-.626-2.051-2.007-1.353-3.767zm10.864 0c.698 1.76.238 3.14-1.354 3.767-1.51.594-2.823.157-3.708-1.226a.75.75 0 01.297-1.075l3.733-1.861a.75.75 0 011.032.395zm-9.685 1.354l-.005.065c-.018.472.222.753.728.952.525.206.939.211 1.301-.008l-2.024-1.009zm8.506 0l-2.024 1.009c.362.22.776.214 1.3.008.507-.2.747-.48.728-.952l-.004-.065z",fill:"currentColor",fillRule:"nonzero"}))}));const V=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{clipPath:"url(#mitreattack-bold-md_svg__clip0)",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"},n.createElement("path",{d:"M20.184 2.66c.14.14.22.33.22.53v3.827a.75.75 0 01-.257.564l-4.412 3.86a.75.75 0 11-.987-1.128l4.155-3.636V3.94h-2.737L12.7 7.902a.75.75 0 01-1.129-.988l3.691-4.218a.75.75 0 01.565-.256h3.827a.75.75 0 01.53.22zm-7.561 10.508a.75.75 0 01-.07 1.059L9.96 16.495l-.09.09.745.746a1.652 1.652 0 01-2.336 2.336l-.746-.745-2.659 2.659a.75.75 0 01-.362.2l-2.073.478a.75.75 0 01-.699-.2l-.477-.478-.48-.476a.75.75 0 01-.201-.701l.48-2.074a.75.75 0 01.2-.361l2.66-2.66-.746-.745a1.652 1.652 0 112.336-2.336l.746.745.09-.09 2.065-2.36a.75.75 0 111.129.987L7.46 13.89a.778.778 0 01-.034.036l-.108.108 1.491 1.49.108-.107a.706.706 0 01.036-.034l2.612-2.285a.75.75 0 011.058.07zM4.982 16.37l-2.507 2.507-.338 1.459.186.184.184.184 1.459-.336 2.507-2.507-1.491-1.49zm-.53-3.082a.152.152 0 00-.216.215l5.104 5.104a.152.152 0 00.215-.216l-5.103-5.103z"}),n.createElement("path",{d:"M3.969 2.66a.75.75 0 01.53-.22h3.827a.75.75 0 01.565.256l8.914 10.187.09.09.745-.746a1.652 1.652 0 112.337 2.337l-.746.745 2.66 2.66a.75.75 0 01.211.422l.325 2.233a.75.75 0 01-.217.642l-.32.315-.309.314a.75.75 0 01-.64.217l-2.238-.32a.75.75 0 01-.425-.211l-2.659-2.66-.745.746a1.652 1.652 0 01-2.337-2.336l.746-.746-.09-.09L4.005 7.581a.75.75 0 01-.256-.564V3.189a.75.75 0 01.22-.53zm11.374 12.864l1.491-1.49-.107-.108a.784.784 0 01-.035-.036L7.986 3.94H5.25v2.736l9.95 8.707a.784.784 0 01.037.034l.107.107zm2.337 2.337l2.482 2.482 1.615.23.057-.058.054-.052-.234-1.61-2.483-2.483-1.491 1.49zm-3.082.53a.152.152 0 10.215.215l5.103-5.103a.152.152 0 00-.215-.215l-5.103 5.103z"})),n.createElement("defs",null,n.createElement("clipPath",{id:"mitreattack-bold-md_svg__clip0"},n.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"}))))}));const G=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M17.304 2.41a.75.75 0 01.743.649l.007.102v7.607a.75.75 0 01-1.494.102l-.006-.102V3.91H7.444l.001 9.215a.75.75 0 01-.648.743l-.102.007a.75.75 0 01-.743-.648l-.007-.102V3.161a.75.75 0 01.649-.743l.101-.007h10.608z"}),n.createElement("path",{d:"M10.018 13.018H3.16a.75.75 0 00-.75.75v7.071c0 .414.336.75.75.75h6.857a.75.75 0 00.75-.75v-7.071a.75.75 0 00-.75-.75zm-.75 1.5v5.57H3.91v-5.57h5.357zM20.625 10.66h-6.857a.75.75 0 00-.75.75v9.43c0 .413.336.75.75.75h6.857a.75.75 0 00.75-.75v-9.43a.75.75 0 00-.75-.75zm-.75 1.5v7.928h-5.358V12.16h5.357z"}),n.createElement("path",{d:"M7.875 16.554a.75.75 0 01.102 1.493l-.102.007H5.518a.75.75 0 01-.102-1.494l.102-.006h2.357zM18 13.821a.75.75 0 01.102 1.494L18 15.32h-1.714a.75.75 0 01-.102-1.493l.102-.007H18zM18 17.25a.75.75 0 01.102 1.493L18 18.75h-1.714a.75.75 0 01-.102-1.493l.102-.007H18zM13.768 20.09a.75.75 0 01.102 1.492l-.102.007h-3.536a.75.75 0 01-.102-1.493l.102-.007h3.536zM13.768 6.804a.75.75 0 01.102 1.493l-.102.007h-3.536a.75.75 0 01-.102-1.494l.102-.006h3.536z"})))}));const Q=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 2.679a4.179 4.179 0 100 8.357 4.179 4.179 0 000-8.357zm0 1.5a2.679 2.679 0 110 5.357 2.679 2.679 0 010-5.357zM12 12.964a7.607 7.607 0 017.607 7.607.75.75 0 11-1.5 0 6.107 6.107 0 00-12.214 0 .75.75 0 11-1.5 0A7.607 7.607 0 0112 12.964z"})))}));const K=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.286 15.536a.75.75 0 01.743.648l.007.102v1.285a3.75 3.75 0 01-3.55 3.745l-.2.005H6a2.464 2.464 0 01-2.459-2.302l-.005-.162v-2.571a.75.75 0 011.493-.102l.007.102v2.571c0 .495.372.902.852.958L6 19.82h1.286a2.25 2.25 0 002.245-2.096l.005-.154v-1.285a.75.75 0 01.75-.75zM13.715 15.536a.75.75 0 00-.744.648l-.006.102v1.285a3.75 3.75 0 003.55 3.745l.2.005H18a2.464 2.464 0 002.46-2.302l.005-.162v-2.571a.75.75 0 00-1.494-.102l-.006.102v2.571a.964.964 0 01-.852.958L18 19.82h-1.285a2.25 2.25 0 01-2.245-2.096l-.005-.154v-1.285a.75.75 0 00-.75-.75zM15.425 3.536c1.26 0 2.131.85 2.466 2.107l1.695 7.027a.75.75 0 01-1.427.45l-.03-.098-1.656-6.86c-.163-.748-.526-1.126-1.048-1.126-.283 0-.464.086-.789.383l-.275.263c-.763.739-1.36 1.069-2.36 1.069-.918 0-1.543-.289-2.252-.894l-.5-.451c-.315-.28-.486-.37-.68-.37-.395 0-.677.273-.859.994l-.037.162-1.805 6.857a.75.75 0 01-1.47-.282l.02-.1 1.796-6.822c.305-1.434 1.122-2.31 2.356-2.31.58 0 1.015.201 1.508.606l.264.232.236.215c.537.487.875.663 1.422.663.483 0 .756-.127 1.185-.52l.28-.27c.664-.64 1.158-.925 1.96-.925z"}),n.createElement("path",{d:"M21.435 12.107a.75.75 0 01.102 1.493l-.102.007H2.57a.75.75 0 01-.101-1.493l.101-.007h18.864zM18.037 8.679a.75.75 0 01.101 1.493l-.101.007H6.05a.75.75 0 01-.102-1.494l.102-.006h11.987zM21.435 15.536a.75.75 0 01.102 1.493l-.102.007H2.57a.75.75 0 01-.101-1.493l.101-.007h18.864z"})))}));const J=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.722 1.933a1.75 1.75 0 011.556 0l7.5 3.725c.596.296.972.903.972 1.567v2.547a.75.75 0 01-1.5 0v-2.19l-7 3.408v9.183l2.104-1.045a.75.75 0 01.667 1.344l-2.743 1.362a1.75 1.75 0 01-1.556 0l-7.5-3.725a1.75 1.75 0 01-.972-1.568V7.225c0-.664.376-1.271.971-1.567l7.5-3.725zm.028 18.24V10.99l-7-3.407v8.958a.25.25 0 00.139.224l6.861 3.409zM4.926 6.488l6.574 3.2 6.575-3.2-6.464-3.21a.25.25 0 00-.222 0l-6.463 3.21zm13.324 5.516a.75.75 0 00-1.5-.006c-.004 1.068-.282 1.71-.682 2.096-.406.392-1.063.643-2.079.657a.75.75 0 00.011 1.5c1.127 0 1.763.297 2.133.697.382.413.608 1.072.617 2.06a.75.75 0 001.5.03c.051-1.042.327-1.714.73-2.125.395-.402 1.02-.666 2.017-.662a.75.75 0 00.019-1.5c-1.1-.023-1.756-.313-2.142-.715-.389-.404-.628-1.046-.624-2.032zm-1.14 3.169a3.29 3.29 0 00.388-.45 3.296 3.296 0 00.813.79 3.34 3.34 0 00-.773.8 3.275 3.275 0 00-.807-.825c.133-.095.26-.2.38-.315zm3.64 4.328a.25.25 0 10-.5 0 .25.25 0 00.5 0zm-.25 1.25a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5z",fill:"currentColor"}))}));const X=(0,i.Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.003 11.614c-.6.697-.743 1.327-.76 2.624l-.007.752-.003.076c-.028.762-.166 1.243-.523 1.67a.75.75 0 00.502 1.227 6.327 6.327 0 005.365-2.113l.171-.203c.731-.808.974-1.991.61-3.06a3.115 3.115 0 00-5.355-.973zm2.695.389a1.615 1.615 0 01.91 2.67l-.16.19a4.875 4.875 0 01-2.639 1.53l-.27.046a4.89 4.89 0 00.177-1.03l.016-.287c.004-.12.007-.222.008-.368v-.261c.003-1.121.077-1.526.411-1.914.351-.427.874-.643 1.403-.596l.144.02z"}),n.createElement("path",{d:"M19.358 1.821a2.497 2.497 0 012.101 3.821l-.105.154-5.016 6.837a.75.75 0 01-1.268-.793l.059-.094 5.016-6.837a.997.997 0 10-1.618-1.169l-.06.1-3.772 7.818a.75.75 0 01-1.39-.557l.039-.095 3.78-7.836a2.497 2.497 0 012.234-1.349z"}),n.createElement("path",{d:"M12.429 2.679c.659 0 1.31.065 1.946.194a.75.75 0 01-.298 1.47 8.25 8.25 0 106.559 7.242.75.75 0 111.492-.151c.034.329.05.66.05.995 0 5.384-4.365 9.75-9.75 9.75-5.384 0-9.75-4.366-9.75-9.75 0-5.385 4.366-9.75 9.75-9.75z"}),n.createElement("path",{d:"M11.571 6.964a.75.75 0 110 1.5c-1.695 0-3.107 1.586-3.107 3.584 0 .49.086.965.249 1.405a.75.75 0 01-1.406.522 5.536 5.536 0 01-.343-1.927c0-2.79 2.042-5.084 4.607-5.084z"})))}));var ee=s(56157),te=s(71263),se=s(81593),ne=s(23741),ie=s(11245),re=s(96864),ae=s(14971),oe=s(54424),le=s(49279),ce=s(78684),de=s(49031),he=s(65608),ue=s(69993),pe=s(3453);const me="businessEvent",ge="mitreAttack",fe=Object.freeze({businessEvent:r,consumerGood:ee.Z,criticalVulnerability:te.Z,customKeyword:se.Z,cyberEvent:a,disease:o,domain:ne.Z,entity:ee.Z,entityList:l,event:r,gene:c,industryTopic:d,likeBoard:ie.Z,location:h,malwareFamily:re.Z,matches:ee.Z,mitreAttack:u,muteFilter:ae.Z,org:p,other:ee.Z,person:oe.Z,security:te.Z,threatActor:le.Z,topic:m,various:ce.Z,workOfArt:g}),ye=Object.freeze({businessEvent:f,consumerGood:y,criticalVulnerability:de.Z,customKeyword:v,cyberEvent:b,disease:E,domain:C,entity:y,entityList:w,event:f,gene:k,industryTopic:_,likeBoard:M,location:S,malwareFamily:T,matches:y,mitreAttack:I,muteFilter:N,org:P,other:y,person:L,security:de.Z,threatActor:x,topic:D,various:O,workOfArt:A}),ve=Object.freeze({businessEvent:z,consumerGood:R,customKeyword:F,criticalVulnerability:j,cyberEvent:U,disease:B,domain:H,entity:R,entityList:Y,event:z,gene:Z,industryTopic:W,likeBoard:he.Z,location:$,malwareFamily:q,matches:R,mitreAttack:V,muteFilter:ue.Z,org:G,other:R,person:Q,security:j,threatActor:K,topic:J,various:pe.Z,workOfArt:X}),be=Object.freeze({businessEvent:"Business Event",domain:"Website",entity:"Entity",keyword:"Keyword Match",topic:"Smart Topic"}),Ee=Object.freeze({businessEvent:"nlp/f/businessEvent/",entity:"nlp/f/entity/",topic:"nlp/f/topic/"}),Ce=Object.freeze({consumerGood:"consumer good",customKeyword:"keyword match",cyberEvent:"cyber event",disease:"disease",entity:"entity",event:"event",industryTopic:"industry",gene:"gene",location:"location",org:"organization",other:"other",person:"person",threatActor:"threat actor",topic:"topic",smartTopic:"smart topic",workOfArt:"work of art"}),we=Object.freeze({multiple:"Combinations of AND, OR, NOT are not supported.",priorities:"AND, OR, and NOT operators are not supported in Leo topics. Click the plus to model operators by adding parts and layers.",AND:"The AND operator is not supported in Mute Filters.",NOT:"Create a Leo Priority instead of using the NOT operator.",OR:"Create separate Mute Filters instead of using the OR operator."}),ke=Object.freeze({"nlp/f/entity/gz:org:fortune-500-companies":"F500"})},65698:(e,t,s)=>{"use strict";s.d(t,{p2:()=>m,S_:()=>w,Td:()=>f,Iz:()=>_,lA:()=>y,jP:()=>b,ft:()=>v,xT:()=>E,yA:()=>k,Sr:()=>C,WW:()=>p,FW:()=>g});var n=s(89793),i=s.n(n),r=s(20081),a=s.n(r),o=s(74221),l=s(10974),c=s(99442),d=s(35093);const h=Object.freeze({"nlp/f/topic/10000":!0,"nlp/f/topic/10001":!0}),u="nlp/f/topic/2440";function p(e){const t=[...e].filter((e=>e.salienceLevel===c.mb.about&&e.score||h[e.id])).map((e=>e.score>1?Object.assign(e,{score:e.score/100}):e));return t.sort((({id:e,score:t},{id:s,score:n})=>h[e]?-1:h[s]?1:n-t)),t}function m(e,t=[]){if(!e)return[];const s=t.reduce(((e,t)=>t.parts?[...e,...t.parts]:e),[]).filter((e=>e.id&&(e.id.startsWith(d.K5.topic)||e.id.startsWith(d.K5.entity)))).reduce(((e,t)=>(e[t.id]=!0,e)),{}),n=e.listEntities().filter((e=>!s[e.id]&&(s[e.id]=!0,!0))).sort(((e,t)=>{const s=e.salienceLevel===c.mb.about;return(t.salienceLevel===c.mb.about)-s})).slice(0,3),i=5-n.length;return[...p(e.listCommonTopics().filter((e=>!s[e.id]&&(s[e.id]=!0,!0)))).slice(0,i),...n]}function g(e){return"string"==typeof e?"security":e.text?C(e.text)?"domain":"customKeyword":(t=e.id)&&t===u||(0,l.D4)(e.id)?"criticalVulnerability":e.type?e.type:b(e.id)?"businessEvent":e.id&&(0,o.Yg)(e.id).isTag?"likeBoard":"other";var t}function f(e){return"string"==typeof e?"":E(e.id)?d.gQ.smartTopic:e.type===d.gQ.disease||d.gQ[e.type]===d.gQ.org?"":e.type===d.gQ.other?d.gQ.entity:d.gQ[e.type]}function y(e,t){if(!e||!t||!t.aliases)return!1;const s=e.toLowerCase();return t.aliases.some((e=>e.toLowerCase()===s))}function v(e){return e&&e.startsWith(d.K5.entity)}function b(e){return e&&e.startsWith(d.K5.businessEvent)}function E(e){return e&&e.startsWith(d.K5.topic)}function C(e){return e&&e.startsWith("site:")}function w(e,t){return e&&t&&t.aliases?t.aliases.find((t=>-1!==t.toLowerCase().indexOf(e.toLowerCase()))):null}function k(e,t=[]){const s=e.enterpriseFeatures||[];return{restrictedEnterpriseParts:a()(s,t,i()),hasRestrictedEnterprisePart:!!s.length&&!streets.isEnterprisePlan()}}function _(e,t){if(t===c.ur.matches&&e.length){const t=e[0].type;if(t&&e.every((e=>e.type&&e.type===t)))return t}return""}},56295:(e,t,s)=>{"use strict";s.d(t,{f4:()=>n,oj:()=>i,zQ:()=>r,S8:()=>a,bf:()=>o,eo:()=>l,GF:()=>c,M$:()=>d});const n="web alert limit",i="custom",r="too many active mute filters",a="email newsletter limit",o="too many active priority",l="source limit",c=Object.freeze({standard:100,limited:100,proStandard:1e3,pro:2500,proPlus:2500,business:5e3,enterprise:7500}),d=Object.freeze({muteFilters:{id:"muteFilters",name:"Mute Filters",uri:"filters",limitName:"maxMuteFilters"},newsletters:{id:"newsletters",name:"Newsletters",uri:"newsletters",limitName:"maxEmailFeeds"},priorities:{id:"priorities",name:"Priorities",uri:"priorities",limitName:"maxPriorities"},webAlerts:{id:"webAlerts",name:"Leo Web Alerts",uri:"web-alerts",limitName:"maxAlerts"},leoFeeds:{id:"leoFeeds",name:"Leo Priorities and Leo Web Alerts",uri:"leo-feeds",limitName:"maxLeoFeeds"}})},6844:(e,t,s)=>{"use strict";function n(e){const t="#,##0.###",s=["###0","###"];if(e=Math.abs(1*e),1<s.length)e=e.toFixed(s[1].length);else{if(2<s.length)throw"NumberFormatException: invalid format, formats should have no more than 1 period: "+t;e=e.toFixed(0)}let n=e.toString();{const e=n.split("."),t=e[0],s=[],i=t.length;let r=Math.floor(i/3),a=t.length%3||3;for(let n=0;n<i;n+=a)0!=n&&(a=3),s[s.length]=t.substr(n,a),r-=1;n=s.join(","),e[1]&&1*e[1]>0&&(n+="."+e[1])}return t.replace(/[\d\#,?\.?]+/,n)}s.d(t,{U:()=>n})},44406:(e,t,s)=>{"use strict";s.d(t,{DC:()=>n});const n=Object.freeze({phone:"phone",tablet:"tablet"});Object.freeze({landscape:"landscape",portrait:"portrait"}),Object.freeze({landscape:884,portrait:656})},68971:(e,t,s)=>{"use strict";function n(e){const{streamId:t}=e,{id:s,text:n}=e.term;return`${encodeURIComponent(t)} ${s?"id":"text"} ${s||n}`}function i(e){const[t,s,...n]=e.split(" ");return{streamId:decodeURIComponent(t),term:{[s]:n.join(" ")}}}s.d(t,{s:()=>n,R:()=>i})},32470:(e,t,s)=>{"use strict";function n(e){if(null===e||isNaN(e))return null;if(Math.abs(e)>=1e6){const t=e/1e6;return Math.round(10*t)/10+"M"}return Math.abs(e)>1e3?Math.floor(e/1e3)+"K":e}function i(e,t){if(!e)return null;if(e>999)return"1K+";const s=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t?`${s}+`:s}function r(e,t){const s=Math.pow(10,t);return Math.round(e*s)/s}s.d(t,{HN:()=>n,XZ:()=>i,VG:()=>r})},83168:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});let n=0;class i{constructor(e){this.observers=[],this.id=e||"pojo-"+n++}registerObserver(e){null==this.observers&&(this.observers=[],this.id="pojo-"+n++),this.observers.indexOf(e)>=0||this.observers.push(e)}unregisterObserver(e){null==this.observers&&(this.observers=[],this.id="pojo-"+n++);var t=this.observers.indexOf(e);t<0||this.observers.splice(t,1)}removeAllObservers(){this.observers=[]}fireWhenIdle(e,t,s,n,i,r){streets.requestIdleCallback((()=>{this.fire(e,t,s,n,i,r)}),e)}fire(e,t,s,n,i,r){if(null!=this.observers&&0!=this.observers.length){var a=[];for(var o in this.observers)a.push(this.observers[o]);for(let o=0;o<a.length;o++){const c=a[o];try{this.observers.indexOf(c)<0||(c[e]?c[e].call(c,t,s,n,i,r):null!=c.onEvent?c.onEvent.call(c,e,t,s,n,i,r):"function"==typeof c&&c.call(c,e,t,s,n,i,r))}catch(l){console.error("failed to notify observer",c,l)}}}}destroy(){this.removeAllObservers()}debugObservers(){null!=this.observers&&0!=this.observers.length?this.observers.forEach((e=>{$feedly("[observable:"+this.id+"] observed by:"+e.id+" -- "+e.toString())})):$feedly("[observable:"+this.id+"] No observers")}toString(){return"[observable:"+this.id+"("+this.observers.length+" observers)]"}$feedly(e){$feedly("["+this.id+"] "+e)}}},28514:(e,t,s)=>{"use strict";s.d(t,{Dt:()=>i,U1:()=>r,p1:()=>a,gn:()=>o,$L:()=>l});var n=s(35278);function i(){return"android"===(0,n.$8)("device_os")}function r(){return"android"===(0,n.$8)("device_os")&&parseInt((0,n.$8)("device_os_version")>=10)}function a(){return feedlyApplicationType.includes("feedly.mini")||feedlyApplicationType.includes("feedly.exttag")||feedlyApplicationType.includes("feedly.follow")}function o(){return"ios"===(0,n.$8)("device_os")}function l(){return"feedly.desktop"===window.feedlyApplicationType}},99879:(e,t,s)=>{"use strict";s.d(t,{iA:()=>r,vb:()=>a,FC:()=>o,Lg:()=>d,uS:()=>h,r1:()=>u});var n=s(3015);const i=(new Date).getFullYear(),r=new Date(`${i}-01-01T00:00:01`).getTime(),a=new Date(i-1+"-01-01T00:00:01").getTime(),o=new Date(i-1+"-12-31T15:59:59").getTime(),l=(new Date).getUTCMonth(),c=(new Date(i,l,1).getTime(),0===l?11:l-1),d=(new Date(c>10?i-1:i,c,1).getTime(),new Date(i,l,(new Date).getUTCDate()).getTime()),h=(d===r||Math.floor(((new Date).getTime()-r)/n.HA.day),Object.freeze({churn:"#9e9e9e75",currentYear:"limegreen",missionO2:"#9e9e9e75",lastYear:"#9e9e9e75"}),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:`${t}`,revenue:14625.23*t})})(),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:`${t}`,churn:-1465*t})})(),(()=>{const e=[];for(let t=1;t<31;t+=1)e.push({day:`${t}`,trials:11.66*t,qualified:5*t,onboarded:3*t,won:2*t})})(),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:`${t}`,users:36.65*t})})(),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:`${t}`,users:.275*t})})(),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:`${t}`,accounts:1.84*t})})(),["Android","Apple"]),u=["Paypal","Stripe","StripeBilling"]},99220:(e,t,s)=>{"use strict";s.d(t,{uu:()=>i,UO:()=>r,gQ:()=>a,ct:()=>o,no:()=>l});s(3e3);var n=s(74221);s(61454),s(35610);function i(e){return`collection/content/${e}`}function r(e){return`priority/content/${e}`}function a(e){return`board/content/${e}`}function o(e){return`subscription/${e}`}function l(e,{tab:t="content"}={}){if(!e)return null;if(-1===e.indexOf("/"))return e;const{isCategory:s,isFeed:i,isPriority:r,isTag:a}=(0,n.Yg)(e);if(i)return`subscription/${encodeURIComponent(e)}`;if(r)return`priority/content/${e}`;const o=e.split("/").slice(3).join("/"),l=e.replace(o,encodeURIComponent(o));return s?`collection/${t}/${l}`:a?`board/${t}/${l}`:void console.error("[pageInfoUtils] Unknown streamId type in `streamIdToUri.`")}},21120:(e,t,s)=>{"use strict";s.d(t,{T:()=>a,_:()=>o});var n=s(88516),i=s.n(n),r=s(35610);function a(e,{currency:t,decimals:s,decimalSeparator:n,thousandsSeparator:r}={}){if(e=Number(e),isNaN(e))throw new Error("Invalid argument: expected a number");s=isNaN(s)?2:Math.abs(s),r=void 0===r?",":r,n=n||".";let a=e<0?"-":"";e=Math.abs(e).toFixed(s);let o=parseInt(e)+"",l=o.length>3?o.length%3:0,c=(l?o.substr(0,l)+r:"")+o.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+r),d=s?n+Math.abs(e-o).toFixed(s).slice(2):"";return a+(t?i()(t):"$")+c+d}function o(){return(0,r.XK)()?"pk_test_wGL7vhyxUT7OMF6dw6nKQhXQ":"pk_live_hpLXn4hZEd03PLQdPySlgjgR"}},48942:(e,t,s)=>{"use strict";function n(){try{const e="test",t="1";window.localStorage.setItem(e,t);const s=window.localStorage.getItem(e);return window.localStorage.removeItem(e),s===t}catch(e){return!1}}s.d(t,{I:()=>n,a:()=>i});const i=new class{get(e){try{return JSON.parse(window.localStorage.getItem(e))}catch(t){return null}}set(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(s){}}remove(e){try{window.localStorage.removeItem(e)}catch(t){}}}},8199:(e,t,s)=>{"use strict";s.d(t,{Rl:()=>n,Av:()=>i,RI:()=>r,H4:()=>a,vu:()=>o,_B:()=>l,ou:()=>c,Tx:()=>d,SX:()=>h,DV:()=>u,Sy:()=>p,Ch:()=>m,L9:()=>g});const n=Object.freeze({annual:"FeedlyBusiness",monthly:"FeedlyBusinessMonthly"}),i=3,r=Object.freeze({android:"Android",apple:"Apple",paypal:"Paypal",stripe:"Stripe",stripeBilling:"StripeBilling"}),a=Object.freeze({standard:0,proStandard:1,pro:1,proPlus:2,business:3,enterprise:4}),o=Object.freeze({standard:"Standard",proStandard:"Pro",pro:"Pro",proPlus:"Pro+",business:"Business",enterprise:"Enterprise"}),l=Object.freeze({standard:"standard",proStandard:"proStandard",pro:"pro",proPlus:"proPlus",business:"business",enterprise:"enterprise"}),c=Object.freeze({monthly:"Monthly",yearly:"Yearly"}),d=Object.freeze({Business:18,ProStandardMonthly:8,ProStandardYearly:72,ProPlusLaunch:99,ProPlusMonthly:16,ProPlusYearly:144,ProPlusKickstarter:99,ProBlackFriday:50}),h=Object.freeze({Monthly:{id:"FeedlyProMonthly",isMonthly:!0},Monthly7:{id:"FeedlyProMonthly7",isMonthly:!0},Monthly8:{id:"FeedlyProMonthly8",isMonthly:!0},Yearly:{id:"FeedlyProYearly"},Yearly65:{id:"FeedlyProYearly65"},Yearly72:{id:"FeedlyProYearly72"},StandardMonthly:{id:"FeedlyProStandardMonthly8",isMonthly:!0},StandardYearly:{id:"FeedlyProStandardYearly72"},PlusMonthly:{id:"FeedlyProPlusMonthly16",isProPlus:!0,isMonthly:!0},PlusYearly:{id:"FeedlyProPlusYearly144",isProPlus:!0},Yearly72AppStore:{id:"FeedlyProYearly72AppStore"},Monthly8AppStore:{id:"FeedlyProMonthly8AppStore",isMonthly:!0},StandardMonthly8AppStore:{id:"FeedlyProStandardMonthly8AppStore",isMonthly:!0},PlusMonthly16AppStore:{id:"FeedlyProPlusMonthly16AppStore",isProPlus:!0,isMonthly:!0},Lifetime:{id:"FeedlyProLifetime",isLifetime:!0},StandardLifetime:{id:"FeedlyProStandardLifetime",isLifetime:!0},Kickstarter:{id:"FeedlyProKickstarterEdition",isLifetime:!0},PlusKickstarter:{id:"FeedlyProPlusKickstarter",isLifetime:!0,isProPlus:!0},PlusLifetime:{id:"FeedlyProPlusLifetime",isLifetime:!0,isProPlus:!0},Yearly65BlackFridayCoupon:{id:"FeedlyProYearly65BlackFridayCoupon"},StandardYearlyBlackFriday:{id:"FeedlyProStandardYearly72BlackFriday"},PlusLaunch:{id:"FeedlyProPlusYearly144Launch",isProPlus:!0}}),u=Object.keys(h).reduce(((e,t)=>(e[h[t].id]=t,e)),{}),p=Object.keys(h).reduce(((e,t)=>(e[t]=h[t].id,e)),{}),m=Object.freeze({active:"Active",canceled:"Canceled",canceledTrial:"CanceledTrial",demo:"Demo",nonProfit:"NonProfit",pastDue:"PastDue",test:"Test",trial:"Trial",unpaid:"Unpaid"}),g=Object.freeze({business:"business",enterprise:"enterprise",pro:"pro",proLegacy:"proLegacy",proPlus:"proPlus",proPlusLifetime:"proPlusLifetime",standard:"standard"})},80889:(e,t,s)=>{"use strict";s.d(t,{lE:()=>i,B1:()=>r,qL:()=>a,Eh:()=>o,$l:()=>l,CM:()=>c,QT:()=>d,sL:()=>h,_Y:()=>u,RV:()=>p});var n=s(8199);function i({availableProducts:e,currentProduct:t}={}){var s;const n=t&&(t.nextChargeAmount||(null==e||null===(s=e.find((({product:e})=>e===t.product)))||void 0===s?void 0:s.nextChargeAmount));return n?n/100:null}function r({availableProducts:e,currentProduct:t}={}){var s;return t&&(t.nextChargeDate||(null==e||null===(s=e.find((({product:e})=>e===t.product)))||void 0===s?void 0:s.nextChargeDate))}function a(){return streets.isProLegacyPlan()?"proPlus":streets.isProPlusPlan()||streets.isBusinessPlan()?"enterprise":null}function o(e){const t=n.SX[n.DV[e]];return t?t.isProPlus?t.isMonthly?n.Sy.PlusMonthly:n.Sy.PlusYearly:t.isMonthly?n.Sy.StandardMonthly:n.Sy.StandardYearly:null}function l(e){const t=n.SX[n.DV[e]];return!(!t||!t.isMonthly)}function c(e){const t=n.SX[n.DV[e]];return!(!t||!t.isLifetime||t.isProPlus)}function d(e){const t=n.SX[n.DV[e]];return!!(t&&t.isLifetime&&t.isProPlus)}function h(e){const t=n.SX[n.DV[e]];return!(!t||!t.isProPlus)}function u(e){const t=n.SX[n.DV[e]];return!(!t||t.isProPlus)}function p(e){return e===n.RI.stripe||e===n.RI.stripeBilling}},15454:(e,t,s)=>{"use strict";function n(){try{streets.service("signs").setNextAutoHideDelay(5e3),streets.service("signs").showMessage("Please disable popup blocker and retry.")}catch(e){window.alert("Please disable popup blocker")}}s.d(t,{d:()=>n})},3167:(e,t,s)=>{"use strict";s.d(t,{xV:()=>r,RO:()=>a,aR:()=>o,DD:()=>l,u_:()=>c,yq:()=>d,pl:()=>h,$h:()=>u,_0:()=>p,oH:()=>m,Sd:()=>g,H2:()=>f,T$:()=>y,_6:()=>v,$L:()=>b,XK:()=>E,iu:()=>C,GO:()=>w,Ag:()=>k,yH:()=>_,NL:()=>M,yK:()=>S,M_:()=>T,FD:()=>I,FX:()=>N,A1:()=>P,Ic:()=>L,sf:()=>x,j$:()=>D,Bu:()=>O,BF:()=>A,dY:()=>z,qm:()=>R,Qt:()=>F,XV:()=>j,$t:()=>U,oB:()=>B,iG:()=>H,b2:()=>Y,vA:()=>Z,J4:()=>W,zG:()=>$,ZW:()=>q,$Y:()=>V,Bd:()=>G,AM:()=>Q,fM:()=>K,Hi:()=>J,Ar:()=>X,Zf:()=>ee,Su:()=>te,z0:()=>se,iF:()=>ne,Ml:()=>ie,JP:()=>re,Zu:()=>ae,TA:()=>oe,ZD:()=>le,As:()=>ce});var n=s(43323),i=s.n(n);const r="enableClustering",a="defaultStartPageURI",o="entryOverviewSize.desktop",l="enableAnnotations",c="enableCommonTopics",d="enableDeduplication",h="enableLeoFeedback",u="enableLeoSuggestionsPref",p="enableLeoGuidedTutorialLikeBoard",m="leoSummaryPref",g="enableInlineEntities",f="enableCybersecurityTrendsInTodayPage",y="entryNavigation",v="entrySort",b="giantMarkAsRead",E="markAllAsReadMenu",C="teamVsPersonal",w="hideReadArticlesFilter",k="recentlySearchedTopics",_="articleAnimation.mobile",M="scroll.mobile",S="autoSelectOnScroll.mobile",T="isSwipeGestureDiscovered.mobile",I="entryFontFamily",N="exploreStream",P="powerSearchModePref",L="showEmptyPrioritiesPref",x="showPrioritiesInNavigationPref",D="emptyCategories",O="userDefinedLessLikeThis",A="theme.web",z="emptyBoardPlaceholderPref",R="leoPrioritiesCollapsedPref",F="nonSecureImageFallbacks",j="personalBoardsCollapsedPref",U="personalCollectionsCollapsedPref",B="teamBoardsCollapsedPref",H="teamCollectionsCollapsedPref",Y="customizationKey",Z="WEB_ALERTS",W="entryOverviewSize.mobile",$="density.mobile",q="theme.mobile",V="enterpriseSourceLimit",G=Object.freeze({light:"theme.light",dark:"theme.dark"}),Q=(Object.freeze([M,S,E,W,$,v,l]),Object.freeze({compact:"compact",comfortable:"comfortable"})),K=Object.freeze(Object.values(Q)),J=Object.freeze({hide:"hide",show:"show"}),X=Object.freeze({cards:"5",fullArticle:"100",magazine:"4",titleOnly:"0"}),ee=Object.freeze(i()(X)),te=Object.freeze({"theme.light":"theme--light","theme.dark":"theme--dark"}),se=Object.freeze({day:"white",night:"black",auto:"auto"}),ne=Object.freeze({slide:"slide",expand:"expand",fade:"fade"}),ie=Object.freeze({smooth:"smooth",paged:"paged"}),re=Object.freeze({Today:"my",Favorites:"label/global.must",All:"latest"}),ae=Object.freeze({all:"all",globalOnly:"globalOnly",createdByUserOnly:"createdByUserOnly",none:"none"}),oe=Object.freeze({team:"team-first",personal:"personal-first"}),le=Object.freeze({off:"no",on:"yes"}),ce=Object.freeze({priorities:"prioritiesOrderingId",teamCollections:"teamCategoriesOrderingId",teamTags:"teamTagsOrderingId",personalCollections:"categoriesOrderingId",personalTags:"personalTagsOrderingId"})},78505:(e,t,s)=>{"use strict";s.d(t,{Xh:()=>n,Rc:()=>i,PN:()=>r});const n=20,i=2,r=3},99442:(e,t,s)=>{"use strict";s.d(t,{bL:()=>n,zR:()=>i,aB:()=>r,ur:()=>a,Pr:()=>o,TP:()=>l,y9:()=>c,mb:()=>d,ue:()=>h,Py:()=>u,BU:()=>p,$R:()=>m,BY:()=>g,Og:()=>f,lC:()=>y,ti:()=>v,Eh:()=>b});const n=Object.freeze({likeBoard:"Board",matches:"Topic",security:"Severity"}),i=Object.freeze({businessEvent:"Product launches, funding events, partnerships, leadership changes, etc.",domain:"Domain",industryTopic:"Biopharma, retail, travel, etc.",likeBoard:"Articles similar to your boards",matches:"Keywords, companies, products, etc.",muteFilter:"Cancel the noise",security:"Critical vulnerabilities"}),r=Object.freeze({businessEvent:"Business Event",criticalVulnerability:"Critical Vulnerability",cyberEvent:"Cyber Attack",domain:"Website",industryTopic:"Industry",likeBoard:"Like Board",malwareFamily:"Malware",matches:"Topic",mitreAttack:"Mitre ATT&CK",muteFilter:"Mute Filter",security:"Security Threat",threatActor:"Threat Actor",various:"Various"}),a=Object.freeze({businessEvent:"matches",criticalVulnerability:"security",cyberEvent:"matches",disease:"matches",domain:"matches",gene:"matches",industryTopic:"matches",likeBoard:"likeBoard",malwareFamily:"matches",matches:"matches",mitreAttack:"matches",muteFilter:"muteFilter",org:"matches",person:"matches",security:"security",threatActor:"matches",topic:"matches"}),o=Object.freeze({businessEvent:"businessEvent",criticalVulnerability:"criticalVulnerability",cyberEvent:"cyberEvent",disease:"disease",domain:"domain",gene:"gene",industryTopic:"industryTopic",likeBoard:"likeBoard",malwareFamily:"malwareFamily",matches:"matches",mitreAttack:"mitreAttack",muteFilter:"muteFilter",org:"org",person:"person",security:"security",threatActor:"threatActor",topic:"topic"}),l=Object.freeze({businessEvent:"businessEvent",cyberEvent:"cyberEvent",disease:"disease",gene:"gene",industryTopic:"industryTopic",malwareFamily:"malwareFamily",mitreAttack:"mitreAttack",org:"org",person:"person",threatActor:"threatActor",topic:"topic"}),c=Object.freeze({likeBoard:"boards",matches:"parts",security:"severities"}),d=Object.freeze({about:"about",mention:"mention"}),h=Object.freeze({boardNotFoundError:"BoardNotFoundError",categoryNotFoundError:"CategoryNotFoundError",languageNotAvailableError:"LanguageNotAvailableError",languageMismatchError:"LanguageMismatchError",notEnoughEntriesInBoardError:"NotEnoughEntriesInBoardError",notEnoughEntriesInCategoryError:"NotEnoughEntriesInCategoryError",unexpectedTrainingError:"UnexpectedTrainingError"}),u=Object.freeze({error:"error",success:"success",updating:"updating"}),p=["LOW","MEDIUM","HIGH"],m=Object.freeze({low:"LOW",medium:"MEDIUM",high:"HIGH"}),g=Object.freeze({LOW:"CVSS < 5",MEDIUM:"CVSS between 5 and 8",HIGH:"CVSS > 8 or exploit"}),f=.4,y=Object.freeze({ProductLaunch:"Product Launch",FundingEvent:"Funding Event",Partnership:"Partnership",LeadershipChange:"Leadership Change"}),v=Object.freeze({layers:"layers",main:"mainSearchLayer",notLayers:"notLayers"}),b=Object.freeze({criticalVulnerability:m.high,cyberEvent:{id:"nlp/f/topic/4009",enterpriseFeatures:["LeoSecurity"],label:"cyber attacks",type:"cyberEvent"},security:m.high})},2222:(e,t,s)=>{"use strict";s.d(t,{hh:()=>g,FR:()=>f,eG:()=>y,aV:()=>v,F1:()=>b,Ao:()=>E,xF:()=>C,FN:()=>w,Bv:()=>k,hY:()=>_,kk:()=>M,Sc:()=>S});var n=s(89793),i=s.n(n),r=s(45018),a=s.n(r),o=s(20081),l=s.n(o),c=s(60624),d=s.n(c),h=s(24443),u=s.n(h),p=s(16847),m=s(99442);function g(e){let t=(0,p.kC)(e.id.split("nlp/f/businessEvent/")[1]);return t+="Funding"===t?"Event":"",E(t)}function f(e){if(!e||!e.length)return 0;let t=0,s=0;return e.forEach((e=>{t+=e.numEntriesMatching,s=Math.max(s,e.numEntriesProcessed)})),s?Math.min(Math.round(100*(s-t)/s),99):0}function y(e,t){return e.filter((e=>e.type===t))}function v({latestRefreshErrors:e=[]}){const t="Oops! An error occurred while updating the model for your like-board.";if(!e.length)return t;const{languageName:s,numEntries:n,type:i}=e[0];if(i===m.ue.boardNotFoundError)return"Sorry, Leo couldn't train your like-board. The board no longer exists.";if(i===m.ue.categoryNotFoundError)return"Sorry, Leo couldn't train your like-board. The feed no longer exists.";if(i===m.ue.languageNotAvailableError)return`Oops! Leo doesn't understand ${s} yet.`;if(i===m.ue.languageMismatchError)return"Oops! Articles in your feed and board must be in the same language.";if(i===m.ue.notEnoughEntriesInBoardError){const e=10-parseInt(n);return`Save ${e} more ${u()("article",e)} to this board. There are not enough articles for Leo to understand the topic you want to prioritize.`}return i===m.ue.notEnoughEntriesInCategoryError?"Sorry, Leo couldn't train your like-board. The feed does not publish enough content for Leo to analyze.":t}function b(e){return e.layers.some((e=>"security"===e.type))?"security":1===e.layers.length?e.layers[0].type:e.layers.length>1?"various":void 0}function E(e){return"string"==typeof e?m.lC[e]?m.lC[e]:(0,p.kC)(e):(e.label||e.text).replace(/site:/gi,"")}function C(e,t){return e.text?e.text===t.text:e.id?e.id===t.id:e===t}function w({latestRefreshErrors:e,trainingStatus:t}){return t===m.Py.error&&e&&e.some((e=>e.type===m.ue.notEnoughEntriesInBoard))}function k(e){return e.layers.some((({type:e})=>e===m.ur.likeBoard))}function _(e,t){const s=e.layers||[],n=t.layers;if(n.length!==s.length)return!1;const r=n.reduce(((e,t,n)=>{const{type:r,salience:a}=t,{type:o,salience:c}=s[n],h=t[m.y9[r]],u=s[n][m.y9[o]];if(r!==o||"matches"===o&&a!==c)return e[n]=!1,e;let p;return p="matches"===o?d()(u,h,(({id:e,text:t})=>t||e)):l()(u,h,i()),p.length>0?(e[n]=!1,e):(e[n]=!0,e)}),{});return a()(r,(e=>!0===e))}function M(e){const{label:t,layers:s}=e,n=b(e);if("security"===n||"various"===n)return!1;if("likeBoard"===n){if(s[0].boards.length>1)return!1;if(t!==s[0].boards[0].label)return!1}return"matches"!==n}function S(e){return e.reduce(((e,t)=>(e[t.negate?m.ti.notLayers:m.ti.layers].push(t),e)),{layers:[],notLayers:[]})}},31245:(e,t,s)=>{"use strict";s.d(t,{z1:()=>n,yQ:()=>i,rr:()=>r});const n=Object.freeze({priority:"priority",webAlert:"webAlert"}),i=Object.freeze({biopharmaUpgrade:"biopharmaUpgrade",leoSatisfactionPrompt:"leoSatisfactionPrompt",leoSecurityUpgrade:"leoSecurityUpgrade",leoSecurityUpgradeMalware:"leoSecurityUpgradeMalware",leoSecurityUpgradeThreatActors:"leoSecurityUpgradeThreatActors",leoSecurityUpgradeVulns:"leoSecurityUpgradeVulns",likeBoard:"likeBoard",muteFilter:"muteFilter",security:"security",sponsor:"sponsor",sourcesBallot:"sourcesBallot"}),r=Object.freeze({biopharmaUpgrade:"Would you like Leo to read this feed and prioritize specific biopharma companies, diseases, or genes?",leoSecurityUpgrade:"Would you like Leo to read this feed and prioritize articles related to specific Cybersecurity topics and threats?",leoSecurityUpgradeMalware:"Would you like Leo to read this feed and prioritize specific Malware threats?",leoSecurityUpgradeThreatActors:"Would you like Leo to read this feed and prioritize articles mentioning specific threat actors?",leoSecurityUpgradeVulns:"Would you like Leo to read this feed and prioritize the vulnerabilities with the highest CVSS score or critical exploits?"})},75320:(e,t,s)=>{"use strict";s.d(t,{aJ:()=>n,jN:()=>i,zb:()=>r,_s:()=>a,zE:()=>o,Dc:()=>l,_P:()=>c,TE:()=>d,W9:()=>h,ST:()=>u,Zx:()=>p,mn:()=>m,W2:()=>g});const n="nlp/f/publicationBucket/",i="nlp/f/discoveryTopic/",r="cybersecurity:",a="biopharma:",o="discovery:",l=Object.freeze({"byf:research":"byf:research","byf:industry":"byf:industry","byf:tech":"byf:tech","byf:business":"byf:business","byf:strategy":"byf:strategy","byf:news":"byf:news","cybersecurity:security-news":"cybersecurity:security-news","cybersecurity:threat-research":"cybersecurity:threat-research","cybersecurity:vulnerabilities":"cybersecurity:vulnerabilities","cybersecurity:security-vendors":"cybersecurity:security-vendors","cybersecurity:ciso":"cybersecurity:ciso","cybersecurity:foreign-affairs":"cybersecurity:foreign-affairs","biopharma:science-journals":"biopharma:science-journals","biopharma:healthtech":"biopharma:healthtech","biopharma:business":"biopharma:business","biopharma:regulatory":"biopharma:regulatory"}),c=[l["byf:strategy"],l["byf:industry"],l["byf:tech"],l["byf:business"],l["byf:research"]],d=[l["biopharma:business"],l["biopharma:regulatory"],l["biopharma:science-journals"]],h=[l["cybersecurity:security-news"],l["cybersecurity:threat-research"],l["cybersecurity:ciso"],l["cybersecurity:security-vendors"]],u=Object.freeze({"byf:research":"Research Journals","byf:strategy":"Strategy Magazines","byf:industry":"Industry Publications","byf:tech":"Tech Blogs","byf:business":"Business Magazines","byf:news":"National Newspapers","cybersecurity:security-news":"Security News","cybersecurity:threat-research":"Threat Research","cybersecurity:vulnerabilities":"Vulnerability","cybersecurity:security-vendors":"Vendor Blogs","cybersecurity:ciso":"CISO","cybersecurity:foreign-affairs":"Foreign Affairs","biopharma:business":"Biopharma Business","biopharma:regulatory":"Biopharma Regulatory","biopharma:science-journals":"Science Journals","biopharma:healthtech":"HealthTech"}),p=Object.freeze({auto:"auto",biopharma:"biopharma",cybersecurity:"cybersecurity",industryIntelligence:"industryIntelligence"}),m=Object.freeze({default:"default",discovery:"discovery"}),g=Object.freeze({"byf:research":{description:"Research publications across various scientific fields",examples:["Nature","ScienceDirect","PubMed"]},"byf:strategy":{description:"Analysis and insights on key industry trends",examples:["Harvard Business Review","McKinsey","Gartner"]},"byf:industry":{description:"Trade publications across 120 industries",examples:["FierceBioTech","Retail Dive","Skift"]},"byf:tech":{description:"Tech publications and blogs",examples:["TechCrunch","Wired","Ars Technica"]},"byf:business":{description:"Business publications and blogs",examples:["Forbes","Business Insider","Entrepreneur"]},"byf:news":{description:"National and international news publications",examples:["New York Times","Reuters","BBC"]},"cybersecurity:security-news":{description:"Cybersecurity news sites",examples:["Dark Reading","Threatpost","Packet Storm Security"]},"cybersecurity:threat-research":{description:"Threat research and analysis",examples:["Krebs on Security","Fire Eye Threat Research"]},"cybersecurity:vulnerabilities":{description:"Vulnerability databases and news sites",examples:["National Vulnerability Database","CXSecurity.com","vuldb.com"]},"cybersecurity:security-vendors":{description:"Security vendor blogs",examples:["Check Point Research","Qualys Blog","AWS Security Blog"]},"cybersecurity:ciso":{description:"Cybersecurity publications targeted at CISOs",examples:["CISO Magazine","CSO Online","Security Intelligence"]},"cybersecurity:foreign-affairs":{description:"News and analysis of geo-political trends",examples:["The Guardian","Foreign Policy","Reuters"]},"biopharma:business":{description:"Analysis and insights in the biopharma sector",examples:["Endpoints","FiercePharma","Biopharma Dive"]},"biopharma:regulatory":{description:"Regulatory affairs news in the biopharma sector",examples:["Eye on FDA","EMA Press Releases","Drugs.com"]},"biopharma:science-journals":{description:"Peer-reviewed publications in science and medicine",examples:["JAMA","Nature","ScienceDaily","The Lancet"]},"biopharma:healthtech":{description:"Digital health blogs and publications",examples:["MedCity News","Xconomy","MobiHealthNews"]}})},63403:(e,t,s)=>{"use strict";s.d(t,{Tm:()=>i,hj:()=>r,YC:()=>a,IT:()=>o,W_:()=>l,DX:()=>c,Pk:()=>d});const n="<p>submitted by";function i(e=""){return e.includes("reddit.com")&&e.includes(".rss")}function r(e){return!!e&&e.startsWith("feed/https://api.reddit.com/")}function a(e){return e&&e.includes("reddit.com/")}function o(e){return e.startsWith("https://www.reddit.com")||e.startsWith("www.reddit.com")||e.startsWith("reddit.com")}function l(e){return e.origin&&e.origin.title?e.origin.title.split(" Subreddit Posts")[0]:null}function c(e){return e.author?`u/${e.author}`:null}function d(e){return e.content&&e.content.content?e.content.content=e.content.content.split(n)[0]+"</div>":e.summary&&e.summary.content&&(e.summary.content=e.summary.content.split(n)[0]+"</div>"),e}},86966:(e,t,s)=>{"use strict";function n(e,t,s){if(null==t)return s;const n=e.exec(t);return n&&n.length?n[1]:s}s.d(t,{Y:()=>n})},855:(e,t,s)=>{"use strict";s.d(t,{Fq:()=>p,qp:()=>y,iK:()=>v,yJ:()=>b,lP:()=>E,P7:()=>C,_y:()=>w,tR:()=>k,zd:()=>_,Rd:()=>M,K2:()=>S,Th:()=>T,kG:()=>I,Mz:()=>N,tN:()=>P,xU:()=>L,IX:()=>x,PV:()=>O,v3:()=>A});var n=s(91815),i=s.n(n),r=s(94600),a=s(28514),o=s(65698),l=s(99442),c=s(75320);const d="-",h=/AND|OR|site:|intitle:|[^\w]-/g,u=/((ftp|http|https):\/\/)?(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,p=Object.freeze({beyond:"beyond",in:"in"}),m=Object.freeze({any:"any",audio:"audio",doc:"doc",video:"video"}),g=Object.freeze({all:"all",author:"author",title:"title"}),f=Object.freeze({newest:"newest",engagement:"engagement"}),y=Object.freeze({forever:"forever",month:"month",today:"today",week:"week"}),v=Object.freeze({fields:g.all,embedded:m.any,locale:"detect",ranked:f.newest,time:y.month}),b=[{id:m.any,label:"Any Content"},{id:m.video,label:"Video"},{id:m.audio,label:"Audio"},{id:m.doc,label:"Documents"}],E=[{id:g.all,label:"Everything"},{id:g.title,label:"Title"},{id:g.author,label:"Author"}],C=[{id:"detect",label:"Auto"},...r.rA.map((e=>({id:e,label:(0,r.vY)(e)})))],w=[{id:f.newest,label:"Newest"},{id:f.engagement,label:"Popularity"}],k=[{id:y.today,label:"Today"},{id:y.week,label:"Last 7 days"},{id:y.month,label:"Last 30 days"},{id:y.forever,label:"Forever"}];function _(e){return e.indexOf('"')>-1?e.replace(/[]/g,'"'):e.replace(/ and /gi," AND ").replace(/ or /gi," OR ").replace(/ site:[ ]*/gi," site:").replace(/intitle:[ ]*/gi,"intitle:").replace(/[]/g,'"')}function M(e){let t=e.split(h);return t=t.filter((e=>!!e)),t.length>10?"Ten query terms is the maximum. Please modify your query.":null}function S(e){return u.test(e)}function T(e){return!(e.indexOf("site:")>-1)&&(!(e.indexOf(" ")>-1)&&("www"===e||"www."===e||(e.split(".").length>2||(e.indexOf(".com")>-1||(e.indexOf(".org")>-1||(e.indexOf(".net")>-1||(e.indexOf("http")>-1||e.split("/").length>2)))))))}function I(e){const t=e.text||e.label;return!!(e.text||e.id&&e.id.includes("entity"))&&(!!t&&(t.length>2||2===t.length&&!isNaN(parseInt(t[0])))&&"title:"!==t&&"site:"!==t)}function N(e){return i()(e.reduce(((e,t)=>(t.type===l.ur.matches&&t.parts.forEach((t=>{I(t)&&(e.push(t.label||t.text),t.aliases&&e.push(...t.aliases))})),e)),[]))}function P(e={}){const{layers:t=[],mainSearchLayer:{parts:s,salience:n,type:i},...r}=e,a={layers:t.map((e=>{if(e.type===l.ur.matches){const t=e.parts.map((e=>{const{id:t}=e;return(0,o.ft)(t)||(0,o.jP)(t)?{id:t}:e}));return{...e,parts:t}}return e})),mainSearchLayer:{parts:(0,o.ft)(s.id)||(0,o.jP)(s.id)?[{id:s[0].id}]:s,salience:n,type:i},...r};return window.btoa(encodeURIComponent(JSON.stringify(a)))}function L(e={}){let t=(0,a.$L)()?"powerSearch":"search";t+=`/${e.type||p.in}/${encodeURIComponent(e.term||"")}`;const s=m[e.embedded]||d,n=g[e.fields]||d,i=(0,r.vY)(e.locale)?e.locale:d,o=f[e.ranked]||d,l=y[e.time]||d;return t+=`/${encodeURIComponent(n)}/${encodeURIComponent(o)}/${encodeURIComponent(s)}/${encodeURIComponent(l)}/${encodeURIComponent(i)}`,e.scope&&(t+="/"+encodeURIComponent(e.scope)),t}function x(e=""){if(!e)return{};const{bucketType:t,defaultPublications:s,layers:n,mainSearchLayer:i,tierLevel:r}=JSON.parse(decodeURIComponent(atob(e)));return{beyondBucketType:"default"===t?c.Zx.industryIntelligence:t,beyondDefaultPublications:s,beyondLayers:n,beyondMainSearchLayer:i,beyondTierLevel:r}}const D=function(e,t,s){return e!==d&&t[e]?e:s};function O(e=""){const[t,s,n,i,a,o,l,c,...h]=e.split("/"),u=h.join("/");return{embedded:D(o,m,v.embedded),fields:D(i,g,v.fields),locale:c!==d&&(0,r.vY)(c)?c:v.locale,ranked:D(a,f,v.ranked),scope:u?decodeURIComponent(u):null,term:n?decodeURIComponent(n):"",time:D(l,y,v.time)}}function A(e=""){const[t,s,n,...i]=e.split("/");return{pageType:n,scope:"subscription"===n?decodeURIComponent(i.join("/")):i.slice(1).join("/")}}},35278:(e,t,s)=>{"use strict";function n(e){return window.SETTINGS?window.SETTINGS[e]:null}function i(e){try{return window.SETTING(e)}catch(t){return $feedly("[LREAD] failed because "+t.name+" -- "+t.message),null}}function r(e,t){try{var s={};s[e]=t,window.LWRITES(s)}catch(n){$feedly("[LWRITE] failed because "+n.name+" -- "+n.message)}}s.d(t,{$8:()=>n,WH:()=>i,If:()=>r}),window.LREAD=i,window.LREMOVE=function(e){window.LREMOVES([e])},window.SETTING=n,window.LWRITE=r,window.LWRITES=function(e){try{var t={};for(var s in e)t[s]=window.SETTINGS[s]=e[s];window.$B.core.application.updateUserSettings(t,!0)}catch(n){$feedly("[LWRITES] failed because "+n.name+" -- "+n.message)}},window.LREMOVES=function(e){try{for(var t={},s=0;s<e.length;s++)t[e[s]]=null;window.LWRITES(t)}catch(n){$feedly("[LREMOVES] failed because "+n.name+" -- "+n.message)}},window.SWRITE=function(e,t){try{window.$B.core.sharedStorage.store({key:e,value:t})}catch(s){$feedly("[SWRITE] failed because "+s.name+" -- "+s.message)}}},24916:(e,t,s)=>{"use strict";function n(e){const t=streets.service("preferences").getPreference("customizationKey");let s;if("REDEFSTAGE"===t)s="//stage.netdj.co";else{if("REDEF"!==t)return;s="//netdj.co"}const n=e.getTitle(),i=e.getCleanAlternateLink(),r=e.getId();streets.service("net").POST(s+"/add/feedly/?id="+encodeURIComponent(r)+"&url="+encodeURIComponent(i)+"&title="+encodeURIComponent(n)+"&userId="+encodeURIComponent(streets.getUserId())).then((()=>{streets.service("analytics").trackEvent("sharing","redef")})).catch((e=>{$feedly("[web] failed to share with REDEF:"+e.name+" -- "+e.message)}))}s.d(t,{x:()=>n})},32285:(e,t,s)=>{"use strict";s.d(t,{PC:()=>n,VR:()=>i,Bm:()=>r});const n=Object.freeze({buryEntry:"x",clipToBuffer:"b",clipToEvernote:"c",close:"Escape",debugEntry:"D",inlineEntry:"o",leoDebugEntry:"L",markAllAsRead:"A",markAllAsReadAlt:"M",markNegative:"-",markPositive:"+",markToReview:"*",nextEntry:"j",nextEntryAlt:"ArrowRight",nextStream:"J",openShortcutMenu:"?",powerSearch:"/",previousEntry:"k",previousEntryAlt:"ArrowLeft",previousStream:"K",readLater:"l",readLaterAlt:"s",refresh:"r",saveToBoard:"t",selectNextEntry:"n",selectNextUnreadEntry:"N",selectPreviousEntry:"p",selectPreviousUnreadEntry:"P",toggleEntryRead:"m",viewOriginal:"v"}),i=[{sectionLabel:null,list:[{keyboardShortcut:"?",label:"Keyboard shortcuts"}]},{sectionLabel:"Navigation",list:[{keyboardShortcut:"gt",label:"Today"},{keyboardShortcut:"ga",label:"All"},{keyboardShortcut:"gf",label:"Favorites"},{keyboardShortcut:"gg",label:"Jump to..."},{keyboardShortcut:"gl",label:"Read later"},{keyboardShortcut:"gi",label:"Index"},{keyboardShortcut:"go",label:"Organize sources"},{keyboardShortcut:"gp",label:"Preferences"},{keyboardShortcut:"shift+j",label:"Next source or collection"},{keyboardShortcut:"shift+k",label:"Previous source or collection"},{keyboardShortcut:"/",label:"Search"},{keyboardShortcut:"r",label:"Refresh"}]},{sectionLabel:"Lists",list:[{keyboardShortcut:"j",label:"Inline next article"},{keyboardShortcut:"k",label:"Inline previous article"},{keyboardShortcut:"n",label:"Select next article"},{keyboardShortcut:"p",label:"Select previous article"},{keyboardShortcut:"shift+a",label:"Mark all as read"}]},{sectionLabel:"Selected article",list:[{keyboardShortcut:"o",label:"Inline/close currently selected article"},{keyboardShortcut:"v",label:"View original in a new tab"},{keyboardShortcut:"m",label:"Toggle mark as read"},{keyboardShortcut:"x",label:"Mark as read and hide"},{keyboardShortcut:"s",label:"Read Later"},{keyboardShortcut:"t",label:"Save to Board"},{keyboardShortcut:"b",label:"Save to Buffer"},{keyboardShortcut:"c",label:"Clip  to Evernote"}]}],r=[{keyboardShortcut:"j",label:"Open next article"},{keyboardShortcut:"k",label:"Open previous article"},{keyboardShortcut:"r",label:"Refresh"},{keyboardShortcut:"v",label:"View original article"},{keyboardShortcut:"shift+a",label:"Mark all as read"},{keyboardShortcut:"shift+j",label:"Next source or collection"},{keyboardShortcut:"shift+k",label:"Previous source or collection"}]},18193:(e,t,s)=>{"use strict";s.d(t,{q:()=>n});const n=Object.freeze({popularity:{label:"Most Popular",getter:"getEngagement",sortDirection:"desc"},oldest:{label:"Oldest",getter:"getCrawledDate",sortDirection:"asc"},newest:{label:"Newest",getter:"getCrawledDate",sortDirection:"desc"}})},85251:(e,t,s)=>{"use strict";s.d(t,{r:()=>r,zy:()=>a,yR:()=>o,Z7:()=>l,Kn:()=>c,Cl:()=>d,CI:()=>h});var n=s(74221);function i(e,t){const s=e.findIndex((e=>t===e));return s>-1?s:1e6}function r(e,t){const s=[...e];return s.sort(((e,s)=>{var r=i(t,e.id),a=i(t,s.id);const{isFavoritesA:o}=(0,n.Yg)(e.id),{isFavoritesB:l}=(0,n.Yg)(s.id);return o||e.isGlobalMust?-1:e.isGlobalUncategorized||l||s.isGlobalMust?1:s.isGlobalUncategorized?-1:r===a?e.label?s.label?e.label.localeCompare(s.label):1:-1:r-a}))}function a(e){const t=[...e];return t.sort((function(e,t){return e.isGlobalMust||t.isGlobalUncategorized?-1:t.isGlobalMust||e.isGlobalUncategorized?1:e.label.localeCompare(t.label)})),t}function o(e){const t=[...e];return t.sort((function(e,t){return e.title.localeCompare(t.title)})),t}function l(e){const t=[...e];return t.sort((function(e,t){return e.label?t.label?e.label.localeCompare(t.label):1:-1})),t}function c(e){const t=[...e];return t.sort((function(e,t){return e.label.localeCompare(t.label)})),t}function d(e,t){const s=[...e];return s.sort((function(e,s){return i(t,e.id)-i(t,s.id)})),s}function h(e,t){return[...e].sort(((e,s)=>i(t,e.id)-i(t,s.id)))}},77834:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});const n=/^\d+$/;function i(e){return(t=e.split(", ").map((function(e){const t={};return e.trim().split(/\s+/).forEach((function(e,s){if(0===s)return t.url=e;const i=e.substring(0,e.length-1),r=e[e.length-1],a=parseInt(i),o=parseFloat(i);if("w"===r&&n.test(i))t.width=a;else if("h"===r&&n.test(i))t.height=a;else{if("x"!==r||isNaN(o))throw new Error("Invalid srcset descriptor: "+e+".");t.density=o}})),t}))).sort().filter((function(e,s){return JSON.stringify(e)!==JSON.stringify(t[s-1])}));var t}function r(e){try{var t=i(e).sort(((e,t)=>(t.width||1)*(t.density||1)-(e.width||1)*(t.density||1)));return t&&t.length>0&&t[0].url&&t[0].url.startsWith("http")?t[0].url.replace("&amp;","&","g"):null}catch(s){return null}}},99979:(e,t,s)=>{"use strict";function n(){return{removeItem:function(e){const t=new Date;t.setTime(t.getTime()+-864e5);const s="; expires="+t.toGMTString();document.cookie=e+"="+s+";path=/"},setItem:function(e,t){const s=new Date;s.setTime(s.getTime()+31536e6);const n="; expires="+s.toGMTString();document.cookie=e+"="+t+n+";path=/"},getItem:function(e){for(var t=e+"=",s=document.cookie.split(";"),n=0;n<s.length;n++){for(var i=s[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}}}s.d(t,{k:()=>n})},91809:(e,t,s)=>{"use strict";s.d(t,{n:()=>h,v:()=>u});var n=s(70954),i=s(28514),r={owasp:{esapi:{codecs:{}}}};r.owasp.esapi.codecs.Codec=function(){return{decode:function(e){for(var t="",s=new r.owasp.esapi.codecs.PushbackString(e);s.hasNext();){var n=this.decodeCharacter(s);t+=null!=n?n:s.next()}return t},decodeCharacter:function(e){return e.next()}}},r.owasp.esapi.codecs.Codec.getHexForNonAlphanumeric=function(e){return e.charCodeAt(0)<256?r.owasp.esapi.codecs.Codec.hex[e.charCodeAt(0)]:e.charCodeAt(0).toString(16)},r.owasp.esapi.codecs.Codec.hex=[];for(var a=0;a<255;a++)r.owasp.esapi.codecs.Codec.hex[a]=a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?null:a.toString(16);var o=[];o["&apos"]="39",o["&quot"]="34",o["&amp"]="38",o["&lt"]="60",o["&gt"]="62",o["&nbsp"]="160",o["&iexcl"]="161",o["&cent"]="162",o["&pound"]="163",o["&curren"]="164",o["&yen"]="165",o["&brvbar"]="166",o["&sect"]="167",o["&uml"]="168",o["&copy"]="169",o["&ordf"]="170",o["&laquo"]="171",o["&not"]="172",o["&shy"]="173",o["&reg"]="174",o["&macr"]="175",o["&deg"]="176",o["&plusmn"]="177",o["&sup2"]="178",o["&sup3"]="179",o["&acute"]="180",o["&micro"]="181",o["&para"]="182",o["&middot"]="183",o["&cedil"]="184",o["&sup1"]="185",o["&ordm"]="186",o["&raquo"]="187",o["&frac14"]="188",o["&frac12"]="189",o["&frac34"]="190",o["&iquest"]="191",o["&Agrave"]="192",o["&Aacute"]="193",o["&Acirc"]="194",o["&Atilde"]="195",o["&Auml"]="196",o["&Aring"]="197",o["&AElig"]="198",o["&Ccedil"]="199",o["&Egrave"]="200",o["&Eacute"]="201",o["&Ecirc"]="202",o["&Euml"]="203",o["&Igrave"]="204",o["&Iacute"]="205",o["&Icirc"]="206",o["&Iuml"]="207",o["&ETH"]="208",o["&Ntilde"]="209",o["&Ograve"]="210",o["&Oacute"]="211",o["&Ocirc"]="212",o["&Otilde"]="213",o["&Ouml"]="214",o["&times"]="215",o["&Oslash"]="216",o["&Ugrave"]="217",o["&Uacute"]="218",o["&Ucirc"]="219",o["&Uuml"]="220",o["&Yacute"]="221",o["&THORN"]="222",o["&szlig"]="223",o["&agrave"]="224",o["&aacute"]="225",o["&acirc"]="226",o["&atilde"]="227",o["&auml"]="228",o["&aring"]="229",o["&aelig"]="230",o["&ccedil"]="231",o["&egrave"]="232",o["&eacute"]="233",o["&ecirc"]="234",o["&euml"]="235",o["&igrave"]="236",o["&iacute"]="237",o["&icirc"]="238",o["&iuml"]="239",o["&eth"]="240",o["&ntilde"]="241",o["&ograve"]="242",o["&oacute"]="243",o["&ocirc"]="244",o["&otilde"]="245",o["&ouml"]="246",o["&divide"]="247",o["&oslash"]="248",o["&ugrave"]="249",o["&uacute"]="250",o["&ucirc"]="251",o["&uuml"]="252",o["&yacute"]="253",o["&thorn"]="254",o["&yuml"]="255",o["&OElig"]="338",o["&oelig"]="339",o["&Scaron"]="352",o["&scaron"]="353",o["&Yuml"]="376",o["&fnof"]="402",o["&circ"]="710",o["&tilde"]="732",o["&Alpha"]="913",o["&Beta"]="914",o["&Gamma"]="915",o["&Delta"]="916",o["&Epsilon"]="917",o["&Zeta"]="918",o["&Eta"]="919",o["&Theta"]="920",o["&Iota"]="921",o["&Kappa"]="922",o["&Lambda"]="923",o["&Mu"]="924",o["&Nu"]="925",o["&Xi"]="926",o["&Omicron"]="927",o["&Pi"]="928",o["&Rho"]="929",o["&Sigma"]="931",o["&Tau"]="932",o["&Upsilon"]="933",o["&Phi"]="934",o["&Chi"]="935",o["&Psi"]="936",o["&Omega"]="937",o["&alpha"]="945",o["&beta"]="946",o["&gamma"]="947",o["&delta"]="948",o["&epsilon"]="949",o["&zeta"]="950",o["&eta"]="951",o["&theta"]="952",o["&iota"]="953",o["&kappa"]="954",o["&lambda"]="955",o["&mu"]="956",o["&nu"]="957",o["&xi"]="958",o["&omicron"]="959",o["&pi"]="960",o["&rho"]="961",o["&sigmaf"]="962",o["&sigma"]="963",o["&tau"]="964",o["&upsilon"]="965",o["&phi"]="966",o["&chi"]="967",o["&psi"]="968",o["&omega"]="969",o["&thetasym"]="977",o["&upsih"]="978",o["&piv"]="982",o["&ensp"]="8194",o["&emsp"]="8195",o["&thinsp"]="8201",o["&zwnj"]="8204",o["&zwj"]="8205",o["&lrm"]="8206",o["&rlm"]="8207",o["&ndash"]="8211",o["&mdash"]="8212",o["&lsquo"]="8216",o["&rsquo"]="8217",o["&sbquo"]="8218",o["&ldquo"]="8220",o["&rdquo"]="8221",o["&bdquo"]="8222",o["&dagger"]="8224",o["&Dagger"]="8225",o["&bull"]="8226",o["&hellip"]="8230",o["&permil"]="8240",o["&prime"]="8242",o["&Prime"]="8243",o["&lsaquo"]="8249",o["&rsaquo"]="8250",o["&oline"]="8254",o["&frasl"]="8260",o["&euro"]="8364",o["&image"]="8365",o["&weierp"]="8472",o["&real"]="8476",o["&trade"]="8482",o["&alefsym"]="8501",o["&larr"]="8592",o["&uarr"]="8593",o["&rarr"]="8594",o["&darr"]="8595",o["&harr"]="8596",o["&crarr"]="8629",o["&lArr"]="8656",o["&uArr"]="8657",o["&rArr"]="8658",o["&dArr"]="8659",o["&hArr"]="8660",o["&forall"]="8704",o["&part"]="8706",o["&exist"]="8707",o["&empty"]="8709",o["&nabla"]="8711",o["&isin"]="8712",o["&notin"]="8713",o["&ni"]="8715",o["&prod"]="8719",o["&sum"]="8721",o["&minus"]="8722",o["&lowast"]="8727",o["&radic"]="8730",o["&prop"]="8733",o["&infin"]="8734",o["&ang"]="8736",o["&and"]="8743",o["&or"]="8744",o["&cap"]="8745",o["&cup"]="8746",o["&int"]="8747",o["&there4"]="8756",o["&sim"]="8764",o["&cong"]="8773",o["&asymp"]="8776",o["&ne"]="8800",o["&equiv"]="8801",o["&le"]="8804",o["&ge"]="8805",o["&sub"]="8834",o["&sup"]="8835",o["&nsub"]="8836",o["&sube"]="8838",o["&supe"]="8839",o["&oplus"]="8853",o["&otimes"]="8855",o["&perp"]="8869",o["&sdot"]="8901",o["&lceil"]="8968",o["&rceil"]="8969",o["&lfloor"]="8970",o["&rfloor"]="8971",o["&lang"]="9001",o["&rang"]="9002",o["&loz"]="9674",o["&spades"]="9824",o["&clubs"]="9827",o["&hearts"]="9829",o["&diams"]="9830";var l=[];for(var c in o)l[o[c]]=c;r.owasp.esapi.codecs.HTMLEntityCodec=function(){var e=new r.owasp.esapi.codecs.Codec,t=function(e){for(var t="";e.hasNext();){var s=e.peek();if(!s.match(/[0-9]/)){if(";"==s){e.next();break}break}t+=s,e.next()}try{return parseInt(t)}catch(n){return null}},s=function(e){for(var t="";e.hasNext();){var s=e.peek();if(!s.match(/[0-9A-Fa-f]/)){if(";"==s){e.next();break}break}t+=s,e.next()}try{return parseInt(t,16)}catch(n){return null}};return{decode:e.decode,decodeCharacter:function(e){var n=e;n.mark();var i=n.next();if(null==i||"&"!=i)return n.reset(),null;var r=n.next();if(null==r)return n.reset(),null;if("#"==r){var a=function(e){var n=e.peek();return null==n?null:"x"==n||"X"==n?(e.next(),s(e)):t(e)}(n);if(null!=a)return String.fromCharCode(a)}else if(r.match(/[A-Za-z]/)&&(n.pushback(r),null!=(a=function(e){for(var t="";e.hasNext();){var s=e.peek();if(s.match(/[A-Za-z]/)){if(t+=s,e.next(),"&"+t in o){e.peek(";")&&e.next();break}}else{if(";"!=s)break;e.next()}}return o[("&"+t).toLowerCase()]?String.fromCharCode(o[("&"+t).toLowerCase()]):null}(n))))return a;return n.reset(),null}}},r.owasp.esapi.codecs.PushbackString=function(e){var t=e,s="",n="",i=0,r=0;return{pushback:function(e){s=e},index:function(){return i},hasNext:function(){return null!=s||!(null==t||0==t.length||i>=t.length)},next:function(){if(null!=s){var e=s;return s=null,e}return null==t||0==t.length||i>=t.length?null:t.charAt(i++)},nextHex:function(){var e=this.next();return this.isHexDigit(e)?e:null},nextOctal:function(){var e=this.next();return this.isOctalDigit(e)?e:null},isHexDigit:function(e){return null!=e&&(e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F")},isOctalDigit:function(e){return null!=e&&e>="0"&&e<="7"},peek:function(e){return e?null!=s&&s==e||!(null==t||0==t.length||i>=t.length)&&t.charAt(i)==e:null!=s?s:null==t||0==t.length||i>=t.length?null:t.charAt(i)},mark:function(){n=s,r=i},reset:function(){s=n,i=r},remainder:function(){var e=t.substr(i);return null!=s&&(e=s+e),e}}};const d=new r.owasp.esapi.codecs.HTMLEntityCodec,h=function(e,t=!1){if(!e)return null;e.indexOf("&")>0&&e.indexOf(";");return d.decode(e)};async function u(e){try{(0,i.Dt)()?window.$B.core.application.copyToClipboard(e):await n.nx(e),streets.service("commonsigns").showMessage("Copied to clipboard")}catch(t){streets.service("commonsigns").showError("Could not copy to clipboard")}}},29125:(e,t,s)=>{"use strict";s.d(t,{Iv:()=>n,FM:()=>i});const n=Object.freeze({default:250,cards:2e3});function i(e,t,s){return e?""==e?null:(t||(t="-"),null==s&&(s="???"),"feedly.history"===e||"read"===e?"user/"+t+"/tag/global.read":"like"===e?"user/"+t+"/tag/feedly.plusone":"#my"===e||"feedly.all"===e?"user/"+t+"/category/global.all":"global.uncategorized"===e?"user/"+t+"/category/global.uncategorized":"global.all"===e?"tag"===s?"user/"+t+"/tag/global.all":"user/"+t+"/category/global.all":"global.enterprise"===e?"tag"===s?"user/"+t+"/tag/global.enterprise":"user/"+t+"/category/global.enterprise":"global.must"===e?"user/"+t+"/category/global.must":"global.saved"===e||"starred"===e||"feedly.saved"===e?"user/"+t+"/tag/global.saved":0===e.indexOf("feedly.")?"user/"+t+"/tag/"+e:"user/"+t+"/"+s+"/"+e):null}},16847:(e,t,s)=>{"use strict";s.d(t,{kC:()=>r,Fb:()=>o,sw:()=>p,dQ:()=>a,Qc:()=>h,_o:()=>d,I8:()=>m,Bj:()=>c,oN:()=>l,oH:()=>u,ng:()=>g,Y7:()=>f,xh:()=>v,ld:()=>b,L0:()=>E,Nh:()=>C,rZ:()=>w,Ai:()=>k});var n=s(91809);const i=/<\/?[^>]+>/gi;function r(e){if(!e)return"";if("string"!=typeof e)throw new Error('Expected type "string" for capitalize util function');return e[0].toUpperCase()+e.slice(1)}function a(e){if("string"!=typeof e)throw new Error('Expected type "string" for decapitalize util function');return e[0].toLowerCase()+e.slice(1)}function o(e){if("string"!=typeof e)throw new Error('Expected type "string" for capitalizePhrase util function');return e.split(" ").map((e=>r(e))).join(" ")}function l(e){return e?e.replace(i," ").replace(/(\s+)/gi," "):""}function c(e){return e?e.replace(/(?:\r\n|\r|\n)/g,"<br>"):""}function d(e,t,s,n){null==n&&(n=0);var i=e.indexOf(t,n);if(-1==i)return null;var r=e.indexOf(s,i+t.length);return-1==r&&(r=e.length),{content:e.substring(i+t.length,r),end:r+s.length}}function h(e,t){if(!e||!t)return e;const s="string"==typeof t?new RegExp(`[${t}]`):t;return e.split(s)[0]}function u(e){return/^[^\s@]+@([^\s\.@]+.)+\.[^\s\.]+$/.test(e)}function p(e,t={}){const{addQuotes:s=!1,conjunction:n="and",limit:i=1/0,noQuotesIndex:r,showLimitCount:a=!1}=t;if(!e||!e.length)return"";let o=i===1/0?[...e]:e.slice(0,i);s&&(o=o.map(((e,t)=>r&&r===t?e:`"${e}"`)));const l=e.length-o.length;if(l&&o.push(a?`${l} more`:"more"),o.length>1){const e=o.length-1;o[e]=`${n} ${o[e]}`}return o.length>2?o.join(", "):o.join(" ")}function m(e){return e.replace(/\s/g,"")}function g(e,t){if(null==e)return null;let s=e;for(const n in t)e.includes(n)&&(s=s.replace(n,t[n]));return s}function f(e,t,s){const n=d(e,t+'="','"')||d(e,t+"='","'");if(null==n)return null;const i=n.content;if("int"===s){const e=parseInt(i);return isNaN(e)?null:e}return i}function y(e){return null==e?null:("string"!=typeof e&&(e=e.toString()),e.replace(/^\s+/,"").replace(/\s+$/,""))}function v(e){return e?((e=b(e=e.replace('<div style="direction:rtl;text-align:right">',"").replace("</div>","")))&&e.indexOf(">")>10&&(e=y(e.slice(0,e.indexOf(">")))),e&&e.indexOf("|")>10&&(e=y(e.slice(0,e.indexOf("|")))),e):e}function b(e){if(!e)return null;return y(E(e))}function E(e,t){return e?(0,n.n)(e.replace(/&lt;/gi,"<").replace(/&gt;/,">").replace(i," ").replace(/(\s+)/gi," "),t):""}function C(e){return e.replace(/\b(, ?)?(LLC|Inc|Ltd|Co|Corp)\.?$/i,"").trim()}function w(e){try{return e?"string"!=typeof e||"function"!=typeof e.replace?e:e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}catch(t){return console.error(" toSafeHTML failed to safe html content attr",t),""}}function k(e){return e?e.replace(/&lt;/gi,"<").replace(/&gt;/,">").replace(i," "):""}},84481:(e,t,s)=>{"use strict";s.d(t,{e:()=>n,z:()=>i});const n=Object.freeze({GuidedTutorialLikeBoard:"GuidedTutorialLikeBoard"}),i=Object.freeze({modal:"modal",popover:"popover"})},48689:(e,t,s)=>{"use strict";s.d(t,{iR:()=>r,Lk:()=>a,zL:()=>o,nQ:()=>l,H6:()=>c,hD:()=>d,EC:()=>h,iI:()=>u,IJ:()=>p,lF:()=>m});var n=s(16847);const i=/(.*)\((.*)\)/;function r(e){return!!e&&e.startsWith("feed/https://twitter.com")}function a(e){return 0===e.indexOf("#")?["https://twitter.com/hashtag/"+e.slice(1)]:0===e.indexOf("@")?["https://twitter.com/"+e.slice(1)]:e.indexOf("twitter.com/")>-1||e.indexOf("//twitter.com")>-1?[e]:["https://twitter.com/"+e,"https://twitter.com/hashtag/"+e,"https://twitter.com/search?q="+encodeURIComponent(e)]}function o(e){const t=i.exec(e.author);return t?t[1]:null}function l(e){const t=i.exec(e.author);return t?t[2]:null}function c(e){return e.alternate&&e.alternate.length>0&&e.alternate[0].href?e.alternate[0].href:null}function d(e){if(!e.linked||0===e.linked.length)return null;if(!e.content||!e.content.content)return null;const t=(0,n.L0)(e.content.content.split("<a")[0]).replace("#","").replace(".@","").replace("@",""),s=e.linked[0],{title:i}=s,r=i?i.replace(/[]/g,"'").replace(/[]/g,'"'):"";return r&&t.length<1.25*r.length&&t.indexOf(r.slice(0,20))>-1?null:(0,n.L0)(e.content.content)}function h(e){return e.authorDetails&&e.authorDetails.icon?e.authorDetails.icon:null}function u(e){const t=e.indexOf(" Tweets");return e.substr(0,t)}function p(e,t){const s="("+t+") retweeted:";return e.indexOf(s)>=0}function m(e,t){const s="RT "+t+":";return 0===e.indexOf(s)?e.substr(s.length):e}},35610:(e,t,s)=>{"use strict";s.d(t,{FG:()=>d,_Y:()=>h,Cl:()=>u,w6:()=>p,Lk:()=>m,sA:()=>g,lD:()=>f,il:()=>y,XK:()=>v,RI:()=>b,mv:()=>E,m1:()=>w,S5:()=>k,m_:()=>_});var n=s(16101),i=s(74221),r=s(99220),a=s(855);const o="data:",l="http:",c="https:";function d(e){let t;if(e){const{pathname:s}=m(e);t=s.split("/").slice(2).join("/")}return t||""}function h(e){if(!e)return null;let t;t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0];const s=t.indexOf("%2");return s>-1&&(t=t.substring(0,s)),t=t.split(":")[0],t=t.replace(new RegExp(/^www\./i),""),t}function u(e){return!e||(e.startsWith("//")?window.location.protocol===c:!!e.startsWith(o)||e.startsWith(c))}function p(e){return e?window&&window.location?"https:"!==window.location.protocol&&"http:"!==window.location.protocol?e:e.replace("http:","").replace("https:",""):e:null}function m(e){return new URL(e)}function g(e){return!e||e.startsWith(o)?e:e.startsWith("//")?c+e:(e.startsWith(l)&&(e=c+e.substring(l.length)),e)}function f(e){return Object.keys(e).reduce(((t,s)=>{let n=e[s];return"object"==typeof n&&(n=JSON.stringify(n)),[...t,`${encodeURIComponent(s)}=${encodeURIComponent(n)}`]}),[]).join("&")}function y(){let{origin:e,pathname:t}=window.location;return`${e}/${t.split("/")[1]}`}function v(){const{hostname:e,pathname:t}=window.location;return e.indexOf("sandbox7.feedly.com")>-1||"localhost"===e&&t.indexOf("/d/")>-1}function b(e){const t={};if(-1===e.indexOf("?"))return t;let[s,n]=e.split("?");return C(n)}function E(e){const t={p:0,parameters:{},key:null,type:null,uri:e};if(!e)return t;let[s,o]=e.split("?");const[l,...c]=s.split("/");if(t.type=decodeURIComponent(l),"powerSearch"===t.type){const s=e.split("/")[1];if(s===a.Fq.in){const s=(0,a.PV)(e);Object.assign(t,{key:s.scope,searchEmbedded:s.embedded,searchFields:s.field,searchLocale:s.locale,searchRanked:s.ranked,searchScope:s.scope,searchTerm:s.term,searchTime:s.time})}else if(s===a.Fq.beyond){const[s,n,...i]=e.split("/"),r=i.join("/"),o=(0,a.IX)(r);Object.assign(t,{beyondSearchOptions:o})}t.prefContext=e}else if(c&&c.length>0&&(t.key=decodeURIComponent(c.join("/"))),"collection"===t.type||"board"===t.type||"priority"===t.type){const e=t.key.split("/").slice(1).join("/");"collection"===t.type?e===(0,i.N1)()?t.prefContext="latest":t.prefContext=(0,r.uu)(e):"priority"===t.type?t.prefContext=(0,r.UO)(e):t.prefContext=(0,r.gQ)(e)}else t.prefContext=t.type,t.key&&(t.prefContext+="/"+t.key);if(o&&(t.parameters=C(o)),t.type===n.M3){const[e,s]=c;if(t.parameters={...t.parameters,tab:s,topicDatasetId:e},t.parameters.curationMode===n.PG.search){const e=(0,a.IX)(t.parameters.options);Object.assign(t,{beyondSearchOptions:e})}}if("discover"===t.type){const[s,n,...i]=e.split("/");if("webAlerts"===n){const e=i.join("/"),s=(0,a.IX)(e);Object.assign(t,{beyondSearchOptions:s})}}return t}function C(e){if(!e)return{};const t={};return e.split("&").forEach((e=>{if(!e)return;const s=(e=e.split("+").join(" ")).indexOf("=");let n=s>-1?e.substr(0,s):e;const i=s>-1?decodeURIComponent(e.substr(s+1)):"",r=n.indexOf("[");if(-1===r)t[decodeURIComponent(n)]=i;else{const e=n.indexOf("]"),s=decodeURIComponent(n.substring(r+1,e));n=decodeURIComponent(n.substring(0,r)),t[n]||(t[n]=[]),s?t[n][s]=i:t[n].push(i)}})),t}function w(e,t){return Object.keys(e).reduce((function(s,n){return t&&0!==n.indexOf(t)||s.push(n+"="+encodeURIComponent(e[n])),s}),[]).join("&")}function k(e){const t=new URL(e),s=t.pathname.split("/");return"login"===s[2]&&s.length>=4&&s[3]?s[3]:t.searchParams.get("code")}function _(e){const t=e.indexOf("#"),s=(t>=0?e.slice(0,t):e).split("&"),n={};return s.map((e=>{const[t,s]=e.split("=");n[t]=decodeURIComponent(s)})),n.code}},52277:(e,t,s)=>{"use strict";function n(e){try{const t=e.getBestAlternateLink(),s=e.getFeedId();return null!=t&&null!=s&&(t.indexOf("/TheVegetarianFoodie")>-1||(s.indexOf("pi.co/feed")>-1||(t.indexOf("guardian.co.uk")>-1||(t.indexOf("adventure.com")>-1||(s.indexOf("feeds.feedburner.com/Techcrunch")>-1||(s.indexOf("adventure.com")>-1||(s.indexOf("europeanforeignpolicy.eu")>-1||(t.indexOf("europeanforeignpolicy.eu")>-1||(s.indexOf("harvardbusiness")>-1||(t.indexOf("www.businessoffashion.com")>-1||(t.indexOf("entrepreneur.com")>-1||(t.indexOf("theverge.com")>-1||(s.indexOf("fastcompany")>-1||(t.indexOf("fastcompany")>-1||(s.indexOf("fastcodesign")>-1||(t.indexOf("fastcodesign")>-1||(t.indexOf("www.sfgate.com")>-1||(t.indexOf("slate.com")>-1||(t.indexOf("betakit.com")>-1||(t.indexOf("etsy.com")>-1||(s.indexOf("arstechnica")>-1||(s.indexOf("tennisnow")>-1||(s.indexOf("hanielas.blogspot.com")>-1||(s.indexOf("fitsmallbusiness.com")>-1||s.indexOf("smallbizdaily.com")>-1))))))))))))))))))))))))}catch(t){return $feedly("[nitro] failed to test exception:"+t.name+" -- "+t.message),!1}}function i(e){return e.getAlternateLink().indexOf("dilbert.com")>-1}function r(e){const t=e.getFeedId(),s=e.getBestAlternateLink();return null!=t&&t.indexOf("daringfireball.net")>-1||(!0===e.metadata.promoted||!!(s&&s.indexOf("twitter.com")>-1))}s.d(t,{JY:()=>n,eA:()=>i,pB:()=>r})},16216:(e,t,s)=>{"use strict";s.d(t,{kQ:()=>n,dw:()=>i,DQ:()=>r,z3:()=>a,UQ:()=>o,YR:()=>l});const n=Object.freeze({accessVector:"Access Vector",accessComplexity:"Access Complexity",obtainAllPrivilege:"Privileges Required",userInteractionRequired:"User Interaction",scope:"Scope",confidentialityImpact:"Confidentiality",integrityImpact:"Integrity",availabilityImpact:"Availability Impact"}),i=Object.freeze({attackVector:"Attack Vector",attackComplexity:"Attack Complexity",privilegesRequired:"Privileges Required",userInteraction:"User Interaction",scope:"Scope",confidentialityImpact:"Confidentiality",integrityImpact:"Integrity",availabilityImpact:"Availability Impact"}),r=Object.freeze({LOW:"Low",HIGH:"High"}),a=Object.freeze({ADJACENT_NETWORK:"Adjacent Network",LOCAL:"Local",NETWORK:"Network",PHYSICAL:"Physical"}),o=Object.freeze({NONE:"None",LOW:"Low",HIGH:"High"}),l=Object.freeze({low:"low",medium:"medium",high:"high",critical:"critical"})},10974:(e,t,s)=>{"use strict";s.d(t,{D4:()=>a,GE:()=>o,OZ:()=>l,_h:()=>c,zz:()=>d});var n=s(73400),i=s.n(n),r=s(16216);function a(e){return e&&e.startsWith("vulnerability")}function o(e,t,s){const{cvssScore:n,hasExploit:r}=e;return n?`CVSS ${n||""}${r?" ex":""}`:t?i()(t):i()(s)}function l(e){return`https://nvd.nist.gov/vuln/detail/${e}`}function c(e){return e.indexOf("** RESERVED **")>-1}function d(e){return e?e<4?r.YR.low:e<7?r.YR.medium:e<9?r.YR.high:r.YR.critical:null}},29318:(e,t,s)=>{"use strict";s.d(t,{hT:()=>n,DB:()=>r,Fm:()=>a});const n=!1,i="blackfriday-2018";function r(e,t){try{if(!n)return!1;if(0===e.indexOf("landing"))return!1;if(0===e.indexOf("blackfriday"))return!1;if(!streets.getUserId())return!1;if(streets.hasProAccess())return!1;if(streets.hasBusinessAccess())return!1;if(t)return!1;if(streets.service("preferences").getPreference(i))return!1;const s=new Date(2018,10,22,1,0,0).getTime(),r=new Date(2019,0,4,23,0,0).getTime(),a=(new Date).getTime();return a>s&&a<r}catch(s){return $feedly("[feedly] blackfriday redirect error:"+s.name+" -- "+s.message),!1}}function a(){try{streets.service("preferences").askSetPreference(i,"no-thanks",null,!0)}catch(e){$feedly("[feedly] failed to mark as pro redirected:"+e.name+" -- "+e.message)}}},96196:(e,t,s)=>{"use strict";s.d(t,{E:()=>i,Q:()=>r});const n="pro-2019";function i(e,t){try{return!1}catch(s){return $feedly("[feedly] pro redirect error:"+s.name+" -- "+s.message),!1}}function r(){try{streets.service("preferences").askSetPreference(n,"no-thanks-v1",null,!0)}catch(e){$feedly("[feedly] failed to mark as pro redirected:"+e.name+" -- "+e.message)}}},93023:(e,t,s)=>{"use strict";s.d(t,{i7:()=>p,kW:()=>m,Fd:()=>g,$2:()=>f,rT:()=>y,uZ:()=>v,bB:()=>b});var n=s(85646),i=s.n(n),r=s(89793),a=s.n(r),o=s(20081),l=s.n(o),c=s(2222),d=s(75320),h=s(98521),u=s(63763);function p(e={},t={}){const{layers:s=[],source:{publications:{publicationBuckets:n=[]}={}}={}}=e,{layers:i=[],source:{publications:{publicationBuckets:r=[]}={}}={}}=t,{layers:o,notLayers:d}=(0,c.Sc)(s),{layers:h,notLayers:u}=(0,c.Sc)(i);return!(0,c.hY)({layers:o},{layers:h})||!function(e,t){return!l()(e,t,a()).length}(n,r)||!a()(d,u)}function m(e){return e.startsWith("feed/https://feedly.com/f/alert/")?e.split("feed/https://feedly.com/f/alert/")[1]:null}function g(e,t){const{buttonProps:s,illustration:n,illustrationDark:i,modalInfo:r}=h.G9[e],{sub:a,title:o}=r[t]||r.topic;return{buttonProps:s,illustration:n,illustrationDark:i,modalInfo:r,sub:a,title:o}}function f(e){return e.reduce(((e,{checked:t,id:s})=>t?[...e,d.Dc[s]||s]:e),[])}function y({mainSearchLayer:e,layers:t,notLayers:s}){if(!e.parts)return[e];return[e,...[...t,...s].filter((({parts:e})=>e.length))].map((e=>({...e,parts:i()(e.parts,a()).map((e=>e.convertToKeyword?{text:e.suggestText||e.label}:e))})))}function v(e,t){let s=u.H8.default;return t&&(s=[...s,...u.H8.cybersecurity]),e&&(s=[...s,...u.H8.biopharma]),s}function b({layers:e,mainSearchLayer:t}){return!e.length&&t&&1===t.parts.length}},53023:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});const n=s(74592),i={};n.keys().forEach((function(e){const t=e.substring(2,e.length-4);i[t]=async()=>(await n(e))[t]}))},44985:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var n=s(32735),i=s(12788),r=s(83168),a=s(60216),o=s.n(a);const l=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.046 4.907c.864-1.512 3.044-1.512 3.908 0l7.415 12.977c.857 1.5-.226 3.366-1.954 3.366H4.585c-1.728 0-2.81-1.866-1.954-3.366l7.415-12.977zm2.605.744a.75.75 0 00-1.302 0L3.934 18.628a.75.75 0 00.65 1.122h14.831a.75.75 0 00.651-1.122L12.651 5.65z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9.25a.75.75 0 01.75.75v5a.75.75 0 01-1.5 0v-5a.75.75 0 01.75-.75z",fill:"currentColor"}),n.createElement("path",{d:"M12 16.708l.117.007a1 1 0 11-.234 0l.117-.007z",fill:"currentColor"}))}));var c=s(80889);s(14171);function d({onClose:e}){const t=(0,c.sL)(streets.service("profile").getUserInfo().product),s=t?"Pro+":"Pro";return n.createElement(v,{actionText:`Renew ${s}`,color:"danger",hasUpgradeIcon:!0,onCloseBanner:()=>{e("expired")}},n.createElement(l,{className:"ProNotification__icon",color:"danger"}),n.createElement("div",{className:"ProNotification__header"},"Your",` ${s} `,"account has expired."),t?"Renew to access Priorities, Mute Filters, Deduplication, and more.":"Renew your subscription so you dont miss out on important news.")}d.propTypes={onClose:o().func.isRequired};function h({onClose:e}){const t=(0,c.sL)(streets.service("profile").getUserInfo().product)?"Pro+":"Pro";return n.createElement(v,{actionText:"Update payment",color:"danger",onCloseBanner:()=>{e("pastdue")}},n.createElement(l,{className:"ProNotification__icon",color:"danger"}),n.createElement("div",{className:"ProNotification__header"},"We werent able to process your payment."),`Please update your payment information to keep using your ${t} account.`)}h.propTypes={onClose:o().func.isRequired};var u=s(40841),p=s.n(u),m=s(92814),g=s(763),f=s(47264),y=s(55024);class v extends n.Component{constructor(e){super(e),this._onCloseCheckoutModal=({closeBanner:e}={})=>{const{onCloseBanner:t}=this.props;this.setState({isCheckoutModalOpen:!1}),e&&t()},this._onClickAction=()=>{const{onClickAction:e}=this.props;e?e():this.setState({isCheckoutModalOpen:!0})},this.state={isCheckoutModalOpen:!1}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{isCheckoutModalOpen:e}=this.state,{actionText:t,color:s,children:i,hasUpgradeIcon:r,onCloseBanner:a}=this.props;return n.createElement("div",{className:p()("ProNotification",{[`ProNotification--${s}`]:s})},i,n.createElement(f.zx,{className:"ProNotification__action",icon:r&&n.createElement(m.Z,{className:"ProNotification__action-icon",color:"white"}),label:t,onClick:this._onClickAction,size:"small"}),n.createElement(f.zx,{className:"ProNotification__close",icon:n.createElement(g.Z,null),importance:"tertiary",onClick:a,size:"small"}),e&&n.createElement(y.El,{onClose:this._onCloseCheckoutModal}))}}v.propTypes={actionText:o().string.isRequired,children:o().node.isRequired,color:o().oneOf(["accent","danger","warning"]),hasUpgradeIcon:o().bool,onCloseBanner:o().func.isRequired,onClickAction:o().func},v.defaultProps={color:void 0,hasUpgradeIcon:!1,onClickAction:null};var b=s(24443),E=s.n(b),C=s(62363),w=s(3171);function k({onClose:e,renewalDate:t}){const{cardDetails:s,product:i,productExpiration:r}=streets.service("profile").getUserInfo(),a=(0,c.sL)(i),o=a?"Pro+":"Pro",d=s&&!(0,C.h6)(s),h=!t||t-Date.now()<0,u=d&&!h?"warning":"danger";let p=`Your ${o} plan is about to expire.`;if(h)p=`Your ${o} plan has expired.`;else if(d){const e=(0,w.P8)(t);p=`Your ${o} plan will expire in ${0===e?"less than a day":E()("day",e,!0)}.`}let m=a?"Renew to access Priorities, Mute Filters, Deduplication, and more.":"Renew your plan so you dont miss out on important news.";if(h){const e=(0,w.P8)(r);m=`In ${0===e?"less than a day":E()("day",e,!0)} you will no longer be able to access your premium features.`}else d||(m=`Please update your payment information to keep using your ${o} account.`);return n.createElement(v,{actionText:d?`Renew ${o}`:"Update payment",color:u,hasUpgradeIcon:!0,onCloseBanner:()=>{e("toexpire")}},n.createElement(l,{className:"ProNotification__icon",color:u}),n.createElement("div",{className:"ProNotification__header"},p),m)}k.propTypes={onClose:o().func.isRequired,renewalDate:o().number},k.defaultProps={renewalDate:void 0};var _=s(8199);class M extends n.Component{constructor(e){super(e),this._onLogin=()=>{const e=streets.service("pageManager").getPageInfo();window.localStorage.setItem("next.uri",e.uri);let t=`i/${e.type}/-/login`;e.key&&(t+=`/${e.key}`),this.analytics.trackOnboardingPageview(t),window.localStorage.setItem("next.onboarding.prefix",t),askLoginFeedly()},this.state={user:null}}UNSAFE_componentWillMount(){this.feedly=streets.service("feedly"),this.analytics=streets.service("analytics"),this.profile=streets.service("profile"),this.profile.registerObserver(this),this.setState({user:this.profile.getUserInfo()})}componentWillUnmount(){this.profile.unregisterObserver(this),this.profile=null,this.feedly=null,this.analytics=null}onProfileChanged(){this.setState({user:this.profile.getUserInfo()})}render(){const{user:e}=this.state;return e&&e.id?null:n.createElement(f.zx,{align:"right",label:"Log In",importance:"secondary",className:"button-login",onClick:this._onLogin})}}class S extends n.Component{constructor(e){super(e),this._closeNotification=e=>{try{window.localStorage.setItem("pro.notifications."+e,(new Date).getTime().toString())}catch(t){}this.setState({hideProNotifications:!0})},this._onStartGuideClick=()=>{streets.service("feedly").loadPage("team/gettingStarted")},this._onUpgradeClick=()=>{streets.service("feedly").loadPage("pro/navbar")},this.preferences=streets.service("preferences"),this.profile=streets.service("profile"),this.state={hideProNotifications:!1,nextChargeDate:null,showUpgradeButton:"on"===this.preferences.getPreference("proPlusUpgradeButton"),userInfo:this.profile.getUserInfo()}}componentDidMount(){this.preferences.registerObserver(this),this._updateNextChargeDate()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null,this.profile=null}onPreferenceChanged(e,t){"proPlusUpgradeButton"===e&&this.setState({showUpgradeButton:"on"===t})}render(){const{pageInfo:{reactClass:e}}=this.props;return null!=e&&e.requiresFullScreen()||null!=e&&e.requiresSearchBarHidden()?null:n.createElement("div",{className:"TopHeaderBar"},this._renderProNotification()||n.createElement("div",{className:"TopHeaderBar__container container"},n.createElement("div",{className:"TopHeaderBar__actions"},this._renderUpgradeLink(),n.createElement(M,null))))}_renderProNotification(){const{hideProNotifications:e,nextChargeDate:t,userInfo:{cardDetails:s,productExpiration:i,subscriptionPaymentProvider:r,subscriptionStatus:a}}=this.state,{showRenewedBanner:o}=this.props;return e||streets.hasBusinessAccess()||!(0,c.RV)(r)||!i?null:o?n.createElement(N,{onClose:this._closeNotification}):"PastDue"!==a||this._lastProNotificationWithin("pastdue",30)?"Active"!==a&&"PastDue"!==a&&this._hasExpiredWithin(i,365)&&!this._lastProNotificationWithin("expired",90)?n.createElement(d,{onClose:this._closeNotification}):"Canceled"!==a&&"CanceledTrial"!==a&&s&&!(0,C.h6)(s)||!(0,w.SE)(i)&&!(0,w.SE)(t)||this._lastProNotificationWithin("toexpire",30)?null:n.createElement(k,{expirationDate:i,onClose:this._closeNotification,renewalDate:t}):n.createElement(h,{onClose:this._closeNotification})}_renderUpgradeLink(){const{showUpgradeButton:e,userInfo:{enterpriseStatus:t,subscriptionPaymentProvider:s}}=this.state;return streets.getUserId()?streets.hasAdminBusinessAccess()&&"Trial"===t?n.createElement(f.zx,{color:"accent",importance:"primary",label:"Start guide",onClick:this._onStartGuideClick,size:"small"}):streets.hasProAccess()?!streets.hasProPlusAccess()&&s!==_.RI.paypal&&e?n.createElement(f.zx,{color:"notification",importance:"primary",label:n.createElement("span",null,"Upgrade",n.createElement("span",{style:{position:"relative",top:"-1px"}},"+")),onClick:this._onUpgradeClick,size:"small"}):null:n.createElement(f.zx,{color:"pro",importance:"primary",label:"Upgrade",onClick:this._onUpgradeClick,size:"small"}):null}_hasExpiredWithin(e,t){const s=(new Date).getTime()-e;return s>=0&&s<(0,w.z1)(t)}_lastProNotificationWithin(e,t){const s=window.localStorage.getItem("pro.notifications."+e);if(null==s)return!1;return(new Date).getTime()-parseInt(s)<(0,w.z1)(t)}async _updateNextChargeDate(){const e=await this.profile.askProProducts();this.setState({nextChargeDate:(0,c.B1)(e)})}}S.propTypes={pageInfo:o().shape({reactClass:o().func,type:o().string}).isRequired,showRenewedBanner:o().bool},S.defaultProps={showRenewedBanner:!1};var T=s(39895);const I="renewed";function N({onClose:e}){const t=(0,c.sL)(streets.service("profile").getUserInfo().product),s=t?"Pro+":"Pro";return n.createElement(v,{actionText:`See new ${s} features`,color:"accent",onClickAction:()=>{streets.service("feedly").loadPage("support"),e(I)},onCloseBanner:()=>{e(I)}},n.createElement(T.Z,{className:"ProNotification__icon",color:"accent"}),n.createElement("div",{className:"ProNotification__header"},"Welcome back to",` ${s}`,"!"),t?"Stay ahead of the curve with Leo, your AI research assistant.":"Keep reading and sharing important news.")}N.propTypes={onClose:o().func.isRequired};class P extends r.y{load(){this._pageInfo=null,this._topHeaderBar=streets.element("topHeaderBarFX")}onBeforePageLoad(e){this._pageInfo=e,i.render(n.createElement(S,{pageInfo:this._pageInfo}),this._topHeaderBar)}unload(){this._topHeaderBar&&i.unmountComponentAtNode(this._topHeaderBar),this._pageInfo=null}showRenewedBanner(){i.render(n.createElement(S,{pageInfo:this._pageInfo,showRenewedBanner:!0}),this._topHeaderBar)}}function L(e){return new P(e)}},85616:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>T});var n=s(32735),i=s(12788),r=s(83168),a=s(60216),o=s.n(a),l=s(84481);class c extends n.Component{constructor(e){super(e),this._onSetNextPosition=()=>{const{tutorial:e,tutorialPosition:t}=this.state;let s=t+1;if(s===e.length)this._onStopTutorial(!0);else{const{needsSlider:t,offsetParentClassName:n,targetClassName:i,type:r}=e[s];if(t){const e=streets.service("sliderService").getScrollTarget();e&&e.classList.add("GuidedTutorial__slider")}let a=document.querySelector(n),o=document.querySelector(i),c=r;for(;(!a||!o)&&c===l.z.popover&&s<e.length;){s+=1;const{offsetParentClassName:t,targetClassName:n,type:i}=e[s];a=document.querySelector(t),o=document.querySelector(n),c=i}this.setState({isOpen:!0,tutorialPosition:s,isButtonDisabled:!0})}},this._onCloseTutorialPopover=()=>{this.setState({isOpen:!1})},this._onEnableContinueButton=()=>{this.setState({isButtonDisabled:!1})},this._onCheckElementIsTarget=e=>{const{tutorial:t}=this.props,{tutorialPosition:s}=this.state,{targetClassName:n}=t[s],i=n.split(".").pop();if(this._onCloseTutorialPopover(),e&&e.target){let t=e.target;for(;e&&t;){if(t.className&&-1!==t.className.indexOf(i))return!0;t=t.parentNode}}return!1},this._onClickOutside=e=>{const{tutorial:t}=this.props,{tutorialPosition:s}=this.state,{needsLoading:n}=t[s],i=this._onCheckElementIsTarget(e);i&&!n?setTimeout(this._onSetNextPosition,0):i||this._onStopTutorial()},this._onStopTutorial=(e=!1)=>{const{currentTutorial:t}=this.state,s=document.getElementsByClassName("floatingEntryScroller")[0];s&&s.classList.remove("GuidedTutorial__slider"),e&&this.preferences.askSetPreference(`enableLeo${t}`,"no"),this.setState({isOpen:!1,tutorialPosition:0,tutorial:[],currentTutorial:null},(()=>{this.guidedtutorials.onStopTutorial(),streets.service("signs").showMessage("Tutorial ended")}))},this.state={isOpen:!0,tutorialPosition:0,tutorial:this.props.tutorial,isButtonDisabled:!0,currentTutorial:this.props.tutorialName}}componentDidMount(){this.guidedtutorials=streets.service("guidedtutorials"),this.preferences=streets.service("preferences"),this.sliderService=streets.service("sliderService"),this.guidedtutorials.registerObserver(this),this.sliderService.registerObserver(this)}componentWillUnmount(){this.guidedtutorials.unregisterObserver(this),this.sliderService.unregisterObserver(this),this.guidedtutorials=null,this.preferences=null,this.sliderService=null}onGuidedTutorialLoaded(){this._onEnableContinueButton()}onSlideChanged(){setTimeout(this._onSetNextPosition,300)}onGuidedTutorialMoveToNext(e){setTimeout(this._onSetNextPosition,e)}render(){const{options:e}=this.props,{tutorial:t,isButtonDisabled:s,isOpen:i,tutorialPosition:r}=this.state;if(!i||!t.length)return null;const{align:a,clickable:o,needsBorder:c,offsetParentClassName:d,paddingHorizontal:h,paddingVertical:u,position:p,targetClassName:m,tutorialInfo:f,type:y,vimeoId:v}=t[r];let b=null;if(y===l.z.modal)b=n.createElement(C,{hasVideo:!!v,options:e,tutorialInfo:f,setNextPosition:this._onSetNextPosition,onClickOutside:this._onStopTutorial,vimeoId:v});else if(y===l.z.popover){const t=document.querySelector(d),{dataSpecifier:i}=e,r=`${m}[data-item="${i}"]`,o=document.querySelector(r)||document.querySelector(m);b=n.createElement(g,{align:a,options:e,position:p,tutorialInfo:f,setNextPosition:this._onSetNextPosition,onClickOutside:this._onClickOutside,offsetParent:t,target:o,isButtonDisabled:s})}return n.createElement(M,{clickable:o,needsBorder:c,paddingHorizontal:h,paddingVertical:u,type:y},b)}}c.propTypes={options:o().shape({boardName:o().string,feedName:o().string,dataSpecifier:o().string}),tutorial:o().arrayOf(o().object),tutorialName:o().string},c.defaultProps={options:{},tutorial:[],tutorialName:""};var d=s(11245);function h(e,t={}){const s=(new DOMParser).parseFromString(e,"text/xml").childNodes[0].childNodes;return Object.keys(s).map(((e,i)=>{const r=s[i];let a;if(r.getAttribute){const e=r.getAttribute("placeholder");if("board-name"===e)a=n.createElement("b",null,n.createElement(d.Z,{className:"GuidedTutorial__icon m-r-t"}),t.boardName);else if("feed-name"===e)a=n.createElement("b",null,t.feedName);else{const e=r.nodeName;a="br"===e?n.createElement("br",null):n.createElement(e,null,r.innerHTML)}}else a=n.createElement("span",null,r.textContent);return n.createElement(n.Fragment,{key:e},a)}))}var u=s(47264),p=s(15813),m=s(46291);class g extends n.Component{render(){const{setNextPosition:e,align:t,position:s,onClickOutside:i,offsetParent:r,target:a}=this.props;return n.createElement(m.J,{caret:!0,className:"GuidedTutorialPopover",align:t,position:s,setNextPosition:e,onClickOutside:i,offsetParent:r,target:a},this._renderBody())}_renderBody(){const{isButtonDisabled:e,options:t,setNextPosition:s,tutorialInfo:{actionInfo:i,content:r,continueButtonLabel:a,initialButtonState:o}}=this.props,l=h(r,t),c=h(i,t);return n.createElement("div",{className:"GuidedTutorialPopover__content"},n.createElement("div",{className:"item-with-visuals m-b-h"},n.createElement(p.t,{className:"item-image",compact:!0,url:"https://lh5.googleusercontent.com/-H6OkFYNa35o/AAAAAAAAAAI/AAAAAAAAAGY/jlldT2n_fv8/photo.jpg?sz=128"}),n.createElement("div",{className:"GuidedTutorialPopover__username item-meta"},n.createElement("b",null,"Victoria")," from Feedly")),r?l:null,i&&n.createElement("div",{className:"GuidedTutorialPopover__actionInfo m-t-1"},"",n.createElement("i",null,c)),a&&n.createElement("div",{className:"GuidedTutorialPopover__button m-t-1"},n.createElement(u.zx,{onClick:s,importance:"primary",label:a,disabled:e&&"disabled"===o})))}}g.propTypes={align:o().string,isButtonDisabled:o().bool,offsetParent:m.J.propTypes.offsetParent,onClickOutside:o().func.isRequired,options:o().shape({boardName:o().string,feedName:o().string}),position:o().string,setNextPosition:o().func,target:m.J.propTypes.target,tutorialInfo:o().shape({actionInfo:o().oneOfType([o().element,o().string]),content:o().oneOfType([o().element,o().string]),continueButtonLabel:o().string,initialButtonState:o().string})},g.defaultProps={align:"middle",isButtonDisabled:!1,offsetParent:null,options:{},position:"bottom",setNextPosition:()=>{},target:null,tutorialInfo:{}};var f=s(40841),y=s.n(f),v=s(71466),b=s(4425),E=s(55024);function C({hasVideo:e,onClickOutside:t,options:s,setNextPosition:i,tutorialInfo:{actionInfo:r,content:a,continueButtonLabel:o,list:l=[]},vimeoId:c}){const d=h(a,s),m=h(r,s);return n.createElement(E.u_,{className:y()("GuidedTutorialModal",{GuidedTutorialModal__video:e}),classNameOverlay:"GuidedTutorialModal--overlay",onClose:t},n.createElement("div",{className:"item-with-visuals m-b-h"},n.createElement(p.t,{className:"item-image",compact:!0,url:"https://lh5.googleusercontent.com/-H6OkFYNa35o/AAAAAAAAAAI/AAAAAAAAAGY/jlldT2n_fv8/photo.jpg?sz=128"}),n.createElement("div",{className:"GuidedTutorialPopover__username item-meta"},n.createElement("b",null,"Victoria")," from Feedly")),a&&n.createElement("div",{className:"m-b-1"},d),l.map((({id:e,listItem:t})=>n.createElement("div",{key:e,className:"GuidedTutorialModal__list-item container-flex m-b-1"}," ",n.createElement(b.Z,{color:"accent",className:"col-no-flex"}),t))),c&&n.createElement(v.Z,{autoplay:!0,responsive:!0,showByline:!1,showTitle:!1,showPortrait:!1,video:c}),r&&n.createElement("div",{className:"m-t-1"},n.createElement("i",null,m)),n.createElement(u.zx,{className:"right floated m-t-1",onClick:i,importance:"primary",label:o}))}C.propTypes={hasVideo:o().bool,onClickOutside:o().func.isRequired,options:o().shape({boardName:o().string,feedName:o().string}),setNextPosition:o().func,tutorialInfo:o().shape({actionInfo:o().oneOfType([o().element,o().string]),content:o().oneOfType([o().element,o().string]),list:o().arrayOf(o().object),continueButtonLabel:o().string}),vimeoId:o().string},C.defaultProps={hasVideo:!1,options:{},setNextPosition:()=>{},tutorialInfo:{},vimeoId:""};var w=s(45750),k=s.n(w);const _=()=>{};class M extends n.Component{constructor(e){super(e),this._onTargetOverlayRef=e=>{e&&this.setState({overlayTarget:e})},this._container=document.querySelector(".tutorial-callout"),this._onWindowResize=k()((()=>{this._renderCallout()}),100),window.addEventListener("resize",this._onWindowResize),this._onWindowScroll=e=>{e.preventDefault()},window.addEventListener("mousewheel",this._onWindowScroll),window.addEventListener("touchmove",this._onWindowScroll),this.state={}}componentDidMount(){this._renderCallout()}componentDidUpdate(e){const t=n.Children.only(e.children),s=t.props&&t.props.target;this._renderCallout(s)}componentWillUnmount(){this._afterScrollPromise&&this._afterScrollPromise.cancel(),window.removeEventListener("resize",this._onWindowResize),window.removeEventListener("mousewheel",this._onWindowScroll),window.removeEventListener("touchmove",this._onWindowScroll),this._onWindowResize=null,this._onWindowScroll=null}render(){return null}_renderCallout(e){const{children:t,clickable:s,needsBorder:r,paddingHorizontal:a,paddingVertical:o,type:c}=this.props;if(this._container.style.height=document.body.scrollHeight+"px",c===l.z.modal){const e=n.Children.only(t);i.render(n.createElement("div",{className:"tutorial-callout--modal"},n.cloneElement(e)),this._container)}else if(c===l.z.popover){const{overlayTarget:l}=this.state,c=n.Children.only(t),d=c.props&&c.props.target;this._scrollIntoViewIfNeeded(d).then((()=>{const t=d.getBoundingClientRect();i.render(n.createElement("div",null,this._container&&l&&n.cloneElement(c,{offsetParent:this._container,target:l}),n.createElement("div",{className:"callout-frame-wrapper"},n.createElement("div",{style:{height:t.top-o+window.pageYOffset}}),n.createElement("div",{style:{display:"flex",flexDirection:"row",height:t.height+2*o}},n.createElement("div",{style:{width:t.left-a+window.pageXOffset}}),n.createElement("div",{ref:this._onTargetOverlayRef,style:{width:t.width+2*a},className:y()("callout-target",{"callout-target--no-border":!r}),onClick:()=>{s&&d.click()}}),n.createElement("div",{style:{flex:1}})),n.createElement("div",{style:{flex:1}}))),this._container),d!==e&&this._renderCallout(d)}),_)}}_scrollIntoViewIfNeeded(e){this._afterScrollPromise&&this._afterScrollPromise.cancel();let t=!1;const s=new Promise(((s,n)=>{const i=e.getBoundingClientRect();i.top<0||i.left<0||i.bottom>window.innerHeight||i.right>window.innerWidth?(e.scrollIntoView(!1),window.setTimeout((()=>{t?n():s()}),1)):t?n():s(),this._afterScrollPromise=null}));return this._afterScrollPromise={promise:s,cancel:()=>{t=!0}},s}}M.propTypes={children:o().element.isRequired,clickable:o().bool,needsBorder:o().bool,paddingHorizontal:o().number,paddingVertical:o().number,type:o().oneOf(Object.keys(l.z)).isRequired},M.defaultProps={clickable:!1,needsBorder:!1,paddingHorizontal:4,paddingVertical:4};class S extends r.y{load(){this._containerElement=document.getElementById("tutorialOverlay"),this._isTutorialRunning=!1}unload(){this._containerElement=null,this._currentTutorial=null,this._isTutorialRunning=!1}onStartTutorial(e,t,s={}){this._isTutorialRunning&&this.onStopTutorial(),streets.service("feedly").backToTop(),this._container=document.createElement("div"),this._container.className="tutorial-callout fx",document.body.appendChild(this._container),i.render(n.createElement(c,{tutorial:e,tutorialName:t,options:s}),this._containerElement),this._currentTutorial=t,this._isTutorialRunning=!0,this.fire("onTutorialStarted")}onStopTutorial(){this.removeTutorialCallout(),i.unmountComponentAtNode(this._containerElement),this._isTutorialRunning=!1,this._currentTutorial=null,this.fire("onTutorialEnded")}checkTutorialRunning(e){return this._isTutorialRunning&&this._currentTutorial===e}enableContinueButton(){this.fire("onGuidedTutorialLoaded")}getCurrentTutorial(){return this._currentTutorial}removeTutorialCallout(){this._container=document.querySelector(".tutorial-callout"),this._container&&(i.unmountComponentAtNode(this._container),document.body.removeChild(this._container)),this._container=null}setNextPosition(e){this._isTutorialRunning&&this.fire("onGuidedTutorialMoveToNext",e)}}function T(e){return new S(e)}},19373:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});const n={"team-bubble":{partitions:["aa"]}};var i=s(22590);const r=[i.cX,i._C],a=[],o=[i.cX,i._C];var l=s(90197);const c=[];var d=s(3171),h=s(83168);class u extends h.y{setPreferences(e){this.preferences=e}setNotifications(e){this.notifications=e}setAnalytics(e){this.analytics=e}setFeedly(e){this.feedly=e}setProfile(e){this.profile=e}setFeeds(e){this.feeds=e}load(){this._journeys={visitor:c,basic:r,pro:o,proPlus:a,team:l.Z},this.preferences.registerObserver(this)}unload(){this.preferences.unregisterObserver(this),this.preferences=null,this.notifications=null,this.analytics=null,this.feedly=null,this.profile=null,this.feeds=null}onPreferencesReady(){}_activate(){this._userType=function(){if(!streets.getUserId())return"visitor";if(streets.getEnterpriseId()&&streets.hasBusinessAccess())return"team";if(streets.isProPlusPlan())return"proPlus";if(streets.hasProAccess())return"pro";return"basic"}(),this._preferenceKey="journey-"+this._userType+"-completed",this._allSteps=this._journeys[this._userType]||[];try{this._completedSteps=JSON.parse(this.preferences.getPreference(this._preferenceKey)||"{}")}catch(e){console.error("[journey] failed to parse completed steps",e),this._completedSteps={}}"object"!=typeof this._completedSteps&&(console.error("[journey] invalid completed step format",this._completedSteps),this._completedSteps={}),this._askActivateNextStep()}async _askActivateNextStep(){let e,t=this.profile.getUserInfo().created||-1,s=t,i=(await this.feeds.askListFeeds()).length;if(this._allSteps.forEach((e=>{this._completedSteps[e.id]&&this._completedSteps[e.id]>s&&(s=this._completedSteps[e.id])})),this._allSteps.forEach((r=>{if(e)return;if(this._completedSteps[r.id])return;if(r.createdAfter&&t<new Date(r.createdAfter).getTime())return;if(r.earlyAccess&&!function(e){if("feedly"===streets.getEnterpriseId())return!0;let t=n[e]&&n[e].partitions;if(!t)return!0;return function(e){for(let t=0;t<e.length;t++)if(m(e[t]))return!0;return!1}(t)}(r.earlyAccess))return;if("forced-landing"===r.type&&i<5)return;let a=(0,d.z1)(parseInt(r.after||"0days"));(new Date).getTime()-s>=a&&(e=r)})),e)switch(e.startTime=(new Date).getTime(),e.type){case"notifications-carousel":this._reportAction(e,"Start"),this.notifications.askShowCarouselPopup(e.data).then((t=>{this._markStepAsComplete(e),this._reportAction(e,t),e.data.targetUri&&this.feedly.loadPage(e.data.targetUri)}));break;case"notifications-spotlight":this._reportAction(e,"Start"),this.notifications.askShowSpotlightPopup(e.data).then((t=>{this._markStepAsComplete(e),this._reportAction(e,t),t===e.data.primaryAction&&e.data.targetUrl?window.setTimeout((()=>{window.location=e.data.targetUrl}),150):t===e.data.primaryAction&&e.data.targetEntryId&&this.feedly.inlineEntry(e.data.targetEntryId)}));break;case"forced-landing":{let t=e.data+"?utm_source=feedly&utm_medium=journey&utm_campaign="+e.id;this.feedly.loadPage(t),this._markStepAsComplete(e),this._reportAction(e,"Landed")}break;default:$feedly("[journey] unknown step type:"+e.type)}}_reportAction(e,t){let s=(new Date).getTime()-e.startTime;switch(this._userType){case"team":this.analytics.reportTeamEvent("journey",e.id,t,s);break;case"pro":break;case"basic":this.analytics.reportBasicEvent("journey",e.id,t,s)}}_markStepAsComplete(e){this._completedSteps[e.id]=(new Date).getTime(),this.preferences.askSetPreference(this._preferenceKey,JSON.stringify(this._completedSteps),null,!0)}markTeamWelcomeAsCompleted(){this.preferences.askSetPreference("journey-team-completed",JSON.stringify({"team-welcome":(new Date).getTime()}),null,!0)}}function p(e){return new u(e)}function m(e){return!!streets.getUserId()&&streets.getUserId().slice(-e.length)===e}},84391:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>yn});var n=s(45750),i=s.n(n),r=s(32735),a=s(12788),o=s(3e3),l=s(99979),c=s(83168);class d extends r.PureComponent{constructor(...e){super(...e),this.state={isLoading:!0}}async componentDidMount(){try{await Promise.all([streets.service("leo").askIsLeoEnabled(),streets.service("enterprisecollections").askListRankedSubscribedCollections(),streets.service("enterprisetags").askListSubscribedTags(),streets.service("personalcollections").askListRankedCollections(),streets.service("personaltags").askListTags(),streets.service("priorities").askListRankedPriorities(),streets.service("onboarding").askIsOnboarding()])}catch(e){console.error(e)}this.leftnav=streets.service("leftnav"),this.leftnav.registerObserver(this),this.setState({isHidden:this.leftnav.isHidden(),isLoading:!1})}onLeftnavHiddenChanged(e){this.setState({isHidden:e})}render(){const{isHidden:e,isLoading:t}=this.state;return r.createElement("div",{className:"Leftnav","aria-hidden":e},r.createElement(he,{loading:t}),r.createElement(Re,null,r.createElement(xe,{loading:t})),r.createElement(Ft,null))}}var h=s(60216),u=s.n(h),p=s(11245),m=s(5375),g=s(71262);const f=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M9.571 2.643c2.6 0 4.944 1.444 6.134 3.702a.5.5 0 01-.885.467 5.929 5.929 0 10-7.215 8.354.5.5 0 01-.332.943A6.93 6.93 0 019.57 2.643z"}),r.createElement("path",{d:"M16.46 3.072l.09.014a.5.5 0 01.378.518l-.014.089-.858 3.428a.5.5 0 01-.984-.153l.014-.09.858-3.428a.5.5 0 01.517-.378z"}),r.createElement("path",{d:"M12.264 5.658l3.429.857a.5.5 0 01-.154.984l-.089-.014-3.428-.857a.5.5 0 01.153-.984l.09.014zM13 8.643a4.357 4.357 0 100 8.714 4.357 4.357 0 000-8.714zm0 1a3.357 3.357 0 110 6.714 3.357 3.357 0 010-6.714z"}),r.createElement("path",{d:"M12.602 14.89c.26 0 .493-.059.699-.178.172-.1.324-.222.456-.366.007.083.016.157.027.222.012.065.032.134.06.208h1.042v-.14a.343.343 0 01-.141-.112c-.032-.044-.05-.13-.057-.255a15.937 15.937 0 01-.007-.423v-1.68c0-.44-.156-.74-.467-.9a2.315 2.315 0 00-1.068-.237c-.615 0-1.05.16-1.303.483-.159.206-.248.47-.268.79h.923a.699.699 0 01.135-.337c.094-.111.254-.167.48-.167.201 0 .354.028.458.085.104.057.156.16.156.31 0 .124-.068.215-.205.273a1.492 1.492 0 01-.38.084l-.325.04c-.37.047-.65.125-.84.235-.346.202-.52.527-.52.977 0 .347.108.615.324.805.216.189.49.283.821.283zm.282-.695a.512.512 0 01-.33-.109c-.091-.073-.136-.19-.136-.354 0-.184.073-.32.221-.407.088-.051.232-.095.433-.13l.215-.04c.108-.021.192-.043.254-.066.061-.024.122-.055.183-.093v.356c-.007.32-.097.54-.27.662a.975.975 0 01-.57.181z",fillOpacity:.903})))}));var y=s(3167),v=s(1623),b=s(28576);class E extends r.PureComponent{constructor(...e){super(...e),this.state={isAdmin:streets.hasAdminBusinessAccess()},this._onAlphabetizeBoards=()=>{const{team:e}=this.props;try{e?this.preferences.setPreference(y.As.teamTags,"[]"):this.preferences.setPreference(y.As.personalTags,"[]")}catch(t){streets.service("signs").showMessage("Failed to update preference: Reset Feed Sorting")}},this._onCreateClick=()=>{const{team:e}=this.props;e?this.feedly.slideForm(v.vg,{onClose:(e,{id:t}={})=>{t&&streets.service("feedly").loadPage(`board/content/${t}`)}}):this.feedly.slideForm(v.Ox)},this._onMoreClick=()=>{this.feedly.loadPage("discover/boards")}}componentDidMount(){this.feedly=streets.service("feedly"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this)}componentWillUnmount(){this.preferences.unregisterObserver(this),this.feedly=null,this.preferences=null}render(){const{isAdmin:e}=this.state,{onCloseMenu:t,pageX:s,pageY:n,team:i}=this.props;return r.createElement(b.lM,{onClose:t,pageX:s,pageY:n},i&&r.createElement(b.sN,{onClick:this._onMoreClick},r.createElement(p.Z,{importance:"tertiary"}),"More Boards"),(!i||e)&&r.createElement(b.sN,{onClick:this._onCreateClick},r.createElement(m.Z,{importance:"tertiary"}),"New Board"),r.createElement(b.sN,{onClick:this._onAlphabetizeBoards},r.createElement(f,{importance:"tertiary"}),"Reset to Alphabetical"))}}E.propTypes={onCloseMenu:u().func.isRequired,pageX:u().number.isRequired,pageY:u().number.isRequired,team:u().bool},E.defaultProps={team:!1};var C=s(4425),w=s(86044);const k=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M7.5 2.357a3.357 3.357 0 100 6.714 3.357 3.357 0 000-6.714zm0 1a2.357 2.357 0 110 4.714 2.357 2.357 0 010-4.714zM7.5 10.929a5.857 5.857 0 015.857 5.857.5.5 0 11-1 0 4.857 4.857 0 00-9.714 0 .5.5 0 11-1 0A5.857 5.857 0 017.5 10.929zM11.786 2.357a3.357 3.357 0 010 6.714.5.5 0 110-1 2.357 2.357 0 100-4.714.5.5 0 010-1zM13.813 11.267a.5.5 0 01.634-.312c2.502.856 3.91 2.831 3.91 5.83a.5.5 0 11-1 0c0-2.572-1.136-4.166-3.233-4.883a.5.5 0 01-.311-.635z"})))}));const _=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M7.5 2.357a3.357 3.357 0 100 6.714 3.357 3.357 0 000-6.714zm0 1a2.357 2.357 0 110 4.714 2.357 2.357 0 010-4.714zM11.786 2.357a3.357 3.357 0 010 6.714.5.5 0 110-1 2.357 2.357 0 100-4.714.5.5 0 010-1zM13.813 11.267a.5.5 0 01.634-.312c2.502.856 3.91 2.831 3.91 5.83a.5.5 0 11-1 0c0-2.572-1.136-4.166-3.233-4.883a.5.5 0 01-.311-.635zM8.813 11.267a.5.5 0 01.634-.312c2.502.856 3.91 2.831 3.91 5.83a.5.5 0 11-1 0c0-2.572-1.136-4.166-3.233-4.883a.5.5 0 01-.311-.635zM2.143 10.929a.5.5 0 01.5.5c0 1.97 1.669 3.632 3.733 3.776l.244.01 1.261-.001a.5.5 0 01.09.992l-.09.008H6.555c-2.686-.058-4.912-2.193-4.912-4.785a.5.5 0 01.5-.5z"}),r.createElement("path",{d:"M6.064 13.614a.5.5 0 01.635-.078l.072.055 1.904 1.786a.5.5 0 01.063.659l-.063.07-1.904 1.786a.5.5 0 01-.744-.662l.06-.067 1.515-1.422-1.515-1.42a.5.5 0 01-.079-.636l.056-.07z"})))}));var M=s(30271),S=s(77496),T=s(15238),I=s(11505);const N="general",P="members";class L extends r.PureComponent{constructor(...e){super(...e),this.state={isAdmin:streets.hasAdminBusinessAccess()},this._onArchiveClick=()=>{this.props.onArchiveClick(this.props.board)},this._onCopyToTeam=()=>{const{board:e}=this.props;this.feedly.slideForm(v.vg,{initialLabel:e.label,initialTagToImport:e,onDone:(t,{id:s})=>{e&&e.id&&this.feedly.loadPage(`board/content/${s}`)}})},this._onDeleteClick=()=>{this.props.onDeleteClick(this.props.board)},this._onGeneralSettings=()=>{const{board:e,team:t}=this.props,s=t?v.oq:v.qn;this.feedly.slideForm(s,{defaultTab:N,streamInfo:e})},this._onMarkAsRead=async()=>{const{board:{id:e}}=this.props,t=streets.service("signs");try{t.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e,{})}catch(s){t.setDefaultErrorMessage(s)}},this._onMemberSettings=()=>{const{board:e}=this.props;this.feedly.slideForm(v.oq,{defaultTab:P,streamInfo:e})}}componentDidMount(){this.feedly=streets.service("feedly"),this.reader=streets.service("reader")}componentWillUnmount(){this.feedly=null,this.reader=null}render(){const{isAdmin:e}=this.state,{isAll:t,onCloseMenu:s,onRenameClick:n,pageX:i,pageY:a,team:o}=this.props;let l;return o&&(l=r.createElement(b.sN,{onClick:this._onMarkAsRead},r.createElement(C.Z,{importance:"tertiary"}),"Mark as read"),t)?r.createElement(b.lM,{onClose:s,pageX:i,pageY:a},l):r.createElement(b.lM,{onClose:s,pageX:i,pageY:a},l,(!o||e)&&r.createElement(b.sN,{onClick:n},r.createElement(w.Z,{importance:"tertiary"}),"Rename"),e&&(o?r.createElement(b.sN,{onClick:this._onMemberSettings},r.createElement(k,{importance:"tertiary"}),"View Members"):r.createElement(b.sN,{onClick:this._onCopyToTeam},r.createElement(_,{importance:"tertiary"}),"Copy to Team")),(!o||e)&&r.createElement(b.sN,{onClick:this._onGeneralSettings},r.createElement(M.Z,{importance:"tertiary"}),"Settings"),this._renderBottomItems())}_renderBottomItems(){const{isAdmin:e}=this.state,{team:t}=this.props;return t&&e?[r.createElement(b.sN,{key:"unfollow",onClick:this._onDeleteClick},r.createElement(S.Z,{importance:"tertiary"}),"Unfollow"),r.createElement(b.NP,{key:"divider"}),r.createElement(b.sN,{key:"archive",danger:!0,onClick:this._onArchiveClick},r.createElement(T.Z,{color:"danger"}),"Archive")]:[r.createElement(b.NP,{key:"divider"}),r.createElement(b.sN,{key:"unfollow",danger:!0,onClick:this._onDeleteClick},r.createElement(I.Z,{color:"danger"}),t?"Unfollow":"Delete")]}}L.propTypes={board:u().shape({id:u().string,label:u().string,users:u().array}).isRequired,isAll:u().bool,onArchiveClick:u().func,onCloseMenu:u().func.isRequired,onDeleteClick:u().func.isRequired,onRenameClick:u().func.isRequired,pageX:u().number.isRequired,pageY:u().number.isRequired,team:u().bool},L.defaultProps={isAll:!1,onArchiveClick:()=>{},team:!1};var x=s(855),D=s(13275);class O extends r.PureComponent{constructor(){super(),this._onClose=()=>{this.setState({isOpen:!1})},this._onOpenChange=e=>{this.setState({isOpen:e})},this.profile=streets.service("profile"),this.state={isOpen:!1,user:this.profile.getUserInfo()}}componentDidMount(){this.profile.registerObserver(this)}componentWillUnmount(){this.profile.unregisterObserver(this),this.profile=null}onProfileChanged(){this.setState({user:this.profile.getUserInfo()})}render(){const{className:e}=this.props,{isOpen:t,user:s}=this.state;return s&&s.id?r.createElement(W,{alt:s.name||s.email,"aria-label":"User profile",className:e,imageUrl:s.picture,isOpen:t,menu:r.createElement(z,{onClose:this._onClose,user:s}),onOpenChange:this._onOpenChange}):null}}O.propTypes={className:u().string},O.defaultProps={className:void 0};const A=u().shape({email:u().string,familyName:u().string,fullName:u().string,givenName:u().string,name:u().string,picture:u().string});class z extends r.PureComponent{constructor(...e){super(...e),this._onLoadPageClick=e=>{this.props.onClose(),this.feedly.loadPage(e)},this._onLogoutClick=()=>{window.localStorage.setItem("next.uri","welcome/logged-out"),streets.askLogout()},this._onSupportClick=()=>{this.props.onClose(),streets.getEnterpriseName()?this.feedly.loadPage("support/team"):streets.hasProAccess()?this.feedly.loadPage("support/pro"):this.feedly.loadPage("pro/support")}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{user:e}=this.props;return r.createElement("div",{className:"ProfileBubble__menu"},r.createElement(j,{onClick:()=>{this._onLoadPageClick("account/profile")},user:e}),r.createElement(b.v2,{width:275},r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("account")}},"Settings"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("organize")}},"Organize Sources"),streets.hasProAccess()&&!streets.hasBusinessAccess()&&r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("account/billing")}},"Billing"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("support/apps")}},"Mobile Apps"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("support/extensions")}},"Browser Add-ons"),r.createElement(b.sN,{onClick:this._onSupportClick},"Support"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("account/privacy")}},"Privacy"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("legal")}},"Terms & Policy"),r.createElement(b.sN,{onClick:this._onLogoutClick},"Logout")))}}z.propTypes={onClose:u().func.isRequired,user:A},z.defaultProps={user:void 0};var R=s(35610),F=s(77817);function j({onClick:e,user:t}){const{email:s,familyName:n,fullName:i,givenName:a,name:o,picture:l}=t;let c="Free";streets.isBusinessPlan()?c="Business":streets.isEnterprisePlan()?c="Enterprise":streets.isProPlusPlan()?c="Pro+":streets.hasProAccess()&&(c="Pro");let d="";return o?d=o:i?d=i:a&&n&&(d=`${a} ${n}`),r.createElement("div",{className:"user item-with-visuals",onClick:e,role:"button"},r.createElement(F.q,{alt:o||s,className:"item-image",iconSize:28,url:(0,R.w6)(l)}),r.createElement("div",null,r.createElement("div",{className:"item-header"},d),r.createElement("div",{className:"item-meta"},r.createElement("span",{className:"plan"},c),s)))}j.propTypes={onClick:u().func.isRequired,user:A},j.defaultProps={user:void 0};var U=s(40841),B=s.n(U),H=s(47264),Y=s(55118),Z=s(46291);class W extends r.PureComponent{constructor(e){super(e),this._onCloseClick=()=>{this.props.onOpenChange(!1)},this._onClick=e=>{e.stopPropagation();const{isOpen:t,onOpenChange:s}=this.props;s(!t)},this._popoverHook=document.getElementById("reactPopoverHook"),this._target=r.createRef()}componentWillUnmount(){this._offsetParent=null}render(){const{className:e,count:t,isOpen:s,menu:n}=this.props;return r.createElement("div",{className:B()("ProfileBubble",e)},this._renderPicture(),t>0&&r.createElement("div",{className:"ProfileBubble__count"},t),s&&r.createElement(Y.h,{className:"fx",target:this._popoverHook},r.createElement(Z.J,{align:"end",caret:!0,offsetParent:this._popoverHook,onClose:this._onCloseClick,position:"right",target:this._target},n)))}_renderPicture(){const{alt:e,fallbackIcon:t,imageUrl:s}=this.props,n=this.props["aria-label"];return!s&&t?r.createElement(H.zx,{"aria-label":n,className:"ProfileBubble__icon-button",elementRef:this._target,icon:t,importance:"tertiary",onClick:this._onClick,rounded:!0}):r.createElement(H.zx,{"aria-label":n,className:"p-a-0",importance:"tertiary",onClick:this._onClick,rounded:!0},r.createElement(F.q,{alt:e,className:"ProfileBubble__picture",elementRef:this._target,iconSize:28,url:s&&(0,R.w6)(s)}))}}W.propTypes={alt:u().string,"aria-label":u().string.isRequired,className:u().string,count:u().number,fallbackIcon:u().element,imageUrl:u().string,isOpen:u().bool,menu:u().node.isRequired,onOpenChange:u().func.isRequired},W.defaultProps={alt:"",count:0,className:void 0,fallbackIcon:void 0,imageUrl:void 0,isOpen:!1};const $=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M9 2.929a3.929 3.929 0 100 7.857 3.929 3.929 0 000-7.857zm0 1a2.929 2.929 0 110 5.857 2.929 2.929 0 010-5.857zM9 13.214a6.929 6.929 0 016.929 6.929.5.5 0 01-1 0 5.929 5.929 0 00-11.858 0 .5.5 0 11-1 0A6.929 6.929 0 019 13.214zM14.143 2.929a3.929 3.929 0 110 7.857.5.5 0 110-1 2.929 2.929 0 000-5.857.5.5 0 110-1zM16.67 13.553a.5.5 0 01.635-.312c2.961 1.013 4.624 3.345 4.624 6.902a.5.5 0 01-1 0c0-3.13-1.391-5.081-3.948-5.956a.5.5 0 01-.311-.634z"})))}));class q extends r.Component{constructor(e){super(e),this._onClose=()=>{this.setState({isOpen:!1})},this._onOpenChange=e=>{e?streets.isUserAdmin()?this.setState({isOpen:!0}):streets.hasBusinessAccess()?this.feedly.loadPage("discover/boards"):this.feedly.loadPage("pro/enterprise"):this.setState({isOpen:!1})},this.state={isOpen:!1,logo:null,numChecklistTasksRemaining:0}}UNSAFE_componentWillMount(){this.feedly=streets.service("feedly"),this.checklist=streets.service("checklist"),this.enterprise=streets.service("enterprise"),this.checklist.registerObserver(this),this.enterprise.registerObserver(this)}componentDidMount(){this._updateChecklistStatus(),this._updateTeamLogo()}componentWillUnmount(){this.checklist.unregisterObserver(this),this.enterprise.unregisterObserver(this),this.checklist=null,this.enterprise=null,this.feedly=null}onChecklistChanged(){this._updateChecklistStatus()}onEnterpriseChanged(){this._updateTeamLogo()}render(){if(!streets.getEnterpriseName()||streets.isEnterpriseUnpaid()&&!streets.isUserAdmin())return null;const{className:e}=this.props,{isOpen:t,logo:s,numChecklistTasksRemaining:n}=this.state;return r.createElement(W,{"aria-label":"Team profile",alt:name,className:e,count:n,fallbackIcon:r.createElement($,{importance:"tertiary"}),imageUrl:s,isOpen:t,menu:r.createElement(X,{onClose:this._onClose,numChecklistTasksRemaining:n}),onOpenChange:this._onOpenChange})}_updateChecklistStatus(){this.setState({numChecklistTasksRemaining:streets.isUserAdmin()&&streets.hasBusinessAccess()?this.checklist.numRemainingTasks():0})}_updateTeamLogo(){streets.hasBusinessAccess()?this.enterprise.askTeamInfo().then((e=>{e.logo&&this.setState({logo:e.logo})})):this.setState({logo:null})}}q.propTypes={className:u().string},q.defaultProps={className:void 0};var V=s(32853),G=s(6931),Q=s(40280),K=s(65802);class J extends r.Component{constructor(){super(),this.state={companyError:"",companyName:"",deleteLogo:!1,isButtonLoading:!1,logo:"",logoFile:null,teamError:"",teamName:""}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.signs=streets.service("signs"),this.fileReader=new FileReader,this.fileReader.onload=e=>{this.setState({logo:e.target.result})},this._updateTeamInfo()}componentWillUnmount(){this.enterprise=null,this.fileReader.onload=null}render(){const{companyError:e,companyName:t,isButtonLoading:s,logo:n,teamError:i,teamName:a}=this.state;return r.createElement("div",{className:"fx"},r.createElement("section",{className:"container630 centered"},r.createElement(Q.H2,{appearance:"h1",kicker:"Manage Business Account"},"Your Business profile"),r.createElement("div",{className:"form profile m-b-2"},r.createElement("div",{className:"text-fields"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"company-name"},"Company name"),r.createElement(G.At,{id:"company-name",error:e,hint:!e&&"Minimum 4 characters",onChange:this._onCompanyNameChange.bind(this),value:t})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"team-name"},"Team name"),r.createElement(G.At,{id:"team-name",error:i,onChange:this._onTeamNameChange.bind(this),value:a}))),r.createElement("div",{className:"field picture-upload"},r.createElement("label",{htmlFor:"team-logo"},"Team logo"),r.createElement(F.q,{iconSize:120,url:(0,R.w6)(n)}),r.createElement(K.R,{imageUrl:n,onChange:this._onLogoChange.bind(this)})),r.createElement(H.zx,{label:"Save changes",loading:s,onClick:this._onSaveClick.bind(this)}))))}_onCompanyNameChange(e){this.setState({companyError:"",companyName:e})}_onLogoChange(e){e?(this.fileReader.readAsDataURL(e),this.setState({deleteLogo:!1,logoFile:e})):this.setState({deleteLogo:!0,logo:"",logoFile:null})}_onSaveClick(){this.setState({isButtonLoading:!0});let{companyName:e,deleteLogo:t,logoFile:s,teamName:n}=this.state;e=e.trim(),n=n.trim();let i="";e.length<4?i="Please choose a name with at least 4 characters":e.indexOf("/")>-1&&(i="Please avoid using '/'");let r="";if(n.indexOf("/")>-1&&(r="Please avoid using '/'"),i||r)return void this.setState({companyError:i,isButtonLoading:!1,teamError:r});const a={description:(0,V.LF)(e,n)};t&&(a.deleteLogo=!0),this.enterprise.askUpdateTeamInfo(a).then((()=>{if(s)return this.enterprise.askUpdateLogo(s)})).then((()=>{this.signs.showMessage("Business info updated"),this.props.onDone()})).catch((()=>{this.signs.showError("Failed to update Business info")}))}_onTeamNameChange(e){this.setState({teamError:"",teamName:e})}_updateTeamInfo(){this.enterprise.askTeamInfo().then((e=>{const{companyName:t,teamName:s}=(0,V.a3)(e.description);this.setState({companyName:t,logo:e.logo||"",teamName:s})}))}}J.propTypes={onDone:u().func.isRequired};class X extends r.Component{constructor(e){super(e),this._onAskClick=()=>{streets.service("helpscout").open(),this.props.onClose()},this._onTeamProfileClick=()=>{this.feedly.slideForm(J,{}),this.props.onClose()},this.state={logo:null,numTeammates:null}}UNSAFE_componentWillMount(){this.feedly=streets.service("feedly"),this.enterprise=streets.service("enterprise")}componentDidMount(){this.enterprise.askListUsers().then((e=>{this.setState({numTeammates:e.length})})),this.enterprise.askTeamInfo().then((e=>{e.logo&&this.setState({logo:e.logo})}))}componentWillUnmount(){this.feedly=null,this.enterprise=null}render(){const{numChecklistTasksRemaining:e}=this.props;return streets.isUserAdmin()?streets.isEnterpriseUnpaid()?r.createElement("div",{className:"ProfileBubble__menu"},r.createElement("div",{className:"item-with-visuals"},this._renderHeader()),r.createElement(b.v2,{width:275},r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("users")}},"Users"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("billing")}},"Billing"))):r.createElement("div",{className:"ProfileBubble__menu"},r.createElement("div",{className:"item-with-visuals",onClick:this._onTeamProfileClick,role:"button"},this._renderHeader()),r.createElement(b.v2,{width:275},r.createElement(b.sN,{className:"ProfileBubble__metric-item",onClick:()=>{this._onLoadPageClick("gettingStarted")}},"Getting Started",e>0&&r.createElement("span",{className:"metric danger"},e," remaining")),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("users")}},"Users"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("feeds")}},"Feeds"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("boards")}},"Boards"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("newsletters")}},"Newsletters"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("integrations")}},"Integrations"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("analytics")}},"Analytics"),r.createElement(b.sN,{onClick:()=>{this._onLoadPageClick("billing")}},"Billing"),r.createElement(b.sN,{onClick:this._onAskClick},"Ask a Question"),r.createElement(b.sN,{onClick:this._onTeamProfileClick},"Team Profile"))):null}_renderHeader(){const{logo:e,numTeammates:t}=this.state;return r.createElement(r.Fragment,null,e?r.createElement(F.q,{className:"item-image",iconSize:28,url:(0,R.w6)(e)}):r.createElement($,{className:"item-image",importance:"secondary"}),r.createElement("div",null,r.createElement("div",{className:"item-header"},streets.getEnterpriseName()),t&&r.createElement("div",{className:"item-meta"},t," ",t>1?"teammates":"teammate")))}_onLoadPageClick(e){this.feedly.loadPage(`team/${e}`),this.props.onClose()}}X.propTypes={onClose:u().func.isRequired,numChecklistTasksRemaining:u().number},X.defaultProps={numChecklistTasksRemaining:0};const ee=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,viewBox:"0 0 28 28",fill:"none"},e),r.createElement("path",{fill:"currentColor",d:"M16.034 3.334a2.867 2.867 0 00-4.043 0L1.834 13.49a2.867 2.867 0 000 4.043l7.248 7.248c.504.44 1.164.706 1.886.706h6.089c.793 0 1.512-.322 2.032-.841l7.107-7.108a2.867 2.867 0 000-4.043L16.034 3.334zm-.283 18.551L14.736 22.9a.407.407 0 01-.29.12h-.868a.41.41 0 01-.27-.1l-1.033-1.034a.408.408 0 010-.577l1.449-1.45a.41.41 0 01.577 0l1.45 1.45a.409.409 0 010 .577zm0-6.079l-4.054 4.054a.408.408 0 01-.29.12h-.869a.408.408 0 01-.269-.1l-1.034-1.035a.41.41 0 010-.577l4.489-4.488a.409.409 0 01.577 0l1.45 1.45a.409.409 0 010 .576zm0-6.08L8.657 16.82a.408.408 0 01-.29.12H7.5a.407.407 0 01-.27-.1l-1.034-1.035a.409.409 0 010-.577L13.724 7.7a.409.409 0 01.577 0l1.45 1.45a.409.409 0 010 .576z"}))}));const te=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{transform:"translate(2 5)",fill:"currentColor",fillRule:"evenodd"},r.createElement("rect",{y:10.6,width:15.2,height:1.2,rx:.6}),r.createElement("rect",{y:5,width:15.2,height:1.2,rx:.6}),r.createElement("rect",{width:15.2,height:1.2,rx:.6})))}));const se=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M10.006 1.822a.75.75 0 01.743.648l.007.102v14.874a.75.75 0 01-1.494.102l-.006-.102V2.572a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M17.427 9.272a.75.75 0 01.102 1.494l-.102.006H2.59a.75.75 0 01-.101-1.493l.101-.007h14.838z"})))}));const ne=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("path",{d:"M9.583.917a7.833 7.833 0 100 15.666 7.833 7.833 0 000-15.666zm0 1.5a6.333 6.333 0 110 12.666 6.333 6.333 0 010-12.666z"}),r.createElement("path",{d:"M14.47 13.636a.75.75 0 01.977-.072l.084.073 3.33 3.337a.75.75 0 01-.978 1.132l-.084-.073-3.33-3.337a.75.75 0 01.001-1.06z"})))}));const ie=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M7.083.917a4.083 4.083 0 100 8.166 4.083 4.083 0 000-8.166zm0 1.5a2.583 2.583 0 110 5.166 2.583 2.583 0 010-5.166zM7.083 10.917a7 7 0 017 7 .75.75 0 11-1.5 0 5.5 5.5 0 00-11 0 .75.75 0 11-1.5 0 7 7 0 017-7zM16.667 5.083a.75.75 0 01.743.649l.007.101v5a.75.75 0 01-1.493.102l-.007-.102v-5a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M19.167 7.583a.75.75 0 01.101 1.493l-.101.007h-5a.75.75 0 01-.102-1.493l.102-.007h5z"})))}));const re=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M7.925 1.123A9.344 9.344 0 001.49 10a9.344 9.344 0 009.343 9.344 9.344 9.344 0 008.877-6.436.75.75 0 00-.865-.968 8.417 8.417 0 01-9.952-9.952.75.75 0 00-.968-.865zM7.243 3.03l-.016.26a10.05 10.05 0 00-.008.408c0 5.476 4.44 9.917 9.916 9.917l.41-.009.258-.016-.046.09A7.842 7.842 0 117.154 3.076l.089-.046z",fill:"currentColor",fillRule:"nonzero"}))}));const ae=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M10 5.083a4.917 4.917 0 100 9.834 4.917 4.917 0 000-9.834zm0 1.5a3.417 3.417 0 110 6.834 3.417 3.417 0 010-6.834zM10 .083a.75.75 0 01.743.649l.007.101V2.5a.75.75 0 01-1.493.102L9.25 2.5V.833a.75.75 0 01.75-.75zM10 16.75a.75.75 0 01.743.648l.007.102v1.667a.75.75 0 01-1.493.101l-.007-.101V17.5a.75.75 0 01.75-.75zM2.986 2.986a.75.75 0 01.977-.072l.084.072L5.23 4.17a.75.75 0 01-.976 1.133L4.17 5.23 2.986 4.047a.75.75 0 010-1.06zM14.77 14.77a.75.75 0 01.976-.073l.084.073 1.184 1.183a.75.75 0 01-.977 1.133l-.084-.072-1.183-1.184a.75.75 0 010-1.06zM2.5 9.25a.75.75 0 01.102 1.493l-.102.007H.833a.75.75 0 01-.101-1.493l.101-.007H2.5zM19.167 9.25a.75.75 0 01.101 1.493l-.101.007H17.5a.75.75 0 01-.102-1.493l.102-.007h1.667zM4.17 14.77a.75.75 0 011.133.976l-.073.084-1.183 1.184a.75.75 0 01-1.133-.977l.072-.084L4.17 14.77zM15.953 2.986a.75.75 0 011.133.977l-.072.084L15.83 5.23a.75.75 0 01-1.133-.976l.073-.084 1.183-1.184z"})))}));const oe=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M13.249 9.886a.75.75 0 01.976-.072l.084.072 3.805 3.805a3.414 3.414 0 010 4.865 3.412 3.412 0 01-4.72.138l-.148-.14-4.108-4.147a.75.75 0 01.981-1.13l.084.074 4.106 4.144a1.914 1.914 0 002.744 0c.732-.732.77-1.846.116-2.618l-.116-.126-3.804-3.804a.75.75 0 010-1.06zM4.22 4.886a.75.75 0 01.976-.072l.084.072L8.614 8.22a.75.75 0 01-.977 1.133l-.084-.073L4.22 5.947a.75.75 0 010-1.06z"}),r.createElement("path",{d:"M13.766.983l-.017.001c-2.524.23-4.531 2.502-4.486 5.065l.01.281c.011.19.036.383.071.577l.024.113-6.972 6.292C.98 14.557.918 16.8 2.249 18.156l.146.14c1.346 1.217 3.416 1.108 4.643-.286l6.168-7.102.07.015c.645.124 1.296.13 1.946-.003a4.964 4.964 0 003.769-3.521c.217-1.052.162-2.032-.12-2.943a.75.75 0 00-1.252-.303l-.894.911a1.142 1.142 0 01-1.615.016l-.02-.02a1.214 1.214 0 01.004-1.699l.894-.91a.75.75 0 00-.31-1.242 5.272 5.272 0 00-1.912-.226zm.106 1.497l-.086.108a2.716 2.716 0 00.237 3.527l.165.153c.96.823 2.358.848 3.34.086l.094-.08-.01.217c-.014.184-.04.37-.079.558-.33 1.186-1.36 2.146-2.61 2.401a3.581 3.581 0 01-1.766-.1.75.75 0 00-.781.227l-6.468 7.445c-.694.79-1.862.823-2.588.083-.733-.747-.699-1.994.074-2.673l7.311-6.599a.75.75 0 00.217-.768 3.692 3.692 0 01-.16-1.03c-.03-1.733 1.291-3.288 2.945-3.536l.165-.02zM2.595 1.141L.465 3.31A.75.75 0 00.47 4.365l2.13 2.13c.2.2.494.271.763.184l1.635-.533a.75.75 0 00.48-.476l.532-1.598a.75.75 0 00-.18-.767L3.66 1.136a.75.75 0 00-1.065.005zm.54 1.59L4.44 4.038l-.266.8-.839.273-1.279-1.28 1.079-1.098zM13.249 13.69a.75.75 0 01.976-.072l.084.073 1.522 1.521a.75.75 0 01-.976 1.134l-.085-.073-1.521-1.522a.75.75 0 010-1.06z"})))}));const le=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M8.925.336L2.256 3.67a2.416 2.416 0 00-1.34 2.162v7.934a2.415 2.415 0 001.33 2.17l6.669 3.334c.68.34 1.482.34 2.162 0l6.667-3.333a2.416 2.416 0 001.34-2.162V5.832c-.001-.917-.52-1.755-1.342-2.163L11.075.336a2.417 2.417 0 00-2.15 0zm1.483 1.343l6.665 3.333c.313.155.51.473.51.82v7.942a.917.917 0 01-.508.82l-6.669 3.334a.917.917 0 01-.82 0l-6.667-3.333a.916.916 0 01-.502-.824V5.832c0-.347.197-.665.508-.82l6.669-3.334a.916.916 0 01.814.001z"}),r.createElement("path",{d:"M1.263 4.597a.75.75 0 01.912-.375l.094.04L10 8.126l7.731-3.864a.75.75 0 01.955.247l.052.088a.75.75 0 01-.248.955l-.088.051-8.067 4.034a.75.75 0 01-.562.044l-.108-.044-8.067-4.034a.75.75 0 01-.335-1.006z"}),r.createElement("path",{d:"M10 8.216a.75.75 0 01.743.648l.007.102v9.8a.75.75 0 01-1.493.102l-.007-.102v-9.8a.75.75 0 01.75-.75z"})))}));const ce=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M9.633 5.105a3.25 3.25 0 011.45 6.293.5.5 0 00-.325.383l-.008.089v.213a.75.75 0 01-1.493.102l-.007-.102v-.213a2 2 0 011.187-1.828l.146-.058a1.75 1.75 0 10-2.326-1.806l-.007.155a.75.75 0 01-1.5 0 3.25 3.25 0 012.883-3.228zM10 13.833l.116.007a1.063 1.063 0 11-.232 0l.116-.007z"}),r.createElement("path",{d:"M10 .083C4.523.083.083 4.523.083 10c0 5.477 4.44 9.917 9.917 9.917 5.477 0 9.917-4.44 9.917-9.917 0-5.477-4.44-9.917-9.917-9.917zm0 1.5a8.417 8.417 0 110 16.834 8.417 8.417 0 010-16.834z"})))})),de=["LeftnavDock__peek","Leftnav__dock"];class he extends r.PureComponent{constructor(e){super(e),this._renderSupportPopover=()=>{const{calendlyLink:e,isSupportPopoverOpen:t}=this.state;return t?r.createElement(Y.h,{target:this._popoverHook},r.createElement(Z.J,{align:"start",caret:!0,offsetParent:this._popoverHook,onClose:this._onClosePopover,position:"right",target:this._target},r.createElement(pn,{calendlyLink:e,onClose:this._onClosePopover}))):null},this._switchTheme=()=>{const e=this.feedly.switchTheme();this.setState({theme:e})},this._onAddContentClick=()=>{window.localStorage.getItem("seoOnboarded")&&window.localStorage.setItem("addContentButtonClicked","true"),this.feedly.loadPage("discover")},this._onAddTeammateClick=()=>{this.feedly.slideForm(D.L,{})},this._onClosePopover=()=>{this.setState({isSupportPopoverOpen:!1})},this._onFeedlyIconClick=()=>{!!streets.getUserId()?this.feedly.loadDefaultPage():this.feedly.loadPage("welcome")},this._onHelpClick=()=>{this.setState({isSupportPopoverOpen:!0})},this._onNewFeaturesClick=()=>{this.feedly.loadPage("subscription/feed/https://blog.feedly.com/category/features-tutorials/feed/")},this._onPeekClick=()=>{this.leftnav.togglePeek()},this._onPeekMouseDown=e=>{let t=e.target,s=!1;for(;"string"!=typeof t.className;)t=t.parentNode;de.forEach((e=>{t.className.includes(e)&&(s=!0)})),s&&e.stopPropagation()},this._onOpenTopicModeler=()=>{this.feedly.loadPage("topicModeler")},this._onOpenWikidataModeler=()=>{this.feedly.loadPage("wikidataTopics")},this._onPowerSearchClick=()=>{const e=window.location.pathname,{pageType:t,scope:s}=(0,x.v3)(e);if("powerSearch"===t){const t=e.split("/")[3]||x.Fq.in;this.feedly.loadPage(`powerSearch/${t}`)}else this.feedly.loadPage((0,x.xU)({scope:s,type:x.Fq.in}))},this._updateIsOnboarding=async()=>{try{const e=await this.onboarding.askIsOnboarding();let t;t=streets.isProPlusPlan()?"https://calendly.com/feedly/feedly-pro-onboarding":await this.enterprise.askCalendlyOnboardingLink(),this.setState({calendlyLink:t,isOnboarding:e})}catch(e){console.error(e)}},this._leftnavDock=r.createRef(),this._popoverHook=document.getElementById("reactPopoverHook"),this._target=r.createRef(),this.feedly=streets.service("feedly"),this.state={calendlyLink:"",hasAdminBusinessAccess:streets.hasAdminBusinessAccess(),isSupportPopoverOpen:!1,theme:this.feedly.getTheme()}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.helpscout=streets.service("helpscout"),this.leftnav=streets.service("leftnav"),this.onboarding=streets.service("onboarding"),this.profile=streets.service("profile"),this.onboarding.registerObserver(this),this.profile.registerObserver(this),this._updateIsOnboarding(),this._leftnavDock.current.addEventListener("mousedown",this._onPeekMouseDown)}componentWillUnmount(){this.onboarding.unregisterObserver(this),this.profile.unregisterObserver(this),this.enterprise=null,this.feedly=null,this.leftnav=null,this.onboarding=null,this.profile=null,this.helpscout=null,this._popoverHook=null,this._target=null,this._leftnavDock.current.removeEventListener("mousedown",this._onPeekMouseDown)}onOnboardingChanged(e){this.setState({isOnboarding:e})}onProfileUpgraded(){this.setState({hasAdminBusinessAccess:streets.hasAdminBusinessAccess()})}render(){const{loading:e}=this.props,{hasAdminBusinessAccess:t,isOnboarding:s,theme:n}=this.state,i=!!streets.getUserId(),a=n===y.Bd.light;return r.createElement("nav",{"aria-label":"Primary",className:"Leftnav__dock LeftnavDock",ref:this._leftnavDock,onClick:this._onPeekClick},r.createElement("h2",{className:"screenreader-only"},"Primary Navigation"),r.createElement("div",null,r.createElement(pe,{className:"LeftnavDock__button--logo",icon:r.createElement(ee,{color:"accent"}),onClick:this._onFeedlyIconClick,title:"Home"}),i&&r.createElement(pe,{className:"LeftnavDock__peek",icon:r.createElement(te,{importance:"secondary",className:"LeftnavDock__fx-icon"}),onClick:this._onPeekClick,title:"Open Navigation"})),!e&&i&&r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(pe,{icon:r.createElement(se,{importance:"secondary",className:"LeftnavDock__fx-icon"}),onClick:this._onAddContentClick,title:"Follow New Sources"}),!s&&r.createElement(pe,{icon:r.createElement(ne,{importance:"secondary",className:"LeftnavDock__fx-icon"}),onClick:this._onPowerSearchClick,title:"Power Search"}),t&&r.createElement(pe,{icon:r.createElement(ie,{importance:"secondary",className:"LeftnavDock__fx-icon"}),onClick:this._onAddTeammateClick,title:"Invite Teammates"}),r.createElement(pe,{icon:a?r.createElement(re,{importance:"secondary",className:"LeftnavDock__fx-icon"}):r.createElement(ae,{importance:"secondary",className:"LeftnavDock__fx-icon"}),onClick:this._switchTheme,title:"Switch Between Themes"}),"feedly"===streets.getEnterpriseId()&&r.createElement(r.Fragment,null,r.createElement(pe,{icon:r.createElement(oe,{importance:"secondary",className:"LeftnavDock__fx-icon"}),onClick:this._onOpenWikidataModeler,title:"Model Wikidata Topics"}),r.createElement(pe,{icon:r.createElement(le,{importance:"secondary",className:"LeftnavDock__fx-icon"}),onClick:this._onOpenTopicModeler,title:"Model Topics"})),r.createElement(Kt,{onClick:this._onNewFeaturesClick}),r.createElement(pe,{icon:r.createElement(ce,{importance:"secondary",className:"LeftnavDock__fx-icon"}),onClick:this._onHelpClick,elementRef:this._target,title:"Learn and Get Support"}),this._renderSupportPopover()),r.createElement("div",null,r.createElement(O,{className:"LeftnavDock__bubble"}),r.createElement(q,{className:"LeftnavDock__bubble"}))))}}he.propTypes={loading:u().bool.isRequired};var ue=s(99175);class pe extends r.Component{constructor(...e){super(...e),this._onClick=e=>{e.stopPropagation(),this.props.onClick()}}render(){const{className:e,elementRef:t,icon:s,title:n}=this.props;return r.createElement(ue.d,{content:n,position:"right"},r.createElement(H.zx,{"aria-label":n,className:B()("LeftnavDock__button",e),elementRef:t,icon:s,importance:"tertiary",onClick:this._onClick}))}}pe.propTypes={className:u().string,elementRef:u().shape({current:u().instanceOf(Element)}),icon:u().node.isRequired,onClick:u().func.isRequired,title:u().string},pe.defaultProps={className:void 0,elementRef:void 0,title:void 0};var me=s(16847);const ge=Object.freeze({leoPrioritiesCollapsedPref:"leoPrioritiesCollapsedPref",personalBoardsCollapsedPref:"personalBoardsCollapsedPref",personalCollectionsCollapsedPref:"personalCollectionsCollapsedPref",teamBoardsCollapsedPref:"teamBoardsCollapsedPref",teamCollectionsCollapsedPref:"teamCollectionsCollapsedPref"});class fe extends r.PureComponent{constructor(...e){super(...e),this.state={isVisibilityButtonHidden:!0,visibilityButtonLabel:y.Hi.hide},this._onContextMenu=e=>{const{altKey:t,clientX:s,clientY:n}=e,{onRightClick:i}=this.props;!t&&i&&(e.preventDefault(),i(s,n))},this._onHideVisibilityButton=()=>{this.setState({isVisibilityButtonHidden:!0})},this._onOrganizeClick=()=>{this.feedly.loadPage(this.props.organizeUri)},this._onShowVisibilityButton=()=>{this.setState({isVisibilityButtonHidden:!1})},this._onToggleSectionVisibility=()=>{const{type:e}=this.props,t=this.preferences.getPreference(`${e}CollapsedPref`)===y.Hi.hide?y.Hi.show:y.Hi.hide;this.preferences.askSetPreference(`${e}CollapsedPref`,t)},this._updateInfo=()=>{const{type:e}=this.props,t=this.preferences.getPreference(`${e}CollapsedPref`)===y.Hi.hide?y.Hi.show:y.Hi.hide;this.setState({visibilityButtonLabel:t})}}componentDidMount(){this.feedly=streets.service("feedly"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updateInfo()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.feedly=null,this.preferences=null}onPreferenceChanged(e){ge[e]&&this._updateInfo()}render(){const{children:e,organizeUri:t}=this.props,{isVisibilityButtonHidden:s,visibilityButtonLabel:n}=this.state;return r.createElement("div",{className:"LeftnavHeading",onContextMenu:this._onContextMenu,onMouseLeave:this._onHideVisibilityButton,onMouseOver:this._onShowVisibilityButton},r.createElement(Q.H3,{className:"LeftnavHeading__text"},e),t&&r.createElement(H.zx,{className:"LeftnavHeading__organize-button",icon:r.createElement(M.Z,{importance:"tertiary"}),importance:"tertiary",onClick:this._onOrganizeClick,title:"Organize Sources"}),r.createElement(H.Er,{"aria-label":`${n} ${e}`,className:B()("LeftnavHeading__visibility-button",{"m-r-h":t,"LeftnavHeading__visibility-button--hidden":s&&n===y.Hi.hide}),importance:"tertiary",onClick:this._onToggleSectionVisibility},(0,me.kC)(n)))}}fe.propTypes={children:u().string.isRequired,onRightClick:u().func,organizeUri:u().string,type:u().oneOf(["leoPriorities","personalBoards","personalCollections","teamBoards","teamCollections"]).isRequired},fe.defaultProps={onRightClick:void 0,organizeUri:""};var ye=s(89521),ve=s(81445),be=s(94820);const Ee=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M10.01 2.37a.5.5 0 01.493.41l.008.09v14.088a.5.5 0 01-.992.09l-.008-.09V2.87a.5.5 0 01.5-.5z"}),r.createElement("path",{d:"M9.646 2.502a.5.5 0 01.635-.057l.07.057 5.691 5.654a.5.5 0 01-.635.767l-.07-.058-5.34-5.304-5.339 5.304a.5.5 0 01-.638.056l-.069-.058a.5.5 0 01-.055-.638l.058-.07 5.692-5.653z"})))}));var Ce=s(56816),we=s(14971),ke=s(29306),_e=s(24818),Me=s(92219),Se=s(12287),Te=s(74221),Ie=s(80721),Ne=s(23005),Pe=s(55024);const Le={indexLink:"indexLink",integrationsLink:"integrationsLink",teamVsPersonal:"teamVsPersonal"};class xe extends r.PureComponent{constructor(e){super(e),this.openCannotDropComponent=e=>{this.setState({cannotDropModalBody:e,isCannotDropModalOpen:!0})},this._renderAnnotatedButton=()=>{const{currentUri:e}=this.props,{hasUnpaidProPlan:t,hasUnpaidProPlusPlan:s,linkUris:n}=this.state;return t||s?r.createElement(lt,{bold:!0,hasUnpaidProPlan:t,hasUnpaidProPlusPlan:s,label:"Annotated",type:"annotated"}):streets.hasProAccess()?r.createElement(rt,{bold:!0,iconComponent:ye.Z,selected:e===n.annotated,linkUri:n.annotated,title:"Annotated"}):null},this._renderTrainLeoButton=()=>{const{currentUri:e}=this.props,{hasUnpaidProPlusPlan:t,isOnboarding:s,linkUris:n}=this.state;return s?null:t?r.createElement(lt,{bold:!0,enabled:!0,hasUnpaidProPlusPlan:t,label:"Train Leo",onClick:()=>{streets.service("feedly").loadPage(n.trainLeo)},selected:e===n.trainLeo,type:"trainLeo"}):r.createElement(rt,{bold:!0,iconComponent:ve.Z,selected:e===n.trainLeo,linkUri:n.trainLeo,title:"Train Leo"})},this._onSignUpClick=()=>{askSignupFeedly()},this._onLoginClick=()=>{askLoginFeedly()},this._onCloseCannotDropModal=()=>{this.setState({isCannotDropModalOpen:!1})},this._onOpenConfirmDropModal=(e,t)=>{this.setState({confirmDropModalBody:t,confirmDropModalHeader:e,isConfirmDropModalOpen:!0})},this._onCancelDrop=()=>{this._resolveDrop(!1),this._onCloseConfirmDropModal()},this._onConfirmDrop=()=>{this._resolveDrop(!0),this._onCloseConfirmDropModal()},this._personalCollectionsRef=r.createRef(),this._teamCollectionsRef=r.createRef(),this.leftnav=streets.service("leftnav"),this.preferences=streets.service("preferences"),this.state={cannotDropModalBody:"",confirmDropModalBody:"",confirmDropModalHeader:"",hasUnpaidProPlan:!1,hasUnpaidProPlusPlan:!1,isConfirmDropModalOpen:!1,isCannotDropModalOpen:!1,isOnboarding:!0,isPeeking:!1,isPinned:this.leftnav.isPinned(),issues:[],preferences:this.preferences.getPreferences(Object.values(Le)),linkUris:{today:"my",readLater:"saved",index:"index",annotated:"board/content/"+(streets.hasBusinessAccess()?(0,Te.LI)():(0,Te._k)()),muteFilter:"filters",trainLeo:"trainLeo",teamAdmin:"team/gettingStarted",recentlyRead:"label/feedly.history",integrations:streets.hasAdminBusinessAccess()?"team/integrations":"account/integrations",issues:"issues"}}}componentDidMount(){this.issues=streets.service("issues"),this.onboarding=streets.service("onboarding"),this.personaltags=streets.service("personaltags"),this.priorities=streets.service("priorities"),this.profile=streets.service("profile"),this.issues.registerObserver(this),this.leftnav.registerObserver(this),this.onboarding.registerObserver(this),this.preferences.registerObserver(this),this.profile.registerObserver(this),this._updateInfo(),this._updateIssues()}componentWillUnmount(){this.issues.unregisterObserver(this),this.leftnav.unregisterObserver(this),this.onboarding.unregisterObserver(this),this.preferences.unregisterObserver(this),this.profile.unregisterObserver(this),this.issues=null,this.preferences=null,this.priorities=null,this.profile=null,this.leftnav=null}onIssuesChanged(){this._updateIssues({forceRefresh:!0})}onLeftnavPinChanged(e,t){this.setState({isPeeking:t,isPinned:e})}onOnboardingChanged(e){this.setState({isOnboarding:e})}onPreferenceChanged(e){Le[e]&&this.setState({preferences:this.preferences.getPreferences(Object.values(Le))})}onProfileUpgraded(){this._updateInfo()}askConfirmDrop(e,t){return this._onOpenConfirmDropModal(e,t),new Promise((e=>{this._resolveDrop=e}))}onCollectionDragEnd(){this._personalCollectionsRef.current.onDragEnd(),this._teamCollectionsRef.current.onDragEnd()}render(){const{loading:e,currentUri:t}=this.props,{preferences:s,isConfirmDropModalOpen:n,isCannotDropModalOpen:i,isPeeking:a,isPinned:o}=this.state,l="team-first"===s.teamVsPersonal,c={"aria-label":"Content","aria-hidden":!o&&!a};if(!streets.getUserId())return r.createElement("nav",Object.assign({className:"LeftnavList LeftnavList--getstarted"},c),r.createElement(Q.H2,null,"Personalize your Feedly"),r.createElement("p",null,"Keep up with the topics, sources, and trends that matter to you. All in one place"),r.createElement(H.zx,{label:"Get Started",onClick:this._onSignUpClick}),r.createElement(H.zx,{label:"Log In",importance:"secondary",onClick:this._onLoginClick}));if(e)return r.createElement("nav",Object.assign({className:"LeftnavList"},c),r.createElement(Ne.g,{className:"m-x-3",details:"Feedly"}));const d=(0,Te.fM)(t);return r.createElement("nav",Object.assign({className:"LeftnavList"},c),r.createElement("h2",{className:"screenreader-only"},"Content Navigation"),this._renderTopLinks(),r.createElement(Ye,{selectedStreamId:d}),l?r.createElement(r.Fragment,null,r.createElement(nt,{ref:this._teamCollectionsRef,selectedStreamId:d}),r.createElement(qe,{selectedStreamId:d}),r.createElement(Je,{ref:this._personalCollectionsRef,selectedStreamId:d}),r.createElement(We,{selectedStreamId:d})):r.createElement(r.Fragment,null,r.createElement(Je,{ref:this._personalCollectionsRef,selectedStreamId:d}),r.createElement(We,{selectedStreamId:d}),r.createElement(nt,{ref:this._teamCollectionsRef,selectedStreamId:d}),r.createElement(qe,{selectedStreamId:d})),this._renderBottomLinks(),n?this._renderConfirmDropModal():null,i?this._renderCannotDropModal():null)}_renderConfirmDropModal(){const{confirmDropModalHeader:e,confirmDropModalBody:t}=this.state;return r.createElement(Pe.u_,{onClose:this._onCancelDrop,small:!0},r.createElement(Q.H2,{appearance:"h3"},e),t&&t.length>0&&r.createElement("div",{className:"LeftnavList__drop-modal-text"},t),r.createElement(H.zx,{label:"Confirm",onClick:this._onConfirmDrop}),r.createElement(H.zx,{label:"Cancel",onClick:this._onCancelDrop,importance:"secondary"}))}_renderCannotDropModal(){const{cannotDropModalBody:e}=this.state;return r.createElement(Pe.u_,{onClose:this._onCloseCannotDropModal,small:!0},r.createElement("div",{className:"LeftnavList__drop-modal-text"},e),r.createElement(H.zx,{label:"Ok",onClick:this._onCloseCannotDropModal}))}_renderTopLinks(){const{currentUri:e}=this.props,{issues:t,linkUris:s,preferences:n}=this.state;return r.createElement("div",{className:"m-t-2"},r.createElement(rt,{bold:!0,iconComponent:be.Z,selected:e===s.today,linkUri:s.today,title:"Today"}),"yes"===n.indexLink&&r.createElement(rt,{bold:!0,iconComponent:Ee,selected:e===s.index,linkUri:s.index,title:"Index"}),r.createElement(rt,{bold:!0,iconComponent:Ce.Z,selected:e===s.readLater,linkUri:s.readLater,title:"Read Later"}),this._renderAnnotatedButton(),this._renderTrainLeoButton(),streets.isProLegacyPlan()&&r.createElement(rt,{bold:!0,iconComponent:we.Z,selected:e===s.muteFilter,linkUri:s.muteFilter,title:"Mute Filters"}),streets.hasAdminBusinessAccess()&&r.createElement(rt,{bold:!0,iconComponent:ke.Z,selected:e===s.teamAdmin,linkUri:s.teamAdmin,title:"Team Admin"}),!!t.length&&r.createElement(rt,{bold:!0,iconComponent:_e.Z,selected:e===s.issues,linkUri:s.issues,notificationCount:t.length,title:"Issues to Fix"}))}_renderBottomLinks(){const{currentUri:e}=this.props,{isOnboarding:t,linkUris:s,preferences:n}=this.state;return t?null:r.createElement("div",{className:"m-t-1 m-b-2"},r.createElement(rt,{bold:!0,iconComponent:Me.Z,selected:e===s.recentlyRead,linkUri:s.recentlyRead,title:"Recently Read"}),"yes"===n.integrationsLink&&r.createElement(rt,{bold:!0,iconComponent:Se.Z,selected:e===s.integrations,linkUri:s.integrations,title:"Integrations"}))}_onCloseConfirmDropModal(){this.setState({isConfirmDropModalOpen:!1,confirmDropModalBody:"",confirmDropModalHeader:""})}async _updateInfo(){const e=this.profile.hasUnpaidProPlusPlan(),t=this.profile.hasUnpaidProPlan(),s=await this.onboarding.askIsOnboarding();this.setState({hasUnpaidProPlan:t,hasUnpaidProPlusPlan:e,isOnboarding:s})}async _updateIssues(e){const t=await this.issues.askListIssues(e);this.setState({issues:t.filter((e=>Object.values(Ie.k).includes(e.type)))})}}xe.propTypes={loading:u().bool.isRequired,currentUri:u().string},xe.defaultProps={currentUri:""};var De=s(5405),Oe=s(99220);const Ae=Object.freeze({priorities:"PRIORITIES",collections:"COLLECTIONS",feeds:"FEEDS",boards:"BOARDS"}),ze=Object.freeze({priorities:"PRIORITIES",teamBoards:"TEAM_BOARDS",personalBoards:"PERSONAL_BOARDS",teamCollections:"TEAM_COLLECTIONS",personalCollections:"PERSONAL_COLLECTIONS"});class Re extends r.PureComponent{constructor(e){super(e),this._onDragStart=async e=>{const{draggableId:t,type:s}=e;if(s===Ae.boards){const{isEnterprise:e}=(0,Te.Yg)(t);this._draggingTag=e?await this.enterprisetags.askLookupTag(t):await this.personaltags.askLookupTag(t)}else if(s===Ae.collections)this._draggingCollection=await this.collections.askLookupCollection(t);else if(s===Ae.feeds){const e=JSON.parse(t);this._draggingFeed=await this.feeds.askLookupFeed(e.feedId)}else s===Ae.priorities&&(this._draggingPriority=await this.priorities.askPriority(t))},this._onFeedDragEnd=async e=>{const{destination:t,draggableId:s,source:n}=e,i=JSON.parse(s);if(t.droppableId!==n.droppableId&&this._draggingFeed.id===i.feedId)if(!(0,Te.Yg)(n.droppableId).isEnterprise&&!(0,Te.Yg)(t.droppableId).isEnterprise||streets.hasAdminBusinessAccess()){this.leftnav.showFeedDragDropPlaceholders(this._draggingFeed,n.droppableId,t.droppableId);const e=await this.collections.askLookupCollection(n.droppableId),s=await this.collections.askLookupCollection(t.droppableId);await this._leftnavListRef.current.askConfirmDrop(`Do you want to move ${this._draggingFeed.title} from ${e.label} to ${s.label}?`)?await this.collections.askMoveFeed(this._draggingFeed,n.droppableId,t.droppableId):this.leftnav.hideFeedDragDropPlaceholders(this._draggingFeed,n.droppableId,t.droppableId)}else this.commonsigns.showMessage("You do not have permission to do this.")},this._onBoardDragEnd=async e=>{const{destination:t,draggableId:s,source:n}=e,{currentUri:i}=this.state;if(t.droppableId===ze.personalBoards&&n.droppableId===ze.personalBoards&&this.leftnav.askMovePersonalBoard(this._draggingTag.id,n.index,t.index),t.droppableId===ze.teamBoards&&n.droppableId===ze.teamBoards&&this.leftnav.askMoveTeamBoard(this._draggingTag.id,n.index,t.index),t.droppableId===ze.personalBoards&&n.droppableId===ze.teamBoards&&this._leftnavListRef.current.openCannotDropComponent("You can not move this team board to your personal space because some of your teammates could be following this board"),t.droppableId===ze.teamBoards&&n.droppableId===ze.personalBoards)if(streets.hasAdminBusinessAccess()){if(this._draggingTag.id===s){this.leftnav.showBoardDragDropPlaceholders(this._draggingTag,n.droppableId,t.droppableId,n.index,t.index);if(await this._leftnavListRef.current.askConfirmDrop(`Do you want to move your personal ${this._draggingTag.label} board to your team space?`,"Everyone in your team will be able to see and follow this board and contribute to it."))try{const e=await this.tags.askMoveTagToTeam(this._draggingTag,n.index,t.index);this._draggingTag.uri===i&&this._loadPage((0,Oe.no)(e.id))}catch(r){this.commonsigns.showMessage(`There was an error moving ${this._draggingTag.label} to team boards.`)}this.leftnav.hideBoardDragDropPlaceholders()}}else this.commonsigns.showMessage("You do not have permission to do this.")},this._onCollectionDragEnd=async e=>{const{destination:t,draggableId:s,source:n}=e,{currentUri:i}=this.state;if(t.droppableId===ze.personalCollections&&n.droppableId===ze.personalCollections&&this.leftnav.askMovePersonalCollection(s,n.index,t.index),t.droppableId===ze.teamCollections&&n.droppableId===ze.teamCollections&&this.leftnav.askMoveTeamCollection(s,n.index,t.index),t.droppableId===ze.personalCollections&&n.droppableId===ze.teamCollections&&this._draggingCollection.id===s)if(1===this._draggingCollection.users.length&&this._draggingCollection.users[0].userId===streets.getUserId())if(streets.hasAdminBusinessAccess()){this.leftnav.showCollectionDragDropPlaceholders(this._draggingCollection,n.droppableId,t.droppableId,n.index,t.index);if(await this._leftnavListRef.current.askConfirmDrop(`Do you want to move the ${this._draggingCollection.label} feed to your personal space`,"Your team will not be able to follow this feed anymore"))try{const e=await this.collections.askMoveCollectionToPersonal(this._draggingCollection,n.index,t.index);this._draggingCollection.uri===i&&this._loadPage((0,Oe.no)(e.id))}catch(r){"duplicate label"===r.errorMessage?this.commonsigns.showMessage(`There is already a personal feed with label: ${this._draggingCollection.label}.`):this.commonsigns.showMessage(`There was an error moving ${this._draggingCollection.label} to personal feeds.`)}this.leftnav.hideCollectionDragDropPlaceholders()}else this.commonsigns.showMessage("You do not have permission to do this.");else this._leftnavListRef.current.openCannotDropComponent("You can not move this feed to your personal space because other members in your team are following it");if(t.droppableId===ze.teamCollections&&n.droppableId===ze.personalCollections)if(streets.hasAdminBusinessAccess()){if(this._draggingCollection.id===s){this.leftnav.showCollectionDragDropPlaceholders(this._draggingCollection,n.droppableId,t.droppableId,n.index,t.index);if(await this._leftnavListRef.current.askConfirmDrop(`Do you want to move your personal ${this._draggingCollection.label} feed to your team space?`,"Everyone in your team will be able to see and follow this feed and contribute to it."))try{await this.collections.askMoveCollectionToTeam(this._draggingCollection,n.index,t.index),this._draggingCollection.uri===i&&this._loadPage("my")}catch(r){"duplicate label"===r.errorMessage?this.commonsigns.showMessage(`There is already a team feed with label: ${this._draggingCollection.label}.`):this.commonsigns.showMessage(`There was an error moving ${this._draggingCollection.label} to team feeds.`)}this.leftnav.hideCollectionDragDropPlaceholders()}}else this.commonsigns.showMessage("You do not have permission to do this.");this._leftnavListRef.current.onCollectionDragEnd()},this._onPrioritiesDragEnd=e=>{const{destination:t,draggableId:s,source:n}=e;t.droppableId===ze.priorities&&n.droppableId===ze.priorities&&this._draggingPriority.id===s&&this.leftnav.askMovePriority(this._draggingPriority.id,n.index,t.index)},this._onDragEnd=async e=>{const{destination:t,type:s}=e;t&&(s===Ae.boards?this._onBoardDragEnd(e):s===Ae.collections?this._onCollectionDragEnd(e):s===Ae.feeds?this._onFeedDragEnd(e):s===Ae.priorities&&this._onPrioritiesDragEnd(e))},this._leftnavListRef=r.createRef(),this._draggingTag=null,this._draggingFeed=null,this._draggingCollection=null,this._draggingPriority=null,this.state={currentUri:""}}componentDidMount(){this.collections=streets.service("collections"),this.commonsigns=streets.service("commonsigns"),this.enterprisetags=streets.service("enterprisetags"),this.feeds=streets.service("feeds"),this.personaltags=streets.service("personaltags"),this.priorities=streets.service("priorities"),this.tags=streets.service("tags"),this.leftnav=streets.service("leftnav"),this.feedly=streets.service("feedly"),this.feedly.registerObserver(this)}componentWillUnmount(){this.feedly.unregisterObserver(this),this.feedly=null,this.leftnav=null,this.collections=null,this.commonsigns=null,this.enterprise=null,this.feeds=null,this.personaltags=null,this.priorities=null,this.tags=null}onFeedlyUriChanged(e){const{currentUri:t}=this.state;t!==e&&("latest"===e?this.setState({currentUri:`collection/content/${streets.service("preferences").getPreferences(["isTeamFirst"]).isTeamFirst?(0,Te.sX)():(0,Te.N1)()}`}):this.setState({currentUri:e}))}render(){const{children:e}=this.props,{currentUri:t}=this.state;return r.createElement(De.Z5,{onDragStart:this._onDragStart,onDragEnd:this._onDragEnd},r.cloneElement(r.Children.only(e),{currentUri:t,ref:this._leftnavListRef}))}_loadPage(e){this.feedly.loadPage(e)}}var Fe=s(78684),je=s(2222),Ue=s(65698),Be=s(99442);const He={showPrioritiesInNavigationPref:"showPrioritiesInNavigationPref",showEmptyPrioritiesPref:"showEmptyPrioritiesPref",navigationMarkRead:"navigationMarkRead",leoPrioritiesCollapsedPref:"leoPrioritiesCollapsedPref"};class Ye extends r.PureComponent{constructor(e){super(e),this.onPriorityChanged=()=>{this._updatePriorities()},this.onPrioritiesChanged=()=>{this._updatePriorities()},this.onMovePriority=(e,t,s)=>{const{priorityOrder:n}=this.state,i=[...n];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(y.As.priorities,JSON.stringify(i))},this.onPrioritiesOrderChanged=()=>{this._updatePriorities()},this._onCloseHeaderMenu=()=>{this.setState({isHeaderMenuOpen:!1})},this._onCloseMenu=()=>{this.setState({menuPriority:null})},this._onDeleteCancelClick=async()=>{this.setState({priorityToDelete:null})},this._onDeleteConfirmClick=async()=>{const{priorityToDelete:{id:e,label:t}}=this.state,{isEnterprise:s}=(0,Te.Yg)(e),n=streets.service("signs"),i=s?this.enterprisepriorities:this.personalpriorities;this.setState({priorityToDelete:null});try{await i.askDelete(e),n.showMessage(`${t} has been deleted.`)}catch(r){n.showMessage(`There was an error trying to delete ${t}.`)}},this._onDeleteMenuClick=()=>{const{menuPriority:e}=this.state;this.setState({priorityToDelete:e})},this._onMarkAsRead=async e=>{const{selectedStreamId:t}=this.props;try{this.signs.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e.id,{}),e.id===t&&this.feedly.reloadPage()}catch(s){this.signs.setDefaultErrorMessage(s)}},this._onRenameLabelChange=e=>{this.setState({renameLabel:e})},this._onRenameMenuClick=()=>{const{menuPriority:e}=this.state;this.setState({renamePriority:e,renameLabel:e.label})},this._onRenameReset=()=>{this._isUpdating||this.setState({isSavingRename:!1,renameLabel:null,renamePriority:null})},this._onRenameSubmit=async()=>{const{renameLabel:e,renamePriority:t}=this.state,{isEnterprise:s}=(0,Te.Yg)(t.id),n=s?this.enterprisepriorities:this.personalpriorities;this.setState({isSavingRename:!0});try{await n.askSave({...t,label:e}),this._onRenameReset()}catch(i){this.signs.setDefaultErrorMessage(i)}},this._onRightClickHeader=(e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})},this._onRightClickPriority=(e,t,s)=>{this.setState({menuPriority:e,menuX:t,menuY:s})},this._updateInfo=async()=>{const[e,t]=await Promise.all([this.leo.askIsLeoEnabled(),this.enterprise.askListUsernames()]);this.setState({isLeoEnabled:e,usernames:t})},this.preferences=streets.service("preferences"),this.profile=streets.service("profile"),this.state={countByLabel:{},hasUnpaidProPlusPlan:this.profile.hasUnpaidProPlusPlan(),isHeaderMenuOpen:!1,isLeoEnabled:!1,isSavingRename:!1,menuPriority:null,preferences:this.preferences.getPreferences(Object.values(He)),priorities:{},priorityOrder:[],priorityToDelete:null,renameLabel:null,renamePriority:null,usernames:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.enterprisepriorities=streets.service("enterprisepriorities"),this.feedly=streets.service("feedly"),this.leftnav=streets.service("leftnav"),this.leo=streets.service("leo"),this.personalpriorities=streets.service("personalpriorities"),this.priorities=streets.service("priorities"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.enterprisepriorities.registerObserver(this),this.leftnav.registerObserver(this),this.personalpriorities.registerObserver(this),this.preferences.registerObserver(this),this.priorities.registerObserver(this),this.profile.registerObserver(this),this.reader.registerObserver(this),this._updatePriorities(),this._updateInfo()}componentWillUnmount(){this.enterprisepriorities.unregisterObserver(this),this.leftnav.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.preferences.unregisterObserver(this),this.priorities.unregisterObserver(this),this.profile.unregisterObserver(this),this.reader.unregisterObserver(this),this.enterprise=null,this.enterprisepriorities=null,this.feedly=null,this.leftnav=null,this.leo=null,this.personalpriorities=null,this.preferences=null,this.priorities=null,this.profile=null,this.reader=null,this.signs=null,this._isUpdating=null}onPreferenceChanged(e){He[e]&&this._updatePreferences()}onProfileUpgraded(){this.setState({hasUnpaidProPlusPlan:this.profile.hasUnpaidProPlusPlan()})}onStreamUnreadCountChanged(e){const{priorities:t}=this.state;t[e]&&this._updatePriorities()}render(){const{countByLabel:e,hasUnpaidProPlusPlan:t,isHeaderMenuOpen:s,isLeoEnabled:n,isSavingRename:i,menuPriority:a,menuX:o,menuY:l,preferences:{leoPrioritiesCollapsedPref:c,showEmptyPrioritiesPref:d,showPrioritiesInNavigationPref:h},priorities:u,priorityOrder:p,priorityToDelete:m,renamePriority:g,renameLabel:f}=this.state,{selectedStreamId:v}=this.props,b=g&&g.id,E=a&&(0,Te.Yg)(a.id).isEnterprise,C=c===y.Hi.hide;return 0!==p.length&&n?r.createElement(r.Fragment,null,r.createElement(fe,{onRightClick:this._onRightClickHeader,type:"leoPriorities"},"Leo Priorities"),!C&&r.createElement(De.bK,{droppableId:ze.priorities,type:Ae.priorities},(s=>r.createElement("div",Object.assign({ref:s.innerRef},s.droppableProps),p.map(((s,n)=>{const a=u[s],o=!!a.unreadCount;if(b===s)return r.createElement(tt,{key:s,bold:o,loading:i,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:f});if(!this._filterPriority(a))return null;const{label:l,layers:c,streamLabel:d}=a;let h,p;const m=e[l]>1?` in ${d}`:"",g=B()("LeftnavListRow__meta",{"LeftnavListRow__meta--disabled":t});if((0,je.kk)(a)){const e=(0,Ue.FW)(c[0])===Be.ur.likeBoard?"like ":"topic ";h=r.createElement(r.Fragment,null,r.createElement("span",{className:g},e),l),p=`${e}: ${l}${m}`}else h=l,p=l;const y=r.createElement(r.Fragment,null,h,m&&r.createElement("span",{className:g},m));return r.createElement(De._l,{draggableId:s,index:n,key:s},(e=>r.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),t?r.createElement(lt,{bold:!0,hasUnpaidProPlusPlan:t,label:y,type:"priority",unreadCount:a.unreadCount}):r.createElement(rt,{key:s,bold:o,iconComponent:Fe.Z,isCapped:a.isCapped,linkUri:a.uri,markAsReadId:s,onRightClick:(e,t)=>{this._onRightClickPriority(a,e,t)},selected:s===v,title:p,unreadCount:a.unreadCount},y))))})),s.placeholder))),a&&r.createElement(Zt,{onCloseMenu:this._onCloseMenu,onDeleteClick:this._onDeleteMenuClick,onRenameClick:this._onRenameMenuClick,onMarkAsRead:this._onMarkAsRead,pageX:o,pageY:l,priority:a,team:E}),s&&r.createElement(Bt,{onCloseMenu:this._onCloseHeaderMenu,pageX:o,pageY:l,showEmptyPriorities:d,showPrioritiesInNavigation:h}),m&&this._renderDeleteConfirmModal()):null}_renderDeleteConfirmModal(){const{priorityToDelete:{createdBy:e,id:t,label:s,streamLabels:n},usernames:i}=this.state,{isEnterprise:a}=(0,Te.Yg)(t);let o="";if(a){if(streets.getUserId()!==e){o=`${i?i[e]:"A teammate"} created this priority for the ${n[0]} feed.`}o+=" This will impact everyone in your team."}return r.createElement(Pe.cV,{title:`Are you sure you want to remove ${s}?`,description:o,onSuccess:this._onDeleteConfirmClick,successLabel:"Delete",onCancel:this._onDeleteCancelClick,cancelLabel:"No, keep this priority"})}_filterPriority(e){const{preferences:{showEmptyPrioritiesPref:t}}=this.state;return t===y.ZD.on||e.unreadCount||e.trainingStatus===Be.Py.updating}async _updatePriorities(){const{preferences:{showPrioritiesInNavigationPref:e}}=this.state;if(e===y.Zu.none)return void this.setState({priorityOrder:[]});this._isUpdating=!0;const t=await this.priorities.askListRankedPriorities(),{priorities:s,countByLabel:n,priorityOrder:i}=t.reduce(((e,t)=>{const{id:s,label:n}=t;return e.priorities[s]=t,e.countByLabel[n]?e.countByLabel[n]+=1:e.countByLabel[n]=1,e.priorityOrder.push(s),e}),{countByLabel:{},priorities:{},priorityOrder:[]});this.setState({countByLabel:n,priorities:s,priorityOrder:i}),this._isUpdating=!1;const{isSavingRename:r}=this.state;r&&this._onRenameReset()}_updatePreferences(){this.setState({preferences:this.preferences.getPreferences(Object.values(He))},this._updatePriorities)}}Ye.propTypes={selectedStreamId:u().string},Ye.defaultProps={selectedStreamId:null};const Ze={emptyBoardPlaceholderPref:"emptyBoardPlaceholderPref",personalBoardsCollapsedPref:"personalBoardsCollapsedPref"};class We extends r.PureComponent{constructor(e){super(e),this.onMovePersonalBoard=(e,t,s)=>{const{personalBoards:n}=this.state,i=[...n.map((e=>e.id))];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(y.As.personalTags,JSON.stringify(i))},this.onBoardsOrderChanged=()=>{this._updatePersonalBoards()},this._renderPersonalBoards=()=>{const{hasPersonalFeeds:e,isOnboarding:t,menuBoard:s,personalBoards:n,preferences:{emptyBoardPlaceholderPref:i},menuX:a,menuY:o}=this.state,l=i===y.Hi.show;return!t&&!streets.hasBusinessAccess()&&l&&0===n.length&&e?r.createElement(_t,{onHideBoardPlaceholder:this._onHideBoardPlaceholder,type:"board"}):r.createElement(r.Fragment,null,r.createElement(De.bK,{type:Ae.boards,droppableId:ze.personalBoards},(e=>r.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),n.map(this._renderBoard),e.placeholder))),r.createElement("div",{className:"LeftnavListRow LeftnavListRow--link",onClick:this._onCreateNewBoardClick},"Create New Board"),s&&r.createElement(L,{board:s,onCloseMenu:this._onCloseMenu,onDeleteClick:this._onDeleteMenuClick,onRenameClick:this._onRenameMenuClick,pageX:a,pageY:o}))},this._renderBoard=(e,t)=>{const{isSavingRename:s,renameBoard:n,renameLabel:i}=this.state,{selectedStreamId:a}=this.props,o=n&&n.id,l=e.id,c=!!e.unreadCount;return o===l?r.createElement(tt,{key:l,bold:c,loading:s,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:i}):r.createElement(De._l,{draggableId:l,index:t,key:e.id},(t=>r.createElement("div",Object.assign({id:l,ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.createElement(rt,{bold:c,iconComponent:p.Z,key:l,linkUri:e.uri,onRightClick:(t,s)=>{this._onRightClickBoard(e,t,s)},selected:e.id===a,title:e.label}))))},this._renderDeleteConfirmModal=()=>r.createElement(Pe.cV,{title:"Delete board",description:"Are you sure you want to delete this board? This operation cannot be undone.",onSuccess:this._onDeleteConfirmClick,successLabel:"Delete",onCancel:this._onDeleteCancelClick,cancelLabel:"No, keep this board"}),this._onCloseHeaderMenu=()=>{this.setState({isHeaderMenuOpen:!1})},this._onCreateNewBoardClick=()=>{streets.service("feedly").slideForm(v.Ox)},this._onCloseMenu=()=>{this.setState({menuBoard:null})},this._onDeleteCancelClick=()=>{this.setState({boardToDelete:null})},this._onDeleteConfirmClick=async()=>{const{boardToDelete:{id:e,label:t}}=this.state,{selectedStreamId:s}=this.props,n=streets.service("signs");this.setState({boardToDelete:null});try{await this.personaltags.askDeleteTag(e),n.showMessage(`${t} has been deleted.`),e===s&&streets.service("feedly").loadMyPage()}catch(i){n.showMessage(`There was an error trying to delete ${t}.`)}},this._onDeleteMenuClick=e=>{this.setState({boardToDelete:e})},this._onHideBoardPlaceholder=()=>{this.preferences.askSetPreference(Ze.emptyBoardPlaceholderPref,y.Hi.hide)},this._onRenameLabelChange=e=>{this.setState({renameLabel:e})},this._onRenameMenuClick=()=>{const{menuBoard:e}=this.state;this.setState({renameBoard:e,renameLabel:e.label})},this._onRenameReset=()=>{this._isUpdating||this.setState({isSavingRename:!1,renameLabel:null,renameBoard:null})},this._onRenameSubmit=async()=>{const{renameLabel:e,renameBoard:t}=this.state;this.setState({isSavingRename:!0});try{await this.personaltags.askSave({...t,label:e}),this._onRenameReset()}catch(s){this.signs.setDefaultErrorMessage(s)}},this._onRightClickBoard=(e,t,s)=>{this.setState({menuBoard:e,menuX:t,menuY:s})},this._onRightClickHeader=(e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})},this._updatePreferences=()=>{this.setState({preferences:this.preferences.getPreferences(Object.values(Ze))})},this.preferences=streets.service("preferences"),this.state={boardToDelete:null,isHeaderMenuOpen:!1,isOnboarding:!0,isSavingRename:!1,menuBoard:null,menuX:0,menuY:0,renameBoard:null,renameLabel:null,personalBoards:[],preferences:this.preferences.getPreferences(Object.values(Ze))}}componentDidMount(){this.leftnav=streets.service("leftnav"),this.onboarding=streets.service("onboarding"),this.personalcollections=streets.service("personalcollections"),this.personaltags=streets.service("personaltags"),this.tags=streets.service("tags"),this.leftnav.registerObserver(this),this.onboarding.registerObserver(this),this.personalcollections.registerObserver(this),this.personaltags.registerObserver(this),this.preferences.registerObserver(this),this.tags.registerObserver(this),this._updateIsOnboarding(),this._updatePersonalBoards(),this._updatePersonalFeeds()}componentWillUnmount(){this.leftnav.unregisterObserver(this),this.onboarding.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.preferences.unregisterObserver(this),this.tags.unregisterObserver(this),this.leftnav=null,this.onboarding=null,this.personalcollections=null,this.personaltags=null,this.preferences=null,this.tags=null,this._isUpdating=null}onCollectionsChanged(){this._updatePersonalFeeds()}onOnboardingChanged(e){this.setState({isOnboarding:e})}onTagsChanged(){this._updatePersonalBoards()}onPreferenceChanged(e){Ze[e]&&this._updatePreferences()}onShowBoardDragDropPlaceholders(e,t){const{personalBoards:s}=this.state;t===ze.personalBoards&&this.setState({personalBoards:s.filter((t=>t.id!==e.id))})}onHideBoardDragDropPlaceholders(){this._updatePersonalBoards()}render(){const{boardToDelete:e,isHeaderMenuOpen:t,preferences:{personalBoardsCollapsedPref:s},menuX:n,menuY:i}=this.state,a=s===y.Hi.hide;return r.createElement(r.Fragment,null,r.createElement(fe,{onRightClick:this._onRightClickHeader,type:"personalBoards"},streets.hasBusinessAccess()?"Personal boards":"Boards"),!a&&this._renderPersonalBoards(),t&&r.createElement(E,{onCloseMenu:this._onCloseHeaderMenu,pageX:n,pageY:i}),e&&this._renderDeleteConfirmModal())}async _updateIsOnboarding(){const e=await this.onboarding.askIsOnboarding();this.setState({isOnboarding:e})}async _updatePersonalBoards(){this._isUpdating=!0;const e=await this.personaltags.askListRankedTags(),t=(0,Te.uf)(),s=e.findIndex((({id:e})=>e===t));s>-1&&e.splice(s,1),this.setState({personalBoards:e}),this._isUpdating=!1;const{isSavingRename:n}=this.state;n&&this._onRenameReset()}async _updatePersonalFeeds(){const e=await this.personalcollections.askListRankedCollections();this.setState({hasPersonalFeeds:!!e.length})}}We.propTypes={selectedStreamId:u().string},We.defaultProps={selectedStreamId:null};const $e=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M16.429 15.929a.5.5 0 01.09.992l-.09.008H3.57a.5.5 0 01-.09-.992l.09-.008H16.43zM7.857 2.357H4.286c-.67 0-1.215.544-1.215 1.214v3.572c0 .67.544 1.214 1.215 1.214h3.571c.67 0 1.214-.544 1.214-1.214V3.57c0-.67-.543-1.214-1.214-1.214zm-3.571 1h3.571c.118 0 .214.096.214.214v3.572a.214.214 0 01-.214.214H4.286a.214.214 0 01-.215-.214V3.57c0-.118.096-.214.215-.214zM16.429 10.929a.5.5 0 01.09.992l-.09.008H3.57a.5.5 0 01-.09-.992l.09-.008H16.43zM16.429 5.214a.5.5 0 01.09.992l-.09.008h-5a.5.5 0 01-.09-.992l.09-.008h5z"})))}));class qe extends r.PureComponent{constructor(e){super(e),this.onBoardsOrderChanged=()=>{this._updateTeamBoards()},this.onMoveTeamBoard=(e,t,s)=>{const{teamBoards:n}=this.state,i=[...n.map((e=>e.id))];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(y.As.teamTags,JSON.stringify(i))},this.onBoardMovedToTeam=(e,t)=>{const{teamBoards:s}=this.state,n=[...s.map((e=>e.id))];n.splice(t,0,e.id),this.preferences.setPreference(y.As.teamTags,JSON.stringify(n))},this._renderBoard=(e,t)=>{const{isSavingRename:s,renameBoard:n,renameLabel:i}=this.state,{selectedStreamId:a}=this.props,o=n&&n.id,l=e.id,c=!!e.unreadCount;return o===l?r.createElement(tt,{key:l,bold:c,loading:s,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:i}):r.createElement(De._l,{draggableId:l,index:t,key:e.id},(t=>r.createElement("div",Object.assign({id:l,ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.createElement(rt,{key:l,bold:c,selected:e.id===a,iconComponent:p.Z,isCapped:e.isCapped,title:e.label,linkUri:e.uri,onRightClick:(t,s)=>{this.setState({menuBoard:e,menuIsAll:!1,menuX:t,menuY:s})},unreadCount:e.unreadCount}))))},this._renderUnfollowConfirmModal=()=>r.createElement(Pe.cV,{title:"Unfollow board",description:"Are you sure you want to unfollow this board?",onSuccess:this._onUnfollowConfirmClick,successLabel:"Unfollow",onCancel:this._onUnfollowCancelClick,cancelLabel:"No, keep following this board"}),this._onCloseArchiveModal=()=>{this.setState({boardToArchive:null})},this._onArchiveClick=async e=>{this.setState({boardToArchive:e})},this._onCloseHeaderMenu=()=>{this.setState({isHeaderMenuOpen:!1})},this._onCreateNewBoardClick=()=>{streets.service("feedly").slideForm(v.vg)},this._onCloseMenu=()=>{this.setState({menuBoard:null})},this._onRenameLabelChange=e=>{this.setState({renameLabel:e})},this._onRenameMenuClick=()=>{const{menuBoard:e}=this.state;this.setState({renameBoard:e,renameLabel:e.label})},this._onRenameReset=()=>{this._isUpdating||this.setState({isSavingRename:!1,renameLabel:null,renameBoard:null})},this._onRenameSubmit=async()=>{const{renameLabel:e,renameBoard:t}=this.state;this.setState({isSavingRename:!0});try{await this.enterprisetags.askSave({...t,label:e}),this._onRenameReset()}catch(s){this.signs.setDefaultErrorMessage(s)}},this._onRightClickHeader=(e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})},this._onShowAllBoardsClick=()=>{this.setState({showAllBoards:!0})},this._onUnfollowCancelClick=()=>{this.setState({boardToUnfollow:null})},this._onUnfollowConfirmClick=async()=>{const{boardToUnfollow:{id:e,label:t}}=this.state,{selectedStreamId:s}=this.props;this.setState({boardToUnfollow:null});try{await this.enterprisetags.askUnsubscribeTag(e),this.signs.showMessage(`${t} has been unfollowed.`),e===s&&streets.service("feedly").loadMyPage()}catch(n){this.signs.showError(`There was an error trying to unfollow ${t}`)}},this._onUnfollowMenuClick=e=>{this.setState({boardToUnfollow:e})},this.preferences=streets.service("preferences"),this.state={boardToArchive:null,boardToUnfollow:null,isHeaderMenuOpen:!1,isSavingRename:!1,menuBoard:null,menuIsAll:!1,menuX:0,menuY:0,isCollapsed:this.preferences.getPreference(y.oB)===y.Hi.hide,renameBoard:null,renameLabel:null,teamBoards:[],allTeamBoard:null}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.leftnav=streets.service("leftnav"),this.profile=streets.service("profile"),this.signs=streets.service("signs"),this.tags=streets.service("tags"),this.enterprisetags.registerObserver(this),this.leftnav.registerObserver(this),this.preferences.registerObserver(this),this.profile.registerObserver(this),this.tags.registerObserver(this),this._updateTeamBoards()}componentWillUnmount(){this.enterprisetags.unregisterObserver(this),this.leftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.profile.unregisterObserver(this),this.tags.unregisterObserver(this),this.enterprisetags=null,this.leftnav=null,this.preferences=null,this.profile=null,this.signs=null,this.tags=null,this._isUpdating=null}onPreferenceChanged(e){e===y.oB&&this.setState({isCollapsed:this.preferences.getPreference(e)===y.Hi.hide})}onProfileUpgraded(){this._updateTeamBoards()}onShowBoardDragDropPlaceholders(e,t,s,n,i){const{teamBoards:r}=this.state;if(s===ze.teamBoards){const t=[...r],s={...e,isPlaceholder:!0};t.splice(i,0,s),this.setState({teamBoards:t})}}onHideBoardDragDropPlaceholders(){this._updateTeamBoards()}onTagsChanged(){this._updateTeamBoards()}onStreamUnreadCountChanged(e){const{allTeamBoard:t,teamBoards:s}=this.state,{isTag:n}=(0,Te.Yg)(e);n&&[t,...s].forEach((t=>{t.streamId===e&&this._updateTeamBoards()}))}render(){const{allTeamBoard:e,boardToArchive:t,boardToUnfollow:s,isCollapsed:n,isHeaderMenuOpen:i,menuBoard:a,menuIsAll:o,menuX:l,menuY:c,teamBoards:d}=this.state,{selectedStreamId:h}=this.props;return streets.hasBusinessAccess()?r.createElement(r.Fragment,null,r.createElement(fe,{onRightClick:this._onRightClickHeader,type:"teamBoards"},"Team boards"),!n&&r.createElement(r.Fragment,null,e&&r.createElement(rt,{key:e.id,bold:!!e.unreadCount,selected:e.id===h,iconComponent:$e,title:"All",linkUri:e.uri,onRightClick:(t,s)=>{this.setState({menuBoard:e,menuIsAll:!0,menuX:t,menuY:s})},unreadCount:e.unreadCount}),r.createElement(De.bK,{type:Ae.boards,droppableId:ze.teamBoards},(e=>r.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),d.map(this._renderBoard),e.placeholder))),r.createElement("div",{className:"LeftnavListRow LeftnavListRow--link",onClick:()=>{streets.service("feedly").loadPage("discover/boards")}},"More Boards"),streets.isUserAdmin()&&r.createElement("div",{className:"LeftnavListRow LeftnavListRow--link",onClick:this._onCreateNewBoardClick},"Create New Board"),a&&r.createElement(L,{board:a,isAll:o,onArchiveClick:this._onArchiveClick,onCloseMenu:this._onCloseMenu,onDeleteClick:this._onUnfollowMenuClick,onRenameClick:this._onRenameMenuClick,pageX:l,pageY:c,team:!0})),i&&r.createElement(E,{onCloseMenu:this._onCloseHeaderMenu,pageX:l,pageY:c,team:!0}),t&&r.createElement(Pe.lY,{board:t,onClose:this._onCloseArchiveModal}),s&&this._renderUnfollowConfirmModal()):null}async _updateTeamBoards(){if(!streets.hasBusinessAccess())return void this.setState({allTeamBoard:null,teamBoards:[]});this._isUpdating=!0;const[e,t]=await Promise.all([this.enterprisetags.askListRankedSubscribedTags(),this.enterprisetags.askLookupTag((0,Te.$n)())]);this.setState({allTeamBoard:t,teamBoards:e}),this._isUpdating=!1;const{isSavingRename:s}=this.state;s&&this._onRenameReset(),this._resetSourceRenameAfterUpdate&&this._onRenameSourceReset()}}qe.propTypes={selectedStreamId:u().string},qe.defaultProps={selectedStreamId:null};function Ve({target:e}){let t=e;for(;"string"!=typeof t.className;)t=t.parentNode;const s=t.className,n=t.parentNode.className;t.parentNode.parentNode.className;return!(s.indexOf("LeftnavListRow--child")>0||s.indexOf("LeftnavListRow--link")>0||n.indexOf("LeftnavListRow--child")>0)}function Ge(e,{collectionClickMouseX:t,collectionClickMouseY:s,draggingCollectionId:n}){if(!n)return!1;const{clientX:i,clientY:r}=e,a=Math.abs(i-t),o=Math.abs(r-s);return a<5&&o<5&&(a>1||o>1)}var Qe=s(11402);const Ke={navigationMarkRead:"navigationMarkRead",personalCollectionsCollapsedPref:"personalCollectionsCollapsedPref"};class Je extends r.PureComponent{constructor(e){super(e),this.onMovePersonalCollection=(e,t,s)=>{const{personalCollections:n}=this.state,i=[...n],r=i.splice(t,1)[0];i.splice(s,0,r),this.preferences.setPreference("categoriesOrderingId",JSON.stringify(i.map((({id:e})=>e))))},this.onShowCollectionDragDropPlaceholders=(e,t,s,n,i)=>{if(s===ze.personalCollections){const{personalCollections:t}=this.state,s=[...t],n={...e,isPlaceholder:!0};s.splice(i,0,n),this.setState({personalCollections:s})}else if(t===ze.personalCollections){const{personalCollections:e}=this.state,t=[...e];t.splice(n,1),this.setState({personalCollections:t})}},this.onHideCollectionDragDropPlaceholders=()=>{this._updateCollections()},this.onCollectionMovedToPersonal=(e,t,s)=>{const{personalCollections:n}=this.state,i=[...n.map((e=>e.id))];i.splice(s,0,e.id),this.preferences.setPreference("categoriesOrderingId",JSON.stringify(i))},this.onCollectionsChanged=()=>{this._updateCollections()},this.onCollectionsOrderChanged=()=>{this._updateCollections()},this._renderDeleteConfirmModal=e=>r.createElement(Pe.cV,{title:`Delete ${e} Feed`,description:"Are you sure you want to delete feed? This operation cannot be undone.",onSuccess:this._onDeleteConfirmClick,successLabel:"Delete",onCancel:this._onDeleteCancelClick,cancelLabel:"No, keep this feed"}),this._renderCollection=e=>{const{selectedStreamId:t}=this.props,{draggingCollectionId:s,isDragging:n,renameSourceCollectionId:i,renameSourceId:a}=this.state;if(!e)return null;const{id:o}=e;return r.createElement(vt,{draggingCollectionId:s,isDragging:n,isPlaceholder:e.isPlaceholder,id:o,feeds:e.feeds,label:e.label,onRenameSourceDone:this._onRenameSourceReset,onRightClick:(t,s)=>{this.setState({menuCollection:e,menuIsAll:!1,menuX:t,menuY:s})},onRightClickSource:this._onRightClickSource,renameSourceId:i===o?a:null,selectedStreamId:t,unreadCount:e.unreadCount,uri:e.uri})},this._onCollectionMouseMove=e=>{e.persist(),this.setState((t=>!t.isDragging&&Ge(e,t)?{isDragging:!0}:null))},this._onCollectionMouseUp=()=>{this.setState({personalCollectionsDraggingHeight:"auto",draggingCollectionId:null,isDragging:!1})},this._onCollectionMouseDown=(e,t)=>{Ve(e)&&this.setState({draggingCollectionId:t,personalCollectionsDraggingHeight:this.collectionContainer.current.clientHeight+"px"})},this._onCloseHeaderMenu=()=>{this.setState({isHeaderMenuOpen:!1})},this._onCreateNewCollectionClick=()=>{streets.service("feedly").slideForm(Qe.oI)},this._onCloseMenu=()=>{this.setState({menuCollection:null})},this._onCloseSourceMenu=()=>{this.setState({menuSource:null})},this._onDeleteCancelClick=()=>{this.setState({collectionToDelete:null})},this._onDeleteConfirmClick=async()=>{const{collectionToDelete:{id:e,label:t}}=this.state,{selectedStreamId:s}=this.props,n=streets.service("signs");this.setState({collectionToDelete:null});try{await this.personalcollections.askDeleteCollection(e),n.showMessage(`${t} has been deleted.`),e===s&&streets.service("feedly").loadMyPage()}catch(i){n.showMessage(`There was an error trying to delete ${t}.`)}},this._onDeleteMenuClick=e=>{this.setState({collectionToDelete:e})},this._onRenameLabelChange=e=>{this.setState({renameLabel:e})},this._onRenameMenuClick=()=>{const{menuCollection:e}=this.state;this.setState({renameCollection:e,renameLabel:e.label})},this._onRenameReset=()=>{this._isUpdating||this.setState({isSavingRename:!1,renameCollection:null,renameLabel:null})},this._onRenameSourceMenuClick=()=>{const{menuSource:e,menuSourceCollectionId:t}=this.state;this.setState({renameSourceId:e.id,renameSourceCollectionId:t})},this._onRenameSourceReset=()=>{this._isUpdating?this._resetSourceRenameAfterUpdate=!0:(this.setState({renameSourceCollectionId:null,renameSourceId:null}),this._resetSourceRenameAfterUpdate=!1)},this._onRenameSubmit=async()=>{const{renameLabel:e,renameCollection:t}=this.state;this.setState({isSavingRename:!0});try{await this.personalcollections.askSave({...t,label:e}),this._onRenameReset()}catch(s){this.signs.setDefaultErrorMessage(s)}},this._onRightClickHeader=(e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})},this._onRightClickSource=(e,t,s,n)=>{this.setState({menuSource:e,menuSourceCollectionId:t,menuX:s,menuY:n})},this._updateCollections=async()=>{if(!streets.getUserId())return void this.setState({collections:[],isLoading:!1,personalAllCollection:null,personalCollections:[],personalFavoritesCollection:null,personalUncategorizedCollection:null});this._isUpdating=!0;const[e,t]=await Promise.all([this.personalcollections.askListRankedCollections(),this.personalcollections.askLookupCollection((0,Te.N1)())]),s=(0,Te.Mc)(),n=(0,Te.wN)(),{collections:i,filteredPersonalCollections:r,favorites:a,uncategorized:o}=e.reduce(((e,t)=>(e.collections[t.id]=t,t.id===s?e.favorites=t:t.id===n?e.uncategorized=t:e.filteredPersonalCollections.push(t),e)),{collections:{},favorites:null,filteredPersonalCollections:[],orderedIds:[],uncategorized:null});this.setState({collections:i,isLoading:!1,personalAllCollection:t,personalFavoritesCollection:a,personalUncategorizedCollection:o,personalCollections:r}),this._isUpdating=!1;const{isSavingRename:l}=this.state;l&&this._onRenameReset(),this._resetSourceRenameAfterUpdate&&this._onRenameSourceReset()},this.collectionContainer=r.createRef(),this.preferences=streets.service("preferences"),this._debouncedUpdateCollections=i()(this._updateCollections,50,{maxWait:200}),this.state={collections:{},draggedCollectionId:null,isDragging:!1,isHeaderMenuOpen:!1,isLoading:!0,isSavingRename:!1,menuCollection:null,menuIsAll:!1,menuSource:null,menuX:0,menuY:0,preferences:this.preferences.getPreferences(Object.values(Ke)),renameCollection:null,renameSourceId:null,renameSourceCollectionId:null,renameLabel:null,personalCollectionsDraggingHeight:"auto",personalAllCollection:null,personalCollections:[]}}componentDidMount(){this.leftnav=streets.service("leftnav"),this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.collections=streets.service("collections"),this.collections.registerObserver(this),this.leftnav.registerObserver(this),this.personalcollections.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this),this._updateCollections()}componentWillUnmount(){this._debouncedUpdateCollections.cancel(),this._debouncedUpdateCollections=null,this.leftnav.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.reader.unregisterObserver(this),this.collections=null,this.leftnav=null,this.personalcollections=null,this.preferences=null,this.reader=null,this.signs=null,this._isUpdating=null}onDragEnd(){this._onCollectionMouseUp()}onPreferenceChanged(e){Ke[e]&&this._updatePreferences()}onStreamUnreadCountChanged(e){const{isFeed:t}=(0,Te.Yg)(e),{collections:s}=this.state;(t||s[e])&&this._debouncedUpdateCollections()}render(){const{collectionToDelete:e,isHeaderMenuOpen:t,isLoading:s,menuCollection:n,menuIsAll:i,menuSource:a,menuX:o,menuY:l,personalFavoritesCollection:c,personalUncategorizedCollection:d,preferences:{personalCollectionsCollapsedPref:h}}=this.state;if(s)return null;const u=h===y.Hi.hide;return r.createElement(r.Fragment,null,r.createElement(De.bK,{droppableId:ze.personalCollections,type:Ae.collections},(e=>r.createElement("div",Object.assign({className:"LeftnavList__feed-list",ref:e.innerRef},e.droppableProps),r.createElement(fe,{onRightClick:this._onRightClickHeader,organizeUri:"organize/me",type:"personalCollections"},streets.hasBusinessAccess()?"Personal feeds":"Feeds"),!u&&this._renderPersonalCollections(e)))),n&&r.createElement(Dt,{collection:n,hideRename:c&&n.id===c.id||d&&n.id===d.id,isAll:i,onCloseMenu:this._onCloseMenu,onDeleteClick:this._onDeleteMenuClick,onRenameClick:this._onRenameMenuClick,pageX:o,pageY:l}),r.createElement(qt,{onCloseMenu:this._onCloseSourceMenu,onRenameClick:this._onRenameSourceMenuClick,pageX:o,pageY:l,source:a}),t&&r.createElement(It,{onCloseMenu:this._onCloseHeaderMenu,pageX:o,pageY:l}),e&&this._renderDeleteConfirmModal(e.label))}_renderPersonalCollections(e){const{personalCollectionsDraggingHeight:t,isDragging:s,isSavingRename:n,personalAllCollection:i,personalCollections:a,personalFavoritesCollection:o,personalUncategorizedCollection:l,preferences:{navigationMarkRead:c},renameCollection:d,renameLabel:h}=this.state,{selectedStreamId:u}=this.props,p=d&&d.id,m=a.length>0||o||l;if(!m&&!streets.hasBusinessAccess())return r.createElement(_t,{type:"feed"});const g=c===y.ZD.on;return r.createElement("div",{ref:this.collectionContainer,style:{height:s?t:"auto"}},m&&i&&r.createElement(rt,{bold:!0,iconComponent:$e,linkUri:i.uri,markAsReadId:g?i.id:void 0,onRightClick:(e,t)=>{this.setState({menuCollection:i,menuIsAll:!0,menuX:e,menuY:t})},selected:i.id===u,title:"All",unreadCount:i.unreadCount}),this._renderCollection(o),a.map(((e,t)=>{const s=e.id;if(p===s)return r.createElement(tt,{key:s,bold:!!e.unreadCount,loading:n,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:h});const i=e.isPlaceholder;return r.createElement(De._l,{draggableId:s,index:t,isDragDisabled:i,key:e.id},(t=>r.createElement("div",Object.assign({id:s,ref:t.innerRef},t.draggableProps,t.dragHandleProps,{onMouseMove:this._onCollectionMouseMove,onMouseDown:(...e)=>{this._onCollectionMouseDown(e[0],s)},onMouseUp:this._onCollectionMouseUp}),this._renderCollection(e))))})),e.placeholder,this._renderCollection(l),r.createElement("div",{className:"LeftnavListRow LeftnavListRow--link",onClick:this._onCreateNewCollectionClick},"Create New Feed"))}_updatePreferences(){this.setState({preferences:this.preferences.getPreferences(Object.values(Ke))})}}Je.propTypes={selectedStreamId:u().string},Je.defaultProps={selectedStreamId:null};var Xe=s(88982),et=s(14171);class tt extends r.PureComponent{constructor(e){super(e),this._onChange=e=>{this.setState((t=>{const s=(0,Xe.B)(e);return s!==t.isInvalid?{isInvalid:s}:null})),this.props.onChange(e)},this._onSubmit=e=>{const{loading:t,onCancel:s,onSubmit:n,value:i}=this.props,{isInvalid:r}=this.state,a=i.trim();e.preventDefault(),r||t||(a&&a!==this._initialValue?n(a):s())},this._initialValue=e.value,this._target=r.createRef(),this.state={isInvalid:!1}}componentWillUnmount(){this._initialValue=null,this._target=null}render(){const{bold:e,error:t,indent:s,loading:n,onCancel:i,value:a}=this.props,{isInvalid:o}=this.state;let l=o?Xe.I:"";return t&&(l=t),r.createElement("form",{ref:this._target,className:B()("LeftnavListRow LeftnavListRenameItem",{"LeftnavListRenameItem--indent":s,"LeftnavListRenameItem--bold":e}),onSubmit:this._onSubmit},r.createElement(G.At,{className:"LeftnavListRenameItem__input",autoComplete:"off",autoFocus:!0,elementsAfter:n?r.createElement(et.J,{className:"LeftnavListRenameItem__loading",name:"icon-fx-loading",size:"xs"}):null,onBlur:i,onChange:this._onChange,onMouseDown:e=>{e.stopPropagation()},readOnly:n,value:a}),l&&r.createElement(ct,{indent:s,offsetParent:this._offsetParent,target:this._target},l))}}tt.propTypes={bold:u().bool,error:u().string,indent:u().bool,loading:u().bool,onCancel:u().func.isRequired,onChange:u().func.isRequired,onSubmit:u().func.isRequired,value:u().string.isRequired},tt.defaultProps={bold:!1,error:void 0,indent:!1,loading:!1};const st={navigationMarkRead:"navigationMarkRead",teamCollectionsCollapsedPref:"teamCollectionsCollapsedPref"};class nt extends r.PureComponent{constructor(e){super(e),this.onMoveTeamCollection=(e,t,s)=>{const{teamCollections:n}=this.state,i=[...n.map((e=>e.id))];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference("teamCategoriesOrderingId",JSON.stringify(i))},this.onCollectionsChanged=()=>{this._updateCollections()},this.onCollectionsOrderChanged=()=>{this._updateCollections()},this.onShowCollectionDragDropPlaceholders=(e,t,s,n,i)=>{if(s===ze.teamCollections){const{teamCollections:t}=this.state,s=[...t],n={...e,isPlaceholder:!0};s.splice(i,0,n),this.setState({teamCollections:s})}else if(t===ze.teamCollections){const{teamCollections:e}=this.state,t=[...e];t.splice(n,1),this.setState({teamCollections:t})}},this.onHideCollectionDragDropPlaceholders=()=>{this._updateCollections()},this.onCollectionMovedToTeam=(e,t)=>{const{teamCollections:s}=this.state,n=[...s.map((e=>e.id))];n.splice(t,0,e.id),this.preferences.setPreference("teamCategoriesOrderingId",JSON.stringify(n))},this._renderTeamCollections=e=>{const{selectedStreamId:t}=this.props,{draggingCollectionId:s,isDragging:n,isSavingRename:i,preferences:{navigationMarkRead:a},renameCollection:o,renameError:l,renameLabel:c,renameSourceCollectionId:d,renameSourceId:h,teamAllCollection:u,teamCollections:p}=this.state,m=o&&o.id,g=a===y.ZD.on;return r.createElement(r.Fragment,null,u&&r.createElement(rt,{bold:!0,iconComponent:$e,linkUri:u.uri,markAsReadId:g?u.id:void 0,onRightClick:(e,t)=>{this.setState({menuCollection:u,menuIsAll:!0,menuX:e,menuY:t})},selected:u.id===t,title:"All",unreadCount:u.unreadCount}),p.map(((e,a)=>{if(m===e.id)return r.createElement(tt,{key:e.id,bold:!!e.unreadCount,error:l,loading:i,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:c});const o=e.isPlaceholder;return r.createElement(De._l,{draggableId:e.id,index:a,key:e.id,isDragDisabled:o},(i=>r.createElement("div",Object.assign({id:e.id,ref:i.innerRef},i.draggableProps,i.dragHandleProps,{onMouseMove:this._onCollectionMouseMove,onMouseDown:(...t)=>{this._onCollectionMouseDown(t[0],e.id)},onMouseUp:this._onCollectionMouseUp}),r.createElement(vt,{id:e.id,isDragging:n,isPlaceholder:e.isPlaceholder,draggingCollectionId:s,feeds:e.feeds,label:e.label,onRenameSourceDone:this._onRenameSourceReset,onRightClick:(t,s)=>{this.setState({menuCollection:e,menuIsAll:!1,menuX:t,menuY:s})},onRightClickSource:this._onRightClickSource,renameSourceId:d===e.id?h:null,selectedStreamId:t,unreadCount:e.unreadCount,uri:e.uri}))))})),e.placeholder,r.createElement("div",{className:"LeftnavListRow LeftnavListRow--link",onClick:()=>{streets.service("feedly").loadPage("discover/feeds")}},"More Feeds"),streets.isUserAdmin()&&r.createElement("div",{className:"LeftnavListRow LeftnavListRow--link",onClick:this._onCreateNewCollectionClick},"Create New Feed"))},this._renderUnfollowConfirmModal=()=>r.createElement(Pe.cV,{title:"Unfollow feed",description:"Are you sure you want to unfollow this feed?",onSuccess:this._onUnfollowConfirmClick,successLabel:"Unfollow",onCancel:this._onUnfollowCancelClick,cancelLabel:"No, keep following this feed"}),this._onCloseArchiveModal=()=>{this.setState({collectionToArchive:null})},this._onArchiveClick=async e=>{this.setState({collectionToArchive:e})},this._onCollectionMouseMove=e=>{e.persist(),this.setState((t=>!t.isDragging&&Ge(e,t)?{isDragging:!0}:null))},this._onCollectionMouseUp=()=>{this.setState({teamCollectionsDraggingHeight:"auto",draggingCollectionId:null,isDragging:!1})},this._onCollectionMouseDown=(e,t)=>{Ve(e)&&this.setState({draggingCollectionId:t,teamCollectionsDraggingHeight:this.collectionContainer.current.clientHeight+"px"})},this._onCloseMenu=()=>{this.setState({menuCollection:null})},this._onCloseHeaderMenu=()=>{this.setState({isHeaderMenuOpen:!1})},this._onCloseSourceMenu=()=>{this.setState({menuSource:null})},this._onCreateNewCollectionClick=()=>{streets.service("feedly").slideForm(Qe.hf)},this._onUnfollowCancelClick=()=>{this.setState({collectionToUnfollow:null})},this._onUnfollowConfirmClick=async()=>{const{collectionToUnfollow:{id:e,label:t}}=this.state,{selectedStreamId:s}=this.props;this.setState({collectionToUnfollow:null});try{await this.enterprisecollections.askUnsubscribeCollection(e),this.signs.showMessage(`${t} has been unfollowed.`),e===s&&streets.service("feedly").loadMyPage()}catch(n){this.signs.showMessage(`There was an error trying to unfollow ${t}.`)}},this._onUnfollowMenuClick=e=>{this.setState({collectionToUnfollow:e})},this._onRenameErrorReset=i()((()=>{this.setState({renameError:null})}),3e3),this._onRenameLabelChange=e=>{this.setState({renameLabel:e})},this._onRenameMenuClick=()=>{const{menuCollection:e}=this.state;this.setState({renameCollection:e,renameLabel:e.label})},this._onRenameReset=()=>{this._isUpdating||this.setState({isSavingRename:!1,renameCollection:null,renameError:null,renameLabel:null})},this._onRenameSourceMenuClick=()=>{const{menuSource:e,menuSourceCollectionId:t}=this.state;this.setState({renameSourceId:e.id,renameSourceCollectionId:t})},this._onRenameSourceReset=()=>{this._isUpdating?this._resetSourceRenameAfterUpdate=!0:(this.setState({renameSourceCollectionId:null,renameSourceId:null}),this._resetSourceRenameAfterUpdate=!1)},this._onRenameSubmit=async()=>{const{renameLabel:e,renameCollection:t}=this.state;this.setState({isSavingRename:!0});try{await this.enterprisecollections.askSave({...t,label:e}),this._onRenameReset()}catch(s){const{errorMessage:t}=s;t&&t.includes("duplicate label")?this.setState({renameError:`The name "${e}" is already taken.`,isSavingRename:!1},this._onRenameErrorReset):this.signs.setDefaultErrorMessage(s)}},this._onRightClickHeader=(e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})},this._onRightClickSource=(e,t,s,n)=>{this.setState({menuSource:e,menuSourceCollectionId:t,menuX:s,menuY:n})},this._updateCollections=async()=>{if(!streets.hasBusinessAccess())return void this.setState({collectionsById:[],teamAllCollection:null,teamCollections:[]});this._isUpdating=!0;const[e,t]=await Promise.all([this.enterprisecollections.askListRankedSubscribedCollections(),this.enterprisecollections.askLookupCollection((0,Te.sX)())]),{collectionsById:s}=e.reduce(((e,t)=>(e.collectionsById[t.id]=t,e)),{collectionsById:{},teamCollections:[]});this.setState({collectionsById:s,teamAllCollection:t,teamCollections:e}),this._isUpdating=!1;const{isSavingRename:n}=this.state;n&&this._onRenameReset(),this._resetSourceRenameAfterUpdate&&this._onRenameSourceReset()},this.collectionContainer=r.createRef(),this.preferences=streets.service("preferences"),this._debouncedUpdateCollections=i()(this._updateCollections,50,{maxWait:200}),this.state={collectionsById:{},collectionToArchive:null,collectionToUnfollow:null,draggedCollectionId:null,isDragging:!1,isHeaderMenuOpen:!1,isSavingRename:!1,menuCollection:null,menuIsAll:!1,menuSource:null,menuX:0,menuY:0,preferences:this.preferences.getPreferences(Object.values(st)),renameCollection:null,renameError:null,renameLabel:null,teamAllCollection:null,teamCollectionsDraggingHeight:"auto",teamCollections:[]}}componentDidMount(){this.collections=streets.service("collections"),this.enterprisecollections=streets.service("enterprisecollections"),this.leftnav=streets.service("leftnav"),this.profile=streets.service("profile"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.collections.registerObserver(this),this.enterprisecollections.registerObserver(this),this.leftnav.registerObserver(this),this.preferences.registerObserver(this),this.profile.registerObserver(this),this.reader.registerObserver(this),this._updateCollections()}componentWillUnmount(){this._debouncedUpdateCollections.cancel(),this._debouncedUpdateCollections=null,this.enterprisecollections.unregisterObserver(this),this.leftnav.unregisterObserver(this),this.profile.unregisterObserver(this),this.collections=null,this.enterprisecollections=null,this.leftnav=null,this.preferences=null,this.profile=null,this.reader=null,this.signs=null,this._isUpdating=null,this._onRenameErrorReset.cancel()}onStreamUnreadCountChanged(e){const{isFeed:t}=(0,Te.Yg)(e),{collectionsById:s}=this.state;(t||s[e])&&this._debouncedUpdateCollections()}onDragEnd(){this._onCollectionMouseUp()}onProfileUpgraded(){this._updateCollections()}onPreferenceChanged(e){st[e]&&this._updatePreferences()}render(){const{collectionToArchive:e,collectionToUnfollow:t,isDragging:s,isHeaderMenuOpen:n,menuCollection:i,menuIsAll:a,menuSource:o,menuX:l,menuY:c,preferences:{teamCollectionsCollapsedPref:d},teamCollectionsDraggingHeight:h}=this.state,u=d===y.Hi.hide;return streets.hasBusinessAccess()?r.createElement("div",{ref:this.collectionContainer,style:{height:s?h:"auto"}},r.createElement(De.bK,{droppableId:ze.teamCollections,type:Ae.collections},(e=>r.createElement("div",Object.assign({className:"LeftnavList__feed-list",ref:e.innerRef},e.droppableProps),r.createElement(fe,{onRightClick:this._onRightClickHeader,organizeUri:"organize/team",type:"teamCollections"},"Team feeds"),!u&&this._renderTeamCollections(e)))),i&&r.createElement(Dt,{collection:i,isAll:a,onArchiveClick:this._onArchiveClick,onCloseMenu:this._onCloseMenu,onDeleteClick:this._onUnfollowMenuClick,onRenameClick:this._onRenameMenuClick,pageX:l,pageY:c,team:!0}),r.createElement(qt,{onCloseMenu:this._onCloseSourceMenu,onRenameClick:this._onRenameSourceMenuClick,pageX:l,pageY:c,source:o,team:!0}),n&&r.createElement(It,{onCloseMenu:this._onCloseHeaderMenu,pageX:l,pageY:c,team:!0}),e&&r.createElement(Pe.hX,{collection:e,onClose:this._onCloseArchiveModal}),t&&this._renderUnfollowConfirmModal()):null}_updatePreferences(){this.setState({preferences:this.preferences.getPreferences(Object.values(st))})}}nt.propTypes={selectedStreamId:u().string},nt.defaultProps={selectedStreamId:null};var it=s(34039);class rt extends r.PureComponent{constructor(...e){super(...e),this._onContextMenu=e=>{const{altKey:t,clientX:s,clientY:n}=e,{onRightClick:i}=this.props;!t&&i&&(e.preventDefault(),i(s,n))}}render(){const{bold:e,children:t,iconComponent:s,isCapped:n,linkUri:i,markAsReadId:a,notificationCount:o,selected:l,title:c,unreadCount:d}=this.props;return r.createElement(it.Oy,{blockLevel:!0,className:B()("LeftnavListRow",{"LeftnavListRow--selected":l}),onContextMenu:this._onContextMenu,title:c,uri:i},r.createElement(s,{className:"LeftnavListRow__icon",color:l?"accent":"black",importance:l?"primary":"tertiary"}),r.createElement("span",{className:B()("LeftnavListRow__text",{"LeftnavListRow__text--bold":e})},t||c),o&&r.createElement("span",{className:"LeftnavListRow__notification-count"},o),r.createElement(Gt,{count:d,markAsReadId:a,markPageAsRead:l,ariaLabelTitle:c,isCapped:n}))}}rt.propTypes={bold:u().bool,children:u().node,iconComponent:u().elementType.isRequired,isCapped:u().bool,linkUri:u().string.isRequired,markAsReadId:u().string,notificationCount:u().number,onRightClick:u().func,selected:u().bool,title:u().string.isRequired,unreadCount:u().number},rt.defaultProps={bold:!1,children:null,isCapped:!1,markAsReadId:void 0,notificationCount:null,onRightClick:void 0,selected:!1,unreadCount:null};var at=s(22044);const ot={annotated:{tipsyMessagePro:"Renew Pro to add Notes and Highlights to articles.",tipsyMessageProPlus:"Renew Pro+ to add Notes and Highlights to articles.",tipsyTitle:"Notes are available on Pro and Pro+"},newsletter:{tipsyMessageProPlus:"Renew Pro+ to get newsletters delivered to your Feedly so you can declutter your inbox.",tipsyTitle:"Follow newsletters with Pro+"},priority:{tipsyMessageProPlus:"Renew Pro+ to access Priorities, use deduplication, and mute noisy content.",tipsyTitle:"Priorities are available on Pro+"},trainLeo:{tipsyMessageProPlus:"Renew Pro+ to access Priorities, use Deduplication, and mute noisy content.",tipsyTitle:"Leo is available on Pro+"},twitter:{tipsyMessageProPlus:"Renew Pro+ to follow Twitter timelines, hashtags, Lists, and searches in your Feedly.",tipsyTitle:"Twitter is available on Pro+"},webAlert:{tipsyMessageProPlus:"Renew Pro+ to cut through the noise. Ask Leo to track the specific topics and trends you care about.",tipsyTitle:"Web Alerts are available on Pro+"}};class lt extends r.PureComponent{constructor(e){super(e),this._renderRenewalModal=()=>{const{hasUnpaidProPlan:e,hasUnpaidProPlusPlan:t}=this.props,{isRenewalModalOpen:s}=this.state;return s&&(e||t)?r.createElement(Pe.El,{onClose:this._onCloseRenewalModal}):null},this._onCloseRenewalModal=()=>{this.setState({isRenewalModalOpen:!1})},this._onOpenRenewalModal=()=>{this.setState({isRenewalModalOpen:!0})},this.state={isRenewalModalOpen:!1}}render(){const{bold:e,enabled:t,hasUnpaidProPlan:s,isChild:n,label:i,onClick:a,selected:o,type:l,unreadCount:c}=this.props,{tipsyMessagePro:d,tipsyMessageProPlus:h,tipsyTitle:u}=ot[l];return r.createElement(r.Fragment,null,r.createElement(ue.d,{content:r.createElement(r.Fragment,null,r.createElement("div",{className:"LeftnavItemDisabled__tipsy-title"},u),r.createElement("div",{className:"LeftnavItemDisabled__tipsy-message"},s?d:h)),position:"top",textAlign:"left",tipClass:"LeftnavItemDisabled__tipsy"},r.createElement("div",{className:B()("LeftnavItemDisabled",{"LeftnavItemDisabled--selected":o,"LeftnavItemDisabled--child":n}),onClick:t?a:this._onOpenRenewalModal},n?r.createElement("img",{alt:"",className:"LeftnavItemDisabled__favicon",src:at}):r.createElement(_e.Z,{className:"LeftnavItemDisabled__icon",color:"danger",importance:"primary"}),r.createElement("span",{className:B()("LeftnavItemDisabled__text",{"LeftnavItemDisabled__text--bold":e,"LeftnavItemDisabled__text--enabled":t,"LeftnavItemDisabled__text--selected":o,"LeftnavItemDisabled__text--child":n})},i),r.createElement(Gt,{count:c}))),this._renderRenewalModal())}}lt.propTypes={bold:u().bool,enabled:u().bool,hasUnpaidProPlan:u().bool,hasUnpaidProPlusPlan:u().bool,isChild:u().bool,label:u().oneOfType([u().string,u().node]).isRequired,onClick:u().func,selected:u().bool,type:u().string.isRequired,unreadCount:u().number},lt.defaultProps={bold:!1,enabled:!1,hasUnpaidProPlan:!1,hasUnpaidProPlusPlan:!1,isChild:!1,onClick:()=>{},selected:!1,unreadCount:void 0};class ct extends r.PureComponent{constructor(...e){super(...e),this.state={}}componentDidMount(){this.setState({offsetParent:document.querySelector(".Leftnav")})}render(){const{children:e,indent:t,target:s}=this.props,{offsetParent:n}=this.state;return n&&e?r.createElement(Z.J,{align:"start",color:"black",className:B()("LeftnavItemNotification",{"LeftnavItemNotification--indent":t}),offsetParent:n,position:"top",target:s},r.createElement("p",{className:"LeftnavItemNotification__text"},e)):null}}ct.propTypes={children:u().node,indent:u().bool,target:u().oneOfType([u().instanceOf(Element),u().shape({current:u().instanceOf(Element)})]).isRequired},ct.defaultProps={children:void 0,indent:!1,target:void 0};var dt=s(24443),ht=s.n(dt),ut=s(16569),pt=s(1816),mt=s(94866),gt=s(48689),ft=s(85251);const yt={emptyCategories:"emptyCategories",navigationMarkRead:"navigationMarkRead"};class vt extends r.PureComponent{static getDerivedStateFromProps(e,t){const{feedIdMovingFromCollection:s,feedMovingToCollection:n}=t,i=n?n.id:null;return i&&e.feeds.find((({id:e})=>e===i))?{feedMovingToCollection:null}:s&&!e.feeds.find((({id:e})=>e===s))?{feedIdMovingFromCollection:null}:null}constructor(e){super(e),this._renderFeed=(e,t)=>{const{id:s,onRenameSourceDone:n,onRightClickSource:i,renameSourceId:a,selectedStreamId:o}=this.props,{feedMovingToCollection:l,isCountClickable:c,isSavingSourceRename:d,renameSourceLabel:h}=this.state;if(e.id===a)return r.createElement(tt,{key:e.id,indent:!0,loading:d,onCancel:n,onChange:this._onRenameSourceLabelChange,onSubmit:this._onRenameSourceSubmit,value:"string"==typeof h?h:e.title});const u=!!l&&l.id===e.id;return r.createElement(De._l,{draggableId:JSON.stringify({feedId:e.id,collectionId:s}),index:t,key:e.id,title:e.title,isDragDisabled:u},(t=>r.createElement("div",Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),r.createElement(zt,{expiredSourceType:this._getExpiredSourceType(e),faviconUrl:e.iconUrl||e.favicon,fallbackIconUrl:e.fallbackIconUrl,isCapped:e.isCapped,key:e.id,linkUri:e.uri,markAsReadId:c?e.id:void 0,onRightClick:(t,n)=>{i(e,s,t,n)},selected:e.id===o,title:e.title,unreadCount:e.unreadCount}))))},this._getExpiredSourceType=e=>{let t;return(0,mt.$O)(e)?t="webAlert":(0,mt.dB)(e)?t="newsletter":(0,gt.iR)(e.id)&&(t="twitter"),t},this._sortFeeds=()=>{let{feeds:e}=this.props;const{feedIdMovingFromCollection:t,feedMovingToCollection:s}=this.state;return s&&(e=[...e,s]),e=(0,ft.yR)(e),e.reduce(((e,s)=>{if(s.id!==t){(s.unreadCount>0?e.unreadFeeds:e.emptyFeeds).push(s)}return e}),{emptyFeeds:[],unreadFeeds:[]})},this._filterCollection=e=>{const{preferences:t}=this.state;return!("show"!==t.emptyCategories&&!e)},this._hasCappedFeed=()=>{const{feeds:e}=this.props;return e.some((e=>e.isCapped))},this._onRenameSourceCancel=()=>{this.setState({renameSourceLabel:null}),this.props.onRenameSourceDone()},this._onRenameSourceLabelChange=e=>{this.setState({renameSourceLabel:e})},this._onRenameSourceSubmit=async()=>{const{onRenameSourceDone:e,renameSourceId:t}=this.props,{renameSourceLabel:s}=this.state;this.setState({isSavingSourceRename:!0});try{await this.feeds.askRenameFeed(t,s),e()}catch(n){this.signs.setDefaultErrorMessage(n)}},this._onShowEmptyFeedListClick=()=>{this.setState({showEmptyFeedList:!0})},this.preferences=streets.service("preferences"),this.state={expanded:"show"===this.preferences.getPreference(e.id),feedIdMovingFromCollection:null,feedMovingToCollection:null,isCountClickable:"yes"===this.preferences.getPreference(yt.navigationMarkRead),isSavingSourceRename:!1,preferences:this.preferences.getPreferences([yt.emptyCategories]),renameSourceLabel:null,showEmptyFeedList:!1}}componentDidMount(){this.collections=streets.service("collections"),this.feeds=streets.service("feeds"),this.leftnav=streets.service("leftnav"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.collections.registerObserver(this),this.leftnav.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this)}componentDidUpdate(e){e.renameSourceId!==this.props.renameSourceId&&this.setState({isSavingSourceRename:!1,renameSourceLabel:null})}componentWillUnmount(){this.collections.unregisterObserver(this),this.leftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.reader.unregisterObserver(this),this.collections=null,this.feeds=null,this.leftnav=null,this.preferences=null,this.reader=null,this.signs=null}onPreferenceChanged(e){const{id:t}=this.props;(yt[e]||e===t)&&this.setState({expanded:"show"===this.preferences.getPreference(t),isCountClickable:"yes"===this.preferences.getPreference(yt.navigationMarkRead),preferences:this.preferences.getPreferences([yt.emptyCategories])})}onShowFeedDragDropPlaceholders(e,t,s){const{id:n}=this.props;s===n?this.setState({feedMovingToCollection:e}):t===n&&this.setState({feedIdMovingFromCollection:e.id})}onHideFeedDragDropPlaceholders(e,t,s){const{id:n}=this.props;s===n?this.setState({feedMovingToCollection:null}):t===n&&this.setState({feedIdMovingFromCollection:null})}render(){const{draggingCollectionId:e,isDragging:t,isPlaceholder:s,id:n,label:i,onRightClick:a,selectedStreamId:o,unreadCount:l,uri:c}=this.props,{isCountClickable:d}=this.state;if(!this._filterCollection(l))return null;const h=n===(0,Te.Mc)()?ut.Z:pt.Z;let{expanded:u}=this.state;return s?u=!1:u&&t&&(u=e!==n),r.createElement(De.bK,{droppableId:n,type:Ae.feeds},(e=>r.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),r.createElement(Ot,{bold:!!l,expandableId:n,expanded:u,hasCappedFeed:this._hasCappedFeed(),iconComponent:h,linkUri:c,markAsReadId:d?n:void 0,onRightClick:a,selected:n===o,title:i,unreadCount:l},this._renderFeedList(e)))))}_renderFeedList(e){const{showEmptyFeedList:t}=this.state,{emptyFeeds:s,unreadFeeds:n}=this._sortFeeds();return t||0===n.length?r.createElement(r.Fragment,null,[...n,...s].map(((e,t)=>this._renderFeed(e,t))),e.placeholder):r.createElement(r.Fragment,null,n.map(((e,t)=>this._renderFeed(e,t))),e.placeholder,s.length>0&&r.createElement("div",{key:"more",className:"LeftnavListRow LeftnavListRow--link",onClick:this._onShowEmptyFeedListClick},ht()("more source",s.length,!0)))}}vt.propTypes={feeds:u().arrayOf(u().object),id:u().string,label:u().string,onRenameSourceDone:u().func,onRightClick:u().func.isRequired,onRightClickSource:u().func.isRequired,renameSourceId:u().string,selectedStreamId:u().string,unreadCount:u().number,uri:u().string.isRequired},vt.defaultProps={feeds:[],id:null,label:null,onRenameSourceDone:()=>{},renameSourceId:null,selectedStreamId:null,unreadCount:null};var bt=s(39908),Et=s(763);const Ct={feed:{iconComponent:bt.Z,title:"Keep up with your favorite sources and keyword alerts",buttonLabel:"Create A Feed",form:Qe.oI},board:{iconComponent:p.Z,title:"Save insightful articles to boards for reference or sharing",buttonLabel:"Create a Board",form:v.Ox}},wt="feed",kt="board";function _t({onHideBoardPlaceholder:e,type:t}){const s=t===kt,n=Ct[t].iconComponent;return r.createElement("div",{className:"LeftnavEmptySpace"},s&&r.createElement(Et.Z,{className:"LeftnavEmptySpace__dismiss-button",importance:"tertiary",onClick:e,title:"Hide Empty Board Placeholder"}),r.createElement(n,{className:"LeftnavEmptySpace__icon",color:"accent"}),r.createElement("div",{className:"LeftnavEmptySpace__title"},Ct[t].title),r.createElement(H.zx,{className:B()("LeftnavEmptySpace__button",{"m-b-h":s}),onClick:()=>{streets.service("feedly").slideForm(Ct[t].form)},label:Ct[t].buttonLabel}),t===wt&&r.createElement(r.Fragment,null,r.createElement(it.rU,{className:"LeftnavEmptySpace__link",href:"http://blog.feedly.com/the-right-login/",newWindow:!0},"Missing Your Feeds?"),r.createElement(it.rU,{className:"LeftnavEmptySpace__link",uri:"cortex"},"Import OPML")))}_t.propTypes={onHideBoardPlaceholder:u().func,type:u().oneOf(Object.keys(Ct)).isRequired},_t.defaultProps={onHideBoardPlaceholder:()=>{}};var Mt=s(54274);const St=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.167a7.833 7.833 0 100 15.666 7.833 7.833 0 000-15.666zM1.167 10a8.833 8.833 0 1117.666 0 8.833 8.833 0 01-17.666 0z",fill:"currentColor"}),r.createElement("path",{d:"M10 13.333a3.333 3.333 0 100-6.666 3.333 3.333 0 000 6.666z",fill:"currentColor"}))}));var Tt=s(14355);class It extends r.PureComponent{constructor(){super(),this.state={isAdmin:streets.hasAdminBusinessAccess()},this._onAlphabetizeFeeds=()=>{const{team:e}=this.props;try{e?this.feedly.sortTeamCollectionsAlphabetically():this.feedly.sortPersonalCollectionsAlphabetically()}catch(t){streets.service("signs").showMessage("Failed to update preference: Reset Feed Sorting")}},this._onCreateFeedClick=()=>{const{team:e}=this.props;this.feedly.slideForm(e?Qe.hf:Qe.oI)},this._onMoreFeedsClick=()=>{this.feedly.loadPage("discover/feeds")},this._onImportOPMLClick=()=>{this.feedly.loadPage("cortex")},this._onOrganizeClick=()=>{this.feedly.loadPage(this.props.team?"team/feeds":"organize/my")},this._onShowEmptyClick=()=>{const{showEmpty:e}=this.state;this.preferences.setPreference(y.j$,e?y.Hi.hide:y.Hi.show)},this._onTeamFirstClick=()=>{const{teamFirst:e}=this.state;this.preferences.setPreference(y.iu,e?y.TA.personal:y.TA.team)},this.preferences=streets.service("preferences");const e=this.preferences.getPreference(y.iu),t=this.preferences.getPreference(y.j$);this.state={showEmpty:t===y.Hi.show,teamFirst:e===y.TA.team,isAdmin:streets.hasAdminBusinessAccess()}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null,this.preferences=null}render(){const{onCloseMenu:e,pageX:t,pageY:s,team:n}=this.props,{isAdmin:i,showEmpty:a,teamFirst:o}=this.state;return r.createElement(b.lM,{onClose:e,pageX:t,pageY:s},(!n||i)&&r.createElement(b.sN,{onClick:this._onOrganizeClick},r.createElement(Mt.Z,{importance:"tertiary"}),"Organize Feeds"),r.createElement(b.sN,{onClick:this._onAlphabetizeFeeds},r.createElement(f,{importance:"tertiary"}),"Reset to Alphabetical"),n&&r.createElement(b.sN,{onClick:this._onMoreFeedsClick},r.createElement(bt.Z,{importance:"tertiary"}),"More Feeds"),(!n||i)&&r.createElement(b.sN,{onClick:this._onCreateFeedClick},r.createElement(m.Z,{importance:"tertiary"}),"New Feed"),!n&&r.createElement(b.sN,{onClick:this._onImportOPMLClick},r.createElement(St,{importance:"tertiary"}),"Import OPML"),r.createElement(b.NP,null),r.createElement(b.sN,{onClick:this._onShowEmptyClick},r.createElement(Tt.P,{checked:a}),"Show Empty Feeds"),n&&r.createElement(b.sN,{onClick:this._onTeamFirstClick},r.createElement(Tt.P,{checked:o}),"Team First"))}}It.propTypes={onCloseMenu:u().func.isRequired,pageX:u().number.isRequired,pageY:u().number.isRequired,team:u().bool},It.defaultProps={team:!1};var Nt=s(81464);const Pt="feeds",Lt="general",xt="members";class Dt extends r.PureComponent{constructor(...e){super(...e),this.state={isAdmin:streets.hasAdminBusinessAccess()},this._onArchiveClick=()=>{this.props.onArchiveClick(this.props.collection)},this._onCopyToTeam=()=>{const{collection:e}=this.props;this.feedly.slideForm(Qe.hf,{initialLabel:e.label,initialCollectionToImport:e,onDone:(e,{id:t})=>{t&&this.feedly.loadPage(`collection/content/${t}`)}})},this._onDeleteClick=()=>{this.props.onDeleteClick(this.props.collection)},this._onFeedSettings=()=>{this._showSettingsForm(Pt)},this._onGeneralSettings=()=>{this._showSettingsForm(Lt)},this._onMemberSettings=()=>{this._showSettingsForm(xt)},this._onMarkAsRead=async()=>{const{collection:{id:e}}=this.props;try{this.signs.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e,{})}catch(t){streets.service("signs").setDefaultErrorMessage(t)}},this._showSettingsForm=e=>{const{collection:t,team:s}=this.props,n=s?Qe.KD:Qe.YL;this.feedly.slideForm(n,{defaultTab:e,streamInfo:t})}}componentDidMount(){this.feedly=streets.service("feedly"),this.reader=streets.service("reader"),this.signs=streets.service("signs")}componentWillUnmount(){this.feedly=null,this.reader=null,this.signs=null}render(){const{isAdmin:e}=this.state,{hideRename:t,isAll:s,onCloseMenu:n,onRenameClick:i,pageX:a,pageY:o,team:l}=this.props,c=r.createElement(b.sN,{onClick:this._onMarkAsRead},r.createElement(C.Z,{importance:"tertiary"}),"Mark as Read");return s?r.createElement(b.lM,{onClose:n,pageX:a,pageY:o},c):r.createElement(b.lM,{onClose:n,pageX:a,pageY:o},c,(!l||e)&&!t&&r.createElement(b.sN,{onClick:i},r.createElement(w.Z,{importance:"tertiary"}),"Rename"),(!l||e)&&r.createElement(b.sN,{onClick:this._onFeedSettings},r.createElement(bt.Z,{importance:"tertiary"}),"Manage Sources"),e&&(l?r.createElement(b.sN,{onClick:this._onMemberSettings},r.createElement(k,{importance:"tertiary"}),"View Members"):r.createElement(b.sN,{onClick:this._onCopyToTeam},r.createElement(_,{importance:"tertiary"}),"Copy to Team")),(!l||e)&&r.createElement(b.sN,{onClick:this._onGeneralSettings},r.createElement(M.Z,{importance:"tertiary"}),"Settings"),this._renderBottomItems())}_renderBottomItems(){const{isAdmin:e}=this.state,{team:t}=this.props;return t&&e?[r.createElement(b.sN,{key:"unfollow",onClick:this._onDeleteClick},r.createElement(Nt.Z,{importance:"tertiary"}),"Unfollow"),r.createElement(b.NP,{key:"divider"}),r.createElement(b.sN,{key:"archive",danger:!0,onClick:this._onArchiveClick},r.createElement(T.Z,{color:"danger"}),"Archive")]:[r.createElement(b.NP,{key:"divider"}),r.createElement(b.sN,{key:"unfollow",danger:!0,onClick:this._onDeleteClick},r.createElement(I.Z,{color:"danger"}),t?"Unfollow":"Delete")]}}Dt.propTypes={collection:u().shape({id:u().string,label:u().string,users:u().array}).isRequired,hideRename:u().bool,isAll:u().bool,onArchiveClick:u().func,onCloseMenu:u().func.isRequired,onDeleteClick:u().func.isRequired,onRenameClick:u().func.isRequired,pageX:u().number.isRequired,pageY:u().number.isRequired,team:u().bool},Dt.defaultProps={hideRename:!1,isAll:!1,onArchiveClick:()=>{},team:!1};class Ot extends r.PureComponent{constructor(...e){super(...e),this._onContextMenu=e=>{const{altKey:t,clientX:s,clientY:n}=e,{onRightClick:i}=this.props;!t&&i&&(e.preventDefault(),i(s,n))}}render(){const{bold:e,children:t,expandableId:s,hasCappedFeed:n,iconComponent:i,linkUri:a,markAsReadId:o,selected:l,expanded:c,title:d,unreadCount:h}=this.props;return r.createElement(r.Fragment,null,r.createElement("div",{onClick:()=>{streets.service("feedly").loadPage(a)},onContextMenu:this._onContextMenu,title:d,className:B()("LeftnavListRow",{"LeftnavListRow--selected":l})},r.createElement(H.Er,{"aria-label":`${c?"Hide":"Show"} Sources for ${d}`,importance:"primary",onClick:e=>{streets.service("preferences").setPreference(s,c?"hide":"show"),e.stopPropagation()}},r.createElement(i,{className:B()("LeftnavListRow__icon",{"LeftnavListRow__icon--open":c}),color:l?"accent":"black",importance:l?"primary":"tertiary"})),r.createElement(it.Oy,{className:B()("LeftnavListRow__text",{"LeftnavListRow__text--bold":e}),uri:a,onClick:e=>{e.stopPropagation()}},d),r.createElement(Gt,{count:h,isCapped:n,markAsReadId:o,markPageAsRead:l,ariaLabelTitle:d})),c&&t)}}Ot.propTypes={bold:u().bool,children:u().node,expandableId:u().string.isRequired,expanded:u().bool,hasCappedFeed:u().bool,iconComponent:u().elementType.isRequired,linkUri:u().string.isRequired,markAsReadId:u().string,onRightClick:u().func,selected:u().bool,title:u().string.isRequired,unreadCount:u().number},Ot.defaultProps={bold:!1,children:null,expanded:!1,hasCappedFeed:!1,markAsReadId:void 0,onRightClick:void 0,selected:!1,unreadCount:null};var At=s(15813);class zt extends r.PureComponent{constructor(e){super(e),this._onError=()=>{const{errored:e,erroredUrl:t}=this.state;!e&&t&&this.setState({iconUrl:t,errored:!0})},this._onContextMenu=e=>{const{altKey:t,clientX:s,clientY:n}=e,{onRightClick:i}=this.props;!t&&i&&(e.preventDefault(),i(s,n))},this.profile=streets.service("profile");let t=e.faviconUrl,s=e.fallbackIconUrl;!t&&s&&(t=s,s=null),this.state={hasUnpaidProPlusPlan:this.profile.hasUnpaidProPlusPlan(),iconUrl:t,erroredUrl:s,errored:!1}}componentDidMount(){this.profile.registerObserver(this)}componentWillUnmount(){this.profile.unregisterObserver(this),this.profile=null}onProfileUpgraded(){this.setState({hasUnpaidProPlusPlan:this.profile.hasUnpaidProPlusPlan()})}render(){const{expiredSourceType:e,isCapped:t,markAsReadId:s,unreadCount:n,selected:i,linkUri:a,title:o}=this.props,{hasUnpaidProPlusPlan:l,iconUrl:c}=this.state;return l&&e?r.createElement(lt,{hasUnpaidProPlusPlan:l,isChild:!0,label:o,type:e,unreadCount:n}):r.createElement("div",{onClick:()=>{streets.service("feedly").loadPage(a)},onContextMenu:this._onContextMenu,title:o,className:B()("LeftnavListRow LeftnavListRow--child",{"LeftnavListRow--selected":i})},c?r.createElement("img",{alt:"",className:"LeftnavListRow__favicon",src:c,onError:this._onError}):r.createElement(At.t,{alt:o,borderless:!0,className:"LeftnavListRow__favicon LeftnavListRow__favicon--placeholder",compact:!0,square:!0}),r.createElement("span",{className:"LeftnavListRow__text LeftnavListRow__text--child"},o),r.createElement(Gt,{count:n,isCapped:t,markAsReadId:s,markPageAsRead:i,ariaLabelTitle:o}))}}zt.propTypes={expiredSourceType:u().string,faviconUrl:u().string,fallbackIconUrl:u().string,isCapped:u().bool,linkUri:u().string,markAsReadId:u().string,unreadCount:u().number,selected:u().bool,onRightClick:u().func,title:u().string.isRequired},zt.defaultProps={expiredSourceType:void 0,fallbackIconUrl:null,faviconUrl:"",isCapped:!1,linkUri:void 0,markAsReadId:void 0,unreadCount:null,selected:!1,onRightClick:void 0};const Rt=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{clipPath:"url(#thumbtack-sm_svg__clip0)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.268 2.268a.5.5 0 01.707 0l5.657 5.657a.5.5 0 11-.707.707l-.94-.94-4.454 8.274 1.151 1.151a.5.5 0 01-.707.707l-9.9-9.9a.5.5 0 01.707-.706l1.152 1.15 8.273-4.454-.94-.94a.5.5 0 010-.706zm1.677 2.384L4.672 9.107l6.12 6.12 4.455-8.273-2.302-2.302zm-6.627 8.93a.5.5 0 010 .707l-3.536 3.535a.5.5 0 11-.707-.707l3.536-3.536a.5.5 0 01.707 0z",fill:"currentColor"})),r.createElement("defs",null,r.createElement("clipPath",{id:"thumbtack-sm_svg__clip0"},r.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"}))))}));class Ft extends r.PureComponent{constructor(...e){super(...e),this._onClick=()=>{this.leftnav.togglePinned()}}componentDidMount(){this.leftnav=streets.service("leftnav")}componentWillUnmount(){this.leftnav=null}render(){return a.createPortal(r.createElement("div",{className:"Leftnav__pin LeftnavPin",onClick:this._onClick},r.createElement("div",{className:"LeftnavPin__background"}),r.createElement(Rt,{className:"LeftnavPin__icon",importance:"tertiary"})),document.getElementById("feedlyChrome__leftnav-pin-wrapper"))}}var jt=s(63402),Ut=s(94613);class Bt extends r.PureComponent{constructor(...e){super(...e),this._onAlphabetizePriorities=()=>{try{this.preferences.setPreference(y.As.priorities,"[]")}catch(e){streets.service("signs").showMessage("Failed to update preference: Reset Feed Sorting")}},this._onCreateClick=()=>{streets.service("feedly").slideForm(jt.qR)},this._onShowEmptyChange=()=>{const{showEmptyPriorities:e}=this.props;this.preferences.setPreference(y.Ic,e===y.ZD.on?y.ZD.off:y.ZD.on)},this._onShowInNavigationChange=e=>{this.preferences.setPreference(y.sf,e)}}componentDidMount(){this.preferences=streets.service("preferences")}componentWillUnmount(){this.preferences=null}render(){const{onCloseMenu:e,pageX:t,pageY:s,showEmptyPriorities:n,showPrioritiesInNavigation:i}=this.props;return r.createElement(b.lM,{onClose:e,pageX:t,pageY:s},r.createElement(b.sN,{onClick:this._onCreateClick},r.createElement(m.Z,{importance:"tertiary"}),"New Priority"),r.createElement(b.sN,{onClick:this._onAlphabetizePriorities},r.createElement(f,{importance:"tertiary"}),"Reset to Alphabetical"),r.createElement(b.NP,null),r.createElement(b.sN,{onClick:this._onShowEmptyChange},r.createElement(Tt.P,{checked:n===y.ZD.on}),"Show Empty Priorities"),r.createElement(b.NP,null),r.createElement(b.aV,{name:"show",onChange:this._onShowInNavigationChange,selectedValue:i},r.createElement(Ut.Y8,{value:y.Zu.all},"Show All Priorities"),r.createElement(Ut.Y8,{value:y.Zu.globalOnly},"Global Priorities Only"),r.createElement(Ut.Y8,{value:y.Zu.createdByUserOnly},"Priorities I Created Only"),r.createElement(Ut.Y8,{value:y.Zu.none},"Hide All Priorities")))}}Bt.propTypes={onCloseMenu:u().func.isRequired,pageX:u().number.isRequired,pageY:u().number.isRequired,showEmptyPriorities:u().oneOf(Object.values(y.ZD)).isRequired,showPrioritiesInNavigation:u().oneOf(Object.values(y.Zu)).isRequired};var Ht=s(9648),Yt=s(30392);class Zt extends r.PureComponent{constructor(...e){super(...e),this.state={isAdmin:streets.hasAdminBusinessAccess()},this._onMarkAsRead=async()=>{const{priority:e,onMarkAsRead:t}=this.props;t(e)},this._onActiveChange=async e=>{const{priority:t}=this.props,{isEnterprise:s}=(0,Te.Yg)(t.id),n=s?this.enterprisepriorities:this.personalpriorities;try{await n.askSave({...t,active:e}),streets.service("signs").showMessage(`${t.label} has been ${e?"resumed":"paused"}.`)}catch(i){this._onUpdateError()}},this._onRefine=()=>{const{priority:e}=this.props;this.feedly.slideForm(jt.c2,{initialPriority:e})},this._onUpdateError=()=>{const{priority:e}=this.props;this.signs.showMessage(`There was an error when trying to update ${e.label}.`)}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.feedly=streets.service("feedly"),this.personalpriorities=streets.service("personalpriorities"),this.reader=streets.service("reader"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisepriorities=null,this.feedly=null,this.personalpriorities=null,this.reader=null,this.signs=null}render(){const{isAdmin:e}=this.state,{onCloseMenu:t,onDeleteClick:s,onRenameClick:n,pageX:i,pageY:a,priority:o,team:l}=this.props;return r.createElement(b.lM,{onClose:t,pageX:i,pageY:a},r.createElement(b.sN,{onClick:this._onMarkAsRead},r.createElement(C.Z,{importance:"tertiary"}),"Mark as Read"),(!l||e)&&r.createElement(r.Fragment,null,r.createElement(b.sN,{onClick:n},r.createElement(w.Z,{importance:"tertiary"}),"Rename"),r.createElement(b.sN,{onClick:this._onRefine},r.createElement(ve.Z,{importance:"tertiary"}),"Refine"),o.active?r.createElement(b.sN,{onClick:()=>{this._onActiveChange(!1)}},r.createElement(Ht.Z,{importance:"tertiary"}),"Pause"):r.createElement(b.sN,{onClick:()=>{this._onActiveChange(!0)}},r.createElement(Yt.Z,{importance:"tertiary"}),"Resume"),r.createElement(b.NP,null),r.createElement(b.sN,{danger:!0,onClick:s},r.createElement(I.Z,{color:"danger"}),"Delete")))}}Zt.propTypes={onCloseMenu:u().func.isRequired,onDeleteClick:u().func.isRequired,onRenameClick:u().func.isRequired,onMarkAsRead:u().func.isRequired,pageX:u().number.isRequired,pageY:u().number.isRequired,priority:u().shape({active:u().bool,id:u().string,label:u().string}).isRequired,team:u().bool},Zt.defaultProps={team:!1};const Wt=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M7.143 4.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zm0 1a4.5 4.5 0 110 9 4.5 4.5 0 010-9z"}),r.createElement("path",{d:"M12.857 4.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zm0 1a4.5 4.5 0 110 9 4.5 4.5 0 010-9z"})))}));var $t=s(92242);class qt extends r.PureComponent{constructor(...e){super(...e),this.state={favoritesCollection:null,isInFavorites:!1,sourceToDelete:null,isAdmin:streets.hasAdminBusinessAccess()},this._renderFavoritesItem=()=>{const{favoritesCollection:e,isInFavorites:t}=this.state;let s="Favorites";return e&&(s=(t?"Remove from":"Add to")+" Favorites"),r.createElement(b.sN,{disabled:!e,onClick:t?this._onFavoritesRemoveClick:this._onFavoritesAddClick},r.createElement(ut.Z,{importance:"tertiary"}),s)},this._onFavoritesAddClick=async()=>{const{source:{id:e,title:t}}=this.props,{favoritesCollection:s}=this.state;try{await this.personalcollections.askAddFeed(s.id,{id:e,title:t}),this.signs.showMessage("Saved to Favorites")}catch(n){this.signs.showError("Failed to save to Favorites")}},this._onFavoritesRemoveClick=async()=>{const{source:{id:e}}=this.props,{favoritesCollection:t}=this.state;try{await this.personalcollections.askRemoveFeed(t.id,e),this.signs.showMessage("Removed from Favorites")}catch(s){this.signs.showError("Failed to remove from Favorites")}},this._onMarkAsReadClick=async()=>{const{source:{id:e}}=this.props;try{this.signs.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e,{})}catch(t){this.signs.setDefaultErrorMessage(t)}},this._onMoveToClick=async()=>{const{source:e}=this.props,[t,s]=await Promise.all([this.personalcollections.askListCollections(),...streets.hasAdminBusinessAccess()?[this.enterprisecollections.askListCollections()]:[]]);this.feedly.slideForm($t.e,{initialCollections:t,initialFeeds:[e],initialTeamCollections:s})},this._onSeeSimilarSourcesClick=()=>{const{source:e}=this.props;this.feedly.loadPage(`discover/sources/search/leo/${e.title}`)},this._onUnfollowClick=e=>{this.setState({sourceToDelete:e})},this._onUnfollowModalClose=()=>{this.setState({sourceToDelete:null})}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.feedly=streets.service("feedly"),this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.personalcollections.registerObserver(this),this._updateFavorites()}componentWillUnmount(){this.personalcollections.unregisterObserver(this),this.enterprisecollections=null,this.feedly=null,this.personalcollections=null,this.reader=null,this.signs=null}static getDerivedStateFromProps(e,t){const{source:s}=e,{favoritesCollection:n}=t;return s&&n?{isInFavorites:n.containsFeed(s.id)}:null}onCollectionChanged(e){const{favoritesCollection:t}=this.state;t&&e===t.id&&this._updateFavorites()}render(){const{onCloseMenu:e,onRenameClick:t,pageX:s,pageY:n,source:i,team:a}=this.props,{isAdmin:o,sourceToDelete:l}=this.state;return r.createElement(r.Fragment,null,i&&r.createElement(b.lM,{onClose:e,pageX:s,pageY:n},r.createElement(b.sN,{onClick:this._onMarkAsReadClick},r.createElement(C.Z,{importance:"tertiary"}),"Mark as Read"),(!a||o)&&r.createElement(b.sN,{onClick:t},r.createElement(w.Z,{importance:"tertiary"}),"Rename"),this._renderFavoritesItem(),r.createElement(b.sN,{onClick:this._onMoveToClick},r.createElement(Mt.Z,{importance:"tertiary"}),"Move to..."),r.createElement(b.sN,{onClick:this._onSeeSimilarSourcesClick},r.createElement(Wt,{importance:"tertiary"}),"See Similar Sources"),(!a||o)&&r.createElement(r.Fragment,null,r.createElement(b.NP,null),r.createElement(b.sN,{danger:!0,onClick:()=>{this._onUnfollowClick(i)}},r.createElement(I.Z,{color:"danger"}),"Unfollow")," ")),l&&r.createElement(Qe.ob,{isModal:!0,onClose:this._onUnfollowModalClose,streamId:l.id,streamLabel:l.title}))}async _updateFavorites(){const e=await this.personalcollections.askFavoritesCollection();if(this.state){const{source:t}=this.props;this.setState({favoritesCollection:e,isInFavorites:!!t&&e.containsFeed(t.id)})}}}qt.propTypes={onCloseMenu:u().func.isRequired,onRenameClick:u().func.isRequired,pageX:u().number.isRequired,pageY:u().number.isRequired,source:u().shape({id:u().string,title:u().string}),team:u().bool},qt.defaultProps={source:void 0,team:!1};var Vt=s(32470);class Gt extends r.PureComponent{constructor(...e){super(...e),this._onClickPage=e=>{const{markAsReadId:t}=this.props;e.stopPropagation(),streets.service("readingManager").askMarkPageAsRead({streamId:t})},this._onClickStream=e=>{const{markAsReadId:t}=this.props;e.stopPropagation(),this.feedly.askMarkStreamAsRead(t)}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{ariaLabelTitle:e,count:t,isCapped:s,markAsReadId:n,markPageAsRead:i}=this.props,a=(0,Vt.XZ)(t,s);return a?n?r.createElement(H.Er,{"aria-label":`Mark ${e} as read`,className:"LeftnavListRow__count",importance:"primary",onClick:i?this._onClickPage:this._onClickStream},a):r.createElement("span",{className:"LeftnavListRow__count"},a):null}}Gt.propTypes={ariaLabelTitle:u().string.isRequired,count:u().number,isCapped:u().bool,markAsReadId:u().string,markPageAsRead:u().bool},Gt.defaultProps={count:0,isCapped:!1,markAsReadId:void 0,markPageAsRead:!1};const Qt=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M19.2 11.25a.75.75 0 01.743.648l.007.102v7a2.75 2.75 0 01-2.582 2.745l-.168.005H6.8a2.75 2.75 0 01-2.745-2.582L4.05 19v-7a.75.75 0 011.493-.102L5.55 12v7c0 .647.492 1.18 1.122 1.244l.128.006h10.4a1.25 1.25 0 001.244-1.122L18.45 19v-7a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M20 6.75H4A1.75 1.75 0 002.25 8.5V11c0 .966.784 1.75 1.75 1.75h16A1.75 1.75 0 0021.75 11V8.5A1.75 1.75 0 0020 6.75zM4 8.25h16a.25.25 0 01.25.25V11a.25.25 0 01-.25.25H4a.25.25 0 01-.25-.25V8.5A.25.25 0 014 8.25z"}),r.createElement("path",{d:"M12 11.25a.75.75 0 01.743.648l.007.102v9a.75.75 0 01-1.493.102L11.25 21v-9a.75.75 0 01.75-.75zM7.95 2.25a3 3 0 100 6H12a.75.75 0 00.735-.897l-.045-.2a9.274 9.274 0 00-.165-.583 9.366 9.366 0 00-.712-1.681C10.922 3.267 9.65 2.25 7.95 2.25zm0 1.5c1.056 0 1.894.67 2.55 1.861l.174.34c.11.232.21.47.298.71L11 6.75H7.95a1.5 1.5 0 010-3z"}),r.createElement("path",{d:"M16.05 2.25c-1.7 0-2.972 1.017-3.863 2.639-.297.539-.531 1.11-.712 1.681a7.867 7.867 0 00-.21.783.75.75 0 00.735.897h4.05a3 3 0 000-6zm0 1.5a1.5 1.5 0 011.5 1.5l-.007.144A1.5 1.5 0 0116.05 6.75h-3.052l-.093.273c.153-.483.351-.966.596-1.412.655-1.19 1.493-1.861 2.549-1.861z"})))}));class Kt extends r.PureComponent{constructor(e){super(e),this._onClick=()=>{const{onClick:e}=this.props,{showWhatsNewNotification:t}=this.state;e(),this.newfeatures.updateNewFeaturesLastClickTime(),t&&streets.service("analytics").trackNewFeaturesEvent(this.newfeatures.getCurrentNewFeatureHeader(),"click gift button")},this.newfeatures=streets.service("newfeatures");const{showWhatsNewNotification:t}=this.newfeatures.getNotificationInfo();this.state={showWhatsNewNotification:t}}componentDidMount(){this.newfeatures.registerObserver(this)}componentWillUnmount(){this.newfeatures.unregisterObserver(this),this.newfeatures=null}onWhatsNewNotificationChanged(e){this.setState({showWhatsNewNotification:e})}render(){const{showWhatsNewNotification:e}=this.state;return r.createElement(pe,{className:B()({"LeftnavDock--notification":e}),icon:r.createElement(Qt,{importance:"secondary"}),onClick:this._onClick,title:"New Features"})}}Kt.propTypes={onClick:u().func.isRequired};r.PureComponent;const Jt=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12 6.964a5.036 5.036 0 100 10.072 5.036 5.036 0 000-10.072zm0 1.5a3.536 3.536 0 110 7.072 3.536 3.536 0 010-7.072zM12 1.821a.75.75 0 01.743.649l.007.101v1.715a.75.75 0 01-1.493.101l-.007-.101V2.57a.75.75 0 01.75-.75zM12 18.964a.75.75 0 01.743.649l.007.101v1.715a.75.75 0 01-1.493.101l-.007-.101v-1.715a.75.75 0 01.75-.75zM4.801 4.801a.75.75 0 01.977-.073l.084.073 1.217 1.217a.75.75 0 01-.977 1.134l-.084-.073-1.217-1.217a.75.75 0 010-1.06zM16.921 16.921a.75.75 0 01.977-.073l.084.073 1.217 1.217a.75.75 0 01-.977 1.134l-.084-.073-1.217-1.217a.75.75 0 010-1.06zM4.286 11.25a.75.75 0 01.101 1.493l-.101.007H2.57a.75.75 0 01-.101-1.493l.101-.007h1.715zM21.429 11.25a.75.75 0 01.101 1.493l-.101.007h-1.715a.75.75 0 01-.101-1.493l.101-.007h1.715zM6.018 16.921a.75.75 0 011.134.977l-.073.084-1.217 1.217a.75.75 0 01-1.134-.977l.073-.084 1.217-1.217zM18.138 4.801a.75.75 0 011.134.977l-.073.084-1.217 1.217a.75.75 0 01-1.134-.977l.073-.084 1.217-1.217z"})))}));const Xt=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M9.873 2.89A9.59 9.59 0 003.268 12a9.59 9.59 0 009.59 9.59 9.59 9.59 0 009.11-6.606.75.75 0 00-.866-.968A8.679 8.679 0 0110.841 3.755a.75.75 0 00-.968-.865zm-.685 1.905l-.019.303c-.005.14-.008.28-.008.42 0 5.621 4.557 10.178 10.178 10.178l.42-.008.303-.02-.047.095a8.088 8.088 0 11-10.92-10.92l.093-.048z",fill:"currentColor",fillRule:"nonzero"}))}));const es=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12.91 4.886a8.023 8.023 0 100 16.046 8.023 8.023 0 000-16.046zm0 1.5a6.523 6.523 0 110 13.046 6.523 6.523 0 010-13.046z"}),r.createElement("path",{d:"M17.379 7.379a.75.75 0 011.133.976l-.073.084-10 10a.75.75 0 01-1.133-.976l.073-.084 10-10zM19.197 10.56a.75.75 0 011.133.977l-.072.084-8.637 8.637a.75.75 0 01-1.133-.977l.073-.084 8.636-8.636zM4.551 4.551a.75.75 0 01.977-.072l.084.072.71.71a.75.75 0 01-.977 1.133L5.26 6.32l-.71-.709a.75.75 0 010-1.06zM5.26 19.651a.75.75 0 011.134.977l-.073.084-.709.71a.75.75 0 01-1.133-.977l.072-.084.71-.71zM20.36 4.397a.75.75 0 011.134.976l-.073.085-.709.709a.75.75 0 01-1.133-.977l.072-.084.71-.71zM12.91 1.25a.75.75 0 01.742.648L13.66 2v.91a.75.75 0 01-1.493.1l-.007-.1V2a.75.75 0 01.75-.75zM2.91 12.16a.75.75 0 01.1 1.492l-.1.007H2a.75.75 0 01-.102-1.493L2 12.159h.91z"})))}));var ts=s(64568),ss=s(13871);const ns=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M21.101 3.863l-.808-.808a2.75 2.75 0 00-3.89.006L4.338 15.17a2.75 2.75 0 00-.802 1.94v3.46c0 .414.336.75.75.75h2.081a2.75 2.75 0 001.935-.795l2.694-2.668L21.101 7.753a2.75 2.75 0 000-3.89zm-1.868.254l.807.807a1.25 1.25 0 010 1.768L9.938 16.794l-2.691 2.665-.106.092a1.25 1.25 0 01-.774.27l-1.331-.001v-2.71c0-.33.131-.647.365-.882L17.465 4.12a1.25 1.25 0 011.768-.003z"}),r.createElement("path",{d:"M6.327 13.184a.75.75 0 01.976-.073l.084.073 3.425 3.425a.75.75 0 01-.976 1.133l-.085-.073-3.424-3.424a.75.75 0 010-1.061zM20.571 19.821a.75.75 0 01.102 1.494l-.102.006h-9.417a.75.75 0 01-.102-1.493l.102-.007h9.417z"})))}));const is=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M18 11.25a.75.75 0 01.743.648l.007.102v3.6c0 1.582-1.701 3.046-3.166 3.145l-.155.005H8.57c-1.444 0-3.196-1.409-3.315-2.981L5.25 15.6V12a.75.75 0 011.493-.102L6.75 12v3.6c0 .702.985 1.555 1.704 1.643l.117.007h6.858c.685 0 1.707-.816 1.812-1.532l.009-.118V12a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M19.013 11.25c1.238 0 2.223 1.027 2.303 2.297l.005.167v2.572a.75.75 0 01-1.493.101l-.007-.101v-2.572c0-.505-.322-.9-.71-.957l-.098-.007H12a.75.75 0 01-.102-1.493L12 11.25h7.013z"}),r.createElement("path",{d:"M12 11.25a.75.75 0 01.102 1.493L12 12.75H4.987c-.397 0-.75.355-.802.84l-.006.124v2.572a.75.75 0 01-1.494.101l-.006-.101v-2.572c0-1.29.933-2.37 2.148-2.458l.16-.006H12zM13.714 17.25a.75.75 0 01.743.648l.007.102v1.714a2.464 2.464 0 01-4.923.162l-.005-.162V18a.75.75 0 011.493-.102l.007.102v1.714a.964.964 0 001.922.113l.006-.113V18a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M12 2.679a6.75 6.75 0 016.746 6.513l.004.237V12a.75.75 0 01-1.493.102L17.25 12V9.429a5.25 5.25 0 00-10.496-.217l-.004.217V12a.75.75 0 01-1.493.102L5.25 12V9.429A6.75 6.75 0 0112 2.679z"}),r.createElement("path",{d:"M12 1.821a.75.75 0 01.743.649l.007.101v.822a.75.75 0 01-1.493.102l-.007-.102v-.822a.75.75 0 01.75-.75zM9.429 6.964a1.607 1.607 0 100 3.215 1.607 1.607 0 000-3.215zM14.571 6.964a1.607 1.607 0 100 3.215 1.607 1.607 0 000-3.215z"})))}));var rs=s(84546);const as=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M11.641 11.643a.75.75 0 01.977-.073l.084.073 3.207 3.207a.75.75 0 01-.977 1.133l-.084-.072-3.207-3.208a.75.75 0 010-1.06z"}),r.createElement("path",{d:"M12.171 6.374a.75.75 0 01.744.648l.006.102v5.049a.75.75 0 01-1.493.102l-.007-.102V7.124a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M12.171 3.021a9.15 9.15 0 100 18.3 9.15 9.15 0 000-18.3zm0 1.5a7.65 7.65 0 110 15.3 7.65 7.65 0 010-15.3z"})))}));const os=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M8.571 2.679a.75.75 0 01.744.648l.006.102V6a.75.75 0 01-1.493.102L7.821 6V3.429a.75.75 0 01.75-.75zM15.429 2.679a.75.75 0 01.743.648l.007.102V6a.75.75 0 01-1.494.102L14.68 6V3.429a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M18.857 5.25a.75.75 0 01.102 1.493l-.102.007H5.143a.75.75 0 01-.102-1.493l.102-.007h13.714z"}),r.createElement("path",{d:"M17.143 5.25a.75.75 0 01.743.648l.007.102v5.209c0 3.22-2.64 5.827-5.893 5.827-3.178 0-5.773-2.49-5.889-5.609l-.004-.218V6A.75.75 0 017.6 5.898L7.607 6v5.209c0 2.387 1.965 4.327 4.393 4.327 2.357 0 4.277-1.827 4.388-4.118l.005-.21V6a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M12 15.536a.75.75 0 01.75.75 5.893 5.893 0 01-5.893 5.893.75.75 0 110-1.5 4.393 4.393 0 004.393-4.393.75.75 0 01.75-.75z"})))}));const ls=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M13.455 2.61l-.79.868a.893.893 0 01-1.328.003l-.789-.871a2.393 2.393 0 00-4.161 1.72l.056 1.176a.895.895 0 01-.937.943l-1.175-.06a2.392 2.392 0 00-1.723 4.16l.872.793a.895.895 0 01.002 1.328l-.873.788a2.392 2.392 0 001.729 4.163l1.173-.06a.892.892 0 01.937.937l-.06 1.174a2.394 2.394 0 004.159 1.724l.793-.874a.894.894 0 011.326-.001l.79.873a2.394 2.394 0 004.157-1.719l-.06-1.178a.892.892 0 01.937-.937l1.174.06a2.393 2.393 0 001.726-4.166l-.874-.789a.894.894 0 010-1.326l.874-.788a2.393 2.393 0 00-1.722-4.165l-1.175.06a.89.89 0 01-.933-.936l.06-1.174a2.393 2.393 0 00-4.165-1.726zm2.117.78a.893.893 0 01.55.87l-.06 1.174a2.392 2.392 0 002.506 2.51l1.175-.06a.892.892 0 01.641 1.554l-.873.788a2.394 2.394 0 000 3.553l.874.788a.893.893 0 01-.644 1.554l-1.174-.06a2.391 2.391 0 00-2.511 2.512l.06 1.174a.891.891 0 01-1.551.638l-.786-.87a2.392 2.392 0 00-3.551 0l-.791.872a.892.892 0 01-1.552-.642l.06-1.17a2.392 2.392 0 00-2.51-2.512l-1.174.06a.892.892 0 01-.646-1.552l.872-.788a2.394 2.394 0 000-3.553l-.871-.79a.892.892 0 01.641-1.553l1.172.06A2.39 2.39 0 007.94 5.43l-.056-1.17a.893.893 0 011.552-.642l.787.869a2.39 2.39 0 003.552-.002l.79-.867a.894.894 0 01.888-.268l.118.04z"}),r.createElement("path",{d:"M12 7.821a4.179 4.179 0 100 8.358 4.179 4.179 0 000-8.358zm0 1.5a2.679 2.679 0 110 5.358 2.679 2.679 0 010-5.358z"})))}));const cs=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M17.052 4.766a.75.75 0 011.057-.089 9.469 9.469 0 11-12.218 0 .75.75 0 11.968 1.146 7.969 7.969 0 1010.282 0 .75.75 0 01-.089-1.057z"}),r.createElement("path",{d:"M12 2.25a.75.75 0 01.743.648L12.75 3v9a.75.75 0 01-1.493.102L11.25 12V3a.75.75 0 01.75-.75z"})))}));var ds=s(28514),hs=s(11681),us=s(95192);const ps={integrationsLink:"integrationsLink",[y.ZW]:y.ZW,teamVsPersonal:"teamVsPersonal"};class ms extends r.PureComponent{constructor(e){super(e),this.openCannotDropComponent=e=>{this.setState({cannotDropDrawerBody:e,isCannotDropDrawerOpen:!0})},this._renderChooseThemeDrawer=()=>{const{isDayTheme:e,isNightTheme:t,isAutoTheme:s}=this._getCurrentThemeInfo();return r.createElement(hs.dy,{onClose:this._onCloseChooseThemeDrawer},r.createElement(b.Rr,null,"Choose Theme"),r.createElement(b.kR,{onClick:()=>{this._onThemeClick(y.z0.day)}},r.createElement(Jt,{color:e?"accent":"black"}),r.createElement(us.x,{className:"m-a-0",color:e?"accent":"primary",size:"small"},"Day Theme")),r.createElement(b.kR,{onClick:()=>{this._onThemeClick(y.z0.night)}},r.createElement(Xt,{color:t?"accent":"black"}),r.createElement(us.x,{className:"m-a-0",color:t?"accent":"primary",size:"small"},"Night Theme")),r.createElement(b.kR,{onClick:()=>{this._onThemeClick(y.z0.auto)}},r.createElement(es,{color:s?"accent":"black"}),r.createElement(us.x,{className:"m-a-0",color:s?"accent":"primary",size:"small"},"Match Device Theme")))},this._onNewFeaturesClick=()=>{const{linkUris:e}=this.state;this.tabsManager.askOpenPage(e.newFeatures),this.mobileleftnav.close()},this._onOpenChooseThemeDrawer=()=>{this.setState({isChooseThemeDrawerOpen:!0})},this._onCloseChooseThemeDrawer=()=>{this.setState({isChooseThemeDrawerOpen:!1})},this._onCloseCannotDropDrawer=()=>{this.setState({isCannotDropDrawerOpen:!1})},this._onCancelDrop=()=>{this._resolveDrop(!1),this._onCloseConfirmDropDrawer()},this._onConfirmDrop=()=>{this._resolveDrop(!0),this._onCloseConfirmDropDrawer()},this._onOpenConfirmDropDrawer=(e,t)=>{this.setState({confirmDropDrawerBody:t,confirmDropDrawerHeader:e,isConfirmDropDrawerOpen:!0})},this._onAddContentClick=()=>{this.tabsManager.askOpenPage("discover"),this.mobileleftnav.close()},this._onSettingsClick=()=>{$B.core.application.showPreferences({}),this.mobileleftnav.close()},this._onThemeClick=e=>{this.preferences.setPreference(y.ZW,e),this._onCloseChooseThemeDrawer()},this._onLogoutClick=()=>{this.mobileleftnav.close(),streets.service("auth").logout()},this._onToggleEdit=()=>{this.mobileleftnav.toggleEdit()},this._personalCollectionsRef=r.createRef(),this._teamCollectionsRef=r.createRef(),this.mobileleftnav=streets.service("mobileleftnav"),this.preferences=streets.service("preferences"),this.state={feedlyApplicationVersion:"Version "+streets.getApplicationVersion(),isCannotDropDrawerOpen:!1,isConfirmDropDrawerOpen:!1,isChooseThemeDrawerOpen:!1,isAndroidDevice:(0,ds.Dt)(),isEditing:this.mobileleftnav.isEditModeOn(),isInset:window.SAFE_AREA_INSET_LEFT>0,isLeoEnabled:!1,isUserLoggedIn:streets.getUserId(),preferences:this.preferences.getPreferences(Object.values(ps)),linkUris:{today:"my",readLater:"board/content/"+(0,Te.uf)(),annotated:"board/content/"+(streets.hasBusinessAccess()?(0,Te.LI)():(0,Te._k)()),newFeatures:"subscription/feed/https://blog.feedly.com/category/features-tutorials/feed/",muteFilter:"filters",trainLeo:"trainLeo",support:streets.hasProAccess()?"support":"premium/proPlus/selector",recentlyRead:"board/content/"+(0,Te.os)(),integrations:"account/integrations"},userId:null,userPicture:null,userProvider:null}}componentDidMount(){this.leo=streets.service("leo"),this.profile=streets.service("profile"),this.personalcollections=streets.service("personalcollections"),this.personaltags=streets.service("personaltags"),this.resize=streets.service("resize"),this.tabsManager=streets.service("tabsManager"),this.mobileleftnav.registerObserver(this),this.preferences.registerObserver(this),this.profile.registerObserver(this),this.personalcollections.registerObserver(this),this.personaltags.registerObserver(this),this.resize.registerObserver(this),this._updateIsLeoEnabled(),this._updateUserInfo(),this._updatePersonalFeeds(),this._updatePersonalBoards()}componentWillUnmount(){this.mobileleftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.profile.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.resize.unregisterObserver(this),this.leo=null,this.mobileleftnav=null,this.preferences=null,this.profile=null,this.personalcollections=null,this.personaltags=null,this.resize=null,this.tabsManager=null}askConfirmDrop(e,t){return this._onOpenConfirmDropDrawer(e,t),new Promise((e=>{this._resolveDrop=e}))}onCollectionDragEnd(){this._personalCollectionsRef.current.onDragEnd(),this._teamCollectionsRef.current.onDragEnd()}onDisplayOrientationChanged(){this.setState({isInset:window.SAFE_AREA_INSET_LEFT>0})}onProfileChanged(){this._updateUserInfo(),this._updateIsLeoEnabled()}onPreferenceChanged(e){ps[e]&&this.setState({preferences:this.preferences.getPreferences(Object.values(ps))})}onLeftnavEditModeChanged(e){this.setState({isEditing:e})}onTagsChanged(){this._updatePersonalBoards()}onCollectionsChanged(){this._updatePersonalFeeds()}render(){const{hasPersonalFeeds:e,hasPersonalBoards:t,isAndroidDevice:s,isCannotDropDrawerOpen:n,isChooseThemeDrawerOpen:i,isConfirmDropDrawerOpen:a,isEditing:o,isInset:l,isUserLoggedIn:c,preferences:d}=this.state,{loading:h}=this.props,u=B()("MobileLeftnavList",{"MobileLeftnavList--android":s,"MobileLeftnavList--inset":l});if(!c)return r.createElement("div",{className:u},r.createElement(an,{type:"loggedOut"}));if(h)return r.createElement("div",{className:u},r.createElement(Ne.g,{className:"m-x-3 m-t-3",details:"Feedly"}));if(!e&&!t&&!streets.hasBusinessAccess())return r.createElement("div",{className:u},r.createElement(an,{type:"noContent"}));const p="team-first"===d.teamVsPersonal;return r.createElement("div",{className:u},r.createElement("div",{className:"MobileLeftnavList__edit"},r.createElement(H.zx,{className:"m-r-0 p-r-1",importance:"tertiary",label:o?"Done":"Edit",onClick:this._onToggleEdit})),this._renderTopLinks(),p?r.createElement(r.Fragment,null,r.createElement(Ms,null),r.createElement(Gs,{ref:this._teamCollectionsRef}),r.createElement(Bs,null),r.createElement(Vs,{ref:this._personalCollectionsRef}),r.createElement(Hs,null)):r.createElement(r.Fragment,null,r.createElement(Ms,null),r.createElement(Vs,{ref:this._personalCollectionsRef}),r.createElement(Hs,null),r.createElement(Gs,{ref:this._teamCollectionsRef}),r.createElement(Bs,null)),this._renderAddContentButton(),this._renderBottomLinks(),this._renderProfile(),this._renderVersion(),n&&this._renderCannotDropDrawer(),a&&this._renderConfirmDropDrawer(),i&&this._renderChooseThemeDrawer())}_renderAddContentButton(){const{isEditing:e}=this.state;return r.createElement("div",{className:"MobileLeftnavList__add-content"},r.createElement(H.zx,{className:"block",importance:"secondary",onClick:e?null:this._onAddContentClick},"Add Content"))}_renderTopLinks(){const{isLeoEnabled:e,linkUris:t}=this.state;return r.createElement("div",null,r.createElement(vs,{className:"MobileLeftnavListRow--no-border",iconComponent:ts.Z,linkUri:t.today,label:"Today"}),r.createElement(vs,{iconComponent:ss.Z,linkUri:t.readLater,label:"Read Later"}),streets.hasProAccess()&&r.createElement(vs,{iconComponent:ns,linkUri:t.annotated,label:"Annotated"}),e&&r.createElement(vs,{iconComponent:is,linkUri:t.trainLeo,label:"Train Leo"}),r.createElement(vs,{iconComponent:rs.Z,linkUri:t.support,label:streets.hasProAccess()?"Premium":"Upgrade"}))}_renderBottomLinks(){const{linkUris:e,preferences:{integrationsLink:t}}=this.state,{isNightTheme:s,isAutoTheme:n}=this._getCurrentThemeInfo();let i=Jt;return s?i=Xt:n&&(i=es),r.createElement("div",{className:"m-t-1"},r.createElement(vs,{className:"MobileLeftnavListRow--no-border",iconComponent:as,linkUri:e.recentlyRead,label:"Recently Read"}),r.createElement(vs,{iconComponent:i,onClick:this._onOpenChooseThemeDrawer,label:"Choose Theme",disableHighlight:!0}),"yes"===t&&r.createElement(vs,{iconComponent:os,linkUri:e.integrations,label:"Integrations"}),r.createElement(Kt,{onClick:this._onNewFeaturesClick}),r.createElement(vs,{iconComponent:ls,onClick:this._onSettingsClick,label:"Settings"}),r.createElement(vs,{iconComponent:cs,onClick:this._onLogoutClick,label:"Logout"}))}_renderProfile(){const{userId:e,userPicture:t,userProvider:s}=this.state;return r.createElement("div",{className:"MobileLeftnavList__profile"},r.createElement(F.q,{className:"MobileLeftnavList__profile-photo",iconSize:28,url:t}),r.createElement("div",{className:"MobileLeftnavList__profile-info"},r.createElement("div",null,e),r.createElement("div",null,s)))}_renderCannotDropDrawer(){const{cannotDropDrawerBody:e}=this.state;return r.createElement(hs.dy,{className:"small",onClose:this._onCloseCannotDropDrawer},r.createElement(b.Rr,null,e),r.createElement(H.zx,{className:"block m-t-1",label:"Ok",onClick:this._onCloseCannotDropDrawer}))}_renderConfirmDropDrawer(){const{confirmDropDrawerHeader:e,confirmDropDrawerBody:t}=this.state;return r.createElement(hs.dy,{className:"small",onClose:this._onCancelDrop},r.createElement(b.Rr,null,e),t&&t.length>0&&r.createElement(us.x,{color:"secondary",size:"small"},t),r.createElement(H.zx,{className:"block",label:"Confirm",onClick:this._onConfirmDrop}),r.createElement(H.zx,{className:"block m-t-h",label:"Cancel",onClick:this._onCancelDrop,importance:"secondary"}))}_renderVersion(){const{feedlyApplicationVersion:e}=this.state;return r.createElement("div",{className:"MobileLeftnavList__version"},e)}_getCurrentThemeInfo(){const{preferences:e}=this.state,t=e[y.ZW];return{isAutoTheme:t===y.z0.auto,isNightTheme:t===y.z0.night,isDayTheme:t===y.z0.day}}_onCloseConfirmDropDrawer(){this.setState({isConfirmDropDrawerOpen:!1,confirmDropDrawerBody:"",confirmDropDrawerHeader:""})}async _updateIsLeoEnabled(){const e=await this.leo.askIsLeoEnabled();e!==this.state.isLeoEnabled&&this.setState({isLeoEnabled:e})}_updateUserInfo(){const e=this.profile.getUserInfo(),t=devhd.utils.SessionUtils.load(),s=!!streets.getUserId();let n,i,r;if(s){switch(e&&e.picture?n=e.picture:e&&e.cover&&e.cover.picture&&(n=e.cover.picture),t.provider){case"Twitter":r="@"+e.twitter,i="Logged in via Twitter";break;case"Facebook":r=e.email||e.fullName,i="Logged in via Facebook";break;case"Evernote":r=e.email||e.fullName,i="Logged in via Evernote";break;case"WindowsLive":r=e.email||e.fullName,i="Logged in via Microsoft";break;case"Feedly":case"FeedlyLogin":r=e.email||e.fullName,i="Logged in via Feedly";break;case"AppleSignIn":r=e.email||e.fullName,i="Logged in via Apple";break;case"Google":case"GooglePlus":r=e.email||e.fullName,i="Logged in via Google";break;case"SAML":r=e.email||e.fullName,i=null!=e.enterpriseName?"Team "+(e.enterpriseDescription||e.enterpriseName):"Logged in via SAML";break;default:r=e.email||e.fullName,i=null!=e.enterpriseName?"Team "+(e.enterpriseDescription||e.enterpriseName):"Logged in via "+(t.provider||"Unknown")}this.setState({userId:r,userProvider:i,userPicture:n,isUserLoggedIn:s})}else this.setState({userId:r,userProvider:i,userPicture:n,isUserLoggedIn:s})}async _updatePersonalFeeds(){const e=await this.personalcollections.askListRankedCollections();this.setState({hasPersonalFeeds:!!e.length})}async _updatePersonalBoards(){const e=await this.personaltags.askListRankedTags(),t=(0,Te.uf)(),s=e.findIndex((({id:e})=>e===t));s>-1&&e.splice(s,1),this.setState({hasPersonalBoards:!!e.length})}}ms.propTypes={loading:u().bool.isRequired};const gs=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M14 12.25a1.75 1.75 0 100 3.5 1.75 1.75 0 000-3.5zm0 1.5a.25.25 0 110 .5.25.25 0 010-.5zM21 12.25a1.75 1.75 0 100 3.5 1.75 1.75 0 000-3.5zm0 1.5a.25.25 0 110 .5.25.25 0 010-.5zM7 12.25a1.75 1.75 0 100 3.5 1.75 1.75 0 000-3.5zm0 1.5a.25.25 0 110 .5.25.25 0 010-.5z"})))}));const fs=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M19.714 11.593a.75.75 0 01.102 1.493l-.102.007H4.286a.75.75 0 01-.102-1.493l.102-.007h15.428zM19.714 7.821a.75.75 0 01.102 1.494l-.102.006H4.286a.75.75 0 01-.102-1.493l.102-.007h15.428zM19.714 15.364a.75.75 0 01.102 1.493l-.102.007H4.286a.75.75 0 01-.102-1.493l.102-.007h15.428z"})))}));var ys=s(20785);class vs extends r.PureComponent{constructor(e){super(e),this._onError=()=>{const{errored:e,erroredUrl:t}=this.state;!e&&t&&this.setState({iconUrl:t,errored:!0})},this._onIconClick=e=>{const{onIconClick:t}=this.props;t?(e.stopPropagation(),t()):this._onClick()},this._onClick=()=>{const{linkUri:e,onClick:t,disableHighlight:s}=this.props;s||this.setState({isHighlighted:!0}),e?(this.tabsManager.askOpenPage(e),this.mobileleftnav.close()):t&&t()},this.mobileleftnav=streets.service("mobileleftnav");let t=e.faviconUrl,s=e.fallbackIconUrl;!t&&s&&(t=s,s=null),this.state={iconUrl:t,erroredUrl:s,errored:!1,isEditing:this.mobileleftnav.isEditModeOn()}}componentDidMount(){this.tabsManager=streets.service("tabsManager"),this.mobileleftnav.registerObserver(this)}componentWillUnmount(){this.mobileleftnav.unregisterObserver(this),this.mobileleftnav=null,this.tabsManager=null}onOpenMobileLeftNav(){this.setState({isHighlighted:!1})}onLeftnavEditModeChanged(e){this.setState({isEditing:e})}render(){const{isEditing:e,isHighlighted:t}=this.state,{onMoreClick:s,isEditable:n}=this.props,i=r.createElement("div",{className:B()("MobileLeftnavListRowContainer",{"MobileLeftnavListRowContainer--highlighted":t})},this._renderItem());return n&&!e?r.createElement(ys.U,{onDeepPress:s,onClick:this._onClick},i):i}_renderItem(){const{isEditing:e,iconUrl:t}=this.state,{children:s,className:n,hasNotification:i,iconComponent:a,isCapped:o,isEditable:l,isDraggable:c,label:d,onMoreClick:h,unreadCount:u}=this.props;return r.createElement("div",{className:B()("MobileLeftnavListRow",n),onClick:l&&e?null:this._onClick},a&&r.createElement("div",{className:B()("MobileLeftnavListRow__icon-container",{"MobileLeftnavListRow__icon--notification":i})},r.createElement(a,{className:"MobileLeftnavListRow__icon",importance:"tertiary",onClick:this._onIconClick})),t&&r.createElement("img",{className:"MobileLeftnavListRow__favicon",src:t,onError:this._onError,alt:""}),r.createElement("span",{className:"MobileLeftnavListRow__label"},s||d),u>0&&(!e||!l)&&r.createElement("div",{className:"MobileLeftnavListRow__count"},(0,Vt.XZ)(u,o)),e&&l&&r.createElement(r.Fragment,null,r.createElement("div",{className:"MobileLeftnavListRow__more"},r.createElement(gs,{importance:"tertiary",onClick:e=>{e.stopPropagation(),h()}})),r.createElement("div",{className:"MobileLeftnavListRow__handle"},c&&r.createElement(fs,null))))}}vs.propTypes={className:u().string,children:u().node,disableHighlight:u().bool,faviconUrl:u().string,fallbackIconUrl:u().string,hasNotification:u().bool,iconComponent:u().elementType,isCapped:u().bool,isEditable:u().bool,isDraggable:u().bool,linkUri:u().string,label:u().string,onClick:u().func,onMoreClick:u().func,onIconClick:u().func,unreadCount:u().number},vs.defaultProps={className:"",children:null,disableHighlight:!1,faviconUrl:"",fallbackIconUrl:null,hasNotification:!1,iconComponent:void 0,isCapped:!1,isEditable:!1,isDraggable:!1,linkUri:null,label:"",onClick:()=>{},onIconClick:null,onMoreClick:()=>{},unreadCount:null};var bs=s(11350);const Es=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M7.613 3.755a.75.75 0 01.976-.072l.084.072 7.714 7.715a.75.75 0 01.073.976l-.073.084-7.714 7.715a.75.75 0 01-1.133-.977l.073-.084L14.796 12 7.613 4.816a.75.75 0 01-.073-.977l.073-.084z",fill:"currentColor",fillRule:"nonzero"}))})),Cs={emptyCategories:"emptyCategories"};class ws extends r.PureComponent{static getDerivedStateFromProps(e,t){const{feedIdMovingFromCollection:s,feedMovingToCollection:n}=t,i=n?n.id:null;return i&&e.feeds.find((({id:e})=>e===i))?{feedMovingToCollection:null}:s&&!e.feeds.find((({id:e})=>e===s))?{feedIdMovingFromCollection:null}:null}constructor(e){super(e),this._renderFeed=(e,t)=>{const{id:s,onSourceMoreClick:n}=this.props,{feedMovingToCollection:i,isEditing:a}=this.state;let o=!1;return a?i&&i.id===e.id&&(o=!0):o=!0,r.createElement(De._l,{draggableId:JSON.stringify({feedId:e.id,collectionId:s}),index:t,key:e.id,title:e.title,isDragDisabled:o},(t=>r.createElement("div",Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),r.createElement(vs,{className:"MobileLeftnavListRow--child",faviconUrl:e.iconUrl||e.favicon,fallbackIconUrl:e.fallbackIconUrl,isCapped:e.isCapped,isEditable:!0,isDraggable:!0,key:e.id,linkUri:e.uri,label:e.title,onMoreClick:()=>{n(e)},unreadCount:e.unreadCount}))))},this._sortFeeds=()=>{let{feeds:e}=this.props;const{feedIdMovingFromCollection:t,feedMovingToCollection:s}=this.state;return s&&(e=[...e,s]),e=(0,ft.yR)(e),e.reduce(((e,s)=>{if(s.id!==t){(s.unreadCount>0?e.unreadFeeds:e.emptyFeeds).push(s)}return e}),{emptyFeeds:[],unreadFeeds:[]})},this._filterCollection=e=>{const{preferences:t}=this.state;return!("show"!==t.emptyCategories&&!e)},this._hasCappedFeed=()=>{const{feeds:e}=this.props;return e.some((e=>e.isCapped))},this._onShowEmptyFeedListClick=()=>{this.setState({showEmptyFeedList:!0})},this._onIconClick=()=>{const{expanded:e}=this.state,{id:t}=this.props;this.preferences.setPreference(t,e?"hide":"show")},this.preferences=streets.service("preferences"),this.mobileleftnav=streets.service("mobileleftnav"),this.state={expanded:"show"===this.preferences.getPreference(e.id),feedIdMovingFromCollection:null,feedMovingToCollection:null,isEditing:this.mobileleftnav.isEditModeOn(),isAll:e.id===(0,Te.N1)()||e.id===(0,Te.sX)(),preferences:this.preferences.getPreferences([Cs.emptyCategories]),showEmptyFeedList:!1}}componentDidMount(){this.collections=streets.service("collections"),this.feeds=streets.service("feeds"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.collections.registerObserver(this),this.mobileleftnav.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this)}componentWillUnmount(){this.collections.unregisterObserver(this),this.mobileleftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.reader.unregisterObserver(this),this.collections=null,this.feeds=null,this.mobileleftnav=null,this.preferences=null,this.reader=null,this.signs=null}onPreferenceChanged(e){const{id:t}=this.props;(Cs[e]||e===t)&&this.setState({expanded:"show"===this.preferences.getPreference(t),preferences:this.preferences.getPreferences([Cs.emptyCategories])})}onShowFeedDragDropPlaceholders(e,t,s){const{id:n}=this.props;s===n?this.setState({feedMovingToCollection:e}):t===n&&this.setState({feedIdMovingFromCollection:e.id})}onHideFeedDragDropPlaceholders(e,t,s){const{id:n}=this.props;s===n?this.setState({feedMovingToCollection:null}):t===n&&this.setState({feedIdMovingFromCollection:null})}onLeftnavEditModeChanged(e){this.setState({isEditing:e})}render(){const{draggingCollectionId:e,isPlaceholder:t,id:s,label:n,onCollectionMoreClick:i,unreadCount:a,uri:o}=this.props;if(!this._filterCollection(a))return null;let{expanded:l}=this.state;return(t||e===s)&&(l=!1),r.createElement(De.bK,{droppableId:s,type:Ae.feeds},(e=>r.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),r.createElement(vs,{className:l?"MobileLeftnavListRow--expanded":"",isCapped:this._hasCappedFeed(),iconComponent:s===(0,Te.Mc)()?bs.Z:Es,isEditable:!0,isDraggable:(0,Te.N1)()!==s&&(0,Te.Mc)()!==s,linkUri:o,label:n,onIconClick:this._onIconClick,onMoreClick:i,unreadCount:a}),l&&this._renderFeedList(e))))}_renderFeedList(e){const{showEmptyFeedList:t,isEditing:s}=this.state,{emptyFeeds:n,unreadFeeds:i}=this._sortFeeds();return t||0===i.length||s?r.createElement(r.Fragment,null,[...i,...n].map(((e,t)=>this._renderFeed(e,t))),e.placeholder):r.createElement(r.Fragment,null,i.map(((e,t)=>this._renderFeed(e,t))),e.placeholder,n.length>0&&r.createElement(vs,{className:"MobileLeftnavListRow--child",onClick:this._onShowEmptyFeedListClick,label:ht()("more source",n.length,!0)}))}}ws.propTypes={id:u().string,feeds:u().arrayOf(u().object),label:u().string,onCollectionMoreClick:u().func,onSourceMoreClick:u().func,unreadCount:u().number,uri:u().string},ws.defaultProps={id:null,feeds:[],label:null,onCollectionMoreClick:()=>{},onSourceMoreClick:()=>{},unreadCount:null,uri:null};var ks=s(3453);const _s={showPrioritiesInNavigationPref:"showPrioritiesInNavigationPref",showEmptyPrioritiesPref:"showEmptyPrioritiesPref"};class Ms extends r.PureComponent{constructor(e){super(e),this.onPriorityChanged=()=>{this._updatePriorities()},this.onPrioritiesChanged=()=>{this._updatePriorities()},this.onMovePriority=(e,t,s)=>{const{priorityOrder:n}=this.state,i=[...n];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(y.As.priorities,JSON.stringify(i))},this.onPrioritiesOrderChanged=()=>{this._updatePriorities()},this._onOpenHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!0})},this._onCloseHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!1})},this._onOpenPriorityDrawer=e=>{this.setState({isPriorityDrawerOpen:!0,selectedPriority:e})},this._onClosePriorityDrawer=()=>{this.setState({isPriorityDrawerOpen:!1})},this._onOpenConfirmDeleteDrawer=()=>{this.setState({isConfirmDeleteDrawerOpen:!0,isPriorityDrawerOpen:!1})},this._onCloseConfirmDeleteDrawer=()=>{this.setState({isConfirmDeleteDrawerOpen:!1})},this._onDeleteConfirmClick=async()=>{const{selectedPriority:{id:e,label:t}}=this.state,{isEnterprise:s}=(0,Te.Yg)(e),n=s?this.enterprisepriorities:this.personalpriorities;try{await n.askDelete(e),this.notifications.showMessage(`${t} has been deleted.`)}catch(i){this.notifications.showMessage(`There was an error trying to delete ${t}.`)}this._onCloseConfirmDeleteDrawer(),this.setState({selectedPriority:null})},this.preferences=streets.service("preferences"),this.mobileleftnav=streets.service("mobileleftnav"),this.state={countByLabel:{},isEditing:this.mobileleftnav.isEditModeOn(),isLeoEnabled:!1,isConfirmDeleteDrawerOpen:!1,isHeaderDrawerOpen:!1,isPriorityDrawerOpen:!1,preferences:this.preferences.getPreferences(Object.values(_s)),priorities:{},priorityOrder:[],selectedPriority:null}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.leo=streets.service("leo"),this.notifications=streets.service("notifications"),this.personalpriorities=streets.service("personalpriorities"),this.priorities=streets.service("priorities"),this.reader=streets.service("reader"),this.tabsManager=streets.service("tabsManager"),this.enterprisepriorities.registerObserver(this),this.mobileleftnav.registerObserver(this),this.personalpriorities.registerObserver(this),this.preferences.registerObserver(this),this.priorities.registerObserver(this),this.reader.registerObserver(this),this._updateIsLeoEnabled(),this._updatePriorities()}componentWillUnmount(){this.enterprisepriorities.unregisterObserver(this),this.mobileleftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.priorities.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.enterprisepriorities=null,this.leo=null,this.mobileleftnav=null,this.notifications=null,this.priorities=null,this.personalpriorities=null,this.preferences=null,this.reader=null,this.tabsManager=null}onPreferenceChanged(e){_s[e]&&this._updatePreferences()}onStreamUnreadCountChanged(e){const{priorities:t}=this.state;t[e]&&this._updatePriorities()}onLeftnavEditModeChanged(e){this.setState({isEditing:e})}render(){const{isConfirmDeleteDrawerOpen:e,isHeaderDrawerOpen:t,isPriorityDrawerOpen:s,preferences:{showEmptyPrioritiesPref:n,showPrioritiesInNavigationPref:i},selectedPriority:a}=this.state,o=a&&(0,Te.Yg)(a.id).isEnterprise;return r.createElement(r.Fragment,null,e&&r.createElement(hs.dR,{isPriority:!0,leoTopicToDelete:a,onCloseDeleteDrawer:this._onCloseConfirmDeleteDrawer,onDeleteConfirmClick:this._onDeleteConfirmClick}),t&&r.createElement(Ls,{showEmptyPriorities:n,showPrioritiesInNavigation:i,onClose:this._onCloseHeaderDrawer}),s&&r.createElement(Fs,{onClose:this._onClosePriorityDrawer,onDeleteClick:this._onOpenConfirmDeleteDrawer,priority:a,team:o}),this._renderPriorityList())}_renderPriorityList(){const{isEditing:e,isLeoEnabled:t,priorities:s,priorityOrder:n}=this.state;return 0!==n.length&&t?r.createElement(r.Fragment,null,r.createElement("div",{className:"MobileLeftnavList__heading",onClick:this._onOpenHeaderDrawer},"Leo Priorities"),r.createElement(De.bK,{droppableId:ze.priorities,type:Ae.priorities},(t=>r.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps),n.map(((t,n)=>{const i=s[t];return r.createElement(De._l,{draggableId:t,index:n,isDragDisabled:!e,key:t},(e=>r.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),this._filterPriority(i)&&this._renderPriority(i,n))))})),t.placeholder)))):null}_renderPriority(e,t){const{countByLabel:s}=this.state,{label:n,layers:i,streamLabel:a}=e;let o,l;const c=s[n]>1?` in ${a}`:"";if((0,je.kk)(e)){const e=(0,Ue.FW)(i[0])===Be.ur.likeBoard?"like ":"topic ";o=r.createElement(r.Fragment,null,r.createElement("span",{className:"MobileLeftnavListRow__meta"},e),n),l=`${e}: ${n}${c}`}else o=n,l=n;return r.createElement(vs,{className:0===t?"MobileLeftnavListRow--no-border":"",key:e.id,isEditable:!0,isDraggable:!0,iconComponent:ks.Z,linkUri:e.uri,label:l,onMoreClick:()=>{this._onOpenPriorityDrawer(e)},unreadCount:e.unreadCount},o,c&&r.createElement("span",{className:"MobileLeftnavListRow__meta"},c))}_filterPriority(e){const{preferences:{showEmptyPrioritiesPref:t}}=this.state;return t===y.ZD.on||e.unreadCount||e.trainingStatus===Be.Py.updating}async _updatePriorities(){const{preferences:{showPrioritiesInNavigationPref:e}}=this.state;if(e===y.Zu.none)return void this.setState({priorityOrder:[]});const t=await this.priorities.askListRankedPriorities(),{priorities:s,countByLabel:n,priorityOrder:i}=t.reduce(((e,t)=>{const{id:s,label:n}=t;return e.priorities[s]=t,e.countByLabel[n]?e.countByLabel[n]+=1:e.countByLabel[n]=1,e.priorityOrder.push(s),e}),{countByLabel:{},priorities:{},priorityOrder:[]});this.setState({countByLabel:n,priorities:s,priorityOrder:i})}_updatePreferences(){this.setState({preferences:this.preferences.getPreferences(Object.values(_s))},this._updatePriorities)}async _updateIsLeoEnabled(){const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e})}}const Ss=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12.006 3.61a.75.75 0 01.743.648l.007.102v15.3a.75.75 0 01-1.493.1l-.007-.1V4.36a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M19.64 11.273a.75.75 0 01.101 1.493l-.102.007H4.378a.75.75 0 01-.102-1.493l.102-.007h15.261z"})))}));const Ts=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M11.486 3.021a8.462 8.462 0 017.492 4.524.75.75 0 11-1.327.699 6.964 6.964 0 10-8.476 9.814.75.75 0 11-.497 1.415A8.467 8.467 0 0111.486 3.02z"}),r.createElement("path",{d:"M18.987 4.104a.75.75 0 011.473.263l-.018.1-1.029 4.115a.75.75 0 01-1.473-.264l.018-.1 1.029-4.114z"}),r.createElement("path",{d:"M13.844 7.19a.75.75 0 01.809-.564l.1.018 4.115 1.028a.75.75 0 01-.264 1.474l-.1-.018-4.114-1.029a.75.75 0 01-.546-.91zM15.6 10.221a5.379 5.379 0 100 10.758 5.379 5.379 0 000-10.758zm0 1.5a3.879 3.879 0 110 7.757 3.879 3.879 0 010-7.757z"}),r.createElement("path",{d:"M15.123 17.868c.311 0 .59-.07.838-.213.207-.121.39-.268.548-.44.008.1.019.189.032.267.014.077.038.16.073.25h1.249v-.17a.412.412 0 01-.17-.133c-.037-.054-.06-.156-.068-.306a19.124 19.124 0 01-.008-.508V14.6c0-.529-.187-.889-.56-1.08-.373-.19-.8-.286-1.281-.286-.74 0-1.26.194-1.564.58-.19.248-.298.563-.322.947h1.108a.838.838 0 01.161-.402c.113-.135.305-.202.576-.202.242 0 .425.034.55.103.125.068.188.193.188.373 0 .147-.082.256-.246.326a1.79 1.79 0 01-.455.1l-.391.049c-.444.056-.78.15-1.008.282-.416.242-.624.633-.624 1.173 0 .416.13.738.388.965.26.227.588.34.986.34zm.338-.834a.614.614 0 01-.397-.13c-.108-.088-.163-.23-.163-.426 0-.22.089-.383.266-.487.105-.062.278-.115.52-.158l.258-.048c.129-.024.23-.05.304-.079.074-.028.147-.065.22-.11v.427c-.008.384-.117.649-.325.794a1.17 1.17 0 01-.683.217z",fillOpacity:.903})))}));const Is=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M4 7.01A3.003 3.003 0 017.01 4h9.98A3.003 3.003 0 0120 7.01v9.98A3.003 3.003 0 0116.99 20H7.01A3.003 3.003 0 014 16.99V7.01z",fill:"currentColor",fillRule:"nonzero"}),r.createElement("path",{fill:"#FFF",d:"M15.773 7.562L10.47 14.4l-2.545-1.77L7 13.812l3.728 2.693 6.047-7.938z"})))}));const Ns=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("rect",{stroke:"currentColor",x:4,y:4,width:16,height:16,rx:3,fill:"none",fillRule:"evenodd"}))}));function Ps({checked:e}){return e?r.createElement(Is,{color:"accent"}):r.createElement(Ns,{importance:"tertiary"})}Ps.propTypes={checked:u().bool},Ps.defaultProps={checked:!1};class Ls extends r.PureComponent{constructor(...e){super(...e),this._onAlphabetizePriorities=()=>{try{this.preferences.setPreference(y.As.priorities,"[]")}catch(e){this.notifications.showMessage("Failed to update preference: Reset Feed Sorting")}},this._onCreateClick=()=>{const{onClose:e}=this.props;this.tabsManager.askOpenNewPage("selectCollection",{props:{onCollectionSelect:this._onCollectionSelect,showTeamCollections:streets.hasAdminBusinessAccess(),showPersonalCollections:!0,hasAllOption:!0}}),e(),this.mobileleftnav.close()},this._onCollectionSelect=async({streamId:e,label:t})=>{await streets.service("tabsManager").askBack(),streets.service("tabsManager").askOpenNewPage("priorityForm",{helperPage:!0,props:{initialPriority:{streamIds:[e],streamLabel:t}}})},this._onShowEmptyChange=()=>{const{showEmptyPriorities:e,onClose:t}=this.props;this.preferences.setPreference(y.Ic,e===y.ZD.on?y.ZD.off:y.ZD.on),t()},this._onShowInNavigationChange=e=>{this.preferences.setPreference(y.sf,e)}}componentDidMount(){this.preferences=streets.service("preferences"),this.tabsManager=streets.service("tabsManager"),this.mobileleftnav=streets.service("mobileleftnav"),this.notifications=streets.service("notifications")}componentWillUnmount(){this.preferences=null,this.tabsManager=null,this.mobileleftnav=null,this.notifications=null}render(){const{showEmptyPriorities:e,showPrioritiesInNavigation:t,onClose:s}=this.props;return r.createElement(hs.dy,{onClose:s},r.createElement(b.kR,{onClick:this._onCreateClick},r.createElement(Ss,{importance:"tertiary"}),"New Priority"),r.createElement(b.kR,{onClick:this._onAlphabetizePriorities},r.createElement(Ts,{importance:"tertiary"}),"Reset to Alphabetical"),r.createElement(b.kR,{onClick:this._onShowEmptyChange},r.createElement(Ps,{checked:e===y.ZD.on}),"Show Empty Priorities"),r.createElement(b.Rr,null,"Visible Priorities"),r.createElement(Ut.kH,{name:"show",onChange:this._onShowInNavigationChange,selectedValue:t},r.createElement(Ut.mI,{value:y.Zu.all},"Show All Priorities"),r.createElement(Ut.mI,{value:y.Zu.globalOnly},"Global Priorities Only"),r.createElement(Ut.mI,{value:y.Zu.createdByUserOnly},"Priorities I Created Only"),r.createElement(Ut.mI,{value:y.Zu.none},"Hide All Priorities")))}}Ls.propTypes={onClose:u().func.isRequired,showEmptyPriorities:u().oneOf(Object.values(y.ZD)).isRequired,showPrioritiesInNavigation:u().oneOf(Object.values(y.Zu)).isRequired};var xs=s(39895);const Ds=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M15.429 2.679a.75.75 0 010 1.5c-1.48 0-2.679 1.199-2.679 2.678 0 1-1.5 1-1.5 0 0-1.48-1.2-2.678-2.679-2.678a.75.75 0 010-1.5c1.399 0 2.637.687 3.396 1.742l.032.048.034-.048a4.174 4.174 0 013.187-1.737l.209-.005zM11.258 17.023c.11-.84 1.375-.84 1.484 0l.007.12.006.17a2.68 2.68 0 002.504 2.503l.17.005a.75.75 0 010 1.5 4.173 4.173 0 01-3.396-1.742L12 19.531l-.032.048a4.174 4.174 0 01-3.187 1.737l-.209.005a.75.75 0 110-1.5 2.679 2.679 0 002.674-2.509l.005-.17.008-.119z"}),r.createElement("path",{d:"M12 5.25a.75.75 0 01.743.648L12.75 6v12a.75.75 0 01-1.493.102L11.25 18V6a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M15.429 14.679a.75.75 0 01.101 1.493l-.101.007H8.57a.75.75 0 01-.101-1.494l.101-.006h6.858z"})))}));var Os=s(38676),As=s(17696),zs=s(55359),Rs=s(34238);class Fs extends r.PureComponent{constructor(...e){super(...e),this.state={isAdmin:streets.hasAdminBusinessAccess()},this._onMarkAsRead=async()=>{const{onClose:e,priority:t}=this.props;try{await this.reader.askMarkStreamAsRead(t.id,{}),this.notifications.showMessage("Marking as read...")}catch(s){this.notifications.showError(s)}e()},this._onActiveChange=async e=>{const{onClose:t,priority:s}=this.props,{isEnterprise:n}=(0,Te.Yg)(s.id),i=n?this.enterprisepriorities:this.personalpriorities;try{await i.askSave({...s,active:e}),this.notifications.showMessage(`${s.label} has been ${e?"resumed":"paused"}.`)}catch(r){this._onUpdateError()}t()},this._onRefine=()=>{const{priority:e,onClose:t}=this.props;this.tabsManager.askOpenNewPage("priorityForm",{helperPage:!0,props:{initialPriority:e,isUpdating:!0}}),this.mobileleftnav.close(),t()},this._onUpdateError=()=>{const{priority:e}=this.props;this.notifications.showMessage(`There was an error when trying to update ${e.label}.`)}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.personalpriorities=streets.service("personalpriorities"),this.mobileleftnav=streets.service("mobileleftnav"),this.notifications=streets.service("notifications"),this.reader=streets.service("reader"),this.tabsManager=streets.service("tabsManager")}componentWillUnmount(){this.enterprisepriorities=null,this.personalpriorities=null,this.mobileleftnav=null,this.notifications=null,this.reader=null,this.tabsManager=null}render(){const{isAdmin:e}=this.state,{onDeleteClick:t,priority:s,onClose:n,team:i}=this.props;return r.createElement(hs.dy,{onClose:n},r.createElement(b.Rr,null,s.label),r.createElement(b.kR,{onClick:this._onMarkAsRead},r.createElement(xs.Z,{importance:"tertiary"}),"Mark as Read"),(!i||e)&&r.createElement(r.Fragment,null,r.createElement(b.kR,{onClick:this._onRefine},r.createElement(Ds,{importance:"tertiary"}),"Rename"),r.createElement(b.kR,{onClick:this._onRefine},r.createElement(Os.Z,{importance:"tertiary"}),"Refine"),s.active?r.createElement(b.kR,{onClick:()=>{this._onActiveChange(!1)}},r.createElement(As.Z,{importance:"tertiary"}),"Pause"):r.createElement(b.kR,{onClick:()=>{this._onActiveChange(!0)}},r.createElement(zs.Z,{importance:"tertiary"}),"Resume"),r.createElement(b.kR,{danger:!0,onClick:t},r.createElement(Rs.Z,{color:"danger"}),"Delete")))}}Fs.propTypes={onClose:u().func.isRequired,onDeleteClick:u().func.isRequired,priority:u().shape({active:u().bool,id:u().string,label:u().string}).isRequired,team:u().bool},Fs.defaultProps={team:!1};var js=s(65608);const Us=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M19.714 4.393a.75.75 0 01.102 1.493l-.102.007H4.286A.75.75 0 014.184 4.4l.102-.007h15.428zM19.714 11.25a.75.75 0 01.102 1.493l-.102.007H4.286a.75.75 0 01-.102-1.493l.102-.007h15.428zM19.714 18.107a.75.75 0 01.102 1.493l-.102.007H4.286a.75.75 0 01-.102-1.493l.102-.007h15.428z"})))}));class Bs extends r.PureComponent{constructor(e){super(e),this.onBoardsOrderChanged=()=>{this._updateTeamBoards()},this.onMoveTeamBoard=(e,t,s)=>{const{teamBoards:n}=this.state,i=[...n.map((e=>e.id))];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(y.As.teamTags,JSON.stringify(i))},this.onBoardMovedToTeam=(e,t)=>{const{teamBoards:s}=this.state,n=[...s.map((e=>e.id))];n.splice(t,0,e.id),this.preferences.setPreference(y.As.teamTags,JSON.stringify(n))},this._renderBoard=(e,t)=>{const{isEditing:s}=this.state,n=e.id;return r.createElement(De._l,{draggableId:n,index:t,isDragDisabled:!s,key:e.id},(t=>r.createElement("div",Object.assign({id:n,ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.createElement(vs,{isEditable:!0,isDraggable:!0,iconComponent:js.Z,key:n,label:e.label,linkUri:e.uri,onMoreClick:()=>{this._onOpenBoardDrawer(e)},unreadCount:e.unreadCount}))))},this._renderUnfollowConfirmDrawer=()=>{const{boardSelected:{label:e}}=this.state;return r.createElement(hs.dy,{onClose:this._onCloseUnfollowConfirmDrawer},r.createElement(b.Rr,null,`Unfollow ${e} board`),r.createElement(us.x,{color:"secondary",size:"small"},"Are you sure you want to unfollow this board?"),r.createElement(H.zx,{color:"danger",className:"block",label:"Unfollow",onClick:this._onUnfollowConfirmClick}),r.createElement(H.zx,{className:"block m-t-h",importance:"secondary",label:"No, keep following this board",onClick:this._onCloseUnfollowConfirmDrawer}))},this._renderArchiveConfirmDrawer=()=>{const{boardSelected:{label:e,users:t}}=this.state,s=1===t.length&&t[0].userId===streets.getUserId();return r.createElement(hs.dy,{onClose:this._onCloseArchiveConfirmDrawer},r.createElement(b.Rr,null,`Archive ${e} board`),r.createElement(us.x,{color:"secondary",size:"small"},s?"Are you sure you want to archive this team board?":`Are you sure you want to archive this team board? This will remove the board from the Feedly of ${ht()("teammate",t.length-1,!0)} who follow${t.length-1==1?"s":""} it`),r.createElement(H.zx,{color:"danger",className:"block",label:"Archive",onClick:this._onArchiveConfirmClick}),r.createElement(H.zx,{className:"block m-t-h",importance:"secondary",label:"No, keep this board",onClick:this._onCloseArchiveConfirmDrawer}))},this._onMoreClick=()=>{this.tabsManager.askOpenNewPage("discoverBoards"),this.mobileleftnav.close()},this._onOpenBoardDrawer=e=>{this.setState({boardSelected:e,isBoardDrawerOpen:!0})},this._onCloseBoardDrawer=()=>{this.setState({isBoardDrawerOpen:!1})},this._onOpenHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!0})},this._onCloseHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!1})},this._onOpenArchiveConfirmDrawer=()=>{this.setState({isArchiveConfirmDrawerOpen:!0,isBoardDrawerOpen:!1})},this._onCloseArchiveConfirmDrawer=()=>{this.setState({isArchiveConfirmDrawerOpen:!1})},this._onOpenUnfollowConfirmDrawer=()=>{this.setState({isUnfollowConfirmDrawerOpen:!0,isBoardDrawerOpen:!1})},this._onCloseUnfollowConfirmDrawer=()=>{this.setState({isUnfollowConfirmDrawerOpen:!1})},this._onArchiveConfirmClick=async()=>{const{boardSelected:{id:e,label:t}}=this.state;this._onCloseArchiveConfirmDrawer();try{await this.enterprisetags.askArchiveTag(e),this.notifications.showMessage(`${t} has been archived.`)}catch(s){this.notifications.showError(`There was an error trying to archive ${t}`)}},this._onUnfollowConfirmClick=async()=>{const{boardSelected:{id:e,label:t}}=this.state;this._onCloseUnfollowConfirmDrawer();try{await this.enterprisetags.askUnsubscribeTag(e),this.notifications.showMessage(`${t} has been unfollowed.`)}catch(s){this.notifications.showError(`There was an error trying to unfollow ${t}`)}},this.preferences=streets.service("preferences"),this.mobileleftnav=streets.service("mobileleftnav"),this.state={allTeamBoard:{},isArchiveConfirmDrawerOpen:!1,isBoardDrawerOpen:!1,isEditing:this.mobileleftnav.isEditModeOn(),isHeaderDrawerOpen:!1,isUnfollowConfirmDrawerOpen:!1,teamBoards:[]}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.notifications=streets.service("notifications"),this.tags=streets.service("tags"),this.tabsManager=streets.service("tabsManager"),this.enterprisetags.registerObserver(this),this.mobileleftnav.registerObserver(this),this.preferences.registerObserver(this),this.tags.registerObserver(this),this._updateTeamBoards()}componentWillUnmount(){this.enterprisetags.unregisterObserver(this),this.mobileleftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.tags.unregisterObserver(this),this.enterprisetags=null,this.mobileleftnav=null,this.notifications=null,this.preferences=null,this.tags=null,this.tabsManager=null}onShowBoardDragDropPlaceholders(e,t,s,n,i){const{teamBoards:r}=this.state;if(s===ze.teamBoards){const t=[...r],s={...e,isPlaceholder:!0};t.splice(i,0,s),this.setState({teamBoards:t})}}onHideBoardDragDropPlaceholders(){this._updateTeamBoards()}onTagsChanged(){this._updateTeamBoards()}onStreamUnreadCountChanged(e){const{allTeamBoard:t,teamBoards:s}=this.state,{isTag:n}=(0,Te.Yg)(e);n&&[t,...s].forEach((t=>{t.streamId===e&&this._updateTeamBoards()}))}onLeftnavEditModeChanged(e){this.setState({isEditing:e})}render(){const{allTeamBoard:e,boardSelected:t,isArchiveConfirmDrawerOpen:s,isBoardDrawerOpen:n,isHeaderDrawerOpen:i,isUnfollowConfirmDrawerOpen:a,teamBoards:o}=this.state;return streets.hasBusinessAccess()?r.createElement(r.Fragment,null,r.createElement("div",{className:"MobileLeftnavList__heading",onClick:this._onOpenHeaderDrawer},"Team Boards"),r.createElement(vs,{className:"MobileLeftnavListRow--no-border",key:e.id,iconComponent:Us,isEditable:!0,label:"All",linkUri:e.uri,onMoreClick:()=>{this._onOpenBoardDrawer(e)},unreadCount:e.unreadCount}),r.createElement(De.bK,{type:Ae.boards,droppableId:ze.teamBoards},(e=>r.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),o.map(this._renderBoard),e.placeholder))),r.createElement(vs,{className:"MobileLeftnavListRow--no-icon",onClick:this._onMoreClick},"More Boards"),n&&r.createElement($s,{board:t,isAll:e.id===t.id,onClose:this._onCloseBoardDrawer,onArchiveClick:this._onOpenArchiveConfirmDrawer,onDeleteClick:this._onOpenUnfollowConfirmDrawer,team:!0}),i&&r.createElement(qs,{onClose:this._onCloseHeaderDrawer,team:!0}),s&&this._renderArchiveConfirmDrawer(),a&&this._renderUnfollowConfirmDrawer()):null}async _updateTeamBoards(){if(!streets.hasBusinessAccess())return void this.setState({allTeamBoard:{},teamBoards:[]});const[e,t]=await Promise.all([this.enterprisetags.askListRankedSubscribedTags(),this.enterprisetags.askLookupTag((0,Te.$n)())]);this.setState({allTeamBoard:t,teamBoards:e})}}class Hs extends r.PureComponent{constructor(e){super(e),this.onMovePersonalBoard=(e,t,s)=>{const{personalBoards:n}=this.state,i=[...n.map((e=>e.id))];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(y.As.personalTags,JSON.stringify(i))},this.onBoardsOrderChanged=()=>{this._updatePersonalBoards()},this._renderBoard=(e,t)=>{const{isEditing:s}=this.state,n=e.id;return r.createElement(De._l,{draggableId:n,index:t,isDragDisabled:!s,key:e.id},(s=>r.createElement("div",Object.assign({id:n,ref:s.innerRef},s.draggableProps,s.dragHandleProps),r.createElement(vs,{className:0===t?"MobileLeftnavListRow--no-border":"",isEditable:!0,isDraggable:!0,iconComponent:js.Z,key:n,label:e.label,linkUri:e.uri,onMoreClick:()=>{this._onOpenBoardDrawer(e)},unreadCount:e.unreadCount}))))},this._renderDeleteConfirmDrawer=()=>{const{boardSelected:{label:e}}=this.state;return r.createElement(hs.dy,{onClose:this._onCloseDeleteConfirmDrawer},r.createElement(b.Rr,null,`Delete ${e} board`),r.createElement(us.x,{color:"secondary",size:"small"},"Are you sure you want to delete this board? This action cannot be undone."),r.createElement(H.zx,{color:"danger",className:"block",label:"Delete",onClick:this._onDeleteConfirmClick}),r.createElement(H.zx,{className:"block m-t-h",importance:"secondary",label:"No, keep this board",onClick:this._onCloseDeleteConfirmDrawer}))},this._onOpenBoardDrawer=e=>{this.setState({boardSelected:e,isBoardDrawerOpen:!0})},this._onCloseBoardDrawer=()=>{this.setState({isBoardDrawerOpen:!1})},this._onOpenHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!0})},this._onCloseHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!1})},this._onOpenDeleteConfirmDrawer=()=>{this.setState({isDeleteConfirmDrawerOpen:!0,isBoardDrawerOpen:!1})},this._onCloseDeleteConfirmDrawer=()=>{this.setState({isDeleteConfirmDrawerOpen:!1})},this._onDeleteConfirmClick=async()=>{const{boardSelected:{id:e,label:t}}=this.state;this._onCloseDeleteConfirmDrawer();try{await this.personaltags.askDeleteTag(e),this.notifications.showMessage(`${t} has been deleted.`)}catch(s){this.notifications.showMessage(`There was an error trying to delete ${t}.`)}},this.preferences=streets.service("preferences"),this.mobileleftnav=streets.service("mobileleftnav"),this.state={isBoardDrawerOpen:!1,isDeleteConfirmDrawerOpen:!1,isEditing:this.mobileleftnav.isEditModeOn(),isHeaderDrawerOpen:!1,personalBoards:[]}}componentDidMount(){this.personaltags=streets.service("personaltags"),this.notifications=streets.service("notifications"),this.tags=streets.service("tags"),this.tabsManager=streets.service("tabsManager"),this.personaltags.registerObserver(this),this.mobileleftnav.registerObserver(this),this.preferences.registerObserver(this),this.tags.registerObserver(this),this._updatePersonalBoards()}componentWillUnmount(){this.personaltags.unregisterObserver(this),this.mobileleftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.tags.unregisterObserver(this),this.personaltags=null,this.mobileleftnav=null,this.notifications=null,this.preferences=null,this.tags=null,this.tabsManager=null}onTagsChanged(){this._updatePersonalBoards()}onShowBoardDragDropPlaceholders(e,t){const{personalBoards:s}=this.state;t===ze.personalBoards&&this.setState({personalBoards:s.filter((t=>t.id!==e.id))})}onHideBoardDragDropPlaceholders(){this._updatePersonalBoards()}onLeftnavEditModeChanged(e){this.setState({isEditing:e})}render(){const{boardSelected:e,isBoardDrawerOpen:t,isHeaderDrawerOpen:s,isDeleteConfirmDrawerOpen:n,personalBoards:i}=this.state;return i.length?r.createElement(r.Fragment,null,r.createElement("div",{className:"MobileLeftnavList__heading",onClick:this._onOpenHeaderDrawer},streets.hasBusinessAccess()?"Personal Boards":"Boards"),r.createElement(De.bK,{type:Ae.boards,droppableId:ze.personalBoards},(e=>r.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),i.map(this._renderBoard),e.placeholder))),t&&r.createElement($s,{board:e,onClose:this._onCloseBoardDrawer,onDeleteClick:this._onOpenDeleteConfirmDrawer}),s&&r.createElement(qs,{onClose:this._onCloseHeaderDrawer}),n&&this._renderDeleteConfirmDrawer()):null}async _updatePersonalBoards(){const e=await this.personaltags.askListRankedTags(),t=(0,Te.uf)(),s=e.findIndex((({id:e})=>e===t));s>-1&&e.splice(s,1),this.setState({personalBoards:e})}}const Ys=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M9 2.679a4.179 4.179 0 100 8.357 4.179 4.179 0 000-8.357zm0 1.5a2.679 2.679 0 110 5.357 2.679 2.679 0 010-5.357zM9 12.964a7.179 7.179 0 017.179 7.179.75.75 0 01-1.5 0 5.679 5.679 0 00-11.358 0 .75.75 0 11-1.5 0A7.179 7.179 0 019 12.964zM18.857 6.964a.75.75 0 01.743.649l.007.101v5.143a.75.75 0 01-1.493.102l-.007-.102V7.714a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M21.429 9.536a.75.75 0 01.101 1.493l-.101.007h-5.143a.75.75 0 01-.102-1.493l.102-.007h5.143z"})))}));const Zs=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M9 2.679a4.179 4.179 0 100 8.357 4.179 4.179 0 000-8.357zm0 1.5a2.679 2.679 0 110 5.357 2.679 2.679 0 010-5.357zM14.143 2.679a4.179 4.179 0 010 8.357.75.75 0 110-1.5 2.679 2.679 0 000-5.357.75.75 0 110-1.5zM16.433 13.472a.75.75 0 01.953-.467c3.062 1.047 4.793 3.475 4.793 7.138a.75.75 0 01-1.5 0c0-3.023-1.324-4.88-3.779-5.72a.75.75 0 01-.467-.951zM10.433 13.472a.75.75 0 01.953-.467c3.062 1.047 4.793 3.475 4.793 7.138a.75.75 0 01-1.5 0c0-3.023-1.324-4.88-3.779-5.72a.75.75 0 01-.467-.951zM2.571 12.964a.75.75 0 01.75.75c0 2.288 1.947 4.222 4.354 4.383l.22.01h1.562A.75.75 0 019.56 19.6l-.102.007H7.863c-3.303-.072-6.042-2.698-6.042-5.893a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M7.167 16.234a.75.75 0 01.974-.104l.086.07 2.286 2.143a.75.75 0 01.078 1.009l-.078.085-2.286 2.143a.75.75 0 01-1.101-1.012l.075-.082 1.701-1.596-1.7-1.596a.75.75 0 01-.105-.973l.07-.087z"})))}));const Ws=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M18 2.679H6a2.464 2.464 0 00-2.464 2.464l-.853 7.631-.004 6.083a2.464 2.464 0 002.464 2.464h13.714a2.464 2.464 0 002.464-2.464v-6L20.46 5.06c.004-1.278-1.099-2.381-2.46-2.381zm-12 1.5h12c.533 0 .964.431.964.964l.862 7.797-.005 5.917a.964.964 0 01-.964.964H5.143a.964.964 0 01-.964-.964v-6l.852-7.631c.005-.616.436-1.047.969-1.047z"}),r.createElement("path",{d:"M8.571 12.107a.75.75 0 01.71.508c.483 1.417 1.345 2.064 2.719 2.064 1.374 0 2.236-.647 2.719-2.064a.75.75 0 01.604-.5l.106-.008h5.142a.75.75 0 01.102 1.493l-.102.007H15.94l-.068.15c-.723 1.517-1.963 2.348-3.64 2.417l-.232.005c-1.796 0-3.117-.836-3.872-2.421l-.068-.151H3.429a.75.75 0 01-.744-.648l-.006-.102a.75.75 0 01.648-.743l.102-.007H8.57z"})))}));class $s extends r.PureComponent{constructor(...e){super(...e),this.state={isAdmin:streets.hasAdminBusinessAccess()},this._onArchiveClick=()=>{this.props.onArchiveClick(this.props.board)},this._onCopyToTeam=()=>{const{board:e,onClose:t}=this.props;this.tabsManager.askOpenNewPage("createTeamBoard",{props:{initialBoard:e}}),this.mobileleftnav.close(),t()},this._onDeleteClick=()=>{this.props.onDeleteClick(this.props.board)},this._onMarkAsRead=async()=>{const{board:{id:e},onClose:t}=this.props;try{this.notifications.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e,{})}catch(s){this.notifications.showError(s)}t()},this._onMemberSettings=()=>{const{board:e,onClose:t}=this.props;this.tabsManager.askOpenNewPage(`addToTeamEntity/${e.streamId}`,{helperPage:!0}),this.mobileleftnav.close(),t()},this._onRenameClick=()=>{const{board:e,onClose:t}=this.props;this.tabsManager.askOpenNewPage(`renameEntity/${e.streamId}`,{helperPage:!0,props:{onClose:()=>{streets.service("mobileleftnav").open()}}}),this.mobileleftnav.close(),t()}}componentDidMount(){this.feedly=streets.service("feedly"),this.reader=streets.service("reader"),this.tabsManager=streets.service("tabsManager"),this.notifications=streets.service("notifications"),this.mobileleftnav=streets.service("mobileleftnav")}componentWillUnmount(){this.feedly=null,this.reader=null,this.tabsManager=null,this.notifications=null,this.mobileleftnav=null}render(){const{isAdmin:e}=this.state,{board:t,isAll:s,onClose:n,team:i}=this.props;let a;return i&&(a=r.createElement(b.kR,{onClick:this._onMarkAsRead},r.createElement(xs.Z,{importance:"tertiary"}),"Mark as read"),s)?r.createElement(hs.dy,{onClose:n},r.createElement(b.Rr,null,t.label),a):r.createElement(hs.dy,{onClose:n},r.createElement(b.Rr,null,t.label),a,(!i||e)&&r.createElement(b.kR,{onClick:this._onRenameClick},r.createElement(Ds,{importance:"tertiary"}),"Rename"),e&&(i?r.createElement(b.kR,{onClick:this._onMemberSettings},r.createElement(Ys,{importance:"tertiary"}),"View Members"):r.createElement(b.kR,{onClick:this._onCopyToTeam},r.createElement(Zs,{importance:"tertiary"}),"Copy to Team")),this._renderBottomItems())}_renderBottomItems(){const{team:e}=this.props;return e&&streets.isUserAdmin()?[r.createElement(b.kR,{key:"unfollow",onClick:this._onDeleteClick},r.createElement(Rs.Z,{importance:"tertiary"}),"Unfollow"),r.createElement(b.kR,{key:"archive",danger:!0,onClick:this._onArchiveClick},r.createElement(Ws,{color:"danger"}),"Archive")]:[r.createElement(b.kR,{key:"unfollow",danger:!0,onClick:this._onDeleteClick},r.createElement(Rs.Z,{color:"danger"}),e?"Unfollow":"Delete")]}}$s.propTypes={board:u().shape({id:u().string,label:u().string,users:u().array}).isRequired,isAll:u().bool,onArchiveClick:u().func,onClose:u().func.isRequired,onDeleteClick:u().func.isRequired,team:u().bool},$s.defaultProps={isAll:!1,onArchiveClick:()=>{},team:!1};class qs extends r.PureComponent{constructor(...e){super(...e),this.state={isAdmin:streets.hasAdminBusinessAccess()},this._onAlphabetizeBoards=()=>{const{team:e}=this.props;try{e?this.preferences.setPreference(y.As.teamTags,"[]"):this.preferences.setPreference(y.As.personalTags,"[]")}catch(t){this.notifications.showError("Failed to update preference: Reset Feed Sorting")}},this._onCreateClick=()=>{const{onClose:e,team:t}=this.props;t?this.tabsManager.askOpenNewPage("createTeamBoard"):this.tabsManager.askOpenNewPage("createBoard",{props:{isPersonal:!0}}),this.mobileleftnav.close(),e()},this._onMoreClick=()=>{const{onClose:e}=this.props;this.tabsManager.askOpenNewPage("discoverBoards"),this.mobileleftnav.close(),e()}}componentDidMount(){this.feedly=streets.service("feedly"),this.mobileleftnav=streets.service("mobileleftnav"),this.preferences=streets.service("preferences"),this.tabsManager=streets.service("tabsManager"),this.preferences.registerObserver(this)}componentWillUnmount(){this.preferences.unregisterObserver(this),this.feedly=null,this.mobileleftnav=null,this.preferences=null,this.tabsManager=null}render(){const{isAdmin:e}=this.state,{onClose:t,team:s}=this.props;return r.createElement(hs.dy,{onClose:t},s&&r.createElement(b.kR,{onClick:this._onMoreClick},r.createElement(js.Z,{importance:"tertiary"}),"More Boards"),(!s||e)&&r.createElement(b.kR,{onClick:this._onCreateClick},r.createElement(Ss,{importance:"tertiary"}),"New Board"),r.createElement(b.kR,{onClick:this._onAlphabetizeBoards},r.createElement(Ts,{importance:"tertiary"}),"Reset to Alphabetical"))}}qs.propTypes={onClose:u().func.isRequired,team:u().bool},qs.defaultProps={team:!1};class Vs extends r.PureComponent{constructor(e){super(e),this.onMovePersonalCollection=(e,t,s)=>{const{personalCollections:n}=this.state,i=[...n],r=i.splice(t,1)[0];i.splice(s,0,r),this.preferences.setPreference("categoriesOrderingId",JSON.stringify(i.map((({id:e})=>e))))},this.onShowCollectionDragDropPlaceholders=(e,t,s,n,i)=>{if(s===ze.personalCollections){const{personalCollections:t}=this.state,s=[...t],n={...e,isPlaceholder:!0};s.splice(i,0,n),this.setState({personalCollections:s})}else if(t===ze.personalCollections){const{personalCollections:e}=this.state,t=[...e];t.splice(n,1),this.setState({personalCollections:t})}},this.onHideCollectionDragDropPlaceholders=()=>{this._updateCollections()},this.onCollectionMovedToPersonal=(e,t,s)=>{const{personalCollections:n}=this.state,i=[...n.map((e=>e.id))];i.splice(s,0,e.id),this.preferences.setPreference("categoriesOrderingId",JSON.stringify(i))},this.onCollectionsChanged=()=>{this._updateCollections()},this.onCollectionsOrderChanged=()=>{this._updateCollections()},this._renderCollection=e=>{const{draggingCollectionId:t}=this.state;if(!e)return null;const{id:s}=e;return r.createElement(ws,{draggingCollectionId:t,isPlaceholder:e.isPlaceholder,id:s,feeds:e.feeds,label:e.label,onCollectionMoreClick:()=>{this._onOpenCollectionDrawer(e)},onSourceMoreClick:e=>{this._onOpenSourceDrawer(e)},unreadCount:e.unreadCount,uri:e.uri})},this._renderDeleteConfirmDrawer=()=>{const{collectionSelected:{label:e}}=this.state;return r.createElement(hs.dy,{onClose:this._onCloseDeleteConfirmDrawer},r.createElement(b.Rr,null,`Delete ${e} feed`),r.createElement(us.x,{color:"secondary",size:"small"},"Are you sure you want to delete this feed? This action cannot be undone."),r.createElement(H.zx,{color:"danger",className:"block",label:"Delete",onClick:this._onDeleteConfirmClick}),r.createElement(H.zx,{className:"block m-t-h",importance:"secondary",label:"No, keep this feed",onClick:this._onCloseDeleteConfirmDrawer}))},this._onCollectionTouchMove=()=>{const{isEditing:e}=this.state;e&&clearTimeout(this._dragTimeout)},this._onCollectionTouchEnd=()=>{const{isEditing:e}=this.state;e&&this.setState({personalCollectionsDraggingHeight:"auto",draggingCollectionId:null})},this._onCollectionTouchStart=(e,t)=>{const{isEditing:s}=this.state;s&&Ve(e)&&(this._dragTimeout=setTimeout((()=>{this.setState({draggingCollectionId:t,personalCollectionsDraggingHeight:this.collectionContainer.current.clientHeight+"px"})}),118))},this._onOpenHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!0})},this._onCloseHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!1})},this._onOpenCollectionDrawer=e=>{this.setState({collectionSelected:e,isCollectionDrawerOpen:!0})},this._onCloseCollectionDrawer=()=>{this.setState({isCollectionDrawerOpen:!1})},this._onOpenDeleteConfirmDrawer=()=>{this.setState({isCollectionDrawerOpen:!1,isDeleteConfirmDrawerOpen:!0})},this._onCloseDeleteConfirmDrawer=()=>{this.setState({isDeleteConfirmDrawerOpen:!1})},this._onOpenSourceDrawer=e=>{this.setState({isSourceDrawerOpen:!0,sourceSelected:e})},this._onCloseSourceDrawer=()=>{this.setState({isSourceDrawerOpen:!1})},this._onOpenUnfollowSourceConfirmDrawer=()=>{this.setState({isSourceDrawerOpen:!1,isUnfollowSourceConfirmDrawerOpen:!0})},this._onCloseUnfollowSourceConfirmDrawer=()=>{this.setState({isUnfollowSourceConfirmDrawerOpen:!1})},this._onDeleteConfirmClick=async()=>{const{collectionSelected:{id:e,label:t}}=this.state;this._onCloseDeleteConfirmDrawer();try{await this.personalcollections.askDeleteCollection(e),this.notifications.showMessage(`${t} has been deleted.`)}catch(s){this.notifications.showError(`There was an error trying to delete ${t}.`)}},this._updateCollections=async()=>{if(!streets.getUserId())return void this.setState({collections:[],isLoading:!1,personalAllCollection:{},personalCollections:[],personalFavoritesCollection:null,personalUncategorizedCollection:null});const[e,t]=await Promise.all([this.personalcollections.askListRankedCollections(),this.personalcollections.askLookupCollection((0,Te.N1)())]),s=(0,Te.Mc)(),n=(0,Te.wN)(),{collections:i,filteredPersonalCollections:r,favorites:a,uncategorized:o}=e.reduce(((e,t)=>(e.collections[t.id]=t,t.id===s?e.favorites=t:t.id===n?e.uncategorized=t:e.filteredPersonalCollections.push(t),e)),{collections:{},favorites:null,filteredPersonalCollections:[],uncategorized:null});this.setState({collections:i,isLoading:!1,personalAllCollection:t,personalFavoritesCollection:a,personalUncategorizedCollection:o,personalCollections:r})},this.collectionContainer=r.createRef(),this.preferences=streets.service("preferences"),this.mobileleftnav=streets.service("mobileleftnav"),this._dragTimeout=null,this._debouncedUpdateCollections=i()(this._updateCollections,50,{maxWait:200}),this.state={collections:{},collectionSelected:{},draggingCollectionId:null,isCollectionDrawerOpen:!1,isDeleteConfirmDrawerOpen:!1,isEditing:this.mobileleftnav.isEditModeOn(),isHeaderDrawerOpen:!1,isLoading:!0,isSourceDrawerOpen:!1,isUnfollowSourceConfirmDrawerOpen:!1,personalCollectionsDraggingHeight:"auto",personalAllCollection:{},personalCollections:[],sourceSelected:{}}}componentDidMount(){this.collections=streets.service("collections"),this.notifications=streets.service("notifications"),this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.tabsManager=streets.service("tabsManager"),this.collections.registerObserver(this),this.mobileleftnav.registerObserver(this),this.personalcollections.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this),this._updateCollections()}componentWillUnmount(){this._debouncedUpdateCollections.cancel(),this._debouncedUpdateCollections=null,this.mobileleftnav.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.reader.unregisterObserver(this),this.collections=null,this.mobileleftnav=null,this.notifications=null,this.personalcollections=null,this.preferences=null,this.reader=null,this.tabsManager=null}onDragEnd(){this._onCollectionTouchEnd()}onStreamUnreadCountChanged(e){const{isFeed:t}=(0,Te.Yg)(e),{collections:s}=this.state;(t||s[e])&&this._debouncedUpdateCollections()}onLeftnavEditModeChanged(e){this.setState({isEditing:e})}render(){const{collectionSelected:e,isCollectionDrawerOpen:t,isDeleteConfirmDrawerOpen:s,isHeaderDrawerOpen:n,isLoading:i,isSourceDrawerOpen:a,isUnfollowSourceConfirmDrawerOpen:o,personalCollections:l,personalFavoritesCollection:c,personalUncategorizedCollection:d,sourceSelected:h}=this.state;return i?null:0!==l.length||c||d?r.createElement(r.Fragment,null,r.createElement(De.bK,{droppableId:ze.personalCollections,type:Ae.collections},(e=>r.createElement("div",Object.assign({className:"MobileLeftnavList__feed-list",ref:e.innerRef},e.droppableProps),r.createElement("div",{className:"MobileLeftnavList__heading",onClick:this._onOpenHeaderDrawer},streets.hasBusinessAccess()?"Personal Feeds":"Feeds"),this._renderPersonalCollections(e)))),s&&this._renderDeleteConfirmDrawer(),n&&r.createElement(Ks,{onClose:this._onCloseHeaderDrawer}),t&&r.createElement(Xs,{collection:e,hideRename:(0,Te.Mc)()===e.id,isAll:(0,Te.N1)()===e.id,onClose:this._onCloseCollectionDrawer,onDeleteClick:this._onOpenDeleteConfirmDrawer}),a&&r.createElement(sn,{source:h,onClose:this._onCloseSourceDrawer,onUnfollowClick:this._onOpenUnfollowSourceConfirmDrawer}),o&&r.createElement(Qe.ob,{isDrawer:!0,streamId:h.id,streamLabel:h.title,onClose:this._onCloseUnfollowSourceConfirmDrawer})):null}_renderPersonalCollections(e){const{draggingCollectionId:t,personalCollectionsDraggingHeight:s,isEditing:n,personalAllCollection:i,personalCollections:a,personalFavoritesCollection:o,personalUncategorizedCollection:l}=this.state;return r.createElement("div",{ref:this.collectionContainer,style:{height:t?s:"auto"}},r.createElement(vs,{className:"MobileLeftnavListRow--no-border",iconComponent:Us,isEditable:!0,linkUri:i.uri,label:"All",onMoreClick:()=>{this._onOpenCollectionDrawer(i)},unreadCount:i.unreadCount}),this._renderCollection(o),a.map(((e,t)=>{const s=e.id,i=e.isPlaceholder||!n;return r.createElement(De._l,{draggableId:s,index:t,isDragDisabled:i,key:e.id},(t=>r.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{onTouchStart:(...e)=>{this._onCollectionTouchStart(e[0],s)},onTouchMove:this._onCollectionTouchMove,onTouchEnd:this._onCollectionTouchEnd}),this._renderCollection(e))))})),e.placeholder,this._renderCollection(l))}}class Gs extends r.PureComponent{constructor(e){super(e),this.onMoveTeamCollection=(e,t,s)=>{const{teamCollections:n}=this.state,i=[...n.map((e=>e.id))];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference("teamCategoriesOrderingId",JSON.stringify(i))},this.onCollectionsChanged=()=>{this._updateCollections()},this.onCollectionsOrderChanged=()=>{this._updateCollections()},this.onShowCollectionDragDropPlaceholders=(e,t,s,n,i)=>{if(s===ze.teamCollections){const{teamCollections:t}=this.state,s=[...t],n={...e,isPlaceholder:!0};s.splice(i,0,n),this.setState({teamCollections:s})}else if(t===ze.teamCollections){const{teamCollections:e}=this.state,t=[...e];t.splice(n,1),this.setState({teamCollections:t})}},this.onHideCollectionDragDropPlaceholders=()=>{this._updateCollections()},this.onCollectionMovedToTeam=(e,t)=>{const{teamCollections:s}=this.state,n=[...s.map((e=>e.id))];n.splice(t,0,e.id),this.preferences.setPreference("teamCategoriesOrderingId",JSON.stringify(n))},this._renderCollection=e=>{const{draggingCollectionId:t}=this.state;if(!e)return null;const{id:s}=e;return r.createElement(ws,{draggingCollectionId:t,feeds:e.feeds,isPlaceholder:e.isPlaceholder,id:s,label:e.label,onCollectionMoreClick:()=>{this._onOpenCollectionDrawer(e)},onSourceMoreClick:e=>{this._onOpenSourceDrawer(e)},unreadCount:e.unreadCount,uri:e.uri})},this._renderArchiveConfirmDrawer=()=>{const{collectionSelected:{label:e}}=this.state;return r.createElement(hs.dy,{onClose:this._onCloseArchiveConfirmDrawer},r.createElement(b.Rr,null,`Archive ${e} feed`),r.createElement(us.x,{color:"secondary",size:"small"},"Are you sure you want to archive this feed?"),r.createElement(H.zx,{color:"danger",className:"block",label:"Archive",onClick:this._onArchiveConfirmClick}),r.createElement(H.zx,{className:"block m-t-h",importance:"secondary",label:"No, keep this feed",onClick:this._onCloseArchiveConfirmDrawer}))},this._renderUnfollowConfirmDrawer=()=>{const{collectionSelected:{label:e}}=this.state;return r.createElement(hs.dy,{onClose:this._onCloseUnfollowConfirmDrawer},r.createElement(b.Rr,null,`Unfollow ${e} feed`),r.createElement(us.x,{color:"secondary",size:"small"},"Are you sure you want to unfollow this feed?"),r.createElement(H.zx,{color:"danger",className:"block",label:"Unfollow",onClick:this._onUnfollowConfirmClick}),r.createElement(H.zx,{className:"block m-t-h",importance:"secondary",label:"No, keep following this feed",onClick:this._onCloseUnfollowConfirmDrawer}))},this._onCollectionTouchMove=()=>{const{isEditing:e}=this.state;e&&clearTimeout(this._dragTimeout)},this._onCollectionTouchEnd=()=>{const{isEditing:e}=this.state;e&&this.setState({personalCollectionsDraggingHeight:"auto",draggingCollectionId:null})},this._onCollectionTouchStart=(e,t)=>{const{isEditing:s}=this.state;s&&Ve(e)&&(this._dragTimeout=setTimeout((()=>{this.setState({draggingCollectionId:t,personalCollectionsDraggingHeight:this.collectionContainer.current.clientHeight+"px"})}),118))},this._onMoreClick=()=>{this.tabsManager.askOpenNewPage("discoverCollections"),this.mobileleftnav.close()},this._onOpenHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!0})},this._onCloseHeaderDrawer=()=>{this.setState({isHeaderDrawerOpen:!1})},this._onOpenCollectionDrawer=e=>{this.setState({collectionSelected:e,isCollectionDrawerOpen:!0})},this._onCloseCollectionDrawer=()=>{this.setState({isCollectionDrawerOpen:!1})},this._onOpenArchiveConfirmDrawer=()=>{this.setState({isCollectionDrawerOpen:!1,isArchiveConfirmDrawerOpen:!0})},this._onCloseArchiveConfirmDrawer=()=>{this.setState({isArchiveConfirmDrawerOpen:!1})},this._onOpenUnfollowConfirmDrawer=()=>{this.setState({isCollectionDrawerOpen:!1,isUnfollowConfirmDrawerOpen:!0})},this._onCloseUnfollowConfirmDrawer=()=>{this.setState({isUnfollowConfirmDrawerOpen:!1})},this._onOpenSourceDrawer=e=>{this.setState({isSourceDrawerOpen:!0,sourceSelected:e})},this._onCloseSourceDrawer=()=>{this.setState({isSourceDrawerOpen:!1})},this._onOpenUnfollowSourceConfirmDrawer=()=>{this.setState({isSourceDrawerOpen:!1,isUnfollowSourceConfirmDrawerOpen:!0})},this._onCloseUnfollowSourceConfirmDrawer=()=>{this.setState({isUnfollowSourceConfirmDrawerOpen:!1})},this._onUnfollowConfirmClick=async()=>{const{collectionSelected:{id:e,label:t}}=this.state;this._onCloseUnfollowConfirmDrawer();try{await this.enterprisecollections.askUnsubscribeCollection(e),this.notifications.showMessage(`${t} has been unfollowed.`)}catch(s){this.notifications.showMessage(`There was an error trying to unfollow ${t}.`)}},this._onArchiveConfirmClick=async()=>{const{collectionSelected:{id:e,label:t}}=this.state;this._onCloseArchiveConfirmDrawer();try{await this.enterprisecollections.askArchiveCollection(e),this.notifications.showMessage(`${t} successfully archived!`)}catch(s){this.notifications.showMessage(`There was an error trying to archive ${t}.`)}},this._updateCollections=async()=>{if(!streets.hasBusinessAccess())return void this.setState({collectionsById:[],teamAllCollection:{},teamCollections:[]});const[e,t]=await Promise.all([this.enterprisecollections.askListRankedSubscribedCollections(),this.enterprisecollections.askLookupCollection((0,Te.sX)())]),{collectionsById:s}=e.reduce(((e,t)=>(e.collectionsById[t.id]=t,e)),{collectionsById:{},teamCollections:[]});this.setState({collectionsById:s,teamAllCollection:t,teamCollections:e})},this.collectionContainer=r.createRef(),this.preferences=streets.service("preferences"),this.mobileleftnav=streets.service("mobileleftnav"),this._dragTimeout=null,this._debouncedUpdateCollections=i()(this._updateCollections,50,{maxWait:200}),this.state={collectionsById:{},collectionSelected:null,draggingCollectionId:null,isArchiveConfirmDrawerOpen:!1,isCollectionDrawerOpen:!1,isEditing:this.mobileleftnav.isEditModeOn(),isHeaderMenuOpen:!1,isUnfollowConfirmDrawerOpen:!1,teamAllCollection:{},teamCollectionsDraggingHeight:"auto",teamCollections:[]}}componentDidMount(){this.collections=streets.service("collections"),this.enterprisecollections=streets.service("enterprisecollections"),this.notifications=streets.service("notifications"),this.reader=streets.service("reader"),this.tabsManager=streets.service("tabsManager"),this.collections.registerObserver(this),this.enterprisecollections.registerObserver(this),this.mobileleftnav.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this),this._updateCollections()}componentWillUnmount(){this._debouncedUpdateCollections.cancel(),this._debouncedUpdateCollections=null,this.enterprisecollections.unregisterObserver(this),this.mobileleftnav.unregisterObserver(this),this.reader.unregisterObserver(this),this.collections=null,this.enterprisecollections=null,this.mobileleftnav=null,this.notifications=null,this.preferences=null,this.reader=null,this.tabsManager=null}onStreamUnreadCountChanged(e){const{isFeed:t}=(0,Te.Yg)(e),{collectionsById:s}=this.state;(t||s[e])&&this._debouncedUpdateCollections()}onDragEnd(){this._onCollectionTouchEnd()}onLeftnavEditModeChanged(e){this.setState({isEditing:e})}render(){const{collectionSelected:e,isArchiveConfirmDrawerOpen:t,isCollectionDrawerOpen:s,isHeaderDrawerOpen:n,isUnfollowConfirmDrawerOpen:i,isSourceDrawerOpen:a,isUnfollowSourceConfirmDrawerOpen:o,sourceSelected:l}=this.state;return streets.hasBusinessAccess()?r.createElement(r.Fragment,null,r.createElement(De.bK,{droppableId:ze.teamCollections,type:Ae.collections},(e=>r.createElement("div",Object.assign({className:"MobileLeftnavList__feed-list",ref:e.innerRef},e.droppableProps),r.createElement("div",{className:"MobileLeftnavList__heading",onClick:this._onOpenHeaderDrawer},"Team Feeds"),this._renderTeamCollections(e)))),r.createElement(vs,{className:"MobileLeftnavListRow--no-icon",onClick:this._onMoreClick},"More Feeds"),t&&this._renderArchiveConfirmDrawer(),s&&r.createElement(Xs,{collection:e,isAll:(0,Te.sX)()===e.id,onArchiveClick:this._onOpenArchiveConfirmDrawer,onClose:this._onCloseCollectionDrawer,onDeleteClick:this._onOpenUnfollowConfirmDrawer,team:!0}),n&&r.createElement(Ks,{onClose:this._onCloseHeaderDrawer,team:!0}),i&&this._renderUnfollowConfirmDrawer(),a&&r.createElement(sn,{source:l,onClose:this._onCloseSourceDrawer,onUnfollowClick:this._onOpenUnfollowSourceConfirmDrawer,team:!0}),o&&r.createElement(Qe.ob,{isDrawer:!0,streamId:l.id,streamLabel:l.title,onClose:this._onCloseUnfollowSourceConfirmDrawer})):null}_renderTeamCollections(e){const{draggingCollectionId:t,teamCollectionsDraggingHeight:s,isEditing:n,teamAllCollection:i,teamCollections:a}=this.state;return r.createElement("div",{ref:this.collectionContainer,style:{height:t?s:"auto"}},r.createElement(vs,{className:"MobileLeftnavListRow--no-border",iconComponent:Us,isEditable:!0,linkUri:i.uri,label:"All",onMoreClick:()=>{this._onOpenCollectionDrawer(i)},unreadCount:i.unreadCount}),a.map(((e,t)=>{const s=e.id,i=e.isPlaceholder||!n;return r.createElement(De._l,{draggableId:s,index:t,isDragDisabled:i,key:e.id},(t=>r.createElement("div",Object.assign({id:s,ref:t.innerRef},t.draggableProps,t.dragHandleProps,{onTouchStart:(...e)=>{this._onCollectionTouchStart(e[0],s)},onTouchMove:this._onCollectionTouchMove,onTouchEnd:this._onCollectionTouchEnd}),this._renderCollection(e))))})),e.placeholder)}}const Qs=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M3.429 9.536c6.094 0 11.035 4.94 11.035 11.035a.75.75 0 01-1.5 0 9.536 9.536 0 00-9.535-9.535.75.75 0 010-1.5z"}),r.createElement("path",{d:"M3.429 2.679c9.882 0 17.892 8.01 17.892 17.892a.75.75 0 11-1.5 0c0-9.053-7.339-16.392-16.392-16.392a.75.75 0 010-1.5zM5.143 16.393a2.464 2.464 0 100 4.928 2.464 2.464 0 000-4.928zm0 1.5a.964.964 0 110 1.928.964.964 0 010-1.928z"})))}));class Ks extends r.PureComponent{constructor(e){super(e),this._onAlphabetizeFeeds=()=>{const{team:e}=this.props;try{e?this.preferences.setPreference("teamCategoriesOrderingId","[]"):this.preferences.setPreference("categoriesOrderingId","[]")}catch(t){this.notifications.showMessage("Failed to update preference: Reset Feed Sorting")}},this._onCreateFeedClick=()=>{const{onClose:e,team:t}=this.props;t?this.tabsManager.askOpenNewPage("createTeamCollection"):this.tabsManager.askOpenNewPage("createCollection",{props:{isPersonal:!0}}),this.mobileleftnav.close(),e()},this._onMoreFeedsClick=()=>{const{onClose:e}=this.props;this.tabsManager.askOpenNewPage("discoverCollections"),this.mobileleftnav.close(),e()},this._onShowEmptyClick=()=>{const{showEmpty:e}=this.state,{onClose:t}=this.props;this.preferences.setPreference(y.j$,e?y.Hi.hide:y.Hi.show),t()},this._onTeamFirstClick=()=>{const{teamFirst:e}=this.state,{onClose:t}=this.props;this.preferences.setPreference(y.iu,e?y.TA.personal:y.TA.team),t()},this.preferences=streets.service("preferences");const t=this.preferences.getPreference(y.iu),s=this.preferences.getPreference(y.j$);this.state={showEmpty:s===y.Hi.show,teamFirst:t===y.TA.team,isAdmin:streets.hasAdminBusinessAccess()}}componentDidMount(){this.notifications=streets.service("notifications"),this.mobileleftnav=streets.service("mobileleftnav"),this.tabsManager=streets.service("tabsManager")}componentWillUnmount(){this.notifications=null,this.mobileleftnav=null,this.preferences=null,this.tabsManager=null}render(){const{onClose:e,team:t}=this.props,{showEmpty:s,teamFirst:n,isAdmin:i}=this.state;return r.createElement(hs.dy,{onClose:e},r.createElement(b.kR,{onClick:this._onAlphabetizeFeeds},r.createElement(Ts,{importance:"tertiary"}),"Reset to Alphabetical"),t&&r.createElement(b.kR,{onClick:this._onMoreFeedsClick},r.createElement(Qs,{importance:"tertiary"}),"More Feeds"),(!t||i)&&r.createElement(b.kR,{onClick:this._onCreateFeedClick},r.createElement(Ss,{importance:"tertiary"}),"New Feed"),r.createElement(b.kR,{onClick:this._onShowEmptyClick},r.createElement(Ps,{checked:s}),"Show Empty Feeds"),t&&r.createElement(b.kR,{onClick:this._onTeamFirstClick},r.createElement(Ps,{checked:n}),"Team First"))}}Ks.propTypes={onClose:u().func.isRequired,team:u().bool},Ks.defaultProps={team:!1};const Js=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M3.429 9.536c2.216 0 4.336.655 6.138 1.863a.75.75 0 11-.835 1.246 9.487 9.487 0 00-5.303-1.61.75.75 0 010-1.5zM3.429 2.679c4.376 0 8.51 1.577 11.743 4.392a.75.75 0 11-.985 1.131A16.324 16.324 0 003.429 4.18a.75.75 0 010-1.5zM5.143 16.393a2.464 2.464 0 100 4.928 2.464 2.464 0 000-4.928zm0 1.5a.964.964 0 110 1.928.964.964 0 010-1.928zM16.286 9.536a5.893 5.893 0 100 11.785 5.893 5.893 0 000-11.785zm0 1.5a4.393 4.393 0 110 8.785 4.393 4.393 0 010-8.785z"}),r.createElement("path",{d:"M18.006 14.679a.75.75 0 01.102 1.493l-.102.007h-3.442a.75.75 0 01-.101-1.494l.101-.006h3.442z"})))}));class Xs extends r.PureComponent{constructor(...e){super(...e),this.state={isAdmin:streets.hasAdminBusinessAccess()},this._onArchiveClick=()=>{this.props.onArchiveClick(this.props.collection)},this._onCopyToTeam=()=>{const{collection:e,onClose:t}=this.props;this.tabsManager.askOpenNewPage("createTeamCollection",{props:{initialCollection:e}}),this.mobileleftnav.close(),t()},this._onDeleteClick=()=>{this.props.onDeleteClick(this.props.collection)},this._onManageSources=()=>{const{collection:{streamId:e},onClose:t}=this.props;this.tabsManager.askOpenNewPage("viewSources",{props:{streamId:e}}),this.mobileleftnav.close(),t()},this._onRenameClick=()=>{const{collection:e,onClose:t}=this.props;this.tabsManager.askOpenNewPage(`renameEntity/${e.streamId}`,{helperPage:!0,props:{onClose:()=>{streets.service("mobileleftnav").open()}}}),this.mobileleftnav.close(),t()},this._onViewMembers=()=>{const{collection:{streamId:e},onClose:t}=this.props;this.tabsManager.askOpenNewPage("addToTeamEntity",{props:{streamId:e}}),this.mobileleftnav.close(),t()},this._onMarkAsRead=async()=>{const{collection:{id:e},onClose:t}=this.props;try{this.notifications.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e,{})}catch(s){this.notifications.showMessage.setDefaultErrorMessage(s)}t()}}componentDidMount(){this.mobileleftnav=streets.service("mobileleftnav"),this.reader=streets.service("reader"),this.notifications=streets.service("notifications"),this.tabsManager=streets.service("tabsManager")}componentWillUnmount(){this.mobileleftnav=null,this.notifications=null,this.reader=null,this.tabsManager=null}render(){const{isAdmin:e}=this.state,{collection:t,hideRename:s,isAll:n,onClose:i,team:a}=this.props,o=r.createElement(b.kR,{onClick:this._onMarkAsRead},r.createElement(xs.Z,{importance:"tertiary"}),"Mark as Read");return n?r.createElement(hs.dy,{onClose:i},r.createElement(b.Rr,null,t.label),o):r.createElement(hs.dy,{onClose:i},r.createElement(b.Rr,null,t.label),o,(!a||e)&&!s&&r.createElement(b.kR,{onClick:this._onRenameClick},r.createElement(Ds,{importance:"tertiary"}),"Rename"),(!a||e)&&r.createElement(b.kR,{onClick:this._onManageSources},r.createElement(Qs,{importance:"tertiary"}),"Manage Sources"),e&&(a?r.createElement(b.kR,{onClick:this._onViewMembers},r.createElement(Ys,{importance:"tertiary"}),"View Members"):r.createElement(b.kR,{onClick:this._onCopyToTeam},r.createElement(Zs,{importance:"tertiary"}),"Copy to Team")),this._renderBottomItems())}_renderBottomItems(){const{isAdmin:e}=this.state,{team:t}=this.props;return t&&e?[r.createElement(b.kR,{key:"unfollow",onClick:this._onDeleteClick},r.createElement(Js,{importance:"tertiary"}),"Unfollow"),r.createElement(b.kR,{key:"archive",danger:!0,onClick:this._onArchiveClick},r.createElement(Ws,{color:"danger"}),"Archive")]:[r.createElement(b.kR,{key:"unfollow",danger:!0,onClick:this._onDeleteClick},r.createElement(Rs.Z,{color:"danger"}),t?"Unfollow":"Delete")]}}Xs.propTypes={collection:u().shape({id:u().string,streamId:u().string,label:u().string,users:u().array}).isRequired,isAll:u().bool,hideRename:u().bool,onArchiveClick:u().func,onClose:u().func.isRequired,onDeleteClick:u().func.isRequired,team:u().bool},Xs.defaultProps={isAll:!1,hideRename:!1,onArchiveClick:()=>{},team:!1};const en=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M6.327 2.898a.75.75 0 011.133.977l-.073.084L4.816 6.53a.75.75 0 01-1.133-.976l.072-.084 2.572-2.572z"}),r.createElement("path",{d:"M6.327 2.898a.75.75 0 01.976-.072l.084.072L9.96 5.47a.75.75 0 01-.977 1.133l-.084-.073L6.327 3.96a.75.75 0 010-1.06z"}),r.createElement("path",{d:"M6.857 2.679a.75.75 0 01.743.648l.007.102v6.857a.75.75 0 01-1.493.101l-.007-.101V3.429a.75.75 0 01.75-.75zM17.143 12.964a.75.75 0 01.743.649l.007.101v6.857a.75.75 0 01-1.493.102l-.007-.102v-6.857a.75.75 0 01.75-.75z"}),r.createElement("path",{d:"M19.184 17.47a.75.75 0 011.133.976l-.072.084-2.572 2.572a.75.75 0 01-1.133-.977l.073-.084 2.571-2.571z"}),r.createElement("path",{d:"M14.041 17.47a.75.75 0 01.977-.073l.084.073 2.571 2.571a.75.75 0 01-.976 1.133l-.084-.072-2.572-2.572a.75.75 0 010-1.06zM20.571 2.679h-6.857a.75.75 0 00-.75.75v6.857c0 .414.336.75.75.75h6.857a.75.75 0 00.75-.75V3.429a.75.75 0 00-.75-.75zm-.75 1.5v5.357h-5.357V4.179h5.357zM10.286 12.964H3.429a.75.75 0 00-.75.75v6.857c0 .415.335.75.75.75h6.857a.75.75 0 00.75-.75v-6.857a.75.75 0 00-.75-.75zm-.75 1.5v5.357H4.179v-5.357h5.357z"})))}));const tn=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M8.571 5.25a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zm0 1.5a5.25 5.25 0 110 10.5 5.25 5.25 0 010-10.5z"}),r.createElement("path",{d:"M15.429 5.25a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zm0 1.5a5.25 5.25 0 110 10.5 5.25 5.25 0 010-10.5z"})))}));class sn extends r.PureComponent{constructor(...e){super(...e),this.state={favoritesCollection:null,isInFavorites:!1,isUnfollowConfirmDrawerOpen:!1,isAdmin:streets.hasAdminBusinessAccess()},this._renderFavoritesItem=()=>{const{favoritesCollection:e,isInFavorites:t}=this.state;let s="Favorites";return e&&(s=(t?"Remove from":"Add to")+" Favorites"),r.createElement(b.kR,{disabled:!e,onClick:t?this._onFavoritesRemoveClick:this._onFavoritesAddClick},r.createElement(bs.Z,{importance:"tertiary"}),s)},this._onRenameClick=()=>{const{source:{streamId:e},onClose:t}=this.props;this.tabsManager.askOpenNewPage(`renameEntity/${encodeURIComponent(e)}`,{helperPage:!0,props:{onClose:()=>{streets.service("mobileleftnav").open()}}}),this.mobileleftnav.close(),t()},this._onFavoritesAddClick=async()=>{const{source:{id:e,title:t},onClose:s}=this.props,{favoritesCollection:n}=this.state;try{await this.personalcollections.askAddFeed(n.id,{id:e,title:t}),this.notifications.showMessage("Saved to Favorites")}catch(i){this.notifications.showError("Failed to save to Favorites")}this.mobileleftnav.close(),s()},this._onFavoritesRemoveClick=async()=>{const{source:{id:e},onClose:t}=this.props,{favoritesCollection:s}=this.state;try{await this.personalcollections.askRemoveFeed(s.id,e),this.notifications.showMessage("Removed from Favorites")}catch(n){this.notifications.showError("Failed to remove from Favorites")}this.mobileleftnav.close(),t()},this._onMarkAsReadClick=async()=>{const{source:{id:e},onClose:t}=this.props;try{this.notifications.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e,{})}catch(s){this.notifications.showError(s)}t()},this._onFollowingInClick=async()=>{const{source:{streamId:e},onClose:t}=this.props;this.tabsManager.askOpenNewPage(`followFeed/${e}`,{helperPage:!0}),this.mobileleftnav.close(),t()},this._onSeeSimilarSourcesClick=()=>{const{source:e,onClose:t}=this.props;this.tabsManager.askOpenNewPage(`discover/sources/source/${e.title}`),this.mobileleftnav.close(),t()}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.notifications=streets.service("notifications"),this.mobileleftnav=streets.service("mobileleftnav"),this.tabsManager=streets.service("tabsManager"),this.personalcollections.registerObserver(this),this._updateFavorites()}componentWillUnmount(){this.personalcollections.unregisterObserver(this),this.enterprisecollections=null,this.personalcollections=null,this.reader=null,this.notifications=null,this.mobileleftnav=null,this.tabsManager=null}onCollectionChanged(e){const{favoritesCollection:t}=this.state;t&&e===t.id&&this._updateFavorites()}render(){const{isAdmin:e}=this.state,{onClose:t,onUnfollowClick:s,source:n,team:i}=this.props;return r.createElement(r.Fragment,null,n&&r.createElement(hs.dy,{onClose:t},r.createElement(b.Rr,null,n.title),r.createElement(b.kR,{onClick:this._onMarkAsReadClick},r.createElement(xs.Z,{importance:"tertiary"}),"Mark as Read"),(!i||e)&&r.createElement(b.kR,{onClick:this._onRenameClick},r.createElement(Ds,{importance:"tertiary"}),"Rename"),this._renderFavoritesItem(),r.createElement(b.kR,{onClick:this._onFollowingInClick},r.createElement(en,{importance:"tertiary"}),"Following in..."),r.createElement(b.kR,{onClick:this._onSeeSimilarSourcesClick},r.createElement(tn,{importance:"tertiary"}),"See Similar Sources"),(!i||e)&&r.createElement(b.kR,{danger:!0,onClick:s},r.createElement(Rs.Z,{color:"danger"}),"Unfollow")))}async _updateFavorites(){const e=await this.personalcollections.askFavoritesCollection();if(this.state){const{source:t}=this.props;this.setState({favoritesCollection:e,isInFavorites:!!t&&e.containsFeed(t.id)})}}}sn.propTypes={onClose:u().func.isRequired,onUnfollowClick:u().func.isRequired,source:u().shape({id:u().string,title:u().string}),team:u().bool},sn.defaultProps={source:void 0,team:!1};const nn={loggedOut:{title:"Personalize Your Feedly",text:"Keep up with the topics, sources, and trends that matter to you. All in one place.",buttonLabel:"Get Started For Free",onButtonClick:()=>{streets.service("mobileleftnav").close(),streets.service("auth").startFlow("signup")}},noContent:{title:"Personalize Your Feedly",text:"Keep up with the topics, sources, and trends that matter to you. All in one place.",buttonLabel:"Add Content",onButtonClick:()=>{streets.service("mobileleftnav").close(),streets.service("tabsManager").askOpenPage("discover")}}},rn="noContent";class an extends r.PureComponent{constructor(...e){super(...e),this._onLogoutClick=()=>{streets.service("mobileleftnav").close(),streets.service("auth").logout()}}render(){const{type:e}=this.props;return r.createElement("div",{className:"MobileLeftnavEmptySpace"},r.createElement(Q.H2,{className:"MobileLeftnavEmptySpace__title"},nn[e].title),r.createElement(us.x,{color:"secondary",size:"small"},nn[e].text),r.createElement("div",{className:"MobileLeftnavEmptySpace__bottom"},r.createElement(H.zx,{className:"block MobileLeftnavEmptySpace__button",label:nn[e].buttonLabel,onClick:nn[e].onButtonClick}),e===rn&&r.createElement(H.zx,{className:"block m-t-h MobileLeftnavEmptySpace__button",importance:"secondary",label:"Logout",onClick:this._onLogoutClick})))}}an.propTypes={type:u().oneOf(Object.keys(nn)).isRequired};const on=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.167 3.333a.5.5 0 01.5-.5H15.5a2.5 2.5 0 012.5 2.5V15.5a2.5 2.5 0 01-2.5 2.5H4.583a.5.5 0 010-1H15.5a1.5 1.5 0 001.5-1.5V5.334a1.5 1.5 0 00-1.5-1.5H6.667a.5.5 0 01-.5-.5zm1.25 3.516a.5.5 0 01.5-.5h5.833a.5.5 0 110 1H7.917a.5.5 0 01-.5-.5zm0 3.333a.5.5 0 01.5-.5h5.833a.5.5 0 110 1H7.917a.5.5 0 01-.5-.5zm0 3.152a.5.5 0 01.5-.5h2.5a.5.5 0 010 1h-2.5a.5.5 0 01-.5-.5z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.583 13.834a1.583 1.583 0 000 3.166.5.5 0 110 1 2.583 2.583 0 010-5.166.5.5 0 010 1z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.083 2.247C3.453 2.457 3 3.05 3 3.75v11.666a.5.5 0 01-1 0V3.75a2.583 2.583 0 012.583-2.583.5.5 0 01.5.5v11.666a.5.5 0 01-1 0V2.247z",fill:"currentColor"}))}));const ln=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M15.112 9.064a.5.5 0 01.492.41l.008.09v3.445a2.643 2.643 0 01-1.458 2.362l-.17.078-2.763 1.15a2.643 2.643 0 01-1.836.071l-.197-.073L6.44 15.45a2.643 2.643 0 01-1.618-2.252l-.007-.187V9.565a.5.5 0 01.992-.09l.008.09v3.446c0 .612.34 1.169.873 1.451l.137.065 2.747 1.147c.354.148.746.167 1.11.056l.154-.055 2.763-1.149c.566-.235.95-.763 1.005-1.365l.007-.152V9.564a.5.5 0 01.5-.5zM2.5 7.518a.5.5 0 01.492.41l.008.09v4.754a.5.5 0 01-.992.09L2 12.771V8.018a.5.5 0 01.5-.5z"}),r.createElement("path",{d:"M10.042 4.184l-7.74 3.333a.5.5 0 00.004.92l7.74 3.267a.5.5 0 00.394-.003l7.475-3.267a.5.5 0 00.003-.915l-7.474-3.333a.5.5 0 00-.402-.002zm.195 1.005l6.24 2.782-6.24 2.728L3.774 7.97l6.463-2.782z"})))}));var cn=s(54424);const dn=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M7.89 10.43c.924 0 1.68.756 1.68 1.68v4.21c0 .876-.678 1.6-1.536 1.674L7.889 18c-.925 0-1.68-.756-1.68-1.68v-4.21c0-.876.678-1.6 1.536-1.674l.144-.006zm4.22 4.209c.926 0 1.681.755 1.681 1.68 0 .877-.678 1.6-1.536 1.675l-.144.006c-.925 0-1.681-.756-1.681-1.68v-1.681h1.68zM7.89 11.43a.686.686 0 00-.674.58l-.007.1v4.21c0 .372.308.68.68.68a.686.686 0 00.674-.58l.007-.1v-4.21a.685.685 0 00-.68-.68zm4.22 4.209l-.68-.001v.681c0 .373.308.681.68.681.373 0 .681-.308.681-.68a.686.686 0 00-.58-.674l-.1-.007zM5.362 10.43v1.68c0 .877-.678 1.601-1.536 1.675l-.144.006c-.925 0-1.681-.755-1.681-1.68 0-.925.756-1.68 1.68-1.68h1.681zm10.958 0c.925 0 1.681.756 1.681 1.68 0 .926-.756 1.681-1.68 1.681h-4.21c-.924 0-1.68-.755-1.68-1.68 0-.925.756-1.68 1.68-1.68h4.21zm-11.958 1h-.68a.685.685 0 00-.681.68c0 .373.308.681.68.681a.686.686 0 00.674-.58l.007-.1v-.681zm11.958 0h-4.208a.685.685 0 00-.681.68c0 .34.255.625.58.674l.1.007h4.21c.372 0 .68-.308.68-.68a.685.685 0 00-.68-.68zM7.89 6.21c.925 0 1.681.755 1.681 1.68 0 .925-.756 1.68-1.68 1.68H3.68C2.757 9.57 2 8.815 2 7.89c0-.925.756-1.68 1.68-1.68h4.21zm8.43 0c.925 0 1.681.755 1.681 1.68 0 .925-.756 1.68-1.68 1.68h-1.681V7.89c0-.876.678-1.6 1.536-1.674l.144-.006zM12.111 2c.925 0 1.68.756 1.68 1.68v4.21c0 .876-.678 1.6-1.536 1.674l-.144.006c-.925 0-1.681-.756-1.681-1.68V3.68c0-.876.678-1.6 1.536-1.674L12.111 2zM7.889 7.209H3.681a.685.685 0 00-.681.68c0 .34.255.624.58.673l.1.008h4.21c.372 0 .68-.308.68-.68a.685.685 0 00-.68-.681zm8.43 0a.686.686 0 00-.673.58l-.007.1-.001.68h.681a.686.686 0 00.674-.58l.007-.1a.685.685 0 00-.68-.68zM12.111 3a.686.686 0 00-.674.58l-.007.1v4.21c0 .372.308.68.68.68a.686.686 0 00.674-.58l.007-.1V3.68a.685.685 0 00-.68-.68zM7.889 2c.925 0 1.681.756 1.681 1.68v1.681H7.89c-.926 0-1.681-.755-1.681-1.68 0-.877.678-1.6 1.536-1.675L7.889 2zm0 1a.685.685 0 00-.68.68c0 .34.254.625.58.674l.1.007h.68l.001-.68a.686.686 0 00-.58-.674L7.89 3z",fill:"currentColor",fillRule:"nonzero"}))}));var hn=s(50240);const un=(0,g.Z)((function(e){return r.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M15.857 5.214H4.143a2.5 2.5 0 00-2.5 2.5V13a2.5 2.5 0 002.5 2.5h11.714a2.5 2.5 0 002.5-2.5V7.714a2.5 2.5 0 00-2.5-2.5zm-11.714 1h11.714a1.5 1.5 0 011.5 1.5V13a1.5 1.5 0 01-1.5 1.5H4.143a1.5 1.5 0 01-1.5-1.5V7.714a1.5 1.5 0 011.5-1.5z"}),r.createElement("path",{d:"M5 8.429a.5.5 0 01.09.992L5 9.429h-.714a.5.5 0 01-.09-.992l.09-.008H5zM7.857 8.429a.5.5 0 01.09.992l-.09.008h-.714a.5.5 0 01-.09-.992l.09-.008h.714zM12.857 11.286a.5.5 0 01.09.992l-.09.008H7.143a.5.5 0 01-.09-.992l.09-.008h5.714zM15.714 8.429a.5.5 0 01.09.992l-.09.008H15a.5.5 0 01-.09-.992l.09-.008h.714zM15.714 11.286a.5.5 0 01.09.992l-.09.008H15a.5.5 0 01-.09-.992l.09-.008h.714zM5 11.286a.5.5 0 01.09.992l-.09.008h-.714a.5.5 0 01-.09-.992l.09-.008H5zM12.857 8.429a.5.5 0 01.09.992l-.09.008h-.714a.5.5 0 01-.09-.992l.09-.008h.714z"})))}));class pn extends r.PureComponent{constructor(...e){super(...e),this._onContactSupport=()=>{streets.hasProAccess()?this.helpscout.open():this.feedly.loadPage("pro/support")},this._onOpenKeyboardShortcuts=()=>{streets.service("helpSigns").showHelpSign()}}componentDidMount(){this.feedly=streets.service("feedly"),this.helpscout=streets.service("helpscout"),this.profile=streets.service("profile")}componentWillUnmount(){this.feedly=null,this.helpscout=null,this.profile=null}render(){const{calendlyLink:e,onClose:t}=this.props;return r.createElement("div",{className:"m-y-t"},r.createElement(b.v2,null,r.createElement(mn,{iconComponent:on,link:"https://blog.feedly.com/getting-started-with-feedly/",onClose:t},"Getting Started Guide"),r.createElement(mn,{iconComponent:ln,link:"https://feedly.helpscoutdocs.com/",onClose:t},"Knowledge Base"),r.createElement(mn,{iconComponent:ke.Z,onClick:this._onContactSupport,onClose:t},"Contact Support"),e&&(streets.hasProPlusAccess()||streets.isBusinessPlan()||streets.isEnterprisePlan())&&r.createElement(mn,{iconComponent:cn.Z,link:e,onClose:t},"Book a 1-1 Coaching Session"),r.createElement(mn,{iconComponent:dn,link:"https://blog.feedly.com/slack-community/",onClose:t},"Join Our Slack Community"),r.createElement(mn,{iconComponent:hn.Z,link:"https://twitter.com/feedly",onClose:t},"Follow Us On Twitter"),r.createElement(mn,{iconComponent:un,onClick:this._onOpenKeyboardShortcuts,onClose:t},"Keyboard Shortcuts")))}}function mn({children:e,iconComponent:t,link:s,onClick:n,onClose:i}){return r.createElement(b.sN,{onClick:()=>{s?window.open(s):n(),i()}},r.createElement(t,{importance:"secondary"}),e)}pn.propTypes={calendlyLink:u().string,onClose:u().func.isRequired},pn.defaultProps={calendlyLink:void 0},mn.propTypes={children:u().node.isRequired,iconComponent:u().elementType.isRequired,link:u().string,onClick:u().func,onClose:u().func.isRequired},mn.defaultProps={link:void 0,onClick:void 0};var gn=s(57855);class fn extends c.y{constructor(...e){super(...e),this._debounceRender=i()((e=>{a.render(r.createElement(d,null),this._leftnavWrapper,e)}),1e3,{maxWait:2e3}),this._initializeRender=()=>{this._debounceRender(this._isInitialized?void 0:this._initialize),this._debounceRender.flush(),this._isInitialized=!0},this._initialize=()=>{this._leftnavList=document.querySelector(".LeftnavList"),this._leftnavList.addEventListener("mousedown",this._handleMouseDown),document.addEventListener("mousedown",this._handleDocumentMouseDown),document.addEventListener("mouseup",this._handleDocumentMouseUp)},this._handleMouseDown=()=>{this._isMouseDownInside=!0},this._handleDocumentMouseDown=()=>{this._isMouseDown=!0},this._handleDocumentMouseUp=()=>{this._isMouseDown&&this._isPeeking&&!this._isMouseDownInside&&this._endPeek(),this._isMouseDown=!1,this._isMouseDownInside=!1}}setFeedly(e){this.feedly=e}setPersonaltags(e){this.personaltags=e}setPersonalcollections(e){this.personalcollections=e}setEnterprisetags(e){this.enterprisetags=e}setEnterprisecollections(e){this.enterprisecollections=e}setPersonalfilters(e){this.personalfilters=e}setPersonalmutefilters(e){this.personalmutefilters=e}setPriorities(e){this.priorities=e}setEnterprisepriorities(e){this.enterprisepriorities=e}setPersonalpriorities(e){this.personalpriorities=e}load(){if(this.storage=(0,l.k)(),this._isPeeking=!1,this._isHidden=!1,this._isPinned=!1,streets.getUserId()){const e=this.storage.getItem("feedly.leftnav.pinned");e?this._isPinned="yes"===e:(this.storage.setItem("feedly.leftnav.pinned","yes"),this._isPinned=!0)}this._leftnavWrapper=this.element("feedlyChrome__leftnav-wrapper"),this.feedlyChromeElem=this.element("feedlyChrome"),this._onChromeLayoutChanged()}unload(){this._leftnavList.removeEventListener("mousedown",this._handleMouseDown),document.removeEventListener("mousedown",this._handleDocumentMouseDown),document.removeEventListener("mouseup",this._handleDocumentMouseUp),this._leftnavWrapper=null,this._leftnavList=null}onUserIdentified(){this._initializeRender()}onNoUserIdentified(){this._initializeRender()}onUserUpgraded(){this._debounceRender()}onBeforePageLoad(e){this.pageInfo=e,this._isPeeking&&this._endPeek()}askMovePriority(e,t,s){this.fire("onMovePriority",e,t,s)}askMoveTeamCollection(e,t,s){this.fire("onMoveTeamCollection",e,t,s)}askMoveTeamBoard(e,t,s){this.fire("onMoveTeamBoard",e,t,s)}askMovePersonalCollection(e,t,s){this.fire("onMovePersonalCollection",e,t,s)}askMovePersonalBoard(e,t,s){this.fire("onMovePersonalBoard",e,t,s)}showFeedDragDropPlaceholders(e,t,s){this.fire("onShowFeedDragDropPlaceholders",e,t,s)}hideFeedDragDropPlaceholders(e,t,s){this.fire("onHideFeedDragDropPlaceholders",e,t,s)}showCollectionDragDropPlaceholders(e,t,s,n,i){this.fire("onShowCollectionDragDropPlaceholders",e,t,s,n,i)}hideCollectionDragDropPlaceholders(e,t,s,n,i){this.fire("onHideCollectionDragDropPlaceholders",e,t,s,n,i)}showBoardDragDropPlaceholders(e,t,s,n,i){this.fire("onShowBoardDragDropPlaceholders",e,t,s,n,i)}hideBoardDragDropPlaceholders(e,t,s){this.fire("onHideBoardDragDropPlaceholders",e,t,s)}isFullScreenMode(){return this._isHidden}getPreferredWidth(){if(this._isHidden)return 0;const e=(0,gn.x5)(document)>1440;return this._isPinned?e?384:318:e?64:48}enterFullScreenMode(){this._isHidden=!0,this._onChromeLayoutChanged(),this.feedly.reflow(),this.fire("onLeftnavHiddenChanged",!0)}isHidden(){return this._isHidden}isPinned(){return this._isPinned}leaveFullScreenMode(){this._isHidden=!1,this._onChromeLayoutChanged(),this.feedly.reflow(),this.fire("onLeftnavHiddenChanged",!1)}pin(){this._isPeeking=!0,this._isPinned=!0,this._isHidden=!1,this.storage.setItem("feedly.leftnav.pinned","yes"),this._onChromeLayoutChanged(),this.feedly.reflow(),this.fire("onLeftnavPinChanged",this._isPinned,this._isPeeking)}togglePeek(){this._isPinned||(this._isPeeking?this._endPeek():(this._isPeeking=!0,this._onChromeLayoutChanged(),this.fire("onLeftnavPinChanged",this._isPinned,this._isPeeking)))}togglePinned(){this._isPinned?this.unpin():this.pin()}unpin(){this._isPeeking=!1,this._isPinned=!1,this._isHidden=!1,this.storage.setItem("feedly.leftnav.pinned","no"),this._onChromeLayoutChanged(),this.feedly.reflow(),this.fire("onLeftnavPinChanged",this._isPinned,this._isPeeking)}_onChromeLayoutChanged(){let e;e=!streets.getUserId()&&(0,o.kC)()||this._isHidden?"feedlyChrome--leftnav-hidden":this._isPinned?"feedlyChrome--leftnav-open":this._isPeeking?"feedlyChrome--leftnav-peek":"feedlyChrome--leftnav-closed",["feedlyChrome--leftnav-hidden","feedlyChrome--leftnav-open","feedlyChrome--leftnav-peek","feedlyChrome--leftnav-closed"].forEach((e=>{this.feedlyChromeElem.classList.remove(e)})),this.feedlyChromeElem.classList.add(e)}_endPeek(){this._isPeeking&&(this._isPeeking=!1,this._onChromeLayoutChanged(),this.fire("onLeftnavPinChanged",this._isPinned,this._isPeeking))}}function yn(e){return new fn(e)}},44282:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{load(){}intialize(){}onBeforePageLoad(){this.reset()}uninitialize(){}unload(){}setMarkAsReadScope(e){this.markAsReadScope=e,this.markAsReadLimit=(new Date).getTime()}getMarkAsReadScope(){return this.markAsReadScope}getMarkAsReadLimit(){return this.markAsReadLimit}setEntries(e){this.entries=e}getEntries(){return this.entries||[]}hasEntries(){const e=this.getEntries();return e&&e.length>0}lookupEntry(e){return this.getEntries().find((t=>t.getId()===e))}listEntryIds(){let e=[];return this.getEntries().forEach((t=>{e.push(t.getId())})),e}setScrollIndex(e){this.scrollIndex!==e&&(this.scrollIndex=e,this.fire("onNavigationChanged",this.getState()))}setNextURI(e){this.nextURI=e}getNextURI(){return this.nextURI}setPreviousURI(e){this.previousURI=e}getPreviousURI(){return this.previousURI}reset(){this.entries=[],this.focusSelectedEntry=null,this.selectedEntryId=null,this.inlinedEntryId=null,this.inlineMode=null,this.selectedPreInline=null,this.markAsReadScope=null,this.nextURI=null,this.previousURI=null,this.markAsReadLimit=null,this.scrollIndex=null,this.fire("onNavigationChanged",this.getState())}selectEntry(e,t=!1){e!==this.selectedEntryId&&(this.focusSelectedEntry=t,this.selectedEntryId=e,this.fire("onNavigationChanged",this.getState()))}inlineEntry(e,t){e===this.inlinedEntryId&&t===this.inlineMode||(this.focusSelectedEntry=!1,this.selectedPreInline=null!==this.selectedEntryId,this.selectedEntryId=e,this.inlinedEntryId=e,this.inlineMode=t,this.fire("onNavigationChanged",this.getState()))}uninlineEntry(){this.inlinedEntryId&&(!0!==this.selectedPreInline&&(this.selectedEntryId=null),this.focusSelectedEntry=null,this.inlinedEntryId=null,this.inlineMode=null,this.selectedPreInline=null,this.fire("onNavigationChanged",this.getState()))}unselectEntry(){this.selectedEntryId&&(this.focusSelectedEntry=null,this.selectedEntryId=null,this.fire("onNavigationChanged",this.getState()))}getPreviousEntry(e){return this.entries[this.entries.findIndex((t=>t.id===e))-1]}lookupNextEntry(e){if(!this.entries||0===this.entries.length)return null;let t;for(let s=this._findMatchingEntryIndex(this.selectedEntryId,-1)+1;s<this.entries.length&&!t;s++)e&&this.entries[s].isRead()||(t=this.entries[s]);return t}lookupPreviousEntry(e){if(!this.entries||0===this.entries.length)return null;if(!this.selectedEntryId)return null;let t;for(let s=this._findMatchingEntryIndex(this.selectedEntryId,this.entries.length)-1;s>=0&&!t;s--)e&&this.entries[s].isRead()||(t=this.entries[s]);return t}getState(){return{focusSelectedEntry:this.focusSelectedEntry,selectedEntryId:this.selectedEntryId,inlinedEntryId:this.inlinedEntryId,inlineMode:this.inlineMode}}_findMatchingEntryIndex(e,t){for(let s=0;s<this.entries.length;s++)if(this.entries[s].getId()===this.selectedEntryId)return s;return t}}function r(e){return new i(e)}},68385:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var n=s(32735),i=s(12788),r=s(83168),a=s(55024),o=s(90197);const l=o.Z[0].data,c=o.Z[1].data,d=o.Z[3].data,h=o.Z[2].data;class u extends r.y{setAnalytics(e){this.analytics=e}load(){this.element=document.getElementById("notifications")}unload(){this.element=null}unitTest(e){switch(e){case"teamInvitee":this.askShowCarouselPopup(l).then((e=>{console.log("[journey] Team Welcome Unit test result:",e)}));break;case"boardLaunch":this.askShowCarouselPopup(c).then((e=>{console.log("[journey] Board Launch Unit test result:",e)}));break;case"filtersLaunch":this.askShowCarouselPopup(d).then((e=>{console.log("[journey] Mute Filters Launch Unit test result:",e)}));break;case"newsletterLaunch":default:this.askShowSpotlightPopup(h).then((e=>{console.log("[journey] Newsletter Launch Unit test result:",e)}))}}askShowCarouselPopup(e){return document.body.classList.add("modal-open"),new Promise(((t,s)=>{i.render(n.createElement(a.PT,{slides:e.slides,onDone:()=>{this._closeModal(),t("Done")},onClose:()=>{this._closeModal(),t("Close")},allowClose:e.allowClose}),this.element)}))}askShowSpotlightPopup(e){return document.body.classList.add("modal-open"),new Promise(((t,s)=>{i.render(n.createElement(a._t,{information:e,onPrimaryAction:()=>{this._closeModal(),t(e.primaryAction)},onTertiaryAction:()=>{this._closeModal(),t(e.tertiaryAction)},onClickOutside:()=>{this._closeModal(),t("clickOutside")},allowClose:e.closeOutside}),this.element)}))}_closeModal(){document.body.classList.remove("modal-open"),i.unmountComponentAtNode(this.element)}}function p(e){return new u(e)}},88611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var n=s(32735),i=s(12788),r=s(83168),a=s(60216),o=s.n(a),l=s(40841),c=s.n(l),d=s(6844),h=s(39970);class u extends n.Component{constructor(...e){super(...e),this.state={query:void 0,matched:[],selectedIndex:-1},this._onKeyDown=e=>{const t=e.keyCode;if(9===t||38===t||40===t||13===t&&!e.ctrlKey&&!e.metaKey){if(e.preventDefault(),38===t)this.setState((({selectedIndex:e})=>({selectedIndex:Math.max(0,e-1)})));else if(40===t)this.setState((({selectedIndex:e,matched:t})=>({selectedIndex:Math.min(t.length-1,e+1)})));else if(13===t||9===t){const e=this.state.matched[this.state.selectedIndex];e&&this.props.onPick(e.uri)}}else 27===t&&this.setState({selectedIndex:-1})},this._onKeyUp=e=>{this._updateQuery(e.target.value)}}componentDidMount(){this._updateQuery("")}render(){return n.createElement("div",{className:"QuickGoto__container"},n.createElement("input",{type:"text",id:"quickGotoInput",className:"QuickGoto__input",onKeyUp:this._onKeyUp,onKeyDown:this._onKeyDown,autoComplete:"off"}),this._renderResults())}_renderResults(){const{query:e,matched:t,selectedIndex:s}=this.state;if(!t.length)return n.createElement("div",null,"No matches");const{onPick:i}=this.props;return n.createElement("div",{className:"QuickGoto__list"},t.map(((t,r)=>{const a=t.uri,o=t.unreadCount||0;return n.createElement("div",{key:a,className:c()("QuickGoto__item",{"QuickGoto__item--selected":r===s}),onMouseEnter:()=>{this.setState({selectedIndex:r})},onClick:()=>{i(a)}},n.createElement(h.L,{wordClassName:"QuickGoto__bold",wrapper:"span",words:e,text:t.title||t.label}),o>0&&n.createElement("span",{className:"QuickGoto__unread-count"},(0,d.U)(o)))})))}_updateQuery(e){if(e===this.state.query)return;const t=new RegExp(e.replace(/(\.|\$|\^|\(|\)|\{|\|\<|\>|\?|\\)}/g,"\\$1"),"i");let s=this._doMatches(e,t);if(""===e){const e=s.filter((e=>e.unreadCount>0));e.length>2&&(s=e)}s=s.slice(0,10),this.setState({query:e,matched:s,selectedIndex:s.length>0?0:-1})}_doMatches(e,t){const{data:s,max:n}=this.props,i=[];if(!s)return i;for(let r=0;r<s.length;r++)i.length<n+0&&t.test(s[r].title||s[r].label)&&i.push(s[r]);return i}}u.propTypes={data:o().array.isRequired,max:o().number.isRequired,onPick:o().func.isRequired};var p=s(32285);class m extends r.y{constructor(...e){super(...e),this.isHidden=!0,this._onClick=e=>{this.part.contains(e.target)||this.hide()},this._onPick=e=>{this.hide(),this.feedly.loadPage(e)}}setFeedly(e){this.feedly=e}setCollections(e){this.collections=e}setPersonaltags(e){this.personaltags=e}setEnterprisetags(e){this.enterprisetags=e}setShortcuts(e){this.shortcuts=e}load(){document.addEventListener("click",this._onClick)}initialize(){this.part=this.element("quickGoto")}unload(){document.removeEventListener("click",this._onClick),this.feedly=null,this.personaltags=null,this.enterprisetags=null,this.part=null}onShortcutKey(e){e===p.PC.close&&this.hide()}onShortcutKeyInInput(e){e===p.PC.close&&this.hide()}_render0(){this.isHidden&&(this.part.style.display="block",this.part.style.webkitTransitionDuration="0ms",this.part.style.opacity=0,this.part.style.webkitTransform="scale( 0.5 )",this.isHidden=!1)}_center0(){const e=window,t=e.pageYOffset+(e.innerHeight-this.part.offsetHeight)/2+"px",s=Math.floor((e.innerWidth-this.part.offsetWidth)/2)+"px";this.part.style.top=t,this.part.style.left=s}async show(){if(null==this.home.getUserId())return;const[e,t,s,r]=await Promise.all([this.collections.askListAllFeeds(),this.collections.askListCollections(),this.personaltags.askListTags(),this.enterprisetags.askListSubscribedTags()]),a=[...t,...e,...s,...r];i.render(n.createElement(u,{onPick:this._onPick,max:1e3,data:a}),this.part),this._render0(),this.shortcuts.claim(this,p.PC.close),window.setTimeout((()=>{this._center0(),window.setTimeout((()=>{this.part.style.webkitTransitionDuration="200ms",this.part.style.opacity=1,this.part.style.webkitTransform="scale( 1 )",this.element("quickGotoInput").focus()}),10)}),10)}hide(){this.isHidden||(this.shortcuts.unclaim(this,p.PC.close),this.part.style.webkitTransitionDuration="350ms",this.part.style.opacity=0,window.setTimeout((()=>{null!=this.part&&(i.unmountComponentAtNode(this.part),this.isHidden=!0)}),500))}}function g(e){return new m(e)}},37877:(e,t,s)=>{"use strict";s.d(t,{P:()=>p,g:()=>h});var n=s(32735),i=s(12788),r=s(32285);class a extends n.Component{componentDidMount(){this.shortcuts=streets.service("shortcuts"),this.shortcuts.claim(this,r.PC.close)}componentWillUnmount(){this.shortcuts.unclaim(this,r.PC.close),this.shortcuts=null}onShortcutKey(e){e===r.PC.close&&streets.service("helpSigns").hideHelpSign()}render(){return n.createElement("div",{className:"HelpSign"},n.createElement("div",{className:"HelpSign__hint"},"ESC to close"),n.createElement("div",{className:"HelpSign__title"},"Keyboard Shortcuts Help"),r.VR.map((({sectionLabel:e,list:t})=>n.createElement("div",{key:e,className:"HelpSign__section"},n.createElement("div",{className:"HelpSign__section-title"},e),t.map((({keyboardShortcut:e,label:t})=>n.createElement("div",{key:e,className:"HelpSign__item"},n.createElement("span",{className:"HelpSign__shortcut"},e),t)))))))}}var o=s(57855),l=s(83168),c=s(16847);class d extends l.y{constructor(e,t,s,n,i,r){super(e),this._show1=()=>{null!=this._part&&(this._part.style.opacity=this._opacity/100,this._opacity+=this._increment,this._opacity>=this._targetOpacity&&(this._opacity=this._targetOpacity,this._part.style.opacity=this._targetOpacity/100),this._opacity<this._targetOpacity?this._timer=window.setTimeout(this._show1,25):this._oneShotAutoHideDelay>0?(this._timer=window.setTimeout(this._hide1,this._oneShotAutoHideDelay),this._oneShotAutoHideDelay=0):!0===this._autoHide&&this._autoHideDelay>0&&(this._timer=window.setTimeout(this._hide1,this._autoHideDelay)))},this._hide1=()=>{null!=this._part&&(this._opacity-=this._increment,this._opacity>=0?(this._part.style.opacity=this._opacity/100,this._timer=window.setTimeout(this._hide1,50)):this._hide0())},this._partId=t,this._targetOpacity=s,this._autoHideDelay=n,this._increment=i,this._centered=r,this._timer=null,this._opacity=0,this._part=null,this._autoHide=!0,this._oneShotAutoHideDelay=0}load(){}initialize(){const e=document.createElement("div");e.id=this._partId,document.body.appendChild(e),this._part=e,this._hide0()}uninitialize(){this._part=null}unload(){}getPart(){return this._part}_show0(){this._part.style.display="block",this._centered&&(this._part.style.top=document.defaultView.pageYOffset+((0,o.$$)(document)-this._part.offsetHeight)/2+"px",this._part.style.left=((0,o.x5)(document)-this._part.offsetWidth)/2+"px")}_hide0(){null!=this._part&&(this._part.style.display="none",this._opacity=0,this._timer=null,this._autoHide=!0)}showMessage(e,t,s,n){this._part.className=n||"",this._part.innerHTML=(0,c.rZ)(e),this._show(t,s)}setSecondaryMessage(e){this.setNextAutoHideDelay(3e4),this.showMessage(e,null,null,"secondary")}setDefaultErrorMessage(e){const t=e?`Error: ${e.errorMessage||e.message||e}`:"An unknown error has occurred";this.showError(t)}showError(e){this.setNextAutoHideDelay(3e3),this.showMessage(e,null,null,"error")}setHTMLMessage(e){this._part.innerHTML=e,this._show()}setNextAutoHideDelay(e){this._oneShotAutoHideDelay=e}_show(e,t){null==e&&(e=.5),e>0&&(this._opacity=e),this._autoHide=null==t||t,this._show0(),this._part.style.opacity=this._opacity/100,100==e&&0==t||(this._timer=window.setTimeout(this._show1,100))}hide(e=0){this._oneShotAutoHideDelay=0,null!=e&&(this._opacity=e),null!=this._timer&&(window.clearTimeout(this._timer),this._timer=null),0===e?this._hide0():this._timer=window.setTimeout(this._hide1,1)}isVisible(){return this._opacity>0}}function h(e){return new d(e,"feedlySignPart",99,1500,10,!1)}class u extends d{showHelpSign(){i.render(n.createElement(a,null),this._part),this._show()}hideHelpSign(){i.unmountComponentAtNode(this._part)}}function p(e){return new u(e,"feedlyHelpSignPart",100,0,30,!0)}},90986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var n=s(32735),i=s(12788),r=s(60216),a=s.n(r),o=s(40841),l=s.n(o),c=s(26211),d=s.n(c),h=s(89248),u=s(96148),p=s(763),m=s(45538),g=s(75401),f=s(25697);class y extends n.Component{constructor(e){super(e),this.state={isSubscribed:null,feedId:null,feedTitle:null}}onFeedChanged(e){e===this.state.feedId&&this._updateIsSubscribed()}UNSAFE_componentWillMount(){this.feeds=streets.service("feeds"),this.reader=streets.service("reader"),this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),this.reader.askLookupEntry(this.props.entryId).then((e=>{e?e.getFeedId()?e.metadata.tutorial||this.setState({feedId:e.getFeedId(),feedTitle:e.getSourceTitle()},(()=>{this.reader.registerObserver(this),this._updateIsSubscribed()})):$feedly("[follow header] entry has not feed:"+this.props.entryId):$feedly("[follow header] entry not found:"+this.props.entryId)}))}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.reader.unregisterObserver(this),this.enterprisecollections=null,this.personalcollections=null,this.reader=null,this.feeds=null}render(){let e=this.state;return null===e.isSubscribed||e.isSubscribed?null:n.createElement("div",{className:"u100Header-banner"},n.createElement("div",{className:"sliderWidth sliderCenter fx"},n.createElement(f.A,{float:"right",feedId:e.feedId,size:"small"}),n.createElement("div",{className:"u100Header-banner-info"},"Get"," ",n.createElement("span",{ref:"feedTitle",className:"u100Header-banner-title",id:"banner100title"}," ",n.createElement("b",null,e.feedTitle)," ")," ","delivered to your Feedly.")))}async _updateIsSubscribed(){const{feedId:e}=this.state;if(!e)return void this.setState({isSubscribed:null});let t=await this.feeds.askMetadata(e);if(!this.feeds)return;const s=await this.feeds.askIsFeedSubscribed(t);this.setState({isSubscribed:s})}}y.propTypes={entryId:a().string.isRequired};var v=s(37679),b=s(32285),E=s(47264),C=s(7004),w=s(89401),k=0;class _ extends n.Component{constructor(e){super(e),this.addEntrySlide=(e,t,s)=>{this._addBodyOverlay();let n=this.state.slides.slice(0),i=n[n.length-1];i&&"entry"===i.type&&t&&t.switchable&&(n.pop(),this.refs.scroller&&(this.refs.scroller.scrollTop=0));let r={id:e,type:"entry",onClose:s,navigatable:t.navigatable,customPath:`entry/${e}`};n.push(r),this.setState({slides:n},(()=>{this._fireOnSlideChanged(r)}))},this.addReactSlide=(e,t,s)=>{this._addBodyOverlay(),null==t&&(t={}),t.onDone=this.closeTop;let n=this.state.slides.slice(0);var i=Object.assign(s||{},{id:"reactComponent-"+k++,type:"react",reactClass:e,reactProps:t});n.push(i),this.setState({slides:n},(()=>{this._fireOnSlideChanged(i)}))},this.addSlide=(e,t,s,n)=>{if("entry"===t)return void this.addEntrySlide(e,{},n);this._addBodyOverlay();const i=this.state.slides[this.state.slides.length-1];i&&"feed"===t&&i.id===e?streets.service("feedly").loadPage("subscription/"+encodeURIComponent(e)):i&&i.id==e&&i.type==t||this.createSlide(e,t,s,n)},this.closeAll=()=>{if(!0===this.closingAll)return;const e=this.state.slides.slice(0);0!==e.length&&(this.closingAll=!0,this.setState({slides:[]},(()=>{this.closingAll=!1,this._removeBodyOverlay();for(let t=e.length-1;t>=0;t--)e[t].onClose&&e[t].onClose(e[t].id);this.props.slideBridge.fire("onSliderClosed")})))},this.closeTop=e=>{let t=this.state.slides.slice(0);if(!t.length)return;let s=t.pop();this.setState({slides:t},(()=>{s.onClose?s.onClose(s.id,e):s.reactProps&&s.reactProps.onClose&&s.reactProps.onClose(s.id,e),t.length>0&&this._fireOnSlideChanged(t[t.length-1]),0===t.length&&(this._removeBodyOverlay(),this.props.slideBridge.fire("onSliderClosed"))}))},this.confirmCloseAll=async()=>{const e=this._slideBodyRef&&this._slideBodyRef.current;e&&e.askConfirmExit&&await e.askConfirmExit(),this.closeAll()},this.confirmCloseTop=async e=>{const t=this._slideBodyRef&&this._slideBodyRef.current;t&&t.askConfirmExit&&await t.askConfirmExit(),this.closeTop(e)},this.createSlide=(e,t,s,n)=>{if("feed"===t)return void this.addReactSlide(C.L,{streamId:e},{customPath:`subscription/${encodeURIComponent(e)}`});const i={id:e,type:t,stream:"searchResult"===t?s:null,onClose:n};let r=this.state.slides.slice(0);r.push(i),this.setState({slides:r},(()=>{this._fireOnSlideChanged(i)}))},this.getScrollTarget=()=>{if(!this.hasSlides())return null;const e=document.getElementsByClassName("floatingEntryScroller");return e.length>0?e[e.length-1]:null},this.hasSlides=()=>this.state.slides&&this.state.slides.length>0,this.switchSlide=(e,t,s,n)=>{const i=this.state.slides[this.state.slides.length-1];!i&&n||(i&&i.type===t?(this.refs.scroller&&(this.refs.scroller.scrollTop=0),this.state.slides.pop(),this.createSlide(e,t,i.stream,s||i.onClose)):this.addSlide(e,t,null,s))},this._animateOpen=e=>{const t=Math.ceil((Date.now()-this.endTime)*e);this.endTime=Date.now();const s=Math.min(this.state.right+t,0);this.setState({right:s}),0==s&&clearInterval(this.openInterval)},this._onKeyDown=e=>{if(!(0,m.E)(e)&&this.refs.scroller){let t=!1;switch(e.key){case"ArrowDown":t=30;break;case"PageDown":t=window.innerHeight-81;break;case"ArrowUp":t=-30;break;case"PageUp":t=-1*(window.innerHeight-81);break;case" ":t=(window.innerHeight-81)*(e.shiftKey?-1:1)}t&&(this.refs.scroller.scrollTop+=t,e.preventDefault(),e.stopImmediatePropagation(),this.dots.askClosePopovers())}},this._onTouchEnd=()=>{this.state.right<-200?(this.closeTop(),this.setState({right:0})):this.touchStarted&&(this.endTime=Date.now(),clearInterval(this.openInterval),this.openInterval=setInterval((()=>{this._animateOpen(1.4)}),16)),this.touchStarted=!1,this.touchInitial=!1},this._onTouchMove=e=>{var t=e.touches[0].screenX-this.lastX,s=e.touches[0].screenY-this.lastY;if(this.touchInitial){var n=Math.abs(t);Math.abs(1.5*s)<n&&(this.touchStarted=!0),this.touchInitial=!1}this.touchStarted&&(e.preventDefault(),this.lastX=e.touches[0].screenX,this.setState({right:Math.min(this.state.right-t,0)}))},this._onTouchStart=e=>{clearInterval(this.openInterval),this.lastX=e.touches[0].screenX,this.lastY=e.touches[0].screenY,this.touchInitial=!0},this._slideBodyRef=n.createRef(),this.state={slides:[],right:0}}componentDidMount(){this.dots=streets.service("dots"),this.shortcuts=streets.service("shortcuts"),this._feedlyChrome=document.getElementById("feedlyChrome"),this.props.slideBridge.hasSlides=this.hasSlides,this.props.slideBridge.addSlide=this.addSlide,this.props.slideBridge.addReactSlide=this.addReactSlide,this.props.slideBridge.addEntrySlide=this.addEntrySlide,this.props.slideBridge.switchSlide=this.switchSlide,this.props.slideBridge.closeAll=this.closeAll,this.props.slideBridge.closeTop=this.closeTop,this.props.slideBridge.getScrollTarget=this.getScrollTarget,window.addEventListener("keydown",this._onKeyDown)}componentDidUpdate(e,t){const{slides:s}=this.state,{slides:n}=t;s.length&&!n.length?(this.shortcuts.claim(this,b.PC.close),this._feedlyChrome.setAttribute("aria-hidden","true")):!s.length&&n.length&&(this.shortcuts.unclaim(this,b.PC.close),this._feedlyChrome.setAttribute("aria-hidden","false"))}componentWillUnmount(){this.openInterval&&clearInterval(this.openInterval),this.dots=null,this._slideBodyRef=null,window.removeEventListener("keydown",this._onKeyDown),this.props.slideBridge.hasSlides=null,this.props.slideBridge.addSlide=null,this.props.slideBridge.closeAll=null,this.props.slideBridge.switchSlide=null,this.props.slideBridge.closeTop=null,this.props.slideBridge.addReactSlide=null,this.props.slideBridge.addEntrySlide=null,this.props.slideBridge.getScrollTarget=null,document.body.style.overflow="auto"}onShortcutKey(e){e===b.PC.close&&this.closeTop()}render(){let e,t;const s=this.state.slides.length-1;let i=null;if(this.state.slides&&this.state.slides.length>0&&(i=this.state.slides[s]),e=this.state.slides.map(((e,t)=>{const i=s===t,r=44*(s-t)-4+"px",a=this._renderSlideHeader(e),o="entry"===e.type;let c;return t>s-3&&(c=n.createElement(n.Fragment,null,a,n.createElement("div",{key:"scroller-"+e.id,ref:"scroller",className:"floatingEntryScroller"},this._renderSlideBody(e,i)))),n.createElement(h.Z,{classNames:"slideInContent",key:t,timeout:{enter:350,exit:350},in:!0},n.createElement(d(),{focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:!1,fallbackFocus:".sliderContainer--current",initialFocus:o?".sliderContainer--current":void 0}},n.createElement("div",{"aria-label":o?"Opened Article":void 0,"aria-hidden":!i,"aria-modal":"true",className:l()("floatingEntryContent sliderContainer",{"sliderContainer--current":i}),style:{boxShadow:t>s-2?null:"none",right:i?this.state.right+"px":0},role:"dialog",tabIndex:"-1"},!i&&n.createElement("div",{className:"floatingEntryContent__slide-overlay"}),c,n.createElement("div",{className:l()("floatingEntryContent__tab fx",{"floatingEntryContent__tab--current":i}),style:{top:r}},n.createElement(E.zx,{"aria-label":"Close",className:"floatingEntryContent__tab-button m-r-0",icon:n.createElement(p.Z,null),importance:"",onClick:this.confirmCloseTop})))))})),e.length>0){let e=this.confirmCloseAll,s={cursor:"pointer"};i&&i.reactProps&&!1===i.reactProps.easyClose&&(e=null,s={cursor:"default"}),t=n.createElement(h.Z,{classNames:"entry-overlay",timeout:{enter:300,exit:300},in:!0},n.createElement("div",{className:"entry-overlay",style:s,onClick:e}))}return n.createElement("div",{onKeyPress:this.keypress,onTouchEnd:this._onTouchEnd,onTouchMove:this._onTouchMove,onTouchStart:this._onTouchStart},n.createElement(u.Z,null,t,e))}_renderSlideBody(e,t){return"entry"===e.type?n.createElement(g.c,{ref:this._slideBodyRef,entryId:e.id,isCurrent:t,navigatable:e.navigatable}):null!=e.reactClass?n.createElement(e.reactClass,{...e.reactProps,ref:this._slideBodyRef}):"searchResult"===e.type?n.createElement(w.UI,{initialTerm:e.id,initialScope:e.stream}):void 0}_renderSlideHeader(e){return"entry"===e.type?[n.createElement(y,{key:"follow-header-"+e.id,entryId:e.id}),n.createElement(v.W,{key:"share-bar-"+e.id,entryId:e.id})]:null}_addBodyOverlay(){document.body.style.overflow="hidden"}_fireOnSlideChanged(e){this.dots.askClosePopovers(),e&&"entry"===e.type&&(this.selectedEntry=e.id),this.props.slideBridge.fire("onSlideChanged",e)}_removeBodyOverlay(){document.body.style.overflow="auto"}}_.propTypes={slideBridge:a().shape({fire:a().func.isRequired,addEntrySlide:a().func,addReactSlide:a().func,addSlide:a().func,closeAll:a().func,closeTop:a().func,getScrollTarget:a().func,hasSlides:a().func,switchSlide:a().func}).isRequired};var M=s(85933),S=s(83168);class T extends S.y{load(){}initialize(){i.render(n.createElement(M.S,null,n.createElement(_,{slideBridge:this})),document.getElementById("floatingEntry"))}onBeforePageLoad(e,t){t&&this.closeAll()}}function I(e){return new T(e)}},54107:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var n=s(85646),i=s.n(n),r=s(24340),a=s.n(r),o=s(89793),l=s.n(o),c=s(83168),d=s(61861),h=s(74221),u=s(93023),p=s(99220),m=s(3167),g=s(84955),f=s(75320),y=s(99442),v=s(65698),b=s(98521),E=s(3e3);const C=Object.freeze({service:"Alerts",listWebAlertSources:"askListWebAlertSources"});class w extends c.y{setEnterprisecollections(e){this.enterprisecollections=e}setFeeds(e){this.feeds=e}setLeo(e){this.leo=e}setPersonalcollections(e){this.personalcollections=e}setPreferences(e){this.preferences=e}setNet(e){this.net=e}load(){this.cache={}}unload(){this.cache={},this.enterprisecollections=null,this.feeds=null,this.net=null,this.personalcollections=null,this.preferences=null}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}async askAlertsVelocities(e){if(!e)throw new Error("Web alert info is required");const{velocities:t}=await this.net.POST("!{cloud}/v3/alerts/velocities",e).then(JSON.parse);return t}async askCreate(e){if(!e)throw new Error("Web alert info is required");const t=await this.net.POST("!{cloud}/v3/alerts",e).then(JSON.parse).then((e=>(this.cache.alerts=null,e)));return this.fire("onAlertCreated",t.feedId,e.categoryId),t}askDebugClusters(e){window.open(`https://ml.feedly.com/memes/web-alerts/${e}`)}askDebugTopic(e,t){window.open(`https://ml.feedly.com/ml-topics-datasets/datasets/web-alerts/${e}?resourceId=${encodeURIComponent(t)}`)}async askSave(e,t){if(!e||!t)throw new Error("Web alert Id and Web alert info is required");const{feedId:s,initialSearchOptions:n,searchOptions:i,title:r}=t,a=(0,u.i7)(n,i);let o;if(a){const n=this.preferences.getPreference(m.aR,decodeURIComponent((0,E.n2)()));o=await this.askRecreateAlert(e,t,s),await this.preferences.askSetPreference(m.aR,n,decodeURIComponent((0,p.no)(o.feedId)))}else o=await this.net.PUT("!{cloud}/v3/alerts/"+encodeURIComponent(e),i).then(JSON.parse).then((e=>(this.cache.alerts=null,e))),await this.feeds.askRenameFeed(o.feedId,r);return this.fire("onAlertsChanged"),{webAlert:o,isRecreated:a}}async askRecreateAlert(e,t,s){if(!e||!t||!s)throw new Error("Web alert Id, Web alert info, and feedId are required");const n=await this.feeds.askListAllCollectionsForFeed(s);if(!n.length)throw new Error(`Unable to recreate Web Alert '${e}, which isn't in any Feeds`);const{searchOptions:{layers:i,source:r},title:a}=t,o=await this.askCreate({categoryId:n[0].id,layers:i,source:r,title:a});for(let l=0;l<n.length;l+=1){const e=n[l],{isEnterprise:t}=(0,h.Yg)(e.id),i=t?this.enterprisecollections:this.personalcollections;await i.askRemoveFeed(e.id,s)}for(let l=1;l<n.length;l+=1){const e=n[l],{isEnterprise:t}=(0,h.Yg)(e.id),s=t?this.enterprisecollections:this.personalcollections;await s.askAddFeed(e.id,{id:o.feedId}),this.fire("onAlertCreated",o.feedId,e.id)}return await this.askDelete(e),o}async askDelete(e){await this.net.DEL("!{cloud}/v3/alerts/"+encodeURIComponent(e)),this.cache.alerts=null,this.fire("onAlertsChanged")}async askInfo(e){if(!e)return{};return await this.net.GET("!{cloud}/v3/alerts/"+encodeURIComponent(e)).then(JSON.parse)}async askListWebAlertSources(){let e=(0,d.Z)(C.service,C.listWebAlertSources);return this.cache.alerts?Promise.resolve(this.cache.alerts):e||(e=this.net.GET("!{cloud}/v3/alerts").then(JSON.parse).then((e=>(this.cache.alerts=e,e))),(0,d.Z)(C.service,C.listWebAlertSources,e),e)}async askHasWebAlertsAccess(){const e=this.preferences.getPreference(m.b2).includes(m.vA),t=await this.leo.askIsLeoEnabled();return e||streets.isEnterprisePlan()&&t}async getWebAlertSourceMode(){const e=(await this.leo.askListUserEnterpriseFeatures()).reduce(((e,t)=>(e[t]=!0,e)),{}),t=!!e[g.tp.Biopharma],s=!!e[g.tp.LeoSecurity],n=this.preferences.getPreference(m.A1);let i;return i=n===f.Zx.auto?s?f.Zx.cybersecurity:t?f.Zx.biopharma:f.Zx.industryIntelligence:streets.isEnterprisePlan()?n:f.Zx.industryIntelligence,i}async enrichLayers(e){return Promise.all(e.map((async e=>{if(e&&e.type===y.ur.matches){const t=i()(e.parts,l());let s=await Promise.all(t.map((e=>(0,v.ft)(e.id)||(0,v.jP)(e.id)?this.leo.askEntityInfo(e.id):e)));return{...e,parts:s}}return e})))}async enrichPublicationTypes(e=[],t,s){const{defaultPublications:n,discoveryTopics:i}=e.reduce(((e,t)=>(t.startsWith(f.zE)?e.discoveryTopics=[...e.discoveryTopics,{id:t,label:t.split(f.zE)[1]}]:e.defaultPublications=[...e.defaultPublications,f.Dc[t]],e)),{defaultPublications:[],discoveryTopics:[]});return[...s[t].map((e=>({...e,checked:n.includes(f.Dc[e.id])}))),...await Promise.all(i.map((async e=>{const{feedInfos:t}=await this.leo.askDiscoveryTopic(e.label);return{id:e.id,label:a()(e.label),checked:!0,examples:t.slice(0,b.Z0),type:f.mn.discovery}})))]}}function k(e){return new w(e)}},75509:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var n=s(64498),i=s(3e3),r=s(83168),a=s(28514),o=s(35610);const l="UA-50514009-5",c="UA-50514009-6",d="UA-50514009-7",h="UA-50514009-8",u="UA-50514009-10",p="UA-74362112-1",m="UA-82275407-6",g="UA-82275407-7",f="UA-82275407-8",y="UA-82275407-9",v="UA-82275407-10",b="UA-82275407-11",E="UA-82275407-12",C="UA-82275407-2",w="UA-82275407-1",k="UA-82275407-3",_={wave:"dimension1",bucket:"dimension2",plan:"dimension3",experience:"dimension4",locale:"dimension5"},M={wave:"dimension1",launchCohort:"dimension2",landingVisitCount:"dimension3",landingDesign:"dimension4",loginStatus:"dimension5",trigger:"dimension6"},S={wave:"dimension1",welcomeDesign:"dimension2",loginStatus:"dimension3",trigger:"dimension4",partner:"dimension5"};class T extends r.y{constructor(...e){super(...e),this._askIsGADisabled=async()=>!!(0,a.p1)()||await this.enterprise.askIsAdvancedPrivacyOn()}setEnterprise(e){this.enterprise=e}setNet(e){this.net=e}load(){this.customTrackers={},this.customTrackerCounter=0,this.isGADisabled=null,this.isFeedlyGoogleAnalyticsInserted=!1}onUserIdentified(){this._initializeWithUser()}onNoUserIdentified(){this._initializeWithoutUser()}unload(){this.enterprise=null,this.net=null}async onEnterpriseChanged(){await this._askIsGADisabled()!==this.isGADisabled&&await this._initializeWithUser()}setCustomVar(e,t){this.isGADisabled||(null!=_[e]?ga("unified.set",_[e],t):$feedly("[analytics] unknown custom dimension:"+e))}setTeamDimension(e,t){this.isGADisabled||(null!=M[e]?ga("team.set",M[e],t):$feedly("[analytics] unknown team custom dimension:"+e))}setBasicDimension(e,t){this.isGADisabled||(null!=S[e]?ga("basic.set",S[e],t):$feedly("[analytics] unknown basic custom dimension:"+e))}trackPageview(e){this.isGADisabled||ga("unified.send","pageview",e)}trackLeoPageview(e){this.isGADisabled||ga("leo.send","pageview",e)}trackLeoEvent(e,t,s,n){this.isGADisabled||ga("leo.send","event",e,t,s,n)}trackLeoAboutPageview(e){this.isGADisabled||ga("leoAbout.send","pageview",e)}trackLeoAboutEvent(e,t,s,n){this.isGADisabled||ga("leoAbout.send","event",{eventCategory:e,eventAction:t,eventLabel:s,eventValue:n})}trackDiscoverPageview(e){this.isGADisabled||ga("discover.send","pageview",e)}trackDiscoverEvent(e,t,s,n){this.isGADisabled||ga("discover.send","event",e,t,s,n)}trackGuidedWebAlertEvent(e,t,s,n){this.isGADisabled||ga("guidedWebAlerts.send","event",e,t,s,n)}trackSeoPageview(e){this.isGADisabled||ga("seo.send","pageview",e)}trackSeoEvent(e,t,s,n){this.isGADisabled||ga("seo.send","event",e,t,s,n)}trackNewFeaturesEvent(e,t,s,n){this.isGADisabled||ga("newFeatures.send","event",e,t,s,n)}trackOnboardingPageview(e){this.isGADisabled||ga("onboarding.send","pageview",e)}trackProPageview(e,t){if(this.isGADisabled)return;let s=(0,n.E)()?"v9":"v10";streets.getUserId()||(s="v999");ga("pro.send","pageview",s+"/"+e,t)}trackProEvent(e,t,s,n){this.isGADisabled||ga("pro.send","event",e,t,s,n)}trackLandingPageview(e){this.isGADisabled||ga("landing.send","pageview",e)}trackBannerPageview(e){this.isGADisabled||ga("banner.send","pageview",e)}trackPersonalizePageview(e){this.isGADisabled||ga("personalize.send","pageview",e)}trackDiscoveryPageview(e){this.isGADisabled||ga("discovery.send","pageview",e)}trackExtensionPageview(e){this.isGADisabled||ga("extension.send","pageview",e)}trackEvent(e,t,s,n){this.isGADisabled||ga("unified.send","event",e,t,s,n)}trackEntryPageView(e){if(!this.isGADisabled)try{const t=e.webfeeds.analyticsId;if(null==t)return;const s="/"+e.getCleanAlternateLink().split("/").slice(3).join("/"),n=e.getCleanTitle()+" [feedly]",i=this._lookupCustomTracker(t);ga(i+".set","campaignSource","feedly"),ga(i+".set","campaignMedium","newsfeed"),ga(i+".set","campaignContent","webfeeds"),ga(i+".send","pageview",{page:s,title:n})}catch(t){$feedly("[analytics] failed to report custom page view:"+t.name+" -- "+t.message)}}trackEntryEvent(e,t,s,n,i){if(this.isGADisabled)return;const r=e.webfeeds.analyticsId;if(null==r)return;const a="/"+e.getCleanAlternateLink().split("/").slice(3).join("/");ga(this._lookupCustomTracker(r)+".send","event","feedly",t+"."+s,a,i)}incrementDashboardEvent(e){this.net.POST("!{cloud}/v3/dailycounter/"+e,"").catch(console.warn)}buildProAnalyticsPath(e,t,s,n,i,r){let a=`${e}/${t}`;return s&&(a+=`/${s}`),n&&(a+=`/${n}`),i&&(a+=`/${i}`),r&&(a+=`/${r}`),a}reportBasicEngagement(e){if(!this.isGADisabled)try{ga("basic.send","pageview",e)}catch(t){$feedly("[analytics] reporting basic engagement failed:"+e+" because "+t.name)}}reportBasicEvent(e,t,s){if(!this.isGADisabled)try{ga("basic.send","event",e,t,s)}catch(n){$feedly("[analytics] reporting basic event failed:"+e+" ("+t+") because "+n.name)}}reportTeamEngagement(e){if(!this.isGADisabled)try{ga("team.send","pageview",e)}catch(t){$feedly("[analytics] reporting team engagement failed:"+e+" because "+t.name)}}reportTeamEvent(e,t,s,n){if(!this.isGADisabled)try{ga("team.send","event",e,t,s,n)}catch(i){$feedly("[analytics] reporting team event failed:"+e+" ("+t+") because "+i.name)}}trackJourneyEvent(e,t){let s="https://a.feedly.com/journey?event="+encodeURIComponent(e)+"&ck="+(new Date).getTime()+"&ad=10&ct="+feedlyApplicationType+"&cv=31.0.1284";if(this.home.getUserId()&&(s+="&userId="+encodeURIComponent(this.home.getUserId())),t){let e=(0,o.m1)(t);e&&(s+="&"+e)}this.net.POST(s,"").catch((t=>{$feedly("[analytics][journey] failed to record "+e+" because "+t)}))}trackAdPageview(e){if(!this.isGADisabled)try{ga("ads.send","pageview",e)}catch(t){$feedly("[analytics] reporting ad pageview failed:"+e+" because "+t.name)}}_lookupCustomTracker(e){if(this.isGADisabled)return;if(null!=this.customTrackers[e])return this.customTrackers[e];const t="t"+this.customTrackerCounter++;return ga("create",e,"auto",{name:t,alwaysSendReferrer:!0,referrer:"http://feedly.com"}),ga(t+".set","referrer","http://feedly.com"),this.customTrackers[e]=t,t}_insertGoogleAnalyticsScript(){if(this.isFeedlyGoogleAnalyticsInserted)return;window.ga.l=1*new Date;const e=document,t="script",s=e.createElement(t),n=e.getElementsByTagName(t)[0];s.async=1,s.src="//www.google-analytics.com/analytics.js",n.parentNode.insertBefore(s,n),this.isFeedlyGoogleAnalyticsInserted=!0}async _initializeWithUser(){if(this.isGADisabled=await this._askIsGADisabled(),this.isGADisabled)return;this._insertGoogleAnalyticsScript(),ga("create",d,"auto",{name:"landing"}),ga("create",c,"auto",{userId:this.home.getUserId(),name:"unified"}),ga("create",l,"auto",{userId:this.home.getUserId(),name:"pro"}),ga("create",m,"auto",{userId:this.home.getUserId(),name:"leo"}),ga("create",g,"auto",{userId:this.home.getUserId(),name:"discover"}),ga("create",y,"auto",{userId:this.home.getUserId(),name:"onboarding"}),ga("create",f,"auto",{userId:this.home.getUserId(),name:"seo"}),ga("create",w,"auto",{userId:this.home.getUserId(),name:"team"}),ga("create",C,"auto",{userId:this.home.getUserId(),name:"basic"}),ga("create",k,"auto",{userId:this.home.getUserId(),name:"ads"}),ga("create",h,"auto",{userId:this.home.getUserId(),name:"discovery"}),ga("create","UA-50514009-9","auto",{userId:this.home.getUserId(),name:"personalize"}),ga("create",u,"auto",{userId:this.home.getUserId(),name:"banner"}),ga("create",p,"auto",{userId:this.home.getUserId(),name:"extension"}),ga("create",v,"auto",{userId:this.home.getUserId(),name:"leoAbout"}),ga("create",b,"auto",{userId:this.home.getUserId(),name:"newFeatures"}),ga("create",E,"auto","guidedWebAlerts",{userId:this.home.getUserId(),name:"guidedWebAlerts"}),ga("extension.set","checkProtocolTask",(function(){})),ga("extension.set","checkStorageTask",(function(){}));const{wave:e}=streets.service("profile").getUserInfo();null!=e&&(this.setCustomVar("wave",e),this.setBasicDimension("wave",e),this.setTeamDimension("wave",e),ga("pro.set","dimension1",e)),this.setCustomVar("locale",(0,i.tN)(),1)}async _initializeWithoutUser(){this.isGADisabled=await this._askIsGADisabled(),this.isGADisabled||(this._insertGoogleAnalyticsScript(),ga("create",d,"auto",{name:"landing"}),ga("create",c,"auto",{name:"unified"}),ga("create",l,"auto",{name:"pro"}),ga("create",m,"auto",{name:"leo"}),ga("create",g,"auto",{name:"discover"}),ga("create",f,"auto",{name:"seo"}),ga("create",y,"auto",{name:"onboarding"}),ga("create",C,"auto",{name:"basic"}),ga("create",k,"auto",{name:"ads"}),ga("create",w,"auto",{name:"team"}),ga("create",h,"auto",{name:"discovery"}),ga("create",u,"auto",{name:"banner"}),ga("create",p,"auto",{name:"extension"}),ga("create",v,"auto",{name:"leoAbout"}),ga("create",b,"auto",{name:"newFeatures"}),ga("create",E,"auto",{name:"guidedWebAlerts"}),ga("extension.set","checkProtocolTask",(function(){})),ga("extension.set","checkStorageTask",(function(){})))}}function I(e){return new T(e)}},70178:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(83168),i=s(86312),r=s.n(i);const a="ballotDetails";class o extends n.y{setNet(e){this.net=e}setPreferences(e){this.preferences=e}load(){this.cache={},this.preferences.registerObserver(this)}unload(){this.cache={},this.preferences.unregisterObserver(this),this.net=null,this.preferences=null}onPreferenceChanged(e){e===a&&(this.cache.preferences=null)}onPreferencesReady(){this._askIsPreferencesReady(),this._setIsPreferencesReady(!0)}askRefresh(){return this.cache={},Promise.resolve()}askBallotInfo(){return this._askIsVotingEnabled().then((e=>e?this.cache.ballot?this.cache.ballot:this.net.GET("!{cloud}/v3/ballot/tech").then(JSON.parse).then(((e={})=>(this.cache.ballot=e,e))):{}))}async askHideBallot(){if(!streets.getUserId())throw new Error("Logged out users cannot interact with ballots");return this._askPreferences().then((e=>{const t=new Date,{closeCount:s=0}=e;this.preferences.setPreference(a,JSON.stringify({closeCount:s+1,lastActionDate:t.getTime()}))}))}async askSaveVote(e,t){if(!streets.getUserId())throw new Error("Logged out users cannot vote on ballots");return this.net.POST("!{cloud}/v3/vote",{choice:t,id:e}).then((e=>e?JSON.parse(e):null)).then((e=>this._askPreferences().then((t=>{const s=new Date,{closeCount:n=0}=t;return this.preferences.setPreference(a,JSON.stringify({closeCount:n,lastActionDate:s.getTime()})),this.cache.ballot=null,e}))))}_askIsPreferencesReady(){return this._isPreferencesReadyPromise||(this._isPreferencesReadyPromise=new Promise((e=>{this._setIsPreferencesReady=e}))),this._isPreferencesReadyPromise}_askIsVotingEnabled(){return streets.getUserId()?this._askPreferences().then((e=>{const{closeCount:t=0,lastActionDate:s}=e;return t<2&&(!s||!r()(s))})):Promise.resolve(!1)}_askPreferences(){return this._askIsPreferencesReady().then((()=>{if(!this.cache.preferences){const e=this.preferences.getPreference(a);this.cache.preferences=e?JSON.parse(e):{}}return this.cache.preferences}))}}function l(e){return new o(e)}},23861:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(94866),i=s(74221),r=s(83168);const a=Object.freeze({mobile:{zoneKey:"CEBI423W",fallback:"CE7DL5QN"},web:{zoneKey:"CEBI423I",fallback:"CKYDK237"}}),o=["tech","marketing","design","python","programming","development","webdevelopment","php","dev","ruby","javascript","frontend","coding","bitcoin","cryptocurrency","ethereum","food","music","technology","art","fashion","photography","lifestyle","science","comics","business","politics","fun","sports","finance","entertainment","travel","health","cooking","security","culture","education","books","games","gaming","style","beauty","crafts","software","inspiration","fitness","web","humor","sewing","writing","diy","economics","apple","craft","knitting","linux","social media","geek","webcomics","funny","web design","android","manga","recipes","law","parenting","illustration","microsoft","seo","mobile","productivity","film","artists","running","mac","architecture","quilting","advertising","investing","cycling","crafty","gadgets","web development","code","ux","google","real estate","shopping","philosophy","cars","football","graphic design","gardening","entrepreneurship","startups","gardening","thinkers","decorating","leadership","interior design","trading","analytics"];class l extends r.y{setNet(e){this.net=e}setFeeds(e){this.feeds=e}load(){this.isAdBlockerEnabled=!1,this.isBSAServiceRunning=!1}initialize(){this._checkAdsBlocked()}unload(){this.net=null,this.feeds=null}async askBSASponsor(e){if(this.isAdBlockerEnabled)return void this.fire("onBSALoaded",null);let t=!0;const{isFeed:r,isTag:o}=(0,i.Yg)(e);if(o)t=!1;else if(r){const s=await this.feeds.askMetadata(e);(0,n.Co)(s)&&(t=!1)}t?s.e(9544).then(s.t.bind(s,69544,23)).then((()=>{if(window._bsa.callback=async t=>{try{if(0===t.ads.length)this.fire("onBSALoaded",null);else{document.querySelectorAll('[id^="_bsa_srv-"]').forEach((e=>{e.parentNode.removeChild(e)}));const s=document.getElementById("bsaPlaceholder");for(;s.hasChildNodes();)s.removeChild(s.firstChild);const n=await this.askListSegments();if(0===n.length)this.fire("onBSALoaded",null);else{const s=this._enrichAd(t.ads[0],n);this.fire("onBSALoaded",s),this.fire("onStreamStateChanged",e)}}}catch(s){console.error("BSA Error",s),this.fire("onBSALoaded",null)}this.isBSAServiceRunning=!1},this.isBSAServiceRunning)return;this.isBSAServiceRunning=!0;const{zoneKey:t,fallback:s}=a.web;window._bsa.init("custom",t,"placement:feedlycom-1",{target:"#bsaPlaceholder",fallback:s,template:"<div></div>"})})).catch((e=>{console.error(`Unable to load BSA: ${e}`),this.fire("onBSALoaded",null)})):this.fire("onBSALoaded",null)}async _checkAdsBlocked(){try{const e=new Request("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",mode:"no-cors"});await fetch(e)&&(this.isAdBlockerEnabled=!1)}catch(e){this.isAdBlockerEnabled=!0}}_enrichAd(e,t){return e?(e.adId="bsa-ad",e.getId=function(){return this.adId},e.callToAction||(e.callToAction="Explore"),e.clickUrl=e.statlink+"?segment="+t.join(";"),e.impressionUrl=e.statimp+"?segment="+t.join(";"),e.image=e.image||e.smallImage,e.header=e.header||e.companyTagline||e.title,e.sub=e.sub||e.description,e.pixel&&(e.pixels=e.pixel.replace(/\[timestamp\]/gi,0|Math.round(Date.now()/1e4)).split("||")),e&&e.bannerid&&(this._updateFrequencyCap("_bsap_daycap",e.bannerid,1),this._updateFrequencyCap("_bsap_lifecap",e.bannerid,365)),e):e}_updateFrequencyCap(e,t,s){const n=document.cookie,i=n.indexOf(e+"="),r=i>=0?n.substring(i+e.length+1).split(";")[0]+"%2C":"",a=new Date;a.setTime(36e5*s+a),t=(t=r+t).substring(0,2048),document.cookie=e+"="+t+"; expires="+a.toGMTString()+"; path=/"}_getFrequencyCap(){let e;try{e=decodeURIComponent(document.cookie)}catch(r){e=""}const t=e.indexOf("_bsap_daycap="),s=e.indexOf("_bsap_lifecap="),n=t>=0?e.substring(t+12+1).split(";")[0].split(","):[],i=s>=0?e.substring(s+13+1).split(";")[0].split(","):[];if(n.length||i.length){const e=[];n.forEach((t=>{const s=e.find((e=>e[0]===t));s?s[1]++:e.push([t,1,0])})),i.forEach((t=>{const s=e.find((e=>e[0]===t));s?s[2]++:e.push([t,0,1])}));for(let t=0;t<e.length;t++)e[t]=e[t][0]+":"+e[t][1]+","+e[t][2];return"&freqcap="+encodeURIComponent(e.join(";"))}return""}async askListMatchingTopics(){let e=[],t=await this.feeds.askListAllUserTopics();return o.forEach((s=>{t.indexOf(s)>-1&&e.push(s)})),e}async askListSegments(){let e=[],t=await this.feeds.askListAllUserTopics();return o.forEach((s=>{t.indexOf(s)>-1&&e.push("tag:"+s)})),e}}function c(e){return new l(e)}},52630:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168),i=s(15454);class r extends n.y{setAnalytics(e){this.analytics=e}setSigns(e){this.signs=e}setEnterprise(e){this.enterprise=e}setFeedly(e){this.feedly=e}setNet(e){this.net=e}setPreferences(e){this.preferences=e}setProfile(e){this.profile=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.cache={},this.analytics=null,this.signs=null,this.enterprise=null,this.feedly=null,this.net=null,this.preferences=null,this.profile=null,this.reader=null}askRefresh(){return this.cache={},Promise.resolve()}async askProfiles(){if(this.cache.bufferProfiles)return this.cache.bufferProfiles;if(!streets.hasBusinessAccess())return this.cache.bufferProfiles=[],[];const e=await this.enterprise.askTeamInfo();if(!e||!e.isBufferConnected)return[];const t=await this.net.GET("!{cloud}/v3/buffer/profiles");return this.cache.bufferProfiles=JSON.parse(t),this.cache.bufferProfiles}async askShareEntry(e,t){if(!streets.getUserId())return void this.signs.showMessage("Login first");const{wave:s}=this.profile.getUserInfo(),n=(null==s?void 0:s.split("."))||[],r=2===n.length&&100*parseInt(n[0])+parseInt(n[1])<=201420;if(!streets.hasProAccess()&&!r)return this.analytics.trackPageview("pro.v2/trigger.buffer"),void this.feedly.loadPage("pro/buffer");const a=await this.reader.askLookupEntry(e);if(!a)return void this.signs.showMessage("No article selected");let o=a.getTitle()||a.getCleanTitle();const l=a.metadata.shortLink||a.getAlternateLink(),c=[];if("no"!==this.preferences.getPreference("twitterHashtags")){const e=a.getDefaultTagOrCategory();e&&c.push(encodeURIComponent(e.slice(1))),c.push("feedly")}c.forEach((e=>{o+=" #"+e}));let d="https://buffer.com/add/?id="+this._genid()+"&url="+encodeURIComponent(l)+"&text="+encodeURIComponent(o)+"&count=vertical&placement=button&partner_source=feedly";t&&(d+="&picture="+encodeURIComponent(t));const h=Math.round(screen.width/2-378),u=screen.height>624?Math.round(screen.height/2-312):0,p=window.open(d,"_blank",`left=${h},top=${u},width=756,height=624,personalbar=0,toolbar=0,scrollbars=1,resizable=1`);p?p.focus():(0,i.d)(),this.analytics.trackEvent("sharing","buffer"),this.analytics.trackEntryEvent(a,"share","buffer")}_genid(){return this._S4()+this._S4()+this._S4()+this._S4()}_S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}}function a(e){return new r(e)}},5803:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(91815),i=s.n(n),r=s(83168),a=s(17022);class o extends r.y{setLibraries(e){this.libraries=e}load(){this.cache={}}unload(){this.libraries=null,this.cache={}}async askIndustryBundles(e){const t=i()(e.map((e=>a.pp[e]))),s=(await Promise.all(t.map((e=>this.libraries.askLibrary(e))))).reduce(((e,t)=>[...e,...t.collections]),[]);return e.map((e=>s.find((t=>t.id===a.G[e]))))}}function l(e){return new o(e)}},17774:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(83168);const i=[{title:"Get started with Feedly Business",tasks:[{id:"share-sources",illustration_:"images/illustrations/illustration.1-v2@2x.png",illustration:"images/illustrations/empty-collection@2x.png",title:"Follow together",description:"Follow in one place all the websites and keyword alerts that matter to your team.",action:{label:"Follow feeds",notificationLabel:"Follow feeds",handler:"startCreateCollection"},tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_1570c7dc2d6:bd400f2:e3157ec0",completionCheck:"checkFollowPublicationInTeamCollection",completionMessage:"Congrats, you have successfully shared some of your sources!",tips:[{label:"Clone personal feeds",handler:"startCreateCollection"},{label:"Follow websites",uri:"discover/sites",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15574e7de6c:672f2bf:5e49e1a"},{label:"Follow keyword alerts",uri:"discover/keywordAlerts",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15574e7de6c:672f2c0:5e49e1a"},{label:"Follow Twitter feeds",uri:"discover/twitterFeeds",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_157c0120152:1418319:18bc4566"}]},{id:"create-knowledge-board",illustration_:"images/illustrations/illustration.2-v2@2x.png",illustration:"images/illustrations/empty-board@2x.png",title:"Curate together",description:"Save collaboratively the most relevant articles into boards.",action:{label:"Create boards",notificationLabel:"Create boards",handler:"startCreateTag"},tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2bf:c3f7604e",completionCheck:"checkCreateTeamKnowledgeBoard",completionMessage:"Congrats, you have created a board !",tips:[{label:"Clone personal boards",handler:"startCreateTag"},{label:"Add notes and highlights",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15574e7de6c:672f2c6:5e49e1a"},{label:"Save external URLs",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2a9:c3f7604e"},{label:"What is a board?",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2bf:c3f7604e"}]},{id:"invite-teammates",illustration_:"images/illustrations/illustration.3-v2@2x.png",illustration:"images/illustrations/empty-share@2x.png",title:"Share together",description:"Deliver high-quality content and insights to your team, customers, and prospects.",action:{label:"Invite teammates",notificationLabel:"Invite teammates",handler:"startInviteTeammates"},tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2c2:c3f7604e",completionCheck:"checkInvite",completionMessage:"Congrats, you have successfully invited some of your teammates!",tips:[{label:"Onboarding best practices",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2bd:c3f7604e"},{label:"Newsletters",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15f35a9df6a:548084f:9ac85644"},{label:"Slack integration",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_1570c7dc2d6:bd400f5:e3157ec0"},{label:"Social media",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15574e7de6c:672f2ba:5e49e1a"}]}]},{title:"A few more useful tips",tasks:[{id:"mobile-app",title:"Mobile App",description:"Introduce your teammates to the Feedly mobile app. The Feedly app is available on both iOS and Android.",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_1572a6cc7b3:13b2c17c:e3157ec0",completionCheck:"checkMobile",optional:!0},{id:"save-extension",title:"Browser Add-ons",description:"Use the Feedly 'Save to board' browser extension to quickly save any URL to a board.",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2a9:c3f7604e",completionCheck:"checkKnowledgeBoardExtension",optional:!0},{id:"sort-by-popularity",title:"Sort by popularity",description:"Spot viral content by configuring your sources to display articles sorted by popularity.",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_1570c7dc2d6:bd400f4:e3157ec0",completionCheck:"",optional:!0},{id:"feedly-power-search",title:"Search in my Feedly",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2b4:c3f7604e",completionCheck:"",optional:!0}]},{title:"Share",tasks:[{id:"share-buffer",title:"Share to Buffer",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2b1:c3f7604e",completionCheck:"",optional:!0},{id:"share-hootsuite",title:"Share to Hootsuite",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2b2:c3f7604e",completionCheck:"",optional:!0},{id:"share-wordpress",title:"Share to WordPress",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2b3:c3f7604e",completionCheck:"",optional:!0},{id:"share-linkedin",title:"Share to LinkedIn",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2ad:c3f7604e",completionCheck:"",optional:!0},{id:"share-twitter",title:"Share to Twitter",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2ae:c3f7604e",completionCheck:"",optional:!0},{id:"share-pinterest",title:"Share to Pinterest",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2b0:c3f7604e",completionCheck:"",optional:!0}]},{title:"Manage your team",tasks:[{id:"manage-invite",title:"Add a user",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2c2:c3f7604e",completionCheck:"",optional:!0},{id:"manage-promote",title:"Promote a user to admin",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15570944184:5a9a2c5:c3f7604e",completionCheck:"",optional:!0},{id:"manage-remove",title:"Remove a user",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15560a26f50:42b921d:92998397",completionCheck:"",optional:!0},{id:"manage-analytics",title:"Analytics",description:"",tutorial:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15560a2bd70:42b921e:92998397",completionCheck:"",optional:!0}]}];var r=s(13275),a=s(11402),o=s(1623);class l extends n.y{setPreferences(e){this.preferences=e}setEnterprise(e){this.enterprise=e}setEnterprisecollections(e){this.enterprisecollections=e}setEnterprisetags(e){this.enterprisetags=e}setReader(e){this.reader=e}load(){this._completedTasks=null,this._checklist=this._getChecklist(),this.preferences.registerObserver(this)}unload(){this.preferences.unregisterObserver(this),this.preferences=null,this.enterprise=null,this.enterprisecollections=null,this.enterprisetags=null,this.reader=null}onUserUpgraded(){this._checklist=this._getChecklist(),this._checklist&&this._loadCompletedTasks()}onUserIdentified(){streets.getUserId()&&this._checklist&&(this._checklist=this._getChecklist(),this._checklist&&this._loadCompletedTasks())}onNoUserIdentified(){this._checklist=null,this._completedTasks=null}askLookupChecklist(){return this._checkTasks().then((()=>this._checklist))}askCheckTasks(){return this._checkTasks()}askMarkTaskAsComplete(e){if(this._lookupTaskInfo(e)){if(this._isCompleted(e))return Promise.resolve(this._checklist);this._markTaskAsComplete(e),Promise.resolve(this._checklist)}else $feedly("[checklist] ignore task completion:"+e)}numRemainingTasks(){if(!this._checklist)return null;let e=0;for(let t=0;t<this._checklist.length;t++)for(let s=0;s<this._checklist[t].tasks.length;s++){let n=this._checklist[t].tasks[s];!0===n.optional||n.completed||e++}return e}isChecklistFinished(){if(!this._checklist)return!1;for(let e=0;e<this._checklist.length;e++)for(let t=0;t<this._checklist[e].tasks.length;t++){let s=this._checklist[e].tasks[t];if(!0!==s.optional&&!s.completed)return!1}return!0}_checkTasks(){return this._completedTasks?Promise.all(this._checklist.map((e=>Promise.all(e.tasks.map((e=>{if(e.completionCheck&&"autoComplete"!==e.completionCheck&&"manual"!==e.completionCheck&&!this._isCompleted(e.id))return this[e.completionCheck]?this[e.completionCheck]().then((t=>{if(t)return this._markTaskAsComplete(e.id)})).catch((t=>{$feedly("[checklist] completion check failed for "+e.id+": "+t.message)})):void $feedly("[checklist] completion check function not found: "+e.id)})))))):Promise.resolve()}_cleanupTeamCompletedTasks(e){let t=!1,s=!1,n=[],i={};return e.forEach((e=>{i[e]?t=!0:this._lookupTaskInfo(e)?(i[e]=!0,n.push(e)):s=!0})),(t||s)&&this.enterprise.askUpdatePreferences({completedTasks:JSON.stringify(n)}).catch((e=>{$feedly("[checklist] failed to save cleanedup completed tasks: "+e.message)})),n}_enrichTasks(){this._checklist.forEach((e=>{e.tasks.forEach((e=>{e.completed="autoComplete"===e.completionCheck||this._isCompleted(e.id)}))}))}_findNextTask(){let e=this._checklist[0].tasks;for(let t=0;t<e.length;t++)if(!e[t].completed)return e[t];return null}_getChecklist(){return streets.isUserAdmin()?i:null}_isCompleted(e){return!!this._completedTasks.find((t=>t===e))}_lookupTaskInfo(e){if(!this._checklist)return null;let t=null;return this._checklist.forEach((s=>{s.tasks.forEach((s=>{s.id!==e||(t=s)}))})),t}_loadCompletedTasks(){if(streets.isUserAdmin())this.enterprise.askTeamInfo().then((e=>{e.preferences&&e.preferences.completedTasks?this._completedTasks=this._cleanupTeamCompletedTasks(JSON.parse(e.preferences.completedTasks)):this._completedTasks=[],this._enrichTasks(),this._checkTasks().then((()=>{this.fire("onChecklistChanged")}))})).catch((e=>{$feedly("[checklist] failed to get completed tasks from enterprise: "+e.message),this._completedTasks=[],this.fire("onChecklistChanged")}));else{try{this._completedTasks=JSON.parse(this.preferences.getPreference("completed-tasks"))||[]}catch(e){return $feedly("[checklist] failed to deserialize completed tasks:"+e.name+" -- "+e.message),void(this._completedTasks=[])}this._enrichTasks(),this._checkTasks()}}_markTaskAsComplete(e){this._isCompleted(e)||(this._completedTasks.push(e),this._enrichTasks(),this._saveCompletedTasks(),this.fire("onChecklistChanged",e))}_saveCompletedTasks(){streets.isUserAdmin()?this.enterprise.askUpdatePreferences({completedTasks:JSON.stringify(this._completedTasks)}).catch((e=>{$feedly("[checklist] failed to update completed tasks: "+e.message)})):this.preferences.setPreference("completed-tasks",JSON.stringify(this._completedTasks),null,!0)}startDiscover(){streets.service("feedly").loadPage("discover")}startCreateCollection(){streets.hasAdminBusinessAccess()&&streets.service("feedly").slideForm(a.hf)}startCreateTag(){streets.hasAdminBusinessAccess()&&streets.service("feedly").slideForm(o.vg)}startInviteTeammates(){streets.service("feedly").loadPage("team/gettingStarted"),streets.hasAdminBusinessAccess()&&this.enterprisetags.askListTags().then((e=>{let t={};if(e&&e.length){let s=e.reduce(((e,t)=>e.created>t.created?e:t));t.initialTags=[s]}streets.service("feedly").slideForm(r.L,t)})).catch((()=>{streets.service("feedly").slideForm(r.L,{})}))}startShowMoreTips(){streets.hasAdminBusinessAccess()&&streets.service("feedly").loadPage("team/gettingStarted")}checkCreateTeamCollection(){return new Promise(((e,t)=>{this.enterprisecollections.askListCollections().then((t=>{t&&t.length>0?e(!0):e(!1)})).catch((e=>{t(e)}))}))}checkCreateTeamKnowledgeBoard(){return new Promise(((e,t)=>{this.enterprisetags.askListTags().then((t=>{t&&t.length>0?e(!0):e(!1)})).catch((e=>{t(e)}))}))}checkEmailRoundup(){return new Promise(((e,t)=>{this.enterprisetags.askListTags().then((t=>{for(let s=0;s<t.length;s++)if(t[s].emailSettings)return void e(!0);e(!1)})).catch((e=>{t(e)}))}))}checkFollowPublicationInTeamCollection(){return new Promise(((e,t)=>{this.enterprisecollections.askListCollections().then((t=>{for(let s=0;s<t.length;s++)for(let n=0;n<t[s].feeds.length;n++){if(-1===t[s].feeds[n].id.indexOf("news.google.com/news"))return e(!0)}e(!1)})).catch((e=>{t(e)}))}))}checkFollowGoogleNewsInTeamCollection(){return new Promise(((e,t)=>{this.enterprisecollections.askListCollections().then((t=>{for(let s=0;s<t.length;s++)for(let n=0;n<t[s].feeds.length;n++){if(t[s].feeds[n].id.indexOf("news.google.com/news")>-1)return e(!0)}e(!1)})).catch((e=>{t(e)}))}))}checkInvite(){return new Promise(((e,t)=>{this.enterprise.askTeamInfo().then((t=>{if(!(t.numUsers>1))return this.enterprise.askListInvites();e(!0)})).then((t=>{t&&t.length>0?e(!0):e(!1)})).catch((e=>{t(e)}))}))}checkInviteeOnboard(){return new Promise(((e,t)=>{this.enterprisetags.askListTags().then((t=>{for(let s=0;s<t.length;s++)if(t[s].users.length>1)return void e(!0);return this.enterprisecollections.askListCollections()})).then((t=>{if(t)for(let s=0;s<t.length;s++)if(t[s].users.length>1)return void e(!0);e(!1)})).catch((e=>{t(e)}))}))}checkKnowledgeBoardExtension(){return new Promise((e=>{if(document.body.dataset.feedlyExtensionExttag)return e(!0);e(!1)}))}checkMobile(){return new Promise(((e,t)=>{this.enterprise.askListUsers().then((t=>{for(let s=0;s<t.length;s++)if(t[s].numDaysActiveMobilePastMonth>0)return e(!0);e(!1)})).catch((e=>{t(e)}))}))}checkMostPopular(){return new Promise((e=>{if("most popular"===this.preferences.getPreference("entrySort"))return e(!0);e(!1)}))}async checkSaveToTeamKnowledgeBoard(){let e=`enterprise/${streets.service("profile").getUserInfo().enterpriseName}/tag/global.all`;const{entries:t}=await this.reader.askMoreEntries(e,{unreadOnly:!1},10,null);return t&&t.length>0}async checkSlack(){return(await this.enterprise.askTeamInfo()).isSlackConnected}async checkTeamAnnotation(){let e=`enterprise/${streets.service("profile").getUserInfo().enterpriseName}/tag/global.all`;const{entries:t}=await this.reader.askMoreEntries(e,{unreadOnly:!1},100,null);if(t&&t.length>0)for(let s=0;s<t.length;s++){if(t[s].listAnnotations().length>0)return!0}return!1}}function c(e){return new l(e)}},75514:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(10268),i=s.n(n),r=s(88708),a=s.n(r),o=s(60624),l=s.n(o),c=s(98978),d=s.n(c),h=s(83168),u=s(74221);class p extends h.y{setEnterprise(e){this.enterprise=e}setFeeds(e){this.feeds=e}setMutefilters(e){this.mutefilters=e}setPreferences(e){this.preferences=e}setPriorities(e){this.priorities=e}setProfile(e){this.profile=e}setEnterprisecollections(e){this.enterprisecollections=e}setPersonalcollections(e){this.personalcollections=e}load(){this.enterprise.registerObserver(this),this._isAdvancedPrivacyOn=null,this._askIsAdvancedPrivacyOn()}unload(){this._isAdvancedPrivacyOn=null,this.enterprise.unregisterObserver(this),this.enterprisecollections=null,this.feeds=null,this.mutefilters=null,this.personalcollections=null,this.preferences=null,this.priorities=null,this.profile=null}onEnterpriseChanged(){this._isAdvancedPrivacyOn=null,this._askIsAdvancedPrivacyOn()}async askCollectionVelocities(){return(await this.askListCollections()).reduce(((e,t)=>(e[t.id]=t.feeds.reduce(((e,t)=>e+t.velocity),0),e)),{})}async askIsUpgradeNeededToAddFeed(){if(!streets.getUserId())return!0;const{accountLimits:e}=this.profile.getUserInfo(),[t,s]=await Promise.all([this.personalcollections.askListCollections(),this.enterprisecollections.askListCollections()]),n=[...t,...s].reduce(((e,t)=>e.concat(t.feeds)),[]);return i()(n,"id").length>=e.maxFeeds}async askLabelsIndex(){const[e,t]=await Promise.all([this.personalcollections.askListCollections(),this.enterprisecollections.askListCollections()]),s=[...e,...t].reduce(((e,{id:t,label:s})=>(e[t]=s,e)),{});return s[(0,u.Mc)()]="Favorites",s[(0,u.sX)()]="All My Team Feeds",s[(0,u.Gr)()]="All Team Feeds",s[(0,u.N1)()]="All Personal Feeds",s}async askListAllFeeds(e){const[t,s]=await Promise.all([this.personalcollections.askListRankedCollections(e),this.enterprisecollections.askListSubscribedCollections(e)]),n=t.reduce(((e,t)=>e.concat(t.feeds)),[]),r=s.reduce(((e,t)=>e.concat(t.feeds)),[]),a=this.preferences.isTeamFirst()?[...r,...n]:[...n,...r];return i()(a,(e=>e.streamId))}async askListCollectionFeeds(e){if(!e)throw new Error("`collectionId` is required");const{isEnterprise:t}=(0,u.Yg)(e);return(t?this.enterprisecollections:this.personalcollections).askListCollectionFeeds(e)}async askListCollections(e){const[t,s]=await Promise.all([this.personalcollections.askListCollections(e),this.enterprisecollections.askListSubscribedCollections(e)]);return[...t,...s]}async askLookupCollection(e,t){return(await this.askListCollections(t)).find((t=>t.id===e))}async askMoveCollectionToTeam(e,t=null,s=null){if(null===t||null===s||!e)throw new Error("The teamIndex, personalIndex, and collection are required.");const n=await this.enterprisecollections.askSave({feeds:e.feeds,label:e.label,description:e.description});this.fire("onCollectionMovedToTeam",n,s,t),await this.priorities.askMovePriorities(e.id,n.id),await this.mutefilters.askMoveMuteFilters(e.id,n.id),await this.personalcollections.askDeleteCollection(e.id)}async askMoveCollectionToPersonal(e,t=null,s=null){if(null===s||null===t||!e)throw new Error("The teamIndex, personalIndex, and collection are required.");const n=await this.personalcollections.askSave({feeds:e.feeds,label:e.label,description:e.description});return this.fire("onCollectionMovedToPersonal",n,t,s),await this.priorities.askMovePriorities(e.id,n.id),await this.mutefilters.askMoveMuteFilters(e.id,n.id),await this.enterprisecollections.askDeleteCollection(e.id),n}async askMoveFeed(e,t,s){if(!s||!t||!e)throw new Error("The collectionToId, collectionFromId, and feed are required.");await this.askAddFeed(s,e),await this.askRemoveFeed(t,e.id)}async askAddFeed(e,t){if(!e||!t.id||!t.title)throw new Error("The collectionId, feedId, and feedTitle are required.");const{isEnterprise:s}=(0,u.Yg)(e);return s?this.enterprisecollections.askAddFeed(e,t):this.personalcollections.askAddFeed(e,t)}async askRemoveFeed(e,t){if(!e||!t)throw new Error("The collectionId and feedId are required.");const{isEnterprise:s}=(0,u.Yg)(e);return s?this.enterprisecollections.askRemoveFeed(e,t):this.personalcollections.askRemoveFeed(e,t)}async askRemoveFeeds(e,t){if(!e||!t)throw new Error("The collectionId and feedIds are required.");const{isEnterprise:s}=(0,u.Yg)(e);return s?this.enterprisecollections.askRemoveFeeds(e,t):this.personalcollections.askRemoveFeeds(e,t)}async askRemoveFeedFromAll(e){await this.personalcollections.askRemoveFeedFromAll(e),await this.enterprisecollections.askRemoveFeedFromAll(e)}async askUnsubscribedFeedRecommendations(e){if(await this._askIsAdvancedPrivacyOn())return[];const{isAll:t,isGlobalEnterprise:s}=(0,u.Yg)(e);let n=[];if(t)n=await this.personalcollections.askListAllFeeds();else if(s)n=await this.enterprisecollections.askListAllSubscribedFeeds();else{n=(await this.askLookupCollection(e)).feeds}if(!n.length)return[];n=d()(n,"numReadEntriesPastMonth").reverse(),n=a()(n,10);const i=Math.floor(Math.random()*n.length);return this.feeds.askUnsubscribedFeedRecommendations(n[i].id)}mockAddFeeds(e,t){const s=e.feeds?i()([...e.feeds,...t],(({id:e})=>e)):t;return{...e,feeds:s}}mockRemoveFeeds(e,t){return{...e,feeds:l()(e.feeds,t,(({id:e})=>e))}}async _askIsAdvancedPrivacyOn(){return"boolean"!=typeof this._isAdvancedPrivacyOn&&(this._isAdvancedPrivacyOn=await this.enterprise.askIsAdvancedPrivacyOn()),this._isAdvancedPrivacyOn}}function m(e){return new p(e)}},2563:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNotifications(e){this.notifications=e}setSigns(e){this.signs=e}load(){this.messageService=this.signs?this.signs:this.notifications}unload(){this.messageService=null,this.notifications=null,this.signs=null}showError(e){this.messageService.showError(e)}showMessage(e){this.messageService.showMessage(e)}}function r(e){return new i(e)}},57555:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNet(e){this.net=e}setLeo(e){this.leo=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.net=null,this.leo=null,this.reader=null}async askExchangeRates(e="USD"){if(this.cache[e])return console.log("Using exchange rate cache",this.cache[e]),this.cache[e];const t=await this.net.GET(`https://api.exchangeratesapi.io/latest?base=${e}`).then(JSON.parse);return this.cache[e]=t.rates,t.rates}}function r(e){return new i(e)}},54323:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(91815),i=s.n(n),r=s(83168);class a extends r.y{setNet(e){this.net=e}setReader(e){this.reader=e}async askCVEInfo(e){if(!e)throw new Error("cveId is required");return await this.net.GET(`!{cloud}/v3/entities/${encodeURIComponent(e)}?withStats=true`).then(JSON.parse)}async askCVERelationships(e){if(!e)throw new Error("cveId is required");return await this.net.GET(`!{cloud-ml}/cve-relationships/${e}`).then(JSON.parse)}async askTrends({numCVEs:e=10}={}){const[t,s,n,i]=await Promise.all([this.askTrendingVulnerabilities(e),this.askTrendingThreats(),this.askTrendingThreatActors(),this.askTrendingMitreAttacks()]);return{vulnerabilities:t,threats:s,threatActors:n,mitreAttacks:i}}async askTrendingVulnerabilities(e=5){return await this.net.GET(`!{cloud}/v3/memes/vulnerabilities/en?count=${e}`).then(JSON.parse)}async askTrendingThreats(){return await this.net.GET("!{cloud}/v3/trends/threats").then(JSON.parse).then((async e=>(await this.reader.askParseJSONFeed(e)).entries))}async askTrendingThreatActors(){const{items:e}=await this.net.GET("!{cloud}/v3/trends/threat-actors").then(JSON.parse);return await this._askEnrichWithLatestEntry(e)}async askTrendingMitreAttacks(){const{items:e}=await this.net.GET("!{cloud}/v3/trends/mitre-attacks").then(JSON.parse);return await this._askEnrichWithLatestEntry(e)}async _askEnrichWithLatestEntry(e){const t=i()(e.map((({entryIds:e})=>e[0]))),s=await this.reader.askLookupEntries(t);return e.map((e=>({...e,latestEntry:s.find((t=>t.getId()===e.entryIds[0]))})))}}function o(e){return new a(e)}},55424:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(83168),i=s(54960),r=s(53623),a=s(35093),o=s(855),l=s(28514);const c={"mobile-de":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Wirtschaft",topicId:"wirtschaft",visual:"economics-featured"},{label:"Wissenschaft",topicId:"wissenschaft",visual:"science-featured"},{label:"Politik",topicId:"politik",visual:"politics-featured"},{label:"IT-Sicherheit",topicId:"security",visual:"security-featured"},{label:"Comics",topicId:"comics",visual:"comics-featured"}],language:"de",layout:"cards"},{section:"Explore the Web",topics:[{label:"Sport",topicId:"sport",visual:"sport"},{label:"Fotografie",topicId:"photography",visual:"photography"},{label:"Kultur",topicId:"kultur",visual:"culture"},{label:"Finanzen",topicId:"finanzen",visual:"finance"},{label:"Reisen",topicId:"reisen",visual:"travel"},{label:"Fashion",topicId:"fashion",visual:"fashion"},{label:"Recht",topicId:"recht",visual:"law"},{label:"Architektur",topicId:"architektur",visual:"architecture"},{label:"Gesundheit",topicId:"gesundheit",visual:"health"},{label:"Literatur",topicId:"bucher",visual:"books"},{label:"Do It Yourself",topicId:"diy",visual:"diy"},{label:"Videospiele",topicId:"games",visual:"gaming"}],language:"de",layout:"list"}],"mobile-en":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"Cyber Security",topicId:"security",visual:"security-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"business",visual:"business-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Politics",topicId:"politics",visual:"politics-featured"},{label:"Science",topicId:"science",visual:"science-featured"},{label:"Comics",topicId:"comics",visual:"comics-featured"}],language:"en",layout:"cards"},{section:"Industries",topics:[{label:"Advertising",topicId:"advertising",visual:"advertising"},{label:"Aerospace",topicId:"aerospace",visual:"aerospace"},{label:"Agriculture",topicId:"agriculture",visual:"agriculture"},{label:"Cyber Security",topicId:"security",visual:"security"},{label:"Design",topicId:"design",visual:"design"},{label:"Education",topicId:"education",visual:"education"},{label:"Finance",topicId:"finance",visual:"finance"},{label:"Healthcare",topicId:"healthcare",visual:"healthcare"},{label:"Travel & Hospitality",topicId:"hospitality",visual:"hospitality"},{label:"Media",topicId:"media",visual:"media"},{label:"Oil & Gas",topicId:"oil",visual:"oil"},{label:"Pharma",topicId:"pharma",visual:"pharma"},{label:"Private Equity",topicId:"private-equity",visual:"private-equity"},{label:"Retail",topicId:"retail",visual:"retail"},{label:"Tech",topicId:"tech",visual:"tech"},{label:"Telecom",topicId:"telecom",visual:"telecom"}],language:"en",layout:"list",seeAllLink:"https://feedly.com/i/all"},{section:"Trends",topics:[{label:"Cryptocurrency",topicId:"cryptocurrency",visual:"cryptocurrency"},{label:"Mixed Reality",topicId:"vr",visual:"vr"},{label:"Internet of Things",topicId:"iot",visual:"iot"},{label:"Machine Learning",topicId:"ai",visual:"ai"},{label:"Clean Energy",topicId:"energy",visual:"energy"}],language:"en",layout:"list"},{section:"Skills",topics:[{label:"Entrepreneurship",topicId:"entrepreneurship",visual:"entrepreneurship"},{label:"Leadership",topicId:"leadership",visual:"leadership"},{label:"Economics",topicId:"economics",visual:"economics"},{label:"Programming",topicId:"programming",visual:"programming"},{label:"SEO",topicId:"seo",visual:"seo"},{label:"Management",topicId:"management",visual:"management"},{label:"Photography",topicId:"photography",visual:"photography"},{label:"Data Science",topicId:"data-science",visual:"data-science"},{label:"Writing",topicId:"writing",visual:"writing"},{label:"Creativity",topicId:"creativity",visual:"creativity"},{label:"Content Marketing",topicId:"content-marketing",visual:"content-marketing"}],language:"en",layout:"list"},{section:"Fun",topics:[{label:"Comics",topicId:"comics",visual:"comics"},{label:"Gaming",topicId:"gaming",visual:"gaming"},{label:"Food",topicId:"food",visual:"food"},{label:"Fashion",topicId:"fashion",visual:"fashion"},{label:"Travel",topicId:"travel",visual:"travel"},{label:"Music",topicId:"music",visual:"music"},{label:"Culture",topicId:"culture",visual:"culture"},{label:"Crafts",topicId:"crafts",visual:"crafts"},{label:"Dating",topicId:"relationships",visual:"dating"}],language:"en",layout:"list"}],"mobile-es-419":[{section:"Featured",topics:[{label:"Tecnologa",topicId:"tecnologia",visual:"tech-featured"},{label:"Diseo",topicId:"diseno",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Economia",topicId:"economia",visual:"economics-featured"},{label:"Ciencia",topicId:"ciencia",visual:"science-featured"},{label:"Poltica",topicId:"politica",visual:"politics-featured"},{label:"Seguridad",topicId:"seguridad",visual:"security-featured"},{label:"Comics",topicId:"comics",visual:"comics-featured"}],language:"es",layout:"cards"},{section:"Explore the Web",topics:[{label:"Deportes",topicId:"deportes",visual:"sport"},{label:"Fotografia",topicId:"fotografia",visual:"photography"},{label:"Cultura",topicId:"cultura",visual:"culture"},{label:"Moda",topicId:"moda",visual:"fashion"},{label:"Historia",topicId:"historia",visual:"history"},{label:"Programacion",topicId:"programacion",visual:"programming"},{label:"Msica",topicId:"musica",visual:"music"},{label:"Educacin",topicId:"educacion",visual:"education"},{label:"Gastronomia",topicId:"gastronomia",visual:"cooking"},{label:"Ecologia",topicId:"ecologia",visual:"ecology"},{label:"Decoracin",topicId:"decoracion",visual:"decoration"},{label:"Arquitectura",topicId:"arquitectura",visual:"architecture"}],language:"es",layout:"list"}],"mobile-fr":[{section:"Featured",topics:[{label:"Tech",topicId:"technologie",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"business",visual:"business-featured"},{label:"Science",topicId:"sciences",visual:"science-featured"},{label:"Politique",topicId:"politique",visual:"politics-featured"},{label:"Cyberscurit",topicId:"security",visual:"security-featured"},{label:"Bande dssine",topicId:"bd",visual:"comics-featured"}],language:"fr",layout:"cards"},{section:"Explore the Web",topics:[{label:"Communication",topicId:"communication",visual:"communication"},{label:"Finance",topicId:"finance",visual:"finance"},{label:"Agriculture",topicId:"agriculture",visual:"agriculture"},{label:"Automobile",topicId:"automobile",visual:"automotive"},{label:"Culture",topicId:"culture",visual:"culture"},{label:"Philosophie",topicId:"philosophie",visual:"philosophy"},{label:"Environnement",topicId:"environnement",visual:"environment"},{label:"Programmation",topicId:"dev",visual:"programming"},{label:"Sport",topicId:"sport",visual:"sport"},{label:"Dco",topicId:"decoration",visual:"decoration"},{label:"Voyage",topicId:"voyage",visual:"travel"}],language:"fr",layout:"list"}],"mobile-it":[{section:"Featured",topics:[{label:"Tecnologia",topicId:"tecnologia",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Economia",topicId:"economia",visual:"economics-featured"},{label:"Scienza",topicId:"scienza",visual:"science-featured"},{label:"Politica",topicId:"politica",visual:"politics-featured"},{label:"Sicurezza Informatica",topicId:"security",visual:"security-featured"},{label:"Comics",topicId:"fumetti",visual:"comics-featured"}],language:"it",layout:"cards"},{section:"Explore the Web",topics:[{label:"Sport",topicId:"sport",visual:"sport"},{label:"Fotografia",topicId:"fotografia",visual:"photography"},{label:"Arte",topicId:"arte",visual:"art"},{label:"Tendenze",topicId:"tendenze",visual:"fashion"},{label:"Videogiochi",topicId:"games",visual:"gaming"},{label:"Programmazione",topicId:"programming",visual:"programming"},{label:"Musica",topicId:"musica",visual:"music"},{label:"Viaggi",topicId:"viaggi",visual:"travel"},{label:"Cucina",topicId:"cucina",visual:"cooking"},{label:"Ambiente",topicId:"ambiente",visual:"environment"},{label:"Casa",topicId:"casa",visual:"decoration"},{label:"Architettura",topicId:"architettura",visual:"architecture"}],language:"it",layout:"list"}],"mobile-ja":[{section:"Featured",topics:[{label:"",topicId:"it",visual:"tech-featured"},{label:"Web design",topicId:"web",visual:"design-featured"},{label:"",topicId:"marketing",visual:"marketing-featured"},{label:"",topicId:"business",visual:"business-featured"},{label:"",topicId:"science",visual:"science-featured"},{label:"",topicId:"zheng-zhi",visual:"politics-featured"},{label:"",topicId:"security",visual:"security-featured"},{label:"",topicId:"comic",visual:"comics-featured"}],language:"ja",layout:"cards"},{section:"Explore the Web",topics:[{label:" ",topicId:"game",visual:"gaming"},{label:"",topicId:"tou-zi",visual:"finance"},{label:"",topicId:"fashion",visual:"fashion"},{label:"",topicId:"music",visual:"music"},{label:"",topicId:"camera",visual:"photography"},{label:"",topicId:"food",visual:"food"},{label:"",topicId:"sports",visual:"sport"},{label:"",topicId:"car",visual:"automotive"},{label:"",topicId:"travel",visual:"travel"},{label:"",topicId:"programming",visual:"programming"},{label:"",topicId:"liao-li",visual:"cooking"}],language:"ja",layout:"list"}],"mobile-ko":[{section:"Featured",topics:[{label:"Tech",topicId:"it",visual:"tech-featured"},{label:"",topicId:"design",visual:"design-featured"},{label:"",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"business",visual:"business-featured"},{label:"",topicId:"science",visual:"science-featured"},{label:" ",topicId:"jeongci",visual:"politics-featured"},{label:"",topicId:"security",visual:"security-featured"},{label:"",topicId:"manhwa",visual:"comics-featured"}],language:"ko",layout:"cards"},{section:"Explore the Web",topics:[{label:" ",topicId:"gyeongje",visual:"economics"},{label:"",topicId:"yeonghwa",visual:"cinema"},{label:"",topicId:"gaebal",visual:"programming"},{label:"",topicId:"jadongca",visual:"automotive"},{label:"",topicId:"yeohaeng",visual:"travel"},{label:"",topicId:"game",visual:"gaming"},{label:"",topicId:"photography",visual:"photography"},{label:"",topicId:"fashion",visual:"fashion"},{label:"",topicId:"music",visual:"music"},{label:" ",topicId:"sports",visual:"sport"},{label:"",topicId:"undong",visual:"fitness"},{label:"",topicId:"budongsan",visual:"real-estate"}],language:"ko",layout:"list"}],"mobile-pl":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Biznes",topicId:"biznes",visual:"business-featured"},{label:"Nauka",topicId:"nauka",visual:"science-featured"},{label:"Polityka",topicId:"polityka",visual:"politics-featured"},{label:"Security",topicId:"security",visual:"security-featured"},{label:"Komiksy",topicId:"comics",visual:"comics-featured"}],language:"pl",layout:"cards"},{section:"Explore the Web",topics:[{label:"Finanse",topicId:"finanse",visual:"finance"},{label:"Gry",topicId:"gry",visual:"gaming"},{label:"Kuchnia",topicId:"kuchnia",visual:"cooking"},{label:"Sport",topicId:"sport",visual:"sport"},{label:"Podre",topicId:"podroze",visual:"travel"},{label:"Moda",topicId:"moda",visual:"fashion"},{label:"Kultura",topicId:"kultura",visual:"culture"},{label:"Fotografia",topicId:"photography",visual:"photography"},{label:"Moto",topicId:"moto",visual:"moto"},{label:"Programowanie",topicId:"programming",visual:"programming"},{label:"Muzyka",topicId:"muzyka",visual:"music"},{label:"Ksiki",topicId:"ksiazki",visual:"books"}],language:"pl",layout:"list"}],"mobile-pt-PT":[{section:"Featured",topics:[{label:"Tecnologia",topicId:"tech",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"economia",visual:"business-featured"},{label:"Cincia",topicId:"ciencia",visual:"science-featured"},{label:"Poltica",topicId:"poltica",visual:"politics-featured"},{label:"Segurana",topicId:"security",visual:"security-featured"},{label:"Tirinhas",topicId:"comics",visual:"comics-featured"}],language:"pt",layout:"cards"},{section:"Explore the Web",topics:[{label:"Culinria",topicId:"culinaria",visual:"cooking"},{label:"Viagens",topicId:"viagens",visual:"travel"},{label:"Esportes",topicId:"esportes",visual:"sport"},{label:"Games",topicId:"games",visual:"gaming"},{label:"Moda",topicId:"moda",visual:"fashion"},{label:"Finanas",topicId:"financas",visual:"finance"},{label:"Msica",topicId:"musica",visual:"music"},{label:"Carros",topicId:"carros",visual:"automotive"},{label:"Decorao",topicId:"decoracao",visual:"decoration"},{label:"Organizao",topicId:"organizacao",visual:"leadership"},{label:"Fotografia",topicId:"photography",visual:"photography"},{label:"Empreendedorismo",topicId:"empreendedorismo",visual:"entrepreneurship"}],language:"pt",layout:"list"}],"mobile-ru":[{section:"Featured",topics:[{label:"",topicId:"it",visual:"tech-featured"},{label:"",topicId:"design",visual:"design-featured"},{label:"",topicId:"marketing",visual:"marketing-featured"},{label:"",topicId:"biznes",visual:"business-featured"},{label:"",topicId:"science",visual:"science-featured"},{label:"",topicId:"politika",visual:"politics-featured"},{label:"Security",topicId:"security",visual:"security-featured"},{label:"",topicId:"comics",visual:"comics-featured"}],language:"ru",layout:"cards"},{section:"Explore the Web",topics:[{label:"",topicId:"photography",visual:"photography"},{label:"",topicId:"programming",visual:"programming"},{label:"",topicId:"avto",visual:"automotive"},{label:"",topicId:"travel",visual:"travel"},{label:"",topicId:"kulinariia",visual:"cooking"},{label:"seo",topicId:"seo",visual:"seo"},{label:"",topicId:"finance",visual:"finance"},{label:"",topicId:"music",visual:"music"},{label:"programming",topicId:"programming",visual:"programming"},{label:"",topicId:"education",visual:"education"},{label:"",topicId:"kino",visual:"cinema"},{label:"",topicId:"ekonomika",visual:"economics"}],language:"ru",layout:"list"}],"mobile-zh-CN":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"",topicId:"design",visual:"design-featured"},{label:"",topicId:"marketing",visual:"marketing-featured"},{label:"",topicId:"science",visual:"science-featured"},{label:"Politics",topicId:"politics",visual:"politics-featured"},{label:"Security",topicId:"security",visual:"security-featured"}],language:"zh",layout:"cards"},{section:"Explore the Web",topics:[{label:"",topicId:"finance",visual:"finance"},{label:"",topicId:"travel",visual:"travel"},{label:"",topicId:"photography",visual:"photography"},{label:"",topicId:"food",visual:"food"},{label:"",topicId:"you-xi",visual:"gaming"},{label:"",topicId:"programming",visual:"programming"},{label:"Fashion",topicId:"fashion",visual:"fashion"},{label:"",topicId:"shou-ji",visual:"smartphone"},{label:"",topicId:"guan-li",visual:"management"},{label:"",topicId:"car",visual:"automotive"},{label:"",topicId:"yun-dong",visual:"sport"},{label:"",topicId:"jian-kang",visual:"health"}],language:"zh",layout:"list"}],"web-en":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"Cyber Security",topicId:"security",visual:"security-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"business",visual:"business-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Politics",topicId:"politics",visual:"politics-featured"},{label:"Science",topicId:"science",visual:"science-featured"},{label:"Comics",topicId:"comics",visual:"comics-featured"}],language:"en",layout:"cards"},{section:"Industries",topics:[{label:"Advertising",topicId:"advertising",visual:"advertising"},{label:"Aerospace",topicId:"aerospace",visual:"aerospace"},{label:"Agriculture",topicId:"agriculture",visual:"agriculture"},{label:"Education",topicId:"education",visual:"education"},{label:"Healthcare",topicId:"healthcare",visual:"healthcare"},{label:"Travel & Hospitality",topicId:"hospitality",visual:"hospitality"},{label:"Media",topicId:"media",visual:"media"},{label:"Oil & Gas",topicId:"oil",visual:"oil"},{label:"Pharma",topicId:"pharma",visual:"pharma"},{label:"Private Equity",topicId:"private equity",visual:"private-equity"},{label:"Retail",topicId:"retail",visual:"retail"}],language:"en",layout:"list",seeAllLink:"https://feedly.com/i/all"},{section:"Trends",topics:[{label:"Cryptocurrency",topicId:"cryptocurrency",visual:"cryptocurrency"},{label:"Mixed Reality",topicId:"vr",visual:"vr"},{label:"Internet of Things",topicId:"iot",visual:"iot"},{label:"Machine Learning",topicId:"ai",visual:"ai"},{label:"Clean Energy",topicId:"energy",visual:"energy"}],language:"en",layout:"list"},{section:"Skills",topics:[{label:"Entrepreneurship",topicId:"entrepreneurship",visual:"entrepreneurship"},{label:"Leadership",topicId:"leadership",visual:"leadership"},{label:"Economics",topicId:"economics",visual:"economics"},{label:"Programming",topicId:"programming",visual:"programming"},{label:"SEO",topicId:"seo",visual:"seo"},{label:"Management",topicId:"management",visual:"management"},{label:"Photography",topicId:"photography",visual:"photography"},{label:"Data Science",topicId:"data science",visual:"data-science"},{label:"Writing",topicId:"writing",visual:"writing"},{label:"Creativity",topicId:"creativity",visual:"creativity"},{label:"Content Marketing",topicId:"content marketing",visual:"content-marketing"},{label:"Marketing",topicId:"marketing",visual:"marketing"}],language:"en",layout:"list"},{section:"Fun",topics:[{label:"Comics",topicId:"comics",visual:"comics"},{label:"Gaming",topicId:"gaming",visual:"gaming"},{label:"Food",topicId:"food",visual:"food"},{label:"Travel",topicId:"travel",visual:"travel"},{label:"Music",topicId:"music",visual:"music"},{label:"Culture",topicId:"culture",visual:"culture"},{label:"Crafts",topicId:"crafts",visual:"crafts"},{label:"Dating",topicId:"dating",visual:"dating"}],language:"en",layout:"list"}]};class d extends n.y{setLeo(e){this.leo=e}setNet(e){this.net=e}setSuggesto(e){this.suggesto=e}load(){this.isWeb=(0,l.$L)()}unload(){this.isWeb=null,this.leo=null,this.net=null,this.suggesto=null}async askAutocomplete(e,t,s,n=!1){const l=e.trim();if(!l||"#"===l)return{entities:[],feeds:[],keywordAlerts:[],topics:[]};let[c,d]=await Promise.all([this.leo.askTopicAutocomplete(l,t,s),this.suggesto.askGuessFeeds(l,{fullTerm:!1,language:s,numResults:t,organic:!0})]);if(c.length>t/2&&d.length<=t/2?c=c.slice(0,t-d.length):c.length<=t/2&&d.length>t/2?d=d.slice(0,t-c.length):(c=c.slice(0,t/2),d=d.slice(0,t/2)),this.isWeb&&n){let t=[];return e.length>=r.Sh&&!(0,o.Th)(e)&&!e.startsWith("site:")&&(t=await this.leo.askAutocompleteParts(e,{count:1}),t.length&&e.toLowerCase()===t[0].label.toLowerCase()||t.push({text:e,type:"customKeyword",description:a.gQ.customKeyword})),d=d.filter((e=>!e.isGoogleNews)),{feeds:d,entities:t,topics:c}}{const s=d.filter((e=>e.isGoogleNews));d=d.filter((e=>!e.isGoogleNews));const n=/[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{1,6}/gi;if(!e.startsWith("http")&&(!n.test(e)||e.indexOf('"')>-1)&&!e.startsWith("#")&&e.length>=r.Sh&&(c.length<t/2||e.indexOf('"')>=0)){s.some((t=>{const s=e.toLowerCase(),n=t.googleNewsKeyword.toLowerCase();return s===n||`"${s}"`===n||`"${n}"`===s}))||s.push((0,i.ld)(e,"en"))}return{feeds:d,keywordAlerts:s,topics:c}}}async askCheckTopicExists(e){return(await this.leo.askTopicAutocomplete(e,1)).some((({id:t})=>t===e))}async askDefaultTopics(e){const t=c[e];if(!t)return null;if(t.enriched||e.startsWith("mobile-"))return t;const s={};t.forEach((e=>{e.topics.forEach((t=>{t.key=`${e.language}:${t.topicId}`,s[t.key]=!0}))}));const n=await this.net.GET(`!{cloud}/v3/topics/discover/${Object.keys(s).map(encodeURIComponent).join(",")}`).then(JSON.parse);return n.length!==Object.keys(s).length?(console.error("[discover] bad topic in discover data",Object.keys(s),n),null):(Object.keys(s).forEach(((e,t)=>{s[e]=n[t],n[t].key=e})),t.forEach((e=>{e.topics.forEach((e=>{const t=s[e.key];for(let s in t)e[s]||(e[s]=t[s]);e.featured=t.topFeedInfo}))})),t.enriched=!0,t)}}function h(e){return new d(e)}},24482:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(83168);const i=[{id:"change-layout-button",title:"Change article view",description:"You can choose between title, magazine, cards, and article views.",dependencies:[],priority:1,autoActivate:!1,corner:"bottom-right",xOffset:"50%",yOffset:"-0.5rem",zIndex:1,tooltipSide:"bottom"},{id:"save-to-knowledge-board",title:"Found a valuable story?",delay:4e3,description:"Save it to a board for reference or sharing",dependencies:["change-layout-button"],priority:2,autoActivate:!0,corner:"bottom-right",xOffset:"50%",tooltipSide:"bottom"},{id:"add-highlight",title:"Add highlights",description:'As you\'re reading, select important passages and click "Highlight".',dependencies:["save-to-knowledge-board"],priority:3,autoActivate:!0,corner:"top-right",tooltipSide:"left"}],r="dots.dismissed",a="greenDotsTutorial";class o extends n.y{setPreferences(e){this.preferences=e}load(){this._dots=[],this._dismissed=[],this._prioritized=[],this.preferences.registerObserver(this)}unload(){this.preferences.unregisterObserver(this),this.preferences=null}onUserIdentified(){this._dots=[],this._dismissed=[],this._prioritized=[],streets.getUserId()&&(this._isServiceEnabled="on"===this.preferences.getPreference(a),this._loadDismissedDots(),this._prioritizeDots(),this._enrichDots())}onNoUserIdentified(){this._dots=[],this._dismissed=[],this._prioritized=[],this._isServiceEnabled=!1}onPreferenceChanged(e,t){if(e===a){let e="on"===t;this._isServiceEnabled=e,this._updateDots()}}askClosePopovers(){this.fire("onCloseDotPopovers")}dismissDot(e){this._isDismissed(e)||(this._dismissed.push(e),this._prioritizeDots(),this._updateDots(),this._saveDismissedDots())}lookupDot(e){let t=this._dots.find((t=>t.id===e));return t||console&&console.warn("[Dots] Unknown dot id '"+e+"'."),t}pause(){this._isPaused=!0,this._updateDots()}resume(){this._isPaused=!1,this._updateDots()}_enrichDots(){this._dots=i.map((e=>(e.active=this._isActive(e),e.topPriority=this._isTopPriority(e.id),e)))}_isActive(e){if(!e||!this._isServiceEnabled||this._isPaused||e.disabled||this._isDismissed(e.id))return!1;for(let t=0;t<e.dependencies.length;t++)if(!this._isDismissed(e.dependencies[t]))return!1;return!0}_isDismissed(e){return this._dismissed.find((t=>t===e))}_isTopPriority(e){return this._prioritized[0]===e}_loadDismissedDots(){try{this._dismissed=JSON.parse(this.preferences.getPreference(r)||"[]")}catch(e){$feedly("[dots] failed to deserialize dismissed dots:"+e.name+" -- "+e.message),this._dismissed=[]}}_prioritizeDots(){let e=i.filter((e=>this._isActive(e))).sort(((e,t)=>t.priority-e.priority));this._prioritized=e.map((e=>e.id))}_saveDismissedDots(){this.preferences.setPreference(r,JSON.stringify(this._dismissed),null,!0)}_updateDots(){this._dots.forEach((e=>{let t=this._isActive(e),s=this._isTopPriority(e.id);t===e.active&&s===e.topPriority||(e.active=t,e.topPriority=s,this.fire("onDotChanged",e.id))}))}}function l(e){return new o(e)}},86132:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNet(e){this.net=e}setReader(e){this.reader=e}setFeeds(e){this.feeds=e}load(){this._reset()}unload(){this._reset(),this.net=null,this.reader=null}onUserIdentified(){this._reset()}onNoUserIdentified(){this._reset()}async askRefreshEntryEngagement(e){try{if(!streets.getUserId())return;if(window.BACKEND.includes("//sandbox7.feedly.com"))return;const t=e.getCleanAlternateLink();if(!t||this._isRootURL(t))return void e.setEngagement(0);if(!0===e.metadata.engagementRefreshed)return;const s=await this._askBestEngagementUrl(e);if(!s)return;const n=e.hasEngagement(),i=e.getEngagement();let r=e.getEngagementRate();void 0===r&&(r=2);const a=e.getAge();if(n&&a>24&&r<1)return;if(n&&a>48&&r<2)return;if(n&&a>72&&r<3)return;if(n&&a>96)return;if(s.indexOf("?")>-1)return;if(s.indexOf(",")>-1)return;const o=await this.feeds.askMetadata(e.getFeedId(),{cachedOnly:!0});if(!o)return;const{estimatedEngagement:l,subscribers:c,velocity:d,isGoogleNews:h}=o;let u="free";if(streets.hasBusinessAccess()?u="team":streets.hasProAccess()&&(u="pro"),(!l||l<200)&&"free"===u&&Math.random()>.1)return;this._queueRequest({entryId:e.getId(),feedId:e.getFeedId(),engagement:i,url:s,engagementRate:r,estimatedEngagement:l,subscribers:c,velocity:d,age:a,hasEngagement:n,isGoogleNews:h,plan:u})}catch(t){console.log("[engagements] failed to refresh engagement",e.getId(),t)}}_reset(){this.queue=[],this.queueTimeout&&(window.clearTimeout(this.queueTimeout),this.queueTimeout=null)}_queueRequest(e){this.queue.push(e),this.queue.length>=10?this._processQueue():(this.queueTimeout&&(window.clearTimeout(this.queueTimeout),this.queueTimeout=null),this.queueTimeout=window.setTimeout((()=>{this._processQueue()}),1e3))}async _processQueue(){try{if(this.queueTimeout&&(window.clearTimeout(this.queueTimeout),this.queueTimeout=null),0===this.queue.length)return;const e=this.queue.slice(0);this.queue=[];(await this.net.POST("https://engagement.feedly.com",e,{authenticated:!0,isOptional:!0}).then(JSON.parse)).forEach((({entryId:e,engagement:t})=>{const s=this.reader.lookupEntry(e);s&&(s.setEngagement(t),this.fire("onEntryEngagementChanged",e,t))}))}catch(e){console.error("[engagements] process queue failed:",e)}}async _askBestEngagementUrl(e){try{if(!e)return null;let t=e.getCanonicalUrl();if(t)return t;0;const s=e.getCleanAlternateLink(),n=await this.net.GET(`https://read.feedly.com/expand?url=${encodeURIComponent(s)}&entryId=${encodeURIComponent(e.getId())}`,{"Content-Type":"text/plain",isOptional:!0}).then(JSON.parse);if(n&&n.url&&-1===n.url.indexOf("login")&&-1===n.url.indexOf("authorized")){let t=n.url;return t.indexOf("?umt")>0&&(t=t.split("?")[0]),e.setCanonicalUrl(t),t}return e.getCleanAlternateLink()}catch(t){return console.error("[engagements] failed to expand",e.getCleanAlternateLink(),t),e.getCleanAlternateLink()}}_isRootURL(e){if(!e)return!0;const t=e.split("/");return t.length<4||""===t[3]}}function r(e){return new i(e)}},62714:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var n=s(10268),i=s.n(n),r=s(68906),a=s.n(r),o=s(99076),l=s.n(o),c=s(53411),d=s(83168),h=s(20647),u=s(35330),p=s(85251),m=s(74221),g=s(61861);const f=Object.freeze({service:"EnterpriseCollections",askListCollections:"askListCollections",askListSubscribedCollections:"askListSubscribedCollections",askListArchivedCollections:"askListArchivedCollections"});class y extends d.y{setNet(e){this.net=e}setReader(e){this.reader=e}setPreferences(e){this.preferences=e}setAlerts(e){this.alerts=e}load(){this.alerts.registerObserver(this),this.reader.registerObserver(this),this.preferences.registerObserver(this),this.cache={archivedCollections:null,collections:null,subscribedCollections:null},this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}onUserIdentified(){this.cache={},this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}onNoUserIdentified(){this.cache={},this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}unload(){this.alerts.unregisterObserver(this),this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.cache={},this.alerts=null,this.net=null,this.reader=null,this.preferences=null}async askRefresh(){this.cache={}}onStreamUnreadCountChanged(){this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}onPreferenceChanged(e){"teamCategoriesOrderingId"===e&&this.fire("onCollectionsOrderChanged")}async onAlertCreated(e,t){const{isEnterprise:s}=(0,m.Yg)(t);s&&(this._clearCachedCollections(),await this.reader.askListUnreadCounts({forceRefresh:!0}),this.fire("onFeedChanged",e),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",t),this.fire("onCollectionsChanged"))}async askAddFeed(e,t){if(!e||!t.id)throw new Error("The collectionId and feedId are required.");const s=await this.net.POST("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e)+"/feeds",t).then(JSON.parse),n=s.filter((e=>e.id===t.id));if(await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),0===n.length)throw console.error(">>> FAILED TO ADD FEEDS",e,t,s),new Error(`Failed to add ${t.id}`);this.fire("onFeedChanged",t.id),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}async askAddFeeds(e,t){if(!e||!t)throw new Error("The collectionId and feeds are required.");return t.length?this.net.POST(`!{cloud}/v3/enterprise/collections/${encodeURIComponent(e)}/feeds/.mput`,t).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),t.forEach((({id:e})=>{this.fire("onFeedChanged",e)})),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")})):Promise.resolve()}async askArchiveCollection(e){if(!e)throw new Error("collectionId is required");return this.net.DEL(`!{cloud}/v3/enterprise/collections/${encodeURIComponent(e)}`).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askListCollectionFeeds(e){if(!e)throw new Error("`collectionId` is required");const{isGlobalEnterprise:t}=(0,m.Yg)(e);if(t)return this.askListAllSubscribedFeeds();const s=(await this.askListCollections()).find((t=>t.id===e));if(!s)throw new Error("Collection not found");return s.feeds||[]}async askDeleteCollection(e){if(!e)throw new Error("collectionId is required");return this.net.DEL(`!{cloud}/v3/enterprise/collections/${encodeURIComponent(e)}?deleteContent=true`).then((async()=>{this._clearCachedCollections(),await this.reader.askListUnreadCounts({forceRefresh:!0}),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")})).catch((e=>{console.error("Failed to delete collection:"+e)}))}async askFeedCollectionMapping(){return(await this.askListCollections()).reduce(((e,t)=>(t.feeds.forEach((s=>{const n=s.id;e[n]||(e[n]=[]),e[n].push(t)})),e)),{})}async askImportFeeds(e,t){let s=await this.askLookupCollectionByLabel(e);return s||(s=await this.askSave({label:e})),this.askAddFeeds(s.id,t)}async askListAllFeeds(){const e=(await this.askListCollections()).reduce(((e,t)=>e.concat(t.feeds)),[]);return i()(e,(e=>e.streamId))}async askListAllSubscribedFeeds(){const e=(await this.askListSubscribedCollections()).reduce(((e,t)=>e.concat(t.feeds)),[]);return i()(e,(e=>e.streamId))}askListArchivedCollections(){let e=(0,g.Z)(f.service,f.askListArchivedCollections);return streets.hasBusinessAccess()?this.cache.archivedCollections?(0,u.co)(this.cache.archivedCollections):e||(e=this.net.GET("!{cloud}/v3/enterprise/collections?includeArchived=true").then(JSON.parse).then(u.V2).then((e=>(this.cache.archivedCollections=e.filter((e=>e.collectionArchived)),this.cache.archivedCollections.slice(0)))),(0,g.Z)(f.service,f.askListArchivedCollections,e),e):Promise.resolve([])}async askListCollections(e){let t=(0,g.Z)(f.service,f.askListCollections);return streets.getUserId()&&streets.hasBusinessAccess()?this.cache.collections?this.collectionsNeedUnreadCountUpdate?(this.cache.collections=await(0,u.co)(this.cache.collections,e),e&&!0===e.cachedUnreadCountsOnly||(this.collectionsNeedUnreadCountUpdate=!1),this.cache.collections.slice(0)):this.cache.collections.slice(0):t?t.then((t=>(0,u.co)(t,e))):(t=this.net.GET("!{cloud}/v3/enterprise/collections?withStats=true").then(JSON.parse).then((async t=>(this.cache.collections=await(0,u.V2)(t,e),e&&!0===e.cachedUnreadCountsOnly||(this.collectionsNeedUnreadCountUpdate=!1),this.cache.collections.slice(0)))),(0,g.Z)(f.service,f.askListCollections,t),t):[]}async askListCollectionsForFeed(e){if(!e)throw new Error("The `feedId` is required.");return this.askListCollections().then((t=>t.reduce(((t,s)=>(s.feeds.some((({id:t})=>e===t))&&t.push(s),t)),[])))}async askListCollectionSubscribedUsers(e){if(!e)throw new Error("collectionId is required");return streets.hasBusinessAccess()?(this.cache.collectionSubscribedUsers||(this.cache.collectionSubscribedUsers={}),this.cache.collectionSubscribedUsers[e]?Promise.resolve(this.cache.collectionSubscribedUsers[e]):this.net.GET("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e)+"/users").then(JSON.parse).then((t=>(this.cache.collectionSubscribedUsers[e]=t,t)))):(this.cache.collectionSubscribedUsers=[],Promise.resolve({}))}askListNonSubscribedCollections(){return Promise.all([this.askListSubscribedCollections(),this.askListCollections()]).then((([e,t])=>(0,c.v)(t,e,((e,t)=>e.id===t.id))))}async askListSubscribedCollections(e){let t=(0,g.Z)(f.service,f.askListSubscribedCollections);return streets.getUserId()&&streets.hasBusinessAccess()?this.cache.subscribedCollections?this.subscribedCollectionsNeedUnreadCountUpdate?(this.cache.subscribedCollections=await(0,u.co)(this.cache.subscribedCollections,e),e&&!0===e.cachedUnreadCountsOnly||(this.subscribedCollectionsNeedUnreadCountUpdate=!1),this.cache.subscribedCollections.slice(0)):this.cache.subscribedCollections.slice(0):t?t.then((t=>(0,u.co)(t,e))):(t=this.net.GET("!{cloud}/v3/subscriptions/collections").then(JSON.parse).then((async t=>{let s=t[0]?t[0].collectionSubscriptions:[];const n=(await this.askListCollections()).reduce(((e,t)=>(e[t.id]=t,e)),{});return s=await(0,u.V2)(s.map((({id:e})=>n[e]))),this.cache.subscribedCollections=s,e&&!0===e.cachedUnreadCountsOnly||(this.subscribedCollectionsNeedUnreadCountUpdate=!1),[...s]})),(0,g.Z)(f.service,f.askListSubscribedCollections,t),t):[]}async askListRankedSubscribedCollections(e){const t=await this.askListSubscribedCollections(),s=JSON.parse(this.preferences.getPreference("teamCategoriesOrderingId"));return s?(0,p.r)(t,s):t}async askLookupCollection(e,t){if(!e)return null;const s=await this._askLookupSpecialCollectionInfo(e,t);if(s)return s;const{isAll:n,isGlobalEnterprise:i}=(0,m.Yg)(e);if(n){const s=await this.reader.askUnreadCountsIndex(t);return{id:e,streamId:e,label:"All Team Feeds",unreadCount:s[e],subscribed:!0}}if(i){const s=await this.reader.askUnreadCountsIndex(t);return{id:e,streamId:e,label:"All My Team Feeds",unreadCount:s[e],subscribed:!0}}return(await this.askListCollections(t)).find((t=>t.id===e))}async askLookupCollectionByLabel(e){return(await this.askListCollections()).find((t=>t.label===e))}askMetadata(e){return this.askLookupCollection(e,{cachedUnreadCountsOnly:!0})}async askRemoveFeed(e,t){if(!e||!t)throw new Error("The collectionId and feedId are required.");return this.net.DEL(`!{cloud}/v3/enterprise/collections/${encodeURIComponent(e)}/feeds/${encodeURIComponent(t)}`).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onFeedChanged",t),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askRemoveFeeds(e,t){if(!e||!t)throw new Error("The collectionId and feedIds are required.");if(!t.length)return Promise.resolve();const s=`!{cloud}/v3/enterprise/collections/${encodeURIComponent(e)}/feeds/.mdelete`,n=a()(t,100);for(let i=0;i<n.length;i++)await this.net.MDEL(s,n[i].map((e=>({id:e}))));await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),t.forEach((e=>{this.fire("onFeedChanged",e)})),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}async askRemoveFeedsFromAll(e){const t=(0,m.Gr)();if(!t)throw new Error("Error removing sources from business collections.");return this.askRemoveFeeds(t,e)}async askRemoveFeedFromAll(e){const t=(0,m.Gr)();if(!t)throw new Error("Error removing sources from business collections.");return this.askRemoveFeed(t,e)}async askRenameFeed(e,t){return this.askAddFeed(e,t)}async askSave(e,{silently:t=!1}={}){if(!e||!e.label)throw new Error("label is required");return e.emailSettings||(e.emailSettings=this.getDefaultEmailSettings()),this.net.POST("!{cloud}/v3/enterprise/collections",e).then(JSON.parse).then((async s=>(await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),s[0]&&!s[0].feeds&&(s[0].feeds=[]),e.id?(t||(this.fire("onCollectionChanged",e.id),this.fire("onCollectionsChanged")),this.askLookupCollection(e.id).then((s=>{s&&(s.label=e.label,t||this.fire("onCollectionsChanged"))}))):s[0].id&&(await this.askSubscribeCollection(s[0].id).then((()=>{t||this.fire("onCollectionsChanged")})),this.preferences.setPreference(s[0].id,"show")),s[0])))}askSaveCoverImage(e,t){let s=new FormData;return s.append("cover",t),this.net.POST("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e),s).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askSendNewsletter(e){if(!e)throw new Error("collectionId are required");return this.net.POST(`!{cloud}/v3/enterprise/collections/${encodeURIComponent(e)}/newsletter`,{}).then((e=>(this._clearCachedCollections(),JSON.parse(e))))}askSubscribeCollection(e){if(!e)throw new Error("Required parameter `id` is missing.");return this.net.POST("!{cloud}/v3/subscriptions/collections",{id:e}).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.preferences.setPreference(e,"show"),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askSubscribeUser(e,t){if(!e||!t)throw new Error("collectionId and userId are required");return this.net.PUT("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e)+"/users/.mput",[t]).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.collectionSubscribedUsers={[e]:null},this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askSubscribeUsers(e,t){if(!e||!t)throw new Error("collectionId and userId list are required");return this.net.PUT("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e)+"/users/.mput",t).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.collectionSubscribedUsers={[e]:null},this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askUnarchiveCollection(e){if(!e||!e.label||!e.id)throw new Error("Label and ID are required");return this.net.POST("!{cloud}/v3/enterprise/collections",e).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e.id),this.fire("onCollectionsChanged")}))}async askUnsubscribeCollection(e){if(!e)throw new Error("Required parameter `id` is missing.");return this.net.DEL(`!{cloud}/v3/subscriptions/collections/${encodeURIComponent(e)}`).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askUnsubscribeUser(e,t){if(!e||!t)throw new Error("collectionId and userId are required");return this.net.DEL(`!{cloud}/v3/enterprise/collections/${encodeURIComponent(e)}/users/${encodeURIComponent(t)}`).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.collectionSubscribedUsers={[e]:null},this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}getDefaultEmailSettings(){let e=l().determine().name();return{daysOfWeek:h.Z.days.slice(0),disabled:!0,hourOfDay:10,includeFollowers:!0,includeImages:!0,maxEntries:5,ranked:"best",subjectTemplate:"NameAndDate",timeZone:e}}_clearCachedCollections(){this.cache.collections=null,this.cache.subscribedCollections=null,this.cache.archivedCollections=null,this.needsUnreadCountUpdate=!0,this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}async _askLookupSpecialCollectionInfo(e,t){if(!e)return null;const{isAll:s,isGlobalEnterprise:n}=(0,m.Yg)(e);if(s){return{id:e,streamId:e,label:"All",uri:"collection/content/"+e,unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],subscribed:!0}}if(n){return{id:e,streamId:e,label:"All Team Feeds",uri:"collection/content/"+e,unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],subscribed:!0}}return null}async _buildBundle(e){const t=await this.askLookupCollection(e);console.log(t.feeds.map((e=>e.id)))}}function v(e){return new y(e)}},1626:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(83168),i=s(61861),r=s(74221),a=s(35330);const o=Object.freeze({service:"EnterpriseFilters",listFilters:"askListFilters"});class l extends n.y{setNet(e){this.net=e}load(){this.cache={}}unload(){this.cache=null,this.net=null}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}askDelete(e){return this._askDelete(e).then((()=>{this.cache.filters=null,this.fire("onFilterChanged",e),this.fire("onFiltersChanged")}))}async askFilterInfo(e){if(!e)throw new Error("Missing required parameter `filterId`.");return this.askListFilters().then((t=>t.find((t=>t.id===e)))).then((t=>{if(!t)throw new Error("Filter not found. id="+e);return t}))}askListFilters(){let e=(0,i.Z)(o.service,o.listFilters);return this.cache.filters?Promise.resolve(this.cache.filters):streets.hasBusinessAccess()?e||(e=this.net.GET("!{cloud}/v3/enterprise/filters/").then(JSON.parse).then((async e=>(this.cache.filters=await(0,a.x$)(e),e))),(0,i.Z)(o.service,o.listFilters,e),e):(this.cache.filters=null,Promise.resolve([]))}async askListFiltersForFeed(e){const{isGlobalEnterprise:t}=(0,r.Yg)(e);return(await this.askListFilters()).filter((s=>s.streamIds&&s.streamIds.includes(e)||t))}async askMetadata(e){return this.askFilterInfo(e)}_askDelete(e){return this.net.DEL(`!{cloud}/v3/enterprise/filters/${encodeURIComponent(e)}`)}}function c(e){return new l(e)}},88556:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(73400),i=s.n(n),r=s(86130),a=s(35610),o=s(83168),l=s(3167),c=s(8199);const d=Object.freeze({Claire:"claire-kimball-1",Elodie:"elodie-11",Nick:"nicholas-chiasson",Remi:"remitrang"});var h=s(80875);const u="AdvancedPrivacy";class p extends o.y{setNet(e){this.net=e}load(){this._resetCache()}intialize(){}onUserUpgraded(){this.askRefresh()}onUserIdentified(){this._resetCache(),this._checkSentry()}onNoUserIdentified(){this._resetCache()}uninitialize(){}unload(){this.net=null}async askRefresh(){this.cache={}}askAcceptInvite(e){return this.net.POST("!{cloud}/v3/enterprise/join/"+encodeURIComponent(e),{}).then(JSON.parse).then((e=>{var t=r.Z.utils.SessionUtils.load();t.feedlyRefreshToken=e.refresh_token,t.feedlyToken=e.access_token,t.feedlyExpiresIn=e.expires_in,t.feedlyExpirationTime=(new Date).getTime()+1e3*e.expires_in-1e4,t.plan=e.plan,r.Z.utils.SessionUtils.save(t),window.setTimeout((()=>{window.location.href="//feedly.com/i/discover"}),100)}))}askActivateLeo(){return this.net.POST("!{cloud}/v3/enterprise",{leoBeta:!0}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("[enterprise] Failed to activate Leo: "+e.message),e}))}async askCalendlyOnboardingLink(){if(!streets.getEnterpriseName())return null;const[e,t]=await Promise.all([this.askTeamInfo(),this.askIsPrimeAccount()]),{pointOfContact:s,salesInfo:{useCase:n}}=e,i=streets.getPlan();return t?s&&d[s.name]?`https://calendly.com/${d[s.name]}`:n===h.Z.Security?"https://calendly.com/feedly/cybersecurity":i===c._B.enterprise?"https://calendly.com/c/HACSZ25KSZZR3DNZ?month=2021-01":i===c._B.business?"https://calendly.com/feedly/business":"https://calendly.com/feedly/walkthrough":null}askCancelInvite(e){return this.net.DEL(`!{cloud}/v3/enterprise/invites/${encodeURIComponent(e)}`).then((e=>(this.cache.invites=null,this.fire("onInvitesChanged"),e))).catch((e=>{throw this._onInvitesError("Failed to cancel invite: "+e.message),e}))}askCancelTeamSubscription(e){let t="!{cloud}/v3/enterprise";return e&&(t+=`?reason=${encodeURIComponent(e)}`),this.net.DEL(t).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to cancel Business subscription: "+e.message),e}))}askClearSlackCache(){this.cache&&(delete this.cache.slackChannels,delete this.cache.slackUsers)}async askCreateTeam(e){return this.net.POST("!{cloud}/v3/enterprise",e).then(JSON.parse).then((e=>(this.cache.info=e,e))).catch((e=>{throw this._onEnterpriseError("Failed to create team: "+e.message),e}))}askCreateInvites(e,t){return this.net.POST("!{cloud}/v3/enterprise/invites/.mput?note="+encodeURIComponent(t),e).then(JSON.parse).then((e=>(streets.service("checklist").askMarkTaskAsComplete("invite-teammates"),this.cache.invites=null,this.fire("onInvitesChanged"),e))).catch((e=>{throw this._onInvitesError("Failed to create invites: "+e.message),e}))}async askCustomFeedLimit(){const e=await this.askTeamInfo();return e&&e.preferences&&e.preferences[l.$Y]?JSON.parse(e.preferences[l.$Y]):null}askDeleteCardInfo(){return this.net.DEL("!{cloud}/v3/enterprise/card").then((()=>{this.cache.info.cardDetails=null,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to update card info: "+e.message),e}))}askDowngradePlan(e){return e.product?this.net.POST("!{cloud}/v3/enterprise/downgrade",e).then(JSON.parse).then((e=>{this.cache.info=e,streets.askUpdatePlan(e.tokens),this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("[enterprise] Failed to downgrade plan: "+e.message),e})):null}askGrantPermission(e){return this.askUser(e).then((e=>this._updateUser(e,"isAdmin",!0))).then((()=>this.net.POST("!{cloud}/v3/enterprise/user/"+e,{isAdmin:!0}))).catch((e=>{throw this._onUsersError("Failed to grant admin permission: "+e),e}))}async askHasLeoSecurityFeature(){const e=await this.askTeamInfo();return streets.hasBusinessAccess()&&!!e&&!!e.enterpriseFeatures&&!!e.enterpriseFeatures.find((e=>"LeoSecurity"===e))}askInviteStatus(e){return this.net.GET("!{cloud}/v3/enterprise/invite/"+encodeURIComponent(e),{authenticated:!1}).then(JSON.parse)}askInvoices(){return streets.getEnterpriseName()?this.net.GET("!{cloud}/v3/enterprise/invoices").then(JSON.parse):Promise.resolve([])}async askIsAdvancedPrivacyOn(){if(streets&&!streets.hasBusinessAccess())return!1;const{enterpriseFeatures:e}=await this.askTeamInfo();return-1!==e.indexOf(u)}async askIsIntegrationConnected(e){return(await this.askTeamInfo())[`is${i()(e)}Connected`]}async askIsLeoEnabled(){const e=await this.askTeamInfo();return streets.hasBusinessAccess()&&!!e.leoBeta}async askIsPrimeAccount(){const{salesInfo:{teamSize:e,useCase:t}}=await this.askTeamInfo();return"1"!==e||t===h.Z.Security}askListInvites(){return streets.getEnterpriseName()?null!=this.cache.invites?Promise.resolve(this.cache.invites):this.net.GET("!{cloud}/v3/enterprise/invites").then(JSON.parse).then((e=>this.cache.invites=e)):(this.cache.invites=[],Promise.resolve([]))}askListSlackChannels(){return streets.hasBusinessAccess()?null!=this.cache.slackChannels?Promise.resolve(this.cache.slackChannels):this.askTeamInfo().then((e=>e&&e.isSlackConnected?(this._askListSlackChannelsPromise||(this._askListSlackChannelsPromise=this.net.GET("!{cloud}/v3/slack/channels").then(JSON.parse).then((e=>(this._askListSlackChannelsPromise=null,this.cache.slackChannels=e,e))).catch((e=>{throw this._askListSlackChannelsPromise=null,e}))),this._askListSlackChannelsPromise):[])):(this.cache.slackChannels=[],Promise.resolve([]))}askListSlackUsers(){return this.cache.slackUsers?Promise.resolve(this.cache.slackUsers):streets.hasBusinessAccess()?this.askTeamInfo().then((e=>e&&e.isSlackConnected?(this._askListSlackUsersPromise||(this._askListSlackUsersPromise=this.net.GET("!{cloud}/v3/slack/users").then(JSON.parse).then((e=>(this._askListSlackUsersPromise=null,this.cache.slackUsers=e,e))).catch((e=>{throw this._askListSlackUsersPromise=null,e}))),this._askListSlackUsersPromise):[])):(this.cache.slackUsers=[],Promise.resolve([]))}askListUsernames(){return streets.getEnterpriseName()?this.cache.usernames?Promise.resolve(this.cache.usernames):this.askListUsers().then((e=>e.reduce(((e,{name:t,userId:s})=>(e[s]=t,e)),{}))):(this.cache.usernames={},Promise.resolve({}))}askListUsers(){return streets.getEnterpriseName()?null!=this.cache.users?Promise.resolve(this.cache.users):(this._askListUsersPromise||(this._askListUsersPromise=this.net.GET("!{cloud}/v3/enterprise/users").then(JSON.parse).then((e=>(this._askListUsersPromise=null,this.cache.users=this._enrichUsers(e),this.fire("onEnterpriseUsersChanged",this.cache.users),this.cache.users))).catch((e=>{throw this._askListUsersPromise=null,e}))),this._askListUsersPromise):(this.cache.users=[],Promise.resolve([]))}async askListUserEnterpriseFeatures(){const e=await this.askTeamInfo();return streets.hasBusinessAccess&&e&&e.enterpriseFeatures?e.enterpriseFeatures:[]}askReactivateTeamSubscription(){return this.net.POST("!{cloud}/v3/enterprise",{reactivate:!0}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to reactivate subscription: "+e.message),e}))}askRemoveUser(e){return this._removeUser(e),this.net.DEL("!{cloud}/v3/enterprise/user/"+e).catch((e=>{throw this._onUsersError("Failed to remove user: "+e.message),e}))}askResendInvite(e,t){return this.net.POST("!{cloud}/v3/enterprise/invites?note="+encodeURIComponent(t),{email:e}).then((e=>(this.cache.invites=null,this.fire("onInvitesChanged"),e))).catch((e=>{throw this._onInvitesError("Failed to resend invite: "+e.message),e}))}askRevokePermission(e){return this.askUser(e).then((e=>this._updateUser(e,"isAdmin",!1))).then((()=>this.net.POST("!{cloud}/v3/enterprise/user/"+e,{isAdmin:!1}))).catch((e=>{throw this._onUsersError("Failed to revoke admin permission: "+e),e}))}askStripeSecret(){return this.net.POST("!{cloud}/v3/enterprise/stripeSetup",{}).then(JSON.parse).then((({clientSecret:e})=>e)).catch((e=>{throw $feedly(`[enterprise] Failed to get stripe client secret: ${e.errorCode} ${e.errorMessage} (${e.errorId})`),e}))}askTeamInfo(){return streets.getEnterpriseName()?this.cache.info?Promise.resolve(this.cache.info):(this._askTeamInfoPromise||(this._askTeamInfoPromise=this.net.GET("!{cloud}/v3/enterprise").then(JSON.parse).then((e=>(this._askTeamInfoPromise=null,this.cache.info=e,e.enterpriseFeatures&&streets.setIsAdvancedPrivacyOn(e.enterpriseFeatures.includes(u)),e))).catch((e=>{throw this._askTeamInfoPromise=null,e}))),this._askTeamInfoPromise):(this.cache.info=null,Promise.resolve())}askUpdateAdvancedPrivacy(e){return this.net.POST("!{cloud}/v3/enterprise",{advancedPrivacy:e}).then(JSON.parse).then((t=>(this.cache.info=t,streets.setIsAdvancedPrivacyOn(e),this.fire("onEnterpriseChanged"),t))).catch((e=>{throw this._onEnterpriseError("Failed to update advanced privacy features: "+e.message),e}))}askUpdateBillingEmail(e){return this.net.POST("!{cloud}/v3/enterprise",{billingEmailAddress:e}).then(JSON.parse).then((e=>(this.cache.info=e,this.fire("onEnterpriseChanged"),e))).catch((e=>{throw this._onEnterpriseError("Failed to update billing email: "+e.message),e}))}askUpdateCardInfo(e){return this.net.POST("!{cloud}/v3/enterprise/card",{stripePaymentMethod:e}).then(JSON.parse).then((e=>{this.cache.info.cardDetails=e.card,this.fire("onEnterpriseChanged"),this.fire("onCardInfoUpdated")})).catch((e=>{throw this._onEnterpriseError("Failed to update card info: "+e.message),e}))}askUpdateLogo(e){let t=new FormData;return t.append("logo",e),this.net.POST("!{cloud}/v3/enterprise",t).then(JSON.parse).then((e=>(this.cache.info=e,this.fire("onEnterpriseChanged"),e))).catch((e=>{throw $feedly(`Failed to update team logo: ${e.message}`),e}))}askUpdatePaymentPlan(e){return this.net.POST("!{cloud}/v3/enterprise",{product:e}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to update payment plan: "+e.message),e}))}askUpdatePreferences(e){return this.net.POST("!{cloud}/v3/enterprise",{preferences:e}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to update preferences: "+e.message),e}))}askUpdateSalesInfo(e){return this.net.POST("!{cloud}/v3/enterprise",{salesInfo:e}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw $feedly("[enterprise] Failed to update sales info: "+e.message),e}))}askUpdateTeamInfo(e){return this.net.POST("!{cloud}/v3/enterprise",e).then(JSON.parse).then((e=>(this.cache.info=e,this.fire("onEnterpriseChanged"),streets.service("profile").askRefreshUserInfo(),e))).catch((e=>{throw this._onEnterpriseError("Failed to update team info: "+e.message),e}))}askUser(e){return this.askListUsers().then((t=>t.find((t=>t.userId===e)))).then((t=>{if(t)return t;throw new Error("User not found. userId="+e)}))}getCachedTeamSizeHint(){return streets.hasBusinessAccess()?this.cache.info?this.cache.info.salesInfo&&this.cache.info.salesInfo.teamSize?this.cache.info.salesInfo.teamSize:`${this.cache.info.numUsers||"-"}`:"-":"0"}markIntegrationAsConnected(){this.cache.info=null,this.fire("onEnterpriseChanged")}markIntegrationAsDisconnected(){this.cache.info=null,this.fire("onEnterpriseChanged")}async _checkSentry(){await this.askIsAdvancedPrivacyOn()||streets.setSentryUser()}_resetCache(){this.cache={info:null,users:null,invites:null,slackChannels:null,slackUsers:null}}_updateUser(e,t,s){if(null==e)throw new Error("Invalid user");e[t]=s,this.fire("onUsersChanged")}_removeUser(e){if(this.cache.info=null,null!=this.cache.users)for(var t=0;t<this.cache.users.length;t++)if(this.cache.users[t].userId==e){this.cache.users.splice(t,1),this.fire("onUsersChanged");break}}_onEnterpriseError(e){$feedly("[enterprise] onEnterpriseError: "+e),this.cache.info=null,this.fire("onEnterpriseError",e)}_onUsersError(e){$feedly("[enterprise] onUsersError: "+e),this.cache.users=null,this.fire("onUsersError",e)}_onInvitesError(e){$feedly("[enterprise] onInvitesError: "+e),this.cache.invites=null,this.fire("onInvitesError",e)}_enrichUsers(e){return e?(e.forEach((e=>{e.picture&&window&&window.location&&"https:"===window.location.protocol&&(e.picture=(0,a.w6)(e.picture))})),e):e}}function m(e){return new p(e)}},39390:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(83168),i=s(61861),r=s(74221),a=s(35330),o=s(68971);const l=Object.freeze({service:"EnterpriseMuteFilters",listFilters:"askListFilters"});class c extends n.y{setNet(e){this.net=e}load(){this._resetCache()}unload(){this.cache=null,this.net=null}onUserIdentified(){this._resetCache()}onNoUserIdentified(){this._resetCache()}async askRefresh(){this._resetCache()}askDelete(e){return this._askDelete(e).then((()=>{this.cache.filters=null,this.fire("onMuteFilterChanged",e),this.fire("onMuteFiltersChanged")}))}askListFilters(e={}){let t=(0,i.Z)(l.service,l.listFilters);return this.cache.filters&&!e.forceRefresh?Promise.resolve(this.cache.filters):streets.hasBusinessAccess()?t||(t=this.net.GET("!{cloud}/v3/enterprise/mutefilters").then(JSON.parse).then((async e=>(this.cache.filters=await(0,a.xG)(e),e))),(0,i.Z)(l.service,l.listFilters,t),t):(this.cache.filters=null,Promise.resolve([]))}async askListFiltersForFeed(e){const{isGlobalEnterprise:t}=(0,r.Yg)(e);return(await this.askListFilters()).filter((s=>{const{isAll:n}=(0,r.Yg)(s.streamId);return s.streamId===e||t||n}))}async askMetadata(e){if(!e)throw new Error("Missing required Mute Filter parameter `id`.");let t=e;for(;this.cache.updatedIds[t];)t=this.cache.updatedIds[t];return this.askListFilters().then((e=>e.find((e=>e.id===t)))).then((e=>{if(!e)throw new Error("Mute Filter not found. id="+t);return e}))}async askSave(e={}){if(!e.streamId||!e.term)throw new Error("Missing required Mute Filter property `streamId` or `term`.");return this._askSave(e).then((()=>{this.cache.filters=null,this.fire("onMuteFiltersChanged")}))}async askUpdate(e={}){const{id:t,streamId:s,term:n}=e;if(!t||!s||!n)throw new Error("Missing required Mute Filter property `id`, `streamId`, or `term`.");const{streamId:i,term:a}=(0,o.R)(t);if((n.id?n.id!==a.id:n.text!==a.text)||s!==i){this.cache.updatedIds[i]=(0,o.s)(e);const{isEnterprise:s}=(0,r.Yg)(i);s?(await this._askDelete(t),this.fire("onMuteFilterChanged",t)):await streets.service("personalmutefilters").askDelete(t)}await this._askSave(e),this.cache.filters=null,this.fire("onMuteFiltersChanged")}async _askDelete(e){const{streamId:t,term:s}=(0,o.R)(e);if(!t||!s.id&&!s.text)throw new Error(`Error deleting Mute Filter with id: ${e}`);return this.net.PUT("!{cloud}/v3/enterprise/mutefilters",{streamId:t,term:s,delete:!0})}_askSave({active:e,duration:t,salience:s,streamId:n,term:i}){return this.net.PUT("!{cloud}/v3/enterprise/mutefilters",{active:e,duration:t,salience:s,streamId:n,term:i})}_resetCache(){this.cache={filters:null,updatedIds:{}}}}function d(e){return new c(e)}},16839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(12664),i=s.n(n),r=s(83168),a=s(61861),o=s(35330),l=s(74221);const c=Object.freeze({service:"EnterprisePriorities",listPriorities:"askListPriorities"});class d extends r.y{setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}setCollections(e){this.collections=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.cache={},this.net=null,this.enterprise=null,this.enterprisecollections=null,this.reader=null}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}askDelete(e){return this._askDelete(e).then((()=>{this.cache.priorities=null,this.fire("onPriorityChanged",e),this.fire("onPrioritiesChanged")}))}async askListPriorities(e={}){if(!streets.hasBusinessAccess())return this.cache.priorities=null,[];if(!await this.enterprise.askIsLeoEnabled())return this.cache.priorities=null,[];let t=(0,a.Z)(c.service,c.listPriorities);if(this.cache.priorities&&!e.forceRefresh)return(0,o.xf)(this.cache.priorities,e);if(t){const s=await t;return await(0,o.xf)(s,e)}return t=this.net.GET("!{cloud}/v3/enterprise/priorities").then(JSON.parse).then((async t=>(this.cache.priorities=await(0,o.xf)(t,e),e.forceRefresh&&this.fire("onPrioritiesChanged",e),this.cache.priorities))),(0,a.Z)(c.service,c.listPriorities,t),t}async askSave(e={}){if(!e.layers)throw new Error("Missing required property `layers`.");return this._askSave(e).then((()=>{this.cache.priorities=null,this.fire("onPrioritiesChanged"),e.id&&this.fire("onPriorityChanged",e.id)}))}async askUpdate(e={}){const{id:t,...s}=e;if(!t||!e.layers)throw new Error("Missing required properties: `id` and `layers`.");const n=await this._askSave(s),{isEnterprise:i}=(0,l.Yg)(t);i?(await this._askDelete(t),this.fire("onPriorityChanged",t,n.id)):await streets.service("personalpriorities").askDelete(t),this.cache.priorities=null,this.fire("onPrioritiesChanged")}_askDelete(e){return this.net.DEL(`!{cloud}/v3/enterprise/priorities/${encodeURIComponent(e)}?reset=true`)}async _askSave(e){return await this.net.POST("!{cloud}/v3/enterprise/priorities",e).then(JSON.parse).then((async e=>{await this.reader.askRefreshUnreadCounts();const t=await this.askListPriorities();return i()(t,e,"id")[0]}))}}function h(e){return new d(e)}},22340:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var n=s(99076),i=s.n(n),r=s(53411),a=s(83168),o=s(20647),l=s(74221),c=s(35330),d=s(3167),h=s(85251);class u extends a.y{constructor(e){super(e)}setNet(e){this.net=e}setReader(e){this.reader=e}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}load(){this.reader.registerObserver(this),this.cache={subscribedTags:null,tags:null,archivedTags:null}}onUserIdentified(){this.cache={},this._warmCache()}onNoUserIdentified(){this.cache={}}unload(){this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.cache={},this.net=null,this.preferences=null,this.reader=null}onPreferenceChanged(e){e===d.As.teamTags&&this.fire("onBoardsOrderChanged")}async askRefresh(){this.cache={},this._warmCache()}async askArchiveTag(e){if(!e)throw new Error("tagId is required");return this.net.DEL(`!{cloud}/v3/enterprise/tags/${encodeURIComponent(e)}`).then((()=>{this.cache.subscribedTags=null,this.cache.archivedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e)}))}async askDeleteTag(e){if(!e)throw new Error("tagId is required");return this.net.DEL(`!{cloud}/v3/enterprise/tags/${encodeURIComponent(e)}?deleteContent=true`).then((()=>{this.cache.subscribedTags=null,this.cache.archivedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e)}))}async askListArchivedTags(){return streets.hasBusinessAccess()?this.cache.archivedTags?(0,c.RC)(this.cache.archivedTags):(this._askListArchivedPromise||(this._askListArchivedPromise=this.net.GET("!{cloud}/v3/enterprise/tags?includeArchived=true").then(JSON.parse).then((async e=>(this._askListArchivedPromise=null,this.cache.archivedTags=(await(0,c.RC)(e)).filter((e=>e.tagArchived)),this.cache.archivedTags))).catch((e=>{throw this._askListArchivedPromise=null,e}))),this._askListArchivedPromise):(this.cache.tags=[],[])}askListNonSubscribedTags(){return Promise.all([this.askListSubscribedTags(),this.askListTags()]).then((([e,t])=>(0,r.v)(t,e,((e,t)=>e.id===t.id))))}async askListSubscribedTags(e){return streets.hasBusinessAccess()?this.cache.subscribedTags?(0,c.RC)(this.cache.subscribedTags,e):this.net.GET("!{cloud}/v3/subscriptions/tags").then(JSON.parse).then((async t=>{let s=t[0]?t[0].tagSubscriptions:[];const n=(await this.askListTags()).reduce(((e,t)=>(e[t.id]=t,e)),{});return s=await(0,c.RC)(s.map((({id:e})=>n[e])),e),s=(0,h.Z7)(s),this.cache.subscribedTags=s,[...s]})):(this.cache.subscribedTags=[],[])}async askListRankedSubscribedTags(){const e=await this.askListSubscribedTags(),t=JSON.parse(this.preferences.getPreference(d.As.teamTags));return t?(0,h.CI)(e,t):e}async askListTags(e){return streets.hasBusinessAccess()?this.cache.tags?(0,c.RC)(this.cache.tags,e):(this._askListPromise||(this._askListPromise=this.net.GET("!{cloud}/v3/enterprise/tags?withStats=true").then(JSON.parse).then((async e=>(this._askListPromise=null,this.cache.tags=await(0,c.RC)(e),this.cache.tags))).catch((e=>{throw this._askListPromise=null,e}))),this._askListPromise):(this.cache.tags=[],[])}async askListTagSubscribedUsers(e){if(!e)throw new Error("tagId is required");return streets.hasBusinessAccess()?(this.cache.tagSubscribedUsers||(this.cache.tagSubscribedUsers={}),this.cache.tagSubscribedUsers[e]?Promise.resolve(this.cache.tagSubscribedUsers[e]):this.net.GET("!{cloud}/v3/enterprise/tags/"+encodeURIComponent(e)+"/users").then(JSON.parse).then((t=>(this.cache.tagSubscribedUsers[e]=t,t)))):(this.cache.tagSubscribedUsers=null,Promise.resolve({}))}async askLookupTag(e,t){if(!e)throw new Error("tagId is required");const s=await this._askLookupSpecialTagInfo(e,t);if(s)return s;const n=(await this.askListTags(t)).find((t=>t.id===e));return n||(await this.askListArchivedTags()).find((t=>t.id===e))}askMetadata(e){return this.askLookupTag(e,{cachedUnreadCountsOnly:!0})}async askSave(e){if(!e||!e.label)throw new Error("label is required");if(e.emailSettings){const e=streets.service("checklist");e&&e.askMarkTaskAsComplete("email-roundup")}return e.emailSettings||(e.emailSettings=this.getDefaultEmailSettings()),e.bufferSettings||(e.bufferSettings=this.getDefaultBufferSettings()),e.microsoftTeamsSettings||(e.microsoftTeamsSettings=this.getDefaultWebhookSettings()),this.net.POST("!{cloud}/v3/enterprise/tags",e).then(JSON.parse).then((async t=>(this.cache.tags=null,this.cache.subscribedTags=null,this.cache.archivedTags=null,null!=e.id?(this.askLookupTag(e.id).then((t=>{null!=t&&(t.label=e.label,this.fire("onTagsChanged"))})),this.fire("onTagChanged",e.id),this.fire("onTagsChanged")):null!=t[0].id&&await this.askSubscribeTag(t[0].id),Promise.resolve(t[0]))))}askSaveCoverImage(e,t){let s=new FormData;return s.append("cover",t),this.net.POST("!{cloud}/v3/enterprise/tags/"+encodeURIComponent(e),s).then((()=>{this.cache.tags=null,this.fire("onTagChanged",e),this.fire("onTagsChanged")}))}askSaveTags(e){return this.net.POST("!{cloud}/v3/enterprise/tags/.mput",e).then(JSON.parse).then((e=>(this.cache.tags=null,this.fire("onTagsChanged"),e.forEach((e=>{this.askSubscribeTag(e.id)})),Promise.resolve(e))))}async askSendNewsletter(e){if(!e)throw new Error("tagId are required");return this.net.POST(`!{cloud}/v3/enterprise/tags/${encodeURIComponent(e)}/newsletter`,{}).then((e=>(this.cache.tags=null,JSON.parse(e))))}async askSubscribeTag(e){if(!e)throw"tagId is required";await this.net.POST("!{cloud}/v3/subscriptions/tags",{id:e}),await this.reader.askRefreshUnreadCounts(),this.cache.subscribedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e)}async askSubscribeUser(e,t){if(!e||!t)throw new Error("tagId and userId are required");return this.net.PUT(`!{cloud}/v3/enterprise/tags/${encodeURIComponent(e)}/users/.mput`,[t]).then((()=>{this.cache.tagSubscribedUsers={[e]:null},this.cache.tags=null,this.fire("onTagChanged",e),streets.getUserId()===t&&(this.cache.subscribedTags=null,this.fire("onTagsChanged"))}))}async askSubscribeUsers(e,t){if(!e||!t)throw new Error("tagId and userId list are required");return this.net.PUT(`!{cloud}/v3/enterprise/tags/${encodeURIComponent(e)}/users/.mput`,t).then((()=>{this.cache.tagSubscribedUsers={[e]:null},this.cache.tags=null,this.fire("onTagChanged",e),t.find((e=>streets.getUserId()===e))&&(this.cache.subscribedTags=null,this.fire("onTagsChanged"))}))}async askUnarchiveTag(e){if(!e||!e.label||!e.id)throw new Error("Label and ID are required");return this.net.POST("!{cloud}/v3/enterprise/tags",e).then((()=>{this.cache.subscribedTags=null,this.cache.archivedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e.id)}))}async askUnsubscribeTag(e){if(!e)throw new Error("tagId is required");return this.net.DEL(`!{cloud}/v3/subscriptions/tags/${encodeURIComponent(e)}`).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.subscribedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e)}))}async askUnsubscribeUser(e,t){if(!e||!t)throw new Error("tagId and userId are required");return this.net.DEL(`!{cloud}/v3/enterprise/tags/${encodeURIComponent(e)}/users/${encodeURIComponent(t)}`).then((()=>{this.cache.tagSubscribedUsers={[e]:null},this.cache.tags=null,this.fire("onTagChanged",e),streets.getUserId()===t&&(this.cache.subscribedTags=null,this.fire("onTagsChanged"))}))}getDefaultBufferSettings(){return{includeHighlight:!1,profileSelection:"allProfiles",sendNow:!1,disabled:!0}}getDefaultEmailSettings(){let e=i().determine().name();return{daysOfWeek:o.Z.days.slice(0),disabled:!1,hourOfDay:10,includeFollowers:!0,timeZone:e}}getDefaultWebhookSettings(){return{webhookUrl:null,disabled:!0}}onStreamUnreadCountChanged(e,t){const{isTag:s,isEnterprise:n}=(0,l.Yg)(e);s&&n&&this.fire("onStreamUnreadCountChanged",e,t)}onEntryTagged(e,t){let{isEnterprise:s}=(0,l.Yg)(t);s&&(this.cache.subscribedTags&&this.cache.subscribedTags.forEach((e=>{e.id===t&&(e.lastEntryAdded=(new Date).getTime(),this.fire("onTagChanged",t))})),this.cache.archivedTags&&this.cache.archivedTags.forEach((e=>{e.id===t&&(e.lastEntryAdded=(new Date).getTime(),this.fire("onTagChanged",t))})),this.cache.tags&&this.cache.tags.forEach((e=>{e.id===t&&(e.lastEntryAdded=(new Date).getTime(),this.fire("onTagChanged",t))})))}async _askLookupSpecialTagInfo(e,t){const{isAllTag:s,isAnnotated:n,isGlobalEnterprise:i}=(0,l.Yg)(e);if(s){return{id:e,streamId:e,label:"All Team Boards",unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],uri:"board/content/"+e,subscribed:!0}}if(i){return{id:e,streamId:e,label:"All My Team Boards",unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],uri:"board/content/"+e,subscribed:!0}}if(n){return{id:e,streamId:e,label:"Annotated",unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],uri:"board/content/"+e,subscribed:!0}}return null}_warmCache(){streets.hasBusinessAccess()&&"undefined"!=typeof window&&window.setTimeout((()=>{this.net&&Promise.all([this.askListSubscribedTags(),this.askListTags()])}),5e3)}}function p(e){return new u(e)}},98269:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(97418),i=s(38916),r=s(89856),a=s(83168),o=s(61861);const l=Object.freeze({service:"Evernote",list:"askListNotebooks"});class c extends a.y{setAnalytics(e){this.analytics=e}setIntegrations(e){this.integrations=e}setNet(e){this.net=e}setReader(e){this.reader=e}setCommonsigns(e){this.commonsigns=e}load(){this.cache={},this._addAfterConnected=null}unload(){this.cache={},this._addAfterConnected=null,this.analytics=null,this.integrations=null,this.net=null,this.reader=null,this.commonsigns=null}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}async askAdd(e,t={},s={}){const{guid:a,name:o,type:l="personal"}=t,{imageURL:c,imageTitle:d,selection:h}=s;if(!(e||a&&o))throw"An entryId and notebook guid or name are required.";const u={notebookGuid:a,notebookName:o,notebookType:l};if(c||h){const t=this.reader.lookupEntry(e);u.content=c?(0,r.w)(c,d,t):(0,r.F)(h,t),u.title=t.getCleanTitle(),u.url=t.getCleanAlternateLink()}else u.entryId=e;try{const{pageUrl:t="https://www.evernote.com"}=await this.net.POST("!{cloud}/v3/evernote/note",u);if(!c&&!h){const s=this.reader.lookupEntry(e);s&&(s.setDecoration(n.I.evernote,t),s.evernoteClipped=!0)}this.reader.fire("onDecorationChanged",e,n.I.evernote),this.fire("onEvernoteAdded",e)}catch(p){throw 403===p.errorCode&&(this._addAfterConnected={entryId:e,notebook:t,options:s},await this.integrations.askDisconnect(i.bK.evernote),this.integrations.connect(i.bK.evernote)),p}}async askEvernoteUrl(e){return(await this.reader.askLookupEntry(e)).getDecoration(n.I.evernote)}async askListNotebooks(){let e=(0,o.Z)(l.service,l.list);if(e)return e;return await this.integrations.askIsConnected(i.bK.evernote)?this.cache.notebooks?this.cache.notebooks:(e=this.net.GET("!{cloud}/v3/evernote/notebooks?includeBusiness=true").then(JSON.parse).then((({notebooks:e})=>{const t=e.sort((({name:e},{name:t})=>e.localeCompare(t)));return this.cache.notebooks=t,t})),(0,o.Z)(l.service,l.list,e),e):(this.cache.notebooks=null,[])}async onConnected(){if(this._addAfterConnected){const{entryId:e,notebook:t,options:s}=this._addAfterConnected;await this.askAdd(e,t,s),this._addAfterConnected=null}}async askClipEntry(e,t){if(!streets.hasProAccess())return void this.commonsigns.showMessage("Upgrade to unlock Evernote Integration");if(await this.integrations.askIsConnected("evernote"))if(e){this.commonsigns.showMessage("Saving to Evernote...");try{const s={name:"feedly notebook"};await this.askAdd(e,s,t),this.commonsigns.showMessage("Saved to Evernote")}catch(s){this.commonsigns.showError("Failed to save to Evernote: "+s)}this.analytics.trackEvent("sharing","evernote"),this.analytics.trackEntryEvent(this.reader.lookupEntry(e),"share","evernote")}else this.commonsigns.showMessage("Select an article first");else this.commonsigns.showMessage("Connect to Evernote first")}}function d(e){return new c(e)}},53278:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(53623),i=s(35330),r=s(83168),a=s(35610);class o extends r.y{setCollections(e){this.collections=e}setEnterprise(e){this.enterprise=e}setEnterprisecollections(e){this.enterprisecollections=e}setNet(e){this.net=e}setPersonalcollections(e){this.personalcollections=e}load(){this._resetCache(),this.enterprise.registerObserver(this),this._isAdvancedPrivacyOn=null,this._askIsAdvancedPrivacyOn()}unload(){this._isAdvancedPrivacyOn=null,this.enterprise.unregisterObserver(this),this.cache={},this.collections=null,this.enterprise=null,this.net=null}onEnterpriseChanged(){this._isAdvancedPrivacyOn=null,this._askIsAdvancedPrivacyOn()}onUserIdentified(){this._resetCache()}onNoUserIdentified(){this._resetCache()}async askRefresh(){this._resetCache()}async askEnrichAndCacheFeeds(e){return(e=await(0,i.im)(e)).forEach((e=>{this.cache.feedMetadata[e.id]=e})),e}async askFeedRecommendations(e,t=20,s="en"){const n=this.net.GET(`!{cloud}/v3/recommendations/feeds/${encodeURIComponent(e)}?count=${t}&locale=${s}`).then(JSON.parse);return n&&n.source&&(n.source=(await this.askEnrichAndCacheFeeds([n.source]))[0]),n&&n.recommendations&&(n.recommendations=await this.askEnrichAndCacheFeeds(n.recommendations)),n}async askIsFeedSubscribed(e){return 0===(await this.askFilterOutSubscribedFeeds([e])).length}async askFilterOutSubscribedFeeds(e){const{subscribedFeedRSS:t,subscribedFeedWebsites:s}=(await this.askListFeeds()).reduce(((e,t)=>(e.subscribedFeedRSS[(0,a.w6)(t.feedId)]=!0,e.subscribedFeedWebsites[(0,a.w6)(t.website)]=!0,e)),{subscribedFeedRSS:{},subscribedFeedWebsites:{}});return e.filter((e=>!t[(0,a.w6)(e.feedId)]&&!s[(0,a.w6)(e.website)]))}async askUnsubscribedFeedRecommendations(e){if(await this._askIsAdvancedPrivacyOn())return[];let{recommendations:t}=await this.askFeedRecommendations(e);return await this.askFilterOutSubscribedFeeds(t)}async askFeedsIndex(){return(await this.collections.askListAllFeeds()).reduce(((e,t)=>(e[t.id]=t,e)),{})}async askFeedsMetadata(e){const t=await this.askFeedIndex(),[s,n]=e.reduce((([e,s],n)=>(t[n]?e.push(t[n]):s.push(n),[e,s])),[[],[]]);let r=await this.net.POST("!{cloud}/v3/feeds/.mget",n).then(JSON.parse);return r||(r=[]),r=await(0,i.im)([r]),[...s,...r]}async askGenerateNewsletterEmail(){return await this.net.POST("!{cloud}/v3/feeds/newsletters",{}).then(JSON.parse)}async askHasContent(e){const{ids:t}=await this.net.GET(`!{cloud}/v3/streams/ids?streamId=${encodeURIComponent(e)}&unreadOnly=false&count=1`).then(JSON.parse);return!!t.length}async askHasFeedWithTopic(e){return(await this.askListFeeds()).some((t=>t.topics&&t.topics.includes(e)))}async askListAllUserTopics(){const e=await this.askListFeeds(),t=[];return e.forEach((e=>{e.topics&&e.topics.forEach((e=>{const s=e.toLowerCase();t.includes(s)||t.push(s)}))})),t}async askListAllCollectionsForFeed(e){if(!e)throw new Error("The `feedId` is required.");return await Promise.all([this.personalcollections.askListCollections(),this.enterprisecollections.askListCollections()]).then((([t,s])=>[...t,...s].reduce(((t,s)=>(s.feeds.some((({id:t})=>e===t))&&t.push(s),t)),[])))}async askListFeeds(){return this.collections.askListAllFeeds()}async askLookupFeed(e,t){return(await this.collections.askListAllFeeds(t)).find((t=>t.id===e))}async askMetadata(e,{cachedOnly:t=!1}={}){if(!e)return null;const s=await this.askLookupFeed(e,{cachedUnreadCountsOnly:!0});if(s)return s;if(this.cache.feedMetadata[e])return(await(0,i.im)([this.cache.feedMetadata[e]]))[0];if(t)return null;let n=await this.net.GET(`!{cloud}/v3/feeds/${encodeURIComponent(e)}`).then(JSON.parse);return n&&n.id||(n={id:e,state:"dead"}),(await this.askEnrichAndCacheFeeds([n]))[0]}async askRecentEntries(e){let t=await this.net.GET(`!{cloud}/v3/feeds/${encodeURIComponent(e)}?numRecentEntries=3`).then(JSON.parse);if(t&&t.recentEntries)return t.recentEntries}async askRemoveFeed(e){return this.collections.askRemoveFeeds([e])}async askRemoveFeeds(e){for(let t=0;t<e.length;t++)await this.collections.askRemoveFeedFromAll(e[t])}async askRenameFeed(e,t){const[s,n]=await Promise.all([this.personalcollections.askListCollections(),streets.hasAdminBusinessAccess()?this.enterprisecollections.askListCollections():[]]),i=s.reduce(((s,n)=>(n.containsFeed(e)&&s.push(this.personalcollections.askAddFeed(n.id,{id:e,title:t})),s)),[]),r=n.reduce(((s,n)=>(n.containsFeed(e)&&s.push(this.enterprisecollections.askAddFeed(n.id,{id:e,title:t})),s)),[]);return Promise.all([...i,...r])}async askSearchFeeds(e,t){const{fullTerm:s=!1,numResults:i=10,organic:r=!0,locale:a="en"}=t;if(!e||0===e.indexOf("#")||e.length<n.Sh)return[];const o="!{cloud}/v3/search/feeds?q="+encodeURIComponent(e)+"&n="+i+"&fullTerm="+s+"&organic="+r+"&promoted="+!streets.hasProAccess()+"&locale="+a+"&useV2=true",l=await this.net.GET(o).then(JSON.parse);return l&&l.results?this.askEnrichAndCacheFeeds(l.results):[]}_resetCache(){this.cache={feedMetadata:{}}}async _askIsAdvancedPrivacyOn(){return"boolean"!=typeof this._isAdvancedPrivacyOn&&(this._isAdvancedPrivacyOn=await this.enterprise.askIsAdvancedPrivacyOn()),this._isAdvancedPrivacyOn}}function l(e){return new o(e)}},90926:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(2121),i=s(83168);const r="entryFontFamily";class a extends i.y{setNet(e){this.net=e}setPreferences(e){this.preferences=e}load(){this.preferences.registerObserver(this),this.injectedFonts={}}onPreferencesReady(){this._importFont(this.getFontFamily())}onPreferenceChanged(e){e===r&&this.fire("onFontFamilyChanged")}unload(){this.preferences.unregisterObserver(this),this.preferences=null,this.injectedFonts=null}askRefresh(){return this.injectedFonts={},Promise.resolve()}getFontFamily(){return this.preferences.getPreference(r)}setFontFamily(e){e?(this._isImported(e)?this.preferences.setPreference(r,e):setTimeout((()=>{this.preferences.setPreference(r,e)}),1e3),this._importFont(e)):$feedly("[font] setFontFamily: missing font param")}_importFont(e){this._isImported(e)||s(17393)(`./${e}.scss`).then((()=>{this.injectedFonts[e]=!0,this._recordPageview(e)}))}_isImported(e){return!n.Jn[e]||this.injectedFonts[e]}_recordPageview(e){window.setTimeout((()=>{this.net&&this.net.POST(`!{cloud}/v3/dailycounter/FONTS:${e}`,{foo:"bar"}).catch((e=>{console.log("[font] Failed to record pageview",e)}))}),1e4)}}function o(e){return new a(e)}},44638:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(3171),i=s(83168);class r extends i.y{setNet(e){this.net=e}load(){this.cache={teamStats:null}}intialize(){}uninitialize(){}unload(){this.net=null}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}askTeamStats(e){return null!=this.cache.teamStats?Promise.resolve(this._filterTeams(this.cache.teamStats,e)):this.net.GET("!{cloud}/v3/enterprise/stats?withUnpaid=true").then(JSON.parse).then((t=>(this.cache.teamStats=t,this._filterTeams(this.cache.teamStats,e))))}askChurnStats(){return Promise.resolve({})}askUpdateSalesInfo(e,t){return this.net.POST("!{cloud}/v3/enterprise",{name:e,salesInfo:t}).then(JSON.parse).then((e=>{if(this.cache.teamStats){this.cache.teamStats.find((t=>t.name===e.name)).salesInfo=e.salesInfo,this.fire("onHeartbeatChanged")}})).catch((e=>{throw $feedly("[heartbeat] Failed to update sales info: "+e.message),e}))}askDashboardStats(e){let t="!{cloud}/v3/analytics/dashboard?ck="+(new Date).getTime();return e&&(t+="&date="+e.getTime()),this.net.GET(t).then(JSON.parse).then((e=>{if(e&&e.counters)return e.counters;throw"Dashboard not found"})).catch((e=>{throw $feedly("[heartbeat] Failed to get dashboard: "+e.message),e}))}_filterTeams(e,t){if(!t)return e.slice(0);if(!e)return[];let s=[];return e.forEach((e=>{e.status&&"Test"!==e.status&&(t.status&&e.status!==t.status||t.age&&(new Date).getTime()-e.created>t.age||(!0!==t.vip||e.salesInfo&&"yes"===e.salesInfo.vip)&&(!0===t.trial&&(new Date).getTime()-e.created>(0,n.z1)(31)&&"Trial"!==e.status||s.push(e)))})),s}}function a(e){return new r(e)}},72286:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(86130),i=s(83168);const r={color:"#2bb24c",labels:{responseTime:"Please describe your problem or question",messageConfirmationText:"Thanks for reaching out. Well get back to you in 24 hours from Monday - Friday. Have a nice day."}},a={pro:{label:"Pro",address:"pro@feedly.com"},team:{label:"Team",address:"teams@feedly.com"}};class o extends i.y{setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}setFeedly(e){this.feedly=e}load(){this._ready=!1,this._disabled="https:"!==window.location.protocol,this.feedly.registerObserver(this)}unload(){this._profile=null,this.feedly.unregisterObserver(this),this.net=null,this.enterprise=null,this.feedly=null}onUserIdentified(e){this._profile=e.profile,this._initialize(e)}onNoUserIdentified(){}onAfterPageLoad(){this._ready&&!this._disabled&&Beacon("event",{type:"page-viewed",url:document.location.href,title:document.title||"none"})}open({prefill:e,sessionData:t}={}){if(this._ready&&!this._disabled)e&&Beacon("prefill",e),t&&Beacon("session-data",t),Beacon("suggest"),Beacon("open");else{const{name:e}=this._profile,t=streets.hasBusinessAccess()?a.team:a.pro,s=`${e} // Feedly ${t.label} VIP Support Question`,n=`%0D%0A%0D%0A%0D%0A--%0D%0AuserId: ${streets.getUserId()} / Web`;window.location.href=`mailto:${t.address}?subject=${s}&body=${n}`}}close(){this._ready&&!this._disabled&&Beacon("close")}async _initialize(e){let t;try{t=await this.net.GET("!{cloud}/v3/helpscout/beacon").then(JSON.parse)}catch(r){return console.warn("could not fetch helpscout beacon parameters"),void(this._disabled=!0)}if(!t||!t.beaconId)return void(this._disabled=!0);const{profile:s}=e,i={user_id:streets.getUserId(),email:s.email,email_feedly:s.email,name:s.fullName,created_at:s.created,wave:s.wave,plan:streets.getPlan(),login:n.Z.utils.SessionUtils.load().provider,signature:t.signature};if(streets.isBusinessPlan()||streets.isEnterprisePlan()){const e=await this.enterprise.askTeamInfo();i.team_size=e.numUsers,i.team_name=e.description,i.team_status=e.subscriptionStatus}this._bootBeacon(t.beaconId,i)}_bootBeacon(e,t){try{!function(){const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.innerHTML='!function(e,t,n){function a(){var e=t.getElementsByTagName("script")[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",e.parentNode.insertBefore(n,e)}if(e.Beacon=n=function(t,n,a){e.Beacon.readyQueue.push({method:t,options:n,data:a})},n.readyQueue=[],"complete"===t.readyState)return a();e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}(window,document,window.Beacon||function(){});';const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),Beacon("init",e),Beacon("config",r),Beacon("on","ready",(()=>{this._ready=!0,Beacon("identify",t)}))}catch(s){this._disabled=!0,console.error("[helpscout] failed to load",s)}}}function l(e){return new o(e)}},23017:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var n=s(52277),i=s(83168),r=s(35610),a=s(3167),o=s(11459),l=s(72864),c=s(486),d=s(57622),h=s(41727),u=s(57417),p=s(73559),m=s(46455),g=s(20170);class f extends i.y{load(){this.cache={secureUrls:{}}}unload(){this.cache={}}async askRefresh(){this.cache={secureUrls:{}}}async unitTest(){const e=await streets.service("reader").askLookupEntry("g6eNfTvZWw+h8ffbsHs8dKz71d+bHRhPI/s6sPVWd3c=_16402c86b06:386140:93d646dc"),t=await this.askSecureVisualUrl(e,{width:200,height:130});console.log("ANDROID:",e.getTitle(),t);const s=await streets.service("reader").askLookupEntry("fLHFtwryZugkTI3NC4UrLqmHQcckXfXbVh1XRHy9YeE=_1640fb82e67:c4a1d3:3dd877af"),n=await this.askSecureVisualUrl(s,{width:200,height:130});console.log("GUARDIAN:",s.getTitle(),n);const i=await streets.service("reader").askLookupEntry("Xne8uW/IUiZhV1EuO2ZMzIrc2Ak6NlhGjboZ+Yk0rJ8=_163ff0bff20:1011050:c2c34441"),r=await this.askSecureVisualUrl(i,{width:200,height:130});console.log("TECHCRUNCH:",i.getTitle(),r);const a=await streets.service("reader").askLookupEntry("Xne8uW/IUiZhV1EuO2ZMzIrc2Ak6NlhGjboZ+Yk0rJ8=_164185e2a5e:184ae:eae96059"),o=await this.askSecureVisualUrl(a,{width:400,height:250});console.log("TECHCRUNCH 2:",a.getTitle(),o)}getBestVisual(e,t={}){if(!e)return null;if(e.metadata.noVisual)return{url:this._getPlaceholderVisual(e,t)};let s=this._optimizeVisual(e,this._pickBestVisual(e),t);return s||(s={url:this._getPlaceholderVisual(e,t)}),s}async askSecureVisualUrl(e,{layout:t,height:s,theme:n,width:i}={}){const a=this.getBestVisual(e,{layout:t,height:s,theme:n,width:i}),o=a&&a.url?a.url:null;return!o||(0,r.Cl)(o)?o:(this.cache.secureUrls[o]||(this.cache.secureUrls[o]=new Promise((t=>{let n=(0,r.sA)(o),a=new window.Image;const l=(r=!0)=>{a.removeEventListener("load",l),a.removeEventListener("error",c),a=null,r?this.cache.secureUrls[o]=n:n=i&&s?this._getSizedServerUrl(e,i,s,o):null,t(n)},c=()=>{l(!1)};a.addEventListener("load",l),a.addEventListener("error",c),a.src=n}))),this.cache.secureUrls[o])}_getPlaceholderVisual(e,{layout:t,theme:s}){const{isRedditFeed:n,isTwitterFeed:i}=e.metadata;if(n){if(t===o.Ar.magazine)return s===a.Bd.dark||s===a.z0.night?c:l;if(t===o.Ar.cards)return s===a.Bd.dark||s===a.z0.night?h:d}else if(i){if(t===o.Ar.magazine)return s===a.Bd.dark||s===a.z0.night?p:u;if(t===o.Ar.cards)return s===a.Bd.dark||s===a.z0.night?g:m}return null}_pickBestVisual(e){if(!e)return null;const t=e.getFeaturedVisual();if(t)return t;if(e.metadata.firstVisual){var s=e.metadata.firstVisual;if(s.featured||(!s.width||s.width>200)&&(!s.height||s.height>160))return s}const n=e.listContentVisuals().sort(((e,t)=>(t.width||100)-(e.width||100)));return n.length>0?n[0]:null}_optimizeVisual(e,t,s={}){const{width:i,height:r}=s;if(t&&t.edgeCacheUrl&&t.expirationDate>(new Date).getTime())return{original:t.url,url:this._getSizedEdgeCacheUrl(t,i,r),width:t.width,height:t.height};if(t&&(!i||!r))return{original:t.url,url:t.url,width:t.width,height:t.height};const a=e.isPartialContent();return t||(0,n.JY)(e)||a&&e.getBestAlternateLink()?t&&t.width&&t.height&&i&&r&&t.width<1.3*i&&t.height<1.3*r?{original:t.url,url:t.url,width:t.width,height:t.height}:{original:t?t.url:null,url:this._getSizedServerUrl(e,t,i,r),width:t?t.width:null,height:t?t.height:null}:null}_getSizedServerUrl(e,t,s,n){if(t&&t.url&&(t.url.endsWith(".gif")||t.url.endsWith(".svg")))return t.url;const i=window.devicePixelRatio||1,r=Math.ceil(s*i),a=Math.ceil(n*i);let o="https://visuals.feedly.com/v1/resize";o+=`?sizes=${encodeURIComponent(r+"x"+a+"!"+1/i)}`,o+=`&key=${encodeURIComponent(e.getId())}`,o+=`&entryId=${encodeURIComponent(e.getId())}`,o+=`&contentLength=${encodeURIComponent(e.getContent().length)}`,o+=`&engagement=${encodeURIComponent(e.getEngagement())}`;const l=e.getAlternateLink();return l&&!l.startsWith("https://feedly.com")&&(o+=`&pageUrl=${encodeURIComponent(l)}`),t&&t.url&&(o+=`&url=${encodeURIComponent(t.url)}`),o}_getSizedEdgeCacheUrl(e,t,s){if(!t||!s)return e.edgeCacheUrl||e.url;const n=window.devicePixelRatio||1,i=Math.ceil(t*n),r=Math.ceil(s*n),a=e.width,o=e.height;let l;if(a/o>i/r){const e=Math.ceil(r),t=Math.ceil(a*r/o);l=a>o?i<=r?"=s"+Math.ceil(e)+"-c":"=s"+Math.ceil(t):r<=i?"=s"+Math.ceil(t)+"-c":"=s"+Math.ceil(e)}else{const e=Math.ceil(i),t=Math.ceil(o*e/a);l=a>o?i<=r?"=s"+Math.ceil(t)+"-c":"=s"+Math.ceil(e):r<=i?"=s"+Math.ceil(e)+"-c":"=s"+Math.ceil(t)}return e.edgeCacheUrl+l}}function y(e){return new f(e)}},81783:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(97418),i=s(38916),r=s(83168);class a extends r.y{setIntegrations(e){this.integrations=e}setNet(e){this.net=e}setReader(e){this.reader=e}load(){this._addAfterConnected=null}unload(){this._addAfterConnected=null,this.integrations=null,this.net=null,this.reader=null}async askAdd(e){if(!e)throw"An entryId is required.";try{const{bookmarkUrl:t="https://www.instapaper.com"}=await this.net.POST("!{cloud}/v3/instapaper/bookmark",{entryId:e}),s=this.reader.lookupEntry(e);s&&s.setDecoration(n.I.instapaper,t),this.reader.fire("onDecorationChanged",e,n.I.instapaper),this.fire("onInstapaperAdded",e)}catch(t){throw 403===t.errorCode&&(this._addAfterConnected=e,await this.integrations.askDisconnect(i.bK.instapaper),this.integrations.connect(i.bK.instapaper)),t}}async askBookmarkUrl(e){return(await this.reader.askLookupEntry(e)).getDecoration(n.I.instapaper)}async onConnected(){this._addAfterConnected&&(await this.askAdd(this._addAfterConnected),this._addAfterConnected=null)}}function o(e){return new a(e)}},48e3:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(86130),i=s(38916),r=s(83168),a=s(28514),o=s(15454);class l extends r.y{setCommonsigns(e){this.commonsigns=e}setEnterprise(e){this.enterprise=e}setEvernote(e){this.evernote=e}setFeedly(e){this.feedly=e}setInstapaper(e){this.instapaper=e}setNet(e){this.net=e}setPocket(e){this.pocket=e}setProfile(e){this.profile=e}setReader(e){this.reader=e}load(){this.popup=null}unload(){this.popup=null,this.commonsigns=null,this.enterprise=null,this.net=null,this.profile=null,this.reader=null}async askDisconnect(e){try{await this.net.DEL(`!{cloud}/v3/${this._getEndpoint(e)}`);(this._isEnterprise(e)?this.enterprise:this.profile).markIntegrationAsDisconnected(e),this.commonsigns.showMessage(`Disconnected from ${i.gJ[e]}`),this.fire("onIntegrationConnectionChanged")}catch(t){console.error(t),this.commonsigns.showError("Failed to disconnect")}}async askIsConnected(e){return this._isEnterprise(e)?this.enterprise.askIsIntegrationConnected(e):this.profile.isIntegrationConnected(e)}connect(e){if(!i.bK[e])return void console.error(`[integrations]: unsupported integration type - ${e}`);const t=n.Z.utils.SessionUtils.load();if(!t||!t.feedlyToken)try{return void this.commonsigns.showMessage("Login to Feedly first")}catch(d){return void window.alert("Login to Feedly first")}const s=window.BACKEND+"/v3/"+this._getEndpoint(e)+"?redirectUri="+encodeURIComponent(`${window.BACKEND}/${e}.html`)+"&feedlyToken="+t.feedlyToken;let r=680,a=850;e!==i.bK.pocket&&e!==i.bK.oneNote||(r=600,a=960);const l=Math.round(screen.width/2-a/2);let c=100;screen.height/2>r&&(c=Math.round(screen.height/2-r)),this.popup=window.open(s,"_blank",`left=${l},top=${c},width=${a},height=${r},personalbar=0,toolbar=0,scrollbars=1,resizable=1`),this.popup?this.popup.focus&&this.popup.focus():(0,o.d)()}markAsConnected(e){this._closePopup();(this._isEnterprise(e)?this.enterprise:this.profile).markIntegrationAsConnected(e),this.commonsigns.showMessage(`Connected to ${i.gJ[e]}`),this.fire("onIntegrationConnectionChanged"),this.fire("onIntegrationConnected",i.gJ[e]),(0,a.$L)()&&(e===i.bK.evernote?this.feedly.continueEvernoteTargetEntry():e===i.bK.oneNote&&this.feedly.continueOneNoteTargetEntry()),this[e]&&this[e].onConnected&&this[e].onConnected()}onConnectionFailure(e){this._closePopup(),this.commonsigns.showError(`Failed to connect to ${i.gJ[e]}`)}_closePopup(){this.popup&&(this.popup.close(),this.popup=null)}_getEndpoint(e){return e===i.bK.oneNote?"microsoft/liveAuth":`${e}/auth`}_isEnterprise(e){return i.yC.includes(e)&&streets.hasBusinessAccess()}}function c(e){return new l(e)}},72086:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(83168),i=s(61861),r=s(80721);const a=Object.freeze({service:"Issues",askListIssues:"askListIssues"});class o extends n.y{setEnterprise(e){this.enterprise=e}setIntegrations(e){this.integrations=e}setNet(e){this.net=e}setProfile(e){this.profile=e}onNoUserIdentified(){this.cache={}}load(){this.cache={},this.enterprise.registerObserver(this),this.integrations.registerObserver(this),this.profile.registerObserver(this)}unload(){this.net=null,this.cache={},this.enterprise.unregisterObserver(this),this.integrations.unregisterObserver(this),this.profile.unregisterObserver(this)}async askRefresh(){this.cache={}}onIntegrationConnected(e){const{issues:t}=this.cache;t&&t.find((t=>t.service===e))&&this.fire("onIssuesChanged")}onCardInfoUpdated(){const{issues:e}=this.cache;e&&e.find((e=>e.type===r.k.paymentError))&&this.fire("onIssuesChanged")}async askListIssues({forceRefresh:e=!1}={}){const{issues:t}=this.cache;if(!streets.getUserId())return[];if(!e&&t)return t;let s=(0,i.Z)(a.service,a.askListIssues);return s||(s=this.net.GET("!{cloud}/v3/messages").then(JSON.parse).then((e=>(e&&(this.cache.issues=e),e))),(0,i.Z)(a.service,a.askListIssues,s),s)}async askDismissIssue(e){return this.net.DEL(`!{cloud}/v3/messages/${encodeURIComponent(e)}`).then((()=>{this.fire("onIssuesChanged")}))}}function l(e){return new o(e)}},8533:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168),i=s(54960);class r extends n.y{constructor(...e){super(...e),this.askSave=async e=>{try{const t=await this.askSuggestFeed(e);if("dead"===t.state)throw"Unable to update dead feeds";return await(t.id!==e.id?this._askReplaceFeed(e,t.id):this._askRenameFeed(e)),t.id}catch(t){throw t}},this.askSuggestFeed=async({domain:e,keyword:t,languageCode:s})=>{if(!t||!s)throw new Error("The keyword and languageCode are required.");const n=(0,i.xF)(t,e),r=(0,i.sk)(n,s),[a]=await this.suggesto.askGuessFeeds(r,{fullTerm:!1,language:s,organic:!0,numResults:1});return a},this._askRenameFeed=async({id:e,title:t})=>{const[s,n]=await Promise.all([this.personalcollections.askListCollectionsForFeed(e),streets.hasAdminBusinessAccess()?this.enterprisecollections.askListCollectionsForFeed(e):[]]);return Promise.all([s.map((({id:s})=>this.personalcollections.askRenameFeed(s,{id:e,title:t}))),...n.map((({id:s})=>this.enterprisecollections.askRenameFeed(s,{id:e,title:t})))])},this._askReplaceFeed=async(e,t)=>{const{id:s,title:n}=e,[i,r]=await Promise.all([this.personalcollections.askListCollectionsForFeed(s),streets.hasAdminBusinessAccess()?this.enterprisecollections.askListCollectionsForFeed(s):[]]);await Promise.all([...i.map((({id:e})=>this.personalcollections.askAddFeed(e,{id:t,title:n}))),...r.map((({id:e})=>this.enterprisecollections.askAddFeed(e,{id:t,title:n})))]),await Promise.all([...i.map((({id:e})=>this.personalcollections.askRemoveFeed(e,s))),...r.map((({id:e})=>this.enterprisecollections.askRemoveFeed(e,s)))]),this.fire("onKeywordAlertReplaced",s,t)}}setEnterprisecollections(e){this.enterprisecollections=e}setPersonalcollections(e){this.personalcollections=e}setReader(e){this.reader=e}setSuggesto(e){this.suggesto=e}setFeeds(e){this.feeds=e}unload(){this.enterprisecollections=null,this.personalcollections=null,this.reader=null,this.suggesto=null,this.feeds=null}}function a(e){return new r(e)}},78421:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(53623),i=s(65698),r=s(83168);class a extends r.y{setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}setFeeds(e){this.feeds=e}setProfile(e){this.profile=e}load(){this.cache={}}intialize(){}uninitialize(){}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}unload(){this.net=null,this.enterprise=null,this.feeds=null,this.profile=null}askRefresh(){return this.cache={},Promise.resolve()}async askAddNotTopic(e){try{const t=(0,i.ft)(e.id)||(0,i.jP)(e.id)?await this.askEntityInfo(e.id):e;this.fire("onTopicExcluded",t)}catch(t){this.fire("onTopicExcluded",e)}}async askAutocompleteParts(e,t={}){const{count:s=10}=t;if(!e)throw new Error("The searchTerm is required.");const{entities:n=[]}=await this.net.GET(`!{cloud}/v3/search/entities?query=${encodeURIComponent(e)}&count=${s}&v2=true`).then(JSON.parse);return this._enrichTopicDescriptions(n),n}async askTopicSuggestions(e,t){if(!e||"customKeyword"===e)return;const{entities:s=[]}=await this.net.GET(`!{cloud}/v3/search/entities?type=${encodeURIComponent(e)}&count=20`).then(JSON.parse),n=s.filter((e=>!t.find((t=>t.id===e.id))));return this._enrichTopicDescriptions(n),n}askCommonTopicDebugInfo(e){return this.net.POST("https://ml.feedly.com/ml-topics-server/infer?exportDetails=true",{items:[e]},{authenticated:!0}).then(JSON.parse)}async askEntityInfo(e){if(e)return this.net.GET(`!{cloud}/v3/entities/${encodeURIComponent(e)}`).then(JSON.parse)}askEntryContentAnalysis(e,t={}){const{withDetails:s=!1}=t,n=s?"&withDetails=true":"";return this.net.GET(`!{cloud}/v3/entries/content-analysis/${encodeURIComponent(e)}?properNounsOnly=false${n}`).then(JSON.parse)}async askFullEntitiesInfo(e=[]){return Promise.all(e.map((async e=>{let t;try{t=await this.askEntityInfo(e.id)}catch(s){t=e}return t&&t.id?t:e})))}async askIsLeoEnabled(){return streets.hasBusinessAccess()?await this.enterprise.askIsLeoEnabled():this.profile.hasLeoAccess()}async askHasLeoSecurityFeature(){return!!streets.hasBusinessAccess()&&await this.enterprise.askHasLeoSecurityFeature()}async askListUserEnterpriseFeatures(){return streets.hasBusinessAccess()?await this.enterprise.askListUserEnterpriseFeatures():[]}askPrioritySuggestions(e){return this.cache[e]?Promise.resolve(this.cache[e]):this.net.GET(`!{cloud}/v3/priorities/suggestions?streamId=${e}`).then(JSON.parse).then((t=>(this.cache.suggestions||(this.cache.suggestions={}),t&&t.topics&&this._enrichTopicDescriptions(t.topics),this.cache[e]=t,t)))}askDiscoveryTopic(e,t="en"){return this.net.GET(`!{cloud}/v3/recommendations/topics/${encodeURIComponent(e)}?locale=${t}`).then(JSON.parse).then((async e=>(e&&e.feedInfos&&(e.feedInfos=await this.feeds.askEnrichAndCacheFeeds(e.feedInfos)),e)))}askSaveAnalytics(e,t,s,n,i){return streets.service("analytics").trackLeoEvent("discover.feedRecommendations.analytics","save",e),this.net.POST("!{cloud}/v3/recommendations/analytics",{added:s,context:i,offered:t,source:e,versionCode:n})}async askSaveFeedback(e,t,s,n,r){let a={feedback:s,feedbackOrigin:n};if((0,i.ft)(t))a={...a,type:"entity",entityId:t};else if((0,i.xT)(t))a={...a,type:"common-topics",topicId:t};else if((0,i.jP)(t))a={...a,type:"business-event",businessEventId:t};else{if(!r)throw new Error("unsupported resource type");a={...a,type:r}}return this.net.POST(`!{cloud}/v3/entries/feedback/${encodeURIComponent(e)}`,a)}askSaveSatisfactionScore(e,t,s){const n={...t,rating:e,userId:streets.getUserId(),userName:this.profile.getUserInfo().fullName,type:s};return streets.hasBusinessAccess()&&(n.enterpriseName=streets.getEnterpriseName(),n.enterpriseId=streets.getEnterpriseId()),this.net.POST("https://engagement.feedly.com/leo-satisfaction",n)}askSaveLeoSummaryFeedback(e){return this.net.POST(`!{cloud}/v3/entries/feedback/${encodeURIComponent(e)}`,{feedback:-1,type:"leo-summary"})}async askTopicAutocomplete(e,t,s="en",i=!1){let r=e;return r.startsWith("#")&&(r=r.slice(1)),r.length<n.Sh?Promise.resolve([]):this.net.GET(`!{cloud}/v3/search/discovery?query=${encodeURIComponent(r)}&count=${t}&locale=${s}&publicationBucketsOnly=${i}`).then(JSON.parse)}listCachedPartSuggestions(e){const t=this.cache[e]&&this.cache[e].entities?this.cache[e].entities:[];let s=(this.cache[e]&&this.cache[e].topics?this.cache[e].topics:[]).slice(0,5);return s.concat(t.slice(0,8-s.length))}listCachedTagSuggestions(e){return this.cache[e]&&this.cache[e].tags?this.cache[e].tags:[]}_enrichTopicDescriptions(e){e.forEach((e=>{e.label&&e.description&&e.description.toLowerCase()===`smart topic about ${e.label.toLowerCase()}`&&(e.description="smart topic")}))}}function o(e){return new a(e)}},38664:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNet(e){this.net=e}load(){this.cache={}}unload(){this.net=null,this.cache={}}async askLibrary(e){if(this.cache[e])return this.cache[e];const t=await this.net.GET("!{cloud}/v3/library/"+encodeURIComponent(e)),s=JSON.parse(t);return this.cache[e]=s,s}async askShareCollection(e){await this.net.PUT(`!{cloud}/v3/library/acl/${encodeURIComponent(e)}/global.public`,{scope:"view"})}async askUpdateProfile(e){const t=await this.net.POST("!{cloud}/v3/library/cover",e);return JSON.parse(t)}}function r(e){return new i(e)}},92704:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168),i=s(99442);class r extends n.y{setNet(e){this.net=e}setPriorities(e){this.priorities=e}unload(){this.net=null}async askUpdateTrainingProgress({id:e,streamId:t}){try{const[s,n]=await Promise.all([this._askTrainingProgress(e),this.priorities.askPriority(e)]),{progress:r,status:a}=JSON.parse(s);return 1===r&&n.trainingStatus===i.Py.success&&this.priorities.askListStreamPriorities(t,{forceRefresh:!0,isNewLikeBoard:!0,tutorialDelay:1e3}),{progress:r,status:a}}catch(s){console.error(`Could not fetch training status: ${JSON.parse(s)}`)}}async _askTrainingProgress(e){return this.net.GET("!{cloud-ml}/like-board/jobs/progress/"+e)}}function a(e){return new r(e)}},32769:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(56786),i=s.n(n),r=s(86330),a=s.n(r),o=s(83168);class l extends o.y{setNet(e){this.net=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.cache={},this.net=null,this.reader=null}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}async unitTest(){const e=await this.askTrendingEntries("tech","en",3);console.log("[meme] top 3 tech/en entries:",e),console.log("[meme] example of summary:",e[0].getLeoSummary()),console.log("[meme] example of related entries:",e[0].listMemeEntries())}askRefresh(){return this.cache={},Promise.resolve()}async askMemeInfo(e){const t=await this.net.GET(`!{cloud}/v3/memes/contents/${encodeURIComponent(e)}`);return JSON.parse(t)}async askReferenceEntry(e){const t=await this.askMemeInfo(e);return this._askExtractReferenceEntry(t)}async askTrendingEntries(e,t,s=5){const n=await this.net.GET(`!{cloud}/v3/memes/${encodeURIComponent(e)}/${encodeURIComponent(t)}?count=${s}`).then(JSON.parse);if(!n||!n.memes)return[];const i=await Promise.all(n.memes.map(this._askExtractReferenceEntry.bind(this)));return a()(i,(e=>null!==e))}async _askExtractReferenceEntry(e){if(!e||!e.referenceId)return null;try{const t=e.items.map((e=>e.id));i()(t,(t=>t===e.referenceId))||t.push(e.referenceId);const s=await this.reader.askLookupEntries(t),n=i()(s,(t=>t.getId()===e.referenceId));if(!n)return null;e.summary&&e.summary.length>0&&n.setLeoSummary(e.summary);const r=a()(s,(t=>t.getId()!==e.referenceId));return r.length>0&&n.setMemeEntries(r),n.setMeme({label:e.title,...e}),n}catch(t){return console.error("[meme] failed to process meme",e,t),null}}}function c(e){return new l(e)}},97100:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var n=s(83168),i=s(28514),r=s(35610);const a="displayed",o="lessLikeThis",l="markedAsRead",c="read",d="saved",h="shared";class u extends n.y{constructor(...e){super(...e),this.endSession=()=>{this._sessionId&&(this.net.POST(`https://ms.feedly.com/sessions/${this._sessionId}/push`,this.cache,{authenticated:!0}).catch((()=>console.warn("failed to push micro session"))),this._resetInfo())}}setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}load(){this._resetInfo(),"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("beforeunload",this.endSession),this._doNotRecord=!1,this.enterprise.registerObserver(this),this._checkAdvancedPrivacy()}unload(){"undefined"!=typeof window&&window.addEventListener&&window.removeEventListener("beforeunload",this.endSession),this.endSession(),this._resetInfo(),this._doNotRecord=null,this.enterprise.unregisterObserver(this),this.enterprise=null,this.net=null}onEnterpriseChanged(){this._checkAdvancedPrivacy()}askRefresh(){return Promise.resolve()}addEntries(e,t,s){!this._sessionId||t!==this.cache.pageType||s&&s!==this.cache.streamId||e.forEach((e=>{const t=e.getId();this._entryHash[t]||(this.cache.entries.push({actions:[{verb:a}],entryId:t}),this._entryHash[t]=!0)}))}async askStartSession(e){if(!(this._doNotRecord||(0,i.p1)()||(0,r.XK)()))try{const t=await this.net.POST("https://ms.feedly.com/sessions",{},{authenticated:!0}),{sessionId:s,startTime:n}=JSON.parse(t);s?(this.cache={...e,client:"desktop",entries:[],startTime:n,userId:streets.getUserId()},streets.getEnterpriseId()&&(this.cache.enterpriseName=streets.getEnterpriseId()),this._entryHash={},this._sessionId=s):(this._resetInfo(),this._doNotRecord=!0)}catch(t){this._doNotRecord=!0}}clearEntryLessLikeThis(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;const s=t.actions.findIndex((e=>e.verb===o));s>-1&&t.actions.splice(s,1)}clearEntrySaved(e,t){if(!this._sessionId)return;const s=this.cache.entries.find((t=>t.entryId===e));if(!s)return;const n=s.actions.findIndex((e=>e.verb===d));if(n>-1){const e=s.actions[n];e.boardIds=e.boardIds.filter((e=>e!==t)),e.boardIds.length||s.actions.splice(n,1)}}clearEntryMarkedAsRead(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;const s=t.actions.findIndex((e=>e.verb===l));s>-1&&t.actions.splice(s,1)}setAllEntriesAsMarkedAsRead(e){!this._sessionId||e&&e!==this.cache.streamId||this.cache.entries.forEach((e=>{e.actions.find((e=>e.verb===l))||e.actions.push({verb:l})}))}setEntryAsLessLikeThis(e,t){if(!this._sessionId)return;const s=this.cache.entries.find((t=>t.entryId===e));if(!s)return;const n=s.actions.find((e=>e.verb===o));n?n.feedback.push(t):s.actions.push({verb:o,feedback:[t]})}setEntryAsMarkedAsRead(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;t.actions.find((e=>e.verb===l))||t.actions.push({verb:l})}setEntryAsRead(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;t.actions.find((e=>e.verb===c))||t.actions.push({verb:c})}setEntryAsSaved(e,t){if(!this._sessionId)return;const s=this.cache.entries.find((t=>t.entryId===e));if(!s)return;const n=s.actions.find((e=>e.verb===d));n?n.boardIds.push(t):s.actions.push({verb:d,boardIds:[t]})}setEntryAsShared(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;t.actions.find((e=>e.verb===h))||t.actions.push({verb:h})}setEntryReadTime(e,t){if(!this._sessionId)return;const s=this.cache.entries.find((t=>t.entryId===e));if(!s)return;const n=s.actions.find((e=>e.verb===c));n?(!n.readTime||t>n.readTime)&&(n.readTime=t):s.actions.push({verb:c,readTime:t})}_resetInfo(){this.cache={},this._entryHash={},this._sessionId=null}async _checkAdvancedPrivacy(){await this.enterprise.askIsAdvancedPrivacyOn()&&(this._resetInfo(),this._doNotRecord=!0)}}function p(e){return new u(e)}},81835:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(83168),i=s(16101);const r="https://ml.feedly.com/ml-topics-datasets";class a extends n.y{setNet(e){this.net=e}load(){this.cache={datasetInfos:{}}}unload(){this.net=null}askRefresh(){return this.cache={datasetInfos:{}},Promise.resolve()}async askCreateTopicDataset(e){if(!e)throw new Error("The datasetInfo is required");const t=await this.net.POST(`${r}/datasets`,e,{authenticated:!0});return this.fire("onMLTopicDatasetsChanged"),JSON.parse(t)}async askCurateEntry({topicDatasetId:e,entryId:t,curationLabel:s}){await this.net.POST(`${r}/datasets/${e}/examples`,[{entryId:t,label:s}],{authenticated:!0}),this.fire("onMLTopicDatasetsChanged",e),this.fire("onEntryDatasetsChanged")}async askCustomLists({topicDatasetId:e}){const t=await this.net.GET(`${r}/datasets/${e}/custom-lists`,{authenticated:!0});return JSON.parse(t)}async askDatasetInfo({topicDatasetId:e}){if(this.cache.datasetInfos[e])return this.cache.datasetInfos[e];const t=await this.net.GET(`${r}/datasets/${e}`,{authenticated:!0});return this.cache.datasetInfos[e]=JSON.parse(t),this.cache.datasetInfos[e]}async askDatasetQA({topicDatasetId:e,streamId:t,qaMode:s,modelUrl:n}){let a;if(s===i.oq.default)a=await this.net.GET(`${r}/datasets/${e}/qa?streamId=${t}`+(n?"&modelUrl="+encodeURIComponent(n):""),{authenticated:!0});else{let t;switch(s){case i.oq.positives:t="positives";break;case i.oq.negatives:t="negatives";break;default:throw new Error("invalid QA mode")}a=await this.net.GET(`${r}/datasets/${e}/qa/${t}`,{authenticated:!0})}return JSON.parse(a)}async askEntryDatasetIds(e){const t=await this.net.GET(`${r}/examples/${encodeURIComponent(e)}`,{authenticated:!0});return JSON.parse(t)}async askListActiveLearningEntries({topicDatasetId:e,unlabeledOnly:t}){const s=await this.net.GET(`${r}/datasets/${e}/active-learning?${t?"&unlabeledOnly="+t:""}`,{authenticated:!0});return JSON.parse(s)}askListDatasetEntries(e){const{curationMode:t,customListId:s}=e;return t===i.PG.communityFeedback?this._askListCommunityFeedbackEntries(e):t===i.PG.activeLearning?this.askListActiveLearningEntries(e):t===i.PG.livePredictions?this._askLivePredictionEntries(e):s?this._askListCustomListEntries(e):this._askListReviewEntries(e)}async askListEntryCurationStates({topicDatasetId:e,entryIds:t}){const s=await this.net.GET(`${r}/datasets/${e}/examples?entryIds=${encodeURIComponent(t.join())}`,{authenticated:!0});return JSON.parse(s)}async askListTopicDatasets(){if(this.cache.datasets)return this.cache.datasets;const e=await this.net.GET(`${r}/datasets`,{authenticated:!0});return this.cache.datasets=JSON.parse(e),this.cache.datasets}async askUnderTheHoodData(e){const t=await this.net.GET(`${r}/datasets/${e}/under-the-hood`,{authenticated:!0});return JSON.parse(t)}async askUpdateDatasetInfo({topicDatasetId:e,datasetInfo:t}){const s=await this.net.PUT(`${r}/datasets/${e}`,t,{authenticated:!0});return this.fire("onMLTopicDatasetsChanged",e),JSON.parse(s)}async askWikidataDatasetId({wikidataTopicId:e}){try{const t=await this.net.GET(`${r}/datasets/wikidata/${e}`,{authenticated:!0});return{datasetId:JSON.parse(t).datasetId.toString()}}catch(t){if("NotFound"===t.errorType)return{datasetId:void 0};console.error(t)}}async askFeedbackDetailedSummary(e){const t=await this.net.GET(`${r}/feedbacks/detailed_summary`,{authenticated:!0});return JSON.parse(t).find((t=>t.datasetId===e))}getCachedCurationKeywords({topicDatasetId:e}){const t=this.cache.datasetInfos[e];if(t&&t.curationInfo)return t.curationInfo.positiveKeywords||[]}async _askListCommunityFeedbackEntries({continuation:e,topicDatasetId:t,unlabeledOnly:s}){const n=await this.net.GET(`${r}/datasets/${t}/feedback?count=40${e?"&continuation="+e:""}${s?"&unlabeledOnly="+s:""}`,{authenticated:!0});return JSON.parse(n)}async _askLivePredictionEntries({continuation:e,topicDatasetId:t}){const s=await this.net.GET(`${r}/datasets/${t}/live-predictions?count=40${e?"&continuation="+e:""}`,{authenticated:!0});return JSON.parse(s)}async _askListCustomListEntries({continuation:e,customListId:t,topicDatasetId:s}){const n=await this.net.GET(`${r}/datasets/${s}/custom-lists/${t}?count=40${e?"&continuation="+e:""}`,{authenticated:!0});return JSON.parse(n)}async _askListReviewEntries({continuation:e,curationMode:t,topicDatasetId:s}){const n=await this.net.GET(`${r}/datasets/${s}/examples?count=40${e?"&continuation="+e:""}${t?"&label="+t:""}`,{authenticated:!0});return JSON.parse(n)}}function o(e){return new a(e)}},87141:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168);const i="https://ml.feedly.com/ml-topics-wikidata";class r extends n.y{setNet(e){this.net=e}setReader(e){this.reader=e}load(){this.cache={topics:{}}}unload(){this.cache={},this.net=null,this.reader=null}onUserIdentified(){this.cache={topics:{}}}onNoUserIdentified(){this.cache={topics:{}}}askRefresh(){return this.cache={topics:{}},Promise.resolve()}async askAddCustomItemToTopic(e,t={}){const{label:s}=t;if(!e||!s)throw new Error("The topicId and label are required");const n=await this.net.PUT(`${i}/topics/${encodeURIComponent(e)}/custom-items/${encodeURIComponent(s)}`,t,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=n,this.fire("onMLWikidataTopicChanged",e)}async askAddPropertyToTopic(e,t,s){if(!e||!t)throw new Error("The topicId and propertyId are required");let n=`${i}/topics/${encodeURIComponent(e)}/properties/${encodeURIComponent(t)}`;n+=s?`?forItem=${encodeURIComponent(s)}`:"",await this.net.PUT(n,null,{authenticated:!0}).then(JSON.parse)}async askAddRootItemToTopic(e,t){if(!e||!t)throw new Error("The topicId and itemId are required");await this.net.PUT(`${i}/topics/${encodeURIComponent(e)}/root-items/${encodeURIComponent(t)}`,null,{authenticated:!0}).then(JSON.parse)}async askChangeCurationStream(e,t="default",s=500){if(!e||!t)throw new Error("The topicId and streamId are required");return await this.net.PUT(`${i}/topics/${encodeURIComponent(e)}/curation-stream?streamId=${t}&nEntries=${s}`,null,{authenticated:!0})}async askChangeEvaluationStream(e,t="default",s=500){if(!e||!t)throw new Error("The topicId and streamId are required");await this.net.PUT(`${i}/topics/${encodeURIComponent(e)}/evaluation-stream?streamId=${t}&nEntries=${s}`,null,{authenticated:!0}),this.fire("onEvaluationStreamChanged")}async askCheckModelerInUse(){return await this.net.GET(`${i}/lock`,{authenticated:!0}).then(JSON.parse)}async askCreateTopic(e){if(!e)throw new Error("The topicInfo is required");const t=await this.net.POST(`${i}/topics`,e,{authenticated:!0}).then(JSON.parse);return this.fire("onMLWikidataTopicsChanged"),t}async askDeleteCustomItemFromTopic(e,t){if(!e||!t)throw new Error("The topicId and label are required");const s=await this.net.DEL(`${i}/topics/${encodeURIComponent(e)}/custom-items/${encodeURIComponent(t)}`,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]&&(this.cache.topics[e]=s),this.fire("onMLWikidataTopicChanged",e)}async askEvaluationInfo(e,t){if(!e||null===t)throw new Error("The topicId and threshold are required");return await this.net.GET(`${i}/topics/${encodeURIComponent(e)}/evaluation?threshold=${t}`,{authenticated:!0}).then(JSON.parse)}async askEvaluationDefaultThreshold(e){if(!e)throw new Error("The topicId is required");return await this.net.GET(`${i}/topics/${encodeURIComponent(e)}/evaluation-info`,{authenticated:!0}).then(JSON.parse)}async askUnexcludeItemFromTopic(e,t){if(!e||!t)throw new Error("The topicId and itemId are required");const s=await this.net.DEL(`${i}/topics/${encodeURIComponent(e)}/excluded-items/${encodeURIComponent(t)}`,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=s,this.fire("onMLWikidataTopicChanged",e),this.fire("onWikidataRootItemChanged")}async askUnlockModeler(){return await this.net.DEL(`${i}/lock`,{authenticated:!0}).then(JSON.parse)}async askIncludeTokenForTopic(e,t){if(!e||!t)throw new Error("The topicId and tokenId are required");const s=await this.net.DEL(`${i}/topics/${encodeURIComponent(e)}/excluded-tokens/${encodeURIComponent(t)}`,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=s}async askIncludeTokensForTopic(e,t,s=!0){if(!e||!t.length)throw new Error("The topicId and tokensId are required");await Promise.all(t.map((async t=>{await this.askIncludeTokenForTopic(e,t)}))),s&&this.fire("onMLWikidataTopicChanged",e)}async askDeletePropertyFromTopic(e,t,s){if(!e||!t)throw new Error("The topicId and propertyId are required");let n=`${i}/topics/${encodeURIComponent(e)}/properties/${encodeURIComponent(t)}`;n+=s?`?forItem=${encodeURIComponent(s)}`:"";const r=await this.net.DEL(n,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=r,this.fire("onWikidataRootItemChanged",s),this.fire("onMLWikidataTopicChanged",e)}async askDeleteRootItemFromTopic(e,t){if(!e||!t)throw new Error("The topicId and itemId are required");const s=await this.net.DEL(`${i}/topics/${encodeURIComponent(e)}/root-items/${encodeURIComponent(t)}`,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]&&(this.cache.topics[e]=s),this.fire("onMLWikidataTopicChanged",e),this.fire("onWikidataRootItemChanged")}async askEntriesForTopic(e){if(!e)throw new Error("The topicId is required");const t=await this.net.GET(`${i}/topics/${encodeURIComponent(e)}/curation/entries`,{authenticated:!0}).then(JSON.parse);return await Promise.all(t.entrySegments.map((async(e,s)=>{const n=e.entries.map((e=>e.entryId));(await this.reader.askLookupEntries(n)).forEach(((e,n)=>{t.entrySegments[s].entries[n].entry=e}))}))),t}async askExcludeItemFromTopic(e,t){if(!e||!t)throw new Error("The topicId and itemId are required");const s=await this.net.PUT(`${i}/topics/${encodeURIComponent(e)}/excluded-items/${encodeURIComponent(t)}`,null,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=s,this.fire("onMLWikidataTopicChanged",e),this.fire("onWikidataRootItemChanged")}async askExcludeTokenFromTopic(e,t,s=!1){if(!e||!t)throw new Error("The topicId and tokenId are required");let n=`${i}/topics/${encodeURIComponent(e)}/excluded-tokens/${encodeURIComponent(t)}`;n+=s?`?excludeSimilar=${s}`:"";const r=await this.net.PUT(n,null,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=r}async askExcludeTokensFromTopic(e,t,s=!0){if(!e||!t.length)throw new Error("The topicId and tokensId are required");await Promise.all(t.map((async t=>{await this.askExcludeTokenFromTopic(e,t)}))),s&&(this.fire("onMLWikidataTopicChanged",e),this.fire("onWikidataRootItemChanged"))}async askInvalidateTokenForTopic(e,t){if(!e||!t)throw new Error("The topicId and tokenId are required");return await this.net.DEL(`${i}/topics/${encodeURIComponent(e)}/validated-tokens/${encodeURIComponent(t)}`,{authenticated:!0}).then(JSON.parse)}async askItemsForTopic(e,t="mentions",s=0,n=50){if(!e)throw new Error("The topicId is required");let r=`${i}/topics/${encodeURIComponent(e)}/items`;return r+=t?`?sortMode=${t}`:"",r+=`&continuation=${s}&limit=${n}`,await this.net.GET(r,{authenticated:!0}).then(JSON.parse)}async askInvalidateTokensForTopic(e,t){if(!e||!t.length)throw new Error("The topicId and tokensId are required");await Promise.all(t.map((async t=>{await this.askInvalidateTokenForTopic(e,t)})))}async askListTopics(){return await this.net.GET(`${i}/topics`,{authenticated:!0}).then(JSON.parse)}async askLockModeler(){return await this.net.POST(`${i}/lock`,null,{authenticated:!0}).then(JSON.parse)}async askReadItemById(e,t,s=!1,n=!1){if(!e||!t)throw new Error("The topicId and itemId are required");return await this.net.GET(`${i}/topics/${encodeURIComponent(e)}/items/${encodeURIComponent(t)}?includeAllParents=${s}&includeAllChildren=${n}`,{authenticated:!0}).then(JSON.parse)}async askRootItemSuggestionsForTopic(e){if(!e)throw new Error("The topicId is required");return await this.net.GET(`${i}/topics/${encodeURIComponent(e)}/root-items/suggestions`,{authenticated:!0}).then(JSON.parse)}async askSearchItems(e){if(!e)throw new Error("The queryId is required");return await this.net.GET(`${i}/items/search?query=${encodeURIComponent(e)}`,{authenticated:!0}).then(JSON.parse).catch((()=>null))}async askSearchProperty(e){if(!e)throw new Error("The propertyId is required");return await this.net.GET(`${i}/properties/search?query=${encodeURIComponent(e)}`,{authenticated:!0}).then(JSON.parse).catch((()=>null))}async askSearchTokens(e,t){if(!e)throw new Error("The topicId is required");return await this.net.GET(`${i}/topics/${encodeURIComponent(e)}/tokens/search?query=${t}`,{authenticated:!0}).then(JSON.parse).then((async e=>await Promise.all(e.tokens.map((async e=>{const t=e.entries.slice(0,3);if(t.length){const s=await this.reader.askLookupEntries(t);return{...e,entries:s}}return e})))))}async askSearchTopics(e){if(!e)throw new Error("The query is required");return await this.net.GET(`${i}/topics/search?query=${encodeURIComponent(e)}`,{authenticated:!0}).then(JSON.parse)}async askSetMetadataForTopic(e,t){if(!e||!t)throw new Error("The topicId and metadataInfo are required");const s=await this.net.POST(`${i}/topics/${encodeURIComponent(e)}/metadata`,t,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=s,this.fire("onMLWikidataTopicChanged",e)}async askTokensForTopic(e,t="frequencyAll",s=0,n=10){if(!e)throw new Error("The topicId is required");let r=`${i}/topics/${encodeURIComponent(e)}/curation/tokens?continuation=${s}&limit=${n}`;r+=t?`&sortMode=${encodeURIComponent(t)}`:"";const a=await this.net.GET(r,{authenticated:!0}).then(JSON.parse);return await Promise.all(a.tokens.map((async(e,t)=>{const s=e.entries.slice(0,3);let n=[];s.length&&(n=await this.reader.askLookupEntries(s)),a.tokens[t].entries=n}))),a}async askPropsForItem(e,t){await this.askTopic(e,t,!0),this.fire("onMLWikidataTopicChanged",e)}async askTopic(e,t,s=!1){if(!e)throw new Error("The topicId is required");if(this.cache.topics[e]&&!s)return this.cache.topics[e];let n=`${i}/topics/${encodeURIComponent(e)}`;n+=t?`?loadChildrenOfItem=${t}`:"";const r=await this.net.GET(n,{authenticated:!0}).then(JSON.parse);return this.cache.topics[e]=r,r}async askCreateVersionForTopic(e,t={}){if(!e||!t.description)throw new Error("The topicId and topicInfo description are required");const s=await this.net.POST(`${i}/topics/${encodeURIComponent(e)}/versions`,t,{authenticated:!0}).then(JSON.parse);return this.fire("onMLWikidataTopicChanged",e),s}async askCheckTaskStatus(){let e={};return await new Promise((async t=>{const s=setInterval((async()=>{if("READY"===e.status)return clearInterval(s),t(e);e=await this.askTaskStatus()}),3e3)})).then((e=>(this.fire("onWikidataRootItemChanged"),this.fire("onMLWikidataTopicChanged",null,!0),e)))}async askTaskStatus(){return await this.net.GET(`${i}/task-status`,{authenticated:!0}).then(JSON.parse)}async askValidateTokenForTopic(e,t){if(!e||!t)throw new Error("The topicId and tokenId are required");await this.net.PUT(`${i}/topics/${encodeURIComponent(e)}/validated-tokens/${encodeURIComponent(t)}`,null,{authenticated:!0}).then(JSON.parse)}async askValidateTokensForTopic(e,t){if(!e||!t.length)throw new Error("The topicId and tokensId are required");await Promise.all(t.map((async t=>{await this.askValidateTokenForTopic(e,t)})))}async askVersionsForTopic(e){if(!e)throw new Error("The topicId is required");return await this.net.GET(`${i}/topics/${encodeURIComponent(e)}/versions`,{authenticated:!0}).then(JSON.parse)}async askCurationEntriesForTopic(e){if(!e)throw new Error("The topicId is required");const t=await this.net.GET(`${i}/topics/${encodeURIComponent(e)}/curation/entries`,{authenticated:!0}).then(JSON.parse);return this.cache.topics[e].curation={entries:t},this.fire("onMLWikidataTopicChanged",e),t}}function a(e){return new r(e)}},96663:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(74221),i=s(83168);class r extends i.y{setEnterprisemutefilters(e){this.enterprisemutefilters=e}setNet(e){this.net=e}setPersonalmutefilters(e){this.personalmutefilters=e}unload(){this.net=null}async askListStreamMuteFilters(e,t){const{isAll:s,isEnterprise:i,isGlobalEnterprise:r}=(0,n.Yg)(e),a=i?this.enterprisemutefilters:this.personalmutefilters,o=i?(0,n.Gr)():(0,n.N1)(),l=await a.askListFilters(t);return s||r?l.reduce(((e,t)=>((t.streamId===o?e.globalMuteFilters:e.muteFilters).push(t),e)),{muteFilters:[],globalMuteFilters:[]}):l.reduce(((t,s)=>(s.streamId===e?t.muteFilters.push(s):s.streamId===o&&t.globalMuteFilters.push(s),t)),{muteFilters:[],globalMuteFilters:[]})}async askMoveMuteFilters(e,t){if(!e||!t)throw new Error("The `fromCollectionId` and `toCollectionId` are required.");const{muteFilters:s}=await this.askListStreamMuteFilters(e),{isEnterprise:i}=(0,n.Yg)(t),r=i?this.enterprisemutefilters:this.personalmutefilters;await Promise.all(s.map((e=>r.askUpdate({...e,streamId:t}))))}}function a(e){return new r(e)}},33037:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(68681),i=s(9990),r=s(83168);class a extends r.y{constructor(){super(),this.hydrationId=0}load(){}initialize(){}uninitialize(){}dehydrate(){this.hydrationId=this.hydrationId+1}rehydrate(){this.hydrationId=this.hydrationId+1}unload(){this._offlineHandler=null}setOfflineHandler(e){this._offlineHandler=e}async GET(e,t){return this._GO({method:"GET",url:e,headers:t})}async POST(e,t,s){return this._GO({method:"POST",url:e,body:t,headers:s})}async PUT(e,t,s){return this._GO({method:"PUT",url:e,body:t,headers:s})}async DEL(e,t){return this._GO({method:"DELETE",url:e,headers:t})}async MDEL(e,t,s){return this._GO({method:"DELETE",url:e,body:t,headers:s})}async _GO(e){const t=this.hydrationId,s=e.headers&&!0===e.headers.isOptional;return e.headers&&delete e.headers.isOptional,(0,i.wG)({method:e.method,url:e.url,body:e.body,headers:e.headers}).catch((i=>{if(s)throw i;if(i instanceof n.o&&0===i.errorCode&&t!==this.hydrationId)return this._GO(e);throw i instanceof n.o&&0===i.errorCode&&this._offlineHandler&&this._offlineHandler(),i}))}}function o(e){return new a(e)}},8993:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var n=s(32735),i=s(12788),r=s(83168),a=s(3015),o=s(60216),l=s.n(o),c=s(40841),d=s.n(c);class h extends n.Component{render(){const{children:e,className:t,onClick:s}=this.props;return n.createElement("div",{className:d()("DockedPopup",t),onClick:s},e)}}h.propTypes={children:l().node,className:l().string,onClick:l().func},h.defaultProps={children:void 0,className:void 0,onClick:void 0};var u=s(763),p=s(47264),m=s(40280),g=s(95192);class f extends n.Component{render(){const{illustrationUrl:e,onLearnMoreClick:t,onCloseClick:s,header:i,body:r}=this.props;return n.createElement(h,null,n.createElement("div",{className:"StarFeatureDockedPopup"},n.createElement("div",{className:"StarFeatureDockedPopup__corner-ribbon"},n.createElement(g.x,{className:"StarFeatureDockedPopup__corner-ribbon-text",size:"smaller",color:"white"},"New")),n.createElement(p.zx,{className:"StarFeatureDockedPopup__close",importance:"tertiary",icon:n.createElement(u.Z,null),onClick:s}),e&&n.createElement("img",{alt:i,className:"StarFeatureDockedPopup__illustration",src:e}),n.createElement(m.H2,{className:"StarFeatureDockedPopup__header"},i),n.createElement(g.x,{className:"StarFeatureDockedPopup__body"},r),n.createElement(p.zx,{color:"accent",className:"StarFeatureDockedPopup__button",importance:"secondary",size:"large",onClick:t},"Learn More")))}}f.propTypes={onCloseClick:l().func,onLearnMoreClick:l().func,header:l().string,body:l().string,illustrationUrl:l().string},f.defaultProps={onCloseClick:void 0,onLearnMoreClick:void 0,header:null,body:null,illustrationUrl:null};const y=(0,s(71262).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M4.286 4.286l11.429 11.429M15.715 4.286L4.285 15.715"})))})),v=({safeArea:e,header:t,body:s,illustrationUrl:i,onConfirmClick:r,onCloseClick:a})=>n.createElement("div",{className:"MobilePopup",style:{paddingBottom:`${e}px`}},n.createElement(p.zx,{className:"MobilePopup__close",importance:"tertiary",icon:n.createElement(y,{importance:"tertiary"}),onClick:a}),n.createElement("div",{className:"MobilePopup__content"},i&&n.createElement("img",{alt:t,className:"MobilePopup__illustration",src:i}),n.createElement(m.H2,{appearance:"h3",className:"MobilePopup__header"},t),n.createElement(g.x,{className:"MobilePopup__body",color:"secondary",size:"smaller"},s),n.createElement(p.zx,{className:"MobilePopup__confirm",importance:"secondary",size:"normal",color:"black",onClick:r},"Learn More")));v.propTypes={safeArea:l().number,onConfirmClick:l().func,onCloseClick:l().func,header:l().string,body:l().string,illustrationUrl:l().string},v.defaultProps={safeArea:0,onConfirmClick:void 0,onCloseClick:void 0,header:null,body:null,illustrationUrl:null};const b="newFeaturesLastClickTime",E="feed/https://blog.feedly.com/category/features-tutorials/feed/",C=5*a.HA.day,w=Object.freeze({"cybersecurity-only":new Set(["security","cyber security","forensics","malware","osint","vulnerabilities","exploits","sans","phishing","security tools","pentest","reverse engineering"])});class k extends r.y{setAnalytics(e){this.analytics=e}setFeeds(e){this.feeds=e}setNotifications(e){this.notifications=e}setPreferences(e){this.preferences=e}setReader(e){this.reader=e}load(){this.newFeaturesStream=this.reader.lookupStream(E,{batchSize:1}),this.newFeaturesStream.registerObserver(this),this.preferences.registerObserver(this),this.isStarFeaturePopupOpen=!1,this.newFeaturesMostRecentEntry=null,this.showWhatsNewNotification=null}unload(){this.newFeaturesStream.unregisterObserver(this),this.preferences.unregisterObserver(this),this.isStarFeaturePopupOpen=null,this.newFeaturesMostRecentEntry=null,this.newFeaturesStream=null,this.analytics=null,this.feeds=null,this.preferences=null,this.reader=null,this.showWhatsNewNotification=null}onPreferenceChanged(e){e===b&&this._updateNotifications()}onStreamStateChanged(e){e===E&&this._updateNewFeaturesMostRecentEntry()}updateNewFeaturesLastClickTime(){this.newFeaturesMostRecentEntry&&this.preferences.setPreference(b,this.newFeaturesMostRecentEntry.crawledTime)}getNotificationInfo(){return{showWhatsNewNotification:this.showWhatsNewNotification}}getCurrentNewFeatureHeader(){return this.newFeaturesMostRecentEntry.jsonInfo.title}_closeStarFeatureDockedPopup(){this.isStarFeaturePopupOpen=!1,i.unmountComponentAtNode(document.getElementById("reactDockedPopup"))}_closeStarFeatureMobilePopup(){this.notifications.clearNotification(!1,this.mobilePopupElement),this.isStarFeaturePopupOpen=!1}async _isFollowingTargetedFeeds(e){if(!e||!w[e])return!1;return(await this.feeds.askListFeeds()).some((t=>t.topics&&!!t.topics.find((t=>w[e].has(t)))))}_showStarFeatureDockedPopup(e,t,s){this.analytics.trackNewFeaturesEvent(e,"show docked popup"),this.isStarFeaturePopupOpen=!0,i.render(n.createElement(f,{header:e,body:t,illustrationUrl:s,onCloseClick:()=>{this._closeStarFeatureDockedPopup(),this.updateNewFeaturesLastClickTime(),this.analytics.trackNewFeaturesEvent(e,"dismiss docked popup")},onLearnMoreClick:()=>{this._closeStarFeatureDockedPopup(),this.updateNewFeaturesLastClickTime(),this.analytics.trackNewFeaturesEvent(e,"click docked popup"),streets.service("feedly").previewEntry(this.newFeaturesMostRecentEntry.getId())}}),document.getElementById("reactDockedPopup"))}_showStarFeatureMobilePopup(e,t,s){this.isStarFeaturePopupOpen=!0,this.notifications.showNotification(n.createElement(v,{body:t,header:e,illustrationUrl:s,onCloseClick:()=>{this.updateNewFeaturesLastClickTime(),this._closeStarFeatureMobilePopup()},onConfirmClick:()=>{this.updateNewFeaturesLastClickTime(),streets.service("tabsManager").askOpenNewPage(`entry/${encodeURIComponent(this.newFeaturesMostRecentEntry.getId())}`),this._closeStarFeatureMobilePopup()},type:"success"}),null,this.mobilePopupElement)}async _updateNotifications(){const e=this.preferences.getPreference(b)<this.newFeaturesMostRecentEntry.crawledTime,t=this.newFeaturesMostRecentEntry.jsonInfo.keywords.indexOf("What's New")>=0;this.showWhatsNewNotification=t&&e,this.fire("onWhatsNewNotificationChanged",this.showWhatsNewNotification);const s=this.newFeaturesMostRecentEntry.jsonInfo.keywords.indexOf("Star feature")>=0,n=this.newFeaturesMostRecentEntry.jsonInfo.keywords.find((e=>Object.keys(w).includes(e))),i=s&&(!n||await this._isFollowingTargetedFeeds(n)),r=Date.now()-this.newFeaturesMostRecentEntry.crawledTime<C;if(streets.getUserId()&&i&&e&&r){const e=this.getCurrentNewFeatureHeader(),t=this.newFeaturesMostRecentEntry.getSubtitle(),s=streets.service("image").getBestVisual(this.newFeaturesMostRecentEntry),n=s?s.url:null;this._showStarFeatureDockedPopup(e,t,n)}else this.isStarFeaturePopupOpen&&this._closeStarFeatureDockedPopup()}_updateNewFeaturesMostRecentEntry(){const e=this.newFeaturesStream.getState();if(!e.isLoadingEntries){const t=e.entries;this.newFeaturesMostRecentEntry=t[t.length-1],this._updateNotifications()}}}function _(e){return new k(e)}},74739:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setCollections(e){this.collections=e}setEnterprisecollections(e){this.enterprisecollections=e}setEnterprisetags(e){this.enterprisetags=e}setPersonalcollections(e){this.personalcollections=e}setPersonaltags(e){this.personaltags=e}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}load(){this.enterprisecollections.registerObserver(this),this.enterprisetags.registerObserver(this),this.personalcollections.registerObserver(this),this.personaltags.registerObserver(this),this.cache={}}unload(){this.enterprisecollections.unregisterObserver(this),this.enterprisetags.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.collections=null,this.enterprisecollections=null,this.enterprisetags=null,this.personalcollections=null,this.personaltags=null,this.cache={}}askRefresh(){this.cache={}}onCollectionsChanged(){this._verifyIsAccountEmpty()}async onFeedsChanged(){const e=this.cache.isOnboarding;if(e){this.cache.isOnboarding=null;const t=await this.askIsOnboarding();e!==t&&this.fire("onOnboardingChanged",t)}}onTagsChanged(){this._verifyIsAccountEmpty()}async askIsAccountEmpty(){if(!streets.getUserId())return!0;if("boolean"==typeof this.cache.isAccountEmpty)return this.cache.isAccountEmpty;const[e,t,s,n]=await Promise.all([this.enterprisecollections.askListSubscribedCollections(),this.enterprisetags.askListSubscribedTags(),this.personalcollections.askListCollections(),this.personaltags.askListTags()]),i=e.length+t.length+s.length+n.length===0;return this.cache.isAccountEmpty=i,i}async askIsOnboarding(){if(!streets.getUserId())return!0;if("boolean"==typeof this.cache.isOnboarding)return this.cache.isOnboarding;let e;if(streets.hasProAccess()||streets.hasBusinessAccess())e=!1;else{e=(await this.collections.askListAllFeeds()).length<=2}return this.cache.isOnboarding=e,e}async _verifyIsAccountEmpty(){const e=this.cache.isAccountEmpty;if(e){this.cache.isAccountEmpty=null;const t=await this.askIsAccountEmpty();e!==t&&this.fire("onOnboardingAccountEmptyChanged",t)}}}function r(e){return new i(e)}},43426:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(83168),i=s(99879),r=s(61861),a=s(47567),o=s(3171);const l=Object.freeze({service:"Oxygen",askYTDRevenueBreakdown:"askYTDRevenueBreakdown",askLastYearRevenueBreakdown:"askLastYearRevenueBreakdown",askPastTwoMonthRevenueBreakdown:"askPastTwoMonthRevenueBreakdown",askPastYearRevenueBreakdown:"askPastYearRevenueBreakdown"}),c=["proPlusYearly","proPlusMonthly"],d=["enterpriseMonthly","enterpriseYearly","businessMonthly","businessYearly","proYearly","proMonthly",...c];class h extends n.y{setNet(e){this.net=e}load(){this.cache={}}unload(){this.cache=null,this.net=null}askRefresh(){this.cache={}}async askRevenueMetrics(){const[e,t]=await Promise.all([this._askYTDRevenueBreakdown(),this._askLastYearRevenueBreakdown()]);let s=e.dailySales,n=this._transformDailyRevenue(e.dailyRevenue),i=this._transformDailyRevenue(t.dailyRevenue),r={};const a=(new Date).getTime()-2592e6,o=(new Date).getTime()-6048e5,l=new Date;let h=Object.keys(n).reduce(((e,t)=>{const s=new Date(`${t}T00:00:01`),i=n[t],c=`${s.getMonth()+1}-${s.getDate()}`,h=d.reduce(((e,t)=>(r[t]||(r[t]=0),e+=this._combineAmounts(i.revenue[t])/100,r[t]+=this._combineAmounts(i.revenue[t])/100,e)),0),u=d.reduce(((e,t)=>e+=this._combineAmounts(i.churn[t])/100),0);s.getTime()>a&&h&&(e.past30Days[c]=!0),l.getMonth()===s.getMonth()&&h&&(e.thisMonth[c]=!0,e.revenueThisMonth+=h),l.getFullYear()===s.getFullYear()&&h&&(e.thisYear[c]=!0,e.revenueYTD+=h,e.churnYTD+=u);const p=this._combineAmounts(i.churnedCustomers.proPlusYearly),m=this._combineAmounts(i.churnedCustomers.proPlusMonthly);return s.getTime()>o&&p+m&&(e.past7Days[c]=!0,e.proPlusYearlyChurnCustomersPast7Days+=p,e.proPlusMonthlyChurnCustomersPast7Days+=m),e}),{revenueYTD:0,revenueYTDLastYear:0,churnYTD:0,churnYTDLastYear:0,revenueThisMonth:0,revenueThisMonthLastYear:0,proPlusYearlyChurnCustomersPast7Days:0,proPlusMonthlyChurnCustomersPast7Days:0,proPlusChurnCustomersPast7DaysLastYear:0,businessPast30DaysTrials:0,businessPast30DaysQualified:0,businessPast30DaysOnboarded:0,businessPast30DaysWon:0,enterpriseThisMonthTrials:0,enterpriseThisMonthQualified:0,enterpriseThisMonthOnboarded:0,enterpriseThisMonthDaysWon:0,past30Days:{},past7Days:{},thisMonth:{},thisYear:{}});return h=Object.keys(s).reduce(((e,t)=>{const n=new Date(`${t}T00:00:01`),i=`${n.getMonth()+1}-${n.getDate()}`,r=s[t];return n.getTime()>a&&(e.businessPast30DaysTrials+=r.business.trials,e.businessPast30DaysQualified+=r.business.qualified,e.businessPast30DaysOnboarded+=r.business.onboarded,e.businessPast30DaysWon+=r.business.won),e.thisMonth[i]&&(e.enterpriseThisMonthTrials+=r.enterprise.trials,e.enterpriseThisMonthQualified+=r.enterprise.qualified,e.enterpriseThisMonthOnboarded+=r.enterprise.onboarded,e.enterpriseThisMonthDaysWon+=r.enterprise.won),e}),h),h=Object.keys(i).reduce(((e,t)=>{const s=new Date(`${t}T00:00:01`),n=`${s.getMonth()+1}-${s.getDate()}`,r=i[t],a=d.reduce(((e,t)=>e+=this._combineAmounts(r.revenue[t])/100),0),o=d.reduce(((e,t)=>e+=this._combineAmounts(r.churn[t])/100),0);e.thisYear[n]&&(e.revenueYTDLastYear+=a,e.churnYTDLastYear+=o),e.thisMonth[n]&&(e.revenueThisMonthLastYear+=a);const l=c.reduce(((e,t)=>e+=this._combineAmounts(r.churnedCustomers[t])),0);return e.past7Days[n]&&l&&(e.proPlusChurnCustomersPast7DaysLastYear+=l),e}),h),h}async askCountersDaily(){const[e]=await Promise.all([this._askYTDRevenueBreakdown()]);let{counters:t}=e;return t}async askCountersWeekly(){let e=0;const[t,s]=await Promise.all([this._askYTDRevenueBreakdown(),this._askLastYearRevenueBreakdown()]);let{counters:n}=t,i=this._transformDailyRevenue(t.dailyRevenue),r=this._createEmptyCountersWeeklyStructure();r=Object.keys(n).reduce(((t,s)=>{const r=new Date(`${s}T00:00:01`);let o=(0,a.uW)(r);53===o&&(o=1);const l=n[s],c=t[o],h=i[s],u=d.reduce(((e,t)=>e+=this._combineAmounts(h.revenue[t])/100),0);return r.getTime()<new Date("2020-11-05")&&l.totalEnterpriseAccounts&&(l.totalBusinessAccounts||(l.totalBusinessAccounts=l.totalEnterpriseAccounts),delete l.totalEnterpriseAccounts),o>52||(t[o].daysCounted+=1,e+=u,c.revenue=e,l.totalProPlusUsers&&(c.proPlus=l.totalProPlusUsers),l.totalLeoSecurityEnterprise&&(c.enterpriseCybersecurity=l.totalLeoSecurityEnterprise),l.totalEnterpriseAccounts&&(c.enterprise=l.totalEnterpriseAccounts),l.totalBusinessAccounts&&(c.business=l.totalBusinessAccounts)),t}),r);let o=s.counters;return r=Object.keys(o).reduce(((e,t)=>{const s=new Date(`${t}T00:00:01`),n=this._mapWeekNum(s),i=o[t],r=e[n];return n>52||s.getFullYear()===(new Date).getFullYear()||r.daysCountedLastYear>=r.daysCounted||(r.daysCountedLastYear+=1,i.totalProPlusUsers&&(r.proPlusLastYear+=i.totalProPlusUsers),i.totalLeoSecurityEnterprise&&(r.enterpriseCybersecurityLastYear+=i.totalLeoSecurityEnterprise),i.totalEnterprise&&(r.enterpriseLastYear+=i.totalEnterprise),i.totalBusiness&&(r.businessLastYear+=i.totalBusiness)),e}),r),Object.values(r)}async askProPlusChurnMonthly(){const[e,t]=await Promise.all([this._askLastYearRevenueBreakdown(),this._askYTDRevenueBreakdown()]),s={...e.counters,...t.counters},n={...e.dailyRevenue,...t.dailyRevenue};let i="";const r=Object.keys(s).reduce(((e,t)=>{const[n,r]=t.split("-");return i!==r&&(i=r,e[`${n}-${r}`]={totalProPlusUsers:s[t].totalProPlusUsers}),e}),{});return Object.keys(n).reduce(((e,t)=>{var s;const[i,r]=t.split("-"),a=`${i}-${r}`,o=null===(s=n[t].churnedCustomers)||void 0===s?void 0:s.proPlus;return o?(Object.keys(o).forEach((t=>{const s=e[a];s[t]?s[t]+=o[t]:s[t]=o[t]})),e):e}),r)}async askProPlusPastYearChurnByWeek(){const{dailyRevenue:e}=await this._askPastYearRevenueBreakdown();return Object.keys(e).reduce(((t,s)=>{var n,i;const[r,a,l]=s.split("-"),c=new Date(r,a-1,l),d=new Date(c.getTime()+(0,o.DZ)(c.getTimezoneOffset())-(0,o.z1)(c.getDay())),h=`${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()}`;t[h]||(t[h]={monthly:{},yearly:{}});const u=null===(n=e[s].churnedCustomers)||void 0===n?void 0:n.proPlusMonthly,p=null===(i=e[s].churnedCustomers)||void 0===i?void 0:i.proPlusYearly;return u&&Object.keys(u).forEach((e=>{const s=t[h].monthly;s[e]?s[e]+=u[e]:s[e]=u[e]})),p&&Object.keys(p).forEach((e=>{const s=t[h].yearly;s[e]?s[e]+=p[e]:s[e]=p[e]})),t}),{})}async askRevenueWeekly(e="proPlusYearly"){const[t,s]=await Promise.all([this._askYTDRevenueBreakdown(),this._askLastYearRevenueBreakdown()]);let{dailyRevenue:n,counters:i}=t;n=this._transformDailyRevenue(n);let r,o=this._createEmptyRevenueWeeklyStructure();o=Object.keys(n).reduce(((t,s)=>{const l=new Date(`${s}T00:00:01`),c=(0,a.uW)(l),d=n[s],h=t[c];return 53===c?(o[1].daysCounted+=1,d.revenue&&d.revenue[e]&&(o[1].revenue+=this._combineAmounts(d.revenue[e])/100,o[1].churn+=this._combineAmounts(d.churn[e])/100,o[1].customerCount+=this._combineCounts(d.payingCustomers[e]),o[1].churnCount+=this._combineCounts(d.churnedCustomers[e]),"enterpriseYearly"===e&&d.payingTeams&&d.payingTeams.enterprise&&(o[1].payingEnterprises=[...o[1].payingEnterprises,...d.payingTeams.enterprise],console.log("enterprise yearly growth:",s,this._combineAmounts(d.revenue[e])/100,d.payingTeams.enterprise)),"enterpriseMonthly"===e&&console.log("warning: discovered enterprise monthly revenue:",s,this._combineAmounts(d.revenue[e])/100,d.payingTeams.enterprise)),t):("proPlusYearly"===e&&!h.total&&i[s]&&i[s].totalProPlusUsers&&(h.total=i[s].totalProPlusUsers,r&&(h.delta=i[s].totalProPlusUsers-r),r=i[s].totalProPlusUsers),h.daysCounted+=1,d.revenue&&d.revenue[e]&&(h.revenue+=this._combineAmounts(d.revenue[e])/100,h.churn+=this._combineAmounts(d.churn[e])/100,h.customerCount+=this._combineCounts(d.payingCustomers[e]),h.churnCount+=this._combineCounts(d.churnedCustomers[e]),"enterpriseYearly"===e&&d.payingTeams&&d.payingTeams.enterprise&&(h.payingEnterprises=[...h.payingEnterprises,...d.payingTeams.enterprise],console.log("enterprise yearly growth:",s,this._combineAmounts(d.revenue[e])/100,d.payingTeams.enterprise)),"enterpriseMonthly"===e&&console.log("warning: discovered enterprise monthly revenue:",s,this._combineAmounts(d.revenue[e])/100,d.payingTeams.enterprise)),t)}),o);let l=this._transformDailyRevenue(s.dailyRevenue);return o=Object.keys(l).reduce(((t,s)=>{const n=new Date(`${s}T00:00:01`);let i=this._mapWeekNum(n);53===i&&(i=1);const r=l[s],a=t[i];return n.getFullYear()===(new Date).getFullYear()||a.revenue&&a.daysCountedLastYear>=a.daysCounted||(a.daysCountedLastYear+=1,r.revenue&&r.revenue[e]&&(a.revenueLastYear+=this._combineAmounts(r.revenue[e])/100,a.churnLastYear+=this._combineAmounts(r.churn[e])/100,a.customerCountLastYear+=this._combineCounts(r.payingCustomers[e]),a.churnCountLastYear+=this._combineCounts(r.churnedCustomers[e]))),t}),o),Object.values(o)}async askRevenueMonthly(e="proPlusYearly"){const[t,s]=await Promise.all([this._askYTDRevenueBreakdown(),this._askLastYearRevenueBreakdown()]);let{dailyRevenue:n}=t;n=this._transformDailyRevenue(n);let i=this._createEmptyRevenueMonthlyStructure();i=Object.keys(n).reduce(((t,s)=>{const i=new Date(`${s}T00:00:01`).getMonth(),r=n[s],a=t[i];return a.daysCounted+=1,r.revenue&&r.revenue[e]&&(a.revenue+=this._combineAmounts(r.revenue[e])/100,a.churn+=this._combineAmounts(r.churn[e])/100,a.customerCount+=this._combineCounts(r.payingCustomers[e]),a.churnCount+=this._combineCounts(r.churnedCustomers[e]),"enterpriseYearly"===e&&r.payingTeams&&r.payingTeams.enterprise&&(a.payingEnterprises=[...a.payingEnterprises,...r.payingTeams.enterprise])),t}),i);let r=this._transformDailyRevenue(s.dailyRevenue);return i=Object.keys(r).reduce(((t,s)=>{const n=new Date(`${s}T00:00:01`);let i=n.getMonth();const a=r[s],o=t[i];return n.getFullYear()===(new Date).getFullYear()||o.revenue&&o.daysCountedLastYear>=o.daysCounted||(o.daysCountedLastYear+=1,a.revenue&&a.revenue[e]&&(o.revenueLastYear+=this._combineAmounts(a.revenue[e])/100,o.churnLastYear+=this._combineAmounts(a.churn[e])/100,o.customerCountLastYear+=this._combineCounts(a.payingCustomers[e]),o.churnCountLastYear+=this._combineCounts(a.churnedCustomers[e]))),t}),i),Object.values(i)}async _askYTDRevenueBreakdown(){let e=(0,r.Z)(l.service,l.askYTDRevenueBreakdown);return this.cache.YTD?this.cache.YTD:e||(e=this.net.GET(`!{cloud}/v3/admin/revenueBreakdown?newerThan=${i.FC}&olderThan=${i.Lg}`).then(JSON.parse).then((e=>(this.cache.YTD=e,e))).catch((({errorMessage:e})=>console.error(`Error retrieving revenue breakdown: ${e}`))),(0,r.Z)(l.service,l.askYTDRevenueBreakdown,e),e)}async _askLastYearRevenueBreakdown(){let e=(0,r.Z)(l.service,l.askLastYearRevenueBreakdown);return this.cache.lastYear?this.cache.lastYear:e||(e=this.net.GET(`!{cloud}/v3/admin/revenueBreakdown?newerThan=${i.vb}&olderThan=${i.FC}`).then(JSON.parse).then((e=>(this.cache.lastYear=e,e))).catch((({errorMessage:e})=>console.error(`Error retrieving revenue breakdown: ${e}`))),(0,r.Z)(l.service,l.askLastYearRevenueBreakdown,e),e)}async _askPastYearRevenueBreakdown(){let e=(0,r.Z)(l.service,l.askPastYearRevenueBreakdown);if(this.cache.pastYear)return this.cache.pastYear;if(e)return e;const t=Date.now()-(0,o.z1)((new Date).getDay())-(0,o.z1)(364)-(0,o.z1)(1);return e=this.net.GET(`!{cloud}/v3/admin/revenueBreakdown?newerThan=${t}&olderThan=${i.Lg}`).then(JSON.parse).then((e=>(this.cache.pastYear=e,e))).catch((({errorMessage:e})=>console.error(`[_askPastYearRevenueBreakdown] Error retrieving revenue breakdown: ${e}`))),(0,r.Z)(l.service,l.askPastYearRevenueBreakdown,e),e}_mapWeekNum(e){return(0,a.uW)(new Date(e.getTime()+3154e7))}_createEmptyRevenueWeeklyStructure(){const e={};for(let t=0;t<=365;t++){const s=new Date(i.iA+864e5*t);if(s.getFullYear()>(new Date).getFullYear())break;let n=(0,a.uW)(s);53===n&&(n=1),n<=52&&(e[n]||(e[n]={startDate:s,weekNum:n,label:`Week #${n}`,revenue:0,churn:0,customerCount:0,churnCount:0,revenueLastYear:0,churnLastYear:0,customerCountLastYear:0,churnCountLastYear:0,daysCounted:0,daysExpected:0,daysCountedLastYear:0,payingEnterprises:[]}),e[n].daysExpected+=1)}return e}_createEmptyRevenueMonthlyStructure(){const e={};for(let t=0;t<=365;t++){const s=new Date(i.iA+864e5*t);if(s.getFullYear()>(new Date).getFullYear())break;let n=s.getMonth();e[n]||(e[n]={startDate:s,monthNum:n,label:`${s.toLocaleString("default",{month:"short"})}`,revenue:0,churn:0,customerCount:0,churnCount:0,revenueLastYear:0,churnLastYear:0,customerCountLastYear:0,churnCountLastYear:0,daysCounted:0,daysExpected:0,daysCountedLastYear:0,payingEnterprises:[]},e[n].daysExpected+=1)}return e}_createEmptyCountersWeeklyStructure(){const e={};for(let t=0;t<=365;t++){const s=new Date(i.iA+864e5*t);if(s.getFullYear()>(new Date).getFullYear())break;let n=(0,a.uW)(s);53===n&&(n=1),e[n]||(e[n]={startDate:s,weekNum:n,label:`Week #${n}`,proPlus:0,enterprise:0,business:0,enterpriseCybersecurity:0,proPlusLastYear:0,enterpriseLastYear:0,businessLastYear:0,enterpriseCybersecurityLastYear:0,revenue:0,daysCounted:0,daysExpected:0,daysCountedLastYear:0}),e[n].daysExpected+=1}return e}_combineAmounts(e){return e?Object.keys(e).reduce(((t,s)=>t+e[s]),0):0}_combineCounts(e){return e?Object.keys(e).reduce(((t,s)=>t+e[s]),0):0}_transformDailyRevenue(e){let t=JSON.parse(JSON.stringify(e));const s=["churn","churnedCustomers","payingCustomers","revenue"];return Object.values(t).forEach((e=>{s.forEach((t=>{e[t].proStandardMonthly&&(e[t].proMonthly||(e[t].proMonthly={}),e[t].proMonthly.Standard=this._combineCounts(e[t].proStandardMonthly)),e[t].proStandardYearly&&(e[t].proYearly||(e[t].proYearly={}),e[t].proYearly.Standard=this._combineCounts(e[t].proStandardYearly))}))})),Object.keys(t).forEach((e=>{const n=t[e];new Date(e).getTime()>new Date("2020-11-06")||(s.forEach((e=>{n[e].enterpriseMonthly&&(n[e].businessMonthly||(n[e].businessMonthly={}),n[e].businessMonthly.PseudoEnterprise=this._combineCounts(n[e].enterpriseMonthly),delete n[e].enterpriseMonthly),n[e].enterpriseYearly&&(n[e].businessYearly||(n[e].businessYearly={}),n[e].businessYearly.PseudoEnterprise=this._combineCounts(n[e].enterpriseYearly),delete n[e].enterpriseYearly)})),n.payingTeams.enterprise&&(n.payingTeams.business||(n.payingTeams.business=n.payingTeams.enterprise,delete n.payingTeams.enterprise)))})),t}}function u(e){return new h(e)}},54034:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var n=s(32735),i=s(12788),r=s(23557),a=s(75401),o=s(37679),l=s(85933),c=s(5371),d=s(57855),h=s(83168);class u extends h.y{setFeedly(e){this.feedly=e}setPreferences(e){this.preferences=e}getPageInfo(){return this.pageInfo}getPagePreference(e){var t;return this.preferences.getPreference(e,null===(t=this.pageInfo)||void 0===t?void 0:t.prefContext)}shouldAutoSelectOnScroll(){return"yes"===this.getPagePreference("autoSelectOnScroll")||"inlined-only"===this.getPagePreference("autoSelectOnScroll")&&"100"===this.getPagePreference("entryOverviewSize.desktop")}async askOpenPage(e){this.pageElem=document.getElementById("feedlyPageFX"),this.pageInfo=e,i.unmountComponentAtNode(this.pageElem),this.pageElem.scrollTop=0,this.pageComponent=n.createRef(),this.reactPageElement=n.createElement(this.pageInfo.reactClass,{pageInfo:this.pageInfo,ref:this.pageComponent});const t=!e.reactClass.requiresSearchBarHidden();if(i.render(n.createElement(l.S,null,n.createElement(r.AppContainer,null,n.createElement(n.Fragment,null,this.reactPageElement,t&&n.createElement("div",{style:{height:c.vH}})))),this.pageElem),this.shouldAutoSelectOnScroll()){const e=document.getElementById("feedlyPageHolderFX");if(e){const t=(0,d.$$)(document);e.style.paddingBottom=t+"px"}}}isRefreshable(){return this.pageInfo.reactClass.isRefreshable&&this.pageInfo.reactClass.isRefreshable()}askReloadPage(){this._destroyPreview(),this.pageComponent.current.askRefresh()}destroyPage(){if(this.shouldAutoSelectOnScroll()){const e=document.getElementById("feedlyPageHolderFX");e&&(e.style.paddingBottom=null)}this._destroyPreview(),this.pageComponent=null,this.pageElem&&i.unmountComponentAtNode(this.pageElem),this.pageElem=null}renderEntryInPreviewPane(e){this._previewElement&&i.unmountComponentAtNode(this._previewElement),this._previewElement=this.feedly.activatePreviewMode(),i.render(n.createElement("div",{className:"floatingEntry"},n.createElement("div",{className:"floatingEntryContent sliderContainer"},n.createElement(o.W,{entryId:e}),",",n.createElement("div",{className:"floatingEntryScroller"},n.createElement(a.c,{entryId:e,navigatable:!0})))),this._previewElement)}_destroyPreview(){this._previewElement&&(i.unmountComponentAtNode(this._previewElement),this.feedly.deactivatePreviewMode(),this._previewElement=null)}}function p(e){return new u(e)}},85917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var n=s(10268),i=s.n(n),r=s(68906),a=s.n(r),o=s(83168),l=s(74221),c=s(35330),d=s(8199),h=s(85251),u=s(61861);const p=Object.freeze({service:"PersonalCollections",askListCollections:"askListCollections"});class m extends o.y{setNet(e){this.net=e}setReader(e){this.reader=e,this.reader.registerObserver(this)}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}setAlerts(e){this.alerts=e}load(){this.alerts.registerObserver(this),this.cache={collections:null},this.collectionsNeedUnreadCountUpdate=!0}onUserIdentified(){this.cache={},this.collectionsNeedUnreadCountUpdate=!0}onNoUserIdentified(){this.cache={},this.collectionsNeedUnreadCountUpdate=!0}onFeedChanged(){this._clearCachedCollections()}onStreamUnreadCountChanged(){this.collectionsNeedUnreadCountUpdate=!0}onPreferenceChanged(e){"categoriesOrderingId"===e&&this.fire("onCollectionsOrderChanged")}async onAlertCreated(e,t){const{isEnterprise:s}=(0,l.Yg)(t);s||(this._clearCachedCollections(),await this.reader.askListUnreadCounts({forceRefresh:!0}),this.fire("onFeedChanged",e),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",t),this.fire("onCollectionsChanged"))}unload(){this.alerts.unregisterObserver(this),this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.alerts=null,this.net=null,this.preferences=null,this.reader=null}async askRefresh(){this.cache={}}async askAddFeed(e,t){return await this.askAddFeeds(e,[t])}async askAddFeeds(e,t){if(!e||!t)throw new Error("The collectionId and feeds are required");if(!t.length)return;const s=await this.net.POST(`!{cloud}/v3/collections/${encodeURIComponent(e)}/feeds/.mput`,t).then(JSON.parse),n=s.filter((e=>t.find((t=>t.id===e.id))));if(this._clearCachedCollections(),await this.reader.askListUnreadCounts({forceRefresh:!0}),1===t.length&&0===n.length)throw console.error(">>> FAILED TO ADD FEEDS",e,t,s),new Error(`Failed to add ${t[0].id}`);return t.forEach((({id:e})=>{this.fire("onFeedChanged",e)})),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged"),n}async askDeleteCollection(e){if(!e)throw new Error("`collectionId` is required");await this.net.DEL(`!{cloud}/v3/collections/${encodeURIComponent(e)}`),await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.collections&&(this.cache.collections=this.cache.collections.filter((({id:t})=>t!==e))),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}async askFavoritesCollection(){return(await this.askListCollections()).find((e=>e.isGlobalMust))||{containsFeed:()=>!1,id:(0,l.Mc)(),isGlobalMust:!0,label:"Favorites"}}async askFeedCollectionMapping(){return(await this.askListCollections()).reduce(((e,t)=>(t.feeds.forEach((s=>{const n=s.id;e[n]||(e[n]=[]),e[n].push(t)})),e)),{})}async askImportFeeds(e,t){let s=await this.askLookupCollectionByLabel(e);return s||(s=await this.askSave({label:e})),this.askAddFeeds(s.id,t)}async askIsUpgradeNeededToCreate(){if(!streets.getUserId())return!0;if(streets.isLimitedPlan()){return(await this.askListCollections()).length>=d.Av}return!1}async askListAllFeeds(){const e=(await this.askListCollections()).reduce(((e,t)=>e.concat(t.feeds)),[]);return i()(e,(e=>e.streamId))}async askListCollectionFeeds(e){if(!e)throw new Error("`collectionId` is required");const{isAll:t}=(0,l.Yg)(e);if(t)return this.askListAllFeeds();const s=(await this.askListCollections()).find((t=>t.id===e));if(!s)throw new Error("Collection not found");return s.feeds||[]}async askListCollections(e){let t=(0,u.Z)(p.service,p.askListCollections);return streets.getUserId()?this.cache.collections?this.collectionsNeedUnreadCountUpdate?(this.cache.collections=await(0,c.co)(this.cache.collections,e),e&&!0===e.cachedUnreadCountsOnly||(this.collectionsNeedUnreadCountUpdate=!1),this.cache.collections.slice(0)):this.cache.collections.slice(0):t?t.then((t=>(0,c.co)(t,e))):(t=this.net.GET("!{cloud}/v3/collections?withStats=true").then(JSON.parse).then(c.V2).then((t=>(this.cache.collections=t,e&&!0===e.cachedUnreadCountsOnly||(this.collectionsNeedUnreadCountUpdate=!1),this.cache.collections.slice(0)))),(0,u.Z)(p.service,p.askListCollections,t),t):[]}async askListCollectionsForFeed(e){return(await this.askListCollections()).filter((t=>t.feeds&&t.feeds.find((t=>t.id===e))))}async askListRankedCollections(e){const t=await this.askListCollections(e),s=JSON.parse(this.preferences.getPreference("categoriesOrderingId"));return s?(0,h.r)(t,s):t}async askLookupCollection(e,t){if(!e)throw new Error("`collectionId` is required");const{isAll:s}=(0,l.Yg)(e);if(s){let s=(await this.reader.askUnreadCountsIndex(t))[e];return{id:e,streamId:e,label:"All Personal Feeds",uri:"collection/content/"+e,unreadCount:s}}return(await this.askListCollections(t)).find((t=>t.id===e))}async askLookupCollectionByLabel(e){return(await this.askListCollections()).find((t=>t.label===e))}async askMetadata(e){return this.askLookupCollection(e)}async askRemoveFeed(e,t){if(!e||!t)throw new Error("The collectionId and feedId are required");await this.net.DEL(`!{cloud}/v3/collections/${encodeURIComponent(e)}/feeds/${encodeURIComponent(t)}`),await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged"),this.fire("onFeedChanged",t),this.fire("onFeedsChanged")}async askRemoveFeeds(e,t){if(!e||!t)throw new Error("The collectionId and feedIds are required");if(!t.length)return;const s=`!{cloud}/v3/collections/${encodeURIComponent(e)}/feeds/.mdelete`,n=a()(t,100);for(let i=0;i<n.length;i++)await this.net.MDEL(s,n[i].map((e=>({id:e}))));await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),t.forEach((e=>{this.fire("onFeedChanged",e)})),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}async askRemoveFeedsFromAll(e){const t=(0,l.N1)();if(!t)throw new Error("Error removing sources from business collections.");return this.askRemoveFeeds(t,e)}async askRemoveFeedFromAll(e){const t=(0,l.N1)();if(!t)throw new Error("Error removing sources from business collections.");return this.askRemoveFeed(t,e)}async askRenameFeed(e,t){return this.askAddFeed(e,t)}async askSave(e={},{silently:t=!1}={}){let{id:s,label:n}=e;if(!n)throw new Error("The `label` is required");const[i]=await this.net.POST("!{cloud}/v3/collections",e).then(JSON.parse);return this._clearCachedCollections(),s?t||this.fire("onCollectionChanged",s):(this.preferences.setPreference(i.id,"show"),await this.reader.askListUnreadCounts({forceRefresh:!0})),t||this.fire("onCollectionsChanged"),i}_clearCachedCollections(){this.cache.collections=null,this.collectionsNeedUnreadCountUpdate=!0}}function g(e){return new m(e)}},27744:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(83168),i=s(61861),r=s(74221),a=s(35330);const o=Object.freeze({service:"PersonalFilters",listFilters:"askListFilters"});class l extends n.y{setNet(e){this.net=e}load(){this.cache={}}intialize(){}uninitialize(){}unload(){this.net=null}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}askDelete(e){return this.net.DEL(`!{cloud}/v3/filters/${encodeURIComponent(e)}`).then((()=>{this.cache.filters=null,this.fire("onFilterChanged",e),this.fire("onFiltersChanged")}))}async askFilterInfo(e){if(!e)throw new Error("Missing required parameter `filterId`.");return this.askListFilters().then((t=>t.find((t=>t.id===e)))).then((t=>{if(!t)throw new Error("Filter not found. id="+e);return t}))}async askMetadata(e){return this.askFilterInfo(e)}askListFilters(){let e=(0,i.Z)(o.service,o.listFilters);return this.cache.filters?Promise.resolve(this.cache.filters):streets.isProLegacyPlan()||streets.hasProPlusAccess()?e||(e=this.net.GET("!{cloud}/v3/filters").then(JSON.parse).then((async e=>(this.cache.filters=await(0,a.x$)(e),e))),(0,i.Z)(o.service,o.listFilters,e),e):(this.cache.filters=null,Promise.resolve([]))}async askListFiltersForFeed(e){const{isAll:t}=(0,r.Yg)(e);return(await this.askListFilters()).filter((s=>s.streamIds&&s.streamIds.includes(e)||t))}}function c(e){return new l(e)}},5998:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(74221),i=s(83168),r=s(61861),a=s(35330),o=s(68971);const l=Object.freeze({service:"PersonalMuteFilters",listFilters:"askListFilters"});class c extends i.y{setNet(e){this.net=e}load(){this._resetCache()}unload(){this.cache=null,this.net=null}onUserIdentified(){this._resetCache()}onNoUserIdentified(){this._resetCache()}async askRefresh(){this._resetCache()}askDelete(e){return this._askDelete(e).then((()=>{this.cache.filters=null,this.fire("onMuteFilterChanged",e),this.fire("onMuteFiltersChanged")}))}askListFilters(e={}){let t=(0,r.Z)(l.service,l.listFilters);return this.cache.filters&&!e.forceRefresh?Promise.resolve(this.cache.filters):streets.isProLegacyPlan()||streets.hasProPlusAccess()?t||(t=this.net.GET("!{cloud}/v3/mutefilters").then(JSON.parse).then((async e=>(this.cache.filters=await(0,a.xG)(e),e))),(0,r.Z)(l.service,l.listFilters,t),t):(this.cache.filters=null,Promise.resolve([]))}async askListFiltersForFeed(e){const{isAll:t}=(0,n.Yg)(e);return(await this.askListFilters()).filter((s=>{const{isAll:i}=(0,n.Yg)(s.streamId);return s.streamId===e||i||t}))}async askMetadata(e){if(!e)throw new Error("Missing required Mute Filter parameter `id`.");let t=e;for(;this.cache.updatedIds[t];)t=this.cache.updatedIds[t];return this.askListFilters().then((e=>e.find((e=>e.id===t)))).then((e=>{if(!e)throw new Error("Mute Filter not found. id="+t);return e}))}async askSave(e={}){if(!e.streamId||!e.term)throw new Error({errorMessage:"Missing required Mute Filter property `streamId` or `term`."});return this._askSave(e).then((()=>{this.cache.filters=null,this.fire("onMuteFiltersChanged")}))}async askUpdate(e={}){const{id:t,streamId:s,term:i}=e;if(!t||!s||!i)throw new Error("Missing required Mute Filter property `id`, `streamId`, or `term`.");const{streamId:r,term:a}=(0,o.R)(t);if((i.id?i.id!==a.id:i.text!==a.text)||s!==r){this.cache.updatedIds[r]=(0,o.s)(e);const{isEnterprise:s}=(0,n.Yg)(r);s?await streets.service("enterprisemutefilters").askDelete(t):(await this._askDelete(t),this.fire("onMuteFilterChanged",t))}await this._askSave(e),this.cache.filters=null,this.fire("onMuteFiltersChanged")}async _askDelete(e){const{streamId:t,term:s}=(0,o.R)(e);if(!t||!s.id&&!s.text)throw new Error(`Error deleting Mute Filter with id: ${e}`);return this.net.PUT("!{cloud}/v3/mutefilters",{streamId:t,term:s,delete:!0})}_askSave({active:e,duration:t,salience:s,streamId:n,term:i}){return this.net.PUT("!{cloud}/v3/mutefilters",{active:e,duration:t,salience:s,streamId:n,term:i})}_resetCache(){this.cache={filters:null,updatedIds:{}}}}function d(e){return new c(e)}},20481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(12664),i=s.n(n),r=s(74221),a=s(35330),o=s(61861),l=s(83168);const c=Object.freeze({service:"PersonalPriorities",listPriorities:"askListPriorities"});class d extends l.y{setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}setCollections(e){this.collections=e}setLeo(e){this.leo=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.cache={},this.net=null,this.enterprise=null,this.collections=null,this.leo=null,this.reader=null}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}askDelete(e){return this._askDelete(e).then((()=>{this.cache.priorities=null,this.fire("onPriorityChanged",e),this.fire("onPrioritiesChanged")}))}async askListPriorities(e={}){if(!await this.leo.askIsLeoEnabled())return this.cache.priorities=null,[];let t=(0,o.Z)(c.service,c.listPriorities);if(this.cache.priorities&&!e.forceRefresh)return(0,a.xf)(this.cache.priorities);if(t){const s=await t;return await(0,a.xf)(s,e)}return t=this.net.GET("!{cloud}/v3/priorities").then(JSON.parse).then((async t=>(this.cache.priorities=await(0,a.xf)(t,e),e.forceRefresh&&this.fire("onPrioritiesChanged",e),this.cache.priorities))),(0,o.Z)(c.service,c.listPriorities,t),t}async askSave(e={}){if(!e.layers)throw new Error("Missing required property `layers`.");return this._askSave(e).then((()=>{this.cache.priorities=null,this.fire("onPrioritiesChanged"),e.id&&this.fire("onPriorityChanged",e.id)}))}async askUpdate(e={}){const{id:t,...s}=e;if(!t||!e.layers)throw new Error("Missing required properties: `id` and `layers`.");const n=await this._askSave(s),{isEnterprise:i}=(0,r.Yg)(t);i?await streets.service("enterprisepriorities").askDelete(t):(await this._askDelete(t),this.fire("onPriorityChanged",t,n.id)),this.cache.priorities=null,this.fire("onPrioritiesChanged")}_askDelete(e){return this.net.DEL(`!{cloud}/v3/priorities/${encodeURIComponent(e)}?reset=true`)}async _askSave(e){return await this.net.POST("!{cloud}/v3/priorities",e).then(JSON.parse).then((async e=>{await this.reader.askRefreshUnreadCounts();const t=await this.askListPriorities();return i()(t,e,"id")[0]}))}}function h(e){return new d(e)}},73017:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(35330),i=s(74221),r=s(83168),a=s(3167),o=s(85251);class l extends r.y{setNet(e){this.net=e}setReader(e){this.reader=e,this.reader.registerObserver(this)}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}load(){this.cache={tags:null}}onUserIdentified(){this.cache={tags:null}}onNoUserIdentified(){this.cache={tags:null}}unload(){this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.net=null,this.preferences=null,this.reader=null}async askRefresh(){this.cache={}}onNewTagDiscovered(){this.cache.tags=null,this.fire("onTagsChanged")}onPreferenceChanged(e){e===a.As.personalTags&&this.fire("onBoardsOrderChanged")}async askDeleteTag(e){return this.cache.tags=null,await this.net.DEL(`!{cloud}/v3/tags/${encodeURIComponent(e)}`),this.fire("onTagChanged",e),this.fire("onTagsChanged"),!0}async askListTags(e={}){return streets.getUserId()?this.cache.tags&&!e.ignoreCache?this._filterTags(await(0,n.RC)(this.cache.tags),e):(this._askListUnfilteredTagsPromise||(this._askListUnfilteredTagsPromise=this.net.GET("!{cloud}/v3/boards").then(JSON.parse).then((async e=>{const t=(0,o.Z7)(e);return this._askListUnfilteredTagsPromise=null,this.cache.tags=await(0,n.RC)(t),this.cache.tags})).catch((e=>{throw this._askListUnfilteredTagsPromise=null,e}))),this._askListUnfilteredTagsPromise.then((()=>this._filterTags(this.cache.tags,e)))):[]}async askListRankedTags(){const e=await this.askListTags(),t=JSON.parse(this.preferences.getPreference(a.As.personalTags));return t?(0,o.CI)(e,t):e}async askLookupTag(e,t){if(!e)throw new Error("tagId is required");const{isAnnotated:s,isAllTag:n}=(0,i.Yg)(e);if(n){const s=(await this.reader.askUnreadCountsIndex(t))[e];return{id:e,streamId:e,label:"All",unreadCount:s}}if(s){const s=(await this.reader.askUnreadCountsIndex(t))[e];return{id:e,streamId:e,label:"Annotated",unreadCount:s}}return(await this.askListTags(t)).find((t=>t.id===e))}async askMetadata(e){if(e){if(e.indexOf("tag/global.all")>-1)return{id:e,streamId:e,label:"All"};if(e.indexOf("tag/global.read")>-1)return{id:e,streamId:e,label:"Recently Read"};if(e.indexOf("tag/global.saved")>-1)return{id:e,streamId:e,label:"Read later"}}return this.askLookupTag(e,{cachedUnreadCountsOnly:!0})}async askSave(e={}){let{id:t,label:s,...n}=e;if(!s)throw new Error("The label is required.");if(!t){const e=await this.askListTags({excludeGlobal:!0});let t=s,n=e.find((e=>e.label===t)),i=2;for(;n;)t=s+" "+i++,n=e.find((e=>e.label===t));s=t}n.isPublic&&streets.hasBusinessAccess()&&(n.showHighlights=!1,n.showNotes=!1);const i=await this.net.POST(`!{cloud}/v3/boards/${t?encodeURIComponent(t):""}`,{...n,label:s}).then(JSON.parse);return this.cache.tags=null,this.fire("onTagChanged",t),this.fire("onTagsChanged"),t||i[0].id}async askSaveCoverImage(e,t){let s=new FormData;s.append("cover",t),await this.net.POST(`!{cloud}/v3/boards/${encodeURIComponent(e)}`,s),this.cache.tags=null,this.fire("onTagChanged",e),this.fire("onTagsChanged")}_filterTags(e,t){if(!e)return null;let s,n=[];for(let i=0;i<e.length;i++)e[i].id.indexOf("global.")>-1?s=e[i]:n.push(e[i]);return n.sort(((e,t)=>e.label.localeCompare(t.label))),!t.excludeGlobal&&s&&n.unshift(s),n}}function c(e){return new l(e)}},9663:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168),i=s(15454);class r extends n.y{setAnalytics(e){this.analytics=e}load(){this.cache={}}unload(){this.cache={},this.analytics=null}onUserIdentified(){this.cache={}}onNoUserIdentified(){this.cache={}}pinImage(e,{alternateLink:t,imageTitle:s}){const n=screen.height,r=screen.width,a=Math.round(r/2-300);let o=0;n>300&&(o=Math.round(n/2-150));const l=window.open("about:blank","","left="+a+",top="+o+",width=600,height=300,personalbar=0,toolbar=0,scrollbars=1,resizable=1");if(null==l)return void(0,i.d)();l.focus();let c="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(t)+"&media="+encodeURIComponent(e);null!=s&&(c+="&description="+encodeURIComponent(s)),l.location=c,this.analytics.trackEvent("sharing","pinterest")}}function a(e){return new r(e)}},20689:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(97418),i=s(38916),r=s(83168);class a extends r.y{constructor(...e){super(...e),this.askAddToPocket=async e=>{try{const t=await this.net.POST("!{cloud}/v3/pocket/add",{entryId:e}),s=this.reader.lookupEntry(e);if(s){const{pageUrl:e="http://getpocket.com/a/queue/list/"}=t;s.setDecoration(n.I.pocket,e),s.metadata.isSavedToPocket=!0}this.reader.fire("onDecorationChanged",e,n.I.pocket),this.fire("onPocketAdded",e)}catch(t){throw 403===t.errorCode&&(this._addAfterConnected=e,await this.integrations.askDisconnect(i.bK.pocket),this.integrations.connect(i.bK.pocket)),t}}}setIntegrations(e){this.integrations=e}setNet(e){this.net=e}setReader(e){this.reader=e}load(){this._addAfterConnected=null}unload(){this._addAfterConnected=null,this.integrations=null,this.net=null,this.reader=null}async onConnected(){this._addAfterConnected&&(await this.askAddToPocket(this._addAfterConnected),this._addAfterConnected=null)}}function o(e){return new a(e)}},7736:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var n=s(83168),i=s(3167),r=s(35278),a=s(28514);const o=["entryNavigation","entrySort","hideReadArticlesFilter",i.zG];class l extends n.y{constructor(e,t="mobile"){super(),this.pageContext=e,this.preferenceNames=o.concat("mobile"===t?i.J4:i.aR)}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}load(){this._updateState()}unload(){this.preferences.unregisterObserver(this),this.preferences=null}onPreferenceChanged(e,t,s){if(this.pageContext===s)this.state[e]=t,this.fire("onPagePreferencesChanged",this.getState(),e);else if(o.includes(e)){const t=this.preferences.getPreference(e,this.pageContext);this.state[e]!==t&&(this.state[e]=t,this.fire("onPagePreferencesChanged",this.getState(),e))}}getState(){return{...this.state}}update(e,t,s){this.preferences.askSetPreference(e,t,this.pageContext,s),s&&(this.state[e]=t)}_updateState(){this.state={},this.preferenceNames.forEach((e=>{this.state[e]=this.preferences.getPreference(e,this.pageContext)}))}}const c=l;var d=s(99220),h=s(75200),u=s(44970),p=s(907),m=s(94197),g=s(35307),f=s(61142),y=s(36728),v=s(13931),b=s(69065),E=s(9722),C=s(79987),w=s(51013),k=s(68130),_=s(2121),M=s(94600),S=s(75320);class T extends n.y{constructor(...e){super(...e),this.queue=[],this.content={},this.ready=!1,this.changeLog={},this.saveTimeout=null,this.legacy=!1,this.metaBySection=null}setNet(e){this.net=e}load(){this.meta={welcomed:{label:"Welcome Version",description:"Has the user been welcomed and if so using which version of the WelcomeArea",defaultValue:"0",kind:"kind.version",ui:{size:10},internal:!0,global:!0},enjoyed:{label:"Enjoyed Promotion",description:"Enjoying Feedly? If so, please add a review to help us get in the best rated add-ons list",defaultValue:"0",kind:"kind.text",ui:{size:10},internal:!0,global:!0},googType:{label:"Google User Type",description:"Internal preference used to remember if we are dealing with a goog, goop or others",defaultValue:"",kind:"kind.text",ui:{size:10},internal:!0,global:!0},agent:{label:"Agent",description:"which agent was used to create the user? google, sites, netvibes, bloglines or blank",defaultValue:"",kind:"kind.text",ui:{size:10},internal:!0,global:!0},categoriesOrderingId:{label:"Categories Order",description:"JSON serialization of the orders the categories should be displayed - using id format.",defaultValue:"[]",ui:{size:40},internal:!0},indexOptimization:{label:"Index Optimization",description:"Version information used for index creation and data model optimization. Gets incremented during auto-upgrade",kind:"kind.text",defaultValue:"0",ui:{size:40},internal:!0},suggestoSyncInterval:{label:"",description:"How often should suggesto fetch a new set of suggestions from the server?",kind:"kind.number",ui:{size:7},defaultValue:864e5,internal:!0},mustReadsOnlyFilter:{label:"Favorites Only",description:"Filter list to only show favorites",kind:"kind.select",options:[{value:"on",label:"On"},{value:"off",label:"Off"}],defaultValue:"off",global:!1,internal:!0},autoMarkAsReadDelay:{label:"",description:"",kind:"kind.number",defaultValue:1e3,internal:!0},recentlySearchedTopics:{label:"",description:"",defaultValue:[],internal:!0},language:{defaultValue:"",description:"",internal:!0,kind:"kind.select",label:"Language",options:M.rA.map((e=>({label:(0,M.vY)(e),value:e})))},lastLeoFeedbackDate:{label:"",description:"The last time Leo feedback was given (date in ms)",kind:"kind.number",defaultValue:0,internal:!0},lastLeoSuggestionDate:{label:"",description:"The last time a Leo suggestion was shown (date in ms)",kind:"kind.number",defaultValue:0,internal:!0},[i.RO]:{label:"Start Page",description:"Which page would you like Feedly to load when you start Feedly?",defaultValue:i.JP.Today,kind:"kind.select",options:[{value:i.JP.Today,label:"Today"},{value:i.JP.Favorites,label:"Favorites"},{value:i.JP.All,label:"All"}],contexts:[],section:"general"},"entryOverviewSize.desktop":{label:"Default Presentation",description:"Change the presentation setting of all your feeds and boards.",kind:"kind.select",options:[{value:"0",label:"Titles-Only View"},{value:"4",label:"Magazine View"},{value:"5",label:"Cards View"},{value:"100",label:"Article View"}],defaultValue:{latest:"0",tag:"4",saved:"4",other:"4"},contexts:[],global:!1,section:"general"},[i.J4]:{label:"Mobile Presentation",description:"Change the presentation setting of all your feeds and boards",kind:"kind.select",options:[{value:"0",label:"Text Only"},{value:"4",label:"Magazine View"},{value:"5",label:"Cards View"}],defaultValue:"4",contexts:[],global:!1,internal:!0},[i.zG]:{label:"Mobile Density",description:"Change presentation density of all your feeds and boards",kind:"kind.select",options:[{value:i.AM.comfortable,label:"Comfortable"},{value:i.AM.comfortable,label:"Compact"}],defaultValue:i.AM.comfortable,contexts:[],global:!1,internal:!0},"theme.mobile":{label:"Mobile Theme",description:"Select between the default day theme or the darker night theme",kind:"kind.select",options:[{value:i.z0.day,label:"Day Theme"},{value:i.z0.night,label:"Night Theme"}],defaultValue:i.z0.day,contexts:[],global:!1,internal:!0},[i.yH]:{label:"Mobile Article Animation",description:"What animation should we use to open and close articles?",kind:"kind.select",options:[{value:i.iF.expand,label:"Expand"},{value:i.iF.slide,label:"Slide"}],defaultValue:i.iF.expand,contexts:[],global:!1,internal:!0},[i.NL]:{label:"Mobile Scroll",description:"How would you like your list of articles to scroll?",kind:"kind.select",options:[{value:i.Ml.smooth,label:"Smooth"},{value:i.Ml.paged,label:"Paged"}],defaultValue:i.Ml.smooth,contexts:[],global:!1,internal:!0},entrySort:{label:"Default Sort",description:"Change the sort setting of all your feeds and boards.",kind:"kind.select",options:[{value:"most popular",label:"Most popular"},{value:"popular + latest",label:"Most popular + latest"},{value:"latest",label:"Latest"},{value:"oldest",label:"Oldest"}],defaultValue:"popular + latest",contexts:[],global:!1,section:"general"},hideReadArticlesFilter:{label:"Hide Read Articles",description:"Control if Feedly shows or hides articles after you have had the chance to mark them as read. You can overwrite it for each feed and board.",kind:"kind.select",options:[{value:"on",label:"Hide"},{value:"off",label:"Show"}],defaultValue:{"label/feedly.saved":"off","label/feedly.history":"off",other:"on"},type:"filter",contexts:[],global:!1,section:"general"},[i.j$]:{label:"Hide Empty Feeds in Left Navigation",description:"Should Feedly hide feeds with no unread articles from the left navigation bar?",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],defaultValue:"show",contexts:[],global:!1,section:"general"},[i.dY]:{label:"Hide Empty Board Placeholder in Left Navigation",description:"Should Feedly hide the empty board placeholder from the left navigation bar?",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],contexts:[],global:!0,internal:!1,section:"general"},exploreStream:{label:"Today Explore Tab",description:"Should we show the Explore tab on the Today page?",defaultValue:"on",type:"select",kind:"kind.select",options:[{value:"on",label:"Show"},{value:"off",label:"Hide"}],contexts:[],global:!1,internal:!1,section:"general"},greenDotsTutorial:{label:"Green Tutorial Dots",description:"Should we display tutorial dots to give information about Feedly?",defaultValue:"on",type:"select",kind:"kind.select",options:[{value:"on",label:"Show"},{value:"off",label:"Hide"}],contexts:[],global:!1,internal:!1,section:"general"},proPlusUpgradeButton:{label:"Pro+ Upgrade Button",description:"Should we display the Pro+ upgrade button in the top bar of your Feedly? (Pro users only)",defaultValue:"on",type:"select",kind:"kind.select",options:[{value:"on",label:"Show"},{value:"off",label:"Hide"}],contexts:[],global:!1,internal:!1,section:"general"},sortEntriesBy:{label:"Sort By",description:"Feedly offers tree different river templates: <b>bySubscription</b> provides a list of articles broken down by subscription. <b>byTime</b> provides the list of the latest articles from your favorite subscriptions ordered by time. <b>byTime</b> works well if you have a large number of subscriptions ( > 20 )",defaultValue:{preview:"byTime",subscription:"byTime",latest:"byTime",river:"byTime",other:"byTime"},kind:"kind.select",options:[{value:"bySubscription",label:"By Subscription"},{value:"byTime",label:"By Time"}],contexts:["latest","category"],global:!1,internal:!0},[i.BF]:{label:"Theme",description:"Which theme would you like to use for the Feedly website?",kind:"kind.select",options:[{value:i.Bd.light,label:"Light theme"},{value:i.Bd.dark,label:"Dark theme"}],defaultValue:i.Bd.light,global:!0,section:"reading experience"},entryFontFamily:{label:"Font Family",description:"Which font should we use for the body of articles?",defaultValue:"merriweather",kind:"kind.select",options:_.BD.map((e=>({label:_.ph[e],value:e}))),section:"reading experience"},fontSize:{label:"Text Size",description:"Which font size should we use for the body of articles?",defaultValue:8,kind:"kind.select",options:[{value:7,label:"Small"},{value:8,label:"Medium"},{value:9,label:"Large"},{value:10,label:"Extra Large"}],section:"reading experience"},displayDensity:{label:"Display Density",description:"How dense should the list view be?",kind:"kind.select",options:[{value:24,label:"Compact (densest)"},{value:29,label:"Cozy"},{value:34,label:"Comfortable"}],defaultValue:29,contexts:[],global:!0,section:"reading experience"},oldestFirstKnob:{label:"Sort By Oldest",description:"Should Feedly list articles sorted by the oldest ones first?",defaultValue:"no",type:"filter",contexts:["cover","latest","category","subscription"],global:!1,internal:!0},tagList:{label:"Tags",description:"Comma delimited list of tags you would like to be able to assign to articles when you collect them for later",kind:"kind.text",ui:{size:100},defaultValue:"",contexts:[],global:!1,internal:!0},entryNavigation:{label:"Navigation",description:"What would you like Feedly to do when you click on the title of an article? ",defaultValue:"inline",type:"select",kind:"kind.select",options:[{value:"inline",label:"Expand Article Inline"},{value:"preview-only",label:"Open Preview Dialog"},{value:"preview",label:"Inline if complete article, preview if summary"},{value:"visit",label:"Visit Website"}],contexts:["subscription"],global:!1,internal:!0},defaultViewer:{label:"View Original",description:"Where would you like Feedly to open the original articles?",defaultValue:"website",type:"select",kind:"kind.select",options:[{value:"website",label:"in separate tab"},{value:"preview",label:"in preview dialog"}],global:!0,internal:!0},[i.sf]:{label:"Show Priorities in Left Navigation",description:"Should priorities be listed in the left navigation bar?",defaultValue:"all",type:"select",kind:"kind.select",options:[{value:"all",label:"All Priorities"},{value:"createdByUserOnly",label:"Priorities I Created Only"},{value:"globalOnly",label:"Global Priorities Only"},{value:"none",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[i.Ic]:{label:"Show Empty Priorities in Left Navigation",description:"Should Feedly show priorities with no unread articles from the left navigation bar?",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],defaultValue:"no",contexts:[],global:!1,section:"leo"},[i.yq]:{label:"Deduplication of identical articles",description:"Should Leo remove near-exact duplicate articles from your feeds? (Part of Feedly Pro+)",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[i.xV]:{label:"Clustering of related articles",description:"Should Leo group articles related to the same story (Part of Feedly Pro+)",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[i.Sd]:{label:"Inline Entities",description:"Should Leo highlight entities in your articles?",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[i.u_]:{label:"Common Topics",description:"Prompt for topic information to improve the Feedly discovery experience",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[i.pl]:{label:"Leo Feedback",description:"Show periodic prompt to provide feedback of your experience with Leo",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[i.$h]:{label:"Leo Suggestions",description:"Show Leo suggestions and upgrade prompts",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[i.oH]:{label:"Leo Summary Highlights",description:"Should Leo highlight important sentences in your articles? (Pro+ and Enterprise only)",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[i._0]:{label:"Guided Tutorial - Like Board",description:"Show guided tutorial for how to create a like board priority",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!0,section:"leo"},[i.H2]:{label:"Cybersecurity Trends in Team Today Page",description:"Should cybersecurity trends be shown on the Team Today Page? (Requires cybersecurity package)",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[i.A1]:{label:"Default Leo Web Alert Sources",description:"Which sources would you like defaulted in Leo Web Alerts?",defaultValue:S.Zx.auto,type:"select",kind:"kind.select",options:[{value:S.Zx.auto,label:"Auto (Based on Enterprise Plan)"},{value:S.Zx.industryIntelligence,label:"Industry Intelligence Mode"},{value:S.Zx.cybersecurity,label:"Cybersecurity Mode"},{value:S.Zx.biopharma,label:"Biopharma Mode"}],contexts:[],global:!0,internal:!1,section:"leo"},enableAnnotations:{label:"Notes (Pro+ and Enterprise feature)",description:"Show notes at the top of each article? Pick 'No' if you do not use that feature and want to save some space.",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing"},wordpressUrlPrefix:{label:"Share to WordPress URL (Pro+ feature)",description:"What is the URL of the WordPress blog to which you want to be able to save excerpts? example: http://blog.example.com",defaultValue:"",kind:"kind.text",contexts:[],global:!0,internal:!1,section:"saving and sharing",icon:h.Z},customSharing:{label:"Custom Sharing (Pro+ feature)",description:"Add a custom sharing tool to your Feedly. Feedly will open a popup with this URL. Use ${url}, ${source}, ${title} and ${id} to parametrize the URL with the article info. Example: http://pinboard.in/add?url=${url}&title=${title}",defaultValue:"",kind:"kind.text",contexts:[],global:!0,internal:!1,section:"saving and sharing",icon:u.Z},enableCustomSharing:{label:"Custom Sharing",description:"Should we show the Custom sharing option?",kind:"kind.table",master:!0,table:"sharingServices",defaultValue:"false",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"sharing-custom",icon:u.Z},enableEvernote:{label:"Evernote",description:"Should we show the Evernote sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"clipper",icon:p.Z},enableInstapaper:{label:"Instapaper",description:"Should we show the Instapaper sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"addinstapaper",icon:m.Z},enablePocket:{label:"Pocket",description:"Should we show the Pocket sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"addtopocket",icon:g.Z},enableOneNote:{label:"OneNote",description:"Should we show the OneNote sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,section:"saving and sharing",img:"onenote.v2",icon:f.Z},enableTwitter:{label:"Twitter",description:"Should we show the Twitter sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"twitter",icon:y.Z},enableFacebook:{label:"Facebook",description:"Should we show the Facebook sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"facebook.v2",icon:v.Z},enableLinkedIn:{label:"LinkedIn",description:"Should we show the LinkedIn sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"lin",icon:b.Z},enableBuffer:{label:"Buffer",description:"Should we show the Buffer sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"buffer",icon:E.Z},enableEmail:{label:"Email",description:"Should we show the email sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"mail",icon:C.Z},enableBlogger:{label:"Blogger",description:"Should we show the blogger sharing option? (requires Feedly Pro)",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!0,section:"saving and sharing",icon:()=>null},enableHootsuite:{label:"Hootsuite",description:"Should we show the hootsuite sharing option? (requires Feedly Pro)",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"hootsuite",icon:w.Z},enableWordPress:{label:"WordPress",description:"Should we show the wordpress sharing option? (requires Feedly Pro)",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"wordpress",icon:h.Z},enableSave:{label:"Read Later",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"save",icon:k.Z},emailClient:{label:"Email Provider",description:"Which email function would you like to use?",kind:"kind.select",defaultValue:"native",options:[{value:"gmail",label:"Gmail"},{value:"native",label:"Native Mail Client"}],contexts:[],global:!0,internal:!1,section:"saving and sharing"},pinImage:{label:"Pin or Save Images",description:"Show a toolbar on images to allow quick saving to Pinterest and Evernote?",defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],section:"saving and sharing"},twitterPostfix:{label:"Twitter Postfix",description:"Message added to the articles you tweet in Feedly.",defaultValue:"",kind:"kind.text",section:"saving and sharing"},twitterHashtags:{label:"Append Hashtags",description:"Append #category #feedly to tweets. This helps us capture how articles spread across social networks and improve discovery in Feedly.",defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],section:"saving and sharing"},enableShortener:{label:"Enable URL shortener",description:"The Feedly URL shortener offer rich metadata about the content you are sharing, making your tweets, facebook posts and pins more impactful.",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"partially",label:"For Twitter and Buffer only"},{value:"no",label:"No"}],global:!0,internal:!0,section:"saving and sharing"},giantMarkAsRead:{label:"Giant Mark As Read",description:"Should Feedly show a giant mark as read button at the end of each list to make it easier to mark content as read?",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],defaultValue:"yes",contexts:[],global:!1,section:"mark as read"},autoSelectOnScroll:{label:"Auto-Mark As Read On Scroll",description:"Should Feedly automatically mark articles as read when you scroll through them?",defaultValue:"inlined-only",kind:"kind.select",options:[{value:"inlined-only",label:"Full Articles View Only"},{value:"yes",label:"All Views"},{value:"no",label:"No"}],contexts:[],section:"mark as read"},[i.yK]:{label:"Auto-Mark As Read On Scroll on Mobile",description:"Should Feedly automatically mark articles as read when you scroll through them on your mobile device?",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!0,section:"mark as read"},npAutoMarkAsRead:{label:"Auto-Mark As Read On Keyboard Shortcuts",description:"Should we automatically mark articles as read as you navigate through them using n/p keyboard shortcuts?",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],section:"mark as read"},navigationMarkRead:{label:"Mark As Read Button In Navigation Bar",description:"Should clicking on the unread count in the navigation bar mark the section as read?",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],section:"mark as read"},[i.XK]:{label:"Mark All As Read Button",description:'Should clicking mark all as read show a menu with "older than" options?',defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],section:"mark as read"},contextualMenu:{label:"Contextual Menu",description:"Should Feedly display a contextual menu when you select some text while reading an article?",defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Show menu"},{value:"no",label:"Hide menu"}],contexts:[],section:"general"},indexLink:{label:"Index Link",description:"Should Feedly include the index link in the left navigation bar?",kind:"kind.select",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"general"},integrationsLink:{label:"Integrations Link",description:"Should Feedly include the Integrations link in the left navigation bar?",kind:"kind.select",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"general"},featuredArticles:{label:"Most Popular",description:"Showcase the 3 most popular articles at the top of each page.",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"mag",label:"Magazine only"},{value:"no",label:"No"}],defaultValue:"mag",contexts:[],global:!1,section:"general"},entrySliderViews:{label:"Slider",description:"Which views should use the right slider to display articles?",kind:"kind.select",options:[{label:"Card view only",value:"card"},{label:"Card view and magazine view",value:"notTitle"},{label:"Card view, magazine view, and title-only view",value:"all"},{label:"All views and enable preview when window > 1600px",value:"all+preview"}],legacyValue:"notTitle",defaultValue:"all",contexts:[],global:!0,section:"general"},teamVsPersonal:{label:"Team vs Personal",description:"Which section should be listed first in the navigation bar? (Business only)",kind:"kind.select",options:[{label:"Team First",value:"team-first"},{label:"Personal First",value:"personal-first"}],defaultValue:"team-first",contexts:[],global:!0,section:"general"},[i.Qt]:{label:"Non-Secure Image Fallbacks",description:"Should Feedly allow images to load from non-secure sources?",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"general"},resetFeedSorting:{label:"Reset Feed Sorting",description:"Reset feed sorting in the left navigation back to alphabetical",defaultValue:"",kind:"kind.button",buttonLabel:"Reset To Alphabetical",contexts:[],global:!0,section:"general"},customizationKey:{label:"Customization Key",description:"Special key used to customize Feedly for some experimental features.",defaultValue:"",kind:"kind.text",contexts:[],global:!0,section:"general",internal:!1},memesCustomization:{label:"Memes Customization",description:"Special key used to customize the experimental memes feature",defaultValue:"",kind:"kind.text",contexts:[],global:!0,section:"advanced",internal:!0},topics:{label:"Topic Processing Service (beta)",description:"Should Feedly process topics and display them on the homepage? <b>yes</b> or <b>no</b>. The default value is <b>yes</b>.",defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],internal:!0,section:"advanced"},[i.qm]:{label:"Collapse Leo Priorities",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0},[i.XV]:{label:"Collapse personal boards",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0},[i.$t]:{label:"Collapse personal collections",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0},[i.oB]:{label:"Collapse team boards",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0},[i.iG]:{label:"Collapse team collections",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0}},this.currentTheme=this.meta[i.BF].defaultValue}initialize(){this.registerObserver(this)}onNoUserIdentified(){this.content={},this.fire("onPreferencesReady")}onUserIdentified(e){const t=e.profile.wave;this.legacy=t&&parseInt(t.split(".")[0])<=2016,this.content=e.preferences,this._askMigrateCollectionPreferences(),this._askMigrateTagPreferences(),this.ready=!0,this.fire("onPreferencesReady")}uninitialize(){this.unregisterObserver(this),null!=this.saveTimeout&&(window.clearTimeout(this.saveTimeout),this.saveTimeout=null,this._saveChanges())}async askRefresh(){return this.content=await this._askFetchPreferences(),!0}unload(){this.content=null,this.net=null}isPreferencePersonalized(e){return!!this._getKeyValue(e)&&this._getDefault(e)!==this._getKeyValue(e)}hasCustomization(e){const t=this.getPreference("customizationKey");return null!=t&&t.toLowerCase().indexOf(e.toLowerCase())>-1}getAll(){return this.content}isReady(){return this.ready}getSection(e){const t=this._listSections()[e],s={};for(let n=0;n<t.length;n++)s[t[n].key]=this.getPreference(t[n].key);return{preferences:t,values:s}}getTables(e){const t={};for(const s in this.meta)"kind.table"===this.meta[s].kind&&(this.meta[s].value=e[s],this.meta.key=s,t[this.meta[s].table]=t[this.meta[s].table]||[],t[this.meta[s].table].push(this.meta[s]));return t}_listSections(e){if(!this.metaBySection){this.metaBySection={};for(const t in this.meta){const s=this.meta[t];if(s.key=t,!0===s.internal||null!=e&&s.section!==e)continue;const n=s.section?s.section:"uncat";(this.metaBySection[n]||(this.metaBySection[n]=[])).push(s)}}return this.metaBySection}_getKeyValue(e){return null!=this.content&&null!=this.content[e]?this.content[e]:null}_getValue(e,t){const s=this._getKeyValue(e);return null==s?this._getDefault(e,t):s}_getLayeredKey(e,t){const s=t+"/"+e;return this._getKeyValue(s)}getEnabledSharingServices(e){const t=[];for(let s=0;s<e.length;s++){if("redef"===e[s]&&this.hasCustomization("redef")){t.push("redef");continue}const n="enable"+(e[s].charAt(0).toUpperCase()+e[s].slice(1));"yes"===this.getPreference(n)&&t.push(e[s])}return t}getPreferences(e,t){const s={};for(let n=0;n<e.length;n++){const i=e[n];s[i]=this.getPreference(i,t)}return s}getPreference(e,t){let s=null;const n=this.meta[e];return null==n?s=this._getKeyValue(e):null==n.global||!0===n.global?s=this._getValue(e,t):(t&&(s=this._getLayeredKey(e,t)),null==s&&(s=this._getKeyValue(e),"entrySort"===e&&t&&t.indexOf("/tag/")>0&&"latest"!==s&&"oldest"!==s&&(s=null)),null==s&&(s=this._getDefault(e,t))),e===i.J4&&"10"===s&&(s="0"),"entryOverviewSize.desktop"===e&&"9"==s&&(s="4"),"entryOverviewSize.desktop"===e&&"7"==s&&(s="6"),"entryOverviewSize.desktop"===e&&"1"==s&&(s="0"),"entryOverviewSize.desktop"===e&&"6"==s&&(s="5"),"sortEntriesBy"!==e||"byColumn"!==s&&"bySubscription"!==s||(s="byTime"),e===i.RO&&s!==i.JP.Today&&s!==i.JP.Favorites&&s!==i.JP.All&&(this._set(i.RO,i.JP.Today),s=i.JP.Today),e.indexOf("enable")>-1&&!0===s?s="yes":e.indexOf("enable")>-1&&!1===s&&(s="no"),"displayDensity"===e&&(s=parseInt(s)),"entryFontFamily"!==e||"lora"!==s&&"slabserif"!==s?s:"merriweather"}isTeamFirst(){return streets.hasBusinessAccess()&&"team-first"===this.getPreference("teamVsPersonal")}_getDefault(e,t){if("entryFontFamily"===e&&streets.hasProAccess())return"itccharter";if("entrySort"===e){if(t&&(t.endsWith("global.enterprise")||t.endsWith("global.all")))return"latest"}if(e===i.zG)return streets.getEnterpriseName()?i.AM.comfortable:i.AM.compact;if(e===i.yH){const e=(0,r.WH)("feedly_animation");return e||((0,a.Dt)()&&!(0,a.U1)()||streets.service("resize")&&"tablet"===streets.service("resize").getDisplayMode()?i.iF.fade:i.iF.expand)}if("entryOverviewSize.desktop"===e&&null!=t){if(t.indexOf("flickr")>-1||t.indexOf("smugmug")>-1||t.indexOf(".etsy.")>-1||t.indexOf(".pinterest.")>-1)return"5";if(t.indexOf("enterprise")>0&&t.indexOf("tag")>0)return"4"}if("entrySort"===e&&t&&t.indexOf("/tag/")>0)return"latest";if("entrySort"===e&&"no"===this.getPreference("featuredArticles"))return"latest";if("entrySort"===e&&"mag"===this.getPreference("featuredArticles")&&("0"===this.getPreference("entryOverviewSize.desktop",t)||"0"===this.getPreference(i.J4,t)))return"latest";if("hideReadArticlesFilter"===e&&t&&t.indexOf("/tag/")>-1)return"off";const s=this.meta[e];if(null==s)return null;if(this.legacy&&s.legacyValue)return s.legacyValue;const n=s.defaultValue;if("object"!=typeof n)return s.defaultValue;if(null==t)return n.other;for(const i in n)if(0==t.indexOf(i))return n[i];return null!=n.other?n.other:s.defaultValue}_scheduleSaveChanges(){this.saveTimeout&&window.clearTimeout(this.saveTimeout),this.saveTimeout=window.setTimeout((()=>(this.saveTimeout=null,this._saveChanges())),500)}async _askFetchPreferences(){return this.net.GET("!{cloud}/v3/preferences").then(JSON.parse)}async _saveChanges(){try{if(!streets.getUserId())return;if(0===Object.keys(this.changeLog).length)return;await this.net.POST("!{cloud}/v3/preferences",this.changeLog)}catch(e){console.error("[preferences] failed to patch preferences",this.changeLog,e)}}askSetPreference(e,t,s,n){this.setPreference(e,t,s,n)}setPreference(e,t,s,n){if(!1===this.isReady())return void this.queue.push({preferenceName:e,value:t,context:s,silently:n});const i=this.meta[e];if(null==i)this._set(e,t);else if(null==i.global||!0===i.global||null==s)t===this._getDefault(e,s)?this._remove(e):this._set(e,t);else{const n=this._getValue(e,s),i=this._getDefault(e,s),r=s+"/"+e;t===n||null==n&&t===i?this._remove(r):this._set(r,t)}!0!==n&&this.fire("onPreferenceChanged",e,t,s)}_set(e,t){return this.content[e]=t,this.changeLog[e]=null==t?"==DELETE==":t,this._scheduleSaveChanges(),t}_remove(e){delete this.content[e],this.changeLog[e]="==DELETE==",this._scheduleSaveChanges()}async _askMigrateCollectionPreferences(){const e="categoriesOrdering";this.content.categoriesOrdering&&this._remove(e);const t=streets.service("personalcollections");(await t.askListCollections()).forEach((e=>{const t=`category/${e.label}`,s=(0,d.uu)(e.id);Object.keys(this.content).forEach((e=>{if(e.startsWith(t)){const n=e.replace(t,s);this._set(n,this.content[e]),this._remove(e)}}))}))}async _askMigrateTagPreferences(){(await streets.service("personaltags").askListTags()).forEach((e=>{const t=`tag/${e.id}`,s=(0,d.gQ)(e.id);Object.keys(this.content).forEach((e=>{if(e.startsWith(t)){const n=e.replace(t,s);this._set(n,this.content[e]),this._remove(e)}}))}))}lookupPagePreferences(e,t="mobile"){if(!e||!e.prefContext)return null;const s=new c(e.prefContext,t);return s.setPreferences(this),s.load(),s}releasePagePreferences(e){e&&e.unload()}recordSearch(e){const t=this.getPreference(i.Ag);if(!t)return void this.setPreference(i.Ag,[e]);const s=t.indexOf(e);s>-1&&t.splice(s,1),t.unshift(e),this.setPreference(i.Ag,t.slice(0,50))}removeSearch(e){const t=this.getPreference(i.Ag),s=t.indexOf(e);s>-1&&(t.splice(s,1),this.setPreference(i.Ag,t.slice(0,50)))}}function I(e){return new T(e)}},81640:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(83168),i=s(74221),r=s(2222),a=s(3167),o=s(85251);s(65698);class l extends n.y{setEnterprisepriorities(e){this.enterprisepriorities=e}setLeo(e){this.leo=e}setPersonalpriorities(e){this.personalpriorities=e}setReader(e){this.reader=e}setPreferences(e){this.preferences=e}load(){this.enterprisepriorities.registerObserver(this),this.preferences.registerObserver(this),this.personalpriorities.registerObserver(this)}unload(){this.enterprisepriorities.unregisterObserver(this),this.preferences.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.enterprisepriorities=null,this.personalpriorities=null,this.reader=null,this.preferences=null}onPreferenceChanged(e){e===a.As.priorities&&this.fire("onPrioritiesOrderChanged")}async askPriority(e){return(await this.askListPriorities()).find((t=>t.id===e))}askMetadata(e){return this.askPriority(e)}canBePrioritized(e){const{isCategory:t}=(0,i.Yg)(e);return e===(0,i.Gr)()||e===(0,i.N1)()||t}async askHasPriorities(e){const{priorities:t,globalPriorities:s}=await this.askListStreamPriorities(e,{cachedUnreadCountsOnly:!0,skipStreamLabel:!0});return t.length+s.length}async askListStreamPriorities(e,t){const{isEnterprise:s}=(0,i.Yg)(e);if(!this.canBePrioritized(e))return{priorities:[],globalPriorities:[]};const n=s?this.enterprisepriorities:this.personalpriorities,r=s?(0,i.Gr)():(0,i.N1)(),a=await n.askListPriorities(t);return e===(0,i.sX)()||e===(0,i.N1)()||e===(0,i.Gr)()?{priorities:a.filter((e=>!e.streamIds.includes(r))),globalPriorities:a.filter((e=>e.streamIds.includes(r)))}:{priorities:a.filter((t=>t.streamIds.includes(e))),globalPriorities:a.filter((e=>e.streamIds.includes(r)))}}async askListPriorities(e){const[t,s]=await Promise.all([this.personalpriorities.askListPriorities(e),this.enterprisepriorities.askListPriorities(e)]);return(0,o.Kn)([...s,...t])}async askListRankedPriorities(){const e=this.preferences.getPreference(a.sf);if("none"===e)return[];let t=await this.askListPriorities();t=t.filter((e=>e.isFollowingStream)),e===a.Zu.globalOnly&&(t=t.filter((e=>e.isGlobal))),e===a.Zu.createdByUserOnly&&(t=t.filter((e=>!(0,i.Yg)(e.id).isEnterprise||e.createdBy===streets.getUserId())));const s=JSON.parse(this.preferences.getPreference(a.As.priorities));return s?(0,o.Cl)(t,s):t}async askMovePriorities(e,t){if(!e||!t)throw new Error("The `fromCollectionId` and `toCollectionId` are required.");const{priorities:s}=await this.askListStreamPriorities(e),{isEnterprise:n}=(0,i.Yg)(e),{isEnterprise:a}=(0,i.Yg)(t),o=n===a,l=a?this.enterprisepriorities:this.personalpriorities;await Promise.all(s.map((e=>!(o||!(0,r.Bv)(e))||l.askUpdate({...e,streamIds:[t]}))))}}function c(e){return new l(e)}},57078:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(86130),i=s(3171),r=s(38916),a=s(83168),o=s(35610),l=s(28514),c=s(8199),d=s(80889);class h extends a.y{constructor(...e){super(...e),this.feedlyProfile={},this.wasIdentified=!1}setAlerts(e){this.alerts=e}setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}load(){}initialize(){}onUserIdentified(e){this.feedlyProfile=this._enrichProfileInfo(e.profile||{}),this.wasIdentified&&window.setTimeout((()=>{this.fire("onProfileChanged",this.feedlyProfile)}),10),this.wasIdentified=!0}onNoUserIdentified(){this.feedlyProfile={},this.wasIdentified&&window.setTimeout((()=>{this.fire("onProfileChanged",this.feedlyProfile)}),10),this.wasIdentified=!0}onUserUpgraded(e){this.feedlyProfile=this._enrichProfileInfo(e.profile||{}),this.fire("onProfileChanged",this.feedlyProfile),this.fire("onProfileUpgraded",this.feedlyProfile)}uninitialize(){}unload(){this.net=null,this.enterprise=null}askRefresh(){return this.askRefreshUserInfo()}onSessionUpdated(){this.askRefreshUserInfo()}getUserInfo(){return this.feedlyProfile}getUrlDecoration(){const{id:e,enterpriseName:t="-",email:s="-",fullName:n,wave:i,givenName:r,familyName:a}=this.feedlyProfile,o=streets.getPlan();if(!e)return"id=visitor";const l=this.enterprise.getCachedTeamSizeHint();let c;if(r&&a&&(c=`${r} ${a}`),!c&&n&&(c=n),!c&&(r||a)){const e=[];r&&e.push(r),a&&e.push(a),c=e.join(" ")}return c||(c=""),`id=${encodeURIComponent(e)}&plan=${encodeURIComponent(o)}&enterprisename=${encodeURIComponent(t)}&teamsize=${encodeURIComponent(l)}&email=${encodeURIComponent(s)}&fullname=${encodeURIComponent(c)}&wave=${encodeURIComponent(i)}`}isInCohort(e){if(!e)return!1;if(!this.feedlyProfile||!this.feedlyProfile.cohorts||0===this.feedlyProfile.cohorts.length)return!1;for(let t=0;t<this.feedlyProfile.cohorts.length;t++)if(this.feedlyProfile.cohorts[t]===e)return!0;return!1}isRecentUser(){return!!this.feedlyProfile&&(0,i._v)(this.feedlyProfile.wave,3)}isVeryRecentUser(){return!!this.feedlyProfile&&(0,i._v)(this.feedlyProfile.wave,1)}async askCreateArchive(){return this.net.POST("!{cloud}/v3/profile/export?force=true","").then(JSON.parse)}async askStartDropboxBackup(e){await this.net.POST("!{cloud}/v3/profile",{dropboxTagBackup:!0,dropboxFormat:e}),this.feedlyProfile.dropboxFormat=e,this.feedlyProfile.dropboxTagBackup=!0}markIntegrationAsConnected(e){const t=e===r.bK.oneNote?"windowsLive":e;this.feedlyProfile[t+"Connected"]=!0,this.fire("onProfileChanged",this.feedlyProfile)}markIntegrationAsDisconnected(e){const t=e===r.bK.oneNote?"windowsLive":e;this.feedlyProfile[t+"Connected"]=!1,e===r.bK.dropbox&&(delete this.feedlyProfile.dropboxConnected,delete this.feedlyProfile.dropboxUid,delete this.feedlyProfile.dropboxOpmlBackup,delete this.feedlyProfile.dropboxFormat,delete this.feedlyProfile.dropboxTagBackup),this.fire("onProfileChanged",this.feedlyProfile)}isIntegrationConnected(e){const t=e===r.bK.oneNote?"windowsLive":e;return this.feedlyProfile[t+"Connected"]}askEraseAcount(){return this.net.DEL("!{cloud}/v3/profile").then((()=>{n.Z.utils.SessionUtils.clear(),streets.askSyncIdentity()})).catch((e=>{throw $feedly(`[profile] Failed to erase account: ${e})`),e}))}async askChangePassword(e){const t=await this.net.POST("!{cloud}/v3/auth/password",e),s=JSON.parse(t);null!=s&&(s.feedlyId=s.id,s.feedlyRefreshToken=s.refresh_token,s.feedlyToken=s.access_token,s.feedlyExpiresIn=s.expires_in,s.feedlyExpirationTime=(new Date).getTime()+1e3*s.expires_in-1e4,s.plan=s.plan||"standard",delete s.access_token,delete s.expires_in,delete s.id_token,delete s.token_type,delete s.refresh_token),n.Z.utils.SessionUtils.save(s)}askRefreshUserInfo(){return this.net.GET("!{cloud}/v3/profile").then(JSON.parse).then(((e={})=>{this.feedlyProfile=this._enrichProfileInfo(e),this.fire("onProfileChanged",this.feedlyProfile)})).catch((e=>{throw $feedly(`Failed to get user info: ${e.message}`),e}))}askUpdateUserInfo(e){return this.net.POST("!{cloud}/v3/profile",e).then(JSON.parse).then((e=>{this.feedlyProfile=this._enrichProfileInfo(e),this.fire("onProfileChanged",this.feedlyProfile)})).catch((e=>{throw $feedly(`Failed to update user info: ${e.message}`),e}))}askUpdateProfilePicture(e){let t=new FormData;return t.append("picture",e),this.net.POST("!{cloud}/v3/profile",t).then(JSON.parse).then((e=>{this.feedlyProfile=this._enrichProfileInfo(e),this.fire("onProfileChanged",this.feedlyProfile)})).catch((e=>{throw $feedly(`Failed to update profile picture: ${e.message}`),e}))}askUpdateProduct(e){return this.net.POST(`!{cloud}/v3/pro/subscription/${encodeURIComponent(e)}`,{}).then(JSON.parse).then((e=>{streets.askApplyNewSession(e)})).catch((e=>{throw $feedly(`[payment] Failed to update product (payment plan): ${e.debugMessage||e.message}`),e}))}askMobileUpgrade(e){const t=(0,l.Dt)()?"!{cloud}/v3/payment/androidCharge":"!{cloud}/v3/payment/appleCharge";return this.net.POST(t,{...e,userId:streets.getUserId()}).then(JSON.parse).then((e=>streets.askUpdatePlan(e.tokens))).catch((e=>{throw $feedly(`[payment] Failed to update product (black friday): ${e.debugMessage||e.message}`),e}))}askProUpgrade(e,t,s){const{subscriptionStatus:n,product:i}=this.getUserInfo(),r=n==c.Ch.unpaid&&((0,d._Y)(e)&&(0,d._Y)(i)||(0,d.sL)(e)&&(0,d.sL)(i));return this.net.POST(`!{cloud}/v3/pro/subscription/${encodeURIComponent(e)}`,{emailAddress:s,stripePaymentMethod:t}).then(JSON.parse).then((async e=>{await streets.askUpdatePlan(e.tokens),r&&streets.service("autoChrome").showRenewedBanner(),gtag("event","purchase",{items:[{item_id:e.product}]})})).catch((t=>{throw $feedly(`[payment] Failed to update product (${e}): ${t.debugMessage||t.message}`),t}))}askCancelStripeSubscription(e){let t="!{cloud}/v3/pro/subscription";if(e){const{withRefund:s}=e;s&&(t+="?refund=true")}return this.net.DEL(t).then((t=>{this.feedlyProfile.subscriptionStatus="Canceled",this.fire("onProfileChanged");const s=JSON.parse(t);if(gtag("event","subscription_cancel",{product:this.feedlyProfile.product,refunded:s.refunded}),e&&e.withRefund){gtag("event","refund",{currency:"USD",value:s.refundAmount,items:[{item_id:this.feedlyProfile.product}]});const e=s.tokens;e.feedlyId=e.id,e.feedlyRefreshToken=e.refresh_token,e.feedlyToken=e.access_token,e.feedlyExpiresIn=e.expires_in,e.feedlyExpirationTime=(new Date).getTime()+1e3*e.expires_in-1e4,n.Z.utils.SessionUtils.save(e),streets.setPlan(e.plan)}return s})).catch((e=>{throw $feedly(`Failed to cancel pro stripe subscription: ${e.debugMessage||e.message}`),e}))}askReactivateStripeSubscription(){return this.net.PUT("!{cloud}/v3/pro/subscription",{status:"Active"}).then((()=>{this.feedlyProfile.subscriptionStatus="Active",this.fire("onProfileChanged")})).catch((e=>{throw $feedly(`Failed to reactivate pro stripe subscription: ${e.debugMessage||e.message}`),e}))}async askProProducts(){return streets.getUserId()?this.net.GET("!{cloud}/v3/pro/products").then(JSON.parse):{}}async askListInvoices(){return this.net.GET("!{cloud}/v3/payment/invoices").then(JSON.parse)}askDeleteCardInfo(){return this.net.DEL("!{cloud}/v3/pro/card").then(JSON.parse).then((e=>{streets.askApplyNewSession(e)})).catch((e=>{throw $feedly(`[payment] Failed to delete user card info: ${e.debugMessage||e.message}`),e}))}askUpdateCardInfo(e){return this.net.POST("!{cloud}/v3/pro/card",{stripePaymentMethod:e}).then(JSON.parse).then((e=>{streets.askApplyNewSession(e),this.fire("onCardInfoUpdated")})).catch((e=>{throw $feedly(`[payment] Failed to update user card info: ${e.debugMessage||e.message}`),e}))}askStripeSecret(){return this.net.POST("!{cloud}/v3/pro/stripeSetup",{}).then(JSON.parse).then((({clientSecret:e})=>e)).catch((e=>{throw $feedly(`[payment] Failed to get stripe client secret: ${e.debugMessage||e.message}`),e}))}async askHasLeoFeedsLimit(){const{accountLimits:e}=this.getUserInfo();return"number"==typeof e.maxLeoFeeds&&await this.alerts.askHasWebAlertsAccess()}hasUnpaidProPlan(){const{product:e,subscriptionStatus:t}=this.getUserInfo();return(0,d._Y)(e)&&t===c.Ch.unpaid}hasUnpaidProPlusPlan(){const{product:e,subscriptionStatus:t}=this.getUserInfo();return(0,d.sL)(e)&&t===c.Ch.unpaid}hasLeoAccess(){return streets.hasProPlusAccess()}_enrichProfileInfo(e){return e&&e.picture&&(e.picture=(0,o.w6)(e.picture)),e.userId||(e.userId=e.id),e.name||(e.name=e.fullName),e}}function u(e){return new h(e)}},54713:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(83168),i=s(3167),r=s(31245),a=s(3015),o=s(93023);const l=Object.freeze({analytics:"analytics",content:"content",priority:"priority"});class c extends n.y{setAlerts(e){this.alerts=e}setBsa(e){this.bsa=e}setPreferences(e){this.preferences=e}setSuggestions(e){this.suggestions=e}setCollections(e){this.collections=e}unload(){this.bsa=null,this.preferences=null,this.suggestions=null,this.collections=null}async askPrompt(e={}){if(e.layout===i.Ar.fullArticle)return null;let t=[];return t=await Promise.all([this._askLeoSuggestion(e),this._askLeoSatisfactionPrompt(e),this._askBSASponsor(e),this._askSourcesBallot(e)]),t.find((e=>e))}_askSourcesBallot({layout:e}){return e===i.Ar.cards?null:{type:"sourcesBallot",position:7}}async _askBSASponsor(){return streets.hasProAccess()?null:{position:3,type:"sponsor"}}async _askLeoSatisfactionPrompt({activeTab:e,layout:t,streamId:s,priority:n}={}){const c=(0,o.kW)(s);if(e!==l.priority&&!c||t===i.Ar.cards||this.preferences.getPreference(i.pl)===i.ZD.off)return null;let d;if(c){const{created:e}=await this.alerts.askInfo(c);d=e}else n&&(d=n.created);const h=this.preferences.getPreference("lastLeoFeedbackDate");let u=!1;return(!h&&d&&Date.now()-d>15*a.HA.day||h&&Date.now()-h>4*a.HA.month)&&(u=!0),u&&(streets.isProPlusPlan()||streets.hasAdminBusinessAccess())?{feature:c?r.z1.webAlert:r.z1.priority,type:r.yQ.leoSatisfactionPrompt,position:5}:null}async _askLeoSuggestion({activeTab:e,layout:t,streamId:s}={}){if(!streets.getUserId()||t===i.Ar.cards||e===l.priority||this.preferences.getPreference(i.$h)===i.ZD.off)return null;const n=this.preferences.getPreference("lastLeoSuggestionDate");let r=!1;n?n&&Date.now()-n>3*a.HA.day&&(r=!0):r=!0;const o=await this.suggestions.askLeoSuggestions(),c=o&&o.find((e=>e.streamId===s));return c&&r?{...c,position:t===i.Ar.titleOnly?12:5}:null}}function d(e){return new c(e)}},46953:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>de});var n=s(10268),i=s.n(n),r=s(91815),a=s.n(r),o=s(47617),l=s.n(o),c=s(80033),d=s(47567),h=s(57855),u=s(3171),p=s(56466),m=s(57471),g=s(54960),f=s(74221),y=s(35093),v=s(65698);const b=["inc","co","ltd","corp","cie"];function E(e,t){return e.substring(t[0]+t[3])}function C(e,t){return e.charAt(t[0]+t[3])}function w(e,t,s){return e.substring(t[0]+t[3],void 0===s?void 0:s[0]+s[1]+s[2]).trim()}function k(e,t){const s=function(e,t){return e.substring(t[0],t[0]+t[1])}(e,t),n=function(e,t){return e.substring(t[0]+t[1],t[0]+t[1]+t[2])}(e,t);return"."===n?1!=s.length?C(e,t)!==C(e,t).toLowerCase()&&!(b.indexOf(s.toLowerCase())>-1):!!/\s/.test(s)||!!/[&%$@*#]/.test(s):"..."===n||".."===n?C(e,t)!==C(e,t).toLowerCase():n.length>1||"?"===n||"!"===n||"\r"===n||"\n"===n}function _(e){if("string"!=typeof e)throw new TypeError("Function splitSentences(text) expects a String as input.");return function(e,t){var s=[];if(t.length>0){s.push(w(e,[0,0,0,0],t[0]));for(var n=0;n<t.length-1;n++)s.push(w(e,t[n],t[n+1]));s.push(w(e,t[t.length-1]))}else s.push(e);return s}(e,function(e,t){for(var s=[],n=0;n<t.length;n++){const i=t[n];k(e,i)&&s.push(i)}return s}(e,function(e){const t=/(\s|[^\s!.?]+)((!|\.|\?|[\n\r]+)+)\s+/;for(var s,n=[],i=e,r=0;s=t.exec(i);){var a=[s.index+r,s[1].length,s[2].length,s[0].length];n.push(a),i=E(e,a),r=a[0]+a[3]}return n}(e)))}var M=s(28514),S=s(3167),T=s(99442),I=s(2222),N=s(63403),P=s(86966);var L=s(77834),x=s(16847),D=s(48689),O=s(35610);var A=s(52277);const z=["feedads.feedblitz.com"],R=["feedproxy","feedburner","feeds.wordpress.com","stats.wordpress.com","googleadservices.com","tweet-this","fmpub","-ads","_ads","pheedo","zemanta","u.npr.org/iserver","openx.org","slashdot-it","smilies","/ico-","commindo-media.de","creatives.commindo-media","doubleclick.net","adview","/feed.gif",".ads.","/avw.php","wp-digg-this","feed-injector","/plugins/","tweetmeme.com","_icon_","/ad-","share-buttons","buysellads","holstee","musictapp","/ad_","/button/","donate.png","/sponsors/","googlesyndication.com","/pagead","/adx","assets/feed-fb","assets/feed-tw","feedburner.com/~ff","gstatic.com","feedsportal","tweetmeme.com","wp-digg-this","advertisement.gif","share-buttons","/plugins/","assets/feed-","feedproxy.google","feeds.feedblitz.com/_","wordpress.com/i/blank.jpg","pixel.wp.com","assets.feedblitz.com/i","ga-beacon.appspot.com","www.google.com/intl/en/logos"],F=[...R,...z],j=/youtube\.com\/embed\/([A-Za-z0-9\-_]+)/i,U=/youtube\.com\/v\/([A-Za-z0-9\-_]+)/i,B=/ytimg\.com\/vi\/([A-Za-z0-9\-_]+)/i,H=/youtube\.com\/watch\?v=([A-Za-z0-9\-_]+)/i;class Y{constructor(e,t={}){e.origin&&"feed/[object Object]"===e.origin.streamId&&delete e.origin.streamId,this._format="json",this.jsonInfo=e,this.id=e.id,this.feedId=e.origin?e.origin.streamId:null,!this.feedId&&e.canonicalFeed&&e.canonicalFeed.length>0&&e.canonicalFeed[0].streamId&&(this.feedId=e.canonicalFeed[0].streamId),this.important=e.important?e.important:[],this.priorities=e.priorities||[],this.cleanSummary={},null==e.crawled&&(e.crawled=(new Date).getTime()),null==e.published&&(e.published=e.crawled),null==e.updated&&(e.updated=e.published);const s=this._getUpdatedDate();this.lastModifiedDate=null!=s?s:this._getPublishedDate(),this.lastModifiedTime=this.lastModifiedDate.getTime(),this.crawledDate=(0,d.Bq)(this.jsonInfo.crawled),this.crawledTime=this.crawledDate.getTime(),this.actionDate=this.jsonInfo.actionTimestamp?(0,d.Bq)(this.jsonInfo.actionTimestamp):null,e.categories||(e.categories=[]),e.decorations||(e.decorations={}),e.annotations||(e.annotations=[]),this.metadata=Object.assign({subscribed:null},t),this.metadata.hasLinkedArticle=this.jsonInfo.linked&&this.jsonInfo.linked.length>0,this.jsonInfo.origin&&this.jsonInfo.origin.title&&(this.jsonInfo.origin.title=(0,x.oN)(this.jsonInfo.origin.title)),this.webfeeds=e.webfeeds||{},e.tags&&e.tags.length&&e.tags.forEach((e=>{e.id&&e.id.indexOf("tag/global.saved")>-1&&(e.label="Read later")})),this.jsonInfo.commonTopics&&this.jsonInfo.commonTopics.length&&(this.jsonInfo.commonTopics=i()(this.jsonInfo.commonTopics,"id"));try{var n;this.metadata.synced=this.getEngagement(),this.metadata.garbage=!1,this.metadata.feedId=this.getFeedId();const s=this.getAlternateLink();null!=s&&((s.indexOf("pheedo.com")>-1||s.indexOf("click.phdo")>-1)&&(this.metadata.garbage=!0),s.indexOf("techmeme.com")>-1&&(this.metadata.defaultNavigation="visit",this.metadata.substitutedAlternateLink=(0,h.tJ)(this.getContent()))),t.imageUrl&&t.imageWidth&&t.imageHeight&&(this.metadata.featuredVisual={url:t.imageUrl,width:t.imageWidth,height:t.imageHeight}),this.metadata.tutorial=null!=this.getFeedId()&&"feed/https://blog.feedly.com/category/wiki/feed/"===this.getFeedId(),this.metadata.tutorial&&(this.metadata.customFullArticleClass="u100Entry--tutorial");const i=e.content&&e.content.content;if(this.metadata.isNewsletter=i&&e.content.content.indexOf("webfeeds--newsletter")>-1,this.metadata.isWellFormattedNewsletter=this.metadata.isNewsletter&&(e.content.content.indexOf("morningbrew.com/")>-1||e.content.content.indexOf("smartbrief.com/")>-1||e.content.content.indexOf("endpointsnews.com/")>-1||e.content.content.indexOf("fourhourmail.com/")>-1),this.metadata.isSubstack=i&&e.content.content.indexOf("cdn.substack.com")>-1,this.metadata.hasCustomHeader=i&&e.content.content.indexOf("webfeeds-header")>-1,this.metadata.googleNews=(0,g.Qc)(this.getFeedId()),this.metadata.googleAlerts=(0,m.tp)(this.getFeedId()),this.metadata.baiduNews=null!=this.getFeedId()&&this.getFeedId().indexOf("news.baidu.com/ns")>-1,this.metadata.isFromWebAlertSource=!!this.getFirstAlertSourceInfo(),!this.metadata.highlightableKeywords){const e=[];this.jsonInfo.priorities&&e.push(...this._findHighlightableKeywords(this.jsonInfo.priorities,this.jsonInfo.entities)),this.jsonInfo.sources&&e.push(...this._findHighlightableKeywords(this.jsonInfo.sources,this.jsonInfo.entities)),e.length&&(this.metadata.highlightableKeywords=a()(e))}if(this.jsonInfo.fullContent){let e=streets.isEnterprisePlan()||(streets.isProPlusPlan()||streets.isBusinessPlan())&&this.isPrioritized()||this.metadata.googleAlerts||this.metadata.googleNews||this.listTags(!0)>0||this.getFirstAlertSourceInfo()||this.isQuicklisted();const t=this.getFeedId();t&&t.includes("nytimes.com")&&(e=!1),e||(this.jsonInfo.archivedFullContent=this.jsonInfo.fullContent,delete this.jsonInfo.fullContent)}if(this.metadata.googleAlerts&&this.jsonInfo.origin)this.metadata.defaultNavigation=this.jsonInfo.fullContent?null:"visit",this.metadata.substitutedAlternateLink=(0,m.vc)(this.getAlternateLink()),this.metadata.googleTerm=(0,m.IG)(e.origin.title);else if(this.metadata.googleNews&&null!=this.jsonInfo.origin){this.metadata.googleTerm=(0,g.A4)(this.getFeedId()),this.metadata.defaultNavigation=this.jsonInfo.fullContent?null:"visit";let e=this.getAlternateLink().split("&url=");if(e.length>1&&(this.metadata.substitutedAlternateLink=decodeURIComponent(e[1])),e=this.getTitle().split(" - "),e.length>1)this.metadata.substitutedTitle=e.slice(0,e.length-1).join(" - "),this.metadata.publisherTitle=e[e.length-1],this.metadata.substitutedSourceTitle=this.metadata.publisherTitle;else if(this.jsonInfo.summary){const e=(0,g.xU)(this.jsonInfo.summary.content);e&&(this.metadata.publisherTitle=e,this.metadata.substitutedSourceTitle=e)}this.jsonInfo.summary&&"ltr"===this.jsonInfo.summary.direction&&(this.jsonInfo.summary.content=(0,g.P6)(this.jsonInfo.summary.content))}else if(this.metadata.baiduNews)e.origin&&e.origin.title&&2===e.origin.title.split("_").length&&(this.metadata.googleTerm=e.origin.title.split("_")[1]);else if(null!=this.getFeedId()&&this.getFeedId().indexOf("gdata.youtube.com/feeds/base/videos/-/")>-1){let e=this.getFeedId().split("/"),t=e[e.length-1];this.metadata.substitutedSourceTitle=decodeURIComponent(t.split("?")[0])+" on Youtube"}if(!this.metadata.highlightableKeywords&&(this.metadata.searchTerm||this.metadata.googleTerm)){let e=(this.metadata.searchTerm||this.metadata.googleTerm).replace(/\b(\S+):/gi,"").replace(/[-]"[^"]+"/gi,"").replace(/"([^"]+)"/gi,"$1").replace(/[-]\S+/gi,"").replace(/\bAND\b/g," ").replace(/\bOR\b/g," ").split(/\s+/).filter((e=>e.length));e&&e.length>0&&(this.metadata.highlightableKeywords=e)}const r=(0,M.$L)()&&(null===(n=streets.service("pageManager").getPageInfo())||void 0===n?void 0:n.uri);if(r&&r.startsWith("topicDataset")){const[e,t,...s]=r.split("/"),n=streets.service("mltopicdatasets").getCachedCurationKeywords({topicDatasetId:t});n&&n.length&&(this.metadata.highlightableKeywords=this.metadata.highlightableKeywords?this.metadata.highlightableKeywords.concat(n):n)}this.metadata.googleTerm&&(this.metadata.prettyTerm=this.metadata.googleTerm);const o=this.metadata.sourceTitle;this.metadata.googleNews&&o&&-1===o.indexOf("Google")&&(this.metadata.prettyTerm=o),this.metadata.key=this.getId();if(this.getTitle().indexOf("[Sponsor]")>-1&&(this.metadata.sponsored=!0),this.getAlternateLink().indexOf("youtube.com")>-1){const e=this.getAlternateLink();this.metadata.youtube=(0,P.Y)(j,e)||(0,P.Y)(U,e)||(0,P.Y)(B,e)||(0,P.Y)(H,e)}}catch(r){$feedly("[entry] warning metadata enrichment failed:"+r.name+" -- "+r.message)}if(this.metadata.isTwitterFeed=(0,D.iR)(this.getFeedId())&&!!this.jsonInfo.content&&!!this.jsonInfo.content.content,this.metadata.isRedditFeed=(0,N.hj)(this.getFeedId()),this.metadata.isRedditFeed&&(this.metadata.redditPost={commentsLink:this.jsonInfo.originId,subredditName:(0,N.W_)(this.jsonInfo),userName:(0,N.DX)(this.jsonInfo)},this.jsonInfo=(0,N.Pk)(this.jsonInfo)),this.metadata.isRedditFeed&&this.metadata.hasLinkedArticle&&this.jsonInfo.summary){const e=this.jsonInfo.summary.content;this._setLinkedArticleAsContent(),this.jsonInfo.fullContent=this.jsonInfo.fullContent+e}if(this.metadata.isTwitterFeed&&this.metadata.hasLinkedArticle)this._setLinkedArticleAsContent(),this.metadata.tweet={authorName:(0,D.zL)(this.jsonInfo),authorHandle:(0,D.nQ)(this.jsonInfo),content:(0,D.hD)(this.jsonInfo),link:(0,D.H6)(this.jsonInfo),icon:(0,D.EC)(this.jsonInfo)};else if(this.metadata.isTwitterFeed){this.metadata.tweet={authorName:(0,D.zL)(this.jsonInfo),authorHandle:(0,D.nQ)(this.jsonInfo),icon:(0,D.EC)(this.jsonInfo)};const e=(0,D.iI)(this.jsonInfo.origin.title);(0,D.IJ)(this.getContent(),e)&&(this.metadata.tweet.twitterFeedAuthorHandle=e,this.metadata.tweet.isRetweet=!0)}e.fullContent&&(this.getCanonicalUrl()&&this.getCanonicalUrl().includes("bleacherreport.com")&&e.fullContent.length>5e3||e.fullContent.length>15e4)&&delete e.fullContent,this.feedId&&this.feedId.indexOf("daringfireball.net")>-1&&(this.jsonInfo.fullContent=null,this.jsonInfo.visual=null),this.feedId&&this.feedId.indexOf("sethgodin.typepad.com")>-1&&(this.jsonInfo.visual=null),this.jsonInfo.visual&&(this.metadata.isTwitterFeed&&this.jsonInfo.visual.url.indexOf("//pbs.twimg.com/profile_images")>-1&&(this.jsonInfo.visual={url:"none"}),"none"===this.jsonInfo.visual.url?this.metadata.noVisual=!0:(this.jsonInfo.visual.proxy=this._buildProxyUrl(this.jsonInfo.visual.url),this.metadata.featuredVisual=this.jsonInfo.visual,this.metadata.featuredVisual.edgeCacheUrl&&this.metadata.featuredVisual.edgeCacheUrl.startsWith("http://")&&(this.metadata.featuredVisual.edgeCacheUrl=`https://${this.metadata.featuredVisual.edgeCacheUrl.slice("http://".length)}`),this.enrichVisual(this.jsonInfo.visual.url,this.jsonInfo.visual.width,this.jsonInfo.visual.height))),e.priorities&&e.priorities.forEach((e=>{e.searchTerms&&(e.searchTerms.topics&&delete e.searchTerms.topics,e.searchTerms.entities&&delete e.searchTerms.entities)})),this.markAsReadable=!0}isPartialContent(){if(this.jsonInfo.fullContent)return!1;if(this.jsonInfo.webfeeds&&null!==this.jsonInfo.webfeeds.partial)return this.jsonInfo.webfeeds.partial;const e=this.asText(),t=this.listContentLinks();if(t.length>0&&e.length<1e3&&this.listContentVisuals(!0).length<=2)for(let s=0;s<t.length;s++){const e=t[s].all.toLowerCase();if(e.indexOf("more")>-1||e.indexOf("...")>-1||e.indexOf("")>-1||e.indexOf("continue")>-1||e.indexOf("read")>-1||e.indexOf("full")>-1)return!0}for(let s=0;s<t.length;s++){if(t[s].all.toLowerCase().indexOf("read more...")>-1)return!0}return e.length<1e3&&(e.indexOf("[]")>-1||e.indexOf("[...]")>-1)||(e.length<200&&0==this.listContentVisuals().length||(e.length<200&&this.listContentVisuals().length<=1&&e.indexOf("...")>-1||!!(e.length<350&&this._hasOnlySmallVisuals())))}_hasOnlySmallVisuals(){if(null!=this.jsonInfo.visual)return!(this.jsonInfo.visual.width>280&&this.jsonInfo.visual.height>220);const e=this.listContentVisuals();if(0==e.length)return!1;for(let t=0;t<e.length;t++){if(null==e[t].width||null==e[t].height)return!1;if(e[t].width>280&&e[t].height>222)return!1}return!0}getDecoration(e){return this.jsonInfo.decorations[e]}getEstimatedCVSS(){return this.jsonInfo.estimatedCVSS}listEntities(e){return this.jsonInfo.entities?e?this.jsonInfo.entities.filter((t=>t.id.startsWith(e))):this.jsonInfo.entities.slice(0):[]}findEntity(e){return this.listEntities().find((t=>t.id===e))}listCausedEntities(){return this.listEntities().filter((e=>!!e.causes))}findRelevantCausedEntities({searchTerms:{parts:e=[]}={}}){if(!e.length)return[];const t=e.filter((e=>e&&e.id&&e.id.startsWith(y.K5.entity)));return t.length?this.listCausedEntities().filter((e=>t.find((t=>t.id===e.id)))):[]}listCommonTopics(){return this.jsonInfo.commonTopics?this.jsonInfo.commonTopics.slice(0):[]}listVulnerabilities(){return this.listEntities("vulnerability/").sort(((e,t)=>{const s=e.vulnerabilityInfo||{};return((t.vulnerabilityInfo||{}).cvssScore||0)-(s.cvssScore||0)}))}listTopVulnerability(){const e=this.listVulnerabilities();return e&&e.length>0?e[0]:null}findSearchTermFullInfo(e){let t;return(0,v.jP)(e.id)&&(t=this.listBusinessEvents().find((t=>t.id===e.id))),(0,v.ft)(e.id)&&(t=this.findEntity(e.id)),(0,v.xT)(e.id)&&(t=this.listCommonTopics().find((t=>t.id===e.id))),t||e}listDuplicates(){return this.jsonInfo.duplicates||[]}setMemeEntries(e){this.memeEntries=e}listMemeEntries(){return this.memeEntries||[]}listRelatedEntries(){return this.jsonInfo.related||[]}setLeoSummary(e){this.leoSummary=e}getLeoSummary({useSummarySentences:e=!0}={}){if(this.leoSummary)return this.leoSummary;const t=this.getLeoSummarySentences();return t&&e?t.sentences.map((({text:e})=>e)):void 0}setMeme(e){this.meme=e}getMeme(){return this.meme?this.meme:this.jsonInfo.memes&&0!==this.jsonInfo.memes.length&&"yes"===streets.service("preferences").getPreference(S.xV)?this.jsonInfo.memes[0]:null}setDecoration(e,t){this.jsonInfo.decorations[e]=t}getFeedback(){return this.jsonInfo.feedback}setFeedback(e){this.jsonInfo.feedback=e}deleteFeedback(){this.jsonInfo.feedback=null}getEngagementRate(){return this.jsonInfo.engagementRate}getEngagementRateType(){let e=0,t=this.getEngagement()>100&&this.getEngagementRate()>3||this.getEngagement()>25&&this.getEngagementRate()>7;return t&&this.getEngagementRate()>10?e=2:t&&(e=1),e}hasEngagement(){return void 0!==this.jsonInfo.engagement}getEngagement(){return(this.jsonInfo.engagement||0)+(this.isQuicklisted()?1:0)}setEngagement(e){if(this.metadata.engagementRefreshed=!0,null==e||isNaN(e))return console.error("[entry] ignoring invalid engagement",this.getId(),e),$feedly("[entry] ignoring invalid engagement:"+e),!1;let t=this.jsonInfo.engagement||0;return t>e?(console.error("[entry] ignoring new lower, engagement count:",this.getId(),t,e),!1):(this.jsonInfo.engagement=e,!0)}setNavigation(e){this.metadata.navigation=e}getNavigation(){return this.metadata.isNewsletter?"inline":this.metadata.navigation||this.metadata.defaultNavigation||"inline"}setPriorityLabel({id:e,label:t}={}){let s,n=this.jsonInfo.priorities;if(e&&t&&n)return this.jsonInfo.priorities=n.map((n=>n.id===e?(s=!0,{...n,label:t}):n)),this.priorities=this.jsonInfo.priorities,s||!1}getAge(){return((new Date).getTime()-this.lastModifiedTime)/36e5}isHot(){return 1!=this.metadata.garbage&&(this.getEngagement()>100&&this.getEngagementRate()>3||this.getEngagement()>25&&this.getEngagementRate()>7)}getId(){return this.id}getFeedId(){return this.feedId}getCrawlTime(){return this.crawledTime}listFilters(){return this.jsonInfo.filters||this.jsonInfo.mutedTerms||[]}getTitle(){if(null!=this.metadata.substitutedTitle)return this.metadata.substitutedTitle;if(!this._title){let t=this.jsonInfo.title;if(!t){const e=this.asText()||"[no title]";t=e.slice(0,120),e.length>120&&(t+="...")}if(this.isTitleRTL())try{t=t.replace('<div style="direction:rtl;text-align:right">',"").replace("</div>","")}catch(e){}this._title=t}return this._title}getCleanTitle(){return this.isTitleRTL()?this.getTitle():(this._cleanTitle||(this._cleanTitle=(0,x.ld)(this.getTitle())),this.metadata.isTwitterFeed&&!this.metadata.hasLinkedArticle&&(this._cleanTitle=(0,D.lF)(this._cleanTitle,this.metadata.tweet.authorHandle)),this._cleanTitle)}getCleanSourceTitle(){return this.isTitleRTL()||this.metadata.googleNews||this.metadata.isTwitterFeed?this.getSourceTitle():(this._cleanSourceTitle||(this._cleanSourceTitle=(0,x.xh)(this.getSourceTitle())),this._cleanSourceTitle)}_getAlternate(){if(null==this.jsonInfo.alternate||0==this.jsonInfo.alternate.length)return null;let e=null;for(let t=0;t<this.jsonInfo.alternate.length;t++)if("text/html"===this.jsonInfo.alternate[t].type||null==this.jsonInfo.alternate[t].type){e=this.jsonInfo.alternate[t].href;break}return e}setCanonicalUrl(e){this.jsonInfo.canonicalUrl=e,(this.getAlternateLink().indexOf("pheedo.com")>-1||this.getAlternateLink().indexOf("click.phdo")>-1)&&(this.metadata.garbage=!0)}_addUTMSignature(e,t){if(t=t||"webfeeds",-1==e.indexOf("?"))return e+"?utm_source=feedly&utm_medium="+t;if(e.indexOf("utm_source")>-1){return e.split("?")[0]+"?utm_source=feedly&utm_medium="+t}return e+"&utm_source=feedly&utm_medium="+t}getAlternateLink(){let e=this.getBestAlternateLink();return e||(e="https://feedly.com/i/entry/"+encodeURIComponent(this.getId())),null!=this.webfeeds.analyticsId||null!=this.metadata.promotedAnalyticsId?this._addUTMSignature(e):e.indexOf("utm_source=feedburner")>-1?e.replace("utm_source=feedburner","utm_source=feedly"):e.indexOf("utm_source=rss")>-1?e.replace("utm_source=rss","utm_source=feedly"):(e.indexOf("utm_source=")>-1||e.indexOf("?"),e)}getFastestAlternateLink(){return null!=this.metadata.substitutedAlternateLink?this.metadata.substitutedAlternateLink:null!=this.jsonInfo.ampUrl?this.jsonInfo.ampUrl:this.getBestAlternateLink()}getBestAlternateLink(){if(this.metadata.substitutedAlternateLink)return this.metadata.substitutedAlternateLink;let e=this._getAlternate()||this.getCanonicalUrl();if(!e){let t=this.getEnclosure("audio/mpeg");t&&t.href&&(e=t.href)}return e}getCleanAlternateLink(){if(this.metadata.substitutedAlternateLink)return this.metadata.substitutedAlternateLink;let e=this.getCanonicalUrl()||this._getAlternate();if(!e){let t=this.getEnclosure("audio/mpeg");t&&t.href&&(e=t.href)}return e}getCanonicalUrl(){let e=this._getCanonical()||this.jsonInfo.canonicalUrl;if(!e){const t=this.metadata.substitutedAlternateLink||this._getAlternate();t&&t.indexOf("youtube.com/")>-1&&(e=t)}if(e){const t=e.indexOf("?utm_source=feed");t>-1&&(e=e.substring(0,t))}return e}_getCanonical(){if(!this.jsonInfo.canonical||0===this.jsonInfo.canonical.length)return null;for(let e=0;e<this.jsonInfo.canonical.length;e++)if("text/html"===this.jsonInfo.canonical[e].type)return this.jsonInfo.canonical[e].href;return null}getSummary(){return null==this.jsonInfo.summary?"":this.jsonInfo.summary.content||""}isFeedlyBlog(){return"https://blog.feedly.com"===this.getSourceAlternateLink()}_getHighlightedContent(e){return this.metadata.highlightableKeywords?(0,c.Te)(e,this.metadata.highlightableKeywords):e}_getCleanContent(){if(!this._cleanContent)try{if(this._cleanContent=this.getContent().replace(/<iframe[^<]*<\/iframe>/gi,(e=>e.indexOf("facebook.com")>-1||e.indexOf("twitter.com")>-1||e.indexOf("slashdot.org")>-1||e.indexOf("docs.google.com/forms")>-1?"":e.indexOf("youtube.com")>-1?e.replace("http://","https://"):e)).replace(/(<img.*?src=")([^"]*)("[^>]*>)/gi,((e,t,s)=>{const n=this._lookupVisual(s);return-1==e.indexOf("http")?"\x3c!-- non http visual --\x3e":this._shouldExcludeVisual(e)?"\x3c!-- excluded visual --\x3e":e.indexOf("blogcdn.com")>-1?e.replace("_thumbnail",""):!this.metadata.isNewsletter&&null!=n&&(null!=n.width&&n.width<10||null!=n.height&&n.height<10)?"\x3c!-- small visual --\x3e":e})),null!=this.getFeedId()&&0==this.getFeedId().indexOf("feed/http://www.dailymotion.com")){const e=(0,P.Y)(/video\/([^"]*)_/i,this._cleanContent);null!=e&&(this._cleanContent="<center><iframe frameborder='0' width='480' height='270' src='http://www.dailymotion.com/embed/video/"+e+"' style='margin-bottom:34px; margin-top:34px'></iframe></center>")}if(null!=this.getFeedId()&&this.getFeedId().indexOf("venturebeat")>-1){const e=this._cleanContent.indexOf("<h6>More information");e>0&&(this._cleanContent=this._cleanContent.slice(0,e))}if(this.getFeedId()&&this.getFeedId().indexOf("design-milk")>-1){const e=this._cleanContent.indexOf('<br><br><a rel="nofollow" href="http://rc.feedsportal');e>0&&(this._cleanContent=this._cleanContent.slice(0,e))}}catch(e){console.log("failed to clean entry",this.getId(),e),this._cleanContent=this.getContent()}return this._cleanContent}getExternalImageURL(){if(1==(0,A.pB)(this))return null;const e=this.getEnclosure("image");let t=null;return null!=this.metadata.featuredVisual&&!1===(0,A.eA)(this)?t=this.metadata.featuredVisual.url:null!=this.metadata.greatThumbnail?t=this.metadata.greatThumbnail.url:null!=e&&null!=e.href&&(t=e.href),t}getExternalVisual(){if(!0===(0,A.pB)(this))return null;const e=this.getEnclosure("image");let t=null;return this.metadata.featuredVisual&&!1===(0,A.eA)(this)?t=Object.assign(this.metadata.featuredVisual):null!=this.metadata.greatThumbnail?t=Object.assign(this.metadata.greatThumbnail):null!=e&&null!=e.href&&(t=Object.assign(e,{url:e.href})),t}getSource(){if(this.jsonInfo.authorDetails)return this.jsonInfo.authorDetails.source}getEnclosures(){return(this.jsonInfo.enclosure||[]).map((e=>e.href))}_lookupEdgeCachedUrl(e){return null!=this.metadata.featuredVisual&&this.metadata.featuredVisual.url==e&&!0!==this.metadata.featuredVisual.animated?this.metadata.featuredVisual.edgeCacheUrl:null}_refineContent(){try{if(!0===this.isContentRefined)return;if(!this.jsonInfo.fullContent)return;this.isContentRefined=!0;const e=this.jsonInfo.content&&this.jsonInfo.content.content||this.jsonInfo.summary&&this.jsonInfo.summary.content||"",t=(0,x.Ai)(e).length;(0,x.Ai)(this.jsonInfo.fullContent).length<1.5*t&&(this.jsonInfo.archivedFullContent=this.jsonInfo.fullContent,this.jsonInfo.fullContent=null,this._content=null)}catch(e){console.error("[JSONEntry] failed to refine content",this.getId(),e)}}getOptimizedContent(e={}){let t=this._getCleanContent();if(t=this._getHighlightedContent(t),this.jsonInfo.entities&&e.isLeoEnabled&&"yes"===streets.service("preferences").getPreference(S.Sd)&&(t=(0,p.v)(t,this.jsonInfo.entities)),!t)return null;const{shouldLazyLoadFrames:s=!1,shouldLazyLoadImages:n=!1}=e;let i=0,r=1;return this.metadata.isNewsletter&&(r=5),t=t.replace(/<img([^>]*)>/gi,((e,t)=>{const s={src:(0,x.Y7)(t,"src"),srcset:(0,x.Y7)(t,"srcset"),width:(0,x.Y7)(t,"width"),height:(0,x.Y7)(t,"height"),class:(0,x.Y7)(t,"class")};let a="";s.class&&s.class.includes("webfeeds-")&&(a=s.class);let o=(0,x.Y7)(t,"alt");o&&o.length>0&&(s.alt=o);let l=(0,x.Y7)(t,"title");l&&l.length>0&&(s.title=l);let c=s.src;if(s.srcset){const e=(0,L.p)(s.srcset);e&&(c=e)}if(!c)return"";i+=1;let d="";null!=!s.width&&(d+=' width="'+s.width+'"'),null!=s.height&&(d+=' height="'+s.height+'"');const h="image"+i;let u=c;let p="";return s.title&&(p=' title="'+s.title+'" '),s.alt&&(p=' alt="'+s.alt+'" '),i<=r||!1===n?'<img src="'+(0,O.sA)(u)+'" data-pre-sourced="yes" data-sourced="yes" id="'+h+'" data-original="'+c+'" data-src="'+c+'" '+p+d+'" class="'+a+'">':'<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="'+(0,O.sA)(u)+'" data-original="'+c+'" '+p+d+'" class="'+a+'">'})),s&&(t=t.replace(/(<iframe.*?src=")([^"]*)("[^>]*>.*<\/iframe>)/gi,((e,t,s,n)=>t+'about:blank" data-src="'+s+n))),t}_buildProxyUrl(e){if(!e)return null;if(e.startsWith("https://blog.feedly.com"))return e;const t=parseInt(647*window.devicePixelRatio)+"x*!0.01";return"https://visuals.feedly.com/v1/resize?url="+encodeURIComponent(e)+"&sizes="+encodeURIComponent(t)}getSubtitle(){const e="webfeeds-header__subtitle",t=this.getContent(),s=t.indexOf(e),n=t.indexOf(">",s+e.length)+1,i=t.indexOf("</",n);return t.substring(n,i)}_getKicker(){const e="webfeeds-header__kicker",t=this.getContent(),s=t.indexOf(e);if(-1!==s){const n=t.indexOf(">",s+e.length)+1,i="</",r=t.indexOf(i,n);return t.substring(n,r)}return""}getContent(){return this._refineContent(),this._content||(this.metadata.isNewsletter?this._content=this.jsonInfo.content.content:this.jsonInfo.fullContent?(this._content=this.jsonInfo.fullContent,this.jsonInfo.usesFullContent=!0,this.metadata.autoExpanded=!0):this.jsonInfo.content&&this.jsonInfo.content.content&&""!==this.jsonInfo.content.content?this._content=this.jsonInfo.content.content:this.jsonInfo.summary&&this.jsonInfo.summary.content&&""!==this.jsonInfo.summary.content?this._content=this.jsonInfo.summary.content:this._content="[no content]"),this._content}isTitleRTL(){return null!=this.jsonInfo.title&&this.jsonInfo.title.indexOf("direction:rtl")>-1}isContentRTL(){return this.jsonInfo.content?"rtl"===this.jsonInfo.content.direction:!!this.jsonInfo.summary&&"rtl"===this.jsonInfo.summary.direction}_getCleanSafeSummary(){const e=400;return null==this.cleanSummary[400]&&(this.cleanSummary[400]=this.asText().slice(0,e),this.isContentRTL()&&(this.cleanSummary[400]='<div style="direction:rtl;text-align:right">'+this.cleanSummary[400]+"</div>")),this.metadata.hasCustomHeader&&(this.cleanSummary[400]=this.cleanSummary[400].replace(this.getSubtitle(),"").replace(this._getKicker(),"")),this.cleanSummary[400]}getExcerpt(){let e=this.asText();if(!e||0===e.length)return e;let t=_(e),s="";if(t)for(let n=0;n<t.length&&s.length<230;n++)s+=t[n]+" ";else s=e.slice(0,230);return s}getBestSummary(){try{const e=this.getHighlightableKeywordSnippets();return e&&e.length>0?e[0].text:this._getCleanSafeSummary()}catch(e){return $feedly("[JSONEntry] warning failed to get best summary:"+e.name+" -- "+e.message),this._getCleanSafeSummary()}}asText(){return this._asText||(this._asText=(0,x.L0)(this.getContent())||"",this._asText=this._asText.replace(this.getTitle(),"")),this._asText}listAuthors(){return this.metadata.promotedBrand?"":this.metadata.substitutedAuthor?this.metadata.substitutedAuthor:this.jsonInfo.author?(this._cleanAuthor||(this._cleanAuthor=(0,x.L0)(this.jsonInfo.author)),this._cleanAuthor):""}getFirstAuthor(){const e=this.listAuthors();return e?e.split(",")[0]:""}getFirstPublicBoardSourceInfo(){let e=null;return this.jsonInfo.sources&&(e=this.jsonInfo.sources.find((e=>"PublicBoard"===e.feedlyFeedType))),e}getWebAlertSourcesInfo(){return this.jsonInfo.sources?this.jsonInfo.sources.filter((e=>"WebAlert"===e.feedlyFeedType)):[]}getFirstAlertSourceInfo(){let e=null;return this.jsonInfo.sources&&(e=this.jsonInfo.sources.find((e=>"WebAlert"===e.feedlyFeedType))),e}listSources(){return this.jsonInfo.sources||[]}getSourceTitle(){return this.metadata.promotedBrand?this.metadata.promotedBrand:(this.metadata.googleNews||this.metadata.isTwitterFeed||this.metadata.isRedditFeed)&&this.metadata.substitutedSourceTitle?this.metadata.substitutedSourceTitle:this.metadata.isTwitterFeed&&!this.metadata.hasLinkedArticle?this.metadata.tweet.authorHandle:this.metadata.sourceTitle?this.metadata.sourceTitle:this.metadata.substitutedSourceTitle?this.metadata.substitutedSourceTitle:this.jsonInfo.origin?this.jsonInfo.origin.title:null}getSourceAlternateLink(){return null==this.jsonInfo.origin?null:this.jsonInfo.origin.htmlUrl}_getPublishedDate(){return null==this.publishedDate&&(null!=this.jsonInfo.published?this.publishedDate=(0,d.Bq)(this.jsonInfo.published):null!=this.jsonInfo.updated&&(this.publishedDate=(0,d.Bq)(this.jsonInfo.updated))),this.publishedDate}_getUpdatedDate(){return null==this.updatedDate&&(null!=this.jsonInfo.updated?this.updatedDate=(0,d.Bq)(this.jsonInfo.updated):null!=this.jsonInfo.published&&(this.updatedDate=(0,d.Bq)(this.jsonInfo.published))),this.updatedDate}getLastModifiedDate(){return this.lastModifiedDate}setActionDate(e){let t;e&&(t="number"==typeof e?(0,d.Bq)(e):e),this.actionDate=t||null}getCrawledDate(){return this.crawledDate}getAgeInDays(){let e=Math.floor(((new Date).getTime()-this.lastModifiedDate.getTime())/(0,u.z1)(1));return e<1?1:e<7?7:e<31?31:365}getDateHeading(e="crawled"){const t=`dateHeading-${e}`;if(!this[t]){let s;s="crawled"===e?this.getCrawledDate():this.actionDate||this.getCrawledDate(),(0,d.Y3)(s)?this[t]="Today":(0,d.UW)(s)?this[t]="Yesterday":(0,d.g1)(s)?this[t]=l()(s,"MMM DD"):this[t]=l()(s,"MMM DD YYYY")}return this[t]}listContentVisuals(e){if(this._extractAllVisuals(),e){const e=[];for(let t=0;t<this.contentVisuals.length;t++)this.contentVisuals[t].thumbnail||e.push(this.contentVisuals[t]);return e}return this.contentVisuals}countInlinedVisuals(){if(this._extractAllVisuals(),null!=this.getFeedId()&&this.getFeedId().indexOf(".flickr.com")>-1)return 0;let e=0;for(let t=0;t<this.contentVisuals.length;t++)1!=this.contentVisuals[t].enclosure&&1!=this.contentVisuals[t].thumbnail&&1!=this.contentVisuals[t].external&&e++;return e}includesInlinedMedia(){return this.countInlinedVisuals()>0||this.getContent().indexOf("<iframe")>-1}_listAllVisuals(){return this._extractAllVisuals(),this.allContentVisuals}getFeaturedVisual(){return this.listContentVisuals(),this.metadata.featuredVisual}_extractAllVisuals(){if(1!=this.visualsExtracted){this.allContentVisuals=this._extractVisuals(),this.contentVisuals=[],this.extractedVisuals=[];for(let e=0;e<this.allContentVisuals.length;e++){const t=this.allContentVisuals[e];0!=this._isVisualCandidate(t)&&(null!=t.width&&t.width<42||null!=t.height&&t.height<42||(1==t.featured&&(this.metadata.featuredVisual=t),this.contentVisuals.push(t),this.extractedVisuals.push(this.contentVisuals[e])))}this.metadata.embeddedVisuals=this.contentVisuals.length,this.contentVisuals.length>0&&(this.metadata.firstVisual=this.contentVisuals[0]),this.contentVisuals=this.contentVisuals.sort(((e,t)=>t.surface-e.surface)),this.visualsExtracted=!0}}mapContentVisuals(){const e={},t=this._listAllVisuals();for(let s=0;s<t.length;s++){const n=t[s];e[n.url]=n}return e}suggestVisual(){if(this.metadata.featuredVisual)return this.metadata.featuredVisual.url;const e=this.listContentVisuals();return null!=e&&e.length>0?e[0].url:null}getEnclosure(e){return 1!=this.enclosureExtracted&&(this.enclosure=this._extractEnclosure(),this.enclosureExtracted=!0),null==this.enclosure||null==this.enclosure.type||null!=e&&!this.enclosure.type.includes(e)?null:this.enclosure}getPdfLink(){if(this.jsonInfo.enclosure&&this.jsonInfo.enclosure.length){const e=this.jsonInfo.enclosure.find((e=>"application/pdf"===e.type));if(e)return e.href}}listContentLinks(){return this._embeddedLinks||(this._embeddedLinks=(0,h.D4)(this.getContent())||[]),this._embeddedLinks}isRead(){return 0==this.jsonInfo.unread}wasKeptUnread(){return!0===this.jsonInfo.keptUnread}markAsRead(){this.jsonInfo.unread=!1,delete this.jsonInfo.keptUnread}undoMarkAsRead(){this.jsonInfo.unread=!0,this.jsonInfo.keptUnread=!0}isQuicklisted(){const e=(0,f.P2)("tag","global.saved",this.metadata.userId);return this.includesTag(e)}setQuicklisted(e){const t=(0,f.P2)("tag","global.saved",this.metadata.userId);return e?this.addTag({id:t}):this.removeTag(t)}addTag(e){1!=this.includesTag(e.id)&&(null==this.jsonInfo.tags&&(this.jsonInfo.tags=[]),this.jsonInfo.tags.push(e))}removeTag(e){if(null==this.jsonInfo.tags)return!1;for(let t=0;t<this.jsonInfo.tags.length;t++)if(this.jsonInfo.tags[t].id===e)return this.jsonInfo.tags.splice(t,1),!0;return!1}includesTag(e){if(null==this.jsonInfo.tags)return!1;for(let t=0;t<this.jsonInfo.tags.length;t++)if(this.jsonInfo.tags[t].id==e)return!0;return!1}listTagLabels(){if(null==this.jsonInfo.tags)return[];const e=[];for(let t=0;t<this.jsonInfo.tags.length;t++)null!=this.jsonInfo.tags[t].label&&this.jsonInfo.tags[t].label.length>0&&-1==this.jsonInfo.tags[t].label.indexOf("global.")&&e.push(this.jsonInfo.tags[t].label);return e}listTags(e){return null==this.jsonInfo.tags?[]:(!1!==e&&(e=!0),this.jsonInfo.tags.filter((t=>{const{isFeedback:s}=(0,f.Yg)(t.id);return!(e&&t.id.includes("tag/global."))&&!s})))}listEnterpriseTags(){const{tags:e}=this.jsonInfo;return e?e.filter((({id:e})=>{const{isFeedback:t,isEnterprise:s}=(0,f.Yg)(e);return s&&!t})):[]}listPersonalTags(e=!0){const{tags:t}=this.jsonInfo;return t?t.filter((({id:t})=>{const{isFeedback:s,isUser:n}=(0,f.Yg)(t);return n&&!s&&(!e||!t.includes("tag/global."))})):[]}findTag(e){return null==this.jsonInfo.tags?[]:this.jsonInfo.tags.find((t=>t.id==e))}findTagActionTimestamp(e){let t=this.findTag(e);return t?t.actionTimestamp:null}listCollections(){return this.jsonInfo.categories}listEnterpriseCollections(){if(null==this.jsonInfo.categories)return[];const e=[];for(let t=0;t<this.jsonInfo.categories.length;t++)0==this.jsonInfo.categories[t].id.indexOf("enterprise")&&e.push(this.jsonInfo.categories[t]);return e}listPersonalCollections(){if(!this.jsonInfo.categories)return[];const e=[];for(let t=0;t<this.jsonInfo.categories.length;t++)0===this.jsonInfo.categories[t].id.indexOf("user")&&e.push(this.jsonInfo.categories[t]);return e}suggestViaFeedId(){let e=this.metadata.viaStreamId;if(e){const{isCategory:t}=(0,f.Yg)(e);t||(e=null)}if(!e&&streets.isUserAdmin()){const t=this.listEnterpriseCollections();t&&t.length>0&&(e=t[0].id)}if(!e&&streets.isUserAdmin()){const t=this.listPersonalCollections();t&&t.length>0&&(e=t[0].id)}return e}getFirstSentence(){let e=this.listSentences();return e?e[0]:null}listSentences(){return this._sentences||(this._sentences=this.asText().replace(/(\.+|\:|\!|\?)(\"*|\'*|\)*|}*|]*)(\s|\n|\r|\r\n)/g,"$1$2|").split("|")),this._sentences}getLeoSummarySentences(){return"yes"===streets.service("preferences").getPreference(S.oH)&&streets.hasProPlusAccess()&&this.jsonInfo.leoSummary}isPrioritized(){return this.jsonInfo.priorities&&this.jsonInfo.priorities.length>0}isFromWebAlertSource(){return this.metadata.isFromWebAlertSource}getPriorityLabel(){let e=this._getMonoPriorityLabel();if(!e){const t=this.getMostRelevantPriority();e=t&&(t.label||t.text)}return e}_getMonoPriorityLabel(){const e=this.getMostRelevantPriority();if(!e)return null;const t=e.searchTerms||{},s=Object.keys(t);if(1!==s.length)return null;const n=s[0];if(1!==t[n].length)return null;const i=t[n][0];return this._getEntityCauseLabel(i)||i.label||i.text||(0,I.hh)(i)}showEntityCauseLabel(){const e=this.getFirstAlertSourceInfo()||{},{searchTerms:{parts:t=[]}={}}=e;if(2===t.length){const e=t.find((e=>(0,v.ft)(e.id)));return!!this._getEntityCauseLabel(e)}return!1}_getEntityCauseLabel(e){if(e&&(0,v.ft)(e.id)){const t=this.listEntities().find((t=>t.id===e.id));if(t&&t.causes){const s=t.causes[0].label;return`${y.o0[e.id]||e.label} > ${s}`}}return null}getWebAlertLabel(e){const{searchTerms:{parts:t=[]}={}}=e;let s;if(2===t.length){const e=t.find((e=>(0,v.ft)(e.id)));s=this._getEntityCauseLabel(e)}return s||e.title}getMostRelevantPriority(){if(!this.isPrioritized())return null;const e=this.metadata.viaStreamId,t=this.jsonInfo.priorities;if(e){const s=t.find((t=>t.id===e||t.streamId===e));if(s)return s}return this.jsonInfo.priorities[0]}listBusinessEvents(){return this.jsonInfo.businessEvents?this.jsonInfo.businessEvents.slice(0):[]}getPreviewSearchTerms(){return this.jsonInfo.previewSearchTerms}getFirstSuggestedLikeBoard(){return this.getSuggestedLikeBoards()[0]||null}getSuggestedLikeBoards(){if(!this.isPrioritized())return[];const e=this.jsonInfo.priorities.reduce(((e,{searchTerms:t})=>t.likeBoards?e.concat(t.likeBoards):e),[]);return i()(e,"id")}hasSecurityPriority(){return!(!this.jsonInfo.priorities||!this.jsonInfo.priorities.some((e=>e.searchTerms.severity)))}getPrioritySeverity(){if(!this.hasSecurityPriority())return null;let e="LOW";return this.jsonInfo.priorities.forEach((t=>{t.searchTerms.severity&&T.BU.indexOf(t.searchTerms.severity)>T.BU.indexOf(e)&&(e=t.searchTerms.severity)})),e}showCVSS(e=!1){const{noiseLevel:t,category:s}=this.getEstimatedCVSS()||{},{vulnerabilityInfo:{cvssScore:n}={}}=this.listTopVulnerability()||{};return n||this.hasSecurityPriority()||"number"==typeof t&&(t<T.Og||e)&&s}listPriorities(){return this.jsonInfo.priorities||[]}getHighlightableKeywords(){return this.metadata.highlightableKeywords||[]}getHighlightableKeywordSnippets(){try{if(this._highlightableKeywordSnippets)return this._highlightableKeywordSnippets;let e=this.listSentences(),t=[],s=0,n=[];return this.metadata.highlightableKeywords&&(n=function(e,t){return e.reduce(((e,s)=>{let n=[];return t.forEach((e=>{const t=new RegExp(e,"gi");-1!==s.search(t)&&n.push(e)})),n.length&&e.push({keywords:n,sentence:s}),e}),[])}(e,this.metadata.highlightableKeywords)),n.forEach((e=>{let n=(0,x.L0)(e.sentence,!0),i=480,r=[],a=-1;if(e.keywords.forEach((e=>{let t=new RegExp("\\b"+e+"\\b","gi"),s=n.search(t);-1!==s&&(-1===a&&(a=s),r.push(e))})),0===r.length)return;let o=n;if(n.length>i){let e=0;a>240&&(e=a-240);let t=n.length;t-a>240&&(t=a+240),o=n.slice(e,t)}t.push({id:s++,text:o,keywords:r})})),this._highlightableKeywordSnippets=t,t}catch(e){return console.error(e),this._highlightableKeywordSnippets=null,[]}}lookupAnnotation(e){return this.jsonInfo.annotations.find((t=>t.id==e))}listAnnotations(){return this.jsonInfo.annotations||[]}listHighlights(){let e=this.listAnnotations(),t=[];return e.forEach((e=>{e.highlight&&t.push(e)})),t}addAnnotation(e){return null==this.jsonInfo.annotations&&(this.jsonInfo.annotations=[]),this.jsonInfo.annotations.push(e),e}updateAnnotation(e,t){const s=this.lookupAnnotation(e);if(null==s)throw new Error("Annotation not found");s.comment=t.comment,s.highlight=t.highlight,s.emailMentions=t.emailMentions,s.slackMentions=t.slackMentions}deleteAnnotation(e){for(let t=0;t<this.jsonInfo.annotations.length;t++)if(this.jsonInfo.annotations[t].id==e)return this.jsonInfo.annotations.splice(t,1),!0;return!1}lookupAnnotationReply(e,t){const s=this.lookupAnnotation(e);if(null==s)throw new Error("Annotation not found");if(null==s.replies)throw new Error("Annotation does not have replies");return s.replies.find((e=>e.id==t))}addAnnotationReply(e,t){const s=this.lookupAnnotation(e);if(null==s)throw new Error("Annotation not found");return null==s.replies&&(s.replies=[]),s.replies.push(t),!0}updateAnnotationReply(e,t,s){const n=this.lookupAnnotationReply(e,t);if(null==n)throw new Error("Reply not found");return n.comment=s.comment,!0}deleteAnnotationReply(e,t){const s=this.lookupAnnotation(e);if(null==s)throw new Error("Annotation not found");if(null==s.replies)throw new Error("Reply not found");for(let n=0;n<s.replies.length;n++)if(s.replies[n].id==t)return s.replies.splice(n,1),!0;return!1}_shouldExcludeVisual(e){if(null==e)return!0;for(let t=0;t<R.length;t++)if(e.indexOf(R[t])>-1)return!0;for(let t=0;t<z.length;t++)if(e.indexOf(z[t])>-1)return!0;return!1}_isVisualCandidate(e){if(null==e||null==e.url)return!1;if(1==e.featured)return!0;const t=e.url;for(let s=0;s<F.length;s++)if(t.indexOf(F[s])>-1)return!1;return!0}_lookupVisual(e){const t=this._listAllVisuals();for(let s=0;s<t.length;s++)if(t[s].url==e)return t[s];return null}enrichVisual(e,t,s){for(let a=0;a<F.length;a++)if(e.indexOf(F[a])>-1)return;this.metadata.sized=!0;let n=!1;const i=this._listAllVisuals();for(let a=0;a<i.length;a++)i[a].url==e&&(i[a].width=t,i[a].height=s,i[a].sized=!0,n=!0);const r=this.listContentVisuals();for(let a=0;a<r.length;a++)r[a].url==e&&(r[a].width=t,r[a].height=s,r[a].sized=!0,n=!0);0==n&&(i.unshift({url:e,width:t,height:s,external:!0}),r.unshift({url:e,width:t,height:s,external:!0}),this.metadata.embeddedVisuals=r.length,this.metadata.externalVisual={url:e,width:t,height:s})}_extractVisuals(){const e=(0,h.BB)(this.getContent()),t={};for(let a=0;a<e.length;a++)t[e[a].url]=!0;if(null!=this.jsonInfo.thumbnail&&this.jsonInfo.thumbnail.length>0){const s=this.jsonInfo.thumbnail.sort(((e,t)=>(t.width||0)-(e.width||0)));for(let n=0;n<s.length;n++)null!=this.getFeedId()&&this.getFeedId().toLowerCase().indexOf("techcrunch")>-1||null!=this.getFeedId()&&this.getFeedId().toLowerCase().indexOf("ommalik")>-1?(s[n].url=s[n].url.split("?")[0],this.metadata.greatThumbnail={url:s[n].url},s[n].great=!0,s[n].thumbnail=!0,null==t[s[n].url]&&e.unshift(s[n])):s[n].url.indexOf("blogspot")>-1?(s[n].url=s[n].url.replace(/(.*)\/s[0-9]+(\-c)*.*/gi,((e,t)=>null!=e&&null!=t?(this.metadata.greatThumbnail={url:t+"/"},t+"/"):this.jsonInfo.thumbnail[n].url)),s[n].great=!0,s[n].thumbnail=!0,delete s[n].width,delete s[n].height,null==t[s[n].url]&&e.unshift(s[n])):null!=s[n].width&&parseInt(s[n].width)>400&&(s[n].thumbnail=!0,s[n].great=!0,null==t[s[n].url]&&e.unshift(s[n]))}const s=this.getEnclosure("image");null!=s&&null!=s.href&&null==t[s.href]&&(-1==s.href.indexOf("flickr.com")?e.unshift({url:s.href,width:s.width,height:s.height,enclosure:!0,featured:s.featured}):e.push({url:s.href,width:s.width,height:s.height,enclosure:!0,featured:s.featured}));const n=function(e,t){try{const s=/youtube\.com\/embed\/([A-Za-z0-9\-_]+)/gi;let n=e||(0,P.Y)(s,t);if(n)return{url:"http://img.youtube.com/vi/"+n+"/0.jpg",videoId:"youtube:"+n,width:480,height:360}}catch(s){$feedly("[video utils] YT Extraction failed:"+s.name+" -- "+s.message)}return null}(this.metadata.youtube,this.getContent());null!=n&&e.push(n);const i=[],r={};for(let a of e)if(0===a.url.indexOf("http://www.yatzer.com/")&&a.url.indexOf("thumb.jpg")>-1?(a.width=640,a.height=396):0===a.url.indexOf("http://images.veerle.duoh.com")?i.push({url:a.url.replace(".jpg","-big.jpg")}):a.url.indexOf("jpeg_preview_medium.jpg")>-1&&(a.url=a.url.replace(new RegExp("jpeg_preview_medium.jpg","gi"),"jpeg_preview_large.jpg"),a.width=424,a.height=240),a.surface=a.width?a.width*(a.height||100):a.great?1e5:0,null!=r[a.url]){const e=r[a.url];null==e.width&&(e.width=a.width),null==e.height&&(e.height=a.height),null!=a.width&&null!=e.width&&(e.width=Math.max(a.width,e.width)),null!=a.height&&null!=e.height&&(e.height=Math.max(a.height,e.height))}else i.push(a),r[a.url]=a;for(let a=0;a<i.length;a++)null!=i[a].url&&(i[a].proxy=this._buildProxyUrl(i[a].url));return i}_extractEnclosure(){if(this.jsonInfo.enclosure&&this.jsonInfo.enclosure.length>0){const e=this.jsonInfo.enclosure.sort(((e,t)=>(t.width||0)-(e.width||0)+(!0===t.featured?1e3:0)-(!0===e.featured?1e3:0)));return e[0].type||!0!==e[0].featured||(e[0].type="image"),e[0]}return null}getDefaultTagOrCategory(){if(null!=this.jsonInfo.tags)for(let e=0;e<this.jsonInfo.tags.length;e++)if(this.jsonInfo.tags[e].label&&-1==this.jsonInfo.tags[e].label.indexOf("global."))return"#"+this.jsonInfo.tags[e].label.replace(" ","","gi").toLowerCase();if(null!=this.jsonInfo.categories)for(let e=0;e<this.jsonInfo.categories.length;e++)if(this.jsonInfo.categories[e].label&&-1==this.jsonInfo.categories[e].label.indexOf("global."))return"#"+this.jsonInfo.categories[e].label.replace(" ","","gi").toLowerCase();return null}_findHighlightableKeywords(e,t=[]){return e.reduce(((e,s)=>{if(s.searchTerms&&s.searchTerms.parts){const n=this.findRelevantCausedEntities(s);if(n.length)return n.forEach((t=>{t.causes.forEach((t=>e.push(t.label)))})),e;s.searchTerms.parts.forEach((s=>{const n=t.find((e=>e.id===s.id));if(n&&n.mentions&&n.mentions.length)e.push(...n.mentions.map((e=>e.text)));else{const t=s.label||s.text;t&&e.push(t)}}))}return e}),[])}_setLinkedArticleAsContent(){const e=this.jsonInfo.linked&&this.jsonInfo.linked[0];if(!e)return;const{author:t,title:s,visual:n}=e;s&&(this.metadata.substitutedTitle=s),n&&(this.jsonInfo.visual=n),e.content&&e.content.content&&(this.jsonInfo.fullContent=e.content.content),e.canonical&&e.canonical.length>0&&e.canonical[0].href&&(this.metadata.substitutedAlternateLink=e.canonical[0].href),e.origin&&e.origin.title&&(this.metadata.substitutedSourceTitle=e.origin.title),this.metadata.substitutedAuthor=t?(0,x.L0)(t):""}}var Z=s(3e3),W=s(86130),$=s(68681),q=s(48942);function V(e){let t=0;for(const s in e)null!=e[s]&&t++;return t}var G=s(18514),Q=s(61861),K=s(83168),J=s(855),X=s(24916),ee=s(79442);let te=null,se=0,ne=0;var ie=s(68906),re=s.n(ie);class ae extends K.y{constructor(e,t){super(),this._checkForNewerEntries=async()=>{if(!this.reader)return;const e=this.state.version,{entries:t}=await this.reader.askMoreEntries(this.streamId,{unreadOnly:!0,r:"n",newerThan:this._updateIfNewerThan+1,importantOnly:this._importantOnly,searchTerm:this._searchTerm,searchRanked:this._searchRanked,searchFields:this._searchFields,searchEmbedded:this._searchEmbedded,searchLocale:this._searchLocale,searchTime:this._searchTime,searchEngagement:this._searchEngagement},1,null);null!=this.state&&(this.state.version===e?t&&t.length>0?(this.state.hasNewerEntries=!0,this.fire("onStreamHasNewerEntries",this.streamId),this._clearNewerEntriesTimeout()):this._checkForNewerEntriesTimeout=window.setTimeout(this._checkForNewerEntries,6e4):console.log("[stream] cancelled because of version number",e,this.state))},this.streamId=e;const{isTag:s,isCategory:n,isFeed:i}=(0,f.Yg)(e);this._isTag=s,this._isCategory=n,this._isFeed=i,this._continuation=null,this.setBatchSize(t.batchSize),this.setImportantOnly(t.importantOnly),this.setSort(t.sort),this.setUnfilteredOnly(t.unfilteredOnly),this.setUnreadOnly(t.unreadOnly),this.setShowMuted(t.showMuted),this.setFeatured(t.featured),this.setNewerThan(t.newerThan),this.setShouldCheckForNewerEntries(t.shouldCheckForNewerEntries),this.setSearchTerm(t.searchTerm),this.setSearchRanked(t.searchRanked),this.setSearchFields(t.searchFields),this.setSearchEmbedded(t.searchEmbedded),this.setSearchLocale(t.searchLocale),this.setSearchTime(t.searchTime),this.setSearchEngagement(t.searchEngagement),this.setIgnoreRemovedTags(t.ignoreRemovedTags),this.setTrickle(t.trickle),this._deduplicationIndex={},this._relatedEntriesIndex={},this._featuredEntriesIndex={},this.state={streamId:e,query:t,info:null,featuredEntries:null,isLoadingFeaturedEntries:!1,entries:null,hasAllEntries:!1,isLoadingEntries:!1,isLoadingMetadata:!1,isEmpty:null,error:null,hasNewerEntries:!1,version:0,modificationCount:0}}setReader(e){this.reader=e,this.reader.registerObserver(this)}setPreferences(e){this.preferences=e}setMetadataService(e){e.askMetadata||console&&console.warn(`[Stream] Unable to fetch metadata for '${this.streamId}', because \`setMetadataService\` requires a service with an \`askMetadata\` method.`),this.metadataService=e}setPersonalcollections(e){this.personalcollections=e,this.personalcollections.registerObserver(this)}setEnterprisecollections(e){this.enterprisecollections=e,this.enterprisecollections.registerObserver(this)}setEnterprisetags(e){this.enterprisetags=e,this.enterprisetags.registerObserver(this)}setPersonaltags(e){this.personaltags=e,this.personaltags.registerObserver(this)}load(){this._initializeState()}unload(){this.reader.unregisterObserver(this),this.enterprisecollections.unregisterObserver(this),this.enterprisetags.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.personaltags.unregisterObserver(this),this._clearNewerEntriesTimeout(),this.metadataService=null,this.streamId=null,this.state=null,this.reader=null,this.preferences=null}refresh(){this.cache={}}getState(){return{...this.state}}setBatchSize(e){this._batchSize=e,null===this._batchSize&&(this._batchSize=40)}isImportantOnly(){return this._importantOnly}setImportantOnly(e){this._importantOnly=e}setTrickle(e){this._trickle=e}setSearchTerm(e){this._searchTerm=e}setSearchEngagement(e){this._searchEngagement=e}setSearchRanked(e){this._searchRanked=e}setSearchFields(e){this._searchFields=e}setSearchEmbedded(e){this._searchEmbedded=e}setSearchLocale(e){this._searchLocale=e}setSearchTime(e){this._searchTime=e}setNewerThan(e){this._newerThan=e}setSort(e){this._sort=e||"newest"}setIgnoreRemovedTags(e){this._ignoreRemovedTags=e||this.streamId.indexOf("tag/global.saved")>-1}setUnfilteredOnly(e){void 0!==e?this._unfilteredOnly=!!e:void 0===this._unfilteredOnly&&(this._unfilteredOnly=!0)}setShouldCheckForNewerEntries(e){this._shouldCheckForNewerEntries=!!e}setUnreadOnly(e){this._unreadOnly=e,null===this._unreadOnly&&(this._unreadOnly=!1)}isUnreadOnly(){return this._unreadOnly}setShowMuted(e){this._showMuted=e}setFeatured(e){this._featured=e||0}async askUpdateQuery(e){return this.state.query=e,this.state.version++,this.state.featuredEntries=null,this.state.isLoadingFeaturedEntries=!1,this.state.entries=null,this.state.hasAllEntries=!1,this.state.isLoadingEntries=!1,this.state.isEmpty=null,this.state.error=null,this.state.hasNewerEntries=!1,this._continuation=null,this._deduplicationIndex={},this._relatedEntriesIndex={},this._featuredEntriesIndex={},this._trickle=null,e.sort&&this.setSort(e.sort),null!=e.batchSize&&this.setBatchSize(e.batchSize),"boolean"==typeof e.importantOnly&&this.setImportantOnly(e.importantOnly),this.setShouldCheckForNewerEntries(e.shouldCheckForNewerEntries),this._clearNewerEntriesTimeout(),this.setSearchEngagement(e.searchEngagement),this.setSearchEmbedded(e.searchEmbedded),this.setSearchFields(e.searchFields),this.setSearchLocale(e.searchLocale),this.setSearchRanked(e.searchRanked),this.setSearchTerm(e.searchTerm),this.setSearchTime(e.searchTime),this.setFeatured(e.featured),this.setNewerThan(e.newerThan),this.setUnfilteredOnly(e.unfilteredOnly),this.setUnreadOnly(e.unreadOnly),this.setShowMuted(e.showMuted),this.setTrickle(e.trickle),this.fire("onStreamStateChanged"),this.askMoreEntries()}async askMoreEntries(){return this._askMoreEntries()}_clearNewerEntriesTimeout(){this._checkForNewerEntriesTimeout&&(window.clearTimeout(this._checkForNewerEntriesTimeout),this._checkForNewerEntriesTimeout=null),this._updateIfNewerThan=null}_initializeState(){this._askMetadata(),this._askMoreEntries()}async _askMetadata(){if(!this.metadataService)return this._updateState("info",null),void this._updateState("isLoadingMetadata",!1);try{this._updateState("isLoadingMetadata",!0);const{isFavorites:e,isFeed:t,isTag:s}=(0,f.Yg)(this.streamId);let n=await this.metadataService.askMetadata(this.streamId);if(!n&&e&&(n=await this.metadataService.askFavoritesCollection(this.streamId)),!this.streamId)return;if(!n||n.id!==this.streamId){let e;throw e=t?"source":s?"board":"feed",`${e} not found`}this._updateState("info",n),this._updateState("isLoadingMetadata",!1)}catch(e){this._handleError(e)}}async _askMoreEntries(){if(!this.state||this.state.hasAllEntries||this.state.isLoadingEntries||this.state.isLoadingFeaturedEntries)return;if(this._featured&&this._featured>0&&!this.state.featuredEntries)return this._askFeaturedEntries();if(0===this._batchSize)return this._updateState("hasAllEntries",!0,!0),void this._updateState("entries",[]);let e=this.state.version;this.state.isLoadingEntries=!0,this.fire("onStreamIsLoadingEntries",this.streamId);try{let{entries:t,continuation:s}=await this.reader.askMoreEntries(this.streamId,{unreadOnly:this._unreadOnly,showMuted:this._showMuted,r:"oldest"===this._sort?"o":"n",newerThan:this._newerThan,importantOnly:this._importantOnly,searchTerm:this._searchTerm,searchRanked:this._searchRanked,searchFields:this._searchFields,searchEmbedded:this._searchEmbedded,searchLocale:this._searchLocale,searchTime:this._searchTime,searchEngagement:this._searchEngagement},this._batchSize,this._continuation);if(null==this.state)return;if(this.state.version!==e)return void $feedly("[stream] cancelled because of version number",e,this.state);t=this._filterServerDuplicateBug(t,this.state.entries||[]),this._shouldCheckForNewerEntries&&!this._updateIfNewerThan&&t&&t.length>0&&(this._updateIfNewerThan=t[0].getCrawlTime());let n=this._filterDuplicates(t);if(n.length<t.length&&this.fire("onDuplicatesRemoved",t.length-n.length),this._featured&&this._featured>0&&(n=n.filter((e=>!this._featuredEntriesIndex[e.getId()]))),n=this._removeRelatedEntries(n),!isNaN(this._trickle)&&this._trickle>0&&n.length>0)await this._trickleNewEntries(n);else{let e=this.state.entries||[];this._updateState("entries",e.concat(n),!0)}this._continuation=s,this.state.hasAllEntries||void 0!==s||this._updateState("hasAllEntries",!0,!0),this._updateIsEmpty(),this._updateState("isLoadingEntries",!1),!this._shouldCheckForNewerEntries||this._checkForNewerEntriesTimeout||this.state.hasNewerEntries||(this._checkForNewerEntriesTimeout=window.setTimeout(this._checkForNewerEntries,6e4))}catch(t){this._handleError(t)}}async _trickleNewEntries(e){return new Promise((async t=>{const s=re()(e,this._trickle);for(const e of s)await this._addEntriesOnIdle(e);t()}))}async _addEntriesOnIdle(e){return new Promise((t=>{streets.requestIdleCallback((()=>{let s=this.state&&this.state.entries||[];this._updateState("entries",s.concat(e),!1),t()}))}))}async _askFeaturedEntries(){let e=this.state.version;this._updateState("isLoadingFeaturedEntries",!0);let t=await this.reader.askMagicEntries(this.streamId,this._featured,{unreadOnly:this._unreadOnly,newerThan:this._newerThan,r:this._sort});if(null==this.state)return void $feedly("[stream] cancelled because unloaded");if(this.state.version!==e)return void $feedly("[stream] cancelled because of version number",e,this.state);if(t=this._filterServerDuplicateBug(t,[]),this._batchSize>0){let e=0;t.forEach((t=>{e=Math.max(e,t.getEngagement())})),e<10&&(t=[])}let s=this._filterDuplicates(t||[]);return s.length<t.length&&this.fire("onDuplicatesRemoved",t.length-s.length),s=this._removeRelatedEntries(s),this._featuredEntriesIndex={},s.forEach((e=>{this._featuredEntriesIndex[e.getId()]="featured"})),this._updateState("featuredEntries",s,!0),this._updateIsEmpty(),this._updateState("isLoadingFeaturedEntries",!1),this._askMoreEntries()}_filterServerDuplicateBug(e,t=[]){if(!e)return[];let s=i()(e,(e=>e.getId())).filter((e=>!t.some((t=>t.getId()===e.getId()))));return s.length!==e.length&&console.log("[warning] fixed server duplicate bug",e.length,s.length),s}_filterDuplicates(e){if(this._isTag)return e;if(!e)return[];if("yes"!==this.preferences.getPreference(S.yq)||this._showMuted)return e;const t=this._deduplicationIndex,s=this.isUnreadOnly();return e.filter((e=>{let n=e.listDuplicates().some((e=>!!t[e.entryId])),i=s&&e.listDuplicates().some((e=>!e.unread)),r=n||i;return r||(t[e.getId()]=!0),i&&this.reader.askMarkEntriesAsRead([e.getId()],{forceFlush:!1}),!r}))}_removeRelatedEntries(e){return this._isTag?e:(this._relatedEntriesIndex||(this._relatedEntriesIndex={}),e.filter((e=>{const t=e.getId();let s=!1;if(!this._relatedEntriesIndex[t]){this._relatedEntriesIndex[t]=!0,e.listRelatedEntries().forEach((e=>{this._relatedEntriesIndex[e.entryId]=!0})),s=!0}return s})))}_handleError(e){let t=e.message||e;e instanceof $.o&&(t=400===e.errorCode?e.errorMessage:e.debugMessage),this._updateState("error",t)}_updateIsEmpty({entries:e=this.state.entries,featuredEntries:t=this.state.featuredEntries}={}){const{query:s}=this.state;if(!s)return void(this.state.isEmpty=!1);const n=!!t&&0===t.length,i=!!e&&0===e.length;this.state.isEmpty=(0===s.featured||n)&&(0===s.batchSize||i)}_updateState(e,t,s){this.state&&(this.state[e]=t,!0!==s&&this.fire("onStreamStateChanged",this.streamId))}onCollectionChanged(e){e===this.streamId&&this._askMetadata()}onEntryBuried(e){if(this.state.entries)for(let t=0;t<this.state.entries.length;t++)if(this.state.entries[t].getId()===e){this.state.entries.splice(t,1),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("entries",this.state.entries.slice(0));break}if(this.state.featuredEntries)for(let t=0;t<this.state.featuredEntries.length;t++)if(this.state.featuredEntries[t].getId()===e){this.state.featuredEntries.splice(t,1),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("featuredEntries",this.state.featuredEntries.slice(0));break}}onNewStreamContentDetected(e){e===this.streamId&&(this.state.hasNewerEntries=!0,this.fire("onStreamHasNewerEntries",this.streamId),this._clearNewerEntriesTimeout())}onEntryTagged(e,t){this._handleEntryTagsChanged(e,t)}onEntryUntagged(e,t){this._handleEntryTagsChanged(e,t)}async _handleEntryTagsChanged(e,t){const{isEnterprise:s,isTag:n,isGlobal:i}=(0,f.Yg)(this.streamId),{isEnterprise:r}=(0,f.Yg)(t);if(t===this.streamId||i&&n&&s===r){if(this.state.entries){const t=this.state.entries.slice(0);let n=t.find((t=>t.getId()==e));const r=!n,a=n&&!i&&!n.includesTag(this.streamId)||n&&i&&(s&&0===n.listEnterpriseTags().length||!s&&0===n.listPersonalTags().length);if(r){const s=await this.reader.askLookupEntry(e);s.includesTag(this.streamId)&&(t.unshift(s),this._updateIsEmpty({entries:t}),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("entries",t))}else if(a&&!1===this._ignoreRemovedTags)for(let s=0;s<t.length;s++)if(t[s].getId()===e){t.splice(s,1),this._updateIsEmpty({entries:t}),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("entries",t);break}}if(this.state.featuredEntries){const t=this.state.featuredEntries.slice(0);let n=t.find((t=>t.getId()==e));const r=!n,a=n&&!i&&!n.includesTag(this.streamId)||n&&i&&(s&&0===n.listPersonalTags().length||!s&&0===n.listEnterpriseTags().length);if(r){let s=this.reader.lookupEntry(e);s.includesTag(this.streamId)&&(t.unshift(s),this._updateIsEmpty({featuredEntries:t}),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("featuredEntries",t))}else if(a&&!1===this._ignoreRemovedTags)for(let s=0;s<t.length;s++)if(t[s].getId()===e){t.splice(s,1),this._updateIsEmpty({featuredEntries:t}),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("featuredEntries",t);break}}}}onTagChanged(e){this.streamId&&this.streamId===e&&this._askMetadata()}onFeedChanged(e){e===this.streamId&&this._askMetadata()}}const oe=ae,le=Object.freeze({service:"Reader",askListUnreadCounts:"askListUnreadCounts"});class ce extends K.y{constructor(...e){super(...e),this.cache={},this.entries={},this.urls={},this.unreadCountsTimer=null,this.markAsReadQueue=[],this.flushTimer=null,this._lastRefreshUnreadCountsIfOnline=(new Date).getTime(),this.undoLastMarkAsReadRequest=null}setEnterprisecollections(e){this.enterprisecollections=e,this.enterprisecollections.registerObserver(this)}setEnterprise(e){this.enterprise=e,this.enterprise.registerObserver(this)}setEnterprisetags(e){this.enterprisetags=e,this.enterprisetags.registerObserver(this)}setPersonalcollections(e){this.personalcollections=e,this.personalcollections.registerObserver(this)}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}setNet(e){this.net=e}setProfile(e){this.profile=e}setPersonalfilters(e){this.personalfilters=e}setEnterprisefilters(e){this.enterprisefilters=e}setPersonaltags(e){this.personaltags=e}setPriorities(e){this.priorities=e}setEnterprisepriorities(e){this.enterprisepriorities=e,this.enterprisepriorities.registerObserver(this)}setPersonalpriorities(e){this.personalpriorities=e,this.personalpriorities.registerObserver(this)}setCollections(e){this.collections=e}setTags(e){this.tags=e}setFeeds(e){this.feeds=e}setMicrosessions(e){this.microsessions=e}load(){this._resetVariables()}async askRefresh(){await this.askCompact(),await this._askProcessPendingMarkAsRead(),await this.askRefreshUnreadCounts()}uninitialize(){this._askFlushMarkAsReads(),null!=this.unreadCountsTimer&&(window.clearInterval(this.unreadCountsTimer),this.unreadCountsTimer=null),this.preferences.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.enterprise.unregisterObserver(this),this.enterprisepriorities.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.uninitialized=!0}unload(){this.preferences=null,this.net=null,this.entries=null,this.urls=null,this.enterprise=null,this.profile=null,this.personaltags=null,this.enterprise=null,this.priorities=null,this.collections=null,this.cache=null,this.tags=null,this.feeds=null,this.microsessions=null}async onUserIdentified(){this._resetVariables(),await this._askProcessPendingMarkAsRead()}onNoUserIdentified(){this._resetVariables()}async onTagsChanged(){await this.askRefreshUnreadCounts()}onPreferenceChanged(e,t,s){if(s)if("entryNavigation"===e){const e=s.slice("subscription/".length);this._listCachedFeedEntries(e).forEach((e=>{e.setNavigation(t)}))}else{{const e=s.slice("subscription/".length);this._listCachedFeedEntries(e).forEach((e=>{e.metadata.u=parseInt(t)}))}}}async onPriorityChanged(e,t){const s=await this.priorities.askMetadata(t||e);s&&s.label&&Object.keys(this.entries).forEach((e=>{this.lookupEntry(e).setPriorityLabel(s)&&this.fire("onEntryPriorityChanged",e)}))}_resetVariables(){this.cache={},this.entries={},this.urls={},this.unreadCountsTimer&&(window.clearTimeout(this.unreadCountsTimer),this.unreadCountsTimer=null)}getMBean(){const e={backend:"feedly cloud",version:"31.0.1284"};return e.userId=streets.getUserId()||"none",e.session=W.Z.utils.SessionUtils.load(),e.cached=V(this.entries)+" entries",e.urls=V(this.urls)+" urls",e.plan=this.home.getPlan(),e.profile=this.profile.getUserInfo(),e.session=W.Z.utils.SessionUtils.load(),e}onBeforePageLoad(e,t){this._askFlushMarkAsReads(),!e||!t||e.startsWith("library")&&t.startsWith("library")||(this.entries={})}isReady(){return!0}async askReady(){return!0}async _askFlushMarkAsReads(){if(!streets.getUserId())return;if(0===this.markAsReadQueue.length)return;let e={action:"markAsRead",type:"entries",entryIds:[],readTimes:[]};for(let t=0;t<this.markAsReadQueue.length;t++){e.entryIds.push(this.markAsReadQueue[t]);const s=this.lookupEntry(this.markAsReadQueue[t]);e.readTimes.push(s&&s.readTime?s.readTime:0)}return this.flushTimer&&(window.clearTimeout(this.flushTimer),this.flushTimer=null),this.markAsReadQueue=[],this.net.POST("!{cloud}/v3/markers",e)}async _askQueueMarkAsReads(e,t){if(e&&0!==e.length){for(let t=0;t<e.length;t++)this.markAsReadQueue.push(e[t]);this.flushTimer&&(window.clearTimeout(this.flushTimer),this.flushTimer=null),t||this.markAsReadQueue.length>20?await this._askFlushMarkAsReads():this.flushTimer=window.setTimeout((()=>{this.markAsReadQueue.length>0&&this._askFlushMarkAsReads(),this.flushTimer=null}),1500)}}async askSaveEntryFeedback(e,t){const{description:s,reason:n,type:i}=t;if(!e||!n||!i)throw new Error("Missing required property `entryId`, `categoryId`, `reason`, or `type`.");this.microsessions.setEntryAsLessLikeThis(e,t.reason);const r=this.lookupEntry(e);r&&r.setFeedback({description:s,reason:n}),this.fire("onEntryFeedbackChanged",e),await this.net.POST(`!{cloud}/v3/entries/feedback/${encodeURIComponent(e)}`,t)}async askDeleteEntryFeedback(e){if(!e)throw new Error("[askDeleteEntryFeedback] Missing required property `entryId`.");this.lookupEntry(e).deleteFeedback(),this.fire("onEntryFeedbackChanged",e),this.microsessions.clearEntryLessLikeThis(e),await this.net.DEL(`!{cloud}/v3/entries/feedback/${encodeURIComponent(e)}`)}async askTagEntry(e,t){const s=this.lookupEntry(e);if(null==s)throw new Error("Entry not found");const n=Object.assign(t,{});n.addedBy=streets.getUserId(),n.addedByUser=this.profile.getUserInfo(),n.actionTimestamp=(new Date).getTime(),s.addTag(n),this.fire("onEntryTagged",e,t.id),this.fire("onEntryTagsChanged",e);try{await this._tagEntry(s,t.id)}catch(i){let n=i.message;throw i instanceof $.o&&409===i.errorCode&&(n="A duplicate of this article is already saved in this board"),s.removeTag(t.id),this.fire("onEntryUntagged",e,t.id),this.fire("onEntryTagsChanged",e),new Error(n)}this.fire("onNewTagDiscovered",e)}async askUntagEntry(e,t){const s=this.lookupEntry(e);if(null==s)throw new Error("Entry not found");if(!s.includesTag(t.id))throw new Error("Entry does not have this tag");s.removeTag(t.id),this.fire("onEntryUntagged",e,t.id),this.fire("onEntryTagsChanged",e);try{await this._untagEntry(s,t.id)}catch(n){throw s.addTag(t),this.fire("onEntryTagged",e,t.id),this.fire("onEntryTagsChanged",e),n}}async _tagEntry(e,t){if(null!=this.home.getUserId())return this.microsessions.setEntryAsSaved(e.getId(),t),this.net.PUT("!{cloud}/v3/tags/"+encodeURIComponent(t),{entryId:e.getId()})}async _untagEntry(e,t){return this.microsessions.clearEntrySaved(e.getId(),t),this.net.DEL("!{cloud}/v3/tags/"+encodeURIComponent(t)+"/"+encodeURIComponent(e.getId()))}async askToggleEntryRead(e){const t=this.lookupEntry(e);if(t)return t.isRead()?this.askKeepEntryAsUnread(e):this.askMarkEntryAsRead(e)}async askToggleEntryQuicklisted(e){return!0===this.lookupEntry(e).isQuicklisted()?this._removeEntryFromQuicklist(e):this._addEntryToQuicklist(e)}async _addEntryToQuicklist(e){const t=this.lookupEntry(e);if(1==t.isQuicklisted())return;const s=this._formatTagId("global.saved");await this._tagEntry(t,s),t.setQuicklisted(!0),this.fire("onEntryQuicklistStatusChanged",e,!0),this.fire("onEntryTagged",e,s),this.fire("onEntryTagsChanged",e),(0,X.x)(t)}async _removeEntryFromQuicklist(e){const t=this.lookupEntry(e);if(0==t.isQuicklisted())return;const s=this._formatTagId("global.saved");await this._untagEntry(t,s),t.setQuicklisted(!1),this.fire("onEntryQuicklistStatusChanged",e,!1),this.fire("onEntryUntagged",e,s),this.fire("onEntryTagsChanged",e)}_formatTagId(e){return(0,f.P2)("tag",e,this.home.getUserId())}async askCompact(){try{await this._askFlushMarkAsReads(),this.entries={},this.urls={},this.fire("onReaderCompacted")}catch(e){console.error("[reader] compaction failed",e),this.fire("onReaderCompacted")}}askReset(){this.entries={},this.urls={}}lookupStream(e,t){const s=new oe(e,t);if(s.setEnterprisecollections(this.enterprisecollections),s.setEnterprisetags(this.enterprisetags),s.setPersonalcollections(this.personalcollections),s.setPersonaltags(this.personaltags),s.setPreferences(this.preferences),s.setReader(this),!streets.hasBusinessAccess()||e!==(0,f.xW)()&&e!==(0,f.GJ)()){let t;const{isCategory:n,isEnterprise:i,isFeed:r,isFilter:a,isGlobalEnterprise:o,isPriority:l,isTag:c}=(0,f.Yg)(e);r?t=this.feeds:a?t=i?this.enterprisefilters:this.personalfilters:l?t=this.priorities:n?t=i||o?this.enterprisecollections:this.personalcollections:c&&(t=i||o?this.enterprisetags:this.personaltags),t&&s.setMetadataService(t)}return s.load(),s}releaseStream(e){e&&e.unload()}async askAddAnnotation(e,t){const s={comment:t.comment,entryId:e,highlight:t.highlight,emailMentions:t.emailMentions,slackMentions:t.slackMentions};return this.net.POST("!{cloud}/v3/annotations",s).then(JSON.parse).then((t=>{if(!t)throw new Error("failed to save annotation");return t.authorUser=this.profile.getUserInfo(),this.lookupEntry(e).addAnnotation(t),this.fire("onEntryAnnotationsChanged",e),t}))}async askUpdateAnnotation(e,t,s){const n={comment:s.comment,highlight:s.highlight,emailMentions:s.emailMentions,slackMentions:s.slackMentions};return this.net.PUT(`!{cloud}/v3/annotations/${encodeURIComponent(t)}`,n).then((()=>{let n=this.lookupEntry(e);return n.updateAnnotation(t,s),this.fire("onEntryAnnotationsChanged",e),n.lookupAnnotation(t)}))}async askSnapshotAnnotation(e){return this.net.POST("!{cloud}/v3/annotations/snapshot",{annotationId:e}).then(JSON.parse)}async askDeleteAnnotation(e,t){return this.net.DEL(`!{cloud}/v3/annotations/${encodeURIComponent(t)}`).then((()=>{this.lookupEntry(e).deleteAnnotation(t),this.fire("onEntryAnnotationsChanged",e)}))}async askAddAnnotationReply(e,t,s){const n={comment:s.comment,inReplyTo:s.inReplyTo};return this.net.PUT(`!{cloud}/v3/annotations/${encodeURIComponent(t)}/replies`,n).then(JSON.parse).then((s=>(this.lookupEntry(e).addAnnotationReply(t,s),this.fire("onEntryAnnotationsChanged",e),s)))}async askUpdateAnnotationReply(e,t,s,n){const i={comment:n.comment};return this.net.PUT(`!{cloud}/v3/annotations/${encodeURIComponent(t)}/replies/${encodeURIComponent(s)}`,i).then((()=>{let i=this.lookupEntry(e);return i.updateAnnotationReply(t,s,n),this.fire("onEntryAnnotationsChanged",e),i.lookupAnnotationReply(t,s)}))}async askDeleteAnnotationReply(e,t,s){return this.net.DEL(`!{cloud}/v3/annotations/${encodeURIComponent(t)}/replies/${encodeURIComponent(s)}`).then((()=>{this.lookupEntry(e).deleteAnnotationReply(t,s),this.fire("onEntryAnnotationsChanged",e)}))}__testAnnotations(e){let t,s,n=this.lookupEntry(e);this.askAddAnnotation(e,{comment:"Hello World Annotation"}).then((s=>($feedly("[reader][annotation][test #1] Add annotation:"+JSON.stringify(n.listAnnotations())),t=s,this.askUpdateAnnotation(e,s.id,{comment:"Hello World Again!"})))).then((t=>($feedly("[reader][annotation][test #2] Update annotation:"+JSON.stringify(n.listAnnotations())),this.askAddAnnotationReply(e,t.id,{comment:"Bonjour Monsieur",inReplyTo:t.id})))).then((i=>($feedly("[reader][annotation][test #3] Reply to annotation:"+JSON.stringify(n.listAnnotations())),s=i,this.askUpdateAnnotationReply(e,t.id,i.id,{comment:"Content de vous voir"})))).then((()=>($feedly("[reader][annotation][test #4] Update reply:"+JSON.stringify(n.listAnnotations())),this.askDeleteAnnotationReply(e,t.id,s.id)))).then((()=>($feedly("[reader][annotation][test #5] Delete reply:"+JSON.stringify(n.listAnnotations())),this.askDeleteAnnotation(e,t.id)))).then((()=>{$feedly("[reader][annotation][test #6] Delete annotation:"+JSON.stringify(n.listAnnotations()))}))}async askRefreshUnreadCountsIfOnline({forceRefresh:e=!1}={}){!e&&(new Date).getTime()-this._lastRefreshUnreadCountsIfOnline<(0,u.DZ)(5)||await streets.askCheckIsOnline()&&(this._lastRefreshUnreadCountsIfOnline=(new Date).getTime(),await this.askRefreshUnreadCounts())}async askRefreshUnreadCounts(){return this.askListUnreadCounts({forceRefresh:!0,fireNewStreamContentDetected:!0})}async askListUnreadCounts({forceRefresh:e=!1,cachedUnreadCountsOnly:t=!1,fireNewStreamContentDetected:s=!1}={}){let n=(0,Q.Z)(le.service,le.askListUnreadCounts);return this.cache?streets.getUserId()?t||this.cache.unreadCounts&&!e?this.cache.unreadCounts:n||(n=this.net.GET("!{cloud}/v3/markers/counts").then(JSON.parse).then((e=>{const{updatedStreamIds:t,addedStreamIds:n,removedStreamIds:i}=this._detectUnreadCountChanges(this.cache.unreadCounts,e&&e.unreadcounts);return this.cache.unreadCounts=e&&e.unreadcounts,t.forEach((e=>{s&&this.fire("onNewStreamContentDetected",e,this.getStreamUnreadCount(e)),this.fire("onStreamUnreadCountChanged",e,this.getStreamUnreadCount(e))})),(n.length>0||i.length>0)&&this.fire("onStreamsChanged",n,i),this.cache.unreadCounts})),(0,Q.Z)(le.service,le.askListUnreadCounts,n),n):(this.cache.unreadCounts=null,[]):[]}async askUnreadCountsIndex(e){return(await this.askListUnreadCounts(e)||[]).reduce(((e,{id:t,count:s})=>(e[t]=s,e)),{})}async askMarkEntryAsRead(e,t){return this.askMarkEntriesAsRead([e],{...t,forceFlush:!1})}async askMarkEntriesAsRead(e,t={}){let s=[];const{buried:n,isPriorityTabMarkAsRead:i,skipIsReadCheck:r=!1,skipKeptUnread:a,updateRelatedEntries:o=!1,forceFlush:l=!0}=t,c=this.preferences.getPreference(S.yq)===S.ZD.on,d=this.preferences.getPreference(S.xV)===S.ZD.on;let h=e.map((e=>this.lookupEntry(e)));if(n&&h.forEach((e=>{e&&(this.fire("onBeforeEntryBuried",e.getId()),e.jsonInfo.buried=n,this.fire("onEntryBuried",e.getId()))})),!r&&(h=h.filter((e=>e&&!e.isRead())),0===h.length))return;let u={};const p=e=>{u[e]||(u[e]=0),u[e]-=1};for(let m=0;m<h.length;m++){const e=h[m];if(a&&e.wasKeptUnread())continue;const n=e.getId();if(await e.markAsRead(),s.push(n),this.fire("onEntryMarkedAsRead",n,t),this.microsessions.setEntryAsMarkedAsRead(n),this._getEntryStreamIds(e).forEach(p),c){const t=e.listDuplicates();for(let e=0;e<t.length;e+=1){const n=t[e];if(!n.unread)continue;n.unread=!1,s.push(n.entryId);(await this._askFeedStreamIds(n.feedId)).forEach(p)}}if(o&&d){const n=[...e.listRelatedEntries()];let i=!1;for(let e=0;e<n.length;e+=1){const r=n[e];if(!r.unread||!r.feedId)continue;n[e]={...r,unread:!1},s.push(r.entryId),this.fire("onEntryMarkedAsRead",r.entryId,t);(await this._askFeedStreamIds(r.feedId)).forEach(p),i=!0}i&&(e.jsonInfo.related=n)}}this._fireUnreadCountChanges(u),streets.getUserId()&&await this._askQueueMarkAsReads(s,l),i&&this.fire("onPriorityTabMarkedAsRead")}async askKeepEntriesAsUnread(e){e.forEach((e=>this.askKeepEntryAsUnread(e)))}async askKeepEntryAsUnread(e,t={}){const s=this.lookupEntry(e);if(!s)return;if(!s.isRead())return void s.undoMarkAsRead();if(!streets.getUserId())return;const{updateRelatedEntries:n=!1}=t,i=this.preferences.getPreference(S.xV)===S.ZD.on;let r=[e];s.undoMarkAsRead(),s.jsonInfo.buried=!1,this.fire("onEntryKeptUnread",e),this.microsessions.clearEntryMarkedAsRead(e);const a={},o=e=>{a[e]||(a[e]=0),a[e]+=1};if(this._getEntryStreamIds(s).forEach(o),n&&i){const e=[...s.listRelatedEntries()];let t=!1;for(let s=0;s<e.length;s+=1){const n=e[s];if(n.unread||!n.feedId)continue;e[s]={...n,unread:!0},r.push(n.entryId),this.fire("onEntryKeptUnread",n.entryId);(await this._askFeedStreamIds(n.feedId)).forEach(o),t=!0}t&&(s.jsonInfo.related=e)}this._fireUnreadCountChanges(a),await this._askFlushMarkAsReads(),await this.net.POST("!{cloud}/v3/markers",{action:"keepUnread",type:"entries",entryIds:r})}async askMarkStreamAsRead(e,{asOf:t,entryIds:s,lastReadEntryId:n,partial:i,silently:r=!1}={}){if(await this._askFlushMarkAsReads(),!t&&!n||!1===i){const t=this.getStreamUnreadCountInfo(e);t&&(t.count=0,this.fire("onStreamUnreadCountChanged",e,0,{timeSensitive:!0}))}s&&s.map((e=>this.lookupEntry(e))).filter((e=>e&&!e.isRead())).forEach((e=>{e.wasKeptUnread()||(e.markAsRead(),this.fire("onEntryMarkedAsRead",e.getId()))}));let a={action:"markAsRead"};const{isCategory:o,isFeed:l,isPriority:c,isTag:d}=(0,f.Yg)(e);if(o)a.type="categories",a.categoryIds=[e];else if(l)a.type="feeds",a.feedIds=[e];else{if(!d&&!c)throw console.error("[reader] askMarkStreamAsRead failed because unknown type",e),new Error(`unknow stream type: ${e}`);a.type="tags",a.tagIds=[e]}n?a.lastReadEntryId=n:a.asOf=t||(new Date).getTime(),await this.net.POST("!{cloud}/v3/markers",a),await this.askRefreshUnreadCounts(),this.undoLastMarkAsReadRequest=Object.assign(a,{action:"undoMarkAsRead",lastReadEntryId:void 0,asOf:void 0}),r||this.fire("onMarkStreamAsRead",e),this.fire("onUndoAvailable")}async askUndoLastMarkAsRead(){this.undoLastMarkAsReadRequest&&(await this.net.POST("!{cloud}/v3/markers",this.undoLastMarkAsReadRequest),this.undoLastMarkAsReadRequest=null,await this.askRefreshUnreadCounts())}async _askProcessPendingMarkAsRead(){try{const e=q.a.get("pendingMarkAsRead");if(e){const t={action:"markAsRead",type:"entries",entryIds:[e]};await this.net.POST("!{cloud}/v3/markers",t),q.a.remove("pendingMarkAsRead")}}catch(e){console.error("[reader] silently failed to process pending mark as read",e)}}_detectUnreadCountChanges(e,t=[]){const s=[],n=[],i=[],r=[];if(e&&t){const a=e.reduce(((e,t)=>(e[t.id]=t.count,e)),{}),o=t.reduce(((e,t)=>(e[t.id]=t.count,e)),{});e.forEach((e=>{const t=e.id;null==o[t]?i.push(t):o[t]!==e.count&&(s.push(t),o[t]>e.count&&r.push(t))})),t.forEach((e=>{const t=e.id;null==a[t]&&n.push(t)}))}return{updatedStreamIds:s,addedStreamIds:n,removedStreamIds:i,increasedStreamIds:r}}_fireUnreadCountChanges(e){Object.keys(e).forEach((t=>{const s=this.getStreamUnreadCountInfo(t);s&&(s.count+=e[t],s.count<0&&(s.count=0),this.fire("onStreamUnreadCountChanged",t,s.count))}))}_getEntryStreamIds(e){const t=e.listPersonalCollections(),s=e.listEnterpriseCollections(),n=e.listPersonalTags(),i=e.listEnterpriseTags(),r=e.listPriorities(),a=e.listSources(),o=[...t.map((e=>e.id)),...s.map((e=>e.id)),...n.map((e=>e.id)),...i.map((e=>e.id)),...r.map((e=>e.id)),...a.map((e=>e.streamId))];e.getFeedId()&&o.push(e.getFeedId()),t.length>0&&o.push((0,f.N1)()),s.length>0&&o.push((0,f.sX)());return(s.length+t.length===0||1===t.length&&(0,f.PH)(t[0].id))&&o.push((0,f.wN)()),n.length>0&&o.push((0,f.TN)()),i.length>0&&o.push((0,f.$n)()),o.filter((e=>null!=this.getStreamUnreadCount(e)))}async _askFeedStreamIds(e){const[t,s]=await Promise.all([await this.personalcollections.askListCollectionsForFeed(e),await this.enterprisecollections.askListCollectionsForFeed(e)]),n=[e,...t.map((e=>e.id)),...s.map((e=>e.id))];return t.length>0&&n.push((0,f.N1)()),s.length>0&&n.push((0,f.sX)()),n.filter((e=>null!=this.getStreamUnreadCount(e)))}getStreamUnreadCount(e){const t=this.getStreamUnreadCountInfo(e);return t&&t.count}getStreamUnreadCountInfo(e){return this.cache.unreadCounts?this.cache.unreadCounts.find((t=>t.id===e)):null}async askParseJSONFeed(e,{highlightableKeywords:t,searchTerm:s}={}){try{if(!e||!e.items)return{entries:[],continuation:null};const[n=[],i=[],r=[],a=[]]=await Promise.all([this.collections.askListAllFeeds(),this.tags.askLabelsIndex(),this.priorities.askListPriorities({cachedUnreadCountsOnly:!0}),streets.hasBusinessAccess()?this.enterprise.askListUsers():[this.profile.getUserInfo()]]),o=n.reduce(((e,t)=>(e[t.id]=t,e)),{}),l=r.reduce(((e,t)=>(e[t.id]=t,e)),{}),c=a.reduce(((e,t)=>(e[t.userId]=t,e)),{});return{entries:e.items.map((n=>this._jsonEntry(n,{searchTerm:s,highlightableKeywords:t,viaStreamId:e.id,userId:streets.getUserId()},{feedIndex:o,priorityIndex:l,userIndex:c,tagIndex:i}))),continuation:e.continuation,velocity:e.velocity}}catch(n){throw console.error("[reader] failed to parse json feed",n,e),n}}_jsonEntry(e,t={},{feedIndex:s={},priorityIndex:n={},userIndex:i={},tagIndex:r={}}={}){try{const a=e.origin?e.origin.streamId:null;if(a){const e=s[a];e&&e.title&&(t.sourceTitle=e.title)}null!=e.tags&&e.tags.forEach((e=>{e.addedBy&&(e.addedByUser=i[e.addedBy])})),e.priorities&&(e.priorities.length&&(e.priorities=e.priorities.filter((e=>{const{searchTerms:{likeBoards:t=[]}={}}=e;if(t.length){const s=t.filter((e=>!!e));if(!s.length)return!1;s.length!==t.length&&(e.searchTerms.likeBoards=s)}return!0}))),e.priorities.forEach((e=>{const t=n[e.id];if(t&&(e.streamId=t.streamIds[0],e.streamLabel=t.streamLabel,e.label=t.label),e.searchTerms&&e.searchTerms.likeBoards){e.searchTerms.likeBoards.forEach((e=>{r[e.id]&&(e.label=r[e.id])}))}}))),e.annotations&&e.annotations.forEach((e=>{const{author:t,authorName:s,authorPicture:n}=e;t?e.authorUser=i[t]:s&&(e.authorUser={name:s,picture:n})}));let o=this.entries[e.id];if(o&&o.metadata.viaStreamId&&!t.viaStreamId&&(t.viaStreamId=o.metadata.viaStreamId),(!o||t.searchTerm&&o.metadata.searchTerm!==t.searchTerm||e.priorities&&e.priorities.length>0||e.previewSearchTerms&&e.previewSearchTerms.parts&&e.previewSearchTerms.parts.length>0)&&(o=new Y(e,t)),o.setActionDate(e.actionTimestamp),null!=o.getAlternateLink()&&(this.urls[o.getAlternateLink()]=o.getId()),this.entries[o.getId()]=o,a){const e=s[o.getFeedId()];o.metadata.subscribed=!!e,o.setNavigation(this._getFeedPreference(a,"entryNavigation"))}return o}catch(a){throw console.error("[reader] failed to create entry",e,a),a}}_getFeedPreference(e,t){return e&&t?this.preferences.getPreference(t,"subscription/"+e):null}lookupEntry(e){return e&&this.entries?this.entries[e]:null}_listCachedFeedEntries(e){return Object.keys(this.entries).filter((t=>this.entries[t].getFeedId()===e)).map((e=>this.entries[e]))}async askLookupEntry(e){if(!e)throw new Error("Invalid entry id");const t=this.lookupEntry(e);if(t)return t;!function(e){const t=(new Date).getTime();null!=te&&t-te<=200&&se++,se>=15&&ne<5&&(ee.uT("XHR Spam",{severity:"warning",contexts:{request:e}}),se=0,ne++),te=t}({entryId:e});const s=await this.net.GET("!{cloud}/v3/entries/"+encodeURIComponent(e)).then(JSON.parse);if(!s||0===s.length)throw new Error("Article not found");const n=(await this.askParseJSONFeed({items:s})).entries;if(!n||0===n.length)throw new Error("Entry not found");return n[0]}async askLookupEntries(e){if(!e)throw new Error("Invalid entry ids");const t=await this.net.POST("!{cloud}/v3/entries/.mget",e).then(JSON.parse);if(!t||0===t.length)throw new Error("Article not found");const s=(await this.askParseJSONFeed({items:t})).entries;if(!s)throw new Error("Entry not found");return s}async askLookupEntryByUrl(e){const t=e.indexOf("#");let s,n;t>0&&(e=e.substring(0,t));try{s=await this.net.POST("!{cloud}/v3/entries?response=contents",{alternate:[{href:e}]})}catch(i){throw new Error(`[reader] askLookupEntryByUrl - Failed to lookup content: ${i.message}`)}try{n=await this.askParseJSONFeed(JSON.parse(s))}catch(i){throw console.error("[reader] failed to process entry",s,i),new Error(`[reader] askLookupEntryByUrl - Failed to process content: ${i.message}`)}if(n.entries&&n.entries.length>0)return n.entries[0];throw new Error("[reader] askLookupEntryByUrl - content not found")}async askLookupPdfEntry({author:e,summary:t,tagId:s,title:n,url:i}){if(!t||!n||!i)throw new Error("[reader] askLookupPdfEntry - missing parameter");const r={title:n,summary:{content:t},enclosure:[{href:i,type:"application/pdf"}]};e&&(r.author=e),s&&(r.tags=[{id:s}]);try{const e=await this.net.POST("!{cloud}/v3/entries",r),t=JSON.parse(e)[0];return s&&(this.fire("onEntryTagged",t,s),this.fire("onEntryTagsChanged",t)),t}catch(a){throw new Error(a)}}async askLookupRawEntryJson(e){if(!e)throw new Error("[askLookupRawEntryJson] entryId is required");return(await this.net.GET("!{cloud}/v3/entries/"+encodeURIComponent(e)).then(JSON.parse))[0]}async askPdfMetadata(e){if(!e)throw new Error("[reader] askPdfMetadata - url required");try{const t=await this.net.GET(`!{cloud}/v3/read/metadata?url=${encodeURIComponent(e)}`);return JSON.parse(t)}catch(t){throw new Error(`[reader] askPdfMetadata - ${t.message}`)}}async askMagicEntries(e,t,s){if(await this._askFlushMarkAsReads(),"best"===s.r){const{entries:n}=await this._doMoreEntries(e,s,t,null);return n}return this._doMagicEntries(e,t,s)}async _doMagicEntries(e,t,s){if(!e)throw{message:"The `streamId` is required in `doMagicEntries`",name:"frontendError"};try{let n=!0===s.unreadOnly;if(0===e.indexOf("enterprise")&&e.indexOf("/tag/")>-1){const{entries:i}=await this.askMoreEntries(e,{xt:n,newerThan:s.newerThan},t,null);return i}const{isTag:i}=(0,f.Yg)(e);if(i)return $feedly("[reader] no mix for user tags:"+e+" -- "+t),[];let r="!{cloud}/v3/mixes/contents?streamId="+encodeURIComponent(e)+"&count="+t+"&hours="+(new Date).getHours()+"&boostMustRead=true";n&&(r+="&unreadOnly=true"),s.newerThan?r+="&newerThan="+s.newerThan:r+="&backfill=true";const a=await this.net.GET(r),o=JSON.parse(a);if(null==o||null==o.id)return $feedly("[reader] no mix available for:"+e+" -- "+t),[];const l=await this.askParseJSONFeed(o);l&&l.entries&&(l.entries=(0,G.q)(l.entries));let c=l.entries.sort((function(e,t){let s=t.getEngagementRateType(),n=e.getEngagementRateType();return s===n?s>0?Math.round(t.getEngagementRate())===Math.round(e.getEngagementRate())?t.getEngagement()-e.getEngagement():t.getEngagementRate()-e.getEngagementRate():t.getAgeInDays()===e.getAgeInDays()?t.getEngagement()-e.getEngagement():e.getAgeInDays()-t.getAgeInDays():s-n}));if(s.newerThan){let e=[];l.entries.forEach((t=>{let n=0;2===t.getEngagementRateType()?n=(0,u.z1)(.75):1===t.getEngagementRateType()&&(n=(0,u.z1)(.375)),t.getLastModifiedDate().getTime()>s.newerThan-n&&e.push(t)})),l.entries=e}return c}catch(n){return console.warn("[reader] failed to ask magic entries (c):"+e+" -- "+t+" -- "+n.name+" -- "+n.message),[]}}async askTopicEntries(e,t,s,n){return await this._askFlushMarkAsReads(),this._doTopicEntries(e,t,s,n)}async _doTopicEntries(e,t,s,n){try{const i="!{cloud}/v3/mixes/contents?streamId="+encodeURIComponent("topic/"+e)+"&organic="+s+"&count="+t+"&locale="+n,r=await this.net.GET(i),a=JSON.parse(r);if(null==a||null==a.id)return console.warn("[reader] failed to load article for topic:"+e+" -- "+t),[];const o=await this.askParseJSONFeed(a);return o&&o.entries&&(o.entries=(0,G.q)(o.entries)),o.entries}catch(i){return console.error(`[reader] failed to ask topic entries (c):topic/${e} -- ${t}`,i),[]}}async askMoreEntries(e,t,s,n){const{isEnterprise:i,isFilter:r}=(0,f.Yg)(e);if(r){const r=i?this.enterprisefilters:this.personalfilters,a=await r.askFilterInfo(e);return t||(t={}),a&&a.searchQuery&&(t.searchTerm=a.searchQuery),n||await this._askFlushMarkAsReads(),this._doMoreEntries(e,t,s,n)}return t.searchTerm?this._askSearchMoreEntries(e,t,s,n):(n||await this._askFlushMarkAsReads(),this._doMoreEntries(e,t,s,n))}async _doMoreEntries(e,t,s,n){if(!e)throw new Error("The `streamId` is required in `doMoreEntries`");try{let i="!{cloud}/v3/streams/contents?streamId="+encodeURIComponent(e)+"&count="+s;const{isFilter:r}=(0,f.Yg)(e);switch(t.showMuted?i+="&showMuted=true":null!=t.xt||!0===t.unreadOnly?i+="&unreadOnly=true":!r&&t.hideFiltered&&(i+="&hideFiltered=true"),t.r){case"oldest":case"o":i+="&ranked=oldest";break;case"best":case"b":i+="&ranked=best";break;default:i+="&ranked=newest"}i+="&similar=true",i+="&findUrlDuplicates=true",null!=n&&(i+="&continuation="+n),t.importantOnly&&(i+="&importantOnly=true"),t.newerThan&&!isNaN(t.newerThan)&&(i+="&newerThan="+t.newerThan);const a=await this.net.GET(i),o=JSON.parse(a);if(!o||!o.id)throw new Error("[reader] failed to load feed for:"+e+" -- "+n+" -- "+s);const l=await this.askParseJSONFeed(o,t);let{isGlobal:c,isTag:d}=(0,f.Yg)(e);if(d&&t.newerThan&&!c){let s=[];l.entries.forEach((n=>{let i=0;2===n.getEngagementRateType()?i=(0,u.z1)(.75):1===n.getEngagementRateType()&&(i=(0,u.z1)(.375));let r=n.findTagActionTimestamp(e);r&&r>t.newerThan-i&&s.push(n)})),l.entries=s}return{entries:l.entries,continuation:l.continuation}}catch(i){throw console.error("[reader] Failed to ask more entries (b):"+e+" -- "+n+" -- "+s+" -- "+i.name+" -- "+i.message),i}}async askPriorityPreview(e,t){const s=e.streamIds[0],{isEnterprise:n}=(0,f.Yg)(s);let i=n?"!{cloud}/v3/enterprise/priorities/preview?count=20":"!{cloud}/v3/priorities/preview?count=20";i+=t?`&continuation=${t}`:"";const r=await this.net.POST(i,e),a=await this.askParseJSONFeed(JSON.parse(r),{highlightableKeywords:(0,J.Mz)(e.layers)});return a&&a.entries&&(a.entries=(0,G.q)(a.entries)),a}async askMutePreview({salience:e,streamId:t,term:s,filteredOnly:n},i,r,a){const o=`!{cloud}/v3/mutefilters/preview${r?"?count="+r:""}${a?`&continuation=${a}`:""}`,l=await this.net.POST(o,{filteredOnly:n,salience:e,streamId:t,term:s}),c=(0,J.kG)(s)?[i]:null,d=await this.askParseJSONFeed(JSON.parse(l),{highlightableKeywords:c});return d&&d.entries&&(d.entries=(0,G.q)(d.entries)),d}async askAlertsPreview({continuation:e,layers:t,source:s}){let n="!{cloud}/v3/alerts/preview?count=40";n+=e?`&continuation=${e}`:"";const i=await this.net.POST(n,{layers:t,source:s}),r=await this.askParseJSONFeed(JSON.parse(i),{highlightableKeywords:(0,J.Mz)(t)});return r&&r.entries&&(r.entries=(0,G.q)(r.entries)),r}async _askSearchMoreEntries(e,t,s,n){try{let i="!{cloud}/v3/search/contents?streamId="+encodeURIComponent(e)+"&q="+encodeURIComponent(t.searchTerm)+"&count="+s;switch(t.searchEngagement){case"engagement.high":i+="&minEngagement=25&minEngagementRate=1";break;case"engagement.onfire":i+="&minEngagement=100&minEngagementRate=3"}if(null!=t.searchRanked&&(i+="&ranked="+t.searchRanked),null!=t.searchEmbedded&&"any"!=t.searchEmbedded&&(i+="&embedded="+t.searchEmbedded),null!=t.searchFields&&(i+="&fields="+t.searchFields),null!=t.searchTime){let e;"today"===t.searchTime?e=Date.now()-864e5:"week"===t.searchTime?e=Date.now()-6048e5:"month"===t.searchTime&&(e=Date.now()-2592e6),i+="&newerThan="+e}null!=n&&(i+="&continuation="+n),"detect"===t.searchLocale?"topic/global.popular"===e&&(i+="&locale="+((0,Z.Q3)()||"en-US")):null!=t.searchLocale&&"detect"!==t.searchLocale&&"-"!==t.searchLocale?i+="&locale="+t.searchLocale:i+="&locale="+((0,Z.Q3)()||"en-US");const r=await this.net.GET(i),a=JSON.parse(r);if(null==a||null==a.id)throw new Error(`Failed to get more search entries for ${e}.`);const o=await this.askParseJSONFeed(a,t);return{entries:o.entries,continuation:o.continuation}}catch(i){throw console.error("[reader] failed to ask search more entries (b):"+e+" -- "+n+" -- "+s+" -- "+i.name+" -- "+i.message),i}}async askTruncateReadingHistory(){return this.net.DEL("!{cloud}/v3/markers/reads")}}function de(e){return new ce(e)}},63335:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(74221),i=s(83168),r=s(3167),a=s(63403),o=s(32285);const l=[o.PC.powerSearch,o.PC.selectNextEntry,o.PC.selectNextUnreadEntry,o.PC.selectPreviousEntry,o.PC.selectPreviousUnreadEntry].reduce(((e,t)=>(e[t]=!0,e)),{});class c extends i.y{setFeedly(e){this.feedly=e}setBuffer(e){this.buffer=e}setReader(e){this.reader=e}setShortcuts(e){this.shortcuts=e}setAnalytics(e){this.analytics=e}setSigns(e){this.signs=e}setPreferences(e){this.preferences=e}setNavigo(e){this.navigo=e}setSliderService(e){this.sliderService=e}setMicrosessions(e){this.microsessions=e}setPageManager(e){this.pageManager=e}load(){this.feedly.registerObserver(this),this.reader.registerObserver(this),this.shortcuts.registerObserver(this)}unload(){this.feedly.unregisterObserver(this),this.reader.unregisterObserver(this),this.shortcuts.unregisterObserver(this)}async askKeepEntryAsUnread(e){try{await this.reader.askKeepEntryAsUnread(e)}catch(t){this.signs.showMessage("Error:"+t.message)}"slider"===this._getInlineMode()?this.sliderService.closeTop():this.uninlineEntry("toview",!0)}async askBuryEntry(e,t={}){await this.reader.askMarkEntryAsRead(e,{...t,batch:!1,buried:!0}),this._getInlinedEntryId()===e&&("slider"===this._getInlineMode()?this.sliderService.closeTop():this.uninlineEntry("toview",!0))}async _toggleEntryRead(e){const t=await this.reader.askLookupEntry(e);t?t.isRead()||this._getInlinedEntryId()===e?await this.askKeepEntryAsUnread(e):await this.reader.askMarkEntryAsRead(e):console.error("Failed to toggleEntryRead. Entry not found:",e)}_useSlider(e){if(!e)return!0;if("slider"===e.getAttribute("data-navigation"))return!0;const t=this._getPreference("entryOverviewSize.desktop");if("100"===t)return!1;switch(this.preferences.getPreference("entrySliderViews")){case"all+preview":case"all":return!0;case"card":return"5"===t;case"notTitle":return"1"!==t&&"0"!==t;default:return!0}}onShortcutKey(e){const t=this._getTargetEntryId(),s="slider"===this._getInlineMode();switch(s&&l[e]&&this.sliderService.closeAll(),e){case o.PC.buryEntry:if(!t)return void this.signs.showMessage("Select an article first");this.askBuryEntry(t);break;case o.PC.clipToBuffer:if(!t)return void this.signs.showMessage("Select an article first");this.buffer.askShareEntry(t);break;case o.PC.clipToEvernote:if(!t)return void this.signs.showMessage("Select an article first");streets.service("evernote").askClipEntry(t);break;case o.PC.inlineEntry:this._isEntryInlined()?"slider"===this._getInlineMode()?this.sliderService.closeAll():this.uninlineEntry("toview",!0):t&&this.inlineEntry(t,!0);break;case o.PC.toggleEntryRead:if(!t)return void this.signs.showMessage("Select an article first");this._toggleEntryRead(t);break;case o.PC.readLater:case o.PC.readLaterAlt:if(!t)return void this.signs.showMessage("Select an article first");this.askQuickListEntry(t);break;case o.PC.powerSearch:this.feedly.loadPage("powerSearch");break;case o.PC.selectNextEntry:this.onNextEntry({focus:!0,open:!1,unreadOnly:!1});break;case o.PC.selectNextUnreadEntry:this.onNextEntry({focus:!0,open:!1,unreadOnly:!0});break;case o.PC.selectPreviousEntry:this.onPreviousEntry({focus:!0,open:!1,unreadOnly:!1});break;case o.PC.selectPreviousUnreadEntry:this.onPreviousEntry({focus:!0,open:!1,unreadOnly:!0});break;case o.PC.nextEntry:case o.PC.nextEntryAlt:this.onNextEntry({focus:!0});break;case o.PC.previousEntry:case o.PC.previousEntryAlt:this.onPreviousEntry({focus:!0});break;case o.PC.viewOriginal:if(!t)return void this.signs.showMessage("Select an article first");this._viewOriginalEntry(t);break;case o.PC.markAllAsRead:case o.PC.markAllAsReadAlt:this._markAllAsRead();break;case o.PC.nextStream:this._jumpToNext();break;case o.PC.previousStream:this._jumpToPrevious();break;case o.PC.refresh:this.feedly.refresh();break;case o.PC.openShortcutMenu:streets.service("helpSigns").showHelpSign()}!s&&this._getSelectedEntryId()&&(e===o.PC.close?this.uninlineEntry("toview",!0):e===o.PC.saveToBoard&&this._scrollToSelectedEntry("top"))}_getEntryMainElement(e){return this.element(e+"_main")}_scrollToSelectedEntry(e){if(!this._getSelectedEntryId())return;const t=this._getEntryMainElement(this._getSelectedEntryId());t&&this.feedly.scrollToView(t,{align:e||"top",marginTop:17},!1)}_getPreference(e){return this.pageManager.getPageInfo().searchTerm&&"entryOverviewSize.desktop"===e?4:this.pageManager.getPagePreference(e)}_getSelectedEntryId(){let e;const t=this.navigo?this.navigo.getState():{};return t.selectedEntryId&&(e=t.selectedEntryId),e}_getInlinedEntryId(){let e;const t=this.navigo.getState();return t.inlinedEntryId&&(e=t.inlinedEntryId),e}_getInlineMode(){if(!this._isEntryInlined())return null;return"slider"===this.navigo.getState().inlineMode?"slider":"inline"}_isEntryInlined(){return!!this._getInlinedEntryId()}onBeforeEntryBuried(e){const{selectedEntryId:t}=this.navigo.getState();if(t&&t===e){const e=this.navigo.lookupNextEntry(!1),t=this.navigo.lookupPreviousEntry(!1);e?this.navigo.selectEntry(e.getId()):t?this.navigo.selectEntry(t.getId()):this.navigo.unselectEntry()}}onPageScrollChanged(e,t){if(t&&this.pageManager.shouldAutoSelectOnScroll()){const e=this._findScrollFocus();if(e){const{allEntries:t}=e;for(let s=0;s<=e.index;s+=1){const e=t[s];e.isRead()||e.wasKeptUnread()||this.reader.askMarkEntryAsRead(e.getId(),{updateRelatedEntries:!0})}e.entryId&&!e.entry.wasKeptUnread()&&this.selectEntry(e.entryId,!1)}}}_findScrollFocus(){const e=this.navigo.getEntries();if(!e||0===e.length)return null;for(let t=e.length-1;t>=0;t-=1){const s=this._getEntryMainElement(e[t].getId());if(s){if(s.getBoundingClientRect().top<80)return{index:t,entryId:e[t].getId(),entry:e[t],allEntries:e}}}return this.navigo.getState().selectedEntryId?{index:0,entryId:e[0].getId(),entry:e[0],allEntries:e}:null}async askMarkPageAsRead(e={}){const t=e.streamId||this.navigo.getMarkAsReadScope(),{isPriority:s}=(0,n.Yg)(t),i=s||e.isMostPopular,r=this.navigo.listEntryIds();if(t||r&&0!==r.length)if(t){let s;e.asOf||e.lastReadEntryId?s=Object.assign(e,{partial:!0}):(this.microsessions.setAllEntriesAsMarkedAsRead(t),s=Object.assign(e,{asOf:this.navigo.getMarkAsReadLimit(),entryIds:r,partial:!1}));const n=this.pageManager.getPageInfo().uri,a=this.navigo.getNextURI(),o=!!a&&a!==n&&!1===s.partial,l=!i&&o&&-1===a.indexOf("category/global.");l||this.signs.showMessage("Marking as read and refreshing..."),i?this.reader.askMarkEntriesAsRead(r,e).then((()=>{if(!l){const e=this.reader.getStreamUnreadCount(t);streets.service("signs").hide(),o&&!e?this._jumpToNext():this._askRefreshCurrentPage()}}),(e=>{this.signs.showError("Error: "+e)})):this.reader.askMarkStreamAsRead(t,{...s,silently:!0}).then((()=>{l||(streets.service("signs").hide(),o?this._jumpToNext():this._askRefreshCurrentPage())})),l&&this._jumpToNext()}else this.signs.showMessage("Marking as read and refreshing..."),this.reader.askMarkEntriesAsRead(r,e).then((()=>{this.signs.hide(),this._askRefreshCurrentPage()}),(e=>{this.signs.showError("Error: "+e)}));else this.signs.showMessage("Nothing to mark as read...")}onNextEntry({alignToTop:e=!0,focus:t=!1,open:s=!0,unreadOnly:n}={}){if(!this.navigo.hasEntries())return;const i=this.navigo.lookupNextEntry(n);if(i){const n=i.getId();s?this.inlineEntry(n,e,t):(this.uninlineEntry(),this.selectEntry(n,"toview",t),this._shouldMarkAsReadOnNP()&&this.reader.askMarkEntryAsRead(n))}else this.signs.showMessage("At end")}onPreviousEntry({focus:e=!1,open:t=!0,unreadOnly:s}={}){if(!this.navigo.hasEntries())return;if(!this.navigo.getState().selectedEntryId)return void this.signs.showMessage("Select an article first");const n=this.navigo.lookupPreviousEntry(s);if(n){const s=n.getId();t?this.inlineEntry(s,!0,e):(this.uninlineEntry(),this.selectEntry(s,"toview",e),this._shouldMarkAsReadOnNP()&&this.reader.askMarkEntryAsRead(s))}else this.signs.showMessage("At start")}_jumpToNext(){let e=this.navigo.getNextURI();e?(this.sliderService.closeAll(),this.feedly.loadPage(e)):this.feedly.reloadPage()}_jumpToPrevious(){let e=this.navigo.getPreviousURI()||this.preferences.getPreference(r.RO);e&&this.pageManager.getPageInfo().uri!==e?(this.sliderService.closeAll(),this.feedly.loadPage(e)):this.signs.showMessage("At start")}selectEntry(e,t,s){if(this.navigo.getState().selectedEntryId!==e){if("toview"===t){const s=this._getEntryMainElement(e);s&&this.feedly.scrollToView(s,{align:t,marginTop:17},!1)}this.navigo.selectEntry(e,s)}}_shouldMarkAsReadOnNP(){return"yes"===this.preferences.getPreference("npAutoMarkAsRead")}inlineEntry(e,t,s){let n=t;const i=this.navigo.getState();if("slider"===i.inlineMode&&i.inlinedEntryId&&!this.navigo.lookupEntry(e))return void this.feedly.previewEntry(e);let r=!0;if(!this.sliderService.hasSlides()){const t=this._getEntryMainElement(e);if(t&&(r=this._useSlider(t),!r&&null===n))try{const e=t.getBoundingClientRect().top/window.innerHeight;n=e>.7}catch(o){}}this.selectEntry(e,!1,s&&r);const a=r&&this.feedly.canUsePreviewMode()&&!this.sliderService.hasSlides();if(null===n&&(n=!1===r),a){const{inlinedEntryId:t,inlineMode:s}=this.navigo.getState();if("preview"===s&&t===e)return;this.navigo.inlineEntry(e,"preview"),this.pageManager.renderEntryInPreviewPane(e),this._scrollToSelectedEntry(!0===n?"top":"toview")}else if(r)this.reader.askLookupEntry(e).then((t=>{t?(this.navigo.inlineEntry(e,"slider"),this.sliderService.addEntrySlide(e,{navigatable:!0,switchable:!0},(()=>{this.navigo.uninlineEntry()})),this._scrollToSelectedEntry(!0===n?"top":"toview")):this.signs.showError("Story not found")}));else{if(i.inlinedEntryId===e)return void this._scrollToSelectedEntry("top");this.navigo.inlineEntry(e,"inline"),window.requestAnimationFrame((()=>{this.navigo&&this.navigo.getState().inlinedEntryId===e&&this._scrollToSelectedEntry(!0===n?"top":"toview")}))}"u"+this._getPreference("entryOverviewSize.desktop")=="u100"&&this.reader.askMarkEntryAsRead(e)}uninlineEntry(e,t){"slider"===this.navigo.getState().inlineMode&&this.sliderService.closeAll();const s=this._getInlinedEntryId();if(!s)return;const n=this._getEntryMainElement(s);"toview"===e&&n&&this.feedly.scrollToView(n,{marginTop:17,align:"toview"},!1),this.navigo.uninlineEntry(),t&&n&&(n.classList.add("entry--highlight"),setTimeout((()=>{n.classList.remove("entry--highlight")}),2e3))}_viewOriginalEntry(e){let t=this.reader.lookupEntry(e);if(t){const e=t.getBestAlternateLink();(0,a.YC)(e)&&this.analytics.incrementDashboardEvent("REDDIT:clicks"),window.open(e)}}_markAllAsRead(){const e=window.location.href.includes("collection/priority");this.askMarkPageAsRead({isMostPopular:"most popular"===this.pageManager.getPagePreference("entrySort"),isPriorityTabMarkAsRead:e})}_getTargetEntryId(){let e;const t=this.navigo.getState();return t.selectedEntryId?e=t.selectedEntryId:t.inlinedEntryId&&(e=t.inlinedEntryId),e}async _askRefreshCurrentPage(){this.reader&&(this.pageManager.isRefreshable()?(await this.reader.askCompact(),this.pageManager.askReloadPage()):this.feedly.reloadPage())}async askQuickListEntry(e){await this.reader.askToggleEntryQuicklisted(e),this.analytics.trackEvent("sharing","save");const t=await this.reader.askLookupEntry(e);this.analytics.trackEntryEvent(t,"save","feedly")}}function d(e){return new c(e)}},65984:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(75453),i=s.n(n),r=s(83168),a=s(16847);const o="https://api.reddit.com";class l extends r.y{setSuggesto(e){this.suggesto=e}load(){}unload(){this.suggesto=null}async askFeeds(e){let t;if(e.startsWith("r/"))t=[`${o}/${(0,a.I8)(e)}`];else if(e.includes("reddit.com")){const s=e.includes("reddit.com/")?e.split("reddit.com/")[1]:e.split("reddit.com")[1];t=[`${o}/${s}`]}else t=[`${o}/r/${(0,a.I8)(e)}`,`${o}/search/?q=${encodeURIComponent(e)}`];const s=await Promise.all(t.map((e=>this.askFeedsFromUri(e))));return i()(s)}async askFeedsFromUri(e){return this.suggesto.askGuessFeeds(e,{fullTerm:!0,language:null,organic:!0,numResults:2})}}function c(e){return new l(e)}},92577:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168);const i={pernodricard:"https://rssfactory.feedly.com/savedsearches/200c1663-95d5-4da3-a311-1aea0e439935",sociablepharmaanalysis:"https://rssfactory.feedly.com/savedsearches/54f83527-7f96-4a43-a5f0-fafb1a6cb725",strongbridgepilotnewsfeedteam:"https://rssfactory.feedly.com/savedsearches/1a549aff-00e4-4ae0-bcd9-24593d215616"};class r extends n.y{setNet(e){this.net=e}load(){this.cache={searches:null}}onUserIdentified(e){this.cache={},this.askListSavedSearches()}onNoUserIdentified(){this.cache={}}unload(){this.cache={},this.net=null}askRefresh(){return this.cache={},Promise.resolve()}askListSavedSearches(){return this._hasEarlyAccess()||(this.cache.searches=[]),this.cache.searches?Promise.resolve(this.cache.searches):(this._askListSavedSearchesPromise||(this._askListSavedSearchesPromise=this.net.GET(i[streets.getEnterpriseId()]).then(JSON.parse).then((e=>(this._askListSavedSearchesPromise=null,e||(e=[]),this.cache.searches=this._enrichSearches(e)))).catch((()=>(this._askListSavedSearchesPromise=null,this.cache.searches=[])))),this._askListSavedSearchesPromise)}_hasEarlyAccess(){return!!i[streets.getEnterpriseId()]}_enrichSearches(e){if(!e)return[];let t=[];return e.forEach((e=>{e.name&&(e.id="search_"+e.name,e.searches.forEach((e=>{e.query=e.query||e.label})),t.push(e))})),t}}function a(e){return new r(e)}},9875:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var n=s(33259),i=s.n(n),r=s(45750),a=s.n(r),o=s(83168),l=s(45538),c=s(32285);const d=Object.values(c.PC).reduce(((e,t)=>(e[t]=!0,e)),{}),h={[c.PC.saveToBoard]:!0},u={[c.PC.nextEntry]:!0,[c.PC.previousEntry]:!0,[c.PC.nextEntryAlt]:!0,[c.PC.previousEntryAlt]:!0,[c.PC.selectNextEntry]:!0,[c.PC.selectNextUnreadEntry]:!0,[c.PC.selectPreviousUnreadEntry]:!0,[c.PC.selectPreviousEntry]:!0},p=new Set([c.PC.saveToBoard,c.PC.readLater,c.PC.toggleEntryRead,c.PC.inlineEntry,c.PC.selectPreviousEntry]);class m extends o.y{constructor(...e){super(...e),this._handleRepeatingShortcutKey=i()(((e,t)=>{this._handleShortcutKey(e,t)}),250,{leading:!0}),this._handleSinglePressShortuctKey=a()(((e,t)=>{this._handleShortcutKey(e,t)}),550,{leading:!0,trailing:!1}),this._onKeyDown=e=>{let{key:t,shiftKey:s}=e;if(t){if(1===t.length){const e=t.toLowerCase();t===e||s||(t=e)}d[t]&&!(0,l.V)(e)&&(this._isInTextInput=(0,l.E)(e),u[t]?(this._isInTextInput||e.preventDefault(),this._handleRepeatingShortcutKey(t,e)):this._handleSinglePressShortuctKey(t,e))}},this._onKeyUp=()=>{this._handleRepeatingShortcutKey.cancel(),this._handleSinglePressShortuctKey.cancel()}}setNavigo(e){this.navigo=e}load(){this.claimedKeys={},this._registerKeyEvents()}unload(){this.claimedKeys={},this.navigo=null,this._unregisterKeyEvents()}claim(e,t){d[t]||console.error(`[shortcuts] The shortcut '${t}' is missing from ShortcutKeys and will not fire.`),this.claimedKeys[t]||(this.claimedKeys[t]=new Set),this.claimedKeys[t].delete(e),this.claimedKeys[t].add(e)}fire(e,t,...s){if("onShortcutKey"===e||"onShortcutKeyInInput"===e){let n=this.claimedKeys[t];if(n){n=Array.from(n);const i=n[n.length-1],r=i[e];return void(r&&r.call(i,t,...s))}}super.fire(e,t,...s)}unclaim(e,t){const s=this.claimedKeys[t];s&&(s.delete(e),s.size||(this.claimedKeys[t]=null))}_handleShortcutKey(e,t){let s;h[e]&&(s=this.navigo.getState()),this._isInTextInput?this.fire("onShortcutKeyInInput",e,s):(e===c.PC.close?t.preventDefault():p.has(e)||(t.stopPropagation(),t.preventDefault()),this.fire("onShortcutKey",e,s))}_registerKeyEvents(){document.defaultView.addEventListener("keydown",this._onKeyDown,!0),document.defaultView.addEventListener("keyup",this._onKeyUp,!0)}_unregisterKeyEvents(){document.defaultView.removeEventListener("keydown",this._onKeyDown,!0),document.defaultView.removeEventListener("keyup",this._onKeyUp,!0),this._handleRepeatingShortcutKey.cancel(),this._handleSinglePressShortuctKey.cancel()}}function g(e){return new m(e)}},99097:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(83168),i=s(35330),r=s(28514),a=s(61861);const o=Object.freeze({service:"Suggestions",askLeoSuggestions:"askLeoSuggestions"});class l extends n.y{setLeo(e){this.leo=e}setNet(e){this.net=e}load(){this.cache={}}onUserIdentified(){(0,r.$L)()&&this.askLeoSuggestions()}unload(){this.leo=null,this.net=null}askRefresh(){return this.cache={},Promise.resolve()}async askLeoSuggestions(){const{suggestionsBatch:e}=this.cache;if(e&&(new Date).getTime()<e.expirationDate)return(0,i.hR)(e.suggestions);try{const e=await this._askLeoSuggestions();return!e||e.eta?[]:(0,i.hR)(e.suggestions)}catch(t){console.error(`Could not fetch suggestions: ${t.message}`)}}askSaveSuggestionFeedback({feedback:e,id:t}){this.net.POST(`!{cloud}/v3/suggestions/${encodeURIComponent(t)}/feedback`,{feedback:e}),this.cache={}}async _askLeoSuggestions(){let e=(0,a.Z)(o.service,o.askLeoSuggestions);return e||(e=this.net.GET("!{cloud}/v3/suggestions").then(JSON.parse).then((e=>(e&&e.suggestions&&(this.cache.suggestionsBatch=e),e))),(0,a.Z)(o.service,o.askLeoSuggestions,e),e)}}function c(e){return new l(e)}},92943:(e,t,s)=>{"use strict";s.r(t),s.d(t,{computeRelatedTopics:()=>l,default:()=>d});var n=s(3e3),i=s(53411),r=s(94600),a=s(83168);const o=Object.freeze({en:[{label:"tech",related:["apple","android","bitcoin","big data","gadgets"],cover:"https://s3.feedly.com/explore/topics-tech-ffffff.jpeg",unit:3,importance:1,bgcolor:"#ffffff",theme:"light"},{label:"marketing",unit:3,cover:"https://s3.feedly.com/explore/topics-marketing-3a0202.jpeg",bgcolor:"#3a0202",theme:"dark",importance:3,related:["advertising","seo","content marketing","growth","digital marketing","copywriting"]},{label:"design",unit:3,cover:"https://s3.feedly.com/explore/topics-design-170e0a.jpeg",bgcolor:"#170e0a",theme:"dark",importance:3,related:["architecture","typography","decoration","web design","packaging","art","visual design"]},{label:"business",cover:"https://s3.feedly.com/explore/topics-business-7c89a5.jpeg",bgcolor:"#7c89a5",unit:3,theme:"dark",related:["finance","marketing","entrepreneurship","startups"]},{label:"food",visual:"https://s3.feedly.com/explore/cooking.v2.jpg",related:["healthy","vegetarian","dessert and baking"],unit:3,cover:"https://s3.feedly.com/explore/topics-food-392a31.jpeg",bgcolor:"#392a31",theme:"dark"},{label:"news",visual:"https://s3.feedly.com/explore/world-news.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-news-000000.jpeg",bgcolor:"#000000",theme:"dark",related:["local","international","politics"]},{label:"fashion",unit:3,cover:"https://s3.feedly.com/explore/topics-fashion-d4d1d5.jpeg",bgcolor:"#d4d1d5",theme:"light",related:["business","news","style","men"]},{label:"startups",visual:"https://s3.feedly.com/explore/entrepreneurship.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-startup-1f323f.jpeg",bgcolor:"#1f323f",theme:"dark",keyword:"#entrepreneurship"},{label:"photography",theme:"dark",cover:"https://s3.feedly.com/explore/topics-photography-686976.jpeg",bgcolor:"#686976",unit:3},{label:"gaming",related:["pc","xbox","fps","flash games"],theme:"dark",cover:"https://s3.feedly.com/explore/topics-gaming-383b31.jpeg",bgcolor:"#383b31",unit:3},{label:"baking",cover:"https://s3.feedly.com/explore/topics-baking-f4f1e9.jpeg",bgcolor:"#f4f1e9",unit:3,related:["bread","desserts","sweets"],theme:"light"},{label:"DIY",cover:"https://s3.feedly.com/explore/topics-doityourself-f1b86c.jpeg",bgcolor:"#f1b86c",unit:3,theme:"light",related:["vintage","home makeover","scrapbooking"]},{label:"beauty",theme:"dark",cover:"https://s3.feedly.com/explore/topics-beauty-aa8f7c.jpeg",bgcolor:"#aa8f7c",unit:3,related:["lifestyle","makeup","style"]},{label:"comics",cover:"https://s3.feedly.com/explore/topics-comics-bec08f.jpeg",bgcolor:"#bec08f",unit:3,theme:"light",related:["comic strips","digital comics","science"]},{label:"cars",theme:"dark",cover:"https://s3.feedly.com/explore/topics-cars-181b21.jpeg",bgcolor:"#181b21",unit:3,related:["essay","formula 1","motorcycle"]},{label:"culture",theme:"dark",cover:"https://s3.feedly.com/explore/topics-culture-5e473f.jpeg",bgcolor:"#5e473f",unit:3,related:["art","history","lifestyle","urban"]},{label:"SEO",cover:"https://s3.feedly.com/explore/topics-seo-ffffff.jpeg",bgcolor:"#ffffff",unit:3,theme:"light",related:["inbound marketing","analytics","content strategy"]},{label:"education",cover:"https://s3.feedly.com/explore/topics-education-6c7270.jpeg",bgcolor:"#6c7270",unit:3,theme:"dark",related:["teaching","technology","methodology"]},{label:"science",visual:"https://s3.feedly.com/explore/science.v2.jpg",cover:"https://s3.feedly.com/explore/topics-science-000000.jpeg",bgcolor:"#000000",unit:3,related:["biology","neuroscience","health"],theme:"dark"},{label:"finance",cover:"https://s3.feedly.com/explore/topics-finance-9db4cb.jpeg",bgcolor:"#9db4cb",theme:"dark",unit:3,related:["business","economics","news"]},{label:"film",visual:"https://s3.feedly.com/explore/cinema.jpg",cover:"https://s3.feedly.com/explore/topics-film-6d6d6d.jpeg",bgcolor:"#6d6d6d",unit:3,theme:"dark",keyword:"#cinema",related:["reviews","indie","hollywood","anime"]},{label:"travel",cover:"https://s3.feedly.com/explore/topics-travel-f0bd9b.jpeg",bgcolor:"#f0bd9b",unit:3,theme:"light",related:["travel hacking","adventure"]},{label:"YouTube",visual:"https://s3.feedly.com/explore/YouTube.v2.jpg",cover:"https://s3.feedly.com/explore/topics-youtube-ffffff.jpeg",bgcolor:"#ffffff",unit:3,keyword:"#youtube",related:["sport","tech","viral vidoes"],theme:"light"},{label:"vimeo",cover:"https://s3.feedly.com/explore/topics-vimeo-232f3a.jpeg",bgcolor:"#232f3a",unit:3,theme:"dark",visual:"https://s3.feedly.com/explore/vimeo.v2.jpg",related:["inspiration","documentary","film"]}],de:[{label:"High Tech",visual:"https://s3.feedly.com/explore/tech.jpg",unit:3,importance:1,cover:"https://s3.feedly.com/explore/topics-tech-ffffff.jpeg",bgcolor:"#ffffff",theme:"light"},{label:"Nachrichten",visual:"https://s3.feedly.com/explore/world-news.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-news-000000.jpeg",bgcolor:"#000000",theme:"dark"},{label:"Kultur",visual:"https://s3.feedly.com/explore/culture.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-culture-5e473f.jpeg",bgcolor:"#5e473f",theme:"dark"},{label:"Marketing",visual:"https://s3.feedly.com/explore/marketing.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-marketing-3a0202.jpeg",bgcolor:"#3a0202",theme:"dark"},{label:"Wirtschaft",visual:"https://s3.feedly.com/explore/politics.jpg",cover:"https://s3.feedly.com/explore/topics-finance-9db4cb.jpeg",bgcolor:"#9db4cb",theme:"dark",unit:3},{label:"Sport",visual:"https://s3.feedly.com/explore/sport.jpg",theme:"dark",cover:"https://s3.feedly.com/explore/topics-sports-618a3d.jpeg",bgcolor:"#618a3d",unit:3},{label:"Automobil",visual:"https://s3.feedly.com/explore/auto.jpg",theme:"dark",cover:"https://s3.feedly.com/explore/topics-cars-181b21.jpeg",bgcolor:"#181b21",unit:3},{label:"Architektur",visual:"https://s3.feedly.com/explore/architecture.jpg",theme:"dark",cover:"https://s3.feedly.com/explore/topics-architecture-53633f.jpeg",bgcolor:"#53633f",unit:3},{label:"Design",visual:"https://s3.feedly.com/explore/design.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-design-170e0a.jpeg",bgcolor:"#170e0a",theme:"dark"},{label:"Fotoblogs",visual:"https://s3.feedly.com/explore/photography.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-photography-686976.jpeg",bgcolor:"#686976",theme:"dark"},{label:"Gastronomie",visual:"https://s3.feedly.com/explore/cooking.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-food-392a31.jpeg",bgcolor:"#392a31",theme:"dark"},{label:"Handwerk",visual:"https://s3.feedly.com/explore/do-it-yourself.jpg",cover:"https://s3.feedly.com/explore/topics-doityourself-f1b86c.jpeg",bgcolor:"#f1b86c",unit:3,theme:"light"},{label:"Fashion",visual:"https://s3.feedly.com/explore/fashion.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-fashion-d4d1d5.jpeg",bgcolor:"#d4d1d5",theme:"light"},{label:"Kino",visual:"https://s3.feedly.com/explore/cinema.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-film-6d6d6d.jpeg",bgcolor:"#6d6d6d",theme:"dark"}],"es-419":[{label:"Tecnologa",visual:"https://s3.feedly.com/explore/tech.jpg",unit:3,importance:1,cover:"https://s3.feedly.com/explore/topics-tech-ffffff.jpeg",bgcolor:"#ffffff",theme:"light"},{label:"moda",visual:"https://s3.feedly.com/explore/fashion.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-fashion-d4d1d5.jpeg",bgcolor:"#d4d1d5",theme:"light"},{label:"videojuegos",keyword:"#juegosvideos",visual:"https://s3.feedly.com/explore/gaming.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-gaming-383b31.jpeg",bgcolor:"#383b31",theme:"dark"},{label:"gastronoma",visual:"https://s3.feedly.com/explore/cooking.jpg",keyword:"#gastronomia",unit:3,cover:"https://s3.feedly.com/explore/topics-food-392a31.jpeg",bgcolor:"#392a31",theme:"dark"},{label:"decoracin",visual:"https://s3.feedly.com/explore/deco.jpg",theme:"light",cover:"https://s3.feedly.com/explore/topics-decoration-ffffff.jpeg",bgcolor:"#ffffff",unit:3},{label:"diseo",visual:"https://s3.feedly.com/explore/design.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-design-170e0a.jpeg",bgcolor:"#170e0a",theme:"dark"},{label:"cine",visual:"https://s3.feedly.com/explore/cinema.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-film-6d6d6d.jpeg",bgcolor:"#6d6d6d",theme:"dark"},{label:"Turismo",visual:"https://s3.feedly.com/explore/travel.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-travel-f0bd9b.jpeg",bgcolor:"#f0bd9b",theme:"light"},{label:"publicidad",visual:"https://s3.feedly.com/explore/marketing.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-marketing-3a0202.jpeg",bgcolor:"#3a0202",theme:"dark"},{label:"ciencia",visual:"https://s3.feedly.com/explore/science.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-science-000000.jpeg",bgcolor:"#000000",theme:"dark"}],fr:[{label:"Technologie",visual:"https://s3.feedly.com/explore/tech.jpg",unit:3,importance:1,cover:"https://s3.feedly.com/explore/topics-tech-ffffff.jpeg",bgcolor:"#ffffff",theme:"light"},{label:"Design",visual:"https://s3.feedly.com/explore/design.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-design-170e0a.jpeg",bgcolor:"#170e0a",theme:"dark"},{label:"Decoration",visual:"https://s3.feedly.com/explore/deco.jpg",theme:"light",cover:"https://s3.feedly.com/explore/topics-decoration-ffffff.jpeg",bgcolor:"#ffffff",unit:3},{label:"BD",visual:"https://s3.feedly.com/explore/comics.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-comics-bec08f.jpeg",bgcolor:"#bec08f",theme:"light"},{label:"Photographie",visual:"https://s3.feedly.com/explore/photography.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-photography-686976.jpeg",bgcolor:"#686976",theme:"dark"},{label:"Finance",visual:"https://s3.feedly.com/explore/finance.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-finance-9db4cb.jpeg",bgcolor:"#9db4cb",theme:"dark"},{label:"Politique",visual:"https://s3.feedly.com/explore/politics.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-politic-000000.jpeg",bgcolor:"#000000",theme:"dark"},{label:"Actualites",visual:"https://s3.feedly.com/explore/news.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-news-000000.jpeg",bgcolor:"#000000",theme:"dark"},{label:"International",visual:"https://s3.feedly.com/explore/world-news.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-international-593314.jpeg",bgcolor:"#593314",theme:"dark"},{label:"Automobile",visual:"https://s3.feedly.com/explore/auto.jpg",theme:"dark",cover:"https://s3.feedly.com/explore/topics-cars-181b21.jpeg",bgcolor:"#181b21",unit:3},{label:"Mode",visual:"https://s3.feedly.com/explore/fashion.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-fashion-d4d1d5.jpeg",bgcolor:"#d4d1d5",theme:"light"},{label:"gastronomie",visual:"https://s3.feedly.com/explore/cooking.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-food-392a31.jpeg",bgcolor:"#392a31",theme:"dark"},{label:"cinema",visual:"https://s3.feedly.com/explore/cinema.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-film-6d6d6d.jpeg",bgcolor:"#6d6d6d",theme:"dark"}],it:[{label:"tecnologia",visual:"https://s3.feedly.com/explore/tech.jpg",unit:3,importance:1,cover:"https://s3.feedly.com/explore/topics-tech-ffffff.jpeg",bgcolor:"#ffffff",theme:"light"},{label:"design",visual:"https://s3.feedly.com/explore/design.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-design-170e0a.jpeg",bgcolor:"#170e0a",theme:"dark"},{label:"gastronomia",visual:"https://s3.feedly.com/explore/cooking.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-food-392a31.jpeg",bgcolor:"#392a31",theme:"dark"},{label:"economia",visual:"https://s3.feedly.com/explore/finance.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-finance-9db4cb.jpeg",bgcolor:"#9db4cb",theme:"dark"},{url:"mix://15175512314742267750/gossip",label:"gossip",theme:"dark",cover:"https://s3.feedly.com/explore/topics-gossip-494949.jpeg",bgcolor:"#494949",unit:3},{url:"mix://15175512314742267750/tendenze",label:"tendenze",visual:"https://s3.feedly.com/explore/fashion.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-fashion-d4d1d5.jpeg",bgcolor:"#d4d1d5",theme:"light"},{label:"scienza",visual:"https://s3.feedly.com/explore/science.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-science-000000.jpeg",bgcolor:"#000000",theme:"dark"},{label:"marketing",visual:"https://s3.feedly.com/explore/marketing.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-marketing-3a0202.jpeg",bgcolor:"#3a0202",theme:"dark"},{label:"fumetti",visual:"https://s3.feedly.com/explore/comics.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-comics-bec08f.jpeg",bgcolor:"#bec08f",theme:"light"},{label:"viaggi",visual:"https://s3.feedly.com/explore/travel.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-travel-f0bd9b.jpeg",bgcolor:"#f0bd9b",theme:"light"},{label:"cinema",visual:"https://s3.feedly.com/explore/cinema.jpg",unit:3,cover:"https://s3.feedly.com/explore/topics-film-6d6d6d.jpeg",bgcolor:"#6d6d6d",theme:"dark"}],ja:[{label:"tech",related:["apple","android"]},{label:"news",visual:"https://s3.feedly.com/explore/world-news.jpg",keyword:"#world news"},{label:"business",visual:"https://s3.feedly.com/explore/business.v2.jpg"},{label:"gaming"},{label:"photography"},{label:"design",related:["architecture","deco","branding","design thinking","graphic design","packaging","typography","web design","infography"]},{label:"fashion",related:["wedding","gardening"]},{label:"cooking"},{label:"do it yourself",visual:"https://s3.feedly.com/explore/do-it-yourself.jpg"},{label:"sport"},{label:"cinema"},{label:"youtube"},{label:"vimeo"}],ko:[{label:"tech",related:["apple","android"]},{label:"news",visual:"https://s3.feedly.com/explore/world-news.jpg",keyword:"#world news"},{label:"business",visual:"https://s3.feedly.com/explore/business.v2.jpg"},{label:"gaming"},{label:"photography"},{label:"design",related:["architecture","deco","branding","design thinking","graphic design","packaging","typography","web design","infography"]},{label:"fashion",related:["wedding","gardening"]},{label:"cooking"},{label:"do it yourself",visual:"https://s3.feedly.com/explore/do-it-yourself.jpg"},{label:"sport"},{label:"cinema"},{label:"youtube"},{label:"vimeo"}]});function l(e,t){const s={};e.forEach((e=>{e.topics&&e.topics.forEach((e=>{s[e]?s[e]+=1:s[e]=1}))}));let n=[];for(const i in s)n.push({topic:i,count:s[i]});return n.sort(((e,t)=>t.count-e.count)).filter((e=>e.count>=2&&e.topic!==t)).map((e=>e.topic))}class c extends a.y{setFeeds(e){this.feeds=e}load(){this.personalizedTopics=null}initialize(){}uninitialize(){}unload(){this.feeds=null,this.personalizedTopics=null}onUserIdentified(){this.personalizedTopics=null}onNoUserIdentified(){this.personalizedTopics=null}listTopics(e){try{e||(e=(0,r.Mb)());const t=o[e]||o.en;if(null==t||0===t.length)return[];const s=[],n={};let i=0;for(let e=0;e<t.length;e++){const r=t[e].label;null==n[t[e].label]&&(s.push({label:t[e].label,keyword:null!=t[e].keyword?t[e].keyword:"#"+t[e].label,visual:t[e].visual||"//s3.feedly.com/explore/"+t[e].label.replace(/\s/gi,"-")+".jpg",related:t[e].related,color:t[e].color||"#777777",unit:t[e].unit||1,order:i,rank:t[e].rank||i,theme:t[e].theme||"dark",cover:t[e].cover,bgcolor:t[e].bgcolor,streamId:"topic/"+(null!=t[e].keyword?t[e].keyword:"#"+t[e].label)}),i+=1,n[r]=!0)}return s}catch(t){return[]}}async askGuessFeeds(e,t){try{const{language:s}=t,i=s||(0,n.Q3)()||(0,n.tN)();return this.feeds.askSearchFeeds(e,{...t,locale:i})}catch(s){return console.error("[suggesto] failed to ask guess feeds",s,e,t),[]}}async askDiscoverTopics(e="en"){this.personalizedTopics||(this.personalizedTopics=await this._askSuggestPersonalizedTopics());let t=this.listTopics(e).map((e=>e.label.toLowerCase()));t=t.filter((e=>this.personalizedTopics.indexOf(e)<=-1));const s=this.personalizedTopics.concat(t);return Promise.all(s.map((t=>this.askGuessFeeds(t,{fullTerm:!1,language:e,organic:!0,numResults:5})))).then((e=>{const t={},n=[];return e.forEach(((e,r)=>{if(!e||0===e.length)return;const a=(0,i.T)(e.slice(0,3));t[a[0].id]||(t[a[0].id]=!0,n.push({label:s[r],featured:a[0]}))})),n}))}async _askSuggestPersonalizedTopics(){let e={};(await this.feeds.askListFeeds()).forEach((t=>{t.topics&&t.topics.forEach((s=>{if(t.categories)t.categories.forEach((t=>{let n=e[t.id];n||(n=e[t.id]={}),n[s]?n[s]+=1:n[s]=1}));else{let t=e["#uncategorized"];t||(t=e["#uncategorized"]={}),t[s]?t[s]+=1:t[s]=1}}))}));let t={},s=[],n=[];for(let i in e){let r=[];for(let t in e[i])r.push({topic:t,count:e[i][t]});r.sort(((e,t)=>t.count-e.count)),r=r.filter((e=>e.count>=2)),r.length>0&&!t[r[0].topic]&&(s.push(r[0]),t[r[0].topic]=!0),r.length>1&&n.push(r[1]),r.length>2&&r[2].count>3&&n.push(r[2]),r.length>3&&r[3].count>5&&n.push(r[3])}return s.sort(((e,t)=>t.count-e.count)),n=(0,i.T)(n),n.forEach((e=>{t[e.topic]||(s.push(e),t[e.topic]=!0)})),s.map((e=>e.topic))}}function d(e){return new c(e)}},192:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setEnterprisetags(e){this.enterprisetags=e}setPersonaltags(e){this.personaltags=e}load(){}unload(){this.enterprisetags=null,this.personaltags=null}async askMoveTagToTeam(e,t,s){const n={...e,id:null,importTag:e.id},i=await this.enterprisetags.askSave(n);return this.fire("onBoardMovedToTeam",i,s),await this.personaltags.askDeleteTag(e.id),i}async askLabelsIndex(){const e={cachedUnreadCountsOnly:!0},[t,s]=await Promise.all([this.personaltags.askListTags(e),this.enterprisetags.askListTags(e)]);return[...t,...s].reduce(((e,{id:t,label:s})=>(e[t]=s,e)),{})}}function r(e){return new i(e)}},49367:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(83168),i=s(74221),r=s(59852);class a extends n.y{setEnterprisecollections(e){this.enterprisecollections=e}setPersonalcollections(e){this.personalcollections=e}setPreferences(e){this.preferences=e}setEnterprise(e){this.enterprise=e}setProfile(e){this.profile=e}load(){this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),this.preferences.registerObserver(this)}unload(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.preferences.unregisterObserver(this),this.enterprisecollections=null,this.personalcollections=null,this.preferences=null,this.enterprise=null,this.profile=null}async askListPersonalSections(e){const t=this.profile.hasLeoAccess(),s=await this.personalcollections.askListRankedCollections(e);let n=s.filter((e=>e.unreadCount>0||null==e.unreadCount)).slice(0,50);if(1===s&&1===n.length&&n[0].feeds&&(n=n[0].feeds.filter((e=>e.unreadCount>0)).slice(0,50).map((e=>({unreadCount:e.unreadCount,streamId:e.streamId,type:"subscription",label:e.title})))),t){const e=(0,i.N1)();n.unshift({allId:e,label:"Priority",streamId:e,importantOnly:!0})}return n}async askListEnterpriseSections(e){const t=await this.enterprise.askIsLeoEnabled(),s=await this.enterprisecollections.askListRankedSubscribedCollections(e),n=await(0,r.n)(e),a=s.filter((e=>e.unreadCount>0||null==e.unreadCount)).slice(0,50);if(t){const e=(0,i.sX)();a.unshift({id:e,label:"Priority",streamId:e,importantOnly:!0})}return a.unshift(Object.assign(n.userTagGlobalEnterprise,{label:"Saved by your team"})),a}}function o(e){return new a(e)}},55251:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNet(e){this.net=e}unload(){this.net=null}askTopics(e){return this.net.GET("!{cloud}/v3/topics"+(e?`?pageIndex=${encodeURIComponent(e)}`:"")).then(JSON.parse).then((({pageIndex:e,pageTotal:t,topics:s})=>({pageIndex:e,pageTotal:t,topics:s.map((({topicId:e,topicName:t,topFeedInfo:s})=>({label:t,id:e,featured:s})))})))}askTopTopics(e){return this.net.GET(`!{cloud}/v3/topics/top?language=${e}`).then(JSON.parse)}}function r(e){return new i(e)}},98812:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(10268),i=s.n(n),r=s(83168),a=s(74221),o=s(59852);class l extends r.y{setEnterprisecollections(e){this.enterprisecollections=e}setPersonalcollections(e){this.personalcollections=e}setEnterprisetags(e){this.enterprisetags=e}setPreferences(e){this.preferences=e}setEnterprise(e){this.enterprise=e}setPriorities(e){this.priorities=e}setCollections(e){this.collections=e}load(){}unload(){this.collections=null,this.enterprise=null,this.enterprisecollections=null,this.enterprisetags=null,this.personalcollections=null,this.personaltags=null,this.preferences=null,this.priorities=null}async askSuggestNextStream(e){let{isFeed:t,isAll:s,isGlobalEnterprise:n}=(0,a.Yg)(e);if(s)return(await(0,o.n)()).userCategoryGlobalAll;if(n)return(await(0,o.n)()).userCategoryGlobalEnterprise;if(t){const t=await this._askComputeFeedList();let s=!1;for(let n=0;n<t.length;n++){if(s&&t[n].unreadCount>0)return t[n];t[n].id===e&&(s=!0)}}else{const t=await this._askComputeSectionList();let s=!1;for(let n=0;n<t.length;n++){if(s&&t[n].unreadCount>0)return t[n];t[n].id===e&&(s=!0)}}return this.preferences.isTeamFirst()?(await(0,o.n)()).userCategoryGlobalEnterprise:(await(0,o.n)()).userCategoryGlobalAll}async askSuggestPreviousStream(e){let{isFeed:t,isAll:s,isGlobalEnterprise:n}=(0,a.Yg)(e);if(s)return(await(0,o.n)()).userCategoryGlobalAll;if(n)return(await(0,o.n)()).userCategoryGlobalEnterprise;if(t){const t=await this._askComputeFeedList();let s=!1;for(let n=t.length-1;n>=0;n--){if(s&&t[n].unreadCount>0)return t[n];t[n].id===e&&(s=!0)}}else{const t=await this._askComputeSectionList();let s=!1;for(let i=t.length-1;i>=0;i--){if(s&&t[i].unreadCount>0)return t[i];t[i].id===e&&(s=!0)}const n=t.filter((e=>null==e.unreadCount||e.unreadCount>0));if(n.length>0)return n[0]}return this.preferences.isTeamFirst()?(await(0,o.n)()).userCategoryGlobalEnterprise:(await(0,o.n)()).userCategoryGlobalAll}async _askComputeFeedList(){const[e,t]=await Promise.all([this.personalcollections.askListRankedCollections(),this.enterprisecollections.askListRankedSubscribedCollections()]),s=e.filter((e=>!(0,a.Yg)(e.id).isFavorites)).reduce(((e,t)=>e.concat(t.feeds)),[]),n=t.reduce(((e,t)=>e.concat(t.feeds)),[]),r=this.preferences.isTeamFirst()?[...n,...s]:[...s,...n];return i()(r,(e=>e.streamId))}async _askComputeSectionList(){let e=[],t=[],s=[],n=[];streets.hasBusinessAccess()?[e=[],t=[],s=[],n=[]]=await Promise.all([this.personalcollections.askListRankedCollections(),this.enterprisecollections.askListRankedSubscribedCollections(),this.enterprisetags.askListRankedSubscribedTags(),this._askListRankedPrioritiesSection()]):[e=[],n=[]]=await Promise.all([this.personalcollections.askListRankedCollections(),this._askListRankedPrioritiesSection()]);let i=[];return i=this.preferences.isTeamFirst()?[...n,...t,...s,...e]:[...n,...e,...t,...s],i}async _askListRankedPrioritiesSection(){return(await this.priorities.askListRankedPriorities()).filter((e=>e.unreadCount>0)).map((e=>({uri:e.prefContext,unreadCount:e.unreadCount,streamId:e.streamdId,id:e.id})))}}function c(e){return new l(e)}},63827:(e,t,s)=>{"use strict";var n=s(86130),i=s(38916),r=s(15454),a=s(35610);window.feedlyLandingPage="welcome",window.awarenessMarker=!1,window.loginMarker=!1,window.streets=null,window.oauthTrigger=!1,window.oauthMode=null,window.oauthProvider=null,window!==top&&(top.location=window.location);let o=null,l=null;var c,d,h,u;c=window,d="message",h=function(e){if("http://feedly.com"!==e.origin&&"https://feedly.com"!==e.origin&&"http://cloud.feedly.com"!==e.origin&&"https://cloud.feedly.com"!==e.origin&&"http://sandbox7.feedly.com"!==e.origin&&"https://sandbox7.feedly.com"!==e.origin&&"http://gke.feedly.com"!==e.origin&&"https://gke.feedly.com"!==e.origin)return;const t=e.data;if(null==t||"string"!=typeof t)return;const s=t.indexOf("error=");if(t.indexOf("state=addLogin")>-1)if(null!=o&&(o.close(),o=null),-1===s)location.reload(!1);else{$feedly("[web launch] ask add failed because:"+t);const e=t.slice(s+"error=".length),n=e.indexOf("&");n>-1&&e.slice(0,n),streets.service("signs").setNextAutoHideDelay(3e3),streets.service("signs").showMessage("Login already attached to a different account")}else if(t.indexOf("eventType=feedly")>-1){const s=(0,a.m_)(t);if(s){try{streets.service("analytics").reportBasicEngagement("auth/"+window.oauthProvider+"/done"),window.loginMarker=!0}catch(n){$feedly("[web launcher] failed to track auth.done because "+e.name+" -- "+e.message)}streets.service("feedly").askLogin(s)}else streets.service("analytics").trackPageview("auth.error/"+window.oauthMode+"/"+window.oauthProvider);null!=l&&(l.close(),l=null)}else{const e=Object.values(i.bK).find((e=>t.includes(`eventType=${e}`)));e&&(-1===s?streets.service("integrations").markAsConnected(e):streets.service("integrations").onConnectionFailure(e))}},u=!1,c.addEventListener?c.addEventListener(d,h,u):c.attachEvent&&c.attachEvent("on"+d,h),window.askLoginFeedly=function(e){try{window.startOAuth(null,"login",e)}catch(t){$feedly("FAILED TO ASK LOGIN:"+t.name+" -- "+t.message)}},window.askSignupTwitter=function(){try{window.startOAuth("Twitter","signup")}catch(e){$feedly("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}},window.askSignupFacebook=function(){try{window.startOAuth("Facebook","signup")}catch(e){$feedly("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}},window.askSignupGoogle=function(e){try{window.startOAuth("Google","signup",e)}catch(t){$feedly("FAILED TO ASK LOGIN:"+t.name+" -- "+t.message)}},window.askSignupWindowsLive=function(){try{window.startOAuth("WindowsLive","signup")}catch(e){$feedly("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}},window.askSignupEvernote=function(){try{window.startOAuth("Evernote","signup")}catch(e){$feedly("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}},window.askSignupEnterprise=function(){try{window.startOAuth("enterprise","signup")}catch(e){$feedly("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}},window.askSignupFeedly=function(e){try{window.startOAuth(null,"signup",e)}catch(t){$feedly("FAILED TO ASK SIGNUP:"+t.name+" -- "+t.message)}},window.startOAuth=function(e,t,s,n,i){window.oauthTrigger=!0;const a=new String(document.location);try{window.oauthProvider=(e||"feedly").toLowerCase(),window.oauthMode=(t||"login").toLowerCase(),streets.service("analytics").reportBasicEngagement("auth/"+window.oauthProvider+"/ask")}catch(m){$feedly("[web launcher] failed to track auth.ask because "+m.name+" -- "+m.message)}const o=0===a.indexOf("https://sandbox7.feedly.com")||a.indexOf("localhost")>-1&&a.indexOf("/d/")>-1,c=a.indexOf("localhost")>-1;(o||c)&&(s=!1);let d="feedly.html";s&&(d="i/login");let h="https://feedly.com/"+d;if(o?h="https://sandbox7.feedly.com/feedly.html":0===a.indexOf("https://gke.feedly.com")&&(h="https://gke.feedly.com/"+d),!i){const e=streets.service("pageManager").getPageInfo();e&&(i=e.uri)}const u=window.localStorage.getItem("feedly.partner");let p=window.BACKEND+"/v3/auth/auth?client_id=feedly&redirect_uri="+encodeURIComponent(h)+"&scope="+encodeURIComponent("https://cloud.feedly.com/subscriptions")+"&response_type=code&ck="+(new Date).getTime()+"&ct="+feedlyApplicationType+"&landingPage="+window.feedlyLandingPage+"&cv=31.0.1284";if(e&&(p=p+"&provider="+e),t&&(p+="&mode="+t),n&&(p+="&loginHint="+encodeURIComponent(n)),i&&(p+="&pageRef="+encodeURIComponent(i)),u&&(p+="&partner="+encodeURIComponent(u)),"enterprise"===e&&(p=window.BACKEND+"/v3/auth/enterprise?client_id=feedly&redirect_uri="+encodeURIComponent(h)+"&ck="+(new Date).getTime()+"&ct="+feedlyApplicationType+"&cv=31.0.1284&landingPage="+window.feedlyLandingPage+"&pageRef="+i+"&mode="+t),s)window.location.replace(p);else{let e=480,t=680,s=screen.height,n=screen.width,i=Math.round(n/2-e/2),a=100;if(s/2>t&&(a=Math.round(s/2-t)),l=window.open(p,"_blank","left="+i+",top="+a+",width=480,height=680,personalbar=0,toolbar=0,scrollbars=1,resizable=1"),null==l)return void(0,r.d)();l.focus&&l.focus()}},window.askTweetSelectionPopup=function(e,t,s){try{let n=550,i=286,a=screen.height,o=screen.width,l=Math.round(o/2-n/2),c=0;a>i&&(c=Math.round(a/2-i/2));const d=window.open("about:blank","_blank","left="+l+",top="+c+",width=550,height=286,personalbar=0,toolbar=0,scrollbars=1,resizable=1");if(null==d)return(0,r.d)();d.focus(),d.location="https://twitter.com/share?related=feedly&text="+encodeURIComponent(e)+"&url="+encodeURIComponent(t)+"&_="+(new Date).getTime()+"&hashtags="+s.join(","),streets.service("analytics").trackEvent("sharing","tweet")}catch(n){$feedly("[web] failed to popup tweetsheet:"+n.name+" -- "+n.message)}};s(91809);var p,m,g,f=s(44694);!function(){var e=devhd.pkg("features"),t=e.bind={};t.bind=function(e,t,s,n){var i,r=this;null==this.bindings&&(this.bindings=[]),"string"==typeof e&&(e=this.element(e)),null!=e&&("string"==typeof t?(i=function(e){return s.call(r,e)},this.bindings.push({element:e,event:t,listener:i}),(0,f.Oo)(e,t,i,!0===n)):console.error("tried to bind behavior"),null!=this.home&&this.home.track(e,t))},t.unbind=function(e,t){if(null==e)return!0;null==this.bindings&&(this.bindings=[]);const s=this.bindings.length;for(let n=0;n<this.bindings.length;n++){const s=this.bindings[n];s.element==e&&(s.event==t&&((0,f.xg)(s.element,s.event,s.listener,!1),s.element=null,s.listener=null,this.bindings.splice(n,1),null!=this.home&&this.home.untrack(e,t)))}return s!=this.bindings.length},t.unbindAll=function(){var e;if(null!=this.bindings)for(;this.bindings.length;)(e=this.bindings.pop()).listener&&((0,f.xg)(e.element,e.event,e.listener,!1),null!=this.home&&this.home.untrack(e.element,e.event)),e.element=null,e.listener=null};var s=e.home={};s.element=function(e,t){return null==this.home?null:this.home.element(e,t)},s.setHome=function(e){this.home=e}}(),(g=devhd.pkg("utils")).JSONUtils={decode:function(e){return JSON.parse(e)},encode:function(e){return JSON.stringify(e)}},g.TemplateUtils={secureURL:a.sA},g.HTMLUtils=(m={},(p={}).injectCSS=function(e,t){try{t&&function(e){try{if(!e)return!1;delete m[e];const s=document.getElementById(e);return!!s&&((t=s)&&t.parentNode.removeChild(t),!0)}catch(s){return $feedly("failed to remove CSS for label "+e+" -- "+s.name+" -- "+s.message),!1}var t}(t);const s=document.getElementsByTagName("head")[0];if(!s)return!1;const n=document.createElement("style");return t&&n.setAttribute("id",t),n.setAttribute("type","text/css"),"undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1?n.innerHTML=e:n.styleSheet?n.styleSheet.cssText=e:n.innerHTML=e,s.appendChild(n),m[t]=!0,!0}catch(s){return $feedly("[nitro] failed to inject CSS. "+s.name+" -- "+s.message),!1}},p.replaceCSS=function(e,t){try{if(!t)return p.injectCSS(e);const s=document.getElementById(t);return s?("undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1?s.innerHTML=e:s.styleSheet?s.styleSheet.cssText=e:s.innerHTML=e,!0):p.injectCSS(e)}catch(s){return $feedly("[nitro] failed to replace CSS. "+s.name+" -- "+s.message),!1}},p);var y=s(48942),v=s(99979);n.Z.pkg("utils").SessionUtils=function(){const e={},t="feedly.session",s="feedly.session.server",n=(0,v.k)(),i=(0,y.I)()?window.localStorage:null;let r=null,a=!1;function o(e){e?n.setItem(t,JSON.stringify(e)):n.removeItem(t)}function l(){try{return!0===window.feedlyBrowser||"yes"===document.body.getAttribute("data-enricher")}catch(e){return!1}}return e.load=function(){try{if(i){const s=n.getItem(t);null!=s&&""!=s&&(n.removeItem(t),e.save(JSON.parse(s)))}let c=n.getItem(s);null!=c&&""!=c&&(c=window.atob(c),n.removeItem(s),e.save(JSON.parse(c)));let d=i?i.getItem(t):n.getItem(t);return r=null!=d&&""!=d?JSON.parse(d):null,r&&!r.plan&&r.feedlyPlan&&(r.plan=r.feedlyPlan,delete r.feedlyPlan,e.save(r)),l()&&!a&&(o(r),a=!0),r}catch(c){return console.error("failed to load session",c),null}},e.save=function(s){s?(r=s,i&&i.setItem(t,JSON.stringify(s)),i&&!l()||(a=!0,o(s))):e.clear()},e.clear=function(){r=null,n.removeItem(s),n.removeItem(t),i&&i.removeItem(t)},e}();var b,E,C=s(83168),w=s(87561);b=devhd.pkg("model"),(E=b.createClass("Observable")).initialize=function(e){this.observers=[],this.id=e,this.__originalId=e},E.registerObserver=function(e){this.observers.indexOf(e)>=0||this.observers.push(e)},E.unregisterObserver=function(e){var t=this.observers.indexOf(e);t<0||this.observers.splice(t,1)},E.removeAllObservers=function(){this.observers=[]},E.fireWhenIdle=function(e,t,s,n,i){streets.requestIdleCallback((()=>{this.fire(e,t,s,n,i)}))},E.fire=function(e,t,s,n,i){if(0!=this.observers.length){var r=[];for(var a in this.observers)r.push(this.observers[a]);for(var o=0;o<r.length;o++)try{var l=r[o];this.observers.indexOf(l)<0||(l[e]?l[e].call(l,t,s,n,i):null!=l.onEvent?l.onEvent.call(l,e,t,s,n,i):"function"==typeof l&&l.call(l,e,t,s,n,i))}catch(c){$feedly((0,w.Z)("notify observer",c)+". Hint: "+r[o]+"."+e)}}},E.destroy=function(){this.removeAllObservers()},E.toString=function(){var e="[obj:"+this.$clazz.$name;return this.id&&(e+=","+this.id),e+"]"},b.createObservable=function(e){return new C.y(e)};var k=s(79442),_=s(64498),M=s(7757),S=s(68681),T=s(9990);const I=new Date(2018,6,1).getTime();n.Z.pkg("streets").create=function(e,t){let s="LOADED";const i=n.Z.model.createObservable("streets");let r=[];const a=Object.assign({},t);let o={},l=e,c=null,d="standard",h=!1;function u(){let e=i.service("profile").getUserInfo();return e&&e.id||!c||!c.profile||!c.profile.id||(e=c.profile),e}i.version="1.0.0",i.getIsAdvancedPrivacyOn=function(){return h},i.setIsAdvancedPrivacyOn=function(e){h=e},i.isOffline=function(){return"OFFLINE"===s},i.getPlan=function(){return d},i.setPlan=function(e){switch(d=e,e){case"pro":d="pro";break;case"proStandard":d="proStandard";break;case"proPlus":d="proPlus";break;case"business":d="business";break;case"enterprise":d="enterprise";break;default:d="standard"}},i.isLimitedPlan=function(){if(i.hasProAccess())return!1;const e=u();return!e||e.created>=I},i.isStandardPlan=function(){return"standard"===d},i.hasProAccess=function(){return"pro"===d||"proStandard"===d||"proPlus"===d||i.hasBusinessAccess()},i.hasProPlusAccess=function(){return"proPlus"===d||i.hasBusinessAccess()},i.isStandardPlan=function(){return"standard"===d},i.isProLegacyPlan=function(){return"pro"===d},i.isProPlusPlan=function(){return"proPlus"===d},i.isProStandardPlan=function(){return"proStandard"===d},i.isBusinessPlan=function(){return"business"===d},i.isEnterprisePlan=function(){return"enterprise"===d},i.getUserId=function(){return null!=c?c.userId:null},i.setSentryUser=function(){k.av({id:i.getUserId()}),k.YA("plan",i.getPlan())},i.getEnterpriseId=function(){let e=u();return e.enterpriseName||e.adHocEnterpriseName},i.getEnterpriseName=function(){return u().enterpriseDescription||i.getEnterpriseId()},i.getEnterpriseStatus=function(){return u().enterpriseStatus},i.isEnterpriseUnpaid=function(){return"Unpaid"===u().enterpriseStatus},i.hasBusinessAccess=function(){return!!i.getUserId()&&!!i.getEnterpriseName()&&!i.isEnterpriseUnpaid()},i.hasAdminBusinessAccess=function(){return i.isUserAdmin()&&i.hasBusinessAccess()},i.isUserAdmin=function(){let e=u();return!(!e||!e.enterpriseRoles)&&e.enterpriseRoles.includes("admin")},i.isEmbedded=function(){return l.location.href.indexOf("#gadget")>-1||null!=l&&l.location.href.indexOf("feedly.com/embed")>-1},i.attachContext=function(e){c=e,null!=c?gtag("set","user_properties",{user_id:c.userId,plan:c.plan,is_side_a:(0,_.E)()}):gtag("set","user_properties",{is_side_a:(0,_.E)()})},i.getDocument=function(){return l},i.askLogin=e=>(i.service("reader").fire("onBeforeIdentityChanged","Logging in..."),(0,M.VZ)(e).then((()=>{i.askSyncIdentity("Logging in...")}))),i.askLogout=()=>{i.service("reader").fire("onIdentityChanged","Logging out..."),n.Z.utils.SessionUtils.clear(),$feedly("[core] Logout complete. Session cleared. Ask sync identity..."),i.askSyncIdentity("Logging out...")},i.askCheckIsOnline=async()=>{try{return await(0,T.kA)("!{cloud}/status"),!0}catch(e){return!1}},i.askLoginWithSession=function(e){e&&e.feedlyToken?n.Z.utils.SessionUtils.save(e):n.Z.utils.SessionUtils.clear();const t=i.getUserId();(0,M.hd)().then((e=>{try{const t=e?e.plan:"standard";i.attachContext(e),i.setPlan(t),g()}catch(t){i.goOffline("login failed: "+t.name+" -- "+t.message)}}),(e=>{const s=e instanceof S.o?e.errorCode:null;if(0===s||parseInt(s)>=500)try{$feedly(`[core] identity sync failed ${t||"none"} --\x3e none. Status:${s}`),i.goOffline("ask profile returned error code:"+s),i.isOffline()&&(window.askShowOfflineEmptyState&&window.askShowOfflineEmptyState(),console.error("No internet access"))}catch(n){$feedly("[warning] failed to go offline because:"+n.name+" -- "+n.message)}else try{i.attachContext(null),i.setPlan("standard"),g()}catch(n){$feedly("[warning] failed to switch to no identity because:"+n.name+" -- "+n.message)}}))},i.getState=function(){return s};const p=[];let m=0;function g(){i.getUserId()?function(){for(let t=0;t<r.length;t++){const s=r[t];for(const t in s)try{null!=o[t].onUserIdentified&&o[t].onUserIdentified(c||{})}catch(e){throw new Error((0,w.Z)(t+".onUserIdentified",e))}}}():function(){for(let t=0;t<r.length;t++){const s=r[t];for(const t in s)try{null!=o[t].onNoUserIdentified&&o[t].onNoUserIdentified()}catch(e){throw new Error((0,w.Z)(t+".onNoUserIdentified",e))}}}()}function f(){for(let t=0;t<r.length;t++){const s=r[t];for(const t in s)try{null!=o[t].onUserUpgraded&&o[t].onUserUpgraded(c||{})}catch(e){throw new Error((0,w.Z)(t+".onUserUpgraded",e))}}}function y(e,t,s){n.Z.assert(s,"Property '"+t+"' is null, while trying to inject into service '"+e.id+"'");const i="set"+t.charAt(0).toUpperCase()+t.substr(1),r=e[i]||e.inject;try{r.call(e,s,t)}catch(a){throw console.log(a),new Error((0,w.Z)("inject into:"+e.id+" using setter "+i+".",a))}}function v(e){if("function"==typeof e)return e;if("object"==typeof e&&e.__esModule&&e.hasOwnProperty("default"))return v(e.default);const t=e.split(".");if(t.length<=1||"devhd"!=t[0])return null;let s=n.Z;for(let n=1;n<t.length&&null!=s;n++)s=s[t[n]];return s}i.track=function(e,t){const s={element:e,event:t};p.push(s),m++},i.untrack=function(e,t){for(let s=0;s<p.length;s++){const n=p[s];n.element==e&&n.event==t&&p.splice(s,1)}},i.start=function(){if("STARTED"==s)return;let e;try{!function(){r=[];const e={};for(const t in a)e[t]=a[t];r.push(e)}();for(let t=0;t<r.length;t++){const s=r[t];e="creation";for(let t in s){const r=s[t];if(e="creation."+t+" using "+r.factory,r.fn=v(r.factory),r.dependencies=r.dependencies||[],r.properties=r.properties||{},"function"!=typeof r.fn)throw"failed to look up factory for :"+t+". Hint: no function for "+r.factory;const a=r.fn(t);if(null==a)throw"failed to look up factory for :"+t+". Hint: factory = "+r.factory;o[t]=a,n.Z.addFeature(a,n.Z.features.home),n.Z.addFeature(a,n.Z.features.bind),a.setHome(i)}e="injection";for(let e in s){const t=o[e],n=s[e];for(let e=0;e<n.dependencies.length;e++)y(t,n.dependencies[e],i.service(n.dependencies[e]));for(let e in n.properties)y(t,e,n.properties[e])}e="loading";for(let e in s)null!=o[e].load&&o[e].load();e="initialization";for(let t in s)e="initialization."+t,null!=o[t].initialize&&o[t].initialize()}e="process identity",g(),s="STARTED"}catch(t){console.error(t),i.goOffline("["+e+"] "+(0,w.Z)("load streets",t))}},i.askRefresh=async()=>{if(!i.getUserId())return;let e=[];for(let t=0;t<r.length;t++){let s=r[t];for(const t in s){let s=i.service(t);s.askRefresh&&e.push(s.askRefresh())}}return Promise.all(e)},i.askUpdatePlan=async function(e){$feedly("[feedly] starting to upgrade identity..."),e.feedlyId=e.id,e.feedlyRefreshToken=e.refresh_token,e.feedlyToken=e.access_token,e.feedlyExpiresIn=e.expires_in,e.feedlyExpirationTime=(new Date).getTime()+1e3*e.expires_in-1e4,e.plan=e.plan||"business",delete e.access_token,delete e.expires_in,delete e.id,delete e.token_type,delete e.refresh_token,n.Z.utils.SessionUtils.save(e);const t=await(0,M.hd)();if(!t.userId)throw new Error("Could not get new context");return i.attachContext(t),i.setPlan(t.plan),f(),$feedly("[core] identify upgraded"),t},i.askApplyNewSession=function(e){return new Promise(((t,s)=>{$feedly("[feedly] starting to upgrade identity...");let i=n.Z.utils.SessionUtils.load();i.feedlyToken=e.accessToken,i.plan=e.plan||"business",n.Z.utils.SessionUtils.save(i);for(let e=0;e<r.length;e++){const t=r[e];for(const e in t)try{null!=o[e].onSessionUpdated&&o[e].onSessionUpdated(i)}catch(a){throw new Error((0,w.Z)(e+".onSessionUpdated",a))}}t(i)}))},i.askSyncIdentity=function(e){const t=i.getUserId();try{"STARTED"===s&&i.service("reader").fire("onIdentityChanged",e)}catch(n){$feedly("[core][warning] failed to notify clients because:"+n.name+" -- "+n.message)}try{i.stop("identity re-sync")}catch(r){$feedly("[core][warning] failed to stop because "+r.name+" -- "+r.message)}(0,M.hd)().then((e=>{try{const t=null!=e?e.userId:null;i.attachContext(e),i.setPlan(e.plan),i.start();try{null!=i.onAfterIdentitySync&&i.onAfterIdentitySync.call(i,t)}catch(r){$feedly("[warning] failed to onAfterIdentitySync because:"+r.name+" -- "+r.message)}}catch(n){$feedly("[warning] failed to sync identity because:"+n.name+" -- "+n.message),console.error(n),i.goOffline("ask profile exception:"+n.name+" -- "+n.message);try{null!=i.onAfterIdentitySync&&i.onAfterIdentitySync.call(i,null,!0)}catch(r){$feedly("[warning] failed to onAfterIdentitySync because:"+r.name+" -- "+r.message)}}}),(e=>{const s=e instanceof S.o?e.errorCode:null;if(0===s||parseInt(s)>=500)try{$feedly(`[core] identity sync failed ${t||"none"} --\x3e none. Status:${s}`),i.goOffline("ask profile returned error code:"+s);try{null!=i.onAfterIdentitySync&&i.onAfterIdentitySync.call(i,null,!0)}catch(r){$feedly("[warning] failed to onAfterIdentitySync because:"+r.name+" -- "+r.message)}}catch(n){$feedly("[warning] failed to go offline because:"+n.name+" -- "+n.message)}else try{i.attachContext(null),i.setPlan("standard"),i.start();try{null!=i.onAfterIdentitySync&&i.onAfterIdentitySync.call(i,null)}catch(r){$feedly("[warning] failed to onAfterIdentitySync because:"+r.name+" -- "+r.message)}}catch(n){$feedly("[warning] failed to switch to no identity because:"+n.name+" -- "+n.message)}}))},i.goOffline=function(e){if($feedly("ask go offline. reason: "+e),"OFFLINE"!=s){try{i.stop("going offline")}catch(t){$feedly("[goOffline] trapping stop error: "+t.name+" -- "+t.message)}s="OFFLINE",$feedly("gone offline. reason: "+e)}},i.stop=function(e){try{if("LOADED"==s)return;if("STOPPED"==s)return;if("STARTED"==s)for(let e=r.length-1;e>-1;e--){const s=r[e];for(let e in s)null!=o[e].unbindAll&&o[e].unbindAll();for(let e in s)if(null!=o[e].uninitialize)try{o[e].uninitialize()}catch(t){$feedly("[streets] failed to un-initialize:"+e+" --\x3e "+t.name+" -- "+t.message)}for(let e in s)if(null!=o[e].unload)try{o[e].unload()}catch(t){$feedly("[streets] failed to unload:"+e+" --\x3e "+t.name+" -- "+t.message)}for(const e in s)delete o[e].home,delete o[e].element,delete o[e].bind,delete o[e].unbindAll;for(let e in s)delete o[e]}if(c=null,p.length>0){for(let e=0;e<p.length;e++)$feedly("[street][binding] leak of "+p[e].event+" at cleanup time.");$feedly("[streets]"+(m-p.length)+" bindings released correctly. Unrealeased:"+p.length)}o={},s="STOPPED",$feedly("stopped streets because:"+e)}catch(n){s="STOPPED",console.error(n),$feedly("[streets] failed to stop because "+n.name+" -- "+n.message),i.goOffline("failed to stop because "+n.name+" -- "+n.message)}},i.shutdown=function(){i.stop("shutdown procedure"),r=[]},i.dumpServices=function(){$feedly("start streets dump");for(const e in o)$feedly("--- service:"+e);$feedly("end streets dump")},i.service=function(e){return o[e]},i.element=function(e,t){if(null==l&&null==t){const e="[streets][element()] failed because no document attached to streets instance";throw $feedly(e),new Error(e)}return(t||l).getElementById(e)},i.getApplicationVersion=function(){return"31.0.1284"};let b,E=[],C=[];function N(){return E.length>0&&b&&(new Date).getTime()-b>5e3&&(console.error("[streets] detected UI locking bug. Triggering automatic clean-up",E,b,C),E=[]),E.length>0}function P(){N()||0===C.length||window.requestAnimationFrame((()=>{if(N())return;const e=C.shift();try{e()}catch(t){console.error("[streets] error during idle callback",t,e)}P()}))}return i.debugPriorities=function(){console.log("[streets] UI priorities",E,C,b)},i.clearPriorities=function(){E=[],b=void 0},i.requestPriority=function(e){E.push(e),b=(new Date).getTime()},i.extendPriority=function(e){b=(new Date).getTime()},i.releasePriority=function(e){const t=E.indexOf(e);t>-1&&E.splice(t,1),P()},i.requestIdleCallback=function(e,t){if(performance.now(),N()||C.length>0)C.push(e),performance.now();else try{e()}catch(s){console.error("[streets] error during idle callback",s,e)}},i};var N=s(24340),P=s.n(N),L=s(32735),x=s(12788),D=s(85131),O=s(47264);class A extends L.Component{constructor(e){super(e),this._askUndo=async()=>{this.setState({isVisible:!1}),clearTimeout(this._undoTimer),this.signs.showMessage("Undoing..."),await this.reader.askUndoLastMarkAsRead(),this._undoURI?this.feedly.loadPage(this._undoURI):this.feedly.reloadPage()},this.state={isVisible:!1}}componentDidMount(){this.feedly=streets.service("feedly"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.feedly=null,this.reader=null,this.signs=null,clearTimeout(this._undoTimer)}onUndoAvailable(){const e=streets.service("pageManager").getPageInfo();this._undoURI=e?e.uri:null,this.signs.hide(),this.setState({isVisible:!0}),clearTimeout(this._undoTimer),this._undoTimer=setTimeout((()=>{this.setState({isVisible:!1})}),5500)}render(){const{isVisible:e}=this.state;return e?L.createElement("div",{className:"UndoSign"},"Marked as read."," ",L.createElement(O.ZP,{className:"UndoSign__action",onClick:this._askUndo},"Undo")):null}}var z=s(3e3);var R=s(29125),F=s(57855),j=s(45538),U=s(99220),B=s(74221),H=s(80889),Y=s(8199),Z=s(61454),W=s(855),$=s(63403),q=s(70917),V=s(24896),G=s(3167),Q=s(29318),K=s(96196),J=s(53023);const X=new Set(["all","ifttt","landing","premium","pro","top","welcome"]);n.Z.pkg("services").createFeedly=function(e){const t=n.Z.model.createObservable(e);let r;t.setAlerts=function(e){r=e};let o=null;t.setIntegrations=function(e){o=e};let l=null;t.setEnterprisecollections=function(e){l=e,l.registerObserver(t)};let c=null;t.setOnboarding=function(e){c=e};let d=null;t.setPreferences=function(e){d=e,d.registerObserver(t)};let h=null;t.setProfile=function(e){h=e,h.registerObserver(t)};let u=null;t.setReader=function(e){u=e,u.registerObserver(t)};let p=null;t.setQuickGoto=function(e){p=e};let m=null;t.setNavigo=function(e){m=e};let g=null;t.setAutoChrome=function(e){g=e};let f=null;t.setSigns=function(e){f=e};let y=null;t.setHelpSigns=function(e){y=e};let v=null;t.setAnalytics=function(e){v=e};let b=null;t.setLeftnav=function(e){b=e};let E=null;t.setSliderService=function(e){E=e,E.registerObserver(t)};let C=null;t.setNotifications=function(e){C=e};let w=null;t.setLeo=function(e){w=e};let k=null;t.setTransitions=function(e){k=e};let _=null;t.setPersonalcollections=function(e){_=e,_.registerObserver(t)};let M=null;t.setPocket=function(e){M=e};let S=null;t.setPageManager=function(e){S=e};let T=null;t.setReadingManager=function(e){T=e};let I=null,N=null,O=null,ee=null,te=null,se=null,ne=0;var ie,re,ae,oe,le;function ce(e){1==e.touches.length?(le=(new Date).getTime(),oe=e.targetTouches[0].target,ie=null,re=e.targetTouches[0].clientX,ae=e.targetTouches[0].clientY):oe=null}function de(e){if(null==oe)return!0;(Math.abs(e.targetTouches[0].clientX-re)>10||Math.abs(e.targetTouches[0].clientY-ae)>10)&&(oe=null)}function he(e){null!=oe&&((new Date).getTime()-le>650||(!1===pe(e,oe)&&((0,F.EB)(oe)?oe.focus():document.activeElement&&document.activeElement.blur()),ie=(new Date).getTime(),oe=null))}function ue(e){null!=ie&&(new Date).getTime()-ie<300||pe(e,e.target)}function pe(e,s){try{if(e.altKey||e.ctrlKey||e.shiftKey)return;if(null!=e.which&&e.which>1||null!=e.button&&e.button>1)return;const n=(0,F.Ld)(s,"data-nexturi");if(null!=n)return window.localStorage.setItem("next.uri",n),!1;const i=(0,F.Ld)(s,"href");if(null!=i&&0==i.indexOf("javascript:"))return;if(null!=s.getAttribute("data-uninlineentryid"))return T.uninlineEntry("toview",!0),!1;const r=(0,F.Ld)(s,"data-select-entry-id");null!=r&&T.selectEntry(r,s);const a=(0,F.Ld)(s,"data-visitentryid");if(null!=a){const t=(0,F.Ld)(s,"data-alternate-link");return u.askMarkEntryAsRead(a),window.open(t,"_blank").focus(),je(e),!1}let o=(0,F.Ld)(s,"data-inlineentryid");if(null!=o){let n=(0,F.Ld)(s,"data-navigation");return t.inlineEntry(o,n,e)}}catch(n){console.log(n),$feedly("[error] failed to dispatch click because "+n.name+" -- "+n.message)}}function me({target:e}){const t=(0,F.Ld)(e,"href");(0,$.YC)(t)&&v.incrementDashboardEvent("REDDIT:clicks")}t.load=function(){ne=(0,F.Iz)(),document.getElementById("root").innerHTML='\n  <div id="entryContextMenuPart"></div>\n  <div id="tutorialOverlay"></div>\n  <div id="bsaPlaceholder"></div>\n  <div id="feedlyUndoSign" class="fx"></div>\n  <div id="quickGoto" class="QuickGoto"></div>\n  <div id="notifications"></div>\n  <div id="modal"></div>\n  <div id="feedlyPersona">\n    <div id="feedlyChrome" class="feedlyChrome--leftnav-closed">\n      <div id="feedlyChrome__leftnav-wrapper" class="fx">\n        <div class="Leftnav">\n          <div class="Leftnav__list">\n            <div class="message loading">Loading Feedly...</div>\n          </div>\n        </div>\n      </div>\n      <div id="feedlyContainer">\n        <div id="barsFX" class="fx fixed-bar">\n          <div id="topHeaderBarFX">\n            \x3c!-- This will be used to render the logo, hercule, and profile bubble in the top bar --\x3e\n          </div>\n          <div id="headerBarFX">\n            \x3c!-- This is the element that will render the docked, floating header --\x3e\n          </div>\n        </div>\n        <div id="feedlyFrame">\n\n          \x3c!-- New container for FX pages --\x3e\n          <main id="feedlyPageHolderFX" class="fx">\n            <div id="jsFocusContentStart" class="screenreader-only" tabindex="-1"></div>\n            <div id="feedlyPageFX" class="container centered">\n              \x3c!-- This is the element we will use to render FX page components --\x3e\n            </div>\n          </main>\n        </div>\n      </div>\n      <div id="feedlyChrome__leftnav-pin-wrapper" class="fx"></div>\n      <div id="feedlyChrome__preview-wrapper"></div>\n    </div>\n  </div>\n  <div id="floatingEntry"></div>\n  <div id="reactPopoverHook" class="fx" style="position:relative"></div>\n  <div id="reactDockedPopup" class="fx" style="position:relative"></div>\n',I=t.element("feedlyFrame"),te=t.element("feedlyChrome"),se=t.element("feedlyChrome__preview-wrapper"),ee=t.element("feedlyPageHolderFX"),O=t.element("reactPopoverHook"),x.render(L.createElement(A,null),t.element("feedlyUndoSign")),N=I},t.initialize=function(){window.onpopstate=function(e){var s;s=(0,z.n2)(),S.getPageInfo()&&t.loadPage(s)}},t.onUserIdentified=function(){He(t.getTheme())},t.sortPersonalCollectionsAlphabetically=function(){d.askSetPreference("categoriesOrderingId","[]"),f.showMessage("Sorted Alphabetically")},t.sortTeamCollectionsAlphabetically=function(){d.askSetPreference("teamCategoriesOrderingId","[]"),f.showMessage("Sorted Alphabetically")},t.uninitialize=function(){S.destroyPage(),u.unregisterObserver(t),d.unregisterObserver(t),h.unregisterObserver(t),E.unregisterObserver(t)},t.unload=function(){d=null,h=null,u=null,p=null,f=null,y=null,v=null,b=null,l=null,E=null,m=null,g=null,C=null,w=null,_=null,I=null,ee=null,te=null,se=null,N=null},t.askMarkStreamAsRead=async function(e){try{return f.showMessage("Marking as read...",2e3),await u.askMarkStreamAsRead(e,{silently:!0}),t.refresh()}catch(s){f.showError(s)}},t.slideReactComponent=function(e,t,s){E.addReactSlide(e,t,s)},t.slideForm=t.slideReactComponent,t.askOpenLeoBlogPost=function(e){const t=h.getUrlDecoration();let s=`https://blog.feedly.com/leo/?${t}`;e&&(s+=`&utm_source=${encodeURIComponent(e)}`),s+=`&utm_campaign=${encodeURIComponent(t.replace(/&/g,"--").replace(/=/g,".."))}`,window.open(s,"_blank").focus()},t.askSuggestUpgrade=async function(e,n,i){switch(i=i||{},e){case"business":{if(streets.hasBusinessAccess())return void f.showMessage("Already Business Member");i.utm_campaign?v.setTeamDimension("trigger",i.utm_campaign):n&&v.setTeamDimension("trigger",n);let e="/i/feature/"+(n||"datasheet");v.reportTeamEngagement(e),v.trackJourneyEvent(e);const{AdminOnboarding:r}=await s.e(4316).then(s.bind(s,14316));t.slideForm(r,{campaign:i.utm_campaign,easyClose:!1,feature:n,isInvoice:i.isInvoice});break}}};var ge=null,fe=null,ye=null,ve=null,be=null;function Ee(e,s,{align:n,imageURL:r,imageTitle:a,selection:l}={}){if(streets.hasProAccess())return 1!=h.isIntegrationConnected("oneNote")?(ge=e,ye=r,ve=a,fe=s,be=l,void o.connect(i.bK.oneNote)):void window.requestAnimationFrame((()=>{x.render(L.createElement(D.H,{entryId:e,imageTitle:a,imageURL:r,onCloseMenu:()=>{x.unmountComponentAtNode(O)},offsetParent:s.offsetParent,selection:l,target:s,align:n}),O)}));t.loadPage("pro/onenote")}t.askPickOneNoteSection=function(e,t,s){Ee(e,t,s)},t.continueOneNoteTargetEntry=function(){ge&&(Ee(ge,fe,{imageURL:ye,imageTitle:ve,selection:be}),ge=null,fe=null,ye=null,ve=null,be=null)},t.askAddToPocket=function(e,s){if(!streets.hasProAccess())return v.trackPageview("pro.v2/trigger.pocket"),void t.loadPage("pro/pocket");h.isIntegrationConnected("pocket")?(M.askAddToPocket(e,s),f.showMessage("Saved to Pocket"),v.trackEvent("sharing","pocket"),v.trackEntryEvent(u.lookupEntry(e),"share","pocket")):t.slideForm(V.Zx,{})};var Ce=null,we=null,ke=null,_e=null,Me=null;function Se(){const e=(0,F.$$)(document);ee.style.minHeight=e-49-49+"px",Te()-(t.isPreviewActivated()?907:0)>940?I.classList.add("feedlyFrame--xlarge"):I.classList.remove("feedlyFrame--xlarge")}function Te(){return(0,F.x5)(document)-ne-b.getPreferredWidth()}function Ie(){document.hidden||u.askRefreshUnreadCountsIfOnline({forceRefresh:!0})}function Ne(){u.askRefreshUnreadCountsIfOnline()}function Pe(){return d.getPreference(G.RO)}function Le(){try{document.getElementsByTagName("html")[0].style.fontSize=2*d.getPreference("fontSize")+"px"}catch(e){$feedly("[feedly] could not assign font size to root html element:"+e.name+" -- "+e.message)}}function xe(){try{document.getElementsByTagName("html")[0].className=d.getPreference("entryFontFamily")}catch(e){$feedly("[feedly] could not assign font family to root html element: "+e.name+" -- "+e.message)}}t.askPickNotebook=function(e,s,{align:n,imageURL:r,imageTitle:a,selection:l}={}){return streets.hasProAccess()?h.isIntegrationConnected("evernote")?void window.requestAnimationFrame((()=>{x.render(L.createElement(q.$,{align:n,entryId:e,imageTitle:a,imageURL:r,onCloseMenu:()=>{x.unmountComponentAtNode(O)},offsetParent:s.offsetParent,selection:l,target:s}),O)})):(Ce=e,we=r,ke=a,Me=s,_e=l,void o.connect(i.bK.evernote)):(v.trackPageview("pro.v2/trigger.evernote"),void t.loadPage("pro/evernote"))},t.continueEvernoteTargetEntry=function(){Ce&&(t.askPickNotebook(Ce,Me,we,ke,_e),Ce=null,Me=null,we=null,ke=null,_e=null)},t.canUsePreviewMode=function(){const e="all+preview"===d.getPreference("entrySliderViews"),t=Te();return e&&t>1380},t.isPreviewActivated=function(){return te.classList.contains("feedlyChrome--preview-open")},t.activatePreviewMode=function(){return t.isPreviewActivated()||(te.classList.add("feedlyChrome--preview-open"),Se()),se},t.deactivatePreviewMode=function(){te.classList.remove("feedlyChrome--preview-open"),Se()},t.getMainScrollTarget=function(){return N},t.reflow=Se,t.loadStartPage=async function(){const[e,s]=await Promise.all([c.askIsAccountEmpty(),c.askIsOnboarding()]);let n;streets.getUserId()&&v.setCustomVar("plan",t.home.getPlan(),1),t.bind(N,"scroll",ze),t.bind(document.defaultView,"resize",Se),t.bind(document.defaultView,"click",ue),t.bind(document.defaultView,"touchstart",ce),t.bind(document.defaultView,"touchmove",de),t.bind(document.defaultView,"touchend",he),t.bind(document.defaultView,"keydown",Be),t.bind(document.defaultView,"contextmenu",me),t.bind(document,"visibilitychange",Ie),t.bind(window,"focus",Ne),Se(),I.style.display="block",Le(),xe();const i=window.localStorage.getItem("next.uri");if(null!=i&&""!==i?(console.log("overwritting input with next.uri:",i),n=i,window.localStorage.removeItem("next.uri")):n=(0,z.n2)(),streets.getUserId()){const t=window.localStorage.getItem("next.onboarding.prefix");t&&(v.trackOnboardingPageview(`${t}/${e?"new-user":"existing-user"}`),window.localStorage.removeItem("next.onboarding.prefix"))}if(n&&n.startsWith("partner")){try{if(!t.home.getUserId()){const e=n.split("/")[1];e&&(window.localStorage.setItem("feedly.partner",e),v.setBasicDimension("partner",e))}}catch(h){$feedly("[feedly] failed to process partner:"+n)}n=""}if(n.startsWith("landing/team")&&(n="pro/enterprise"+n.slice("landing/team".length)),(0,Q.DB)(n,s)?n="blackfriday":(0,K.E)(n,s)&&(n="pro/introduction"),"blackfriday"!==n||streets.getUserId()&&!streets.hasProAccess()&&!streets.hasBusinessAccess()||(n="pro/blackfriday"),n.startsWith("login")&&n.length>"login_".length){const e=(0,a.S5)(document.location),s=new URL(document.location).searchParams.get("state");return(0,z.pg)(s||""),void t.askLogin(e).catch((()=>{f.showError("Failed to login with code")}))}const r=t.home.getUserId();if(n.startsWith("back")){if(!r){const e=(0,a.RI)(n);return void window.startOAuth(e.provider,"login",!0,e.loginHint,"back")}n=""}!n||r||n.startsWith("invite/")||n.startsWith("ifttt")||n.startsWith("entry")||n.startsWith("styleguide")||n.startsWith("subscription/")||n.startsWith("about")||n.startsWith("powerSearch")||n.startsWith("pro")||n.startsWith("premium")||n.startsWith("blackfriday")||n.startsWith("hello")||n.startsWith("welcome")||n.startsWith("console")||n.startsWith("discover")||n.startsWith("explore")||n.startsWith("erase")||n.startsWith("erased")||n.startsWith("hello")||n.startsWith("collectionsharing")||n.startsWith("tutorials")||n.startsWith("support")||n.startsWith("landing")||n.startsWith("library/")||n.startsWith("legal")||n.startsWith("leo")||n.startsWith("landing")||n.startsWith("top")||n.startsWith("best")||n.startsWith("all")||n.startsWith("feature/")||($feedly("[feedly] Input overwritten because not logged:"+n),n=""),!streets.getUserId()||!e||n.startsWith("organize")||n.startsWith("invite/")||n.startsWith("invited/")||n.startsWith("ifttt")||n.startsWith("entry")||n.startsWith("styleguide")||n.startsWith("console")||n.startsWith("contents")||n.startsWith("about")||n.startsWith("subscription")||n.startsWith("powerSearch")||n.startsWith("blackfriday")||n.startsWith("hello")||n.startsWith("pro")||n.startsWith("premium")||n.startsWith("welcome")||n.startsWith("discover")||n.startsWith("explore")||n.startsWith("erase")||n.startsWith("erased")||n.startsWith("hello")||n.startsWith("library/")||n.startsWith("tutorials")||n.startsWith("legal")||n.startsWith("support")||n.startsWith("cortex")||n.startsWith("leo")||n.startsWith("landing")||n.startsWith("account")||(n="discover",streets.hasBusinessAccess()&&(n="discover/feeds"),$feedly("[feedly] Input overwritten because needs personalization:"+n)),streets.getUserId()&&!e&&"start"===n&&(n="");try{window.oauthTrigger&&streets.getUserId()&&n.startsWith("explore/")&&!e&&(n="")}catch(u){}const o=window.localStorage.getItem("seoOnboardingFeed"),l=window.localStorage.getItem("seoOnboardingTopic");if(streets.getUserId()&&e&&l){const{feedInfos:e}=await w.askDiscoveryTopic(l),t=P()(l);if(e.length>0&&l){const s=e.slice(0,3).map((e=>({id:e.id})));o&&!s.find((e=>e.id===o))&&s.push({id:o}),_.askImportFeeds(t,s)}d.askSetPreference("recentlySearchedTopics",[l],null,!0),n=o?`subscription/${encodeURIComponent(o)}`:`category/${t}`,v.trackSeoEvent("seoOnboarding","signup"),window.localStorage.setItem("seoOnboarded","true")}else window.localStorage.getItem("seoOnboarded")&&v.trackSeoEvent("seoOnboarding","secondVisit");streets.getUserId()&&(window.localStorage.removeItem("seoOnboardingFeed"),window.localStorage.removeItem("seoOnboardingTopic")),window.localStorage.removeItem("addContentButtonClicked"),window.localStorage.removeItem("seoOnboarded"),t.loadPage(n);try{if(window.loginMarker&&t.home.getUserId()&&window.oauthMode&&v.reportBasicEngagement(window.oauthMode+"/"+(e?"new":"existing")),window.awarenessMarker&&streets.getUserId()&&!e&&(v.trackEvent("awareness","undo"),v.incrementDashboardEvent("AWARENESS:web.notnew"),window.awarenessMarker=!1),window.localStorage.getItem("awareness")||streets.getUserId()||(v.trackEvent("awareness","do"),v.incrementDashboardEvent("AWARENESS:web"),window.localStorage.setItem("awareness","done"),window.awarenessMarker=!0),n.startsWith("library")){const e=n.split("/").length>2?"collection":"library",t=streets.getUserId()?".exisiting":".new";v.incrementDashboardEvent("AWARENESS:"+e+t)}if(n.startsWith("subscription/feed")){const e=streets.getUserId()?".exisiting":".new";v.incrementDashboardEvent("AWARENESS:feed"+e)}streets.getUserId()||(window.feedlyLandingPage=n.split("/")[0],"subscription"===window.feedlyLandingPage&&(window.feedlyLandingPage="feed")),window.loginMarker=!1,window.oauthMode=null,window.oauthProvider=null}catch(h){$feedly("[feedly] failed to capture awareness:"+h.name+" -- "+h.message)}},t.reloadPage=function(){window.setTimeout((()=>{var e;t.scrollPageTo(0),t.loadPage(null===(e=S.getPageInfo())||void 0===e?void 0:e.uri)}),10)},t.refresh=async function(){f.showMessage("Refreshing...",0,!1),await streets.askRefresh(),S.isRefreshable()?S.askReloadPage():t.reloadPage(),f.hide()},t.reloadDefaultPage=function(){window.setTimeout((()=>{window.location="https://"+window.location.host+"/"+(0,z.W6)()+"/"+Pe()}),250)},t.loadDefaultPage=function(){t.loadPage(Pe())},t.loadMyPage=function(){t.loadPage("my")},t.previewEntry=function(e){E.addEntrySlide(e,{navigatable:!1,switchable:!1})},t.inlineEntry=function(e,t,s){try{if(streets.isEmbedded())return!0;if(s&&(1==s.ctrlKey||1==s.metaKey))return u.askMarkEntryAsRead(e),!0;switch(t){case"visit":if(u.askMarkEntryAsRead(e),s&&s.target){je(s);const e=(0,F.Ld)(s.target,"data-alternate-link");return window.open(e,"_blank").focus(),!1}return!0;case"inline":default:return s&&je(s),T.inlineEntry(e,null,null),!1}}catch(n){return $feedly("[feedly] failed to inline entry:"+e+" -- "+t+" --\x3e "+n.name+" -- "+n.message),console.error("failed to inline entry",n),!0}},t.loadPage=async function(e,i){var o;if(null==e)return void f.showMessage("Ooops. Bug");if(e===G.JP.Favorites&&(e=(0,U.no)((0,B.Mc)())),"upgrade"!==e&&"reactivate"!==e&&"payment"!==e&&"invoice"!==e||(e="account/billing"),"privacy"===e&&(e="legal/privacy"),"terms"===e&&(e="legal/terms"),"logins"===e&&(e="account/logins"),"contents/edit"===e&&(e="organize"),"pro/blackfriday2015"!==e||!streets.getUserId()||streets.hasProAccess()||streets.hasBusinessAccess()||(e="blackfriday"),"gift"!==e||streets.getUserId()&&!streets.hasProAccess()&&!streets.hasBusinessAccess()||(e="pro/gift"),"http:"===window.location.protocol&&(0===e.indexOf("pro")||0===e.indexOf("premium")||0===e.indexOf("support")||0===e.indexOf("payment")||0===e.indexOf("landing")||0===e.indexOf("blackfriday")||0===e.indexOf("gift")||0===e.indexOf("account")||0===e.indexOf("team")||0===e.indexOf("logins")))return void function(e){window.location="https://"+window.location.host+"/"+(0,z.W6)()+"/"+e}(e);if(Q.hT&&e.startsWith("pro")&&streets.getUserId()&&!streets.hasProAccess()&&!streets.hasBusinessAccess()&&(e="blackfriday"),"leo"===e)if(await w.askIsLeoEnabled())e="trainLeo";else{if(streets.hasBusinessAccess()){const e=h.getUrlDecoration();return void(window.location.href=`https://feedly.typeform.com/to/DW2vIZ/?${e}`)}e="pro/leo"}if(e.startsWith("feature")){const t=e.split("/")[1],s=streets.getPlan();e=streets.getUserId()&&Z.Z[t]&&Y.H4[s]>=Y.H4[Z.Z[t].minPlan]?Z.Z[t].redirect:`pro/${t||""}`}const l=document.getElementById("webfeedsStyles");l&&l.parentNode.removeChild(l);let c,p=null===(o=S.getPageInfo())||void 0===o?void 0:o.uri;S.destroyPage(),T.uninlineEntry("none",!1),m.onBeforePageLoad(e,p),i&&i.preserveSlider||E.onBeforePageLoad(e,p),u.onBeforePageLoad(e,p),t.fire("onFeedlyUriChanged",e);try{c=await async function(e){let s=/\bon[a-z]+=/gim;s.test(e)&&($feedly("[feedly] sanitized url:"+e),e="");try{const t=decodeURIComponent(e);s.test(t)?($feedly("[feedly] sanitized url:"+t),e=""):(t.indexOf("data:")>-1||t.toLowerCase().indexOf("<")>-1&&t.toLowerCase().indexOf(">")>-1)&&(e="")}catch(o){}if("latest"===e&&(e=streets.getUserId()?`collection/content/${d.isTeamFirst()?(0,B.sX)():(0,B.N1)()}`:""),e.startsWith("pro/pppp_")){const t=window.localStorage.getItem("paypalAnalyticsUri");t&&(v.trackProPageview(t),window.localStorage.removeItem("paypalAnalyticsUri"));const s=e.slice("pro/pppp_".length),i=n.Z.utils.SessionUtils.load();i.feedlyToken=s,i.plan="pro",n.Z.utils.SessionUtils.save(i);const r="See Your New Pro Features",a="Go to my Feedly Pro",o={visual:"images/fx/illustrations/gift-v0.svg",header:"Welcome to Feedly Pro",sub:"Take your reading, searching, and sharing to the next level",primaryAction:r,tertiaryAction:a,badge:"pro"};C.askShowSpotlightPopup(o).then((e=>{switch(e){case r:return void(window.location.href="https://feedly.com/i/support");case a:default:window.location.href="https://feedly.com/"}})),e="support"}if(e.startsWith("search/")&&(e=e.replace(/^search/,`powerSearch/${W.Fq.in}`)),e.startsWith("discover/webAlerts")&&(await r.askHasWebAlertsAccess()||(e="discover/sources")),!e)if(streets.getUserId())e=Pe();else{if(""===window.location.pathname||"/"===window.location.pathname){const e=(0,a.mv)("welcome");return e.uri="",e}e="welcome"}let i=(0,a.mv)(e);if("go"===i.type&&(streets.hasProAccess()||streets.hasBusinessAccess()?(i.type=i.key,i.key=null):i.type="pro"),"blackfriday"!==i.type&&"gift"!==i.type||!streets.hasProAccess()?"gift"===i.type&&(i.type="blackfriday"):i.type="pro","subscription"!==i.type||i.key&&0===i.key.indexOf("feed/")||($feedly("[feedly] loading invalid subscription page:"+e),e="discover",i=(0,a.mv)(e)),"subscription"===i.type?i.type="feed":"saved"===i.type?(i.type="board",i.key="content/"+(0,R.FM)("global.saved",t.home.getUserId(),"tag")):"tag"===i.type?(i.type="board",i.key="content/"+i.key):"label"===i.type&&"feedly.history"===i.key?(i.type="board",i.key="content/"+(0,R.FM)("global.read",t.home.getUserId(),"tag")):"category"===i.type||"label"===i.type?(i.type="collection",i.key="content/"+(0,R.FM)(i.key,t.home.getUserId(),"category")):"latest"===i.type&&(i.type="collection",i.key="content/"+(0,R.FM)("global.all",t.home.getUserId(),"category")),i.type&&i.type.includes("-")){let e=i.type.split("-");i.type=e[0],i.language=e.slice(1).join("-")}if(i.type&&""!==i.type&&"my"!==i.type||(i.type="today"),i.uri&&""!==i.uri||(i.uri=i.type),"explore"===i.type&&(i.uri="discover",i.type="discover"),"preferences"===i.type&&(i.uri="account",i.type="account"),"board"===i.type||"collection"===i.type||"priority"===i.type||"feed"===i.type){const[e,...t]=i.key.split("/");"feed"===i.type&&"feed"!==e||("board"===i.type||"collection"===i.type||"priority"===i.type)&&("user"!==e||"enterprise"!==e)?(i.streamId=t.join("/"),i.tabId=e):(i.streamId=i.key,i.tabId=null)}return i}(e),t.clearPageTitle();const s=document.getElementById("jsFocusContentStart");s&&s.focus()}catch(y){console.error("[feedly] failed to load page:"+e,y),document.location="https://feedly.com/offline.htm?016-"+y.name+"--"+y.message+"--feedly_31.0.1284"}try{c.preferences=d.getPreferences(De,c.prefContext);const e=c.type.charAt(0).toUpperCase()+c.type.substr(1)+"Page",n=J.n[e];if(n)c.reactClass=await n();else{const{UnknownPage:t}=await s.e(7083).then(s.bind(s,97083));c.reactClass=t,c.missingFactory=e,console.error("[feedly] enrichPageInfo - page component not found")}!function(e){b.onBeforePageLoad(e),g.onBeforePageLoad(e),e.reactClass.requiresFullScreen()?b.isFullScreenMode()||b.enterFullScreenMode():b.isFullScreenMode()&&b.leaveFullScreenMode(),Se()}(c),S.askOpenPage(c);const i=c.uri;i&&(0,z.$B)(i),t.scrollPageTo(0),document.body.focus();try{c.streamId&&Oe(c.streamId)}catch(y){$feedly("[feedly] failed to forcast next cat/sub because:"+y.name+" -- "+y.message)}try{v.trackPageview(c.uri),X.has(c.type)&&gtag("event","page_view",{page_path:"/"+c.type})}catch(y){$feedly("[feedly] failed to track page view:"+y.name+" -- "+y.message)}t.fire("onAfterPageLoad",c)}catch(y){console.log(y),$feedly("[feedly] failed to service page:"+y.name+" -- "+y.message)}},t.showProWelcomeSpotlight=function(e){const s="Pro"+((0,H.sL)(e)?"+":""),n={visual:(0,H.sL)(e)?"images/fx/illustrations/leo-v0.svg":"images/fx/illustrations/gift-v0.svg",header:`Welcome to ${s}`,sub:(0,H.sL)(e)?"Stay ahead of the curve with Leo, your AI research assistant":"Take your reading, searching, and sharing to the next level",primaryAction:`See Your New ${s} Features`,tertiaryAction:`Go to my Feedly ${s}`,badge:s,closeOutside:!0};C.askShowSpotlightPopup(n).then((e=>{switch(e){case"clickOutside":return;case n.primaryAction:return void t.loadPage("support");case n.tertiaryAction:default:t.reloadDefaultPage()}}))};const De=["autoSelectOnScroll","sourcesMustReadsOnlyFilter","entryOverviewSize.desktop","featuredArticles","giantMarkAsRead","mustReadsOnlyFilter","hideReadArticlesFilter","oldestFirstKnob","sortEntriesBy","twitterPostfix","pinImage","indexLink","customizationKey"];function Oe(e){k.askSuggestPreviousStream(e).then((e=>{e&&e.uri&&m.setPreviousURI(e.uri)})),k.askSuggestNextStream(e).then((e=>{e&&e.uri&&m.setNextURI(e.uri)}))}function Ae(e){(0,z.pg)(null==e?void 0:e.uri)}function ze(e){let s=!0;!1===Re&&(s=!1,Re=!0),T.onPageScrollChanged(t.getPageScrollTop(),s)}t.setBrowserPath=async e=>{(0,z.$B)(e)},t.onSlideChanged=function(e){e&&e.customPath?(0,z.pg)(e.customPath):Ae(S.getPageInfo())},t.onSliderClosed=function(){const e=S.getPageInfo();e&&Ae(e)},t.getPageScrollTop=function(){return N.scrollTop};var Re=!0;function Fe(e,s){var n=(s-640)/6,i=0;((i=s>900?e<4?s-80*(e+1):e<10?s-320-(10-e+1)*n:s-320-6*n-80*(14-e+1):s-s/14)<100||e>10)&&(i=0),window.setTimeout((()=>{t.scrollPageTo(i),i>0&&Fe(e+1,s)}),10)}function je(e){return e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1}t.scrollPageTo=function(e,t){Re=!1!==t,N.scrollTop=e},t.scrollPageToBottom=function(){N.scrollTop=N.scrollHeight},t.scrollPageBy=function(e){N.scrollTop+=e},t.scrollToView=function(e,s,n){if(e){s||(s={}),Re=!1!==n;var i=function(e){let t=0,s=0;do{t+=e.offsetTop||0,s+=e.offsetLeft||0,e=e.offsetParent}while(e&&"HTML"!=e.tagName);return[s,t]}(e)[1],r=null==s.marginTop?0:s.marginTop;(t.getPageScrollTop()>i-(r+20)||t.getPageScrollTop()+(0,F.$$)(document)<i+(r+20)||"top"===s.align)&&(N.scrollTop=i-(r+45))}},t.backToTop=function(){Fe(0,t.getPageScrollTop())};let Ue=!1;function Be(e){if(!(0,j.V)(e)){if(y&&y.isVisible()&&y.hide(),(0,j.E)(e)){if("Escape"!==e.key)return;e.target.blur()}return"g"!==e.key||Ue?Ue?(Ue=!1,"h"===e.key||"t"===e.key||"m"===e.key?t.loadMyPage():"i"===e.key?t.loadPage("index"):"a"===e.key?t.loadPage("latest"):"f"===e.key?t.loadPage((0,U.no)((0,B.Mc)())):"o"===e.key?t.loadPage("organize"):"l"===e.key||"S"===e.key?t.loadPage("saved"):"p"===e.key?t.loadPage("preferences"):"g"===e.key||"u"===e.key?p.show():y.showHelpSign(),je(e)):void(Ue=!1):(Ue=!0,je(e))}}function He(e){const t=e===G.Bd.dark?G.Bd.light:G.Bd.dark;document.body.classList.remove(G.Su[t]),document.body.classList.add(G.Su[e])}return t.onCollectionsChanged=function(){Oe(S.getPageInfo().streamId)},t.onCollectionsOrderChanged=function(){Oe(S.getPageInfo().streamId)},t.getTheme=function(){return d.getPreference(G.BF)},t.setTheme=function(e){try{if(t.getTheme()===e)return;d.askSetPreference(G.BF,e)}catch(s){console.error("apply theme failed",s)}},t.switchTheme=function(){const e=t.getTheme()===G.Bd.dark?G.Bd.light:G.Bd.dark;return t.setTheme(e),e},t.onPreferenceChanged=function(e,t,s){s||(S.getPageInfo().preferences[e]=t),s&&S.getPageInfo().uri!==s||"navigationMarkRead"!==e&&"categoriesOrderingId"!==e&&"teamCategoriesOrderingId"!==e&&"indexLink"!==e&&"integrationsLink"!==e&&"language"!==e&&("entryFontFamily"!==e?"fontSize"!==e?"indexOptimization"!==e&&(e!==G.BF||He(t)):Le():xe())},t.setPageTitle=function(e){document.title=e},t.clearPageTitle=function(){t.setPageTitle("")},t.askLogin=e=>t.home.askLogin(e),t.onBeforeIdentityChanged=function(e){try{null!=e&&(f.setNextAutoHideDelay(2500),f.showMessage(e))}catch(t){$feedly("[feedly] failed to reload feedly :"+e+" -- "+t.name+" -- "+t.message)}},t.onIdentityChanged=function(e){try{null!=e&&(f.setNextAutoHideDelay(1500),f.showMessage(e))}catch(t){$feedly("[feedly] failed to reload feedly :"+e+" -- "+t.name+" -- "+t.message)}},t};const ee={...{...{alerts:{factory:s(54107),dependencies:["enterprisecollections","feeds","leo","net","personalcollections","preferences"]},enterprise:{factory:s(88556),dependencies:["net"]},enterprisefilters:{factory:s(1626),dependencies:["net"]},personalfilters:{factory:s(27744),dependencies:["net"]},enterprisetags:{factory:s(22340),dependencies:["net","reader","preferences"]},enterprisecollections:{factory:s(62714),dependencies:["alerts","net","reader","preferences"]},collections:{factory:s(75514),dependencies:["enterprisecollections","feeds","mutefilters","personalcollections","preferences","priorities","profile","enterprise"]},tags:{factory:s(192),dependencies:["enterprisetags","personaltags"]},feeds:{factory:s(53278),dependencies:["collections","enterprise","enterprisecollections","net","personalcollections"]},personalcollections:{factory:s(85917),dependencies:["alerts","net","reader","preferences"]},personaltags:{factory:s(73017),dependencies:["net","reader","preferences"]},leo:{factory:s(78421),dependencies:["net","enterprise","feeds","profile"]},net:{factory:s(33037)},image:{factory:s(23017),dependencies:[]},profile:{factory:s(57078),dependencies:["alerts","net","enterprise"]},preferences:{factory:s(7736),dependencies:["net"]},reader:{factory:s(46953),dependencies:["preferences","profile","enterprisetags","personaltags","enterprisecollections","personalcollections","net","enterprise","personalfilters","enterprisefilters","priorities","enterprisepriorities","personalpriorities","collections","feeds","tags","microsessions"]},topics:{factory:s(55251),dependencies:["net"]},enterprisemutefilters:{factory:s(39390),dependencies:["net"]},personalmutefilters:{factory:s(5998),dependencies:["net"]},mutefilters:{factory:s(96663),dependencies:["net","enterprisemutefilters","personalmutefilters"]},enterprisepriorities:{factory:s(16839),dependencies:["net","enterprise","collections","reader"]},personalpriorities:{factory:s(20481),dependencies:["net","enterprise","collections","leo","reader"]},priorities:{factory:s(81640),dependencies:["enterprisepriorities","leo","personalpriorities","preferences","reader"]},suggesto:{factory:s(92943),dependencies:["feeds"]},dots:{factory:s(24482),dependencies:["preferences"]},engagements:{factory:s(86132),dependencies:["net","reader","feeds"]},microsessions:{factory:s(97100),dependencies:["net","enterprise"]}},discover:{factory:s(55424),dependencies:["leo","net","suggesto"]},savedSearch:{factory:s(92577),dependencies:["net"]},libraries:{factory:s(38664),dependencies:["net"]},bundles:{factory:s(5803),dependencies:["libraries"]},meme:{factory:s(32769),dependencies:["net","reader"]},keywordalerts:{factory:s(8533),dependencies:["enterprisecollections","personalcollections","reader","suggesto","feeds"]},suggestions:{factory:s(99097),dependencies:["net","leo"]},today:{factory:s(49367),dependencies:["enterprise","enterprisecollections","personalcollections","preferences","profile"]},transitions:{factory:s(98812),dependencies:["collections","enterprise","enterprisecollections","enterprisetags","personalcollections","preferences","priorities"]},evernote:{factory:s(98269),dependencies:["integrations","net","reader","commonsigns","analytics"]},pocket:{factory:s(20689),dependencies:["integrations","net","reader"]},instapaper:{factory:s(81783),dependencies:["integrations","net","reader"]},reddit:{factory:s(65984),dependencies:["suggesto"]},integrations:{factory:s(48e3),dependencies:["commonsigns","enterprise","evernote","feedly","instapaper","net","pocket","profile","reader"]},font:{factory:s(90926),dependencies:["net","preferences"]},bsa:{factory:s(23861),dependencies:["feeds","net"]},analytics:{factory:s(75509),dependencies:["net","enterprise"]},newfeatures:{factory:s(8993),dependencies:["analytics","feeds","notifications","preferences","reader"]},prompts:{factory:s(54713),dependencies:["alerts","bsa","collections","preferences","suggestions"]}},buffer:{factory:s(52630),dependencies:["analytics","enterprise","feedly","net","preferences","profile","reader","signs"]},pinterest:{factory:s(9663),dependencies:["analytics"]},mlwikidatatopics:{factory:s(87141),dependencies:["net","reader"]},mltopicdatasets:{factory:s(81835),dependencies:["net"]},cybersecuritydashboard:{factory:s(54323),dependencies:["net","reader"]},feedly:{factory:"devhd.services.createFeedly",dependencies:["alerts","preferences","reader","signs","helpSigns","profile","analytics","quickGoto","navigo","leftnav","autoChrome","sliderService","enterprisecollections","onboarding","notifications","leo","transitions","personalcollections","integrations","pocket","pageManager","readingManager"]},navigo:{factory:s(44282),dependencies:[]},notifications:{factory:s(68385),dependencies:[]},journey:{factory:s(19373),dependencies:["preferences","notifications","analytics","feedly","profile","feeds"]},autoChrome:{factory:s(44985),dependencies:[]},likeboard:{factory:s(92704),dependencies:["net","priorities"]},oxygen:{factory:s(43426),dependencies:["net"]},sliderService:{factory:s(90986),dependencies:[]},guidedtutorials:{factory:s(85616),dependencies:[]},leftnav:{factory:s(84391),dependencies:["feedly","personaltags","personalcollections","enterprisetags","enterprisecollections","enterprisepriorities","personalfilters","personalmutefilters","priorities","personalcollections","personalpriorities"]},ballot:{factory:s(70178),dependencies:["net","preferences"]},currency:{factory:s(57555),dependencies:["net"]},checklist:{factory:s(17774),dependencies:["preferences","enterprise","reader","enterprisecollections","enterprisetags"]},heartbeat:{factory:s(44638),dependencies:["net"]},helpscout:{factory:s(72286),dependencies:["net","enterprise","feedly"]},commonsigns:{factory:s(2563),dependencies:["signs"]},onboarding:{factory:s(74739),dependencies:["collections","enterprisecollections","enterprisetags","personalcollections","personaltags"]},issues:{factory:s(72086),dependencies:["enterprise","integrations","net","profile"]},pageManager:{factory:s(54034),dependencies:["feedly","preferences"]},readingManager:{factory:s(63335),dependencies:["feedly","buffer","reader","shortcuts","analytics","signs","preferences","navigo","sliderService","microsessions","pageManager"]},shortcuts:{factory:s(9875),dependencies:["navigo"]},signs:{factory:s(37877).g,dependencies:[]},helpSigns:{factory:s(37877).P,dependencies:[]},quickGoto:{factory:s(88611),dependencies:["feedly","collections","personaltags","enterprisetags","shortcuts"]}};window.GoogleAnalyticsObject="ga",window.ga=function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.addEventListener("load",(function(){var e,t,s,i,r,a;!function(e,t,s,n,i,r,a){e.ga.l=1*new Date}(window,document),window.twttr=(e=document,t="script",s="twitter-wjs",r=e.getElementsByTagName(t)[0],a=window.twttr||{},e.getElementById(s)||((i=e.createElement(t)).id=s,i.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(i,r),a._e=[],a.ready=function(e){a._e.push(e)}),a),window.streets=n.Z.streets.create(document,ee),streets.onAfterIdentitySync=function(){streets.service("feedly").loadStartPage();try{let e=new Event("login");document.dispatchEvent(e)}catch(e){$feedly("[feedly] failed to fire custom login event")}},streets.askSyncIdentity("initial boot")}),!1)},66371:(e,t,s)=>{"use strict";e.exports=s.p+"animations/follownewsletters-dark.lottie.4f5906b2.json"},65088:(e,t,s)=>{"use strict";e.exports=s.p+"animations/follownewsletters-light.lottie.a4dd65c2.json"},14237:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-disappointed.lottie.9658616a.json"},75112:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-happy.lottie.15b26020.json"},45577:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-justok.lottie.9c09c61f.json"},88016:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-loveit.lottie.cce7ec1e.json"},58754:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-unhappy.lottie.0a985ce1.json"},66645:(e,t,s)=>{"use strict";e.exports=s.p+"animations/readlater-lightmode.lottie.ea0b9935.json"},61469:(e,t,s)=>{"use strict";e.exports=s.p+"animations/readlater-transparent.lottie.fa84b6be.json"},17393:(e,t,s)=>{var n={"./amasis.scss":[76171,6171],"./dinnext.scss":[34907,4907],"./frutigernext.scss":[88199,8199],"./iowan.scss":[48625,8625],"./itccharter.scss":[26335,6335],"./mundosans.scss":[85368,5368],"./ysobel.scss":[55179,5179]};function i(e){if(!s.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return s.e(t[1]).then((()=>s(i)))}i.keys=()=>Object.keys(n),i.id=17393,e.exports=i},30018:(e,t,s)=>{"use strict";e.exports=s.p+"images/boards-v0.845c1250.svg"},52986:(e,t,s)=>{"use strict";e.exports=s.p+"images/empty-leo-build-night.a0c2d730.gif"},23013:(e,t,s)=>{"use strict";e.exports=s.p+"images/empty-leo-build.cffdbb57.gif"},862:(e,t,s)=>{"use strict";e.exports=s.p+"images/feeds--dark.218baefd.svg"},68351:(e,t,s)=>{"use strict";e.exports=s.p+"images/feeds-v0.5a471fe9.svg"},32720:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-biopharma--dark.1fc52585.svg"},44096:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-biopharma-simple.a9a5768f.svg"},39993:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-biopharma.82dd0940.svg"},75608:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMjc2IDIyMCI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTEwLC5jbHMtMTYsLmNscy04e2ZpbGw6IzMzMzt9LmNscy0xe2NsaXAtcnVsZTpldmVub2RkO30uY2xzLTJ7ZmlsbDojOWU5ZTllO30uY2xzLTEyLC5jbHMtMTYsLmNscy0xNywuY2xzLTE4LC5jbHMtMiwuY2xzLTMsLmNscy00LC5jbHMtNntzdHJva2U6IzAwMDt9LmNscy0xMiwuY2xzLTEzLC5jbHMtMTQsLmNscy0xNSwuY2xzLTE2LC5jbHMtMTcsLmNscy0xOCwuY2xzLTE5LC5jbHMtMiwuY2xzLTMsLmNscy00LC5jbHMtNntzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjJweDt9LmNscy0ze2ZpbGw6I2ZmZjt9LmNscy0xMywuY2xzLTE0LC5jbHMtMTUsLmNscy0xOSwuY2xzLTQsLmNscy03e2ZpbGw6bm9uZTt9LmNscy01LC5jbHMtNntmaWxsOiNkOWQ5ZDk7fS5jbHMtNywuY2xzLTh7ZmlsbC1ydWxlOmV2ZW5vZGQ7fS5jbHMtOXtjbGlwLXBhdGg6dXJsKCNjbGlwLXBhdGgpO30uY2xzLTExe2ZpbGw6I2E2ZTJiNDt9LmNscy0xMntmaWxsOiNkZmY1ZTM7fS5jbHMtMTN7c3Ryb2tlOiNmZmY7fS5jbHMtMTR7c3Ryb2tlOiMzM2IwNTE7fS5jbHMtMTV7c3Ryb2tlOiM0ZDRkNGQ7fS5jbHMtMTd7ZmlsbDojMzRiMTUxO30uY2xzLTE4e2ZpbGw6I2I5ZWJjMzt9LmNscy0xOXtzdHJva2U6I2JmYmZiZjt9PC9zdHlsZT48Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aCI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTc1LjMsMTI1Ljk0bC0xMC4yMi0xMC4yNWEyLjc5LDIuNzksMCwwLDAtMy45MywwbC0xMC4yMywxMC4yNWEyLjc5LDIuNzksMCwwLDAsMCwzLjkzbDYuODQsNi44NWE0Ljc1LDQuNzUsMCwwLDAsMy4zOCwxLjRoMy45NGE0Ljc5LDQuNzksMCwwLDAsMy4zOS0xLjRsNi44My02Ljg1QTIuNzksMi43OSwwLDAsMCwxNzUuMywxMjUuOTRabS0xNy40MSwyLjk0YTEuMzgsMS4zOCwwLDEsMS0xLjk1LTJsNi4xMS02LjEyYTEuMzgsMS4zOCwwLDEsMSwxLjk1LDJabTYuMTcsNi4xOGExLjM4LDEuMzgsMCwxLDEsMC0yQTEuMzgsMS4zOCwwLDAsMSwxNjQuMDYsMTM1LjA2Wm0wLTYuMkwxNjEsMTMyYTEuMzksMS4zOSwwLDEsMS0yLTJsMy4xMS0zLjExYTEuMzgsMS4zOCwwLDEsMSwyLDJaIi8+PC9jbGlwUGF0aD48L2RlZnM+PHRpdGxlPmxlby1icm9rZW4tZGFyazwvdGl0bGU+PGcgaWQ9ImFydHdvcmsiPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMTMyLjExIiB5PSIxNTYuNSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjMyIiByeD0iMTYiLz48cmVjdCBjbGFzcz0iY2xzLTMiIHg9IjExMy4xMSIgeT0iMTU2LjUiIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIgcng9IjE2Ii8+PGxpbmUgY2xhc3M9ImNscy00IiB4MT0iMTkxLjExIiB5MT0iMTcyLjUiIHgyPSIxODEuMTEiIHkyPSIxNzIuNSIvPjxsaW5lIGNsYXNzPSJjbHMtNCIgeDE9IjE4OC4xMSIgeTE9IjE2NC41IiB4Mj0iMTgwLjExIiB5Mj0iMTY0LjUiLz48bGluZSBjbGFzcz0iY2xzLTQiIHgxPSIxODguMTEiIHkxPSIxODAuNSIgeDI9IjE4MC4xMSIgeTI9IjE4MC41Ii8+PHBhdGggY2xhc3M9ImNscy01IiBkPSJNMTYxLjExLDE4Ny41YTE1LDE1LDAsMCwwLDkuNzUtMy42MiwxNywxNywwLDAsMC0xNS43NS0yMy4zOGgtMzJhMTYuNzQsMTYuNzQsMCwwLDAtMy40Mi4zNSwxNSwxNSwwLDAsMCw5LjQyLDI2LjY1WiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTE3MC45MywxMTUuNzFsLTQuMiwxMC4xNmExNCwxNCwwLDAsMCw3LjU5LDE4LjI5bDMxLjMxLDEyLjk0YTExLjEzLDExLjEzLDAsMCwwLDE0LjUzLTZoMGExMS4xMywxMS4xMywwLDAsMC0yLjg1LTEyLjUzTDE5OS45LDEyMi45MWEyNy45MiwyNy45MiwwLDAsMC04LTVMMTg3LjMsMTE2Ii8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTY2LjMxLDExMy44LDE2Mi4xMSwxMjRhMTQsMTQsMCwwLDAsNy41OSwxOC4yOUwyMDEsMTU1LjE5YTExLjEzLDExLjEzLDAsMCwwLDE0LjUzLTZoMGExMS4xMywxMS4xMywwLDAsMC0yLjg1LTEyLjUzTDE5NS4yOCwxMjFhMjcuOTIsMjcuOTIsMCwwLDAtOC01Ii8+PGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSIxNzQuMTMiIGN5PSIxMjguOTMiIHI9IjUiLz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik0xOTQuMTEsMTM1LjVhMTgsMTgsMCwwLDAtMTgtMThIMTY1Ljg2TDE2MywxMjQuMzVhMTMsMTMsMCwwLDAsNy4wNSwxN2wyNCw5LjkzWiIvPjxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTE5MS43NywxMTkuNDVsLTMuNTcsOC42M2E0LjA4LDQuMDgsMCwwLDAsMCwzLjA3bC45LDIuMTZhNCw0LDAsMCwxLDAsMy4wNmwtMS42Niw0Ii8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNMTMzLjExLDE0OC41YTYsNiwwLDAsMCw2LTYiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik0xMTIuMTEsMTA1LjVhMTgsMTgsMCwwLDAtMTgsMTh2MTlhNiw2LDAsMCwwLDYsNmgzM2E2LDYsMCwwLDAsNi02di0xOWExOCwxOCwwLDAsMC0xOC0xOGgtOUExNy45MSwxNy45MSwwLDAsMCwxMDIsMTA4LjYyIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTY2LjExLDEwNS41aC00NWExOCwxOCwwLDAsMSwxOCwxOHYxOWE2LDYsMCwwLDEtNiw2aDQ1YTYsNiwwLDAsMCw2LTZ2LTE5QTE4LDE4LDAsMCwwLDE2Ni4xMSwxMDUuNVoiLz48cmVjdCBjbGFzcz0iY2xzLTIiIHg9IjEwMi4xMSIgeT0iMTU2LjUiIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIgcng9IjE2Ii8+PHJlY3QgY2xhc3M9ImNscy0zIiB4PSI4My4xMSIgeT0iMTU2LjUiIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIgcng9IjE2Ii8+PHBhdGggY2xhc3M9ImNscy02IiBkPSJNMTAwLjExLDE4Mi41YTEwLDEwLDAsMCwxLDAtMjBoMzBhMTAsMTAsMCwwLDEsMCwyMFoiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMyIgY3g9IjEyOS4xMSIgY3k9IjE3Mi41IiByPSI1Ii8+PGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSIxMDEuMTEiIGN5PSIxNzIuNSIgcj0iNSIvPjxjaXJjbGUgY2xhc3M9ImNscy0zIiBjeD0iMTE1LjExIiBjeT0iMTcyLjUiIHI9IjUiLz48bGluZSBjbGFzcz0iY2xzLTQiIHgxPSIxNjEuMTEiIHkxPSIxNzIuNSIgeDI9IjE1MS4xMSIgeTI9IjE3Mi41Ii8+PGxpbmUgY2xhc3M9ImNscy00IiB4MT0iMTU4LjExIiB5MT0iMTY0LjUiIHgyPSIxNTAuMTEiIHkyPSIxNjQuNSIvPjxsaW5lIGNsYXNzPSJjbHMtNCIgeDE9IjE1OC4xMSIgeTE9IjE4MC41IiB4Mj0iMTUwLjExIiB5Mj0iMTgwLjUiLz48cGF0aCBjbGFzcz0iY2xzLTciIGQ9Ik0xMzMuNzUsMTQ3LjkySDEwMWEyLjE0LDIuMTQsMCwwLDAtMi4xNCwyLjE1djQuM2EyLjE1LDIuMTUsMCwwLDAsMi4xNCwyLjE1aDMyLjc3YTIuMTUsMi4xNSwwLDAsMCwyLjE0LTIuMTV2LTQuM2EyLjE0LDIuMTQsMCwwLDAtMi4xNC0yLjE1Ii8+PHJlY3QgY2xhc3M9ImNscy02IiB4PSIxMDIuMTEiIHk9IjE0OC41IiB3aWR0aD0iNDYiIGhlaWdodD0iOCIgcng9IjIiLz48cmVjdCBjbGFzcz0iY2xzLTYiIHg9IjEyOS4xMSIgeT0iMTQ4LjUiIHdpZHRoPSI0NSIgaGVpZ2h0PSI4IiByeD0iMiIvPjxwYXRoIGNsYXNzPSJjbHMtOCIgZD0iTTE3NS4zLDEyNS45NGwtMTAuMjItMTAuMjVhMi43OSwyLjc5LDAsMCwwLTMuOTMsMGwtMTAuMjMsMTAuMjVhMi43OSwyLjc5LDAsMCwwLDAsMy45M2w2Ljg0LDYuODVhNC43NSw0Ljc1LDAsMCwwLDMuMzgsMS40aDMuOTRhNC43OSw0Ljc5LDAsMCwwLDMuMzktMS40bDYuODMtNi44NUEyLjc5LDIuNzksMCwwLDAsMTc1LjMsMTI1Ljk0Wm0tMTcuNDEsMi45NGExLjM4LDEuMzgsMCwxLDEtMS45NS0ybDYuMTEtNi4xMmExLjM4LDEuMzgsMCwxLDEsMS45NSwyWm02LjE3LDYuMThhMS4zOCwxLjM4LDAsMSwxLDAtMkExLjM4LDEuMzgsMCwwLDEsMTY0LjA2LDEzNS4wNlptMC02LjJMMTYxLDEzMmExLjM5LDEuMzksMCwxLDEtMi0ybDMuMTEtMy4xMWExLjM4LDEuMzgsMCwxLDEsMiwyWiIvPjxnIGNsYXNzPSJjbHMtOSI+PHJlY3QgY2xhc3M9ImNscy0xMCIgeD0iMTQ0LjgyIiB5PSIxMDkuNTkiIHdpZHRoPSIzNi41OCIgaGVpZ2h0PSIzMy44MiIvPjwvZz48Y2lyY2xlIGNsYXNzPSJjbHMtMTEiIGN4PSIxNDQuMTEiIGN5PSIxMTUuNSIgcj0iMiIvPjxjaXJjbGUgY2xhc3M9ImNscy0xMCIgY3g9IjE1MC4xMSIgY3k9IjExNS41IiByPSIyIi8+PHJlY3QgY2xhc3M9ImNscy0zIiB4PSIxMDAuMTEiIHk9IjM5LjUiIHdpZHRoPSI4MiIgaGVpZ2h0PSI1OSIgcng9IjI5LjUiLz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik0xNTguNjEsOTQuNWgtMjNBMjguNDksMjguNDksMCwwLDEsMTIwLDQyLjE3YTI4LjUsMjguNSwwLDAsMCw5LjYsNTUuMzNoMjNhMjguMzMsMjguMzMsMCwwLDAsMTUuNjEtNC42N0EyOC4zOCwyOC4zOCwwLDAsMSwxNTguNjEsOTQuNVoiLz48cmVjdCBjbGFzcz0iY2xzLTEyIiB4PSIxMTguMTEiIHk9IjUwLjUiIHdpZHRoPSI1NCIgaGVpZ2h0PSIxOSIgcng9IjkuNSIvPjxwYXRoIGQ9Ik0xNTIuMTEsNTkuNWgwYTQsNCwwLDAsMSw0LDR2N2EwLDAsMCwwLDEsMCwwaC04YTAsMCwwLDAsMSwwLDB2LTdhNCw0LDAsMCwxLDQtNFoiLz48cGF0aCBkPSJNMTMxLjExLDU5LjVoMGE0LDQsMCwwLDEsNCw0djdhMCwwLDAsMCwxLDAsMGgtOGEwLDAsMCwwLDEsMCwwdi03QTQsNCwwLDAsMSwxMzEuMTEsNTkuNVoiLz48cGF0aCBjbGFzcz0iY2xzLTEzIiBkPSJNMTg0LjExLDc4aDFhMywzLDAsMCwwLDMtM1Y2M2EzLDMsMCwwLDAtMy0zaC0xIi8+PGxpbmUgY2xhc3M9ImNscy0xMyIgeDE9IjE4OC4xMSIgeTE9IjY5IiB4Mj0iMTkxLjExIiB5Mj0iNjkiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMTMiIGN4PSIxOTQuMTEiIGN5PSI2OSIgcj0iMyIvPjxwYXRoIGNsYXNzPSJjbHMtNSIgZD0iTTEwNy4xMSw2NC41aC01YTQuNCw0LjQsMCwwLDAtLjczLjA3LDMwLDMwLDAsMCwwLS4yNywzLjkzLDI4LjgxLDI4LjgxLDAsMCwwLDQuODMsMTZoMS4xN2E0LDQsMCwwLDAsNC00di0xMkE0LDQsMCwwLDAsMTA3LjExLDY0LjVaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTEzIiBjeD0iODcuMTEiIGN5PSI2OSIgcj0iMyIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTk4LjExLDc4aDVhMywzLDAsMCwwLDMtM1Y2M2EzLDMsMCwwLDAtMy0zaC01Ii8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNOTUuMTEsNjVWNzVhMywzLDAsMCwwLDMsM2gwYTMsMywwLDAsMCwzLTNWNjNhMywzLDAsMCwwLTMtM2gwYTMsMywwLDAsMC0zLDN2NiIvPjxsaW5lIGNsYXNzPSJjbHMtMTMiIHgxPSI5Ny4xMSIgeTE9IjY5IiB4Mj0iOTAuMTEiIHkyPSI2OSIvPjxlbGxpcHNlIGN4PSIxNDgiIGN5PSI4MyIgcng9IjYuNSIgcnk9IjcuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMTQiIHgxPSIyNy44IiB5MT0iMzAuMTIiIHgyPSIzMi44IiB5Mj0iMzUuMTIiLz48bGluZSBjbGFzcz0iY2xzLTE0IiB4MT0iMjcuOCIgeTE9IjM1LjEyIiB4Mj0iMzIuOCIgeTI9IjMwLjEyIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTE0IiBjeD0iNDUuMyIgY3k9IjMzIiByPSIzIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTE0IiBjeD0iODkuMyIgY3k9IjM4IiByPSIzIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTE0IiBjeD0iNjYuMyIgY3k9IjY4IiByPSIyIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTE0IiBjeD0iMzYuMyIgY3k9IjQ0IiByPSIxIi8+PGxpbmUgY2xhc3M9ImNscy0xNSIgeDE9Ijc5LjI1IiB5MT0iMTEwLjYyIiB4Mj0iODQuMjUiIHkyPSIxMTUuNjIiLz48bGluZSBjbGFzcz0iY2xzLTE1IiB4MT0iNzkuMjUiIHkxPSIxMTUuNjIiIHgyPSI4NC4yNSIgeTI9IjExMC42MiIvPjxjaXJjbGUgY2xhc3M9ImNscy0xNSIgY3g9Ijc5Ljc1IiBjeT0iMTMxLjUiIHI9IjMiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMTUiIGN4PSI4Ny43NSIgY3k9IjEyNC41IiByPSIxIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMTE2LjMsMTM0YTEwLDEwLDAsMSwwLDAtMjBoLTR2MjBaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTYiIGN4PSIxMTIuMyIgY3k9IjEyNCIgcj0iMTAiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMTYiIGN4PSIxMTIuMyIgY3k9IjEyNCIgcj0iNiIvPjxwYXRoIGNsYXNzPSJjbHMtMTciIGQ9Ik0xMTUuNjEsMTE5SDExMWEzLDMsMCwwLDEtMy0zLDcsNywwLDAsMC03LjctNi45MUE3LjI0LDcuMjQsMCwwLDAsOTYsMTExLjIybC0yLDJBMiwyLDAsMSwwLDk2LjgzLDExNmwyLTJhMy4xMSwzLjExLDAsMCwxLDEuNy0uOTJBMywzLDAsMCwxLDEwNCwxMTYuMWMwLDMuOCwzLjQ2LDYuOSw3LjI2LDYuOWg2Ljk1QTYsNiwwLDAsMCwxMTUuNjEsMTE5WiIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0iTTExNC44OCwxMjYuNDFhMiwyLDAsMCwwLTEuNDEtMy40MUgxMDcuM2E2LDYsMCwwLDAtNiw2djRhMiwyLDAsMCwwLDIsMmgwYTIsMiwwLDAsMCwyLTJ2LTRhMiwyLDAsMCwxLDItMmg2LjE3YTIsMiwwLDAsMCwxLjQxLS41OVoiLz48cGF0aCBjbGFzcz0iY2xzLTE4IiBkPSJNMTE4LjMsMTI0aC0yYTYsNiwwLDAsMC02LDZ2N2EyLDIsMCwwLDEtMiwyaDBhMiwyLDAsMCwwLDAsNGgwYTYsNiwwLDAsMCw2LTZ2LTdhMiwyLDAsMCwxLDItMmguNDZBNiw2LDAsMCwwLDExOC4zLDEyNFoiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0xMjQuMTEsMTg0Ljg3aDBhMTEuMTIsMTEuMTIsMCwwLDAtNy40Mi0xMC40OUw5NC42MywxNjYuNmEyNy44NywyNy44NywwLDAsMC05LjMxLTEuNkg3MS4xMWE2LDYsMCwwLDAtNiw2djExYTE0LDE0LDAsMCwwLDE0LDE0SDExM0ExMS4xMywxMS4xMywwLDAsMCwxMjQuMTEsMTg0Ljg3WiIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTExNi4xMSwxODQuODdoMGExMS4xMiwxMS4xMiwwLDAsMC03LjQyLTEwLjQ5TDg2LjYzLDE2Ni42YTI3Ljg3LDI3Ljg3LDAsMCwwLTkuMzEtMS42SDYzLjExYTYsNiwwLDAsMC02LDZ2MTFhMTQsMTQsMCwwLDAsMTQsMTRIMTA1QTExLjEzLDExLjEzLDAsMCwwLDExNi4xMSwxODQuODdaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSI3MC4xMSIgY3k9IjE4MiIgcj0iNSIvPjxsaW5lIGNsYXNzPSJjbHMtMTkiIHgxPSI1NS4zIiB5MT0iMTYyLjUiIHgyPSI1Mi4zIiB5Mj0iMTU5LjUiLz48bGluZSBjbGFzcz0iY2xzLTE5IiB4MT0iNTkuODYiIHkxPSIxNTkuMzciIHgyPSI1OC42MyIgeTI9IjE1NS4zMSIvPjxsaW5lIGNsYXNzPSJjbHMtMTkiIHgxPSI1Mi43NCIgeTE9IjE2Ny40OSIgeDI9IjQ4LjY3IiB5Mj0iMTY2LjI5Ii8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNODIuOCwxNjYuNXY5LjM0QTQsNCwwLDAsMCw4NCwxNzguNjdsMS42NiwxLjY2YTQsNCwwLDAsMSwxLjE3LDIuODN2NC4zNCIvPjxyZWN0IGNsYXNzPSJjbHMtMTUiIHg9IjIxMi43IiB5PSI2NC43NiIgd2lkdGg9IjMwLjE0IiBoZWlnaHQ9IjEzLjk1IiByeD0iNCIvPjxyZWN0IGNsYXNzPSJjbHMtMTUiIHg9IjIyNy43NyIgeT0iNDYuNTQiIHdpZHRoPSIzMC4xNCIgaGVpZ2h0PSIxMy45NSIgcng9IjQiLz48cmVjdCBjbGFzcz0iY2xzLTE1IiB4PSIyMTIuNyIgeT0iMjguMzEiIHdpZHRoPSIzMC4xNCIgaGVpZ2h0PSIxMy45NSIgcng9IjQiLz48cmVjdCBjbGFzcz0iY2xzLTE1IiB4PSIyNC4wOSIgeT0iMTEzLjE0IiB3aWR0aD0iMzAuMTQiIGhlaWdodD0iMTMuOTUiIHJ4PSI0Ii8+PHJlY3QgY2xhc3M9ImNscy0xNSIgeD0iMzkuMTYiIHk9Ijk0LjkxIiB3aWR0aD0iMzAuMTQiIGhlaWdodD0iMTMuOTUiIHJ4PSI0Ii8+PHBhdGggY2xhc3M9ImNscy0xNCIgZD0iTTU1LjQ2LDU4SDczLjE0YTQsNCwwLDAsMCwzLjQxLTYuMUw2Ny43LDM3LjU0YTQsNCwwLDAsMC02LjgxLDBMNTIuMDUsNTEuOUE0LDQsMCwwLDAsNTUuNDYsNThaIi8+PGxpbmUgY2xhc3M9ImNscy0xNCIgeDE9IjY0LjMiIHkxPSI0MSIgeDI9IjY0LjMiIHkyPSI0OSIvPjxsaW5lIGNsYXNzPSJjbHMtMTQiIHgxPSI2NC4zIiB5MT0iNTMiIHgyPSI2NC4zIiB5Mj0iNTQiLz48L2c+PC9zdmc+"},12741:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-broken-light.f990b9fe.svg"},13156:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-clean-v0.69884f46.svg"},2145:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-cybersecurity--dark.8328faec.svg"},31563:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-cybersecurity.180d2983.svg"},56640:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-error-processing.fafb5573.svg"},75755:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-plant-transparent.1dbd20fd.svg"},60014:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-reading--dark.da95b79d.svg"},82085:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-reading.e4f498af.svg"},25700:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-searching--dark.c7adb520.svg"},27765:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-searching.7ee1c43a.svg"},97340:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-skills--dark.0ca5bd8f.svg"},50931:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-skills--light.78d760a7.svg"},8466:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-use-cases-biopharma--dark.ed6d4c88.svg"},96258:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-use-cases-biopharma.bdcb9f4f.svg"},15859:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-v0.6cfb7f63.svg"},66210:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-vacation-dark.dc198ac6.svg"},38185:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-vacation-light.0d89d90b.svg"},38706:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-waving-surprised-v0.05e9140d.svg"},15444:(e,t,s)=>{"use strict";e.exports=s.p+"images/mute-filters-v0.05acb819.svg"},41727:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE4MiIgdmlld0JveD0iMCAwIDI4MCAxODIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyODAiIGhlaWdodD0iMTgyIiBmaWxsPSIjMzMzMzMzIi8+CjxwYXRoIGQ9Ik0xNTYuNzUgNjUuNTYwMkMxNjAuMTIxIDY1LjU2MDIgMTYyLjg1MyA2OC41MjAxIDE2Mi44NTMgNzIuMTcxM0MxNjIuODUzIDc1LjgyMjUgMTYwLjEyMSA3OC43ODI0IDE1Ni43NSA3OC43ODI0QzE1My4zOCA3OC43ODI0IDE1MC42NDggNzUuODIyNSAxNTAuNjQ4IDcyLjE3MTNDMTUwLjY0OCA3Mi4wMzg0IDE1MC42NTEgNzEuOTA2NCAxNTAuNjU4IDcxLjc3NTVMMTQzLjgzNCA2OS42OTY3TDE0MS4zNzggODAuMTEyNEMxNDYuMDk4IDgwLjM0MzkgMTUwLjQwOSA4MS43NTQ3IDE1My43NzkgODMuOTc1OEMxNTUuMjc1IDgxLjc4OTQgMTU3Ljg3IDgwLjczODIgMTYwLjM4MiA4MS40MjIxQzE2My4yOTUgODIuMjE1MiAxNjUuMjg4IDg1LjEyMTcgMTY1LjE0OCA4OC4zNzE4QzE2NS4wMjYgOTEuMjE2MyAxNjMuMyA5My42MzQ0IDE2MC44ODEgOTQuNTI2NEMxNjAuOTM5IDk1LjAwNzcgMTYwLjk2OCA5NS40OTYzIDE2MC45NjggOTUuOTkwN0MxNjAuOTY4IDEwNC44OTMgMTUxLjUxMiAxMTEuOTAzIDEzOS45OTggMTExLjkwM0MxMjguNDg0IDExMS45MDMgMTE5LjAyOCAxMDQuODkzIDExOS4wMjggOTUuOTkwN0MxMTkuMDI4IDk1LjQ5NjMgMTE5LjA1NyA5NS4wMDc3IDExOS4xMTQgOTQuNTI1OUMxMTYuNjk3IDkzLjYzMjkgMTE0Ljk3MiA5MS4yMTQ1IDExNC44NSA4OC4zNzA0QzExNC43MTEgODUuMTIwNyAxMTYuNzA1IDgyLjIxNSAxMTkuNjE3IDgxLjQyMjNDMTIyLjEyOSA4MC43Mzg4IDEyNC43MjQgODEuNzg5OSAxMjYuMjIxIDgzLjk3NDRDMTI5LjcxNyA4MS42NjkzIDEzNC4yMyA4MC4yMzczIDEzOS4xNjEgODAuMDkxMUwxNDIuMDIxIDY3Ljk2MzZDMTQyLjE1NCA2Ny4zOTkzIDE0Mi42NDUgNjcuMDM4OSAxNDMuMTYyIDY3LjA5MDNMMTQzLjM1NiA2Ny4xMjkyTDE1MS4xNjQgNjkuNTA1NkMxNTIuMTEgNjcuMTgyMSAxNTQuMjU1IDY1LjU2MDIgMTU2Ljc1IDY1LjU2MDJaTTEzOS45OTggODIuNDEyQzEzNC42OTIgODIuNDEyIDEyOS45MjcgODQuMDA2MiAxMjYuNTIgODYuNTQxMkMxMjYuNTE1IDg2LjU0ODggMTI2LjUwOCA4Ni41NTQgMTI2LjUwMiA4Ni41NTkxQzEyMy4yMDIgODkuMDE2MyAxMjEuMTgyIDkyLjM1OTYgMTIxLjE4MiA5NS45OTA3QzEyMS4xODIgMTAzLjM3NSAxMjkuNTM5IDEwOS41NjkgMTM5Ljk5OCAxMDkuNTY5QzE1MC40NTggMTA5LjU2OSAxNTguODE0IDEwMy4zNzUgMTU4LjgxNCA5NS45OTA3QzE1OC44MTQgODguNjA2MiAxNTAuNDU4IDgyLjQxMiAxMzkuOTk4IDgyLjQxMlpNMTMzLjA4MyAxMDEuNDg3QzEzNS4xOTUgMTAyLjc1MiAxMzcuNTc0IDEwMy4zOTggMTQwLjAxNSAxMDMuMzYzQzE0Mi40MTUgMTAzLjM5OCAxNDQuNzgyIDEwMi43NTggMTQ2Ljg4NiAxMDEuNTA2QzE0Ny40MDcgMTAxLjE5NiAxNDguMDYyIDEwMS40MDIgMTQ4LjM0OSAxMDEuOTY3QzE0OC42MzUgMTAyLjUzMiAxNDguNDQ0IDEwMy4yNDEgMTQ3LjkyMyAxMDMuNTUxQzE0NS40OTMgMTA0Ljk5NyAxNDIuNzU4IDEwNS43MzYgMTQwLjAxNSAxMDUuNjk2QzEzNy4yMjggMTA1LjczNyAxMzQuNDggMTA0Ljk5IDEzMi4wNDEgMTAzLjUyOUMxMzEuNTIxIDEwMy4yMTcgMTMxLjMzMiAxMDIuNTA3IDEzMS42MiAxMDEuOTQ0QzEzMS45MDggMTAxLjM4IDEzMi41NjMgMTAxLjE3NSAxMzMuMDgzIDEwMS40ODdaTTE0OC4zNzQgODguMDE4NUMxNTAuNzA0IDg4LjAxODUgMTUyLjU5MiA5MC4wNjQzIDE1Mi41OTIgOTIuNTg4QzE1Mi41OTIgOTUuMTExNiAxNTAuNzA0IDk3LjE1NzQgMTQ4LjM3NCA5Ny4xNTc0QzE0Ni4wNDUgOTcuMTU3NCAxNDQuMTU2IDk1LjExMTYgMTQ0LjE1NiA5Mi41ODhDMTQ0LjE1NiA5MC4wNjQzIDE0Ni4wNDUgODguMDE4NSAxNDguMzc0IDg4LjAxODVaTTEzMS42MjIgODguMDE4NUMxMzMuOTUyIDg4LjAxODUgMTM1Ljg0IDkwLjA2NDMgMTM1Ljg0IDkyLjU4OEMxMzUuODQgOTUuMTExNiAxMzMuOTUyIDk3LjE1NzQgMTMxLjYyMiA5Ny4xNTc0QzEyOS4yOTMgOTcuMTU3NCAxMjcuNDA0IDk1LjExMTYgMTI3LjQwNCA5Mi41ODhDMTI3LjQwNCA5MC4wNjQzIDEyOS4yOTMgODguMDE4NSAxMzEuNjIyIDg4LjAxODVaTTE0OC4zNzQgOTAuMzUxOEMxNDcuMjM0IDkwLjM1MTggMTQ2LjMxIDkxLjM1MyAxNDYuMzEgOTIuNTg4QzE0Ni4zMSA5My44MjI5IDE0Ny4yMzQgOTQuODI0MSAxNDguMzc0IDk0LjgyNDFDMTQ5LjUxNCA5NC44MjQxIDE1MC40MzggOTMuODIyOSAxNTAuNDM4IDkyLjU4OEMxNTAuNDM4IDkxLjM1MyAxNDkuNTE0IDkwLjM1MTggMTQ4LjM3NCA5MC4zNTE4Wk0xMzEuNjIyIDkwLjM1MThDMTMwLjQ4MiA5MC4zNTE4IDEyOS41NTggOTEuMzUzIDEyOS41NTggOTIuNTg4QzEyOS41NTggOTMuODIyOSAxMzAuNDgyIDk0LjgyNDEgMTMxLjYyMiA5NC44MjQxQzEzMi43NjIgOTQuODI0MSAxMzMuNjg2IDkzLjgyMjkgMTMzLjY4NiA5Mi41ODhDMTMzLjY4NiA5MS4zNTMgMTMyLjc2MiA5MC4zNTE4IDEzMS42MjIgOTAuMzUxOFpNMTIwLjE0MiA4My42ODUzQzExOC4yMjQgODQuMjA3NSAxMTYuOTEgODYuMTIxNyAxMTcuMDAyIDg4LjI2MjVDMTE3LjA3OCA5MC4wNTU0IDExOC4xMjMgOTEuNTkxNSAxMTkuNjA4IDkyLjIzNkMxMjAuNDQgODkuNTk1NyAxMjIuMTMxIDg3LjIyNzEgMTI0LjQzOCA4NS4yOTcxQzEyMy40NDggODMuOTA0MyAxMjEuNzY5IDgzLjI0MjcgMTIwLjE0MiA4My42ODUzWk0xNTUuNjQzIDg1LjE3NjRMMTU1LjU1OCA4NS4yOTcxQzE1Ny44NjUgODcuMjI3MSAxNTkuNTU2IDg5LjU5NTcgMTYwLjM4OSA5Mi4yMzQ4QzE2MS44NzYgOTEuNTkxIDE2Mi45MiA5MC4wNTU2IDE2Mi45OTcgODguMjYzM0MxNjMuMDg5IDg2LjEyMjMgMTYxLjc3NiA4NC4yMDc1IDE1OS44NTcgODMuNjg1MUMxNTguMjc3IDgzLjI1NDggMTU2LjY0NiA4My44NjcgMTU1LjY0MyA4NS4xNzY0Wk0xNTYuNzUgNjcuODkzNUMxNTQuNTY5IDY3Ljg5MzUgMTUyLjgwMiA2OS44MDg3IDE1Mi44MDIgNzIuMTcxM0MxNTIuODAyIDc0LjUzMzggMTU0LjU2OSA3Ni40NDkxIDE1Ni43NSA3Ni40NDkxQzE1OC45MzEgNzYuNDQ5MSAxNjAuNjk5IDc0LjUzMzggMTYwLjY5OSA3Mi4xNzEzQzE2MC42OTkgNjkuODA4NyAxNTguOTMxIDY3Ljg5MzUgMTU2Ljc1IDY3Ljg5MzVaIiBmaWxsPSIjRkY1NzAwIi8+Cjwvc3ZnPgo="},57622:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE4MiIgdmlld0JveD0iMCAwIDI4MCAxODIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyODAiIGhlaWdodD0iMTgyIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTU2Ljc1IDY1LjU2MDJDMTYwLjEyMSA2NS41NjAyIDE2Mi44NTMgNjguNTIwMSAxNjIuODUzIDcyLjE3MTNDMTYyLjg1MyA3NS44MjI1IDE2MC4xMjEgNzguNzgyNCAxNTYuNzUgNzguNzgyNEMxNTMuMzggNzguNzgyNCAxNTAuNjQ4IDc1LjgyMjUgMTUwLjY0OCA3Mi4xNzEzQzE1MC42NDggNzIuMDM4NCAxNTAuNjUxIDcxLjkwNjQgMTUwLjY1OCA3MS43NzU1TDE0My44MzQgNjkuNjk2N0wxNDEuMzc4IDgwLjExMjRDMTQ2LjA5OCA4MC4zNDM5IDE1MC40MDkgODEuNzU0NyAxNTMuNzc5IDgzLjk3NThDMTU1LjI3NSA4MS43ODk0IDE1Ny44NyA4MC43MzgyIDE2MC4zODIgODEuNDIyMUMxNjMuMjk1IDgyLjIxNTIgMTY1LjI4OCA4NS4xMjE3IDE2NS4xNDggODguMzcxOEMxNjUuMDI2IDkxLjIxNjMgMTYzLjMgOTMuNjM0NCAxNjAuODgxIDk0LjUyNjRDMTYwLjkzOSA5NS4wMDc3IDE2MC45NjggOTUuNDk2MyAxNjAuOTY4IDk1Ljk5MDdDMTYwLjk2OCAxMDQuODkzIDE1MS41MTIgMTExLjkwMyAxMzkuOTk4IDExMS45MDNDMTI4LjQ4NCAxMTEuOTAzIDExOS4wMjggMTA0Ljg5MyAxMTkuMDI4IDk1Ljk5MDdDMTE5LjAyOCA5NS40OTYzIDExOS4wNTcgOTUuMDA3NyAxMTkuMTE0IDk0LjUyNTlDMTE2LjY5NyA5My42MzI5IDExNC45NzIgOTEuMjE0NSAxMTQuODUgODguMzcwNEMxMTQuNzExIDg1LjEyMDcgMTE2LjcwNSA4Mi4yMTUgMTE5LjYxNyA4MS40MjIzQzEyMi4xMjkgODAuNzM4OCAxMjQuNzI0IDgxLjc4OTkgMTI2LjIyMSA4My45NzQ0QzEyOS43MTcgODEuNjY5MyAxMzQuMjMgODAuMjM3MyAxMzkuMTYxIDgwLjA5MTFMMTQyLjAyMSA2Ny45NjM2QzE0Mi4xNTQgNjcuMzk5MyAxNDIuNjQ1IDY3LjAzODkgMTQzLjE2MiA2Ny4wOTAzTDE0My4zNTYgNjcuMTI5MkwxNTEuMTY0IDY5LjUwNTZDMTUyLjExIDY3LjE4MjEgMTU0LjI1NSA2NS41NjAyIDE1Ni43NSA2NS41NjAyWk0xMzkuOTk4IDgyLjQxMkMxMzQuNjkyIDgyLjQxMiAxMjkuOTI3IDg0LjAwNjIgMTI2LjUyIDg2LjU0MTJDMTI2LjUxNSA4Ni41NDg4IDEyNi41MDggODYuNTU0IDEyNi41MDIgODYuNTU5MUMxMjMuMjAyIDg5LjAxNjMgMTIxLjE4MiA5Mi4zNTk2IDEyMS4xODIgOTUuOTkwN0MxMjEuMTgyIDEwMy4zNzUgMTI5LjUzOSAxMDkuNTY5IDEzOS45OTggMTA5LjU2OUMxNTAuNDU4IDEwOS41NjkgMTU4LjgxNCAxMDMuMzc1IDE1OC44MTQgOTUuOTkwN0MxNTguODE0IDg4LjYwNjIgMTUwLjQ1OCA4Mi40MTIgMTM5Ljk5OCA4Mi40MTJaTTEzMy4wODMgMTAxLjQ4N0MxMzUuMTk1IDEwMi43NTIgMTM3LjU3NCAxMDMuMzk4IDE0MC4wMTUgMTAzLjM2M0MxNDIuNDE1IDEwMy4zOTggMTQ0Ljc4MiAxMDIuNzU4IDE0Ni44ODYgMTAxLjUwNkMxNDcuNDA3IDEwMS4xOTYgMTQ4LjA2MiAxMDEuNDAyIDE0OC4zNDkgMTAxLjk2N0MxNDguNjM1IDEwMi41MzIgMTQ4LjQ0NCAxMDMuMjQxIDE0Ny45MjMgMTAzLjU1MUMxNDUuNDkzIDEwNC45OTcgMTQyLjc1OCAxMDUuNzM2IDE0MC4wMTUgMTA1LjY5NkMxMzcuMjI4IDEwNS43MzcgMTM0LjQ4IDEwNC45OSAxMzIuMDQxIDEwMy41MjlDMTMxLjUyMSAxMDMuMjE3IDEzMS4zMzIgMTAyLjUwNyAxMzEuNjIgMTAxLjk0NEMxMzEuOTA4IDEwMS4zOCAxMzIuNTYzIDEwMS4xNzUgMTMzLjA4MyAxMDEuNDg3Wk0xNDguMzc0IDg4LjAxODVDMTUwLjcwNCA4OC4wMTg1IDE1Mi41OTIgOTAuMDY0MyAxNTIuNTkyIDkyLjU4OEMxNTIuNTkyIDk1LjExMTYgMTUwLjcwNCA5Ny4xNTc0IDE0OC4zNzQgOTcuMTU3NEMxNDYuMDQ1IDk3LjE1NzQgMTQ0LjE1NiA5NS4xMTE2IDE0NC4xNTYgOTIuNTg4QzE0NC4xNTYgOTAuMDY0MyAxNDYuMDQ1IDg4LjAxODUgMTQ4LjM3NCA4OC4wMTg1Wk0xMzEuNjIyIDg4LjAxODVDMTMzLjk1MiA4OC4wMTg1IDEzNS44NCA5MC4wNjQzIDEzNS44NCA5Mi41ODhDMTM1Ljg0IDk1LjExMTYgMTMzLjk1MiA5Ny4xNTc0IDEzMS42MjIgOTcuMTU3NEMxMjkuMjkzIDk3LjE1NzQgMTI3LjQwNCA5NS4xMTE2IDEyNy40MDQgOTIuNTg4QzEyNy40MDQgOTAuMDY0MyAxMjkuMjkzIDg4LjAxODUgMTMxLjYyMiA4OC4wMTg1Wk0xNDguMzc0IDkwLjM1MThDMTQ3LjIzNCA5MC4zNTE4IDE0Ni4zMSA5MS4zNTMgMTQ2LjMxIDkyLjU4OEMxNDYuMzEgOTMuODIyOSAxNDcuMjM0IDk0LjgyNDEgMTQ4LjM3NCA5NC44MjQxQzE0OS41MTQgOTQuODI0MSAxNTAuNDM4IDkzLjgyMjkgMTUwLjQzOCA5Mi41ODhDMTUwLjQzOCA5MS4zNTMgMTQ5LjUxNCA5MC4zNTE4IDE0OC4zNzQgOTAuMzUxOFpNMTMxLjYyMiA5MC4zNTE4QzEzMC40ODIgOTAuMzUxOCAxMjkuNTU4IDkxLjM1MyAxMjkuNTU4IDkyLjU4OEMxMjkuNTU4IDkzLjgyMjkgMTMwLjQ4MiA5NC44MjQxIDEzMS42MjIgOTQuODI0MUMxMzIuNzYyIDk0LjgyNDEgMTMzLjY4NiA5My44MjI5IDEzMy42ODYgOTIuNTg4QzEzMy42ODYgOTEuMzUzIDEzMi43NjIgOTAuMzUxOCAxMzEuNjIyIDkwLjM1MThaTTEyMC4xNDIgODMuNjg1M0MxMTguMjI0IDg0LjIwNzUgMTE2LjkxIDg2LjEyMTcgMTE3LjAwMiA4OC4yNjI1QzExNy4wNzggOTAuMDU1NCAxMTguMTIzIDkxLjU5MTUgMTE5LjYwOCA5Mi4yMzZDMTIwLjQ0IDg5LjU5NTcgMTIyLjEzMSA4Ny4yMjcxIDEyNC40MzggODUuMjk3MUMxMjMuNDQ4IDgzLjkwNDMgMTIxLjc2OSA4My4yNDI3IDEyMC4xNDIgODMuNjg1M1pNMTU1LjY0MyA4NS4xNzY0TDE1NS41NTggODUuMjk3MUMxNTcuODY1IDg3LjIyNzEgMTU5LjU1NiA4OS41OTU3IDE2MC4zODkgOTIuMjM0OEMxNjEuODc2IDkxLjU5MSAxNjIuOTIgOTAuMDU1NiAxNjIuOTk3IDg4LjI2MzNDMTYzLjA4OSA4Ni4xMjIzIDE2MS43NzYgODQuMjA3NSAxNTkuODU3IDgzLjY4NTFDMTU4LjI3NyA4My4yNTQ4IDE1Ni42NDYgODMuODY3IDE1NS42NDMgODUuMTc2NFpNMTU2Ljc1IDY3Ljg5MzVDMTU0LjU2OSA2Ny44OTM1IDE1Mi44MDIgNjkuODA4NyAxNTIuODAyIDcyLjE3MTNDMTUyLjgwMiA3NC41MzM4IDE1NC41NjkgNzYuNDQ5MSAxNTYuNzUgNzYuNDQ5MUMxNTguOTMxIDc2LjQ0OTEgMTYwLjY5OSA3NC41MzM4IDE2MC42OTkgNzIuMTcxM0MxNjAuNjk5IDY5LjgwODcgMTU4LjkzMSA2Ny44OTM1IDE1Ni43NSA2Ny44OTM1WiIgZmlsbD0iI0ZGNTcwMCIvPgo8L3N2Zz4K"},486:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiB2aWV3Qm94PSIwIDAgMTMwIDc4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiBmaWxsPSIjMzMzMzMzIi8+CjxwYXRoIGQ9Ik03Mi43NzY3IDI4LjA5NzJDNzQuMzQxNSAyOC4wOTcyIDc1LjYxIDI5LjM2NTggNzUuNjEgMzAuOTMwNkM3NS42MSAzMi40OTU0IDc0LjM0MTUgMzMuNzYzOSA3Mi43NzY3IDMzLjc2MzlDNzEuMjExOSAzMy43NjM5IDY5Ljk0MzMgMzIuNDk1NCA2OS45NDMzIDMwLjkzMDZDNjkuOTQzMyAzMC44NzM2IDY5Ljk0NSAzMC44MTcxIDY5Ljk0ODMgMzAuNzYwOUw2Ni43Nzk5IDI5Ljg3TDY1LjYzOTQgMzQuMzMzOUM2Ny44MzA4IDM0LjQzMzEgNjkuODMyNiAzNS4wMzc3IDcxLjM5NyAzNS45ODk2QzcyLjA5MTUgMzUuMDUyNiA3My4yOTY1IDM0LjYwMjEgNzQuNDYyNyAzNC44OTUyQzc1LjgxNTEgMzUuMjM1MSA3Ni43NDA2IDM2LjQ4MDggNzYuNjc1OCAzNy44NzM2Qzc2LjYxOSAzOS4wOTI3IDc1LjgxNzQgNDAuMTI5IDc0LjY5NDMgNDAuNTExM0M3NC43MjE1IDQwLjcxNzYgNzQuNzM1IDQwLjkyNyA3NC43MzUgNDEuMTM4OUM3NC43MzUgNDQuOTU0NCA3MC4zNDQ2IDQ3Ljk1ODMgNjQuOTk4OSA0Ny45NTgzQzU5LjY1MzIgNDcuOTU4MyA1NS4yNjI4IDQ0Ljk1NDQgNTUuMjYyOCA0MS4xMzg5QzU1LjI2MjggNDAuOTI3IDU1LjI3NjMgNDAuNzE3NiA1NS4zMDI4IDQwLjUxMTFDNTQuMTgwNiA0MC4xMjg0IDUzLjM3OTQgMzkuMDkyIDUzLjMyMyAzNy44NzNDNTMuMjU4NSAzNi40ODAzIDU0LjE4NDIgMzUuMjM1IDU1LjUzNjQgMzQuODk1M0M1Ni43MDI0IDM0LjYwMjMgNTcuOTA3MyAzNS4wNTI4IDU4LjYwMjYgMzUuOTg5QzYwLjIyNTcgMzUuMDAxMiA2Mi4zMjA5IDM0LjM4NzQgNjQuNjEwMiAzNC4zMjQ4TDY1LjkzODEgMjkuMTI3M0M2NS45OTk5IDI4Ljg4NTQgNjYuMjI3OCAyOC43MzEgNjYuNDY3NiAyOC43NTNMNjYuNTU3OCAyOC43Njk3TDcwLjE4MzEgMjkuNzg4MUM3MC42MjI0IDI4Ljc5MjMgNzEuNjE4MyAyOC4wOTcyIDcyLjc3NjcgMjguMDk3MlpNNjQuOTk4OSAzNS4zMTk1QzYyLjUzNTIgMzUuMzE5NSA2MC4zMjI5IDM2LjAwMjcgNTguNzQwOSAzNy4wODkxQzU4LjczODkgMzcuMDkyNCA1OC43MzU4IDM3LjA5NDYgNTguNzMyNyAzNy4wOTY4QzU3LjIwMDkgMzguMTQ5OCA1Ni4yNjI4IDM5LjU4MjcgNTYuMjYyOCA0MS4xMzg5QzU2LjI2MjggNDQuMzAzNyA2MC4xNDI2IDQ2Ljk1ODMgNjQuOTk4OSA0Ni45NTgzQzY5Ljg1NTEgNDYuOTU4MyA3My43MzUgNDQuMzAzNyA3My43MzUgNDEuMTM4OUM3My43MzUgMzcuOTc0MSA2OS44NTUxIDM1LjMxOTUgNjQuOTk4OSAzNS4zMTk1Wk02MS43ODg1IDQzLjQ5NDVDNjIuNzY4NiA0NC4wMzY1IDYzLjg3MzIgNDQuMzEzNiA2NS4wMDY2IDQ0LjI5ODRDNjYuMTIwOSA0NC4zMTM0IDY3LjIyMDEgNDQuMDM5MiA2OC4xOTY5IDQzLjUwMjZDNjguNDM4OSA0My4zNjk3IDY4Ljc0MjkgNDMuNDU4MSA2OC44NzU5IDQzLjcwMDFDNjkuMDA4OCA0My45NDIxIDY4LjkyMDQgNDQuMjQ2MSA2OC42Nzg0IDQ0LjM3OTFDNjcuNTUwMSA0NC45OTg5IDY2LjI4MDQgNDUuMzE1NiA2NS4wMDY2IDQ1LjI5ODNDNjMuNzEyOSA0NS4zMTU5IDYyLjQzNjkgNDQuOTk1OCA2MS4zMDQ2IDQ0LjM2OTZDNjEuMDYyOSA0NC4yMzYgNjAuOTc1MyA0My45MzE4IDYxLjEwOSA0My42OTAxQzYxLjI0MjYgNDMuNDQ4NSA2MS41NDY4IDQzLjM2MDkgNjEuNzg4NSA0My40OTQ1Wk02OC44ODc4IDM3LjcyMjJDNjkuOTY5MyAzNy43MjIyIDcwLjg0NjEgMzguNTk5IDcwLjg0NjEgMzkuNjgwNkM3MC44NDYxIDQwLjc2MjEgNjkuOTY5MyA0MS42Mzg5IDY4Ljg4NzggNDEuNjM4OUM2Ny44MDYyIDQxLjYzODkgNjYuOTI5NCA0MC43NjIxIDY2LjkyOTQgMzkuNjgwNkM2Ni45Mjk0IDM4LjU5OSA2Ny44MDYyIDM3LjcyMjIgNjguODg3OCAzNy43MjIyWk02MS4xMSAzNy43MjIyQzYyLjE5MTYgMzcuNzIyMiA2My4wNjgzIDM4LjU5OSA2My4wNjgzIDM5LjY4MDZDNjMuMDY4MyA0MC43NjIxIDYyLjE5MTYgNDEuNjM4OSA2MS4xMSA0MS42Mzg5QzYwLjAyODQgNDEuNjM4OSA1OS4xNTE3IDQwLjc2MjEgNTkuMTUxNyAzOS42ODA2QzU5LjE1MTcgMzguNTk5IDYwLjAyODQgMzcuNzIyMiA2MS4xMSAzNy43MjIyWk02OC44ODc4IDM4LjcyMjJDNjguMzU4NSAzOC43MjIyIDY3LjkyOTQgMzkuMTUxMyA2Ny45Mjk0IDM5LjY4MDZDNjcuOTI5NCA0MC4yMDk4IDY4LjM1ODUgNDAuNjM4OSA2OC44ODc4IDQwLjYzODlDNjkuNDE3IDQwLjYzODkgNjkuODQ2MSA0MC4yMDk4IDY5Ljg0NjEgMzkuNjgwNkM2OS44NDYxIDM5LjE1MTMgNjkuNDE3IDM4LjcyMjIgNjguODg3OCAzOC43MjIyWk02MS4xMSAzOC43MjIyQzYwLjU4MDcgMzguNzIyMiA2MC4xNTE3IDM5LjE1MTMgNjAuMTUxNyAzOS42ODA2QzYwLjE1MTcgNDAuMjA5OCA2MC41ODA3IDQwLjYzODkgNjEuMTEgNDAuNjM4OUM2MS42MzkzIDQwLjYzODkgNjIuMDY4MyA0MC4yMDk4IDYyLjA2ODMgMzkuNjgwNkM2Mi4wNjgzIDM5LjE1MTMgNjEuNjM5MyAzOC43MjIyIDYxLjExIDM4LjcyMjJaTTU1Ljc4IDM1Ljg2NTJDNTQuODg5MiAzNi4wODg5IDU0LjI3OTUgMzYuOTA5MyA1NC4zMjE5IDM3LjgyNjhDNTQuMzU3NSAzOC41OTUyIDU0Ljg0MjMgMzkuMjUzNSA1NS41MzIyIDM5LjUyOTdDNTUuOTE4MyAzOC4zOTgyIDU2LjcwMzUgMzcuMzgzMSA1Ny43NzQ3IDM2LjU1NTlDNTcuMzE1IDM1Ljk1OSA1Ni41MzUxIDM1LjY3NTQgNTUuNzggMzUuODY1MlpNNzIuMjYyNyAzNi41MDQyTDcyLjIyMyAzNi41NTU5QzczLjI5NDMgMzcuMzgzMSA3NC4wNzk1IDM4LjM5ODIgNzQuNDY1OSAzOS41MjkyQzc1LjE1NjQgMzkuMjUzMyA3NS42NDExIDM4LjU5NTMgNzUuNjc2OSAzNy44MjcxQzc1LjcxOTYgMzYuOTA5NiA3NS4xMDk5IDM2LjA4ODkgNzQuMjE5IDM1Ljg2NUM3My40ODUzIDM1LjY4MDYgNzIuNzI4MyAzNS45NDMgNzIuMjYyNyAzNi41MDQyWk03Mi43NzY3IDI5LjA5NzJDNzEuNzY0MSAyOS4wOTcyIDcwLjk0MzMgMjkuOTE4IDcwLjk0MzMgMzAuOTMwNkM3MC45NDMzIDMxLjk0MzEgNzEuNzY0MSAzMi43NjM5IDcyLjc3NjcgMzIuNzYzOUM3My43ODkyIDMyLjc2MzkgNzQuNjEgMzEuOTQzMSA3NC42MSAzMC45MzA2Qzc0LjYxIDI5LjkxOCA3My43ODkyIDI5LjA5NzIgNzIuNzc2NyAyOS4wOTcyWiIgZmlsbD0iI0ZGNTcwMCIvPgo8L3N2Zz4K"},72864:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiB2aWV3Qm94PSIwIDAgMTMwIDc4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzIuNzc2NyAyOC4wOTcyQzc0LjM0MTUgMjguMDk3MiA3NS42MSAyOS4zNjU4IDc1LjYxIDMwLjkzMDZDNzUuNjEgMzIuNDk1NCA3NC4zNDE1IDMzLjc2MzkgNzIuNzc2NyAzMy43NjM5QzcxLjIxMTkgMzMuNzYzOSA2OS45NDMzIDMyLjQ5NTQgNjkuOTQzMyAzMC45MzA2QzY5Ljk0MzMgMzAuODczNiA2OS45NDUgMzAuODE3MSA2OS45NDgzIDMwLjc2MDlMNjYuNzc5OSAyOS44N0w2NS42Mzk0IDM0LjMzMzlDNjcuODMwOCAzNC40MzMxIDY5LjgzMjYgMzUuMDM3NyA3MS4zOTcgMzUuOTg5NkM3Mi4wOTE1IDM1LjA1MjYgNzMuMjk2NSAzNC42MDIxIDc0LjQ2MjcgMzQuODk1MkM3NS44MTUxIDM1LjIzNTEgNzYuNzQwNiAzNi40ODA4IDc2LjY3NTggMzcuODczNkM3Ni42MTkgMzkuMDkyNyA3NS44MTc0IDQwLjEyOSA3NC42OTQzIDQwLjUxMTNDNzQuNzIxNSA0MC43MTc2IDc0LjczNSA0MC45MjcgNzQuNzM1IDQxLjEzODlDNzQuNzM1IDQ0Ljk1NDQgNzAuMzQ0NiA0Ny45NTgzIDY0Ljk5ODkgNDcuOTU4M0M1OS42NTMyIDQ3Ljk1ODMgNTUuMjYyOCA0NC45NTQ0IDU1LjI2MjggNDEuMTM4OUM1NS4yNjI4IDQwLjkyNyA1NS4yNzYzIDQwLjcxNzYgNTUuMzAyOCA0MC41MTExQzU0LjE4MDYgNDAuMTI4NCA1My4zNzk0IDM5LjA5MiA1My4zMjMgMzcuODczQzUzLjI1ODUgMzYuNDgwMyA1NC4xODQyIDM1LjIzNSA1NS41MzY0IDM0Ljg5NTNDNTYuNzAyNCAzNC42MDIzIDU3LjkwNzMgMzUuMDUyOCA1OC42MDI2IDM1Ljk4OUM2MC4yMjU3IDM1LjAwMTIgNjIuMzIwOSAzNC4zODc0IDY0LjYxMDIgMzQuMzI0OEw2NS45MzgxIDI5LjEyNzNDNjUuOTk5OSAyOC44ODU0IDY2LjIyNzggMjguNzMxIDY2LjQ2NzYgMjguNzUzTDY2LjU1NzggMjguNzY5N0w3MC4xODMxIDI5Ljc4ODFDNzAuNjIyNCAyOC43OTIzIDcxLjYxODMgMjguMDk3MiA3Mi43NzY3IDI4LjA5NzJaTTY0Ljk5ODkgMzUuMzE5NUM2Mi41MzUyIDM1LjMxOTUgNjAuMzIyOSAzNi4wMDI3IDU4Ljc0MDkgMzcuMDg5MUM1OC43Mzg5IDM3LjA5MjQgNTguNzM1OCAzNy4wOTQ2IDU4LjczMjcgMzcuMDk2OEM1Ny4yMDA5IDM4LjE0OTggNTYuMjYyOCAzOS41ODI3IDU2LjI2MjggNDEuMTM4OUM1Ni4yNjI4IDQ0LjMwMzcgNjAuMTQyNiA0Ni45NTgzIDY0Ljk5ODkgNDYuOTU4M0M2OS44NTUxIDQ2Ljk1ODMgNzMuNzM1IDQ0LjMwMzcgNzMuNzM1IDQxLjEzODlDNzMuNzM1IDM3Ljk3NDEgNjkuODU1MSAzNS4zMTk1IDY0Ljk5ODkgMzUuMzE5NVpNNjEuNzg4NSA0My40OTQ1QzYyLjc2ODYgNDQuMDM2NSA2My44NzMyIDQ0LjMxMzYgNjUuMDA2NiA0NC4yOTg0QzY2LjEyMDkgNDQuMzEzNCA2Ny4yMjAxIDQ0LjAzOTIgNjguMTk2OSA0My41MDI2QzY4LjQzODkgNDMuMzY5NyA2OC43NDI5IDQzLjQ1ODEgNjguODc1OSA0My43MDAxQzY5LjAwODggNDMuOTQyMSA2OC45MjA0IDQ0LjI0NjEgNjguNjc4NCA0NC4zNzkxQzY3LjU1MDEgNDQuOTk4OSA2Ni4yODA0IDQ1LjMxNTYgNjUuMDA2NiA0NS4yOTgzQzYzLjcxMjkgNDUuMzE1OSA2Mi40MzY5IDQ0Ljk5NTggNjEuMzA0NiA0NC4zNjk2QzYxLjA2MjkgNDQuMjM2IDYwLjk3NTMgNDMuOTMxOCA2MS4xMDkgNDMuNjkwMUM2MS4yNDI2IDQzLjQ0ODUgNjEuNTQ2OCA0My4zNjA5IDYxLjc4ODUgNDMuNDk0NVpNNjguODg3OCAzNy43MjIyQzY5Ljk2OTMgMzcuNzIyMiA3MC44NDYxIDM4LjU5OSA3MC44NDYxIDM5LjY4MDZDNzAuODQ2MSA0MC43NjIxIDY5Ljk2OTMgNDEuNjM4OSA2OC44ODc4IDQxLjYzODlDNjcuODA2MiA0MS42Mzg5IDY2LjkyOTQgNDAuNzYyMSA2Ni45Mjk0IDM5LjY4MDZDNjYuOTI5NCAzOC41OTkgNjcuODA2MiAzNy43MjIyIDY4Ljg4NzggMzcuNzIyMlpNNjEuMTEgMzcuNzIyMkM2Mi4xOTE2IDM3LjcyMjIgNjMuMDY4MyAzOC41OTkgNjMuMDY4MyAzOS42ODA2QzYzLjA2ODMgNDAuNzYyMSA2Mi4xOTE2IDQxLjYzODkgNjEuMTEgNDEuNjM4OUM2MC4wMjg0IDQxLjYzODkgNTkuMTUxNyA0MC43NjIxIDU5LjE1MTcgMzkuNjgwNkM1OS4xNTE3IDM4LjU5OSA2MC4wMjg0IDM3LjcyMjIgNjEuMTEgMzcuNzIyMlpNNjguODg3OCAzOC43MjIyQzY4LjM1ODUgMzguNzIyMiA2Ny45Mjk0IDM5LjE1MTMgNjcuOTI5NCAzOS42ODA2QzY3LjkyOTQgNDAuMjA5OCA2OC4zNTg1IDQwLjYzODkgNjguODg3OCA0MC42Mzg5QzY5LjQxNyA0MC42Mzg5IDY5Ljg0NjEgNDAuMjA5OCA2OS44NDYxIDM5LjY4MDZDNjkuODQ2MSAzOS4xNTEzIDY5LjQxNyAzOC43MjIyIDY4Ljg4NzggMzguNzIyMlpNNjEuMTEgMzguNzIyMkM2MC41ODA3IDM4LjcyMjIgNjAuMTUxNyAzOS4xNTEzIDYwLjE1MTcgMzkuNjgwNkM2MC4xNTE3IDQwLjIwOTggNjAuNTgwNyA0MC42Mzg5IDYxLjExIDQwLjYzODlDNjEuNjM5MyA0MC42Mzg5IDYyLjA2ODMgNDAuMjA5OCA2Mi4wNjgzIDM5LjY4MDZDNjIuMDY4MyAzOS4xNTEzIDYxLjYzOTMgMzguNzIyMiA2MS4xMSAzOC43MjIyWk01NS43OCAzNS44NjUyQzU0Ljg4OTIgMzYuMDg4OSA1NC4yNzk1IDM2LjkwOTMgNTQuMzIxOSAzNy44MjY4QzU0LjM1NzUgMzguNTk1MiA1NC44NDIzIDM5LjI1MzUgNTUuNTMyMiAzOS41Mjk3QzU1LjkxODMgMzguMzk4MiA1Ni43MDM1IDM3LjM4MzEgNTcuNzc0NyAzNi41NTU5QzU3LjMxNSAzNS45NTkgNTYuNTM1MSAzNS42NzU0IDU1Ljc4IDM1Ljg2NTJaTTcyLjI2MjcgMzYuNTA0Mkw3Mi4yMjMgMzYuNTU1OUM3My4yOTQzIDM3LjM4MzEgNzQuMDc5NSAzOC4zOTgyIDc0LjQ2NTkgMzkuNTI5MkM3NS4xNTY0IDM5LjI1MzMgNzUuNjQxMSAzOC41OTUzIDc1LjY3NjkgMzcuODI3MUM3NS43MTk2IDM2LjkwOTYgNzUuMTA5OSAzNi4wODg5IDc0LjIxOSAzNS44NjVDNzMuNDg1MyAzNS42ODA2IDcyLjcyODMgMzUuOTQzIDcyLjI2MjcgMzYuNTA0MlpNNzIuNzc2NyAyOS4wOTcyQzcxLjc2NDEgMjkuMDk3MiA3MC45NDMzIDI5LjkxOCA3MC45NDMzIDMwLjkzMDZDNzAuOTQzMyAzMS45NDMxIDcxLjc2NDEgMzIuNzYzOSA3Mi43NzY3IDMyLjc2MzlDNzMuNzg5MiAzMi43NjM5IDc0LjYxIDMxLjk0MzEgNzQuNjEgMzAuOTMwNkM3NC42MSAyOS45MTggNzMuNzg5MiAyOS4wOTcyIDcyLjc3NjcgMjkuMDk3MloiIGZpbGw9IiNGRjU3MDAiLz4KPC9zdmc+Cg=="},20170:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE4MiIgdmlld0JveD0iMCAwIDI4MCAxODIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyODAiIGhlaWdodD0iMTgyIiBmaWxsPSIjMzMzMzMzIi8+CjxwYXRoIGQ9Ik0xNDUuMzc5IDcyLjEwMzRDMTQxLjU3NyA3My44ODkxIDEzOS4wNjQgNzcuODkzNyAxMzguOTI4IDgyLjM3ODZMMTM4LjkyMyA4NC4wNjc2TDEzOC42MDMgODQuMDYyNUMxMzEuNzg4IDgzLjc5MjggMTI1LjQ0NiA4MC4wODgxIDEyMS40OTcgNzMuOTk2MUMxMjEuMDE2IDczLjI1NDEgMTE5Ljk3MSA3My4zNjQyIDExOS42MzEgNzQuMTkyOEwxMTkuNDYyIDc0LjYzNjVDMTE5LjQxNiA3NC43NjU4IDExOS4zNjMgNzQuOTE1MSAxMTkuMzA2IDc1LjA4MzZDMTE5LjA3MiA3NS43NzQyIDExOC44MzkgNzYuNTU4MiAxMTguNjIyIDc3LjQyMjhDMTE3LjM4OCA4Mi4zMzg2IDExNy4xNzIgODcuNTA2NyAxMTguNjM4IDkyLjM4NDhMMTE4Ljg0MSA5My4wMjU3QzEyMC40NjkgOTcuOTA0IDEyMy43MzEgMTAxLjk2OCAxMjguODQ5IDEwNC45NTRMMTI5LjE1MSAxMDUuMTI2TDEyOC43MTEgMTA1LjM5NkMxMjQuOTM2IDEwNy42MDYgMTIwLjY2OCAxMDguNjg3IDExNi4zNSAxMDguNTAxQzExNS4yMTcgMTA4LjQ1MiAxMTQuNzkzIDExMC4wOSAxMTUuNzg1IDExMC42ODZDMTM2LjcxMiAxMjMuMjgyIDE2MC40NjEgMTA5LjU4NyAxNjAuNDYxIDgyLjgzMzNMMTYwLjQzOSA4Mi4xMDk0TDE2MC40MTIgODEuNzQ5MkwxNjAuMzYgODEuMjkzM0wxNTkuOTY4IDgxLjcyNzNDMTYyLjMwOSA3OS4yMjY3IDE2My45NjEgNzYuMDY5NSAxNjQuNzM5IDcyLjYwOTRDMTY0Ljk3NCA3MS41NjIgMTYzLjg4NSA3MC43NTg2IDE2My4wNzEgNzEuMzc5OUwxNjIuMzI0IDcxLjkyNzJDMTYwLjgwOSA3Mi45ODgzIDE1OS4xODIgNzMuODQ3MyAxNTcuNDc3IDc0LjQ4NTVMMTU3LjI0NiA3NC41NjRMMTU3LjA1NyA3NC4zNTk3QzE1NC4wODYgNzEuMjg0IDE0OS43MTcgNzAuMjk3MiAxNDUuODIzIDcxLjkwNzFMMTQ1LjM3OSA3Mi4xMDM0Wk0xMjAuNzAxIDc4LjAzNTJMMTIwLjg1MyA3Ny40NTE2TDEyMC45NjIgNzcuMDY3NkwxMjEuMDY4IDc3LjIwODhDMTI1Ljc1IDgzLjE5NCAxMzIuNzExIDg2LjYwODQgMTQwLjAyOCA4Ni40MDI5QzE0MC42MTIgODYuMzg2NSAxNDEuMDc3IDg1Ljg2OTIgMTQxLjA3NyA4NS4yMzY2VjgyLjkwMzNDMTQxLjAyOSA3OC45OTEyIDE0My4yMzEgNzUuNDc2NiAxNDYuNTkxIDc0LjA4N0MxNDkuOTUyIDcyLjY5NzQgMTUzLjc1NiA3My43Mjg2IDE1Ni4xMTcgNzYuNjY4OUMxNTYuMzk1IDc3LjAxNTIgMTU2LjgzNCA3Ny4xNTI3IDE1Ny4yNCA3Ny4wMjA0TDE1OC4wNzcgNzYuNzI5NUMxNTkuMTg2IDc2LjMyMDIgMTYwLjI2NiA3NS44MjU4IDE2MS4zMDggNzUuMjUwNkwxNjEuNjk2IDc1LjAyMzZMMTYxLjUyNiA3NS40MjgzQzE2MC43NTcgNzcuMTQ0MyAxNTkuNzIxIDc4LjcxNDMgMTU4LjQ1NiA4MC4wNjZDMTU4LjIgODAuMzM5NCAxNTguMDg3IDgwLjczMzIgMTU4LjE1NCA4MS4xMTU3QzE1OC4yNTUgODEuNjgzMSAxNTguMzA2IDgyLjI1OTQgMTU4LjMwOCA4Mi44MzcyTDE1OC4zMDEgODMuNTgwOUMxNTcuOSAxMDYuMjc1IDEzOS4xMzIgMTE4LjQ4OCAxMjAuOTYgMTEwLjc2MUwxMjAuNjM3IDExMC42MjFMMTIxLjI1MSAxMTAuNTNDMTI1LjA3OSAxMDkuODk3IDEyOC43NTEgMTA4LjM0NyAxMzEuOTg5IDEwNS45NjVDMTMyLjY4OCAxMDUuNDUxIDEzMi41OTQgMTA0LjMwNiAxMzEuODIyIDEwMy45MzRDMTI1Ljc5MyAxMDEuMDMxIDEyMi4yMzkgOTYuODM1NyAxMjAuNjg2IDkxLjY2MjhDMTE5LjM2OSA4Ny4yODA4IDExOS41NjcgODIuNTUwNSAxMjAuNzAxIDc4LjAzNTJaIiBmaWxsPSIjMURBMUYyIi8+Cjwvc3ZnPgo="},46455:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE4MiIgdmlld0JveD0iMCAwIDI4MCAxODIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyODAiIGhlaWdodD0iMTgyIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTQ1LjM3OSA3Mi4xMDM1QzE0MS41NzcgNzMuODg5MSAxMzkuMDY0IDc3Ljg5MzcgMTM4LjkyOCA4Mi4zNzg2TDEzOC45MjMgODQuMDY3N0wxMzguNjAzIDg0LjA2MjZDMTMxLjc4OCA4My43OTI5IDEyNS40NDYgODAuMDg4MiAxMjEuNDk3IDczLjk5NjJDMTIxLjAxNiA3My4yNTQxIDExOS45NzEgNzMuMzY0MiAxMTkuNjMxIDc0LjE5MjhMMTE5LjQ2MiA3NC42MzY2QzExOS40MTYgNzQuNzY1OCAxMTkuMzYzIDc0LjkxNTEgMTE5LjMwNiA3NS4wODM2QzExOS4wNzIgNzUuNzc0MiAxMTguODM5IDc2LjU1ODIgMTE4LjYyMiA3Ny40MjI4QzExNy4zODggODIuMzM4NiAxMTcuMTcyIDg3LjUwNjcgMTE4LjYzOCA5Mi4zODQ4TDExOC44NDEgOTMuMDI1N0MxMjAuNDY5IDk3LjkwNCAxMjMuNzMxIDEwMS45NjggMTI4Ljg0OSAxMDQuOTU0TDEyOS4xNTEgMTA1LjEyNkwxMjguNzExIDEwNS4zOTZDMTI0LjkzNiAxMDcuNjA2IDEyMC42NjggMTA4LjY4NyAxMTYuMzUgMTA4LjUwMUMxMTUuMjE3IDEwOC40NTIgMTE0Ljc5MyAxMTAuMDkgMTE1Ljc4NSAxMTAuNjg3QzEzNi43MTIgMTIzLjI4MiAxNjAuNDYxIDEwOS41ODcgMTYwLjQ2MSA4Mi44MzMzTDE2MC40MzkgODIuMTA5NEwxNjAuNDEyIDgxLjc0OTJMMTYwLjM2IDgxLjI5MzNMMTU5Ljk2OCA4MS43MjczQzE2Mi4zMDkgNzkuMjI2NyAxNjMuOTYxIDc2LjA2OTUgMTY0LjczOSA3Mi42MDk0QzE2NC45NzQgNzEuNTYyIDE2My44ODUgNzAuNzU4NiAxNjMuMDcxIDcxLjM4TDE2Mi4zMjQgNzEuOTI3MkMxNjAuODA5IDcyLjk4ODMgMTU5LjE4MiA3My44NDczIDE1Ny40NzcgNzQuNDg1NkwxNTcuMjQ2IDc0LjU2NEwxNTcuMDU3IDc0LjM1OTdDMTU0LjA4NiA3MS4yODQxIDE0OS43MTcgNzAuMjk3MiAxNDUuODIzIDcxLjkwNzFMMTQ1LjM3OSA3Mi4xMDM1Wk0xMjAuNzAxIDc4LjAzNTJMMTIwLjg1MyA3Ny40NTE2TDEyMC45NjIgNzcuMDY3N0wxMjEuMDY4IDc3LjIwODhDMTI1Ljc1IDgzLjE5NCAxMzIuNzExIDg2LjYwODUgMTQwLjAyOCA4Ni40MDI5QzE0MC42MTIgODYuMzg2NSAxNDEuMDc3IDg1Ljg2OTIgMTQxLjA3NyA4NS4yMzY3VjgyLjkwMzNDMTQxLjAyOSA3OC45OTEyIDE0My4yMzEgNzUuNDc2NiAxNDYuNTkxIDc0LjA4N0MxNDkuOTUyIDcyLjY5NzUgMTUzLjc1NiA3My43Mjg2IDE1Ni4xMTcgNzYuNjY4OUMxNTYuMzk1IDc3LjAxNTIgMTU2LjgzNCA3Ny4xNTI4IDE1Ny4yNCA3Ny4wMjA1TDE1OC4wNzcgNzYuNzI5NUMxNTkuMTg2IDc2LjMyMDIgMTYwLjI2NiA3NS44MjU4IDE2MS4zMDggNzUuMjUwNkwxNjEuNjk2IDc1LjAyMzdMMTYxLjUyNiA3NS40MjgzQzE2MC43NTcgNzcuMTQ0MyAxNTkuNzIxIDc4LjcxNDQgMTU4LjQ1NiA4MC4wNjZDMTU4LjIgODAuMzM5NCAxNTguMDg3IDgwLjczMzIgMTU4LjE1NCA4MS4xMTU3QzE1OC4yNTUgODEuNjgzMiAxNTguMzA2IDgyLjI1OTUgMTU4LjMwOCA4Mi44MzcyTDE1OC4zMDEgODMuNTgwOUMxNTcuOSAxMDYuMjc1IDEzOS4xMzIgMTE4LjQ4OCAxMjAuOTYgMTEwLjc2MUwxMjAuNjM3IDExMC42MjFMMTIxLjI1MSAxMTAuNTNDMTI1LjA3OSAxMDkuODk3IDEyOC43NTEgMTA4LjM0NyAxMzEuOTg5IDEwNS45NjVDMTMyLjY4OCAxMDUuNDUxIDEzMi41OTQgMTA0LjMwNiAxMzEuODIyIDEwMy45MzRDMTI1Ljc5MyAxMDEuMDMxIDEyMi4yMzkgOTYuODM1NyAxMjAuNjg2IDkxLjY2MjhDMTE5LjM2OSA4Ny4yODA4IDExOS41NjcgODIuNTUwNSAxMjAuNzAxIDc4LjAzNTJaIiBmaWxsPSIjMURBMUYyIi8+Cjwvc3ZnPgo="},73559:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiB2aWV3Qm94PSIwIDAgMTMwIDc4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiBmaWxsPSIjMzMzMzMzIi8+CjxwYXRoIGQ9Ik02Ny40OTcyIDMwLjkwMTRDNjUuNzMyNCAzMS42NjY3IDY0LjU2NTUgMzMuMzgzIDY0LjUwMjMgMzUuMzA1MUw2NC41IDM2LjAyOUw2NC4zNTE2IDM2LjAyNjhDNjEuMTg3NiAzNS45MTEyIDU4LjI0MjcgMzQuMzIzNSA1Ni40MDkyIDMxLjcxMjZDNTYuMTg1OSAzMS4zOTQ2IDU1LjcwMSAzMS40NDE4IDU1LjU0MzEgMzEuNzk2OUw1NS40NjQ3IDMxLjk4NzFDNTUuNDQzIDMyLjA0MjUgNTUuNDE4NyAzMi4xMDY0IDU1LjM5MjIgMzIuMTc4N0M1NS4yODM2IDMyLjQ3NDYgNTUuMTc1NCAzMi44MTA2IDU1LjA3NDYgMzMuMTgxMkM1NC41MDE2IDM1LjI4NzkgNTQuNDAxNSAzNy41MDI4IDU1LjA4MTggMzkuNTkzNUw1NS4xNzYxIDM5Ljg2ODFDNTUuOTMyIDQxLjk1ODggNTcuNDQ2NyA0My43MDA3IDU5LjgyMjkgNDQuOTgwMUw1OS45NjMgNDUuMDU0TDU5Ljc1ODcgNDUuMTY5N0M1OC4wMDU5IDQ2LjExNyA1Ni4wMjQ0IDQ2LjU4MDEgNTQuMDE5OSA0Ni41MDA0QzUzLjQ5MzcgNDYuNDc5NCA1My4yOTY5IDQ3LjE4MTMgNTMuNzU3MiA0Ny40MzdDNjMuNDczNSA1Mi44MzUgNzQuNSA0Ni45NjYgNzQuNSAzNS41TDc0LjQ4OTQgMzUuMTg5N0w3NC40NzcgMzUuMDM1NEw3NC40NTMgMzQuODRMNzQuMjcxMSAzNS4wMjZDNzUuMzU3OCAzMy45NTQzIDc2LjEyNDcgMzIuNjAxMiA3Ni40ODU4IDMxLjExODNDNzYuNTk1MSAzMC42Njk0IDc2LjA4OTMgMzAuMzI1MSA3NS43MTE4IDMwLjU5MTRMNzUuMzY0NyAzMC44MjU5Qzc0LjY2MTUgMzEuMjgwNyA3My45MDYgMzEuNjQ4OCA3My4xMTQ1IDMxLjkyMjRMNzMuMDA3IDMxLjk1Nkw3Mi45MTkyIDMxLjg2ODRDNzEuNTQgMzAuNTUwMyA2OS41MTE1IDMwLjEyNzMgNjcuNzAzOCAzMC44MTczTDY3LjQ5NzIgMzAuOTAxNFpNNTYuMDM5NiAzMy40NDM2TDU2LjExMDQgMzMuMTkzNUw1Ni4xNjEgMzMuMDI5TDU2LjIxMDMgMzMuMDg5NUM1OC4zODM5IDM1LjY1NDUgNjEuNjE1OSAzNy4xMTc5IDY1LjAxMyAzNy4wMjk4QzY1LjI4NCAzNy4wMjI4IDY1LjUgMzYuODAxMSA2NS41IDM2LjUzVjM1LjUzQzY1LjQ3NzYgMzMuODUzNCA2Ni41MDAxIDMyLjM0NzEgNjguMDYwNCAzMS43NTE2QzY5LjYyMDcgMzEuMTU2IDcxLjM4NjggMzEuNTk3OSA3Mi40ODI3IDMyLjg1ODFDNzIuNjExOCAzMy4wMDY1IDcyLjgxNTkgMzMuMDY1NCA3My4wMDQyIDMzLjAwODdMNzMuMzkyOSAzMi44ODRDNzMuOTA3OSAzMi43MDg2IDc0LjQwOTIgMzIuNDk2OCA3NC44OTMgMzIuMjUwMkw3NS4wNzMgMzIuMTUzTDc0Ljk5NDQgMzIuMzI2NEM3NC42MzczIDMzLjA2MTggNzQuMTU2MyAzMy43MzQ3IDczLjU2ODkgMzQuMzE0QzczLjQ1MDEgMzQuNDMxMiA3My4zOTc2IDM0LjU5OTkgNzMuNDI4OSAzNC43NjM4QzczLjQ3NTQgMzUuMDA3IDczLjQ5OTIgMzUuMjU0IDczLjUgMzUuNTAxNkw3My40OTcgMzUuODIwNEM3My4zMTA2IDQ1LjU0NjUgNjQuNTk3MSA1MC43ODA3IDU2LjE2IDQ3LjQ2OUw1Ni4wMSA0Ny40MDlMNTYuMjk1MSA0Ny4zNzAxQzU4LjA3MjQgNDcuMDk4NyA1OS43NzczIDQ2LjQzNDMgNjEuMjgwOCA0NS40MTM3QzYxLjYwNTMgNDUuMTkzNCA2MS41NjE1IDQ0LjcwMjMgNjEuMjAzMSA0NC41NDMxQzU4LjQwMzkgNDMuMjk5IDU2Ljc1NDEgNDEuNTAxIDU2LjAzMjcgMzkuMjg0QzU1LjQyMTYgMzcuNDA2IDU1LjUxMzIgMzUuMzc4OCA1Ni4wMzk2IDMzLjQ0MzZaIiBmaWxsPSIjMURBMUYyIi8+Cjwvc3ZnPgo="},57417:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiB2aWV3Qm94PSIwIDAgMTMwIDc4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNjcuNDk3MiAzMC45MDE1QzY1LjczMjQgMzEuNjY2OCA2NC41NjU1IDMzLjM4MyA2NC41MDIzIDM1LjMwNTFMNjQuNSAzNi4wMjlMNjQuMzUxNiAzNi4wMjY4QzYxLjE4NzYgMzUuOTExMiA1OC4yNDI3IDM0LjMyMzUgNTYuNDA5MiAzMS43MTI2QzU2LjE4NTkgMzEuMzk0NiA1NS43MDEgMzEuNDQxOCA1NS41NDMxIDMxLjc5NjlMNTUuNDY0NyAzMS45ODcxQzU1LjQ0MyAzMi4wNDI1IDU1LjQxODcgMzIuMTA2NSA1NS4zOTIyIDMyLjE3ODdDNTUuMjgzNiAzMi40NzQ3IDU1LjE3NTQgMzIuODEwNyA1NS4wNzQ2IDMzLjE4MTJDNTQuNTAxNiAzNS4yODggNTQuNDAxNSAzNy41MDI5IDU1LjA4MTggMzkuNTkzNUw1NS4xNzYxIDM5Ljg2ODJDNTUuOTMyIDQxLjk1ODkgNTcuNDQ2NyA0My43MDA4IDU5LjgyMjkgNDQuOTgwMUw1OS45NjMgNDUuMDU0TDU5Ljc1ODcgNDUuMTY5OEM1OC4wMDU5IDQ2LjExNyA1Ni4wMjQ0IDQ2LjU4MDEgNTQuMDE5OSA0Ni41MDA0QzUzLjQ5MzcgNDYuNDc5NSA1My4yOTY5IDQ3LjE4MTMgNTMuNzU3MiA0Ny40MzcxQzYzLjQ3MzUgNTIuODM1IDc0LjUgNDYuOTY2IDc0LjUgMzUuNUw3NC40ODk0IDM1LjE4OTdMNzQuNDc3IDM1LjAzNTRMNzQuNDUzIDM0Ljg0TDc0LjI3MTEgMzUuMDI2Qzc1LjM1NzggMzMuOTU0MyA3Ni4xMjQ3IDMyLjYwMTIgNzYuNDg1OCAzMS4xMTgzQzc2LjU5NTEgMzAuNjY5NCA3Ni4wODkzIDMwLjMyNTEgNzUuNzExOCAzMC41OTE0TDc1LjM2NDcgMzAuODI2Qzc0LjY2MTUgMzEuMjgwNyA3My45MDYgMzEuNjQ4OCA3My4xMTQ1IDMxLjkyMjRMNzMuMDA3IDMxLjk1Nkw3Mi45MTkyIDMxLjg2ODVDNzEuNTQgMzAuNTUwMyA2OS41MTE1IDMwLjEyNzQgNjcuNzAzOCAzMC44MTczTDY3LjQ5NzIgMzAuOTAxNVpNNTYuMDM5NiAzMy40NDM3TDU2LjExMDQgMzMuMTkzNkw1Ni4xNjEgMzMuMDI5TDU2LjIxMDMgMzMuMDg5NUM1OC4zODM5IDM1LjY1NDYgNjEuNjE1OSAzNy4xMTc5IDY1LjAxMyAzNy4wMjk4QzY1LjI4NCAzNy4wMjI4IDY1LjUgMzYuODAxMSA2NS41IDM2LjUzVjM1LjUzQzY1LjQ3NzYgMzMuODUzNCA2Ni41MDAxIDMyLjM0NzEgNjguMDYwNCAzMS43NTE2QzY5LjYyMDcgMzEuMTU2MSA3MS4zODY4IDMxLjU5OCA3Mi40ODI3IDMyLjg1ODFDNzIuNjExOCAzMy4wMDY1IDcyLjgxNTkgMzMuMDY1NSA3My4wMDQyIDMzLjAwODhMNzMuMzkyOSAzMi44ODQxQzczLjkwNzkgMzIuNzA4NyA3NC40MDkyIDMyLjQ5NjggNzQuODkzIDMyLjI1MDNMNzUuMDczIDMyLjE1M0w3NC45OTQ0IDMyLjMyNjRDNzQuNjM3MyAzMy4wNjE5IDc0LjE1NjMgMzMuNzM0NyA3My41Njg5IDM0LjMxNEM3My40NTAxIDM0LjQzMTIgNzMuMzk3NiAzNC41OTk5IDczLjQyODkgMzQuNzYzOUM3My40NzU0IDM1LjAwNzEgNzMuNDk5MiAzNS4yNTQxIDczLjUgMzUuNTAxN0w3My40OTcgMzUuODIwNEM3My4zMTA2IDQ1LjU0NjUgNjQuNTk3MSA1MC43ODA3IDU2LjE2IDQ3LjQ2OUw1Ni4wMSA0Ny40MDlMNTYuMjk1MSA0Ny4zNzAxQzU4LjA3MjQgNDcuMDk4NyA1OS43NzczIDQ2LjQzNDMgNjEuMjgwOCA0NS40MTM3QzYxLjYwNTMgNDUuMTkzNCA2MS41NjE1IDQ0LjcwMjQgNjEuMjAzMSA0NC41NDMxQzU4LjQwMzkgNDMuMjk5IDU2Ljc1NDEgNDEuNTAxIDU2LjAzMjcgMzkuMjg0MUM1NS40MjE2IDM3LjQwNjEgNTUuNTEzMiAzNS4zNzg4IDU2LjAzOTYgMzMuNDQzN1oiIGZpbGw9IiMxREExRjIiLz4KPC9zdmc+Cg=="},10649:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuNCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NjggMjIyLjUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ2OCAyMjIuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MTQsMTEzLjRjMC0yNS42LTEyLjQtNDUuOC0zNi4xLTQ1LjhjLTIzLjgsMC0zOC4yLDIwLjItMzguMiw0NS42YzAsMzAuMSwxNyw0NS4zLDQxLjQsNDUuMwoJCWMxMS45LDAsMjAuOS0yLjcsMjcuNy02LjV2LTIwYy02LjgsMy40LTE0LjYsNS41LTI0LjUsNS41Yy05LjcsMC0xOC4zLTMuNC0xOS40LTE1LjJoNDguOUM0MTMuOCwxMjEsNDE0LDExNS44LDQxNCwxMTMuNHoKCQkgTTM2NC42LDEwMy45YzAtMTEuMyw2LjktMTYsMTMuMi0xNmM2LjEsMCwxMi42LDQuNywxMi42LDE2SDM2NC42eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTMwMS4xLDY3LjZjLTkuOCwwLTE2LjEsNC42LTE5LjYsNy44bC0xLjMtNi4yaC0yMnYxMTYuNmwyNS01LjNsMC4xLTI4LjNjMy42LDIuNiw4LjksNi4zLDE3LjcsNi4zCgkJYzE3LjksMCwzNC4yLTE0LjQsMzQuMi00Ni4xQzMzNS4xLDgzLjQsMzE4LjYsNjcuNiwzMDEuMSw2Ny42eiBNMjk1LjEsMTM2LjVjLTUuOSwwLTkuNC0yLjEtMTEuOC00LjdsLTAuMS0zNy4xCgkJYzIuNi0yLjksNi4yLTQuOSwxMS45LTQuOWM5LjEsMCwxNS40LDEwLjIsMTUuNCwyMy4zQzMxMC41LDEyNi41LDMwNC4zLDEzNi41LDI5NS4xLDEzNi41eiIvPgoJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIyMjMuOCw2MS43IDI0OC45LDU2LjMgMjQ4LjksMzYgMjIzLjgsNDEuMyAJIi8+Cgk8cmVjdCB4PSIyMjMuOCIgeT0iNjkuMyIgY2xhc3M9InN0MCIgd2lkdGg9IjI1LjEiIGhlaWdodD0iODcuNSIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE5Ni45LDc2LjdsLTEuNi03LjRoLTIxLjZ2ODcuNWgyNVY5Ny41YzUuOS03LjcsMTUuOS02LjMsMTktNS4ydi0yM0MyMTQuNSw2OC4xLDIwMi44LDY1LjksMTk2LjksNzYuN3oiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNDYuOSw0Ny42bC0yNC40LDUuMmwtMC4xLDgwLjFjMCwxNC44LDExLjEsMjUuNywyNS45LDI1LjdjOC4yLDAsMTQuMi0xLjUsMTcuNS0zLjNWMTM1CgkJYy0zLjIsMS4zLTE5LDUuOS0xOS04LjlWOTAuNmgxOVY2OS4zaC0xOUwxNDYuOSw0Ny42eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTc5LjMsOTQuN2MwLTMuOSwzLjItNS40LDguNS01LjRjNy42LDAsMTcuMiwyLjMsMjQuOCw2LjRWNzIuMmMtOC4zLTMuMy0xNi41LTQuNi0yNC44LTQuNgoJCUM2Ny41LDY3LjYsNTQsNzguMiw1NCw5NS45YzAsMjcuNiwzOCwyMy4yLDM4LDM1LjFjMCw0LjYtNCw2LjEtOS42LDYuMWMtOC4zLDAtMTguOS0zLjQtMjcuMy04djIzLjhjOS4zLDQsMTguNyw1LjcsMjcuMyw1LjcKCQljMjAuOCwwLDM1LjEtMTAuMywzNS4xLTI4LjJDMTE3LjQsMTAwLjYsNzkuMywxMDUuOSw3OS4zLDk0Ljd6Ii8+CjwvZz4KPC9zdmc+Cg=="},58994:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjAuMywgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NjggMjIyLjUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ2OCAyMjIuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMwQTI1NDA7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MTQsMTEzLjRjMC0yNS42LTEyLjQtNDUuOC0zNi4xLTQ1LjhjLTIzLjgsMC0zOC4yLDIwLjItMzguMiw0NS42YzAsMzAuMSwxNyw0NS4zLDQxLjQsNDUuMwoJCWMxMS45LDAsMjAuOS0yLjcsMjcuNy02LjV2LTIwYy02LjgsMy40LTE0LjYsNS41LTI0LjUsNS41Yy05LjcsMC0xOC4zLTMuNC0xOS40LTE1LjJoNDguOUM0MTMuOCwxMjEsNDE0LDExNS44LDQxNCwxMTMuNHoKCQkgTTM2NC42LDEwMy45YzAtMTEuMyw2LjktMTYsMTMuMi0xNmM2LjEsMCwxMi42LDQuNywxMi42LDE2SDM2NC42eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTMwMS4xLDY3LjZjLTkuOCwwLTE2LjEsNC42LTE5LjYsNy44bC0xLjMtNi4yaC0yMnYxMTYuNmwyNS01LjNsMC4xLTI4LjNjMy42LDIuNiw4LjksNi4zLDE3LjcsNi4zCgkJYzE3LjksMCwzNC4yLTE0LjQsMzQuMi00Ni4xQzMzNS4xLDgzLjQsMzE4LjYsNjcuNiwzMDEuMSw2Ny42eiBNMjk1LjEsMTM2LjVjLTUuOSwwLTkuNC0yLjEtMTEuOC00LjdsLTAuMS0zNy4xCgkJYzIuNi0yLjksNi4yLTQuOSwxMS45LTQuOWM5LjEsMCwxNS40LDEwLjIsMTUuNCwyMy4zQzMxMC41LDEyNi41LDMwNC4zLDEzNi41LDI5NS4xLDEzNi41eiIvPgoJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIyMjMuOCw2MS43IDI0OC45LDU2LjMgMjQ4LjksMzYgMjIzLjgsNDEuMyAJIi8+Cgk8cmVjdCB4PSIyMjMuOCIgeT0iNjkuMyIgY2xhc3M9InN0MCIgd2lkdGg9IjI1LjEiIGhlaWdodD0iODcuNSIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE5Ni45LDc2LjdsLTEuNi03LjRoLTIxLjZ2ODcuNWgyNVY5Ny41YzUuOS03LjcsMTUuOS02LjMsMTktNS4ydi0yM0MyMTQuNSw2OC4xLDIwMi44LDY1LjksMTk2LjksNzYuN3oiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNDYuOSw0Ny42bC0yNC40LDUuMmwtMC4xLDgwLjFjMCwxNC44LDExLjEsMjUuNywyNS45LDI1LjdjOC4yLDAsMTQuMi0xLjUsMTcuNS0zLjNWMTM1CgkJYy0zLjIsMS4zLTE5LDUuOS0xOS04LjlWOTAuNmgxOVY2OS4zaC0xOUwxNDYuOSw0Ny42eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTc5LjMsOTQuN2MwLTMuOSwzLjItNS40LDguNS01LjRjNy42LDAsMTcuMiwyLjMsMjQuOCw2LjRWNzIuMmMtOC4zLTMuMy0xNi41LTQuNi0yNC44LTQuNgoJCUM2Ny41LDY3LjYsNTQsNzguMiw1NCw5NS45YzAsMjcuNiwzOCwyMy4yLDM4LDM1LjFjMCw0LjYtNCw2LjEtOS42LDYuMWMtOC4zLDAtMTguOS0zLjQtMjcuMy04djIzLjhjOS4zLDQsMTguNyw1LjcsMjcuMyw1LjcKCQljMjAuOCwwLDM1LjEtMTAuMywzNS4xLTI4LjJDMTE3LjQsMTAwLjYsNzkuMywxMDUuOSw3OS4zLDk0Ljd6Ii8+CjwvZz4KPC9zdmc+Cg=="},63381:(e,t,s)=>{"use strict";e.exports=s.p+"images/tuning-tips-02.bbbaad0d.png"},34094:(e,t,s)=>{"use strict";e.exports=s.p+"images/web-alerts-intro-02.e9a2179e.png"},22044:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAReSURBVHgB7VZvaBxVEJ95u3e5tGlyDbHU2vwrRmIaRcRqY1o4g8aiYmybIyLWlrYIIgpiof77IihiRT8UBEGqSD+0kNqaCPmDsTlobUPxg5gjSmMSiW1a4xHaNGkut7tv/O0lSFuzd3sRQbADd/t237yZ35v5zbxHdFP+78K0SBmJREJc7CyXpCEXls5efrD19AwtQnIGIETq/JbIKktTs2lQrRAza+6zZ/XXFR2x3zmt8i8CGN7SUK5Ev6aYd+A1NP95Cn6PiG29Wd7+3RjlIIpyFEPrzXD+bNq5SD/2ewbjAuylWatAI+UoOUVgMLrxlpBj/IwYh4G93dH6lYAiWwu9A0vb8O2Sk9RrKztiF/3a9B2BXpAupI1dyHkxCV9ksQ9Onx0fu+1obEyTbse3CaShWOXz89A1/dr1DaAyzPWkuQW7T2G3Pcnk0p7agYEUQqhF1HEm6RIhG2l5uios6/za9QVgZEckpAxpFqYaFhoTLa1VnZ2Tf4H7KnZJRB9kpmEmXiOsdg9FHy7yYzsrB+I1NcHCO1ZuJZb90C5Rwi+sPnb8k5GnIhWK+H0GB2ZJ9lYdjZ0b3dywB3ofYFmClLxUmqAjHIvZmexnjcDyO1esgdFdrnOEf9QSfXh+6h44vx/P9QHmu90PgaT1BR7n8CthrVpGCwMrstnPCkBrboRWPYZTyPN+N9w32hBHBd3BrZ0n/iDRH4GMKfw2ienszGY/I4B49NFisH43ah0NR05rMTsoi4g2u8GDk4hWSLHs/C1al0+LAeCWUpG2Xkf47wKAhDi0r+JYz0+URcrbvh1wHOdDDH/Fukpx8t44lQGEJ4CKZXQf6usRlNVVt8S0RXHyKaiCU+B3LF2WxM+ssvPrcgIw8lhkpWnSi3BcJcyDzObHuXQ3lyfojm5ZjiIVZYr1NpyeYd8AAkt4LQ65TUC/BH3/m8EJ+3vKUQxzBpyRQ6hzdEWOmGFV5wvA+a2RajB/L5CXIJb9l1XgvYcWrmU3x3GkKK4kdfbGyVLcDwxz9l3Mj+C1Alzac6FpY01WAI7Q4wi9izaJ7nagtrV7YgHnbph/wOK3QM63y9tODCykU5q+pKgDri3NssExjMaMANDdwiihlyV9vNJJbVA3echQtL5MEz3HJjUNPVFf5qUnjvE5dt8Fu0GU9KvuieoJIEBGk0sa9PsEOtBn02p82Msw23kP4BHFaHsoL6/eS2940hpHqg6nS5lodZ5tbPcE4LDTkkZN3DtuT7XVtg6kPAFYM/3478Ww13GSZ7z0XP4EJdgLT31ztlXDtfPXn9uspudufVJUFCyq/uXJyKSXYYfIVrbss3SAyRCG7u1eujOcKjE0F8wdfWCNFwAt+kuDuRnM3YDm/ilmr1JGEaQtRdlECRXgKK+eW+F0eQMwr3QadmGX2wMA9t5/cGu/Hua8GZC22zCtQ9fO/c1DPBoNLnMS6wzi9Wilvq9WmYRFLEfJj1cM6qttjU3RTfkvyZ+4Z8ndDuYJcAAAAABJRU5ErkJggg=="},12765:(e,t,s)=>{"use strict";e.exports=s.p+"images/petr.128014f7.png"},74592:(e,t,s)=>{var n={"./AccountPage.jsx":[59164,9164],"./AllPage.jsx":[11790,1790],"./BestPage.jsx":[99296,367,3004],"./BlackFridayPage.jsx":[40181,6831,181],"./BoardPage.jsx":[1071,7982,9681,8371,7030,9205,1071],"./CollectionPage.jsx":[38536,7982,9681,8371,7030,9205,8536],"./ConsolePage.jsx":[9915,9915],"./CortexPage.jsx":[87084,7084],"./CvePage.jsx":[79704,9704],"./DiscoverPage.jsx":[17612,5814,7612],"./EntryPage.jsx":[13480,3480],"./ErasePage.jsx":[26815,6815],"./FeedPage.jsx":[48520,7982,9681,8371,7030,9205,8520],"./FiltersPage.jsx":[93593,3593],"./HeartbeatPage.jsx":[36234,6234],"./IftttPage.jsx":[80171,171],"./IndexPage.jsx":[25708,5708],"./InvitePage.jsx":[98319,8319],"./InvitedPage.jsx":[62636,2636],"./IssuesPage.jsx":[72112,2112],"./LandingPage.jsx":[20340,1056,6831,4119,4316,551],"./LegalPage.jsx":[12613,2613],"./LibraryPage.jsx":[21062,5814,1062],"./MemePage.jsx":[1507,1507],"./OpmlPage.jsx":[20099,99],"./OrganizePage.jsx":[43235,5465,3235],"./OxygenPage.jsx":[68888,7982,8371,9538,8888],"./PowerSearchPage.jsx":[20352,352],"./PremiumPage.jsx":[98439,6831,8439],"./PriorityPage.jsx":[41146,1146],"./ProPage.jsx":[51015,1015],"./StreamPage.jsx":[49205,7982,9681,8371,7030,9205],"./SupportPage.jsx":[65176,6831,5176],"./TeamPage.jsx":[13619,3619],"./TodayPage.jsx":[96871,6871],"./TopPage.jsx":[70367,367,2101],"./TopicDatasetPage.jsx":[15289,7982,9681,9538,905,5289],"./TopicModelerPage.jsx":[5294,5294],"./TrainLeoPage.jsx":[4649,4649],"./TrendingPage.jsx":[36983,6983],"./UnknownPage.jsx":[97083,7083],"./WelcomePage.jsx":[76530,1056,4119,165],"./WikidataTopicCurationPage.jsx":[34332,9606,4332],"./WikidataTopicEvaluationPage.jsx":[12471,9606,2471],"./WikidataTopicHistoryPage.jsx":[95046,5046],"./WikidataTopicItemsPage.jsx":[84957,9606,4957],"./WikidataTopicModelPage.jsx":[48578,9606,8578],"./WikidataTopicPage.jsx":[72943,9606,2943],"./WikidataTopicsPage.jsx":[11829,9606,1829]};function i(e){if(!s.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return Promise.all(t.slice(1).map(s.e)).then((()=>s(i)))}i.keys=()=>Object.keys(n),i.id=74592,e.exports=i}},e=>{"use strict";var t=t=>e(e.s=t);e.O(0,[6001,4837,5117],(()=>(t(29940),t(63827))));e.O()}]);