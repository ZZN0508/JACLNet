(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"3u/Q":function(e,t,n){"use strict";var o=n("ODXe"),a=n("q1tI"),r=n.n(a),i=n("ob4f"),c=n("e2db"),s=n("NLre"),l=n("OjIZ"),d=n("re3D"),m=n("VnKV"),u=r.a.createElement,p=function(e){var t=e.room,n=e.chatToken,o=Object(a.useRef)();return Object(a.useEffect)((function(){var e,t=function(){window.IGN.loadChat(o.current)};return window.IGN&&window.IGN.loadChat&&o.current?t():e=setInterval((function(){window.IGN&&window.IGN.loadChat&&o.current&&(clearInterval(e),t())}),500),function(){window.IGN&&window.IGN.unloadChat&&window.IGN.unloadChat(),clearInterval(e)}}),[]),u(r.a.Fragment,null,u(l.a,{defer:!0,type:"text/javascript",src:m.CHAT_BUNDLE_URL,key:"chat"}),u("div",{className:"chat-container","data-auto-load":"false","data-room":t,"data-user-data":n,"data-source":"kraken",ref:o}))};t.a=function(e){var t=e.room,n=Object(i.b)({rootMargin:"300px 0px",triggerOnce:!0}),l=Object(o.a)(n,2),m=l[0],f=l[1],v=Object(c.a)(!1),y=Object(o.a)(v,2),h=y[0],b=y[1],w=Object(d.e)(),g=w.currentUser.chatToken,j=w.loggedIn;return Object(a.useEffect)((function(){return window.addEventListener("IGN.Chat.openSignIn",b,!0),function(){window.removeEventListener("IGN.Chat.openSignIn",b)}}),[b]),f?u(r.a.Fragment,null,u(p,{room:t,chatToken:g}),!j&&h&&u(s.a,{isOpen:!0,onClose:b,trigger:"Live Chat"})):u("div",{ref:m,className:"chat-container"})}},"4pyU":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var o=n("wx14"),a=n("rePB"),r=n("MX0m"),i=n.n(r),c=n("q1tI"),s=n.n(c),l=n("TSYQ"),d=n.n(l),m=n("mwIZ"),u=n.n(m),p=n("eMNQ"),f=n("DiiX"),v=n.n(f),y=n("j3Zk"),h=n("1FLE"),b=n("YgHL"),w=n("3u/Q"),g=n("cyBN"),j=n("JoFD"),x=n("o7k6"),O=n("1LLx"),_=n("TobM"),k=s.a.createElement;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.trackingComponent,n=e.url,o=e.title,a=e.liveOnAir;return k(c.Fragment,null,k(j.b,{href:n,className:"video-headline",trackingComponent:t,trackingLabel:o},a&&k(x.a,null),k("h2",{className:"jsx-1486269472"},o)),k(i.a,{id:"1486269472"},[".video-headline{padding:24px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".video-headline .live-on-air{margin-right:12px;}",".video-headline h2.jsx-1486269472{margin:0;font-size:24px;font-weight:bold;color:#fff;}",".video-headline:hover h2.jsx-1486269472{-webkit-text-decoration:underline;text-decoration:underline;}"]))},C=function(e){var t=e.children,n=e.videoHeadline,o=e.trackingComponent,a=e.showRightRail,r=e.video,s=e.isInTheaterMode,l=e.handleTheaterModeToggle,m=e.exitTheaterMode,p=e.forwardedRef,f=r.videoId,v=u()(r,"extra.liveOnAir"),y=u()(r,"metadata.title"),j=u()(r,"metadata.url"),x=Object(_.b)();return k(c.Fragment,null,n&&k(E,{trackingComponent:o,url:j,title:n,liveOnAir:v}),k("div",{className:i.a.dynamic([["568235557",[x?"none":"none !important"]],["2961666605",[s?"hidden":"auto"]]])+" "+(d()("video-wrapper",{"theater-mode":s})||"")},k("div",{className:i.a.dynamic([["568235557",[x?"none":"none !important"]],["2961666605",[s?"hidden":"auto"]]])+" video-container"},t({video:r,forwardedRef:p,handleTheaterModeToggle:l,isInTheaterMode:s})),(a||s)&&k("div",{className:i.a.dynamic([["568235557",[x?"none":"none !important"]],["2961666605",[s?"hidden":"auto"]]])+" video-right-rail"},v?k(w.a,{room:f}):k("div",{className:i.a.dynamic([["568235557",[x?"none":"none !important"]],["2961666605",[s?"hidden":"auto"]]])+" comments-container"},k(g.a,{assetTitle:y,assetId:f,url:j,hideTitle:!0,pluginTheme:"theater"}))),s&&k(h.a,{type:"link",onClick:m},k(c.Fragment,null,k(b.e,{title:"Exit Theater Mode"}),k("span",{className:i.a.dynamic([["568235557",[x?"none":"none !important"]],["2961666605",[s?"hidden":"auto"]]])},"Exit")))),k(i.a,{id:"568235557",dynamic:[x?"none":"none !important"]},[".video-wrapper.__jsx-style-dynamic-selector{width:100%;}",".video-wrapper.theater-mode.__jsx-style-dynamic-selector{top:0;left:0;bottom:0;right:0;background-color:#191a1b;}",".video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector{background-color:#28292c;overflow:auto;}",".video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .chat-container,.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .comments-container.__jsx-style-dynamic-selector{top:0;left:0;bottom:0;right:0;}","@media (min-width:861px){.video-wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.video-wrapper.theater-mode.__jsx-style-dynamic-selector{position:fixed;overflow:hidden;z-index:1111111;}.video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-container.__jsx-style-dynamic-selector{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;}.video-wrapper.__jsx-style-dynamic-selector .video-container.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector{margin-left:24px;-webkit-flex-basis:30%;-ms-flex-preferred-size:30%;flex-basis:30%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:relative;}.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .chat-container,.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .comments-container.__jsx-style-dynamic-selector{position:absolute;overflow:auto;}.video-wrapper.__jsx-style-dynamic-selector .button--link{margin:24px 12px;position:fixed;top:0;left:0;z-index:1111112;}}","@media (max-width:860px){@media (orientation:landscape){.theater-button{display:".concat(x?"none":"none !important",";}}.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector,.video-wrapper.__jsx-style-dynamic-selector .button--link{display:none;}body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector{position:fixed;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;z-index:20007;}body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-container.__jsx-style-dynamic-selector{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector{display:inherit;position:relative;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;height:100%;}body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .chat-container,body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .comments-container.__jsx-style-dynamic-selector{position:absolute;}}")]),k(i.a,{id:"2961666605",dynamic:[s?"hidden":"auto"]},["body:not(.ReactModal__Body--open){overflow:".concat(s?"hidden":"auto",";}")]))},L=function(e){var t=Object(c.useState)(!1),n=t[0],o=t[1],a=Object(c.useCallback)((function(){n&&(e.forwardedRef.current&&e.forwardedRef.current.setInTheaterMode(!1),o(!1))}),[n,e.forwardedRef]);Object(c.useEffect)((function(){var e=function(e){27===e.keyCode&&a()};return window.addEventListener("keydown",e,!!Object(p.od)()&&{passive:!0}),function(){return window.removeEventListener("keydown",e)}}),[n,a]);var r=function(){o(!n)};return k(c.Fragment,null,e.video?k(C,I({isInTheaterMode:n,handleTheaterModeToggle:r,exitTheaterMode:a},e)):e.url?k(y.a,{query:v.a,variables:{slug:Object(p.jd)(e.url)}},(function(t){var o=t.data.videoPlayerProps;return o&&"published"===u()(o,"metadata.state")?k(C,I({isInTheaterMode:n,handleTheaterModeToggle:r,exitTheaterMode:a,video:o},e)):null})):e.children({isInTheaterMode:n,handleTheaterModeToggle:r,forwardedRef:e.forwardedRef}),k(i.a,{id:"3068261793"},[]))},N=s.a.forwardRef((function(e,t){return k(L,Object(o.a)({},e,{forwardedRef:t}))})),R=function(e){var t=Object(c.createRef)();return k(N,Object(o.a)({},e,{ref:t}))};t.b=R;var M=function(e){return k(R,I({},e),(function(t){var n=t.handleTheaterModeToggle,a=t.forwardedRef,r=t.video,i=t.isInTheaterMode;return r&&k(O.a,Object(o.a)({theaterButtonVisible:!0},I(I({},e),{},{video:r,handleTheaterModeToggle:n,forwardedRef:a,isInTheaterMode:i})))}))}},OjIZ:function(e,t,n){"use strict";var o=n("Ff2n"),a=n("q1tI"),r=n.n(a),i=n("g4pe"),c=n.n(i),s=n("TobM"),l=r.a.createElement;t.a=function(e){var t=e.children,n=Object(o.a)(e,["children"]);return Object(s.b)()?null:l(c.a,null,l("script",n,t))}},cyBN:function(e,t,n){"use strict";var o=n("wx14"),a=n("ODXe"),r=n("Ff2n"),i=n("1OyB"),c=n("vuIU"),s=n("JX7q"),l=n("Ji7U"),d=n("md7G"),m=n("foSv"),u=n("rePB"),p=n("MX0m"),f=n.n(p),v=n("q1tI"),y=n.n(v),h=n("VnKV"),b=n("Y1tJ"),w=n("gNx5"),g=n("re3D"),j=n("lfJx"),x=n("GLCR"),O=n("NLre"),_=n("OjIZ"),k=n("Nfk7"),T=y.a.createElement,I=function(e){var t=e.assetId,n=e.assetTitle,o=e.url,a=e.pluginTheme;!function(e,t){Object(v.useEffect)((function(){var n={community:{comments:{assetId:e,assetTitle:t}}},o=function(){return Object(b.g)({event:"community-postComment",dataLayerObject:n})},a=function(){return Object(b.g)({event:"community-likeComment",dataLayerObject:n})},r=function(){return Object(b.g)({event:"community-showMore",dataLayerObject:n})},i=function(){return Object(b.g)({event:"community-reCircClick",dataLayerObject:n})};return document.addEventListener("spot-im-current-user-sent-message",o),document.addEventListener("spot-im-user-up-vote-click",a),document.addEventListener("spot-im-show-more-comments-clicked",r),document.addEventListener("spot-im-recirculation-item-clicked",i),function(){document.removeEventListener("spot-im-current-user-sent-message",o),document.removeEventListener("spot-im-user-up-vote-click",a),document.removeEventListener("spot-im-show-more-comments-clicked",r),document.removeEventListener("spot-im-recirculation-item-clicked",i)}}),[e,t])}(t,n);var r="theater"===a;return T(y.a.Fragment,null,!r&&T("div",{style:{marginRight:"1em"}},T("div",{"data-spotim-module":"pitc"})),T("div",{style:r?{backgroundColor:"white"}:{},"data-spotim-module":"conversation","data-post-id":t,"data-post-url":o}))};I.defaultProps={show:function(){}};var E=I,C=y.a.createElement;function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(m.a)(e);if(t){var a=Object(m.a)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}var R=n("NOtv")("kraken:components:Comments"),M=function(e){Object(l.a)(n,e);var t=N(n);function n(){var e;return Object(i.a)(this,n),e=t.call(this),Object(u.a)(Object(s.a)(e),"getEmbedOptions",(function(){var t=e.props,n=t.coralTalkToken,o=t.pluginTheme,a=t.assetId,r=t.url;return{talk:t.talkUrl,asset_id:a,asset_url:r,auth_token:n,plugin_config:{"talk-plugin-ign-theme":{theme:o}}}})),Object(u.a)(Object(s.a)(e),"setupEmbed",(function(t){window&&window.Coral?e.setupCoralTalk(t):e.coralTalkInterval=setInterval((function(){window.Coral&&window.Coral.Talk&&(clearInterval(e.coralTalkInterval),e.setupCoralTalk(t))}),500)})),Object(u.a)(Object(s.a)(e),"setupCoralTalk",(function(t){e.TalkEmbed=window.Coral.Talk.render(e.commentRef,t),window.addEventListener("message",e.eventMessageReceiver,!1),window.addEventListener("onmessage",e.eventMessageReceiver,!1)})),Object(u.a)(Object(s.a)(e),"eventMessageReceiver",(function(t){if(t.origin===h.TALK_URL)if(new RegExp(h.IGN_EVENT).test(t.data))switch(JSON.parse(t.data.replace(h.IGN_EVENT,"")).eventName){case"action.IGN_CORALTALK_LOGIN_CLICK":e.props.show()}else if(new RegExp(h.CORAL_EVENT).test(t.data)){var n=JSON.parse(t.data.replace(h.CORAL_EVENT,"")),o=e.props,a=o.loggedIn,r={community:{comments:{assetId:o.assetId,assetTitle:o.assetTitle}}};switch(n.eventName){case"action.CHECK_LOGIN_SUCCESS":case"action.TALK_FRAMEWORK_CHECK_LOGIN_SUCCESS":!a&&n.value.action.user&&e.TalkEmbed.logout();break;case"mutation.PostComment.success":Object(b.g)({event:"community-postComment",dataLayerObject:r});break;case"mutation.CreateLikeAction.success":Object(b.g)({event:"community-likeComment",dataLayerObject:r});break;case"mutation.CreateBoostAction.success":Object(b.g)({event:"community-boostComment",dataLayerObject:r})}}})),e.coralTalkInterval=null,e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.getEmbedOptions();this.setupEmbed(e)}},{key:"componentDidUpdate",value:function(e){if(e.assetId!==this.props.assetId){clearInterval(this.coralTalkInterval);var t=this.getEmbedOptions();this.setupEmbed(t)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.coralTalkInterval),window.removeEventListener("message",this.eventMessageReceiver),window.removeEventListener("onmessage",this.eventMessageReceiver)}},{key:"render",value:function(){var e=this;return C(y.a.Fragment,null,C(_.a,{defer:!0,type:"text/javascript",src:"".concat(h.TALK_URL,"/static/embed.js"),key:"comments"}),!this.props.hideTitle&&C("div",{className:f.a.dynamic([["4074959147",[this.props.theme.elements.text.default]]])+" comments-title"},"Comments"),C("div",{id:"ign-coraltalk-comment",ref:function(t){return e.commentRef=t},className:f.a.dynamic([["4074959147",[this.props.theme.elements.text.default]]])}),C(f.a,{id:"4074959147",dynamic:[this.props.theme.elements.text.default]},[".comments-title.__jsx-style-dynamic-selector{font-family:'ars-maquette-web',sans-serif;font-size:24px;font-weight:900;color:".concat(this.props.theme.elements.text.default,";margin:36px 0 12px 0;}"),"@media (max-width:416px){.comments-title.__jsx-style-dynamic-selector{font-size:18px;}}"]))}}]),n}(v.Component);M.defaultProps={talkUrl:h.TALK_URL,theme:"standard",show:function(){}};var P=function(e){var t=e.pluginTheme,n=Object(r.a)(e,["pluginTheme"]),o=Object(w.c)(),a="ign-dark"===o.id?"theater":t;return C(M,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({pluginTheme:a,theme:o},n))};t.a=function(e){var t=e.assetTitle,n=e.assetId,i=e.url,c=e.pluginTheme,s=e.hideTitle,l=void 0!==s&&s,d=Object(j.c)({rootMargin:"600px 0px",triggerOnce:!0}),m=Object(a.a)(d,2),u=m[0],p=m[1],f=Object(v.useState)(!!h.OPEN_WEB_ACTIVE),b=f[0],w=f[1],_=Object(v.useRef)(null),T=P;return Object(v.useEffect)((function(){var e;("undefined"===typeof window.useOpenwebComments&&(window.useOpenwebComments=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];R("setting comments to openweb"),w(e)}),b&&document.location.search.includes("spot_im_comment_id"))&&(null===_||void 0===_||null===(e=_.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[b]),b&&(T=E),p||b?C(k.a,{around:"Comments"},C(g.b,null,(function(e){var a=e.currentUser,s=a.coralTalkToken,d=Object(r.a)(a,["coralTalkToken"]),m=e.loggedIn;return m?C(T,Object(o.a)({key:"openweb-comments-".concat(n)},{coralTalkToken:s,currentUser:d,loggedIn:m,assetTitle:t,assetId:n,url:i,pluginTheme:c,hideTitle:l})):C(x.a,null,(function(e){var a=e.display,r=e.show,s=e.hide;return C(y.a.Fragment,null,C(T,Object(o.a)({key:"openweb-comments-".concat(n)},{loggedIn:m,assetTitle:t,assetId:n,url:i,pluginTheme:c,show:r,hideTitle:l})),C(O.a,{isOpen:a,onClose:s,trigger:"Comments"}))}))}))):C("div",{ref:u},C("div",{ref:_}))}}}]);
//# sourceMappingURL=b87320f9b80f52ec82173713f89f8e6816adc8b1.8456e8b59b308ca3f56c.js.map