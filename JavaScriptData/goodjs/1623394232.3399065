F.module("superman:components/qrcode",function(require,exports,ctx){var login1;var $qrcodeWrapper=$("#s_qrcode_nologin");var $qrTooltip=$(".qrcode-tooltip");var called=false;function loadScript(cb){$.getScript(location.protocol+"//passport.baidu.com/passApi/js/wrapper.js?cdnversion="+(new Date).getTime(),function(){cb&&cb()})}function hoverHandler(){if(called){$qrTooltip.hide();called=false;return}ctx.fire("qrcodehover");called=true;$qrTooltip.show();if($(".tang-pass-qrcode").length>0){return}
loadScript(function(){passport.use("login",{tangram:true,loginVersion:"v4",defaultCss:true},function(magic){login1=new magic.passport.login({product:"mn",loginType:1,qrcodeLogin:1,hasRegUrl:false,autosuggest:false,hasPlaceholder:false,u:window.document.location.href,staticPage:window.location.protocol+"//www.baidu.com/cache/user/html/v3Jump.html"});window.mmm=login1;login1.on("loginSuccess",function(evt){evt.returnValue=false;ctx.fire("qrcodeloginsuccess");setTimeout(function(){
window.document.location.href=window.document.location.href},500)});login1.on("render",function(){var success=document.querySelector("#TANGRAM__PSP_4__QrcodeSuccess > p.Qrcode-status-msg");var refresh=document.querySelector("#TANGRAM__PSP_4__QrcodeRefresh > p.refresh-timeout");var refreshIcon=document.querySelector("#TANGRAM__PSP_4__QrcodeRefresh > p.Qrcode-status-icon");var error=document.querySelector("#TANGRAM__PSP_4__QrcodeError > p.Qrcode-status-icon+p")
;var errorIcon=document.querySelector("#TANGRAM__PSP_4__QrcodeError > p.Qrcode-status-icon");$(refreshIcon).addClass("c-icon").html("&#xe622;");$(errorIcon).addClass("c-icon").html("&#xe622;");var text=document.querySelector("#TANGRAM__PSP_4__QrcodeSuccess > p.Qrcode-status-icon+p");$(success).hide();text.innerText="æ‰«ç æˆåŠŸ";refresh.innerText="äºŒç»´ç å¤±æ•ˆ";error.innerText="åŠ è½½å¤±è´¥";$(".refresh-loadout").text("åŠ è½½å¤±è´¥").css({color:"#9195a3"})});login1.render("qrcode-login-wrapper")})})}exports.init=function(){
$qrcodeWrapper.hover(hoverHandler);loadScript()}});F.addLog("superman:components/qrcode",["qrcodehover"]);F.addLog("superman:components/qrcode",["qrcodeloginsuccess"]);