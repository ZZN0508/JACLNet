(window.monolithJsonpFunction=window.monolithJsonpFunction||[]).push([["7634b71f","cc9dd1c9"],{10397:function(e,n,t){"use strict";t.r(n),t.d(n,"fps",(function(){return v})),t.d(n,"load",(function(){return b})),t.d(n,"metrics",(function(){return m}));var r,a,i,o=t(10953),c=t(5985),u=t(5986),s=function(){switch(window.location.hostname){case"www.avito.ru":case"m.avito.ru":return!0;default:return!1}},f=function(e,n){return{data:e,meta:{connection:Object(o.a)(),page:n||u.a.initialPageId,platform:(t=u.a.initialPlatform,"".concat(t).concat(u.a.isDevEnv?"-dev":""))}};var t},l=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function a(i,o){var c;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=s(),a.next=3,n;case 3:if(a.t0=a.sent,!a.t0){a.next=6;break}a.t0=c;case 6:if(!a.t0){a.next=10;break}a.t1=fetch("https://stats.avito.ru/api/".concat(t,"/stats/frontend/")+e,{method:"POST",body:JSON.stringify(r?f(i,o):{data:i})}).then((function(e){return e.json()})).catch((function(){})),a.next=11;break;case 10:a.t1=null;case 11:return a.abrupt("return",a.t1);case 12:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}()},d=function(){var e=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){var n,t,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(c.g)()){e.next=2;break}return e.abrupt("return",!1);case 2:return n=u.a.initialPlatform,t=u.a.initialPageId,r=0,e.prev=4,a=l("balance",!0,1,!1),e.next=8,a({platform:n,pageId:t});case 8:i=e.sent,r=i&&i.result&&i.result.percent?i.result.percent:0,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:return e.abrupt("return",Object(c.h)(r));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),p=new Promise((function(e){e(d())})),v=l("fps",p),b=l("load",p),m=(r=l("generic",p),a=new Map,i=function(){a.forEach(r),a.clear()},function e(){return setTimeout((function(){i(),e()}),5e3)}(),window.addEventListener("visibilitychange",i,!0),window.addEventListener("beforeunload",(function(){removeEventListener("visibilitychange",i,!0),i()})),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a.initialPageId,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[].concat(babelHelpers.toConsumableArray(a.get(n)||[]),babelHelpers.toConsumableArray(e));a.set(n,r),!0===t&&i()})},10400:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r="userCentric"},10403:function(e,n,t){"use strict";t.r(n),t.d(n,"observer",(function(){return l}));var r,a,i=t(10397),o=t(10400),c=t(5985),u=function(e){e.startTime<window.firstHiddenTime&&(r=e.startTime)},s=function(){var e=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.disconnect(),!r){e.next=8;break}return e.next=4,t.e("774afb24").then(t.bind(null,10962));case 4:n=e.sent,(0,n.sendLcpEvent)(r),Object(i.metrics)([{name:"largestContentfulPaint",value:r,prefix:o.a}]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("hidden"!==document.visibilityState){e.next=7;break}if(removeEventListener("visibilitychange",f,!0),a){e.next=4;break}return e.abrupt("return");case 4:return a.takeRecords().forEach(u),e.next=7,s();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){try{"PerformanceObserver"in window&&"takeRecords"in PerformanceObserver.prototype&&((a=new PerformanceObserver((function(e){Object(c.f)()?s():e.getEntries().forEach(u)}))).observe({type:"largest-contentful-paint",buffered:!0}),addEventListener("visibilitychange",f,!0),addEventListener("beforeunload",(function(){removeEventListener("visibilitychange",f,!0)})))}catch(e){}}}}]);