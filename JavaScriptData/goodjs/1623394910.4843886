!function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),o=n(t),a=o.default.util,i=a.toArray,u=a.each,c=a.extend,l=o.default.url.makeUrl,s=/^(?:cl([bn])|([adgin]))(\d+)(?:sz(\d+))?/,d=r.default._.EXPERIMENTID||null,f=r.default._.SITEZONE||null,h="//rs.mail.ru/",m=function(e){return(new Image).src=e},p=function(e){var t;if(!(t=e.match(s)))return null;var n="",r=!1;return t[1]?n="s"+t[1]:"n"===t[2]?n="nc":"i"===t[2]?(r=!0,n=t[1]):n=t[2],{type:n,noRandom:r,num:t[3],params:[{name:"sz",value:t[4]?t[4]:f},{name:"test_id",value:d}]}};function v(){var e={d:"imp",sb:"click"},t={};i(arguments).reverse().forEach((function(e){e&&e.split(",").reverse().forEach((function(e){var n=p(e.trim());null!==n&&(t[n.type]||(t[n.type]=[]),t[n.type].push(n))}))})),u(t,(function(t,n){1===t.length?g(t[0]):t.length>1&&e[n]&&y(e[n],t.map((function(e){return e.num})))}))}var g=function(e){if(null!==e){var t=[h,e.type,e.num,".gif"].join("");m(l(t,e.params,1<<Number(e.noRandom)<<2))}},y=function(e,t,n){e&&t&&t.length&&m(l("//rs.mail.ru/bulkstat/",[{name:"type",value:e},{name:"banner_ids",value:t.map(encodeURIComponent).join(",")},{name:"test_id",value:n||d}],5))};c(v,{bulk:y,links:function(e){e&&e.length&&m(l("//rs.mail.ru/ns.gif",[{name:"n",value:e.map(encodeURIComponent).join(",")}],1))}});var _=/^([a-z][a-z0-9]*)/g,w=/^\.([A-z0-9\-\_]+)/g,b=/^#([A-z0-9\-\_]+)/g,x=/^@([A-z0-9\-\_]+)="([^"]+)"/g,C=/^\*(\d+)/g,A=new RegExp('"',"g"),E=/\s+/,N=/-(\w)/g;function S(e){for(var t,n=[],r=[];t=e.pop();){var o=document.createElement(t.tag||"div");for(var a in t.attrs||(t.attrs={}),t.id&&(t.attrs.id=t.id),t.classes&&(t.attrs.class=t.classes.join(" ")),t.attrs)t.attrs.hasOwnProperty(a)&&"length"!==a&&o.setAttribute(a,t.attrs[a]);for(var i=0,u=r;i<u.length;i++){var c=u[i];o.appendChild(c)}r.length=0,n.push(o),r.push(o);for(a=1;a<t.multi;a++){var l=o.cloneNode(!0);n.push(l),r.push(l)}}return[n,r]}function k(e){return e.replace(N,(function(e,t){return t.toUpperCase()}))}function I(e){return null===e.offsetParent}var j,O,F,T,P,R,M,z=!1;function H(e,t,n){var r=t.available,o=t.styles;if(void 0===n&&(n=!1),r){for(var a=0,i=o;a<i.length;a++){var u=i[a],c=u.field,l=u.value;e.style[c]=l}var s;if(z)s=window.getComputedStyle(e);else if(z=!0,e.style.setProperty){var d=e.style.getPropertyValue("display");e.style.setProperty("display","inline");var f=(s=window.getComputedStyle(e)).display;if(e.style.setProperty("display",d),"inline"!==f)return n&&console.warn("[Honeypot] detect: property changed",{Bait:e,display:f,oldValue:"inline"}),!0}return o.some((function(t){for(var r=t.field,o=t.value,a=0,i=function(e){return[e,k(e)]}(r);a<i.length;a++){var u=i[a];if(u in s&&s[u]!==o&&"auto"!==s[u])return n&&console.warn("[Honeypot] detect: property changed",{Bait:e,Field:r,property:s[u],oldValue:o}),!0}}))}return!1}function B(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}var U,L=[],D=function(){function e(e){try{j=e[0],O=e[1],F=e[2],T=e[3]}catch(e){console.error(e)}}return e.prototype.check=function(e){void 0===e&&(e=!1);try{if(L.length)return L.some((function(t){return I(t)?(e&&console.warn("[Honeypot] detect: hidden bait",{Function:"checkIfHidden",Bait:t}),!0):H(t,R,e)}));if(1===j.length)return e&&console.warn("[Honeypot] detect: configBaits.length === 1",{ConfigBaits:j}),!0;M=j.map((function(e){var t=e.split(E),n=(e.match(A)||[]).length;if(n>0&&n%2==0)for(var r=null,o=0;o<t.length;o++)if(null===r){var a=(t[o].match(A)||[]).length;a&&a%2&&(r=o)}else t[r]+=" "+t[o],-1!==t[o].indexOf('"')&&(r=null),t[o]=void 0;return t.filter((function(e){return e})).map((function(e){var t,n={id:null,tag:null,classes:null,attrs:null,multi:1};do{_.lastIndex=0,w.lastIndex=0,b.lastIndex=0,x.lastIndex=0,C.lastIndex=0,(t=_.exec(e))?(e=e.substr(_.lastIndex),n.tag=t[1]):(t=w.exec(e))?(e=e.substr(w.lastIndex),n.classes=n.classes||[],n.classes.push(t[1])):(t=b.exec(e))?(e=e.substr(b.lastIndex),n.id=t[1]):(t=x.exec(e))?(e=e.substr(x.lastIndex),n.attrs=n.attrs||{},n.attrs[t[1]]=t[2]):(t=C.exec(e))&&(e=e.substr(C.lastIndex),n.multi=parseInt(t[1],10))}while(t&&e.length);if(e.length)throw new Error('Unparsed template: "'+e+'"');return n}))})),m=O,R={available:"function"==typeof window.getComputedStyle,styles:m.map((function(e){var t=e.split(/\s*:\s*/);return{field:t[0],value:t[1]}}))},P=document.createElement("div");var t={position:"absolute",visibility:"hidden",top:"-"+B(9e3,12e3)+"px"};B(0,10)>5?t.left="-"+B(9e3,12e3)+"px":t.right="-"+B(9e3,12e3)+"px";var n=Object.keys(t);n.sort((function(){return Math.random()-.5}));for(var r=0,o=n;r<o.length;r++){var a=o[r];P.style[a]=t[a]}if(document.body.appendChild(P),function(e,t){void 0===t&&(t=!1);try{if(e&&(e=e.filter((function(e){return e}))).length)for(var n=document.styleSheets,r=function(r){var o=n[r];if(!o.href&&e.some((function(e){if(-1!==o.ownerNode.innerText.indexOf(e))return t&&console.warn("[Honeypot] detect: css rule is found",{Function:"checkCssRules",Rule:e}),!0})))return{value:!0}},o=n.length;o--;){var a=r(o);if("object"==typeof a)return a.value}}catch(e){}}(T,e))return!0;for(var i=0,u=M;i<u.length;i++){var c=S(u[i]),l=c[0],s=c[1];if(l.length){for(var d=0,f=s;d<f.length;d++){var h=f[d];P.appendChild(h)}if(l.some((function(t){return L.push(t),I(t)?(e&&console.warn("[Honeypot] detect: hidden bait",{Function:"checkIfHidden",Bait:t}),!0):!!H(t,R,e)||void 0})))return!0}}if(function(e,t){void 0===t&&(t=!1);try{if(e)if((e=e.filter((function(e){return e}))).length)if(e.some((function(e){var n=document.querySelectorAll(e);return n.length>0&&Array.prototype.every.call(n,(function(n){if(I(n))return t&&console.warn("[Honeypot] detect: hidden element",{Function:"checkSelector",Selector:e,Elem:n}),!0}))})))return!0}catch(e){}}(F,e))return!0}catch(e){return console.error("honeypot detect error",e),!0}var m;return!1},e.prototype.destroy=function(){P&&(document.body.removeChild(P),P=null),L.length=0,j=O=F=T=M=R=null},e}(),W=new Function,q=function(e,t){var n=e,r="GET",o=null,a=!1,i=!1,u=function(){var e={readyState:4,status:-1};e.open=e.send=W;try{e=new window.XMLHttpRequest}catch(t){try{e=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}}return e}(),c=null,l=new Date,s={error:c,xhr:u};"object"==typeof e&&(n=e.url,r=e.method||r,o=e.body||o,a=e.sync||a,i=e.credentials||i),u.url=n;var d=function(){(c||4===u.readyState)&&(d=W,s.error=c,u.duration=new Date-l,u.onerror=u.onreadystatechange=null,"function"==typeof t&&t(c,u))};try{u.onreadystatechange=d,u.onerror=function(e){c=e,d()},u.open(r,n,!a),u.withCredentials=i,u.send(o)}catch(e){c=e,d()}return s},X=!1;try{X="http://example.com/"===new URL("http://example.com/").href}catch(e){}function K(e,t){return Math.random()*(t-e+1)+e|0}var V=function(e){return Array.prototype.slice.call(e)},G={random:K,randomBoolean:function(e){return K(0,100)<=e},calcString:function(e,t){if(e=parseInt(e,10),function(){if(void 0===U)try{if("function"==typeof window.getComputedStyle){var e=document.createElement("div");e.style.height="calc(30px + 30px)",document.getElementsByTagName("body")[0].appendChild(e),U="60px"===window.getComputedStyle(e,null).getPropertyValue("height"),e.parentNode.removeChild(e)}}catch(e){U=!1}return U}()){for(var n=[],r=0,o=0,a=K(1,6);o<a;o++)n.push(K(-100,100)),r+=n[n.length-1];return r!==e&&n.push(e-r),"calc("+n.map((function(e){return e.toString()+t})).join(" + ")+")"}return e+t},replaceUrl:function(e,t,n){if(X&&t){t.startsWith("//")&&(t="https:"+t);var r,o=e.charAt(0),a='"'===o||"'"===o,i=0+a;r=n?e.indexOf((a?o:"")+")"):a?e.indexOf(o,i+1):e.length;var u=e.slice(i,r);try{u=new URL(u,t).href}catch(e){}return e.slice(0,i)+u+e.slice(r)}return e},replaceContent:function(e){var t=e.charAt(0),n='"'===t||"'"===t,r=Number(n),o=n?e.indexOf(t,r):e.indexOf(";",r),a=e.slice(r,o),i="";if(/^\\[a-z0-9]+$/.test(a)||!n)i=a;else for(var u=0;u<a.length;u++){var c=a[u].charCodeAt(0);isNaN(c)||(i+="\\"+c.toString(16))}return e.slice(0,r)+i+e.slice(o)},iterate:function(e,t,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&"length"!==r&&t.call(n||this,e[r],r)},extend:function(){var e=V(arguments),t=e.shift();return e.forEach((function(e){for(var n in e)t[n]=e[n]})),t},merge:function(){var e=V(arguments),t=e.shift();return e.forEach((function(e){for(var n in e)t[n]||(t[n]=e[n])})),t},toArray:V};function J(e){e&&this.__rules.push(e)}function Y(e,t,n){this.__style=function(e){var t=document.createElement("style");return t.appendChild(document.createTextNode("")),(e=e||{}).rel="stylesheet",e.type="text/css",e.media=e.media||"screen",G.iterate(e,(function(e,n){e&&t.setAttribute(n,e)})),t}(e),this.__style.__created=!0,this.__rules=[],this.__originalNode=t,this.__alwaysInHead=n}function Z(){this.__rules.length&&this.__style.appendChild(document.createTextNode(this.__rules.join("\n")))}Y.prototype={constructor:Y,insert:function(){J.apply(this,arguments)},insertBlock:function(e,t){J.apply(this,[e+"{"+t+"}"])},setContent:function(e){this.__style.appendChild(document.createTextNode(e))},apply:function(){this.__originalNode&&this.__originalNode.parentNode?(!function(e,t,n){var r=t.getAttribute(e);r&&n.setAttribute(e,r)}("id",this.__originalNode,this.__style),this.__originalNode.parentNode.replaceChild(this.__style,this.__originalNode)):(this.__alwaysInHead?document.head:function(){for(var e=document.styleSheets,t=e.length;t>0;t--){var n=e[t-1];if(n&&n.ownerNode&&n.ownerNode.parentNode)return n.ownerNode.parentNode}}()||document.head).appendChild(this.__style);Z.apply(this)},getSheet:function(){return this.__style.sheet}};var Q=/content\s*:\s*/;function ee(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}var te=/^(-?\d+)([a-z%]+)$/,ne=/\s(?![*+\-/]|[^()]+\)+|\(+)/;function re(e,t,n,r){for(var o,a="",i=t(e.selectorText),u=0;u<e.style.length;u++){var c="important"===e.style.getPropertyPriority(e.style[u])?" !important":"",l=e.style[u];/background-(repeat|position)-[xy]/.test(l)&&(l=l.replace(/-[xy]$/,""));var s=e.style[l]||e.style[ee(l)];if(void 0!==s&&s.length||(l=l.replace(/-(value|(ltr|rtl)-source)$/g,""),s=e.style[l]||e.style[ee(l)]),void 0===s&&"float"===l&&(s=e.style.cssFloat),void 0!==s&&s.length){if(r.randomize&&r.randomize.length&&r.randomize.indexOf(l)>-1&&i!=e.selectorText){for(var d=s.split(ne),f=d.length,h=[];f--;){var m=te.exec(d[f]);h.unshift(m?G.calcString(m[1],m[2]):d[f])}s=h.join(" ")}a+=l+": "+s+c+"; "}}return-1!==a.indexOf("url(")&&(a=function(e,t){var n=!0;return e.split("url(").map((function(e){return n?(n=!1,e):G.replaceUrl(e,t,!0)})).join("url(")}(a,n)),-1!==a.indexOf("content")&&(o=!0,a=a.split(Q).map((function(e){return o?(o=!1,e):G.replaceContent(e)})).join("content:")),i+" { "+a+" }"}var oe=function(e,t,n,r,o){o=o||{},G.iterate(function(e){try{return e.cssRules||e.rules}catch(e){return null}}(e),(function(e){switch(e.type){case 1:r(re(e,t,n,o));break;case 4:var a=[];G.iterate(e.cssRules||e.rules,(function(e){a.push(re(e,t,n,o))})),r("@media "+e.media.mediaText+" { "+a.join(" ")+" }");break;default:r(e.cssText)}}))},ae=/^(\/|https?:\/\/([^\/]*.)?(dev|imgs)?mail.ru\/)/,ie=/.*?\/\/.*?\//,ue=!1,ce=!1,le=!1,se=[];function de(e,t,n){var r=e(n);return se.includes(n)||ue||t||r===n?r:r+","+n}function fe(e){var t=q({url:e,sync:!0});if(t.error){var n="[CSS LOADING ERROR] Cant load "+e;throw window.ajs&&window.ajs.log&&window.ajs.log(n),t.error.description=n,t.error.sheet=e,t.error}return t.xhr.responseText}function he(e){var t;return e.ownerNode&&(t=((t=e.ownerNode.href||e.ownerNode.getAttribute("x-href"))||"").replace(/^https:/,"")),t}var me=function(e){e&&("boolean"==typeof e.justOneSelector&&(ue=e.justOneSelector),"boolean"==typeof e.useRelativeProxy&&(ce=e.useRelativeProxy),"boolean"==typeof e.stylesAlwaysInHead&&(le=e.stylesAlwaysInHead),e.justOneSelectorArr&&(se=e.justOneSelectorArr))},pe=function(e,t,n,r){!function(e,t){var n=/^(https:)?\/\/[^/]+/,r=e.map((function(e){return e.replace(n,"")}));!function e(){G.iterate(document.styleSheets,(function(e){if("LINK"===e.ownerNode.tagName){var t=he(e).replace(n,"");r=r.filter((function(e){return t!==e}))}})),r.length?setTimeout(e,100):t()}()}(e,(function(){[].map.call(document.styleSheets,(function(e){return e})).forEach((function(e){if(e.ownerNode&&!e.ownerNode.__created&&!e.__updated&&"LINK"===e.ownerNode.tagName&&(!r.excludeStyles||!r.excludeStyles.test(e.href))){var o=e;e.__updated=!0;var a=he(e);if(e.href&&ae.test(e.href))try{var i=function(e){var t=e.href;try{return fe(t)}catch(e){if(ce)return fe(t=t.replace(ie,"/"));throw e}}(e);if(i){var u=new Y({"x-href":a,media:e.media.mediaText},e.ownerNode,e.__alwaysInHead);u.setContent(i),u.apply(),(o=u.getSheet()).__updated=!0}}catch(e){if("function"==typeof n)return void n(e)}var c=new Y({"x-href":a,media:e.media&&e.media.mediaText},o.ownerNode,e.__alwaysInHead);c.__updated=!0,oe(o,de.bind(null,t,!1),a,(function(e){c.insert(e.toString())}),r),c.apply()}}))}))},ve=function(e){if((e=(e||[]).map((function(e){return(e||"").replace(/^https:/,"")}))).length){var t=[];G.iterate(document.styleSheets,(function(n){var r=he(n);r&&-1!==e.indexOf(r)&&t.push(n)}));for(var n=t.length-1;n>=0;n--){var r=t[n];r.ownerNode.parentNode.removeChild(r.ownerNode)}}},ge=function(e,t,n){var r=new Y({},void 0,le),o=de.bind(null,t,n),a=function(e,t){return o(e)+function(e){var t=[];return G.iterate(e,(function(e,n){t.push(n+":"+e+";")})),"{"+t.join("\n")+"}"}(t)};return G.iterate(e,(function(e,t){if(/@(media|supports|document|page|keyframes|font-feature-values)/.test(t)){var n=[];G.iterate(e,(function(e,t){n.push(a(t,e))})),r.insertBlock(t,n.join(""))}else r.insert(a(t,e))})),r.apply(),r};function ye(){return(ye=Object.assign||function(e){for(var t=arguments,n=1;n<arguments.length;n++){var r=t[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var we=1e3,be=function(e){for(var t=0;t<10;t++)e.push(t.toString());for(t=0;t<25;t++)e.push(String.fromCharCode(97+t)),e.push(String.fromCharCode(65+t));return function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}(e)}([]),xe=be.length;var Ce=function(){for(var e=[],t=0;e.length<5&&t<be.length;t++)(e.length>0||!/[0-9]/.test(be[t]))&&e.push(be[t]);return e.join("")}();function Ae(){return Ce+function e(t){return(t>=xe?e((t/xe>>0)-1):"")+be[t%xe>>0]}(we++)}var Ee={enabled:!1},Ne=function(){function e(){}var t=e.prototype;return t.createElement=function(e){},t.getAllElements=function(){},e}(),Se=function(){function e(){}var t=e.prototype;return t.injectDependencies=function(e){this.deps=e},t.setAttribute=function(e,t,n){},t.createElementFactory=function(){},t.createFragment=function(){},t.appendChild=function(e,t){},t.bakeFragment=function(e,t,n){},t.queryAllElements=function(e){},t.mountElementAt=function(e,t,n){},t.isComponent=function(e){return!1},t.decorateComponent=function(e,t,n){return e},e}(),ke=function(e){function t(){for(var t,n=arguments,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=n[a];return(t=e.call.apply(e,[this].concat(o))||this).elements=[],t}_e(t,e);var n=t.prototype;return n.createElement=function(e){var t=document.createElement(e);return this.elements.push(t),t},n.getAllElements=function(){return this.elements},t}(Ne),Ie=function(e){function t(){return e.apply(this,arguments)||this}_e(t,e);var n=t.prototype;return n.setAttribute=function(e,t,n){switch(t){case"id":case"className":e[t]=n;break;default:e.setAttribute(t,n)}},n.createElementFactory=function(){return new ke},n.createFragment=function(){return document.createDocumentFragment()},n.appendChild=function(e,t){e.appendChild(t)},n.bakeFragment=function(e,t,n){e._allElements=t.getAllElements()},n.queryAllElements=function(e){return e._allElements},n.mountElementAt=function(e,t,n){var r=e._allElements[n];r&&(t.parentNode.insertBefore(e,t),r.appendChild(t))},t}(Se),je=function(e){function t(){for(var t,n=arguments,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=n[a];return(t=e.call.apply(e,[this].concat(o))||this).elements=[],t}_e(t,e);var n=t.prototype;return n.createElement=function(e){var t={tag:e,attrs:{}};return this.elements.push(t),t},n.getAllElements=function(){return this.elements},t}(Ne),Oe=function(e){function t(){return e.apply(this,arguments)||this}_e(t,e);var n=t.prototype;return n.setAttribute=function(e,t,n){"className"===t&&(t="class"),e.attrs=e.attrs||{},e.attrs[t]=n},n.createElementFactory=function(){return new je},n.createFragment=function(){return{tag:"div",children:[],_isFragment:!0,attrs:{}}},n.appendChild=function(e,t){var n;(e.children=e.children||[],t._isFragment)?(n=e.children).push.apply(n,t.children):e.children.push(t)},n.bakeFragment=function(e,t,n){e._allElements=t.getAllElements(),void 0!==n&&(e.tag=n)},n.mountElementAt=function(e,t,n){var r=e._allElements[n];r.children=r.children||[],r.children.push(t),e._mountedAt=n,e._mountedAtChild=r.children.length-1},n.updateMountedElement=function(e,t){e._allElements[e._mountedAt].children[e._mountedAtChild]=t},n.isComponent=function(e){return!e.prototype},n.cloneFragment=function(e,t){void 0===t&&(t=[]);var n=e.children,r={_isFragment:e._isFragment,_mountedAt:e._mountedAt,_mountedAtChild:e._mountedAtChild,tag:e.tag,key:e.key,attrs:e.attrs};if(e._allElements?(r._isFragment=e._isFragment,r._mountedAt=e._mountedAt,r._mountedAtChild=e._mountedAtChild,r._allElements=t):t.push(r),n){var o;r.children=[];for(var a=0;a<n.length;a++)o=this.cloneFragment(n[a],t),r.children.push(o)}return r},n.decorateComponent=function(e,t,n){var r=this.deps.feast,o=this,a=e.constructor!==Object?e.constructor:r.Block,i=e.createFragment||r.Block.prototype.createFragment;return e.constructor=function(){a.apply(this,arguments)},e.createFragment=function(){var e=i.apply(this,arguments);if(!Ee.enabled||!1===t.enabled||"function"==typeof t.enabled&&!1===t.enabled(this))return e;var r=this.constructor["180225_fragment"];if(r||(r=n(null,{},ye({},t,{binding:"feast"})),this.constructor["180225_fragment"]=r),!r||!r.children||!r.children.length)return e;if(this.immutable&&e._isFragment)return e;var a=o.cloneFragment(r);return o.updateMountedElement(a,e),a.events=e.events,a.key=e.key,e.events=void 0,e.key=void 0,a},e},t}(Se),Fe={dom:new Ie,feast:new Oe},Te={binding:"dom",tags:{div:100},attrs:{id:50,"data-bem":20,"data-mnemo":16,className:33},deps:{},unsafe:!1,minSize:0,maxSize:5,depth:5},Pe={};function Re(){var e=Ae();return Pe[e]=!0,e}function Me(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var r,o,a,i=[];for(o in e)if(a=void 0,(r=e[o]).length&&(r=e[o][0],a=e[o][1]),G.randomBoolean(r)&&("function"==typeof a?(n=[Re].concat(n),a=a.apply(void 0,n)):a=Re(),void 0!==a&&i.push({name:o,value:a}),t&&i.length===t))break;return o&&!i.length&&(a="function"==typeof a?a():Re(),i.push({name:o,value:a})),i}function ze(e,t,n,r){for(var o=Me(n=n||Te.attrs,0,[t]),a=0;a<o.length;a++)e.setAttribute(t,o[a].name,o[a].value);r&&!o.length&&e.setAttribute(t,r,Re())}function He(e,t,n){n=ye({},Te,n);var r=Fe[n.binding]||Fe.dom;r.injectDependencies(n.deps);var o=t;if("string"==typeof o){if(!e)return;o=G.toArray(e.querySelectorAll(o))}void 0===o.length&&(o=[o]);var a=o.map((function(e){var t=r.createElementFactory(),o=function e(t,n,r,o){for(var a,i,u=t.createFragment(),c=0,l=G.random(o.minSize,o.maxSize);c<l;c++)a=Me(o.tags,1)[0].name,ze(t,i=n.createElement(a),o.attrs,"className"),G.random(0,r)&&t.appendChild(i,e(t,n,r-1,o)),t.appendChild(u,i);return u}(r,t,n.depth,n),a=Me(n.tags,1)[0].name;r.bakeFragment(o,t,a);var i=t.getAllElements().length;return e&&i&&r.mountElementAt(o,e,G.random(0,i-1)),o}));if(1===a.length)return a[0]}var Be={isWelter:function(e){return void 0!==Pe[e]},wrap:function(e,t,n){n=n||Te;try{if(!e)return He(null,t,n);if(e.nodeType)return He(e,t,n);if(e.length>=0){if(1===e.length)return He(e[0],t,n);G.toArray(e).forEach((function(e){return He(e,t,n)}))}else console.warn('[Walter.wrap] this "context" not supported:',e)}catch(e){if(n.unsafe)throw e;console.error(e)}},detectComponentBinding:function(e){return Object.keys(Fe).find((function(t){return Fe[t].isComponent(e)}))},decorateComponent:function(e,t){var n=this.detectComponentBinding(e),r=Fe[n];return r.injectDependencies(t.deps),r.decorateComponent(e,t,this.wrap)},getDefaultOptions:function(){return Te}};function Ue(e,t){return e&&e.length?e.slice().reverse().reduce((function(e,t){return t(e)}),t):t}function Le(e){for(var t=arguments,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];var a=Ue(r,Be.getDefaultOptions());function i(e){return Be.decorateComponent(e,a)}return e?i(e):i}var De,$e,We,qe,Xe=Ae(),Ke=0,Ve={names:{},reverse:{},wraps:{}},Ge={},Je=!1,Ye=[],Ze=!1,Qe=/([@#:.]*)([\w$-]+)/gi,et={},tt=($e=["top","right","bottom","left"],qe=["height","width","max-width","max-height","min-height","min-width"],(We=["margin","padding"]).forEach((function(e){$e.forEach((function(t){qe.push(e+"-"+t)}))})),qe.concat($e,We));function nt(e){at(e)}function rt(e,t){Je&&e&&pe(e,st,t,et)}function ot(e,t){return ge(e,st,t)}function at(e,t){e=G.extend({},et,e||{}),et=e,e.enable&&(Je=!0),Je&&("boolean"==typeof e.translateAll&&(Ze=e.translateAll),e.match&&e.match instanceof Array&&e.match.length>0&&(Ye=Ye.concat(e.match),De=new RegExp("^("+Ye.join("|")+")"))),me(e.styleSheetsOptions),e.randomize&&(e.randomize=!0===e.randomize?tt:e.randomize),e.links&&rt(e.links,t),e.sheet&&ot(e.sheet)}function it(e,t){return"mimic"===e&&(e="mimic-key"),(t?t+"@@@":"")+e}function ut(e,t){if(!Je)return e;var n=it(e,t),r=Ve.names[n];return!r&&(Ze||De&&De.test(t||e))&&(r=Ae(),Ve.names[n]=r,Ve.reverse[r]=e),r||e}function ct(e,t){var n=lt(e);return t?ut(n.elem,t)+(n.mod?"_"+ut(n.mod,t):""):ut(n.elem)+(n.mod?"_"+ut(n.mod,n.elem):"")}function lt(e){var t,n=(e?""+e:"").match(/^(.*?[^_])(_([^_]+))?$/);return n&&(e=n[1],t=n[3]),{elem:e,mod:t}}function st(e){return e.replace(Qe,(function(e,t,n){return!t||/:/.test(t)?e:t+ct(n)}))}function dt(e,t){var n=lt(e);return t?(Ve.names[it(n.elem,t)]||n.elem)+(n.mod?"_"+(Ve.names[it(n.mod,t)]||n.mod):""):(Ve.names[n.elem]||n.elem)+(n.mod?"_"+(Ve.names[it(n.mod,n.elem)]||n.mod):"")}function ft(e,t,n){return(e||"").toString().split(/\s+/).map((function(e){return t(e,n)})).join(" ")}function ht(e){var t=lt(e);return(Ve.reverse[t.elem]||t.elem)+(t.mod?"_"+(Ve.reverse[t.mod]||t.mod):"")}nt.createWelterDecorator=function(e,t){return void 0===t&&(t=Le),function(){for(var n=arguments,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=n[a];return t.apply(void 0,o.concat([e]))}},nt.toggleWelterGlobal=function(e){Ee.enabled=e},nt.prototype={constructor:nt,setup:at,selector:function(e,t){var n=st(e);return t||e==n?n:n+", "+e},transform:function(e,t){return ft(e,ct,t)},lookup:function(e,t){return ft(e,dt,t)},updateSheets:rt,removeSheets:function(e){Je&&e&&ve(e)},insertSheet:ot,reverse:function(e){return ft(e,ht)},isWelter:function(e){return Be.isWelter(e)},wrap:function(e,t){if(Je){var n;(t=t||document)[Xe]?n=t[Xe]:(n=++Ke,t[Xe]=n);var r=Ge[n];null==r&&(r={}),e.forEach((function(e){if(!r[e]){var o=st(e);r[e]=o,Ge[n]=r,Be.wrap(t,o)}}))}},calcString:function(e,t){return Je?G.calcString(e,t):e+t},removeCache:function(e){delete Ge[e[Xe]],delete e[Xe]},setEnabled:function(e){delete et.enable,Je=e},isEnabled:function(){return Je}};var mt=$.util.randomInt,pt=mr.switches,vt=new function(e){return function(t){var n=e.getUrl(t);if(!n)return t;switch(e.type){case"xor":var r=function(e,t){for(var n="",r=0;r<t.length;r++){var o=t.charCodeAt(r),a=r%e.length,i=e.charCodeAt(a);n+=String.fromCharCode(o^i)}return n}(e.key,n);return r="hex"===e.encode?function(e){for(var t="",n=0;n<e.length;n++)t+=(256+e.charCodeAt(n)).toString(16).slice(1);return t}(r):encodeURIComponent(r),e.endpoint+"/"+(e.keyId||"")+r;case"plain":default:return e.endpoint+encodeURI(n)}}}({endpoint:"/"+mr.mimic.encryptPath,type:"xor",encode:"hex",key:mr.mimic&&mr.mimic.cryptoKey,keyId:mr.mimic&&mr.mimic.cryptoKeyId,getUrl:function(e){return e}}),gt=new nt({links:mr._.STYLE,excludeStyles:mr._.DEV_WHITELINE?/devmail\.ru\/serve\/external\.css/:/limg\.imgsmail\.ru\/pkgs\/whiteline\/(\.|\d|latest)+\/external\.css/,match:["grid","grid__ccol","grid__lcol","grid__header","grid-middle","bar__grid","external","banner","news","i-pull","rectangle-banner","games","mediaprojects","tgb","informer","choose-city","horo-informer","rate","o-","i-","m-","weather","toolbar","notify","well","tabs","new-tgb-wrap"],randomize:!0}),yt=/^.+\/count\//,_t=/rs?\.(mail\.ru|mradx\.net)/,wt=/^(https?:)\/\//,bt=function(e){this.base=e.base||"",this.counters=e.counters||[],this.opts=e};bt.prototype.add=function(e){var t;return(t=this.counters).push.apply(t,(e||"").split(",").filter((function(e){return!!e}))),this},bt.prototype.send=function(){var e=this,t=this.counters.map((function(t){return e.fetchCounter(e.base+t)}));return this.counters.length=0,Promise.all(t)},bt.send=function(e,t){return new bt(t).add(e).send()},bt.prototype.fetchCounter=function(e){var t,n;return this.opts.mimic&&(_t.test(e)?n=vt(e.replace(wt,"/")):yt.test(this.base)&&(t=$.transport("/api-proxy/rb-mimic/v1/count/",{type:pt.mimicAdsByXhr?"XHR":"JSONP",decorator:vt,json:!0}).fetch({params:this.getDirectParams(e),timeout:3e3}).then((function(e){if(200!==e.result.status)throw Error("invalid request")})))),t||(t=new Promise((function(t,r){var o=new Image;o.src=n||e,o.onload=t,o.onerror=r}))),t.catch((function(){$.radar("adblock_stat_error").send()})),t},bt.prototype.getDirectParams=function(e){var t=e.split(/^\/count\//,1).pop(),n=this.opts,r={key:t,location:location.protocol+"//"+location.host+location.pathname,search_uid:$.cookie("searchuid").value(),type:"resplash",site_charset:"utf-8"};return void 0!==n.stat_id&&(r.stat_id=String(n.stat_id)),void 0!==n.page_id&&(r.page_id=Number(n.page_id)),void 0!==n.cid&&(r.cid=Number(n.cid)),document.referrer&&(r.referer=document.referrer),navigator.userAgent&&(r.agent=navigator.userAgent),"object"==typeof n.context&&(r.context={},void 0!==n.context.title&&(r.context.title=String(n.context.title)),void 0!==n.context.headers&&(r.context.headers=n.context.headers)),r};var xt=function(e,t){var n=document.createElement("div");return n.className=t?gt.transform(t):"",n.textContent=e||"",n},Ct=function(){return Math.random().toString(36).substring(Math.max(2,10*Math.random()))},At=function(e){return Array.apply(0,new Array(e)).map((function(e){return 0}))},Et=function(){return Math.random()<=.5},Nt=0,St=function(e,t){return void 0===e&&(e=2),void 0===t&&(t=6),At(mt(t,e)).reduce((function(e,t,n){return e+" news-rnd-"+(Nt<=99?Nt++:Nt=0)}),"")},kt=["alt","title"],It=document.createElement("canvas"),jt=It.getContext("2d");It.height=It.width=10;var Ot={textWrap:function(e,t){void 0===t&&(t="");var n=e.textContent,r=n.length,o="",a=0;e.textContent="";for(var i=0;i<r;i++)o+=n.charAt(i),(Math.random()<.5||o.length>r/2||i===r-1)&&(e.appendChild(xt(Ct(),"i-hide")),e.appendChild(xt(o,t)),o="",a++);if(gt.wrap(["."+t+":nth-child("+Math.ceil(a/2)+")"||"div"],e),t){var u=e.querySelectorAll("div");t=gt.transform(t),u.forEach((function(e){return e.classList.add(t)}))}},radarOnCaught:function(e,t,n){void 0===n&&(n=1e3),e instanceof HTMLElement&&(e=function(){return!$.dom.isVisible(e)}),setTimeout((function(){e&&mr.mimic.radar("caught_"+t)}),n)},hideAll:function(e,t){if(!mr._.STUCK_IN_POT)return e;var n=[],r=[];return t=t||document.body,Object.keys(e).forEach((function(o){var a=t.querySelector(o);if(a){var i=a.className+St(1,Math.max(1,6-a.classList.length));a.className=gt.transform(i),a.id&&(a.id=gt.transform(a.id)),e[o]&&r.push(o)}else n.push(o)})),gt.wrap(r,t),n},insetRndImage:function(e,t,n){if(void 0===t&&(t=3),void 0===n&&(n=0),mr._.STUCK_IN_POT){var r;if(!n||Et()){jt.strokeText(Ct(),0,0),(r=new Image).src=It.toDataURL(),r.className=gt.transform("i-hide "+St());for(var o=kt.length;o--&&Et();)r[kt[o]]=Ct()}n<t&&[].forEach.call(e.children,(function(e){Ot.insetRndImage(e,t,n+1)})),r&&e.appendChild(r)}},spreadWide:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=5);var r=e.parentNode,o=e.nextSibling;if(r&&mr._.STUCK_IN_POT)for(var a=function(a){var i=document.createDocumentFragment();At(mt(n,t)).forEach((function(){var e=document.createElement("div");e.className=gt.transform(St()),i.appendChild(e)})),a?r.insertBefore(i,e):o?r.insertBefore(i,o):r.appendChild(i)},i=0;i<2;i++)a(i)}},Ft={encrypt:vt,locator:gt,tools:Ot,Counter:bt,honeyPot:D};document.addEventListener("mousedown",(function(e){for(var t,n=[],r=e.target||e.srcElement;r.parentNode;)(t=r.getAttribute&&r.getAttribute("name"))&&n.push(t),r=r.parentNode;n.length&&v(n.join(","))})),o.default.util.extend(r.default,{counter:v,retarget:function(e){m(l("https://ad.mail.ru/i"+e+".gif"))},honeyPot:Ft.honeyPot}),o.default.util.logger(o.default.radar);var Tt=o.default.radar("adblock");Ft.radar=Tt.send,Ft.rLog=Tt.log,o.default.util.extend(r.default.mimic,Ft),document.addEventListener("visibilitychange",(function(){"IFRAME"===document.activeElement.tagName.toUpperCase()&&window.focus()})),window.mr=r.default}(mr,$);