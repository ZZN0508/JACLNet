!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.document=e.Math=e.navigator=e.performance=e.WINDOW=void 0;var o=r(n(11));e.WINDOW=window,e.performance=e.WINDOW.performance,e.navigator=e.WINDOW.navigator,e.Math=e.WINDOW.Math,e.document=e.WINDOW.document,e.WINDOW.Promise||o.default.polyfill()},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.onError=e.track=void 0;var i=n(2),u=o(n(10)),a=o(n(14)),s=o(n(7)),c=function(t,e){return Object.keys(e).map((function(n){return[t+n,e[n]]}))};e.track=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var o=i.DV_DATA_OBJECT.ctx,f=i.DV_DATA_OBJECT.cmp,l=i.DV_DATA_OBJECT.pid,p=r([["cid",l],["ea",t],["z",a.default()]],c("cd",e),c("cm",n),[["ctx",o||"missing"],["cd160",s.default()]]);f&&p.push(["cmp",f]),u.default("https://vtrk.doubleverify.com/?v=1&t=event&ec=page&cd105=@dvpub/signals-pagetag@0.0.1&"+function(t){return t.reduce((function(t,e){var n=e[0],r=e[1];return t.push(n+"="+encodeURIComponent(r)),t}),[]).join("&")}(p))},e.onError=function(t){var n={110:t&&t.message||"unknown error"};e.track("error",n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DV_DATA_OBJECT=void 0,e.DV_DATA_OBJECT={"url":"https://pub.doubleverify.com/signals/pub.json"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SLOT_SIGNALS=e.GLOBAL_SIGNALS=e.ALL_SIGNALS=e.TVP=e.VLP=e.BSC=e.IDS=void 0,e.IDS="IDS",e.BSC="BSC",e.VLP="VLP",e.TVP="TVP",e.ALL_SIGNALS=[e.IDS,e.BSC,e.VLP,e.TVP],e.GLOBAL_SIGNALS=[e.IDS,e.BSC],e.SLOT_SIGNALS=[e.VLP,e.TVP]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCacheStatus=e.getPerfEntry=e.getExecTime=void 0;var r=n(8),o=n(0);e.getExecTime=function(){return o.performance?o.performance.now():null},e.getPerfEntry=function(t){return o.performance&&o.performance.getEntries?new Promise((function(e){return setTimeout((function(){return e(r.findInArray(o.performance.getEntriesByType("resource"),(function(e){return e.name===t})))}),0)})):Promise.resolve(null)},e.getCacheStatus=function(t){var e=t.transferSize,n=t.decodedBodySize;return e>0?"network":n>0?"cache":"unknown"}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.scriptPattern=e.getSignalData=e.processNewSlots=e.setSignalsData=e.initGlobalApi=void 0;var a=n(2),s=n(6),c=n(3),f=i(n(15)),l=n(1),p=n(0),d=n(4),h=u(n(7));e.initGlobalApi=function(){var t="load-pq";if(null==p.WINDOW.PQ||null==p.WINDOW.PQ.loadSignals){var n=g(),r=f.default,o=[];if(p.WINDOW.PQ&&Array.isArray(p.WINDOW.PQ.cmd)&&(o=p.WINDOW.PQ.cmd),p.WINDOW.PQ=r,a.DV_DATA_OBJECT.pid=h.default(),f.setGptTargetingKV("pts_pid",a.DV_DATA_OBJECT.pid),a.DV_DATA_OBJECT.ctx&&a.DV_DATA_OBJECT.cmp)t="load-pq-signals",e.setSignalsData(a.DV_DATA_OBJECT),a.DV_DATA_OBJECT.gptInsert&&f.setSignalsTargeting(a.DV_DATA_OBJECT);else{var i=v(n),u=i.ctx,c=i.cmp;if(!u||!c)throw new Error("ctx and cmp params are missing");a.DV_DATA_OBJECT.ctx=u,a.DV_DATA_OBJECT.cmp=c}for(var _=0,y=o;_<y.length;_++){(0,y[_])()}var m=d.getExecTime();setTimeout((function(){s.reportPerformance(n,t,m)}),0)}else l.track("pq-dupl")};var v=function(t){var e=t.split("#")[1];return y(e)},g=function(){return p.document.currentScript?p.document.currentScript.getAttribute("src"):_()},_=function(){for(var t=p.document.getElementsByTagName("script"),n=0;n<t.length;n+=1){var r=t[n].getAttribute("src");if(e.scriptPattern.test(r))return r}throw new Error("pagetag not found on the page")},y=function(t){void 0===t&&(t="");for(var e={},n=t.split("&"),r=0;r<n.length;r+=1){var o=n[r].split("="),i=decodeURIComponent(o[0]),u=decodeURIComponent(o[1]);e[i]=u}return e};e.setSignalsData=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=n[e],o=r[0],i=r[1];switch(o){case c.IDS:p.WINDOW.PQ.PTS[c.IDS]=i;break;case c.BSC:p.WINDOW.PQ.PTS[c.BSC]=i;break;case c.VLP:m(c.VLP,i);break;case c.TVP:m(c.TVP,i)}}};var m=function(t,e){if(p.WINDOW.PQ.PTS[t])for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],i=p.WINDOW.PQ.PTS[t][o];if(i)for(var u=0,a=Object.keys(e[o]);u<a.length;u++){var s=a[u];i[s]=e[o][s]}else p.WINDOW.PQ.PTS[t][o]=e[o]}else p.WINDOW.PQ.PTS[t]=e};e.processNewSlots=function(t){var e=[],n=[];if(!p.WINDOW.PQ||!p.WINDOW.PQ.PTS||!p.WINDOW.PQ.PTS.VLP)return{newSlots:t,existingSlots:n};for(var r=0,o=t;r<o.length;r++){var i=o[r],u=i.getAdUnitPath(),a=p.WINDOW.PQ.PTS.VLP[u];if(a)a[""+f.getSlotSizes(i).sort().join(",")]||e.push(i),n.push(i);else e.push(i)}return{newSlots:e,existingSlots:n}},e.getSignalData=function(t){return p.WINDOW.PQ&&p.WINDOW.PQ.PTS&&p.WINDOW.PQ.PTS[t]||{}},e.scriptPattern=/(?:http|https):\/\/[^/]+\.(?:doubleverify\.com)\/signals\/pub.js/},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.reportPerformance=void 0;var i=n(3),u=n(1),a=n(8),s=n(0),c=n(0),f=n(4);e.reportPerformance=function(t,e,n){return r(void 0,void 0,void 0,(function(){var r,l,p,d,h,v,g,_,y,m,b,S,T,O,w,P,A,D;return o(this,(function(o){switch(o.label){case 0:return r={},l={},s.performance?[4,f.getPerfEntry(t)]:(r[180]="no-api",u.track(e,r),[2]);case 1:return(p=o.sent())?(d=f.getCacheStatus(p),r[180]=d,v=(h=p).fetchStart,g=h.domainLookupStart,_=h.domainLookupEnd,y=h.connectStart,m=h.secureConnectionStart,b=h.connectEnd,S=h.requestStart,T=h.responseStart,O=h.responseEnd,w=h.serverTiming,(P=void 0===w?[]:w).length>0&&(i.ALL_SIGNALS.forEach((function(t,e){return function(t,e,n,r,o){if(void 0===r&&(r={}),void 0===o&&(o={}),n){var u=n.description,a=n.duration,s=187+e;o[s]=a,r[s]=u;var f=c.WINDOW.PQ.PTS[t];if(void 0!==f)switch(t){case i.IDS:o[170+e]=f;break;case i.BSC:Array.isArray(f)&&(r[170+e]=f.join(","));break;case i.VLP:r[170+e]=JSON.stringify(f)}}}(t,e,a.findInArray(P,(function(e){return e.name===t.toLowerCase()})),r,l)})),(A=P.find((function(t){return"rauth"===t.name})))&&(l[190]=A.duration,r[190]=A.description)),[[v,O],[g,_],[y,D=m||b],[D,b],[S,T],[T,O],[v,n]].forEach((function(t,e){var n=t[0],r=t[1];l[180+e]=function(t,e){return s.Math.round(e-t)}(n,r)})),u.track(e,r,l),[2]):(r[180]="no-entry",u.track(e,r),[2])}}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.default=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^(Date.now()/1e9%1+r.Math.random())%1*(20^t?16:4):4).toString(16):"-");return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findInArray=void 0;e.findInArray=Array.prototype.find?function(t,e){return Array.prototype.find.call(t,e)}:function(t,e){for(var n=0;n<t.length;n+=1){if(e(t[n]))return t[n]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(1);!function(){try{r.initGlobalApi()}catch(t){o.onError(t)}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.default=function(t){r.navigator.sendBeacon?r.navigator.sendBeacon(t):(new Image).src=t}},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,u=void 0,a=function(t,e){h[o]=t,h[o+1]=e,2===(o+=2)&&(u?u(v):b())},s="undefined"!=typeof window?window:void 0,c=s||{},f=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var h=new Array(1e3);function v(){for(var t=0;t<o;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;o=0}var g,_,y,m,b=void 0;function S(t,e){var n=this,r=new this.constructor(w);void 0===r[O]&&L(r);var o=n._state;if(o){var i=arguments[o-1];a((function(){return j(o,r,i,n._result)}))}else E(n,r,t,e);return r}function T(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(w);return A(e,t),e}l?b=function(){return e.nextTick(v)}:f?(_=0,y=new f(v),m=document.createTextNode(""),y.observe(m,{characterData:!0}),b=function(){m.data=_=++_%2}):p?((g=new MessageChannel).port1.onmessage=v,b=function(){return g.port2.postMessage(0)}):b=void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var O=Math.random().toString(36).substring(2);function w(){}function P(e,n,r){n.constructor===e.constructor&&r===S&&n.constructor.resolve===T?function(t,e){1===e._state?I(t,e._result):2===e._state?W(t,e._result):E(e,void 0,(function(e){return A(t,e)}),(function(e){return W(t,e)}))}(e,n):void 0===r?I(e,n):t(r)?function(t,e,n){a((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?A(t,n):I(t,n))}),(function(e){r||(r=!0,W(t,e))}),t._label);!r&&o&&(r=!0,W(t,o))}),t)}(e,n,r):I(e,n)}function A(t,e){if(t===e)W(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)I(t,e);else{var n=void 0;try{n=e.then}catch(e){return void W(t,e)}P(t,e,n)}var r,o}function D(t){t._onerror&&t._onerror(t._result),C(t)}function I(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&a(C,t))}function W(t,e){void 0===t._state&&(t._state=2,t._result=e,a(D,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&a(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,u=0;u<e.length;u+=3)r=e[u],o=e[u+n],r?j(n,r,o,i):o(i);t._subscribers.length=0}}function j(e,n,r,o){var i=t(r),u=void 0,a=void 0,s=!0;if(i){try{u=r(o)}catch(t){s=!1,a=t}if(n===u)return void W(n,new TypeError("A promises callback cannot return that same promise."))}else u=o;void 0!==n._state||(i&&s?A(n,u):!1===s?W(n,a):1===e?I(n,u):2===e&&W(n,u))}var N=0;function L(t){t[O]=N++,t._state=void 0,t._result=void 0,t._subscribers=[]}var V=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(w),this.promise[O]||L(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&I(this.promise,this._result))):W(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===T){var o=void 0,i=void 0,u=!1;try{o=t.then}catch(t){u=!0,i=t}if(o===S&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===x){var a=new n(w);u?W(a,i):P(a,t,o),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===t?W(r,n):this._result[e]=n),0===this._remaining&&I(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),x=function(){function e(t){this[O]=N++,this._result=this._state=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){A(t,e)}),(function(e){W(t,e)}))}catch(e){W(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return x.prototype.then=S,x.all=function(t){return new V(this,t).promise},x.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},x.resolve=T,x.reject=function(t){var e=new this(w);return W(e,t),e},x._setScheduler=function(t){u=t},x._setAsap=function(t){a=t},x._asap=a,x.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=x},x.Promise=x,x},t.exports=r()}).call(this,n(12),n(13))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=a(p);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||f||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.default=function(){return r.Math.floor(1e12*r.Math.random())}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.setSignalsTargeting=e.setGptTargetingKV=e.getSlotSizes=void 0;var i=n(2),u=n(6),a=n(3),s=n(5),c=n(1),f=n(16),l=n(0),p=n(4),d=n(17),h={},v=function(){return l.WINDOW.googletag=l.WINDOW.googletag||{},l.WINDOW.googletag.cmd=l.WINDOW.googletag.cmd||[],l.WINDOW.googletag};e.getSlotSizes=function(t){for(var e=[],n=0,r=t.getSizes();n<r.length;n++){var o=r[n],i="string"==typeof o?o:o.getWidth()+"x"+o.getHeight();e.push(i)}return e};var g=function(t){return t.length>0?t.sort().join(","):"all"},_=function(t,e,n){return n.indexOf(t)===e},y=function(t){void 0===t&&(t=[]);for(var n=[],r=0,o=t;r<o.length;r++){var i=o[r],u=i.getAdUnitPath(),a=e.getSlotSizes(i),s=g(a),c=m(u,s);n.push(c)}return n.filter(_).join("&")},m=function(t,e){return"adunits["+t+"][]="+e};e.setGptTargetingKV=function(t,e){var n=v();n.cmd.push((function(){n.pubads().setTargeting(t,e)}))};var b=function(t,e){T(t,e,a.VLP)},S=function(t,e){T(t,e,a.TVP)},T=function(t,n,r){for(var o=0,i=n;o<i.length;o++){var u=i[o],a=u.getAdUnitPath();if(t&&t[a]){var s=e.getSlotSizes(u),c=g(s),f=t[a][c];null!=f&&u.setTargeting(r,f)}}};e.setSignalsTargeting=function(t){var e=v();e.cmd.push((function(){a.ALL_SIGNALS.forEach((function(n){var r=t[n];if(void 0!==r)switch(n){case a.IDS:case a.BSC:e.pubads().setTargeting(n,"number"==typeof r?""+r:r);break;case a.VLP:b(r,e.pubads().getSlots());break;case a.TVP:S(r,e.pubads().getSlots())}}))}))};var O=function(t){var e=i.DV_DATA_OBJECT.url+"?ctx="+i.DV_DATA_OBJECT.ctx+"&cmp="+i.DV_DATA_OBJECT.cmp;return t&&(e=e+"&signals="+t.join(",")),e};e.default={PTS:h,getTargeting:function(t,e){return void 0===e&&(e=f.emptyCallback),r(void 0,void 0,void 0,(function(){var n,r,f,l,v,g,y,b,S,T,w,P,A;return o(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,3,,4]),n=t.signals,r=t.adUnits,!n)throw new Error("No signals are specified");for(f=[],l={},v=0,g=n;v<g.length;v++)y=g[v],b=y.toUpperCase(),a.GLOBAL_SIGNALS.indexOf(b.toUpperCase())>-1&&Object.prototype.hasOwnProperty.call(h,b)?l[b]=h[b]:f.push(y);return f.length>0?(S=O(f),r&&(T=function(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n],i=m(o.adUnitPath,o.sizes);e.push(i)}return e.filter(_).join("&")}(r))&&(S=S+"&"+T),[4,d.sendRequest(S)]):[3,2];case 1:w=o.sent(),i.DV_DATA_OBJECT.gptInsert=w.gptInsert,f.forEach((function(t){var e=t.toUpperCase(),n=w[e];void 0!==n&&(l[e]=n)})),s.setSignalsData(w),P=p.getExecTime(),setTimeout((function(){u.reportPerformance(S,"get-targeting",P)}),0),o.label=2;case 2:return e(void 0,l),[3,4];case 3:return A=o.sent(),e(A),c.onError(A),[3,4];case 4:return[2]}}))}))},loadSignals:function(t,n){return void 0===n&&(n=f.emptyCallback),r(void 0,void 0,void 0,(function(){var r,f,l,g,_,m,b;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),r=t.filter((function(t){return!Object.prototype.hasOwnProperty.call(h,t.toUpperCase())})),f=O(r),r.some((function(t){return a.SLOT_SIGNALS.indexOf(t.toUpperCase())>-1}))?[4,(S=v(),new Promise((function(t){S.cmd.push((function(){var e=S.pubads().getSlots();t(e)}))})))]:[3,2];case 1:l=o.sent(),(g=y(l))&&(f=f+"&"+g),o.label=2;case 2:return[4,d.sendRequest(f)];case 3:return _=o.sent(),i.DV_DATA_OBJECT.gptInsert=_.gptInsert,s.setSignalsData(_),_.gptInsert&&e.setSignalsTargeting(_),m=p.getExecTime(),n(),setTimeout((function(){u.reportPerformance(f,"load-signals",m)}),0),[3,5];case 4:return b=o.sent(),n(b),c.onError(b),[3,5];case 5:return[2]}var S}))}))},loadSignalsForSlots:function(t,n,l){return void 0===l&&(l=f.emptyCallback),r(void 0,void 0,void 0,(function(){var r,f,h,v,g,_,m,T,w,P,A,D;return o(this,(function(o){switch(o.label){case 0:r=Array.isArray(n)?n:a.SLOT_SIGNALS,f="function"==typeof n?n:l,o.label=1;case 1:return o.trys.push([1,3,,4]),h=i.DV_DATA_OBJECT.gptInsert,v=s.processNewSlots(t),g=v.newSlots,_=v.existingSlots,h&&(b(s.getSignalData(a.VLP),_),S(s.getSignalData(a.TVP),_)),0===g.length?(f(),[2]):(m=r.filter((function(t){return!Object.prototype.hasOwnProperty.call(i.DV_DATA_OBJECT,t.toUpperCase())})),T=O(m),(w=y(g))&&(T=T+"&"+w),[4,d.sendRequest(T)]);case 2:return P=o.sent(),s.setSignalsData(P),P.gptInsert&&e.setSignalsTargeting(P),A=p.getExecTime(),f(),setTimeout((function(){u.reportPerformance(T,"load-signals-slots",A)}),0),[3,4];case 3:return D=o.sent(),f(D),c.onError(D),[3,4];case 4:return[2]}}))}))},cmd:{push:function(t){t()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.emptyCallback=void 0,e.emptyCallback=function(t,e){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendRequest=void 0;var r=n(0);e.sendRequest=r.WINDOW.fetch?function(t){var e=r.WINDOW.fetch;return new Promise((function(n,r){e(t,{referrerPolicy:"no-referrer-when-downgrade"}).then((function(t){200!==t.status?t.json().then((function(t){r(t)})):t.json().then((function(t){n(t)}))}))}))}:function(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.onload=function(){var t=JSON.parse(r.responseText);e(t)},r.onerror=function(){n()},r.open("GET",t,!0),r.send()}))}}]);
//# sourceMappingURL=pagetag.js.map