(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[93],{f728:function(e,t,o){"use strict";o.r(t),o.d(t,"TopBoxOffice",(function(){return _}));var i=o("ERkP"),n=o("j/s1"),a=o("UnfE"),r=o("2gxx"),l=o("ob7U"),c=o("cxan"),d=o("WFZG"),f=o("laiz"),s=i.createElement,p=n.default.a.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeTitlePageLink",componentId:"dujkoe-0"})(["text-decoration:none;display:block;width:80%;",";",";white-space:nowrap;overflow:hidden;padding-left:",";"],Object(a.setTypographyType)("body"),Object(a.setPropertyToColorVar)("color","ipt-on-baseAlt-color"),a.spacing.s),u=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeTitleName",componentId:"dujkoe-1"})(["overflow:hidden;text-overflow:ellipsis;"]),m=Object(n.default)(d.WatchlistRibbon).withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeWatchlistRibbon",componentId:"dujkoe-2"})(["flex-shrink:0;"]),h=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeTitle",componentId:"dujkoe-3"})(["display:flex;padding:"," ",";&:hover{opacity:0.8;}","{width:50%;}&.boxOfficeTitle:nth-of-type(even){background:linear-gradient( to right,rgba('ipt-on-baseAlt-color',0),rgba('ipt-on-baseAlt-color',0.06) );background:linear-gradient( to right,rgba(var(--ipt-on-baseAlt-rgb),0),rgba(var(--ipt-on-baseAlt-rgb),0.06) );}"],a.spacing.s,a.spacing.m,a.mediaQueries.breakpoints.above.s),b=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeRank",componentId:"dujkoe-4"})(["margin-top:auto;margin-bottom:auto;"]),g=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeGrossAmount",componentId:"dujkoe-5"})(["",";",";line-height:1.5em;"],Object(a.setTypographyType)("overline"),Object(a.setPropertyToColorVar)("color","ipt-on-baseAlt-textSecondary-color")),k=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeLine",componentId:"dujkoe-6"})(["border-right:1px solid;",";height:18px;margin-right:",";margin-left:",";margin-top:auto;margin-bottom:auto;display:inline-block;"],Object(a.setPropertyToColorVar)("color","ipt-on-baseAlt-accent1-color"),a.spacing.s,a.spacing.xs),x=function(e){var t=e.rankNumber,o=e.title,i=e.titleId,n=e.titlePageLink,a=e.weekendGrossAmount,r=e.showtimesLink,l={pageType:"home",subPageType:"main",refTag:"hm_cht_wl_rbn_"+t};return s(h,{className:"boxOfficeTitle"},s(b,null,t),s(k,null),s(f.WatchlistConsumer,{id:i,metricsContext:l,render:function(e){return s(m,Object(c.a)({size:"m",ariaLabel:"add to watchlist"},e))}}),s(p,{href:n,className:"boxOfficeTitleLink"},s(u,null,o),s(g,null,a)),r&&s(d.IconLink,{className:"boxOffice-showtimes-link",name:"ticket",href:r,label:o+"showtimes link",onColor:"accent2"}))},w=o("WRJv"),O=o("yVh0"),y=function(e,t){var o,i;if(e&&e.title&&e.weekendGross){var n,a,r=e.title,l=e.weekendGross,c=(null===(o=r.titleText)||void 0===o?void 0:o.text)||"",d=r.id,f=(n=l.total.amount,a=l.total.currency,Object(w.a)(n,{style:"currency",currency:a,notation:"compact",compactDisplay:"short",currencyDisplay:"symbol"})),s="ref_=hm_cht_".concat(t),p="/title/".concat(d,"/?").concat(s);return{rankNumber:t,titleName:c,titleId:d,titlePageLink:p,weekendGrossAmount:f,showtimesLink:(null===(i=r.cinemas)||void 0===i?void 0:i.total)?"/showtimes".concat(p):void 0}}},T=i.createElement,v=function(e){var t,o,i=e.data,n=[];return(null===i||void 0===i||null===(t=i.boxOfficeWeekendChart)||void 0===t?void 0:t.weekendStartDate)&&(null===i||void 0===i||null===(o=i.boxOfficeWeekendChart)||void 0===o?void 0:o.weekendEndDate)&&(n.push(new Date(i.boxOfficeWeekendChart.weekendStartDate)),n.push(new Date(i.boxOfficeWeekendChart.weekendEndDate))),function(e){if(e[0]&&e[1]){var t=new Date(e[0].getUTCFullYear(),e[0].getUTCMonth(),e[0].getUTCDate()),o=new Date(e[1].getUTCFullYear(),e[1].getUTCMonth(),e[1].getUTCDate()),i=Object(O.a)(),n=i.formatDate(t,{day:"numeric",month:"long"});return t.getMonth()===o.getMonth()?n+"-"+o.getDate():n+"-"+i.formatDate(o,{day:"numeric",month:"long"})}}(n)},_=function(e){var t,o=e.data,i=(t=o)?(((null===t||void 0===t?void 0:t.boxOfficeWeekendChart)?t.boxOfficeWeekendChart.entries?t.boxOfficeWeekendChart.entries:[]:void 0)||[]).map((function(e,t){return y(e,t+1)})).filter((function(e){return void 0!==e})).map((function(e){return e})):[],n=v({data:o}),a=Object(r.a)({id:"topBoxOffice_header_top_us",defaultMessage:"Top box office (US)"}),c=Object(r.a)({id:"topBoxOffice_header_description_date",defaultMessage:"Weekend of {dateRange}"},{dateRange:n}),d=Object(l.b)({id:"top-box-office",height:"other",title:a,description:c,link:"/chart/boxoffice/?ref_=hm_cht_sm",shouldRender:function(){return i.length>4}},e),f=i.map((function(e,t){return T(x,{key:t,rankNumber:e.rankNumber,title:e.titleName,titleId:e.titleId,titlePageLink:e.titlePageLink,weekendGrossAmount:e.weekendGrossAmount,showtimesLink:e.showtimesLink})}));return T(l.a,d,T(j,{"data-testid":"boxOfficeList"},T(C,null,f)))},C=n.default.div.withConfig({displayName:"TopBoxOffice__TopBoxOfficeList",componentId:"sc-28jxk1-0"})(["list-style:none;display:flex;flex-direction:column;","{display:flex;flex-wrap:wrap;max-height:14rem;width:100%;}"],a.mediaQueries.breakpoints.above.s),j=n.default.div.withConfig({displayName:"TopBoxOffice__IE11Wrapper",componentId:"sc-28jxk1-1"})(["","{display:flex;}"],a.mediaQueries.breakpoints.above.s);t.default=_}}]);