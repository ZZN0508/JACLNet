(window.monolithJsonpFunction=window.monolithJsonpFunction||[]).push([["fb609377"],{5889:function(e,t){(function(){void 0,function(e){"use strict";var t=function(t,a){var s,o,l=/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,i={},r=["qwertyuiop[]asdfghjkl;'zxcvbnm,.","Р№С†СѓРєРµРЅРіС€С‰Р·С…СЉС„С‹РІР°РїСЂРѕР»РґР¶СЌСЏС‡СЃРјРёС‚СЊР±СЋ"],c=[9,13,16,17,18,27,37,38,39,40,91,93],u=!1,g="",d=null,f=!1,h=e("<ul />"),v=t.clone(),m=null,p=a.isDisabled,C=t.val();function y(){b(),d=null,u=!1,s&&(e(s).removeClass(a.itemSelectedClass),s=null),h.fadeOut(200)}function S(){if(u){var e=t.offset(),a=e.left;h.css({left:a,top:e.top+t.outerHeight()})}}function x(){var e=t.outerWidth();h.css("width",a.autoWidth?"auto":e).fadeIn(100),u=!0,a.realign&&S()}function w(){var e,a,n;if(u&&h.children().length>0){var s=h.children().first();if(s.data("isDefault"))return void b();n=s.data("value");var o=t.val(),l=n.toLowerCase().indexOf(o.toLowerCase());if(l<0||l>0&&/\w/.test(n[l-1]))return void b();l+=o.length,(e=n.substring(l).split(" "))&&e.length>0?(a=(o+(e=e[0].replace(/[В«В»\"]/g,""))).trim(),v.val().trim()!==a&&v.val(o+e)):b()}else b()}function b(){v.val("")}function T(n,o){if(n.length){if(s&&e(s).removeClass(a.itemSelectedClass),s=n.get(0),n.addClass(a.itemSelectedClass),!o){d||(d=t.val()),"function"==typeof a.onSelectByNavigation?a.onSelectByNavigation(n):t.val(n.data("value")),b();var l=h.outerHeight(),i=h.scrollTop(),r=n.outerHeight(!0),c=s.offsetTop,u=r-(i+l-c);u>0?h.scrollTop(i+r*Math.ceil(u/r)):c<i&&h.scrollTop(i-r*Math.ceil((i-c)/r))}}else s&&(e(s).removeClass(a.itemSelectedClass),s=null),!o&&d&&(t.val(d),d=null,w())}function k(e,t){if("string"==typeof e)return e;switch(t){case"html":return e.content;case"text":return e.data.value||e.content;default:return""}}function D(t){var n;s=null,d=null,"function"==typeof a.modifyResponse&&(t=a.modifyResponse(t)),o=t,h.html(""),t&&t.length?(n=g.trim().split(" ").sort((function(e,t){return t.length-e.length})),e.each(t,(function(t,s){var o,c,u,g,d,f,v,m,p=k(s,"html"),C=p;if(!s.data||!s.data.isDefault)for(g=0;g<n.length;++g){if((C=O(p,o=n[g].replace(l,"\\$1")))===p){if(void 0===i[o]){if(u=o.match(/[a-zР°-СЏ]/i)){for(r[0].indexOf(u)>=0?(v=r[0],m=r[1]):(v=r[1],m=r[0]),c="",d=0;d<o.length;++d)c+=(f=v.indexOf(o[d]))>=0?m[f]:o[d];c=c.replace(l,"\\$1")}else c=o;i[o]=c}else c=i[o];C=O(p,c)}p=C}var y=e("<li></li>").addClass(a.itemClass).attr("data-marker","suggest/list/item"+(s.content.indexOf("js-suggest-category")>-1?"-with-category":"")).html(p).appendTo(h).hover((function(){T(e(this),!0)}),(function(){e(this).removeClass(a.itemSelectedClass)}));s.data&&y.data(s.data),s.content.indexOf("suggestItemElement")>-1&&y.attr("style","border-bottom: solid 1px #D6D6D6;"),s.data&&s.data.value||y.data("value",y.text())})),x(),w()):y(),h.scrollTop(0)}function L(s){var o=n(s||t.val(),a.charsAllowed),l=o.length;if(l<a.minLength||l>a.maxLength)return u&&y(),void(g=o);if(!(o===g&&l>0))if(f&&g.length!==a.minLength&&g&&o.length>g.length&&o.substring(0,g.length)===g)u&&y();else{g=o;var i=a.getParams(),r=i?e.param(i)+"_":"",c={};c[a.queryKeyName||"q"]=o;var d=function(n){var s;t.addClass(a.loaderClass),e(a.containerSelector).addClass(a.containerLoaderClass),e.extend(c,i),a.modifyRequest&&(s=a.modifyRequest(c)),e.ajax({dataType:"json",url:a.url,data:a.stringifyData?JSON.stringify(s||c):s||c,method:a.requestMethod}).always((function(){t.removeClass(a.loaderClass),e(a.containerSelector).removeClass(a.containerLoaderClass)})).done((function(e){n(e),function(e,t,n){var s,o,l,i,r,c=e.length,u="";if(n&&n.length>0){var g=k((r="function"==typeof a.modifyResponse?a.modifyResponse(n):n)[0],"text").toLowerCase();if(g.length>c&&(i=g.indexOf(e))>=0)for(s=r.length,o=c+1;o<g.length+1;++o)if((u=g.substring(i,i+o)).trim()!==e){if(1!==s)for(l=1;l<s;++l)if(k(r[l],"text").toLowerCase().indexOf(u)<0)return;avito.cache.set("s_"+a.cachePrefix+t+u,n)}}}(o,r,e)})).fail((function(){f=!0,D(null)}))},h=function(t){f=e.isEmptyObject(t),D(t)};a.useCache?avito.cache.get("s_"+a.cachePrefix+r+o,h,d,a.cacheTime):d(h)}}function O(e,t){return t.length>0?e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),'<span class="form-suggest-match">$1</span>'):e}v.removeClass().removeAttr("name").removeAttr("placeholder").removeAttr("data-marker").prop("tabindex",-1).css({position:"absolute"}).prop("autocomplete","off").prop({id:t.attr("id")+"_greyed"}).addClass(a.greyInputClass).val("").prependTo(t.parent()),t.addClass(a.suggestInputClass).attr("autocomplete","off"),h.addClass(a.suggestClass).attr("data-marker","suggest/list").each((function(e,t){t.style.display="none"})).appendTo(a.listContainer),t.on("keydown.suggest",(function(n){var l,i;if(!p)switch(n.keyCode){case 27:u&&(n.preventDefault(),y(),d&&(t.val(d),d=null));break;case 38:u&&(n.preventDefault(),s?e(s).prev().length>0?T(e(s).prev()):T():T(h.children().last()));break;case 40:u&&(n.preventDefault(),s?e(s).next().length>0?T(e(s).next()):T():T(h.children().first()));break;case 9:if(u&&t.val().length===t.getSelectionStart()&&t.getSelectionStart()===t.getSelectionEnd()){n.preventDefault();var r=t.val(),c=v.val();if(""===c&&(c=r),r===c){if(!s){var f=h.children().first();if(!f.data("isDefault")){var m=f.data("value");t.val(m),t.trigger("set-suggest-data",{suggestListCached:o,current:m}),w(),L(),"function"==typeof a.onChosenWithTab&&a.onChosenWithTab(f,m)}}}else t.val(c+" "),L()}break;case 13:if(s){var C=e(s);"function"==typeof a.onSelect?a.onSelect(C,t,n):t.val(C.data("value")),t.trigger("set-suggest-data",{suggestListCached:o,current:C.data("value")}),g=t.val(),u&&(n.preventDefault(),y())}else y();break;case 46:case 8:t.trigger("set-suggest-data",{suggestListCached:o,current:null}),l=t.val().substring(t.getSelectionStart(),t.getSelectionEnd()),i=t.val(),0===l.localeCompare(i)&&b()}})),t.on("input.suggest",(function(e){if(!p){var s=t.val();C!==s&&(C=s,8!==e.keyCode&&e.keyCode||(f=!1),-1===c.indexOf(e.keyCode)&&(a.inputDelay?(v.val().includes(n(s,a.charsAllowed))?b():w(),m&&clearTimeout(m),m=setTimeout((function(){L(),m=null}),a.inputDelay)):L()))}})),t.on("toggle.suggest",(function(e,t){p=!t})),t.on("reset.suggest",(function(){g=""})),t.on("focus",(function(){p||a.showOnFocus&&setTimeout((function(){L(),x(),a.onFocus&&"function"==typeof a.onFocus&&a.onFocus()}))})),e(document).on("click.suggest",(function(n){if(!p){if(n.target){if(n.target===t.get(0))return;var s=e(n.target);s.hasClass(a.itemClass)||(s=s.closest("."+a.itemClass)),s.hasClass(a.itemClass)&&s.closest(h).length?("function"==typeof a.onSelect?(a.onSelect(s,t),t.trigger("set-suggest-data",{suggestListCached:o,current:s.data("value")})):(t.val(s.data("value")),t.trigger("set-suggest-data",{suggestListCached:o,current:s.data("value")})),g=t.val()):"function"==typeof a.onHideWithoutSelect&&a.onHideWithoutSelect()}y()}})),a.realign&&e(window).on("resize.suggest",S)};function a(e){var t,a,n,s=e.jquery?e.get(0):e;return s.selectionStart&&s.selectionEnd?{start:s.selectionStart,end:s.selectionEnd}:document.selection?(s.focus(),(t=document.selection.createRange())?(n=(a=s.createTextRange()).duplicate(),a.moveToBookmark(t.getBookmark()),n.setEndPoint("EndToStart",a),{start:n.text.length,end:n.text.length+t.text.length}):0):null}function n(e,t){return e.toLowerCase().replace(new RegExp("[^"+t+"]+","g"),"").replace(/(\040|\t)+/g," ")}e.fn.extend({getSelectionStart:function(){var e=a(this);if(e)return e.start},getSelectionEnd:function(){var e=a(this);if(e)return e.end},autocomplete:function(a){return this.each((function(){var n=e(this);n.data("autocomplete")||(a=Object.assign({inputDelay:0,url:null,requestMethod:"GET",stringifyData:!1,getParams:function(){return!1},minLength:2,maxLength:32,charsAllowed:"a-zР°-СЏС‘0-9 \\[\\{\\]\\};:'\",<\\.>\\-",cachePrefix:"",realign:!0,isDisabled:!1,suggestClass:"suggest",suggestInputClass:"suggest_search",loaderClass:"loads is-loading",containerLoaderClass:"",containerSelector:null,listContainer:"body",itemClass:"suggest_item",itemSelectedClass:"selected",autoWidth:!1,showOnFocus:!1,cacheTime:1800,useCache:!0},a)),n.data("autocomplete",new t(n,a))}))}})}($)}).call(window)}}]);