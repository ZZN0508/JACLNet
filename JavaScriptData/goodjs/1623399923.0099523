!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CAAS_AOLCOM",[],t):"object"==typeof exports?exports.CAAS_AOLCOM=t():e.CAAS_AOLCOM=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="http://172.17.0.2:8080/public/assets/",n(n.s=612)}({16:function(e,t,n){"use strict";var r={rapidInit:"rapid:init"};e.exports={events:r,rapidReady:function(e){window.rapidInstance?e(window.rapidInstance):document.addEventListener(r.rapidInit,(function(){e(window.rapidInstance)}),{passive:!0,once:!0})}}},612:function(e,t,n){e.exports=n(613)},613:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(614),o=(r=i)&&r.__esModule?r:{default:r};t.default=new o.default({selector:".m-yfinance-markets"})},614:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(16);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=window.wafer.utils.debounce,c=document.querySelector(".m-yfinance-markets").dataset.domain;t.default=function(){function e(t){var n=this,r=t.selector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elems=[].concat(o(document.querySelectorAll(r))),this.elems.length&&window.wafer.ready((function(){n.elems.forEach((function(e){return n.init(e)})),window.addEventListener("resize",a(n.resizeAndInitializeCarousel,200,n)),n.resizeAndInitializeCarousel()}))}return r(e,[{key:"init",value:function(e){var t=this,n=e.querySelector(".market-form-wrapper form"),r=e.querySelector(".search-wrapper"),i=e.querySelector(".close-wrapper");wafer.base.addObserver("yFinanceAutoComplete",(function(){var e=wafer.base.state.yFinanceAutoComplete;t.emitRapidBeacon(e,"srch-asst",n),t.dispatchSubmit(null,n)})),c&&this.removeTabs(),n&&(n.addEventListener("keydown",(function(e){var r=e.keyCode,i=n.p.value;13===r&&t.emitRapidBeacon(i,"kybrd",n)})),n.addEventListener("submit",(function(e){e.preventDefault(),e.stopPropagation(),t.submitHandler(e)})),r.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.dispatchSubmit(e,n)})),i.addEventListener("click",(function(e){t.resetFormHandler(e,n)})))}},{key:"removeTabs",value:function(){document.querySelectorAll(".market-form-wrapper form, .tabs, .my-portfolio").forEach((function(e){return e.parentNode.removeChild(e)}))}},{key:"emitRapidBeacon",value:function(e,t,n){(0,i.rapidReady)((function(r){var i=n&&n.p&&n.p.dataset.rapid_p;r.beaconClick("releases",e,i,{subsec:"yfinance_markets",itc:1,elmt:t,elm:"search"},"Interaction")}))}},{key:"resizeAndInitializeCarousel",value:function(e){var t=this;window.innerWidth>900?this.elems.forEach((function(e){e.classList.contains("indices")&&t.disableScrollView(e)})):this.elems.forEach((function(e){e.classList.contains("indices")&&t.enableScrollView(e)}))}},{key:"enableScrollView",value:function(e){this.showBtns(e),this.showDetailsInline(e),[].concat(o(e.querySelectorAll(".details .tab"))).forEach((function(e){e.classList.contains("wafer-scrollview")||e.classList.add("wafer-scrollview")})),window.wafer.base.sync(document.body)}},{key:"disableScrollView",value:function(e){this.hideBtns(e),this.showDetailsBlock(e),[].concat(o(e.querySelectorAll(".details .tab"))).forEach((function(e){var t=e.querySelector(".slides");t.removeAttribute("style"),[].concat(o(t.querySelectorAll(".inner-tab"))).forEach((function(e){e.removeAttribute("style")})),window.wafer.base.destroy(e)}))}},{key:"showBtns",value:function(e){[].concat(o(e.querySelectorAll(".prev-btn, .next-btn"))).forEach((function(e){e.classList.contains("btn--hidden")&&e.classList.remove("btn--hidden")}))}},{key:"hideBtns",value:function(e){[].concat(o(e.querySelectorAll(".prev-btn, .next-btn"))).forEach((function(e){e.classList.contains("btn--hidden")||e.classList.add("btn--hidden")}))}},{key:"showDetailsInline",value:function(e){[].concat(o(e.querySelectorAll(".slides"))).forEach((function(e){e.classList.contains("slides--inline")||e.classList.add("slides--inline")}))}},{key:"showDetailsBlock",value:function(e){[].concat(o(e.querySelectorAll(".slides"))).forEach((function(e){e.classList.contains("slides--inline")&&e.classList.remove("slides--inline")}))}},{key:"resetFormHandler",value:function(e,t){e.preventDefault(),t.reset()}},{key:"submitHandler",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target,n=t.p.value,r=""+t.action+n+"?p="+n,i=window.open();i.opener=null,i.document.location.replace(r)}},{key:"dispatchSubmit",value:function(e,t){var n=document.createEvent("HTMLEvents");n.initEvent("submit",!0,!0),t.dispatchEvent(n)}}]),e}()}})}));
//# sourceMappingURL=y_finance_markets.js.map