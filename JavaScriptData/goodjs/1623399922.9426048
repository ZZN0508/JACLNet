!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CAAS_AOLCOM",[],t):"object"==typeof exports?exports.CAAS_AOLCOM=t():e.CAAS_AOLCOM=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="http://172.17.0.2:8080/public/assets/",n(n.s=497)}({16:function(e,t,n){"use strict";var r={rapidInit:"rapid:init"};e.exports={events:r,rapidReady:function(e){window.rapidInstance?e(window.rapidInstance):document.addEventListener(r.rapidInit,(function(){e(window.rapidInstance)}),{passive:!0,once:!0})}}},497:function(e,t,n){e.exports=n(498)},498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(499),o=(r=i)&&r.__esModule?r:{default:r};t.default=new o.default({selector:".m-news"})},499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(500),a=(r=o)&&r.__esModule?r:{default:r},s=n(16);var u="/nex/modules/news/v1/?m_mode=json&isXHR=true";t.default=function(){function e(t){var n=t.selector;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elems=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(document.querySelectorAll(n))),this.elems.length){this.utils=window.NEXUtils||{},this.defer=!1;for(var r=0;r<this.elems.length;r++){var i=this.elems[r].dataset,o=i.defer,a=i.initialWoeid,s=i.initialZip,u=i.readmoreUrl,l=i.channel;if(void 0!==o&&(a||s)){this.defer=!0,this.woeid=a,this.zip=s,this.readMoreUrl=u,this.channel=l;break}}this.init()}}return i(e,[{key:"init",value:function(){var e=this;if(this.addEventListeners(),this.defer){var t={detail:{woeid:this.woeid,zip:this.zip}};"internet explorer"===this.utils.getBrowser(window.navigator.userAgent)?this.utils.docIsReady((function(){e.fetchNews(t)})):this.fetchNews(t)}}},{key:"addEventListeners",value:function(){var e=this;document.addEventListener("sync:news",(function(t){e.fetchNews(t)}))}},{key:"updateNews",value:function(e){var t=this,n=e.articles,r=void 0===n?[]:n,i=this.readMoreUrl,o=(0,a.default)(r,i);this.elems.forEach((function(e){e.innerHTML="",e.appendChild(o);var n=e.dataset.containerId,r=void 0===n?"":n;t.refreshRapid(r)}))}},{key:"refreshRapid",value:function(e){(0,s.rapidReady)((function(t){t.isModuleTracked(e)&&t.refreshModule(e)}))}},{key:"fetchNews",value:function(e){var t=this,n=e.detail,r=void 0===n?{}:n,i=this.channel?u+"&channel="+this.channel:u,o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};fetch(i,o).then((function(e){return e.json()})).then((function(e){var n=e.data,r=(void 0===n?{}:n).response,i=void 0===r?{}:r;t.updateNews(i)})).catch((function(e){return console.error(e)}))}}]),e}()},5:function(e,t,n){"use strict";var r=["img","link","meta"],i=["svg","path","circle","rect","polygon","defs","linearGradient","stop","ellipse","text"],o=function(e,t){for(var n=!1,r=0;r<e.length;r+=1)if(e[r]===t){n=!0;break}return n},a=function(e){return null!==e},s=function(e){return e instanceof Node?e:"string"==typeof e||"number"==typeof e?document.createTextNode(e):null},u=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),u=2;u<n;u++)r[u-2]=arguments[u];if("function"==typeof e)return e();if("string"!=typeof e)return null;var l=document.createDocumentFragment(),c=o(i,e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);r.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return a(e)&&l.appendChild(s(e))})):a(e)&&l.appendChild(s(e))})),c.appendChild(l);var f=t||{};return Object.keys(f).forEach((function(e){var t="className"===e?"class":e;c.setAttribute(t,f[e])})),c},l=function(e){var t="";return e.forEach((function(e){Array.isArray(e)?e.forEach((function(e){a(e)&&(t+=e)})):a(e)&&(t+=e)})),t},c=function(e){for(var t=arguments.length,n=Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a||{},u=Object.keys(s).map((function(e){return("className"===e?"class":e)+'="'+s[e]+'"'})).join(" ");return o(r,e)?"<"+e+" "+u+" />":"<"+e+" "+u+">"+l(n)+"</"+e+">"};e.exports=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"undefined"!=typeof window?u.apply(void 0,[e,t].concat(r)):c.apply(void 0,[e,t].concat(r))}},500:function(e,t,n){"use strict";var r=n(5);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.length>0?e.map((function(e){var t=e.id,n=e.link,i=e.title;return r("li",{className:"m-news__list--item"},r("a",{className:"m-news__list--link",href:n,target:"_blank","data-ylk":"elm:hdln;g:"+t},i))})):r("li",{className:"m-news__list--nonews"},"No local news available"),i="/"+t;return r("div",{className:"m-news__inner"},r("ul",{className:"m-news__list"},n),e.length>1?r("a",{className:"m-news__list--readmore",href:i,"data-ylk":"itc:0;slk:Read More;elm:readmore"},"Read more >"):null)}}})}));
//# sourceMappingURL=news.js.map