"use strict";Array.from||(Array.from=function(){var f=Object.prototype.toString,a=function(a){return"function"==typeof a||"[object Function]"===f.call(a)},g=function(c){var a=+c;return isNaN(a)?0:0!=a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},b=Math.pow(2,53)-1,k=function(c){var a=g(c);return Math.min(Math.max(a,0),9007199254740991)};return function(b){var e=this,c=Object(b);if(null==b)throw new TypeError("Array.from requires an array-like object - not null or undefined");var d,m=1<arguments.length?arguments[1]:void 0;if("undefined"!=typeof m){if(!a(m))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(d=arguments[2])}for(var g,n=k(c.length),i=a(e)?Object(new e(n)):Array(n),j=0;j<n;)g=c[j],i[j]=m?"undefined"==typeof d?m(g,j):m.call(d,g,j):g,j+=1;return i.length=n,i}}()),function(a){function b(){var a=new t("controller");a.style={top:"18px",left:"auto",right:"12px",width:"auto",height:"20px",color:"#abaeb7",overflow:"hidden",zIndex:9999},G.addChild(a),C=new t("controlNext"),D=new t("controlPrev"),D.style=C.style={position:"relative",cursor:"pointer",width:"20px",height:"19px",marginLeft:"2px",border:"1px solid #abaeb7",boxSizing:"border-box",float:"right"},C.style={transform:"scaleX(-1)"},a.addChild(C),a.addChild(D),G.addEventListener("mouseenter",ca.controlEnter),G.addEventListener("mouseleave",ca.controlLeave);var b=new w("controlNextIcon","<?xml version=\"1.0\" encoding=\"utf-8\"?><svg version=\"1.1\" id=\"sailormoon\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"100%\" height=\"100%\" viewBox=\"0 0 36 36\" style=\"enable-background:new 0 0 36 36;\" xml:space=\"preserve\"><style type=\"text/css\">.cls-1{fill:#abaeb7;}</style><g><path class=\"cls-1\" d=\"M14.7 3.58 21.63 3.58 13.38 15.42 21.17 27.27 14.35 27.27 6.51 15.35 14.7 3.58Z\"/></g></svg>"),c=new w("controlPrevIcon","<?xml version=\"1.0\" encoding=\"utf-8\"?><svg version=\"1.1\" id=\"sailormoon\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"100%\" height=\"100%\" viewBox=\"0 0 36 36\" style=\"enable-background:new 0 0 36 36;\" xml:space=\"preserve\"><style type=\"text/css\">.cls-1{fill:#abaeb7;}</style><g><path class=\"cls-1\" d=\"M14.7 3.58 21.63 3.58 13.38 15.42 21.17 27.27 14.35 27.27 6.51 15.35 14.7 3.58Z\"/></g></svg>");C.addChild(b),D.addChild(c),b.scale=c.scale=.45,b.x=c.x=(20-b.div.offsetWidth)/2,b.y=c.y=(19-b.div.offsetHeight)/2,E=new t("numbertextDiv"),E.style={position:"relative",height:"19px",width:"auto",marginLeft:"2px",padding:"3px 4px 0 0",float:"right"},a.addChild(E),E.div.textContent=V+" / "+T}function c(a){d(a)}function d(a){e(H[a].imageurl,a),H[a].imgLoaded=!0}function e(a,b){A("dynamicAdsItems",H);var c=H[b].landingurl,d=H[b].productid,e=H[b].summary;ba.innerHTML+="<li id=\""+d+"\" data-url=\""+c+"\"><div class=\"boxLine\"></div><div id=\"img"+d+"\" class=\"adImg\"></div><div class=\"adText\"><div class=\"title\">"+e.substr(0,33)+"...</div><div class=\"cta\">\u6309\u6B64\u95B1\u8B80\u66F4\u591A></div></div></li>",z("img"+d).style.background="url(\""+$AD.config.Format.directory+"anim_loading_sm.gif\") center center no-repeat";var f=z(d);f.style.height=J+"px",j(d,a)}function f(){for(var a=ba.querySelectorAll("li"),b=G.div.offsetWidth,c=0;c<a.length;c++)a[c].style.width=b+"px";W=b,ba.style.width=b*T+"px",ba.style.marginLeft=-W+"px"}function g(){U=!0===M?setInterval(function(){h("nextAd",!1)},1e3*N):null}function h(a,b){var c="prevAd"==a?W:-W,d="prevAd"==a?"Dynamic Ads Previous Button Clicked":"Dynamic Ads Next Button Clicked";D.removeEventListener("click",ca.controlPrev),C.removeEventListener("click",ca.controlNext),B.innerHTML="@keyframes slideAnimate{from{transform:translateX(0);}to{transform:translateX("+c+"px);}}",ba.style.animation="slideAnimate 0.5s ease-in forwards",b&&$AD.event(d,P),k(),setTimeout(function(){ba.style.animation="","prevAd"==a?(ba.insertBefore(ba.childNodes[T-1].cloneNode(!0),ba.firstChild),ba.removeChild(ba.lastChild),V=1>=V--?T:V):(ba.appendChild(ba.firstChild.cloneNode(!0)),ba.removeChild(ba.firstChild),V=V++>=T?1:V),D.addEventListener("click",ca.controlPrev),C.addEventListener("click",ca.controlNext),E.div.textContent=V+" / "+T,b?l("userClick"):l()},550)}function j(a,b){if(z(a).style.background="none",""!==b&&"null"!==b&&void 0!==b){var c=new Image,d=z(a).querySelectorAll(".adImg");c.onload=function(){z(d[0].id).style.background="url(\""+b+"\") center top / cover no-repeat"},c.src=b,c.onerror=c.onabort=function(){z(a).innerHTML="<p class=\"noPhoto\">No Photo</p>"}}}function k(){for(var a=0;a<T;a++)H[a].imgLoaded||(H[a].imgLoaded=!0,j(H[a].productid,H[a].imageurl))}function l(a){for(var b=ba.querySelectorAll("LI"),c=[],d=0;d<b.length;d++)if(b[d].offsetLeft==W)for(var e,g=b[d].id.replace(S,""),h=R+g,j={firstShow:h+" : First Show",userClick:h+" : User Click"},k=0;k<T;k++)if(e=H[k],1<e.productid.indexOf(g)&&(c.push(e),1!=T&&("userClick"==a&&1==c.length&&$AD.event(j.userClick,Q),!c[0].shown&&0<c.length))){for(var l=0;l<c.length;l++)c[l].shown=!0,c[l].firstshow=!0;""!==c[0].dotpixeltype&&"impression"==c[0].dotpixeltype&&""!==c[0].dotpixel&&F.dotPixel(g,F),$AD.event(j.firstShow,Q)}}function m(){for(var a=0;a<T;a++)c(a);1<T?(b(),g(),D.addEventListener("click",ca.controlPrev),C.addEventListener("click",ca.controlNext)):clearInterval(U),ba.style.height="165px",f(),l(),ba.addEventListener("click",function(a){a.preventDefault();var b=a.target.parentNode;if("LI"===b.tagName){for(var c=b.dataset.url,d=b.id,e=0;e<T;e++)H[e].productid==d&&""!==H[e].dotpixeltype&&"click"==H[e].dotpixeltype&&window.ACT.DotPixel(d);if("undefined"!=typeof c&&!1!==c){var f=F.clickCollection+d.replace(/^adid/,"");$AD.click(f,{overrides:{url:c}})}}})}var n=a[$AD.config.Creative.library.espresso.version],o=n.Align,p=n.Remove,q=n.Border,r=n.Load,s=n.DelivrUtils,t=n.Sprite,u=n.Apply,v=n.Create,w=n.SVG,x=n.EventManager,y=n.UA,i=a.utils,z=i.byId,A=i.logger,B=document.createElement("style");document.head.appendChild(B);var C,D,E,F=a.dynamicAdConfig,G=F.mainDiv,H=F.dynamicAdsItems,I=F.formatWidth,J=F.formatHeight,K=F.hasContents,L=F.hasRandom,M=F.hasAutoplay,N=F.speed,O=F.itemsNum,P=F.userInteraction,Q=F.nonInteraction,R=F.viewCollection,S=/adid_|fake_adid_/,T=Math.min(O,H.length),U=null,V=1,W=null;!0===L&&F.shuffle(H),H.splice(T);var X=Array.from(H);if(A("originalDAIS",X),H.unshift(X[T-1]),H.splice(-1,1),3>T)for(var Y,Z=1;0<=Z;Z--)Y=Object.assign({},X[Z]),Y.productid="fake_"+Y.productid,H.push(Y),T=H.length;var $=new t("headerDiv");$.style={position:"relative",width:"calc(100% - 22px)",height:"20px"},$.div.innerHTML=F.adTitle,G.addChild($);var _=new t("brandBar");_.style={background:"#500095",top:0,left:0,width:"calc(100% + 2px)",height:"2px",zIndex:9999},G.addChild(_);var aa=new t("sliderDiv");aa.style={width:"100%",height:J+"px",zIndex:2},G.addChild(aa);var ba=document.createElement("ul");aa.addChild(ba);var ca={controlNext:function(){h("nextAd",!0)},controlPrev:function(){h("prevAd",!0)},controlEnter:function(){C.div.style.opacity=.8,D.div.style.opacity=.8,clearInterval(U)},controlLeave:function(){C.div.style.opacity=.5,D.div.style.opacity=.5,g()}};window.addEventListener("resize",f),m()}(window.ACT);