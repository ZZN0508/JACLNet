function s(){}function n(t,s){for(const n in s)t[n]=s[n];return t}function e(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,s){return t!=t?s==s:t!==s||t&&"object"==typeof t||"function"==typeof t}function h(t,...n){if(null==t)return s;const e=t.subscribe(...n);return e.unsubscribe?()=>e.unsubscribe():e}function u(t,s,n){t.$$.on_destroy.push(h(s,n))}function l(t,s,n,e){if(t){const i=c(t,s,n,e);return t[0](i)}}function c(t,s,e,i){return t[1]&&i?n(e.ctx.slice(),t[1](i(s))):e.ctx}function f(t,s,n,e,i,o,r){const a=function(t,s,n,e){if(t[2]&&e){const i=t[2](e(n));if(void 0===s.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(s.dirty.length,i.length);for(let e=0;e<n;e+=1)t[e]=s.dirty[e]|i[e];return t}return s.dirty|i}return s.dirty}(s,e,i,o);if(a){const i=c(s,n,e,r);t.p(i,a)}}function p(t){const s={};for(const n in t)"$"!==n[0]&&(s[n]=t[n]);return s}function d(t,s){const n={};s=new Set(s);for(const e in t)s.has(e)||"$"===e[0]||(n[e]=t[e]);return n}function g(t,s){t.appendChild(s)}function m(t,s,n){t.insertBefore(s,n||null)}function v(t){t.parentNode.removeChild(t)}function _(t,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(s)}function b(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function C(){return x("")}function $(t,s,n,e){return t.addEventListener(s,n,e),()=>t.removeEventListener(s,n,e)}function M(t,s,n){null==n?t.removeAttribute(s):t.getAttribute(s)!==n&&t.setAttribute(s,n)}function E(t){return Array.from(t.childNodes)}function j(t,s,n,e){for(let i=0;i<t.length;i+=1){const e=t[i];if(e.nodeName===s){let s=0;const o=[];for(;s<e.attributes.length;){const t=e.attributes[s++];n[t.name]||o.push(t.name)}for(let t=0;t<o.length;t++)e.removeAttribute(o[t]);return t.splice(i,1)[0]}}return e?y(s):b(s)}function A(t,s){for(let n=0;n<t.length;n+=1){const e=t[n];if(3===e.nodeType)return e.data=""+s,t.splice(n,1)[0]}return x(s)}function k(t){return A(t," ")}function F(t,s){s=""+s,t.wholeText!==s&&(t.data=s)}function I(t,s){t.value=null==s?"":s}function q(t,s,n,e){t.style.setProperty(s,n,e?"important":"")}let S,T;function O(t,s){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=b("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const e=function(){if(void 0===S){S=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){S=!0}}return S}();let i;return e?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=$(window,"message",(t=>{t.source===n.contentWindow&&s()}))):(n.src="about:blank",n.onload=()=>{i=$(n.contentWindow,"resize",s)}),g(t,n),()=>{(e||i&&n.contentWindow)&&i(),v(n)}}function N(t,s,n){t.classList[n?"add":"remove"](s)}function R(t,s=document.body){return Array.from(s.querySelectorAll(t))}class P{constructor(t=null){this.a=t,this.e=this.n=null}m(t,s,n=null){this.e||(this.e=b(s.nodeName),this.t=s,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let s=0;s<this.n.length;s+=1)m(this.t,this.n[s],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(v)}}function L(t){T=t}function U(){if(!T)throw new Error("Function called outside component initialization");return T}function V(t){U().$$.on_mount.push(t)}function z(t){U().$$.after_update.push(t)}function B(t){U().$$.on_destroy.push(t)}function D(){const t=U();return(s,n)=>{const e=t.$$.callbacks[s];if(e){const i=function(t,s){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,s),n}(s,n);e.slice().forEach((s=>{s.call(t,i)}))}}}function J(t,s){U().$$.context.set(t,s)}function G(t){return U().$$.context.get(t)}function Z(t,s){const n=t.$$.callbacks[s.type];n&&n.slice().forEach((t=>t(s)))}const H=[],Q=[],W=[],K=[],Y=Promise.resolve();let X=!1;function tt(){X||(X=!0,Y.then(rt))}function st(){return tt(),Y}function nt(t){W.push(t)}function et(t){K.push(t)}let it=!1;const ot=new Set;function rt(){if(!it){it=!0;do{for(let t=0;t<H.length;t+=1){const s=H[t];L(s),at(s.$$)}for(L(null),H.length=0;Q.length;)Q.pop()();for(let t=0;t<W.length;t+=1){const s=W[t];ot.has(s)||(ot.add(s),s())}W.length=0}while(H.length);for(;K.length;)K.pop()();X=!1,it=!1,ot.clear()}}function at(t){if(null!==t.fragment){t.update(),o(t.before_update);const s=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,s),t.after_update.forEach(nt)}}const ht=new Set;let ut;function lt(){ut={r:0,c:[],p:ut}}function ct(){ut.r||o(ut.c),ut=ut.p}function ft(t,s){t&&t.i&&(ht.delete(t),t.i(s))}function pt(t,s,n,e){if(t&&t.o){if(ht.has(t))return;ht.add(t),ut.c.push((()=>{ht.delete(t),e&&(n&&t.d(1),e())})),t.o(s)}}const dt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function gt(t,s){pt(t,1,1,(()=>{s.delete(t.key)}))}function mt(t,s,n,e,i,o,r,a,h,u,l,c){let f=t.length,p=o.length,d=f;const g={};for(;d--;)g[t[d].key]=d;const m=[],v=new Map,_=new Map;for(d=p;d--;){const t=c(i,o,d),a=n(t);let h=r.get(a);h?e&&h.p(t,s):(h=u(a,t),h.c()),v.set(a,m[d]=h),a in g&&_.set(a,Math.abs(d-g[a]))}const b=new Set,y=new Set;function x(t){ft(t,1),t.m(a,l),r.set(t.key,t),l=t.first,p--}for(;f&&p;){const s=m[p-1],n=t[f-1],e=s.key,i=n.key;s===n?(l=s.first,f--,p--):v.has(i)?!r.has(e)||b.has(e)?x(s):y.has(i)?f--:_.get(e)>_.get(i)?(y.add(e),x(s)):(b.add(i),f--):(h(n,r),f--)}for(;f--;){const s=t[f];v.has(s.key)||h(s,r)}for(;p;)x(m[p-1]);return m}function vt(t,s){const n={},e={},i={$$scope:1};let o=t.length;for(;o--;){const r=t[o],a=s[o];if(a){for(const t in r)t in a||(e[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in r)i[t]=1}for(const r in e)r in n||(n[r]=void 0);return n}function _t(t){return"object"==typeof t&&null!==t?t:{}}function bt(t,s,n){const e=t.$$.props[s];void 0!==e&&(t.$$.bound[e]=n,n(t.$$.ctx[e]))}function yt(t){t&&t.c()}function xt(t,s){t&&t.l(s)}function wt(t,s,n,i){const{fragment:a,on_mount:h,on_destroy:u,after_update:l}=t.$$;a&&a.m(s,n),i||nt((()=>{const s=h.map(e).filter(r);u?u.push(...s):o(s),t.$$.on_mount=[]})),l.forEach(nt)}function Ct(t,s){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(s),n.on_destroy=n.fragment=null,n.ctx=[])}function $t(t,n,e,r,a,h,u=[-1]){const l=T;L(t);const c=t.$$={fragment:null,ctx:null,props:h,update:s,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:n.context||[]),callbacks:i(),dirty:u,skip_bound:!1};let f=!1;if(c.ctx=e?e(t,n.props||{},((s,n,...e)=>{const i=e.length?e[0]:n;return c.ctx&&a(c.ctx[s],c.ctx[s]=i)&&(!c.skip_bound&&c.bound[s]&&c.bound[s](i),f&&function(t,s){-1===t.$$.dirty[0]&&(H.push(t),tt(),t.$$.dirty.fill(0)),t.$$.dirty[s/31|0]|=1<<s%31}(t,s)),n})):[],c.update(),f=!0,o(c.before_update),c.fragment=!!r&&r(c.ctx),n.target){if(n.hydrate){const t=E(n.target);c.fragment&&c.fragment.l(t),t.forEach(v)}else c.fragment&&c.fragment.c();n.intro&&ft(t.$$.fragment),wt(t,n.target,n.anchor,n.customElement),rt()}L(l)}class Mt{$destroy(){Ct(this,1),this.$destroy=s}$on(t,s){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const t=n.indexOf(s);-1!==t&&n.splice(t,1)}}$set(t){var s;this.$$set&&(s=t,0!==Object.keys(s).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Et=[];function jt(t,n=s){let e;const i=[];function o(s){if(a(t,s)&&(t=s,e)){const s=!Et.length;for(let n=0;n<i.length;n+=1){const s=i[n];s[1](),Et.push(s,t)}if(s){for(let t=0;t<Et.length;t+=2)Et[t][0](Et[t+1]);Et.length=0}}}return{set:o,update:function(s){o(s(t))},subscribe:function(r,a=s){const h=[r,a];return i.push(h),1===i.length&&(e=n(o)||s),r(t),()=>{const t=i.indexOf(h);-1!==t&&i.splice(t,1),0===i.length&&(e(),e=null)}}}}function At(t,n,e){const i=!Array.isArray(t),a=i?[t]:t,u=n.length<2;return{subscribe:jt(e,(t=>{let e=!1;const l=[];let c=0,f=s;const p=()=>{if(c)return;f();const e=n(i?l[0]:l,t);u?t(e):f=r(e)?e:s},d=a.map(((t,s)=>h(t,(t=>{l[s]=t,c&=~(1<<s),e&&p()}),(()=>{c|=1<<s}))));return e=!0,p(),function(){o(d),f()}})).subscribe}}function kt(t,s,n){return t<s?s:t>n?n:t}function Ft(t,s){var n=t[0],e=s[0],i=(s[1]-e)/(t[1]-n);return Object.assign((function(t){return e+(t-n)*i}),{inverse:function(){return Ft(s,t)}})}function It(t){var s=String(t).split(".");return s[0]=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),s.join(".")}const qt=Math.PI,St=2*qt,Tt=St-1e-6;function Ot(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Nt(){return new Ot}function Rt(t){return function(){return t}}function Pt(t){this._context=t}function Lt(t){return new Pt(t)}function Ut(t){return t[0]}function Vt(t){return t[1]}function zt(t,s){var n=Rt(!0),e=null,i=Lt,o=null;function r(r){var a,h,u,l,c=(l=r,r="object"==typeof l&&"length"in l?l:Array.from(l)).length,f=!1;for(null==e&&(o=i(u=Nt())),a=0;a<=c;++a)!(a<c&&n(h=r[a],a,r))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,a,r),+s(h,a,r));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?Ut:Rt(t),s="function"==typeof s?s:void 0===s?Vt:Rt(s),r.x=function(s){return arguments.length?(t="function"==typeof s?s:Rt(+s),r):t},r.y=function(t){return arguments.length?(s="function"==typeof t?t:Rt(+t),r):s},r.defined=function(t){return arguments.length?(n="function"==typeof t?t:Rt(!!t),r):n},r.curve=function(t){return arguments.length?(i=t,null!=e&&(o=i(e)),r):i},r.context=function(t){return arguments.length?(null==t?e=o=null:o=i(e=t),r):e},r}function Bt(t,s){this._context=t,this._t=s}function Dt(t){return new Bt(t,.5)}Ot.prototype=Nt.prototype={constructor:Ot,moveTo:function(t,s){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+s)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,s){this._+="L"+(this._x1=+t)+","+(this._y1=+s)},quadraticCurveTo:function(t,s,n,e){this._+="Q"+ +t+","+ +s+","+(this._x1=+n)+","+(this._y1=+e)},bezierCurveTo:function(t,s,n,e,i,o){this._+="C"+ +t+","+ +s+","+ +n+","+ +e+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,s,n,e,i){t=+t,s=+s,n=+n,e=+e,i=+i;var o=this._x1,r=this._y1,a=n-t,h=e-s,u=o-t,l=r-s,c=u*u+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=s);else if(c>1e-6)if(Math.abs(l*a-h*u)>1e-6&&i){var f=n-o,p=e-r,d=a*a+h*h,g=f*f+p*p,m=Math.sqrt(d),v=Math.sqrt(c),_=i*Math.tan((qt-Math.acos((d+c-g)/(2*m*v)))/2),b=_/v,y=_/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*u)+","+(s+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>u*p)+","+(this._x1=t+y*a)+","+(this._y1=s+y*h)}else this._+="L"+(this._x1=t)+","+(this._y1=s);else;},arc:function(t,s,n,e,i,o){t=+t,s=+s,o=!!o;var r=(n=+n)*Math.cos(e),a=n*Math.sin(e),h=t+r,u=s+a,l=1^o,c=o?e-i:i-e;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+u:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+h+","+u),n&&(c<0&&(c=c%St+St),c>Tt?this._+="A"+n+","+n+",0,1,"+l+","+(t-r)+","+(s-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=h)+","+(this._y1=u):c>1e-6&&(this._+="A"+n+","+n+",0,"+ +(c>=qt)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=s+n*Math.sin(i))))},rect:function(t,s,n,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+s)+"h"+ +n+"v"+ +e+"h"+-n+"Z"},toString:function(){return this._}},Pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;default:this._context.lineTo(t,s)}}},Bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,s),this._context.lineTo(t,s);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,s)}}this._x=t,this._y=s}};var Jt,Gt,Zt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ht={},Qt={exports:{}};
/*! https://mths.be/punycode v1.3.2 by @mathias */
Jt=Qt,Gt=Qt.exports,function(t){var s=Gt&&!Gt.nodeType&&Gt,n=Jt&&!Jt.nodeType&&Jt,e="object"==typeof Zt&&Zt;e.global!==e&&e.window!==e&&e.self!==e||(t=e);var i,o,r=2147483647,a=36,h=/^xn--/,u=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function d(t){throw RangeError(c[t])}function g(t,s){for(var n=t.length,e=[];n--;)e[n]=s(t[n]);return e}function m(t,s){var n=t.split("@"),e="";return n.length>1&&(e=n[0]+"@",t=n[1]),e+g((t=t.replace(l,".")).split("."),s).join(".")}function v(t){for(var s,n,e=[],i=0,o=t.length;i<o;)(s=t.charCodeAt(i++))>=55296&&s<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?e.push(((1023&s)<<10)+(1023&n)+65536):(e.push(s),i--):e.push(s);return e}function _(t){return g(t,(function(t){var s="";return t>65535&&(s+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),s+=p(t)})).join("")}function b(t,s){return t+22+75*(t<26)-((0!=s)<<5)}function y(t,s,n){var e=0;for(t=n?f(t/700):t>>1,t+=f(t/s);t>455;e+=a)t=f(t/35);return f(e+36*t/(t+38))}function x(t){var s,n,e,i,o,h,u,l,c,p,g,m=[],v=t.length,b=0,x=128,w=72;for((n=t.lastIndexOf("-"))<0&&(n=0),e=0;e<n;++e)t.charCodeAt(e)>=128&&d("not-basic"),m.push(t.charCodeAt(e));for(i=n>0?n+1:0;i<v;){for(o=b,h=1,u=a;i>=v&&d("invalid-input"),((l=(g=t.charCodeAt(i++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:a)>=a||l>f((r-b)/h))&&d("overflow"),b+=l*h,!(l<(c=u<=w?1:u>=w+26?26:u-w));u+=a)h>f(r/(p=a-c))&&d("overflow"),h*=p;w=y(b-o,s=m.length+1,0==o),f(b/s)>r-x&&d("overflow"),x+=f(b/s),b%=s,m.splice(b++,0,x)}return _(m)}function w(t){var s,n,e,i,o,h,u,l,c,g,m,_,x,w,C,$=[];for(_=(t=v(t)).length,s=128,n=0,o=72,h=0;h<_;++h)(m=t[h])<128&&$.push(p(m));for(e=i=$.length,i&&$.push("-");e<_;){for(u=r,h=0;h<_;++h)(m=t[h])>=s&&m<u&&(u=m);for(u-s>f((r-n)/(x=e+1))&&d("overflow"),n+=(u-s)*x,s=u,h=0;h<_;++h)if((m=t[h])<s&&++n>r&&d("overflow"),m==s){for(l=n,c=a;!(l<(g=c<=o?1:c>=o+26?26:c-o));c+=a)C=l-g,w=a-g,$.push(p(b(g+C%w,0))),l=f(C/w);$.push(p(b(l,0))),o=y(n,x,e==i),n=0,++e}++n,++s}return $.join("")}if(i={version:"1.3.2",ucs2:{decode:v,encode:_},decode:x,encode:w,toASCII:function(t){return m(t,(function(t){return u.test(t)?"xn--"+w(t):t}))},toUnicode:function(t){return m(t,(function(t){return h.test(t)?x(t.slice(4).toLowerCase()):t}))}},s&&n)if(Jt.exports==s)n.exports=i;else for(o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);else t.punycode=i}(Zt);var Wt={};function Kt(t,s){return Object.prototype.hasOwnProperty.call(t,s)}var Yt=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};Wt.decode=Wt.parse=function(t,s,n,e){s=s||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(s);var r=1e3;e&&"number"==typeof e.maxKeys&&(r=e.maxKeys);var a=t.length;r>0&&a>r&&(a=r);for(var h=0;h<a;++h){var u,l,c,f,p=t[h].replace(o,"%20"),d=p.indexOf(n);d>=0?(u=p.substr(0,d),l=p.substr(d+1)):(u=p,l=""),c=decodeURIComponent(u),f=decodeURIComponent(l),Kt(i,c)?Array.isArray(i[c])?i[c].push(f):i[c]=[i[c],f]:i[c]=f}return i},Wt.encode=Wt.stringify=function(t,s,n,e){return s=s||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(e){var i=encodeURIComponent(Yt(e))+n;return Array.isArray(t[e])?t[e].map((function(t){return i+encodeURIComponent(Yt(t))})).join(s):i+encodeURIComponent(Yt(t[e]))})).join(s):e?encodeURIComponent(Yt(e))+n+encodeURIComponent(Yt(t)):""};var Xt=Qt.exports;function ts(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}Ht.parse=ps,Ht.resolve=function(t,s){return ps(t,!1,!0).resolve(s)},Ht.resolveObject=function(t,s){return t?ps(t,!1,!0).resolveObject(s):s},Ht.format=function(t){ds(t)&&(t=ps(t));return t instanceof ts?t.format():ts.prototype.format.call(t)},Ht.Url=ts;var ss=/^([a-z0-9.+-]+:)/i,ns=/:[0-9]*$/,es=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),is=["'"].concat(es),os=["%","/","?",";","#"].concat(is),rs=["/","?","#"],as=/^[a-z0-9A-Z_-]{0,63}$/,hs=/^([a-z0-9A-Z_-]{0,63})(.*)$/,us={javascript:!0,"javascript:":!0},ls={javascript:!0,"javascript:":!0},cs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},fs=Wt;function ps(t,s,n){if(t&&gs(t)&&t instanceof ts)return t;var e=new ts;return e.parse(t,s,n),e}function ds(t){return"string"==typeof t}function gs(t){return"object"==typeof t&&null!==t}function ms(t){return null===t}ts.prototype.parse=function(t,s,n){if(!ds(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var e=t;e=e.trim();var i=ss.exec(e);if(i){var o=(i=i[0]).toLowerCase();this.protocol=o,e=e.substr(i.length)}if(n||i||e.match(/^\/\/[^@\/]+@[^@\/]+/)){var r="//"===e.substr(0,2);!r||i&&ls[i]||(e=e.substr(2),this.slashes=!0)}if(!ls[i]&&(r||i&&!cs[i])){for(var a,h,u=-1,l=0;l<rs.length;l++){-1!==(c=e.indexOf(rs[l]))&&(-1===u||c<u)&&(u=c)}-1!==(h=-1===u?e.lastIndexOf("@"):e.lastIndexOf("@",u))&&(a=e.slice(0,h),e=e.slice(h+1),this.auth=decodeURIComponent(a)),u=-1;for(l=0;l<os.length;l++){var c;-1!==(c=e.indexOf(os[l]))&&(-1===u||c<u)&&(u=c)}-1===u&&(u=e.length),this.host=e.slice(0,u),e=e.slice(u),this.parseHost(),this.hostname=this.hostname||"";var f="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!f)for(var p=this.hostname.split(/\./),d=(l=0,p.length);l<d;l++){var g=p[l];if(g&&!g.match(as)){for(var m="",v=0,_=g.length;v<_;v++)g.charCodeAt(v)>127?m+="x":m+=g[v];if(!m.match(as)){var b=p.slice(0,l),y=p.slice(l+1),x=g.match(hs);x&&(b.push(x[1]),y.unshift(x[2])),y.length&&(e="/"+y.join(".")+e),this.hostname=b.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!f){var w=this.hostname.split("."),C=[];for(l=0;l<w.length;++l){var $=w[l];C.push($.match(/[^A-Za-z0-9_-]/)?"xn--"+Xt.encode($):$)}this.hostname=C.join(".")}var M=this.port?":"+this.port:"",E=this.hostname||"";this.host=E+M,this.href+=this.host,f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==e[0]&&(e="/"+e))}if(!us[o])for(l=0,d=is.length;l<d;l++){var j=is[l],A=encodeURIComponent(j);A===j&&(A=escape(j)),e=e.split(j).join(A)}var k=e.indexOf("#");-1!==k&&(this.hash=e.substr(k),e=e.slice(0,k));var F=e.indexOf("?");if(-1!==F?(this.search=e.substr(F),this.query=e.substr(F+1),s&&(this.query=fs.parse(this.query)),e=e.slice(0,F)):s&&(this.search="",this.query={}),e&&(this.pathname=e),cs[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"",$=this.search||"";this.path=M+$}return this.href=this.format(),this},ts.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var s=this.protocol||"",n=this.pathname||"",e=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&gs(this.query)&&Object.keys(this.query).length&&(o=fs.stringify(this.query));var r=this.search||o&&"?"+o||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||cs[s])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),e&&"#"!==e.charAt(0)&&(e="#"+e),r&&"?"!==r.charAt(0)&&(r="?"+r),s+i+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(r=r.replace("#","%23"))+e},ts.prototype.resolve=function(t){return this.resolveObject(ps(t,!1,!0)).format()},ts.prototype.resolveObject=function(t){if(ds(t)){var s=new ts;s.parse(t,!1,!0),t=s}var n=new ts;if(Object.keys(this).forEach((function(t){n[t]=this[t]}),this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach((function(s){"protocol"!==s&&(n[s]=t[s])})),cs[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!cs[t.protocol])return Object.keys(t).forEach((function(s){n[s]=t[s]})),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||ls[t.protocol])n.pathname=t.pathname;else{for(var e=(t.pathname||"").split("/");e.length&&!(t.host=e.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),n.pathname=e.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var i=n.pathname||"",o=n.search||"";n.path=i+o}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var r=n.pathname&&"/"===n.pathname.charAt(0),a=t.host||t.pathname&&"/"===t.pathname.charAt(0),h=a||r||n.host&&t.pathname,u=h,l=n.pathname&&n.pathname.split("/")||[],c=(e=t.pathname&&t.pathname.split("/")||[],n.protocol&&!cs[n.protocol]);if(c&&(n.hostname="",n.port=null,n.host&&(""===l[0]?l[0]=n.host:l.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===e[0]?e[0]=t.host:e.unshift(t.host)),t.host=null),h=h&&(""===e[0]||""===l[0])),a)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,l=e;else if(e.length)l||(l=[]),l.pop(),l=l.concat(e),n.search=t.search,n.query=t.query;else if(null!=t.search){if(c)n.hostname=n.host=l.shift(),(m=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=m.shift(),n.host=n.hostname=m.shift());return n.search=t.search,n.query=t.query,ms(n.pathname)&&ms(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!l.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var f=l.slice(-1)[0],p=(n.host||t.host)&&("."===f||".."===f)||""===f,d=0,g=l.length;g>=0;g--)"."==(f=l[g])?l.splice(g,1):".."===f?(l.splice(g,1),d++):d&&(l.splice(g,1),d--);if(!h&&!u)for(;d--;d)l.unshift("..");!h||""===l[0]||l[0]&&"/"===l[0].charAt(0)||l.unshift(""),p&&"/"!==l.join("/").substr(-1)&&l.push("");var m,v=""===l[0]||l[0]&&"/"===l[0].charAt(0);c&&(n.hostname=n.host=v?"":l.length?l.shift():"",(m=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=m.shift(),n.host=n.hostname=m.shift()));return(h=h||n.host&&l.length)&&!v&&l.unshift(""),l.length?n.pathname=l.join("/"):(n.pathname=null,n.path=null),ms(n.pathname)&&ms(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},ts.prototype.parseHost=function(){var t=this.host,s=ns.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};var vs,_s={exports:{}},bs=_s.exports=(vs=function(t){return"number"==typeof t&&parseFloat(t)==parseInt(t,10)&&!isNaN(t)},Array.prototype.indexOf||(Array.prototype.indexOf=function(t,s){if(null==this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(s=+s||0,Math.abs(s)===1/0&&(s=0),0>s&&0>(s+=n)&&(s=0);s<n;s++)if(this[s]===t)return s;return-1}),function(s){this.objectID="",this.legendSeparator=this.separator=" - ",this.method="",this.precision=0,this.precisionflag="auto",this.roundlength=2,this.silent=this.debug=this.is_uniqueValues=!1,this.bounds=[],this.ranges=[],this.inner_ranges=null,this.colors=[],this.counter=[],this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null,this.log=function(t,s){1!=this.debug&&null==s||console.log(this.objectID+"(object id) :: "+t)},this.setBounds=function(t){this.log("Setting bounds ("+t.length+") : "+t.join()),this.bounds=t},this.setSerie=function(t){this.log("Setting serie ("+t.length+") : "+t.join()),this.serie=t,this.resetStatistics(),this.setPrecision()},this.setColors=function(t){this.log("Setting color ramp ("+t.length+") : "+t.join()),this.colors=t},this.doCount=function(){if(!this._nodata()){var t=this.sorted();if(this.counter=[],1==this.is_uniqueValues)for(var s=0;s<this.bounds.length;s++)this.counter[s]=0;else for(s=0;s<this.bounds.length-1;s++)this.counter[s]=0;for(s=0;s<t.length;s++){var n=this.getClass(t[s]);this.counter[n]++}}},this.setPrecision=function(t){if(void 0!==t&&(this.precisionflag="manual",this.precision=t),"auto"==this.precisionflag)for(t=0;t<this.serie.length;t++){var s=isNaN(this.serie[t]+"")||-1==(this.serie[t]+"").toString().indexOf(".")?0:(this.serie[t]+"").split(".")[1].length;s>this.precision&&(this.precision=s)}20<this.precision&&(this.log("this.precision value ("+this.precision+') is greater than max value. Automatic set-up to 20 to prevent "Uncaught RangeError: toFixed()" when calling decimalFormat() method.'),this.precision=20),this.log("Calling setPrecision(). Mode : "+this.precisionflag+" - Decimals : "+this.precision),this.serie=this.decimalFormat(this.serie)},this.decimalFormat=function(t){for(var s=[],n=0;n<t.length;n++){var e=t[n];e=!isNaN(parseFloat(e))&&isFinite(e),s[n]=e?parseFloat(parseFloat(t[n]).toFixed(this.precision)):t[n]}return s},this.setRanges=function(){this.ranges=[];for(var t=0;t<this.bounds.length-1;t++)this.ranges[t]=this.bounds[t]+this.separator+this.bounds[t+1]},this.min=function(){if(!this._nodata()){this.stat_min=this.serie[0];for(var t=0;t<this.pop();t++)this.serie[t]<this.stat_min&&(this.stat_min=this.serie[t]);return this.stat_min}},this.max=function(){if(!this._nodata()){this.stat_max=this.serie[0];for(var t=0;t<this.pop();t++)this.serie[t]>this.stat_max&&(this.stat_max=this.serie[t]);return this.stat_max}},this.sum=function(){if(!this._nodata()){if(null==this.stat_sum)for(var t=this.stat_sum=0;t<this.pop();t++)this.stat_sum+=parseFloat(this.serie[t]);return this.stat_sum}},this.pop=function(){if(!this._nodata())return null==this.stat_pop&&(this.stat_pop=this.serie.length),this.stat_pop},this.mean=function(){if(!this._nodata())return null==this.stat_mean&&(this.stat_mean=parseFloat(this.sum()/this.pop())),this.stat_mean},this.median=function(){if(!this._nodata()){if(null==this.stat_median){this.stat_median=0;var t=this.sorted();this.stat_median=t.length%2?parseFloat(t[Math.ceil(t.length/2)-1]):(parseFloat(t[t.length/2-1])+parseFloat(t[t.length/2]))/2}return this.stat_median}},this.variance=function(){var t=void 0===t;if(!this._nodata()){if(null==this.stat_variance){for(var s=0,n=this.mean(),e=0;e<this.pop();e++)s+=Math.pow(this.serie[e]-n,2);this.stat_variance=s/this.pop(),1==t&&(this.stat_variance=Math.round(this.stat_variance*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))}return this.stat_variance}},this.stddev=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_stddev&&(this.stat_stddev=Math.sqrt(this.variance()),1==t&&(this.stat_stddev=Math.round(this.stat_stddev*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_stddev},this.cov=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_cov&&(this.stat_cov=this.stddev()/this.mean(),1==t&&(this.stat_cov=Math.round(this.stat_cov*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_cov},this.resetStatistics=function(){this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null},this._nodata=function(){if(0==this.serie.length){if(!this.silent)throw new TypeError("Error. You should first enter a serie!");return this.log("[silent mode] Error. You should first enter a serie!",!0),1}return 0},this._nbClassInt=function(t){if(t=parseInt(t,10),!isNaN(t))return t;if(!this.silent)throw new TypeError("'"+t+"' is not a valid integer. Enable to set class number.");this.log("[silent mode] '"+t+"' is not a valid integer. Enable to set class number.",!0)},this._hasNegativeValue=function(){for(var t=0;t<this.serie.length;t++)if(0>this.serie[t])return!0;return!1},this._hasZeroValue=function(){for(var t=0;t<this.serie.length;t++)if(0===parseFloat(this.serie[t]))return!0;return!1},this.sorted=function(){return null==this.stat_sorted&&(this.stat_sorted=0==this.is_uniqueValues?this.serie.sort((function(t,s){return t-s})):this.serie.sort((function(t,s){var n=t.toString().toLowerCase(),e=s.toString().toLowerCase();return n<e?-1:n>e?1:0}))),this.stat_sorted},this.info=function(){if(!this._nodata()){var t="Population : "+this.pop()+" - [Min : "+this.min()+" | Max : "+this.max()+"]\n";return(t+="Mean : "+this.mean()+" - Median : "+this.median()+"\n")+"Variance : "+this.variance()+" - Standard deviation : "+this.stddev()+" - Coefficient of variation : "+this.cov()+"\n"}},this.setClassManually=function(s){if(!this._nodata()){if(s[0]===this.min()&&s[s.length-1]===this.max())return this.setBounds(s),this.setRanges(),this.method="manual classification ("+(s.length-1)+" classes)",this.bounds;if(!this.silent)throw new TypeError("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max());this.log("[silent mode] "+t("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max()),!0)}},this.getClassEqInterval=function(t,s,n){if(t=this._nbClassInt(t),!this._nodata()){var e=void 0===s?this.min():s;s=[];var i=e;e=((n=void 0===n?this.max():n)-e)/t;for(var o=0;o<=t;o++)s[o]=i,i+=e;return s[t]=n,this.setBounds(s),this.setRanges(),this.method="eq. intervals ("+t+" classes)",this.bounds}},this.getQuantiles=function(t){t=this._nbClassInt(t);for(var s=this.sorted(),n=[],e=this.pop()/t,i=1;i<t;i++)n.push(s[Math.round(i*e+.49)-1]);return n},this.getClassQuantile=function(t){if(t=this._nbClassInt(t),!this._nodata()){var s=this.sorted(),n=this.getQuantiles(t);return n.unshift(s[0]),n[s.length-1]!==s[s.length-1]&&n.push(s[s.length-1]),this.setBounds(n),this.setRanges(),this.method="quantile ("+t+" classes)",this.bounds}},this.getClassStdDeviation=function(t,s){if(t=this._nbClassInt(t),!this._nodata()){var n=this.max(),e=this.min(),i=this.stddev(),o=this.mean(),r=[];if(t%2==1){var a=Math.floor(t/2),h=a+1;for(r[a]=o-i/2,r[h]=o+i/2,o=a-1;0<o;o--)a=r[o+1]-i,r[o]=a;o=h+1}else{for(r[h=t/2]=o,o=h-1;0<o;o--)a=r[o+1]-i,r[o]=a;o=h+1}for(;o<t;o++)a=r[o-1]+i,r[o]=a;return r[0]=void 0===s?r[1]-i:e,r[t]=void 0===s?r[t-1]+i:n,this.setBounds(r),this.setRanges(),this.method="std deviation ("+t+" classes)",this.bounds}},this.getClassGeometricProgression=function(t){if(t=this._nbClassInt(t),!this._nodata()){if(!this._hasNegativeValue()&&!this._hasZeroValue()){var s=[],n=this.min(),e=this.max();n=Math.log(n)/Math.LN10,e=(Math.log(e)/Math.LN10-n)/t;for(var i=0;i<t;i++)s[i]=0==i?n:s[i-1]+e;return(s=s.map((function(t){return Math.pow(10,t)}))).push(this.max()),this.setBounds(s),this.setRanges(),this.method="geometric progression ("+t+" classes)",this.bounds}if(!this.silent)throw new TypeError("geometric progression can't be applied with a serie containing negative or zero values.");this.log("[silent mode] geometric progression can't be applied with a serie containing negative or zero values.",!0)}},this.getClassArithmeticProgression=function(t){if(t=this._nbClassInt(t),!this._nodata()){for(var s=0,n=1;n<=t;n++)s+=n;var e=[],i=this.min();for(s=(this.max()-i)/s,n=0;n<=t;n++)e[n]=0==n?i:e[n-1]+n*s;return this.setBounds(e),this.setRanges(),this.method="arithmetic progression ("+t+" classes)",this.bounds}},this.getClassJenks2=function(t){if(t=this._nbClassInt(t),!this._nodata()){for(var s=this.sorted(),n=[],e=0,i=s.length+1;e<i;e++){for(var o=[],r=0,a=t+1;r<a;r++)o.push(0);n.push(o)}for(e=[],i=0,o=s.length+1;i<o;i++){r=[],a=0;for(var h=t+1;a<h;a++)r.push(0);e.push(r)}for(i=1,o=t+1;i<o;i++){n[0][i]=1,e[0][i]=0;var u=1;for(r=s.length+1;u<r;u++)e[u][i]=1/0;u=0}for(i=2,o=s.length+1;i<o;i++){h=a=r=0;for(var l=1,c=i+1;l<c;l++){var f=i-l+1;u=(a+=(u=parseFloat(s[f-1]))*u)-(r+=u)*r/(h+=1);var p=f-1;if(0!=p)for(var d=2,g=t+1;d<g;d++)e[i][d]>=u+e[p][d-1]&&(n[i][d]=f,e[i][d]=u+e[p][d-1])}n[i][1]=1,e[i][1]=u}for(u=s.length,e=[],i=0;i<=t;i++)e.push(0);for(e[t]=parseFloat(s[s.length-1]),e[0]=parseFloat(s[0]),i=t;2<=i;)o=parseInt(n[u][i]-2),e[i-1]=s[o],u=parseInt(n[u][i]-1),--i;return e[0]==e[1]&&(e[0]=0),this.setBounds(e),this.setRanges(),this.method="Jenks2 ("+t+" classes)",this.bounds}},this.getClassJenks=function(t){if(t=this._nbClassInt(t),!this._nodata()){var s=this.sorted();jenksMatrices=function(t,s){var n,e,i=[],o=[],r=0;for(n=0;n<t.length+1;n++){var a=[],h=[];for(e=0;e<s+1;e++)a.push(0),h.push(0);i.push(a),o.push(h)}for(n=1;n<s+1;n++)for(i[1][n]=1,o[1][n]=0,e=2;e<t.length+1;e++)o[e][n]=1/0;for(n=2;n<t.length+1;n++){for(var u,l=h=a=0,c=1;c<n+1;c++){var f=n-c+1;if(r=(h+=(e=t[f-1])*e)-(a+=e)*a/++l,0!=(u=f-1))for(e=2;e<s+1;e++)o[n][e]>=r+o[u][e-1]&&(i[n][e]=f,o[n][e]=r+o[u][e-1])}i[n][1]=1,o[n][1]=r}return{lower_class_limits:i,variance_combinations:o}};var n=jenksMatrices(s,t).lower_class_limits,e=s.length-1,i=[],o=t;for(i[t]=s[s.length-1],i[0]=s[0];1<o;)i[o-1]=s[n[e][o]-2],e=n[e][o]-1,o--;return this.setBounds(i),this.setRanges(),this.method="Jenks ("+t+" classes)",this.bounds}},this.getClassUniqueValues=function(){if(!this._nodata()){this.is_uniqueValues=!0;for(var t=this.sorted(),s=[],n=0;n<this.pop();n++)-1===s.indexOf(t[n])&&s.push(t[n]);return this.bounds=s,this.method="unique values",s}},this.getClass=function(t){for(var s=0;s<this.bounds.length;s++)if(1==this.is_uniqueValues){if(t==this.bounds[s])return s}else if(parseFloat(t)<=this.bounds[s+1])return s;return"Unable to get value's class."},this.getRanges=function(){return this.ranges},this.getRangeNum=function(t){var s;for(s=0;s<this.ranges.length;s++){var n=this.ranges[s].split(/ - /);if(t<=parseFloat(n[1]))return s}},this.getInnerRanges=function(){if(null!=this.inner_ranges)return this.inner_ranges;for(var t=[],s=this.sorted(),n=1,e=0;e<s.length;e++){if(0==e)var i=s[e];if(parseFloat(s[e])>parseFloat(this.bounds[n])&&(t[n-1]=""+i+this.separator+s[e-1],i=s[e],n++),n==this.bounds.length-1)return t[n-1]=""+i+this.separator+s[s.length-1],this.inner_ranges=t}},this.getSortedlist=function(){return this.sorted().join(", ")},this.getHtmlLegend=function(t,s,n,e,i,o){var r="",a=[];if(this.doCount(),ccolors=null!=t?t:this.colors,lg=null!=s?s:"Legend",getcounter=null!=n,fn=null!=e?e:function(t){return t},null==i&&(i="default"),"discontinuous"!=i||(this.getInnerRanges(),-1===this.counter.indexOf(0))){if("DESC"!==o&&(o="ASC"),!(ccolors.length<this.ranges.length)){if(0==this.is_uniqueValues)for(t=0;t<this.ranges.length;t++)!0===getcounter&&(r=' <span class="geostats-legend-counter">('+this.counter[t]+")</span>"),n=this.ranges[t].split(this.separator),s=parseFloat(n[0]).toFixed(this.precision),n=parseFloat(n[1]).toFixed(this.precision),"distinct"==i&&0!=t&&(vs(s)?(s=parseInt(s)+1,"manual"==this.precisionflag&&0!=this.precision&&(s=parseFloat(s).toFixed(this.precision))):(s=parseFloat(s)+1/Math.pow(10,this.precision),s=parseFloat(s).toFixed(this.precision))),"discontinuous"==i&&(n=this.inner_ranges[t].split(this.separator),s=parseFloat(n[0]).toFixed(this.precision),n=parseFloat(n[1]).toFixed(this.precision)),s=fn(s)+this.legendSeparator+fn(n),s='<div><div class="geostats-legend-block" style="background-color:'+ccolors[t]+'"></div> '+s+r+"</div>",a.push(s);else for(t=0;t<this.bounds.length;t++)!0===getcounter&&(r=' <span class="geostats-legend-counter">('+this.counter[t]+")</span>"),s=fn(this.bounds[t]),s='<div><div class="geostats-legend-block" style="background-color:'+ccolors[t]+'"></div> '+s+r+"</div>",a.push(s);for("DESC"===o&&a.reverse(),i='<div class="geostats-legend"><div class="geostats-legend-title">'+lg+"</div>",t=0;t<a.length;t++)i+=a[t];return i+"</div>"}if(!this.silent)throw new TypeError("The number of colors should fit the number of ranges. Exit!");this.log("[silent mode] The number of colors should fit the number of ranges. Exit!",!0)}else{if(!this.silent)throw new TypeError("Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!");this.log("[silent mode] Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!",!0)}},this.objectID=(new Date).getUTCMilliseconds(),this.log("Creating new geostats object"),void 0!==s&&0<s.length?(this.serie=s,this.setPrecision(),this.log("Setting serie ("+s.length+") : "+s.join())):this.serie=[],this.getJenks=this.getClassJenks,this.getJenks2=this.getClassJenks2,this.getGeometricProgression=this.getClassGeometricProgression,this.getEqInterval=this.getClassEqInterval,this.getQuantile=this.getClassQuantile,this.getStdDeviation=this.getClassStdDeviation,this.getUniqueValues=this.getClassUniqueValues,this.getArithmeticProgression=this.getClassArithmeticProgression});function ys(t,s){return t<s?-1:t>s?1:t>=s?0:NaN}function xs(t){let s=t,n=t;function e(t,s,e,i){for(null==e&&(e=0),null==i&&(i=t.length);e<i;){const o=e+i>>>1;n(t[o],s)<0?e=o+1:i=o}return e}return 1===t.length&&(s=(s,n)=>t(s)-n,n=function(t){return(s,n)=>ys(t(s),n)}(t)),{left:e,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const r=e(t,n,i,o-1);return r>i&&s(t[r-1],n)>-s(t[r],n)?r-1:r},right:function(t,s,e,i){for(null==e&&(e=0),null==i&&(i=t.length);e<i;){const o=e+i>>>1;n(t[o],s)>0?i=o:e=o+1}return e}}}const ws=xs(ys).right;function Cs(t,s){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(s).domain(t)}return this}function $s(){var t,s=[.5],n=[0,1],e=1;function i(i){return null!=i&&i<=i?n[ws(s,i,0,e)]:t}return i.domain=function(t){return arguments.length?(s=Array.from(t),e=Math.min(s.length,n.length-1),i):s.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),e=Math.min(s.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var e=n.indexOf(t);return[s[e-1],s[e]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return $s().domain(s).range(n).unknown(t)},Cs.apply(i,arguments)}xs((function(t){return null===t?NaN:+t})).center;export{At as $,n as A,lt as B,jt as C,q as D,g as E,s as F,Ft as G,Q as H,u as I,l as J,f as K,G as L,N as M,_ as N,B as O,$ as P,I as Q,o as R,Mt as S,D as T,dt as U,P as V,Z as W,bt as X,et as Y,nt as Z,O as _,E as a,y as a0,zt as a1,Lt as a2,Dt as a3,It as a4,Wt as a5,Ht as a6,mt as a7,gt as a8,d as a9,p as aa,bs as ab,R as ac,$s as ad,st as ae,kt as af,M as b,j as c,v as d,b as e,m as f,A as g,F as h,$t as i,yt as j,w as k,C as l,xt as m,k as n,wt as o,vt as p,_t as q,pt as r,a as s,x as t,ct as u,ft as v,Ct as w,J as x,z as y,V as z};