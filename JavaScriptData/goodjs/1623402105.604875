define(["local/common/components/nsglibCommon"],function(e){var n=null,t=null,o=null,r=0,i=null;return function(){if(!(n=document.querySelector(".Phx")))return;t=document.querySelector(".Phx__fixer"),o=n.querySelector(".Phx__layer")}(),{open:function(){r=Math.abs(d()),t.style.top=d(t)+"px",e.domBuilder.addClass(document.body,"phx-active"),window.scrollTo(0,0),e.domBuilder.addClass(n,"Phx--active"),window.requestAnimationFrame(function(){e.domBuilder.addClass(n,"Phx--state-open"),0===window.nsglib.getHeaderSwitchHeight()&&window.onetAds.fire("barState",{state:"open"})}),e.phxLayer.setLayerOpenedStatus(!0)},close:function(t){e.phxLayer.setCorrectScrollPositionQueue(t);var d=document.querySelector(".pageHeader");e.domBuilder.addClass(d,"phxOpening"),setTimeout(function(){e.domBuilder.removeClass(d,"phxOpening")},500),e.domBuilder.removeClass(document.body,"phx-active"),e.domBuilder.removeClass(n,"Phx--state-open"),window.onetAds.fire("barState",{state:"close"}),window.requestAnimationFrame(function(){window.scrollTo(0,r)});var a=function(e){if(!e)return!1;var n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==e.style[t])return n[t];return!1}(o);a?e.domBuilder.addEvent(o,a,function t(){e.domBuilder.removeClass(n,"Phx--active"),o.removeEventListener(a,t,!1)}):e.domBuilder.removeClass(n,"Phx--active");e.phxLayer.setLayerOpenedStatus(!1),i=new Date},runAmd:function(){require.runnerBox.runElement(n)},getCloseTime:function(){return i}};function d(e){return(e||document.body).getBoundingClientRect().top||0}});