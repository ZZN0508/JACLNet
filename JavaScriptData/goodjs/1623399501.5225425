!function(){"use strict";var n="__lytics__jstag__",D=window,d=D.document;function l(e,t,n){var i=-1,o=e.length;for(2===arguments.length&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function g(i,o){return l(i,function(e,t,n){return o(t,n,i)&&e.push(t),e},[])}function h(i,o){return l(i,function(e,t,n){return e.push(o(t,n,i)),e},[])}var e=function(){var e=d.getElementsByTagName("script"),t=[].slice.call(e),n=d.getElementsByTagName("meta"),i=[].slice.call(n),o=g(h(t.concat(i),function(e){return e.getAttribute("data-lytics-global")}),Boolean);if(1<o.length)throw new Error("This page specified more than one data-lytics-global attribute. You should put the attribute on either a meta tag, or the script element itself, but not both");return 1===o.length?o[0]:"jstag"}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function m(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n,e)}function u(e){var t=[];for(var n in e)t.push(n);return t}var s=Object.keys||function(t){return g(u(t),function(e){return{}.hasOwnProperty.call(t,e)})};function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(t,function(t,n){return void 0===n||m(s(n),function(e){t[e]=n[e]}),t})}var t=function(){function t(e){i(this,t),this.instance=e.instance}return a(t,[{key:"ns",value:function(e){return this.namespace=e,this}},{key:"expose",value:function(e){v(this.instance,e),m(s(e),function(e){Gt.util.method(e)})}},{key:"hold",value:function(e){v(this.constructor.prototype,e)}}]),t}();function f(e,t,n){var i=document.createElement("script");i.async=!0,i.src=e,i.onload=t,i.onerror=n;var o=document.getElementsByTagName("script")[0],a=o&&o.parentNode||document.head||document.body,r=o||a.lastChild;return null!=r?a.insertBefore(i,r):a.appendChild(i),this}function r(e){return e(new t({instance:this}),this,this.config)}function y(){for(var t=void 0,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var o=0,a=n.length;o<a;o++)try{return n[o](t)}catch(e){t=e}}var c=D.top,p=D.parent;function b(e,t,n){return v((2<arguments.length&&void 0!==n?n:d).createElement(e),t)}var w=D.location;function k(e){return l(e,function(e,t){return e[t[0]]=t[1],e},{})}function E(e){return"string"==typeof e}function _(e){var n=b("a",{href:e}),t=k(h(g(u(n),function(e){var t=y(function(){return n[e]});return null!=t&&E(t)}),function(e){return[e,n[e]]}));return""!==t.protocol&&":"!==t.protocol||(t.protocol=w.protocol),null==t.origin&&(t.origin=function(e){return e.protocol+"//"+e.hostname+function(e){return null==e.port||"https:"===e.protocol&&"443"===e.port||"http:"===e.protocol&&"80"===e.port?"":":"+e.port}(e)}(t)),t}var S=D.decodeURIComponent;function T(e){return"[object Array]"==={}.toString.call(e)}function x(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function I(e){var o={};return"string"!=typeof e||(e=x(e).replace(/^(\?|#|&)/,""))&&m(e.split("&"),function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),i=0<t.length?t.join("="):void 0;n=S(n),i=void 0===i?null:S(i),void 0===o[n]?o[n]=i:T(o[n])?o[n].push(i):o[n]=[o[n],i]}),o}function C(){return"u_"+Math.floor(1e18*Math.random())}function A(e){if(Array.isArray(e))return e}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P(e,t){return A(e)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||O()}function N(e){e.ns("lifecycle"),e.expose({setUp:function(){e.emit("lifecycle.setup.requested"),e.emit("lifecycle.setup.done")},tearDown:function(){e.emit("lifecycle.teardown.requested"),e.emit("lifecycle.teardown.done")}})}var j=[],L=D.setTimeout;function U(e,t){for(var n=arguments.length,i=new Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a=L(function(){e.apply(void 0,i)},t);return j.push(a),a}function z(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];U.apply(void 0,[e,0].concat(n))}function F(e){return function(){null!=e&&(e.apply(null,arguments),e=null)}}function K(e,t){return 0===e.indexOf(t)}function q(e,t){return M(e,"channel"),M(t,"namespace"),e===t||K(e,"".concat(t,"."))}function M(e,t){if(null==e)throw new Error("You must provide a ".concat(t," (`").concat(String(e),"` was passed instead)"))}function V(a,e){var r;function t(){r=[]}function n(e,t){if("function"!=typeof t)throw new TypeError("listener is not a function!");return F(function(e,t){var n={topic:e,pattern:function(e){return new RegExp("^".concat(function(e){return String(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}(e).replace(/\\[*]/g,"(.*?)"),"$"))}(e),listener:t};return r.push(n),function(){r=g(r,function(e){return e!==n})}}(e,t))}a.ns("emitter"),t(),a.hold({emit:function(i){for(var e=arguments.length,o=new Array(1<e?e-1:0),t=1;t<e;t++)o[t-1]=arguments[t];var n=this.namespace;if(null==n||0===n.length)throw new Error("You must define an event namespace!");if(n&&!q(i,n))throw new Error("Event name must match event namespace! ".concat(i," ").concat(n));return 0<r.length&&m(r,function(e){var t=e.pattern,n=e.listener;t.test(i)&&y(function(){n.apply(void 0,[i].concat(o))},function(e){a.carp(e)})}),a}}),a.expose({on:function(e,t){return n(e,t)},once:function(e,o){var a=n(e,function(e){a();for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.apply(void 0,[e].concat(n))});return a}}),e.once("lifecycle.teardown.done",function(){z(t)})}function B(e,t,n){e.ns("audit.carp"),e.defaults({audit:{carp:void 0}}),null!=n.audit.carp&&t.on("*.carp",n.audit.carp),e.hold({carp:function(e){this.emit("".concat(this.namespace,".carp"),e)}})}var G=D.encodeURIComponent;function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e){return(W="function"==typeof Symbol&&"symbol"===R(Symbol.iterator)?function(e){return R(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":R(e)})(e)}function Q(e){return e&&"object"===W(e)}function Y(e){return"function"==typeof e}function J(e){if("object"!==W(e)||null===e||""+e!="[object Object]")return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $(i,e,t,n){var o=!(1<arguments.length&&void 0!==e)||e,a=2<arguments.length&&void 0!==t?t:"",r=3<arguments.length&&void 0!==n&&n,c=[];return Q(i)?T(i)?(c.push(a+"_len="+i.length,a+"_json="+G(JSON.stringify(i))),m(i,function(e){c.push($(e,o,a,r))})):o&&!J(i)||m(s(i),function(e){var t=G(e),n=i[e];Y(n)||(""!==a&&(t=[a,t].join(".")),Q(n)?c.push($(n,o,r?e:t,r)):(E(n)&&0<n.length||null!=n)&&c.push(t+"="+G(n)))}):c.push(a+"="+i),c.filter(Boolean).join("&")}function Z(e){return $(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1],2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",!1)}var H=Object.freeze||Object,X=H({default:Z,legacy:function(e){return $(e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",!0)}});function ee(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function te(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ne(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,n){return(oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e,t){return-1!==function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}(e,t)}var ce=function(){function n(e){var t=this;i(this,n),this.register=[],m(e,function(e){t.sign(e)})}return a(n,[{key:"sign",value:function(e){return!re(this.register,e)&&(this.register.push(e),!0)}}]),n}();function le(e){return function o(a,r,c){return l(s(a),function(e,t){var n=a[t],i=r.concat(t);return pe(n)?e.push(new de(i)):n instanceof ue?e.push(new fe(i)):c.sign(n)&&e.push.apply(e,te(o(n,i,c))),e},[])}(e,[],new ce([e]))}var ue=function e(t){i(this,e),this.content=t};function se(e){return new ue(e)}var de=function(){function l(e){i(this,l),this.path=e,this.leaf=e[e.length-1]}return a(l,[{key:"parent",value:function(e){for(var t=this.path,n=e,i=0,o=t.length-1;i<o;i++)if(null==(n=n[t[i]]))return n;return n}},{key:"has",value:function(e){var t=this.parent(e);return t&&this.leaf in t}},{key:"get",value:function(e){if(0===this.path.length)return e;var t=this.parent(e);return null==t?t:t[this.leaf]}},{key:"set",value:function(e,t){var n=this.parent(e);return null==n?n:n[this.leaf]=t}},{key:"copy",value:function(e,t){var n=this.shimParent(e,t);return null==n?n:this.set(e,this.get(t))}},{key:"shimParent",value:function(e,t){var n=this.path;if(1==n.length)return e;for(var i=0,o=n.length;i<o;i++){var a=new l(n.slice(0,i)),r=a.get(e),c=a.get(t);null==r&&(r=a.set(e,Array.isArray(c)?[]:{}))}return r}}]),l}(),fe=function(){function n(){return i(this,n),ne(this,ie(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(n,de),a(n,[{key:"set",value:function(e,t){oe(ie(n.prototype),"set",this).call(this,e,t.content)}}]),n}();function pe(e){if(null==e||"object"!==W(e)&&"function"!=typeof e)return!0;for(var t in e)if({}.hasOwnProperty.call(e,t))return!1;return!0}function ge(n){return l(s(n),function(e,t){return e.push([t,n[t]]),e},[])}function he(e,t){return k(g(ge(e),t))}function me(e,t){return h(function(i,o){return l(i,function(e,t,n){return e[o(t,n,i)?0:1].push(t),e},[[],[]])}(ge(e),t),k)}var ve="3.0.17",ye="seerid",be="seerses";function we(r,e,n){r.ns("config"),r.hold({defaults:function(e){var n=this;if(null==this.namespace)throw new Error("You need to claim a namespace before setting defaults!");var t=P(me(e,function(e){var t=P(e,1)[0];return q(n.namespace,t)}),2),i=t[0],o=t[1];for(var a in l(i,c(i)),l(o,c(o)),o)r.carp("Setting config options out of namespace is not currently supported as well as we'd like! `".concat(a,"`"))}});var t=[];function c(t){return function(e){e.has(n)||e.copy(n,t)}}function l(e,t){m(le(e),t)}r.hold({bogart:function(){t.push.apply(t,arguments)},ns:function(e){if(re(t,e))throw new Error("Cannot use contested namespace: `".concat(e,"`"));return this.bogart(e),this.namespace=e,this}});var i={url:"https://c.lytics.io",location:w.href,payloadQueue:[],id:void 0,cid:void 0,loadid:!1,serializer:Z,delay:2e3,blocked:!1,path:"/c/",idpath:"/cid/",cookie:ye,sesname:be,stream:void 0,sessecs:1800,qsargs:[],ref:!0,tagid:"jstag-csdk",pagedata:{},byFieldKey:"_uid",version:ve};l(i,c(i)),m(s(i),function(e){r.bogart(e)}),null!=n.cid&&(n.cid=[].concat(n.cid))}function ke(e,t){return e+(-1!==e.indexOf("?")?"&":"?")+t}function Ee(a){a.ns("jsonp"),a.expose({jsonp:function(i,o){return a.emit("jsonp.requested",i),function(e,t){var n=C(),i=b("script",{src:ke(e,"callback="+n)});D[n]=F(function(){D[n]=void 0,y(function(){d.body.removeChild(i)}),i=void 0,t.apply(null,arguments)}),(d.body||d.head).appendChild(i)}(i,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.emit("jsonp.loaded",i,{args:t}),o.apply(void 0,t)}),this}})}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(e){_e(t,e,n[e])})}return t}function Te(u,e,s){u.ns("iframeTransport"),u.defaults({iframeTransport:{timeout:3e4}}),u.expose({iframe:function(t,n){n=F(n);var i,o=d.head||d.body,a=_(t.url).origin,r=Date.now(),c=F(function(e){u.emit(e),u.emit("iframeTransport.done",Se({},t,{elapsed:Date.now()-r}))}),l=b("iframe",{src:t.url,onload:function(){this.onload=void 0,window.addEventListener("message",{handleEvent:function(e){e.origin===a&&(window.removeEventListener("message",this),clearTimeout(i),o.removeChild(l),c("iframeTransport.succeeded",Date.now()-r),n(e.data))}});var e=t.data&&y(function(){return JSON.stringify(t.data)},function(e){u.carp(e)});l.contentWindow.postMessage({payload:e},a)}});l.style.display="none",o.appendChild(l),i=U(function(){u.carp("Timeout! iframe transport request timed out"),o.removeChild(l),c("iframeTransport.failed"),n(null)},t.timeout||s.iframeTransport.timeout)}})}function De(e,t,n){e.ns("config.moarConfig");var i=n.moarConfig;null!=i&&m(le(i),function(e){e.has(n)||e.copy(n,i)})}function xe(e){var t=new RegExp(e+"=([^;]+)").exec(decodeURIComponent(d.cookie));return t&&t[1]}function Ie(e,t){var n=function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t}(2<arguments.length&&void 0!==arguments[2]?arguments[2]:7776e3),i=_("".concat(w)).hostname,o=e+"="+G(t)+"; path=/"+(i&&1<i.split(".").length?"; domain="+i:"")+"; expires="+n.toUTCString();d.cookie=o}function Ce(e){Ie(e,"",-1e3)}function Ae(i,e,t){i.ns("cookies"),i.expose({getCookie:function(e){var t=xe(e);return i.emit("cookies.read",e),t},setCookie:function(e,t,n){Ie(e,t,n),i.emit("cookies.written",e)},deleteCookie:function(e){Ce(e),i.emit("cookies.deleted",e)},clearCookies:function(){Ce(t.cookie),Ce(t.sesname),i.emit("cookies.cleared")},getCookieValue:function(){return function(){return xe(this.config.cookie)}.call(this)}}),e.once("lifecycle.teardown.requested",function(){e.clearCookies()})}function Oe(e,t,n){var i=2<arguments.length&&void 0!==n?n:"path";return""+e.url+e[i]+t}function Pe(e){e(C())}function Ne(r,c,l){r.ns("getid"),r.expose({getid:function(n){if(c.once("getid",function(e,t){return n(t)}),!u){u=!0;var t=F(function(e){u=!1,e||(e=C()),c.setid(e),r.emit("getid",e)}),i=c.getCookieValue();if(i&&i.length){var o=function(e,t){var n,i=!1,o=e.once(t,function(e,t){i=!0,n=t});return function(){return o(),{fired:i,captured:n}}}(c,"cookies.cleared");z(function(){if(o().fired){var e=c.getCookieValue();e?t(e):a()}else t(i)})}else a()}function a(){l.loadid?function(t,n){var e=t.config,i=Oe(e,e.cid[0],"idpath")+"?assign=false";t.jsonp(i,function(e){return n.call(t,e)})}(c,t):z(Pe,t)}},setid:function(e){var t=c.getCookieValue();t&&t.length&&(c.changeId=t),c.setCookie(l.cookie,e)}});var u=!1}function je(e,t){return new de(t).get(e)}var Le=H({croaked:!0,toString:function(){return"CROAK"}});function Ue(e,t,n){e.ns("audit.mustEnable"),e.expose({use:function(e){try{return r.call(this,e)}catch(e){if(e!==Le)throw e}return this}}),e.hold({mustEnable:function(){if(null==this.namespace)throw new Error("You must claim a namespace before using .mustEnable()!");var e=je(n,this.namespace.split("."));if(null==e||e.disabled)throw this.carp("Plugin disabled by configuration"),Le}})}var ze=function(){function t(e){i(this,t),this.data=e}return a(t,[{key:"getAt",value:function(e){return je(this.data,e)}},{key:"toLegacyStyle",value:function(){return this.data.user}}],[{key:"fromPayload",value:function(e){return new t(e.data)}},{key:"fromLegacyPayload",value:function(e){return new t(function(e){return{user:e}}(e.data))}}]),t}(),Fe=H(["all"]);function Ke(n,e,i){n.ns("segments"),n.defaults({segments:{disabled:!1,storageKey:"lytics_segments",storage:se(localStorage),defaultSegments:se(Fe)}}),n.mustEnable();var o=void 0;n.pushIntegration({success:function(e){if(null==(o=e.getSegments()))return n.carp("Entity has no segments! Falling back to the default segments!"),void(o=i.segments.defaultSegments);var t=y(function(){return JSON.stringify(o)});null!=t&&i.segments.storage.setItem(i.segments.storageKey,t)}}),n.expose({loadSegments:function(t){e.loadEntity(function(e){t(e.getSegments())})},getSegments:function(){return y(function(){if(null==o){var e=i.segments.storage.getItem(i.segments.storageKey);if(null==e)throw new Error("Segments not loaded! Failing over to default segments");o=JSON.parse(e)}return o},function(e){return n.carp(e),o=i.segments.defaultSegments})}}),e.once("lifecycle.teardown.requested",function(){n.emit("segments.storageCleared"),localStorage.removeItem(i.segments.storageKey)}),ze.prototype.getSegments=function(){var e=this.data;return null==e||null==e.user?i.segments.defaultSegments:g(this.data.user.segments,function(e){return"not_found"!==e||(n.carp("`not_found` segment detected and filtered!"),!1)})}}function qe(){return(new Date).getTime()}var Me=D.navigator,Ve=Me.userAgent;function Be(e){return e.replace(/^https?:\/\//,"")}function Ge(e,t,n){if(function(){var e=Me.userAgent||Me.vendor||D.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}()){e._mob="t";var i="unknown";/Android/i.test(Ve)?i="Android":/BlackBerry/i.test(Ve)?i="Blackberry":/iPhone|iPad|iPod/i.test(Ve)?i="IOS":/IEMobile/i.test(Ve)&&(i="WinMobile"),e._device=i}else e._nmob="t",e._device="desktop";e.url=Be(w.href),y(function(){return D.self!==D.top},function(){return!0})&&(e._if="t"),"_uid"in e&&!e._uid&&delete e._uid;var o=n.getCookie("__utma");if(o&&10<o.length&&(e._ga=o.substring(0,o.indexOf(".",10))),!("_uid"in e)){var a=n.getCookie(t.cookie);a&&a.length&&(e._uid=a)}var r=n.getCookie("optimizelyEndUserId");r&&(e.optimizelyid=r),"_v"in e||(e._v=ve),n&&n.changeId&&(e._uido=n.changeId)}function Re(l,i,u){var t;l.ns("entity"),l.defaults({entity:{format:"default",endpoint:void 0,table:"user",byFieldKey:u.byFieldKey,byFieldValue:void 0,preload:!1}}),l.hold({buildEntityUrl:c,getEntityConfig:function(){return function(e){return e.byFieldValue||(e.byFieldValue=i.getCookieValue()),e}(function(){if(null!=u.entity)return u.entity;var e=u.lio.global;if(null!=window[e]){var t=window[e];return{byFieldKey:t.field,byFieldValue:t.value}}}())}});var o=!1;function a(e){e||(console.warn("no entity found! Failing over using the default entity!"),e={data:u.segments?{segments:u.segments.defaultSegments}:{}}),t=ze[s()?"fromLegacyPayload":"fromPayload"](e),o=!1,l.emit("entity.loaded",t)}function r(e){a(y(function(){return{data:JSON.parse(e)}}))}function s(){return"legacy"===u.entity.format}function c(e,t){e=function(e){var t=e.toUpperCase();if(!re(["GET","POST"],e))throw new Error("The method ".concat(e," is not supported!"));return t}(e);var n=l.getEntityConfig(),i=n.byFieldKey,o=n.byFieldValue,a=function(e,t,n,i){var o=[];return s()?(o.push(e.url),o.push("api/me"),"GET"!==t&&o.push("iframe"),o.push(e.cid[0]),o.push(n),o.push(i)):(o.push(e.url),o.push("api/personalize"),o.push(e.cid[0]),o.push(e.entity.table),o.push(n),o.push(i),"GET"!==t&&o.push("iframe")),o}(u,e,i,o),r=!1,c=t&&y(function(){var e=encodeURIComponent(JSON.stringify(v(_e({},i,o),t)));return r=!0,e});return ke(u.entity.endpoint?u.entity.endpoint:function(e){return e.replace(/\/$/,"")}(a.join("/")),g(["segments=true",null!=u.entity.fields&&"fields=".concat(u.entity.fields.join(",")),r&&"mergestate=true",r&&"GET"===e&&"state=".concat(c),"ts=".concat(qe())],Boolean).join("&"))}l.expose({loadEntity:function(t,n){if(1===arguments.length&&"function"==typeof t){var e=[t,n];n=e[0],t=e[1]}null!=n&&i.once("entity.loaded",function(e,t){return n(t)}),o?l.carp("Entity is already in flight! Not sending another request!"):(o=!0,l.emit("entity.requested"),i.pull(function(e){i.unloadEntity(),null!=e&&(t=v({},t,e)),Ge(t=v({},t),u,i),i.getid(function(){var e=c("GET",t);e.length<2e3?function(e,t){i.jsonp(e,t)}(e,a):function(e,t){i.iframe({url:c("POST",e),data:e},t)}(t,r)})}))},entityReady:function(n){null!=t?z(n,t):i.once("entity.loaded",function(e,t){return n(t)})},getEntity:function(){return null==t&&l.carp("entity not loaded!"),t},unloadEntity:function(){var e=null!=t;t=void 0,e&&l.emit("entity.unloaded")}}),u.entity.preload&&i.once("lifecycle.setup.done",function(){i.loadEntity()}),i.once("lifecycle.teardown.requested",function(){i.unloadEntity()})}function We(){}function Qe(e,t){var n=F(t);if(0===e){var i=n;return i.times=0,i}var o=function(){++o.times===e&&n()};return o.times=0,o}function Ye(_,S,T){_.ns("poll"),_.defaults({poll:{retries:600,interval:100}}),_.hold({poll:function(e){_.emit("poll.started",e);var t=e.property,o=void 0===t?"addthis":t,n=e.receiver,i=void 0===n?D:n,a=e.predicate,r=void 0===a?Boolean:a,c=e.retries,l=void 0===c?T.poll.retries:c,u=e.interval,s=void 0===u?T.poll.interval:u,d=e.success,f=void 0===d?We:d,p=e.failure,g=void 0===p?We:p,h=Qe(l,function(){w(g,"poll.failed",new Error("Maximum retries exceeded for property `".concat(String(o),"`: ").concat(l,"!")),h.times)});if(!y()){var m=setInterval(function(){y()?b():h()},s),v=F(E);return S.once("lifecycle.teardown.requested",v),v}function y(){return r(k(),o,i)}function b(){w(f,"poll.succeeded",k(),h.times)}function w(e,t,n,i){E(),z(function(){e(),_.emit(t,{tries:i,property:o,completion:n})})}function k(){return"symbol"===W(o)?i[o]:je(i,o.split("."))}function E(){clearInterval(m),_.emit("poll.stopped",e)}b()}})}var Je=function(){function t(e){i(this,t),this.name="Form",this.config=e}return a(t,[{key:"send",value:function(i,o){var a=this,r=b("iframe",{id:C()});r.style.display="none",d.body.appendChild(r),z(function(){var e=r.contentWindow.document,t=b("form",{action:i,method:"post"},e),n=b("input",{value:o.dataMsg,type:"hidden",name:"_js"},e);t.appendChild(n),e.body.appendChild(t),t.submit(),U(function(){y(function(){d.body.removeChild(r)}),Y(o.callback)&&o.callback()},a.config.delay)})}}]),t}(),$e=function(){function t(e){i(this,t),this.name="Gif",this.config=e}return a(t,[{key:"send",value:function(e,t){var n=new Image,i=F(t.callback);U(n.onload=i,this.config.delay),n.src=ke(e,t.dataMsg)}}]),t}();function Ze(a,r,c){a.ns("collect"),a.defaults({collect:{plainObjectsOnly:!0}}),a.hold({getTransport:function(e,t){return 2e3<e.dataMsg.length+t.length?new Je(c):new $e(c)}}),a.expose({collect:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];a.emit("collect.started",e);var i=function(e){return"string"==typeof e?X[e]:e}(c.serializer);if(null==i)return a.carp('"'.concat(c.serializer,'" is not a recognized serializer')),void a.emit("collect.failed");if(e.dataMsg=i(e.data,c.collect.plainObjectsOnly),e.sendurl||(e.sendurl=[]),e.sendurl.unshift(t),n)z(e.callback,e,r);else{var o=a.getTransport(e,t);e.channelName=o.name,o.send(t,v({},e,{callback:function(){Y(e.callback)&&e.callback(e,r),a.emit("collect.finished",e)}}))}}})}var He,Xe=D.screen;function et(l,u,e){l.ns("pageAnalysis"),l.defaults({pageAnalysis:{disabled:!1}}),l.expose({pageAnalysis:function(){var n=u.config,e=u.getCookie(n.sesname),t=u.pageData,i=_(n.location);if(0<i.search.length){var o=I(i.search);v(t,he(o,function(e){return K(P(e,1)[0],"utm_")})),n.qsargs&&0<n.qsargs.length&&v(t,he(o,function(e){var t=P(e,1)[0];return re(n.qsargs,t)}))}e||(t._sesstart="1");var a=this.referrer;if(a&&0<a.length){var r=/\/\/(.*)\//.exec(a);if(r&&!re(r[1],w.host)){var c=Be(a);t._ref=c,e||(t._sesref=c)}}u.setCookie(n.sesname,"e",n.sessecs),t._tz=parseInt("".concat(-(new Date).getTimezoneOffset()/60),10),t._ul=Me.language||Me.userLanguage,Xe&&(t._sz=Xe.width+"x"+Xe.height),this.pageData=t,l.emit("pageAnalysis",t)}}),e.pageAnalysis.disabled||(u.once("lifecycle.setup.requested",function(){u.pageData={},u.pageAnalysis()}),l.pullIntegration({success:function(e){v(e,u.pageData)}}))}function tt(e){var t,n,i;return m(e,function(e){switch(W(e)){case"string":t=e;break;case"function":i=e;break;case"object":n=J(e)||T(e)?v({},e):e;break;case"boolean":!function(e){console.warn("Deprecation warning: "+e)}("boolean argument is passed to send. Ignoring.");break;default:throw new TypeError("unable to process jstag.send event: unknown value type ("+W(e)+")")}}),null==n&&(n={}),{stream:t,data:n,callback:i}}function nt(i,o,a){i.ns("send"),i.defaults({send:{pageViewOnFirst:!1}});var r=0;function c(e){var t=tt(e);return t.data=v({_e:"pv"},o.pageData,t.data),t}i.expose({send:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0==r++&&a.send.pageViewOnFirst){var i=c(t);o.sendMessage(i)}else o.sendMessage(tt(t))},identify:function(){o.send.apply(o,arguments)},page:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=c(t);o.sendMessage(i)},pageView:function(){o.page.apply(o,arguments)},mock:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=tt(t);i.data=v({_e:"mk"},o.pageData,i.data),o.sendMessage(i,!0)},unblock:function(n){if(null!=n&&o.once(He.UNBLOCKED,function(e,t){return n(t)}),!o.blocked)return o;o.blocked=o.config.blocked=!1;var e=o.config.payloadQueue.length,t=Qe(e,function(){i.emit(He.UNBLOCKED,e)});return m(o.config.payloadQueue,function(e){o.sendMessage(Se({},e,{callback:function(){null!=e.callback&&e.callback.apply(e,arguments),o.once("collect.finished",t)}}))}),o.config.payloadQueue.length=0,o},parseEvent:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tt(t)},sendMessage:function(n,e){var i=1<arguments.length&&void 0!==e&&e;if(!a.url||!a.cid)throw new TypeError("Must have collection url and ProjectIds (cid)");if(!o.blocked||i){if(i){if(null==n.callback)throw new TypeError("cannot call mock without a callback");var t=n.data;m(a.payloadQueue,function(e){v(t,e.data)})}n.stream||(n.stream=a.stream),m(this.config.cid,function(e){var t=Oe(a,e)+(n.stream?"/"+n.stream:"");-1===t.indexOf("_uidn=")&&a.cookie!==ye&&(t=ke(t,"_uidn="+a.cookie)),n.data._ts=qe(),Ge(n.data,a,o),o.getid(function(e){e&&!n.data._uid&&(n.data._uid=e,n.data._getid="t"),o.collect(n,t,i)})})}else a.payloadQueue.push(n)}}),i.pullIntegration({success:function(e){v.apply(void 0,[e].concat(te(a.payloadQueue.map(function(e){return e.data}))))}}),i.pushIntegration({success:function(){o.unblock()}})}(He||(He={})).UNBLOCKED="send.unblocked";var it="liosetup";function ot(f,i,p){var e,t;f.ns("lio"),f.defaults({lio:{global:it,polling:(e={},_e(e,"lio.push",p.poll),_e(e,"lio.pull",{retries:0}),e),performPullAndSend:!0}});var g={},h=(_e(t={},"lio.pull",[]),_e(t,"lio.push",[]),t),o={};function a(t,n){return 1<n.length?function(e){return n(t(),e)}:function(){return n(t())}}function n(e){f.emit("lio.flush",e);var t=h[e];0===t.length&&r();var n=Qe(t.length,r);function i(t,n){y(function(){var e=t.options.success;0<e.length?e(function(){o(t),n()}):(e(),o(t),n())},function(e){f.carp(e),a(t)})}function o(e){f.emit("lio.succeeded",e)}function a(e){e.fail(),f.emit("lio.failed",e)}function r(){f.emit("lio.flushed",e),f.emit(function(e){switch(e){case"lio.pull":return"lio.pulled";case"lio.push":return"lio.pushed"}throw new Error("Invalid channel: ".concat(e))}(e))}m(t,function(e){f.emit("lio.started",e),function(e,t){null==e.options.globalVariableName?i(e,t):function(e,t){var n=e.options.globalVariableName;f.poll(v({},e.options.polling,{property:n,success:function(){i(e,t)},failure:function(){f.carp("Failed to detect `".concat(n,"`!")),a(e),t()}}))}(e,t)}(e,function(){f.emit("lio.finished",e),n()})})}f.hold({integration:function(e,t){var n=t.integrationName,i=void 0===n?this.namespace:n,o=t.globalVariableName,a=t.success,r=void 0===a?We:a,c=t.failure,l=void 0===c?We:c,u=t.polling,s=void 0===u?p.lio.polling[e]:u;if(!E(e))throw new Error("Invalid event name ".concat(e,' (not typeof "string")'));var d={channel:e,options:{integrationName:i,globalVariableName:o,success:r,failure:l,polling:s},succeed:r,fail:l};h[e].push(d),g[i]="lio.registered",f.emit("lio.registered",d)},pullGlobalVariable:function(t){f.pullIntegration(v({},t,{success:function(e){v(e,window[t.globalVariableName])}}))},pullIntegration:function(e){var t=e.success,n=void 0===t?We:t;f.integration("lio.pull",v({},e,{success:a(function(){return o},n)}))},pushIntegration:function(e){var t=e.success,n=void 0===t?We:t;f.integration("lio.push",v({},e,{success:a(function(){return i.getEntity()},n)}))}}),f.expose({getIntegrationsRegistry:function(){return g},isIntegrationLoaded:function(e){return"lio.success"===g[e]},pull:function(e){i.once("lio.pulled",function(){return e(o)}),f.emit("lio.pull",o),n("lio.pull")}}),i.on("entity.loaded",function(e,t){i.once("lio.pushed",function(){f.emit("lio.done")}),f.emit("lio.push",t),n("lio.push")}),i.on("entity.unloaded",function(){o={}}),p.lio.performPullAndSend&&i.on("lifecycle.setup.done",function(){i.pull(function(e){0<Object.keys(e).length&&i.send(e)})})}function at(e,t,n){if(e.ns("audit"),e.defaults({audit:{topic:"*",level:"silent",info:void 0}}),null!=n.audit.info&&t.on("*",n.audit.info),"verbose"===n.audit.level){var a=n.audit.topic;t.on(a,function(){for(var e,t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(g(t,Boolean),function(e,t){return"".concat(e,"[").concat(t,"]")},"")}("event","*"!==a&&a),n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(e=console).log.apply(e,[t].concat(i))})}}function rt(l){l.ns("pixel"),l.hold({pixel:function(e){var n=e.src,t=e.success,i=void 0===t?We:t,o=e.failure,a=void 0===o?We:o;if(n){var r=new Image;r.src=n,r.onload=c(i,"succeeded"),r.onerror=c(a,"failed")}else l.carp("`src` is required for `.pixel()` requests!");function c(e,t){return null==e?e:function(){e.apply(this,arguments),l.emit("pixel.".concat(t),n)}}}})}function ct(e,o){e.expose({call:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o[e].apply(o,n)}})}var lt=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.plugins=[],this.config=e,this.referrer=y(function(){return c.document.referrer},function(){return p.document.referrer},function(){return d.referrer}),this.blocked=!0===this.config.blocked,this.changeId=null,this.instanceId=C(),this.use(ct),this.use(V),this.use(De),this.use(we),this.use(at),this.use(B),this.use(Ue),this.use(Ye),this.use(N),this.use(Ne),this.use(ot),this.use(nt),this.use(Ae),this.use(et),this.use(Ze),this.use(Ee),this.use(Te),this.use(rt)}return a(t,[{key:"loadScript",value:function(e,t,n){return f(e,t,n)}},{key:"extend",value:function(){return v.apply(void 0,arguments)}},{key:"parseUri",value:function(e){return _(e)}},{key:"parseQueryString",value:function(e){return I(e)}},{key:"setUp",value:function(){}},{key:"tearDown",value:function(){}},{key:"use",value:function(e){return r.call(this,e)}}]),t}();function ut(e){e.ns("tealium.dataLayerPull"),e.defaults({tealium:{dataLayerPull:{disabled:!0}}}),e.mustEnable(),e.pullGlobalVariable({globalVariableName:"utag_data"})}function st(e,i,t){e.ns("cookies.dataLayerPull"),e.defaults({cookies:{dataLayerPull:{customCookieKeys:[],disabled:!1}}}),e.mustEnable(),e.pullIntegration({success:function(n){m(t.cookies.dataLayerPull.customCookieKeys,function(e){var t=i.getCookie(e);null!=t&&(n[e]=t)})}})}function dt(e,t,n){if(e.ns("customGlobals"),e.defaults({customGlobals:{globals:[],disabled:!0,payloadNamespace:"lyticsDataLayer"}}),e.mustEnable(),0!==n.customGlobals.globals.length){var i=n.customGlobals,o=i.globals,a=i.payloadNamespace;m(o,function(t){e.pullIntegration({globalVariableName:t,success:function(e){e[a]||(e[a]={}),e[a][t]=je(window,t.split("."))}})})}else e.carp("The custom globals plugin is enabled, but no globals are configured!")}function ft(n,e,t){n.ns("adroll.audiencePush"),n.defaults({adroll:{audiencePush:{disabled:!0,global:"__adroll"}}}),n.mustEnable();var i,o=t.adroll.audiencePush.global;n.pushIntegration({globalVariableName:o,success:function(e){var t=e.getSegments();null!=t&&y(function(){i=window[o],function(e){m(e,function(e){i.record_user({adroll_segments:"lytics_".concat(e)})}),n.emit("adroll.audiencePush.done")}(t)},function(e){n.carp(e)})}})}function pt(t,e,n){t.ns("salesforce.dmp"),t.defaults({salesforce:{dmp:{disabled:!0,pixel:"https://beacon.krxd.net/1x1_usermatch.gif",partnerId:"lytics"}}}),t.mustEnable(),e.on("lio.push",function(){e.getid(function(e){t.pixel({src:ke(n.salesforce.dmp.pixel,"partner=".concat(n.salesforce.dmp.partnerId,"&partner_uid=").concat(e)),success:function(){t.emit("salesforce.dmp.succeeded")},failure:function(){t.carp("Failed loading pixel!"),t.emit("salesforce.dmp.failed")}})})})}function gt(t,e,n){t.ns("lotame.dmp"),t.defaults({lotame:{dmp:{disabled:!0,baseUrl:"https://sync.crwdcntrl.net/map",clientId:"13197",clientIdSpace:"LYTC"}}}),t.mustEnable(),e.on("lio.push",function(){e.getid(function(e){t.pixel({src:"".concat(n.lotame.dmp.baseUrl,"/c=").concat(n.lotame.dmp.clientId,"/tp=").concat(n.lotame.dmp.clientIdSpace,"/tpid=").concat(e),success:function(){t.emit("lotame.dmp.succeeded")},failure:function(){t.carp("Failed loading pixel!"),t.emit("lotame.dmp.failed")}})})})}function ht(e,t){e.expose({backingInstance:function(){return t}})}function mt(e,t,n){e.pushIntegration({integrationName:"legacy-liosetup-callback",success:function(t){null!=window.liosetup&&null!=window.liosetup.callback&&m([].concat(window.liosetup.callback),function(e){e("legacy"===n.entity.format?t.toLegacyStyle():t)})}})}function vt(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n,e))return n;return-1}function yt(e,t){return-1!==vt(e,t)}lt.prototype.serializers=X;var bt,wt,kt,Et,_t,St,Tt,Dt,xt,It="config.google.analytics.properties";function Ct(l,u,s){if(l.ns("google.analytics.dimensionPush"),l.defaults({google:{analytics:{global:"ga",properties:se([]),dimensionPush:{disabled:!0,eventCategory:"lytics",eventAction:"lytics_google_integration"},shouldSendUid:!0}}}),l.mustEnable(),0!==s.google.analytics.properties.length){var i,e=s.google.analytics.global;l.pushIntegration({globalVariableName:e,success:function(){i=window[e],function(){function n(){l.emit("google.analytics.dimensionPush.done")}i(function(){var e=i.getAll();if(0===e.length)return l.carp("No Google Analytics properties!"),void n();var t=function(e){var t=h(e,function(e){return{id:e.get("trackingId"),name:e.get("name")}}),n={};return g(t,function(e){var t=!("".concat(e.id)in n);return n[e.id]=!0,t||function(e,t){l.carp("Not sending to Google Analytics tracker ".concat(t," because it has a duplicate web property ").concat(e))}(e.id,e.name),t})}(e);!function(e){m(g(s.google.analytics.properties,function(t){return!yt(e,function(e){return e.trackingId===t.id})}),function(e){!function(e){l.carp("Mismatch! Property in `".concat(It,"` for property with ID `").concat(e,"` not found in Google Analytics"))}(e.id)})}(t),function(e,t){m(e,function(e){return function(e,t){var a=e.name,n=e.id,i=function(e,t){return e[vt(e,t)]}(s.google.analytics.properties,function(e){return e.id===n});if(null==i)return function(e){l.carp("Mismatch! Property in Google Analytics for property with ID `".concat(e,"` not found in `").concat(It,"`"))}(n),void o();if(0===i.dimensions.length)return function(e){l.carp("No dimensions for property with ID `".concat(e,"`!"))}(n),void o();var r=!1,c=Qe(i.dimensions.length,o);function o(){s.google.analytics.shouldSendUid&&!r?function(t,n){u.getid(function(e){f(t,"&uid",e),p(t),n()})}(a,t):(p(a),t())}m(i.dimensions,function(e){var t=function(e){return A(e)||ee(e)||O()}(e),n=t[0],i=t[1],o=t.slice(2);"&uid"===i&&(r=!0),n in d?d[n].apply(d,te(o).concat([function(e){f(a,i,"".concat(e)),c()}])):function(e){l.carp("Don't know how to retrieve `".concat(e,"`!"))}(n)})}(e,t)})}(t,Qe(t.length,n))})}()},failure:function(){l.carp("Google Analytics was not detected!"),l.emit("google.analytics.dimensionPush.failed")}});var d={user_id:function(e){u.getid(e)},user_field:function(t,n){u.entityReady(function(e){return n(e.getAt(t.split(".")))})}}}else l.carp("No Google Analytics properties found. Nothing to do!");function f(e,t,n){i("".concat(e,".set"),t,n),l.emit("google.analytics.dimensionPush.set.requested",{property:e,dimension:t,value:n})}function p(e){i("".concat(e,".send"),{hitType:"event",eventCategory:s.google.analytics.dimensionPush.eventCategory,eventAction:s.google.analytics.dimensionPush.eventAction,nonInteraction:1}),l.emit("google.analytics.dimensionPush.send.requested",{property:e})}}function At(n,e,i){n.ns("google.dfp.audiencePush"),n.defaults({google:{dfp:{audiencePush:{disabled:!0,targeting:"LyticsSegments"},global:"googletag"}}}),n.mustEnable();var o=i.google.dfp.global;n.pushIntegration({globalVariableName:o,success:function(t){y(function(){var e=window[o];e.cmd.push(function(){e.pubads().setTargeting(i.google.dfp.audiencePush.targeting,t.getSegments())})},function(e){n.carp(e)})}})}function Ot(n,t,i){n.ns("google.tagManager"),n.defaults({google:{tagManager:{global:"dataLayer",segmentsKey:"lytics_segments",dataLayerPull:{disabled:!0},audiencePush:{disabled:!0}}}});var e=i.google.tagManager,o=e.dataLayerPull.disabled,a=e.audiencePush.disabled;function r(t){var n=i.google.tagManager.global;return{globalVariableName:n,success:function(e){t(window[n],e)}}}o&&a?n.carp("Both push and pull integrations are disabled by configuration!"):(o?n.carp("The pull integration is disabled, and the push integration enabled by configuration"):n.pullIntegration(r(function(e){m(e,function(e){!function(e){return 2<s(e).length||!("event"in e)}(e)||t.sendMessage({stream:i.stream,data:e})}),n.emit("google.tagManager.dataLayerPulled")})),a?n.carp("The push integration is disabled, and the pull integration enabled by configuration"):n.pushIntegration(r(function(e,t){e.push(_e({},i.google.tagManager.segmentsKey,k(h(t.getSegments(),function(e){return[e,e]})))),n.emit("google.tagManager.audiencePushed")})))}function Pt(i,o,a){i.ns("addThis.audiencePush"),i.defaults({addThis:{audiencePush:{disabled:!0,cookie:"__attag",global:"addthis"}}}),i.mustEnable();var t,n=a.addThis.audiencePush.global;function r(){t.user&&t.user.tag?(y(function(){m(o.getSegments(),function(e){t.user.tag(c(e))})},function(e){i.carp(e)}),i.emit("addThis.audiencePush.pushed")):i.carp("The AddThis SDK must provide a `user.tag` method!")}function c(e){return"lio:".concat(e)}i.pushIntegration({globalVariableName:n,success:function(e){t=window[n],function(e){i.emit("addThis.audiencePush.detected");var t=a.addThis.audiencePush.cookie,n=o.getCookie(t);if(null!=n)return i.emit("addThis.audiencePush.cookieDetected",t),function(e,t){var n=g(e.split(","),function(e){return!K(e,"lio:")});n.push.apply(n,te(h(t.getSegments(),c))),function(e){o.setCookie(a.addThis.audiencePush.cookie,e,2592e3),i.emit("addThis.audiencePush.cookieUpdated"),r()}(n.join(","))}(n,e);i.emit("addThis.audiencePush.cookieNotDetected",t),r()}(e)}})}function Nt(o,e,a){o.ns("facebook.ads.audiencePush"),o.defaults({facebook:{ads:{audiencePush:{global:"_fbq",disabled:!0,eventName:"Lytics Audiences"}}}}),o.mustEnable();var r=a.facebook.ads.audiencePush.global;o.pushIntegration({globalVariableName:r,success:function(e){var t=D[r],n=e.getSegments();if(0!==n.length){var i=k(h(n,function(e){return[e,"true"]}));t.push(["track",a.facebook.ads.audiencePush.eventName,i]),o.emit("facebook.ads.audiencePush.done",i)}else o.carp("No segments to send!")}})}function jt(e,t,n){function i(){return n.pathfora.install.css.disabled?(e.carp("custom css installation disabled"),void a()):null==n.pathfora.install.css.src?(e.carp("custom css installation has invalid src"),void a()):void function(e,t,n){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=e,i.onload=t,i.onerror=n;var o=document.getElementsByTagName("link")[0],a=o&&o.parentNode||document.head||document.body,r=o||a.lastChild;null!=r?a.insertBefore(i,r):a.appendChild(i)}(n.pathfora.install.css.src,function(){n.pathfora.install.css.loaded=!0,e.emit(bt.CSS_SUCCEEDED),a()},function(){e.carp("custom css installation failed"),a()})}function o(){n.pathfora.install.sdk.loaded=!0,e.emit(bt.SDK_SUCCEEDED),i()}function a(){e.emit(bt.SUCCEEDED),e.emit(bt.DONE)}function r(){e.emit(bt.DONE)}e.ns("pathfora.install"),e.defaults({pathfora:{install:{global:"pathfora",disabled:!0,sdk:{disabled:!0,loaded:!1,lazy:!0,src:"//c.lytics.io/static/pathfora.min.js"},css:{disabled:!0,loaded:!1,src:void 0}}}}),e.mustEnable(),t.once("pathfora.*.sdkNotDetected",function(){return n.pathfora.install.sdk.disabled?(e.carp("sdk installation disabled"),void r()):null!=window.pathfora?(e.carp("already installed"),void o()):null==n.pathfora.install.sdk.src?(e.carp("sdk installation has invalid src"),void r()):void f(n.pathfora.install.sdk.src,function(){o()},function(){e.carp("sdk installation failed"),r()})}),!1===n.pathfora.install.sdk.lazy&&e.poll({property:n.pathfora.install.global,retries:0,failure:function(){e.emit(bt.SDK_NOT_DETECTED)}})}function Lt(n,e,i){function t(){var e=_(i.location),t={};return 0<e.search.length&&(t=I(e.search)),null!=t[i.pathfora.preview.variation.previewKey]?(i.pathfora.preview.variation.id=t[i.pathfora.preview.variation.previewKey],i.pathfora.preview.format="variation",!0):null!=t[i.pathfora.preview.experience.previewKey]?(i.pathfora.preview.experience.id=t[i.pathfora.preview.experience.previewKey],i.pathfora.preview.format="experience",!0):(n.carp("missing query params"),!1)}function o(){if(t()){if(n.emit("pathfora.preview.".concat(i.pathfora.preview.format,".requested")),null==i.pathfora.preview[i.pathfora.preview.format].id||""===i.pathfora.preview[i.pathfora.preview.format].id)return n.carp("".concat(i.pathfora.preview.format," id missing")),void a();f(function(e,t){return e.replace("{id}",t)}(i.pathfora.preview[i.pathfora.preview.format].src,i.pathfora.preview[i.pathfora.preview.format].id),function(){n.emit("pathfora.preview.".concat(i.pathfora.preview.format,".succeeded")),n.emit(kt.DONE)},function(){n.carp("failed to load ".concat(i.pathfora.preview.format," config")),a()})}else a()}function a(){n.emit(kt.DONE)}n.ns("pathfora.preview"),n.defaults({pathfora:{preview:{disabled:!0,format:void 0,global:"pathfora",polling:{retries:5},variation:{previewKey:"lytics_variation_preview_id",id:void 0,src:"".concat(i.url,"/api/program/campaign/variation/preview/").concat(i.cid[0],"/{id}/config.js")},experience:{previewKey:"lytics_preview_id",id:void 0,src:"".concat(i.url,"/api/experience/preview/").concat(i.cid[0],"/{id}/config.js")}}}}),n.hold({isPathforaPreview:t}),n.mustEnable(),n.pushIntegration({globalVariableName:i.pathfora.preview.global,polling:{property:i.pathfora.preview.global,retries:i.pathfora.preview.polling.retries},success:function(){o()},failure:function(){if(e.config.pathfora.install.disabled||e.config.pathfora.install.sdk.disabled)return n.carp("unable to install sdk as pathfora.install or pathfora.install.sdk is disabled"),void a();n.emit(kt.SDK_NOT_DETECTED)}}),e.once("pathfora.install.done",function(){if(null==window[i.pathfora.preview.global])return n.carp("cannot preview when pathfora is not installed"),void a();o()})}function Ut(o,e,a){function t(e){if(null==window[a.pathfora.publish.global])return o.carp("cannot publish when pathfora is not installed"),void c();if(o.isPathforaPreview())return o.carp("unable to publish since request is for preview"),void c();if(null!=window[a.pathfora.publish.global].clearAll&&window[a.pathfora.publish.global].clearAll(),a.pathfora.publish.useLegacy){if(a.pathfora.publish.legacy.disabled)return o.carp("unable to publish since required method(legacy) is disabled"),void c();!function(e){f(a.pathfora.publish.legacy.src,function(){a.pathfora.publish.legacy.loaded=!0,function(t){var e=window[a.pathfora.publish.global].callbacks||[];return!!e.length&&(m(e,function(e){e(t.data.user)}),!0)}(e)?o.emit(_t.LEGACY_CALLBACKS_FLUSHED):o.carp("failed to flush pathfora callbacks no variations executed"),r()},function(){o.carp("failed to load legacy personalization config"),c()})}(e)}else!function(e){f(a.pathfora.publish.src,function(){a.pathfora.publish.loaded=!0,function(e){var t=[];if(null==window._pfacfg)return o.carp("unable to configure experiences when no _pfacfg present"),c();var n=function(n){if(!l(n))return!1;var e=n.data.experiences||[];return e.length?(m(e,function(e){var t=window._pfacfg.candidates[e.experience_id];t&&re(n.data.user.segments,t.segment)?a.pathfora.publish.candidates.experiences.push(t.widget):o.carp("recommended experience(".concat(e.experience_id,") was not found in _pfacfg"))}),!0):void o.carp("unable to select experience candidates when no recommendations have been made")}(e),i=function(t){return!!l(t)&&(m(u(window._pfacfg.variations),function(e){re(t.data.user.segments,window._pfacfg.variations[e].segment)&&a.pathfora.publish.candidates.variations.push(window._pfacfg.variations[e].widget)}),window._pfacfg.abTestConfigs.length&&(a.pathfora.publish.candidates.legacyABTests=window._pfacfg.abTestConfigs),!0)}(e);if(!n&&!i)return c();t=[].concat(te(t),te(a.pathfora.publish.candidates.experiences),te(a.pathfora.publish.candidates.variations)),a.pathfora.publish.candidates.legacyABTests.length&&(window[a.pathfora.publish.global].initializeABTesting(a.pathfora.publish.candidates.legacyABTests),o.emit(_t.AB_TESTS_INITIALIZED)),t.length&&(window[a.pathfora.publish.global].initializeWidgets(t,window._pfacfg.acctcfg,{priority:a.pathfora.publish.priority}),o.emit(_t.WIDGETS_INITIALIZED)),r()}(e)},function(){o.carp("failed to load personalization config"),c()})}(e)}function r(){o.emit(_t.SUCCEEDED),o.emit(_t.DONE)}function c(){o.emit(_t.DONE)}function l(e){return null!=e&&null!=e.data&&null!=e.data.user||(o.carp("entity must contain user attribute!"),!1)}o.ns("pathfora.publish"),o.defaults({pathfora:{publish:{disabled:!0,global:"pathfora",src:"".concat(a.url,"/api/experience/candidate/").concat(a.cid[0],"/config.js"),loaded:!1,priority:"ordered",urlFragmentWhitelist:[],polling:{retries:5},recommendations:{experience:[]},candidates:{experiences:[],variations:[],legacyABTests:[]},legacy:{disabled:!0,src:"".concat(a.url,"/api/program/campaign/config/").concat(a.cid[0],"/config.js"),loaded:!1}}}}),o.mustEnable(),a.pathfora.publish.useLegacy=!a.pathfora.publish.urlFragmentWhitelist.length||!yt(ge(a.pathfora.publish.urlFragmentWhitelist),function(e){var t=P(e,2)[1];return-1!==a.location.indexOf(t)}),e.once("lifecycle.teardown.requested",function(){var e=a.pathfora.publish.candidates;e.experiences.length=0,e.variations.length=0,e.legacyABTests.length=0}),o.pushIntegration({globalVariableName:a.pathfora.publish.global,polling:{property:a.pathfora.publish.global,retries:a.pathfora.publish.polling.retries},success:function(e){t(e)},failure:function(){a.pathfora.install.disabled?(o.carp("unable to request pathfora install since pathfora.install is disabled"),c()):(e.once("pathfora.install.done",function(){e.entityReady(t)}),o.emit(_t.SDK_NOT_DETECTED))}})}function zt(a,e,r){a.ns("amazon.dsp"),a.defaults({amazon:{dsp:{disabled:!0,euWhitelist:["UK","DE","FR","IT","ES","IN","AE"],pixelEu:"https://aax-eu.amazon-adsystem.com/s/dcm?pid=0fd612d9-169e-4abc-9509-01b23357b7a4",pixelRest:"https://s.amazon-adsystem.com/dcm?pid=8f9b0615-e931-45a3-99e7-549741c1960e",alpha2:void 0,language:navigator.language}}}),a.mustEnable(),e.on("lio.push",function(){e.getid(function(e){var t=r.amazon.dsp,n=t.pixelEu,i=t.pixelRest,o=ke(function(){var e=r.amazon.dsp,t=e.euWhitelist,n=e.alpha2,i=e.language;return re(t,n||function(e){return e.substr(e.lastIndexOf("-")+1).toUpperCase()}(i))}()?n:i,"id=".concat(e));a.pixel({src:o,success:function(){a.emit(Tt.SUCCEEDED,o)},failure:function(){a.carp("Failed loading pixel!"),a.emit(Tt.FAILED,o)}})})})}function Ft(n,e,i){n.ns("taboola.dmp"),n.defaults({taboola:{dmp:{disabled:!0,baseUrl:"https://trc.taboola.com/sg",partnerId:"lytics",redirectUrl:"https://c.lytics.io/c/provider/taboola?taboola_id=<TUID>"}}}),n.mustEnable(),e.on("lio.push",function(){e.getid(function(e){var t=G("".concat(i.taboola.dmp.redirectUrl,"&_uid=").concat(e,"&account_id=").concat(i.cid[0]));n.pixel({src:"".concat(i.taboola.dmp.baseUrl,"/").concat(i.taboola.dmp.partnerId,"/1/cm?redirect=").concat(t),success:function(){n.emit("taboola.dmp.succeeded")},failure:function(){n.carp("Failed loading pixel!"),n.emit("taboola.dmp.failed")}})})})}function Kt(t,e,n){if(t.ns("thetradedesk.dsp"),t.defaults({thetradedesk:{dsp:{disabled:!0,baseUrl:"//match.adsrvr.org/track/cmf/generic",partnerId:void 0}}}),t.mustEnable(),null==n.thetradedesk.dsp.partnerId)return t.carp('"partnerId" needs to be passed into config!'),void t.emit("thetradedesk.dsp.failed");e.on("lio.push",function(){e.getid(function(e){t.pixel({src:"".concat(n.thetradedesk.dsp.baseUrl,"/?ttd_pid=").concat(n.thetradedesk.dsp.partnerId,"&ttd_puid=").concat(e,"&ttd_puid=").concat(n.cid[0],"&ttd_tpi=1&gpdr=0"),success:function(){t.emit("thetradedesk.dsp.succeeded")},failure:function(){t.carp("Failed loading pixel!"),t.emit("thetradedesk.dsp.failed")}})})})}function qt(i,o,a){i.ns("google.dv360"),i.defaults({google:{dv360:{disabled:!0,baseUrl:"https://cm.g.doubleclick.net/pixel",bidderAccountNid:"lytics",entityIdModifiedAtField:"user.dv360_id_ts",cookieTTL:7776e6,lyticsStream:"google_dv360"}}}),i.mustEnable(),null!=a.google.dv360.bidderAccountNid?o.getid(function(n){o.entityReady(function(e){var t=e.getAt(a.google.dv360.entityIdModifiedAtField.split("."));+new Date(t)>Date.now()-a.google.dv360.cookieTTL?i.emit("google.dv360.skipped"):i.pixel({src:"".concat(a.google.dv360.baseUrl,"?google_cm&google_nid=").concat(a.google.dv360.bidderAccountNid,"&google_hm=").concat(btoa(n)),success:function(){o.send(a.google.dv360.lyticsStream),i.emit("google.dv360.succeeded")},failure:function(){i.carp("Failed loading pixel!"),i.emit("google.dv360.failed")}})})}):i.carp("Missing required config option: google.dv360.bidderAccountNid!")}function Mt(e){D[n][e]=function(){if(null==xt)throw new Error("You must first call .init()");return xt[e].apply(xt,arguments)}}function Vt(e,t){D[n][e]=t}function Bt(){xt&&xt.tearDown(),m(j,clearTimeout),j.length=0}(wt=bt||(bt={})).SUCCEEDED="pathfora.install.succeeded",wt.SDK_NOT_DETECTED="pathfora.install.sdkNotDetected",wt.SDK_SUCCEEDED="pathfora.install.sdk.succeeded",wt.CSS_SUCCEEDED="pathfora.install.css.succeeded",wt.DONE="pathfora.install.done",(Et=kt||(kt={})).DONE="pathfora.preview.done",Et.SDK_NOT_DETECTED="pathfora.preview.sdkNotDetected",(St=_t||(_t={})).SUCCEEDED="pathfora.publish.succeeded",St.DONE="pathfora.publish.done",St.SDK_NOT_DETECTED="pathfora.publish.sdkNotDetected",St.LEGACY_CALLBACKS_FLUSHED="pathfora.publish.legacy.pathforaCallbackFlushed",St.AB_TESTS_INITIALIZED="pathfora.publish.current.abtestsInitialized",St.WIDGETS_INITIALIZED="pathfora.publish.current.widgetsInitialized",(Dt=Tt||(Tt={})).SUCCEEDED="amazon.dsp.succeeded",Dt.FAILED="amazon.dsp.failed",D[n]||(D[n]=D[e]||{}),Vt("JSTag",lt),Vt("init",(Mt("loadScript"),Mt("use"),Vt("extend",v),Vt("ckieGet",xe),Vt("ckieSet",Ie),Vt("ckieDel",Ce),Vt("isLoaded",!1),Vt("util",{forEach:m,reduce:l,map:h,filter:g,contains:re,pairs:ge,object:k,filterObject:he,trim:x,extend:v,once:F,parseUri:_,parseQueryString:I,method:Mt,shallow:se}),function(e){var t=0<arguments.length&&void 0!==e?e:D[n].config;return Bt(),(xt=new lt(t)).use(Re),xt.use(ut),xt.use(st),xt.use(dt),xt.use(Ke),xt.use(ft),xt.use(mt),xt.use(Pt),xt.use(Nt),xt.use(At),xt.use(Ot),xt.use(Ct),xt.use(qt),xt.use(jt),xt.use(Lt),xt.use(Ut),xt.use(pt),xt.use(gt),xt.use(zt),xt.use(Ft),xt.use(Kt),xt.use(ht),Vt("isLoaded",!0),Vt("config",xt.config),Vt("serializers",xt.serializers),Vt("version",ve),xt.setUp(),Bt})),D[e]=D[n];var Gt=D[n]}();
 window.jstag.config.moarConfig = {"cid":["2fd96d46f6e152bf739a8ef56693388d"],"addThis":{"audiencePush":{"disabled":false}},"adroll":{"audiencePush":{"disabled":false}},"amazon":{"dsp":{"disabled":true}},"audit":{},"cookies":{"dataLayerPull":{"customCookieKeys":["ajs_anonymous_id","anon_fpid"],"disabled":false}},"entity":{"preload":true},"facebook":{"ads":{"audiencePush":{"disabled":false}}},"customGlobals":{},"google":{"analytics":{"dimensionPush":{"disabled":true}},"dfp":{"audiencePush":{"disabled":true}},"tagManager":{"dataLayerPull":{"disabled":true},"audiencePush":{"disabled":true}},"dv360":{"disabled":true}},"iframeTransport":{},"lio":{"polling":{"lio.push":{},"lio.pull":{}}},"lotame":{"dmp":{"disabled":true}},"pageAnalysis":{},"pathfora":{"install":{"disabled":false,"sdk":{"disabled":false},"css":{"disabled":false,"src":"https://static.foxnews.com/static/fncdp/css/fncdp.css"}},"preview":{"disabled":false,"polling":{},"variation":{"src":"https://api.lytics.io/api/program/campaign/variation/preview/2fd96d46f6e152bf739a8ef56693388d/{id}/config.js"},"experience":{"src":"https://api.lytics.io/api/experience/preview/2fd96d46f6e152bf739a8ef56693388d/{id}/config.js"}},"publish":{"disabled":false,"legacy":{"disabled":false,"src":"https://c.lytics.io/api/program/campaign/config/2fd96d46f6e152bf739a8ef56693388d/config.js"},"urlFragmentWhitelist":["https://www.foxnews.com/","www.foxnews.com","foxnews.com"],"src":"https://c.lytics.io/api/experience/candidate/2fd96d46f6e152bf739a8ef56693388d/config.js","polling":{}}},"poll":{},"qubit":{"dataLayerPull":{"disabled":false}},"salesforce":{"dmp":{"disabled":true}},"segments":{},"send":{"pageViewOnFirst":true},"taboola":{"dmp":{"disabled":true}},"tealium":{"dataLayerPull":{"disabled":true}},"thetradedesk":{"dsp":{"disabled":true}}};