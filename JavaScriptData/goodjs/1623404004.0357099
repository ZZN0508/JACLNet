var BLO_Autocompletion=[],ObjectExtended={create:function(){return"function"!=typeof Object.create?function(){function a(){}var b=Object.prototype.hasOwnProperty;return function(c){if("object"!=typeof c)throw TypeError("Object prototype may only be an Object or null");a.prototype=c;var d=new a;if(a.prototype=null,arguments.length>1){var e=Object(arguments[1]);for(var f in e)b.call(e,f)&&(d[f]=e[f])}return d}}():Object.create.apply(Object,arguments)}};!function(){"use strict";function a(a){var b,c,d,e,f,g=a||o_hGetById("o-header"),h=g&&g.querySelectorAll("[data-tag]");c=function(a,b){var c,d=a.getAttribute("data-tag");o_hasClass(a,"o-nav-item")&&!a.hasAttribute("href")&&(a.hasAttribute("data-oevent-category")||a.hasAttribute("data-oevent-action")||a.hasAttribute("data-oevent-label"))&&(c="clic"===b?"clic"+(a.getAttribute("data-oevent-label")?a.getAttribute("data-oevent-label"):"")+"_"+(o_hasClass(a,"o-nav-item-highlight")||o_hasClass(document.documentElement,"o-show-menu")?"fermeture":"ouverture"):"hover"+(a.getAttribute("data-oevent-label")?a.getAttribute("data-oevent-label"):"")),d&&o_link({track_refGstat:d+("hover"===b?"_hover":""),track_page:window.sUrlReferrer,track_type_event:b,oevent_label:c},a)},d=function(a){var b=a.currentTarget?a.currentTarget:a.srcElement;o_addEvent(b.firstChild,"mouseover",e),o_removeEvent(b,"mouseleave",d),clearTimeout(window.o_layerNotifTimer)},e=function(a){var b=a.currentTarget?a.currentTarget:a.srcElement;o_removeEvent(b,"mouseover",e),o_addEvent(b.parentNode,"mouseleave",d),window.o_layerNotifTimer=setTimeout(function(){c(b,"hover")},b.getAttribute("data-statsHoverTimeout")&&parseInt(b.getAttribute("data-statsHoverTimeout"))||1e3)},f=function(a){var b=a.currentTarget?a.currentTarget:a.srcElement;clearTimeout(window.o_layerNotifTimer),c(b,"clic")};for(var i=0,j=h.length;i<j;i++)b=h[i],b.getAttribute("data-link-changed")||(b.getAttribute("data-tag"),o_addEvent(b,"mousedown",f),b.setAttribute("data-link-changed",!0),"true"===b.getAttribute("data-poponover")&&null!==b.getAttribute("data-statsHoverTimeout")&&o_addEvent(b,"mouseover",e))}function b(a){return a.replace(/\{\{document.location.href\}\}/g,document.location.href).replace(/\{\{document.location.href\|escape\}\}/g,document.location.href).replace(/\{\{document.location.hostname\}\}/g,document.location.hostname).replace(/\{\{document.location.hostname\|escape\}\}/g,encodeURIComponent(document.location.hostname)).replace(/\{\{document.location.pathname\}\}/g,document.location.pathname).replace(/\{\{document.location.pathname\|escape\}\}/g,encodeURIComponent(document.location.pathname)).replace(/\{\{o_idzone.IDENT_FORM_URL\}\}/g,o_idzone.IDENT_FORM_URL).replace(/\{\{o_confCommon.identity.changeUserReturnUrl\}\}/g,o_confCommon.identity.changeUserReturnUrl).replace(/\{\{o_confCommon.identity.changeUserReturnUrl\|escape\}\}/g,encodeURIComponent(o_confCommon.identity.changeUserReturnUrl)).replace(/\{\{o_confCommon.identity.service\|if\}\}/g,o_confCommon.identity.service?"&service="+o_confCommon.identity.service:"")}function c(a){var b;try{switch(a.badge){case"o-idzone-mail":b=a.text,a.text=o_setMailTitle(b,a.hasText,!0,!0);break;case"o-idzone-smsmms":var c=o_idzone.USER_SMS_NB||0,d=o_idzone.USER_MMS_NB||0;b=c+d;var e="";c>0&&d>0?e="SMS/MMS":c>0?e="SMS":d>0&&(e="MMS"),a.text+='</span><span class="o-sr-only">'+a.text+", "+b+" "+e+" non lu",a.text+=b>1?"s":"";break;case"o-advise":b=a.notifications.filter(function(a){return""===a.Argumentation.argumentationValue.displayCount||"0"===a.Argumentation.argumentationValue.displayCount}).length;var f=document.querySelector("#"+a.link.attr.id+" span.o-sr-only");f.innerText+=", "+b+" notification",f.innerText+=b>1?"s non lues":" non lue"}}catch(g){o_log(g.message,"warn")}}function d(a){var b,c="",d=function(a){return a>0?new OneIClass.Badge(a).render():""};try{switch(o_log("[header] Ajout d'un badge "+a.badge+" à l'élément "+a.type,"info"),a.badge){case"o-idzone-mail":b=o_idzone.USER_MAIL_NB,c=d(b);break;case"o-idzone-smsmms":b=(o_idzone.USER_SMS_NB?o_idzone.USER_SMS_NB:0)+(o_idzone.USER_MMS_NB?o_idzone.USER_MMS_NB:0),c=d(b);break;case"o-advise":var e=a.notifications.filter(function(a){return""===a.Argumentation.argumentationValue.displayCount||"0"===a.Argumentation.argumentationValue.displayCount}).length;e>0&&(c=d(e));break;default:o_log("Notification "+a.badge+" inconnue","warn")}}catch(f){o_log(f.message,"warn")}finally{return c}}function e(a){var b,c=document.querySelector("#o-ribbon-right"),d=document.querySelector("#o-nav-wrapper.o-nav-neutral"),e=document.querySelector("#"+a.link.attr.id),f=document.querySelector("#"+a.layer.attr.id),g=document.querySelector("#"+a.link.attr.id+" .o-link-icon")||e,h=document.querySelector("#"+a.layer.attr.id+" .o-layer-arrow > div");if(f){var i=f.getBoundingClientRect().width;if(!1!==a.layer.rightPos)f.style.right=a.layer.rightPos+"px";else if(!a.layer.fullWidth){f.style.right=Math.ceil(parseInt(getComputedStyle(e).width)/2-i/2)+"px";var j=Math.ceil(f.getBoundingClientRect().right)+o_getScrollLeft();if(b=parseInt(f.getBoundingClientRect().right)+o_getScrollLeft(),c||d){var k=c||d;b-=parseInt(k.getBoundingClientRect().right)+o_getScrollLeft()}f.getBoundingClientRect().left<0&&(f.style.right=parseInt(f.style.right)+f.getBoundingClientRect().left-15+"px"),b>0&&(document.body.scrollWidth-15<=j?f.style.right=parseInt(f.style.right)+b+"px":document.body.scrollWidth+15-j<b&&(f.style.right=parseInt(f.style.right)-(document.body.scrollWidth-15-j)+"px"))}if(h)if(a.layer.centerOnIcon){var l=parseInt(getComputedStyle(g,":before").fontSize);isNaN(l)&&(l=parseInt(getComputedStyle(g,"before").fontSize)),h.style.left=g.getBoundingClientRect().left-f.getBoundingClientRect().left+l/2-h.getBoundingClientRect().width/2+"px"}else h.style.left=e.getBoundingClientRect().left-f.getBoundingClientRect().left+parseInt(getComputedStyle(e).width)/2-h.getBoundingClientRect().width/2+"px"}}function f(a){void 0!==a&&(window.o_magicData=a),window.o_startHeader=function(){head.ready(function(){o_generateHeader()})},o_ready(o_startHeader,"o-header")}function g(a,b){var c,d=function(a){o_log("Rendu d'un élément "+a.type,"info"),(a.condition===undefined||o_checkDisplayConditionItem(a.condition))&&(a.object=new window.OneIClass[a.type](a),a.object._containerId=b,a.html=a.object.render())};if(Array.isArray(a))for(c in a)a.hasOwnProperty(c)&&"function"==typeof window.OneIClass[a[c].type]&&d(a[c]);else"function"==typeof window.OneIClass[a.type]&&d(a)}function h(a){var b;o_log("=== ZONE "+a.name.toUpperCase(),"info");for(b in a.data)a.data.hasOwnProperty(b)&&g(a.data[b],a.id);o_renderTemplate(a.template,a.templateData,a.id,a.name,!!a.append&&a.append);for(b in a.data)a.data.hasOwnProperty(b)&&("function"==typeof o_getNestedValue(a.data[b],["object","addEvent"])&&a.data[b].object.addEvent.apply(a.data[b].object),"function"==typeof o_getNestedValue(a.data[b],["object","addSpecificEvent"])&&a.data[b].object.addSpecificEvent.apply(a.data[b].object))}function i(a,b){if(!a||!b)return!1;""!==b&&(b="-"+b);var c=document.querySelector("#"+a);if(null===c)return!1;o_confCommon.customSearchFormIdContainer=a,o_confCommon.customSearchFormSuffix=b,c.innerHTML=t.renderSearchZone({suffix:b,text:o_confCommon.unifiedSearchEngine.label,taggingCategory:o_confCommon.unifiedSearchEngine.tracking.category,taggingAction:o_confCommon.unifiedSearchEngine.tracking.action,useSubmit:!0}),o_initCompletion({},document.querySelector("#o-search-input"+b),"EC_outer_completion");var d=document.querySelector("#o-search-input"+b);return o_addEvent(d,"focus",function(){document.querySelector("#formSearchCompletion"+b+" .o-search-label").style.display="none"}),o_addEvent(d,"blur",function(){""===d.value&&(document.querySelector("#formSearchCompletion"+b+" .o-search-label").style.display="")}),t.attachTagging("formSearchCompletion"+b),!0}function j(a){""!==o_currentPanel&&o_executeToggle(o_currentPanel),""===a||o_isArrayEquals(a,o_currentPanel)?o_currentPanel="":(o_executeToggle(a),o_currentPanel=a,"o-header o-popin-notif-panel"===a&&"usabilla_live"in window&&window.usabilla_live("trigger","notifs_opened"))}function k(){navig.isIOS&&(document.body.style.cursor="pointer"),document.addEventListener("click",function(a){a=a||window.event;var b=a.target||a.srcElement,c=document.querySelector("#o-nav-burger"),d=document.querySelector("#o-nav-burger.o-hide"),e=b.closest(".o-nav-burger"),f=document.querySelectorAll('[data-state="o-active"]'),g=b.closest('[data-state="o-active"]')||b.closest('[data-state="o-inactive"]')||o_hasState(b,"o-active")||o_hasState(b,"o-inactive");if(!f.length||null===f||g||null===d&&null!==c){if(null!==c&&null===d&&!g&&!e&&!(a.target===document.documentElement&&a.clientX>=o_getDocumentWidth()||a.target===document.documentElement&&a.clientY<=window.innerHeight)){var h=document.querySelector("#o-nav .o-nav-burger"),i=document.querySelector("#o-header #o-nav-burger");o_removeClass(h,"open"),o_addClass(i,"o-nav-megaMenu-items-closing")}}else l()},!0)}function l(a){if(document.querySelectorAll("#o-header "+(a?a+" ":"")+'[data-state="o-active"]').forEach(function(a){o_confCommon.responsiveMobile&&a&&document.querySelector("#"+a.id+" .o-layer-scroll")&&(document.querySelector("#"+a.id+" .o-layer-scroll").style.removeProperty("height"),document.querySelector('#o-header .o-layer[data-state="o-active"] .o-layer-scroll .o-layer-data').style.removeProperty("height")),o_setState(a,"o-inactive")}),o_confCommon.responsiveMobile){var b=document.querySelector("#o-layer-shade");null!==b&&(b.style.visibility="hidden",b.style.removeProperty("top"))}}function m(a){var b=document.querySelectorAll("#o-notifLayer .o-layer-scroll .o-layer-data ul li a");b.length&&b.forEach(function(b){-1!==b.getAttribute("data-label").trim().split(" ").indexOf(a)||"all"===a?o_removeClass(b.parentElement,"o-hide"):o_addClass(b.parentElement,"o-hide")})}function n(a){var b=document.querySelector("#o-header #o-notifLayer .o-filter[data-selected]"),c=document.querySelector("#o-header #o-notifLayer .o-filter[data-filter="+a+"]");b&&b.removeAttribute("data-selected"),c&&c.setAttribute("data-selected","")}function o(a){var b=document.querySelector("#o-notifLayer"),c=document.querySelector("#o-notifLayer .o-notifLayer-sondage-start");if(b&&c){var d=document.getElementById("o-range-line"),e=document.getElementById("o-range-label");if(void 0!==a){if(d.removeAttribute("data-selected"),e.removeAttribute("data-selected"),"wrn"==a){o_addClass(e,"o-warn-label");var f=document.getElementById("o-sondage-vote-btn");f&&(e.innerHTML="<span>"+f.getAttribute("data-warn-message")+"</span>")}else o_removeClass(e,"o-warn-label"),e.innerHTML="?";d.value=d.max/2}else o_removeClass(e,"o-warn-label"),e.innerHTML=d.value;var g=parseInt(getComputedStyle(b).width),h=parseInt(getComputedStyle(c).marginLeft),i=g-2*h,j=parseInt(getComputedStyle(document.querySelector("#o-notifLayer #o-range-line")).fontSize),k=parseInt(getComputedStyle(document.querySelector("#o-notifLayer #o-range-label")).width),l=d.value/d.max*10,m=l==d.max?2:0;e.style.marginLeft=l*(i-j)/d.max+(j/2-k/2)-m+"px"}}function p(){var a=o_getNestedValue(o_confCommon,["footer","id"]);a=a||"o-footer-wrapper",o_confCommon.footer._container=document.querySelector("#"+a+", #"+a+"-hidden"),null===o_confCommon.footer._container&&(document.body.insertAdjacentHTML("beforeEnd",'<footer id="'+a+'"></footer>'),o_confCommon.footer._container=document.querySelector("#"+a)),o_confCommon.footer._container.innerHTML=""}function q(){o_magicData.Footer_Zone={},o_magicData.Footer.forEach(function(a){"undefined"==typeof o_magicData.Footer_Zone[a.name]&&(o_magicData.Footer_Zone[a.name]=[]),o_magicData.Footer_Zone[a.name].push(a)})}function r(a,b){if("undefined"==typeof o_magicData.Footer)return!1;"undefined"!=typeof arguments[0]&&"undefined"!=typeof arguments[0].compactVersion&&(o_confCommon.footer.compactVersion=arguments[0].compactVersion),"undefined"!=typeof arguments[1]&&""!==arguments[1]&&(o_confCommon.footer.id=arguments[1]),"undefined"==typeof o_magicData.Footer_Zone&&q(),p(),o_confCommon.footer.compactVersion?s("ZoneLienLegal"):o_magicData.Footer.forEach(function(a){s(a.name)}),o_confCommon.callbackFooter()}function s(a){if("undefined"==typeof o_magicData.Footer_Zone&&q(),"undefined"==typeof o_magicData.Footer_Zone[a])return!1;o_magicData.Footer_Zone[a].forEach(function(a){(!a.condition||a.condition&&o_checkDisplayConditionItem(a.condition))&&("undefined"==typeof o_confCommon.footer._container&&p(),h({name:a.type,id:o_confCommon.footer._container.id,append:!0,data:[a],template:"{{=data.html}}",templateData:{data:a}}))})}window.OneIClass||(window.OneIClass={}),function(){(window.OneIClass.Text=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}).prototype.render=function(){return"undefined"!=typeof this.badge&&(this.badgeHtml=d(this)),new o_t('<span{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}>{{img.src}}<img {{@img}}{{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@img}}/>{{/img.src}}{{icon}}<span class="o-link-icon" data-icon="{{=icon}}">{{badgeHtml}}{{=badgeHtml}}{{/badgeHtml}}</span>{{/icon}}{{text}}<span class="o-link-text"><span>{{=text}}</span></span>{{/text}}</span>').render(this)}}(),function(){(window.OneIClass.Button=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}).prototype.render=function(){return"undefined"!=typeof this.badge&&(this.badgeHtml=d(this)),new o_t('<button{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}>{{img.src}}<img {{@img}}{{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@img}}/>{{/img.src}}{{icon}}<span class="o-link-icon" data-icon="{{=icon}}">{{badgeHtml}}{{=badgeHtml}}{{/badgeHtml}}</span>{{/icon}}{{text}}<span class="o-link-text"><span>{{=text}}</span></span>{{/text}}</button>').render(this)}}(),function(){(window.OneIClass.Link=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}).prototype.render=function(){return this.img&&this.img.src&&"//"!==this.img.src.substr(0,2)&&"http"!==this.img.src.substr(0,4)&&(this.img.src="//"+staticServ+"/Magic/"+this.img.src),"undefined"==typeof this.hasText&&(this.hasText=!0),"undefined"!=typeof this.badge&&(this.badgeHtml=d(this),c(this)),this.attr.href&&(this.attr.href=b(this.attr.href)),this.javascript&&(this.attr=this.attr||{},this.attr.href="javascript:void(0)",this.attr.onclick=this.javascript),this.text&&(this.text=this.text.replace(/_/g,"&nbsp;")),this.attr&&this.attr.target&&"_blank"===this.attr.target&&(this.attr.title+=" (nouvelle fenêtre)",this.attr["aria-label"]=this.attr.title),new o_t('{{img.src}}<a{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{:_val}} {{=_key}}{{/_val}}{{/@attr}}><img{{@img}} {{_val}} {{=_key}}="{{=_val}}"{{:_val}} {{=_key}}{{/_val}}{{/@img}}/>{{hasText}}{{icon}}<span class="o-link-icon" data-icon="{{=icon}}">{{badgeHtml}}{{=badgeHtml}}{{/badgeHtml}}</span>{{/icon}}{{text}}<span class="o-link-text"><span>{{=text}}</span></span>{{/text}}{{/hasText}}</a>{{:img.src}}<a{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{:_val}} {{=_key}}{{/_val}}{{/@attr}}>{{icon}}<span class="o-link-icon" data-icon="{{=icon}}">{{badgeHtml}}{{=badgeHtml}}{{/badgeHtml}}</span>{{/icon}}{{hasText}}{{text}}<span class="o-link-text">{{badgeHtml}}<span aria-hidden="true">{{=text}}</span>{{:badgeHtml}}<span>{{=text}}</span>{{/badgeHtml}}</span>{{/text}}{{:hasText}}{{text}}<span class="o-sr-only">{{=text}}</span>{{/text}}{{/hasText}}</a>{{/img.src}}').render(this)}}(),function(){var a=window.OneIClass.Layer=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);"undefined"==typeof this.layer&&(this.layer={}),this.layer.centerOnIcon="undefined"==typeof this.layer.centerOnIcon||this.layer.centerOnIcon,this.layer.fullWidth="undefined"!=typeof this.layer.fullWidth&&this.layer.fullWidth,this.layer.rightPos=!(!this.layer.rightPos||isNaN(parseInt(this.layer.rightPos)))&&this.layer.rightPos,this.layer.setLayerPosition="undefined"==typeof this.layer.setLayerPosition||this.layer.setLayerPosition,this.layer.hideArrow="undefined"!=typeof this.layer.hideArrow&&this.layer.hideArrow};a.prototype.render=function(){if(this.layer){if(this.link.html||g(this.link),"undefined"==typeof this.layer.isRendered||!1!==this.layer.isRendered){var a;return a=this.layer.setLayerPosition?new o_t('{{layer}}<div{{@layer.attr}}{{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@layer.attr}}>{{!layer.hideArrow}}<div class="o-layer-arrow"><div></div></div>{{/!layer.hideArrow}}{{=layer.html}}</div>{{/layer}}'):new o_t('{{layer}}<div{{@layer.attr}}{{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@layer.attr}}>{{=layer.html}}</div>{{/layer}}'),this.link.html+a.render(this)}return this.link.html}return""},a.prototype.addEvent=function(){if("undefined"==typeof this.layer.isRendered||!1!==this.layer.isRendered)if(this.link&&this.link.attr&&this.link.attr.id&&this.layer&&this.layer.attr&&this.layer.attr.id){var a,b,c,d=this,f=document.querySelector("#"+d.link.attr.id),g=document.querySelector("#"+d.layer.attr.id),h=f?f.parentNode:null,i=o_createNewEvent("showlayer"),j=o_createNewEvent("hideLayer"),k=document.querySelector("#o-header #o-ribbon"),p=document.querySelector("#o-layer-shade"),q=function(b){b.keyCode&&27!==b.keyCode||(clearTimeout(a),clearTimeout(c),o_setState(f,"o-inactive"),o_setState(g,"o-inactive"),o_unsetAriaExpanded(f),document.dispatchEvent(j),o_removeEvent(document,"keydown",q))},r=function(){p&&(p.style.height=window.innerHeight-parseInt(document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top)+200+"px")},s=function(a){a.preventDefault(),window.scrollTo(0,k.offsetTop),navig.isIOS&&(document.body.style.top="-"+k.offsetTop+"px"),null!==a.target.closest("a")?a.target.closest("a").focus():document.activeElement.blur(),e(d);var b=document.querySelector("#o-nav-burger"),c=document.querySelector("#o-nav-burger.o-hide");if(null!==b&&null===c){var h=document.querySelector("#o-nav .o-nav-burger"),m=document.querySelector("#o-header #o-nav-burger");o_removeClass(h,"open"),o_addClass(m,"o-nav-megaMenu-items-closing")}var n=document.querySelector('#o-header .o-layer[data-state="o-active"]'),o=document.querySelector('#o-header a[data-state="o-active"]'),s=document.querySelector("#"+g.id+" .o-layer-scroll"),t=document.querySelector("#"+g.id+" .o-layer-scroll .o-layer-data");if(o_toggleState(f,"o-active","o-inactive"),null!==n&&(o_setState(n,"o-inactive"),o_setState(o,"o-inactive"),document.dispatchEvent(j),p&&(p.style.visibility="hidden",p.style.removeProperty("top")),o_removeEvent(document,"keydown",q)),n!==g&&(n&&n.id&&o&&"o-notifLink"!==o.id&&s&&(document.querySelector("#"+n.id+" .o-layer-scroll").style.removeProperty("height"),document.querySelector("#"+n.id+" .o-layer-scroll .o-layer-data").style.removeProperty("height")),o_setState(g,"o-active"),o_link(d.link.tagging&&d.link.tagging.category,d.link.tagging&&d.link.tagging.action,d.link.tagging&&d.link.tagging.label?"clic_tablette_"+d.link.tagging.label:"clic_tablette"),o_confCommon.responsiveMobile||o_addEvent(document,"keydown",q)),o_hasState(g,"o-active")){if(p&&(p.style.top=document.querySelector("#o-ribbon").offsetTop+(document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top)+"px"),o_pageScrollLock(),r(),p&&(p.style.visibility="visible"),g&&"o-notifLayer"!==g.id){var u=window.innerHeight-parseInt(document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top),v=parseInt(s.getBoundingClientRect().bottom-s.getBoundingClientRect().top),w=parseInt(t.getBoundingClientRect().bottom-t.getBoundingClientRect().top);s.style.height=v>u?u+"px":"auto",t.style.height=w+"px"}}else l(),s.style.removeProperty("height"),t.style.removeProperty("height"),p&&(p.style.visibility="hidden",p.style.removeProperty("top")),o_pageScrollUnlock(),window.scrollTo(0,k.offsetTop);f.dispatchEvent(i)};setTimeout(function(){d.layer.setLayerPosition&&e(d),addEventListener("resize",function(){if(e(d),o_confCommon.responsiveMobile){r();var a=document.querySelector('#o-header .o-layer[data-state="o-active"] .o-layer-scroll'),b=document.querySelector('#o-header .o-layer[data-state="o-active"] .o-layer-scroll .o-layer-data'),c=document.querySelector('#o-header a[data-state="o-active"]');if(a&&c&&"o-notifLink"!==c.id){a.style.removeProperty("height"),b.style.removeProperty("height");var f=window.innerHeight-parseInt(document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top),g=parseInt(a.getBoundingClientRect().bottom-a.getBoundingClientRect().top),h=parseInt(b.getBoundingClientRect().bottom-b.getBoundingClientRect().top);a.style.height=g>f?f+"px":g+"px",b.style.height=h+"px"}}}),navig.isTouchDevice()&&(addEventListener("orientationchange",function(){l(),p.style.visibility="hidden",o_pageScrollUnlock()}),o_confCommon.responsiveMobile&&document.querySelector("#o-layer-shade").addEventListener("click",function(a){a.preventDefault(),l(),p.style.visibility="hidden",p.style.removeProperty("top"),o_pageScrollUnlock(),window.scrollTo(0,k.offsetTop)})),!navig.isTouchDevice()&&h?(h.addEventListener("mouseenter",function(h){var j=document.querySelector('#o-header #o-ribbon [data-state="o-active"]')?0:300;o_addEvent(document,"keydown",q),b&&clearTimeout(b),a=setTimeout(function(){e(d),o_hideCompletionLR("o-ribbon","o-search-input-ribbon"),o_hideCompletionLR("o-service","o-search-input"),o_hideCompletionLR(o_confCommon.customSearchFormIdContainer,"o-search-input-"+o_confCommon.customSearchFormSuffix);var a=document.querySelector('#o-header .o-layer[data-state="o-active"]');a&&"o-notifLayer"===a.id&&a!==g&&(m("all"),n("all"),o(1)),l(),o_setState(f,"o-active"),o_setState(g,"o-active"),o_setAriaExpanded(f);var b=o_getNestedValue(d,["link","tagging","category"]),h=o_getNestedValue(d,["link","tagging","action"]),j=o_getNestedValue(d,["link","tagging","label"]);j=null!==j?"hover_"+j:"hover","number"==typeof o_getNestedValue(d,["trackingDelay"])?c=setTimeout(function(){o_link(b,h,j),f.dispatchEvent(i)},o_getNestedValue(d,["trackingDelay"])):(o_link(b,h,j),f.dispatchEvent(i))},j)}),h.addEventListener("mouseleave",function(c){a&&clearTimeout(a),b=setTimeout(function(){q(c)},800)})):8!==o_confCommon.display._mode&&f&&f.addEventListener(o_confCommon.responsiveMobile?"touchstart":"click",s,!0)},0);var t=function(a){var b=document.querySelectorAll("#"+g.id+" button, #"+g.id+" a, #"+g.id+" input"),c=b[0],e=b[b.length-1];9===a.keyCode&&(a.shiftKey&&document.activeElement===c||document.activeElement===e&&!a.shiftKey||0===b.length)&&(f.focus(),o_setState(f,"o-inactive"),o_setState(g,"o-inactive"),o_unsetAriaExpanded(f),document.dispatchEvent(j),o_removeEvent(document,"keydown",t),o_link(d.link.tagging&&d.link.tagging.category,d.link.tagging&&d.link.tagging.action,"fermeture_clavier")),27===a.keyCode&&(f.focus(),o_setState(f,"o-inactive"),o_setState(g,"o-inactive"),o_unsetAriaExpanded(f),document.dispatchEvent(j),o_removeEvent(document,"keydown",t),o_link(d.link.tagging&&d.link.tagging.category,d.link.tagging&&d.link.tagging.action,"fermeture_clavier"))};o_addEvent(f,"keydown",function(a){13!==a.keyCode&&32!==a.keyCode||u(a)}),o_addEvent(f,"click",function(a){0===a.detail&&u(a)});var u=function(a){a.preventDefault(),e(d),l(),o_setState(f,"o-active"),o_setState(g,"o-active"),o_setAriaExpanded(f);var b=document.querySelectorAll("#"+g.id+" button, #"+g.id+" a, #"+g.id+" input"),c=b[0];null!==c&&c.focus(),o_addEvent(document,"keydown",t),o_link(d.link.tagging&&d.link.tagging.category,d.link.tagging&&d.link.tagging.action,"ouverture_clavier")}}else o_confCommon.debug&&o_log("Attribut(s) absent(s) dans le JSON pour la configuration du layer de type "+this.template,"warn")}}(),function(){var a=window.OneIClass.Launcher=function(a){window.OneIClass.Layer.prototype.constructor.apply(this,arguments)};a.prototype=ObjectExtended.create(window.OneIClass.Layer.prototype),a.prototype.constructor=a,a.prototype.render=function(){for(var a=0,b=this.item.length;a<b;a++)g(this.item[a]);var c=new o_t('<div class="o-layer-scroll"><div class="o-layer-title">{{=layer.text}}</div><ul class="o-layer-data">{{@item}}<li class="o-layer-item">{{=_val.html}}</li>{{/@item}}</ul></div>');return this.layer.html=c.render(this),window.OneIClass.Layer.prototype.render.apply(this)},a.prototype.addSpecificEvent=function(){document.querySelector("#"+this.link.attr.id).addEventListener("click",function(a){a.preventDefault()})}}(),function(){var a=window.OneIClass.IdentityConnected=function(a){var b=o_idzone.USER_AVATAR_TINY_PICTURE_URL?o_idzone.USER_AVATAR_TINY_PICTURE_URL.replace("http:",""):"https://proxymedia.woopic.com/api/v1/images/1211%2Favatars%2F0.png";a.link.img={alt:"","aria-hidden":"true",src:b+"?format=80x80",srcset:b+"?format=80x80 1x, "+b+"?format=250x250 2x","class":o_idzone.USER_AVATAR_TINY_PICTURE_URL?"":"o-avatar-default"},o_confCommon.responsiveMobile?a.link.hasText=!1:a.link.text='<span class="o-identity-link-title">'+o_getDisplayUserName()+"</span>"+(a.link.text?a.link.text:""),this.identityType=parseInt(o_idzone.USER_IDENT_TYPE),this.showDetail=o_idzone.USER_IDENT_TYPE&&this.identityType<4,window.OneIClass.Layer.prototype.constructor.apply(this,arguments)};a.prototype=ObjectExtended.create(window.OneIClass.Layer.prototype),a.prototype.constructor=a,a.prototype.render=function(){var a,b;if("undefined"==typeof this.layer.isRendered||!1!==this.layer.isRendered){for(a=0,b=this.item.link.length;a<b;a++)g(this.item.link[a]);for(a=0,b=this.item.button.length;a<b;a++)g(this.item.button[a]);var c=new o_t('<div class="o-layer-scroll"><div class="o-layer-data"><div class="o-identityLayer-avatar"><img alt="" class="{{=link.img.class}}" aria-hidden="true" src="{{=link.img.src}}" srcset="{{=link.img.srcset}}" /></div><div class="o-identityLayer-fullname" title="'+o_getDisplayUserName()+'">'+o_getDisplayUserName()+'</div>{{showDetail}}<div class="o-identityLayer-detail" title="details identification">'+this.getDisplayUserDetail()+'</div>{{/showDetail}}{{item.link}}<ul class="o-identityLayer-link">{{@item.link}}<li>{{=_val.html}}</li>{{/@item.link}}</ul>{{/item.link}}{{item.button}}<ul class="o-identityLayer-button">{{@item.button}}<li>{{=_val.html}}</li>{{/@item.button}}</ul>{{/item.button}}</div></div>');this.layer.html=c.render(this)}return window.OneIClass.Layer.prototype.render.apply(this)},a.prototype.addSpecificEvent=function(){var a=this;document.querySelector("#"+a.link.attr.id)&&document.querySelector("#"+a.link.attr.id).addEventListener("click",function(b){if(b.preventDefault(),!o_confCommon.responsiveMobile){var c=o_getNestedValue(a,["link","tagging","category"]),d=o_getNestedValue(a,["link","tagging","action"]),e=o_getNestedValue(a,["link","tagging","label"]);e=e?"clic_"+e:"clic",c&&d&&o_link(c,d,e)}})},a.prototype.getDisplayUserDetail=function(){var a="";return 0===this.identityType||1===this.identityType?a=o_idzone.USER_MAIL_ADDRESS:2===this.identityType?a=o_idzone.USER_MSISDN.replace("33","0"):3===this.identityType&&(a=o_idzone.USER_MAIL_ADDRESS+"<br/>"+o_idzone.USER_MSISDN.replace("33","0")),a}}(),function(){var a=window.OneIClass.IdentityNotConnected=function(a){o_confCommon.responsiveMobile&&(a.link.hasText=!1),window.OneIClass.Layer.prototype.constructor.apply(this,arguments)};a.prototype=ObjectExtended.create(window.OneIClass.Layer.prototype),a.prototype.constructor=a,a.prototype.render=function(){var a,b;if("undefined"==typeof this.layer.isRendered||!1!==this.layer.isRendered){for(this.item.button&&g(this.item.button),this.item.msg&&g(this.item.msg),a=0,b=this.item.link.length;a<b;a++)g(this.item.link[a]);var c=new o_t('<div class="o-layer-scroll"><div class="o-layer-data o-not-auth">{{item.button}}<ul class="o-identityLayer-button"><li>{{=item.button.html}}</li></ul>{{/item.button}}{{item.msg}}<ul class="o-identityLayer-msg"><li>{{=item.msg.html}}</li></ul>{{/item.msg}}{{item.link}}<ul class="o-identityLayer-link">{{@item.link}}<li>{{=_val.html}}</li>{{/@item.link}}</ul>{{/item.link}}</div></div>');this.layer.html=c.render(this)}return window.OneIClass.Layer.prototype.render.apply(this)},a.prototype.addSpecificEvent=function(){var a=this;document.querySelector("#"+a.link.attr.id)&&document.querySelector("#"+a.link.attr.id).addEventListener("click",function(b){if(b.preventDefault(),!o_confCommon.responsiveMobile){var c=o_getNestedValue(a,["link","tagging","category"]),d=o_getNestedValue(a,["link","tagging","action"]),e=o_getNestedValue(a,["link","tagging","label"]);e=e?"clic_"+e:"clic",c&&d&&o_link(c,d,e)}})}}(),function(){var a=window.OneIClass.Logo=function(a){window.OneIClass.Link.prototype.constructor.apply(this,arguments),this.hasText=!1};a.prototype=ObjectExtended.create(window.OneIClass.Link.prototype),a.prototype.constructor=a,a.prototype.render=function(){return"https://r.orange.fr/r/Ohome_accueil"!==o_confCommon.logoUrl&&(this.attr.href=o_confCommon.logoUrl),window.OneIClass.Link.prototype.render.apply(this)}}(),function(){var a=window.OneIClass.LinkEvent=function(a){window.OneIClass.Link.prototype.constructor.apply(this,arguments)};a.prototype=ObjectExtended.create(window.OneIClass.Link.prototype),a.prototype.constructor=a,a.prototype.render=function(){return this.img&&(this.text=null),window.OneIClass.Link.prototype.render.apply(this)}}(),function(){var b=window.OneIClass.Notification=function(a){window.OneIClass.Layer.prototype.constructor.apply(this,arguments),this.cappingdata=[],this.notifications=[],this.sondage&&("undefined"==typeof this.sondage.note&&(this.sondage.note=10),this.sondage.text&&(this.sondage.tagAct=this.sondage.text.replace(/[ÈÉÊèéê]/g,"e").replace(/[ÂÀâà]/g,"a").replace(/[Òò]/g,"o").replace(/[Ùù]/g,"u").replace(/[^A-Za-z0-9]+/g,"_").replace(/_+$/,"").toLowerCase(),this.sondage.text=this.sondage.text.replace(/_/g,"&nbsp;")))};b.prototype=ObjectExtended.create(window.OneIClass.Layer.prototype),b.prototype.constructor=b,b.prototype.render=function(){if(navig.isIE&&navig.getVersion()<=9)return"";this.sondage&&"undefined"!=typeof this.sondage&&(o_sGetCookie("o-poll")?delete this.sondage:(this.sondage.link=this.sondage.internal?"#":this.sondage.href,this.sondage.internal&&(o_sGetCookie("o-notif-sondage")!==hashString(this.sondage.text).toString()?this.sondage.noteHtml='<div class="o-range-container"><div class="o-range-slider"><span id="o-range-label" class="o-range-label">0</span><input id="o-range-line" class="o-range-line" type="range" value="?" min="0" max="'+this.sondage.note+'" /></div><div class="o-minmax-container"><div><span class="o-min-max">0</span> '+this.sondage.textMin+"</div><div>"+this.sondage.textMax+' <span class="o-min-max">'+this.sondage.note+"</span></div></div></div>":o_sGetCookie("o-notif-sondage")===hashString(this.sondage.text).toString()&&delete this.sondage)))
;var a=new o_t('<div class="o-layer-scroll {{!sondage}}o-space-bottom{{/!sondage}}"><div class="o-layer-title">{{=layer.text}}</div>{{hasFilters}}<div class="o-layer-filter o-hide"><button class="o-filter" data-filter="all" data-selected {{@filter.all}}{{_val}}{{=_key}}="{{=_val}}"{{/_val}}{{/@filter.all}}>Toutes</button><button class="o-filter" data-filter="unread" {{@filter.unread}}{{_val}}{{=_key}}="{{=_val}}"{{/_val}} {{/@filter.unread}}>Non lues</button></div>{{/hasFilters}}<div class="o-layer-data"><div class="o-notifLayer-container"><ul><li class="o-notif-item o-notif-msg info"><span data-icon="" class="o-notif-icon"> </span><span class="o-notif-text">{{=layer.defaultMsg}}</span></li></ul></div></div></div>{{sondage}}<div class="o-notif-sondage"{{@sondage.tagging}}{{_val}} data-tagging-{{=_key}}="{{=_val}}"{{/_val}}{{/@sondage.tagging}}><div class="o-notifLayer-sondage-welcome"><div class="o-notifLayer-sondage-question">{{=sondage.welcomeText}}</div><a href="{{=sondage.link}}" id="o-sondage-welcome-btn" class="o-notifLayer-sondage-button" {{@sondage.join.taggage}}{{_val}}{{=_key}}="{{=_val}}"{{/_val}}{{/@sondage.join.taggage}}>{{=sondage.buttonJoin}}</a><a href="#" id="o-sondage-delay-btn" class="o-link-text" {{@sondage.remind.taggage}}{{_val}}{{=_key}}="{{=_val}}"{{/_val}}{{/@sondage.remind.taggage}}><span class="o-link-text"><span>{{=sondage.buttonDelay}}</span></span></a></div>{{sondage.internal}}<div class="o-notifLayer-sondage-start o-hide"><div class="o-notifLayer-sondage-question">{{=sondage.text}}</div><div class="o-notifLayer-sondage-reponse">{{=sondage.noteHtml}}<a href="#" id="o-sondage-vote-btn" class="o-notifLayer-sondage-button" data-warn-message="{{=sondage.messageWarning}}">{{=sondage.buttonVote}}</a></div></div>{{/sondage.internal}}</div>{{/sondage}}');return this.layer.html=a.render(this),window.OneIClass.Layer.prototype.render.apply(this)},b.prototype.addSpecificEvent=function(){var a=this,b=document.querySelector("#o-notifLayer");if("function"==typeof this.getNotificationsCallback){var c=new MutationObserver(function(b){b.forEach(function(){a.getNotificationsCallback()}),c.disconnect()});c.observe(document.querySelector("#o-header #o-notifLayer .o-layer-data .o-notifLayer-container ul"),{childList:!0})}navig.isIE&&navig.getVersion()<=9||this.getNotifications(),o_confCommon.responsiveMobile?document.querySelector("#o-header #"+this.link.attr.id).addEventListener("touchstart",function(a){a.preventDefault(),o_confCommon.responsiveMobile&&o_hasState(b,"o-active")&&f()}):document.querySelector("#o-header #"+this.link.attr.id).addEventListener("click",function(a){a.preventDefault()});var d=function(){var b,c,d,e=!1,f=localStorage.getItem("ntf")?localStorage.getItem("ntf"):"",g=f?f.split("elemNtf="):[],h=[],i=o_confCommon.responsiveMobile?o_getDocumentHeight():document.querySelector("#o-notifLayer .o-layer-scroll .o-layer-data").getBoundingClientRect().bottom;document.querySelectorAll("#o-notifLayer .o-layer-scroll .o-layer-data li a").forEach(function(a){c=a.getBoundingClientRect(),(d=c.top+.75*(c.bottom-c.top))<i&&(b=a.getAttribute("data-adv-tracker"),(!g.length||g.length&&!o_isInArray(b,g))&&(h.push(b),f+="elemNtf="+a.getAttribute("data-adv-tracker"),e=!0))}),a._prepareNotificationsCall(h),e&&(h=[],o_adviseProxy.callCapping({cappingData:a.cappingdata,onSuccess:function(a){localStorage.setItem("ntf",f)}}))};document.addEventListener("hideLayer",function(){m("all"),n("all"),o(1)}),document.querySelector("#o-header #o-notifLink").addEventListener("showlayer",function(b){d();var c=document.querySelector("#o-header #o-notifLink .o-notif-badge");setTimeout(function(){null!==c&&c.parentNode.removeChild(c);var b=document.querySelector("#"+a.link.attr.id+" span.o-sr-only");b.innerText=b.innerText.replace(/, \d+ [\w\s]+/gi,"")},300)});var e=null;(o_confCommon.responsiveMobile?document.querySelector("#o-notifLayer .o-layer-scroll"):document.querySelector("#o-notifLayer .o-layer-scroll .o-layer-data ul")).addEventListener("scroll",function(){e&&clearTimeout(e),e=setTimeout(function(){d()},300)},!1);var f=function(){var a=document.querySelector("#o-notifLayer .o-notif-sondage"),b=document.querySelector("#o-notifLayer .o-layer-filter"),c=document.querySelector("#o-notifLayer .o-layer-filter")?parseInt(getComputedStyle(document.querySelector("#o-notifLayer .o-layer-filter")).paddingLeft):parseInt(getComputedStyle(document.querySelector("#o-notifLayer .o-layer-title")).paddingLeft),d=a&&"auto"!=getComputedStyle(document.querySelector("#o-header #o-notifLayer .o-notifLayer-container"),":after").right?parseInt(getComputedStyle(document.querySelector("#o-header #o-notifLayer .o-notifLayer-container"),":after").right):0,e=document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top,f=document.querySelector("#o-notifLayer .o-layer-title").getBoundingClientRect().bottom-document.querySelector("#o-notifLayer .o-layer-title").getBoundingClientRect().top,g=b?b.getBoundingClientRect().bottom-b.getBoundingClientRect().top:0,h=document.querySelector("#o-notifLayer .o-layer-scroll"),i=document.querySelector("#o-notifLayer .o-layer-data .o-notifLayer-container > ul"),j=i.getBoundingClientRect().bottom-i.getBoundingClientRect().top,k=a?a.getBoundingClientRect().bottom-a.getBoundingClientRect().top:d,l=getComputedStyle(document.querySelector("#o-notifLayer"),null).getPropertyValue("border-width"),m=window.innerHeight-k-e-parseInt(l),n=parseInt(j+(a?0:c))+f+g;h.style.height=m>n?n+"px":m+"px"};o_confCommon.responsiveMobile&&addEventListener("resize",function(){f(),o(1)});var g=document.querySelectorAll("#o-header #o-notifLayer .o-filter");g&&0!==g.length&&g.forEach(function(a){a.addEventListener("click",function(){var b=a.getAttribute("data-filter");document.querySelector("#o-header #o-notifLayer .o-filter[data-selected]").getAttribute("data-filter")!==b&&(m(b),n(b),o_confCommon.responsiveMobile&&f())})});var h=document.getElementById("o-sondage-welcome-btn"),i=document.querySelector("#o-notifLayer .o-notifLayer-sondage-welcome");if(h){var j=function(){b.setAttribute("data-sondage-stage","qn");var a=document.querySelector("#o-notifLayer .o-notifLayer-sondage-start");o_removeClass(a,"o-hide"),o_addClass(i,"o-hide"),o_confCommon.responsiveMobile&&f()};h.addEventListener("keydown",function(a){13!==a.keyCode&&32!==a.keyCode||"internal"===b.getAttribute("data-sondage-type")&&(a.preventDefault(),j(),document.querySelector("#o-notifLayer .o-notifLayer-sondage-start input").focus())}),h.addEventListener("click",function(a){"internal"===b.getAttribute("data-sondage-type")&&(a.preventDefault(),j())})}var k=document.getElementById("o-sondage-delay-btn"),l=document.querySelector("#o-header .o-notif-sondage");if(k&&k.addEventListener("click",function(c){c.preventDefault();var d="undefined"!=typeof a.sondage.delay?a.sondage.delay:1;o_bSetCookie("o-poll",1,"domain = .orange.fr, expires="+d),b.setAttribute("data-sondage-stage","nq"),o_addClass(i,"o-hide"),o_addClass(l,"o-hide"),o_confCommon.responsiveMobile&&f()}),0!==document.querySelectorAll("#o-header .o-notif-sondage").length){var p=document.getElementById("o-range-line"),q=document.getElementById("o-range-label");p&&(o(1),p.addEventListener(navig.isIE?"change":"input",function(){p.setAttribute("data-selected",""),q.setAttribute("data-selected",""),o()}),p.addEventListener("keydown",function(a){13!==a.keyCode&&32!==a.keyCode||(a.preventDefault(),p.setAttribute("data-selected",""),q.setAttribute("data-selected",""),o())}),p.addEventListener(o_confCommon.responsiveMobile?"touchstart":"click",function(){p.setAttribute("data-selected",""),q.setAttribute("data-selected",""),o()}));var r=document.querySelector("#o-sondage-vote-btn");r&&r.addEventListener("click",function(b){b.preventDefault();var c=document.querySelector("#o-header .o-notif-sondage"),d=document.querySelector("#o-header .o-notif-sondage input[data-selected]"),e={category:"sondage_notif_validation",action:a.sondage.tagAct};d?(o_link(e.category,e.action,d.value),document.querySelector("#o-header #o-notifLayer").setAttribute("data-sondage","a"),""!==a.sondage.endText&&(c.innerHTML='<div class="o-notifLayer-sondage-end o-icomoon">'+a.sondage.endText+"</div>",o_confCommon.responsiveMobile&&f()),o_bSetCookie("o-notif-sondage",hashString(a.sondage.text),"domain = .orange.fr, expires=60")):o("wrn")})}},b.prototype.renderNotifications=function(){var b=o_hGetById("o-layer-notif-data"),f=document.querySelector("#o-notifLayer .o-layer-data .o-notifLayer-container ul"),g=(o_confCommon.tracking.refz.service||document.location.hostname.replace(".orange.fr",""))+"_"+(o_confCommon.tracking.refz.page||"default")+"_header_notif";"undefined"!=typeof this.badge&&(document.querySelector("#o-notifLink .o-link-icon").innerHTML=d(this),c(this),e(this));var h=new o_t('{{@notifications}}<li class="o-notif-item"><a href="{{=_val.Argumentation.argumentationValue.url}}" class="o-notif-link{{_val.Argumentation.argumentationValue.ifNewNotif}} o-notif-new{{/_val.Argumentation.argumentationValue.ifNewNotif}}"data-label="{{_val.Argumentation.argumentationValue.ifNewNotif}}unread{{/_val.Argumentation.argumentationValue.ifNewNotif}}"data-offer-code="{{=_val.offerSpecificationCode}}" data-parent-offer-code="{{=_val.parentOfferSpecificationCode}}" data-adv-tracker="{{=_val.Argumentation.argumentationValue.adv_tracker}}" data-tag="navwg_rubanGP3_notif_{{=_val.offerSpecificationCode}}_{{=_key}}{{_val.Argumentation.argumentationValue.displayTag}}_{{=_val.Argumentation.argumentationValue.displayTag}}{{/_val.Argumentation.argumentationValue.displayTag}}"data-oevent-category="header_notification" data-oevent-action="{{=_val.offerSpecificationCode}}_{{=_key}}{{_val.Argumentation.argumentationValue.displayTag}}_{{=_val.Argumentation.argumentationValue.displayTag}}{{/_val.Argumentation.argumentationValue.displayTag}}"data-pdb-zid="'+g+'" data-pdb-sc="adv" data-pdb-idc="{{=_val.offerSpecificationCode}}{{_val.parentOfferSpecificationCode}},{{=_val.parentOfferSpecificationCode}}{{/_val.parentOfferSpecificationCode}}" data-pdb-ta="{{=_val.Argumentation.argumentationValue.adv_tracker}}" data-pdb-vi="{{=_val.Argumentation.argumentationValue.img}}" ><div class="o-notif-icon">{{_val.Argumentation.argumentationValue.img}}<object class="o-notif-object" data="{{=_val.Argumentation.argumentationValue.img}}" type="image/jpg"><span data-icon="" /></object>{{:_val.Argumentation.argumentationValue.img}}<span data-icon="" />{{/_val.Argumentation.argumentationValue.img}}</div><span class="o-notif-text">{{=_val.Argumentation.argumentationValue.text2}}{{_val.Argumentation.argumentationValue.contractLabel}}<span class="o-notif-contrat">{{=_val.Argumentation.argumentationValue.contractLabel}}{{_val.Argumentation.argumentationValue.pubLineNoFormated}} - {{=_val.Argumentation.argumentationValue.pubLineNoFormated}}{{/_val.Argumentation.argumentationValue.pubLineNoFormated}}</span>{{/_val.Argumentation.argumentationValue.contractLabel}}</span></a></li>{{/@notifications}}');o_addClass(b,"o-has-notif"),this.notifications.length>5&&!navig.isTouchDevice()&&o_addClass(b,"o-notif-scroll"),f.innerHTML=h.render(this),a(f);for(var i,j=f.querySelectorAll("a.o-notif-link"),k=function(a){var b=a.currentTarget.dataset,c=a.currentTarget.href;if(b!==undefined&&o_adviseProxy.callCapping({cappingData:'[ {"type":1, "codes" : [ {"m" : "'+b.offerCode+'","p" : "'+b.parentOfferCode+'","t" : "'+b.advTracker+'","a" : "enter"}] } ]',onLoadEnd:function(){navig.isFF&&(document.location=c)}}),navig.isFF)return a.preventDefault(),!1},l=0;l<j.length;l++){i=j[l];o_addEvent(i,"click",k)}},b.prototype.renderServiceError=function(){var a=document.querySelector("#o-notifLayer .o-layer-data .o-notifLayer-container ul"),b=new o_t('<li class="o-notif-item o-notif-msg error"><span data-icon="" class="o-notif-icon"> </span><span class="o-notif-text">Ce service est momentanément indisponible.</span></li>');a.innerHTML=b.render(this)},b.prototype._prepareNotificationsCall=function(a){this.cappingdata=[];var b={type:0,codes:[]};for(var c in this.notifications)if(this.notifications.hasOwnProperty(c)){var d=this.notifications[c];if(o_isInArray(d.Argumentation.argumentationValue.adv_tracker,a)){var e={m:d.offerSpecificationCode,p:d.parentOfferSpecificationCode,t:d.Argumentation.argumentationValue.adv_tracker,a:"display"};b.codes.push(e)}}this.cappingdata.push(b)},b.prototype.getNotifications=function(){o_log("Rendu des notifications","info");var a=this,b=document.querySelector("#o-notifLayer .o-notif-sondage");o_adviseProxy.getAdviseData({onSuccess:function(c){var d=o_hGetById("o-notifLayer"),e=document.querySelector("#o-notifLayer .o-layer-filter");try{if(a._parseNotifResponse(c),!1===d)throw new Error("L'élément d'ID 'o-notifLayer' est manquant.");if(o_addClass(d,"o-notif-loaded"),a.notifications.length>0)o_removeClass(e,"o-hide"),a.renderNotifications(),a.sondage&&"undefined"!=typeof a.sondage?(d.setAttribute("data-sondage","q"),d.setAttribute("data-sondage-stage","welcome"),a.sondage.internal&&"undefined"!=typeof a.sondage.internal?d.setAttribute("data-sondage-type","internal"):d.setAttribute("data-sondage-type","external")):d.setAttribute("data-sondage","nq");else{o_addClass(d,"o-notif-nomessages"),d.setAttribute("data-sondage","nq"),b&&(b.outerHTML="");var f=document.querySelector("#o-notifLayer .o-layer-data .o-notifLayer-container ul"),g=new o_t('<li class="o-notif-msg info"><span data-icon="" class="o-notif-icon"> </span><span class="o-notif-text">Vous n\'avez pas de notifications.</span></li>');f.innerHTML=g.render(this)}a.link.tagging.label="nbNotif_"+a.notifications.length}catch(h){d&&(d.setAttribute("data-oevent-label","_erreur"),o_addClass(d,"o-notif-error"),d.setAttribute("data-sondage","nq"),b&&(b.outerHTML="")),a.renderServiceError()}},onError:function(){var c=o_hGetById("o-notifLayer");o_addClass(c,"o-notif-error"),c.setAttribute("data-sondage","nq"),b&&(b.outerHTML=""),o_log("Erreur à la réception des notifs Advise","warn"),a.renderServiceError()}})},b.prototype._parseNotifResponse=function(a){var b,c,d,e,f,g;for(e in a)if(a.hasOwnProperty(e))for(f in a[e].NEC)a[e].NEC.hasOwnProperty(f)&&("transverse"!==f&&"transverse_c"!==f||"0"===e)&&a[e].NEC[f].forEach(function(a){"ZZZ"!==a.coredata.main&&"DEFAULT"!==a.coredata.main&&""!==a.response.OffersSpecification.Argumentation.argumentationValue.text2&&("transverse"!==f&&"transverse_c"!==f||(a.response.OffersSpecification.Argumentation.argumentationValue.contractLabel=""),b=a.response.OffersSpecification.Argumentation.argumentationValue.urlMob,b!==undefined&&(a.response.OffersSpecification.Argumentation.argumentationValue.url=b),c=a.response.OffersSpecification.Argumentation.argumentationValue.images["img"+(o_confCommon.responsiveMobile?"044":"043")],""!==c&&"https://"!==c&&(a.response.OffersSpecification.Argumentation.argumentationValue.img=c),g=a.response.OffersSpecification.Argumentation.argumentationValue.pubLineNo,g&&(a.response.OffersSpecification.Argumentation.argumentationValue.pubLineNoFormated=g.match(/\d{2}/g).join(" ")),d=a.response.OffersSpecification.Argumentation.argumentationValue.clickCount,a.response.OffersSpecification.Argumentation.argumentationValue.ifNewNotif=void 0!==d&&(""===d||"0"===d),this.notifications.push(a.response.OffersSpecification))}.bind(this));this.notifications.sort(this.sortFunction)},b.prototype.sortFunction=function(a,b){var c=Date.now(),d=parseInt(a.Argumentation.argumentationValue.priority,10)||0,e=parseInt(b.Argumentation.argumentationValue.priority,10)||0,f=parseInt(a.Argumentation.argumentationValue.displayDateFirst,10)||c,g=parseInt(b.Argumentation.argumentationValue.displayDateFirst,10)||c,h=parseInt(a.Argumentation.argumentationValue.pubLineNo,10)||0,i=parseInt(b.Argumentation.argumentationValue.pubLineNo,10)||0;return g-f||e-d||a.offerSpecificationCode.localeCompare(b.offerSpecificationCode)||i-h}}(),function(){(window.OneIClass.Badge=function(a){this.maxValue=999,this.value=a,this.value>this.maxValue&&(this.value="+999")}).prototype.render=function(){return new o_t('<span aria-hidden="true" class="o-notif-badge">{{=value}}</span>').render(this)}}(),function(){(window.OneIClass.FooterSyndication=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);"light"===o_confCommon.footer.theme&&(this.attr||(this.attr={}),this.attr["class"]||(this.attr["class"]=""),this.attr["class"]+=" o-footer-theme-light")}).prototype.render=function(){return this.item.forEach(function(a){g(a)}),new o_t('<div{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}><div class="o-footer-content" data-widthlimit><div><span>{{=text}}</span>{{@item}}{{=_val.html}}{{/@item}}</div></div></div>').render(this)}}(),function(){(window.OneIClass.FooterAccesDirect=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);"light"===o_confCommon.footer.theme&&(this.attr||(this.attr={}),this.attr["class"]||(this.attr["class"]=""),this.attr["class"]+=" o-footer-theme-light")}).prototype.render=function(){return this.item.forEach(function(a){g(a)}),"light"===o_confCommon.footer.theme&&(this.isLightTheme=!0),new o_t('<div{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}><div class="o-footer-content" data-widthlimit><div><ul>{{@item}}<li>{{=_val.html}}</li>{{/@item}}</ul></div></div></div>').render(this)}}(),function(){var a=window.OneIClass.FooterLienLegal=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.year=(new Date).getFullYear(),this.attr=Object.assign({},a.attr),o_confCommon.footer.compactVersion&&(this.attr.id+="-compact"),"light"===o_confCommon.footer.theme&&(this.attr||(this.attr={}),this.attr["class"]||(this.attr["class"]=""),this.attr["class"]+=" o-footer-theme-light")};a.prototype.render=function(){return o_confCommon.footer.compactVersion&&(this.compactVersion=!0),this.item.forEach(function(a){g(a)}),new o_t('<div{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}>{{compactVersion}}<div class="o-footer-content" data-widthlimit><ul id="o-footer-lienLegal-compact-content">{{@item}}<li>{{=_val.html}}</li>{{/@item}}</ul><a href="#o-footer-lienLegal-compact-content" class="o-footer-lienLegal-compact-btn">&copy; Orange {{=year}}</a></div>{{:compactVersion}}<div class="o-footer-content" data-widthlimit><div><ul>{{@item}}<li>{{=_val.html}}</li>{{/@item}}<li>&copy; Orange {{=year}}</li></ul></div></div>{{/compactVersion}}</div>').render(this)},a.prototype.addEvent=function(){o_confCommon.footer.compactVersion&&document.querySelector("#o-footer-lienLegal-compact .o-footer-lienLegal-compact-btn").addEventListener("click",function(a){a.preventDefault();var b=document.querySelector("#o-footer-lienLegal-compact");null!==b.getAttribute("data-show")?(b.removeAttribute("data-show"),o_link("footer","clic_fermeture")):(b.setAttribute("data-show",""),o_link("footer","clic_ouverture"))})}}();var t={renderSearchZone:function(a){var b={suffix:"",taggingCategory:"",taggingAction:"",text:"Rechercher sur Orange",action:"//lemoteur.orange.fr",useSubmit:!1,icon:"",searchResults:!1,isServiceSearch:!1};a=Object.assign(b,a);var c='<form role="search" class="o-search-form" id="formSearchCompletion'+a.suffix+'" name="formSearchCompletion'+a.suffix+'" action="'+a.action+'" method="get" ';return a.taggingCategory&&a.taggingAction&&""!==a.taggingCategory&&""!==a.taggingAction&&(c+='data-tagging-category="'+a.taggingCategory+'" data-tagging-action="'+a.taggingAction+'"'),a.isServiceSearch&&(c+=' data-icon="'+a.icon),c+='"><input aria-label="'+a.text+'" autocomplete="off" class="o-search-input" id="o-search-input'+a.suffix+'" name="rdata" type="text" placeholder="&nbsp;"/><label data-placeholder="'+a.text+'" class="o-search-label" for="o-search-input'+a.suffix+'"></label><input value="web_fr" name="bhv" type="hidden" /><input name="module" value="orange" type="hidden" />',a.useSubmit?c+='<input class="o-search-submit" alt="rechercher" title="rechercher" value="'+a.icon+'" type="submit" />':c+='<span class="o-search-icon o-icomoon" data-icon="'+a.icon+'"></span>',a.searchResults&&(c+='<div class="o-search-result cmpl ec" style="visibility: hidden; display: none;"></div>'),c+="</form>"},attachTagging:function(a){if(!a)return!1;var b=document.querySelector("#"+a),c=document.querySelector("#"+a+" .o-search-input");b.addEventListener("submit",function(){var a=c.getAttribute("data-tagging-label");o_link(b.getAttribute("data-tagging-category"),b.getAttribute("data-tagging-action"),a||c.value)})}};if(o_confCommon.headerDisplay){var u,v="desktop";o_confCommon.responsiveMobile&&(v="mobile"),function(){({_mode:2,endsWith:function(a,b){return-1!==a.indexOf(b,a.length-b.length)},setOConfCommonSegment:function(a){["isMobEnt","isNeutral","isTunnel"].forEach(function(b){o_confCommon[b]=b===a})},isMobent:function(){var a=o_getNestedValue(o_idzone,["MOBILE_OFFER_TYPE"]);return o_confCommon.isMobEnt||!!a&&("BUSINESSPOSTPAID"===a||"BUSINESSPREPAID"===a||"BUSINESSSEMIPREPAID"===a)},isNeutral:function(){return o_confCommon.isNeutral},isTunnel:o_confCommon.isTunnel,detectionDeprecated:function(){this.isMobent()?(u="mobent",this._mode=6,this.setOConfCommonSegment("isMobEnt")):this.isNeutral()?(u="ntr",this._mode=7,this.setOConfCommonSegment("isNeutral")):this.isTunnel&&(u="res",this._mode=8,this.setOConfCommonSegment("isTunnel"))},modeCalculated:function(){var a=window.location.hostname;return this.endsWith(a,"caraibe.orange.fr")?3:this.endsWith(a,"reunion.orange.fr")?4:this.endsWith(a,"mayotte.orange.fr")?5:this.endsWith(a,"businesslounge.orange.fr")?6:2},modeDisplay:function(a){switch(o_hasDevValue("_mode")&&(a=o_confCommon.dev._mode),a){case 2:u="res",this._mode=2,this.detectionDeprecated();break;case 3:u="oca",this._mode=3,this.detectionDeprecated(),3===this._mode&&(o_defaultMoteurModule="caraibe");break;case 4:u="reu",this._mode=4,this.detectionDeprecated();break;case 5:u="may",this._mode=5,this.detectionDeprecated();break;case 6:u="mobent",this._mode=6,this.detectionDeprecated();break;case 7:u="ntr",this._mode=7,this.detectionDeprecated();break;case 8:u="res",this._mode=8,this.detectionDeprecated()}o_confCommon.display._mode=this._mode},init:function(){var a=this.modeCalculated(),b=2;!o_sGetCookie("nav")&&a>=3&&a<=5?b=a:!1===isNaN(parseInt(o_sGetCookie("nav")))&&parseInt(o_sGetCookie("nav"))>=3&&parseInt(o_sGetCookie("nav"))<=5&&(b=parseInt(o_sGetCookie("nav"))),o_bSetCookie("nav",b,"domain = .orange.fr,expiresMinute=15");var c=o_confCommon.display.persist;c>1?this.modeDisplay(c):1===c?this.modeDisplay(a):2!==a?this.modeDisplay(a):this.modeDisplay(b)}}).init()}(),o_confCommon.loadJSONData&&head.load({jsonMenu:document.location.protocol+"//"+staticServ+"/Magic/oneI."+u+"."+v+".4.5.7.json"})}window.OneI||(window.OneI={}),window.o_currentPanel="",window.o_addBadge=window.OneI.o_addBadge=d,window.o_onGetData=window.OneI.o_onGetData=f,window.o_registerTaggingPlan=window.OneI.o_registerTaggingPlan=a,window.o_renderElement=window.OneI.o_renderElement=g,window.o_buildZone=window.OneI.o_buildZone=h,window.o_setLayerPosition=window.OneI.o_setLayerPosition=e,window.o_generateSearchZone=window.OneI.o_generateSearchZone=i,window.o_toggleDisplay=window.OneI.o_toggleDisplay=j,window.o_inactiveLiensLayers=window.OneI.o_inactiveLiensLayers=l,window.o_closeAllLayers=window.OneI.o_closeAllLayers=k,window.o_selectNotifsByFilter=window.OneI.o_selectNotifsByFilter=m,window.o_changeActiveFilter=window.OneI.o_changeActiveFilter=n,window.o_showSliderValue=window.OneI.o_showSliderValue=o,window.o_generateFooter=window.OneI.o_generateFooter=r,window.o_generateFooterZone=window.OneI.o_generateFooterZone=s,window.o_searchZoneManager=window.OneI.o_searchZoneManager=t}();