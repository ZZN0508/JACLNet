(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2rSK":function(e,t,a){"use strict";t.a=e=>{var t=e.postUrl;return{blog:e.blog,permalinkUrl:t}}},"4NU8":function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("s2Hx"),i=a("fSeh"),l=Object(s.c)(o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 11.018V7.88c0-1.914-.601-4.15-1.791-5.434-1.187-1.283-2.744-1.443-4.607-1.442-2.148-.001-3.604-.147-5.075 1.442C5.84 3.725 6 7.066 6 7.88v3.138l-2 .067c-.579.159-1 .523-1 1.003v9.904C3 22.471 3.527 23 4 23h17c.476 0 1-1.04 1-1.04v-9.872c0-1.008-.525-1.07-1-1.07h-2zM9.834 4.736c.65-.794 1.83-1.085 2.768-1.085.936 0 2.062.291 2.712 1.085.647.794.686 2.112.686 3.375v2.885H9V8.11c0-1.263.189-2.578.834-3.375z"})));l.defaultProps={size:{width:24,height:24},fill:i.white},t.a=l},"7l1C":function(e,t,a){"use strict";function n(e,t){return new Promise(((a,n)=>{var o=document.createElement("span");o.textContent=e,o.style.whiteSpace="pre",o.style.position="absolute",o.style.opacity="0",o.style.fontWeight="normal",o.style.color="black",o.style.backgroundColor="white";var s=t||document.body;s.appendChild(o);var i=document.createRange(),l=window.getSelection();if(l){var r;i.selectNodeContents(o),l.removeAllRanges(),l.addRange(i);try{r=document.execCommand("copy")}catch(e){r=!1}s.removeChild(o),r?a():n()}else n()}))}a.d(t,"a",(function(){return n}))},"8ADl":function(e,t,a){"use strict";var n=a("lSNA"),o=a.n(n),s=a("q1tI"),i=a.n(s),l=a("Wwog"),r=a("cTEG"),c=a("ZppI"),d=a("hpQ+"),p=a("apQO"),m=a("VXYR"),u=a("o56e"),h=a("cLI3"),g=a("/J8q"),v=a("p8qf");class b extends s.Component{constructor(){super(...arguments),o()(this,"state",{}),o()(this,"getPostContextValue",Object(l.a)((e=>({post:e,presentationStyle:p.a.iponweb})))),o()(this,"onClick",(()=>{var e=this.props.timelineObject.adm;(0,this.props.adContext.sendClickADMBeacon)(e)}))}componentDidMount(){var e=this.props,t=e.adContext,a=t.adPlacementConfiguration,n=t.hydraConfigInstanceId,o=e.appContext.logEvent,s=e.timelineObject;this.generateIOWModel(),Object(h.a)(o,a,s,n)}render(){var e=this.state.iponWebResponse;if(!(e&&null!=e&&e.sponsorName&&null!=e&&e.avatar&&null!=e&&e.title))return null;var t=this.props.timelineObject.adm.native.link.url,a=this.props.appContext._t,n={url:e.avatar.url,width:e.avatar.w,height:e.avatar.h,hasOriginalDimensions:!0},o={blog:{name:a("Sponsored by %1$s",e.sponsorName),url:"",avatar:[n],isAdult:!1},permalinkUrl:""},s=i.a.createElement(d.a,{postAttribution:o,presentationStyle:p.a.iponweb,showsFollowButton:!1,showsSponsored:!1,isFollowingPoster:!1,isFollowingReblogger:!1,isNonInteractive:!0}),l=e.sponsorName&&e.img?i.a.createElement(m.b,{imageResponse:[{url:e.img.url,width:e.img.w,height:e.img.h,hasOriginalDimensions:!0}]}):null,r=e.cta?i.a.createElement("div",{className:g.a.ctaButton},i.a.createElement("p",null,e.cta)):null;return i.a.createElement(v.b.Provider,{value:this.getPostContextValue(this.props.timelineObject)},i.a.createElement("a",{className:g.a.nativeIponWebAd,href:t,onClick:this.onClick,role:"button",target:"_blank",rel:"noopener"},s,i.a.createElement("div",{className:g.a.adText},i.a.createElement("h2",null,e.title),i.a.createElement("p",null,e.description)),l,r))}generateIOWModel(){var e=this.props.timelineObject.adm.native.assets;this.setState({iponWebResponse:e.reduce(((e,t)=>{if(t.title&&(e.title=t.title.text),t.img)switch(t.img.type){case c.b.Icon:e.avatar=t.img;break;case c.b.Main:e.img=t.img}if(t.data)switch(t.data.type){case c.a.Sponsored:e.sponsorName=t.data.value;break;case c.a.Description:e.description=t.data.value;break;case c.a.AdditionalDesc:e.additionalDescription=t.data.value;break;case c.a.CTAText:e.cta=t.data.value}return e}),{})})}}var f=Object(u.b)(b,{appContext:!0,adContext:!0});t.a=Object(r.a)(f)},"9oo1":function(e,t,a){"use strict";var n=a("3tO9"),o=a.n(n),s=a("lSNA"),i=a.n(s),l=a("q1tI"),r=a.n(l),c=a("dRu9"),d=a("pVnL"),p=a.n(d),m=a("17x9"),u=a("xVcy"),h=a("zoQI"),g=a("Jq/n"),v=a("hRDA"),b=a("y4uf"),f=a("fSeh"),w=a.n(f),E=a("w2aY"),y=a("LoOh"),C=a("KssM");class I extends l.Component{constructor(){super(...arguments),i()(this,"state",{followed:!!this.props.isFollowed})}getChildContext(){var e=this;return{onFollow:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.setState({followed:a})}}}render(){var e=this.props,t=e.rowTheme,a=e.avatar,n=e.avatarShape,o=e.blogName,s=e.blogTitle,i=e.blogUrl,l=e.onFollow,c=e.onClose,d=e.appContext._t,m=void 0!==l&&!this.state.followed&&r.a.createElement(u.a,{following:this.state.followed,blogName:o,blogUrl:i,onFollow:l,className:C.a.blogRowFollowButton}),b=r.a.createElement(h.a,{wrapperClassName:y.a.closeButton,onClick:c,label:d("Dismiss Recommendation")},r.a.createElement(v.a,{fill:w.a.paletteTransparentWhite13,width:10,height:10})),f={avatar:a,avatarShape:n,blogName:o,blogTitle:s,blogUrl:i};return r.a.createElement("div",{className:Object(g.a)({[y.a.sidebarBlogRow]:!0})},r.a.createElement(E.c,p()({},f,{isMobile:!1,floatingButton:m,theme:t||E.b.Dark,openBlogCard:E.a.Body})),b)}}i()(I,"childContextTypes",{onFollow:m.func});var O,k=Object(b.d)(I),N=a("yBJ7"),P=a("Qtnd"),A=a("lp1z"),S=a("bt0A"),x=a.n(S),_=a("ZASP"),j="".concat(x.a.postSlideOutDurationInMs,"ms ease-out");!function(e){e[e.None=0]="None",e[e.DismissBlog=1]="DismissBlog",e[e.FollowBlog=2]="FollowBlog"}(O||(O={}));class T extends l.Component{constructor(){super(...arguments),i()(this,"state",o()({indexesToRemove:[],animationType:O.None},this.props.getInitialContent())),i()(this,"apiHelper",Object(P.a)(this.props.appContext.apiFetch)),i()(this,"fetchInProgress",null),i()(this,"rowHeightInPixels",59),i()(this,"renderRows",(e=>{var t=this.props.rowTheme;return this.state.blogs.slice(0,this.getNumberOfBlogsToShow()).map(((a,n)=>{var o,s;return r.a.createElement("li",{key:"".concat(a.name,"-").concat(n),className:_.a.blogRowHolder},r.a.createElement("div",{className:Object(g.a)({[_.a.blogRow]:!0,[_.a.dismiss]:this.isBlogInAnimationState(n,O.DismissBlog),[_.a.follow]:this.isBlogInAnimationState(n,O.FollowBlog),[_.a.hide]:this.isBlogInAnimationState(n,O.None)}),style:this.getCalculatedSlideUpStyles(n,e)},r.a.createElement(k,{blogName:a.name,blogTitle:null!==(o=a.title)&&void 0!==o?o:"",blogUrl:a.url,avatar:null!==(s=a.avatar)&&void 0!==s?s:[],isFollowed:a.followed,onFollow:a.canBeFollowed?this.animateFollowBlog.bind(this,n):void 0,onClose:this.animateDismissBlog.bind(this,n),rowTheme:t})))}))})),i()(this,"rowRemovalComplete",(()=>this.setState({animationType:O.None}))),i()(this,"getNumberOfBlogsToShow",(()=>this.props.numberOfBlogsToShow+this.state.indexesToRemove.length)),i()(this,"isBlogInAnimationState",((e,t)=>this.state.indexesToRemove.includes(e)&&this.state.animationType===t)),i()(this,"shouldBlogRowSlideUp",(e=>{var t=this.state.indexesToRemove;return t.length>0&&e>Math.max(...t)})),i()(this,"getCalculatedSlideUpStyles",((e,t)=>this.shouldBlogRowSlideUp(e)&&t===c.d?{transform:"translateY(-".concat(this.rowHeightInPixels*this.state.indexesToRemove.length,"px)"),transition:"transform ".concat(j)}:{})),i()(this,"fetchBlogs",(()=>{var e=this.state.nextLink,t=this.props.appContext.apiFetch;return e?(this.cancelInProgressFetchIfNecessary(),this.fetchInProgress=Object(A.a)(t(e.href)),this.fetchInProgress.then((e=>{var t=this.state.blogs,a=(0,this.props.getContentFromResponse)(e),n=a.nextLink,o=a.blogs;this.setState({nextLink:n,blogs:t.concat(o)})}))):Promise.resolve()})),i()(this,"logBlogDismissal",((e,t,a)=>Promise.all(t.map((t=>this.apiHelper.logBlogDismissal(e[t].url).fetch()))).then((()=>a?this.fetchBlogs():Promise.resolve())))),i()(this,"removeRowAndAnimateSlideUp",(()=>{var e=this.state,t=e.blogs,a=e.animationType,n=e.indexesToRemove,o=t.filter(((e,t)=>!n.includes(t)));this.setState({indexesToRemove:[],blogs:o});var s=o.length<=5;return a===O.DismissBlog?this.logBlogDismissal(t,n,s):s?this.fetchBlogs():Promise.resolve()})),i()(this,"animateDismissBlog",(e=>this.setState({indexesToRemove:[e],animationType:O.DismissBlog}))),i()(this,"animateFollowBlog",(e=>this.setState({indexesToRemove:[e],animationType:O.FollowBlog}))),i()(this,"animateDismissAllBlogs",(()=>this.setState({indexesToRemove:[...Array(this.props.numberOfBlogsToShow).keys()],animationType:O.DismissBlog}))),i()(this,"cancelInProgressFetchIfNecessary",(()=>{var e;return null===(e=this.fetchInProgress)||void 0===e?void 0:e.cancel()}))}componentDidMount(){return this.fetchBlogs()}componentDidUpdate(e){return new Promise((t=>{e.recommendedTag!==this.props.recommendedTag?this.setState(this.props.getInitialContent(),(()=>this.fetchBlogs().then(t))):e.title!==this.props.title?this.setState(this.props.getInitialContent(),t):t()}))}componentWillUnmount(){this.cancelInProgressFetchIfNecessary()}render(){var e=this.props,t=e.title,a=e.numberOfBlogsToShow,n=e.dismissAllLabel,o=e.isInDashboardStyle,s=e.appContext._t,i=this.state,l=i.blogs,d=i.nextLink,p=i.animationType;return l.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:_.a.recommendedBlogs,"aria-label":t,style:{height:this.rowHeightInPixels*a}},r.a.createElement(c.f,{in:p!==O.None,timeout:x.a.postSlideOutDurationInMs,onEntered:this.rowRemovalComplete,onExited:this.removeRowAndAnimateSlideUp},this.renderRows)),n&&r.a.createElement("div",{className:_.a.dismissAll},r.a.createElement(h.a,{label:n,onClick:this.animateDismissAllBlogs},n))):d?r.a.createElement("div",{className:_.a.loadingBlogs},r.a.createElement(N.b,{small:!0})):r.a.createElement("span",{className:o?_.a.dashboardEmpty:_.a.alternateEmpty},s("No blogs available."))}}i()(T,"defaultProps",{numberOfBlogsToShow:4,title:""});var R=Object(b.d)(T);class D extends l.Component{render(){return r.a.createElement(R,this.props)}}i()(D,"defaultProps",T.defaultProps);t.a=D},A4z9:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("s2Hx"),i=Object(s.c)(o.a.createElement("svg",{viewBox:"0 0 7.7 9.9"},o.a.createElement("path",{d:"M3.3 0h1.5v.9c1.5.2 2.3.8 2.7 1.4L5.9 3.6c-.5-.5-1.1-1-1.7-1-.4 0-.6.1-.6.4 0 1.2 4.1.8 4.1 3.3 0 1.5-1.1 2.5-3.1 2.7v.9H2.9v-1C1.5 8.7.5 8.1 0 7.5l1.7-1.4c.5.6 1.3 1.1 2 1.1s.9-.2.9-.4c0-1-4.2-.7-4.2-3.3 0-1.2 1-2.3 2.8-2.5V0h.1z"})));i.defaultProps={size:{width:14,height:8}};var l=i,r=Object(s.c)(o.a.createElement("svg",{viewBox:"0 0 22 22"},o.a.createElement("path",{d:"M12.63 22l-.474-3.45c.238-.058.475-.058.712-.118l.83 3.39c-.356.06-.71.12-1.067.178zm-5.158-.476a4.68 4.68 0 0 1-.95-.416l1.483-3.15c.238.118.415.177.653.296l-1.186 3.27zm10.85-2.08l-2.31-2.617c.177-.178.355-.297.532-.476l2.55 2.44c-.296.178-.533.415-.77.653zm-15.95-1.547a7.247 7.247 0 0 1-.593-.832l2.964-1.903c.12.18.296.416.415.595l-2.788 2.14zm19.332-3.686l-3.32-1.01.177-.714 3.44.655c-.12.357-.237.714-.296 1.07zM.06 12.13C0 11.773 0 11.416 0 11.06L3.5 11v.06c0 .237 0 .475.058.713l-3.5.357zm18.263-3.21c-.06-.24-.118-.477-.237-.655l3.262-1.308c.118.297.237.654.356 1.01l-3.38.952zM4.33 7.55L1.244 5.947l.534-.892 2.905 1.903a4.98 4.98 0 0 0-.356.594zm11.74-2.2c-.178-.177-.356-.296-.593-.474l2.016-2.854c.297.178.534.416.83.654L16.07 5.35zm-8.776-.89l-1.72-3.033c.297-.178.593-.357.95-.476l1.422 3.212c-.237.06-.415.18-.652.297zm4.862-.892c-.237-.06-.474-.06-.71-.06L11.622 0c.355 0 .71.06 1.067.12l-.534 3.448z"})));r.defaultProps={size:{width:25,height:25}};var c=r,d=a("y4uf"),p=a("Jq/n"),m=a("p8qf"),u=a("fSeh"),h=a.n(u),g=a("3JrU"),v=a("EXsX");t.a=function(e){var t=e.dollarSize,a=void 0===t?{width:8,height:11}:t,s=e.link,i=void 0===s?"".concat(g.a,"/docs/en/relevantads"):s,r=e.color,u=void 0===r?h.a.paletteGray65:r,b=e.showSpinner,f=void 0===b||b,w=e.showSponsoredText,E=void 0===w||w,y=Object(d.c)()._t,C=Object(m.c)().isNarrow,I=Object(n.useRef)(null);return Object(n.useLayoutEffect)((()=>{var e=()=>{var e=.75*window.scrollY%360;null!=I&&I.current&&(I.current.style.transform="rotate(".concat(e,"deg)"))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}})),o.a.createElement("a",{className:Object(p.a)({[v.a.sponsoredContainer]:!C,[v.a.narrowSponsoredContainer]:C}),href:i,target:"_blank"},f&&o.a.createElement("div",{className:v.a.sponsoredSpinner},o.a.createElement("div",{className:v.a.sponsoredDollar},o.a.createElement(l,{size:a,fill:u})),o.a.createElement("div",{className:v.a.sponsoredBorder,ref:I},o.a.createElement(c,{size:{width:22,height:22},fill:u}))),E&&o.a.createElement("div",{className:v.a.sponsoredText,style:{color:u}},y("Sponsored")))}},FJvi:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("y4uf"),i=a("bvDr"),l="word-ads-pubmine-script",r="ata-dynamic-1";t.a=()=>{var e=Object(s.c)(),t=e.tumblrIponwebUserId,a=e.cspNonce,c=()=>{var e;null===(e=window.__ATA)||void 0===e||e.cmd.push((()=>{var e,t;null===(e=window.__ATA)||void 0===e||null===(t=e.initDynamicSlot)||void 0===t||t.call(e,{id:r,location:110,formFactor:"002",label:{text:"Advertisements"},creative:{reportAd:{text:"Report this ad"},privacySettings:{text:"Privacy"}}})}))};return Object(n.useEffect)((()=>{var e,n;window.__ATA_PP={pt:1,ht:1,tn:"tumblr",amp:!1,ad:{label:{text:"Advertisements"},reportAd:{text:"Report this ad"}},siteid:174375630,id_hash:t},window.__ATA={cmd:(null===(e=window.__ATA)||void 0===e?void 0:e.cmd)||[],criteo:(null===(n=window.__ATA)||void 0===n?void 0:n.criteo)||{cmd:[]}};var o=document.createElement("script");return o.src="https://c0.pubmine.com/2.20.01613588427137/head.js",o.id=l,o.onload=c,o.nonce=a,document.body.appendChild(o),()=>{var e;window.__ATA=void 0,window.__ATA_PP=void 0,null===(e=document.getElementById(l))||void 0===e||e.remove()}}),[]),o.a.createElement("div",{id:r,className:i.a.wordAdsContainer})}},"Hm+Q":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n,o=a("s5E+"),s=a("mTM8");!function(e){e.TEADS_DASHBOARD_SUBSEQUENT="teadsDashboard",e.TEADS_DASHBOARD_TOP="teadsDashboardTop",e.TEADS_TEST_DASHBOARD="teadsTestHydraSource",e.TEADS_DEFAULT="teadsHydraSource",e.FLURRY_DEFAULT="flurryHydraSource",e.ONE_MOBILE_DEFAULT="oneMobileHydraSource"}(n||(n={}));var i=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a.DASHBOARD,i=arguments.length>3?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=null==t?void 0:t.placements;if(!r)return"";switch(e){case o.d.Teads:return l.teadsTestPlacement?r[n.TEADS_TEST_DASHBOARD].adPlacementId:a===s.a.DASHBOARD?void 0!==i&&i<=3?r[n.TEADS_DASHBOARD_TOP].adPlacementId:r[n.TEADS_DASHBOARD_SUBSEQUENT].adPlacementId:r[n.TEADS_DEFAULT].adPlacementId;case o.d.Flurry:return r[n.FLURRY_DEFAULT].adPlacementId;case o.d.OneMobile:return r[n.ONE_MOBILE_DEFAULT].adPlacementId;default:return""}}},"Jww+":function(e,t,a){"use strict";var n=a("pVnL"),o=a.n(n),s=a("QILm"),i=a.n(s),l=a("q1tI"),r=a.n(l),c=a("Ty5D"),d=a("Jq/n"),p=a("8Tzt");t.a=e=>{var t=e.label,a=e.className,n=e.getPath,s=e.children,l=e.onClick,m=e.disableNavigation,u=e.isAlreadyOnPostFormPath,h=e.forwardedRef,g=i()(e,["label","className","getPath","children","onClick","disableNavigation","isAlreadyOnPostFormPath","forwardedRef"]),v=Object(c.k)(),b=n();return r.a.createElement("a",o()({ref:h,"aria-label":t,href:b,className:Object(d.a)([p.a.link,a]),onClick:e=>{null==l||l(e),e.ctrlKey||e.metaKey||m||(e.preventDefault(),u(window.location.pathname)||v.push(b))}},l&&{role:"button"},g),s||t)}},L86D:function(e,t,a){"use strict";var n=a("pVnL"),o=a.n(n),s=a("q1tI"),i=a.n(s),l=a("zoQI"),r=a("lFYR"),c=a("y4uf"),d=a("fSeh"),p=a.n(d);t.a=e=>{var t=Object(c.c)()._t;return i.a.createElement(l.a,o()({},e,{label:t("Share")}),i.a.createElement(r.a,{size:{width:21,height:21},fill:p.a.paletteGray65}))}},N0nZ:function(e,t,a){"use strict";var n,o=a("3tO9"),s=a.n(o),i=a("lSNA"),l=a.n(i),r=a("q1tI"),c=a("7Cbv"),d=a("s5E+"),p={[d.d.Teads]:"teadsHydraSource",[d.d.Flurry]:"flurryHydraSource",[d.d.OneMobile]:"oneMobileHydraSource",[d.d.IponWeb]:"iponwebMrecHydraSource",[d.d.Post]:""},m=a("o56e"),u=a("mTM8"),h=a("FJvi"),g=a("cTEG"),v=a("HAmM");!function(e){e.NO_FILL="no_fill",e.OTHER="other"}(n||(n={}));var b=a("Hm+Q"),f=a("cLI3"),w=a("Wwog"),E=a("krfJ");class y extends r.Component{constructor(){super(...arguments),l()(this,"state",{currentIndex:0,currentClientSideAdType:void 0}),l()(this,"adTypeInitMapping",{[d.d.Teads]:e=>{try{var t=this.props,a=t.timelineObject.supplyOpportunityInstanceId,n=t.appContext,o=n.logEvent,s=n.features.teadsLivePlacementNoCollapse,i=this.state.currentAd,l=JSON.parse(e.data);if(!a||!l.tumblrMsg)return;switch(a){case l.tumblrMsg[v.b.NoAd]:return void(s||this.handleNoAdResponse(d.d.Teads));case l.tumblrMsg[v.b.AdServed]:return void this.handleSuccessfulAdResponse();case l.tumblrMsg[v.b.TeadsImpression]:o(this.generateAnalyticsEvent({eventName:v.g.ForeignImpression,ad:i}))}}catch(e){return}},[d.d.OneMobile]:e=>{try{var t=JSON.parse(e.data),a=this.props.timelineObject.supplyOpportunityInstanceId;if(!a)return;switch(a){case t.oneMobileMsg[v.b.NoAd]:this.handleNoAdResponse(d.d.OneMobile)}}catch(e){return}},[d.d.Flurry]:e=>{try{var t=JSON.parse(e.data),a=this.props.timelineObject.supplyOpportunityInstanceId;if(!a)return;switch(a){case t.flurryMsg[v.b.NoAd]:return void this.handleNoAdResponse(d.d.Flurry);case t.flurryMsg[v.b.AdServed]:return void this.handleSuccessfulAdResponse();case t.flurryMsg[v.b.AdError]:return void this.handleNoAdResponse(d.d.Flurry,t.flurryMsg.errorMsg)}}catch(e){return}}}),l()(this,"fallbackAdMapping",{[u.a.RIGHT_RAIL]:()=>this.props.appContext.features.wordAdsWebAdSource?{Component:h.a,props:{}}:null}),l()(this,"getAdToRender",Object(w.a)(((e,t,a)=>{var n=t||a;return(null==n?void 0:n.id)===(null==e?void 0:e.id)?s()(s()({},n),e):n}))),l()(this,"onBeforeUnload",(()=>{var e,t=this.props,a=t.appContext.logEvent,n=t.timelineObject;if(this.detachAdEventHandlers(this.state.currentAd),0===this.state.currentIndex&&!this.state.currentAd&&(Object(d.n)(n)||null!=n&&null!==(e=n.resources)&&void 0!==e&&e.backfill)){var o,s=Object(d.n)(n)?n:null===(o=n.resources)||void 0===o?void 0:o.backfill;a(this.generateAnalyticsEvent({eventName:v.f.AdDropped,ad:s,dropReason:v.a.WaterfallNotUsed}),{sendPayloadImmediately:!0})}})),l()(this,"handleSuccessfulAdResponse",(()=>{var e,t,a=this.state,n=a.currentAd,o=a.currentIndex,s=this.props,i=s.appContext.logEvent,l=s.adContext,r=l.adPlacementConfiguration,p=l.hydraConfigInstanceId,m=s.setProvideEventDetails,u=s.setImpressionsEnabled,h=s.timelineObject;!Object(d.n)(h)&&h.resources?(e=h.resources.clientSideAds,t=h.resources.backfill):(e=[],t=h);var g=e.length,b=this.getCurrentAdRequest();if(b&&(b.setEndTime(),b.generateAdInstance()),Object(d.n)(h)||(i(this.generateAnalyticsEvent({eventName:v.e.AdRequest,ad:n,adRequestStatus:v.c.AdFilled})),m((()=>this.generateAnalyticsEvent({eventName:v.g.Impression,ad:n}).eventDetails)),u(!0),i(this.generateAnalyticsEvent({eventName:v.f.SupplyOpportunityFilled,ad:n}))),Object(d.n)(n)){var w=this.state.fillId||Object(c.a)();Object(f.a)(i,r,n,p,w),this.setState({fillId:w})}o<=g&&t&&!Object(d.n)(h)&&i(this.generateAnalyticsEvent({eventName:v.f.AdDropped,ad:t,dropReason:v.a.BackfillNotNeeded}))})),l()(this,"handleNoAdResponse",((e,t)=>{var a=this.props.appContext.logEvent,o=this.state,i=o.currentClientSideAdType,l=o.currentAd,r=this.getCurrentAdRequest();null==r||r.setEndTime(),null==r||r.setErrorDetails(t?{error_type:n.OTHER,provider_error_message:t}:{error_type:n.NO_FILL}),a(this.generateAnalyticsEvent(s()({eventName:v.e.AdRequest,ad:l},t?{adRequestStatus:v.c.AdError}:{adRequestStatus:v.c.NoAd}))),i===e&&this.getNextAd()})),l()(this,"generateAnalyticsEvent",(e=>{var t=this.props,a=t.isInstream,n=t.timelineObject,o=t.supplyProviderId,i=t.rootSupplyOpportunityId,l=t.refresh,r=t.adContext,m=r.adPlacementConfiguration,h=r.hydraConfigInstanceId,g=r.adProviderInstanceIdMap,f=t.appContext.features,w=n.streamGlobalPosition,y=e.eventName,C=e.ad,I=e.adRequestStatus,O=e.dropReason,k=void 0===O?v.a.BackfillNotNeeded:O,N=s()({refresh:l,root_supply_opportunity_instance_id:i},m&&{hydra_signature:m.signature,hydra_config_instance_id:h}),P=this.getCurrentAdRequest(),A=o||u.a.DASHBOARD;switch(Object.values(v.e).includes(y)||(N.supply_opportunity_instance_id=n.supplyOpportunityInstanceId,N.supply_provider_id=A,a&&(N.stream_session_id=n.streamSessionId,N.stream_global_position=w)),y){case v.f.MediationOpportunityMissed:N.supply_request_id=null==n?void 0:n.supplyRequestId;break;case v.f.AdDropped:(Object(d.i)(C)||Object(d.n)(C)||Object(d.j)(C))&&(N.ad_provider_id=C.adProviderId,N.ad_provider_placement_id=C.adProviderPlacementId,N.ad_provider_foreign_placement_id=C.adProviderForeignPlacementId,N.ad_provider_instance_id=C.adProviderInstanceId,N.ad_request_id=C.adRequestId,N.supply_opportunity_instance_id=n.supplyOpportunityInstanceId,N.mediation_candidate_id=C.mediationCandidateId,N.ad_instance_id=C.adInstanceId,N.ad_instance_age=this.getAdInstanceAge(C),N.supply_request_id=n.supplyRequestId,N.supply_provider_id=n.supplyProviderId,N.drop_reason=k,N.is_tumblr_sponsored_post=C.isTumblrSponsoredPost?1:0,N.placement_id=C.placementId);break;case v.g.ForeignImpression:case v.f.MediationCandidateConsideration:if(Object(d.l)(C)||Object(d.j)(C)){if(N.ad_provider_id=Object(d.j)(C)?C.adProviderId:C.clientSideAdType,N.is_tumblr_sponsored_post=0,Object(d.l)(C)){var S=p[N.ad_provider_id];m&&S&&(N.ad_provider_placement_id=S,N.ad_provider_foreign_placement_id=Object(b.a)(C.clientSideAdType,m,A,w,f),N.ad_provider_instance_id=g[S])}C.placementId&&(N.placement_id=C.placementId)}Object(d.n)(C)&&(N.ad_provider_id=C.adProviderId,N.is_tumblr_sponsored_post=1,N.ad_provider_placement_id=C.adProviderPlacementId,N.ad_provider_foreign_placement_id=C.adProviderForeignPlacementId,N.ad_provider_instance_id=C.adProviderInstanceId),N.mediation_candidate_id=null==C?void 0:C.mediationCandidateId,N.supply_request_id=n.supplyRequestId,N.supply_provider_id=A;break;case v.f.SupplyOpportunityFilled:if(Object(d.l)(C)||Object(d.j)(C)){if(C.placementId&&(N.placement_id=C.placementId),N.ad_provider_id=Object(d.j)(C)?C.adProviderId:C.clientSideAdType,N.is_tumblr_sponsored_post=0,Object(d.l)(C)){var x=p[N.ad_provider_id];m&&(N.ad_provider_placement_id=x,N.ad_provider_foreign_placement_id=Object(b.a)(C.clientSideAdType,m,A,w,f),N.ad_provider_instance_id=g[x])}N.ad_request_id=null==P?void 0:P.adRequestId,N.mediation_candidate_id=C.mediationCandidateId,null!=P&&P.adInstances&&P.adInstances[0]&&(N.ad_instance_id=P.adInstances[0].ad_instance_id,N.ad_instance_age=this.getAdInstanceAge(C)),N.supply_request_id=n.supplyRequestId,N.supply_provider_id=A,C.placementId&&(N.placement_id=C.placementId)}var _=Object(c.a)();N.fill_id=_,this.setState({fillId:_});break;case v.g.Impression:if(Object(d.l)(C)||Object(d.j)(C)){if(N.ad_provider_id=Object(d.j)(C)?C.adProviderId:C.clientSideAdType,N.is_tumblr_sponsored_post=0,Object(d.l)(C)){var j=p[N.ad_provider_id];m&&(N.ad_provider_foreign_placement_id=Object(b.a)(C.clientSideAdType,m,A,w,f),N.ad_provider_placement_id=j,N.ad_provider_instance_id=g[j])}N.mediation_candidate_id=C.mediationCandidateId,null!=P&&P.adInstances[0]&&(N.ad_instance_id=P.adInstances[0].ad_instance_id,N.ad_instance_age=this.getAdInstanceAge(C)),N.supply_request_id=n.supplyRequestId,N.supply_provider_id=n.supplyProviderId}if(this.state.fillId)N.fill_id=this.state.fillId;else{var T=Object(c.a)();N.fill_id=T,this.setState({fillId:T})}P?N.ad_request_id=P.adRequestId:Object(E.b)("currentAdRequest is undefined. ad_provider_id: ".concat(N.ad_provider_id));break;case v.e.AdRequest:if(Object(d.l)(C)||Object(d.j)(C)){if(N.ad_provider_id=Object(d.j)(C)?C.adProviderId:C.clientSideAdType,Object(d.l)(C)){var R=p[N.ad_provider_id];m&&(N.ad_provider_foreign_placement_id=Object(b.a)(C.clientSideAdType,m,A,w,f),N.ad_provider_placement_id=R,N.ad_provider_instance_id=g[R])}N.ad_instances=null==P?void 0:P.adInstances}N.ad_request_is_success=I===v.c.AdError?0:1,N.ad_request_id=null==P?void 0:P.adRequestId,N.ads_returned=I===v.c.AdFilled?1:0,N.ad_request_latency=P&&P.requestEndTime-P.requestStartTime,N.ads_requested=1,I===v.c.AdError&&(N.ad_request_error_detail=null==P?void 0:P.errorDetails)}return{eventName:y,eventDetails:N}}))}componentDidMount(){window.addEventListener("beforeunload",this.onBeforeUnload),this.determineAdFetch()}componentWillUnmount(){window.removeEventListener("beforeunload",this.onBeforeUnload),this.onBeforeUnload()}componentDidUpdate(e){var t=this.props.appContext.features.rightRailFallback;this.props.timelineObject.supplyOpportunityInstanceId!==e.timelineObject.supplyOpportunityInstanceId&&this.setState((e=>s()({currentIndex:0},t&&{previousAd:e.currentAd||e.previousAd})),(()=>this.determineAdFetch()))}render(){var e=this.props,t=e.children,a=e.supplyProviderId,n=void 0===a?u.a.DASHBOARD:a,o=e.timelineObject,s=o.streamGlobalPosition,i=o.supplyOpportunityInstanceId,l=this.state.currentAd,r=this.getAdToRender(o,l),c=this.getFallBackAd();return(r||c)&&(null==t?void 0:t({supplyOpportunityInstanceId:i,location:n,streamPosition:n===u.a.DASHBOARD?s:void 0,ad:r,fallbackAd:c||{}}))}getNextAd(){var e,t,a=this.state,n=a.currentAd,o=a.currentIndex,s=this.props,i=s.timelineObject,l=s.appContext.logEvent,r=Object(d.n)(i)?[i]:(null===(e=i.resources)||void 0===e?void 0:e.clientSideAds)||[],c=Object(d.j)(i)?i:null===(t=i.resources)||void 0===t?void 0:t.backfill,p=r.length;this.detachAdEventHandlers(n);var m=o===p?c:o<p?r[o]:void 0;l(this.generateAnalyticsEvent(m?{eventName:v.f.MediationCandidateConsideration,ad:m}:0!==r.length||c?{eventName:v.f.MediationOpportunityMissed}:{eventName:v.f.SupplyOpportunityMissed})),this.setState({currentIndex:o+1,currentClientSideAdType:m?m.clientSideAdType||d.d.Post:void 0,currentAd:m||void 0},(()=>{Object(d.n)(m)&&this.handleSuccessfulAdResponse()})),Object(d.n)(m)||(this.initializeAdEventHandlers(m),this.initializeAdRequest(m))}getFallBackAd(){var e=this.props,t=e.supplyProviderId;return(0,e.isInView)()&&t&&t in this.fallbackAdMapping?this.fallbackAdMapping[t]():null}initializeAdRequest(e){var t=this.props,a=t.adRequestContext,n=a.generateNewAdRequest,o=a.clearAdRequest,s=t.timelineObject.supplyOpportunityInstanceId;e?n(s,Object(d.j)(e)?this.handleSuccessfulAdResponse:void 0):o(s)}initializeAdEventHandlers(e){if(Object(d.l)(e)){var t=this.adTypeInitMapping[e.clientSideAdType];t&&window.addEventListener("message",t)}}determineAdFetch(){var e=this.props,t=e.isInView,a=e.setInViewCallback;t()?this.getNextAd():a((()=>this.getNextAd()))}detachAdEventHandlers(e){if(Object(d.l)(e)){var t=this.adTypeInitMapping[e.clientSideAdType];t&&window.removeEventListener("message",t)}}getCurrentAdRequest(){var e=this.props,t=e.timelineObject.supplyOpportunityInstanceId;return e.adRequestContext.currentAdRequests[t]}getAdInstanceAge(e){var t;return Object(d.l)(e)?null===(t=this.getCurrentAdRequest())||void 0===t?void 0:t.getAdInstanceAge():Object(d.i)(e)||Object(d.j)(e)?(new Date).getTime()-e.adInstanceCreatedTimestamp:void 0}}var C=Object(m.b)(y,{appContext:!0,adContext:!0,adRequestContext:!0});t.a=Object(g.a)(C,!0)},QPbL:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.Action="action",e.Web="web"}(n||(n={}))},VULT:function(e,t,a){"use strict";var n,o=a("pVnL"),s=a.n(o),i=a("3tO9"),l=a.n(i),r=a("lSNA"),c=a.n(r),d=a("q1tI"),p=a.n(d),m=a("Wwog"),u=a("pCNn"),h=a("g2Yl"),g=a("w7rC"),v=a("rKD4");!function(e){e.Search="search",e.Pin="pin"}(n||(n={}));var b=a("goXf"),f=a("1pQQ"),w=a("Dcbp"),E=a.n(w),y=a("o0Qe"),C=a("s2Hx"),I=a("fSeh"),O=a.n(I),k=Object(C.c)(p.a.createElement("svg",{viewBox:"18 13 12 21"},p.a.createElement("path",{fillRule:"evenodd",d:"M26.252 27.266l-2.078 7.592c-.052.19-.296.19-.348 0l-2.078-7.592h4.504zM29.512 14c.268 0 .488.241.488.536v1.746a.554.554 0 01-.255.47l-1.698 1.193v4.009l1.787 1.257-.034.006c.128.107.2.264.199.43v1.744c0 .296-.22.537-.488.537H18.488c-.268 0-.488-.241-.488-.537v-1.743a.555.555 0 01.255-.47l1.698-1.195v-4.008l-1.787-1.258.034-.006a.554.554 0 01-.199-.43v-1.745c0-.295.22-.536.488-.536h11.023z"})));k.defaultProps={size:{width:24,height:24},fill:I.white};var N,P=k,A=a("Q/W6"),S={[n.Search]:y.a,[n.Pin]:P},x={width:14,height:14},_=function(e){var t=e.reason,a=t.text,n=t.color,o=t.links,s=t.icon,i=o.recommendationDestination,l=s&&S[s];"production"===b.a.Development&&s&&!l&&console.warn('No icon found for recommendation reason icon type "'.concat(s,'"'));var r=l?p.a.createElement(l,{size:x,fill:n}):null,c=[A.a.recommendationReason];return r&&c.push(A.a.withIcon),p.a.createElement("a",{href:null==i?void 0:i.href,style:{color:n},className:c.join(" ")},r,a)},j=a("Jq/n"),T=a("3QcM"),R=a("o56e"),D=a("qYuJ");!function(e){e[e.Unknown=0]="Unknown",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(N||(N={}));class B extends d.Component{constructor(){super(...arguments),c()(this,"state",{collapsedState:N.Unknown}),c()(this,"wrapper",null),c()(this,"showCollapsedUIIfNeeded",(()=>{var e=this.wrapper&&this.wrapper.clientHeight>this.props.collapsedHeight;this.setState((()=>({collapsedState:e?N.Collapsed:N.Expanded})))})),c()(this,"expandTags",(()=>{this.setState((()=>({collapsedState:N.Expanded})))}))}componentDidMount(){this.showCollapsedUIIfNeeded()}render(){var e,t,a=this.props,n=a.tags,o=a.collapsedHeight,s=a.recommendationReason,i=a.isPaywallShown,l=a.postChromeStyles,r=this.state.collapsedState,c=this.props.appContext._t;switch(r){case N.Unknown:e=!0,t=!1;break;case N.Expanded:e=!1,t=!1;break;case N.Collapsed:e=!0,t=!0}if("production"===b.a.Development&&o!==E.a.wrappedTagsDesktopHeight&&o!==E.a.wrappedTagsMobileHeight&&console.warn("Please use dimensions.wrappedTagsDesktopHeight or dimensions.wrappedTagsMobileHeight as the values for collapsedHeight in this component."),!(n&&n.length||s))return null;var d=s?p.a.createElement("span",{className:D.a.recommendationReason},p.a.createElement(_,{reason:s})):null;return p.a.createElement("div",{className:Object(j.a)({[D.a.tags]:!0,[D.a.collapsed]:e,[D.a.isPaywallShown]:i}),style:l},p.a.createElement("div",{ref:e=>this.wrapper=e},d,null==n?void 0:n.filter((e=>!e.startsWith("_"))).map((e=>p.a.createElement(T.a,{key:e,className:D.a.tag,tagName:e}))),t&&p.a.createElement("a",{className:D.a.seeAll,onClick:this.expandTags,role:"button"},"â€¦ ",p.a.createElement("span",{className:D.a.seeAllText},c("See all")))))}}var M=Object(R.b)(B,{appContext:!0,adContext:!0}),F=a("y4uf"),L=a("zoQI"),U=a("hwvb"),H=Object(F.d)((function(e){var t=e.expand,a=e.filteredTags,n=e.filteredContent,o=e.appContext._t,s=a&&a.length?"#tagfiltering":"#contentfiltering",i="/settings/account".concat(s),l=a&&a.length?a.map((e=>"#".concat(e))).join(", "):n.join(", "),r=p.a.createElement("a",{className:U.a.linkOut,target:"_blank",href:i},l),c=a&&a.length?o("This post contains filtered tags."):o("This post contains filtered content."),d=o("View post");return p.a.createElement("div",{className:U.a.filteredScreen},p.a.createElement("p",{className:U.a.message},c),r,p.a.createElement(L.a,{onClick:t,className:U.a.viewPostLink,label:d},d))})),q=a("bnOs"),z=a("M3r2"),W=a("hpQ+"),G=a("vN+2"),Q=a.n(G),V=a("Ty5D"),K=a("nA7Y"),J=a("wig9"),Y=a.n(J),$=a("vZKu"),X=Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 12.9 20.9"},p.a.createElement("path",{d:"M11.2 2.5c.1.1.4.4.5.6L9.4 6.6l2.4 3.3-2.4 3.5 3.5 3.8-1.2 3.8c-.6 0-1.2-.2-1.7-.5-1-.8-6.2-5.1-8.8-9.3-1.8-3-2-7.4 1.1-9.8C3.5.4 4.8 0 6.1 0 8 0 9.8.9 11.2 2.5z"})));X.defaultProps={size:{width:24,height:24},fill:I.gray40};var Z=X,ee=Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 14.1 20.9"},p.a.createElement("path",{d:"M8 0C6.2 0 4.3.9 2.9 2.5c-.1.1-.4.4-.5.6L0 6.6l2.4 3.3L0 13.4l3.5 3.8L2.3 21c.6 0 1.2-.2 1.7-.5 1-.8 6.2-5.1 8.8-9.3 1.8-3 2-7.4-1.1-9.8C10.6.4 9.3 0 8 0z"})));ee.defaultProps={size:{width:16,height:24},fill:I.gray40};var te=ee,ae=a("IGpd");class ne extends d.Component{constructor(){super(...arguments),c()(this,"state",{isAnimating:!1}),c()(this,"animate",(()=>{this.setState((()=>({isAnimating:!0}))),window.setTimeout((()=>{this.setState({isAnimating:!1})}),750)}))}componentDidUpdate(e){e.liked!==this.props.liked&&this.animate()}render(){var e=this.props.liked;return this.state.isAnimating?e?p.a.createElement("div",{className:"".concat(ae.a.postLikeHeartAnimation," ").concat(ae.a.like)},p.a.createElement($.a,{filled:!0,size:{height:51,width:57}})):p.a.createElement("div",{className:"".concat(ae.a.postLikeHeartAnimation," ").concat(ae.a.unlike)},p.a.createElement("div",{className:ae.a.brokenHeartLeft},p.a.createElement(Z,{size:{height:54,width:54}})),p.a.createElement("div",{className:ae.a.brokenHeartRight},p.a.createElement(te,{size:{height:54,width:36}}))):null}}var oe=a("6t4E"),se=e=>{var t=e.liked,a=e.onClick,n=Object(F.c)()._t,o=t?oe.a.liked:null;return p.a.createElement(L.a,{className:Y()([o,oe.a.likeButton]).join(" "),label:n("Like"),onClick:a},p.a.createElement($.a,{filled:t,size:{width:23,height:21},emptyIconFillColor:O.a.paletteGray65}),p.a.createElement(ne,{liked:t}))},ie=a("J4zp"),le=a.n(ie),re=a("EHdz"),ce=a("QILm"),de=a.n(ce),pe=a("ofoP"),me=a("ffEX"),ue=a("Jww+"),he=e=>{var t=e.reblogKey,a=e.reblogBlogName,n=e.reblogPostId,o=e.routeQueryProps,i=de()(e,["reblogKey","reblogBlogName","reblogPostId","routeQueryProps"]);return p.a.createElement(ue.a,s()({},i,{getPath:()=>{var e=Object(me.a)(o);return Object(pe.n)({reblogKey:t,blogName:a,postId:n.toString()},e)},isAlreadyOnPostFormPath:pe.x}))},ge=a("X+AN"),ve=a("sFc8");class be extends d.Component{constructor(){super(...arguments),c()(this,"state",{isAnimating:!1}),c()(this,"animate",(()=>{this.setState({isAnimating:!0},(()=>setTimeout((()=>this.setState({isAnimating:!1})),800)))}))}render(){return this.state.isAnimating&&p.a.createElement("div",{className:ve.a.postFastReblogAnimation},p.a.createElement(re.a,{size:{height:21,width:21},fill:this.props.fill}))}}c()(be,"defaultProps",{fill:O.a.paletteGreen});var fe,we=a("p8qf"),Ee=a("Qtnd"),ye=a("XJKT"),Ce=a("3JrU"),Ie=a("i4dN"),Oe=a("wiWb"),ke=a("2jAC"),Ne=a("OPDf"),Pe=a("Gt/x"),Ae=a("X9Ig"),Se=a("AfAo"),xe=a("Evh0"),_e=a("N+3a"),je=e=>{var t=e.onClickSelectedBlog,a=e.blogs,n=e.onMouseLeave,o=e.onMouseEnter,s=e.avatarTitle,i=Object(d.useState)(!1),l=le()(i,2),r=l[0],c=l[1];if(1===a.length)return null;var m=a.length>4,u=m?a.slice(0,3):a,h=Object(d.useCallback)(((e,a)=>{t(a,e,{bubbleIndex:3}),c(!1)}),[t]);return p.a.createElement("div",{className:Object(j.a)([_e.a.bubbles,r&&_e.a.blogSelectorOpen]),onMouseLeave:n,onMouseEnter:o},u.map(((e,a)=>p.a.createElement(L.a,{wrapperClassName:_e.a.avatar,key:a,onClick:n=>t(n,e,{bubbleIndex:a}),title:null==s?void 0:s(e.name)},p.a.createElement(Pe.a,{imageResponse:e.avatar,avatarShape:Ae.a.Circle,dimension:50})))),m&&p.a.createElement("div",{className:_e.a.avatar},p.a.createElement(xe.b,{blogs:a.slice(3),selectedBlog:a[0],onClickSelectedBlog:h,onToggle:c},(e=>p.a.createElement(L.a,{wrapperClassName:_e.a.ellipsis,onClick:e},p.a.createElement(Se.b,{fill:I.paletteNavy}))))))},Te=a("s5E+"),Re=a("+ntU"),De=a("dRu9");!function(e){e[e.Reblogged=0]="Reblogged",e[e.Queued=1]="Queued"}(fe||(fe={}));var Be={width:21,height:21},Me={[De.b]:{opacity:1},[De.a]:{opacity:1},[De.d]:{opacity:0},[De.c]:{opacity:0}},Fe=()=>{var e=Object(F.c)(),t=e.apiFetch,a=e._t,n=e.features,o=n.redpopFastReblog,i=n.redpopPostFormMobileReblog,r=e.features,c=e.logEvent,m=Object(we.c)(),g=m.post,v=g.id,b=g.reblogKey,f=g.placementId,w=g.placementId,E=g.earnedId,y=g.earnedId,C=g.blogName,I=m.post,k=Object(Ie.b)().addOnCloseModalRouteHandler,N=Object(ke.b)().toggleToast,P=Object(V.l)().pathname,A=Object(z.c)().isMobile,S=Object(ge.c)(),x=S.canFastReblog,_=S.canFastQueue,j=S.canFastReblogDeprecated,T=S.fastRebloggedPosts,R=S.setDefaultFastBlog,D=S.getBlogs,B=Object(d.useState)(!1),M=le()(B,2),L=M[0],U=M[1],H=p.a.useState(void 0),q=le()(H,2),W=q[0],G=q[1],Q=Object(d.useRef)(null),K=Object(d.useRef)(null),J=Object(d.useRef)(Object(Ee.a)(t)),Y=Object(d.useRef)(!1),$=Object(d.useRef)(!1),X=Object(d.useRef)();Object(d.useEffect)((()=>()=>{var e;return null===(e=X.current)||void 0===e?void 0:e.call(X)}),[]);var Z=D(),ee=j||x,te=ee||_,ae=Y.current||$.current;te||($.current=!1,ae=!1);var ne=W===fe.Reblogged?O.a.paletteGreen:O.a.palettePurple,oe=p.a.createElement(re.a,{size:Be,fill:W===fe.Reblogged||T.includes(v)?O.a.paletteGreen:W===fe.Queued?O.a.palettePurple:ee?O.a.paletteBlue:_?O.a.palettePink:O.a.paletteGray65});if(!v||!b)return p.a.createElement(p.a.Fragment,null,oe,p.a.createElement(be,{ref:K,fill:ne}));var se=e=>{var t;null!==(t=Q.current)&&void 0!==t&&t.contains(e.relatedTarget)||(Y.current=!1,$.current=!1,U(!L))},ie=(e,t,a)=>(null==t||t.preventDefault(),J.current.postAPost({selectedBlogName:a,placementId:w,logEvent:c,post:l()(l()({},I),{},{date:void 0,tags:void 0,content:[],state:e,parentTumblelogUuid:I.blog.uuid,parentPostId:v,id:""}),reblogType:e===u.l.Published?ye.b.Fast:void 0}).fetch((()=>{var t;return null===(t=K.current)||void 0===t||t.animate(),I&&G(e===u.l.Published?fe.Reblogged:fe.Queued)}))),ce=e=>{var t,a=e.isModalSuccess;null===(t=X.current)||void 0===t||t.call(X),a&&(c({eventName:h.b.ClientReblog,eventDetails:{placement_id:f,earned_id:E}}),void 0===W&&G(fe.Reblogged))},de=e=>{var t,a=e.isModalSuccess;null===(t=X.current)||void 0===t||t.call(X),a&&void 0===W&&G(fe.Reblogged)},pe=(e,t,a)=>{$.current=!1,Y.current=!1,U(!L),R(t),ee?((e,t)=>{ie(u.l.Published,e,t)})(e,t.name):((e,t)=>{ie(u.l.Queue,e,t)})(e,t.name),c({eventDetails:a,eventName:j?h.b.FastReblogOld:ee?h.b.FastReblog:h.b.FastQueue}),N(ee?p.a.createElement(Ne.d,{params:{blogName:t.name}},"Reblogged to [blogName]"):p.a.createElement(Ne.d,{params:{blogName:t.name}},"Queued to [blogName]"))},me=e=>pe(e,Z[0]),ue=Object(Oe.a)({isMobile:A,features:r,editablePost:I,isReblog:!0}),ve={onMouseEnter:e=>{Y.current=!0,te&&U(!L)},onMouseLeave:j?se:e=>Y.current=!1},Pe=a(ee?"Quick Reblog":_?"Quick Queue":"Reblog"),Ae=l()({role:"button"},te?{onClick:me}:{role:void 0}),Se="".concat(Ce.a).concat(P,"?restore=1"),xe={};if(Object(Te.n)(I)&&!y){var _e=I.advertiserId,Fe=I.campaignId,Le=I.creativeId,Ue=I.adGroupId,He=I.adId;xe=l()(l()({},xe),{},{[Te.e.AdvertiserId]:_e,[Te.e.CampaignId]:Fe,[Te.e.CreativeId]:Le,[Te.e.AdGroupId]:Ue,[Te.e.AdId]:He})}return p.a.createElement(p.a.Fragment,null,o&&!j&&te&&ae&&p.a.createElement(je,{onMouseEnter:e=>$.current=!0,onClickSelectedBlog:pe,onMouseLeave:se,avatarTitle:e=>a(ee?"Reblog to %1$s":"Queue to %1$s",e),blogs:Z}),!A||A&&i?p.a.createElement(he,s()({label:Pe,reblogBlogName:C,reblogPostId:v,forwardedRef:Q,reblogKey:b,routeQueryProps:xe,disableNavigation:te,onClick:te?me:e=>{null!=e&&e.ctrlKey||null!=e&&e.metaKey||(X.current=k(ue?ce:de))}},ve),oe):p.a.createElement("a",s()({ref:Q,href:"".concat(Ce.a,"/reblog/").concat(v,"/").concat(b,"?redirect_to=").concat(encodeURIComponent(Se),"&avoid_redirect=1"),"aria-label":Pe},ve,Ae),oe),p.a.createElement(be,{ref:K,fill:ne}),p.a.createElement(De.f,{in:j&&ae,unmountOnExit:!0,mountOnEnter:!0,timeout:500},(e=>p.a.createElement("div",{className:Re.a.deprecated,style:l()(l()({},Me[e]),{},{transition:"opacity ".concat(500,"ms ease-in-out")})},p.a.createElement(Ne.d,{comment:"'E' and 'Alt' refer to keyboard keys. We're trying to switch keyboard shortcuts from using Alt + Click to fast reblog to instead E + Click",components:{eKey:p.a.createElement("kbd",{className:Re.a.key},"E"),altKey:p.a.createElement("kbd",{className:Re.a.key},"Alt")}},"Psst, we're moving this shortcut to [eKey/]. [altKey/] will be unavailable soon.")))))},Le=Object(C.b)({filledIcon:Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 17 17"},p.a.createElement("path",{d:"M8.7 0C4.1 0 .4 3.7.4 8.3c0 1.2.3 2.3.7 3.4-.2.6-.4 1.5-.7 2.5L0 15.8c-.2.7.5 1.4 1.2 1.2l1.6-.4c1.2-.3 2-.5 2.4-.7 1.1.5 2.2.7 3.4.7 4.6 0 8.3-3.7 8.3-8.3S13.3 0 8.7 0"}))),emptyIcon:Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 17 17"},p.a.createElement("path",{d:"M8.7 0C4.1 0 .4 3.7.4 8.3c0 1.2.2 2.3.7 3.4-.2.6-.4 1.5-.7 2.5L0 15.8c-.2.7.5 1.4 1.2 1.2l1.6-.4 2.4-.7c1.1.5 2.2.7 3.4.7 4.6 0 8.3-3.7 8.3-8.3C17 3.7 13.3 0 8.7 0zM15 8.3c0 3.5-2.8 6.3-6.4 6.3-1.2 0-2.3-.3-3.2-.9l-3.2.9.9-3.2c-.5-.9-.9-2-.9-3.2.1-3.4 3-6.2 6.5-6.2S15 4.8 15 8.3z"})))});Le.defaultProps={filled:!1,size:{width:17,height:17},filledIconFillColor:I.white,emptyIconFillColor:I.gray40};var Ue=Le,He=function(e){var t=e.onClick,a=Object(F.c)()._t;return p.a.createElement(L.a,{label:a("Reply"),onClick:t},p.a.createElement(Ue,{size:{width:21,height:21},emptyIconFillColor:O.a.paletteGray65}))},qe=a("L86D"),ze=a("55Ip"),We=a("gf0f"),Ge=e=>{var t=e.editablePost,a=t.blog.name,n=t.id,o=Object(We.b)().onRemoveTimelineObject,s=Object(F.c)()._c,i=Object(Ie.b)().addOnCloseModalRouteHandler,l=Object(d.useRef)([]);Object(d.useEffect)((()=>()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.forEach((e=>e()))}),[]);var r=s("clicking the button will allow the user to reply.","Answer"),c=Object(d.useCallback)((e=>e&&(null==o?void 0:o({id:n}))),[o,n]),m=Object(d.useCallback)((()=>{l.current.push(i((e=>{var t=e.isModalSuccess;return c(!!t)})))}),[]);return p.a.createElement(ze.Link,{to:Object(pe.h)({blogName:a,postId:n.toString()})},p.a.createElement(L.a,{label:r,onClick:m},r))},Qe=a("ee9G");class Ve extends d.Component{constructor(){super(...arguments),c()(this,"apiHelper",Object(Ee.a)(this.props.appContext.apiFetch)),c()(this,"setLegacyFormCloseHandler",(()=>{var e=this.props.modalRouteContext.addOnCloseModalRouteHandler;this.removeOnModalCloseListener=e(this.onLegacyFormClose)})),c()(this,"setFormCloseHandler",(()=>{var e=this.props.modalRouteContext.addOnCloseModalRouteHandler;this.removeOnModalCloseListener=e(this.onFormClose)})),c()(this,"refreshPostInTimeline",(()=>{var e=this.props,t=e.timelineContext,a=e.editablePost,n=a.id,o=a.blog;return this.apiHelper.getPosts({postId:n,blogIdentifier:o.name}).fetch((e=>{var a;null==t||null===(a=t.onEditTimelineObject)||void 0===a||a.call(t,e.response.posts[0])}))})),c()(this,"onFormClose",(e=>{var t,a=e.isModalSuccess;return null===(t=this.removeOnModalCloseListener)||void 0===t||t.call(this),a?this.refreshPostInTimeline():Promise.resolve()})),c()(this,"onLegacyFormClose",(e=>{var t,a,n=e.isModalSuccess,o=e.legacyPostFormState,s=this.props,i=s.timelineContext,l=s.editablePost,r=l.state,c=l.id;if(null===(t=this.removeOnModalCloseListener)||void 0===t||t.call(this),n&&o&&o===r)return this.refreshPostInTimeline();n&&o&&o!==r&&(null==i||null===(a=i.onRemoveTimelineObject)||void 0===a||a.call(i,{id:c}));return Promise.resolve()}))}componentWillUnmount(){var e;null===(e=this.removeOnModalCloseListener)||void 0===e||e.call(this)}render(){return p.a.createElement(z.a,null,(e=>{var t=e.isMobile;return this.getButton(t)}))}getButton(e){var t,a=this.props,n=a.editablePost,o=a.shouldAlwaysOpenInLegacy,s=a.appContext,i=s.features,l=i.redpopDesktopEditorBetaToggle,r=i.redpopPostFormMobileEdit,c=s._t;return!o&&(!e&&l||e&&r)?p.a.createElement(ze.Link,{onClick:this.setFormCloseHandler,to:Object(pe.h)({blogName:n.blog.name,postId:null===(t=n.id)||void 0===t?void 0:t.toString()},Object(me.a)({editablePost:n})),"aria-label":c("Edit")},this.getIcon()):e?this.getLegacyAnchor():this.getLegacyIframeButton()}getIcon(){return p.a.createElement(Qe.a,{size:{width:21,height:21},fill:O.a.paletteGray65})}getLegacyIframeButton(){var e,t=this.props.editablePost,a=this.props.appContext._t;return p.a.createElement(ze.Link,{to:Object(pe.h)({blogName:t.blog.name,postId:null===(e=t.id)||void 0===e?void 0:e.toString()})},p.a.createElement(L.a,{onClick:this.setLegacyFormCloseHandler,label:a("Edit")},this.getIcon()))}getLegacyAnchor(){var e=this.props.appContext._t,t=encodeURIComponent("".concat(Ce.a,"/dashboard?restore=1"));return p.a.createElement("a",{href:"".concat(Ce.a,"/edit/").concat(this.props.editablePost.id,"?redirect_to=").concat(t,"&avoid_redirect=1"),role:"button",tabIndex:-1},p.a.createElement(L.a,{label:e("Edit")},this.getIcon()))}}c()(Ve,"defaultProps",{shouldAlwaysOpenInLegacy:!0});var Ke=Object(R.b)(Ve,{appContext:!0,timelineContext:!0,modalRouteContext:!0}),Je=Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 14 17"},p.a.createElement("path",{d:"M12 5v9c.1.7-.3 1-1 1H3c-.5 0-.9-.3-1-1V5c0-.6-.4-1-1-1-.5 0-1 .4-1 1v9.5C0 16.1 1.4 17 3 17h8c1.8 0 3-.8 3-2.5V5c0-.6-.5-1-1-1-.6 0-1 .5-1 1z"}),p.a.createElement("path",{d:"M4 12s0 1 1 1 1-1 1-1V5c0-.5-.4-1-1-1-.5 0-1 .5-1 1v7zm4 0s0 1 1 1 1-1 1-1V5c0-.5-.4-1-1-1-.5 0-1 .5-1 1v7zm5-10c.5 0 1-.4 1-1 0-.5-.4-.9-1-1H1C.5.1 0 .5 0 1c0 .6.6 1 1.1 1H13z"})));Je.defaultProps={size:{width:24,height:24}};var Ye=Je,$e=function(e){var t=e.id,a=e.onClick,n=Object(F.c)()._t;return t?p.a.createElement(L.a,{label:n("Delete"),onClick:a},p.a.createElement(Ye,{size:{width:21,height:21},fill:O.a.paletteGray65})):null},Xe=a("y42H"),Ze=a("aCRw");class et extends d.Component{constructor(){super(...arguments),c()(this,"state",{dialogIsShowing:!1}),c()(this,"apiHelper",Object(Ee.a)(this.props.appContext.apiFetch)),c()(this,"confirmQueue",(()=>this.setState({dialogIsShowing:!0}))),c()(this,"cancelConfirmation",(()=>this.setState({dialogIsShowing:!1}))),c()(this,"queuePost",(()=>{var e=this.props,t=e.timelineContext,a=e.postContext.post,n=a.blog.uuid,o=a.id;return n&&this.apiHelper.queuePost(n,o).fetch((()=>{var e;this.cancelConfirmation(),null==t||null===(e=t.onRemoveTimelineObject)||void 0===e||e.call(t,{id:o})}))}))}render(){var e=this.props,t=e.appContext._c,a=e.postContext.post.state,n=this.state.dialogIsShowing;if(a!==u.l.Draft&&a!==u.l.Submission)return null;var o=t("Action button to queue a post, should be verb here","Queue");return p.a.createElement(p.a.Fragment,null,p.a.createElement(L.a,{label:o,onClick:this.confirmQueue},o),n&&this.renderDialog())}renderDialog(){var e=this.props.appContext._t;return p.a.createElement(Ze.a,{onGlassClick:this.cancelConfirmation},p.a.createElement(Xe.b,{title:e("Queue this post for publishing?"),buttons:[{text:e("Cancel"),onClick:this.cancelConfirmation,buttonStyle:Xe.a.Neutral},{text:e("OK"),onClick:this.queuePost,buttonStyle:Xe.a.Confirm}]}))}}var tt=Object(R.b)(et,{appContext:!0,postContext:!0,timelineContext:!0});class at extends d.Component{constructor(){super(...arguments),c()(this,"state",{dialogIsShowing:!1}),c()(this,"apiHelper",Object(Ee.a)(this.props.appContext.apiFetch)),c()(this,"confirmPublish",(()=>this.setState({dialogIsShowing:!0}))),c()(this,"cancelConfirmation",(()=>this.setState({dialogIsShowing:!1}))),c()(this,"publishPost",(()=>{var e=this.props,t=e.timelineContext,a=e.postContext.post,n=a.blog.uuid,o=a.id;return n&&this.apiHelper.quickPublishPost(n,o).fetch((()=>{var e;this.cancelConfirmation(),null==t||null===(e=t.onRemoveTimelineObject)||void 0===e||e.call(t,{id:o})}))}))}render(){var e=this.props,t=e.appContext._c,a=e.postContext.post.state,n=this.state.dialogIsShowing;if(a===u.l.Published||a===u.l.Private)return null;var o=t("Action button to publish a post, should be verb here","Post");return p.a.createElement(d.Fragment,null,p.a.createElement(L.a,{label:o,onClick:this.confirmPublish},o),n&&this.renderDialog())}renderDialog(){var e=this.props.appContext._t;return p.a.createElement(Ze.a,{onGlassClick:this.cancelConfirmation},p.a.createElement(Xe.b,{title:e("Publish this post now?"),buttons:[{text:e("Cancel"),onClick:this.cancelConfirmation,buttonStyle:Xe.a.Neutral},{text:e("OK"),onClick:this.publishPost,buttonStyle:Xe.a.Confirm}]}))}}var nt=Object(R.b)(at,{appContext:!0,postContext:!0,timelineContext:!0}),ot=a("UfWW"),st=a.n(ot),it=a("afeb"),lt=function(e){var t=e.onClick,a=Object(F.c)()._t;return p.a.createElement(L.a,{label:a("Move up"),onClick:t},p.a.createElement(it.a,{size:{width:21,height:21},fill:O.a.paletteGray65}))},rt=function(e){var t=e.onClick,a=Object(F.c)()._t;return p.a.createElement(L.a,{label:a("Move down"),onClick:t},p.a.createElement(it.b,{size:{width:21,height:21},fill:O.a.paletteGray65}))},ct=a("2QVL"),dt=function(e){var t=e.onClick,a=Object(F.c)()._t;return p.a.createElement(L.a,{label:a("Move to top"),onClick:t},p.a.createElement(ct.b,{size:{width:21,height:21},fill:O.a.paletteGray65}))},pt=function(e){var t=e.onClick,a=Object(F.c)()._t;return p.a.createElement(L.a,{label:a("Move to bottom"),onClick:t},p.a.createElement(ct.a,{size:{width:21,height:21},fill:O.a.paletteGray65}))},mt=a("B+Sa");class ut extends d.Component{constructor(){super(...arguments),c()(this,"allPosts",[]),c()(this,"queuedPosts",[]),c()(this,"apiHelper",Object(Ee.a)(this.props.appContext.apiFetch)),c()(this,"moveUp",(()=>{var e=this.props.id,t=st()(this.queuedPosts,(t=>e===t))-1,a=st()(this.allPosts,(e=>this.queuedPosts[t]===e));return this.queueReorder(this.allPosts[a-1]||0,t)})),c()(this,"moveDown",(()=>{var e=this.props.id,t=st()(this.queuedPosts,(t=>e===t))+1,a=st()(this.allPosts,(e=>this.queuedPosts[t]===e));return this.queueReorder(this.allPosts[a-1],t)})),c()(this,"moveToTop",(()=>this.queueReorder(0,0))),c()(this,"moveToBottom",(()=>this.queueReorder(this.allPosts[this.allPosts.length-1],this.queuedPosts.length-1))),c()(this,"queueReorder",((e,t)=>{var a=this.props,n=a.id,o=a.blogName,s=a.timelineContext;return this.apiHelper.queueReorder(o,n,e).fetch((()=>null==s?void 0:s.onQueueReorder(n,t)))}))}render(){return p.a.createElement(z.a,null,(e=>{var t=e.isMobile;return p.a.createElement("div",{className:mt.a.queueControls},this.getControls(t))}))}getControls(e){var t=this.props.id;return p.a.createElement(ge.a.Consumer,null,(a=>{var n=a.allPosts,o=a.queuedPosts;this.allPosts=n,this.queuedPosts=o;var s=this.queuedPosts.length,i=st()(this.queuedPosts,(e=>t===e)),l=[];return e&&i>0&&l.push(p.a.createElement("div",{className:mt.a.controlIcon,key:"moveUp"},p.a.createElement(lt,{onClick:this.moveUp}))),e&&i!==s-1&&l.push(p.a.createElement("div",{className:mt.a.controlIcon,key:"moveDown"},p.a.createElement(rt,{onClick:this.moveDown}))),i>0&&l.push(p.a.createElement("div",{className:mt.a.controlIcon,key:"moveToTop"},p.a.createElement(dt,{onClick:this.moveToTop}))),e&&i!==s-1&&l.push(p.a.createElement("div",{className:mt.a.controlIcon,key:"moveToBottom"},p.a.createElement(pt,{onClick:this.moveToBottom}))),p.a.createElement("div",{className:mt.a.queueControlsInner},l)}))}}var ht=Object(R.b)(ut,{appContext:!0,timelineContext:!0}),gt=a("bJjw"),vt=a("Mjgw"),bt=Object(vt.a)((()=>Promise.all([a.e(0),a.e(66)]).then(a.bind(null,"aRms"))),"AsyncSendAPost"),ft=a("yBJ7"),wt=a("svZL"),Et=Object(vt.a)((()=>Promise.all([a.e(0),a.e(24),a.e(22),a.e(59)]).then(a.bind(null,"HO2B"))),"AsyncPostActivity"),yt=a("iNJu"),Ct=a("c+T4"),It=a("/TWq"),Ot=a("NFOE"),kt=Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 22 22"},p.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",rx:"10"}),p.a.createElement("path",{fill:I.paletteWhite,d:"M15.5 10.75a4.19 4.19 0 01-.45 1.9 4.25 4.25 0 01-5.7 1.9l-2.85.95.95-2.85a4.25 4.25 0 013.8-6.15h.25a4.24 4.24 0 014 4v.25z"}),p.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",stroke:I.paletteWhite,"stroke-width":"2",rx:"10",fill:"transparent"})));kt.defaultProps={size:{width:22,height:22},fill:I.paletteBlue};var Nt=kt,Pt=Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 22 22"},p.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",rx:"10"}),p.a.createElement("path",{stroke:I.paletteWhite,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.5 5.5l2 2-2 2"}),p.a.createElement("path",{stroke:I.paletteWhite,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6.5 10.5v-1a2 2 0 012-2h7"}),p.a.createElement("path",{stroke:I.paletteWhite,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8.5 16.5l-2-2 2-2"}),p.a.createElement("path",{stroke:I.paletteWhite,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15.5 11.5v1a2 2 0 01-2 2h-7"}),p.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",stroke:I.paletteWhite,"stroke-width":"2",rx:"10",fill:"transparent"})));Pt.defaultProps={size:{width:22,height:22},fill:I.paletteGreen};var At=Pt,St=Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 22 22"},p.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",rx:"10"}),p.a.createElement("g",{"clip-path":"url(#clip0)"},p.a.createElement("path",{fill:I.paletteWhite,d:"M15.42 7.305a2.75 2.75 0 00-3.89 0l-.53.53-.53-.53a2.75 2.75 0 00-3.89 3.89l.53.53 3.89 3.89 3.89-3.89.53-.53a2.75 2.75 0 000-3.89z"})),p.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",stroke:I.paletteWhite,"stroke-width":"2",rx:"10",fill:"transparent"}),p.a.createElement("defs",null,p.a.createElement("clipPath",{id:"clip0"},p.a.createElement("path",{fill:I.paletteWhite,d:"M0 0h12v12H0z",transform:"translate(5 5)"})))));St.defaultProps={size:{width:22,height:22},fill:I.paletteRed};var xt=St;class _t extends d.Component{constructor(){super(...arguments),c()(this,"state",{notesPopoverIsOpen:!1,sendAPostPopoverIsOpen:!1,focusNotePopoverTextareaOnMount:!1,showDeleteDialog:!1}),c()(this,"apiHelper",Object(Ee.a)(this.props.appContext.apiFetch)),c()(this,"setNoteCountRef",(e=>this.noteCountEl=e)),c()(this,"renderNotesAsyncLoader",(()=>p.a.createElement("div",{className:It.a.asyncLoading},p.a.createElement(ft.b,{centerOrientation:ft.a.HorizontalAndVertical})))),c()(this,"renderLoggedOutControls",(()=>{var e=this.props,t=e.liked,a=e.postChromeStyles,n=e.appContext.features,o=e.location.pathname,s=[];return s.push(p.a.createElement("div",{className:It.a.controlIcon,key:"send a post"},this.sendAPostContent())),Object(Ct.a)(n,o)&&s.push(p.a.createElement("div",{className:It.a.controlIcon,key:"like"},p.a.createElement(se,{liked:t,onClick:this.likePost}))),p.a.createElement("div",{className:It.a.controls,style:a},s)})),c()(this,"renderControls",(()=>{var e=this.props,t=e.canSendInMessage,a=e.canReply,n=e.canReblog,o=e.canLike,s=e.canDelete,i=e.canEdit,l=e.id,r=e.editablePost,c=e.trail,d=e.liked,m=e.postState,h=e.queuedState,g=e.isSubmissionDraft,v=e.canAnswer,b=e.isInboxAsk,f=e.postChromeStyles,w=e.shouldOpenInLegacy,E=e.blog,y=[],C=m===u.l.Queued&&h===u.i.Queued&&E,I=m===u.l.Draft;return t&&y.push(p.a.createElement("div",{className:It.a.controlIcon,key:"send a post"},this.sendAPostContent())),a&&y.push(p.a.createElement("div",{className:It.a.controlIcon,key:"reply"},p.a.createElement(He,{onClick:this.onReplyIconClick}))),n&&y.push(p.a.createElement("div",{className:It.a.controlIcon,key:"reblog"},p.a.createElement(Fe,null))),o&&y.push(p.a.createElement("div",{className:It.a.controlIcon,key:"like"},p.a.createElement(se,{liked:d,onClick:this.likePost}))),i&&C&&y.push(p.a.createElement(yt.a,{key:"queueControls"},p.a.createElement(ht,{blogName:E.name,id:l.toString()}))),s&&y.push(p.a.createElement("div",{className:It.a.controlIcon,key:"delete"},p.a.createElement($e,{id:l,onClick:this.toggleShowDeleteDialog}))),i&&r&&!b&&!v&&y.push(p.a.createElement("div",{className:It.a.controlIcon,key:"edit"},p.a.createElement(Ke,{editablePost:r,trail:c,shouldAlwaysOpenInLegacy:w}))),r&&v&&y.push(p.a.createElement("div",{className:It.a.controlIcon,key:"answer"},p.a.createElement(Ge,{editablePost:r}))),i&&(I||g)&&y.push(p.a.createElement("div",{className:It.a.controlIcon,key:"queue"},p.a.createElement(tt,null))),i&&(I||m===u.l.Queued||g)&&y.push(p.a.createElement("div",{className:It.a.controlIcon,key:"post"},p.a.createElement(nt,null))),i&&C&&y.push(p.a.createElement(yt.a,{key:"reorder"},p.a.createElement("div",{className:It.a.controlIcon},p.a.createElement(gt.a,null)))),p.a.createElement("div",{className:It.a.controls,style:f},y)})),c()(this,"likePost",(()=>{var e=this.props,t=e.liked,a=e.id,n=e.reblogKey,o=e.placementId,s=e.earnedId,i=e.appContext,l=i._t,r=i.logEvent,c=i.features,d=e.timelineContext.onLike,p=e.loginContext.openLoginWall,m=e.location.pathname;return this.apiHelper.likePost({id:a,liked:t,reblogKey:n,placementId:o,earnedId:s,logEvent:r,onLikeCallback:d}).fetch(Q.a,(e=>{401===e.status&&Object(Ct.a)(c,m)&&p({text:l("You'll need to sign up or login to like that post.")})}))})),c()(this,"toggleShowDeleteDialog",(()=>this.setState((e=>({showDeleteDialog:!e.showDeleteDialog}))))),c()(this,"renderDeleteDialog",(()=>{var e=this.props.appContext._t;return p.a.createElement(Ze.a,{onGlassClick:this.toggleShowDeleteDialog,glassIsClickable:!1},p.a.createElement(Xe.b,{title:e("Are you sure you want to delete this post?"),buttons:[{text:e("Cancel"),onClick:this.toggleShowDeleteDialog,buttonStyle:Xe.a.Neutral},{text:e("OK"),onClick:this.deletePost,buttonStyle:Xe.a.Confirm}]}))})),c()(this,"deletePost",(()=>{var e=this.props,t=e.id,a=e.blog.uuid,n=e.appContext.apiFetch,o=e.timelineContext.onRemoveTimelineObject,s=null==o?void 0:o({id:t});return this.toggleShowDeleteDialog(),n("/v2/blog/".concat(a,"/post/delete"),{method:"POST",body:{id:t}}).catch((()=>null==s?void 0:s()))})),c()(this,"toggleNotesPopover",(()=>{this.setState((e=>({focusNotePopoverTextareaOnMount:!1,notesPopoverIsOpen:!e.notesPopoverIsOpen})))})),c()(this,"toggleSendAPostPopover",(()=>{this.setState((e=>({sendAPostPopoverIsOpen:!e.sendAPostPopoverIsOpen}))),this.props.adContext.sendClickADMBeacon(this.props.adm),this.props.appContext.logEvent({eventName:h.b.Share,eventDetails:l()({placement_id:this.props.placementId},Object(Ot.a)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))})})),c()(this,"onReplyIconClick",(e=>{e.stopPropagation();var t=this.props,a=t.adContext.sendClickADMBeacon,n=t.appContext.logEvent,o=t.adm,s=t.placementId,i=t.earnedId;this.state.notesPopoverIsOpen||(a(o),n({eventName:h.b.ReplyIconClick,eventDetails:l()({placement_id:s},Object(Ot.a)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))}),n({eventName:h.b.Notes,eventDetails:l()({placement_id:s,earned_id:i},Object(Ot.a)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))})),this.setState((e=>({focusNotePopoverTextareaOnMount:!0,notesPopoverIsOpen:!e.notesPopoverIsOpen})))})),c()(this,"onNoteCountButtonClick",(()=>{var e=this.props,t=e.adContext.sendClickADMBeacon,a=e.appContext.logEvent,n=e.adm,o=e.placementId,s=e.earnedId;this.state.notesPopoverIsOpen||(t(n),a({eventName:h.b.Notes,eventDetails:l()({placement_id:o,earned_id:s},Object(Ot.a)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))})),this.toggleNotesPopover()})),c()(this,"noteContent",(()=>{var e=this.state,t=e.notesPopoverIsOpen,a=e.focusNotePopoverTextareaOnMount,n=this.props,o=n.id,i=n.blog,l=n.reblogKey,r=n.canReply,c=n.noteCount,d=n.replyCount,m=n.reblogCount,u=n.likeCount,h=n.appContext,g=h._t,v=h._n,b=h.features.commentingUxRedesign,f=n.placementId,E=n.isSponsored;if(!t&&(c<=0||!i.uuid))return null;var y={focusNotePopoverTextareaOnMount:a,id:o,blog:i,reblogKey:l,canReply:r,placementId:E?f:void 0,close:this.toggleNotesPopover},C=b&&d+m+u!==0,I=p.a.createElement(L.a,{onClick:this.onNoteCountButtonClick,wrapperClassName:It.a.noteCountButton,className:It.a.noteCountButtonInner,label:g("Activity")},p.a.createElement("span",{className:Object(j.a)({[It.a.noteCountContainer]:!0,[It.a.showNoteTypeIcons]:C}),ref:this.setNoteCountRef},C&&p.a.createElement("span",{className:It.a.noteCountTypes},d>0&&p.a.createElement("div",{title:v("%1$s reply","%1$s replies",d),className:It.a.noteCountReply},p.a.createElement(Nt,null)),m>0&&p.a.createElement("div",{title:v("%1$s reblog","%1$s reblogs",m),className:It.a.noteCountReblog},p.a.createElement(At,null)),u>0&&p.a.createElement("div",{title:v("%1$s like","%1$s likes",u),className:It.a.noteCountLike},p.a.createElement(xt,null))),p.a.createElement("span",{className:It.a.noteCountTotal},v("%1$s note","%1$s notes",c))));return p.a.createElement(z.a,null,(e=>e.isMobile?p.a.createElement("div",null,I,t&&p.a.createElement(Ze.a,{onGlassClick:this.toggleNotesPopover,topOffset:w.mobileHeaderHeight},p.a.createElement(Et,s()({},y,{asyncLoadingComponent:this.renderNotesAsyncLoader()})))):p.a.createElement(wt.c,{isOpen:t,toggle:this.onNoteCountButtonClick,position:K.b.Right,showOverflowY:!0,width:300,height:510,component:p.a.createElement(Et,s()({},y,{asyncLoadingComponent:this.renderNotesAsyncLoader()}))},I)))})),c()(this,"sendAPostContent",(()=>{var e=this.state.sendAPostPopoverIsOpen,t=this.props,a=t.blog,n=t.id,o=t.shortUrl,s=t.postUrl,i=t.embedUrl,l=t.placementId,r=t.earnedId;return p.a.createElement(z.a,null,(t=>t.isMobile?p.a.createElement("div",null,p.a.createElement(qe.a,{onClick:this.toggleSendAPostPopover}),e&&p.a.createElement(Ze.a,{onGlassClick:this.toggleSendAPostPopover,topOffset:w.mobileHeaderHeight},p.a.createElement(bt,{blog:a,id:n,shortUrl:o,postUrl:s,embedUrl:i,isMobile:!0,close:this.toggleSendAPostPopover,placementId:l,earnedId:r}))):p.a.createElement(wt.c,{width:340,height:"auto",isOpen:e,toggle:this.toggleSendAPostPopover,showOverflowY:!0,component:p.a.createElement(bt,{blog:a,id:n,shortUrl:o,postUrl:s,embedUrl:i,placementId:l,earnedId:r})},p.a.createElement(qe.a,{onClick:this.toggleSendAPostPopover}))))}))}render(){var e=this.props,t=e.id,a=e.canDelete,n=e.appContext,o=n._t,s=n.isLoggedIn,i=e.timelineContext.onRemoveTimelineObject,l=e.isPaywallShown,r=this.state.showDeleteDialog;return"production"===b.a.Development&&a&&!i&&console.warn("The post ".concat(t," can be deleted but has no onRemoveTimelineObject handler. This can cause the UI to get out of date with the delete state of the post.")),p.a.createElement("footer",{role:"contentinfo","aria-label":o("Post Footer"),className:Object(j.a)({[It.a.footer]:!0,[It.a.isPaywallShown]:l})},p.a.createElement("div",{className:It.a.noteCount},this.noteContent()),s?this.renderControls():this.renderLoggedOutControls(),r&&this.renderDeleteDialog())}}c()(_t,"defaultProps",{canReply:!0,canLike:!1,canReblog:!1,canSendInMessage:!1,liked:!1,noteCount:0,replyCount:0,reblogCount:0,likeCount:0,canDelete:!1,canEdit:!1,trail:void 0,trailElementForSelf:void 0,postState:void 0,queuedState:void 0,shouldOpenInLegacy:!0,earnedId:void 0});var jt,Tt=Object(R.b)(_t,{appContext:!0,adContext:!0,timelineContext:!0,loginContext:!0,postContext:!0}),Rt=Object(V.o)(Tt),Dt=a("I0DR"),Bt=a.n(Dt),Mt=a("nsOS"),Ft=a("ofcG"),Lt=a("YBti"),Ut=e=>{var t,a,n,o,s=e.ctaOptions,i=e.placementId,r=Object(F.c)().logEvent,c=Object(we.c)().post,d=Object(Ft.b)(),m=d.hydraConfigInstanceId,u=d.adPlacementConfiguration,g=!(null==s||!s.text)&&!(null==s||null===(t=s.urls)||void 0===t||!t.web)&&p.a.createElement("span",null,p.a.createElement(Mt.a,{ctaText:s.text,clickUrl:s.urls.web,color:s.buttonTextColor||I.paletteBlack,backgroundColor:s.buttonBackgroundColor||I.paletteWhite,borderColor:s.buttonBorderColor||s.buttonBackgroundColor||I.paletteGray25,placementId:i})),v=null!=s&&s.displayUrl?Bt.a.get(new URL(null==s?void 0:s.displayUrl).hostname):null!=s&&null!==(a=s.urls)&&void 0!==a&&a.web?Bt.a.get(new URL(null==s||null===(n=s.urls)||void 0===n?void 0:n.web).hostname):"";return g&&null!=s&&null!==(o=s.urls)&&void 0!==o&&o.web?p.a.createElement("div",{className:Lt.a.ctaSectionContainer},p.a.createElement("a",{onClick:()=>r({eventName:h.b.Click,eventDetails:l()({placement_id:i},Object(Ot.a)({hydraConfigInstanceId:m,adPlacementConfiguration:u,timelineObject:c}))}),href:s.urls.web,className:Lt.a.displayUrl,style:{color:(null==s?void 0:s.buttonBackgroundColor)||I.paletteBlack},target:"_blank",rel:"noopener noreferrer"},v),g):null},Ht=a("PXvT"),qt=a("bgfI"),zt=a("XeTW");!function(e){e.unavailable="unavailable",e.availablePrioritize="available_prioritize",e.available="available",e.inReview="in_review",e.none="none",e.complete="complete"}(jt||(jt={}));class Wt extends d.Component{constructor(){super(...arguments),c()(this,"state",{openGlass:!1,inReview:!1,hasError:!1}),c()(this,"makeAppeal",(()=>{var e=this.props,t=e.blogName,a=e.postId;return this.props.appContext.apiFetch("/v2/blog/".concat(t,"/posts/").concat(a,"/appeal"),{method:"POST",body:{owner_appeal_nsfw:"request_review"}}).then((e=>{this.setState({inReview:!0,openGlass:!1})})).catch((e=>{this.setState({hasError:!0})}))})),c()(this,"toggleGlass",(()=>this.setState((e=>({openGlass:!e.openGlass})))))}render(){var e=this.props,t=e.flaggedType,a=e.isReblog,n=e.isNsfw,o=e.showApprovedAppeals,s=this.state,i=s.openGlass,l=s.inReview,r=s.hasError,c=this.props.appContext._t;if(t===jt.none)return null;if(!n&&o&&t===jt.complete)return p.a.createElement("div",{className:Object(j.a)([zt.a.flagged,zt.a.approved])},c("Your appeal was accepted! This post is no longer hidden."));if(!n)return null;var d={onGlassClick:this.toggleGlass,glassIsClickable:!1},m={text:c("Appeal"),onClick:this.makeAppeal,buttonStyle:Xe.a.Neutral},u={text:c("Dismiss"),onClick:this.toggleGlass,buttonStyle:Xe.a.Confirm},h={text:c("Learn More"),link:"".concat(Ce.a,"/docs/adultcontentfaq"),buttonStyle:Xe.a.Neutral},g={text:c("Learn More"),link:"".concat(Ce.a,"/docs/contentappeals"),buttonStyle:Xe.a.Neutral},v=p.a.createElement(Ze.a,d,p.a.createElement(Xe.b,{body:c("This post was flagged because somewhere in your reblog there might be adult content which is a violation of our Community Guidelines."),buttons:[h,u]})),b=p.a.createElement(Ze.a,d,p.a.createElement(Xe.b,{body:c("Your post is in content appeal. Once a decision has been made, we'll send you an email."),buttons:[g,u]})),f=p.a.createElement(Ze.a,d,p.a.createElement(Xe.b,{body:c("Unable to appeal the post. Please contact support for further help."),buttons:[h,u]})),w=p.a.createElement(Ze.a,d,p.a.createElement(Xe.b,{body:c("This post was flagged because we think it contains adult content which violates our Community Guidelines. It has been hidden from others, but not deleted. If you think this was done in error, tap Appeal and a real, live human will review it."),buttons:[m,h,u]})),E=p.a.createElement(Ze.a,d,p.a.createElement(Xe.b,{body:c("This post was flagged because it contains adult content which violates our Community Guidelines. It has not been deleted but is now only viewable to you. This decision cannot be appealed."),buttons:[h,u]})),y=p.a.createElement(L.a,{label:c("What does this mean?"),onClick:this.toggleGlass},p.a.createElement(qt.a,{fill:O.a.paletteWhite,size:{width:22,height:22}}));return t===jt.inReview||l?p.a.createElement("div",{className:Object(j.a)([zt.a.flagged,zt.a.inReview])},c(a?"This reblog is in content appeal":"Your post is in content appeal"),y,i&&b):a?p.a.createElement("div",{className:zt.a.flagged},c("This post was flagged because somewhere in your reblog there might be adult content."),y,i&&v):t===jt.unavailable?p.a.createElement("div",{className:zt.a.flagged},c("It looks like your post might be in violation of our Community Guidelines and is now hidden."),y,i&&E):t===jt.complete?p.a.createElement("div",{className:zt.a.flagged},c("Based on our Community Guidelines this post contains adult content and is now only viewable to you."),y,i&&E):p.a.createElement("div",{className:zt.a.flagged},c("It looks like your post might be in violation of our Community Guidelines and is now hidden."),p.a.createElement("button",{className:zt.a.appealButton,"aria-label":c("Appeal this post"),onClick:this.toggleGlass},c("Appeal")),i&&!r&&w,i&&r&&f)}}var Gt=Object(F.d)(Wt),Qt=a("cTEG"),Vt=a("ayhs");class Kt extends d.Component{constructor(){super(...arguments),c()(this,"state",{clientHeight:null,isExpanded:!1}),c()(this,"setRef",(e=>this.holderRef=e)),c()(this,"expand",(()=>this.setState({isExpanded:!0})))}componentDidMount(){this.holderRef&&this.setState({clientHeight:this.holderRef.clientHeight})}render(){var e=this.state,t=e.clientHeight,a=e.isExpanded,n=this.props,o=n.maxHeight,s=n.children,i=!a&&(null===t||t>o+50),l=i&&null!==t,r={maxHeight:i?o:void 0},c=(0,n.appContext._t)("Expand");return p.a.createElement("div",{className:Vt.a.holder,style:r},p.a.createElement("div",{ref:this.setRef},s),l&&p.a.createElement(L.a,{wrapperClassName:Vt.a.expandButton,onClick:this.expand,label:c},c))}}var Jt=Object(F.d)(Kt),Yt=Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 24 24"},p.a.createElement("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm3.8 13.4L13 11.667V7h-2v5.333l3.2 4.266 1.6-1.2z"})));Yt.defaultProps={size:{width:18,height:18},fill:I.paletteTransparentWhite65};var $t=Yt,Xt=Object(C.c)(p.a.createElement("svg",{viewBox:"0 0 24 24"},p.a.createElement("path",{d:"M10.498 18l-3.705-3.704 1.415-1.415 2.294 2.295 5.293-5.293 1.415 1.415L10.498 18zM21 6v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1V2h2v2h8V2h2v2h1a2 2 0 0 1 2 2zm-2 2H5v11h14V8z"})));Xt.defaultProps={size:{width:18,height:18},fill:I.paletteTransparentWhite65};var Zt=Xt,ea=a("2rSK"),ta=a("x0IU"),aa=a("7gZB"),na=a("DwVx"),oa=a("volw"),sa=e=>{var t,a=e.layout,n=e.content,o=null==a?void 0:a.find((e=>e.type===u.f.Ask));return(null==o||null===(t=o.blocks)||void 0===t?void 0:t.length)<(null==n?void 0:n.length)};class ia extends d.Component{constructor(){super(...arguments),c()(this,"state",{hasExpandedFromFiltered:!1}),c()(this,"getPostContextValue",Object(m.a)(((e,t)=>({presentationStyle:t,post:l()(l()({},e),{},{canReply:e.canReply&&t.showsReplyButton,canSendInMessage:e.canSendInMessage&&t.showsShareButton}),isNarrow:!!this.props.isNarrow})))),c()(this,"getSubmissionAttribution",(()=>{var e=this.props.timelineObject,t=e.postAuthor,a=e.state,n=e.anonymousEmail,o=e.anonymousName;return t?p.a.createElement("div",{className:oa.a.submissionWrapper},p.a.createElement(Ht.a,{className:oa.a.submission,blogName:t,href:"https://".concat(t,".tumblr.com")},p.a.createElement(Ne.d,{comment:"This text denotes that a post on some blog was submitted to it by some other user",params:{postAuthor:t},components:{span:p.a.createElement("span",{className:oa.a.submitter})}},"Submitted by [span][postAuthor][/span]"))):a===u.l.Submission&&n&&o?p.a.createElement("div",{className:oa.a.submission},p.a.createElement(Ne.d,{params:{anonymousEmail:n,anonymousName:o},components:{span:p.a.createElement("span",{className:oa.a.submitter})}},"Submitted by [span][anonymousName] ([anonymousEmail])[/span]")):p.a.createElement("div",{className:oa.a.submission},p.a.createElement(Ne.d,{comment:"This text denotes that a post on some blog was submitted to it by some anonymous user",components:{span:p.a.createElement("span",{className:oa.a.submitter})}},"Submitted by [span]anonymous[/span]"))})),c()(this,"renderTags",((e,t,a)=>{var o=this.props,s=o.timelineObject,i=s.recommendationReason,l=s.tags,r=s.isPinned,c=o.appContext._t,d=r&&{text:c("Pinned Post"),icon:n.Pin,color:I.glassGreen,loggingReason:"",links:{}}||((null==i?void 0:i.icon)!==n.Pin?i:void 0);return p.a.createElement(M,{tags:l,isPaywallShown:t,postChromeStyles:a,recommendationReason:d,collapsedHeight:e?w.wrappedTagsMobileHeight:w.wrappedTagsDesktopHeight})})),c()(this,"appendIsBlurredImages",((e,t)=>e.map((e=>e.type===u.b.Image&&t?l()(l()({},e),{},{isBlurredImages:!this.props.timelineObject.followed}):e)))),c()(this,"getInboxAttribution",(e=>{var t=this.props.timelineObject,a=t.postUrl,n=t.askingName,o=void 0===n?"":n,s=t.askingUrl,i=void 0===s?"":s,l=t.askingAvatar,r=t.postAuthor,c=void 0===r?"":r,d=t.postAuthorAvatar,p=t.blog,m=o,h=i,g=l,v=Object(u.O)(t);return v&&(m=c,g=d,h="".concat(t.postAuthor,".tumblr.com")),{recipientName:e&&!p.primary?p.name:void 0,isSubmission:v,permalinkUrl:a,blog:{name:m,url:h,avatar:g,uuid:""}}})),c()(this,"getAttribution",((e,t)=>e?this.getInboxAttribution(t):Object(ea.a)(this.props.timelineObject))),c()(this,"expandFromFiltered",(()=>this.setState({hasExpandedFromFiltered:!0}))),c()(this,"getCtaOptionsFromActions",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.find((e=>e.type===u.h.Cta))}))}render(){var e=this.props,t=e.timelineObject,a=e.appContext.features,n=a.paywallConsumption,o=a.tspUiUpdate,i=e.adContext,r=i.adPlacementConfiguration,c=i.hydraConfigInstanceId,d=t.actions,m=t.blog,v=t.blogName,w=t.postUrl,E=t.id,y=t.content,C=t.layout,I=t.canLike,O=t.canReblog,k=t.canReply,N=t.date,P=t.liked,A=t.filtered,S=t.followed,x=t.isNsfw,_=t.noteCount,T=t.replyCount,R=t.reblogCount,D=t.likeCount,B=t.ownerAppealNsfw,M=t.rebloggedFromAdvertiserName,F=t.rebloggedFromCanBeFollowed,L=t.rebloggedFromFollowing,U=t.rebloggedFromId,G=t.rebloggedFromName,Q=t.rebloggedFromUrl,V=t.reblogKey,K=t.trail,J=t.type,Y=t.canEdit,$=t.canDelete,X=t.canSendInMessage,Z=t.postAuthor,ee=t.postAuthorAvatar,te=t.isSubmission,ae=t.askingName,ne=t.sponsoredBadgeUrl,oe=t.sourceUrl,se=t.sourceTitle,ie=t.sourceUrlRaw,le=t.shortUrl,re=t.embedUrl,ce=t.dismissal,de=t.state,pe=t.queuedState,me=t.placementId,ue=t.adm,he=t.isPaywalled,ge=t.paywallAccess,ve=t.shouldOpenInLegacy,be=t.earnedId,fe=this.state.hasExpandedFromFiltered;if(J!==u.c)return"production"===b.a.Development&&console.warn('Post with id "'.concat(E,'" is not blocks type and cannot be rendered')),null;var Ee=this.props.presentationStyle,ye=this.getAttribution(Ee.usesInboxAttribution,Ee.showsRecipientForInboxAttribution);null!=ye&&ye.blog.advertiserName&&(Ee=l()(l()({},Ee),{},{showsPosterAvatar:!1}));var Ce=G&&Q?{blogName:M||G,permalinkUrl:Q,postId:U}:void 0,Ie=!(void 0!==F)&&m.canBeFollowed,Oe=this.getCtaOptionsFromActions(d),ke=p.a.createElement(W.a,s()({postState:de,postAttribution:ye,reblogAttribution:Ce,presentationStyle:Ee,showsFollowButton:!Ee.usesInboxAttribution&&(F||Ie),showsSponsored:!!ne,isFollowingPoster:S,isFollowingReblogger:L,dismissal:ce,date:N,placementId:me,earnedId:be,isPaywalled:he},!o&&{ctaButtonOptions:Oe})),Ae=p.a.createElement(Gt,{flaggedType:B,postId:E,blogName:v,isReblog:void 0!==U,isNsfw:x,showApprovedAppeals:Ee.showsApprovedAppealBanner}),Se=Ee.showsPosterAvatar&&!Ee.showsAvatarInline?p.a.createElement("div",{className:oa.a.stickyContainer},p.a.createElement("div",{className:oa.a.avatar},p.a.createElement(Pe.a,{isAnonymous:!ye.blog.url,imageResponse:ye.blog.avatar,dimension:Ee.avatarDimension,name:ye.blog.name,url:ye.blog.url,isAdult:ye.blog.isAdult,blog:ye.blog,authorImageResponse:Ee.showsAuthorImage?ee:void 0,authorName:Z,placementId:me,eventName:h.b.Avatar,eventDetails:Object(Ot.a)({timelineObject:t,adPlacementConfiguration:r,hydraConfigInstanceId:c})}))):null;if(A&&!fe)return p.a.createElement(we.b.Provider,{value:this.getPostContextValue(t,Ee)},p.a.createElement("article",{className:oa.a.post},Se,ke,p.a.createElement(H,{expand:this.expandFromFiltered,filteredTags:A.tags,filteredContent:A.content})));var xe=!!K.length&&!!y.length,_e={content:y,layout:C,blog:m,post:{id:E},isContributedContent:!0},je=xe?[...K,_e]:K,Te=p.a.createElement(q.a,{trail:je,parentPlacementId:me,parentEarnedId:be}),Re=this.appendIsBlurredImages(y,Ee.blursImagesFromUnfollowedBlogs),De=!!y.length&&!K.length,Be=De&&Ee.showsOnlyFirstMediaBlock&&Object(ta.a)(Re),Me=De&&p.a.createElement(f.b,{isOriginalPost:!0,postingBlog:m,adm:ue,placementId:me,blocks:Be?[Be]:Re,layouts:Be?void 0:C}),Fe=!!te&&Ee.showsSubmissionAttribution&&this.getSubmissionAttribution(),Le=!!ae,Ue=!!se&&!!oe&&p.a.createElement("div",{className:oa.a.contentSource},p.a.createElement(Ne.d,{comment:'Content source. The placeholder is a link to the source of the post (like "website.com").',params:{sourceTitle:se},components:{link:p.a.createElement("a",{href:oe,target:"_blank",rel:"noopener noreferrer"})}},"Source: [link][sourceTitle][/link]")),He=Y?l()(l()({},t),{},{sourceUrl:ie}):void 0,qe=O?{content:y,layout:C,blog:m,post:{id:E,reblogKey:V}}:void 0,ze=p.a.createElement(p.a.Fragment,null,Ae,this.props.children||p.a.createElement(p.a.Fragment,null,Te,Me));void 0!==Ee.maximumContentHeight&&(ze=p.a.createElement(Jt,{maxHeight:Ee.maximumContentHeight},ze));var We=n&&he&&ge===g.a.NonMember,Ge=We&&m.theme?Object(aa.a)(m):{},Qe=We&&m.theme?Object(aa.c)(m):{};return p.a.createElement(z.a,null,(e=>{var a=e.isMobile;return p.a.createElement(we.b.Provider,{value:this.getPostContextValue(t,Ee)},p.a.createElement("article",{className:Object(j.a)({[oa.a.post]:!0,[oa.a.withOutline]:Ee.hasOutline})},de===u.l.Queued?this.renderQueueSchedule(a):Se,ke,ze,Ue,Fe,o&&p.a.createElement(Ut,{ctaOptions:Oe,placementId:me}),p.a.createElement("div",{className:oa.a.footerWrapper,style:Ge},!!Ee.showsTags&&this.renderTags(a,We,Qe),p.a.createElement(Rt,{id:E,blog:m,reblogKey:V,canLike:I,canReblog:O,canReply:k&&Ee.showsReplyButton,canSendInMessage:X&&Ee.showsShareButton,canEdit:Y&&Ee.showsEditButton,canDelete:$&&Ee.showsDeleteButton,canAnswer:Le&&!sa(t),isInboxAsk:Le&&de===u.l.Submission,liked:P,noteCount:_,replyCount:T,reblogCount:R,likeCount:D,postState:de,queuedState:pe,isSubmissionDraft:te&&de===u.l.Submission,isPaywallShown:We,isSponsored:!!ne,postChromeStyles:Qe,editablePost:He,trail:K,trailElementForSelf:qe,shortUrl:le,embedUrl:re,postUrl:w,placementId:me,shouldOpenInLegacy:ve,adm:ue,earnedId:be}))))}))}renderQueueSchedule(e){var t=this.props.timelineObject,a=t.scheduledPublishTime,n=t.id,o=t.blogName,s=t.queuedState,i=t.blog.timezoneOffset,l=this.props.appContext,r=l._getLocaleDateString,c=l._t;if(!a)return null;var d=new Date;d.setHours(23,59,59,999);var m,h,g=d.getTime()+5184e5>1e3*a?v.a.WeekdayShort:v.a.MonthDayShort;if(i){var b=Object(na.a)(i,a);m=r(b,g),h=r(b,v.a.TimeUTC)}else{var f=new Date(1e3*a);m=r(f,g),h=r(f,v.a.Time)}var w=s===u.i.Scheduled?p.a.createElement("span",{className:oa.a.scheduledIndicator,title:c("Scheduled Post")},p.a.createElement(Zt,null)):p.a.createElement("span",{className:oa.a.scheduledIndicator,title:c("Queued Post")},p.a.createElement($t,null));return e?p.a.createElement("div",{className:oa.a.scheduledQueueDate},p.a.createElement("div",{className:oa.a.scheduledQueueDay},w," ",m," ",h),s===u.i.Queued&&p.a.createElement(ht,{id:n.toString(),blogName:o})):p.a.createElement("div",{className:oa.a.stickyContainer},p.a.createElement("div",{className:oa.a.scheduledQueueDate},p.a.createElement("div",{className:oa.a.scheduledQueueDay},m),p.a.createElement("div",{className:oa.a.scheduledQueueTime},h," ",w)))}}var la=Object(R.c)(ia,{appContext:!0,adContext:!0});t.a=Object(Qt.a)(la,!1)},"X+AN":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return r}));var n=a("vN+2"),o=a.n(n),s=a("q1tI"),i=Object(s.createContext)({canFastReblog:!1,canFastQueue:!1,canFastReblogDeprecated:!1,fastRebloggedPosts:[],setDefaultFastBlog:o.a,getBlogs:()=>[]}),l=Object(s.createContext)({allPosts:[],queuedPosts:[]});t.b=i;var r=()=>Object(s.useContext)(i)},XJKT:function(e,t,a){"use strict";var n,o;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o})),function(e){e.SPAM="spam",e.UNBLUR="unblur"}(n||(n={})),function(e){e.Fast="fast"}(o||(o={}))},YQ2m:function(e,t,a){"use strict";var n=a("3tO9"),o=a.n(n),s=a("lSNA"),i=a.n(s),l=a("q1tI"),r=a.n(l),c=a("s5E+"),d=a("Dcbp"),p=a.n(d),m=a("mTM8"),u=a("yXPU"),h=a.n(u),g=a("OFL0"),v=a.n(g),b=a("o0o1"),f=a.n(b),w=a("na+J");class E extends w.a{constructor(e){super("Could not load the Safeframe Library with error: ".concat(e),"SafeframeLoadError")}}var y,C=a("lpdi"),I=a.n(C),O={"exp-ovr":1,"exp-push":0,bg:0,pin:0,"read-cookie":0,"write-cookie":0};!function(e){e.GeometryUpdated="geom-update"}(y||(y={}));var k=a("HS+D");function N(e){return Math.min(e,k.b.getInfo().innerWidth)}var P=(e,t,a)=>{var n,o=S(e),s=(null==a?void 0:a.self)&&A(a.self),i=o&&x(o);return!!(t===y.GeometryUpdated&&o&&s&&"true"===(null===(n=o.parentElement)||void 0===n?void 0:n.dataset.isResizable)&&i)&&(_(o,s),_(i,s),!0)},A=e=>{if(!e||!e.w||!e.h)return null;var t=N(p.a.postWidth),a=t/e.w;return 1===a?null:{w:t,h:Math.ceil(e.h*a)}},S=e=>document.getElementById("sf_pos_rel_el_".concat(e)),x=e=>e.querySelector("iframe"),_=(e,t)=>{e.style.width="".concat(t.w,"px"),e.style.height="".concat(t.h,"px")},j=function(){var e=h()(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.$sf){e.next=9;break}return e.next=4,a.e(69).then(a.t.bind(null,"+wBy",7));case 4:return e.next=6,a.e(70).then(a.t.bind(null,"Nf3m",7));case 6:return e.next=8,a.e(71).then(a.t.bind(null,"EURq",7));case 8:new window.$sf.host.Config({renderFile:I.a,positions:{},onPosMsg:P});case 9:return e.next=11,new Promise(((e,t)=>{var a=0,n=()=>v()(window,"$sf.host.boot")?e():a>=10?t("Exceeded max attempts to check for the Safeframe API."):(a+=1,void setTimeout(n,1e3));n()}));case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),new E(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),T=a("o56e");class R extends l.Component{constructor(){super(...arguments),i()(this,"createHtmlField",(()=>{var e=this.props,t=e.frameUrl,a=e.conf,n=e.html,o=JSON.stringify(a);if(t)return'\n        {\n          "id" : "'.concat(a.id,'",\n          "html" : "<script src=\\"').concat(t,'\\"><\/script>",\n          "conf" : ').concat(o,"\n        }\n        ");if(n){var s=JSON.stringify(n);return'\n        {\n          "id" : "'.concat(a.id,'",\n          "html" : ').concat(s,',\n          "conf" : ').concat(o,"\n        }\n        ")}return""}))}componentDidUpdate(e){this.props.html===e.html&&this.props.frameUrl===e.frameUrl||(this.generateSafeframeData(),v()(window,"$sf.host.boot")&&(window.$sf.host.nuke(this.props.conf.id),window.$sf.host.boot()))}componentDidMount(){var e=this;return h()(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.generateSafeframeData(),R.HAS_BEEN_INITIALIZED){t.next=9;break}return a=Node.prototype.removeChild,Node.prototype.removeChild=function(e){return e.parentNode!==this?(e.remove&&e.remove(),e):a.call(this,e)},t.next=6,j();case 6:R.HAS_BEEN_INITIALIZED=!0,t.next=10;break;case 9:v()(window,"$sf.host.boot")&&window.$sf.host.boot();case 10:case"end":return t.stop()}}),t)})))()}componentWillUnmount(){this.props.conf.id&&v()(window,"$sf.host.boot")&&window.$sf.host.nuke(this.props.conf.id)}render(){return r.a.createElement("div",{id:this.props.conf.id})}generateSafeframeData(){var e=this.props,t=e.adRequestContext.currentAdRequests,a=e.conf.id,n=document.createElement("script");if(n.className="sf_data",n.type="text/x-safeframe",n.innerHTML=this.createHtmlField(),a){var o=t[a];o&&o.setStartTime()}document.body.appendChild(n)}}i()(R,"HAS_BEEN_INITIALIZED",!1);var D=Object(T.b)(R,{adRequestContext:!0}),B=a("Hm+Q");var M=class{constructor(e,t){if("object"==typeof e)if(this.id=e.id,this.dest=e.dest||t,this.bg=e.bg||"transparent",this.tgt=e.tgt||"_top",this.css=e.css,this.w="string"==typeof e.w?String(e.w):Number(e.w)||0,this.h=Number(e.h)||0,this.z=Number(e.z)||0,this.supports=e.supports||O,this.w&&this.h)this.size="string"==typeof this.w?"":"".concat(this.w,"x").concat(this.h);else{var a=e.size;if(a){var n=a.split(/x/gi);this.w=Number(n[0])||0,this.h=Number(n[1])||0,this.size=a}else this.size=""}else this.id=e,this.dest=t;this.id=this.id}},F=a("VULT"),L=a("8ADl"),U=function(e,t){var a,n,o,s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l="undefined"!=typeof window&&(null===(a=(n=window).getSuid)||void 0===a?void 0:a.call(n)),r={dcn:"8a969588016f6ff76855f7d814460018",pos:t,secure:"1"};(l&&(r["u(id)"]=l),i&&(r.us_privacy=i),e&&(r["p(supplyId)"]=e),"undefined"!=typeof window)&&(null===(o=(s=window).admaxAd)||void 0===o||o.call(s,r));setTimeout((()=>{var t=document.querySelector('div[id^="ad"]');if(t){var a,n=Array.from(t.childNodes).find((e=>8===e.nodeType));"No Ads"===(null==n||null===(a=n.textContent)||void 0===a?void 0:a.trim())&&window.top.postMessage('{"oneMobileMsg": {"noAd": "'.concat(e,'"}}'),"*")}else window.top.postMessage('{"oneMobileMsg": {"noAd": "'.concat(e,'"}}'),"*")}),7e3)},H=(e,t)=>{var a,n=t;window.native=window.native||[],null===(a=window.native)||void 0===a||a.push({passbackHandler:()=>{window.top&&window.top.postMessage&&window.top.postMessage('{"flurryMsg": {"noAd": "'.concat(e,'"}}'),"*")},successHandler:()=>{window.top&&window.top.postMessage&&window.top.postMessage('{"flurryMsg": {"adAvailable": "'.concat(e,'"}}'),"*")},errorHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.error,n=void 0===a?"Unknown Flurry Error":a;window.top&&window.top.postMessage&&window.top.postMessage('{"flurryMsg": {"adError": "'.concat(e,'", "errorMsg": "').concat(n,'"}}'),"*")},code:n}),window.apiKey="XQN3HX9KDMPKQNDS5DJK",window.publisherUrl="https://www.tumblr.com/"},q=a("V+vC"),z=e=>!!e.streamGlobalPosition||e.supplyProviderId===m.a.DASHBOARD,W={[c.d.Teads]:.5926,[c.d.Flurry]:.6852,[c.d.OneMobile]:250/300},G={[c.d.Teads]:p.a.postWidth,[c.d.Flurry]:p.a.postWidth,[c.d.OneMobile]:p.a.sidebarAdWidth};class Q extends l.Component{constructor(){super(...arguments),i()(this,"safeFrameScriptMapping",{[c.d.Teads]:e=>'<script src="//a.teads.tv/page/'.concat(e,"/tag?supply_id=").concat(this.props.supplyOpportunityInstanceId,'"><\/script>'),[c.d.OneMobile]:e=>{var t,a;return'<script src="'.concat("https://web.ssp.yahoo.com/js/admax/admax_api_https.js",'"><\/script>\n    <script>\n    const supplyOpportunityInstanceId = "').concat(this.props.supplyOpportunityInstanceId,'"\n    const placementId = "').concat(e,'"\n    const ccpaPrivacyConsentString = "').concat((null===(t=this.props.adContext)||void 0===t||null===(a=t.privacy)||void 0===a?void 0:a.ccpaPrivacyString)||"",'"\n    const init = ').concat(U,"\n    init(supplyOpportunityInstanceId, placementId, ccpaPrivacyConsentString)\n    <\/script>")},[c.d.Flurry]:e=>'<script type="text/javascript">\n    (function() {\n      const supplyOpportunityInstanceId = "'.concat(this.props.supplyOpportunityInstanceId,'"\n      const placementId = "').concat(e,'"\n      const init = ').concat(H,';\n      init(supplyOpportunityInstanceId, placementId)\n    })();\n    <\/script>\n    <script async src="').concat("https://s.yimg.com/dy/ads/".concat("native.js"),'"><\/script>')})}componentWillUnmount(){var e,t=this.props.ad;if(Object(c.l)(t))switch(t.clientSideAdType){case c.d.Teads:null===(e=window.teads)||void 0===e||e.cleanup()}}render(){var e=this.props,t=e.ad,a=e.presentationStyle;if(!t)return null;var n=this.generateSafeFrameConfig();return Object(c.l)(t)||Object(c.j)(t)?r.a.createElement("div",{style:{width:n.w},"data-is-resizable":Object(c.l)(t)&&!Object(c.k)(t),className:z(t)?q.a.adTimelineObject:""},r.a.createElement(D,{conf:n,html:this.generateHTMLFromAd(t),key:n.id})):Object(c.n)(t)&&a?r.a.createElement(F.a,{presentationStyle:a,timelineObject:t}):Object(c.p)(t)?r.a.createElement("div",{className:q.a.listTimelineObject},r.a.createElement(L.a,{timelineObject:t})):null}generateHTMLFromAd(e){var t=this.props,a=t.appContext.features,n=t.adContext.adPlacementConfiguration,o=t.location,s=void 0===o?m.a.DASHBOARD:o,i=t.streamPosition;if(Object(c.l)(e)&&e.clientSideAdType in this.safeFrameScriptMapping){var l=Object(B.a)(e.clientSideAdType,n,s,i,a);return this.safeFrameScriptMapping[e.clientSideAdType](l)}return Object(c.j)(e)?null==e?void 0:e.adm:""}generateSafeFrameConfig(){var e=this.props,t=e.supplyOpportunityInstanceId,a=e.ad,n=N(G[a.clientSideAdType]||p.a.postWidth);return new M(o()({id:((null==a?void 0:a.supplyOpportunityInstanceId)||t)+((null==a?void 0:a.id)||a.adInstanceId),dest:((null==a?void 0:a.supplyOpportunityInstanceId)||t)+((null==a?void 0:a.id)||a.adInstanceId),supports:{"exp-push":1}},Object(c.j)(a)?{w:a.width,h:a.height}:{w:n,h:Object(c.l)(a)&&W[a.clientSideAdType]?Math.ceil(W[a.clientSideAdType]*n):0}))}}t.a=Object(T.b)(Q,{appContext:!0,adContext:!0})},bJjw:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("zoQI"),i=a("y4uf"),l=a("Jq/n"),r=a("onkD");t.a=Object(i.d)((function(e){var t=e.appContext._t,a=e.className;return o.a.createElement(s.a,{wrapperClassName:Object(l.a)([r.a.reorderButton,a]),label:t("Reorder")},"::")}))},"c+T4":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("gf7x"),o=a("ofoP"),s=(e,t)=>!(null==e||!e[n.a.LoginWall])&&(Object(o.t)(t)||Object(o.y)(t))},cLI3:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("HAmM"),o=a("mTM8"),s=(e,t,a,s,i)=>{var l=a.supplyRequestId,r=a.supplyOpportunityInstanceId,c=a.adProviderId,d=a.isTumblrSponsoredPost,p=a.sponsoredBadgeUrl,m=a.adProviderForeignPlacementId,u=a.adProviderPlacementId,h=a.adProviderInstanceId,g=a.mediationCandidateId,v=a.streamSessionId,b=a.streamGlobalPosition,f=a.placementId,w=a.price,E=a.creativeId,y=a.adId,C=a.adRequestId,I=a.adInstanceId,O=a.adInstanceCreatedTimestamp,k=(new Date).getTime()-O;e({eventName:n.f.SupplyOpportunityFilled,eventDetails:{price:w,supply_opportunity_instance_id:r,supply_provider_id:o.a.DASHBOARD,supply_request_id:l,ad_provider_id:c,is_tumblr_sponsored_post:d||p?1:0,ad_provider_placement_id:u,ad_provider_foreign_placement_id:m,ad_provider_instance_id:h,mediation_candidate_id:g,stream_session_id:v,stream_global_position:b,placement_id:f,fill_id:i||a.fillId,hydra_config_instance_id:s,hydra_signature:null==t?void 0:t.signature,creative_id:E,ad_id:y,ad_instance_age:k,ad_request_id:C,ad_instance_id:I}})}},cTEG:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a("3tO9"),o=a.n(n),s=a("lSNA"),i=a.n(s),l=a("q1tI"),r=a.n(l),c=a("BwKz"),d=a("s5E+"),p=a("x2UA"),m=a("o56e"),u=a("Ya+1"),h=a("g2Yl"),g=a("wzEd"),v=a("kItG");function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=1e3;class n extends l.Component{constructor(){super(...arguments),i()(this,"areImpressionsEnabled",!t),i()(this,"provideEventDetails",u.a),i()(this,"isIntersecting",!1),i()(this,"setInViewCallback",(e=>{this.inViewCallback=e})),i()(this,"isInView",(()=>this.isIntersecting)),i()(this,"onIntersectionChange",(e=>{var t;(this.isIntersecting=e.isIntersecting,this.isIntersecting)?(null===(t=this.inViewCallback)||void 0===t||t.call(this),this.inViewCallback=null,this.didBeginIntersecting()):this.didEndIntersecting()})),i()(this,"didBeginIntersecting",(()=>{if(this.areImpressionsEnabled){this.logImpression();var e=this.props.timelineObject;((null==e?void 0:e.displayType)===p.a.Sponsored||Object(d.m)(e))&&(this.viewableImpressionTimer=window.setTimeout(this.logViewableImpression,a))}})),i()(this,"logImpression",(()=>{var e=this.props.appContext.logImpression,t=this.props.timelineObject;e({placementId:t.placementId,displayType:t.displayType,serveId:t.serveId,eventName:h.b.Impression,eventDetails:this.provideEventDetails(t)}),t.adm&&this.props.adContext.sendImpressionADMBeacon(this.props.timelineObject.adm)})),i()(this,"logViewableImpression",(()=>{var e=this.props.appContext.logImpression,t=this.props.timelineObject;e({placementId:t.placementId,displayType:t.displayType,serveId:t.serveId,eventName:h.b.ViewableImpression,eventDetails:this.provideEventDetails(t)}),this.viewableImpressionTimer=null})),i()(this,"didEndIntersecting",(()=>{this.viewableImpressionTimer&&(window.clearTimeout(this.viewableImpressionTimer),this.viewableImpressionTimer=null)})),i()(this,"setImpressionsEnabled",(e=>{var t=this.areImpressionsEnabled;this.areImpressionsEnabled=e,t!==e&&e&&this.isIntersecting&&this.didBeginIntersecting()})),i()(this,"setProvideEventDetails",(e=>this.provideEventDetails=e))}render(){var a=this.props.timelineObject,n=a.placementId,s=a.serveId,i=a.displayType,l=o()(o()({},this.props),t?{setImpressionsEnabled:this.setImpressionsEnabled,setProvideEventDetails:this.setProvideEventDetails,isInView:this.isInView,setInViewCallback:this.setInViewCallback}:{}),d=r.a.createElement(e,l);return n||s||i===p.a.Sponsored?r.a.createElement("div",{className:v.a.impressionLoggingWrapper},r.a.createElement(c.a,{onChange:this.onIntersectionChange},r.a.createElement("div",{className:v.a.hiddenObserver})),d):d}componentDidUpdate(e){this.props.timelineObject.placementId!==e.timelineObject.placementId&&this.didEndIntersecting()}}return Object(g.a)(n,"".concat(e.name,"WithImpressionLogging")),Object(m.b)(n,{appContext:!0,adContext:!0})}},d1s8:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,o=a("pVnL"),s=a.n(o),i=a("3tO9"),l=a.n(i),r=a("lSNA"),c=a.n(r),d=a("q1tI"),p=a.n(d),m=a("QPbL"),u=a("nA7Y"),h=a("g2Yl"),g=a("rKD4"),v=a("o56e"),b=a("Qtnd"),f=a("7l1C"),w=a("Jq/n"),E=a("yk2S"),y=a("vSkO"),C=a("vAT5"),I=a("y42H"),O=a("xwdP"),k=a("aCRw"),N=a("OPDf"),P=a("USam"),A=a("9Nfv");!function(e){e[e.Unclicked=0]="Unclicked",e[e.Success=1]="Success",e[e.Failure=2]="Failure"}(n||(n={}));class S extends d.Component{constructor(){var e;super(...arguments),e=this,c()(this,"state",{copyLinkStatus:n.Unclicked,showingPinPostConfirmationDialog:!1}),c()(this,"apiHelper",Object(b.a)(this.props.appContext.apiFetch)),c()(this,"containerRef",Object(d.createRef)()),c()(this,"hasUnfollowed",!1),c()(this,"renderItems",(e=>{var t=this.props,a=t.blogUrl,o=t.blogName,s=t.followed,i=t.postUrl,l=t.dismissal,r=t.isPostPublishedOrPrivate,c=t.date,d=t.renderPin,u=void 0!==d&&d,h=t.postContext,v=h.post,b=v.id,f=v.isPromoted,I=v.canPin,k=v.isPinned,S=v.placementId,x=v.blogName,_=v.askingName,j=v.postAuthor,T=h.presentationStyle,R=T.showsPreviewPostLink,D=T.usesInboxAttribution,B=t.timelineContext,M=t.appContext,F=M._c,L=M.apiFetch,U=M.isLoggedIn,H=M._getRelativeDateString,q=this.state,z=q.copyLinkStatus,W=q.showingPinPostConfirmationDialog,G=[],Q=b;if(c&&r&&G.push(p.a.createElement(y.a,{linkTo:i,title:F("Hover text for timestamp that links to a blog permalink. %1$s is the blog's domain","View post on %1$s","".concat(o,".tumblr.com")),className:Object(w.a)([A.a.meatballItem,A.a.thin,A.a.timestamp]),key:"timestamp"},p.a.createElement(N.d,{comment:"Timestamp in meatball menu for a post. [postedWrapper] and [/postedWrapper] need to stay around the translation of 'Posted - '. If you need to add text after the [date/] symbol then that text will also need to be wrapped in its own set of [postedWrapper] and [/postedWrapper]. [date/] is a simplified timestamp.",components:{postedWrapper:p.a.createElement("span",null),date:p.a.createElement("span",{className:A.a.timestampDate},H(c,g.c.Simple))}},"[postedWrapper]Posted - [/postedWrapper][date/]"))),!r&&R&&G.push(p.a.createElement(y.a,{linkTo:i,className:Object(w.a)({[A.a.meatballItem]:!0,[A.a.thin]:!0}),key:"preview-post"},p.a.createElement("span",null,F("Link text for previewing an unpublished post","Preview Post")))),u&&I){var V=Object(w.a)([A.a.meatballItem,A.a.thin]);k?G.push(p.a.createElement(y.a,{keepDropdownOpenAfterClick:!0,className:V,onClick:this.unpinPost,key:"pin-post"},F("Link text for unpinning a post","Unpin"))):G.push(p.a.createElement(y.a,{keepDropdownOpenAfterClick:!0,className:V,onClick:this.pinPostClick,key:"pin-post"},F("Link text for pinning a post","Pin"),W&&this.renderPinPostConfirmationDialog()))}if(G.push(p.a.createElement(P.a,{blogIdentifier:o,postId:Q,onPromote:null==B?void 0:B.onPromote,className:A.a.meatballItem,isPromoted:!!f,key:"promoteForItem"})),r){var K,J="";z===n.Success?(K=F("Success message after copying a link","Link copied!"),J=A.a.success):z===n.Failure?(K=F("Error message when trying to copy a link","Failed to copy link."),J=A.a.failure):K=F("Menu item to copy the link to a post to your clipboard","Copy link"),G.push(p.a.createElement(y.a,{onClick:this.copyLink,keepDropdownOpenAfterClick:!0,className:Object(w.a)([A.a.meatballItem,J]),key:"copyLink"},K))}U&&!e&&s&&a&&G.push(p.a.createElement(y.a,{isWrappingButton:!0,keepDropdownOpenAfterClick:!0,key:"unfollow"},p.a.createElement(C.a,{following:!0,blogName:o,blogUrl:a,className:A.a.meatballItem,placementId:S,isPostHeader:!0},this.renderUnfollowText))),l&&l.options.forEach((e=>{var t,a,n=Object(w.a)({[A.a.meatballItem]:!0,[A.a.red]:e.destructive}),o=e.link,s=o.type,i=o.href;switch(s){case m.a.Action:t=Object(E.a)(e.link,L,this.removePost);break;case m.a.Web:a=i;break;default:return}G.push(p.a.createElement(y.a,{linkTo:a,onClick:t,className:n,key:"dismissal-".concat(e.text)},e.text))}));var Y=_||j;if(U&&!e){var $=D&&Y?Object(O.c)(Y,i,{postId:Q,recipientName:x},"message"):Object(O.c)(x,i,{postId:Q});G.push(p.a.createElement(y.a,{linkTo:$,className:Object(w.a)([A.a.meatballItem,A.a.red]),key:"report"},F("Menu item to report a post or blog","Report")))}return G})),c()(this,"renderPinPostConfirmationDialog",(()=>{var e=this.props.appContext._t;return p.a.createElement(k.a,{onGlassClick:this.pinPostCancel,glassIsClickable:!1},p.a.createElement(I.b,{title:e("Pin this post"),body:e("This will appear at the top of your blog and replace any previous pinned post. Are you sure?"),buttons:[{text:e("Nevermind"),buttonStyle:I.a.Neutral,onClick:this.pinPostCancel},{text:e("Yes"),buttonStyle:I.a.Confirm,onClick:this.pinPostConfirm}]}))})),c()(this,"onPopoverClose",(()=>this.hasUnfollowed&&this.removePost(null,{wasBlogUnfollowed:!0}))),c()(this,"removePost",(function(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.props,s=o.postContext,i=o.timelineContext.onRemoveTimelineObject;null!=s&&null!==(a=s.post)&&void 0!==a&&a.id&&(null==i||i(l()(l()({},n),{},{id:s.post.id})))})),c()(this,"renderUnfollowText",(()=>this.props.appContext._c("Menu item to unfollow a blog","Unfollow"))),c()(this,"logMeatballsEvent",(e=>{this.props.appContext.logEvent({eventName:e,eventDetails:{placement_id:this.props.placementId}})})),c()(this,"copyLink",(()=>Object(f.a)(this.props.postUrl,this.containerRef.current).then((()=>{this.setState({copyLinkStatus:n.Success}),this.logMeatballsEvent(h.b.CopyPostLink),this.setLinkResetTimer()})).catch((()=>{this.setState({copyLinkStatus:n.Failure}),this.setLinkResetTimer()})))),c()(this,"pinPostClick",(()=>{this.setState({showingPinPostConfirmationDialog:!0}),this.props.appContext.logEvent({eventName:h.b.PinPost})})),c()(this,"pinPostConfirm",(()=>(this.setState({showingPinPostConfirmationDialog:!1}),this.onPin(!0)))),c()(this,"pinPostCancel",(()=>{this.setState({showingPinPostConfirmationDialog:!1}),this.props.appContext.logEvent({eventName:h.b.PinPostCancel})})),c()(this,"unpinPost",(()=>this.onPin(!1))),c()(this,"onPin",(e=>{var t=this.props,a=t.appContext.logEvent,n=t.postContext.post,o=t.timelineContext.onPin;return null==o||o(n.id,e),a({eventName:e?h.b.PinPostConfirm:h.b.UnpinPost}),(e?this.apiHelper.pinPost:this.apiHelper.unpinPost)(n.blogName,n.id).fetch().catch((()=>null==o?void 0:o(n.id,!e)))}))}componentDidUpdate(e){e.followed&&!this.props.followed&&(this.hasUnfollowed=!0)}render(){var e=this.props.postContext.post.id;return p.a.createElement(O.a,s()({},Object(O.b)(this.props),{forwardedRef:this.containerRef,renderItems:this.renderItems,onPopoverClose:this.onPopoverClose,onBlock:this.removePost,popoverBoundary:u.a.ScrollParent,showOverflowY:!0,postId:e}))}setLinkResetTimer(){clearTimeout(this.copyLinkMessageTimer),this.copyLinkMessageTimer=setTimeout((()=>{this.setState({copyLinkStatus:n.Unclicked})}),3e3)}}t.b=Object(v.b)(S,{appContext:!0,postContext:!0,timelineContext:!0})},ee9G:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("s2Hx"),i=Object(s.c)(o.a.createElement("svg",{viewBox:"0 0 17.6 17.6"},o.a.createElement("path",{d:"M5.3 13.8l-2.1.7.7-2.1L10.3 6l1.4 1.4-6.4 6.4zm6.4-9.3l-1.4-1.4-1.4 1.4-6.7 6.7-.2.5-2 5.9 3.8-1.3 2.1-.7.4-.1.3-.3 7.8-7.8c.1 0-2.7-2.9-2.7-2.9zm5.6-1.4L14.5.3c-.4-.4-1-.4-1.4 0l-1.4 1.4L15.9 6l1.4-1.4c.4-.5.4-1.1 0-1.5"})));i.defaultProps={size:{width:24,height:24}},t.a=i},ffEX:function(e,t,a){"use strict";var n=a("3tO9"),o=a.n(n),s=a("4qC0"),i=a.n(s),l=a("ESMv"),r=a("mUOm"),c=a("s5E+"),d=e=>i()(e)||null===e;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.composeSettings,a=e.blogName,n=e.isPageBlogPage,s=e.editablePost,i=e[c.e.AdvertiserId],p=e[c.e.CampaignId],m=e[c.e.CreativeId],u=e[c.e.AdGroupId],h=e[c.e.AdId],g=t||{},v=g.saveButtonState,b={};return v&&v!==r.a.New&&(b[l.c.PostSaveButtonState]=v),!s&&a&&n&&(b[l.c.BlogName]=a),[i,p,m,u,h].every(d)&&(b=o()(o()({},b),{},{[c.e.AdvertiserId]:i,[c.e.CampaignId]:p,[c.e.CreativeId]:m,[c.e.AdGroupId]:u,[c.e.AdId]:h})),b}},hRDA:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("fSeh"),i=function(e){var t=e.width,a=e.height,n=e.fill,s=e.className,i=e.onClick;return o.a.createElement("svg",{width:t,height:a,className:s,onClick:i,viewBox:"0 0 14 14",fill:n},o.a.createElement("path",{d:"M14 2.8L11.2 0 7 4.2 2.8 0 0 2.8 4.2 7 0 11.2 2.8 14 7 9.8l4.2 4.2 2.8-2.8L9.8 7 14 2.8z"}))};i.defaultProps={width:24,height:24,fill:s.black},t.a=i},"hpQ+":function(e,t,a){"use strict";var n=a("3tO9"),o=a.n(n),s=a("q1tI"),i=a.n(s),l=a("w7rC"),r=a("pCNn"),c=a("rKD4"),d=a("OPDf"),p=a("EHdz"),m=a("FP6t"),u=a("vHCn"),h=a("xVcy"),g=a("A4z9"),v=a("Gt/x"),b=a("apQO"),f=a("PXvT"),w=a("nsOS"),E=a("5SQw"),y=a("y4uf"),C=a("p8qf"),I=a("d1s8"),O=a("Jq/n"),k=a("tSIF"),N=a("4NU8"),P=a("/N3V"),A=a("fSeh"),S=a.n(A),x=a("g2Yl"),_=a("NFOE"),j=a("ofcG"),T=a("rsLB");t.a=function(e){var t,a,n,s,A,R,D=e.postAttribution,B=e.reblogAttribution,M=e.showsFollowButton,F=e.showsSponsored,L=e.ctaButtonOptions,U=e.presentationStyle,H=void 0===U?{}:U,q=e.isAd,z=e.isFollowingPoster,W=e.isFollowingReblogger,G=e.dismissal,Q=e.date,V=e.postState,K=e.isNonInteractive,J=e.placementId,Y=e.earnedId,$=e.isPaywalled,X=Object(y.c)(),Z=X._t,ee=X._c,te=X._getRelativeDateString,ae=X.features,ne=ae.paywallConsumption,oe=ae.tspUiUpdate,se=Object(C.c)(),ie=se.isNarrow,le=void 0!==ie&&ie,re=se.post,ce=Object(j.b)(),de=ce.hydraConfigInstanceId,pe=ce.adPlacementConfiguration,me=H.avatarDimension,ue=H.hasOutline,he=H.reblogIconSize,ge=H.showsAvatarInline,ve=H.showsDogEar,be=H.showsEditButton,fe=H.showsPosterAvatar,we=H.showsPostingBlogName,Ee=H.stacksReblogAttribution,ye=H.usesInboxAttribution,Ce=B&&M&&i.a.createElement("div",{className:T.a.followButton},i.a.createElement(h.a,{blogName:B.blogName,blogUrl:B.blogName,following:!!W,isPostHeader:!0,placementId:J,earnedId:Y})),Ie=Object(O.a)({[T.a.headerContent]:!0,[T.a.hidesPosterBlogname]:!we}),Oe=(null==D||null===(t=D.blog)||void 0===t?void 0:t.advertiserName)||(null==D||null===(a=D.blog)||void 0===a?void 0:a.name),ke=B&&D?Z("%1$s reblogged a post from %2$s",D.blog.name,B.blogName):Oe?Z("Posted by %1$s",Oe):void 0,Ne=F&&i.a.createElement(g.a,{showSpinner:!oe,showSponsoredText:!0});if(q)return i.a.createElement("header",{role:"banner",className:T.a.header,"aria-label":ke},i.a.createElement("div",{className:Ie},Ne));var Pe,Ae=B&&i.a.createElement("div",{className:T.a.reblogAttribution},i.a.createElement(p.a,{size:he,isCompact:!0}),i.a.createElement("div",{className:T.a.rebloggedFromName},i.a.createElement(f.a,{blogName:B.blogName,postId:B.postId,href:B.permalinkUrl,placementId:J,krakenEventName:x.b.Posts},B.blogName)),Ce),Se=ne&&null!=D&&D.blog.isPaywallOn?i.a.createElement(m.a,null):null,xe=null!=D&&D.permalinkUrl&&!D.blog.advertiserName?i.a.createElement(f.a,{blogName:D.blog.name,href:D.permalinkUrl,blog:D.blog,placementId:J,krakenEventName:x.b.Posts,krakenEventDetails:Object(_.a)({hydraConfigInstanceId:de,adPlacementConfiguration:pe,timelineObject:re})},Oe,Se):i.a.createElement("span",null,Oe,Se),_e=i.a.createElement("span",{className:T.a.innerText});if(null!=D&&D.recipientName||null==D||!D.isSubmission)if(null!=D&&D.recipientName){var je=i.a.createElement(f.a,{blogName:D.recipientName,placementId:J,krakenEventName:x.b.Posts},D.recipientName);Pe=D.isSubmission?i.a.createElement(d.d,{comment:"Displayed when a blog has submitted a post to a secondary blog",components:{senderBlogLink:xe,innerElement:_e,recipientBlogLink:je}},"[senderBlogLink/] [innerElement]submitted to[/innerElement] [recipientBlogLink/]:"):i.a.createElement(d.d,{comment:"Displayed when a blog has sent a message to a secondary blog",components:{senderBlogLink:xe,innerElement:_e,recipientBlogLink:je}},"[senderBlogLink/] [innerElement]said to[/innerElement] [recipientBlogLink/]:")}else Pe=xe;else Pe=i.a.createElement(d.d,{comment:"Displayed when a blog has submitted a post to a primary blog",components:{senderBlogLink:xe,innerElement:_e}},"[senderBlogLink/] [innerElement]submitted[/innerElement]:");var Te=D&&M&&!Ce&&we&&i.a.createElement(h.a,{blogName:D.blog.name,blogUrl:D.blog.url,following:!!z,className:T.a.followButton,isPostHeader:!0,placementId:J,earnedId:Y}),Re=i.a.createElement("div",null,i.a.createElement("div",{className:Object(O.a)({[T.a.leftContent]:!0,[T.a.leftContentStacked]:Ee&&!!B})},V===r.l.Private?i.a.createElement("div",{className:T.a.private},i.a.createElement("div",{className:T.a.lock},i.a.createElement(N.a,{size:he,fill:S.a.paletteGray65})),Z("Private")):i.a.createElement(i.a.Fragment,null,we&&i.a.createElement("div",{className:Object(O.a)({[T.a.postAttribution]:!0,[T.a.inboxAttribution]:ye})},Pe),Ae),Te),oe&&F&&i.a.createElement("div",{className:Object(O.a)({[T.a.sponsoredSubHeading]:!le,[T.a.narrowSponsoredSubHeading]:le})},"Sponsored")),De=!(null==L||!L.text)&&!(null==L||!L.urls.web)&&i.a.createElement("span",{className:T.a.ctaContainer},i.a.createElement(w.a,{ctaText:L.text,clickUrl:L.urls.web,color:L.textColor,backgroundColor:L.backgroundColor,placementId:J})),Be=ne&&(null==D||null===(n=D.blog)||void 0===n?void 0:n.paywallAccess)&&(null==D||null===(s=D.blog)||void 0===s?void 0:s.paywallAccess)===l.a.Member&&$&&i.a.createElement("span",{className:T.a.supporterBadgeWrapper},i.a.createElement(u.a,{size:{width:20,height:20}}),i.a.createElement("span",{className:T.a.label},i.a.createElement(d.d,{comment:"Indicates that the user has supported the creator of a post by subscribing to their blog."},"Supported"))),Me=ne&&(null==D||null===(A=D.blog)||void 0===A?void 0:A.paywallAccess)&&(null==D||null===(R=D.blog)||void 0===R?void 0:R.paywallAccess)!==l.a.Member&&$&&i.a.createElement("span",{className:T.a.lockIcon,"aria-label":ee("Indicates that the post has paywalled content that the user doesn't have access to, as they are not a subscriber.","For supporters")},i.a.createElement(P.a,{fill:S.a.paletteGray25,size:{width:20,height:20}})),Fe=!K&&D&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:T.a.spacer}),Ne,De,!Ne&&i.a.createElement(i.a.Fragment,null,Be,Me,i.a.createElement("span",{className:T.a.postMeatballsContainer},i.a.createElement(I.b,{dismissal:G,postUrl:D.permalinkUrl,isPostPublishedOrPrivate:!!V&&[r.l.Published,r.l.Private].includes(V),blogName:D.blog.name,blogUrl:D.blog.url,followed:z,date:Q,placementId:J,renderPin:be})))),Le=D&&(fe&&ge||V===r.l.Queued)&&i.a.createElement("div",{className:T.a.avatar},i.a.createElement(v.a,{isAnonymous:!D.blog.url,imageResponse:D.blog.avatar,dimension:V===r.l.Queued?b.a.mobile.avatarDimension:me,name:D.blog.name,url:D.blog.url,isAdult:D.blog.isAdult,blog:D.blog,isLink:!K,showBlogCard:!K,placementId:J,eventName:x.b.Avatar,eventDetails:Object(_.a)({adPlacementConfiguration:pe,hydraConfigInstanceId:de,timelineObject:re})}));return i.a.createElement("header",{role:"banner",className:Object(O.a)({[T.a.header]:!0,[T.a.isReblog]:!(!Ee||!B)}),"aria-label":ke},Le,i.a.createElement("div",{className:Object(O.a)({[Ie]:!0,[T.a.headerSponsored]:!!Ne||!!De,[T.a.headerHasInlineAvatar]:!!Le})},Re,Fe),i.a.createElement(E.a,null,(e=>(e=>{if(!ve)return null;var t={className:T.a.dogEar,tabIndex:-1};if(e){var a=e.backgroundColor;t.style=o()({borderTopColor:a,borderRightColor:a},ue&&{boxShadow:"2px 0px 0px ".concat(a,", 0px -2px 0px ").concat(a)})}return i.a.createElement(k.a,null,i.a.createElement("a",{href:null==D?void 0:D.permalinkUrl,role:"button",target:"_blank",className:T.a.dogEarLink,"aria-label":Z("Permalink"),title:Q&&ee("Hover text showing a timestamp. %1$s is a simplified timestamp","View post - %1$s",te(Q,c.c.Simple))},i.a.createElement("div",t)))})(e))))}},lFYR:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("fSeh"),i=a("s2Hx"),l=Object(i.c)(o.a.createElement("svg",{viewBox:"0 0 17 17"},o.a.createElement("path",{d:"M2 15l3.17-5.065 4.124-.956c.475-.143.475-.816 0-.96L5.17 7.066 2 2l13 6.5L2 15zm13.894-8.29l-13-6.5A1.996 1.996 0 0 0 .52.655 2 2 0 0 0 .304 3.06L3.71 8.5.303 13.94a2 2 0 0 0 2.59 2.85l13-6.5a2.002 2.002 0 0 0 .001-3.58z"})));l.defaultProps={size:{width:17,height:17},fill:s.gray65},t.a=l},lpdi:function(e,t,a){e.exports=a.p+"monetization/html/iab-safeframe/sf-630ce12b.html"},nsOS:function(e,t,a){"use strict";var n=a("3tO9"),o=a.n(n),s=a("q1tI"),i=a.n(s),l=a("fSeh"),r=a.n(l),c=a("y4uf"),d=a("g2Yl"),p=a("x2UA"),m=a("p8qf"),u=a("NFOE"),h=a("ofcG"),g=a("xdWo");t.a=function(e){var t=e.ctaText,a=e.backgroundColor,n=void 0===a?r.a.paletteAccent:a,s=e.borderColor,l=void 0===s?r.a.paletteAccent:s,v=e.color,b=void 0===v?r.a.paletteWhite:v,f=e.clickUrl,w=e.placementId,E=Object(c.c)(),y=E.logEvent,C=E.features.tspUiUpdate,I=Object(m.c)().post,O=Object(h.b)(),k=O.hydraConfigInstanceId,N=O.adPlacementConfiguration;return i.a.createElement("div",{className:C?g.a.ctaButton:g.a.ctaButtonOld,style:{backgroundColor:n,color:b,borderColor:l}},i.a.createElement("a",{className:g.a.mainText,style:{color:b},href:f,rel:"nofollow noreferrer noopener",target:"_blank",onClick:()=>{y({eventName:d.b.CTAButton,eventDetails:o()({placement_id:w},Object(u.a)({hydraConfigInstanceId:k,adPlacementConfiguration:N,timelineObject:I}))}),y({eventName:d.b.Click,eventDetails:o()({placement_id:w},Object(u.a)({hydraConfigInstanceId:k,adPlacementConfiguration:N,timelineObject:I}))})}},t||p.b.LearnMore))}},tSIF:function(e,t,a){"use strict";var n=a("J4zp"),o=a.n(n),s=a("q1tI"),i=a.n(s);t.a=e=>{var t=e.children,a=Object(s.useState)(!1),n=o()(a,2),l=n[0],r=n[1];return Object(s.useEffect)((()=>{r(!0)})),i.a.createElement(i.a.Fragment,null,l?t:null)}},vZKu:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("s2Hx"),i=a("fSeh"),l=Object(s.b)({filledIcon:Object(s.c)(o.a.createElement("svg",{width:"20",height:"18",viewBox:"0 0 20 18"},o.a.createElement("path",{d:"M17.888 1.1C16.953.38 15.87 0 14.758 0c-1.6 0-3.162.76-4.402 2.139-.098.109-.217.249-.358.42a12.862 12.862 0 0 0-.36-.421C8.4.758 6.84 0 5.248 0 4.14 0 3.06.381 2.125 1.1-.608 3.201-.44 6.925 1.14 9.516c2.186 3.59 6.653 7.301 7.526 8.009.38.307.851.474 1.333.474a2.12 2.12 0 0 0 1.332-.473c.873-.71 5.34-4.42 7.526-8.01 1.581-2.597 1.755-6.321-.968-8.418"}))),emptyIcon:Object(s.c)(o.a.createElement("svg",{width:"20",height:"18",viewBox:"0 0 20 18"},o.a.createElement("path",{d:"M14.658 0c-1.625 0-3.21.767-4.463 2.156-.06.064-.127.138-.197.225-.074-.085-.137-.159-.196-.225C8.547.766 6.966 0 5.35 0 4.215 0 3.114.387 2.162 1.117c-2.773 2.13-2.611 5.89-1.017 8.5 2.158 3.535 6.556 7.18 7.416 7.875A2.3 2.3 0 0 0 9.998 18c.519 0 1.028-.18 1.436-.508.859-.695 5.257-4.34 7.416-7.875 1.595-2.616 1.765-6.376-1-8.5C16.895.387 15.792 0 14.657 0h.001zm0 2.124c.645 0 1.298.208 1.916.683 1.903 1.461 1.457 4.099.484 5.695-1.973 3.23-6.16 6.7-6.94 7.331a.191.191 0 0 1-.241 0c-.779-.631-4.966-4.101-6.94-7.332-.972-1.595-1.4-4.233.5-5.694.619-.475 1.27-.683 1.911-.683 1.064 0 2.095.574 2.898 1.461.495.549 1.658 2.082 1.753 2.203.095-.12 1.259-1.654 1.752-2.203.8-.887 1.842-1.461 2.908-1.461h-.001z"})))});l.defaultProps={filled:!1,size:{width:20,height:18},filledIconFillColor:i.paletteRed,emptyIconFillColor:i.transparentWhite40},t.a=l},vjwC:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("s2Hx"),i=a("fSeh"),l=Object(s.c)(o.a.createElement("svg",{viewBox:"0 0 20 21"},o.a.createElement("path",{d:"M11.5 8.8c0-1.5-1.2-2.8-2.6-2.8-1.4 0-2.6 1.3-2.6 2.8 0 1.5 1.2 2.2 2.6 2.2 1.5 0 2.6-.7 2.6-2.2zM5 16.2v.8h7.7v-.8c0-3-1.7-4.2-3.9-4.2C6.7 12 5 13.2 5 16.2zM16 19H2V4h10V2H2C.9 2 0 2.9 0 4v14.9C0 20.1.9 21 2 21h14.2c1.1 0 1.8-.9 1.8-2.1V8h-2v11zm2-17V0h-2v2h-2v2h2v2h2V4h2V2h-2z"})));l.defaultProps={size:{width:20,height:21},fill:i.white},t.a=l},w2aY:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o}));var n,o,s=a("3tO9"),i=a.n(s),l=a("pVnL"),r=a.n(l),c=a("q1tI"),d=a.n(c),p=a("55Ip"),m=a("ofoP"),u=a("Gt/x"),h=a("PXvT"),g=a("zoQI"),v=a("4NU8"),b=a("vjwC"),f=a("Jq/n"),w=a("y4uf"),E=a("fSeh"),y=a.n(E),C=a("/AGf");!function(e){e.Light="light",e.Dark="dark"}(n||(n={})),function(e){e[e.Avatar=0]="Avatar",e[e.Body=1]="Body",e[e.None=2]="None"}(o||(o={}));t.c=Object(w.d)((function(e){var t,a,s=e.avatar,l=e.avatarShape,c=e.blogName,w=e.blogTitle,E=e.blogUrl,I=e.theme,O=e.isPrivateChannel,k=e.openInPeepr,N=void 0===k||k,P=e.isMobile,A=e.floatingButton,S=e.onClick,x=e.primary,_=e.badge,j=e.children,T=e.appContext._t,R=e.openBlogCard,D=void 0===R?o.None:R,B=e.className,M=e.following,F=void 0!==M&&M,L=e.followingYou,U=void 0!==L&&L,H=e.followingPage,q=void 0!==H&&H,z=e.followingInfoText,W={width:12,height:12},G=O&&d.a.createElement("div",{className:C.a.blogPrivate},d.a.createElement(v.a,{size:W,fill:I===n.Light?y.a.paletteGray65:y.a.paletteTransparentWhite65})),Q=(F&&!q||U&&q)&&d.a.createElement("div",{className:C.a.blogFollowing,title:z,"aria-label":z},d.a.createElement(b.a,{size:W,fill:y.a.paletteGreen})),V={blogName:c,href:E,showBlogCard:D===o.Body},K=d.a.createElement("div",{className:C.a.avatar},d.a.createElement(u.a,{name:c,dimension:37,imageResponse:s,avatarShape:l,showBlogCard:D===o.Avatar,isLink:!1}),_),J=d.a.createElement("div",{className:C.a.blogName},d.a.createElement("span",{className:C.a.displayName},j||c)," ",G," ",Q),Y=d.a.createElement("div",{className:C.a.blogTitle},w);return t=S||D!==o.Avatar?d.a.createElement("div",{className:C.a.leftAlignedWrapper},K,d.a.createElement("div",{className:C.a.blogDescription},J,Y)):d.a.createElement("div",{className:C.a.leftAlignedWrapper},K,d.a.createElement(h.a,r()({className:C.a.blogDescription},V),J,Y)),a=P&&S&&!x?d.a.createElement(g.a,{wrapperClassName:C.a.clickableBlogRowWrapper,className:C.a.clickableBlogRow,onClick:S,label:T("Expand content")},t):N?D===o.Avatar?d.a.createElement(d.a.Fragment,null,d.a.createElement(h.a,r()({className:C.a.blogLinkCover},V)),d.a.createElement("div",{className:C.a.clickableBlogRow},t)):d.a.createElement(h.a,r()({className:C.a.clickableBlogRow},V),t):d.a.createElement(p.Link,{to:Object(m.d)({blogName:c}),className:C.a.clickableBlogRow},t),d.a.createElement("div",{className:Object(f.a)(i()({[C.a.blogRow]:!0,[C.a.light]:I===n.Light,[C.a.mobile]:P},B&&{[B]:!0}))},a,d.a.createElement("div",{className:C.a.floatingButton},A))}))},x0IU:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("pCNn"),o=e=>{var t=e.find((e=>Object(n.B)(e)));return t||e.find((e=>Object(n.R)(e)))}},yk2S:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("HBWv");function o(e,t,a){var o=e.href,s=e.method,i=e.bodyParams;return()=>t(o,{method:s,body:Object(n.b)(i)}).then(a)}}}]);