YUI.add("af-applet-dom",function(e,t){"use strict";var n={applet:"js-applet",container:"js-applet-container",container_content:"js-applet-container-content",view_container_prefix:"js-applet-view-container-"},i={applet:"."+n.applet,container:"."+n.container,container_content:"."+n.container_content,view_container_prefix:"div."+n.view_container_prefix};e.namespace("Af").AppletDom={selectors:function(){return i},classes:function(){return n},all:function(t,n){(t=e.one(t))&&t.all(i.applet).each(function(e){n(e)})},getGuid:function(e){return e.getData("applet-guid")},getType:function(t){return e.Lang.isString(t)&&(t=this.getNode(t)),t?t.getData("applet-type"):null},getNode:function(t){return e.one('[data-applet-guid="'+t+'"]')},getLocation:function(t){var n,a,o,r=this.getNode(t);return r?(a=(n=r.ancestor(i.container,!0))?n.getData("applet-container-guid"):"page",n||(n=e),(o=n.all(i.applet).indexOf(r))<0?{}:{container:a,index:o}):{}},getContainerGuid:function(e){return e.getData("applet-container-guid")},getContainerNode:function(t){return e.one('[data-applet-container-guid="'+t+'"]')},getContainerContentNode:function(e){return e.one(i.container_content)||e},getViewContainerNode:function(e,t){return this.getNode(e).one(i.view_container_prefix+t)},getLayout:function(){var t={};return e.all(i.container).each(function(e){var n=this.getContainerGuid(e);t[n]=[],e.all(i.applet).each(function(e){var i=this.getGuid(e);i&&t[n].push(i)},this)},this),t},remove:function(t,n){var i=this.getNode(t);if(!i)return n&&n("non-exist applet node: "+t);e.Af.Trans.disappear(i,"fade",function(){return i.purge(!0).remove(),n&&n()})},move:function(e,t,n){var i,a,o,r=this.getNode(e),p=this.getContainerNode(n.container),c=this.getContainerContentNode(p);return!!r&&(!(!p||!c)&&(o=this.selectors(),(i=p.all(o.applet)).size(),"undefined"==typeof n.index?c.append(r):0===n.index?c.prepend(r):(a=i.item(n.index))?a.insert(r,"before"):c.append(r),!0))},getGuidAt:function(e,t){var n,a=this.getContainerNode(e);return a&&(n=a.all(i.applet).item(t))?this.getGuid(n):null}}},"@VERSION@",{requires:["node-core","af-trans"]});