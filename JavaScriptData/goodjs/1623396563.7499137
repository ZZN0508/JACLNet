/*! For license information please see mol-adverts.js.LICENSE.txt */
(function(){var __webpack_modules__={6482:function(e){"use strict";e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocuemnt","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"}}')},3477:function(e,t,r){"use strict";r.r(t),r.d(t,{IMMEDIATE:function(){return v},LAZY:function(){return y},DELAYED:function(){return h},isAdEnabled:function(){return I},getLoadingSettings:function(){return E},getEnabledRenderedSlots:function(){return A},getEnabledSlots:function(){return k},loadScriptSync:function(){return x},requestSlotConfig:function(){return P},initialiseSlots:function(){return T},resetSlots:function(){return C},initSlots:function(){return R},setSupportedSlots:function(){return D},initEmergencyRules:function(){return U}});var n=r(633),i=r(7200),o=r(5059);function a(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m={},v="immediate",y="lazy",h="delayed",b=n.ZP.broker("AdListLoader"),w=[],S=[],_=["adx_page_skins","adx_tracking","banner_top","billboard","bvp_puff_26","bvp_puff_29","fff","half_mpu_top","inread_player","inread_player_mw","inread_player_top","interstitial","intro_ad","ldr_top","leader_bottom","leader_lower_middle","leader_middle","leader_top","leader_very_bottom","leader_wide","mpu_bottom","mpu_bottom_right","mpu_channel","mpu_comments_1","mpu_comments_2","mpu_factbox","mpu_home","mpu_middle","mpu_mobile","mpu_mobile_bottom","mpu_mobile_factbox","mpu_mobile_lower_middle","mpu_mobile_others","mpu_mobile_top","mpu_mobile_upper_middle","mpu_puff_10","mpu_puff_15","mpu_puff_20","mpu_puff_30","mpu_puff_45","mpu_puff_5","mpu_puff_others","mpu_top","native_channel","native_fff_accessorise","native_fff_overlay_accessorise","native_mpu","native_mpu_dfp","native_puff","native_puff_dfp","native_related","para_top","puff_ad_3","puff_ad_6","puff_ad_9","puff_ad_others","sky_left_bottom","sky_left_top","sky_right_bottom","sky_right_top","sticky_banner","video_ad","video_carousel"],O=function(e,t){e.forEach((function(e){var r="molads_".concat(e,"_","on"),n="molads_".concat(e,"_","off");document.documentElement.classList.add(t?r:n),document.documentElement.classList.remove(t?n:r)}))},I=function(e){var t=e&&(e.dfpPos||e.pos);return!window.disableAds&&(!t||!_.includes(t)||w.includes(t))},E=function(e){return m[e]||{type:v,trigger:void 0,offset:0}},A=function(){return w.slice()},k=A,x=function(e){var t="script";document.write("<".concat(t,' src="').concat(e,'"></').concat(t,">"))},P=x,j=(i.SP.setSlot&&i.SP.setSlot.split(",")||[]).reduce((function(e,t){var r=f(t.split(":").map((function(e){return e.trim()})),2),n=r[0],i=r[1];return e[n]="on,true,1,enabled".includes(i||"true"),e}),{});function T(e){var t=function(e,t){return!t||t&&(0,o.xb)(t)?e:Object.entries(t).reduce((function(e,t){var r=f(t,2),n=r[0];return r[1]?e[n]={}:delete e[n],e}),e)}(e,j),n=Object.keys(t),i=new Set(n),a=_.filter((function(e){return!i.has(e)})),s=n.reduce((function(e,n){return d(d({},e),l({},n,(o=(i=t[n]).loadingOffset,a=i.loadingTrigger,(c={type:(void 0===(s=i.loadingType)?v:s)||v,trigger:a,offset:isNaN(o)?0:Number(o)}).type===v||c.type===h||c.type===y&&c.trigger||(r.g.DM.log("ads","Unknown loading type or invalid loading trigger, falling back to immediate loading :",c),c.type=v),c)));var i,o,a,s,c}),{});w=n,S=a,m=s,b.emit("slots initialized",w),O(S,!1),O(w,!0)}var C=function(){w=[],S=[]};b.on("plugins enabled",c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.invokeAll("get enabled not-quite-dynamic slots");case 2:t=e.sent.flat(),w=a(new Set([].concat(a(w),a(t)))),b.emit("enabled slots updated",{enabledAds:w});case 5:case"end":return e.stop()}}),e)})))),b.on("system ready",(function(){r.g.DM.later("DOM_READY",(function(){document.write=document.writeln=function(e){try{throw new Error(e)}catch(e){r.g.DM.log("ads","Error: there was an attempt to document.write in a rendered page: ",e)}}}))})),b.on("set slots enabled",(function(e,t){O(e,t)}));var R=function(){},D=function(e){},U=function(){}},3077:function(e,t,r){"use strict";r.r(t),r.d(t,{AD_ATTRIBUTE:function(){return u},TAGS_ATTRIBUTE:function(){return d},addLoadListener:function(){return f},stringify:function(){return p},parse:function(){return g},requestAdvert:function(){return v},refreshAdvert:function(){return y},refreshAdvertsWithNewTags:function(){return h},refreshAdverts:function(){return b},requestDelayedAdvert:function(){return S},onAdLoaded:function(){return O},reset:function(){return E}});var n=r(633),i=r(7337),o=r(6873);function a(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,c,"next",e)}function c(e){a(o,n,i,s,c,"throw",e)}s(void 0)}))}}var c=r(7854),u="data-adverts-ad",d="data-adverts-tags",l=r(9784),f=r(2575),p=c.stringify,g=c.parse;function m(){return o}function v(e){if(e.id){var t=document.getElementById(e.id);t&&(t.setAttribute(u,c.stringify(e)),t.classList.add("adHolder"))}return m().requestAd(e)}function y(e){m().refreshAdvert(e)}function h(e,t){var r=e.map(w).filter(Boolean).map((function(e){return e.ad}));m().refreshAdvertsWithNewTags(r,t)}function b(e){var t={};e.forEach((function(e){var r=w(e);if(r){var n=o,i=n.name;i in t||(t[i]={serverClass:n,ads:[]}),t[i].ads.push(r.ad)}})),Object.keys(t).forEach((function(e){var r=t[e],n=t[e].serverClass;n.refreshAdverts&&n.refreshAdverts(r.ads)}))}function w(e){var t=document.getElementById(e);if(t){var r,n=t.getAttribute(u),o=t.getAttribute(d);if(n)return r=c.parse(n),{ad:(0,i.get)(r.pos)||r,tags:o?c.parse(o):null,container:t}}return null}function S(e){return _.apply(this,arguments)}function _(){return(_=s(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=w(t),n=!1,!(r&&r.ad&&r.tags)){e.next=15;break}if(!(i=m()).requestDelayedAd){e.next=14;break}return e.prev=5,e.next=8,i.requestDelayedAd(r.ad,r.tags);case 8:n=!0,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0);case 14:r.container.removeAttribute(d);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function O(e){for(var t=0,r=l.length;t<r;t++)l[t](e)}var I=n.ZP.broker("AdsRenderer");function E(){l.length=0}I.on("slot ready",v),I.on("ad rendered",(function(e,t){return O(t)})),I.on("refresh ads",(function(e){return h(e.ids,e.plugins)})),I.on("refresh adverts",(function(e){return b(e)}))},5529:function(e,t,r){"use strict";r.d(t,{lv:function(){return p},GY:function(){return m}});var n=r(3477),i=r(633),o=r(6540),a=r(3624);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=i.ZP.broker("DelayedRenderer"),u=new Set,d=[],l=!1,f=DM.molFeMiniLodash.debounce((function(){if(u.size){var e,t,r,n,i=window.pageYOffset+(0,o.getPageSize)()[3],a=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}(u);try{for(a.s();!(e=a.n()).done;){var c=e.value;t=c.element,r=c.offset,n=i,t&&"none"!==t.style.display&&n>=(0,o.getOffset)(t).top-r&&(u.delete(c),adsRenderer.requestDelayedAdvert(c.id))}}catch(e){a.e(e)}finally{a.f()}}}),500,{leading:!0,trailing:!0});function p(e){return a.lv(e)||!function(e){return n.getLoadingSettings(e.dfpPos||e.pos).type===n.IMMEDIATE}(e)||e.delayed||e.lazySettings}function g(e){var t=function(e){var t=function(e){var t=e.lazySettings||n.getLoadingSettings(e.dfpPos||e.pos);return t.type===n.LAZY?t:void 0}(e);if(t){var r=null;try{r="$this"===t.trigger?document.getElementById(e.id):document.querySelector(t.trigger)}catch(e){DM.log("ads","Invalid css selector in the loading trigger:",t.trigger)}return{id:e.parentId||e.id,element:r||document.getElementById(e.parentId||e.id),offset:t.offset}}return null}(e);t?(u.add(t),l||(l=!0,window.addEventListener("scroll",f),document.body.addEventListener("touchmove",f))):a.qu()||function(e){var t,n,i,a=0;function s(e){return"A"===e.nodeName&&e.hasAttribute("data-page")}function c(){var e=r(3077),t=i.getElementsByClassName("active")[0];if(a=0,t){var o=Number(t.getElementsByTagName("a")[0].getAttribute("data-page"));if(o)for(var s,c=n.getElementsByClassName("rotator-panels")[0].getElementsByTagName("li")[o-1].childNodes,u=c.length;u--;)if(1===(s=c[u]).nodeType&&s.hasAttribute(e.TAGS_ATTRIBUTE)){e.requestDelayedAdvert(s.id);break}}}"native_related"===e.pos.slice(0,14)&&(t=document.getElementById(e.parentId))&&(n=(0,o.closest)(t,(function(e){return e.classList.contains("rotator")})))&&!DM.molFeMiniLodash.contains(d,n)&&(i=n.getElementsByClassName("rotator-pages")[0])&&(d.push(n),i.addEventListener("click",(function(e){var t=e.target||e.srcElement;!a&&(0,o.closest)(t,s)&&(a=setTimeout(c,50))})))}(e)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=r(3077),i=document.getElementById(e.id);i&&(i.setAttribute(n.TAGS_ATTRIBUTE,JSON.stringify(t)),g(e)),c.emit("ad delayed",e)}},3624:function(e,t,r){"use strict";r.d(t,{lv:function(){return b},GH:function(){return w},qu:function(){return O}});var n=r(633),i=r(6540),o=r(7200);function a(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,c,"next",e)}function c(e){a(o,n,i,s,c,"throw",e)}s(void 0)}))}}var c=null,u=["home","ushome","auhome","mailonsunday"],d="hp-panel",l={news:0,showbiz:1},f=n.ZP.broker("HomepageRenderer");function p(e,t){return g.apply(this,arguments)}function g(){return(g=s(regeneratorRuntime.mark((function e(t,n){var o,a,s,c,u,d,l,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=function(e){return e===a},o=n.swipe||v(m()),!(a=h(o))){e.next=19;break}y(o),s=[],c=document.documentElement.getElementsByClassName("adHolder"),u=r(3077),d=c.length;case 9:if(!d--){e.next=18;break}if(l=c[d],!(0,i.closest)(l,p)&&(0,i.closest)(l,S)){e.next=16;break}return e.next=14,u.requestDelayedAdvert(l.id);case 14:if(e.sent){e.next=16;break}s.push(l.id);case 16:e.next=9;break;case 18:s.length&&f.emit("refresh adverts",s);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(0,o.ej)("mol-home")}function v(e){return y(e),c=e,e}function y(e){if(e in l){var t=l[e]?"dontmiss":window.adAreaId||"home";f.emit("set adSubareaId",t)}}function h(e){return document.getElementsByClassName(d)[l[e]]}function b(e){if(O()){if(!c)return!0;var t=h(c),r=document.getElementById(e.parentId);if(t&&r){var n=(0,i.closest)(r,S);if(n&&n!==t)return!0}}return!1}function w(){return"channel"===PageCriteria.pageType&&-1!==u.indexOf(PageCriteria.channel)&&PageCriteria.subchannel===PageCriteria.channel}function S(e){return e.classList.contains(d)}function _(){var e=document.body;return e&&e.className?e.classList.contains("mol-mobile"):!!MobileUtils.isMobile()}function O(){return w()&&_()&&(!c||"desktop"!==c)}f.on("system ready",(function(){if(w()&&_()){var e=DM&&DM.pageEvents;v(m()),O()&&e&&e.subscribe(e.MOBILE_HOME_PAGE_VIEW,p)}}))},2575:function(e,t,r){var n=r(9784);e.exports=function(e){"function"==typeof e&&n.push(e)}},9784:function(e){e.exports=[]},6873:function(e,t,r){"use strict";r.r(t),r.d(t,{requestAd:function(){return _},requestDelayedAd:function(){return I},refreshAdvert:function(){return A},refreshAdvertsWithNewTags:function(){return k},refreshAdverts:function(){return x},reset:function(){return P},name:function(){return j}});var n=r(633),i=r(4794),o=r(5529),a=r(1013),s=r(6415);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=(0,i.U2)("auction.maxTime",2e3),m=n.ZP.broker("DfpServer"),v=(0,s.x)("DfpServer"),y={};m.on("destroy slot",(function(e){delete y[e]}));var h=function(e){return new Promise((function(t,r){var n=[];m.openStream({message:["get tags",{slot:e,timeout:g-100}],timeout:g,controlHandler:function(t){var r=t.type,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,["type"]);m.emit("auction event",e.pos,r,n)}}).on("data",(function(e){n.push(e)})).on("end",(function(){m.emit("auction event",e.pos,"end"),t(n)})).on("error",(function(e){return r(e)}))}))},b=Promise.resolve();function w(e){return e.map((function(e){return e.tags?e.tags:e})).reduce((function(e,t){return f(f({},e),Array.isArray(t)&&t.reduce((function(e,t){return f(f({},e),t)}),{})||t)}),{})}m.on("set page level targeting",(function(e){v("new page level targeting:",e),b=b.then((function(){return e})).then((function(){}))}));var S=function(){var e=d(regeneratorRuntime.mark((function e(t){var r,n,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y[t.pos]){e.next=2;break}return e.abrupt("return",y[t.pos]);case 2:return m.emit("start bidding",t.pos),v("starting auction for",t.pos),e.next=6,Promise.all([h(t),(0,a.Ye)(g,[b])]);case 6:return r=e.sent,d=1,n=function(e){if(Array.isArray(e))return e}(u=r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(u,d)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(u,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],e.next=11,m.invokeAll("get tags based on tags",i);case 11:return o=e.sent,s=[f(f({},w(i)),o.reduce((function(e,t){return f(f({},e),t)}),{}))],v("auction ended for",t.pos,s),m.emit("bidding ended",t.pos),m.emit("slot ready for ad",t,s),y[t.pos]={tags:s},e.abrupt("return",{tags:s});case 18:case"end":return e.stop()}var u,d}),e)})));return function(t){return e.apply(this,arguments)}}();function _(e){return O.apply(this,arguments)}function O(){return(O=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.lv)(t)){e.next=4;break}(0,o.GY)(t),e.next=5;break;case 4:return e.abrupt("return",S(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return E.apply(this,arguments)}function E(){return(E=d(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:r=e.sent,n=r.tags,m.emit("gpt requestDelayedAd",t,n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){m.emit("bidding ended",e.pos),m.emit("gpt refreshAdvert",e.pos)}function k(e,t){var r=[];e.forEach(function(){var t=d(regeneratorRuntime.mark((function t(n){var i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v("starting auction for",n.pos),t.next=3,h(n);case 3:return i=t.sent,t.next=6,m.invokeAll("get tags based on tags",i);case 6:o=t.sent,a=[f(f({},w(i)),o.reduce((function(e,t){return f(f({},e),t)}),{}))],r.push({ad:n,tags:a}),v("auction ended for",n.pos,a),m.emit("bidding ended",n.pos),r.length===e.length&&m.emit("slot ready to refresh",r);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function x(e){m.emit("gpt refreshAdverts",e)}function P(){y={}}var j="DfpServer"},9988:function(e,t,r){"use strict";r.r(t),r.d(t,{DFP_NETWORK_CODE:function(){return h}});var n=r(633),i=r(3436),o=r(7337),a=r(7721),s=r(7200),c=r(4794),u=r(6415),d=r(3624),l=r(5529);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=r(6540).onBodyAvailable,m=n.ZP.broker("DfpAsyncHandler"),v=(0,u.x)("dfpAsyncHandler"),y={},h=(0,c.U2)("dfp.networkCode"),b={},w=["sky_right_top","sky_left_top","mpu_top","billboard","sticky_banner"],S=["sticky_banner"],_=new Set(["mpu_puff_others","puff_ad_others","mpu_mobile_others","mpu_factbox","mpu_mobile_factbox"]);function O(e,t){if(e&&e.slots&&e.slots.length)return DM.molFeMiniLodash.each(e.slots,(function(n){var i,o,a,s;n.slot.addService(googletag.pubads()).setTargeting("pos",e.dfpPos||e.pos).setCollapseEmptyDiv(!0,(o="billboard"===(i=e.pos)&&"home"===(r.g.PageCriteria.channel||"").slice(-4),!r.g.DM.molFeMiniLodash.contains(w,i)&&!o)),e.targeting&&DM.molFeMiniLodash.forEach(e.targeting,(function(e,t){n.slot.setTargeting(t,e)})),e.custom&&e.custom.length&&(a=n.slot,s=e.custom,DM.molFeMiniLodash.each(s,(function(e){DM.molFeMiniLodash.keys(e).forEach((function(t){a.setTargeting(t,e[t])}))}))),"number"==typeof window.orientation&&n.slot.setTargeting("orientation",MobileUtils.isLandscape()?"landscape":"portrait"),MobileUtils.isMobile()&&n.slot.setTargeting("lat",PageCriteria.latitude||"").setTargeting("lon",PageCriteria.longitude||""),function(e,t){t.forEach((function(t){t&&"object"===f(t)&&Object.keys(t).forEach((function(r){e.setTargeting(r,t[r]+"")}))}))}(n.slot,t)})),e}m.on({message:"prepare to refresh ads",sync:!0},(function(e){var t=googletag.pubads().getSlots().reduce((function(e,t){var r=t.getTargeting("pos")[0];return e[r]=e[r]||t,e}),{});e.map((function(e){return{pos:e,slot:t[e]}})).forEach((function(e){var t=e.pos,r=e.slot;r?r.clearTargeting?r.clearTargeting():console.warn("-----\x3e NO slot.clearTargeting when refreshing ads",t):console.warn("-----\x3e NO SLOT to clear targeting when refreshing ads",t)}))})),m.on("slot ready for ad",(function(e,t,r){E(e,t,r)}));var I=function(e){return googletag.cmd.push(e)};function E(e,t,r){r||!l.lv(e)?(e.parentId=e.parentId||e.id,e.slots=e.slots||[],DM.molFeMiniLodash.each(e.slots,(function(t){t.parentId=t.parentId||t.id||e.parentId})),I((function(){(function(e){var t=(0,o.get)(e.pos);if(t&&t.slots&&t.slots.length)return t.slots;k(e)})(e),O(e,t)})),I((function(){DM.molFeMiniLodash.each(e.slots,(function(t){m.emit("request slot",{pos:e.pos,slotType:t.type,type:e.type,parentId:t.parentId,adUnit:e.adUnit,slot:t.slot})}))}))):l.GY(e,t)}m.on("set slot state",(function(e,t){var r=b[e];r?r.molAd.state=t:y[e]=t})),m.on("request slot",(function(e){"gptSlot"===e.slotType&&(b[e.pos]=e.slot),e.slot.molAd={pos:e.pos,type:e.type,slotType:e.slotType,parentId:e.parentId,adUnit:e.adUnit,state:y[e.pos]},delete y[e.pos],m.invoke("googletag.display",e.parentId),m.emit("ad requested",e.pos)})),m.on("slot ready to refresh",(function(e){e.forEach((function(e){return O(e.ad,e.tags)})),T(e.map((function(e){return e.ad})))})),m.on("destroy slot",(function(e){var t=(0,o.get)(e);googletag.destroySlots(t.slots.map((function(e){return e.slot}))),delete t.slots}));var A={gpt:function(e){var t=(0,a.t2)(e),r=e.sizeMapping,n=e.id,i=e.adUnit;v("define slot for",e.pos,{sizes:t,sizeMapping:r,adUnit:i,id:n});var o=googletag.defineSlot("/"+h+"/"+i,t,n);if(e.sizeMapping){var s=e.sizeMapping.reduce((function(e,t){var r,n,i=(n=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(r,n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];return e.addSize(o,a)}),googletag.sizeMapping());o.defineSizeMapping(s.build())}e.slots.push({type:"gptSlot",slot:o,parentId:e.id}),m.emit("slot created",e,o)},gptOOP:function(e){var t=e.slotTypes.includes("gpt")?j(e):e.parentId,r=(0,a.t2)(e),n=e.sizeMapping,i=e.adUnit;v("define oop slot for",e.pos,{sizes:r,sizeMapping:n,adUnit:i,id:t});var o=googletag.defineOutOfPageSlot("/"+h+"/"+i,t);e.slots.push({type:"oopGptSlot",slot:o,parentId:t})}};function k(e){if(e.adUnit=e.adUnit||(0,i.Z)(e.pos),e.slots=e.slots||[],e.slotTypes)v("".concat(e.pos,": creating slots using slotTypes definition")),e.slotTypes.forEach((function(t){var r=A[t];r&&r(e)}));else{if(v("".concat(e.pos,": creating slots using dcopt definition")),!e.dcopt||"pfadj"!==e.command||-1!==S.indexOf(e.pos)){var t=(0,a.t2)(e),r=e.sizeMapping,n=e.id;v("defineSlot for",e.pos,{sizes:t,sizeMapping:r,adUnit:e.adUnit,id:n});var o=googletag.defineSlot("/"+h+"/"+e.adUnit,t,n);r&&o.defineSizeMapping(e.sizeMapping),e.slots.push({type:"gptSlot",slot:o,parentId:e.id}),m.emit("slot created",e,o)}e.dcopt&&function(e){var t=(0,i.Z)(e.pos),r="pfadj"===e.command&&-1===S.indexOf(e.pos)?e.parentId:j(e);v("defineOutOfPageSlot for",e.pos,{adUnit:t,id:r});var n=googletag.defineOutOfPageSlot("/"+h+"/"+t,r);e.slots.push({type:"oopGptSlot",slot:n,parentId:r})}(e)}return m.emit("update description",e.pos,e),e.slots.length&&O(e,[]),e}var x=function(e){var t=e.slot.molAd,r=t.pos,n=t.parentId;return n&&"string"==typeof n&&n.includes("-oop")?"".concat(r,"-oop"):r};function P(e){_.has(e)||I((function(){var t=(0,o.get)(e);!t||t.gptSlot||t.oopGptSlot||k(t)}))}function j(e){var t=e.parentId+"-oop",r=document.getElementById(e.parentId),n=document.createElement("div");return n.id=t,r?r.parentNode.insertBefore(n,r.nextSibling):g((function(){document.body.appendChild(n)})),t}function T(e){var t=e.map((function(e){return C(e.pos)}));m.invoke("googletag.pubads.refresh",t)}function C(e){return b[e]}m.on("slots initialized",(function(e){var t;t=e,I((function(){var e=googletag.pubads();e.set("page_url",location.hostname+location.pathname).setTargeting("page",adPageType).setTargeting("article",adArticleId).setTargeting("environment",adEnvironment).setTargeting("country",PageCriteria.geo.toLowerCase()).setTargeting("testmode",s.SP.testmode).addEventListener("slotRequested",(function(e){return e.slot.molAd&&m.emit("dfp slot requested",x(e),e)})).addEventListener("slotRenderEnded",(function(e){return e.slot.molAd&&m.emit("ad rendered",x(e),e)})).addEventListener("slotOnload",(function(e){return e.slot.molAd&&m.emit("ad loaded",e,x(e))})).addEventListener("impressionViewable",(function(e){return e.slot.molAd&&m.emit("ad viewable",x(e),e)})).addEventListener("slotVisibilityChanged",(function(e){return e.slot.molAd&&m.emit("slot visibility changed",x(e),e)})).addEventListener("slotResponseReceived",(function(e){return e.slot.molAd&&m.emit("slot response received",x(e),e)})).setCentering(PageCriteria.isMobile&&!PageCriteria.isTablet),d.GH()&&e.setTargeting("mobile",d.qu().toString()),m.emit("gpt initialized",googletag)})),t.forEach(P),I((function(){googletag.pubads().enableAsyncRendering(),googletag.enableServices()}))})),m.on("gpt requestDelayedAd",(function(e,t){!function(e,t){E(e,t,!0)}(e,t)})),m.on("gpt refreshAdvert",(function(e){var t;(t=C(e))&&(t.setTargeting("refresh","true"),m.invoke("googletag.pubads.refresh",[t]))})),m.on("gpt refreshAdverts",(function(e){T(e)}))},7854:function(module){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var omit=function(e,t){var r={};if(t=t||[],"object"===_typeof(e))for(var n in e)e.hasOwnProperty(n)&&-1===t.indexOf(n)&&(r[n]=DM.molFeMiniLodash.clone(e[n]));return r},stringify=function(e){return jsonStringify(omit(e,["slots"]))},jsonStringify=JSON&&"function"==typeof JSON.stringify?JSON.stringify:function(e){switch(_typeof(e)){case"string":return'"'+e.replace(/("|\\)/g,"\\$1")+'"';case"boolean":case"number":return e.toString();case"object":if("[object Array]"===Object.prototype.toString.call(e))return"["+e.map(stringify).join(",")+"]";if(e)return"{"+Object.keys(e).map((function(t){return stringify(t)+":"+stringify(e[t])})).join(",")+"}";case"undefined":case"function":return"null"}},parse=JSON&&"function"==typeof JSON.parse?JSON.parse:function(value){return eval("data="+value)};module.exports={stringify:stringify,parse:parse}},6347:function(e,t,r){var n=r(8397),i=function(e,t){this.eventsMap={},this.eventName=e,this.getDomCallback=t,this.domElement={};var r=this;DM.later("DOM_READY",(function(){s.call(r)}))};function o(e){var t=this.eventsMap[e];this.domElement[e]=this.getDomCallback(e),null!==this.domElement[e]&&this.on(this.domElement[e],this.eventName,(function(e){e.stopPropagation();var r=MobileUtils.isLandscape()?"landscape":"portrait";t.call(this,r)}))}function a(e){n.getElementById(e)?e in this.eventsMap&&o.call(this,e):delete this.eventsMap[e]}function s(){for(var e in this.eventsMap)a.call(this,e)}i.on=function(e,t,r){e.addEventListener(t,r)},i.fireEvent=document.createEvent?function(e,t){var r=e.ownerDocument.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}:function(e,t){var r=e.ownerDocument.createEventObject();r.eventType=t,e.fireEvent("on"+r.eventType,r)},i.prototype={constructor:i,registerEvent:function(e,t){this.eventsMap[e]=t,a.call(this,e)},getEvent:function(e){return this.eventsMap[e]},on:i.on,fireEvent:i.fireEvent},e.exports=i},1823:function(e,t,r){var n=r(6347),i=r(8397),o="data-impression-url",a="data-ted-tracking",s=new n("onImpression",(function(e){return function(e){return i.getElementById(e)}(e)}));e.exports={DATA_IMPRESSION_URL:o,onImpression:function(){s.registerEvent.apply(s,arguments)},registerImpression:function(e,t){var r=Array.prototype.filter.call(i.getAdContainer(e).getElementsByTagName("div"),(function(e){return e.getAttribute(o)}));r.length&&(function(e){var t=e.getAttribute(o);(new Image).src=t,e.getAttribute(a)&&(DM.later?DM.later("bundle",(function(){DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"dfp-impression"})})):DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"dfp-impression"}))}(r[0]),function(e){setTimeout((function(){!function(){s.fireEvent.apply(s,arguments)}(e,"onImpression"),e.getAttribute(a)&&(DM.later?DM.later("bundle",(function(){DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"3rd-party-impression"})})):DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"3rd-party-impression"}))}),0)}(r[0]),t.call(this,e))}}},5737:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{DZ:function(){return o},cl:function(){return a},Z$:function(){return s},pj:function(){return c},jj:function(){return u},TV:function(){return d}});var o=function(e,t,r){for(var n=new Array(r.length),i=0,o=0,a=r.length;o<a;o++){var s=r[o];e(s)&&(n[i++]=t(s))}return n.length=i,n},a=function(e,t){var r=t.indexOf(e);return-1===r?t:[].concat(n(t.slice(0,r)),n(t.slice(r+1)))},s=function(e){return e[e.length-1]},c=function(e){return void 0===e?[]:Array.isArray(e)?e:[e]},u=function(e){var t=new Set(e);return Array.from(t)},d=function(e){for(var t=e.length,r=n(e);t;){var i=Math.floor(Math.random()*t--),o=r[t];r[t]=r[i],r[i]=o}return r}},1013:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}function c(e,t,r){return(c=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&d(i,r.prototype),i}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,{W5:function(){return f},Vs:function(){return p},S1:function(){return g},Gv:function(){return m},yq:function(){return y},Ye:function(){return h},gb:function(){return b},Ls:function(){return w}});var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,r,n=(t=i,r=u(),function(){var e,n=l(t);if(r){var i=l(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return a(this,e)});function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,"Exceeded ".concat(e))}return i}(s(Error)),p=function(e){return new Promise((function(t){return setTimeout(t,e)}))},g=function(e){return new Promise((function(t){return 0===e?t(S(void 0,10)):setTimeout(t,e)}))},m=function(){var e=o(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:new f(t),e.next=3,g(t);case 3:throw r;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=o(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:new f(t),e.next=3,p(t);case 3:throw r;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t,r){return Promise.race([t,v(e,r)])},h=function(){var e=o(regeneratorRuntime.mark((function e(t,r){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],i=[],o=function(e){return e.then((function(e){return n.push(e)})).catch((function(e){return i.push(e)}))},e.next=5,Promise.race([p(t),Promise.all(r.map(o))]);case 5:return e.abrupt("return",{errors:i,results:n});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return new Promise((function(n,i){var a=Date.now(),s=function(){var c=o(regeneratorRuntime.mark((function o(c){var u,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e();case 2:(u=o.sent)?n(u):Date.now()-a<r?(d=Math.min(1e3,Math.pow(2,c)/2),setTimeout((function(){return s(c+1)}),t+d)):i(new Error("Timeout: exceeded ".concat(r,"ms")));case 4:case"end":return o.stop()}}),o)})));return function(e){return c.apply(this,arguments)}}();s(0)}))},w=function(e){return new Promise((function(t){var r,n=!0;e((function(e){r=e,n&&(n=!1,t((function(){return r})))}))}))},S=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise(function(){var n=o(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=8;break}return n.t0=i,n.next=4,e(t,r-1);case 4:n.t1=n.sent,(0,n.t0)(n.t1),n.next=9;break;case 8:i(t);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},4812:function(e,t,r){"use strict";r.d(t,{FU:function(){return c},yS:function(){return u},ri:function(){return d},QR:function(){return l},Ds:function(){return f},LY:function(){return g}});var n=r(8554),i=r.n(n);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e,t){var r,n=0,i=!1,o=function o(a){if(i){n=a,clearTimeout(r),i=!1;var s=!r;r=setTimeout(o,t),e(s)}else r=void 0};return function(){i=!0;var e=Date.now&&Date.now()||(new Date).getTime();(!r||e-n>=t)&&o(e)}}function u(e){var t=!1;return function(){if(!t){t=!0;try{return e.apply(void 0,arguments)}finally{t=!1}}}}var d=function(e){var t,r=!1;return function(){return r||(r=!0,t=e.apply(void 0,arguments)),t}},l=function(e){var t,r=function(){var r=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))}}(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=4;break}return r.next=3,e();case 3:t=r.sent;case 4:return r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return r.reset=function(){t=void 0},r},f=function(e,t){var r,n=[],i=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];n=a,r&&clearTimeout(r),r=setTimeout((function(){r=void 0,e.apply(void 0,o(n))}),t)};return i.callNow=function(){r&&(clearTimeout(r),r=void 0),e.apply(void 0,o(n))},i},p=function(e,t){return Array.isArray(e)&&e.concat(t)||void 0},g=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i().apply(void 0,[{}].concat(t,[p]))}},633:function(e,t,r){"use strict";r.d(t,{Jj:function(){return D}});var n=r(1013),i=r(5737),o=r(2889),a=r(2830),s=r.n(a);function c(e,t,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function d(e){var t=g();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)})(e)}function p(e,t,r){return(p=g()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&m(i,r.prototype),i}).apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){return j(e)||E(e)||x(e)||k()}function h(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)}))}}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return function(e){if(Array.isArray(e))return P(e)}(e)||E(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function A(e,t){return j(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||x(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e){if(Array.isArray(e))return e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),e}var D=function(){function e(t,r){T(this,e),this.bus=t,this.id=r,this.options={}}return R(e,[{key:"emit",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).emit.apply(e,[this].concat(r))}},{key:"on",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).on.apply(e,[this].concat(r))}},{key:"once",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop(),i=!1,o=this.on.apply(this,t.concat([function(){i||(o.cancel(),i=!0,n.apply(void 0,arguments))}]));return o}},{key:"until",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new Promise((function(t){e.once.apply(e,r.concat([function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t(r)}]))}))}},{key:"register",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).register.apply(e,[this].concat(r))}},{key:"hasSubscriber",value:function(e){return this.bus.hasSubscriber(e)}},{key:"intercept",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).intercept.apply(e,[this].concat(r))}},{key:"interceptOnce",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).interceptOnce.apply(e,[this].concat(r))}},{key:"invoke",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).invoke.apply(e,[this].concat(r))}},{key:"invokeAll",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).invokeAll.apply(e,[this].concat(r))}},{key:"registerStream",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).registerStream.apply(e,[this].concat(r))}},{key:"registerUnboundedStream",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).registerUnboundedStream.apply(e,[this].concat(r))}},{key:"openStream",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).openStream.apply(e,[this].concat(r))}},{key:"createReadObjectStream",value:function(){return this.bus.createReadObjectStream()}},{key:"createTransformObjectStream",value:function(e){return this.bus.createTransformObjectStream(e)}},{key:"collectStreamAsPromise",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).collectStreamAsPromise.apply(e,[this].concat(r))}},{key:"invokeChainMutable",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).invokeChainMutable.apply(e,[this].concat(r))}}]),e}(),U=function(){function e(){T(this,e),this.subscriptions=[],this.interceptors=[],this.queued=[],this.started=!1,this.dispatcher=function(e){return e()},this.firedMessages=new Set,this.system=this.broker("MessageBus"),this.emitImmediately=this.emitImmediately.bind(this),this.showUncaughtErrors=!0,this.globalTimeoutOverride=void 0}var t,a;return R(e,[{key:"queuePublish",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o,a=function(){o(e.apply(void 0,[t].concat(n)))};return this.queued.push(a),new Promise((function(e,t){o=e}))}},{key:"queueStream",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=o.Ju(),s=A(a,2),c=s[0],u=s[1],d=function(){e.apply(void 0,[t].concat(n)).pipe(u)};return this.queued.push(d),c}},{key:"broker",value:function(e){return new D(this,e)}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.started?this.emitWithInterceptors.apply(this,[e].concat(r)):this.queuePublish.apply(this,[this.emitWithInterceptors.bind(this),e].concat(r))}},{key:"doesMessageMatch",value:function(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return r}},{key:"emitWithInterceptors",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.callInterceptors.apply(this,[e,this.emitImmediately].concat(r))}},{key:"callInterceptors",value:function(e,t){for(var r=this,n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return new Promise((function(e,n){try{if(r.interceptors.length){var o=r.interceptors.filter((function(e){return!1!==r.doesMessageMatch(e.msg,i)}));e(function e(){for(var n=o.shift(),a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return i=s.length>0?s:i,n?r.callInterceptor(n.callback,i,e,n.broker):t(i)}())}else e(t(i))}catch(e){n(e)}}))}},{key:"callInterceptor",value:function(e,t,r,n){return e(t,r)}},{key:"emitImmediately",value:function(e){var t=this;return Promise.all(this.subscriptions.map((function(r){var n;if(!1!==(n=t.doesMessageMatch(r.msg,e)))return t.callSubscriber(r,n,e)})).filter((function(e){return e})))}},{key:"callSubscriber",value:function(e,t,r){var n=this,i=r.slice(t);return new Promise((function(t,o){var a=function(){try{t(e.callback.apply(e.broker,i))}catch(e){var a;"error"===r[0]?(console.error("Exception thrown while handling error for",r,e),o(e)):((a=n.system).emit.apply(a,["error"].concat(I(r),[e])),o(e))}};e.sync?a():n.dispatcher(a)}))}},{key:"addSubscription",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t[t.length-1],a=t.splice(0,t.length-1);return this.subscribe(e,a,o,r,n,i)}},{key:"on",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!1)}},{key:"register",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!0)}},{key:"getOptions",value:function(e){for(var t=e&&e.options||{},r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=n[0];return"object"===O(o)?t=S(S({},t),o):t.message=n,Array.isArray(t.message)||(t.message=[t.message]),t.timeout=this.localTimeout(t.timeout),t}},{key:"getSubscriptionsInterestedIn",value:function(e){var t=this;return this.subscriptions.map((function(r){return{subscription:r,matchCount:t.doesMessageMatch(r.msg,e.message)}})).filter((function(e){return!1!==e.matchCount}))}},{key:"callFilteredSubscription",value:function(e,t){var r=e.message,n=e.map,i=t.matchCount,o=t.subscription,a=this.callSubscriber(o,i,r);return a&&n&&o.expectReturn?n(a,o):a}},{key:"callFilteredSubscriptions",value:function(e,t){var r=this;return t.reduce((function(t,n){var i=r.callFilteredSubscription(e,n);return n.subscription.expectReturn&&t.push(i),t}),[])}},{key:"invoke",value:(a=b(regeneratorRuntime.mark((function e(t){var r,i,o,a,s=this,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=function(){var e=b(regeneratorRuntime.mark((function e(t){var r,i,o,a,c,u,d,l,f,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=p.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=p[o];if(a=s.getOptions.apply(s,[t].concat(i)),c=s.getSubscriptionsInterestedIn(a).filter((function(e){return e.subscription.expectReturn})),u=y(c),d=u[0],l=u.slice(1),d){e.next=7;break}return e.abrupt("return",Promise.reject(new M(i)));case 7:l.length>0&&console.warn("Total of",l.length+1,"endpoints registered for message",i);case 8:return f=s.callInterceptors.apply(s,[t,function(e){return s.callFilteredSubscription(S(S({},a),{},{message:e}),d)}].concat(I(a.message))),e.abrupt("return",void 0!==a.timeout?Promise.race([f,(0,n.Gv)(a.timeout)]):f);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=c.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=c[a];return e.abrupt("return",this.started?r.apply(void 0,[t].concat(I(o))):this.queuePublish.apply(this,[r.bind(this),t].concat(I(o))));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"localTimeout",value:function(e){return void 0!==this.globalTimeoutOverride?this.globalTimeoutOverride:e}},{key:"invokeAll",value:(t=b(regeneratorRuntime.mark((function e(t){var r,i,o,a,s=this,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=c[o];return a=function(){var e=b(regeneratorRuntime.mark((function e(){var r,o,a,c,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.getOptions.apply(s,[t].concat(i)),o=function(e){var t=S(S({},r),{},{message:e}),n=s.getSubscriptionsInterestedIn(t);if(r.controlHandler){var i=n.map((function(e){return e.subscription})).filter((function(e){var t=e.expectReturn,r=e.unbounded;return t&&!r})).map((function(e){return e.broker.id}));r.controlHandler({type:"interested endpoint",endpoints:i})}var o=s.callFilteredSubscriptions(t,n);return r.subscriptionsCalledCallback&&r.subscriptionsCalledCallback(n),o},e.next=4,s.callInterceptors.apply(s,[t,o].concat(I(r.message)));case 4:return a=e.sent,c=a?a.filter((function(e){return e})):[],u=[],c=c.map((function(e){return e.then((function(e){u.push(e)}),(function(e){if(r.catch)try{r.catch(e)}catch(e){s.system.emit("error",e)}s.system.emit("error",e)}))})),d=Promise.all(c).then((function(e){return e.filter((function(e){return e}))})),void 0!==r.timeout&&(d=Promise.race([d,(0,n.S1)(r.timeout)])),e.abrupt("return",d.then((function(){return u})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",this.started?a.apply(void 0,[t].concat(i)):this.queuePublish.apply(this,[a.bind(this),t].concat(i)));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"subscribe",value:function(e,t,r,n){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=!1,u=t[0];if("object"===O(u)&&(t=(0,i.pj)(u.message),c=u.sync||c),r&&"function"!=typeof r)throw new Error('Callback has to be a function, but a "'.concat(O(r),'" was passed'));var d={broker:e,msg:t,callback:r,sync:c,expectReturn:n,isStream:a,unbounded:s,cancel:function(){o.subscriptions=(0,i.cl)(d,o.subscriptions)}};return this.subscriptions.push(d),d}},{key:"hasSubscriber",value:function(e){return-1!==this.subscriptions.findIndex((function(t){return A(t.msg,1)[0]===e}))}},{key:"interceptOnce",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop(),i=!1,o=this.intercept.apply(this,t.concat([function(){i||(o(),i=!0,n.apply(void 0,arguments))}]));return o}},{key:"intercept",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var a=n.pop(),s={msg:n,callback:a,broker:e};return this.interceptors.push(s),function(){t.interceptors=(0,i.cl)(s,t.interceptors)}}},{key:"start",value:function(){var e=this;for(this.system.on("error",(function(){var t;e.showUncaughtErrors&&(t=console).error.apply(t,arguments)})),this.started=!0;this.queued.length;)this.queued.shift()();this.system.emit("system ready"),r.g.DM&&r.g.DM.later&&r.g.DM.later&&r.g.DM.later.go&&r.g.DM.later.go("mol-adverts")}},{key:"setDispatcher",value:function(e){this.dispatcher=e}},{key:"registerStream",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!0,!0)}},{key:"registerUnboundedStream",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!0,!0,!0)}},{key:"openStream",value:function(e){for(var t=this,r=function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var c=t.getOptions.apply(t,[e].concat(i)),u=o.KC(),d=!1,l=0,f=function(){d||0!=--l||(d=!0,u.push(null))},p=function(e,t){var r=t.broker,n=t.unbounded;return n||l++,e.then((function(e){var t=e instanceof s().Readable?e:o.nI(e?[e]:[]);t.on("data",(function(e){return!d&&u.push(e)})),n||t.on("end",(function(){c.controlHandler&&c.controlHandler({type:"stream done",endpoint:r.id}),f()}))}),(function(e){c.emitErrors&&u.emit("error",e),n||f()}))};void 0!==c.timeout&&((0,n.S1)(c.timeout).then((function(){!d&&u.push(null),d=!0})),delete c.timeout);var g=function(){d||0!==l||(d=!0,u.push(null))};return t.invokeAll(e,S(S({},c),{},{map:p,subscriptionsCalledCallback:g})),u},i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return this.started?r.apply(void 0,[e].concat(a)):this.queueStream.apply(this,[r.bind(this),e].concat(a))}},{key:"createReadObjectStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.KC(e)}},{key:"createTransformObjectStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.U0(e)}},{key:"collectStreamAsPromise",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return o.$4(this.openStream.apply(this,[e].concat(r)))}},{key:"invokeChainMutable",value:function(e){for(var t=this,r=function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=t.getOptions.apply(t,[e].concat(i)),s=t.getSubscriptionsInterestedIn(a).filter((function(e){return e.subscription.expectReturn})),c=t.callInterceptors.apply(t,[e,function(e){return new Promise(function(){var r=b(regeneratorRuntime.mark((function r(n,o){var c,u,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=I(e),u=c.pop(),r.next=4,s.reduce(function(){var e=b(regeneratorRuntime.mark((function e(r,n){var o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:return o=e.sent,s=n.matchCount,u=n.subscription,e.abrupt("return",t.callSubscriber(u,s,[].concat(I(c),[o])).catch((function(e){var r;return a.onError&&a.onError(e,i),(r=t.system).emit.apply(r,["error"].concat(i,[e])),o})));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve(u));case 4:d=r.sent,n(d);case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())}].concat(I(a.message)));return void 0!==a.timeout?Promise.race([c,(0,n.Gv)(a.timeout)]):c},i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return this.started?r.apply(void 0,[e].concat(o)):this.queuePublish.apply(this,[r.bind(this),e].concat(o))}}]),e}(),M=function(e){u(r,e);var t=d(r);function r(e){var n;return T(this,r),(n=t.call(this,"No end point registered: "+JSON.stringify(e))).endpoint=e,n}return r}(function(e){u(r,e);var t=d(r);function r(){return T(this,r),t.apply(this,arguments)}return r}(f(Error))),B=function(e){u(r,e);var t=d(r);function r(){return T(this,r),t.apply(this,arguments)}return R(r,[{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"emit",n);try{var o;return(o=c(v(r.prototype),"emit",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"callSubscriber",value:function(e,t,n){console.group("calling",e.broker.id,n);try{return c(v(r.prototype),"callSubscriber",this).call(this,e,t,n)}finally{console.groupEnd()}}},{key:"intercept",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"intercept",n);try{var o;return(o=c(v(r.prototype),"intercept",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"invoke",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"invoke",n);try{var o;return(o=c(v(r.prototype),"invoke",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"invokeAll",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"invokeAll",n);try{var o;return(o=c(v(r.prototype),"invokeAll",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"openStream",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"openStream",n);try{var o;return(o=c(v(r.prototype),"openStream",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"callInterceptor",value:function(e,t,n,i){console.group(i.id,"intercepted",t);try{return c(v(r.prototype),"callInterceptor",this).call(this,e,t,n)}finally{console.groupEnd()}}},{key:"subscribe",value:function(e,t,n,i){return console.log(e.id,i?"registered to":"subscribed to",t),c(v(r.prototype),"subscribe",this).call(this,e,t,n,i)}},{key:"broker",value:function(e){return console.log("broker",e,"created"),c(v(r.prototype),"broker",this).call(this,e)}},{key:"start",value:function(){return c(v(r.prototype),"start",this).call(this)}}]),r}(U),N=~window.location.search.indexOf("logbroker")?new B:new U;t.ZP=N},5059:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){return t.reduce((function(t,r){return t[r]=e[r],t}),{})}function u(e,t){return Object.entries(t).reduce((function(t,r){var n,i,o=(i=2,function(e){if(Array.isArray(e))return e}(n=r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(n,i)||a(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0];return t[o[1]]=e[s],t}),{})}function d(e){for(var t in e)return!1;return!0}r.d(t,{ei:function(){return c},Ev:function(){return u},xb:function(){return d},ns:function(){return l},ar:function(){return f},jF:function(){return p}});var l=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.g,i=n,a=o(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;void 0===i[s]&&(i[s]={}),i=i[s]}}catch(e){a.e(e)}finally{a.f()}return i},f=function(e,t){for(var r in t)if("function"==typeof t[r]&&!t[r](e[r]))return!1;return!0};function p(e,t,r){if(!e.hasOwnProperty(t))return e;var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return o[r]=o[t],delete o[t],o}},2889:function(e,t,r){"use strict";r.d(t,{$4:function(){return c},Ju:function(){return u},dE:function(){return d},KC:function(){return l},U0:function(){return f},nI:function(){return p},TS:function(){return g},UI:function(){return m},hX:function(){return v},c:function(){return y}});var n=r(2830),i=r.n(n);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return new Promise((function(t,r){var n=[];e.on("data",(function(e){return n.push(e)})),e.on("end",(function(){return t(n)})),e.on("error",(function(e){return r(e)}))}))},u=function(){var e=new(i().Readable)({objectMode:!0,read:function(){}}),t=new(i().Writable)({objectMode:!0,write:function(t,r,n){e.push(t),n()},final:function(t){e.push(null),t()}});return[e,t]},d=function(e,t){return l({start:function(){var r=this;e.on("data",(function(e){return r.push(e)})).on("end",(function(){r.push(null),t()})).on("error",(function(e){console.log("------\x3e STREAM Error",e),r.destroy(e),t(e)}))}})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new(i().Readable)({objectMode:!0,read:function(){}});return e.start&&e.start.apply(t),t},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(i().Transform)(a({objectMode:!0},e))},p=function(e){var t=0;return new(i().Readable)({objectMode:!0,read:function(){e.length&&this.push(e[t++]),t===e.length&&this.push(null)}})},g=function(e){var t=l(),r=e.length;return r?(e.forEach((function(e){var n=function(e){return t.push(e)},i=function(){0==--r&&t.push(null)},o=function(e){return t.emit("error",e)};e.on("data",n).on("end",i).on("error",o);var a=(e.off||e.removeListener).bind(e);t.on("close",(function(){a("data",n),a("end",i),a("error",o)}))})),t):(t.push(null),t)},m=function(e,t){return l({start:function(){var r=this;e.on("data",(function(e){return r.push(t(e))})).on("end",(function(){r.push(null)})).on("error",(function(e){return r.destroy(e)}))}})},v=function(e,t){return l({start:function(){var r=this;e.on("data",(function(e){t(e)&&r.push(e)})).on("end",(function(){r.push(null)})).on("error",(function(e){return r.destroy(e)}))}})},y=function(e,t){var r=l(),n=function(e){return r.push(e)};t.on("data",n);var i=!1,o=(t.off||t.removeListener).bind(t);e.on("end",(function(){i||(o("data",n),i=!0),r.push(null)}));var a=g([e,r]);return a.on("close",(function(){i||(o("data",n),i=!0)})),a}},7721:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{t2:function(){return a},T3:function(){return s}});var a=function(e){return e.size||DM.molFeMiniLodash.map((e.type||"").split(","),(function(e){return DM.molFeMiniLodash.map(e.split("x"),Number)}))};function s(e,t,r){var a,s=function(e){return Array.isArray(e)&&2===e.length};if(!((a=e)&&Array.isArray(e)&&e.length&&a.every((function(e){return e&&s(e)&&s(e[0])&&Array.isArray(e[1])&&(0===e[1].length||e[1].every(s))}))))return t;var c=function(e){return e.sort((function(e,t){return t[0][0]-e[0][0]}))}(function(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e)),u=n(r,2),d=u[0],l=u[1],f=c.find((function(e){var t=n(e,1),r=n(t[0],2),i=r[0],o=r[1];return d>=i&&l>=o}));return f&&f[1]||t}},3436:function(e,t,r){"use strict";function n(e){var t=r.g.dartSiteId,n=r.g.PageCriteria.sponsored?"dm_dmnative":"".concat(r.g.adAreaSiteId,"_").concat(r.g.adAreaSiteId).concat(r.g.adAreaId,"_").concat(r.g.adSubareaId).concat(r.g.adPageType);return"native_"===e.slice(0,7)?"dailymail.uk/dm_native/".concat(e):"video"===e?"dm.video/dm_video_".concat(r.g.adAreaId):"".concat(t,"/").concat(n,"/").concat(e)}r.d(t,{Z:function(){return n}})},7200:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return window["inner"+e]||document.documentElement["client"+e]||document.body["client"+e]}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.usePixelRatio,r=t&&window.devicePixelRatio||1;return{width:s("Width")*r,height:s("Height")*r}}r.d(t,{ap:function(){return c},SP:function(){return u},ej:function(){return l},d8:function(){return p},zP:function(){return g},bP:function(){return m},JW:function(){return v},s$:function(){return y},cj:function(){return h},G9:function(){return b},D1:function(){return w},P0:function(){return S},oK:function(){return _}});var u={};try{u=window.location.search.substr(1).split("&").reduce((function(e,t){var r,n,a=(r=t.split("="),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(r,n)||o(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],c=a[1];switch(s=decodeURIComponent(s),!0){case s.startsWith("!"):e[s.substr(1)]=!1;break;case s.endsWith("[]"):e[s=s.substr(0,s.length-2)]=!c||decodeURIComponent(c).split(",");break;case s.endsWith("[0]"):e[s=s.substr(0,s.length-3)]=!c||decodeURIComponent(c).split(",");break;case/\[[-+]\]$/.test(s):e[s]=[].concat(i(e[s]||[]),i((c||"").split(",").map(decodeURIComponent)));break;default:e[s]=c?decodeURIComponent(c):"string"!=typeof c||c}return e}),{})}catch(e){r.g.DM.log("ads",e),u={}}var d=/(%[0-9A-Z]{2})+/g,l=function(e){var t,r=";".concat(document.cookie).split("; ".concat(e,"="));if(r.length>1){var n=r.pop().split(";").shift();t=(t='"'===n.charAt(0)?n.slice(1,-1):n).replace(d,decodeURIComponent)}return t},f=function e(t){var r=new Date;switch(n(t)){case"undefined":return r.setMonth(r.getMonth()+1),r;case"number":return r.setDate(r.getDate()+t),r;case"string":return new Date(t);case"function":return e(t());case"object":if(t instanceof Date)return t;if(null===t)return e();default:throw new Error("Invalid expire time when setting cookie")}},p=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",i=f(r);document.cookie="".concat(e,"=").concat(t,";expires=").concat(i.toUTCString(),";path=").concat(n)},g=function(e,t){var r="".concat(e,"Expire"),n=f(l(r)).toUTCString();p(e,t,n),p(r,n,n)};function m(){var e=/(Windows\s*[a-zA-Z]*)\s+([^;\s)]+)/i.exec(navigator.userAgent);return e&&"windows nt"===e[1].toLowerCase()&&parseFloat(e[2])>=6.4}var v="Microsoft Internet Explorer"===navigator.appName||!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv:11/)),y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),h=/(?:iPod|iPhone|iPad).*(?:OS)/i.test(navigator.userAgent),b=/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/.test(navigator.userAgent),w=/Firefox\/([0-9.]+)(?:\s|$)/.test(navigator.userAgent),S=/Edge\/([0-9._]+)/.test(navigator.userAgent);function _(){try{if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}}catch(e){console.error(e)}return[-1,-1,-1]}},7926:function(e,t,r){"use strict";r.r(t);var n=r(4812),i=r(7200),o=r(633),a=r(8662),s=r(705),c=r.n(s);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=o.ZP.broker("debug-output"),l=window.PageCriteria&&window.PageCriteria.pageViewId||(0,a.kb)(),f=i.SP.adsDebugRemote||i.SP["ac.adsDebugRemote"]||r.g.adverts.config&&r.g.adverts.config.adsDebugRemoteV2,p=i.SP.adsBugReport||i.SP["ac.adsBugReport"]||r.g.adverts.config&&r.g.adverts.config.adsBugReportV2,g="boolean"!=typeof f&&f,m=[],v=0,y=(0,n.Ds)((function(){d.emit("send to bidmax",{_:{topic:"debug"},type:"multi",pvid:l,label:g,eventId:v++,payload:m}),m=[]}),1e3);function h(e){var t=new Set;return JSON.stringify(e,(function(e,r){if("object"===u(r)&&null!==r){if(r instanceof Error)return{type:"Error",message:r.message,stack:r.stack};if(t.has(r))return"[circular reference]";t.add(r)}return function(e){return"object"===("undefined"==typeof Node?"undefined":u(Node))?e instanceof Node:e&&"object"===u(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}(r)?"[DOM Node]":r}))}var b=function(e,t){m.push({type:e,timestamp:(new Date).toISOString(),payload:t}),m.length>=100?y.callNow():y()},w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];b("log",{level:e,log:r.map(h).map((function(e){if(void 0===e)return e;try{return JSON.parse(e)}catch(t){S.error("Error parsing",e,t)}}))}),S[e].apply(S,r)},S={log:console.log,warn:console.warn,error:console.error,info:console.info};f&&(console.log=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.apply(void 0,["log"].concat(t))},console.info=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.apply(void 0,["info"].concat(t))},console.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.apply(void 0,["warn"].concat(t))},console.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.apply(void 0,["error"].concat(t))},window.onerror=function(e,t,r,n,i){return console.error("[UNCAUGHT]",{message:e,source:t,lineno:r,colno:n,error:i}),!1},window.addEventListener("unhandledrejection",(function(e){var t=e.reason;console.error("[PromiseRejectionUncaught]",{reason:t})})),d.on("send remote debug",b),d.on("system ready",(function(){var e=r.g.adverts.config;b("config",{config:e})})),d.once("dom ready",(function(){r.g.PageCriteria&&b("PageCriteria",r.g.PageCriteria),r.g.pagemeta&&b("pagemeta",r.g.pagemeta),d.invoke("get page level analytics").then((function(e){return b("bidmax",e)}))}))),p&&d.once("dom ready",(function(){var e=document.createElement("div");e.innerHTML=c()(),document.body.appendChild(e);var t=e.querySelector("#debugRemoteButtonText"),r=t.querySelector("textarea"),n=t.querySelector("button");e.querySelector("#debugRemoteButton").addEventListener("click",(function(e){e.preventDefault(),t.style.display="block"})),n.addEventListener("click",(function(e){e.preventDefault(),b("bugreport",{log:[r.value]}),console.info("bugreport",r.value),r.value="",t.style.display="none"}))}))},6415:function(e,t,r){"use strict";r.d(t,{x:function(){return c}});var n=r(7200),i=new Set;if(n.SP.adsDebug)i=new Set(((!0===n.SP.adsDebug?"all":n.SP.adsDebug)||"").toLowerCase().split(","));else{var o=n.SP["ac.adsDebug"]||r.g.adverts.config&&r.g.adverts.config.adsDebugV2;"boolean"==typeof o?i=new Set(["all"]):Array.isArray(o)&&(i=new Set(o.map((function(e){return e.toLowerCase()}))))}var a=i.has("all"),s=function(){};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[".concat(e,"]"),r=a||i.has(e.toLowerCase()),n=function(e){return r||"error"===e?function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a,s;"table"===e?(o.info("Table:"),(a=console).table.apply(a,n)):(s=console)[e].apply(s,[t].concat(n))}:s},o=n("log");return o.log=n("log"),o.trace=n("trace"),o.debug=n("debug"),o.info=n("info"),o.warn=n("warn"),o.error=n("error"),console.table&&(o.table=n("table")),o.enabled=r,o.extend=function(r){return c(e,"".concat(t,"[").concat(r,"]"))},o}},8662:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=t-e+1+e;return Math.floor(Math.random()*r)}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){return(t=e,r=16*Math.random()|0,"x"===t?r:3&r|8).toString(16);var t,r}))}r.d(t,{MX:function(){return i},kb:function(){return o},_b:function(){return s}});var a=/(.*)P(\d+)(s|k|m|gb|ms)$/;function s(e,t){var r=function(e){var t,r,i=(t=e.match(a),r=4,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],s=i[2],c=i[3];return{fieldName:o,period:s,unit:c,cap:function(e,t){return{m:function(e){return 60*e*1e3},s:function(e){return 1e3*e},k:function(e){return 1e3*e},gb:function(e){return 1e9*e},ms:function(e){return e}}[t](e)}(s,c)}}(e);return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,function(e,t){if(null!=e){var r=e/(t/100);return r>99&&(r=99),r<0&&(r=0),Math.round(r)}}(t,r.cap))}},4794:function(e,t,r){"use strict";r.d(t,{U2:function(){return A},t8:function(){return k}});var n=r(9208),i=r.n(n),o=r(1468),a=r.n(o),s=r(7200),c=r(5737),u=r(5059);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return(0,u.ar)(e,{browser:g(m),device:g(v),iOSVersion:g(y),timeRange:g(h),globalContext:g(w)})}function g(e){return function(t){return void 0===t||(Array.isArray(t)?t.some(e):e(t))}}function m(e){switch(e){case"chrome":return s.G9;case"edge":return s.P0;case"ie":return s.JW;case"firefox":return s.D1;case"safari":return s.s$;default:return!1}}function v(e){var t=i()(r.g,"DM.molFeMobileutils");if(t)switch(e){case"tablet":return t.isIPad()||t.isAndroidTable();case"desktop":return!t.isMobile()}else console.error("DM.molFeMobileutils is not available")}function y(e){var t=e.min,r=e.max,n=d((0,s.oK)(),1)[0];return(void 0===t||t<=n)&&(void 0===r||r>=n)}function h(e){var t=e.end,r=e.start,n=new Date,i=t&&b(t)<=n,o=r&&b(r)>n;return!i&&!o}function b(e){var t=d(e.split(":").map(Number),3),r=t[0],n=t[1],i=t[2],o=new Date;return o.setHours(r),o.setMinutes(n),o.setSeconds(i),o}function w(e){var t=e.prop,n=e.op,o=e.value;switch(n){case"includes":var a=i()(r.g,t);return"string"==typeof a?a.includes(o):(0,c.pj)(a).includes(o)}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I=(0,r(6415).x)("config"),E={},A=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=i().apply(void 0,[E].concat(t));return"object"===O(n)?JSON.parse(JSON.stringify(n)):n},k=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a().apply(void 0,[E].concat(t))};r.g.adverts.config=r.g.adverts.config||{},Object.entries(r.g.adverts.config).forEach((function(e){var t=S(e,2),r=t[0],n=t[1];if(function(e){return"object"===f(e)&&!!e.__targeting}(n)){var i=function(e){var t=e.__targeting;return((0,c.pj)(t).find(p)||{}).payload}(n);void 0!==i&&k(r,i)}else k(r,n)})),Object.entries(s.SP).forEach((function(e){var t=S(e,2),r=t[0],n=t[1];if(r.startsWith("ac."))if(r.endsWith("[+]")){var i=r.substring(3,r.length-3);k(i,(0,c.jj)(A(i,[]).concat(n)))}else if(r.endsWith("[-]")){var o=r.substring(3,r.length-3);k(o,A(o,[]).filter((function(e){return!n.includes(e)})))}else if(r.endsWith("{}")){var a=r.substring(3,r.length-2);k(a,function(e){try{return JSON.parse(e)}catch(e){return I.error(e),{}}}(n))}else k(r.slice(3),function(e){var t,r;return""===e||"boolean"==typeof e?e:isNaN(e)?(r="true"===(t=e),"false"===t||r?r:t):parseFloat(e)}(n))})),r.g.adverts.config=E},6540:function(e,t,r){"use strict";r.r(t),r.d(t,{onBodyAvailable:function(){return n},untilBodyAvailable:function(){return i},elementReady:function(){return o},loaded:function(){return a},getOffset:function(){return s},getRelativeContainer:function(){return u},getWindow:function(){return d},getPageSize:function(){return l},walk:function(){return f},closest:function(){return p},isElement:function(){return g},appendStyle:function(){return m},contains:function(){return v},getParent:function(){return y},getElementScaledHeight:function(){return h},getElementComputedWidth:function(){return b},getElementComputedHeight:function(){return w},getElementWidthScale:function(){return S},createIframe:function(){return _}});var n=function e(t){document.body?t():r.g.requestAnimationFrame((function(){e(t)}))},i=function(){return new Promise(n)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return new Promise((function(n,i){var o=!1;setTimeout((function(){o=!0}),t),function a(){var s=document.querySelector(e);s?n(s):o?i(new Error('Element "'.concat(e,'" not found after ').concat(t,"ms"))):setTimeout((function(){return a()}),r)}()}))},a=function(){return new Promise((function(e){["complete","loaded","interactive"].includes(document.readyState)?e():document.addEventListener("DOMContentLoaded",e)}))},s=function(e){var t,r,n={top:0,left:0},i=e&&e.ownerDocument;if(i)return t=i.documentElement,e.getBoundingClientRect&&(n=e.getBoundingClientRect()),r=d(i),{top:n.top+(r.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(r.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},c=function(e){var t=getComputedStyle(e).getPropertyValue("position");return["relative","absolute"].includes(t)},u=function(e){return f(e,c,(function(e){return e.parentNode}))},d=function(e){var t=null;return e&&(e===e.window?t=e:9===e.nodeType?t=e.defaultView||e.parentWindow:e.ownerDocument&&(t=e.ownerDocument.defaultView||e.ownerDocument.parentWindow)),t},l=function(){return[document.body.scrollWidth,window.innerHeight+window.scrollMaxY,window.innerWidth,window.innerHeight]},f=function(e,t,r){for(;e;){if(t(e))return e;e=r(e)}},p=function(e,t){return f(e,t,(function(e){var t=e.parentNode;return t!==document&&t}))},g=function(e){return e&&1===e.nodeType},m=function(e){if(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:"textContent"in t?t.textContent=e:t.innerText=e,document.body.appendChild(t)}},v=function(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY},y=function(e,t){return f(e,(function(e){return e.matches(t)}),(function(e){return e.parentNode}))},h=function(e){return function(e){var t=getComputedStyle(e),r=t.getPropertyValue("transform");if(r&&"none"!==r){var n=r.split("(")[1].split(")")[0].split(",");return parseFloat(n[3])}var i=t.getPropertyValue("zoom");return parseFloat(i||1)}(e)*w(e)},b=function(e){return parseInt(getComputedStyle(e).getPropertyValue("width"))},w=function(e){return parseInt(getComputedStyle(e).getPropertyValue("height"))},S=function(e){var t=b(e);return b(document.body)/t};function _(e){var t=e.content,r=e.insertMethod,n=void 0===r?function(e){document.body.appendChild(e)}:r,i=e.width,o=void 0===i?0:i,a=e.height,s=void 0===a?0:a,c=e.log,u=void 0===c?function(){}:c,d=document.createElement("iframe");return d.border="0",d.style.width="".concat(o,"px"),d.style.height="".concat(s,"px"),d.style.border="none",u("inserting iframe"),n(d),u("writing iframe content",d),d.contentDocument.open(),d.contentDocument.domain=document.domain,d.contentDocument.write(t),d.contentDocument.close(),d}},8747:function(e,t,r){void 0===r.g.adverts&&(r.g.adverts={})},8990:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,{addFBRemarketingPixel:function(){return Ke},addTaboolaPosition:function(){return He},addToArray:function(){return Le},appendToInfiniteList:function(){return qe},forceRefreshAds:function(){return Ne},getBannerFallbackPromise:function(){return Qe},getRequestedAds:function(){return tt},getRtaReport:function(){return Je},getScriptContainer:function(){return De},getSyncVideoTags:function(){return Ze},getVideoAdsSetup:function(){return ke},getVideoTags:function(){return rt},init:function(){return Ve},initEmergencyRules:function(){return x.initEmergencyRules},initSlots:function(){return x.initSlots},q:function(){return Ge},reg:function(){return ze},requestAdByGoogle:function(){return $e},requestGoogleAd:function(){return Fe},requestSlotConfig:function(){return x.requestSlotConfig},setStickyBannerZoomThresholds:function(){return Me},setSupportedSlots:function(){return x.setSupportedSlots},stopRefreshingAds:function(){return Be}});var i={};r.r(i),r.d(i,{isClickThrough:function(){return pt},onClick:function(){return lt},onDeactivate:function(){return ft},onInteraction:function(){return gt}});var o={};r.r(o),r.d(o,{article:function(){return xt},auctionInfo:function(){return Tt},bootstrap:function(){return Rt},brandedVideoPlayer:function(){return Jt},gpt:function(){return tr},integral:function(){return lr},maxbid:function(){return vr},scriptLoader:function(){return yr},sessionDepth:function(){return xr},skimlinks:function(){return Rr},taboola:function(){return Lr},visits:function(){return Qr}});var a={};r.r(a),r.d(a,{abd:function(){return pn}});var s={};r.r(s),r.d(s,{conversion:function(){return mn.Z},detection:function(){return An},errorDetection:function(){return Dn},iab:function(){return a},rtaTracking:function(){return Mn},serverBypass:function(){return Ln}});var c={};r.r(c),r.d(c,{abtest:function(){return ri},bidmax:function(){return Ai},bidmaxSendBeacon:function(){return Ti},bidmaxSendBeaconMigration:function(){return Mi},cacheIndication:function(){return Wi},cmp:function(){return Gi},connection:function(){return ia},customTracking:function(){return Ji},entryPoint:function(){return ao},externalData:function(){return vo},headerbidderWinner:function(){return bo},inputDelays:function(){return So},memory:function(){return Oo},pageCriteria:function(){return Eo},pageLoadEvent:function(){return Ao},rtaIds:function(){return Po},storage:function(){return jo},timing:function(){return Wo},videoFailures:function(){return Go},viewability:function(){return Qo}});var u={};r.r(u),r.d(u,{adyoulike:function(){return Da},amazon:function(){return Os},amazonv2:function(){return Os},appnexus:function(){return Ts},appnexusOutstream:function(){return Bs},appnexusVideo:function(){return au},brightroll:function(){return Ls},collective564:function(){return qs},collectiveImprove:function(){return Vs},criteo:function(){return Hs},criteoV2:function(){return Xs},groupm:function(){return Zs},groupmSkin:function(){return Qs},improveDigital:function(){return ec},inskin:function(){return tc},ix:function(){return rc},ixVideo:function(){return du},justPremium:function(){return ic},kargo:function(){return oc},konduit:function(){return Mu},mediagrid:function(){return lc},mediagridVideo:function(){return gu},oathVideo:function(){return vu},openx:function(){return pc},openxVideo:function(){return bu},pubmatic:function(){return Oc},pubmaticVideo:function(){return wu},pxyz:function(){return Ec},rubiMM:function(){return Bc},rubiTTD:function(){return Lc},rubicon:function(){return jc},rubiconSkin:function(){return Rc},rubiconVideo:function(){return Ou},sharethrough:function(){return Fc},spotx2:function(){return Tu},teads:function(){return $c},telariaVideo:function(){return Ru},triplelift:function(){return Xc},tripleliftVideo:function(){return qu},verizon:function(){return Qc}});var d={};r.r(d),r.d(d,{dmplayer:function(){return bl}});var l={};r.r(l),r.d(l,{availabilityNotification:function(){return Zl},default:function(){return uf},hackyDelayer:function(){return ef},reprompt:function(){return sf},rtaTracking:function(){return cf}});var f={};r.r(f),r.d(f,{forceTags:function(){return hf},setPlugin:function(){return ff}});var p={};r.r(p),r.d(p,{indexedDBUsage:function(){return Wf},targeting:function(){return Tf},video:function(){return qf}});var g={};r.r(g),r.d(g,{permutive:function(){return p}});var m={};r.r(m),r.d(m,{dmplayer:function(){return ap},flyoutManager:function(){return eg},onlyOneActivePlayer:function(){return Zp},perform:function(){return Ap},visibility:function(){return Ip}});var v={};r.r(v),r.d(v,{InreadPlayerTop:function(){return Ag},connatix:function(){return Sg},descriptions:function(){return P.default},leaderTop:function(){return Pg},mpuFactBox:function(){return rm},mpuMobileFactbox:function(){return im},mpuMobileOthers:function(){return Bg},mpuPuffOthers:function(){return qg},puffAdOthers:function(){return Wg},refreshInfo:function(){return Qg}});var y={};r.r(y),r.d(y,{banner:function(){return cm},billboard:function(){return Rm},gallery:function(){return ev},mpuLeft:function(){return lv},mpus:function(){return nv},skies:function(){return Wm}});var h={};r.r(h),r.d(h,{load:function(){return jy}});var b={};r.r(b),r.d(b,{admantx:function(){return By},adxChannel:function(){return qy},device:function(){return Vy},digitrust:function(){return Xy},id5:function(){return rh},impid:function(){return ih},ixIdentity:function(){return ch},pubcommon:function(){return lh},rtaIds:function(){return mh},smartclip:function(){return bh},taboola:function(){return Sh},unifiedid:function(){return _h},universalid:function(){return Oh},viewability:function(){return Vh}});var w={};r.r(w),r.d(w,{bidsReceived:function(){return Fh}});var S={};r.r(S),r.d(S,{abe:function(){return s},adIntegrator:function(){return ot.default},adNami:function(){return Zb},adProtection:function(){return rO},adsByGoogle:function(){return tw},adsRefresher:function(){return ww},adsRefresherV2:function(){return Aw},adxChannelPlugin:function(){return qy},adyoulike:function(){return Da},amazonNative:function(){return Pw},analytics:function(){return c},appnexus:function(){return Ts},appnexusVideo:function(){return au},arrowKeysScroll:function(){return Tw},audienceProject:function(){return Rw},bidders:function(){return u},billboardAdjustments:function(){return pm},chromelessv2:function(){return d},cmp:function(){return l},cmpAvailabilityNotification:function(){return Zl},cmpRtaTracking:function(){return cf},criteo:function(){return Hs},debug:function(){return f},devicePlugin:function(){return Vy},dmp:function(){return g},domain:function(){return Uw},durationRefresh:function(){return Dw},fbRemarketingPixel:function(){return Bw},fff:function(){return Nw},grapeshotPlugin:function(){return dO},groupm:function(){return Zs},headerBidding:function(){return w},impIDPlugin:function(){return ih},irisTv:function(){return Fw},ix:function(){return rc},ixVideo:function(){return du},justPremium:function(){return ic},kargo:function(){return oc},messagePluginsFromCreatives:function(){return Kw},mvt:function(){return gS},nativo:function(){return _S},nonAdServable:function(){return ES},nonPersonalizedAds:function(){return kS},openx:function(){return pc},openxVideo:function(){return bu},pageVisibility:function(){return PS},paidSessions:function(){return CS},performPlayer:function(){return Ap},performance:function(){return NS},permutive:function(){return Tf},pixelSync:function(){return zS},players:function(){return m},prebid:function(){return y_},prebidUserSync:function(){return S_},programmaticCampaign:function(){return I_},pubmatic:function(){return Oc},quantcast:function(){return k_},realVuRefresh:function(){return nO},revenueReporter:function(){return P_},rtaPageEventDispatcher:function(){return C_},rubicon:function(){return jc},rubiconSkin:function(){return Rc},rubiconVideo:function(){return Ou},runtimeMessages:function(){return R_},selective:function(){return M_},sharethrough:function(){return Fc},skins:function(){return V_},slots:function(){return v},smartBanner:function(){return Y_},smartScheduler:function(){return H_},sticky:function(){return y},tcfv2:function(){return h},trackers:function(){return b},version:function(){return X_},videoEvents:function(){return eO},watershed:function(){return Q_}});var O=Date.now(),I=(r(8747),r(7200)),E=r(6415);(I.SP.adsDebugRemote||I.SP["ac.adsDebugRemote"]||r.g.adverts.config&&r.g.adverts.config.adsDebugRemoteV2)&&r(7926),(0,E.x)("bootstrap").log("loading",window.location.href);var A=r(4794),k=r(5737),x=r(3477),P=r(7337),j=r(633),T=r(2378),C=r.n(T),R={},D=function(e){if(e in R)return R[e];var t=!0,r=(0,A.U2)("headerBidders",{});"string"==typeof r&&(r=JSON.parse(r));var n=r[window.location.hostname];return n&&(n.blacklist&&n.blacklist.includes(e)&&(t=!1),n.whitelist&&!n.whitelist.includes(e)&&(t=!1)),R[e]=t,t};function U(){return(0,A.U2)("plugins.enabled",[]).filter((function(e){return D(e)}))}var M=r(1013);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=(0,E.x)("plugin-registry"),q={};function z(e,t){L("registering plugin:",e),q[e]=t}function V(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},q)}function F(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Z(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function J(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Y(o,n,i,a,s,"next",e)}function s(e){Y(o,n,i,a,s,"throw",e)}a(void 0)}))}}function X(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ee,te,re,ne=(0,E.x)("plugin-manager"),ie=[],oe=[],ae=function(e){ne("adding plugins:",e);var t=new Set([].concat(X((0,A.U2)("plugins.enabled",[])),X(e)));(0,A.t8)("plugins.enabled",X(t))},se=function(e){ne("removing plugins:",e);var t=new Set((0,A.U2)("plugins.enabled",[]));e.forEach((function(e){t.delete(e)})),(0,A.t8)("plugins.enabled",X(t))},ce=[],ue=function(e){return ce.push(e)},de=function(){var e=J(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(ce.map((function(e){return e(t,r)})));case 2:return e.abrupt("return",e.sent.every((function(e){return e})));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),le=function(e){return{addPlugins:ae,broker:ee.broker(e),doc:document,getConfig:A.U2,setConfig:A.t8,log:(0,E.x)(e),removePlugins:se,registerPluginBouncer:ue,checkPluginBouncer:de,ownName:e,win:window}},fe=function(e){return"object"===$(e)&&e.default?e.default:e},pe=function(e,t){if(D(t)&&!re.includes(t)){var r=fe(e[t]);if("function"!=typeof r&&(r=fe(e[t])),re.push(t),"function"==typeof r)try{r(le(t))}catch(e){console.error('Error initializing plugin "'.concat(t,'":'),e)}}},ge=function(){var e=J(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,A.U2)("pluginManager.setupTimeout",5e3),n=function(){var e=J(regeneratorRuntime.mark((function e(t,n,i){var o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=H(H({},le(t)),{},{pluginsAlreadyRun:i}),(0,A.t8)("pluginManager.setupTimeout",n.plugiSetupTimeout||r),a=n.pluginSetup(o),s=(0,A.U2)("pluginManager.setupTimeout",r),e.next=7,(0,M.yq)(s,a);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.error("Error calling pluginSetup on plugin '".concat(t,"':"),e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,n){return e.apply(this,arguments)}}(),i=function(e){return"object"===$(e)&&e.default?e.default:e},o=new Set,a=null;case 5:if(s=(0,A.U2)("plugins.enabled"),c=s.filter((function(e){return!o.has(e)})).shift()){e.next=9;break}return e.abrupt("break",31);case 9:if(a!==c){e.next=13;break}return ne.warn("Plugin",c,"just ran and its asking to run again, ignoring it"),o.add(c),e.abrupt("continue",30);case 13:if(a=c,!(u="object"===$(u=i(t[c]))?u.default:u)||"function"!=typeof u.pluginSetup){e.next=29;break}return ne("setup plugin",c),e.next=20,n(c,u,o);case 20:if(e.t0=e.sent,"not yet"===e.t0){e.next=26;break}ne("ran:",c),o.add(c),e.next=27;break;case 26:ne("plugin",c,"asked to be called again");case 27:e.next=30;break;case 29:o.add(c);case 30:e.next=5;break;case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function me(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=W(e,2),r=t[0],n=t[1],i=n.run,o=n.init,a=n.initTimeout,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,["run","init","initTimeout"]),c=i||function(){};return c.pluginSetup=o,c.plugiSetupTimeout=a||5e3,Object.entries(s).forEach((function(e){var t=W(e,2),r=t[0],n=t[1];return c[r]=n})),[r,c]})))}function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=J(regeneratorRuntime.mark((function e(t){var r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U(),n=r.map((function(e){return[e,t[e]]})).filter((function(e){return W(e,2)[1]})),i=r.map((function(e){return[e,t[e]]})).filter((function(e){return!W(e,2)[1]})).map((function(e){return W(e,1)[0]})),e.next=5,Promise.all(n.map(function(){var e=J(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=W(t,2),n=r[0],i=r[1],e.next=3,de(n,i);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0=n;case 6:return e.abrupt("return",e.t0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return o=e.sent.filter((function(e){return e})),(0,A.t8)("plugins.enabled",[].concat(X(o),X(i))),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=J(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,d,l,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.plugins,n=void 0===r?ie:r,i=t.mandatory,o=void 0===i?oe:i,a=t.messageBus,n=H(H({},n),me(V())),re=[],te=(ee=a).broker("plugin-manager"),e.next=7,ge(n);case 7:s=F(o);try{for(s.s();!(c=s.n()).done;)u=c.value,pe(n,u)}catch(e){s.e(e)}finally{s.f()}if(!ce.length){e.next=15;break}return e.next=12,ve(n);case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=U();case 16:d=e.t0,l=F(d);try{for(l.s();!(f=l.n()).done;)p=f.value,pe(n,p)}catch(e){l.e(e)}finally{l.f()}te.emit("plugins enabled",re),ee.start();case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=r(5059);function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ie=(0,E.x)("videoBidding"),Ee=(0,E.x)("videoPlayer"),Ae=function(e,t,r,n){var i=e.posPrefix,o=void 0===i?"":i,a=_e({},r.cust_params);return r.cust_params&&delete r.cust_params,_e({videoAdServerUrl:n.replace(/(&iu=[^&]*)/,"$1/".concat(t)),cust_params:_e(_e({},a),{},{pos:"".concat(o).concat(t)})},r)},ke=function(e,t){Ie("request for video options");var r,n=(0,A.U2)("players.editorial",{}),i=(0,A.U2)("plugins.forceFlyawayPlayerConfiguration.styleVariant","letterbox"),o=(0,A.U2)("player.setup.flyoutFromParagraph"),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,I.oK)(),1)[0],s=(0,A.U2)("players.setup.earlyAdFactoryInit",!0),c=-1!==a&&(0,A.U2)("players.setup.userActionTimeout"),u=-1!==a&&(0,A.U2)("players.setup.earlyBidding"),d=new Set((0,A.U2)("plugins.enabled",[])),l=function(e){var t=(0,A.U2)("players.setup.".concat(e));return void 0!==t&&t||Boolean(d.has(e))},f=l("mobileFlyawayPlayer"),p=t.plugins||{},g=p.tracking,m=void 0===g?{}:g,v=p["ads-setup"],y=void 0===v?{}:v;r=y.schedule?y.schedule:!m.sponsored&&y.adsEnabled?function(e,t){if(!(0,be.xb)(e))return[];var r=t.duration/1e3,n=e.videoAdServerUrl,i=e.preRoll,o=e.postRoll,a=e.midRollRepeat,s=e.schedule,c=void 0===s?[]:s,u=t.plugins["ads-setup"].videoAdServerUrl,d=c.map((function(t){var r=t.videoAdServerUrl,n=t.cust_params,i=t.minVideoDuration,o=t.offset,a=t.pos||n&&n.pos;return!r&&a?Ae(e,a,{offset:o,minVideoDuration:i},u):t}));return i&&!d.find((function(e){return e.cust_params&&("preroll"===e.cust_params.pos||0===e.offset)}))&&d.push(Ae(e,"preroll",{offset:0},u)),n&&a&&function(){for(var t=a.each,n=a.videoDurationExceeds,i=t,o=i+n;o<r;)d.find((function(e){return e.offset===i}))||d.push(Ae(e,"midroll",{offset:i,minVideoDuration:o},u)),o=(i+=t)+n}(),o&&!d.find((function(e){return e.cust_params&&("postroll"===e.cust_params.pos||e.offset===r)}))&&d.push(Ae(e,"postroll",{offset:r,minVideoDuration:r},u)),d.sort((function(e,t){return e.offset-t.offset}))}(n,t):[];var h=l("players.flyoutManager"),b=!h&&l("videoFlyout"),w=!h&&l("videoForceFlyout"),S={"ads-setup":_e(_e({},t["ads-setup"]),{},{schedule:r,bidmax:!0,vpaidEnabled:l("vpaid"),useIMASDK:l("imaSDK"),earlyAdFactoryInit:!!s,userActionTimeout:c,earlyBidding:u}),flyout:{enabled:b,active:b},forceFlyout:{enabled:w,active:w},flyawayPlayer:_e({enabled:f,fromParagraph:o},f?{adhesiveStyleVariant:i}:{}),debugOn:Ee.enabled};return Ie("new opts:",S),S};function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ce=(0,E.x)("AdsManager"),Re=[],De=function(){return r.g.DM.molFeMiniLodash.filter(r.g.document.documentElement.childNodes,(function(e){return 1===e.nodeType}))[0]||document.body},Ue=j.ZP.broker("AdsManager");Ue.on("slot defined",(function(e,t){e.pos="interstitial"===e.pos||"fff"===e.pos?e.id:e.pos,r.g.DM.molFeMiniLodash.extend(e,(0,P.get)(e.pos)||{}),t.id||(t.id=e.id||e.pos+"_"+(new Date).getTime()),Ue.emit("update description",e.pos,e),x.isAdEnabled(e)&&Ue.emit("slot ready",e)}));var Me=function(){},Be=function(e){Ue.emit("stop refreshing ads",e)},Ne=function(){return Ue.emit("force ads refresh")},Le=function(e){Ue.emit("slot defined",e,function(e){var t=e.id&&document.getElementById(e.id);if(t)return t;var r=document.currentScript||(0,k.Z$)(document.querySelectorAll("*[id^=".concat(e.pos,"] script")))||(0,k.Z$)(document.scripts);if(!r||"BODY"===r.parentNode.nodeName)throw new Error("Cannot find current script for ".concat(e.pos));return r.parentNode}(e))},qe=function(e){Ue.emit("infinite-list append",e)},ze=function(e){return Re.push(e)},Ve=function(){if(document.getElementById("content")){var e,t=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Te(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(Re);try{for(t.s();!(e=t.n()).done;){var r=e.value,n=document.getElementById(r),i=document.getElementById(r),o=i.getAttribute("style");n.className=i.className,o&&n.setAttribute("style",i.getAttribute("style"))}}catch(e){t.e(e)}finally{t.f()}}},Fe=function(){if(de("AdsManager.requestGoogleAd",{vendorIds:{gdpr:[755]}})){var e=document.createElement("script");e.async=!0,e.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",document.getElementsByTagName("head")[0].appendChild(e),r.g.adsbygoogle=r.g.adsbygoogle||[],r.g.adsbygoogle.push({})}},We=Ue.until("gpt loaded"),Ge=function(e){return We.then(e)},He=function(e){Ue.emit("add taboola",e)},Ke=function(){Ue.emit("add fb-marketing-pixel")};Ue.on("error",(function(){var e;return(e=console).error.apply(e,arguments)}));var $e=function(){Ue.emit("adsByGoogle")},Ye={version:1};Ue.on("send with rta page unload",(function(e){Ye=Pe(Pe({},Ye),e)}));var Je=function(){return Ye};try{"production"!==r.g.adEnvironment||Object.keys(I.SP).some((function(e){return e.includes("debug")}))||(j.ZP.showUncaughtErrors=!1)}catch(e){console.error(e)}var Xe={};Ue.on("sync video tags update",(function(e){Xe=C()({},Xe,e)}));var Ze=function(){return Xe},Qe=function(e){return(0,A.U2)("plugins.slots.jwplayer.v2.bannerFallback.enabled",!1)?(Ue.emit("chromeless player event","bannerFallbackAd",e),Ue.until("bannerFallbackAd destroyed")):Promise.resolve()},et=[];function tt(){return et}function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r={},n=function(e,n){var i=n&&n.tags?n.tags:n;i?C()(r,i):Ce("Video targeting ended with:",r),t(e,i)};Ue.emit("collect video tags",e,n)}Ue.on("ads rendered update",(function(e){et=e}));var nt=r(3077),it=r(6873),ot=r(8397),at=r(6540),st=r(6347),ct=r(8397),ut=new st("click",(function(e){var t,r=ct.getElementOrIframeById(e),n=r.classList.contains("slide")?r:(0,at.closest)(r,(function(e){return e.classList.contains("slide")}));return document.querySelectorAll?t=n.querySelectorAll(".adLinkLabel a"):(t=n.getElementsByTagName("a"),t=Array.prototype.filter.call(t,(function(e){return(0,at.closest)(e,(function(e){return e.classList.contains("adLinkLabel")}))}))),t[0]})),dt=new st("adDeactivate",(function(e){return(0,at.closest)(ct.getElementOrIframeById(e),(function(e){return"mobileGalleryModal"===e.id}))}));function lt(){var e=Array.prototype.slice.call(arguments),t=e[1];e[1]=function(){window.open(t,"_blank")},ut.registerEvent.apply(ut,e)}function ft(e,t){dt.registerEvent(e,t)}function pt(e){"string"==typeof e?e=ct.getElementById(e):(0,at.isElement)(e)||(e=e[0]);var t=(e=ct.getAdContainer(e)).getElementsByTagName("div");return(t=Array.prototype.filter.call(t,(function(e){var t=ut.getEvent(e.id);return t&&-1!==t.toString().indexOf("window.open")}))).length>0}function gt(){ut.registerEvent.apply(ut,arguments)}var mt=r(1823),vt=r.n(mt),yt=r(6347),ht=r.n(yt),bt=function(){var e=document.createTextNode((0,A.U2)("label.text","ADVERTISEMENT")),t=document.createElement("span");t.classList.add("mol-ads-label"),t.appendChild(e);var r=document.createElement("span");return r.classList.add("mol-ads-label-container"),r.appendChild(t),r},wt=[3,8],St=j.ZP.broker("Comments"),_t={},Ot=function(e,t,r){var n="mpu_comments_".concat(t),i=e[r],o=function(e){var t=document.createElement("div");t.id=e,t.className="adHolder mpu molads_".concat(e),t.appendChild(bt());var r=document.createElement("li");return r.appendChild(t),r}(n),a={pos:n};if(i.parentNode.insertBefore(o,i),_t[n])(0,nt.refreshAdvert)({pos:n});else{var s=St.on("ad delayed",a,(function(){s.cancel(),(0,nt.requestDelayedAdvert)(n)}));St.emit("slot defined",a,o.firstChild),_t[n]=!0}},It=function(){!function(e){for(var t=e.length,r=wt.length,n=0,i=0;i<r;i++){var o=wt[i];if(o>=t)break;Ot(e,++n,o)}}(document.querySelectorAll("#comments .comment"))};function Et(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function At(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Et(o,n,i,a,s,"next",e)}function s(e){Et(o,n,i,a,s,"throw",e)}a(void 0)}))}}St.on("slots initialized",(function(){DM.later("bundle",(function(){return DM.molFeComments&&DM.molFeComments.events.subscribe("loaded",It)}))})),z("adzouk",{run:function(e){var t=e.broker,n=r.g.top;if(!n.location.hostname.includes("combotag.com")){var i=encodeURIComponent(location.href),o=n.ct_t_init;t.invoke("load script","//serve.combotag.com/show_ad?id=994&url=".concat(i,"&t=").concat(o),null,{},(function(){return!0}))}},vendorIds:{gdpr:!1}});var kt=function(){return{articlewithvideo:""+r.g.PageCriteria.containsVideo,style:r.g.PageCriteria.articleStyle}};function xt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=At(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t.broker).emit("set page level targeting",kt()),r.emit("set page level targeting",new Promise(function(){var e=At(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,at.untilBodyAvailable)();case 2:t(kt());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tt(e){var t=e.broker,r={},n=function(e){return(Array.isArray(e)?e:[e]).map((function(e){return parseFloat(e.split("_")[1])})).sort((function(e,t){return t-e}))[0]};r.ix_ox_om=function(e){return["openx",n(e)]},r.ix_cdb_om=function(e){return["criteo",n(e)]},r.ix_fb_om=function(e){return["facebook",n(e)]},r.IOM=function(e){return["indexExchange",n(e)]},r.ix_karg_om=function(e){return["kargo",n(e)]},t.on({message:"gpt loaded",sync:!0},(function(){var e=googletag.pubads(),r=e.setTargeting;e.setTargeting=function(n,i){try{t.emit("set global key value",n,i)}catch(e){console.error(e)}return r.call(e,n,i)}})),t.on({message:"slot created",sync:!0},(function(e,n){var i=n.setTargeting.bind(n);n.setTargeting=function(n,o){try{var a=r[n];if(t.emit("set key value",e.pos,n,o),a){var s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a(o),2),c=s[0],u=s[1];t.emit("bid",e.pos,{bidder:c,cpm:parseInt(u)})}}catch(e){console.error(e)}return i(n,o)}}))}Tt.pluginSetup=function(e){var t=e.getConfig,r=e.removePlugins;t("plugins.enabled").includes("gpt")||r(["auctionInfo"])};var Ct=r(8662);function Rt(e){e.broker,r.g.PageCriteria.pageViewId=(0,Ct.kb)()}var Dt=r(2635),Ut=r.n(Dt),Mt=r(567),Bt=r.n(Mt);function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lt=function(e){var t,r,n="GET",i=3e3,o={};if("string"==typeof e)t=e;else{var a=e.method;n=void 0===a?"GET":a,t=e.url;var s=e.timeout;i=void 0===s?3e3:s;var c=e.headers;o=void 0===c?{}:c,r=e.data}var u=new XMLHttpRequest,d=new Promise((function(e,i){u.onreadystatechange=function(){4===this.readyState&&(this.status>199&&this.status<300?e(this.responseText):i(new Error("Error status ".concat(this.status,": ").concat(this.statusText))))},u.open(n,t,!0),Object.entries(o).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],n=t[1];return u.setRequestHeader(r,n)})),r?u.send(r):u.send()}));return i?(0,M.yq)(i,d):d},qt=function(e,t,r){var n=new Headers;Object.keys(t).forEach((function(e){n.append(e,t[e])}));var i={method:r,headers:n};return window.fetch(e,i)};function zt(e){return function(e){if(Array.isArray(e))return Vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ft(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Wt(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ft(o,n,i,a,s,"next",e)}function s(e){Ft(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Gt={vendorIds:{gdpr:[95]}},Ht=(0,A.U2)("pos.bvp_puff_26.title","SPONSORED"),Kt=(0,A.U2)("pos.bvp_puff_26.editorialVideoURL","//video.dailymail.co.uk/video/mol/test/2017/10/17/8934813711130511437/1024x576_MP4_8934813711130511437.mp4");function $t(){return Yt.apply(this,arguments)}function Yt(){return(Yt=Wt(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/player/".concat(PageCriteria.pageType,"/").concat(PageCriteria.channel),"article"===PageCriteria.pageType&&(t+="/article-".concat(PageCriteria.articleId)),t+="/player-config.json",e.prev=3,e.next=6,Lt({url:t,timeout:5e3});case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Jt(e){var t=e.broker,n=e.checkPluginBouncer;function i(){return(i=Wt(regeneratorRuntime.mark((function e(r){var n,i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.data&&"function"==typeof r.data.indexOf){e.next=2;break}return e.abrupt("return");case 2:if(n="_dm\n",0!==(i=r.data.indexOf(n))){e.next=18;break}if(s=r.data.substring(i+n.length),c=JSON.parse(s),e.t0=I.SP["bvp-force-editorial"],!e.t0){e.next=12;break}return e.next=11,$t();case 11:e.t0=a=e.sent;case 12:if(!e.t0){e.next=17;break}console.log("Forcing editorial instead of campaign in BVP"),o(c.targeting.pos[0],a,Kt,Bt(),"",""),e.next=18;break;case 17:t.emit("video",c.type,c);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e,r,n,i,o,a){var s=document.getElementById(e),c=e+"_player",u={id:c,width:640,height:264,dataOpts:r,src:n,click:a,description:o,title:Ht},d=document.createElement("div"),l=i(u);d.innerHTML=l,function(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)}(s),s.appendChild(d.firstElementChild),"none"===s.style.display&&(s.style.display="");var f=DM.molFeVideoplayer.init(document.getElementById(c));t.emit("video player inited",e,f)}r.g.addEventListener("message",(function(e){return i.apply(this,arguments)}),!1),t.on("ad rendered",function(){var e=Wt(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.isEmpty&&t.startsWith("bvp_")&&(0,A.U2)("pos.bvp_puff_26.editorialFallback"))){e.next=5;break}return e.next=3,$t();case 3:(n=e.sent)&&o(t,n,Kt,Bt(),"","");case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),t.on("video","playBrandedVideo",(function(e){var r=e.targeting.pos[0];if(document.getElementById(r)){var i=e.videoObject,a=[];n("brandedVideoPlayer",Gt)&&(a=[].concat(zt(a),zt(e.lotome.filter((function(e){return e.id&&e.id.length})).map((function(e){return{time:e.time,uri:"//bcp.crwdcntrl.net/5/c=991/b=".concat(e.id)}}))))),e.impTracker&&e.impTracker.length&&a.push({time:9,uri:e.impTracker});var s="".concat(e.clickPrefix).concat(i.clickThroughUrl),c={title:i.pageTitle,poster:i.stillImageUrl,isMobile:PageCriteria.isMobile,playerId:"default",videoId:i.videoId,preload:"none",referenceId:i.referenceId,linkBaseURL:"",initialVideo:!1,plugins:{"branded-content":{clickThroughUri:s,endStatePoster:i.endStateImageUrl,trackingPixels:a},"ads-setup":{adsEnabled:!1},tracking:{channelShortName:PageCriteria.channel,sponsored:!0,referenceId:i.referenceId,trackingType:"commercialVideoPlayer"}}};o(r,JSON.stringify(c),i.videoUrl,Ut(),i.description,s)}else t.emit("log","BVP","Element #".concat(r," not found"))}))}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qt(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function er(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Qt(o,n,i,a,s,"next",e)}function s(e){Qt(o,n,i,a,s,"throw",e)}a(void 0)}))}}function tr(e){var t=e.broker,n=e.log;e.getConfig,r(9988);var i=r.g.googletag=r.g.googletag||{};i.cmd=i.cmd||[];var o=new Promise((function(e){return i.cmd.push((function(){return e()}))}));t.emit("import script","//www.googletagservices.com/tag/js/gpt.js"),t.on("system ready",er(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:t.emit("gpt loaded",i);case 3:case"end":return e.stop()}}),e)}))));var a=new Set,s=function(e){var t=e.slot,r=document.getElementById(t.getSlotElementId());r&&r.classList.contains("noAdLabel")||a.delete(t)&&r&&r.appendChild(bt())};o.then((function(){return i.pubads().addEventListener("slotRenderEnded",s)})),t.register("googletag.pubads.refresh",function(){var e=er(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:t.forEach((function(e){a.add(e),n.enable&&n("refresh",e.molAd.pos,"targeting",e.getTargetingMap())})),i.pubads().refresh(t,r);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()).sync=!0,t.register("googletag.display",function(){var e=er(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:if(n.enabled)try{r=i.pubads().getSlots().find((function(e){return e.getSlotElementId()===t})),a=r&&r.getTargetingMap()||void 0,n("display",t,"targeting",a)}catch(e){n.warn(e)}return e.abrupt("return",i.display(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).sync=!0;var c=function(e){return(Array.isArray(e)?e:[e]).map((function(e){return String(e)}))};t.on("set page level targeting",function(){var e=er(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return r=e.sent,e.next=5,o;case 5:Object.entries(r||{}).map((function(e){var t=Xt(e,2),r=t[0],n=t[1];return[r,c(n)]})).forEach((function(e){var t=Xt(e,2),r=t[0],o=t[1];n("page level targeting:",r,"=",o),i.pubads().setTargeting(r,o)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var rr=r(3436);function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ir(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function or(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function ar(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){or(o,n,i,a,s,"next",e)}function s(e){or(o,n,i,a,s,"throw",e)}a(void 0)}))}}var sr=(0,A.U2)("dfp.networkCode"),cr=function(e){return{adSlotId:e.getSlotElementId(),adUnitPath:e.getAdUnitPath(),size:e.getSizes().map((function(e){return e.getWidth&&e.getHeight?[e.getWidth(),e.getHeight()]:[1,1]}))}},ur=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r={};try{r=JSON.parse(e)}catch(e){console.warn("[mol-ads][integral]",e)}if(r.code>299||r.code<200)return console.error("[mol-ads][integral]",r.message),void t(r);t(null,r)},dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.g.googletag.pubads().getSlots().map(cr),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.g.__iasPET.timeout;return new Promise((function(n,i){r.g.__iasPET.queue.push({adSlots:e,dataHandler:function(e){return ur(e,(function(e,t){return e?i(e):n(t)}))},timeout:t})}))};function lr(e){return fr.apply(this,arguments)}function fr(){return(fr=ar(regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.broker,r.g.__iasPET=r.g.__iasPET||{},r.g.__iasPET.queue=r.g.__iasPET.queue||[],r.g.__iasPET.pubId=(0,A.U2)("plugin.integral.pubId",922472),r.g.__iasPET.timeout=(0,A.U2)("auction.maxTime",2e3),n.invoke("load script","//cdn.adsafeprotected.com/iasPET.1.js","__iasPET",(function(){return r.g.__iasPET.VERSION})),n.on("configure and start prebid",(function(e){e.includes("gpt")&&Ge(ar(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr();case 2:r.g.__iasPET.setTargetingForGPT();case 3:case"end":return e.stop()}}),e)}))))})),i=function(){return new Promise(function(){var e=ar(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,u,d,l,f,p,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr([{adSlotId:"video",adUnitPath:"/".concat(sr,"/").concat((0,rr.Z)("video")),size:[[636,358]]}]);case 2:for(r=e.sent,i={fr:r.fr.toString()},o=0,a=Object.entries(r.brandSafety||{});o<a.length;o++)s=nr(a[o],2),c=s[0],u=s[1],i[c]=u;d=0,l=Object.entries(r.slots.video||{});case 6:if(!(d<l.length)){e.next=14;break}if(f=nr(l[d],2),p=f[0],g=f[1],"id"!==p){e.next=10;break}return e.abrupt("continue",11);case 10:i[p]=g;case 11:d++,e.next=6;break;case 14:n.emit("set page level targeting",i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},n.register("get video tags",ar(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o||(o=i()),e.next=3,o;case 3:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||gr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e,t){if(e){if("string"==typeof e)return mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mr(e,t):void 0}}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vr(e){var t=e.broker,r=[[.01,.5],[.51,1],[1.01,1.5],[1.51,2],[2.01,2.5],[2.51,3],[3.01,3.5],[3.51,4],[4.01,4.5],[4.51,5],[5.01,6],[6.01,7],[7.01,8],[8.01,9],[9.01,10],[10.01,12],[12.01,14],[14.01,16],[16.01,18],[18.01,20]],n={},i={},o=function(e,t){return parseFloat(e)<parseFloat(t)},a=function(e,t){if(!t)return!1;var r=(n[e]||{}).maxbid;return!r||o(r,t)},s=function(e,t){var r=n[e],i=pr(t.getTargeting("maxbid"),1)[0];!r||i&&!o(i,r.maxbid)||function(e,t){for(var r in t)e.setTargeting(r,t[r])}(t,r)};t.on({message:"bid",sync:!0},(function(e,t){var o=t.bidder,s=t.cpm,c=s?s/100:null;a(e,c)&&(function(e,t,i){a(e,t)&&(n[e]={maxbid:t,maxbidpk:r.findIndex((function(e){var r=pr(e,2),n=r[0],i=r[1];return n<=t&&t<=i}))+1,maxbid_bidder:i})}(e,c,o),e in i&&i[e].push({cust_params:n[e]}))})),t.registerUnboundedStream("get video tags",(function(e){var r=e.pos;delete n[r];var o=t.createReadObjectStream();return i[r]=o,o})),t.on({message:"slot created",sync:!0},(function(e,r){var n=e.pos;t.on({message:["bid",n],sync:!0},(function(){s(n,r)})),s(n,r)})),t.on({message:"googletag.pubads.refresh",sync:!0},(function(e){e.forEach((function(e){s(e.molAd.pos,e)}))})),t.on("prepare to refresh ads",(function(e){var t,r=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=gr(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;delete n[i]}}catch(e){r.e(e)}finally{r.f()}}))}function yr(e){var t=e.broker,r=(e.getConfig,e.log),n={};t.register("load script",(function(e,t,i,o){return new Promise((function(a,s){r("load script:",e,t,i,o);var c=o||function(){return window[t]};if(t&&c())return r("variable already defined:",t),c();var u=t||e;if(!n[u]){r("adding script tag to load",e);var d=document.createElement("script"),l=document.head;d.async=!0,d.src=e,d.addEventListener("error",s),d.addEventListener("load",(function(){r("script loaded:",e);var t=n[u];r("calling",t.length,"listeners");var i=function(e){return e()};n[u]={push:i},t.forEach(i)})),Object.keys(i||{}).forEach((function(e){return d.setAttribute(e,i[e])})),l.appendChild(d),n[u]=[]}if(t||o)try{(0,M.gb)((function(){return c()})).then((function(e){r("tracking variable found:",t,o,e),a(e)}))}catch(n){r("error while loading",e,":",n),s(new Error("Error loading ".concat(e," (trackingVariable: ").concat(t,"): ").concat(n)))}else r("no tracking variable given for",e,"waiting on script load"),n[u].push(a)}))})),t.register("import script",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,n=r.document;return new Promise((function(r,i){var o=n.createElement("script"),a=n.head;o.async=!0,o.src=e,Object.keys(t||{}).forEach((function(e){return o.setAttribute(e,t[e])})),o.addEventListener("load",r),o.addEventListener("error",i),a.appendChild(o)}))})),t.register("import script in iframe",(function(e){var t=e.url;return new Promise((function(e,r){var n=document.createElement("iframe");n.display="none",n.onload=function(){var i=n.contentWindow.document,o=i.createElement("script");o.src=t,o.setAttribute("async","1"),o.setAttribute("type","text/javascript"),o.addEventListener("load",e),o.addEventListener("error",r),i.body.appendChild(o)},document.head.appendChild(n)}))})),t.register("import stylesheet",(function(e){var t=document.createElement("link"),r=document.head;t.href=e,t.setAttribute("rel","stylesheet"),r.appendChild(t)}))}lr.vendorIds={gdpr:[278]};var hr,br=function(e){return r.g.sessionStorage.getItem(e)},wr=function(e,t){r.g.sessionStorage.setItem(e,t),Sr()},Sr=function(){r.g.localStorage.setItem("mol.ads.session.publish",JSON.stringify(sessionStorage)),r.g.localStorage.removeItem("mol.ads.session.publish")},_r=function(e){for(var t in e)r.g.sessionStorage.setItem(t,e[t])},Or=function(e){var t=e.key,n=e.newValue;if(n)switch(t){case"mol.ads.session.request":r.g.localStorage.setItem("mol.ads.session.response",JSON.stringify(r.g.sessionStorage)),r.g.localStorage.removeItem("mol.ads.session.response");break;case"mol.ads.session.publish":_r(JSON.parse(n))}},Ir=function(){return hr||(r.g.addEventListener("storage",Or),hr=new Promise((function(e){r.g.addEventListener("storage",(function t(n){var i=n.key,o=n.newValue;if("mol.ads.session.response"===i){r.g.removeEventListener("storage",t);var a=o?JSON.parse(o):{};e(a)}})),r.g.localStorage.setItem("mol.ads.session.request","mol.ads.session.request"),r.g.localStorage.removeItem("mol.ads.session.request")})).then(_r)),hr};function Er(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Ar(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Er(o,n,i,a,s,"next",e)}function s(e){Er(o,n,i,a,s,"throw",e)}a(void 0)}))}}var kr=function(){var e=Ar(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ir(),e.next=3,Promise.race([t,(0,M.Vs)(1)]);case 3:return e.next=5,r=void 0,r=parseInt(br("mol.ads.sessionDepth")||0),isNaN(r)&&(r=0),r++,wr("mol.ads.sessionDepth",r),r;case 5:return e.t0=e.sent,e.abrupt("return",{session:e.t0});case 7:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();function xr(e){return Pr.apply(this,arguments)}function Pr(){return(Pr=Ar(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.broker.emit("set page level targeting",kr());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jr=DM.molFeAsync,Tr=DM.molFeClientLogger,Cr=function(){var e=(0,A.U2)("skimlinks",{enabled:!1});e.enabled&&(0,jr.later)("DOM_READY").then((function(){var t,r=e.filename||(null===(t=document.querySelector(".skimlinks"))?null:t.getAttribute("data-tracking-id"));if(r){var n="//s.skimresources.com/js/"+r+".skimlinks.js",i=document.createElement("script"),o=document.querySelector("script");i.async=!0,i.src=n,o.parentNode.insertBefore(i,o)}})).catch((function(e){Tr.logger.error("Error during skimlinks initialisation: ",e)}))},Rr=Cr;function Dr(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Ur(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Dr(o,n,i,a,s,"next",e)}function s(e){Dr(o,n,i,a,s,"throw",e)}a(void 0)}))}}Cr.vendorIds={gdpr:[46]};var Mr=function(){return!!br("mol.ads.taboolaSessionStarted")},Br=function(e){var t=parseInt((0,I.ej)("mol.ads.taboolaReferrals"));isNaN(t)&&(t=0);var r=Mr(),n=I.SP.ito;return("taboola-uk"===n||"taboola-us"===n||"taboola-au"===n||e)&&!r&&(wr("mol.ads.taboolaSessionStarted",!0),(0,I.zP)("mol.ads.taboolaReferrals",++t)),t},Nr=function(){var e=Ur(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Promise.race([Ir(),(0,M.Vs)(1)]),e.next=3,r;case 3:return n=Mr()?{referred_by:"taboola"}:{},(i=Br(t))&&Object.assign(n,{taboola_referrals:i}),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Lr(e,t){return qr.apply(this,arguments)}function qr(){return(qr=Ur(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.broker.emit("set page level targeting",Nr(r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zr=r(2236).Buffer;function Vr(e,t,r){return parseInt(e.substr(t,r),2)}function Fr(e){var t=Vr(e);return String.fromCharCode(t+65).toLowerCase()}function Wr(e,t,r){var n=e.substr(t,r);return Fr(n.slice(0,r/2))+Fr(n.slice(r/2))}function Gr(e){for(var t=e;t.length%4!=0;)t+="=";t=t.replace(/-/g,"+").replace(/_/g,"/");for(var r,n,i=zr.from(t,"base64"),o="",a=0;a<i.length;a+=1){var s=i[a].toString(2);o+=(r=s,n=8-s.length,function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",r="",n=0;n<e;n+=1)r+=t;return r}(Math.max(0,n))+r)}return function(e){return function(e){var t=e.input,r=e.fields,n=e.startPosition,i=void 0===n?0:n;return{decodedObject:r.reduce((function(e,r){var n=r.name,o=r.numBits,a=function(e){var t=e.input,r=e.output,n=e.startPosition,i=e.field,o=i.type,a=i.numBits,s=i.decoder,c=i.validator;if("function"==typeof c&&!c(r))return{newPosition:n};if("function"==typeof s)return s(t,r,n);var u,d,l,f="function"==typeof a?a(r):a;switch(o){case"int":return{fieldValue:Vr(t,n,f)};case"date":return{fieldValue:(u=t,d=n,l=f,new Date(100*Vr(u,d,l)))};case"bits":return{fieldValue:t.substr(n,f)};case"language":return{fieldValue:Wr(t,n,f)};default:throw new Error("ConsentString - Unknown field type ".concat(o," for decoding"))}}({input:t,output:e,startPosition:i,field:r}),s=a.fieldValue,c=a.newPosition;return void 0!==s&&(e[n]=s),void 0!==c?i=c:"number"==typeof o&&(i+=o),e}),{}),newPosition:i}}({input:e,fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16}]}).decodedObject}(o)}function Hr(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Kr(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Hr(o,n,i,a,s,"next",e)}function s(e){Hr(o,n,i,a,s,"throw",e)}a(void 0)}))}}var $r="mol.ads.visits.counter",Yr="mol.ads.visits.counterInt",Jr="mol.ads.visits.lastKnownVisitId",Xr=function(){var e=br("mol.ads.sessionStarted")||!1,t=parseInt((0,I.ej)("mol.ads.visits"));return isNaN(t)&&(t=0),e||(wr("mol.ads.sessionStarted",!0),(0,I.zP)("mol.ads.visits",t)),t},Zr=function(e,t){return new Promise(function(){var n=Kr(regeneratorRuntime.mark((function n(i){var o,a,s,c,u,d,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={},n.next=3,new Promise((function(e){r.g.__tcfapi?r.g.__tcfapi("getTCData",2,(function(t){var r=t.tcString;e(r)})):r.g.__cmp&&r.g.__cmp("getConsentData",null,(function(t){var r=t.consentData;e(r)}))}));case 3:return a=n.sent,s=Gr(a).created,o.cmpCreated=s,o.cmpDays=Math.floor((Date.now()-s.getTime())/1e3/60/60/24),t("days since cmp created:",o.cmpDays),n.next=10,(0,M.gb)((function(){return r.g.RTA}));case 10:if(r.g.RTA&&r.g.RTA.ids&&r.g.RTA.ids.then&&r.g.RTA.ids.then((function(e){var r=e.created;o.rtaCreated=r,o.rtaDays=Math.floor((Date.now()-r)/1e3/60/60/24),t("days since RTA created:",o.rtaDays)})),localStorage.getItem($r)&&localStorage.removeItem($r),c=parseInt(localStorage.getItem(Yr)),!isNaN(c)){n.next=20;break}return t("no local storage found, trying to fetch visits count from cookie"),n.next=17,Promise.race([Ir(),(0,M.Vs)(200)]);case 17:c=Xr(),t("cookie visits:",c),localStorage.setItem(Yr,""+c);case 20:return n.next=22,r.g.RTA.ids;case 22:u=n.sent,d=u.visitId,(l=localStorage.getItem(Jr))!==d&&(t("visitId changed:",{lastKnownVisitId:l,visitId:d}),localStorage.setItem(Jr,d),c++,localStorage.setItem(Yr,""+c)),t("visits:",c),e.emit("set page level targeting",{visits:c}),o.visits=c,i(o);case 30:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())};function Qr(e){return en.apply(this,arguments)}function en(){return(en=Kr(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.log,i=Zr(r,n),r.register("call for page analytics",(function(){return i}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tn=r(8526),rn=r(5875);function nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(r),!0).forEach((function(t){an(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function an(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function un(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function dn(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){un(o,n,i,a,s,"next",e)}function s(e){un(o,n,i,a,s,"throw",e)}a(void 0)}))}}var ln,fn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return rn.c.apply(void 0,["[IAB]"].concat(t))};function pn(e){return gn.apply(this,arguments)}function gn(){return(gn=dn(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d,l,f,p,g,m,v,y,h,b,w,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.broker,i=t.getConfig,!r.g.PageCriteria||"feature"!==r.g.PageCriteria.articleType){e.next=4;break}return fn("Bailing on feature article"),e.abrupt("return");case 4:return o=i("abe.reset.timeout",5e3),a=n.until("dom ready"),s=i("abe.iab.loopDelay",50),c=i("abe.iab.maxLoop",5),u=i("abe.iab.useAnimationFrame",!0),d=i("abe.iab.checkZeroProps",!1),l=i("abe.iab.checkNullProps",!1),f=i("abe.iab.ownEvent",!0),p=i("abe.iab.size","10px !important"),g=i("abe.iab.style","width: ".concat(p,"; height: ").concat(p,"; position: absolute !important; left: -10000px !important; top: -1000px !important;")),m=i("abe.iab.class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links adHolder"),v=i("abe.iab.slotClasses",{}),y=new Set,e.prev=17,e.next=20,(0,M.yq)(3e3,new Promise((function(e){return n.once("slots initialized",(function(t){return e(new Set(t))}))})));case 20:y=e.sent,e.next=26;break;case 23:e.prev=23,e.t0=e.catch(17),fn("Timeout awaiting for slots initialised, not going to use slots as bait");case 26:return(h=Object.entries(v).filter((function(e){var t=sn(e,1)[0];return y.has(t)}))).length&&(fn("Adding bait for enabled positions:",Object.fromEntries(h)),m+=" "+h.map((function(e){return sn(e,2)[1]})).join(" ")),fn({loopDelay:s,maxLoop:c,useAnimationFrame:u}),b=new Promise(function(){var e=dn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:(0,tn.j)({callback:function(e,r){return t({adblocker:e,abdReason:r})},log:fn,loopDelay:s,maxLoop:c,useAnimationFrame:u,checkZeroProps:d,checkNullProps:l,baitStyle:g,baitClass:m});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.register("call for page analytics",(function(){return b})),e.next=33,b;case 33:if(!(w=e.sent).adblocker||!ln){e.next=47;break}return fn("AdBlocker detected, awaiting",o,"ms for reset"),e.prev=36,e.next=39,(0,M.yq)(o,ln);case 39:w.adblocker=!1,w.reset=!0,fn("Positive AdBlocker detection reset"),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(36),e.t1 instanceof M.W5?fn("Reset never arrived, broadcasting result"):fn.error("Unknown error waiting for reset message:",e.t1);case 47:n.emit("ad block detection result",w),f&&(S=on({method:"iab"},w),n.emit("send event to bidmax",{type:"abd",payload:S}));case 49:case"end":return e.stop()}}),e,null,[[17,23],[36,44]])})))).apply(this,arguments)}pn.pluginSetup=function(e){if((0,e.getConfig)("abe.reset.enabled",!0)){fn("Reset handling enabled");var t=!1;ln=new Promise((function(e){r.g.addEventListener("message",(function n(i){!t&&i.data&&"function"==typeof i.data.indexOf&&0===i.data.indexOf("_dm_abe\n")&&(fn("Reset message received"),e(),t=!0,"function"==typeof r.g.removeEventListener&&r.g.removeEventListener("message",n,!1))}),!1)}))}};var mn=r(9023);function vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(r),!0).forEach((function(t){hn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bn(e){return function(e){if(Array.isArray(e))return wn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sn(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function _n(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Sn(o,n,i,a,s,"next",e)}function s(e){Sn(o,n,i,a,s,"throw",e)}a(void 0)}))}}var On=function(){return void 0!==r.g.I12C&&1===r.g.I12C.Morph},In=function(e){var t=(0,at.getOffset)(e),r=e.getBoundingClientRect();return!(t.left+r.width+100<0||t.top+r.height+100<0)&&En(e)},En=function(e){for(;e;){if("none"===window.getComputedStyle(e).display)return!1;e=e.parentElement}return!0};function An(e){return kn.apply(this,arguments)}function kn(){return(kn=_n(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d,l,f,p,g,m,v,y,h,b,w,S,_,O,I,E,A,k,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.broker,i=t.getConfig,r.g.adverts.adb=!0,!r.g.PageCriteria||"feature"!==r.g.PageCriteria.articleType){e.next=5;break}return(0,rn.c)("Bailing on feature article"),e.abrupt("return");case 5:return o=i("abe.detection.slotTranslations",{ldr_top:"leader_top"}),a=function(e){return"molads_".concat(o[e]||e,"_off")},s=i("abe.detection.timeout",1e4),c=i("abe.detection.waitForEvent",!1),u=i("abe.detection.sleep",100),d=i("abe.detection.eventToWaitFor","dfp slot requested"),l=i("abe.detection.checkSlotsBeforeDomReady",!1),f=i("abe.detection.skip.slotRequest",!1),p=i("abe.detection.skip.adRendered",!0),g=i("abe.detection.skip.slotResponse",!0),m=i("abe.detection.minHiddenSlots",5),v=new Set(i("abe.detection.slotsMustBeVisible",["billboard"])),y=i("abe.detection.ownEvent",!0),h=!1,f&&n.once("dfp slot requested",(function(){(0,rn.c)("GPT slotRequested event fired, ignoring ad blocker detection"),h=!0})),p&&n.once("ad rendered",(function(){(0,rn.c)("GPT slotRenderEnded event fired"),h=!0})),g&&n.once("slot response received",(function(){(0,rn.c)("GPT slotResponseReceived event fired"),h=!0})),w=new Set,S=r.g.matchMedia&&r.g.matchMedia("(min-width: 965px)")||{matches:!1},_=!!S.matches,O=new Set("fff_overlay".split(" ")),n.on("slot defined",(function(e,t){if(e.pos&&"string"==typeof e.pos)if(O.has(e.pos))(0,rn.c)("Ignoring position",e.pos);else{var r=e.pos.startsWith("sky");In(t)||(r&&!_?(0,rn.c)("Ignoring sky position",e.pos,"because the screen is too small"):b?(0,rn.c)("Ignoring position",e.pos,"because detection already happened"):((0,rn.c)("Slot was already hidden when defined:",e.pos,JSON.stringify(t.className),t.getBoundingClientRect(),"display="+window.getComputedStyle(t).display),w.add(e.pos),setTimeout((function(){In(t)&&(0,rn.c)("Slot",e.pos,"became visible after 3 seconds")}),3e3)))}})),_||(0,rn.c)("Page width is small, so not consiering some positions for detection"),E=c&&n.until(d),A=function(e){var t=new Set(document.documentElement.classList),r=function(e){return t.has(a(e))},n=e.filter(r);return(0,rn.c)(n.length,"slots enabled in CM but disabled intentinally:",n),e.filter((function(e){return!r(e)})).filter((function(e){return w.has(e)}))},k=new Promise(function(){var e=_n(regeneratorRuntime.mark((function e(t){var i,o,a,d,f,p,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i={il:On(),adblocker:On()}).adblocker){e.next=3;break}return e.abrupt("return",t(i));case 3:return o=[n.until("dom ready")],a={},n.on("slot defined",(function(e,t){a[e.pos]=t})),l&&((0,rn.c)("Checking adblocker before dom is ready"),o.push(new Promise(function(){var e=_n(regeneratorRuntime.mark((function e(t){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,o=r.g.PageCriteria.isMobile?3:10,n.on("enabled ads updated",(function(e){var t=e.enabledAds;o=Math.round(t.length/2)})),a=n.on("slot defined",(function(){++i===o&&((0,rn.c)(o,"ad slots were defined, resuming detection"),a.cancel(),t())}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))),d=new Promise((function(e){return n.once("slots initialized",(function(t){return e(t)}))})),e.next=10,Promise.race(o);case 10:if(!(u>0)){e.next=13;break}return e.next=13,(0,M.Vs)(u);case 13:return e.next=15,d;case 15:if(I=e.sent,h?((0,rn.c)("Skipping ad detection because a DFP event already happened"),n.register("call for page analytics",(function(){return{skipAbd:!0}}))):!r.g.disableAds&&I.length>0&&((0,rn.c)(I.length,"slots enabled, checking if they are all visible"),(0,rn.c)("Slots must be visible:",bn(v)),p=A(I),(0,rn.c)("Slots hidden:",p),f=p.length>=m||!!p.find((function(e){return v.has(e)})),p.length>0&&n.register("call for page analytics",(function(){return{hiddenSlots:{count:p.length,slots:p}}})),(0,rn.c)(f?"".concat(p.length," are hidden: ").concat(p):"all slots are visible")),g=!c,f||!c){e.next=27;break}return e.prev=19,e.next=22,(0,M.yq)(s,E);case 22:g=!0,e.next=27;break;case 25:e.prev=25,e.t0=e.catch(19);case 27:b=!0,i=yn(yn({},i),{},{adblocker:i.adblocker||void 0!==f&&f||!g,slots:!f,adsDisabled:!!r.g.disableAds,ima:!!r.g.ima,skipAbd:h}),t(i);case 30:case"end":return e.stop()}}),e,null,[[19,25]])})));return function(t){return e.apply(this,arguments)}}()),e.next=33,n.until("plugins enabled");case 33:return e.next=35,k;case 35:x=e.sent.adblocker,k.then((function(e){if(n.emit("old ad block detection result",e),y){var t=yn({method:"mol"},e);n.emit("send event to bidmax",{type:"abd",payload:t})}})),(0,rn.c)(x?"Ad blocker detected":"No ad blocker detected");case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){jn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rn(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Dn(e){var t=e.broker,n=!1;t.once("gpt loaded",(function(){return n=!0}));var i=!1;function o(e){var o=t.until(e);t.once("ad block detection result",function(){var a,s=(a=regeneratorRuntime.mark((function a(s){var c,u,d,l,f,p,g,m,v;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=s.adblocker,u=s.reset,c||u){a.next=3;break}return a.abrupt("return");case 3:return d={eventName:e,gptLoaded:n,adsDisabled:!!r.g.disableAds,imaLoaded:!!r.g.ima,permutiveReady:i,reset:u},l=Date.now(),a.next=7,o;case 7:f=a.sent,p=Tn(f,2),g=p[0],m=p[1],d=Pn(Pn({},d),{},{elapsed:Date.now()-l,pos:g}),(v=m.slot&&"function"==typeof m.slot.getResponseInformation&&m.slot.getResponseInformation())&&(d=Pn(Pn({},d),{},{creativeId:v.creativeId||v.sourceAgnosticCreativeId,lineItemId:v.lineItemId||v.sourceAgnosticLineItemId,advertiserId:v.advertiser,campaignId:v.campaignId,companyId:v.companyIds})),t.emit("send event to bidmax",{type:"abd-error",payload:d});case 15:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(r,n){var i=a.apply(e,t);function o(e){Rn(i,r,n,o,s,"next",e)}function s(e){Rn(i,r,n,o,s,"throw",e)}o(void 0)}))});return function(e){return s.apply(this,arguments)}}())}t.once("system ready",(function(){return r.g.permutive&&r.g.permutive.ready((function(){return i=!0}))})),o("ad rendered"),o("ad viewable")}function Un(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Mn(e){var t=e.broker;t.on("abe rendered",(function(){return t.emit("send to rta","abe","rendered")})),t.on("ex ad blocker user",(function(e,r){r&&t.emit("send to rta","exabd",e?"was":"yes")})),t.on("ad block detection result",function(){var e,r=(e=regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.emit("send to rta","abd",r.adblocker?"yes":"no");case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Un(o,n,i,a,s,"next",e)}function s(e){Un(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}())}function Bn(){var e="x-loc=",t=document.cookie.indexOf(e);if(-1!==t){var r=document.cookie.indexOf(";",t);if(-1!==r){var n=document.cookie.substring(t+e.length,r);return n.length>0&&"none"!==n.toLowerCase()?n:void 0}}}An.pluginSetup=function(e){(0,e.addPlugins)(["abe.iab.abd","abe.serverBypass"])};var Nn=r(1171);function Ln(e){var t=e.broker,n=e.getConfig,i={office:Bn()};if(t.register("call for page analytics",(function(){return i})),n("abe.detection.fireListeners",!1)){var o=n("abe.render.sendToBidMax",!0);(0,rn.c)("Server bypass enabled"),t.until("dom ready").then((function(){r.g.adBlockQueue=[],r.g.adBlockQueue.push=function(){}})),t.once("ad block detection result",(function(e){if(e.adblocker){var i=JSON.parse(localStorage.getItem("mol.abe.data")||"{}");void 0===i.v&&(i.i=(new Date).toISOString(),i.v=2,i.u=Nn(),i.n=!0),i.v++,i.l=(new Date).toISOString(),localStorage.setItem("mol.abe.data",JSON.stringify(i)),(0,rn.c)("Server bypass showing banner"),(n("abe.allowAbeOutsideOffice",!1)||Bn())&&r.g.DM.later("bundle",(function(){r.g.DM.molFeAdblockerDialog.init();var e=0;!function r(){for(var n=window.top.document.body.children,i=n.length-1;i>=0;i--){var a=n[i];if("DIV"===a.tagName)for(var s=a.getElementsByTagName("DIV"),c=0;c<s.length;c++){var u=s[c];if(u.textContent&&u.textContent.indexOf&&-1!==u.textContent.indexOf("using an ad blocker"))return void(window.getComputedStyle&&"none"===window.getComputedStyle(u).display||o&&t.emit("send event to bidmax",{type:"abe"}))}}e++<10&&setTimeout((function(){return r()}),1e3)}()}))}}))}}function qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(r),!0).forEach((function(t){Vn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}z("analytics.bidsHunting",{run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=new Set(r("analytics.bidsHunting.positions",[])),o=new Set(r("analytics.bidsHunting.bidders",[]));t.on("bid",(function(e,r){!r.cpm||i.size>0&&!i.has(e)||o.size>0&&!o.has(r.bidder)||(n(" adding bid to stack",e,r),t.emit("send event to bidmax",{type:"custom",payload:zn(zn({},r),{},{event:"bid-hunt",pos:e})}))}))}}),z("analytics.partners",{run:function(e){var t=e.broker,r=e.log;t.once("permutive ready",(function(){return a({event:"permutive-load"})})),t.once("new minute media player",(function(){return a({event:"mm-load"})})),t.once("admantx loaded",(function(){return a({event:"admantx-load"})})),document.addEventListener("spot-im-api-ready",(function(){return a({event:"openweb-load"})})),document.addEventListener("spot-im-conversation-loaded",(function(){return a({event:"openweb-conv-loaded"})})),document.addEventListener("spot-im-conversation-viewed",(function(){return a({event:"openweb-conv-viewed"})})),document.addEventListener("spot-im-current-user-sent-message",(function(){return o("powms")})),Fn.forEach((function(e){return document.addEventListener(e,(function(){return o("powui")}))})),t.once("taboola render",(function(){return a({event:"taboola-first-render"})})),t.on("taboola render",(function(){return o("pti")})),t.on("taboola visible",(function(){return o("ptv")})),t.on("taboola nocontent",(function(){return o("ptnc")})),t.on("taboola failed to load",(function(){return o("ptftl")})),t.on("taboola click",(function(){return o("ptc")}));var n=0;t.on("new perform player",(function(e,r){0===n&&a({event:"dazn-load"});var i="peformPlayer-".concat(n++);t.emit("track viewability",i,r),t.once("ad viewable",i,(function(){return o("pdv")}))}));var i={};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!Wn[e])throw new Error("Metric '".concat(e,"' not registered in 'knownMetric'. Please do so."));r("inc counter:",e);var n=i[e]||0;i[e]=n+t}function a(e){r("sending event:",e),t.emit("send event to bidmax",{type:"custom",payload:e})}t.register("call for page-unload",(function(){return i}))}});var Fn=["spot-im-clicked-delete-message","spot-im-clicked-edit-message","spot-im-clicked-flag","spot-im-clicked-message-context-menu","spot-im-clicked-mute-user","spot-im-share-drop-down","spot-im-share-type","spot-im-hover-like-details","spot-im-show-more-comments-clicked","spot-im-show-more-replies-clicked","spot-im-user-down-vote-click","spot-im-user-up-vote-click","spot-im-login-start","spot-im-post-login","spot-im-notification-drop-down-link","spot-im-user-notifications-click","spot-im-clicked-cog-menu","spot-im-clicked-privacy","spot-im-clicked-settings","spot-im-profile-drop-down","spot-im-sort-by-drop-down","spot-im-sort-by-select","spot-im-clicked-article-link-profile","spot-im-open-user-profile"],Wn={pti:"taboola impression",ptv:"taboola view",ptnc:"taboola no content",ptftl:"taboola failed to load",ptc:"taboola click",powui:"openWeb user interaction",powms:"openWeb message sent",pdv:"dazn view"};function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(r),!0).forEach((function(t){Kn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $n(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(r),!0).forEach((function(t){Xn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}z("analytics.pageUnload",{run:function(e){var t=e.broker,n=e.log,i=(e.setConfig,{capture:!0,passive:!0}),o=r.g.performance&&r.g.performance.timing&&r.g.performance.timing.navigationStart||r.g.adverts.startTime;n("Starting at:",r.g.adverts.startTime-o);var a=!1,s=function(){var e,r=(e=regeneratorRuntime.mark((function e(){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return a=!0,n("force sync dispatcher"),t.bus.setDispatcher((function(e){return e()})),t.bus.globalTimeoutOverride=0,n("about to call for page-unload"),e.next=9,t.invokeAll("call for page-unload");case 9:r=e.sent,i=r.reduce((function(e,t){return Hn(Hn({},e),t)}),{t:Date.now()-o,autorefresh:!!(0,I.ej)("autorefresh")}),n("got:",i),t.emit("send event to bidmax",{type:"page-unload",payload:i});case 13:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){$n(o,n,i,a,s,"next",e)}function s(e){$n(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();window.addEventListener("pagehide",s,i),window.addEventListener("beforeunload",s,i),window.addEventListener("unload",s,i)}}),z("analytics.cwv",{run:function(e){var t=e.broker,n=e.log;function i(){var e=r.g.DM.molFeWebVitals.getStandard();return o({cls:1e3*(e.CLS||0),fcp:e.FCP,fid:e.FID,lcp:e.LCP,ttfb:e.TTFB})}function o(e){return Object.fromEntries(Object.entries(e).filter((function(e){return null!=Zn(e,2)[1]})).map((function(e){var t=Zn(e,2),r=t[0],n=t[1];return[r,Math.round(n)]})))}r.g.DM&&r.g.DM.molFeWebVitals?(t.register("call for page analytics",(function(){return{cwv:i()}})),r.g.DM.molFeWebVitals.getUpdated&&t.register("call for page-unload",(function(){return{cwv:(e=r.g.DM.molFeWebVitals.getUpdated(),o({cls:1e3*(e.CLS||0),fcp:e.FCP,fid:e.FID,lcp:e.LCP,ttfb:e.TTFB}))};var e})),r.g.DM.later("mol-fe-web-vitals-standard",(function(){var e=function(){var e=i(),t=e.cls,r=e.fcp,n=e.fid,o=e.lcp,a=e.ttfb;return Jn(Jn(Jn(Jn(Jn({},(0,Ct._b)("clsP1k",t)),(0,Ct._b)("fcpP10s",r)),(0,Ct._b)("fidP1s",n)),(0,Ct._b)("lcpP10s",o)),(0,Ct._b)("ttfbP10s",a))}();n("mol-fe-web-vitals-standard fired, cwv:",e),t.emit("send event to bidmax",{type:"custom",payload:Jn({event:"cwv"},e)})}))):n.warn("cwv metrics cannot be used because window.DM.molFeWebVitals is unavailable")}}),z("analytics.takeover",{run:function(e){var t=e.broker,n=e.log,i=!1;r.g.addEventListener("message",(function e(o){!i&&o.data&&"function"==typeof o.data.indexOf&&0===o.data.indexOf("_dm_ads_takeover")&&(n("Marking page as containing takeover"),t.register("call for page analytics",(function(){return{takeover:!0}})),i=!0,"function"==typeof r.g.removeEventListener&&r.g.removeEventListener("message",e,!1))}),!1)}});var ei=r(4812);function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ri(e){e.broker.register("call for page analytics",(function(){return{abtest:r.g.molABTest}}))}z("analytics.scrollDepth",{run:function(e){var t=e.broker,r=0;function n(){r=Math.max(r,Math.round(window.pageYOffset+window.innerHeight))}document.addEventListener("scroll",(0,ei.FU)(n,300),{passive:!0,capture:!1}),t.register("call for page-unload",(function(){return n(),{sd:r}}))}}),z("analytics.timeSpent",{run:function(e){var t=e.broker,n=e.log,i=e.getConfig,o={capture:!0,passive:!0},a=i("bidmax.inactiveTime",1e4),s=r.g.performance&&r.g.performance.timing&&r.g.performance.timing.navigationStart||r.g.adverts.startTime;n("Starting at:",r.g.adverts.startTime-s);var c=0,u=0,d=0,l=s,f=s,p=function(){var e=Date.now(),t=e-f-a;t>0&&(n("Adding inactive time:",t),u+=t,f=e)},g=function(){var e=Date.now(),t=e-l;d+=t,n("Adding hidden time:",t),l=e};t.on("ad rendered",(function(){return c++}));for(var m=[[document,["mousemove","keypress","scroll","mousewheel","touchmove"]],[window,["focus","scroll"]]],v=(0,ei.FU)((function(e){var t=Date.now();e&&p(),f=t}),1e3),y=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ti(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b[h],2),t=e[0];e[1].forEach((function(e){return t.addEventListener(e,v,o)}))},h=0,b=m;h<b.length;h++)y();t.register("call for page-unload",(function(){return p(),S()&&g(),{imp:c,i:u,h:d}}));var w=function(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":""},S=function(){try{return r.g.top.document.hidden||r.g.top.document.msHidden||r.g.top.document.webkitHidden||!1}catch(e){return!!w()}},_=S();document.addEventListener(w(),(function(e){S()!==_&&((_=S())?l=Date.now():g())}),!1)}});var ni,ii,oi,ai,si="4.1.50";function ci(e){var t=ui(new URL(e).search.substring(1));return t?{specific:ui(t.prev_scp),cust_params:ui(t.cust_params)}:{}}function ui(e){return e&&Object.fromEntries(e.split("&").map((function(e){return e.split("=").map(decodeURIComponent)})))||void 0}function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function li(e){return function(e){if(Array.isArray(e))return bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||hi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function pi(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){fi(o,n,i,a,s,"next",e)}function s(e){fi(o,n,i,a,s,"throw",e)}a(void 0)}))}}function gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(r),!0).forEach((function(t){vi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||hi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e,t){if(e){if("string"==typeof e)return bi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bi(e,t):void 0}}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wi=["advertiserId","campaignId","creativeId","isEmpty","lineItemId","serviceName"],Si=["creativeId","lineItemId","advertiserId","contentType","mediaUrl","videoHeight","videoWidth","isEmpty","timeAtRender","adDurationSecs","adSystem","advertiserId","adTitle","targeting","play","autoplay","winner","winningCPM","skippable","isEmpty","timeSinceStartOfPlayer","platform","offset"],_i=function(){return Date.now()-r.g.adverts.startTime},Oi=function(e){if(e.slot&&e.slot.molAd&&void 0!==e.slot.molAd.state)return e.slot.molAd.state};function Ii(e){if(Array.isArray(e.size)&&2===e.size.length){var t=yi(e.size,2),r=t[0],n=t[1];return"".concat(r,"x").concat(n)}}var Ei=function(){var e=pi(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni.invokeAll({message:["call for page analytics"],timeout:oi("bidmax.pageTimeout",3e3)});case 2:return t=e.sent,r=t.reduce((function(e,t){return mi(mi({},e),t)}),{}),e.abrupt("return",mi(mi({},ii),r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ai(e){var t=e.broker,n=e.getConfig,i=e.log;ai=i,ni=t,oi=n,ii={timestamp:r.g.adverts.startTime,referrer:document.referrer,url:window.location.href},r.g.performance&&r.g.performance.timing&&r.g.performance.timing.navigationStart&&(ii.adsStart=r.g.adverts.startTime-r.g.performance.timing.navigationStart),ni.register("get page level analytics",(function(){return Ei()})),ni.on("set global key value",(function(e,t){(ii.targeting||(ii.targeting={}))[e]=t})),function(){var e=oi("bidmax.debounceTime",1e3),t=[];function r(){return(r=pi(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=mi,e.t1={},e.next=4,Ei();case 4:if(e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),t.length){e.next=8;break}return e.abrupt("return");case 8:ai.enabled&&(n=t.find((function(e){return"page-unload"===e.type}))?JSON.stringify(t):t,ai("dispatching",t.length,"events:",n)),r=1===t.length?mi(mi({},r),t[0]):mi(mi({},r),{},{type:"events",payload:t}),ni.emit("send to bidmax",r),t=[];case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=(0,ei.Ds)((function(){return r.apply(this,arguments)}),e);ni.on("send event to bidmax",pi(regeneratorRuntime.mark((function e(){var r,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=i.length>0&&void 0!==i[0]?i[0]:{},t.push(mi(mi({},r),{},{timeAtSend:_i()})),r.type&&"page-unload"!==r.type?n():n.callNow();case 3:case"end":return e.stop()}}),e)}))))}(),ni.on("send to bidmax",(function(e){try{var t=mi(mi({},e),{},{event_type:"bidmax",type_version:2,timeAtSend:_i(),version:I.SP.bidmax||si});ni.emit("dispatch to bidmax",{headers:{"Content-type":"text/plain"},body:t})}catch(e){console.warn(e)}})),ni.on("plugins enabled",pi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni.emit("send event to bidmax",{type:"page"}));case 1:case"end":return e.stop()}}),e)})))),function(){var e,t={},n={},i=0,o=function(){var r=pi(regeneratorRuntime.mark((function r(i){var o,a,s,c,u,d,l,f=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=i.auction,a=i.pos,s=i.adImpressionData,c=i.offset,u=!(f.length>1&&void 0!==f[1])||f[1]){r.next=9;break}return delete t[a][c],delete n[a][c],delete o.pendingImpressions,delete o.lastPosTime,e=void 0,r.abrupt("return");case 9:if((d=o.slots[a]).impression=s,void 0!==c?(o.pendingImpressions.delete(a+c),d.bids=n[a][c]?li(n[a][c]):[],delete t[a][c],delete n[a][c]):(o.pendingImpressions.delete(a),d.bids=n[a],delete t[a],delete n[a]),!(o.pendingImpressions.size>0)){r.next=14;break}return r.abrupt("return");case 14:if(delete o.pendingImpressions,delete o.lastPosTime,e=void 0,!u){r.next=29;break}return r.t0=mi,r.t1=mi,r.t2={},r.next=23,Ei();case 23:r.t3=r.sent,r.t4=(0,r.t1)(r.t2,r.t3),r.t5={},r.t6={auction:o},l=(0,r.t0)(r.t4,r.t5,r.t6),ni.emit("send to bidmax",l);case 29:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),a=function(e){return{auctionTime:e,startTime:_i(),auctionId:i++,slots:{},pendingImpressions:new Set}},s=function(e,r,n){r.lastPosTime=_i(),r.pendingImpressions.add(e+(void 0!==n?n:"")),r.slots[e]={},void 0!==n?(r.offset=n,t[e]||(t[e]={}),t[e][n]=r):t[e]=r},c=function(t,r){return(!e||e.lastPosTime<_i()-2e3)&&(e=a(t)),s(r,e),e.slots[r].auctionStart=_i(),e};ni.on("get tags",(function(e){var r=e.slot.pos,n=e.timeout;t[r]?ai("Auction is pending for ".concat(r)):c(n,r)})),ni.on("bidding ended",(function(e){ai("bidding ended",e);var r=t[e];r.slots?r.slots[e].biddingEnded=_i():Object.keys(r).forEach((function(t){r[t].slots[e].biddingEnded=_i()}))})),ni.on("get video tags",(function(e){e.platform;var r=e.offset,i=void 0===r?0:r,o=e.slot.pos,c=e.timeout;t[o]&&t[o][i]&&(t[o][i].pendingImpressions.delete(o+i),delete t[o][i],delete n[o][i]),s(o,a(c),i),n[o]||(n[o]={}),n[o][i]=[]})),ni.on("bid",(function(e,r){var i,o=r.platform,c=r.offset,u=r.bidder,d=r.cpm,l=r.cached;if(ai("on bid",e),o="jwplayer"===e&&"dmplayer"===o?"chromeless":o,void 0!==c?(n[e]||(n[e]={}),i=n[e][c]=n[e][c]||[]):i=n[e]=n[e]||[],i){if(!i.find((function(e){return e.bidder===u&&e.cpm===d&&e.offset===c&&e.platform===o}))){void 0===c||t[e][c]||s(e,a(5e3),c);var f={bidder:u,cpm:Math.round(d),time:_i(),platform:o,offset:c,cached:l};i.push(f)}}else ai.warn("Got a bid after auction finished:",{pos:e,bidder:u,cpm:d,platform:o,offset:c,cached:l})})),ni.on("ad requested",(function(e){var r=t[e];r&&(r.slots[e].adRequestTime=_i())})),ni.on("ad loaded",(function(e){var r=t[e];r&&(r.slots[e].adLoadedTime=_i())})),ni.on("headerbidder winner",(function(e,r){var n=t[e];n&&(n.slots[e].winner=r)}));var u=r.g.DM&&r.g.DM.molFeTracking&&r.g.DM.molFeTracking.pageEvents,d={tia:function(e){return!!e.amznbid},appnexus:function(e){return"appnexus"===e.hb_bidder},rubicon:function(e){return"rubicon"===e.hb_bidder},spotx:function(e){return!!e.spotx_bid}},l=function(e,r){var i=r.playerId||(r.targeting&&r.targeting.pos?r.targeting.pos[0]:"video"),c=r.platform||r.adImpression.platform;c="jwplayer"===i&&"dmplayer"===c?"chromeless":c;var u,l,f,p,g,m="preroll"===r.offset?0:"midroll"===r.offset?20:r.offset,v=ci(r.tag),y=Object.fromEntries(Object.entries(v.cust_params).filter((function(e){var t=yi(e,2),r=t[0],n=t[1];return!r.startsWith("gdpr")&&!r.startsWith("hb_")&&n.length<=20}))),h=r.adImpression,b={};h&&!(0,be.xb)(h)&&(n[i]=n[i]||{},n[i][m]=n[i][m]||[],ni.emit("video ad viewable",{pos:i,bids:n[i][m],videoId:r.videoId}),"object"!==di(l)||(0,be.xb)(l)||n[i][m].forEach((function(e){e.bidder&&h&&"function"==typeof d[e.bidder]&&(e.inAdRequest=d[e.bidder](l),e.inAdRequest&&(b[e.bidder]=e.cpm))})),h&&h.adWrapperSystems&&h.adWrapperSystems.length&&(g=Object.fromEntries(h.adWrapperSystems.map((function(e,t){return[e,h.adWrapperIds[t]]}))).GDFP),f=function(e){var t="undetermined";return!e.adWrapperIds||!e.adWrapperIds[0]||e&&e.adWrapperSystems&&"DCM"===e.adWrapperSystems[0]?t="Other":e.traffickingParameters&&e.traffickingParameters.vu?t="tia":e.traffickingParameters&&e.traffickingParameters.channel_id&&(t="spotx"),t}(h),p=b[f]||0,u={adDurationSecs:h&&h.adPodInfo&&h.adPodInfo.maxDuration,adSystem:h&&h.adWrapperSystems&&h.adWrapperSystems[0],adTitle:h.title,advertiserId:h.adSystem,autoplay:r.autoplay,contentType:h.contentType,creativeId:h&&h.adWrapperCreativeIds&&h.adWrapperCreativeIds[0],isEmpty:!1,lineItemId:g,mediaUrl:h.mediaUrl,play:r.play,skippable:h.skippable,targeting:mi(mi({},y),h.targeting||{pos:[i]}),timeSinceStartOfPlayer:r.timeSinceStartOfPlayer,videoHeight:h.vastMediaHeight,videoWidth:h.vastMediaWidth,winner:f,winningCPM:p},c&&(u.platform=c),void 0!==m&&(u.offset=m)),void 0===m||t[i]&&t[i][m]||s(i,a(5e3),m);var w,S=mi({},t[i][m]);delete t[i][m],S?(S.platform=c,S.offset=m,u&&!(0,be.xb)(u)?((w=(0,be.ei)(u,Si)).timeAtRender=_i(),o({auction:S,pos:i,adImpressionData:w,offset:m})):o({auction:S,pos:i,offset:m},!1)):ai("Current auction not found for ".concat(i).concat(m))};u&&ni.on("dom ready",(function(){u.subscribe("video.ad-impression",l),u.subscribe("video.no-ad-shown",l)})),ni.on("ad rendered",(function(e,r){if(!e.endsWith("-oop")){var n=function(e){return mi(mi(mi({},(0,be.ei)(e,wi)),e.isEmpty?{}:{creativeId:e.creativeId||e.sourceAgnosticCreativeId,lineItemId:e.lineItemId||e.sourceAgnosticLineItemId,advertiserId:e.advertiser,campaignId:e.campaignId,companyId:e.companyIds}),{},{targeting:e.slot?mi({},e.slot.getTargetingMap()):{},timeAtRender:_i(),slotState:Oi(e),size:Ii(e)})}(r),i=t[e]||c(0,e);ai("ad rendered, processImpression",e,i),o({auction:i,pos:e,adImpressionData:n})}}))}()}function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(r),!0).forEach((function(t){ji(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ji(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ti(e){var t=e.broker,r=e.getConfig,n=e.log,i=navigator.sendBeacon&&r("bidmax.dispatcher.useBeacon",!0),o=r("bidmax.dispatcher.useCurrentUrl",!1)?window.location.href:r("bidmax.dispatcher.url","//crta.dailymail.co.uk"),a=(0,I.oK)()[0];a<13&&a>0&&(n("force disabling beacon for iOS < 13"),i=!1),t.on("dispatch to bidmax",(function(e){var t=e.body,r=e.headers;if(t){if(i)try{t=Pi(Pi({},t),{},{reqType:"beacon"});var n=new Blob([JSON.stringify(t)],Pi(Pi({},r),{},{type:"text/plain"}));if(navigator.sendBeacon(o,n))return}catch(e){console.error(e)}try{t=Pi(Pi({},t),{},{reqType:"xhr"});var a=new XMLHttpRequest;a.open("POST",o,!0),Object.entries(r).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ki(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ki(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],n=t[1];return a.setRequestHeader(r,n)})),a.send(JSON.stringify(t))}catch(e){console.error(e)}}else console.warn("Ignoring BidMax message with no body")}))}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ri(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(r),!0).forEach((function(t){Ui(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ri(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ui(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mi(e){var t=e.broker,r=e.getConfig,n=r("bidmax.migrationChance",0);if(!(Math.random()>=n)){var i=navigator.sendBeacon&&r("bidmax.dispatcher.useBeacon",!0),o=r("bidmax.dispatcher.useCurrentUrl",!1)?window.location.href:r("bidmax.dispatcher.url","//crta.dailymail.co.uk");o.endsWith("/")||(o+="/"),o+="migration",t.on("dispatch to bidmax",(function(e){var t=e.body,r=e.headers;if(t){if(i)try{t=Di(Di({},t),{},{reqType:"beacon"});var n=new Blob([JSON.stringify(t)],Di(Di({},r),{},{type:"text/plain"}));if(navigator.sendBeacon(o,n))return}catch(e){console.error(e)}try{t=Di(Di({},t),{},{reqType:"xhr"});var a=new XMLHttpRequest;a.open("POST",o,!0),Object.entries(r).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ci(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ci(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],n=t[1];return a.setRequestHeader(r,n)})),a.send(JSON.stringify(t))}catch(e){console.error(e)}}else console.warn("Ignoring BidMax message with no body")}))}}function Bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(r),!0).forEach((function(t){Li(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Li(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vi=function(e){var t=qi(e,2);return t[0],t[1]>Date.now()-2628e6},Fi=function(e,t){var r=qi(t,2),n=r[0],i=r[1];return Ni(Ni({},e),{},Li({},n,i))};function Wi(e){var t=e.broker,r="mol.ads.knownBundles",n=JSON.parse(localStorage.getItem(r)||"{}"),i=Object.entries(n).filter(Vi).reduce(Fi,{}),o=!!i["4.1.50"];i["4.1.50"]=Date.now(),localStorage.setItem(r,JSON.stringify(i)),t.register("call for page analytics",(function(){return{abcache:o}}))}function Gi(e){var t=e.broker,n=e.getConfig,i=e.log,o="ccpa"===n("cmp.model"),a=n("ccpa.scriptBase"),s={cmpVersion:a&&a.split("/").pop()||void 0};r.g[n("cmp.apiHandler")]("getUSPData",null,(function(e,t){t&&(i("encoded data:",e),function(e){var t=e.uspString;s.uspString=t}(e))})),t.register("call for page analytics",(function(){return s.consent=localStorage.getItem("mol.ads.cmp.consent"),s.cmp=o?"ccpa":void 0,i("sending",s),s}))}function Hi(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Ki(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Hi(o,n,i,a,s,"next",e)}function s(e){Hi(o,n,i,a,s,"throw",e)}a(void 0)}))}}var $i="__bidmax\n",Yi=(0,E.x)("custom-tracking");function Ji(e){return Xi.apply(this,arguments)}function Xi(){return(Xi=Ki(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=n("bidmax.customTracking.max",1024),Yi("MAX:",i),window.addEventListener("message",function(){var e=Ki(regeneratorRuntime.mark((function e(t){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof(n=t.data)&&n.startsWith($i)){e.next=3;break}return e.abrupt("return");case 3:o=n.substring($i.length),Yi("message received size:",o.length),o.length>i&&Yi("message too long, max",i);try{a=JSON.parse(o),Yi("message:",a),r.emit("send event to bidmax",{type:"custom",payload:a})}catch(e){Yi("Error parsing:",o),console.error(e)}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Qi(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Zi(o,n,i,a,s,"next",e)}function s(e){Zi(o,n,i,a,s,"throw",e)}a(void 0)}))}}var eo="mol.ads.entryPoint.sessionId",to="mol.ads.entryPoint.data",ro=function(){return{id:(0,Ct.kb)(),lastVisit:Date.now()}},no=(0,E.x)("entry-point"),io=function(){var e=Qi(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.g.RTA&&r.g.RTA.ids&&r.g.RTA.ids.then)){e.next=9;break}return e.next=3,r.g.RTA.ids;case 3:if(t=e.sent,"string"!=typeof(n=t.visit)){e.next=9;break}return i=n.split("."),no("Using RTA visit id"),e.abrupt("return",i[0]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oo=function(){var e=Qi(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return no("Using own session"),(r=JSON.parse(localStorage.getItem(eo)||"{}")).id?r.lastVisit<Date.now()-60*t*1e3&&(no("Session found in storage but it is too old:",new Date(r.lastVisit).toISOString(),"and max session is",t,"mins"),r=ro()):(no("No session found in storage, creating a new one"),r=ro()),r.lastVisit=Date.now(),localStorage.setItem(eo,JSON.stringify(r)),e.abrupt("return",r.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ao(e){return so.apply(this,arguments)}function so(){return(so=Qi(regeneratorRuntime.mark((function e(t){var n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.broker,i=t.getConfig,o=i("bidmax.entryPoint.sessionDurationInMins",28),a=function(){var e=Qi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=oo(o);case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Qi(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem(to)||"{}"),e.next=3,a();case 3:return n=e.sent,no("Id",n),t.sessionId!==n&&(no("Entry Point new or too old. Creating another."),i=r.g.PageCriteria,t={sessionId:n,ep:{pt:i.pageType,c:i.channel,s:i.subchannel,r:document.referrer}},localStorage.setItem(to,JSON.stringify(t))),no("Entry Point:",t.ep),e.abrupt("return",{ep:t.ep});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),n.register("call for page analytics",(function(){return s}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function uo(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){co(o,n,i,a,s,"next",e)}function s(e){co(o,n,i,a,s,"throw",e)}a(void 0)}))}}var lo=function(){var e=uo(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,M.gb)((function(){return r.g.pagemeta})),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{bundle:n.bundleVersion,sync:n.syncBundleVersion,async:n.asyncBundleVersion,video:n.videoBundleVersion});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fo=function(e){var t=e.broker;return new Promise((function(e){t.once("gpt initialized",(function(t){e({gpt:t.getVersion()})}))}))},po=function(e){var t=e.broker;return new Promise((function(e){t.once("prebid loaded",(function(t){e({prebid:t.version})}))}))},go=function(){var e=uo(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,M.gb)((function(){return r.g.google&&r.g.google.ima&&r.g.google.ima.VERSION})),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{ima:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mo=function(){var e=uo(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){if(!r.g.permutive||!r.g.permutive.config||!r.g.permutive.config.apiVersion)return!1;var e=r.g.permutive.config;return{permutiveApi:e.apiVersion,permutiveSdkType:e.sdkType}},e.abrupt("return",(0,M.gb)(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vo=function(e){var t=e.broker,r=e.getConfig,n=e.log,i={},o={pageMeta:lo,gpt:fo,prebid:po,ima:go,permutive:mo},a=r("analytics.external.bundleVersions",[]);n("finding versions for",a),a.forEach((function(t){var r=o[t]&&o[t](e);r?r.then((function(e){n("assigning ".concat(t," version"),e),Object.assign(i,e)}),(function(){return n("error waiting for",t)})):n.error("unable to find handler for ".concat(t," version"))})),t.register("call for page analytics",(function(){return{externals:{versions:i}}}))};function yo(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function ho(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){yo(o,n,i,a,s,"next",e)}function s(e){yo(o,n,i,a,s,"throw",e)}a(void 0)}))}}function bo(e){return wo.apply(this,arguments)}function wo(){return(wo=ho(regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.broker,i={},e.next=4,n.until("prebid loaded");case 4:o=r.g.pbjs.renderAd,r.g.pbjs.renderAd=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var s=t[1],c=i[s],u=c.pos,d=c.bidder;n.emit("headerbidder winner",u,d),o.apply(r.g.pbjs,t)},r.g.pbjs.onEvent("bidResponse",(function(e){i[e.adserverTargeting.hb_adid]={pos:e.adUnitCode,bidder:e.bidderCode}}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e){var t=e.broker,r=e.getConfig,n={},i=r("bidmax.inputDelay.monitorMax",!1),o=function(e){return function t(r){var o=(r.timeStamp>=1e12?(new Date).getTime():performance.now())-r.timeStamp|0;if(o){i||e.removeEventListener(r.type,t,a);var s="f"+r.type[0],c="m"+r.type[0];n[s]?i&&n[c]<o&&(n[c]=o):(n[s]=o,i&&(n[c]=o))}}},a={capture:!0,passive:!0};window.addEventListener("scroll",o(window),a),document.addEventListener("mousemove",o(document),a),document.addEventListener("click",o(document),a),t.register("call for page analytics",(function(){return{latency:n}}))}var _o=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"];function Oo(e){var t=e.broker;r.g.performance&&r.g.performance.memory&&t.register("call for page analytics",(function(){return Promise.resolve({memory:_o.reduce((function(e,t){return e[t]=r.g.performance.memory[t],e}),{})})}))}var Io=["pageViewId","articleId","channel","device","geo","isMobile","isTablet","pageType","sponsored","subchannel","cljVersion","cljNode"];function Eo(e){e.broker.register("call for page analytics",(function(){return(0,be.ei)(r.g.PageCriteria,Io)}))}function Ao(e){var t=e.broker;t.on("page load",(function(){return t.emit("send event to bidmax",{type:"page-load"})}))}function ko(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function xo(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ko(o,n,i,a,s,"next",e)}function s(e){ko(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Po(e){e.broker.register("call for page analytics",xo(regeneratorRuntime.mark((function e(){var t,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.g.RTA&&r.g.RTA.ids&&r.g.RTA.ids.then){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,e.next=5,(0,M.yq)(3e3,r.g.RTA.ids,new Error);case 5:return t=e.sent,n=t.user,i=t.visit,o={rta:{user:n}},"string"==typeof i&&5===(a=i.split(".")).length&&(o.rta.visit=a[0]),e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(2),console.error("RTA.ids not available"),e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))))}function jo(e){e.broker.register("call for page analytics",(function(){return Promise.resolve({localStorage:{total:Object.keys(localStorage).map((function(e){return localStorage.getItem(e)})).reduce((function(e,t){return e+t.length}),0),top10:Object.keys(localStorage).map((function(e){return[e,localStorage.getItem(e).length]})).sort((function(e,t){return t[1]-e[1]})).slice(0,10)}})}))}function To(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Co(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){To(o,n,i,a,s,"next",e)}function s(e){To(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(r),!0).forEach((function(t){Uo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Uo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||Bo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){if(e){if("string"==typeof e)return No(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?No(e,t):void 0}}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lo=(0,E.x)("timing"),qo=["navigationStart","responseEnd","domInteractive","domContentLoadedEventStart","domComplete","fetchStart"],zo={"first-paint":"paint","first-contentful-paint":"firstContentfulPaint"},Vo=function(){if(performance.getEntriesByType){var e=performance.getEntriesByType("paint").filter((function(e){return zo[e.name]})).map((function(e){return[zo[e.name],Math.round(e.startTime)]}));return Object.fromEntries(e)}},Fo=function(){if(!r.g.performance||!r.g.performance.timing||!r.g.performance.timing.navigationStart)return{};var e=[].concat(function(e){return function(e){if(Array.isArray(e))return No(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Bo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(qo.map((function(e){return[e,r.g.performance.timing[e]]})).filter((function(e){return 0!==e[1]}))),[["adsBundleStart",adverts.startTime]]).sort((function(e,t){return e[1]-t[1]})),t=e[0],n=e.map((function(e){return[e[0],e[1]-t[1]]})).reduce((function(e,t){var r=Mo(t,2),n=r[0],i=r[1];return Do(Do({},e),{},Uo({},n,i))}),{});return n[t[0]]=t[1],n};function Wo(e){var t=e.broker,r=t.until("page network data").then((function(e){return Mo(e,1)[0].network}));t.on("page load",Co(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lo("page load happened, sending timing data to bidmax"),e.next=3,(0,M.yq)(1e3,r).catch((function(){return{}}));case 3:n=e.sent,i=Do(Do(Do({},Fo()),Vo()),n),Lo("sending:",i),t.emit("send event to bidmax",{type:"page-load",payload:i});case 7:case"end":return e.stop()}}),e)}))))}function Go(e){var t=e.broker,r=e.log;r("Starting"),DM.pageEvents.subscribe("video.advert-failed",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.videoId,o=n.adErrorCode,a=n.autoplay,s=n.errorMessage,c=n.offset,u=n.trackingType,d={videoId:i,adErrorCode:o,autoplay:a,errorMessage:s,offset:c,trackingType:u};r("Error detected:",i,d),t.emit("send event to bidmax",{type:"video-ad-error",payload:d}),r("error:",d)}))}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(r),!0).forEach((function(t){Yo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Zo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"__ads_viewability";Jo(this,e),this.startTimestamp=t,this.key=n;var i=JSON.parse(r.g.localStorage.getItem(n)||"{}"),o=Object.keys(i.pending||{}).reduce((function(e,t){return $o($o({},e),{},Yo({},t,{misses:((i.ready[t]||{}).misses||0)+1}))}),{});this.state={ready:Object.keys(i.ready||{}).reduce((function(e,t){return $o($o({},e),{},Yo({},t,$o($o({},i.ready[t]),e[t])))}),o),pending:{}}}var t,n;return t=e,(n=[{key:"save",value:function(){r.g.localStorage.setItem(this.key,JSON.stringify(this.state))}},{key:"adRendered",value:function(e){if(this.state.pending[e]){var t=this.state.ready[e]||(this.state.ready[e]={});t.misses=(t.misses||0)+1}this.state.pending[e]=1,this.save()}},{key:"adViewed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();delete this.state.pending[e];var r=this.state.ready[e]||(this.state.ready[e]={});(r.views||(r.views=[])).push(t-this.startTimestamp),this.save()}},{key:"snapshot",value:function(){var e=this.state.ready;return this.state.ready={},this.save(),e}}])&&Xo(t.prototype,n),e}();function Qo(e){var t=e.broker,n=e.getConfig;if(r.g.localStorage){var i,o,a=n("viewability.waitBeforeForcing",3e3),s=new Zo(Date.now()),c=function(){i&&(clearTimeout(i),i=void 0)},u=function(){c(),i=setTimeout(d,a)},d=function(){t.emit("send event to bidmax",{type:"ping"}),i=void 0},l=new Set;t.on("ad rendered",(function(e){return s.adRendered(e)})),t.on("ad viewable",(function(e){s.adViewed(e,Date.now()),"billboard"!==e&&!e.startsWith("sky_")||l.has(e)||(l.add(e),u())})),t.once("ad viewable",(function(e){o=!0,u()})),t.intercept("send to bidmax",(function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ho(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ho(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=r[0],i=r[1];c();var a=s.snapshot();if((0,be.xb)(a))return t();t(n,$o($o({},i),{},{viewability:a,first:o})),o=void 0}))}}function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ta(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ta(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ra(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}var na=(0,E.x)("connection-type"),ia=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=navigator.connection.type,na("fetching edgedata from akamai"),e.next=5,qt("https://www.dailymail.co.uk/geo/edgedata.html",{pragma:"no-cache","cache-control":"no-cache"},"get").then((function(e){return e.text()})).then((function(e){return e}));case 5:i=e.sent,o={},i.match(/>(.*?)</g).forEach((function(e){var t=ea(e.replace(/>|<|\s+/g,"").split(":"),2),r=t[0],n=t[1];o[r]=n})),a={connection:n,akamaiConnectionType:o.network_type,akamaiThroughput:o.throughput,akamaiNetwork:o.network},na(a),r.emit("page network data",{network:a});case 11:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ra(o,n,i,a,s,"next",e)}function s(e){ra(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function oa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(r),!0).forEach((function(t){sa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ua(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ua(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function da(e){return e.split(/\s*,\s*/g).map((function(e){return e.split(/x/gi,2).map(Number)}))}function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?la(Object(r),!0).forEach((function(t){ya(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||ga(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(e,t){if(e){if("string"==typeof e)return ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ma(e,t):void 0}}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function va(e){return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}z("bidders.adform.display",{run:function(e){var t=e.broker,r=e.getConfig,n=e.log;n("enabled");var i=Object.entries(r("plugins.bidders.adform.display",{})).map((function(e){var t=ca(e,2),r=t[0];return aa(aa({},function(e){var t=ca(e.split(/\s+/g,2),2),r=t[0],n=t[1];return{mid:Number(r),sizes:da(n)}}(t[1])),{},{code:r})})).map((function(e){return{code:e.code,mediaTypes:{banner:{sizes:e.sizes}},bids:[{bidder:"adform",params:{mid:e.mid}}]}}));t.register("provide prebid adUnits",(function(){return n.info("adUnits",i),i}))},vendorIds:{gdpr:[50]}});var ha=(I.SP.debugBidder||"").split(",").map((function(e){return e.trim()}))||[];function ba(e){return e.match(/(\d+x\d+,?\s*)+$/g)[0].trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}function wa(e,t,r,n){var i=t.bidder;ha.find((function(e){return"*"===e||e===i}))&&(console.log("--------------\x3e ".concat(i," configs <--------------")),function(e){return function(e){if(Array.isArray(e))return ma(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ga(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.configKeys||t.configKey).forEach((function(t){console.log("-> ".concat(t,":"),e(t))})),console.log("--------------\x3e ".concat(i," adUnits <--------------")),Object.entries(r).forEach((function(e){var t=pa(e,2),r=t[0],n=t[1];console.log("-> ".concat(r,":"),n)})),console.log("--------------\x3e ".concat(i," prebid config <--------------")),console.log("->",n))}var Sa=function(e,t){var r=(0,I.ap)().width,n=e(t,{adUnits:{}}),i=n.adUnits,o=void 0===i?{}:i,a=n.wideSkiesAdUnits,s=o;return r>=1580&&a&&(s=fa(fa({},o),a)),s};function _a(e,t,r){var n=[],i=function(t,i){return n.push({code:t,bids:[{bidder:e,params:r(i,t)}],mediaTypes:{banner:{sizes:ba(i)}}})};return Object.keys(t).forEach((function(e){var r=t[e];Array.isArray(r)?r.forEach((function(t){return i(e,t)})):i(e,r)})),n}function Oa(e,t,r){var n=[],i=function(t,i){return n.push({code:t,bids:[{bidder:e,params:r(i.split(" ").filter((function(e){return e})),t)}],mediaTypes:{banner:{sizes:ba(i)}}})};return Object.keys(t).forEach((function(e){var r=t[e];Array.isArray(r)?r.forEach((function(t){return i(e,t.trim())})):i(e,r)})),n}function Ia(e){if(function(e){var t=function(t){throw new Error("providePrebidDisplayConfig error for '".concat(e.bidder,"': ").concat(t))};("object"!==va(e)||Array.isArray(e))&&t("`config` must be an object."),["broker","getConfig","configKeys","bidder"].forEach((function(r){e[r]||t("'config' must contain mandatory key '".concat(r,"'."))}));var r={adapterName:function(r){"string"!=typeof r&&t("`adapterName` must be a string."),e.aliasedName||t("with `adapterName`, `aliasedName` is mandatory.")},aliasedName:function(r){"string"!=typeof r&&t("`aliasedName` must be a string."),e.adapterName||t("with `aliasedName`, `adapterName` is mandatory.")},broker:function(e){e instanceof j.Jj||t("`broker` must be an instance of the class `Broker`.")},getConfig:function(e){"function"!=typeof e&&t("`getConfig` error: must be a function.")},configKeys:function(e){("string"!=typeof e&&!Array.isArray(e)||Array.isArray(e)&&e.find((function(e){return"string"!=typeof e})))&&t("`configKeys` must be a string or an array of strings.")},configKey:function(e){"string"!=typeof e&&t("`configKey` must be a string.")},bidder:function(e){"string"!=typeof e&&t("`bidder` must be a string.")},chance:function(e){isNaN(e)&&t("`chance` must be a number.")},getBidsParams:function(e){"function"!=typeof e&&t("`getBidParams` must be a function.")},bidderSettings:function(e){var r="`bidderSettings` must be an Object or an array of Objects { key : <String>, val: <Function> }.";"object"===va(e)||Array.isArray(e)||t(r);var n=function(e){var n=["key","val"];Object.entries(e).forEach((function(e){var i=pa(e,2),o=i[0],a=i[1];n.find((function(e){return e===o}))||t(r),"key"===o&&"string"!=typeof a&&t(r),"val"===o&&"function"!=typeof a&&t(r)}))};"object"!==va(e)||Array.isArray(e)||n(e),Array.isArray(e)&&e.forEach((function(e){return n(e)}))}};Object.entries(e).forEach((function(e){var t=pa(e,2),n=t[0],i=t[1];r[n]&&r[n](i)}))}(e),!(e.chance&&e.chance<=Math.random())){var t=e.broker,r=e.getConfig,n=e.configKeys,i=e.bidder,o=e.paramsPerSize,a=e.getBidsParams,s=o?Ea:Oa,c=null,u={};if(Array.isArray(n)){if(c=[],!(c=n.map((function(e){return u[e]=Sa(r,e),c.concat(s(i,u[e],a))}))).length)return!1}else{if(u[n]=Sa(r,n),(0,be.xb)(u[n]))return!1;c=s(i,u[n],a)}return wa(r,e,u,c),t.register("provide prebid adUnits",(function(){return c})),function(e){var t=e.adapterName,r=e.aliasedName,n=e.broker;t&&r&&n.register("provide bidder alias",(function(){return{adapterName:t,aliasedName:r}}))}(e),function(e){var t=e.broker,r=e.bidderSettings,n=e.bidder,i=e.adapterName,o=e.aliasedName;if(r){var a=i&&o||n;t.register("prebid reduce bidderSettings",(function(e){return e[a]=e[a]||{},e[a].adserverTargeting=e[a].adserverTargeting||[],Array.isArray(r)?e[a].adserverTargeting.concat(r):e[a].adserverTargeting.push(r),e}))}}(e),function(e){var t=e.bidder,r=e.asyncUpdate,n=e.broker;r&&n.emit("prebid config async update",ya({},t,r))}(e),!0}}function Ea(e,t,r){var n=[],i=function(t,i){var o=ba(i);n.push({code:t,bids:o.map((function(n){return{bidder:e,params:r(i.split(" ").filter((function(e){return e})),n,t)}})),mediaTypes:{banner:{sizes:o}}})};return Object.keys(t).forEach((function(e){var r=t[e];Array.isArray(r)?r.forEach((function(t){return i(e,t)})):i(e,r)})),n}function Aa(e,t,r,n,i,o){var a=function(e,t,r){var n=null;return e[t]&&"object"===va(e[t])&&e[t][r?"autoplay":"ctp"]?n=String(e[t][r?"autoplay":"ctp"]):void 0!==e[t]&&(n=String(e[t])),n&&(n=n.trim().replace(/\s+/," ").split(" ")),n}(r,n,i);if(!a)return{};var s=e("plugins.slots.".concat(n,".v2")),c=s.code,u=s.mediaTypes;return{code:c,bids:[{bidder:t,params:o(a)}],mediaTypes:u}}function ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(r),!0).forEach((function(t){Pa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ka(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(r),!0).forEach((function(t){Ca(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ca(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}z("bidders.rubiMM2",{run:function(e){var t=e.getConfig,n=e.broker,i=e.log,o=(0,I.ap)().width>1580,a=t("plugins.bidders.rubiMM2.display",{adUnits:{},wideSkiesAdUnits:[]}),s=a.accountId,c=a.siteId,u=a.adUnits,d=a.wideSkiesAdUnits;if(i("adUnits",u),!(0,be.xb)(u)){o&&d&&(u=xa(xa({},u),d));var l=_a("rubi_mm2",u,(function(e){var t={area:[r.g.adAreaId]};return r.g.gs_channels&&(t.grapeshot=r.g.gs_channels),{zoneId:e.split(" ")[0],inventory:t,siteId:c.toString(),accountId:s.toString()}}));i("transformed",l),n.register("provide prebid adUnits",(function(){return l})),n.register("provide bidder alias",(function(){return{adapterName:"rubicon",aliasedName:"rubi_mm2"}})),n.emit("prebid config async update",{rubi_mm2:{singleRequest:!0}})}},vendorIds:{gdpr:[52]}});var Ra=(0,I.ap)().width>1580;function Da(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.adyoulike.display",{adUnits:[]}),n=r.adUnits,i=r.wideSkiesAdUnits;if(Ra&&i&&(n=Ta(Ta({},n),i)),!(0,be.xb)(n)){var o=Object.keys(n).map((function(e){return{code:e,bids:[{bidder:"adyoulike",params:{placement:n[e].split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:n[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}));t.register("provide prebid adUnits",(function(){return o}))}}function Ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ma(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ba(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Na(e){var t=e.getConfig,r=t("plugins.enabled",[]).includes("trackers.pubcommon")&&t("amazon.pubcommon.enabled",!1);return r?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(r),!0).forEach((function(t){Ma(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({pubcommonEnabled:r},function(e){var t=e.broker,r=e.getConfig,n=function(e){var t=e.broker,r=e.getConfig;window.pubcid_options={type:"cookie",create:!1};var n=r("amazon.pubcommon.pubcidScript","//www.dailymail.co.uk/static/mol-adverts/demo/mol-21682/dist/pubcid.min.js");return t.invoke("import script",n)}(e),i=new Promise(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.until("pubcommonId cookie set");case 2:n=e.sent,r(n&&n[0]);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ba(o,n,i,a,s,"next",e)}function s(e){Ba(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}());return{pubcommonReady:(0,M.Ye)(r("amazon.pubcommon.loadTimeout",3e3),[n,i]),pCookie:i}}(e)):{pubcommonEnabled:r}}Da.vendorIds={gdpr:[259]};var La="mol.ads.cmp.consent",qa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r,n){Ha()(e,t,(function(i,o){o?r(i):n(new Error("Failed to call __cmp(".concat(e,", ").concat(t,")")))}))}))},za=(0,ei.ri)((function(){return qa("hasConsentedToAll")})),Va=(0,ei.ri)((function(){return qa("hasChoiceBeenMade")})),Fa=function(){return Ya()&&(0,A.U2)("plugins.enabled").includes("cmp")&&(0,A.U2)("cmp.enable.userAgents",[".*"]).some((function(e){return navigator.userAgent.match(new RegExp(e))}))},Wa=function(){return"US"===PageCriteria.geo},Ga=function(){return"CA"===r.g.PageCriteria.region},Ha=function(){return r.g.__uspapi},Ka=function(){return"yes"===localStorage.getItem("mol.ads.cmp.consent")},$a=function(){return null!==localStorage.getItem("mol.ads.cmp.consent")},Ya=function(){return(0,A.U2)(Wa()?"ccpa.scriptBase":"cmp.scriptBase")},Ja=r(7721);function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Za(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Za(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(r),!0).forEach((function(t){ts(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ts(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ns(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function is(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ns(o,n,i,a,s,"next",e)}function s(e){ns(o,n,i,a,s,"throw",e)}a(void 0)}))}}var os={},as={},ss={sticky_banner_gallery_top:"sticky_banner_gallery_top",sticky_banner_gallery_bottom:"sticky_banner_gallery_bottom",jw_video_desktop:"jwplayer",jw_video_tablet:"jwplayer",jw_video_mobile:"jwplayer",ctp_video_desktop:"video",ctp_video_tablet:"video",ctp_video_mobile:"video",ap_video_desktop:"video",ap_video_tablet:"video",ap_video_mobile:"video"},cs=function(e){var t=(0,I.ap)(),r=t.width,n=t.height,i=e.sizeMapping?(0,Ja.T3)(e.sizeMapping,e.sizes,[r,n]):e.sizes;return{slotID:e.slotID,sizes:i}};function us(e){var t,n=e.broker,i=e.getConfig,o=e.log,a=i("amazon.deal",!0);return Wa()&&(o("In CCPA"),t=qa("getUSPData")),n.invoke("load script","//c.amazon-adsystem.com/aax2/apstag.js","apstag").then(is(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={pubID:"3065",adServer:"googletag",videoAdServer:"DFP",deals:a},e.prev=1,!t){e.next=8;break}return e.next=5,(0,M.yq)(i("amazon.millisWaitForUspData",1500),t);case 5:e.t0=e.sent.uspString,n.params={us_privacy:e.t0},o(n);case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),o.warn("Error while calling getUSPData, us_privacy will be omitted",e.t1);case 13:r.g.apstag.init(n);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))))}function ds(e,t){var r=e.broker,n=e.log;t.map(function(){var e=is(regeneratorRuntime.mark((function e(t){var i,o,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i=t.cpm,o=t.bid,a=rs(t,["cpm","bid"]),i>=0?(s=ss[o.slotID]||o.slotID,c=!!o.amzndeals,u=es({bidder:"tia",cpm:Math.floor(100*i),amazonDeal:c},a),n("bid received",s,u),r.emit("bid",s,u)):n.warn("Invalid lookup value ".concat(i," for code ").concat(o.amznbid))}catch(e){n.error(e)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function ls(e,t){return fs.apply(this,arguments)}function fs(){return(fs=is(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pubcommon,i=n.pubcommonReady,o=n.pCookie,a=t.log,e.next=3,i;case 3:return e.next=5,o;case 5:return s=e.sent,a("adding pubcid:",s),e.abrupt("return",s?r.map((function(e){return es(es({},e),{},{slotParams:es(es({},e.slotParams||{}),{},{pubcid:s})})})):r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e){var t=e.amznbid&&!("1"===e.amznbid||"2"===e.amznbid),r=e.targeting&&e.targeting.amznbid&&!("1"===e.targeting.amznbid||"2"===e.targeting.amznbid);return t||r}function gs(e,t){return ms.apply(this,arguments)}function ms(){return(ms=is(regeneratorRuntime.mark((function e(t,n){var i,o,a,s,c,u,d,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.log,o=t.getConfig,a=t.broker,s=t.pApstagInitialised,c=t.pubcommon,u=o("amazon.priceLookup","/abe/a9/price"),d=o("auction.maxTime",2e3),i("requesting bids for:",n.map((function(e){return e.slotID})).join(", ")),l={},(f=n.filter((function(e){return e}))).forEach((function(e){var t=e.slotID;(os[t]||(os[t]=[])).push(new Promise(function(){var e=is(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l[t]=r;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),!c.pubcommonEnabled){e.next=13;break}return e.next=10,ls(t,f);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=f;case 14:f=e.t0,s.then((function(){r.g.apstag.fetchBids({slots:f,timeout:d},function(){var e=is(regeneratorRuntime.mark((function e(t){var r,n,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("bids response for:",t.map((function(e){return e.slotID})),t),r=t.reduce((function(e,t){var r=e.noBids,n=e.realBids;return ps(t)?n.push(t):r.push(t),{realBids:n,noBids:r}}),{noBids:[],realBids:[]}),n=r.noBids,(o=r.realBids)&&o[0]&&o[0].targeting&&(o=o.map((function(e){var t=e.targeting;return es(es({},rs(e,["targeting"])),t)}))),o&&o[0]&&i("bids targeting unwrapped:",o),e.next=6,Promise.all(o.map((function(e){return e.amznbid?Lt({url:"".concat(u,"/").concat(e.amznbid)}):0})));case 6:return s=e.sent.map(Number.parseFloat),e.next=9,ds({broker:a,log:i},o.map((function(e,t){return es(es({},f.find((function(t){return t.slotID===e.slotID}))),{},{cpm:s[t],bid:e})})));case 9:o.forEach((function(e,t){var r={cpm:s[t],bid:e};return i("bid for ".concat(e.slotID,":"),r),(0,l[e.slotID])(r)})),n.forEach((function(e){return i("no bid for ".concat(e.slotID)),(0,l[e.slotID])({})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(e,t){return ys.apply(this,arguments)}function ys(){return(ys=is(regeneratorRuntime.mark((function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.pos,i=r.id,o=t.log,a=os[i]&&os[i].shift()){e.next=10;break}if(o("No available bid for '".concat(i,"', requesting new one")),gs(t,[cs(as[i]||as[n])]),os[i]){e.next=9;break}return o("no bid promise for id",i),e.abrupt("return",Promise.resolve({}));case 9:a=os[i].shift();case 10:return o("Taking bid for '".concat(i,"':"),a),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(){return(hs=is(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(){return(c=is(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=be.Ev,e.next=4,(0,M.yq)(1e3,r.invoke("get IrisTV tags",t),"Failed to get IrisTV tags in 500ms");case 4:return e.t1=e.sent,e.t2={iris_id:"irisid",categories:"iriscat"},(n=(0,e.t0)(e.t1,e.t2)).iriscat=n.iriscat.join(","),e.abrupt("return",n);case 11:return e.prev=11,e.t3=e.catch(0),i.error(e.t3),e.abrupt("return",{});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)},s=function(e){return c.apply(this,arguments)},r=t.broker,n=t.getConfig,i=t.log,o=new Set(["mpu_puff_others","puff_ad_others","mpu_mobile_others","mpu_mobile_factbox"]),a=us(t),t.pApstagInitialised=a,[{pos:"jwplayer",configItem:"amazonPreroll.jwplayer"},{pos:"video.ap",configItem:"amazonPreroll.auto-play"},{pos:"video.ctp",configItem:"amazonPreroll"}].forEach((function(e){var t=e.pos,r=e.configItem,i=n(r).slotId;i&&(as[t]={slotID:i,mediaType:"video"})})),r.on("enabled slots updated",function(){var e=is(regeneratorRuntime.mark((function e(r){var n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.enabledAds,(a=n.filter((function(e){return!o.has(e)})).map((function(e){return[e,as[e]]})).filter((function(e){return Xa(e,2)[1]})).filter((function(e){var t=Xa(e,2)[1];return!os[t.slotID]}))).length){e.next=4;break}return e.abrupt("return");case 4:i("early bidding for",a.map((function(e){var t=Xa(e,2),r=t[0],n=t[1];return"pos: ".concat(r,", id: ").concat(n.slotID)}))),a.forEach((function(e){var t=Xa(e,2),r=t[0],n=t[1];ss[n.slotID]=r})),s=a.map((function(e){var t=Xa(e,2),r=(t[0],t[1]);return cs(r)})),gs(t,s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.on("slot descriptions updated",(function(e){Object.values(e).forEach((function(e){var t=e.pos,r=e.dfpPos,n=e.id,i=e.size,a=e.sizeMapping;as[t]=es(es({},as[t]),{},{slotID:n,sizes:i,sizeMapping:a}),o.has(r)&&(as[t].slotName=r)}))})),r.register("get tags",function(){var e=is(regeneratorRuntime.mark((function e(r){var n,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.slot,o=n.dfpPos||n.pos,a=n.id,ss[a]=o,e.prev=4,e.next=7,vs(t,{id:a,pos:o});case 7:return s=e.sent,c=bs(s),i("display params for ".concat(o),c),e.abrupt("return",(0,be.xb)(c)?{}:c);case 13:e.prev=13,e.t0=e.catch(4),i.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()),r.on("prepare to refresh ads",(function(e){var r=e.map((function(e){return as[e]}));i("preparing to refresh:",r),gs(t,r)})),r.register("get video tags",function(){var e=is(regeneratorRuntime.mark((function e(r){var n,o,a,c,u,d,l,f,p,g,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.slot.pos,o=r.autoplay,a=r.platform,c=void 0===a?"dmplayer":a,u=r.offset,d=void 0===u?0:u,l=r.videoId,r.auctionId,f="jwplayer"===n?n:o?"video.ap":"video.ctp",e.t0=es,e.t1=es({},as[f]),e.t2={},e.t3=c,e.t4=d,e.next=9,s(l);case 9:return e.t5=e.sent,e.t6={platform:e.t3,offset:e.t4,slotParams:e.t5},p=(0,e.t0)(e.t1,e.t2,e.t6),i("get video tags",p),gs(t,[p]),e.next=16,vs(t,{pos:f,id:p.slotID});case 16:return g=e.sent,m=bs(g),i("video params",m),e.abrupt("return",(0,be.xb)(m)?{}:{cust_params:m});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(e){if(!e||!e.bid)return{};var t=e.bid.helpers.qsParams();return t?t.replace(/^&/,"").split("&").reduce((function(e,t){var r=Xa(t.split("="),2),n=r[0],i=r[1];return e[n]=i,e}),{}):{}}function ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(r),!0).forEach((function(t){_s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ws(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Os(e){!function(e){hs.apply(this,arguments)}(Ss(Ss({},e),{},{pubcommon:Na(e)}))}function Is(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(r),!0).forEach((function(t){As(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Is(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function As(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ks(e){return function(e){if(Array.isArray(e))return xs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Os.vendorIds={gdpr:[793]};var Ps=(0,I.ap)().width>1580,js=function(){try{return[].concat(ks(JSON.parse(window.localStorage._psegs||"[]").filter((function(e){return Number(e)>=1e6})).map(String)),ks(JSON.parse(window.localStorage._ppam||"[]")),ks(JSON.parse(window.localStorage._pcrprs||"[]")))}catch(e){return[]}};function Ts(e){var t=e.broker,n=e.getConfig,i=e.log,o=n("plugins.bidders.appnexus.display",{adUnits:[]}),a=o.adUnits,s=o.wideSkiesAdUnits,c=js();if(i("permutive segments:",c),!(0,be.xb)(a)){var u=[];Ps&&s&&(a=Es(Es({},a),s)),Object.keys(a).map((function(e){var t=a[e];(t="string"==typeof t?[t]:t).forEach((function(t){u.push(function(e,t){var n={area:[r.g.adAreaId]};return r.g.gs_channels&&(n.grapeshot=r.g.gs_channels),n.p_standard=c,{code:e,bids:[{bidder:"appnexus",params:{keywords:n,placementId:t.split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:t.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}(e,t))}))})),t.register("provide prebid adUnits",(function(){return u}))}}function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach((function(t){Ds(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ds(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ts.vendorIds={gdpr:[32]};var Us=I.SP["mol.ads.appNexus.debug"],Ms=I.SP.testmode;function Bs(e){var t=e.broker,n=e.getConfig,i=Rs({area:[r.g.adAreaId],grapeshot:r.g.gs_channels||[]},Ms?{testmode:Ms.split(",")}:void 0),o=n("plugins.bidders.appnexus.outstream",{adUnits:[]}).adUnits;(0,be.xb)(o)||t.register("provide prebid adUnits",(function(){return function(e,t,r,n){var i=[],o=function(r,o){return i.push({code:r,bids:[{bidder:t,params:n(o.split(" ").filter((function(e){return e})),r)}],mediaTypes:{video:fa(fa({},e("plugins.slots.outstream.default.mediaTypes.video",{})),{},{playerSize:ba(o)[0]})}})};return Object.keys(r).forEach((function(e){var t=r[e];Array.isArray(t)?t.forEach((function(t){return o(e,t.trim())})):o(e,t)})),i}(n,"appnexus",o,(function(e,t){return{placementId:e[0],keywords:Rs(Rs({},Us?{pos:t}:void 0),i),video:{skippable:!1,playback_method:["auto_play_sound_off"]}}}))}))}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ls(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.verizon.display",{}),n=r.adUnits&&Object.entries(r.adUnits).map((function(e){var t,r,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ns(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ns(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t=n[0],r=n[1],{code:t,bids:[{bidder:"brightroll",params:{publisher:"dailymail"}}],mediaTypes:{banner:{sizes:r}}}}));n&&n.length>0&&t.register("provide prebid adUnits",(function(){return n}))}function qs(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.collective564.display",{adUnits:{}}).adUnits,n=[];(0,be.xb)(r)||(Object.keys(r).map((function(e){n.push(function(e,t){return{code:e,bids:[{bidder:"collective564",params:{placementId:t.split(" ")[0].trim(),usePaymentRule:!0}}],mediaTypes:{banner:{sizes:t.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}(e,r[e]))})),t.register("provide prebid adUnits",(function(){return n})),t.register("provide bidder alias",(function(){return{adapterName:"appnexus",aliasedName:"collective564"}})),t.register("prebid reduce bidderSettings",(function(e){return e.collective564=e.collective564||{},e.collective564.adserverTargeting=e.collective564.adserverTargeting||[],e.collective564.adserverTargeting.push({key:"hb_skin",val:function(e){return!0}}),e})))}Bs.vendorIds={gdpr:[32]},Ls.vendorIds={gdpr:[25]},qs.vendorIds={gdpr:[179]};var zs=(0,A.U2)("plugins.bidders.collectiveImprove.display",{adUnits:{}}).adUnits;function Vs(e){var t=e.broker;if(!(0,be.xb)(zs)){var r=_a("collectiveImprove",zs,(function(e){return{placementId:e.split(" ")[0]}}));t.register("provide prebid adUnits",(function(){return r})),t.register("provide bidder alias",(function(){return{adapterName:"improvedigital",aliasedName:"collectiveImprove"}})),t.register("prebid reduce bidderSettings",(function(e){return e.collectiveImprove=e.collectiveImprove||{},e.collectiveImprove.adserverTargeting=e.collectiveImprove.adserverTargeting||[],e.collectiveImprove.adserverTargeting.push({key:"hb_skin",val:function(e){return!0}}),e}))}}function Fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(r),!0).forEach((function(t){Gs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hs(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.criteo.display",{adUnits:[]}),n=r.adUnits,i=r.wideSkiesAdUnits,o=(0,I.ap)().width,a=function(e,t){return{code:e,bids:[{bidder:"criteo",params:{zoneId:t.split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:t.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}};if(o>1580&&i&&(n=Ws(Ws({},n),i)),!(0,be.xb)(n)){var s=[];Object.keys(n).map((function(e){var t=n[e];"string"==typeof t?s.push(a(e,t)):t.forEach((function(t){s.push(a(e,t))}))})),t.register("provide prebid adUnits",(function(){return s}))}}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(r),!0).forEach((function(t){Js(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Js(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xs(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.criteo.v2.networkId",10352),i=r("plugins.bidders.criteo.v2.display",{});i=(0,I.ap)().width>1580&&i.wideSkiesAdUnits?Ys(Ys({},i.adUnits),i.wideSkiesAdUnits):i.adUnits;var o=Object.entries(i).map((function(e){var t,r,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ks(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ks(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t=i[0],r=i[1],{code:t,bids:[{bidder:"criteo",params:{networkId:n,publisherSubId:t}}],mediaTypes:{banner:{sizes:r}}}}));t.register("provide prebid adUnits",(function(){return o}))}function Zs(e){var t=e.broker,r=e.getConfig,n=Math.random(),i=r("plugins.bidders.groupm.v2.chance",.1),o=r("plugins.bidders.groupm.v2.standard.adUnits",[]),a=r("plugins.bidders.groupm.v2.premium.adUnits",[]).concat(o);if(I.SP.hasOwnProperty("groupmlog")&&console.log("groupm chance: ",n,"request? ",n<i,n<i?a:""),i>n){t.register("provide prebid adUnits",(function(){return a}));var s=o.reduce((function(e,t){return function(e){return e&&e.code&&e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&e.mediaTypes.banner.sizes.length}(t)?(r=e[t.code]?e[t.code].concat(t.mediaTypes.banner.sizes.map((function(e){return"".concat(e[0],"x").concat(e[1])}))):t.mediaTypes.banner.sizes.map((function(e){return"".concat(e[0],"x").concat(e[1])})),e[t.code]=Array.from(new Set(r)),e):e;var r}),{});t.register("prebid reduce bidderSettings",(function(e){return e.groupm||(e.groupm={}),e.groupm.adserverTargeting||(e.groupm.adserverTargeting=[]),e.groupm.adserverTargeting.push({key:"hb_deal_groupm",val:function(e){return function(e,t){return t.adUnitCode&&e[t.adUnitCode]&&e[t.adUnitCode].includes("".concat(t.width,"x").concat(t.height))}(s,e)?11111111:e.dealId}}),e}))}}function Qs(e){var t=e.broker,r=e.getConfig;if(!(r("plugins.bidders.groupm.skin.chance",.1)<=Math.random())){var n=r("plugins.bidders.groupm.skin.adUnits",[]);n.length&&t.register("provide prebid adUnits",(function(){return n}))}}function ec(e){var t=e.broker,r=function(){var e=(0,A.U2)("plugins.bidders.improveDigital.display.adUnits",{}),t=[];return e instanceof Object&&!(0,be.xb)(e)?t=Object.keys(e).map((function(t){return{code:t,bids:[{bidder:"improvedigital",params:{placementId:e[t].split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:e[t].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}})):console.log("Invalid config for improveDigital adUnits"),t}();r.length&&t.register("provide prebid adUnits",(function(){return r}))}function tc(e){var t=e.broker,n=e.getConfig;(new r.g.Image).src="https://e.serverbid.com/udb/9969/match?redir=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fpool%2Fset%2Fi.gif%3FpoolId%3D9969%26poolKey%3D";var i=document.createElement("iframe");i.style.display="none";var o,a,s,c=document.cookie.match("(^|;)\\s*MFADUser\\s*=\\s*([^;]+)"),u=c?c.pop():"",d="https://mfad.inskinad.com/udb/9874/sync/i.gif?partnerId=1"+(u&&"&userKey="+u||"")+"&userId=";i.src="https://ssum-sec.casalemedia.com/usermatch?s=184665&cb="+encodeURIComponent(d),o=function(){document.body.appendChild(i)},(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?o():document.addEventListener("DOMContentLoaded",o);try{a=r.g.top.screen.width,s=r.g.top.screen.height}catch(e){}if(a&&s){var l=n("plugins.bidders.inskin.display",{adUnits:null}).adUnits;if(l&&!(0,be.xb)(l)){var f=Object.keys(l).map((function(e){return{code:e,bids:[{bidder:"inskin",params:{networkId:l[e].split(" ")[0].trim(),siteId:l[e].replace(/^[^\s]+\s+([^\s]+) .+$/,"$1").trim(),keywords:"",properties:{screenWidth:a,screenHeight:s,target:1244}}}],mediaTypes:{banner:{sizes:l[e].replace(/^[^\s]+\s*[^\s]+\s*(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}));t.register("provide prebid adUnits",(function(){return f}))}}}function rc(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.ix.display",{adUnits:[]}).adUnits;if(!(0,be.xb)(r)){var n=Object.keys(r).map((function(e){var t=r[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}));return{code:e,bids:t.map((function(t){return{bidder:"ix",params:{siteId:r[e].split(" ")[0].trim(),size:t}}})),mediaTypes:{banner:{sizes:t}}}}));t.register("provide prebid adUnits",(function(){return n}))}}Vs.vendorIds={gdpr:[179]},Hs.vendorIds={gdpr:[91]},Xs.vendorIds={gdpr:[91]},Zs.vendorIds={gdpr:[98]},Qs.vendorIds={gdpr:[98]},ec.vendorIds={gdpr:[10]},tc.vendorIds={gdpr:[150]},rc.vendorIds={gdpr:[10]};var nc=(0,A.U2)("plugins.bidders.justpremium.display",{adUnits:{}}).adUnits;function ic(e){var t=e.broker;if(!(0,be.xb)(nc)){var r=_a("justpremium",nc,(function(e){return{zone:e.split(" ")[0]}}));t.register("provide prebid adUnits",(function(){return r})),t.register("prebid reduce bidderSettings",(function(e){return e.justpremium=e.justpremium||{},e.justpremium.adserverTargeting=e.justpremium.adserverTargeting||[],e.justpremium.adserverTargeting.push({key:"hb_skin",val:function(e){return!0}}),e}))}}function oc(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.kargo.display",{adUnits:[]}).adUnits;if(t.invoke("load script","https://storage.cloud.kargo.com/ad/network/klick/klick-dailymail.js",null,{},(function(){return!0})),!(0,be.xb)(r)){var n=Object.keys(r).map((function(e){return{code:e,bids:[{bidder:"kargo",params:{placementId:r[e].split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:r[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}));t.register("provide prebid adUnits",(function(){return n}))}}function ac(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(r),!0).forEach((function(t){cc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ac(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lc(e){var t=e.broker,r=e.getConfig,n=e.log,i=Object.entries(r("plugins.bidders.mediagrid.display",{})).map((function(e){var t=uc(e,2),r=t[0];return sc(sc({},function(e){var t=uc(e.split(/\s+/g,2),2),r=t[0],n=t[1];return{uid:Number(r),sizes:fc(n)}}(t[1])),{},{code:r})})).map((function(e){return{code:e.code,mediaTypes:{banner:{sizes:e.sizes}},bids:[{bidder:"grid",params:{uid:e.uid}}]}}));t.register("provide prebid adUnits",(function(){return n.info("adUnits",i),i}))}function fc(e){return e.split(/\s*,\s*/g).map((function(e){return e.split(/x/gi,2).map(Number)}))}function pc(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.openx.display.v2",{adUnits:[]}),n=r.adUnits,i=r.delDomain;if(i&&!(0,be.xb)(n)){var o=Object.keys(n).map((function(e){return{code:e,bids:[{bidder:"openx",params:{unit:n[e].split(" ")[0].trim(),delDomain:i}}],mediaTypes:{banner:{sizes:n[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}));t.register("provide prebid adUnits",(function(){return o}))}}function gc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(r),!0).forEach((function(t){vc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ic.vendorIds={gdpr:[62]},lc.vendorIds={gdpr:[686]},pc.vendorIds={gdpr:[69]};var yc=(0,I.ap)().width>1580,hc=(0,A.U2)("plugins.bidders.pubmatic.display.v2",{adUnits:{},wideSkiesAdUnits:[]}),bc=hc.adUnits,wc=hc.wideSkiesAdUnits,Sc=hc.publisherId;yc&&wc&&(bc=mc(mc({},bc),wc));var _c=function(e){var t=e.broker;if(!(0,be.xb)(bc)){var n=_a("pubmatic",bc,(function(e){return{publisherId:"".concat(Sc),adSlot:e.split(" ")[0],dctr:"area=".concat(r.g.adAreaId)}}));t.register("provide prebid adUnits",(function(){return n})),t.register("prebid reduce bidderSettings",(function(e){var t=(0,A.U2)("plugins.bidders.pubmatic.display.netMultiplier",.93);return e.pubmatic||(e.pubmatic={}),e.pubmatic.bidCpmAdjustment=function(e,r){return e*t},e}))}},Oc=_c;function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ec(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.pxyz.display",{adUnits:{}}).adUnits,n=function(e,t){return{code:e,bids:[{bidder:"pxyz",params:{placementId:t.split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:t.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}};if(!(0,be.xb)(r)){var i=[];Object.entries(r).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ic(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ic(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],o=t[1];"string"==typeof o?i.push(n(r,o)):o.forEach((function(e){i.push(n(r,e))}))})),t.register("provide prebid adUnits",(function(){return i}))}}function Ac(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(r),!0).forEach((function(t){xc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ac(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_c.vendorIds={gdpr:[76]},Ec.vendorIds={gdpr:[490]};var Pc=(0,I.ap)().width>1580;function jc(e){var t=e.broker,n=(0,A.U2)("plugins.bidders.rubicon.display.v2",{adUnits:{},wideSkiesAdUnits:{},atf:[]}),i=n.accountId,o=n.siteId,a=n.adUnits,s=n.wideSkiesAdUnits,c=n.atf;if(c=new Set(c),!(0,be.xb)(a)){Pc&&s&&(a=kc(kc({},a),s));var u=_a("rubicon",a,(function(e,t){var n={area:[r.g.adAreaId]};r.g.gs_channels&&(n.grapeshot=r.g.gs_channels);var a={zoneId:e.split(" ")[0],inventory:n,siteId:o.toString(),accountId:i.toString()};return c.has(t)&&(a.position="atf"),a}));t.register("provide prebid adUnits",(function(){return u})),t.emit("prebid config async update",{rubicon:{singleRequest:!0}})}}function Tc(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Cc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rc(e){var t=e.broker,n=[],i=(0,A.U2)("plugins.rubicon.skin",{});i.adUnits&&i.adUnits.length&&(function(e){var t,n=Tc(e);try{for(n.s();!(t=n.n()).done;){var i,o=Tc(t.value.bids);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("rubicon"===a.bidder){var s=(0,be.ns)(["params","inventory"],a);s.area=[r.g.adAreaId],r.g.gs_channels&&(s.grapeshot=r.g.gs_channels)}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}}(i.adUnits),n=function(e){return e.adUnits.reduce((function(e,t){return t.bids&&t.bids.forEach((function(t){t.params&&t.params.zoneId&&e.push(t.params.zoneId)})),e}),[])}(i),t.register("provide prebid adUnits",(function(){return i.adUnits}))),t.register("prebid reduce bidderSettings",(function(e){return e.rubicon||(e.rubicon={}),e.rubicon.adserverTargeting||(e.rubicon.adserverTargeting=[]),e.rubicon.adserverTargeting.push({key:"hb_skin",val:function(e){var t;return"rubicon"===e.bidderCode&&"billboard"===e.adUnitCode&&(t=n.find((function(t){return e.ad&&-1!==e.ad.indexOf(t)}))),!!t}}),e}))}function Dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(r),!0).forEach((function(t){Mc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bc(e){var t=e.getConfig,n=e.broker,i=(0,I.ap)().width>1580,o=t("plugins.bidders.rubiMM.display",{adUnits:{},wideSkiesAdUnits:[]}),a=o.accountId,s=o.siteId,c=o.adUnits,u=o.wideSkiesAdUnits;if(!(0,be.xb)(c)){i&&u&&(c=Uc(Uc({},c),u));var d=_a("rubi_mm",c,(function(e){var t={area:[r.g.adAreaId]};return r.g.gs_channels&&(t.grapeshot=r.g.gs_channels),{zoneId:e.split(" ")[0],inventory:t,siteId:s.toString(),accountId:a.toString()}}));n.register("provide prebid adUnits",(function(){return d})),n.register("provide bidder alias",(function(){return{adapterName:"rubicon",aliasedName:"rubi_mm"}})),n.emit("prebid config async update",{rubi_mm:{singleRequest:!0}})}}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lc(e){var t=e.getConfig,n=e.broker,i=t("plugins.bidders.rubicon.display.v2",{}),o=i.accountId,a=i.siteId;Ia({broker:n,getConfig:t,bidder:"rubi_ttd",adapterName:"rubicon",aliasedName:"rubi_ttd",getBidsParams:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],n={area:[r.g.adAreaId]};return r.g.gs_channels&&(n.grapeshot=r.g.gs_channels),{zoneId:t,inventory:n,siteId:"".concat(a),accountId:"".concat(o)}},asyncUpdate:{singleRequest:!0}})}function qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}jc.vendorIds={gdpr:[52]},Rc.vendorIds={gdpr:[52]},Bc.vendorIds={gdpr:[79]},Lc.vendorIds={gdpr:[21]};var zc=/\s*,\s*/g,Vc=(0,A.U2)("plugins.sharethrough.adUnits",[]);function Fc(e){var t=e.broker;t.register("prebid reduce bidderSettings",(function(e){return e.sharethrough||(e.sharethrough={}),e.sharethrough.adserverTargeting||(e.sharethrough.adserverTargeting=[]),e.sharethrough.adserverTargeting.push({key:"hb_size",val:function(e){var t=(0,P.get)(e.adUnitCode);return t?Kc(function(e){var t,r,n=0,i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return qc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(e.size);try{for(i.s();!(r=i.n()).done;){var o=r.value;if("string"!=typeof o){var a=o[0]*o[1];a>n&&(t=o,n=a)}}}catch(e){i.e(e)}finally{i.f()}if(!t)throw new Error("Cannot get largest size, as there isnt any defined pixel size. Sizes are: ".concat(JSON.stringify(e.size)));return t}(t)):e.size}}),e})),t.register("provide prebid adUnits",Wc)}var Wc=function(){return Vc.map((function(e){var t=Hc(e.sizes);return{code:e.pos,labelsAny:e.labelsAny||[],sizes:t,mediaTypes:{banner:{sizes:t}},bids:[{bidder:"sharethrough",params:{pkey:e.placementKey}}]}}))},Gc=function(e){return(t=e,"x",r=t.indexOf("x"),[t.substring(0,r),t.substring(r+1)]).map(Number);var t,r},Hc=function(e){return e.split(zc).map(Gc)},Kc=function(e){return e.join("x")};function $c(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.teads.display",{adUnits:{}}).adUnits;t.register("provide prebid adUnits",(function(){return _a("teads",r,(function(e){var t=e.split(/[ ]+/);return{placementId:t[0],pageId:t[1]}}))}))}function Yc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xc(e){Ia({broker:e.broker,getConfig:e.getConfig,configKeys:"plugins.bidders.triplelift.display",bidder:"triplelift",getBidsParams:function(e){return{inventoryCode:Yc(e,1)[0]}}})}function Zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qc(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.verizon.display",{}),n=r.adUnits&&Object.entries(r.adUnits).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return function(e,t,r){var n=r.dcn,i=r.posPrefix;return{code:e,bids:[{bidder:"aol",params:{dcn:n,pos:"".concat(i,"_").concat(e)}}],mediaTypes:{banner:{sizes:t}}}}(t[0],t[1],r)}));n&&n.length>0&&t.register("provide prebid adUnits",(function(){return n}))}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tu(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function ru(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){tu(o,n,i,a,s,"next",e)}function s(e){tu(o,n,i,a,s,"throw",e)}a(void 0)}))}}function nu(){return"".concat(location.protocol,"//").concat(location.hostname).concat(location.pathname)}function iu(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function ou(e){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function au(e){var t=e.broker,n=e.getConfig,i=e.log,o=js();i("permutive segments:",o);var a=function(e,t){var i=n("plugins.bidders.appnexus.video",{adUnits:{}}),a=n("plugins.slots.".concat(e,".v2")),s="",c={area:[r.g.adAreaId]};if(r.g.gs_channels&&(c.grapeshot=r.g.gs_channels),c.p_standard=o,i.adUnits[e]&&"object"===ou(i.adUnits[e])&&i.adUnits[e][t?"autoplay":"ctp"])s=i.adUnits[e][t?"autoplay":"ctp"];else{if(!i.adUnits[e]||"string"!=typeof i.adUnits[e])return{};s=i.adUnits[e]}var u=s.trim().replace(/ +/," ").split(" "),d=parseInt(u[0]),l=parseInt(u[1]),f={skipable:!1,playback_methods:t?["auto_play_sound_off"]:["click_to_play"]};return{code:a.code,mediaTypes:a.mediaTypes,bids:[{bidder:"appnexus",params:{accountId:d,placementId:l,keywords:c,video:f}}]}};t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(t,r),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){iu(o,n,i,a,s,"next",e)}function s(e){iu(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}Fc.vendorIds={gdpr:[80]},$c.vendorIds={gdpr:[132]},Xc.vendorIds={gdpr:[28]},Qc.vendorIds={gdpr:[25]},z("bidders.adform.video",{run:function(e){var t=e.broker,r=e.getConfig,n=e.log;n.info("enabled"),t.register("provide video adUnits",(function(e){var t=r("plugins.bidders.adform.video.".concat(e));if(n.info("code",e),n.info("mid",t),!t)return n.warn("no mid found for pos ".concat(e)),{};var i={bids:[{bidder:"adform",params:{mid:t}}]};return n.info("providing ad unit",i),i}))},vendorIds:{gdpr:[50]}}),z("bidders.video.rubiMM",{run:function(e){var t=e.broker,n=e.getConfig,i=e.log,o=n("plugins.bidders.rubiMM.video.accountId"),a={area:[r.g.adAreaId]};r.g.gs_channels&&(a.grapeshot=r.g.gs_channels),o?(t.register("provide bidder alias",(function(){return{adapterName:"rubicon",aliasedName:"rubi_mm"}})),t.register("prebid reduce bidderSettings",(function(e){return e.rubi_mm={adserverTargeting:[{key:"hb_vast",val:function(e){return e.impression_id}}]},e})),t.register("provide video adUnits",(function(e,t){var r="video"===e?t?"video.autoplay":"video.ctp":e,s=n("plugins.bidders.rubiMM.video.adUnits.".concat(r));if(!s)return i.warn("config for ".concat(r," does not exist")),{};var c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s.split(/\s+/,2),2),u=c[0],d=c[1];if(!u)return i.warn("No site id for ".concat(r)),{};if(!d)return i.warn("No zone id for ".concat(r)),{};var l=n("plugins.slots.".concat(e,".v2")),f={language:"en",playerWidth:l.mediaTypes.video.playerSize[0],playerHeight:l.mediaTypes.video.playerSize[1],size_id:201},p=[{bidder:"rubi_mm",params:{accountId:o,inventory:a,siteId:Number(u),zoneId:Number(d),video:f}}];return i("providing auction info",p),{bids:p}}))):i.warn("no account id set")},vendorIds:{gdpr:[52]}}),z("bidders.video.spotx",{run:function(e){var t=e.broker,r=e.getConfig,n=e.log;function i(){return(i=ru(regeneratorRuntime.mark((function e(t,i,a,s){var c,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r("plugins.bidders.spotx.video.".concat(c="jwplayer"===t?"chromeless":"video"===t?i?"autoplay":"ctp":null))){e.next=5;break}return n.warn("no channel id found for pos ".concat(c).concat(c!==t?" (".concat(t,")"):"")),e.abrupt("return",{});case 5:return e.t0=u,e.next=8,o(s);case 8:return e.t1=e.sent,e.t2=nu(),e.t3={ad_unit:"instream",channel_id:e.t0,custom:e.t1,page:e.t2},e.t4={bidder:"spotx",params:e.t3},d=[e.t4],n.info("providing auction info",d),e.abrupt("return",{bids:d});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return a.apply(this,arguments)}function a(){return(a=ru(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=be.jF,e.next=4,(0,M.yq)(1e3,t.invoke("get IrisTV tags",r),"Failed to get IrisTV tags in 500ms");case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"context","iris_context"));case 8:return e.prev=8,e.t2=e.catch(0),n.error(e.t2),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}t.register("provide video adUnits",(function(e,t,r,n){return i.apply(this,arguments)}))},vendorIds:{gdpr:[165]}}),au.vendorIds={gdpr:[32]};var su=r(9208),cu=r.n(su);function uu(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function du(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.ix.video.adUnits",[]);t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.SP.ix_sandbox&&pbjs.setConfig({ix:{sandboxMode:!0}}),o=r("plugins.slots.".concat(t,".v2.mediaTypes.video"),{}),e.prev=2,a=r("plugins.bidders.ix.video.default",{}),e.abrupt("return",C()({},Aa(r,"ix",n,t,i,(function(e){return{siteId:e[0],size:o.playerSize||[636,358],video:{startdelay:0,mimes:cu()(a,"mediaTypes.video.mimes",["video/mp4","video/webm","application/javascript"]),minduration:cu()(a,"mediaTypes.video.minduration",0),maxduration:o.maxduration||61,protocols:cu()(a,"mediaTypes.video.protocols",o.protocols||[1,2,3,4,5,6]),api:cu()(a,"mediaTypes.video.api",o.api||[1,2])}}})),a));case 7:e.prev=7,e.t0=e.catch(2),console.log("[IX Video] transform error ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){uu(o,n,i,a,s,"next",e)}function s(e){uu(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}function lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(r),!0).forEach((function(t){pu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gu(e){var t=e.broker,r=e.getConfig,n=e.log;n.info("enabled"),t.register("provide video adUnits",(function(e){var t=r("plugins.bidders.mediagrid.video.".concat(e));if(n.info("code",e),n.info("uid",t),!t)return n.warn("no uid found for pos ".concat(e)),{};var i=r("plugins.slots.".concat(e,".v2"));if(!i)return n.warn("no template found for pos ".concat(e)),{};var o=fu(fu({},i),{},{mediaTypes:fu(fu({},i.mediaTypes),{},{video:fu(fu({},i.mediaTypes.video),{},{minduration:r("plugins.bidders.mediagrid.video.minduration",5)})}),bids:[{bidder:"grid",params:{uid:t}}]});return n.info("providing ad unit",o),o}))}function mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vu(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.oath.video",{pubId:"MailOnline"});t.register("provide video adUnits",(function(e){var t=r("plugins.slots.".concat(e,".v2"),null);if(t&&t.code&&t.mediaTypes&&t.mediaTypes&&t.mediaTypes.video&&t.mediaTypes.video.playerSize&&2===t.mediaTypes.video.playerSize.length&&t.mediaTypes.video.context){var i=t,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.mediaTypes.video.playerSize,2),a=o[0],s=o[1];return i.bids=[{bidder:"oneVideo",params:{video:{playerWidth:a,playerHeight:s,mimes:["video/mp4","application/javascript"],protocols:[1,2,3,4,5,6],api:[1,2],delivery:[2]},pubId:n.pubId}}],i}I.SP.oathVideo&&console.log("Video adUnit misconfigured for pos: ".concat(e),t)}))}function yu(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function hu(e){return(hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bu(e){var t=e.broker,r=e.getConfig,n=function(e,t){var n=r("plugins.bidders.openx.video",{adUnits:{}}),i=r("plugins.slots.".concat(e,".v2")),o="",a=n.delDomain;if(n.adUnits[e]&&"object"===hu(n.adUnits[e])&&n.adUnits[e][t?"autoplay":"ctp"])o=n.adUnits[e][t?"autoplay":"ctp"];else{if(void 0===n.adUnits[e])return{};o=n.adUnits[e].toString()}var s=o;return{code:i.code,mediaTypes:i.mediaTypes,bids:[{bidder:"openx",params:{unit:s,delDomain:a,openrtb:{imp:[{video:{mimes:["video/x-ms-wmv","video/mp4"]}}]}}}]}};t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n(t,r),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){yu(o,n,i,a,s,"next",e)}function s(e){yu(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}function wu(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.pubmatic.video.publisherId"),i=r("plugins.bidders.pubmatic.video.adUnits");t.register("provide video adUnits",(function(e,t,o){var a=function(e,t,r,n){if(e){var i=t.includes("jwplayer")?function(r){return 0===r?e[t].preroll:e[t].midroll}(n):function(r){return e[t][r?"autoplay":"ctp"]}(r);return i&&i.trim().replace(/\s+/,"@")}}(i,e,t,o),s={mimes:r("plugins.slots.".concat(e,".v2")).mediaTypes.video.mimes};return a?{bids:[{bidder:"pubmatic",params:{publisherId:n,adSlot:a,video:s}}]}:{}}))}function Su(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function _u(e){return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ou(e){var t=e.broker,n=e.getConfig,i=function(e,t){var i=n("plugins.bidders.rubicon.video",{adUnits:{}}),o=n("plugins.slots.".concat(e,".v2")),a="",s={area:[r.g.adAreaId]};if(r.g.gs_channels&&(s.grapeshot=r.g.gs_channels),i.adUnits[e]&&"object"===_u(i.adUnits[e])&&i.adUnits[e][t?"autoplay":"ctp"])a=i.adUnits[e][t?"autoplay":"ctp"];else{if(!i.adUnits[e]||"string"!=typeof i.adUnits[e])return{};a=i.adUnits[e]}var c=a.trim().replace(/ +/," ").split(" "),u=i.accountId,d=parseInt(c[0]),l=parseInt(c[1]),f={language:"en",playerWidth:o.mediaTypes.video.playerSize[0],playerHeight:o.mediaTypes.video.playerSize[1],size_id:201};return{code:o.code,mediaTypes:o.mediaTypes,bids:[{bidder:"rubicon",params:{accountId:u,siteId:d,zoneId:l,inventory:s,video:f}}]}};t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i(t,r),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Su(o,n,i,a,s,"next",e)}function s(e){Su(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()),t.register("prebid reduce bidderSettings",(function(e){return e.rubicon||(e.rubicon={}),e.rubicon.adserverTargeting||(e.rubicon.adserverTargeting=[]),e.rubicon.adserverTargeting.push({key:"hb_vast",val:function(e){return e.impression_id}}),e}))}du.vendorIds={gdpr:[10]},gu.vendorIds={gdpr:[686]},vu.vendorIds={gdpr:[25]},bu.vendorIds={gdpr:[69]},wu.vendorIds={gdpr:[76]},Ou.vendorIds={gdpr:[52]};var Iu=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise((function(t){var i;return(i=r.g).__tcfapi.apply(i,[e,2,function(){return t.apply(void 0,arguments)}].concat(n))}))};function Eu(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Au(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Eu(o,n,i,a,s,"next",e)}function s(e){Eu(o,n,i,a,s,"throw",e)}a(void 0)}))}}var ku=r.g.adverts.startTime,xu=[229,2292,2392,3,1584,2198,1964,1765,1633,11,236,733,15,2044,1040,2090,1268,1232,2664,2710,1671,2366,1152,867,2177,1716,22,1284,1496,2441,2176,624,2493,35,1960,802,827,1577,1514,1642,429,2614,359,2645,43,2681,46,432,1375,2214,931,55,2276,2222,2202,932,1188,1845,1248,57,2629,2511,574,2141,938,2315,2678,2771,2271,66,1678,2532,70,1863,1929,2658,7,2670,1517,2357,2238,1732,2662,1750,2646,1409,1301,80,1608,2406,83,1451,2140,61,991,1192,93,1834,2003,2596,1547,864,2526,1858,571,2387,1987,2109,1063,2699,2064,2647,2663,1843,108,1099,2605,1166,2062,122,1878,124,2786,2370,2453,987,440,2107,2264,131,2310,1703,135,1844,136,1896,1669,1097,1252,2335,2772,595,62,2622,143,144,316,2334,147,2405,2563,153,154,1345,2103,2253,2504,550,829,159,1525,161,559,2320,165,2133,1866,167,2571,2373,2415,2685,171,2669,2262,317,2765,2425,178,2572,2496,311,2012,1225,2559,2305,125,776,184,1276,820,188,2601,797,537,1329,192,817,2147,1899,1880,2575,2682,2084,196,575,492,1548,1204,202,1782,89,2440,209,211,1810,1365,2497,218,1613,1100,2727,955,221,1215,350,2584,1705,1298,1220,2586,1978,230,2472,1720,2779,2564,1745,2072,2506,2166,1201,2095,2219,2767,1832,239,241,1275,2295,149,1677,338,1735,2705,2282,126,253,1575,1162,1172,255,588,2251,2597,48,259,2673,266,1631,1837,2279,2739,271,2224,1760,274,1583,2225,2039,1236,2510,1674,1968,2186,1455,1883,1598,1003,1739,286,2684,2689,609,1423,1230,1403,1799,291,2661,780,839,12,2411,1503,2027,1226,1667,1733,294,1962,2336,1905,1312,1211,2414,2468,1067,723,1095,2038,2568,523,568,1603,1027,1313,308,436,313,2205,725,1052,1416,590,1780,591,576,2376,1250,310,1053,327,303,1898,1651,1362,1653,2555,1922,2462,1449,2610,1344,2306,2604,2517,1570,336,2464,2612,926,1205,1051,2477,2579,2121,1047,2247,2583,348,1942,1882,922,592,1212,2777,2531,358,2325,2290,1682,2437,2552,367,363,2621,1859,2068,2299,2778,1660,2079,1025,1356,2768,2115,2595,371,2609,1892,2686,2467,2359,1171,384,1648,1725,134,2544,385,2783,1024,389,2377,2407,2127,2780,1028,394,162,2447,2657,2628,2145,398,899,2394,1415,782,2435,2569,2459,1928,407,2498,340,1791,415,737,1902,2410,2059,1943,2527,414,2358,1721,2170,2035,1520,1029,1034,1126,2643,1048,2403,430,1127,2649,2216,976,1870,1468,2311,1419,979,1591,438,314,2652,2179,2709,1652,442,2427,2382,1072,2354,445,448,1934,2636,2234,449,2137,2691,1307,2706,2534,1411,453,2100,1753,459,2542,2278,2676,2312,2400,2052,2802,424,2567,2223,1665,2346,86,2192,1149,2714,2656,2088,2650,1638,1579,1684,1911,2078,1794,1944,1840,479,2770,2499,370,393,985,2634,486,1227,1241,2056,1958,2183,933,1107,495,494,1054,2695,2461,2156,2070,1626,1170,2220,503,505,2416,1786,510,1831,2481,2651,2690,853,2343,2113,2227,482,397,2677,2776,1800,981,2512,1512,2492,2171,2150,1889,528,2486,1509,1286,2624,1872,2418,2698,2784,1033,2758,540,1555,1722,2422,821,585,798,1442,323,2331,2337,1456,560];function Pu(){return ju.apply(this,arguments)}function ju(){return(ju=Au(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[21,25,40,79,115,165,264],e.t0=Set,e.next=4,Iu("consentedVendors");case 4:e.t1=e.sent,n=new e.t0(e.t1),t.map((function(e){return n.has(e)})).every((function(e){return e}))&&((new r.g.Image).src="//sync.search.spotxchange.com/partner?source=86983");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tu(e){var t=e.broker,n=e.getConfig,i=e.log,o=n("plugins.bidders.spotx.video.autoplay"),a=n("cmp.apiHandler"),s=["__tcfapi"].includes(a)&&r.g[a],c=s?Iu("getTCData"):Promise.resolve();n("plugins.spotx.enableCpsValues",!0)&&(window.__gcp=xu);var u=t.invoke("load script","//js.spotx.tv/directsdk/v1/".concat(o,".js"),"SpotX"),d=new Promise((function(e){var r=t.on("ad rendered",Au(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=document.getElementsByClassName("video-ads-container"))&&n.length&&(r.cancel(),e(n[0]));case 2:case"end":return t.stop()}}),t)}))))}));t.register("get video tags",Au(regeneratorRuntime.mark((function e(){var a,s,l,f,p,g,m,v,y,h,b,w,S,_,O,I,E=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E.length>0&&void 0!==E[0]?E[0]:{},s=a.platform,l=a.screen,f=a.offset,p=void 0===f?0:f,g=a.adEl,m=a.autoplay,a.videoAdServerUrl,v=a.videoEl,y=a.slot,h=a.excludeSpotX,a.auctionId,!h){e.next=3;break}return e.abrupt("return");case 3:if(o="jwplayer"!==y.pos?n("plugins.bidders.spotx.video.".concat(m?"autoplay":"ctp")):n("plugins.bidders.spotx.video.chromeless")){e.next=7;break}return i("[error] Missing SpotX configuration"),e.abrupt("return",{});case 7:if(r.g.SpotX){e.next=10;break}return e.next=10,u;case 10:if(g){e.next=14;break}return e.next=13,d;case 13:g=e.sent;case 14:return b={},r.g.gs_channels&&(b.grapeshot=r.g.gs_channels),r.g.adAreaId&&(b.area=r.g.adAreaId),w={hide_skin:!0,autoplay:m,content_width:l.width,content_height:l.height,channel_id:o,custom:b,slot:g,video_slot:v||g.parentNode.getElementsByTagName("video")[0]||g.parentNode.parentNode.getElementsByTagName("video")[0],check_gcp:!0},e.next=20,c;case 20:return(S=e.sent)&&(i("adding user consent data"),w.ados={regs:{gdpr:1},user:{consent:S.tcString}}),_={},O=new r.g.SpotX.DirectAdOS(w),e.prev=24,e.next=27,O.getAdServerKVPs();case 27:_=e.sent,I=Date.now()-ku,t.emit("bid",y.pos,{platform:s,offset:p,bidder:"spotx",cpm:100*_.spotx_bid,timeToBid:I}),e.next=34;break;case 32:e.prev=32,e.t0=e.catch(24);case 34:if(!(0,be.xb)(_)){e.next=38;break}return e.abrupt("return",{});case 38:return e.abrupt("return",{cust_params:_});case 39:case"end":return e.stop()}}),e,null,[[24,32]])})))),setTimeout(Au(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s&&Pu();case 1:case"end":return e.stop()}}),e)}))),1e3)}function Cu(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Ru(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.telariaVideo",{adUnits:{}}).adUnits;t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Aa(r,"telaria",n,t,i,(function(e){return{supplyCode:e[0],adCode:e[1]}})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Cu(o,n,i,a,s,"next",e)}function s(e){Cu(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}Tu.vendorIds={gdpr:[165]},Ru.vendorIds={gdpr:[202]};var Du=r(2889);function Uu(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}var Mu=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){var t=e.adserverTargeting;return delete t.konduit_cache_key,delete t.konduit_id,i("konduit key values",t),{cust_params:t}},n=t.broker,i=t.log,o=t.getConfig,a=o("konduit.id","5ed6500c9166db0c4e9556ad"),s=new Set(["video","jwplayer"]),c={},d=function(e,t){return"".concat(e,"-").concat(t)},l=function(e,t,r){return function(n,o){n?i.warn("konduit erorrs",n):(i("bids processed:",e,[o]),o.forEach((function(e){return t.push(u(e))}))),f(r)}},f=function(e){i("closing stream for:",e),c[e].push(null),delete c[e]},n.registerStream("get video tags",(function(e){var t=e.slot,r=e.offset,o=void 0===r?0:r,a=t.pos,s=d(a,o);if(i("get video tags for:",s),!c[s]){var u=c[s]=(0,Du.KC)();return(0,Du.TS)([u,n.openStream("konduit get video tags",e)])}i.error('Stream already existing for "'.concat(s,"', bailing"))})),n.register("prebid video auction started",(function(e,t,r){var n=d(t,r),o=c[n];c[e]=o,o.bids=[],delete c[n],i("auction started:",{key:n,auctionId:e})})),n.on("prebid video auction ended",(function(e,t){i("prebid video auction ended",t);var n=c[t];if(n){if(1!==e.length)throw f(t),new Error("No support for more than 1 unit per auction");var o=e[0];i("processing bids for:",o,t,n.bids),r.g.pbjs.adServers.konduit.processBids({adUnitCode:o,bids:n.bids,enableSendAllBids:!0,callback:l(o,n,t)})}else i("no stream for:",{adUnitCodes:e,auctionId:t})})),e.next=13,n.until("prebid loaded");case 13:r.g.pbjs.setConfig({konduit:{konduitId:a}}),r.g.pbjs.enableAnalytics({provider:"konduit"}),r.g.pbjs.onEvent("bidResponse",(function(e){s.has(e.adUnitCode)&&(i("bidResponse",e),c[e.auctionId].bids.push(e))}));case 16:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Uu(o,n,i,a,s,"next",e)}function s(e){Uu(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function Bu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lu(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function qu(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.tripleliftVideo",{adUnits:{jwplayer:"dailymail_prebid_commercial_player_ctp_intstream",video:{ctp:"dailymail_prebid_editorial_player_ctp_intstream",autoplay:"dailymail_prebid_editorial_player_ap_intstream"}}}).adUnits;t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Aa(r,"triplelift",n,t,i,(function(e){var n=r("plugins.slots.".concat(t,".v2"),{mediaTypes:{video:{api:[1,2],mimes:["video/mp4","application/javascript"],playerSize:[636,358],protocols:[1,2,3,4,5,6]}}}).mediaTypes.video,i=n.mimes,o=n.protocols,a=n.api,s=Bu(n.playerSize,2),c=s[0],u=s[1];return{inventoryCode:e[0],video:{mimes:i,protocols:o,api:a,w:c,h:u}}})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Lu(o,n,i,a,s,"next",e)}function s(e){Lu(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}qu.vendorIds={gdpr:[28]};var zu=r(3624);function Vu(e){var t=e.containerInitialised,n=e.getPlaylistItem,i=e.onClose,o=!0,a=MobileUtils.isMobile()?"touchstart":"click",s=document.createElement("img");s.src="//i.dailymail.co.uk/video/chromeless_closer.png";var c=document.createElement("div");c.id="closeButton",c.appendChild(s),c.addEventListener(a,(function(e){e&&e.preventDefault(),i()}));var u=document.createElement("video");u.setAttribute("defaultMuted","defaultMuted"),u.setAttribute("muted","muted");var d=document.createElement("div");d.id="playerDiv",d.classList.add("vjs-video-container"),d.classList.add("vjs-responsive"),d.style.visibility="hidden",d.appendChild(u);var l=document.createElement("div");l.id="readMoreWrapper",l.addEventListener(a,(function(e){e.preventDefault(),i(),r.g.top.location=n().linkBaseURL+"?ito=chromelessDM_0"})),l.addEventListener("mouseover",(function(){y(n().title)})),l.addEventListener("mouseout",(function(){m()}));var f=document.createElement("div");f.id="mpu_player",f.style.marginTop="0",f.style.left="73px";var p=document.createElement("div");p.classList.add("mpu_player_wrapper"),p.appendChild(f),p.style.display="none",p.addEventListener(a,(function(e){e.preventDefault()}));var g=document.createElement("div");g.id="outerWrapper",g.addEventListener("mouseover",(function(){g.querySelector(".jw-playlist-btn")&&(g.querySelector(".jw-playlist-btn").style.display="none",g.querySelector(".jw-icon-fullscreen").style.display="none")})),g.appendChild(c),g.appendChild(d),g.appendChild(l),g.appendChild(p),t(d,u);var m=(0,ei.Ds)((function(){l.innerText="Read more"}),5e3);return{clearMpuAd:function(){p.style.display="none"},handleAdPlay:function(){o&&v(),l.style.display="none"},handleMpuAd:function(){l.style.display="none",p.style.display="block"},handlePlay:function(){var e=n();o&&v(),y(e.title),l.style.display="inline"},outerWrapper:g,revealPlayer:v};function v(){d.style.visibility="visible",o=!1}function y(e){l.innerText=e,m()}}var Fu=function(e,t){return(Fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Wu(e,t){function r(){this.constructor=e}Fu(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Gu(e){return"function"==typeof e}var Hu=!1,Ku={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,Hu=e},get useDeprecatedSynchronousErrorHandling(){return Hu}};function $u(e){setTimeout((function(){throw e}),0)}var Yu={closed:!0,next:function(e){},error:function(e){if(Ku.useDeprecatedSynchronousErrorHandling)throw e;$u(e)},complete:function(){}},Ju=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function Xu(e){return null!==e&&"object"==typeof e}var Zu=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),Qu=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(Gu(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(e){t=e instanceof Zu?ed(e.errors):[e]}}if(Ju(a)){s=-1;for(var c=a.length;++s<c;){var u=a[s];if(Xu(u))try{u.unsubscribe()}catch(e){t=t||[],e instanceof Zu?t=t.concat(ed(e.errors)):t.push(e)}}}if(t)throw new Zu(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function ed(e){return e.reduce((function(e,t){return e.concat(t instanceof Zu?t.errors:t)}),[])}var td=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),rd=function(e){function t(r,n,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Yu;break;case 1:if(!r){o.destination=Yu;break}if("object"==typeof r){r instanceof t?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new nd(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new nd(o,r,n,i)}return o}return Wu(t,e),t.prototype[td]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(Qu),nd=function(e){function t(t,r,n,i){var o,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return Gu(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==Yu&&(Gu((s=Object.create(r)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=o,a._error=n,a._complete=i,a}return Wu(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;Ku.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=Ku.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):$u(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;$u(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};Ku.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),Ku.useDeprecatedSynchronousErrorHandling)throw e;$u(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!Ku.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return Ku.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):($u(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(rd),id=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function od(e){return e}function ad(e){return 0===e.length?od:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var sd=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=function(e,t,r){if(e){if(e instanceof rd)return e;if(e[td])return e[td]()}return e||t||r?new rd(e,t,r):new rd(Yu)}(e,t,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||Ku.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Ku.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){Ku.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,r=t.closed,n=t.destination,i=t.isStopped;if(r||i)return!1;e=n&&n instanceof rd?n:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=cd(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(e){n(e),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[id]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:ad(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=cd(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function cd(e){if(e||(e=Ku.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function ud(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new dd(e,t))}}var dd=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new ld(e,this.project,this.thisArg))},e}(),ld=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return Wu(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(rd);function fd(e,t,r,n){return Gu(r)&&(n=r,r=void 0),n?fd(e,t,r).pipe(ud((function(e){return Ju(e)?n.apply(void 0,e):n(e)}))):new sd((function(n){pd(e,t,(function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,r)}))}function pd(e,t,r,n,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,r,i),o=function(){return a.removeEventListener(t,r,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,r),o=function(){return s.off(t,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,r),o=function(){return c.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,d=e.length;u<d;u++)pd(e[u],t,r,n,i)}n.add(o)}var gd=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return Wu(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,r){return e.call(this)||this}return Wu(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Qu)),md=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return Wu(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(cancelAnimationFrame(r),t.scheduled=void 0)},t}(gd),vd=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),yd=function(e){function t(r,n){void 0===n&&(n=vd.now);var i=e.call(this,r,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return Wu(t,e),t.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(vd),hd=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wu(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(yd))(md);function bd(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var wd=bd(),Sd=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function _d(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Od=function(e){if(e&&"function"==typeof e[id])return i=e,function(e){var t=i[id]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Sd(e))return n=e,function(e){for(var t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()};if(_d(e))return r=e,function(e){return r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,$u),e};if(e&&"function"==typeof e[wd])return t=e,function(e){for(var r=t[wd]();;){var n=void 0;try{n=r.next()}catch(t){return e.error(t),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e};var t,r,n,i,o=Xu(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};var Id=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,r}return Wu(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(rd),Ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wu(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(rd);function Ad(e,t){if(!t.closed)return e instanceof sd?e.subscribe(t):Od(e)(t)}function kd(e,t){return"function"==typeof t?function(r){return r.pipe(kd((function(r,n){return(i=e(r,n),i instanceof sd?i:new sd(Od(i))).pipe(ud((function(e,i){return t(r,e,n,i)})));var i})))}:function(t){return t.lift(new xd(e))}}var xd=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Pd(e,this.project))},e}(),Pd=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.index=0,n}return Wu(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var r=new Id(this),n=this.destination;n.add(r),this.innerSubscription=Ad(e,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(Ed);function jd(){}var Td=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new Cd(e,this.nextOrObserver,this.error,this.complete))},e}(),Cd=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o._tapNext=jd,o._tapError=jd,o._tapComplete=jd,o._tapError=n||jd,o._tapComplete=i||jd,Gu(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||jd,o._tapError=r.error||jd,o._tapComplete=r.complete||jd),o}return Wu(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(rd),Rd=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new Dd(e),n=Ad(this.notifier,new Id(r));return n&&!r.seenValue?(r.add(n),t.subscribe(r)):r},e}(),Dd=function(e){function t(t){var r=e.call(this,t)||this;return r.seenValue=!1,r}return Wu(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(Ed),Ud=1,Md=function(){return Promise.resolve()}(),Bd={};function Nd(e){return e in Bd&&(delete Bd[e],!0)}var Ld=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return Wu(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=(i=t.flush.bind(t,null),o=Ud++,Bd[o]=!0,Md.then((function(){return Nd(o)&&i()})),o)));var i,o},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(Nd(r),t.scheduled=void 0)},t}(gd),qd=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wu(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(yd))(Ld),zd=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=qd);var i,o=e.call(this)||this;return o.source=t,o.delayTime=r,o.scheduler=n,(Ju(i=r)||!(i-parseFloat(i)+1>=0)||r<0)&&(o.delayTime=0),n&&"function"==typeof n.schedule||(o.scheduler=qd),o}return Wu(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=qd),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(sd),Vd=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new zd(t,this.delay,this.scheduler).subscribe(e)},e}(),Fd=function(e,t){return(e.clientX-t.clientX)*(e.clientX-t.clientX)+(e.clientY-t.clientY)*(e.clientY-t.clientY)},Wd=function(e){return e.touches[0]},Gd=function(e,t,r){e.style.transform="translate(".concat(t,"px, ").concat(r,"px)")},Hd=function(e,t){return new Promise((function(r){var n=fd(e,"touchstart"),i=fd(document,"touchmove"),o=fd(document,"touchend");n.pipe(kd((function(n){var a=Wd(n);n.preventDefault(),n.stopPropagation();var s,c,u=o.pipe(ud((function(e){return e.preventDefault()||Fd(e.changedTouches[0],a)})),(s=function(n){n>=4e4?(t.userActive(!0),r()):(Gd(e,0,0),t.userActive(!0))},function(e){return e.lift(new Td(s,undefined,undefined))}));return i.pipe(ud((function(e){return t=Wd(e),r=a,{x:t.clientX-r.clientX,y:t.clientY-r.clientY,distSQ:Fd(t,r)};var t,r})),(c=u,function(e){return e.lift(new Rd(c))}),function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new Vd(e,t))}}(hd))}))).subscribe((function(t){t.distSQ>=1e4?Gd(e,t.x,t.y):Gd(e,0,0)}))}))};function Kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jd(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Xd(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Jd(o,n,i,a,s,"next",e)}function s(e){Jd(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Zd=function(){var e=Xd(regeneratorRuntime.mark((function e(t,n,i){var o,a,s,c,u,d,l,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="chromeless",a={pos:"jw_preroll"},s=t.width,c=t.height,u=t.bannerFallback,d=void 0===u?{}:u,e.next=5,i;case 5:return l=e.sent,f={isMobile:MobileUtils.isMobile(),playerId:"default",preload:"none",initialVideo:!0,syndicationService:null,plugins:{tracking:{disableMolTracking:t.disableMolTracking,channelShortName:t.pageCriteraVideoChannel,sponsored:null,referenceId:"",videoId:"",trackingType:o,recommendationModel:""},"video-advertising-mode":{},"autoplay-next-video":{},"ads-setup":{bidmax:!0,cust_params:a,headerBiddingParams:{platform:"dmplayer",pos:"jwplayer"},schedule:t.schedule,adsEnabled:!0,vpaidEnabled:!0,useIMASDK:t.useImaSdk,adsCancelTimeout:15e3,screen:{width:s,height:c},bannerFallback:!!d.enabled},"related-videos":{videos:l,playlistHistory:!1}}},e.next=9,r.g.DM.molFeVideoplayer.initializeVideo(n,f);case 9:return p=e.sent,e.abrupt("return",p);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Qd=function(e,t){t.on("videoAd.start",(function(t){e.emit("chromeless player event","adPlay",t)})),t.on("play",(function(t){return e.emit("chromeless player event","play",t)})),t.on("error",(function(t){return e.emit("chromeless player event","error",t)})),t.on("videoAd.contentPauseRequested",(function(t){e.emit("chromeless player event","adPlay",t)})),t.on("videoAd.contentResumeRequested",(function(t){e.emit("chromeless player event","play",t)})),t.on("request-reset",(function(t){return e.emit("chromeless player event","playlistItem",t)})),t.on("time",(function(t){return e.emit("chromeless player event","time",t)})),t.on("videoAd.error",(function(t){return e.emit("chromeless player event","adError",t)})),t.on("videoAd.impression",(function(t){e.emit("video ad impression",t),e.emit("chromeless player event","adImpression",t)}))},el=function(){function e(t,r,n,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.broker=t,this.playerConfig=r,this.playlist=n,this.config=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kd(Object(r),!0).forEach((function(t){$d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r),this.log=i,this.containerInitialised=this.containerInitialised.bind(this),this.playerRemove=this.playerRemove.bind(this),this.getPlaylistItem=this.getPlaylistItem.bind(this),this.handleRenderMpuAd=this.handleRenderMpuAd.bind(this),t.on("creative updated plugins",(function(e){e.hasOwnProperty("chromeless.dmplayer")&&!e["chromeless.dmplayer"]&&o.playerRemove()}))}var t,n,i,o;return t=e,(n=[{key:"handlePlay",value:function(e){this.videoPlayerRef.handlePlay(e)}},{key:"handleAdPlay",value:function(e){this.videoPlayerRef.handleAdPlay(e)}},{key:"handleError",value:function(e){}},{key:"handleRenderMpuAd",value:function(e,t){var r=this,n="mpu_player";this.log("rendering ".concat(n)),e.pauseOnBlur&&this.broker.emit("mpuPlayerDisplayed",!0);var i=function(){var i=Xd(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r.videoPlayerRef.clearMpuAd(t),r.broker.emit("destroy slot",n),o.removeAttribute("data-adverts-ad"),i.next=5,r.broker.invoke("is page visible?");case 5:if(a=i.sent,!e.pauseOnBlur||a){i.next=10;break}return r.log("page not visible... waiting"),i.next=10,r.broker.until("page visible");case 10:r.log("restarting player"),e.pauseOnBlur&&r.broker.emit("mpuPlayerDisplayed",!1),r.broker.emit("bannerFallbackAd destroyed");case 13:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),o=document.getElementById(n),a=this.broker.register("get tags",(function(e){if(e.slot.pos===n)return a.cancel(),[{offset:t.offset}]}));this.broker.emit("slot defined",{pos:n,id:n,parentId:n},o),this.broker.once("ad rendered",n,(function(o){var a=o.isEmpty;if(r.log("".concat(n," rendered")),a)return r.log("".concat(n," empty")),void i();r.videoPlayerRef.handleMpuAd(t),setTimeout((function(){r.log("destroying ".concat(n)),i()}),e.bannerFallback.displayTimeout)}))}},{key:"getPlaylistItem",value:function(){return this.player.options_}},{key:"monitorEvents",value:function(){var e=this,t=this.broker,r=this.config,n=r.bannerFallback,i=void 0===n?{}:n,o=r.pauseOnBlur,a=void 0===o||o;t.on("chromeless player event","adPlay",(function(t){return e.handleAdPlay(t)})),t.on("chromeless player event","play",(function(t){return e.handlePlay(t)})),t.on("chromeless player event","error",(function(t){return e.handleError(t)})),r.bannerFallback&&r.bannerFallback.enabled&&t.on("chromeless player event","bannerFallbackAd",(function(t){return e.handleRenderMpuAd({bannerFallback:i,pauseOnBlur:a},t)}))}},{key:"createPlayerLayout",value:(o=Xd(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.config,r=t.width,n=t.height,i=t.ui,this.timer=+new Date,this.monitorEvents(),this.targetBody=document.createElement("div"),this.targetBody.id="chromelessPlayer",this.targetBody.className="jwplayer_body",this.targetBody.style.width="".concat(r,"px"),this.targetBody.style.height="".concat(n,"px"),this.targetBody.style.background="url(".concat(this.config.ui.backgroundImage,")"),document.body.appendChild(this.targetBody),o={ref:function(e){a.videoPlayerRef=e},containerInitialised:this.containerInitialised,targetBody:this.targetBody,onClose:this.playerRemove,config:{width:r,ui:i},getPlaylistItem:this.getPlaylistItem},this.videoPlayerRef=Vu(o),this.targetBody.appendChild(this.videoPlayerRef.outerWrapper);case 13:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"playerRemove",value:function(){this.videoPlayerRef.outerWrapper.parentNode.removeChild(this.videoPlayerRef.outerWrapper),this.targetBody.remove(),this.broker.emit("set slots enabled",["chromeless"],!1),this.broker.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"close"}})}},{key:"initialisePlayer",value:function(){var e=this;this.broker.emit("set slots enabled",["chromeless"],!0),r.g.DM.later("videoplayer-ready",Xd(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zd(e.playerConfig,e.videoEl,e.playlist);case 2:e.player=t.sent,r=e.config,n=r.delayBeforeMakingPlayerVisible,i=r.nonOptimisedMobileHomePage,setTimeout((function(){e.targetBody.style.visibility="visible",e.broker.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"open"}})}),n),i&&Hd(e.targetBody,e.player).then((function(){return e.playerRemove()})),e.broker.emit("chromeless player ready",e.player),Qd(e.broker,e.player);case 8:case"end":return t.stop()}}),t)}))))}},{key:"containerInitialised",value:(i=Xd(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.broker,i=this.config,this.videoEl=r,o=i.width,a=i.height,s=i.videoAdServerUrl,c=i.pageLoadTimeout,n.emit("chromeless videoPlayer container ready",{broker:n,adEl:t,videoEl:r,config:{width:o,height:a,videoAdServerUrl:s,pageLoadTimeout:c}});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})}])&&Yd(t.prototype,n),e}();function tl(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function rl(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){tl(o,n,i,a,s,"next",e)}function s(e){tl(o,n,i,a,s,"throw",e)}a(void 0)}))}}function nl(e){return il.apply(this,arguments)}function il(){return(il=rl(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt({url:t,timeout:18e3});case 2:return r=e.sent,e.abrupt("return",JSON.parse(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ol=function(e,t,r,n){return e.filter((function(e){return e.duration<=t.maxVideoDuration})).map((function(e){return{linkBaseURL:e.articleUrl,isMobile:!1,duration:e.duration,src:e.url,source:e.source,playerId:"default",title:e.headline,preload:"none",initialVideo:!1,thumbnail:e.stillImageUrl,poster:t.backgroundImage,syndicationService:!1,plugins:{tracking:{disableMolTracking:r,channelShortName:n,sponsored:null,referenceId:e.id,videoId:e.externalVideoIdent,trackingType:"chromeless",recommendationModel:""},"ads-setup":{adsEnabled:!0,screen:{width:401,height:225},adsCancelTimeout:15e3},"autoplay-inline":{enabled:!1,alwaysOn:!1}},videoId:e.externalVideoIdent,descr:e.headline,referenceId:e.id,grapeshot:{article:{articleURL:e.articleUrl}}}}))},al=function(){var e=rl(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nl(t.ui.playlistUrl).catch((function(e){console.log("No jwplayer playlist available due to ",e.message)}));case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:return n=r[t.trackingData.videoChannel],i=t.ui.shufflePlaylist?(0,k.TV)(n):n,e.abrupt("return",ol(i,t.ui,t.disableMolTracking,t.pageCriteraVideoChannel));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sl=MobileUtils.isMobile()&&!MobileUtils.isAndroidTablet()&&!MobileUtils.isIPad();function cl(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function ul(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){cl(o,n,i,a,s,"next",e)}function s(e){cl(o,n,i,a,s,"throw",e)}a(void 0)}))}}function dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ll(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ll(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fl(Object(r),!0).forEach((function(t){gl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ml=function(){return(0,zu.GH)()&&sl&&("desktop"===(0,I.ej)("mol-home")||"true"===(0,I.ej)("mol-desktop"))},vl=function(e){var t=e("players.chromeless.dmplayer.v2.schedule",[]),r=e("players.chromeless.dmplayer.v2.adUnitName","dm_dmros_ros"),n=e("players.chromeless.dmplayer.v2.adRequestBaseUrl","https://pubads.g.doubleclick.net/gampad/ads");return t.map((function(e){return e.videoAdServerUrl&&e.videoAdServerUrl.iu&&(e.videoAdServerUrl.iu=e.videoAdServerUrl.iu.replace(/(\/mid|\/pre|\/post)/,"/".concat(r,"$1"))),pl(pl({},e),{},{videoAdServerUrl:n+"?"+Object.entries(e.videoAdServerUrl).map((function(e){var t=dl(e,2),r=t[0],n=t[1];return r+"="+"".concat(n).replace(/\//g,"%2F")})).join("&")})}))},yl=function(){var e=ul(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.broker,i=t.adEl,o=t.videoEl,a=t.config,s=a.width,c=a.height,u=a.videoAdServerUrl,d=a.pageLoadTimeout,n.emit("start early video bid",{adEl:i,videoEl:o,offset:0,pos:"jwplayer",articleURL:"".concat(r.g.location.protocol,"//").concat(r.g.location.host).concat(r.g.location.pathname),timeout:d,screen:{height:c,width:s},videoAdServerUrl:u,autoplay:!0,excludeSpotX:!1,platform:"dmplayer"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hl=function(e){var t,n=e.broker,i=e.getConfig,o=e.log,a=function(e){var t=e("plugins.slots.jwplayer.v2",{}),n=e("plugins.slots.jwplayer.v2.useIMASSDK",!0),i=e("players.flyoutConfig",{}),o=i.pauseAdsOnBlur,a=void 0===o||o,s=i.pauseWhenUserInOtherTab,c=void 0===s||s,u=i.pauseWhenUserInOtherApplication,d=a&&c&&(void 0===u||u),l=t.bannerFallback,f=void 0===l?{}:l,p=t.mediaType&&t.mediaType.video&&t.mediaType.video.playerSize||[401,225],g=dl(f.enabled?f.playerSize:p,2),m=g[0],v=g[1],y=new Set(["news","tvshowbiz","femail","health","sciencetech","travel","money"]).has(r.g.PageCriteria.channel)?r.g.PageCriteria.channel:"news";return pl(pl({width:m,height:v,delayBeforeMakingPlayerVisible:e("players.chromeless.dmplayer.v2.delayBeforeMakingPlayerVisible",4e3)},t),{},{nonOptimisedMobileHomePage:ml(),trackingData:{videoChannel:y},schedule:vl(e),disableMolTracking:e("players.chromeless.dmplayer.v2.disableMolTracking",!0),pageCriteraVideoChannel:r.g.PageCriteria.channel,useImaSdk:n,bannerFallback:f,pauseOnBlur:d})}(i),s=a.ui,c=a.disableMolTracking,u=a.pageCriteraVideoChannel,d=a.trackingData,l=a.bannerFallback,f=void 0===l?{}:l,p=new Promise((function(e){n.once("ad rendered","billboard",(function(){return setTimeout(e,500)}))}));if(n.on("creative updated plugins",(function(e){e.hasOwnProperty("chromeless.dmplayer")&&!e["chromeless.dmplayer"]&&(t=!0)})),f.enabled){o("banner fallback enabled");var g={mpu_player:{id:"mpu_player",dynamic:!0,size:[[300,250]]}};n.register("get enabled not-quite-dynamic slots",(function(){return Object.keys(g)})),n.register("get not-quite-dynamic extra slot descriptions",(function(){return Object.entries(g).map((function(e){var t=dl(e,2);return pl({pos:t[0]},t[1])}))}))}n.on("plugins enabled",ul(regeneratorRuntime.mark((function e(){var l,f,g,m,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:if(l=new Promise((function(e){n.on("chromeless videoPlayer container ready",(function(t){yl(t),e()}))})),n.register("get video tags",(function(e){var t=e.pos,n=r.g.PageCriteria.channel;if("jwplayer"===t)return{cust_params:{channel:n}}})),f=al({ui:s,disableMolTracking:c,pageCriteraVideoChannel:u,trackingData:d}),g=new el(n,a,f,o),r.g.DM.later("DOM_READY",ul(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.invoke("is page visible?");case 2:e.sent||!a.pauseOnBlur?(o("Page has focus - rendering player"),g.createPlayerLayout()):(o("Waiting for page to focus"),n.once("page visible",(function(){o("Page has focus - rendering player"),g.createPlayerLayout()})));case 4:case"end":return e.stop()}}),e)})))),m=i("players.chromeless.dmplayer.v2.delayBeforeStartPlayer",2e3),!i("plugins.enabled").includes("chromelessWaitForBillboard")){e.next=14;break}return v=Date.now(),e.next=12,p;case 12:y=Date.now()-v,m=y>m?0:m-y;case 14:setTimeout(ul(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l;case 5:g.initialisePlayer(),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),console.log("Unable to start chromeless player due to",e.t0.message),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),m);case 15:case"end":return e.stop()}}),e)}))))};hl.pluginSetup=function(e){var t=e.getConfig,n=(e.addPlugins,e.removePlugins),i=t("plugins.enabled");if(i.includes("chromelessv2.dmplayer")){var o=!i.includes("players.flyoutManager")&&(r.g.PageCriteria.containsVideo||r.g.document.querySelector('meta[property="og:video"]')),a=t("players.chromeless.dmplayer.v2.domainExclusions",[]),s=t("players.chromeless.dmplayer.v2.articleIdExclusions",[]).map((function(e){return e.toString()})),c=a.length&&(a.includes(r.g.location.hostname)||a.includes(r.g.location.hostname.replace(/www./,"")))||r.g.PageCriteria.articleId&&s.length&&s.includes(r.g.PageCriteria.articleId),u=t("players.chromeless.dmplayer.v2.enableWifiDetection",!1),d=navigator.connection&&"wifi"===navigator.connection.type;(c||o||sl&&!ml()||u&&!d||!u&&sl)&&n(["chromelessv2.dmplayer"])}};var bl=hl,wl=DM.molFeComponents;function Sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(r),!0).forEach((function(t){Ol(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ol(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Il(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function El(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Il(o,n,i,a,s,"next",e)}function s(e){Il(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||kl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(e,t){if(e){if("string"==typeof e)return xl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xl(e,t):void 0}}function xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pl=(0,A.U2)("cmp.v2.dissent.pluginsWhitelist",[]),jl=(0,A.U2)("cmp.v2.dissent.forceConfig",{}),Tl=["dmgmediaprivacy.co.uk","dmgprivacyint.co.uk","localhost","127.0.0.1"],Cl=MobileUtils.isMobile()&&!MobileUtils.isAndroidTablet()&&!MobileUtils.isIPad(),Rl={getUSPData:"__cachedUSPData"},Dl=function(e){return Boolean(Tl.find((function(t){return e.endsWith(t)})))},Ul=function(){var e=new Set(Pl),t=jl,r=(0,A.U2)("plugins.enabled").filter((function(t){return e.has(t)}));(0,A.t8)("plugins.enabled",r),Object.entries(t).forEach((function(e){var t=Al(e,2),r=t[0],n=t[1];(0,A.t8)(r,n)}))},Ml=function(e){var t=function(t){if(!function(e){if(void 0!==e.dataset.cmpNoConsent||/(cookie\s+policy|privacy\s+settings)/i.test(e.textContent))return!0;var t,r=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=kl(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(document.querySelectorAll("*[data-cmp-no-consent]"));try{for(r.s();!(t=r.n()).done;){var n=t.value;if((0,at.contains)(n,e))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}(t.target)){var n=function(e){if("function"==typeof Event)return new e.constructor(e.type,e);var t=document.createEvent("Event");return t.initEvent(e.type,e.bubbles,e.cancelable),t}(t);t.preventDefault(),r(),e.emit("extra cmp ui tracking event","site clicked"),qa("consentToAll").then((function(){t.target.dispatchEvent(n)})).catch((function(e){console.error(e),t.target.dispatchEvent(n)}))}},r=function(){document.body.removeEventListener("click",t)};return document.body.addEventListener("click",t),r},Bl=function(){var e=El(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||I.cj||r("cmp.isEmbeddedVideo",!1)){e.next=7;break}return e.next=3,qa("rendered");case 3:return i=Ml(t),e.next=6,qa("onUpdate");case 6:i();case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Nl=function(){var e=El(regeneratorRuntime.mark((function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([za(),Va()]);case 2:n=e.sent,i=Al(n,2),o=i[0],a=i[1],o||Ul(),Bl(t,r,a);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ll=function(){var e=El(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([za(),Va()]);case 2:t=e.sent,r=Al(t,2),n=r[0],r[1]?localStorage.setItem(La,n?"yes":"no"):localStorage.removeItem(La);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ql=function(){var e=El(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ha(),e.abrupt("return",Promise.all(Object.entries(Rl).map((function(e){var t=Al(e,2),n=t[0],i=t[1];return new Promise((function(e){r.a.push([n,null,function(t,r){r&&(localStorage.setItem(i,JSON.stringify(t)),e(Ol({},n,t)))}])}))}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zl=function(e){var t=Ha()||function(e,t,r){var n,i=Rl[e];i&&(n=localStorage.getItem(i))?r(JSON.parse(n),!0):Ha().a.push([e,t,r])};return function(e){r.g.__uspapi=e}(t),t.a=t.a||[],t},Vl=function(){var e=El(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ya(),Dl((u=r,d=void 0,d=document.createElement("a"),d.href=u,d).hostname)){e.next=3;break}throw new Error('CMP script base "'.concat(r,'" is not allowed.'));case 3:if((I.s$||I.JW)&&(r=r.replace(/^https?:/,"")),n=document.createElement("script"),!(i=t("cmp.isEmbeddedVideo",!1))){e.next=14;break}return o=".vjs-flyout-wrapper-fixed .vjs-video-container",e.next=10,Promise.race([(0,at.elementReady)(o,4500),(0,M.Vs)(4e3)]);case 10:n.dataset.renderIn=o,n.dataset.renderVideo=!0,e.next=15;break;case 14:n.dataset.render=!0;case 15:n.id="mol-ads-cmp",n.src="".concat(r,"/iife/mol-ads-cmp.js"),a=document.createElement("link"),s=document.head.querySelector('link[rel="stylesheet"]')||document.head.lastChild,c=function(){switch(!0){case i:return"video";case Cl:return"mobile";default:return"desktop"}}(),a.setAttribute("rel","stylesheet"),a.setAttribute("href","".concat(r,"/css/").concat(c,".css")),document.head.insertBefore(a,s),document.head.appendChild(n);case 24:case"end":return e.stop()}var u,d}),e)})));return function(t){return e.apply(this,arguments)}}(),Fl=function(){var e=El(regeneratorRuntime.mark((function e(t){var n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.broker,i=t.getConfig,o=t.log,wl.setConfig("molFeHomeChannel/showGDPRControls",{enabled:!I.cj&&Ga()}),I.SP["mol.ads.cmp.stubConsent"]?localStorage.setItem(La,"yes"):I.SP["mol.ads.cmp.stubDissent"]&&localStorage.setItem(La,"no"),a=zl(),ql(n),a("onUpdate",null,function(){var e=El(regeneratorRuntime.mark((function e(t,r){var i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o("onUpdate",t),!r){e.next=10;break}return Ga()&&localStorage.setItem(La,t?"yes":"no"),e.next=5,ql(n);case 5:i=e.sent,a=i.find((function(e){return e.getUSPData})),o("consentData",a),(s=a&&a.getUSPData)&&(c=_l(_l({},s),{},{hasConsent:t}),o("cmp updated",c),n.emit("cmp updated",c));case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),Ga()&&qa("onDissent").then(El(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o("user dissented"),localStorage.setItem(La,"no"),e.next=4,ql(n);case 4:if(e.t0=e.sent,!e.t0){e.next=7;break}r.g.location.reload();case 7:case"end":return e.stop()}}),e)})))),Vl(i),Ll(),e.t0=localStorage.getItem(La),e.next="yes"===e.t0?12:"no"===e.t0?13:16;break;case 12:return e.abrupt("break",20);case 13:return e.next=15,Ul();case 15:return e.abrupt("break",20);case 16:if(!Ga()){e.next=19;break}return e.next=19,Nl(n,i);case 19:return e.abrupt("break",20);case 20:Ha()("onReset",null,(function(){localStorage.removeItem(La)}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wl(Object(r),!0).forEach((function(t){Hl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kl(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function $l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Kl(o,n,i,a,s,"next",e)}function s(e){Kl(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Yl=function(){var e=$l(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}if(!$a()){e.next=7;break}return e.next=4,r;case 4:n=e.sent,(i=n&&n[0])&&i.pubads().setPrivacySettings({restrictDataProcessing:!0});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function Jl(e){return Xl.apply(this,arguments)}function Xl(){return(Xl=$l(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.log,Ha()){e.next=3;break}return e.abrupt("return");case 3:return i={gdpr:"0",cmp:"ccpa"},o=r.until("gpt initialized"),a=function(e){var t=e.hasConsent,n=Gl(Gl({},i),{},{us_privacy:e.uspString,consent:t}),a=t||!$a()?0:1,s=1===a?Gl(Gl({},n),{},{rdp:a}):n;r.emit("set page level targeting",s);var c={cust_params:Gl({},n),rdp:a};r.emit("sync video tags update",c),Yl(t,o)},r.on("cmp updated",function(){var e=$l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("user consentData updated",t),a(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.prev=7,e.next=10,qa("getUSPData");case 10:s=e.sent,c=Ka(),n("setting initial user consentData",s,c),a(Gl(Gl({},s),{},{hasConsent:c})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.error("[mol-ads]: There was a problem fetching consent data");case 19:case"end":return e.stop()}}),e,null,[[7,16]])})))).apply(this,arguments)}function Zl(e){var t=e.broker;r.g.__promised_cmp=new Promise((function(e,n){t.on("plugins enabled",(function(t){if(!r.g.__cmp)return e();r.g.__cmp("hasChoiceBeenMade",null,(function(t,i){if(!i)return n(new Error("hasChoiceBeenMade failed"));t?r.g.__cmp("hasConsentedToAll",null,(function(t,r){if(!r)return n(new Error("hasConsentedToAll failed"));e(t)})):r.g.__cmp("onUpdate",null,(function(t,r){if(!r)return n(new Error("onUpdate failed"));e(t)}))}))}))})),r.g.postMessage("__promised_cmp:available","*")}function Ql(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function ef(){}Jl.pluginSetup=function(){var e=$l(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.getConfig,i=t.log,!Fa()){e.next=4;break}return e.next=4,Fl({broker:r,getConfig:n,log:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var tf="home ushome auhome".split(" "),rf=function(){return/(\?|&)ito=taboola/.test(window.location.search)},nf=(0,E.x)("Delayer");ef.pluginSetup=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.setConfig,i=!$a(),o=I.cj,a=PageCriteria.isMobile,s=navigator.cookieEnabled,c="channel"===PageCriteria.pageType,u=tf.includes(PageCriteria.channel),d=Ga()&&Wa(),nf("Initializing:",{newCmpUser:i,ios:o,ccpa:d,mobile:a,cookieEnabled:s,channel:c,home:u}),i&&o&&d&&a&&s&&c&&u){e.next=13;break}return nf("Not delaying"),e.abrupt("return");case 13:if(nf("Possible"),l=(0,I.ej)("mol-home"),nf("Cookie:",l),nf("Taboola:",rf()),!l&&!rf()){e.next=20;break}return nf("Not delaying"),e.abrupt("return");case 20:return nf("Active"),n("pluginManager.setupTimeout",6e5),nf("Change timeout to 10 minutes"),e.prev=23,e.next=26,new Promise((function(e,t){var r=!1,n=Date.now();!function i(){if(document.querySelector("#homePageCover"))r||nf("homePageCover detected"),r=!0;else{if(r)return nf("homePageCover closed"),e();var o=Date.now()-n;if(o>5e3)return nf("homePageCover never showed up after",o),t(new Error("homePageCover never showed up after ".concat(o," ms")))}setTimeout(i,200)}()}));case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(23),r.register("call for page analytics",(function(){return{missingHomePageCover:!0}}));case 31:case"end":return e.stop()}}),e,null,[[23,28]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ql(o,n,i,a,s,"next",e)}function s(e){Ql(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();var of="__ads_cmp_reprompt",af=(0,E.x)("cmp-reprompt");function sf(e){var t=e.getConfig;if((0,A.U2)("plugins.enabled").includes("cmp")&&"US"!==PageCriteria.geo){var r=t("cmp.reprompt",{version:0,chance:0});af("Goal:",r);var n=localStorage.getItem(of),i=n&&JSON.parse(n)||{version:0,chance:Math.random()},o=function(){af("Saving config"),localStorage.setItem(of,JSON.stringify(i))};af("Current:",i),i.version<r.version&&i.chance<r.chance?(af("Resetting CMP cookie"),Ha()("reset",null,(function(e,t){t?(af("Cookie removed"),i.version=r.version,i.ts=(new Date).toISOString(),o()):af("Failed resetting CMP")}))):n||o()}else af("Not in GDPR jurisdiction, bailing")}function cf(e){var t=e.broker;if(Fa()){var n="__cmp_ui_tracking\n",i={"overlay accepted":DM.molFeTracking.pageEvents.GDPR_OVERLAY_ACCEPTED,"overlay open settings":DM.molFeTracking.pageEvents.GDPR_OVERLAY_PRIVACY,"overlay displayed":DM.molFeTracking.pageEvents.GDPR_OVERLAY_DISPLAYED,"settings functional tab clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_FUNCTION_TAB_CLICKED,"settings advertising tab clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_ADVERTISING_TAB_CLICKED,"settings functional panel advertising link clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_ADVERTISING_LINK_CLICKED,"settings functional panel policy link clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_POLICY_LINK_CLICKED,"settings advertising panel policy link clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_POLICY_LINK_CLICKED,"settings advertising panel disallow":DM.molFeTracking.pageEvents.GDPR_SETTINGS_DISALLOW_ADVERTISING_PARTNERS,"settings advertising panel disallow confirmed":DM.molFeTracking.pageEvents.GDPR_SETTINGS_CONFIRMATION_DISALLOW,"settings advertising panel disallow declined":DM.molFeTracking.pageEvents.GDPR_SETTINGS_CONFIRMATION_ALLOW,"settings functional panel allow all":DM.molFeTracking.pageEvents.GDPR_SETTINGS_FUNCTION_ALLOW_ALL,"settings advertising panel allow all":DM.molFeTracking.pageEvents.GDPR_SETTINGS_ADVERTISING_ALLOW_ALL,"site clicked":DM.molFeTracking.pageEvents.GDPR_OVERLAY_ACCEPT_BY_CLICK_SITE};r.g.addEventListener("message",(function(e){var t=e.data;if(t&&"function"==typeof t.startsWith&&t.startsWith(n)){var r=t.substring(n.length),o=i[r];o?DM.molFeTracking.pageEvents.publish(o):console.warn("Unknown CMP UI Tracking event:",r)}}),!1),t.on("extra cmp ui tracking event",(function(e){return DM.molFeTracking.pageEvents.publish(i[e])}))}}var uf=Jl;function df(e,t){if(e){if("string"==typeof e)return lf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lf(e,t):void 0}}function lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ff(){}function pf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pf(Object(r),!0).forEach((function(t){mf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}ff.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=e.log,i=e.ownName;if(I.SP.setPlugin||I.SP.bidderPluginOn){if(I.SP.bidderPluginOn){var o=I.SP.bidderPluginOn.split(",").map((function(e){return"bidders.".concat(e.trim())}));r("plugins.enabled",function(e){return function(e){if(Array.isArray(e))return lf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||df(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t("plugins.enabled").filter((function(e){return-1===e.indexOf("bidders.")}))).concat(o))}if(I.SP.setPlugin){var a=I.SP.setPlugin.split(","),s=t("plugins.enabled",[]),c=s.indexOf(i)+1;a.forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||df(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":"),2),r=t[0],i=t[1];if(r=r.trim(),i=i.toString().trim(),"on,true,1,enabled".includes(i))n("enabling:",r),s.splice(c++,0,r);else{n("disabling:",r);var o=s.indexOf(r);o>-1&&(s.splice(o,1),o<c&&c--)}})),r("plugins.enabled",Array.from(new Set(s)))}}};var yf=function(e){if(e)return e.split(",").map((function(e){return e.split(":")})).reduce((function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0],i=r[1];return e[n]=i,e}),{})};function hf(e){var t=e.broker;if(I.SP.forceVideoTag||I.SP.forceDisplayTag){var r=yf(I.SP.forceDisplayTag),n=yf(I.SP.forceVideoTag);r&&console.log("[FORCE TARGETING] display tags",r),n&&console.log("[FORCE TARGETING] video tags",n),t.emit("set page level targeting",gf(gf({},r),n))}}function bf(e){return function(e){if(Array.isArray(e))return _f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Sf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||Sf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sf(e,t){if(e){if("string"==typeof e)return _f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_f(e,t):void 0}}function _f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Of(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function If(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Of(o,n,i,a,s,"next",e)}function s(e){Of(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Ef=(0,E.x)("permutive"),Af=function(){var e=If(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d,l,f,p,g,m,v,y,h,b,w,S,_,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.broker,i=t.getConfig,o=t.delayedInitialisation,Ef("initializing"),a=i("plugins.permutive.projectId","5f42864d-a421-4f37-9478-00266f871d68"),s=i("plugins.permutive.publisherUserId","TheDailyMail"),c=i("plugins.permutive.apiKey","ed45e86d-a09e-4d2b-85c0-fbbd6857373e"),u=i("plugins.permutive.environment","production"),d=i("plugins.permutive.eventsCacheLimitBytes",25e5),l=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];f.q.push({functionName:e,arguments:r})}},(f=r.g.permutive={config:{apiKey:c,environment:u,projectId:a,eventsCacheLimitBytes:d,delayedInitialisation:o},q:[],addon:l("addon"),consent:l("consent"),identify:l("identify"),on:l("on"),once:l("once"),query:l("query"),ready:l("ready"),segment:l("segment"),segments:l("segments"),track:l("track"),trigger:l("trigger"),user:l("user"),init:l("init")}).ready((function(){return n.emit("permutive ready")})),p=r.g.pagemeta||{},n.on("track in permutive",function(){var e=If(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ef("track:",t,n),r.g.permutive.track(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),g=i("plugins.permutive.dependenciesTimeout",2e3),m=n.invokeAll({message:["get grapeshot tags"],timeout:g}),v=n.invokeAll({message:["get admantx tags"],timeout:g}),y=Promise.all([m,v]).then((function(e){var t=wf(e,2);return{page:{article:{gsChannels:wf(t[0],1)[0]},admants:wf(t[1],1)[0]}}})),h=function(e){return{user:{id:e.user,status:"logged out"}}},b=r.g.RTA&&r.g.RTA.ids&&r.g.RTA.ids.then(h)||{},w=(0,M.yq)(g,b),e.next=21,Promise.all([y,w]);case 21:S=e.sent,_=C().apply(void 0,[{page:{type:p.contentType,article:{id:p.articleId,title:p.articleTitle,categories:p.channel?[p.channel.substr(1)]:void 0,publishedAt:p.publishedDate&&p.publishedDate.toISOString()||void 0,modifiedAt:p.updatedDate&&p.updatedDate.toISOString()||void 0,authors:p.authorsShortNames}}}].concat(bf(S))),Ef("web context:",_),_.user&&(O={id:_.user.id,tag:s},Ef("identity:",O),r.g.permutive.identify([O])),r.g.permutive.addon("web",_);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kf=(0,ei.ri)((function(e,t){return function(e){var t=e.broker,n=e.getConfig;return new Promise(function(){var e=If(regeneratorRuntime.mark((function e(i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.g.permutive){e.next=8;break}return o=n("plugins.permutive.webScriptSrc","https://cdn.permutive.com/5f42864d-a421-4f37-9478-00266f871d68-web.js"),a=n("plugins.permutive.delayedInitialisation",!1),e.next=5,Af({broker:t,getConfig:n,delayedInitialisation:a});case 5:return e.next=7,t.invoke("import script",o);case 7:a&&r.g.permutive.init();case 8:i();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}({broker:e,getConfig:t})}));function xf(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Pf(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){xf(o,n,i,a,s,"next",e)}function s(e){xf(o,n,i,a,s,"throw",e)}a(void 0)}))}}var jf=function(){return JSON.parse(r.g.localStorage.getItem("_pdfps")||"[]")};function Tf(e){return Cf.apply(this,arguments)}function Cf(){return(Cf=Pf(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=kf(r,n),r.emit("set page level targeting",i.then((function(){return{permutive:jf()}})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Df(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Df(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uf(Object(r),!0).forEach((function(t){Bf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nf(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Lf(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Nf(o,n,i,a,s,"next",e)}function s(e){Nf(o,n,i,a,s,"throw",e)}a(void 0)}))}}function qf(e){return zf.apply(this,arguments)}function zf(){return(zf=Lf(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d,l,f,p,g,m,v,y,h,b,w,S,_,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.broker,o=t.getConfig,a=DM&&DM.pageEvents,s=(0,E.x)("permutive"),a){e.next=5;break}return e.abrupt("return");case 5:return c=kf(i,o),u=i.invokeAll("get grapeshot tags").then((function(e){return Array.isArray(e)&&Array.isArray(e[0])?e[0]:[]})),e.next=9,(0,M.Ye)(1500,[u]);case 9:return d=e.sent,l=d.results,f=l[0],p={},g={},m=1,e.next=17,c;case 17:v=function(e,t){var r=e.title,n=e.referenceId,i=e.autoplay;return{video:{name:r,id:String(n),tags:f},autoStart:i,playId:t}},y=function(e){var t=e.videoId;p[t]=v(e,String(m)),s("videoDataReady Event, id: ".concat(t),p[t]),m++},h=function(e){var t=e.videoId,n=p[t];s("Sending VideoPlay Event, id: ".concat(t),n),r.g.permutive.track("VideoPlay",n)},b=function(e){var t=e.videoId,n=Mf({},p[t]);e.ratio>0&&(n.progress=e.ratio,s("Sending VideoProgress Event, id: ".concat(t),n),r.g.permutive.track("VideoProgress",n))},w=function(e){var t=e.videoId,n=e.adImpression,i=(n.adWrapperSystems&&Object.fromEntries(n.adWrapperSystems.map((function(e,t){return[e,n.adWrapperIds[t]]})))||[]).GDFP,o={id:i&&String(i)||void 0,advertiserName:n.advertiserName,creativeId:String(n.creativeId),deal_id:String(n.dealId)};g[t]=o;var a=Mf(Mf({},p[t]),{},{ad:o});s("Sending VideoAdPlay Event, id: ".concat(t),a),r.g.permutive.track("VideoAdPlay",a)},S=function(e){var t=e.videoId,n=Mf(Mf({},p[t]),{},{ad:Mf({},g[t])});s("Sending VideoAdComplete Event, id: ".concat(t),n),r.g.permutive.track("VideoAdComplete",n),delete g[t]},_=function(e){e=Mf(Mf({},e),{},{ratio:1}),b(e),delete p[e.videoId]},Bf(n={},a.VIDEO_DATA_READY,y),Bf(n,a.VIDEO_CONTENT_STARTED,h),Bf(n,a.VIDEO_PROGRESS,b),Bf(n,a.VIDEO_ADVERT_IMPRESSION,w),Bf(n,a.VIDEO_ADVERT_COMPLETED,S),Bf(n,a.VIDEO_CONTENT_COMPLETED,_),O=n,Object.entries(O).forEach((function(e){var t=Rf(e,2),r=t[0],n=t[1];s("Registering","video page event ".concat(r)),i.on("video page event ".concat(r),(function(e,t){n(t)}))}));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Ff(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Vf(o,n,i,a,s,"next",e)}function s(e){Vf(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Wf(e){var t=e.broker,r=e.getConfig,n=r("plugins.permutive.projectId","5f42864d-a421-4f37-9478-00266f871d68"),i=r("plugins.permutive.indexedDBVersion",2),o=new Promise((function(e){var t=indexedDB.open(n,i);t.onsuccess=Ff(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.result,r.next=3,Promise.all(Object.values(n.objectStoreNames).map((function(e){var t=n.transaction(e,"readonly").objectStore(e).getAll();return new Promise((function(e){t.onsuccess=function(){var r=t.result.reduce((function(e,t){return t.byteLength?e+t.byteLength:t.length?e+t.length:e}),0);e(r)}}))})));case 3:i=r.sent,n.close(),e(i.reduce((function(e,t){return e+t}),0));case 6:case"end":return r.stop()}}),r)})))}));t.register("call for page analytics",Ff(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return e.t0=e.sent,e.t1={permutive:e.t0},e.abrupt("return",{indexedDB:e.t1});case 5:case"end":return e.stop()}}),e)}))))}function Gf(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Hf(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Gf(o,n,i,a,s,"next",e)}function s(e){Gf(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $f(e){return($f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(r),!0).forEach((function(t){Xf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Tf.vendorIds={gdpr:[361]},qf.vendorIds={gdpr:[361]},z("players.targeting",{run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("auction.maxTime",2e3),o={},a=Du.KC(),s={broker:t,log:n,pageLevelTargetingStream:a,defaultTargetingCollectionTimeout:i};t.on("set page level targeting",function(){var e=Hf(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:(r=e.sent)&&C()(o,r),a.push(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var c=t.until("configure and start prebid");t.on("collect video tags",function(){var e=Hf(regeneratorRuntime.mark((function e(t,r){var i,a,u,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:i=ep(s,t),a=i.pos,u=i.autoplay,d=i.offset,n("requesting video bid for ".concat(a,", ").concat(u?"autoplay":"ctp",", offset: ").concat(d)),l=np(s,i),Object.keys(o).length&&(n("Dispatching known page level targeting:",o),r(null,{cust_params:Jf({},o)})),i.cust_params&&r(null,{cust_params:i.cust_params}),l&&rp(l,(function(e,t){r(e,t)}));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),t.on("start early video bid",function(){var e=Hf(regeneratorRuntime.mark((function e(t){var r,i,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:r=ep(s,t),i=r.pos,o=r.autoplay,a=r.offset,n("starting early video bid ".concat(i,", ").concat(o?"autoplay":"ctp",", offset: ").concat(a)),u=np(s,r),Zf[t.pos]=u;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}});var Zf={},Qf={jwplayer:0,video:0};function ep(e,t){return t.pos=t.pos||"video",t.timeout=t.timeout||e.defaultTargetingCollectionTimeout,"jwplayer"===t.pos&&(t.autoplay=!0,t.muted=!0),t}function tp(e,t){var r=e.broker,n=e.pageLevelTargetingStream,i=t.pos,o=t.timeout,a=Jf({slot:{pos:i}},t);r.emit("start bidding",i);var s=[];return s.push(r.openStream({message:["get video tags",a],timeout:o,controlHandler:function(e){var t=e.type,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["type"]);return r.emit("auction event",i,t,n)}})),function(e,t,r){var n=Du.c(e,Du.UI(t,(function(e){return{cust_params:e}})));return e.on("end",(function(){return r("Bidders finished, disconnecting pageLevelTargetingStream")})),n.on("close",(function(){return r("Auction ended, disconnecting pageLevelTargetingStream")})),n}(Du.TS(s),n,e.log)}function rp(e,t){e.on("data",(function(e){t(null,e)})).on("end",(function(){return t(null,null)}))}function np(e,t){var r=e.broker,n=e.log,i=t.pos,o=t.autoplay,a=t.offset;if(Zf[i]){n("found stream for ".concat(i,", ").concat(o?"autoplay":"ctp",", offset: ").concat(a));var s=Zf[i];return delete Zf[i],r.emit("cached video bid consumed",i,"".concat(o?"autoplay":"ctp")),s}return function(){Qf[i]++;var s="".concat(i,"-").concat(Qf[i]);n("creating bidStream for: ".concat(i,", ").concat(o?"autoplay":"ctp",", offset: ").concat(a,", auctionId: ").concat(s)),t.auctionId=s;var c=tp(e,t),u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Du.Ju(),2),d=u[0],l=u[1];return function(e,t,r,n,i){Du.dE(Du.hX(r,(function(e){return"object"===$f(e)})),(function(n){n&&console.warn("video bidding ended with error:",n),e.emit("auction event",t,"end"),e.emit("bidding ended",t,i),r.destroy()})).pipe(n)}(r,i,c,l,s),d}()}function ip(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function op(e){var t=e.broker,n=e.getConfig,i=e.log,o="androidMobile"===r.g.PageCriteria.device||"iphone"===r.g.PageCriteria.device;if(r.g.PageCriteria.containsVideo||r.g.document.querySelector('meta[property="og:video"]')){var a=n("plugins.slots.video.v2.pageLoadTimeout",4e3),s=n("plugins.slots.video.v2.videoAdServerUrl","http://pubads.g.doubleclick.net/gampad/ads?sz=[size]&iu=%2F5765%2Fdm.video%2Fdm_video_news_apfa&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast3&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]"),c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ip(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ip(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n("plugins.slots.video.v2.mediaTypes.video.playerSize",[640,360]),2),u=c[0],d=c[1],l=function(){var e=document.createElement("div");e.style.visibility="hidden";var n=document.createElement("video");n.setAttribute("muted","muted"),n.setAttribute("width",u),n.setAttribute("height",u),e.id="playerDiv_x",e.appendChild(n),document.body.appendChild(e);var c={pos:"video",articleURL:r.g.location.protocol+"//"+r.g.location.host+r.g.location.pathname,timeout:a,screen:{width:u,height:d},platform:"dmplayer",offset:0,videoAdServerUrl:s,autoplay:!1,excludeSpotX:!!o};i("start early video bid"),t.emit("start early video bid",c),setTimeout((function(){document.body.removeChild(e)}),5e3)};t.on("cached video bid consumed","video","ctp",(function(){return l()})),t.on("plugins enabled",(function(){r.g.DM.later("DOM_READY").then((function(){i("trigger early bid"),l()}))}))}}var ap=function(e){op(e)};function sp(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function cp(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){sp(o,n,i,a,s,"next",e)}function s(e){sp(o,n,i,a,s,"throw",e)}a(void 0)}))}}var up,dp,lp,fp,pp={},gp=!1,mp=!1,vp="androidMobile"===r.g.PageCriteria.device||"iphone"===r.g.PageCriteria.device,yp=function(e,t){document.addEventListener("click",(function(e){-1!==e.target.classList.toString().indexOf("vjs-flyout-close")&&(gp=!1,up=null)}),!0),document.addEventListener("play",(function(r){(0,at.closest)(r.target,(function(e){return e.classList.contains("vjs-video-container")}))&&(e&&(0,at.closest)(r.target,(function(e){return e.classList.contains("video-ads-container")}))||!(0,at.closest)(r.target,(function(e){return e.classList.contains("video-ads-container")})))&&(pp[r.target]=pp[r.target]||{},up=r.target,bp()||t&&gp&&!mp?(pp[r.target].playing=!1,mp=!0,r.target.pause(),gp=!0):(pp[r.target].playing=!0,gp=!1))}),!0),document.addEventListener("pause",(function(t){mp?mp=!1:(0,at.closest)(t.target,(function(e){return e.classList.contains("vjs-video-container")}))&&(e&&(0,at.closest)(t.target,(function(e){return e.classList.contains("video-ads-container")}))||!(0,at.closest)(t.target,(function(e){return e.classList.contains("video-ads-container")})))&&(pp[t.target]=pp[t.target]||{},pp[t.target].playing=!1,gp=!1)}),!0)},hp=function(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":""},bp=function(){try{return r.g.top.document.hidden||r.g.top.document.msHidden||r.g.top.document.webkitHidden||!1}catch(e){return!!undefined.visibilityApiEvent()}},wp=function(){return!!up&&pp[up].playing},Sp=function(e){up&&(wp()&&e?(mp=!0,up.pause(),gp=!0,pp[up].playing=!1):wp()||bp()||!gp?e||bp()||(gp=!1,wp()||(pp[up].playing=!0,up.play())):(up.play(),pp[up].playing=!0,gp=!1))},_p=function(e,t){(void 0===t||t)&&(r.g.top.addEventListener("blur",(function(){Sp(!0)})),r.g.top.addEventListener("focus",(function(){Sp(!1)}))),hp()&&(void 0===e||e)&&document.addEventListener(hp(),(function(e){Sp(bp(),hp())}),!1)},Op=function(e){up&&(dp=(0,at.getOffset)(up),lp=parseInt((0,at.getElementComputedHeight)(up)),fp=parseInt((0,at.getElementComputedHeight)(document.body)),gp&&dp.top+lp/2>0&&dp&&dp.top<fp-lp/2&&(up.play(),gp=!1))},Ip=function(e){var t=e.broker,n=e.getConfig;if(!n("plugins.enabled",[]).includes("players.flyoutManager")){var i=n("players.dmplayer.pauseOnVisibilityChange",!0),o=n("players.dmplayer.pauseOnBlur",!0),a=n("players.dmplayer.pauseOnAds",!1);if(a="false"!==a&&("true"===a||a),i="false"!==i&&("true"===i||i),o="false"!==o&&("true"===o||o),vp&&function(e){yp(),e.on("dom ready",(function(){document.addEventListener("pause",(function(e){(dp&&dp.top+lp/2<0||dp&&dp.top>fp-lp/2)&&(gp=!0)}),!0),document.addEventListener("scroll",r.g.DM.molFeMiniLodash.debounce(Op,100),{passive:!0,capture:!0}),document.addEventListener("touchmove",r.g.DM.molFeMiniLodash.debounce(Op,100),{passive:!0,capture:!0})}))}(t),!vp&&(i||o))var s=t.on("ad rendered",cp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yp(a,!0),_p(i,o),s.cancel();case 3:case"end":return e.stop()}}),e)}))))}},Ep=function(e){var t=e.broker,r=e.getConfig,n=r("performplayer",{enabled:!1});n.enabled&&t.on("dom ready",(function(){(function(e){var t=Array.from(document.querySelectorAll(".perform-player")),r=e("performplayer.related",{enabled:!1}),n=t.reduce((function(e,t){return"true"===t.getAttribute("data-related-player")?e.related.push(t):e.module.push(t),e}),{related:[],module:[]}),i=[];return r.enabled&&n.related.length>0&&i.push(n.related[0]),n.module.length>0&&i.push(n.module[0]),i})(r).map((function(e){return function(e){var t=e.getAttribute("data-tracking-id");return{node:e,urlFragment:t}}(e)})).forEach((function(e){var r="".concat(n.url,"#").concat(e.urlFragment),i=document.createElement("script");i.async=!0,i.src=r,i.onload=function(){return t.emit("new perform player",e.urlFragment,e.node)},e.node.parentNode.insertBefore(i,e.node.nextSibling)}))}))};Ep.vendorIds={gdpr:[323]};var Ap=Ep;function kp(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function xp(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){kp(o,n,i,a,s,"next",e)}function s(e){kp(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Pp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tp(e,t,r){return t&&jp(e.prototype,t),r&&jp(e,r),e}var Cp,Rp="androidMobile"===r.g.PageCriteria.device||"iphone"===r.g.PageCriteria.device,Dp=r.g.PageCriteria.isTablet,Up=[],Mp={},Bp=null,Np=!1,Lp=function(){function e(t){Pp(this,e),this.name=t,this.pausedBy=null,this.startedBy=null,this.hasFocus=!1}return Tp(e,[{key:"setLastActive",value:function(e,t){delete this.pausedBy,this.lastActive=e,this.startedBy=t}}]),e}(),qp={players:[],groups:{inlinePlayer:new Lp("inlinePlayer"),jwOrChromelessPlayer:new Lp("jwOrChromelessPlayer")}},zp=function(){r.g.document.querySelectorAll(".vjs-video-container video").forEach((function(e){e.player&&e.src&&!Up.includes(e)&&(e.player.on("pause",(function(){Yp({target:e})})),e.player.on("play",(function(){$p({target:e})})),Up.push(e))}))},Vp=function(e){var t=qp.players.find((function(t){return t.element===e.target}));if(!t){if(!(t=new Fp(e)).group)return null;qp.players.push(t)}return t},Fp=function(){function e(t){if(Pp(this,e),this.wrappers={},this.group=this.determineGroup(t),!this.group)return null;this.element=t.target,this.flagUserMouseover(),this.computedHeight=(0,at.getElementComputedHeight)(this.element),this.offset=(0,at.getOffset)(this.element)&&(0,at.getOffset)(this.element).top,Vp[t.target]=this}return Tp(e,[{key:"flagUserMouseover",value:function(){var e=this;e.container=e.wrappers.widthSetter||e.wrappers.zIndexSetter,e.container&&(e.container.addEventListener("mouseover",(function(){e.mouseOverPlayer=Date.now()})),e.container.addEventListener("mousemove",(function(){e.mouseOverPlayer=Date.now()})),e.container.addEventListener("mouseout",(function(){delete e.mouseOverPlayer})))}},{key:"setLastActive",value:function(){var e=this;Bp=e.group,e.group.lastActive=e,e.otherGroup.lastActive&&e.otherGroup.startedBy&&(e.otherGroup.pausedBy="sync",delete e.otherGroup.startedBy,e.otherGroup.lastActive.pause())}},{key:"handlePause",value:function(){this.otherGroup.lastActive&&"user"!==this.otherGroup.pausedBy&&(this.otherGroup.startedBy="sync",delete this.otherGroup.pausedBy,this.otherGroup.lastActive.play())}},{key:"isPaused",value:function(){return this.element.player?this.element.player.paused():this.element.paused}},{key:"isPlaying",value:function(){var e=this.element;return this.element.player?!this.element.player.paused():!!(e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2)}},{key:"determineGroup",value:function(e){var t,r=this;return e.target&&null===e.target.getAttribute("data-mol-fe-video-preview")?this.group=(0,at.closest)(e.target,(function(e){return"outerWrapper"===e.id}))?qp.groups.jwOrChromelessPlayer:(0,at.closest)(e.target,(function(e){return e.classList.contains("vjs-video-container")}))?qp.groups.inlinePlayer:null:this.group=null,this.isAd=!!(0,at.closest)(e.target,(function(e){return e.classList.contains("video-ads-container")}))||!!(0,at.closest)(e.target,(function(e){return e.classList.contains("jw-overlays")})),r.group&&(r.otherGroup=this.group?qp.groups[Object.keys(qp.groups).find((function(e){return e!==r.group.name}))]:null,"inlinePlayer"===r.group.name?(t=(0,at.closest)(e.target,(function(e){return e.classList.contains("vjs-flyout-wrapper-fixed")})))&&t.previousSibling?(r.wrappers.styleSetter=t.previousSibling,r.wrappers.widthSetter=t.getElementsByClassName("vjs-fixed")[0]):r.wrappers.widthSetter=r.wrappers.styleSetter=(0,at.closest)(e.target,(function(e){return e.classList.contains("vjs-fixed")})):"jwOrChromelessPlayer"===r.group.name&&(r.wrappers.zIndexSetter=(0,at.closest)(e.target,(function(e){return-1!==e.classList.toString().indexOf("jwplayer_body")})))),r.group}},{key:"play",value:function(){this.element&&(this.element.player?this.element.player.play():this.element.play())}},{key:"pause",value:function(){var e=this;e.element&&(e.element.player?e.element.player.pause():e.element.pause())}},{key:"handleScroll",value:function(){var e=this;!e.group.pausedBy&&(e.offset+e.computedHeight/1.5<r.g.scrollY||e.offset-.1*e.computedHeight>r.g.scrollY+window.innerHeight)&&(e.group.pausedBy="scroll",delete e.group.startedBy,e.pause()),"scroll"===e.group.pausedBy&&e.offset+e.computedHeight/1.5>r.g.scrollY&&e.offset-.1*e.computedHeight<r.g.scrollY+window.innerHeight&&"user"!==e.group.pausedBy&&(e.group.startedBy="scroll",delete e.group.pausedBy,e.play())}}]),e}(),Wp=function(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":""},Gp=function(){try{return r.g.top.document.hidden||r.g.top.document.msHidden||r.g.top.document.webkitHidden||!1}catch(e){return!!undefined.visibilityApiEvent()}},Hp=function(e,t,r,n){var i,o=Bp;t&&o&&o.lastActive.mouseOverPlayer||(e.emit("sync video tags update",{cust_params:{oov:t}}),Bp&&n&&(t?(Bp.pausedBy="blur",Bp.lastActive.isAd&&!Cp.pauseAdsOnBlur||Bp.lastActive.isPlaying()&&Bp.lastActive.pause()):"blur"!==Bp.pausedBy||Gp()||(r!==Wp()||t||"inlinePlayer"!==o.name?Bp.lastActive.isPlaying()||Bp.lastActive.play():((i=Bp.lastActive.otherGroup).lastActive&&setTimeout((function(){i.lastActive.pause()}),200),setTimeout((function(){o.lastActive.isPlaying()||(o.lastActive.play(),i.lastActive&&i.lastActive.pause())}),400)),delete Bp.pausedBy)))},Kp=(0,ei.FU)((function(){Bp&&Bp.pausedBy&&"user"!==Bp.pausedBy&&Bp.lastActive&&!Bp.lastActive.isPlaying()&&Bp.lastActive.play(),qp.groups.inlinePlayer&&qp.groups.inlinePlayer.lastActive&&setTimeout((function(){return qp.groups.inlinePlayer.lastActive.handleScroll()}),100)}),100),$p=function(e){var t=Vp(e);t&&(zp(),Cp.identifyPlayers&&clearInterval(Cp.identifyPlayers),Mp[t.group.name]&&(t.group.startedBy="user",delete t.group.pausedBy,delete Mp[t.group.name]),function(e){return!e||("jwOrChromelessPlayer"===e.group.name&&(e.group.lastActive=e),"user"!==e.group.startedBy&&"jwOrChromelessPlayer"===e.group.name&&(e.otherGroup.startedBy?(e.pausedBy="sync",e.pause()):e.group.startedBy="auto"),"inlinePlayer"!==e.group.name||e.group.lastActive||e.group.startedBy||(e.group.startedBy="user"),e.group.hasFocus||"user"===e.group.startedBy||"auto"===e.group.startedBy||"scroll"===e.group.startedBy?(delete e.group.pausedBy,e.otherGroup.hasFocus=!1,e.group.hasFocus=!0,!1):(e.pause(),!0))}(t)||t.setLastActive())},Yp=function(e){if(e.target.src){var t=Vp(e);t&&(Mp[t.group.name]&&(t.group.pausedBy="user",delete t.group.startedBy,delete Mp[t.group.name]),function(e){return"user"!==e.group.pausedBy&&"sync"!==e.group.pausedBy&&"scroll"!==e.group.pausedBy||(e.group.hasFocus=!1,delete e.startedBy,!1)}(t)||t.handlePause())}},Jp=function(e){if(e.target.classList.contains("jw-icon"))Mp.jwOrChromelessPlayer=!0;else if(e.target.classList.contains("vjs-play-control")||e.target.classList.contains("vjs-big-play-button")){var t=(0,at.closest)(e.target,(function(e){return"outerWrapper"===e.id}))?"jwOrChromelessPlayer":"inlinePlayer";Mp[t]=!0}},Xp=function(e){if(e.player&&e.player.el_&&e.player.el_.getElementsByTagName("video").length){var t=e.player.el_.getElementsByTagName("video")[0];$p({target:t})}},Zp=function(e){var t=e.broker,n=e.getConfig;Cp=n("players.flyoutConfig",{}),Object.keys(Cp).forEach((function(e){"true"===Cp[e]&&(Cp[e]=!0),"false"===Cp[e]&&(Cp[e]=!1)})),Cp.checkForNewPlayersFrequency=n("players.flyoutConfig.checkForNewPlayersFrequency",600),t.on("chromeless player ready",(function(e){r.g.DM.molFeVideoplayer.on("videoPlaying",Xp)})),t.on("chromeless player ready",(function(e){return zp()})),r.g.DM.later("DOM_READY",xp(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.g.document.addEventListener("play",$p,!0),r.g.document.addEventListener("pause",Yp,!0),Dp||Rp?r.g.document.addEventListener("touchstart",Jp):r.g.document.addEventListener("click",Jp),n=void 0===Cp.pauseWhenUserInOtherApplication||Cp.pauseWhenUserInOtherApplication,i=void 0===Cp.pauseWhenUserInOtherTab||Cp.pauseWhenUserInOtherTab,r.g.top.addEventListener("blur",(function(e){Np||setTimeout((function(){Hp(t,!0,"blur",n)}))})),r.g.top.addEventListener("focus",(function(){Np||setTimeout((function(){Hp(t,!1,"focus",n)}))})),Wp()&&document.addEventListener(Wp(),(function(){Np||Hp(t,Gp(),Wp(),i)}),!1),t.emit("sync video tags update",{cust_params:{oov:!document.hasFocus()}}),document.addEventListener("scroll",Kp,{passive:!0,capture:!0}),document.addEventListener("touchmove",Kp,{passive:!0,capture:!0}),t.on("mpuPlayerDisplayed",(function(e){Np=e})),Cp.identifyPlayers=setInterval((function(){zp()}),Cp.checkForNewPlayersFrequency);case 13:case"end":return e.stop()}}),e)}))))},Qp=function(e){e.broker,e.getConfig};Qp.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=e.addPlugins,i=e.removePlugins;t("plugins.enabled",[]).includes("players.flyoutManager")&&(r("players.flyoutConfig",function(e){var t=e("players.flyoutConfig",[]);return Object.keys(t).forEach((function(e){"true"===t[e]&&(t[e]=!0),"false"===t[e]&&(t[e]=!1)})),t.pauseContentIfAdNotPaused=void 0===t.pauseContentIfAdNotPaused||t.pauseContentIfAdNotPaused,t.pauseAdsOnBlur=void 0===t.pauseAdsOnBlur||t.pauseAdsOnBlur,t}(t)),i(["videoForceFlyout","videoFlyout","players.visibility"]),n(["players.onlyOneActivePlayer"]))};var eg=Qp;function tg(e){return(tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rg(e){return function(e){if(Array.isArray(e))return ng(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ng(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ng(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ig(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function og(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ig(o,n,i,a,s,"next",e)}function s(e){ig(o,n,i,a,s,"throw",e)}a(void 0)}))}}var ag={top:30,bottom:30};function sg(e){return cg.apply(this,arguments)}function cg(){return(cg=og(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d,l,f,p,g,m,v,y,h,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.broker,i=t.log,o=t.targetParagraphIndex,a=t.margin,s=void 0===a?ag:a,c=t.paragraphLoadingTimeout,u=void 0===c?3e3:c,i("target paragraph index:",o),d=o,r.g.PageCriteria.isMobile&&!r.g.PageCriteria.isTablet?(i("is a mobile"),l="#mobile-content > div > article"):(i("is not a mobile"),l='[itemprop="articleBody"]'),f="".concat(l," > :not(.mol-para-with-font), ").concat(l," > mol-permabox > :not(.mol-para-with-font)"),i("non-paragraph selector:",f),p=function(e){return new Promise((function(t){var r=function(){document.querySelector("".concat(l," > .mol-para-with-font:nth-of-type(").concat(e,")"))&&(i.cancel(),clearInterval(o),t())},i=n.on("slot defined",r),o=setInterval(r,250);r()}))},g=function(e){return rg(document.querySelectorAll("".concat(l," > .mol-para-with-font:nth-of-type(n+").concat(e,")"))).map((function(e){return{paragraph:e,rect:e.getBoundingClientRect()}}))},m=function(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)},v=function(e,t){return t.find((function(t){return m(e,t)}))},y=function(){return rg(document.querySelectorAll(f)).map((function(e){return e.getBoundingClientRect()}))},h=function(e){var t=e.top,r=e.left,n=e.right;return{top:t-s.top,bottom:t+s.bottom,left:r,right:n}},b=regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("awaiting",u,"millis for paragraph",d,"to be available"),e.next=3,(0,M.yq)(u,p(d));case 3:if(t=g(d),i(t.length,"paragraphs loaded so far"),r=y(),i("there are",r.length,"non-paragraph elements in this article"),!(n=t.find((function(e,t){var n=e.rect,o=h(n),a=v(o,r);return a?i("paragraph",d+t,"failed, ",o,"intersects with",a):i("paragraph",d+t,"seems suitable"),!a})))){e.next=12;break}return e.abrupt("return",{v:n.paragraph});case 12:d+=t.length,i("getting next batch of paragraph starting from",d);case 14:case"end":return e.stop()}}),e)}));case 13:return e.delegateYield(b(),"t0",15);case 15:if("object"!==tg(w=e.t0)){e.next=18;break}return e.abrupt("return",w.v);case 18:e.next=13;break;case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ug=r(8676),dg=r.n(ug);function lg(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function fg(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){lg(o,n,i,a,s,"next",e)}function s(e){lg(o,n,i,a,s,"throw",e)}a(void 0)}))}}function pg(e){return gg.apply(this,arguments)}function gg(){return(gg=fg(regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getConfig,i=t.log,!(o=n("pos.minuteMedia.tcfEventBarrier",!1))||!r.g.__tcfapi){e.next=7;break}return i("waiting for TCF event",o),e.next=6,mg(o);case 6:i("received TCF event",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mg(e){return new Promise((function(t){r.g.__tcfapi("addEventListener",2,(function(n){e===n.eventStatus&&(r.g.__tcfapi("removeEventListener",2,(function(){}),n.listenerId),t(n))}))}))}function vg(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function yg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bg(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function wg(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){bg(o,n,i,a,s,"next",e)}function s(e){bg(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Sg(e){return _g.apply(this,arguments)}function _g(){return(_g=wg(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,d,l,f,p,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.log,i=t.getConfig,"article"===PageCriteria.pageType){e.next=4;break}return n("Not suitable for PageCriteria.pageType:",PageCriteria.pageType),e.abrupt("return");case 4:return o=i("pos.connatix.paragraphIndex",4),a=i("pos.connatix.size",[480,410]),s=yg(a,2),c=s[0],u=s[1],d=i("pos.connatix.playerId","29388c8f-d1e6-4485-be68-d4bdbf2f2b1f"),l=i("pos.connatix.margin",{top:30,bottom:60}),e.prev=8,e.next=11,sg({broker:r,log:n,targetParagraphIndex:o,margin:l});case 11:f=e.sent,e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(8),n("giving up awaiting for new paragraph, article might just have ended with no suitable placement"),console.error(e.t0),e.abrupt("return");case 19:window.cnxps||(window.cnxps={},window.cnxps.cmd=[],r.invoke("import script in iframe",{url:"//cd.connatix.com/connatix.playspace.js"})),(p=document.createElement("div")).id=(0,Ct.kb)(),p.className="connatix-placeholder",p.style.width="".concat(c,"px"),p.style.height="".concat(u,"px"),g=function(e){e?n("Error:",e):n("Rendered Successfully")},window.cnxps.cmd.push(wg(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("Library loaded"),r.register("call for page analytics",(function(){return{connatix:!0}})),window.cnxps({playerId:d}).render(p.id,g);case 3:case"end":return e.stop()}}),e)})))),f.parentElement.insertBefore(p,f);case 28:case"end":return e.stop()}}),e,null,[[8,14]])})))).apply(this,arguments)}function Og(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Ig(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Og(o,n,i,a,s,"next",e)}function s(e){Og(o,n,i,a,s,"throw",e)}a(void 0)}))}}z("slots.minuteMedia",{vendorIds:{gdpr:[918]},run:function(e){return(t=regeneratorRuntime.mark((function t(){var n,i,o,a,s,c,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(){r.g.addEventListener("voltaxPlayerLoaded",(function(e){var t=e.detail.playerName,i=r.g.voltax.getPlayersByName(t);n.emit("new minute media player",i[0])})),r.g.voltax&&r.g.voltax.getAllPlayersOnPage().forEach((function(e){return n.emit("new minute media player",e)}))},n=e.broker,i=e.getConfig,(o=e.log)("enabled"),"article"===PageCriteria.pageType){t.next=6;break}return o("Not suitable for PageCriteria.pageType:",PageCriteria.pageType),t.abrupt("return");case 6:return a(),t.next=9,pg({getConfig:i,log:o.extend("tcf")});case 9:return t.prev=9,t.next=12,sg({broker:n,log:o.extend(""),targetParagraphIndex:i("pos.minuteMedia.paragraphIndex",4),margin:i("pos.minuteMedia.margin",{top:30,bottom:60})});case 12:s=t.sent,t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(9),o.error("giving up awaiting for new paragraph, article might just have ended with no suitable placement",t.t0),t.abrupt("return");case 19:(c=document.createElement("div")).classList.add("minute-media"),i("pos.minuteMedia.addLabel")&&c.classList.add("minute-media-label"),i("pos.minuteMedia.moat.enabled",!1)&&(u=i("pos.minuteMedia.moat.src","//z.moatads.com/mailonlineminutemedia634421037781/moatad.js#moatClientLevel1=MINUTEMEDIAPLAYER&moatClientLevel2=MINUTEMEDIAPLAYER&moatClientLevel3=MINUTEMEDIAPLAYER&moatClientLevel4=MINUTEMEDIAPLAYER"),(d=document.createElement("script")).src=u,d.async=!0,c.appendChild(d)),s.parentElement.insertBefore(c,s),(0,at.createIframe)({content:dg()(),insertMethod:function(e){return c.appendChild(e)},log:o.extend("")});case 25:case"end":return t.stop()}}),t,null,[[9,15]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){vg(o,n,i,a,s,"next",e)}function s(e){vg(o,n,i,a,s,"throw",e)}a(void 0)}))})();var t}}),z("slots.rendered",{run:function(e){var t=e.broker,r={};t.on("ad rendered",(function(e,n){if("publisher_ads"===n.serviceName&&!n.isEmpty){var i=n.slot.molAd,o=i.type||"1x1",a=[i.pos,i.parentId,o].join("|");r[a]={pos:i.pos,id:i.parentId,sz:o,cid:n.creativeId,lid:n.lineItemId}}t.emit("ads rendered update",Object.values(r))}))}}),Sg.vendorIds={gdpr:[143]};var Eg=function(e){var t=document.createElement("div");return t.id=e,t.className="adHolder molads_".concat(e),t};function Ag(e){return kg.apply(this,arguments)}function kg(){return(kg=Ig(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.log,i=t.getConfig,"article"===PageCriteria.pageType){e.next=4;break}return n("Not suitable for PageCriteria.pageType:",PageCriteria.pageType),e.abrupt("return");case 4:return o=i("pos.inread_player_top.paragraphIndex",2),e.prev=5,e.next=8,sg({broker:r,log:n,targetParagraphIndex:o});case 8:a=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),n("giving up awaiting for new paragraph, article might just have ended with no suitable placement"),console.error(e.t0),e.abrupt("return");case 16:s=Eg("inread_player_top"),c={pos:"inread_player_top"},a.parentElement.insertBefore(s,a),r.emit("slot defined",c,s);case 21:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pg=function(e){var t,n,i=e.broker,o=e.getConfig,a=o("plugins.slots.leaderTop",{offsetBelowElement:0,triggerElementId:"billBoard"}),s=a.offsetBelowElement,c=a.triggerElementId,u=o("plugins.slots.leaderTop.hack",!1);s=parseInt(s);var d,l=function(){var e=document.getElementById(c);if(e){var i=(0,at.getOffset)(e),o=(0,at.getElementComputedHeight)(e),a=(0,at.getOffset)(document.getElementById("page-container"));if(!t&&document.getElementById("smartBanner")){var u=document.getElementById("smartBanner").getElementsByTagName("a")[0];t=u.addEventListener("click",(function(e){u.removeEventListener("click",t),document.getElementById("leader_top").classList.remove("below-smart-banner")}))}n&&document.getElementById("leader_top").classList.add("styled"),r.g.scrollY<i.top+o-a.top+s?setTimeout((function(){document.getElementById("leader_top").style.display="none"})):(document.getElementById("smartBanner")&&"block"===r.g.getComputedStyle(document.getElementById("smartBanner")).getPropertyValue("display")?document.getElementById("leader_top").classList.add("below-smart-banner"):document.getElementById("leader_top").classList.remove("below-smart-banner"),setTimeout((function(){d&&(d(),d=void 0),document.getElementById("leader_top").style.display="block"})))}};i.intercept("slot ready for ad",(function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),n=(r[0],r[1]);r[2],"leader_top"===n.pos?d=t:t()}));var f=document.createElement("div");i.once("slot defined",(function(){!function(){f.id="leader_top",f.style.display="none",document.body.appendChild(f);var e={id:"leader_top",parentId:"leader_top",pos:"leader_top"};u&&(e.command="pfadj"),i.emit("slot defined",e,f),i.on("ad rendered","leader_top",(function(){n=!0,l()})),i.on("dom ready",(function(){l(),[1e3,2e3,3e3].forEach((function(e){return setTimeout(l,e)})),document.addEventListener("scroll",r.g.DM.molFeMiniLodash.debounce(l,200),{passive:!0,capture:!0}),document.addEventListener("touchmove",r.g.DM.molFeMiniLodash.debounce(l,200),{passive:!0,capture:!0})}))}()}))};function jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jg(Object(r),!0).forEach((function(t){Cg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dg=function(e,t,n,i,o){var a=n.id,s=(0,P.get)(i);if(t.pos===i){var c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o.exec(a)||[],2)[1];c&&(t.targeting={puff_offset:c}),t.adUnit=(0,rr.Z)(a),t=Tg(Tg(Tg({},r.g.DM.molFeMiniLodash.clone(s)),t),{},{id:a,dfpPos:i,parentId:a,pos:a}),e.emit("update description",a,t)}return t};function Ug(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mg=/mpu_mobile_other_(\d+)/;function Bg(e){var t=e.broker;t.intercept("slot defined",(function(e,r){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ug(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),i=n[0],o=n[1],a=n[2];r(i,Dg(t,o,a,"mpu_mobile_others",Mg),a)}))}function Ng(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lg=/mpu_puff_other_(\d+)/;function qg(e){var t=e.broker;t.intercept("slot defined",(function(e,r){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ng(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),i=n[0],o=n[1],a=n[2];r(i,Dg(t,o,a,"mpu_puff_others",Lg),a)}))}function zg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vg=/puff_ad_other_(\d+)/,Fg="puff_ad_others";function Wg(e){var t=e.broker,r=e.getConfig;t.intercept("slot defined",(function(e,r){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),i=n[0],o=n[1],a=n[2];r(i,Dg(t,o,a,Fg,Vg),a)})),r("plugins.slots.puffAdOthers.renderInfiniteList",{enabled:!1}).enabled&&t.on("infinite-list append",(function(e){Array.from(e.getElementsByClassName("puff-ad-other")).forEach((function(e){t.emit("slot defined",{pos:Fg},e)}))}))}function Gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gg(Object(r),!0).forEach((function(t){Kg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jg(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Xg(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Jg(o,n,i,a,s,"next",e)}function s(e){Jg(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Zg={refreshCount:0};function Qg(e){return em.apply(this,arguments)}function em(){return(em=Xg(regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.broker,i={},n.intercept("slot defined",(function(e,t){var r=$g(e,2),n=(r[0],r[1].pos);i[n]=Zg,t()})),n.on("destroy slot",(function(e){delete i[e]})),n.register("get tags",(function(e){var t=e.slot.pos;return[i[t]]})),n.register("get video tags",(function(e){var t=e.slot.pos;return{cust_params:Hg(Hg({},i[t]||Zg),{},{player:t})}})),n.intercept("refresh ads",(function(e,t){var r=$g(e,2),n=(r[0],r[1]),o=n.positions,a=(n.plugins,n.reason);try{o.forEach((function(e){i[e]={refresh:!0,refreshCount:i[e].refreshCount+1,refreshReason:a}}))}finally{t()}})),e.next=9,n.until("dom ready");case 9:(o=r.g.DM&&r.g.DM.molFeTracking&&r.g.DM.molFeTracking.pageEvents)&&o.subscribe("video.ad-impression",(function(e,t){var r=ci(t.tag).cust_params,n=r.player,o=r.refreshCount,a=void 0===o?0:o;i[n]={refresh:!0,refreshCount:Number(a)+1}}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rm(e){var t=e.broker;t.intercept("slot defined",(function(e,r){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),i=n[0],o=n[1],a=n[2];r(i,Dg(t,o,a,"mpu_factbox",/mpu_factbox_(\d+)/),a)}))}function nm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function im(e){var t=e.broker;t.intercept("slot defined",(function(e,r){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),i=n[0],o=n[1],a=n[2];r(i,Dg(t,o,a,"mpu_mobile_factbox",/mpu_mobile_factbox_(\d+)/),a)}))}function om(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var am=function(){return document.body.classList.contains("mol-desktop")},sm=window.innerWidth/window.screen.width;function cm(e){var t=e.broker,r=e.getConfig,n=e.log;if(window.getComputedStyle){n("starting");var i=r("plugins.enabled").includes("chromelessv2.dmplayer");t.intercept("slot defined",(function(e,o){var a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return om(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?om(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),s=a[0],c=a[1],u=a[2],d=c.pos;if("sticky_banner"!==d||!i||(MobileUtils.isMobile()||(0,I.bP)())&&(0,I.ej)("smart-banner")){if("sticky_banner"===d)try{u=function(e){var t=e.broker,r=e.getConfig,n=e.log,i=e.container,o=r("pos.stickyBanner.hiddenUntilImpression",!0),a=r("pos.stickyBanner.underlayPadding.top",15),s=r("pos.stickyBanner.underlayPadding.bottom",15),c=r("pos.stickyBanner.underlayPadding.closeButton",!1);n("config:",{paddingTop:a,paddingBottom:s,hiddenUntilImpression:o});var u=document.createElement("div");u.id="stickyBannerUnderlay",o&&(u.style.display="none"),document.body.appendChild(u);var d=bt();u.appendChild(d);var l=document.createElement("div");if(l.classList.add("adHolder"),l.classList.add("sticky_banner_overrides"),l.classList.add("noAdLabel"),l.id="stickyBanner",l.style.marginTop="0",u.style.padding="".concat(a,"px 0 ").concat(s,"px 0"),u.appendChild(l),am()&&(0,at.appendStyle)("#stickyBannerUnderlay #stickyBanner {\n      transform: scale(".concat(sm,");\n    }")),c){var f=document.createElement("button");f.classList.add("closeButton"),u.appendChild(f),f.addEventListener("click",(function(){u.style.display="none"}))}return t.on("ad rendered","sticky_banner",(function(e){var t=e.isEmpty,r=e.size;if(n("sticky banner rendered:",{isEmpty:t}),t)u.style.display="none";else{var i=r[1];if(u.style.display="flex",am()){n("ad height:",i);var o=i*sm-i,c=Math.round(a*sm+o/2),d=Math.round(s*sm+o/2),l="".concat(c,"px 0 ").concat(d,"px 0");u.style.padding=l,n("scalled padding:",l)}}})),i.parentNode.replaceChild(u,i),l}({broker:t,getConfig:r,log:n,ad:c,container:u})}catch(e){console.error(e)}o(s,c,u)}}))}}var um=function(e){var t=window.getComputedStyle(e),r=parseInt(t["margin-left"]),n=parseInt(t["margin-right"]),i=parseInt(t["margin-top"]),o=parseInt(t["margin-bottom"]),a=parseInt(t["padding-left"]),s=parseInt(t["padding-right"]),c=parseInt(t["padding-top"]),u=parseInt(t["padding-bottom"]),d=(parseInt(t["border-left"]),parseInt(t["border-right"]),parseInt(t["border-top"]),parseInt(t["border-bottom"])),l=e.getBoundingClientRect();return(l={left:l.left-r,right:l.right-n-a-s,top:l.top-i,bottom:l.bottom-o-c-u-d}).width=l.right-l.left,l.height=l.bottom-l.top,l};function dm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o="affix-off",a="affix-on",s=window.getComputedStyle(e,null),c=s.getPropertyValue("position"),u=s.getPropertyValue("top"),d=r.g,l=d.pageXOffset,f=um(i),p=f.left,g=!1,m=!1,v=!1,y={isOn:function(){return g},isOff:function(){return m},isActive:function(){return g||m}},h=t(y);function b(){y.isOn()||(e.classList.remove(o),e.classList.add(a),e.style.left=p+"px",e.style.position="fixed",e.style.top="0",g=!0,m=!1,n(y))}function w(){y.isOff()||(e.classList.remove(a),e.classList.add(o),e.style.left="auto",e.style.position="absolute",e.style.top=(h.stopped||h.off)+"px",g=!1,m=!0,n(y))}function S(){y.isActive()&&(e.classList.remove(a),e.classList.remove(o),e.style.left="auto",e.style.position=c,e.style.top=u,g=!1,m=!1,n(y))}function _(){p=um(i).left+(l-r.g.pageXOffset),l=r.g.pageXOffset,"fixed"===e.style.position&&(e.style.left=p+"px")}setInterval((function(){if(h=t(y),"static"===e.style.position){var r=e.getBoundingClientRect();p=r.left}}),1e3);var O=function(){if(!v){var e=r.g.pageYOffset;r.g.pageXOffset!==l&&_(),(h=t(y)).off&&h.off<e?!y.isOff()&&h.off<e&&w():h.on<e?!y.isOn()&&h.on<e&&b():S()}},I=(0,ei.FU)((function(){return setTimeout(O)}),200);document.addEventListener("scroll",I),window.addEventListener("resize",(0,ei.FU)(_,200)),I();var E=function(){S(),v=!0,document.removeEventListener("scroll",I)};return{handler:y,check:I,disable:E}}function lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fm=function(e){var t=document.querySelector("#".concat(e.slot.getSlotElementId()," iframe"));if(t)try{document.getElementById(e.slot.getSlotElementId()).parentElement.classList.add("billboard-watermark")}catch(e){console.error(e)}return t&&"90"===t.getAttribute("height")};function pm(e){var t=e.broker;t.on("slot defined",(function(e){if("billboard"===e.pos){t.intercept("ad rendered","billboard",(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),i=n[1],o=n[2];try{r(i,o)}finally{t()}}));var r=function(t,r){if(!r.isEmpty&&document.getElementById(e.parentId).parentNode){var n=document.getElementsByClassName("molads_billboard_on")[0];n&&(fm(r)?n.classList.add("molads_ldr_billboard_on"):n.classList.remove("molads_ldr_billboard_on"))}}}}))}function gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gm(Object(r),!0).forEach((function(t){vm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ym(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function hm(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ym(o,n,i,a,s,"next",e)}function s(e){ym(o,n,i,a,s,"throw",e)}a(void 0)}))}}var bm=(0,E.x)("StickyBillboard"),wm="billboard",Sm="billboard-close",_m=1/0,Om=0,Im=null,Em=0,Am=null,km=!1,xm=!1,Pm=!0,jm=function(e){var t=e.broker,r=e.barrier,n=e.forceViewEnabled;if((0,x.isAdEnabled)({pos:wm}))var i=t.on("ad rendered",(function(e,o){var a=o.slot?o.slot.molAd:{};if(!o.isEmpty&&a.pos===wm&&"billBoard"===a.parentId){i.cancel();var s=document.getElementById(a.parentId);Im=s;var c=s.parentNode;if(!c)return;fm(o)&&function(e,t){if(document.getElementsByClassName("molads_billboard_on")[0]){var r=e.classList.contains("affix-past-parent"),n=parseInt((0,at.getOffset)(t).top)+t.scrollHeight;document.addEventListener("scroll",(0,ei.FU)((function(){var t=parseInt((0,at.getOffset)(e).top)+e.scrollHeight;n<t?r||(e.classList.add("affix-past-parent"),r=!0):r&&(e.classList.remove("affix-past-parent"),r=!1)}),100))}}(s,c),setTimeout((function(){c.scrollHeight>1&&function(e){var t=e.broker,r=e.barrier,n=e.adElement,i=e.forceViewEnabled;if(!xm){var o,a,s,c,u,d,l,f,p,g=(o=document.querySelector(".gamma"),c=(s=(a=document.querySelector(".lead-alpha"))&&a.querySelector(".alpha"))&&s.querySelector(".item"),u=a&&a.querySelector(".beta"),d=a&&a.querySelector(".sport"),l=a&&a.querySelector(".health"),f=a&&a.querySelector(".travel"),p=function(e){return e&&e.offsetTop<2e3&&e},document.querySelector("#fff-hub-banner")||p(document.querySelector(".article-text h1"))||p(document.querySelector(".article-text h2"))||document.querySelector("#sciencetech #content h2")||document.querySelector("#sciencetech, #arts, #you, #promotions, #tvshowbizheadlines, #food, #gardening, #femailblogs")&&u.querySelector(".item:nth-child(1)")||o&&o.querySelector(".tim-tools")||o&&o.querySelector(".sport.item:nth-child(2)")||o&&o.querySelector(".article-tri-headline h2")||s.querySelector(".article.article-tri-headline:nth-child(1) h2")||a&&a.querySelector(".football-team-news .article.article-large h2")||d&&d.querySelector(".article-large h2")||l&&l.querySelector(".health-archive h2")||f&&f.querySelector(".travel-banner h1")||u&&u.querySelector(".item:nth-child(1) .puff ul li:nth-child(1)")||u&&u.querySelector(".item:nth-child(1) .fff-hub .fff-search")||c&&c.querySelector("h3:not(.usability)")||u&&u.querySelector(".item:nth-child(2):not(.mpu_puff_wrapper)")||s&&s.querySelector(".item h6")||u&&u.querySelector(".item:nth-child(1)")),m=function(){Em=(n.parentElement.clientHeight-n.clientHeight)/2+(0,at.getOffset)(n.parentElement).top,Om=function(){var e=Em+300;if(g){var t=(0,at.getOffset)(g).top+g.clientHeight-n.clientHeight;t-Em<=300&&(e=t)}return e}(),_m!==1/0&&(_m=Om),t.emit("offset reset")};t.on("ad rendered","billboard",(function(){return m()})),m(),i?r.then((function(){_m=Om,y&&y()})):_m=Om;var v=dm(n,(function(){return{on:Em,off:_m}}),(function(e){e.isOn()?t.emit("set slot state",wm,"sticky"):e.isOff()?(n.style.position="relative",n.style.top=_m-parseInt(Em)+"px",t.emit("set slot state",wm,"initial")):e.isActive()||t.emit("set slot state",wm,"initial")}),n.parentNode),y=v.check,h=v.disable;Am=y,t.on("disable sticky position","billboard",(function(){h(),y=null,_m=Om}))}}({broker:t,barrier:r,adElement:s,forceViewEnabled:n})}),500)}}))};function Tm(e){var t,r,n,i,o,a=e.broker,s=e.timeAfterScroll,c=e.timeAfterVisible,u=e.minimumVisibilityPeriod,d=e.waitMinVisiblity,l=void 0!==d&&d,f=new Promise((function(e){t=a.once("ad rendered",wm,(function(){var t={capture:!1,passive:!1},r=function(){null!==r&&(window.removeEventListener("scroll",r,t),r=null,setTimeout((function(){e()}),s))};window.addEventListener("scroll",r,t)}))})),p=new Promise((function(e){r=a.on("slot visibility changed",wm,(function(t){t.inViewPercentage>=50&&(r.cancel(),setTimeout((function(){e()}),c))}))})),g=new Promise((function(e){n=a.on("slot visibility changed",(function(t,r){t===wm&&r.inViewPercentage>=50&&(n.cancel(),setTimeout((function(){e()}),u))}))})),m=new Promise((function(e){i=a.once("disable force view when viewed","billboard",hm(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=3;break}return t.next=3,g;case 3:e();case 4:case"end":return t.stop()}}),t)}))))})),v=new Promise((function(e){o=a.once("disable sticky position","billboard",hm(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)}))))}));return Promise.race([f,p,m,v]).then((function(){[t,r,n,i,o].forEach((function(e){return e.cancel()}))}))}function Cm(e){var t,r,n=e.broker,i=e.barrier,o=e.renderCloseTimeout,a=void 0===o?0:o,s=e.resetToInfinity,c=void 0!==s&&s,u=e.refreshCount,d=void 0===u?0:u,l=n.on("ad rendered",wm,(function(e){var i=function(e){var t=e.slot?e.slot.molAd:{};return document.getElementById(t.parentId)}(e);i&&(t?(d++,r&&clearInterval(r),i.appendChild(t)):(c&&(_m=1/0,Am&&Am()),(t=document.createElement("div")).classList.add(Sm),t.addEventListener("click",(function(){l.cancel(),DM.pageEvents.publish(DM.pageEvents.AD_BILLBOARD_CLOSED),n.emit("send event to bidmax",{type:"custom",payload:{userClosedBillboard:!0,refreshCount:d}}),_m=Om,Am&&Am(),i.removeChild(t),t=null})),r=setTimeout((function(){i.appendChild(t)}),a)))}));n.on("disable force view when viewed",wm,(function(){km=!0,l.cancel(),r&&clearInterval(r),t&&Im.querySelector(".".concat(Sm))&&(Im.removeChild(t),t=null)})),i.then((function(){t&&Im.querySelector(".".concat(Sm))&&Im.removeChild(t),l.cancel(),r&&clearInterval(r),t=null,Am&&Am()}))}function Rm(e){var t,r=e.broker,n=e.getConfig;if(r.emit("set slot state",wm,"initial"),n("stickyAds",[]).includes(wm)&&window.getComputedStyle){r.on("stop refreshing ads",(function(){Pm=!1})),r.on("disable sticky position",wm,(function(){xm=!0})),r.on("disable force view when viewed",wm,(function(){km=!0}));var i=n("sticky.billboard"),o=n("pos.billboard.forceView",!0),a=i.timeAfterScroll,s=void 0===a?5e3:a,c=i.timeAfterVisible,u=void 0===c?3e3:c,d=i.minimumVisibilityPeriod,l=void 0===d?3e3:d,f=i.renderCloseTimeout,p=void 0===f?5e3:f,g=Tm({broker:r,timeAfterScroll:s,timeAfterVisible:u,minimumVisibilityPeriod:l,waitMinVisiblity:!0});jm({broker:r,barrier:g,forceViewEnabled:o}),i.secondary&&i.secondary.enabled?function(e){var t=e.broker,r=e.barrier,n=e.secondaryBillboardConfig,i=n.initialRefresh,o=void 0===i?5e3:i,a=n.refreshInterval,s=n.displayDuration,c=void 0===s?3e3:s,u=n.activeView,d=void 0===u||u;r.then((function(){setTimeout((function(){if(Pm&&!km&&!xm){var e=Tm({broker:t,timeAfterScroll:c,timeAfterVisible:c});Cm({broker:t,resetToInfinity:!0,barrier:e,refreshCount:1}),e.then((function(){_m=Om,Am&&Am()})),a&&t.emit("setup ad refresh",{pos:wm,id:"billBoard",interval:a,activeViewSlot:d}),t.emit("prepare to refresh ads",[wm]),t.emit("refresh ads",{ids:["billBoard"],reason:"secondary",positions:[wm]})}}),o)}))}({broker:r,barrier:g,secondaryBillboardConfig:i.secondary}):Cm({broker:(t={broker:r,barrier:g,renderCloseTimeout:p}).broker,renderCloseTimeout:t.renderCloseTimeout,barrier:t.barrier})}}Rm.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=t("sticky.billboard.secondary",{}),i=n.minPageHeight||900,o=(0,I.ap)().height>=i,a=n.enabled&&o,s=t("pos.billboard.forceView",!0);if(!a||!s)return r("sticky.billboard.secondary.enabled",!1),void bm("bailing; secondaryEnabled: ".concat(n.enabled,", minHeightForSecondaryMet: ").concat(o,", forceViewEnabled: ").concat(s));var c=t("adsRefresh",{slots:[],activeViewSlots:[]}),u=c.slots||[],d=u.filter((function(e){return e!==wm})),l=c.activeViewSlots||[],f=l.filter((function(e){return e.pos!==wm}));r("adsRefresh",mm(mm({},c),{slots:d,activeViewSlots:f}));var p=u.find((function(e){return e===wm})),g=l.find((function(e){return e.pos===wm}));p?r("sticky.billboard.secondary",mm(mm({},n),{activeView:!1,refreshInterval:c.interval})):g&&r("sticky.billboard.secondary",mm(mm({},n),{activeView:!0,refreshInterval:g.interval})),bm("Updated refresh config",t("adsRefresh")),bm("stickyBillboard config",t("sticky.billboard"))};var Dm,Um=function(e,t){var r=e+"on",n=e+"off",i=document.documentElement;i.classList.remove(r),i.classList.remove(n),i.classList.add(t?r:n)};function Mm(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}var Bm,Nm=(0,A.U2)("stickyAds",[]),Lm=function(e,t,r){var n=document.getElementById("content");if(n){var i=window.getComputedStyle(e,null),o=parseInt(i.getPropertyValue("width")),a=r(i,n,o),s=(0,at.getOffset)(e).top,c=document.querySelector(".puff li:nth-child(20)"),u=t?1/0:c?(0,at.getOffset)(c).top:s+5e3,d=function(t){if(t.isOn()){var r=(0,at.getOffset)(n).left+a.on;e.style.left=r+"px"}else t.isOff()?(e.style.left=a.off,e.style.top=u-s+"px"):e.style.left=a.cancel},l=dm(e,(function(){return{on:s,off:u}}),d).handler;window.addEventListener("resize",DM.molFeMiniLodash.debounce((function(){return d(l)}),300))}},qm=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d,l,f,p,g,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="sky_r"===t.id.substr(0,5),i=document.querySelector(".puff li:nth-child(20)"),e.next=4,Bm;case 4:o=document.getElementById("top"),a=(0,at.getOffset)(o).top,s=window.getComputedStyle(o,null),c=parseInt(s.getPropertyValue("width")),u=r.g.getComputedStyle(t,null),d=parseInt(u.getPropertyValue("width")),l=(i?(0,at.getOffset)(i).top-a:a+5e3)+1280,f=l+document.documentElement.scrollHeight,t.style.top=l+"px",p=function(e){if(e.isOn()){var r=n?(0,at.getOffset)(o).left+c+15:(0,at.getOffset)(o).left-d-15;t.style.left=r+"px"}else e.isOff()?(t.style.removeProperty("left"),t.style.top=f+"px"):(t.style.removeProperty("left"),t.style.position="absolute",t.style.top=l+"px")},g=dm(t,(function(){return{on:l,off:f}}),p),m=g.handler,r.g.addEventListener("resize",DM.molFeMiniLodash.debounce((function(){return p(m)}),300));case 17:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Mm(o,n,i,a,s,"next",e)}function s(e){Mm(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),zm=function(){(0,x.isAdEnabled)({pos:"sky_right_top"})&&Dm.once("ad rendered","sky_right_top",(function(){var e,t,r=document.getElementById("js-sky-right");r&&Nm.includes("sky_right_top")&&(e=r,t=!(0,x.isAdEnabled)({pos:"sky_right_bottom"}),Lm(e,t,(function(e,t,r){var n=parseInt(e.getPropertyValue("right")),i=window.getComputedStyle(t,null);return{on:parseInt(i.getPropertyValue("width"))+(Math.abs(n)-r),off:"auto",cancel:"auto"}})))})),(0,x.isAdEnabled)({pos:"sky_left_top"})&&Dm.once("ad rendered","sky_left_top",(function(){var e,t,r=document.getElementById("js-sky-left");r&&Nm.includes("sky_left_top")&&(e=r,t=!(0,x.isAdEnabled)({pos:"sky_left_bottom"}),Lm(e,t,(function(e,t,r){var n=parseInt(e.getPropertyValue("left"));return{on:-r-15,off:n+"px",cancel:n+"px"}})))})),DM.later("DOM_READY",(function(){["sky_right_bottom","sky_left_bottom"].forEach((function(e){var t=document.getElementById(e);Nm.includes(e)&&t&&qm(t)}))}))},Vm=function(e,t){var r=window.getComputedStyle(t,null),n=(0,at.getOffset)(t).top,i=parseInt(r.getPropertyValue("height")),o=n+i,a=window.getComputedStyle(e,null),s=parseInt(a.getPropertyValue("height"));return e.dataset.originalPadding||(e.dataset.originalPadding=(0,at.getOffset)(e).top-n),{elementTop:n+parseInt(e.dataset.originalPadding),parentBottom:o,parentHeight:i,elementHeight:s,parentTop:n,marginBottom:parseInt(r.getPropertyValue("margin-bottom"))}},Fm=function(e){if((0,x.isAdEnabled)({pos:e}))var t=Dm.on("ad rendered",e,(function(n){if(!n.isEmpty&&(!(a=n)||a.isEmpty||!a.size||2!==a.size.length||300!==a.size[0]||600!==a.size[1])){t.cancel();var i=document.getElementById(e);if(i){var o=(0,at.closest)(i,(function(e){return e.classList.contains("mpu_puff_wrapper")}));o&&(o.classList.add("sliding_mpu"),function(e,t){var n=function(r){if(r.isOn())e.style.left=t.getBoundingClientRect().left+"px";else if(r.isOff()){var n=Vm(e,t);e.style.top=n.parentHeight-n.elementHeight-n.marginBottom+"px"}};r.g.addEventListener("resize",DM.molFeMiniLodash.debounce((function(){return n(i)}),300));var i=dm(e,(function(){var r=Vm(e,t);return{on:r.elementTop,off:r.parentBottom-r.elementHeight}}),n).handler}(i,o))}}var a}))};function Wm(e){var t=e.broker;if(Dm=t,window.getComputedStyle){Bm=new Promise((function(e){var t=new Set,r=0,n=Dm.on("get tags",(function(e){var r=e.pos;return t.add(r)})).cancel,i=Dm.on("ad requested",(function(e){return t.add(e)})).cancel,o=Dm.on("ad rendered",(function(){r++,t.size<=r&&(n(),i(),o(),e())})).cancel}));var n=r.g.DM||{log:function(){}};try{!function(){var e="molads_leader_top_";if(Um(e,!1),(0,x.isAdEnabled)({pos:"leader_top"}))var t=Dm.on("ad rendered","leader_top",(function(r){var n=r.slot?r.slot.molAd:{};"leader_top"===n.parentId&&(t.cancel(),document.getElementById(n.parentId),Um(e,!r.isEmpty))}))}()}catch(e){n.log("Missing configuration for leaderboard")}zm(),Nm.forEach((function(e){/mpu_puff_\d{2,}/.test(e)&&Fm(e)}))}}function Gm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Km(Object(r),!0).forEach((function(t){Ym(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Km(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ym(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jm=(0,E.x)("gallery"),Xm=function(e){var t=e.broker,r=e.rootElement,n=void 0===r?document.body:r,i=e.ad,o=e.className,a=e.cssText,s=document.createElement("div");s.id=i.pos;var c=document.createElement("div");return c.className="placeholder",s.appendChild(c),o&&(s.className=o),a&&(s.style.cssText=a),n.appendChild(s),t.emit("slot defined",i,s),s},Zm=function(e){var t=getComputedStyle(e,"");return{width:(parseFloat(t.width)||0)+(parseFloat(t.borderLeftWidth)||0)+(parseFloat(t.borderRightWidth)||0),height:(parseFloat(t.height)||0)+(parseFloat(t.borderTopWidth)||0)+(parseFloat(t.borderBottomWidth)||0)}},Qm={sticky_banner_gallery_top:{size:[[320,50]],dynamic:!0},sticky_banner_gallery_bottom:{size:[[320,50]],dynamic:!0}};function ev(e){var t=e.broker,r=$m({},(0,e.getConfig)("some.config.path",Qm));MobileUtils.isMobile()?Object.keys(r).forEach((function(e){-1!==e.indexOf("sky")&&delete r[e]})):Object.keys(r).forEach((function(e){-1!==e.indexOf("sticky_banner")&&delete r[e]}));var n={},i=null,o=null,a=null,s=null,c=null,u=null;t.register("get enabled not-quite-dynamic slots",(function(){return Object.keys(r)})),t.register("get not-quite-dynamic extra slot descriptions",(function(){return Object.entries(r).map((function(e){var t=Gm(e,2);return $m({pos:t[0]},t[1])}))}));var d={sticky_banner_gallery_top:function(e){o.style.top="".concat(e.height,"px")},sticky_banner_gallery_bottom:function(e){a.style.bottom="".concat(e.height,"px"),c.style.bottom="".concat(e.height+s.height,"px")}},l=function(e){var t={width:["left","right"],height:["top","bottom"]},n="width"===e?0:1,i=Object.keys(r).filter((function(r){return r.includes(t[e][0])||r.includes(t[e][1])}));if(i.length)return i.map((function(e){if(r[e].size.length)return 1===r[e].size.length?r[e].size[0][n]:r[e].size.reduce((function(e,t){return t[n]>e[n]?t[n]:e[n]}))})).reduce((function(e,t){return t>e?t:e}))},f=function(){Jm("Gallery openned"),function(){var e=l("width"),t=l("height"),r=window,n=r.innerWidth,i=r.innerHeight,o=e?n-2*(e+20):n,a=t?i-2*t:i;Array.from(document.querySelectorAll("#mobileGallerySwipeWrap > div > div:first-child")).filter((function(e){return e.firstElementChild})).map((function(e){return e.firstElementChild})).forEach((function(e){var t=Zm(e),r=Math.min(a/t.height,o/t.width);e.classList.contains(".vjs-video-container")&&a<o&&(r*=.78),e.style.transform="scale(".concat(r,")")}))}(),Object.entries(r).forEach((function(e){var r=Gm(e,2),s=r[0],c=$m($m({},r[1]),{},{pos:s,adUnit:(0,rr.Z)(s)});c.id||(c.id=s),n[s]={container:Xm({broker:t,rootElement:i,ad:c})},d[s]&&d[s](Zm(n[s].container)),MobileUtils.isMobile()&&(s.includes("top")&&(n[s].addEl=o),s.includes("bottom")&&(n[s].addEl=a))})),u=t.on("ad rendered",(function(e){var t=n[e]&&n[e].container.querySelector(".placeholder");t&&t.remove()}))},p=function(){u.cancel(),MobileUtils.isMobile()&&MobileUtils.isLandscape()&&(o.style.top="0",a.style.bottom="0",c.style.bottom="".concat(s.height,"px")),Object.entries(n).forEach((function(e){var r=Gm(e,2),n=r[0];r[1].container.remove(),t.emit("destroy slot",n)}))};MobileUtils.isMobile()&&window.addEventListener("orientationchange",(function(){setTimeout((function(){MobileUtils.isLandscape()?p():f()}),200)})),t.on("dom ready",(function(){var e=document.getElementById("mobileGalleryModal");DM.pageEvents.subscribe("gallery.opened",f),DM.pageEvents.subscribe("gallery.closed",p),i=document.getElementById("mobileGallerySlider"),o=e.querySelector(".top-bar"),a=e.querySelector(".navigation-bar"),s=Zm(a),c=e.querySelector(".caption-bar")}))}var tv=(0,A.U2)("stickyAds",[]),rv=function(e){var t=e.broker,r=e.getPuffListStart,n=e.getOffElement,i=e.pos,o=e.id,a=void 0===o?i:o,s=t.on("ad rendered",i,(function(e){if(!e.isEmpty){s.cancel();var t=document.getElementById(a);if(!t)return;!function(e,t,r){var n,i,o,a,s,c,u=e.parentNode,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.parentNode,r=getComputedStyle(t,null),n=(0,at.getOffset)(t).top,i=parseInt(r.getPropertyValue("height")),o=n+i,a=getComputedStyle(e,null),s=parseInt(a.getPropertyValue("height"));return e.dataset.originalPadding||(e.dataset.originalPadding=(0,at.getOffset)(e).top-n),{elementTop:n+parseInt(e.dataset.originalPadding),parentBottom:o,parentHeight:i,elementHeight:s,parentTop:n,marginBottom:parseInt(r.getPropertyValue("margin-bottom")),marginTop:parseInt(a.getPropertyValue("margin-top"))}}(e,u),l=d.elementTop,f=(s=t&&t()||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.parentNode;return(0,at.walk)(t,(function(e){return e.classList.contains("mpu_puff_wrapper")&&e.querySelector("iframe")}),(function(e){return e.nextElementSibling}))}(e,r))?(n=s,i=d.elementHeight,o=n.previousElementSibling,a=getComputedStyle(o,null),(0,at.getOffset)(o).top+parseInt(a.getPropertyValue("height"))-i):1/0,p=f===1/0?f:(c=(0,at.getRelativeContainer)(u))?f-(0,at.getOffset)(c).top:f,g=_.debounce((function(){m.isOn()&&(e.style.left=u.getBoundingClientRect().left+"px")}),300);u.style.height=d.parentHeight+"px",u.style.marginTop=d.marginTop+"px",window.addEventListener("resize",g);var m=dm(e,(function(e){return{off:f,on:l,stopped:p}}),g).handler}(t,n,r(t))}}))};function nv(e){var t=e.broker;window.getComputedStyle&&(tv.includes("mpu_puff_5")&&rv({broker:t,pos:"mpu_puff_5",getPuffListStart:function(e){return(0,at.getParent)(e,".item")}}),tv.includes("mpu_top")&&rv({broker:t,pos:"mpu_top",getPuffListStart:function(e){var t=(0,at.getParent)(e,".item"),r=(0,at.walk)(t,(function(e){return e.querySelector(".puff")}),(function(e){return e.nextElementSibling}));return r?r.querySelector(".puff li"):t}}))}function iv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ov(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ov(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function av(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function sv(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){av(o,n,i,a,s,"next",e)}function s(e){av(o,n,i,a,s,"throw",e)}a(void 0)}))}}var cv="mpu_left",uv=function(e){var t=document.createElement("div");return t.style.position="fixed",t.style.top="".concat(e,"px"),t.style.zIndex=50,t},dv={mpu_left:{dynamic:!0}};function lv(e){return fv.apply(this,arguments)}function fv(){return(fv=sv(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,(n=t.log)("Starting..."),r.register("get enabled not-quite-dynamic slots",(function(){return Object.keys(dv)})),i=new Promise((function(e){r.on("slot defined",(function(t){t.pos.includes("sky_left_top")&&e()}))})),n("Awaiting to find out height of sky_left_top"),e.next=7,r.until("update description","sky_left_top");case 7:return o=e.sent,a=iv(o,1),s=a[0].size,c=s.map((function(e){return iv(e,2)[1]})).sort((function(e,t){return t-e}))[0],n("Sky left top max height:",c),u=uv(c+50),e.next=15,i;case 15:if(d=document.getElementById("js-sky-left")){e.next=18;break}return e.abrupt("return");case 18:return d.appendChild(u),l={id:cv,parentId:cv,pos:cv},r.emit("slot defined",l,u),n("slot created",l,u),e.next=24,r.until("ad rendered","mpu_left");case 24:n("slot rendered");case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pv=function(){return function(){}},gv=function(e,t){return"function"==typeof t?t():t};if(performance.mark&&performance.measure){var mv=0;pv=function(e){var t="benchmark-".concat(mv++);return performance.mark("".concat(t,"-begin")),function(){performance.mark("".concat(t,"-end")),performance.measure(e,"".concat(t,"-begin"),"".concat(t,"-end"))}},gv=function(e,t){var r=pv(e);try{return"function"==typeof t.then?(t.then(r),t):t()}finally{r()}}}function vv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hv(e){return(hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bv(Object(r),!0).forEach((function(t){Sv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _v(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Ov(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){_v(o,n,i,a,s,"next",e)}function s(e){_v(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Iv="mol.ads.cmp.tcf.cache",Ev=["getTCData","hasUserConsentedToAll","hasUserDissentedToAll","getPurposesByVendorMap","getConsentDegree","getCustomVendorsConsents","getValidTCData","consentedVendors"],Av=function(){return!!localStorage.getItem(Iv)};function kv(e,t){return xv.apply(this,arguments)}function xv(){return(xv=Ov(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tcString.length){e.next=6;break}return n=Ev.map(function(){var e=Ov(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r("cache update request for:",t),e.t0=t,e.next=4,Iu(t);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(n);case 4:e.sent.forEach((function(e){var t=vv(e,2),n=t[0],i=t[1];r("caching",n);var o=JSON.parse(localStorage.getItem(Iv))||{};o[n]=i,localStorage.setItem(Iv,JSON.stringify(o))}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pv(e,t){var r=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(void 0,["stub:"].concat(r))},n=pv("tcfv2 stub lifetime"),i=[],o=window,a=!1,s=!1;r("creating");var c=localStorage.getItem(Iv),u={};c&&(u=JSON.parse(c)),u.getTCData&&0===Gr(u.getTCData.tcString).consentScreen&&(r("Clearing cache with invalid consentScreen value"),delete u.getTCData,delete u.getValidTCData),t.register("call for page analytics",(function(){return{tcfApiListenerIdMismatch:s}}));var d=0,l={},f=function(e,t){var n=u.getTCData,o=d++;r("adding provisional listener:",o),l[o]={},i.push(["addEventListener",2,function(e,n){var i=e.listenerId;l[o]?(l[o].realListenerId=i,o!==i&&(s=!0),l[o].listenerId=i,t(wv(wv({},e),{},{listenerId:o}),n)):r("ignoring event coz already removed listener:",{listenerId:o,realListenerId:i})}]),n&&t(wv(wv({},n),{},{listenerId:o,eventStatus:"tcloaded"}),!0)},p=function(e,t){var n=e[3];r("removing provisional listener:",n);var o=l[n];if(!o)return r("unknown listener:",n),void t(!1);var a=o.realListenerId;delete l[n],a&&i.push(["removeEventListener",2,function(e){return t(e)},a]),t(!0)};!function e(){var t=o.document;if(!o.frames.__tcfapiLocator)if("interactive"===t.readyState||"complete"===t.readyState){var r=t.createElement("iframe");r.style.display="none",r.name="__tcfapiLocator",t.body.appendChild(r),a&&(t.removeEventListener("readystatechange",e),a=!1)}else"function"==typeof t.addEventListener?(t.addEventListener("readystatechange",e),a=!0):setTimeout(e,5)}(),o.__tcfapi=function(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];if(!o.length)return n(),i;var s=o[2],c=o[0];switch(c){case"setGdprApplies":o.length>3&&2===parseInt(o[1],10)&&"boolean"==typeof o[3]&&(e=o[3],"function"==typeof s&&s("set",!0));break;case"ping":"function"==typeof s&&s({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"});break;default:if(Ev.length){if("addEventListener"===c)return f(0,s);if("removeEventListener"===c)return p(o,s)}if(Ev.includes(c)){o[3]&&r("cache method called with argument:",o[3]);var d=u[c];if(void 0!==d)return r("returning cached value for",c),void s(d,!0)}r("queueing",c),i.push(o)}},o.addEventListener("message",(function(e){var t=e&&e.source;if(t&&"function"==typeof t.postMessage){var n="string"==typeof e.data,i=e.data;if(n)try{i=JSON.parse(e.data)}catch(e){return}if("object"===hv(i)&&i.__tcfapiCall){var o=i.__tcfapiCall;window.__tcfapi(o.command,o.version,(function(e,r){var i={__tcfapiReturn:{returnValue:e,success:r,callId:o.callId}};t.postMessage(n?JSON.stringify(i):i,"*")}),o.parameter)}}else t&&"function"!=typeof t.postMessage&&r("Message event.source.postMessage is not a function, bailing")}),!1)}var jv=(0,E.x)("tcfv2"),Tv="mol.ads.cmp.customVendors",Cv={},Rv=function(){try{return JSON.parse(localStorage.getItem(Tv)||"{}")}catch(e){return{}}},Dv=function(e){localStorage.setItem(Tv,JSON.stringify(e)),Cv=e},Uv=function(e,t){if(!t.vendorIds||void 0===t.vendorIds.google)return!0;var r=t.vendorIds.google.filter((function(e){return!(Cv[e]&&Cv[e].consent)}));return!r.length||(jv("plugin",e,"bounced because user have not consented to custom vendors:",r),!1)};Cv=Rv();var Mv=r(1171),Bv=r.n(Mv);function Nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nv(Object(r),!0).forEach((function(t){qv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zv(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Vv(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){zv(o,n,i,a,s,"next",e)}function s(e){zv(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Fv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Wv=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=t.getConfig,a=t.log,s=t.storage,c=t.broker,u=t.showUi;this.context=t,this.log=a,this.broker=c,this.scriptBase=o("tcfv2.scriptBase","//cmp.dmgmediaprivacy.co.uk/cmp"),this.tcfv2Version=o("tcfv2.version",""),this.tcfv2UiScriptBase=o("tcfv2.uiScriptBase","//www.dailymail.co.uk/static/mol-fe/static/mol-fe-cmp"),this.gvlVersion=n||"".concat(o("tcfv2.gvlUiVersion","51")),this.gvlUiVersion="".concat(o("tcfv2.gvlUiVersion","51")),this.cvlVersion=o("tcfv2.cvlVersion","0.0.1"),this.tcfv2UiVersion=o("tcfv2.uiVersion",""),this.tcfv2BackendUrl=o("tcfv2.backendUrl","//cmp.dmgprivacyint.co.uk/gdpr/consent/persist"),this.tcfv2UiFile=o("tcfv2.uiFile","index.js"),this.brand=o("tcfv2.brand",{}),this.renderPlatform=o("tcfv2.renderPlatform",""),this.platform="web",this.uiScriptUrl="".concat(this.tcfv2UiScriptBase,"/").concat(this.tcfv2UiVersion,"/").concat(this.tcfv2UiFile),this.tcfv2Script="".concat(this.scriptBase,"/").concat(this.tcfv2Version,"/index.js"),this.persistCustomVendors=o("tcfv2.persistCustomVendors",!0),this.storeUserPreference=o("tcfv2.storeUserPreference",!1),this.tcfv2UseRtaId=o("tcfv2.uuid.useRtaId",!1),this.brokerId=Math.random().toString(36).substring(2),this.untilSiteIsReadyToLoadScript=this.untilSiteIsReadyToLoadScript.bind(this),this.opts={brand:this.brand,brokerId:this.brokerId,gvlVersion:this.gvlVersion,gvlUiVersion:this.gvlUiVersion,cvlVersion:this.cvlVersion,showUi:u,uiLevel:"Level1",uiScriptUrl:this.uiScriptUrl,controllerScriptBase:"".concat(this.scriptBase,"/").concat(this.tcfv2Version),storeUserPreference:this.storeUserPreference,tcString:s.getConsent(),customVendors:{consents:Rv()},backendUrl:this.tcfv2BackendUrl,persistCustomVendors:this.persistCustomVendors,renderPlatform:this.renderPlatform,platform:this.platform},r.g.addEventListener("message",function(){var e=Vv(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"@mol-ads/mol-ads-cmp"===(r=t.data).ns&&r.id===i.brokerId&&"level_changed"===r.action&&r.sender!==i.sender&&i.track("tcfv2-ui-open",{level:r.payload.currentLevel,changed:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.openUi=this.openUi.bind(this),this.broker.on("plugins enabled",(function(){window.postMessage({ns:"@mol-ads/mol-ads-cmp",id:i.brokerId,sender:"@mol-ads/mol-adverts",action:"ads-initialised",payload:{}},"*")}))}var t,n,i,o,a,s;return t=e,(n=[{key:"untilSiteIsReadyToLoadScript",value:function(){var e=this.context,t=e.getConfig,r=e.log;return new Promise((function(e){"mol"===t("site")?(r("awaiting for molFeReact_LOADED"),window.DM.later(["molFeReact_LOADED"],(function(){r("molFeReact_LOADED ready"),e()}))):e()}))}},{key:"loadScript",value:function(e,t){return new Promise((function(r,n){var i=document.createElement("script");i.src=e,i.id="mol-ads-tcfv2-script",i.dataset.opts=JSON.stringify(t),i.onload=function(){return r()},i.onerror=function(){return n(new Error("Error loading ".concat(e)))},document.head.appendChild(i)}))}},{key:"loadController",value:(s=Vv(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.log("loading controller.."),!this.opts.showUi){e.next=7;break}return e.next=4,this.resolveUuid();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=void 0;case 8:return t=e.t0,this.opts.uuid=t,e.abrupt("return",Promise.all([gv("wait for external deps",this.untilSiteIsReadyToLoadScript())]).then(Vv(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.log("loading controller from:",r.tcfv2Script),e.next=3,gv("tcfv2 controller load",r.loadScript(r.tcfv2Script,r.opts));case 3:r.log("controller loaded");case 4:case"end":return e.stop()}}),e)})))));case 11:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"openUi",value:(a=Vv(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"Level1",e.next=3,this.resolveUuid();case 3:r=e.sent,this.track("tcfv2-ui-open",{level:t}),window.postMessage({ns:"@mol-ads/mol-ads-cmp",id:this.brokerId,sender:"@mol-ads/mol-adverts",action:"open",payload:{uiLevel:t,uuid:r}},"*");case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.context,n=r.broker,i=r.storage;n.emit("send event to bidmax",{type:"custom",payload:Lv({event:e,validConsent:i.getConsentDegree()||void 0},t)})}},{key:"uuidFromStorage",value:function(){var e=this.context.storage,t=e.getUuid();return t||(t=Bv()(),e.setUuid(t)),t}},{key:"uuidFromRta",value:(o=Vv(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.g.RTA.ids;case 2:return t=e.sent,n=t.user,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"resolveUuid",value:(i=Vv(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.useRtaUuid;case 2:if(!e.sent){e.next=6;break}e.t0=this.uuidFromRta(),e.next=7;break;case 6:e.t0=this.uuidFromStorage();case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}])&&Fv(t.prototype,n),e}();function Gv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Hv="mol.ads.cmp.tcf.client",Kv="mol.ads.cmp.userConsentDegree",$v="mol.ads.cmp.tcf.gvlVersion",Yv="mol.ads.tcfv2.uuid",Jv="mol.ads.cmp.tcfv2.reprompt",Xv=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,(r=[{key:"getConsent",value:function(){return localStorage.getItem(Hv)}},{key:"setConsent",value:function(e){localStorage.setItem(Hv,e)}},{key:"getConsentDegree",value:function(){return localStorage.getItem(Kv)||void 0}},{key:"setConsentDegree",value:function(e){localStorage.setItem(Kv,e)}},{key:"getVendorListVersion",value:function(){return localStorage.getItem($v)}},{key:"setVendorListVersion",value:function(e){localStorage.setItem($v,e)}},{key:"setRepromptVersion",value:function(e){localStorage.setItem(Jv,JSON.stringify(e))}},{key:"getUuid",value:function(){return localStorage.getItem(Yv)}},{key:"setUuid",value:function(e){localStorage.setItem(Yv,e)}},{key:"getTcfv1ConsentFlag",value:function(){return localStorage.getItem("mol.ads.cmp.consent")}},{key:"getTcfv1ConsentString",value:function(){return localStorage.getItem("euconsent")}},{key:"getRepromptVersion",value:function(){var e;try{var t=localStorage.getItem(Jv);t&&(e=JSON.parse(t))}catch(e){console.error("unabled to parse repromptVersion")}return e||{version:0,chance:Math.random()}}}])&&Gv(t.prototype,r),e}();function Zv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zv(Object(r),!0).forEach((function(t){ey(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ey(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ty(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function ry(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ny=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t}var t,r,n,i;return t=e,(r=[{key:"setup",value:(n=regeneratorRuntime.mark((function e(){var t,r,n,i,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context,r=t.validTCDataP,n=t.registerPluginBouncer,e.next=3,r;case 3:return i=e.sent,e.t0=Set,e.next=7,Iu("consentedVendors");case 7:e.t1=e.sent,o=new e.t0(e.t1),this.context=Qv(Qv({},this.context),{},{tcData:i,vendorConsents:o}),n((function(e,t){return a.checkVendorIds(e,t)&&a.checkPurposeIds(e,t)&&Uv(e,t)&&a.checkLegIntPurposeIds(e,t)}));case 11:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){ty(o,r,i,a,s,"next",e)}function s(e){ty(o,r,i,a,s,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"checkVendorIds",value:function(e,t){var r=this.context,n=r.log,i=r.vendorConsents;if(!t.vendorIds||void 0===t.vendorIds.gdpr)return!0;if(!1===t.vendorIds.gdpr)return n("plugin",e,"bounced because it is not supported where GDPR applies"),!1;var o=t.vendorIds.gdpr.filter((function(e){return!i.has(e)}));return!o.length||(n("plugin",e,"bounced because user have not consented to vendors:",o),!1)}},{key:"checkPurposeIds",value:function(e,t){var r=this.context,n=r.log,i=r.tcData;if(!t.purposeIds||void 0===t.purposeIds.gdpr)return!0;if(!Array.isArray(t.purposeIds.gdpr))return n.warn("gdprPurposeIds must be an array, but got:",t.purposeIds.gdpr),!1;var o=t.purposeIds.gdpr.filter((function(e){return!i.purpose.consents[e]}));return!o.length||(n("plugin",e,"bounced because user have not consented to purposes:",o),!1)}},{key:"checkLegIntPurposeIds",value:function(e,t){var r=this.context,n=r.log,i=r.tcData;if(!t.legIntPurposeIds||void 0===t.legIntPurposeIds.gdpr)return!0;if(!Array.isArray(t.legIntPurposeIds.gdpr))return n.warn("gdprPurposeIds must be an array, but got:",t.purposeIds.gdpr),!1;var o=t.legIntPurposeIds.gdpr.filter((function(e){return!i.purpose.legitimateInterests[e]}));return!o.length||(n("plugin",e,"bounced because user have not consented to legitimate interests:",o),!1)}}])&&ry(t.prototype,r),e}();function iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iy(Object(r),!0).forEach((function(t){ay(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ay(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sy(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function cy(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){sy(o,n,i,a,s,"next",e)}function s(e){sy(o,n,i,a,s,"throw",e)}a(void 0)}))}}var uy={yes:"true",no:"false",partial:"custom"},dy=function(){var e=cy(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,d,l,f,p,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.validTCDataP,n=t.pValidConsentDegree,i=t.log,t.broker,o=t.getConfig,a=o("tcfv2.par",{vendorIds:{gdpr:[755]},purposeIds:{gdpr:[1,3,4]}}),e.next=4,r;case 4:return s=e.sent,e.next=7,n;case 7:return c=e.sent,i("consentDegree",c),u=Gr(s.tcString),d=u.vendorListVersion,l={consent:uy[c],gdpr:s.gdprApplies?"1":"0",gdpr_consent:s.tcString,cmp:"tcfv2",iabv:d},e.next=14,de("tcfv2.personalisedAds",a);case 14:return f=e.sent,l.google_consent=f,p=f?0:1,g=f?l:oy(oy({},l),{},{npa:p}),i("dfp targeting:",g),e.abrupt("return",g);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ly=function(e,t){var r=e.broker,n=e.getConfig,i=e.log;n("tcfv2.setGptPersonalisedAdsState",!0)&&r.once("gpt initialized",function(){var e=cy(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:e.sent.google_consent?i("google personalised ads enabled"):(i("setting non-personalised ads"),r.pubads().setRequestNonPersonalizedAds(1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fy=function(){var e=cy(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.log,i=dy(t),r.emit("set page level targeting",i),ly(t,i),e.next=6,i;case 6:o=e.sent,a=o.google_consent?0:1,s={cust_params:oy({},o),npa:a},n("video tags",s),r.emit("sync video tags update",s),n("done with gpt");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function py(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function my(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function vy(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){my(o,n,i,a,s,"next",e)}function s(e){my(o,n,i,a,s,"throw",e)}a(void 0)}))}}var yy=function(){var e=vy(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.controllerHandler,n=r.tcfv2Version,i=r.tcfv2UiVersion,o=t.log,a=t.pValidConsentDegree,s=t.broker,c=t.validTCDataP,u=new Promise(function(){var e=vy(regeneratorRuntime.mark((function e(t){var r,s,u,d,l,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([c,a]);case 2:r=e.sent,s=py(r,2),u=s[0],d=s[1],o("consentDegree",d),l=Gr(u.tcString),o("decoded:",l),f=l.vendorListVersion,p={cmp:"tcfv2",cmpVersion:"".concat(n.length?n:"DEV"," ").concat(i.length?i:"DEV"),consent:d,gdpr:{iabv:String(f)},cmpId:l.cmpId},o("bidmax targeting:",p),t(p);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.register("call for page analytics",(function(){return u}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hy(Object(r),!0).forEach((function(t){wy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sy(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function _y(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Sy(o,n,i,a,s,"next",e)}function s(e){Sy(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Oy=new Xv;z("tcfv2",{init:xy,initTimeout:12e4});var Iy=function(e){var t=e.broker,r=e.log;return new Promise((function(e){var n=Oy.getConsentDegree()||void 0,i=Oy.getConsent();n||i?(r("resolving consentDegree",n,i),e(n)):t.once("valid consent degree",(function(t){r("resolving consentDegree",t),e(t)}))}))},Ey=function(e){e.once("dom ready",(function(){document.querySelectorAll("a[href^='javascript:window.__cmp.a.push([\\'openSettings\\']']").forEach((function(e){e.href="javascript:window.openUi('Level2')"}))}))},Ay=function(e,t){r.g.openUi=e,r.g.dissentUserToAll=function(){window.postMessage({ns:"@mol-ads/mol-ads-cmp",id:t,sender:"@mol-ads/mol-adverts",action:"dissentUserToAll"},"*")},r.g.ctv=function(){r.g.__tcfapi("hasUserConsentedToVendors",2,(function(e){return console.log("d",e)}),[1,2,4])}};function ky(e,t,n,i){var o=!1;r.g.__tcfapi("addEventListener",2,function(){var r=_y(regeneratorRuntime.mark((function r(a){var s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("cmpuishown"!==a.eventStatus){r.next=4;break}a.tcString.length&&(o=!0),r.next=28;break;case 4:if("tcloaded"!==a.eventStatus||a.tcString.length){r.next=9;break}t("opening UI:",a.eventStatus),n(),r.next=28;break;case 9:return Oy.setConsent(a.tcString),r.t0=Dv,r.next=13,Iu("getCustomVendorsConsents");case 13:return r.t1=r.sent,(0,r.t0)(r.t1),r.next=17,kv(a,t);case 17:if(t("cache update done"),"useractioncomplete"!==a.eventStatus){r.next=28;break}return Oy.setVendorListVersion(Gr(a.tcString).vendorListVersion),r.next=22,Iu("getConsentDegree");case 22:s=r.sent,Oy.setConsentDegree(s),Oy.setRepromptVersion(i),t("consentDegree emitting",s),e.emit("valid consent degree",s),o&&setTimeout((function(){t("RELOAD"),window.location.reload()}),100);case 28:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}function xy(e){return Py.apply(this,arguments)}function Py(){return(Py=_y(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,d,l,f,p,g,m,v,y,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=t).broker,i=r.getConfig,o=r.log,a=r.setConfig,i("tcfv2.enabled",!1)){e.next=4;break}return o("tcfv2 is not supported for this geo, bailing"),e.abrupt("return");case 4:if(s=i("tcfv2.reprompt",{version:0,chance:0}),c=Oy.getRepromptVersion(),u=c.version<s.version&&c.chance<s.chance,o("reprompt - should: ".concat(u,", config chance: ").concat(s.chance,", user chance: ").concat(c.chance,", config version: ").concat(s.version,", user version: ").concat(c.version)),d={version:s.version,chance:c.chance},t=by(by({},t),{},{storage:Oy,showUi:u}),l=new Wv(t,Oy.getVendorListVersion()),f=l.brokerId,p=l.openUi,Pv(o,n),g=Iu("getValidTCData"),m=Iu("getPurposesByVendorMap"),v=Iy({broker:n,log:o}),t=by(by({},t),{},{validTCDataP:g,purposesByVendorMapP:m,pValidConsentDegree:v,controllerHandler:l}),v.then((function(e){o("consent: ",e),a("cmp.consent",e)})),Ey(n),Ay(p,f),ky(n,o,p,d),y=l.loadController(),h=new ny(t).setup(),yy(t),Av()&&!u){e.next=27;break}return e.next=27,y;case 27:return e.next=29,g;case 29:return e.next=31,h;case 31:fy(t),o("resume loading ads bundle...");case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jy=xy;function Ty(e){return function(e){if(Array.isArray(e))return Cy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cy(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ry(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Dy(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ry(o,n,i,a,s,"next",e)}function s(e){Ry(o,n,i,a,s,"throw",e)}a(void 0)}))}}z("botsPlugin",{run:function(e){var t=e.broker,r=e.getConfig;t.emit("set page level targeting",{bot:r("bots.isBotDetected")})},init:function(e){var t=e.getConfig;(0,e.setConfig)("bots.isBotDetected",function(e){return e("bots",[]).some((function(e){var t=e.ip,r=e.ua,n=PageCriteria.clientIP===t;return r?n&&navigator.userAgent===r:n}))}(t)||/(?:[bB]ot|BOT|GrapeshotCrawler)s?\b/.test(navigator.userAgent))}}),z("browserResolutionPlugin",{run:function(e){var t=e.broker,r=e.getConfig,n=e.log;if(!r("bots.isBotDetected")){var i=function(){var e=(0,I.ap)(),r=e.width,i=e.height;n("setting browserResolution page-level targeting",r,i),t.emit("set page level targeting",{sw:r,sh:i}),t.emit("sync video tags update",{cust_params:{sw:r,sh:i}})};window.addEventListener("resize",(0,ei.Ds)(i,300)),i()}}}),z("pageArea",{run:function(e){var t=e.broker,n=function(){t.emit("set page level targeting",{area:r.g.adAreaId,subarea:r.g.adSubareaId})};t.on("set adSubareaId",(function(e){r.g.adSubareaId=e,n()})),n()}});var Uy={endPoint:"https://euasync01.admantx.com/admantx/service",request:{key:"d4d1cdf427f06ebc6ee7e0a3ffbcaecdfbfe517eca18a41d9126f88bdb16e7f0",type:"url",method:"descriptor",mode:"async",decorator:"json",filter:["admants"]}},My=["categories","feelings","entities","admants"];function By(e){return Ny.apply(this,arguments)}function Ny(){return(Ny=Dy(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,i=n("trackers.admantx",Uy),o=i.request,a=i.endPoint,s=window.location.href,o.body=s.substring(0,s.indexOf("?"))||s,c=JSON.stringify(o),u="".concat(a,"?request=").concat(c),d={"Content-Type":"text/plain","Content-Length":c.length,Connection:"keep-alive"},l=new Promise((function(e,t){fetch(u,{method:"GET",headers:d}).then(function(){var r=Dy(regeneratorRuntime.mark((function r(n){var i,a,s,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.json();case 2:i=r.sent,"OK"!==(a=i.info)?t(new Error("Admantx fetch error: ".concat(a,"."))):(s=o.filter.includes("default")?My:o.filter,c=s.map((function(e){return i[e]})).filter((function(e){return e})).reduce((function(e,t){return[].concat(Ty(e),Ty(t.map((function(e){return e.name}))))}),[]),e(c));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch(t)})),r.register("get admantx tags",(function(){return l})),r.emit("set page level targeting",l.then((function(e){return{"ias-bsp":e}}))),e.next=12,l;case 12:r.emit("admantx loaded");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}By.vendorIds={gdpr:[278]};var Ly=function(){var e=function(){for(var e=[],t=1;t<=20;t++)e.push(t);return e}();return{getTags:function(){var t=function(){if(e.length){var t=(0,Ct.MX)(0,e.length-1);return e.splice(t,1)}}();if(t)return{adx_channel:t}}}};function qy(e){var t=e.broker,r=Ly();t.register("get tags",(function(){var e=r.getTags();return e&&[e]})),t.register("get video tags",(function(e){var t=e.pos,n=r.getTags();if("jwplayer"===t&&n)return{cust_params:n}}))}function zy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vy(e){var t=e.broker,n=e.log,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(){var e=[window.screen.width,window.screen.height],t=function(t){return t[0]===e[0]&&t[1]===e[1]};r.g.DM.molFeMobileutils.isLandscape()&&e.reverse();var n={iphone:{iphone6:function(){return t([375,667])},iphone6p:function(){return t([414,736])},iphone5:function(){return t([320,568])}},other:{ipad:r.g.DM.molFeMobileutils.isIPad,other:function(){return!r.g.DM.molFeMobileutils.isMobile()&&!(0,I.bP)()},windows10:I.bP}},i={touch:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}};return{getTags:function(){return[{device:(e=n[PageCriteria.device]||{},Object.keys(e).find((function(t){return e[t]()}))||PageCriteria.device),device_features:Object.keys(i).filter((function(e){return i[e]()}))}];var e}}}().getTags(),1)[0];n(i),t.emit("set page level targeting",i)}function Fy(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Wy(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Fy(o,n,i,a,s,"next",e)}function s(e){Fy(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Gy(e){return(Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Hy=(0,E.x)("DigiTrust"),Ky={member:"XXbqCfNi5V",site:"MHexdZ5ewJ"},$y={},Yy=function(){if(window.DigiTrust){var e=window.DigiTrust.getUser(Ky);if("object"===Gy(e)&&e.success)return Hy("digitrust user success"),e}},Jy=function(e){return new Promise(function(){var t=Wy(regeneratorRuntime.mark((function t(r,n){var i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{i=!1,o=e.invoke("load script","https://cdn.digitru.st/prod/1/digitrust.min.js","DigiTrust"),a={digiTrust:!0},$y=C()($y,a),e.on("plugins enabled",Wy(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o;case 2:return(n=Yy())&&(i=!0,e.emit("prebid config async update",{digiTrustId:n}),r(n)),t.next=6,new Promise((function(e,t){Ky.redirects=!0,window.DigiTrust?window.DigiTrust.initialize(Ky,(function(r){"object"===Gy(r)&&r.success?(Hy("digiTrust Initiaization Success",r.success),e(r)):t(new Error("Unable to initialise DigiTrust"))})):t(new Error("Unable to initialise DigiTrust"))}));case 6:n=t.sent,i||(i=!0,e.emit("prebid config async update",{digiTrustId:n}),r(n));case 8:case"end":return t.stop()}}),t)}))))}catch(e){console.log("Uable to get digitrust user: ".concat(e)),n(new Error("Uable to get digitrust user: ".concat(e)))}case 1:case"end":return t.stop()}var a}),t)})));return function(e,r){return t.apply(this,arguments)}}())};function Xy(e){return Zy.apply(this,arguments)}function Zy(){return(Zy=Wy(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=n("plugins.digitrust.timeout",500);try{Hy("Initialising digitrust"),o=Jy(r)}catch(e){console.error("unable to load digiTrust",e)}return a=function(){var e=Wy(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,M.yq)(i,o);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Hy("Timeout while waiting for digitrust, letting go of:",t[0],t[1]);case 8:r();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,r){return e.apply(this,arguments)}}(),s=[r.intercept("get tags",a),r.intercept("get video tags",a),r.intercept("configure and start prebid",a)],e.next=7,o;case 7:c=e.sent,Hy("Sucessfully loaded:",c),s.forEach((function(e){return e()})),r.emit("set page level targeting",$y);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qy(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function eh(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Qy(o,n,i,a,s,"next",e)}function s(e){Qy(o,n,i,a,s,"throw",e)}a(void 0)}))}}function th(e){var t=e.partnerId,r=e.cascades,n={partnerId:t,cascades:void 0===r?9:r,hasTcfCmp:!0,debug:I.SP["mol.ads.id5.debug"],makeUrl:function(){var e=void 0!==this.callType&&"sync"===this.callType.toLowerCase()&&this.myUid&&this.myUid.length>0;return"https://id5-sync.com/"+(e?"s":"i")+"/"+this.partnerId+"/"+this.cascades+".gif?"+(e?"puid="+encodeURIComponent(this.myUid)+"&":"")+"gdpr="+encodeURIComponent(this.gdprApplies||"")+"&gdpr_consent="+encodeURIComponent(this.consentData||"")},prepareId5Pixel:function(){"loading"!==document.readyState?this.fireId5Pixel():document.addEventListener("DOMContentLoaded",(function(){n.fireId5Pixel()}))},fireId5Pixel:function(){var e=this.makeUrl();this.log("[ID5] Firing ID5 pixel at url:",e),(new Image).src=e},processTcfResults:function(e){this.log("[ID5]: Received TCF result",e),this.gdprApplies=e.gdprApplies,this.consentData=e.consentData},init:function(){if(this.hasTcfCmp)try{window.__cmp("getConsentData",null,(function(e){n.processTcfResults(e),n.prepareId5Pixel()}))}catch(e){n.log("[ID5]: Exception received while calling TCF CMP",e),n.prepareId5Pixel()}else n.prepareId5Pixel()},log:function(e,t){this.debug&&console.log("[ID5] "+e,t)}};n.init()}function rh(e){return nh.apply(this,arguments)}function nh(){return(nh=eh(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i={id5:!0},r.emit("set page level targeting",i),r.register("call for page analytics",(function(){return i})),o=n("trackers.id5.partnerId"),a=n("trackers.id5.cascades"),o?th({partnerId:o,cascades:a}):console.error("[ID5] Missing Partner ID from configuration.");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(e){var t=e.broker;(0,e.getConfig)("bots.isBotDetected")||t.emit("set page level targeting",{random:[window.PageCriteria.pageViewId],impid:[(0,Ct.kb)()]})}function oh(e){return function(e){if(Array.isArray(e))return ah(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ah(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ah(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ah(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sh(e){var t=e.broker,r=(0,e.getConfig)("plugins.ixIdentify.scriptUrl","//js-sec.indexww.com/ht/p/184669-186298276891027.js"),n=t.invoke("load script",r,"headertag");t.register("prebid prerequisites",(function(){return n}))}Xy.vendorIds={gdpr:!1},rh.vendorIds={gdpr:[131]},sh.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=t("plugins.enabled"),i=n.findIndex((function(e){return"prebid"===e}));if(~i){var o=i-1,a=new Set([].concat(oh(n.slice(0,o)),["trackers.ixIdentity"],oh(n.slice(o))));r("plugins.enabled",oh(a))}};var ch=sh;function uh(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function dh(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){uh(o,n,i,a,s,"next",e)}function s(e){uh(o,n,i,a,s,"throw",e)}a(void 0)}))}}function lh(e){return fh.apply(this,arguments)}function fh(){return(fh=dh(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.broker,t.getConfig,i="mol.ads.userId",o=(0,E.x)("pubCommon"),a=function(){var e=dh(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.g.RTA&&r.g.RTA.ids&&r.g.RTA.ids.then)){e.next=6;break}return e.next=3,r.g.RTA.ids;case 3:return t=e.sent,n=t.user,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=JSON.parse(localStorage.getItem(i)||"{}");return e.userId||(e={userId:(0,Ct.kb)()},o("using generated id",JSON.stringify({userId:(0,Ct.kb)()})),localStorage.setItem(i,JSON.stringify(e))),e.userId},c=function(){var e=dh(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=s();case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=(0,I.ej)("_pubcid")){e.next=13;break}return e.next=10,c();case 10:u=e.sent,o("setting cookie for pubCommonId"),(0,I.d8)("_pubcid",u);case 13:n.emit("pubcommonId cookie set",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ph(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function gh(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ph(o,n,i,a,s,"next",e)}function s(e){ph(o,n,i,a,s,"throw",e)}a(void 0)}))}}function mh(e){return vh.apply(this,arguments)}function vh(){return(vh=gh(regeneratorRuntime.mark((function e(t){var n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.broker,e.next=3,r.g.RTA.ids;case 3:i=e.sent,o=i.page,a=i.user,s=i.created,n.emit("set page level targeting",{rtaCreated:s,rtaUser:a,rtaPage:o});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yh(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function hh(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){yh(o,n,i,a,s,"next",e)}function s(e){yh(o,n,i,a,s,"throw",e)}a(void 0)}))}}function bh(e){return wh.apply(this,arguments)}function wh(){return(wh=hh(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getConfig,n=r("plugins.smartclip.url","https://sync.sxp.smartclip.net/sync?type=red&dsp=10"),Lt({url:n});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sh(e){var t=e.broker;r.g._tfa=r.g._tfa||[],r.g._tfa.push({notify:"event",name:"page_view",id:1125455}),document.getElementById("tb_tfa_script")||t.invoke("import script","//cdn.taboola.com/libtrc/unip/1125455/tfa.js",{id:"tb_tfa_script"})}sh.vendorIds={gdpr:[10]},lh.purposeIds={gdpr:[3,4]},bh.vendorIds={gdpr:[115]},Sh.vendorIds={gdpr:[42]};var _h=function(e){var t=e.broker,r=e.getConfig,n=e.log;t.on("prebid loaded",(function(e){var t=e.getConfig("userSync"),i={userSync:(0,ei.LY)(t,{userIds:[{name:"unifiedId",params:{url:"//match.adsrvr.org/track/rid?ttd_pid=a8r0pns&fmt=json"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}}],syncDelay:r("plugins.prebid.syncDelay",3e3)})};n("setting pbjs config",i),e.setConfig(i)}))},Oh=function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("trackers.universalIds",[]);i.length&&t.on("prebid loaded",(function(e){var t=e.getConfig("userSync"),o={userSync:(0,ei.LY)(t,{userIds:i,syncDelay:r("plugins.prebid.syncDelay",3e3)})};n("setting pbjs config",o),e.setConfig(o)}))};function Ih(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Eh=function(){},Ah=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callbacks=new Map,this.markerObserver=new IntersectionObserver(this.onInView.bind(this),{root:null,rootMargin:"0px",threshold:[0,.5,1]})}var t,r;return t=e,(r=[{key:"onInView",value:function(e){var t=this;e.forEach((function(e){return(t.callbacks.get(e.target)||Eh)(e)}))}},{key:"observe",value:function(e,t){this.callbacks.set(e,t),this.markerObserver.observe(e)}},{key:"unobserve",value:function(e){this.callbacks.delete(e),this.markerObserver.unobserve(e)}}])&&Ih(t.prototype,r),e}(),kh=(0,E.x)("AdsRefresher");function xh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||jh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ph(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=jh(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function jh(e,t){if(e){if("string"==typeof e)return Th(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Th(e,t):void 0}}function Th(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ch(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Dh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.broker,n=t.inactiveTime,i=void 0===n?1e4:n,o=t.events,a=void 0===o?[[document,["mousemove","keypress","scroll","mousewheel","touchmove"]],[window,["focus","scroll"]]]:o;Ch(this,e),this.priv={broker:r,events:a,inactiveTime:i,handleUserActivity:(0,ei.FU)(Uh.bind(this),i-500),lastActive:new Date}}var t,r;return t=e,(r=[{key:"active",get:function(){var e=this.priv;return new Date-e.lastActive<e.inactiveTime}},{key:"start",value:function(){var e=this.priv;Nh.call(this,(function(t,r){t.addEventListener(r,e.handleUserActivity)})),e.timer=Bh.call(this)}},{key:"stop",value:function(){var e=this.priv;Nh.call(this,(function(t,r){t.removeEventListener(r,e.handleUserActivity)})),e.timer=clearTimeout(e.timer)}},{key:"whenActive",value:function(){var e=this;return new Promise((function(t){e.active?t():e.priv.broker.once("user active",t)}))}}])&&Rh(t.prototype,r),e}();function Uh(e){var t=this.priv,r=!this.active;t.lastActive=new Date,r&&(kh("user became active"),t.broker.emit("user active"))}function Mh(){var e=this.priv.broker;this.active?Bh.call(this):(kh("user became inactive"),e.emit("user inactive"),e.once("user active",Bh.bind(this)))}function Bh(){setTimeout(Mh.bind(this),this.priv.inactiveTime)}function Nh(e){var t,r=Ph(this.priv.events);try{for(r.s();!(t=r.n()).done;){var n=xh(t.value,2),i=n[0],o=n[1];if(i){var a,s=Ph(o);try{for(s.s();!(a=s.n()).done;)e(i,a.value)}catch(e){s.e(e)}finally{s.f()}}}}catch(e){r.e(e)}finally{r.f()}}var Lh=function(){var e,t;if(void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),!e)throw new Error("Can't create activity monitor");var r,n,i={capture:!0,passive:!0},o=0,a=function(){n=new Promise((function(e){r=e}))};a();var s=function(){if(document[e]){if(r)return;a()}else{if(!r)return;o=Date.now();var t=r;r=void 0;try{t()}catch(e){console.warn(e)}}};return s(),document.addEventListener(t,s,i),window.addEventListener("pagehide",s,i),window.addEventListener("pageshow",s,i),{whenActive:function(){return n},start:function(){},stop:function(){},get active(){return Date.now()-o}}};function qh(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function zh(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){qh(o,n,i,a,s,"next",e)}function s(e){qh(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Vh=function(e){var t=e.broker,r=e.getConfig,n=new Ah,i="mol"===r("viewability.activityMonitor","mol")?new Dh({broker:t}):Lh(),o=new Map,a=function(){var e=zh(regeneratorRuntime.mark((function e(r,a){var s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.set(r,a),c=0,n.observe(a,function(){var e=zh(regeneratorRuntime.mark((function e(n){var o,a,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.intersectionRatio,c=n.intersectionRatio,e.next=4,i.whenActive();case 4:n.isIntersecting?!s&&n.intersectionRatio>=.5&&(a=!0,u=function(){a&&o<1&&c<1?(a=!1,d()):(s=void 0,t.emit("ad viewable",r))},(d=function(){s=setTimeout(u,500)})()):s&&(clearTimeout(s),s=void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t.on("track viewability",(function(e,t){a(e,t)})),t.on("untrack viewability",(function(e){return function(e){var t=o.get(e);t&&(n.unobserve(t),o.delete(e))}(e)})),t.once("dom ready",(function(){i.start()}))};function Fh(e){var t=e.broker,r=e.log,n=["video","jwplayer"],i={},o=function(e,n){var o=i[e];return(!o||o&&o.ended&&n)&&(r("creating new stream for:",e),i[e]=t.createReadObjectStream()),i[e]};t.on("bid",(function(e,t){if(!n.includes(e)){var i=o(e);i.bidReceived||(r("bid received for: ".concat(e,", bidder: ").concat(t.bidder)),i.push([{nobids:!1}]),i.push(null),i.bidReceived=!0)}})),t.registerUnboundedStream("get tags",(function(e){var t=e.slot;if(!n.includes(t.pos)){var r=o(t.pos,!0);return r.bidReceived||r.push([{nobids:!0}]),r}})),t.on("bidding ended",(function(e){i[e]&&(r("remove stream for:",e),i[e].ended=!0)}))}function Wh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wh(Object(r),!0).forEach((function(t){Hh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kh(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function $h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Kh(o,n,i,a,s,"next",e)}function s(e){Kh(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Yh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xh=[{size:[300,600],url:"https://scripts.dailymail.co.uk/static/mol-fe/static/mol-fe-xpmodule-news-search/1.13.0/mpuCarousel.html?forceIto=Mol-Carousel&startTab=entertainment"},{size:[970,250],image:"https://www.dailymail.co.uk/static/mol-adverts/creatives/newzit-static-billboard.jpeg"},{size:[160,600],image:"https://www.dailymail.co.uk/static/mol-adverts/creatives/newzit-static-skyscrapper.png"}],Zh={vendorIds:{gdpr:[755]},purposeIds:{gdpr:[1,3,4]},legIntPurposeIds:{gdpr:[3,4]}};z("adserver",{init:function(e){return ub.apply(this,arguments)},run:function(e){var t=e.log,r=googletag.cmd,n=function(e){try{e()}catch(e){t.warn("Error running function queued up in googletag.cmd:",e)}};googletag.cmd.push=n,r.forEach(n)}});var Qh,eb=function(e){var t=document.getElementById(e),r=Yh(t.getClientRects(),1)[0],n=r?Math.ceil(r.width):0,i=r?Math.ceil(r.height):0,o=document.createElement("div");o.style.border="0pt none",o.style.margin="0 auto",o.style.padding="0",o.style.minHeight="1px",t.appendChild(o);var a=document.createElement("iframe");return r&&(a.width=n+"",a.height=i+""),a.scrolling="no",a.marginWidth="0",a.marginHeight="0",a.style.marginTop="0px",a.style.marginLeft="0px",a.style.border="0pt none",o.appendChild(a),{document:a.contentDocument,size:[n,i],adElement:o}},tb=function(e,t,r,n){var i={},o=!1,a={getAdUnitPath:function(){return t},getSlotElementId:function(){return r},getTargetingMap:function(){return i},setTargeting:function(e,t){return void 0!==t&&(i[e]=[t]),a},getTargeting:function(e){return i[e]||[]},addService:function(){return a},setCollapseEmptyDiv:function(e){return o=e,a},getCollapseEmptyDiv:function(){return o},sizes:n,getTargetingKeys:function(){return Object.keys(i)},targeting:i};return a};function rb(e,t,r,n){return nb.apply(this,arguments)}function nb(){return(nb=$h(regeneratorRuntime.mark((function e(t,n,i,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qh||(Qh=new Promise(function(){var e=$h(regeneratorRuntime.mark((function e(n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.invokeAll({message:["call for page analytics"],timeout:2e3});case 2:i=e.sent,o=Gh(Gh({timestamp:r.g.adverts.startTime,referrer:document.referrer,localStorage:void 0,memory:void 0,indexedDB:void 0,viewability:void 0},i.reduce((function(e,t){return Gh(Gh({},e),t)}),{})),{},{event_type:"bidmax",type_version:2,version:I.SP.bidmax||si}),n(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.t0=Gh,e.t1=Gh,e.t2={timeAtSend:Date.now()-r.g.adverts.startTime},e.next=6,Qh;case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={type:"custom",payload:{module:"adserver",event:"click",id:i}},a=(0,e.t0)(e.t4,e.t5,e.t6),e.abrupt("return","".concat(n,"/_/e?r=").concat(encodeURIComponent(o),"&e=").concat(btoa(JSON.stringify(a))));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ib(e,t,r,n,i,o){return ob.apply(this,arguments)}function ob(){return(ob=$h(regeneratorRuntime.mark((function e(t,r,n,i,o,a){var s,c,u,d,l,f,p,g,m,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=document.createElement("div"),c=t.size,u=t.id,d=t.click,l=Yh(c,2),f=l[0],p=l[1],!t.url){e.next=15;break}(g=document.createElement("iframe")).width=f,g.height=p,g.scrolling="no",g.marginHeight=0,g.marginWidth=0,g.frameBorder=0,g.src=t.url,s.appendChild(g),e.next=35;break;case 15:if(!t.image){e.next=29;break}if((m=document.createElement("img")).width=f,m.height=p,m.src=t.image,v=document.createElement("a"),!d){e.next=25;break}return e.next=24,rb(o,a,u,d);case 24:v.href=e.sent;case 25:v.appendChild(m),s.appendChild(v),e.next=35;break;case 29:if(!t.html){e.next=33;break}s.innerHTML=t.html,e.next=35;break;case 33:return r.warn("unsupported creative:",t),e.abrupt("return");case 35:n.appendChild(s),i.adElement=s,y={size:c,slot:i,isEmpty:!1,creativeId:u,serviceName:"proprietary"},o.emit("gpt event","slotRenderEnded",y);case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ab=0,sb=null;function cb(e,t){var r=[],n=e.intercept("import script","//www.googletagservices.com/tag/js/gpt.js",(function(e,i){n&&(r.push(i),t("holding off gpt loading"))}));return function(){n(),n=null,r.length&&(t("resume loading real gpt"),r.forEach((function(e){return e()})))}}function ub(){return(ub=$h(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d,l,f,p,g,m,v,y,h,b,w,S,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=function(){sb&&(sb(),sb=null),a([d]),i("bailing")},n=t.broker,i=t.log,o=t.addPlugins,a=t.removePlugins,s=t.getConfig,c=t.setConfig,u=t.pluginsAlreadyRun,d=t.ownName,l=t.checkPluginBouncer,f=s("bidmax.dispatcher.url","//crta.dailymail.co.uk"),u.has("tcfv2")){e.next=16;break}if(!(ab++>10||sb)){e.next=7;break}return p(),e.abrupt("return");case 7:return i("tcfv2 hasnt ran yet"),(g=s("plugins.enabled")).splice(g.indexOf(d),1),m=["tcfv2","mvt","debug.setPlugin"].filter((function(e){return!u.has(e)})),(v=m.find((function(e){return g.includes(e)})))?(i("re-queing just after",v),y=g.indexOf(v)):(i("cant find tcfv2 or any way to dynamically enable it, holding off gpt.js loading"),sb=cb(n,i),i("re-queuing as last plugin"),y=g.length-1),g.splice(y+1,0,d),c("plugins.enabled",g),e.abrupt("return","not yet");case 16:return i("starting"),e.next=19,l("adserver",Zh);case 19:if(!e.sent){e.next=25;break}return i("google enabled"),p(),e.abrupt("return");case 25:i("user seems to have dissented to google, running own adserver");case 26:sb||n.intercept("import script","//www.googletagservices.com/tag/js/gpt.js",(function(){i("intercepting real gpt loading")})),h=s("adserver.ads",Xh),o(["analytics.headerbidderWinner"]),(b=r.g.googletag=r.g.googletag||{}).cmd=b.cmd||[],w={},S={setTargeting:function(e,t){return void 0!==t&&(w[e]=[t]),S},addEventListener:function(e,t){return n.on("gpt event",e,t),S},setCentering:function(e){return S},enableAsyncRendering:function(){return S},getTargetingKeys:function(){return Object.keys(w)},getTargeting:function(e){return w[e]||[]},setRequestNonPersonalizedAds:function(){},setPrivacySettings:function(){},getSlots:function(){return Object.values(_)}},b.pubads=function(){return S},_={},b.enableServices=function(){i("enableServices")},b.getVersion=function(){return"proprietary"},b.display=function(e){var t=_[e];if(t.displayed)i.warn("slot",e,"already displayed, ignoring multiple calls");else{t.displayed=!0,i("display:",e,t.sizes);var o=e,a=Yh(t.getTargeting("hb_pb"),1)[0];if(a>0&&"oopGptSlot"!==t.slotType){i("prebid bid",a,"rendering ad:",e);var s=eb(o),c=s.document,u=s.size,d=s.adElement,l=Yh(t.getTargeting("hb_adid"),1)[0];t.adElement=d,r.g.pbjs.renderAd(c,l),n.emit("gpt event","slotRenderEnded",{size:u,slot:t,isEmpty:!1})}else{var p=document.getElementById(o),g=h.filter((function(e){var r=e.size;return t.sizes.find((function(e){var t=Yh(e,2),n=t[0],i=t[1];return r[0]===n&&r[1]===i}))}));if(g.length){var m=g[Math.floor(g.length*Math.random())];i("found house ad for size:",m.size),ib(m,i,p,t,n,f)}else"oopGptSlot"===t.slotType?i("no header bidder or house ad found for out of page slot"):t.getCollapseEmptyDiv()?(i("no header bidder or house ad found, collapsing:",p),p.style.height="0px",p.style.display="none"):i("no header bidder or house ad found, but NOT collapsing it"),n.emit("gpt event","slotRenderEnded",{slot:t,isEmpty:!0})}}},S.refresh=function(e,t){i("refresh:",e,t)},b.defineSlot=function(e,t,r){i("defineSlot:",r);var n=tb(0,e,r,t);return _[r]=n,n},b.defineOutOfPageSlot=function(e,t){i("defineOutOfPageSlot:",t);var r=Gh(Gh({},tb(0,e,t,[])),{},{slotType:"oopGptSlot"});return _[t]=r,r},b.destroySlots=function(e){i("destroySlots:",e),e.forEach((function(t){var r=t.adElement;r&&r.parentNode.removeChild(r),delete e[t]}))};case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function db(e){return(db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}z("conditionalLoad",{init:function(e){var t=e.broker,r=e.getConfig,n=e.log;n("starting"),t.register("call for page-unload",(function(){return{sdoc:gb.length}}));var i=r("plugins.slots.loadConditions.constants",{});t.on("ad rendered",(function(e,t){var r=t.size,n=t.slot,i=t.isEmpty,o=n.molAd.pos;"oopGptSlot"===n.molAd.slotType&&(o+="-oop"),mb.renderedAds[o]={size:r,isEmpty:i},yb()})),t.intercept("slot defined",(function(e,t){var r=fb(e,2),o=(r[0],r[1].pos),a=(0,P.get)(o);if(mb.definedPositions.push(o),a&&void 0!==a.loadCondition){var s="string"==typeof a.loadCondition?i[a.loadCondition]:a.loadCondition;n("delaying slot",o,"due to condition:",s),hb(new vb(s,{pos:o}),t)}else t();yb()})),t.intercept("request slot",(function(e,t){var r=fb(e,2),o=(r[0],r[1]),a=o.pos,s=o.slotType,c=(0,P.get)(a);if("oopGptSlot"===s&&void 0!==c.oopLoadCondition){var u="string"==typeof c.oopLoadCondition?i[c.oopLoadCondition]:c.oopLoadCondition;n("delaying oop slot",a,"due to condition:",u),hb(new vb(u,{pos:a}),t)}else t();yb()}))}});var gb=[],mb={renderedAds:{},definedPositions:[]},vb=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=r,this.rootDescriptor=t,this.do=this.do.bind(this),this.not=this.not.bind(this)}var t,r;return t=e,(r=[{key:"do",value:function(e){if("object"===db(e)){var t=Object.keys(e)[0];if("function"==typeof this[t])return this[t](e[t]);throw new Error("error calling fnName "+t)}return e}},{key:"not",value:function(e){return!this.do(e)}},{key:"and",value:function(e){return!e.find(this.not)}},{key:"or",value:function(e){return!!e.find(this.do)}},{key:"isAdSmallerThan",value:function(e){var t=e.pos,r=e.size;return function(e,t){var r=fb(e,2),n=r[0],i=r[1],o=fb(t,2),a=o[0],s=o[1];return n<a&&i<s}(mb.renderedAds[t].size,r)}},{key:"isMasterRendered",value:function(){return!!mb.renderedAds[this.context.pos]}},{key:"isPosDefined",value:function(e){return!!~mb.definedPositions.indexOf(e)}},{key:"isPosEmpty",value:function(e){return mb.renderedAds[e].isEmpty||!mb.renderedAds[e].size}},{key:"isPosRendered",value:function(e){return mb.renderedAds.hasOwnProperty(e)}},{key:"isViewPortWidthLargerThan",value:function(e){return(0,I.ap)().width>e}},{key:"isIE",value:function(){return I.JW}},{key:"run",value:function(){return this.do(this.rootDescriptor)}}])&&lb(t.prototype,r),e}(),yb=(0,ei.yS)((function(){gb=gb.filter((function(e){var t=e.condition,r=e.done;try{return!t.run()||(r(),!1)}catch(e){return console.error("conditional-load: ",e),!1}}))}));function hb(e,t){gb.push({condition:e,done:t})}var bb=r(1230),wb=r.n(bb);function Sb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}z("conditionalEnable",{init:function(e){var t=e.broker,n=e.log,i=e.getConfig;n("starting");var o=i("enableCondition.downlinkMin",0),a=wb()(),s=i("enableCondition.notForAuthorTypes",[]);if(o>=a)return n("disabling broker because of downlink:",{downlinkMax:a,downlinkMin:o}),_b({broker:t,log:n});var c=r.g.PageCriteria.authorType;return s.includes(c)?(n("disabling broker because of controvential author:",{controversialAuthors:s,authorType:c}),_b({broker:t,log:n})):void 0}});var _b=function(e){var t,r=e.broker,n=e.log,i=[];return t=r.intercept((function(e,r){t?(i.push((function(){r()})),n.warn("[mol-ads] disabled")):r()})),function(){t(),t=null;var e,r=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Sb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sb(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(i);try{for(r.s();!(e=r.n()).done;)(0,e.value)()}catch(e){r.e(e)}finally{r.f()}}};function Ob(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Ib(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ob(o,n,i,a,s,"next",e)}function s(e){Ob(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Eb(e,t){var r=document.createElement("div");r.id=e,t.parentElement.insertBefore(r,t)}function Ab(){return(Ab=Ib(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,i=t.log,o=n("taboola.outStream.paragraphIndex",4),a=n("taboola.outStream.margin",{top:30,bottom:60}),s="taboola-mid-article-thumbnails",e.prev=4,e.next=7,sg({broker:r,log:i,targetParagraphIndex:o,margin:a});case 7:c=e.sent,Eb(s,c),r.emit("add taboola",{id:s,position:"outStream"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),i("giving up awaiting for new paragraph, article might just have ended with no suitable placement"),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function kb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}z("taboola.Outstream",{run:function(e){return Ab.apply(this,arguments)},vendorIds:{gdpr:[42]}}),z("bidCount",{run:function(e){var t=e.broker,r=e.log;t.register("get tags based on tags",(function(e){return{bidCount:e.filter((function(e){return e.type&&"bid"===e.type&&!e.tags.bc})).length}})),t.intercept("collect video tags",(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),i=n[0],o=n[1],a=n[2],s=function(e,t){if(t&&"bid"===t.type){var n=xb[t.auctionId]=(xb[t.auctionId]||0)+1;r("bid received for ".concat(t.auctionId,", bidCount: ").concat(n),t.tags.cust_params),t.tags.cust_params.bidCount=n}a(e,t)};s(null,{cust_params:{bidCount:0}}),t(i,o,s)})),t.on("bidding ended",(function(e,t){xb[t]&&(r("video auction ended, removing auctionId",t),delete xb[t])}))}});var xb={};function Pb(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jb(Object(r),!0).forEach((function(t){Cb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rb(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Db(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Db(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}z("taboolaAds",{run:function(e){var t=e.broker,r=(0,A.U2)("taboola",{enabled:!0}).enabled,n=(0,A.U2)("taboola.thumbnail",{enabled:!1});if(r){if(n.enabled)var i=t.on("add taboola",(function(e){"thumbnail"===e.position&&(i.cancel(),Bb({status:"widgetCall",placement:"thumbnails-feed"}))}));t.on("add taboola",(function(e){"pufflist"===e.position?function(e,t){var r=(0,A.U2)("taboola."+t.position,{enabled:!1});if(r.enabled){var n,i=r.start,o=r.every,a=Rb(document.getElementById(t.id).querySelectorAll("li"));try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.classList.contains("mpu_puff_wrapper"))return;if(0!=--i)return;i=o;var c=++Ub,u=Lb(s,c,r,"afterend"),d=Tb(Tb({},r),{},{placement:"".concat(r.placement," ").concat(Ub),container:u});Nb(e,u,d)}}catch(e){a.e(e)}finally{a.f()}}}(t,e):function(e,t){var r=t.position,n=t.id,i=(0,A.U2)("taboola."+r,{enabled:!1});i.enabled&&Nb(e,n,i)}(t,e)})),function(e){var t=(0,A.U2)("taboola.infiniteScroll",{enabled:!1});if(t.enabled){var r=t.start,n=t.every,i=t.platform;e.on("infinite-list append",function(){var o,a=(o=regeneratorRuntime.mark((function o(a){var s,c,u,d,l,f;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n){o.next=2;break}return o.abrupt("return");case 2:s=Rb(a.querySelectorAll(qb(i)));try{for(s.s();!(c=s.n()).done;)u=c.value,0===r?(d=++Ub,l=Lb(u,d,t,"beforebegin"),f=Object.assign({},t,{placement:t.placement+" "+d,container:l}),Nb(e,l,f),r=n-1):r--}catch(e){s.e(e)}finally{s.f()}case 4:case"end":return o.stop()}}),o)})),function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){Pb(i,r,n,a,s,"next",e)}function s(e){Pb(i,r,n,a,s,"throw",e)}a(void 0)}))});return function(e){return a.apply(this,arguments)}}())}}(t)}},vendorIds:{gdpr:[42]}});var Ub=0,Mb={taboola:null},Bb=function(e){r.g.RTA.tedEvent("page_event",{action:"set",name:"taboola",value:e})},Nb=function(e,t,r){var n;(n=function(e){if(Mb.taboola)return Mb.taboola;var t=(0,A.U2)("taboola.thumbnail",{enabled:!1}),r="//cdn.taboola.com/libtrc/"+(0,A.U2)("taboola.scriptDir","dailymail-row")+"/loader.js";window._taboola=window._taboola||[],Mb.taboola=window._taboola;var n=Mb.taboola,i=!1;n.push({article:"auto"});var o=document.createElement("script");t.enabled&&(n.push({listenTo:"render",handler:function(e){!i&&"api::render"===e.type&&e.detail.mode.includes("thumbnails-feed")&&(i=!0,Bb({status:"widgetRendered",placement:"thumbnails-feed"}))}}),Bb({status:"scriptLoading"}),o.addEventListener("load",Bb({status:"scriptLoaded"})));var a=document.querySelector("script");return o.async=!0,o.src=r,o.onError=function(){return e.emit("taboola failed to load")},a.parentNode.insertBefore(o,a),t.enabled&&window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic"),n.push({listenTo:"render",handler:function(t){return e.emit("taboola render",t)}}),n.push({listenTo:"visible",handler:function(t){return e.emit("taboola visible",t)}}),n.push({listenTo:"nocontent",handler:function(t){return e.emit("taboola nocontent",t)}}),n.push({listenTo:"click",handler:function(t){return e.emit("taboola click",t)}}),n}(e)).push({container:t,mode:r.mode,placement:r.placement,targetType:r.taretType}),n.push({flush:!0})},Lb=function(e,t,r,n){var i=r.containerStr+t,o=function(e,t){return"mobile"===t?'<li id="'.concat(e,'"></li>'):'<div id="'.concat(e,'" style="min-height: 280px;"></div>')}(i,r.platform);return e.insertAdjacentHTML(n,o),i},qb=function(e){return"mobile"===e?"li":"div.article"};function zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zb(Object(r),!0).forEach((function(t){Fb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wb(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Gb(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Wb(o,n,i,a,s,"next",e)}function s(e){Wb(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Hb(e){return Kb.apply(this,arguments)}function Kb(){return(Kb=Gb(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=(new Date).getTime();!function t(n){if(0===n){var i=(new Date).getTime()-r;e(i)}else setTimeout((function(){return t(n-1)}),0)}(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jb(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Xb(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Jb(o,n,i,a,s,"next",e)}function s(e){Jb(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Zb(e){return Qb.apply(this,arguments)}function Qb(){return(Qb=Xb(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=n("plugins.adnami.scriptTimeout",500),o={adNami:"off"},a=(0,M.Ye)(i,[new Promise((function(e){window.adsmtag=window.adsmtag||{},window.adsmtag.cmd=window.adsmtag.cmd||[],window.adsmtag.cmd.push((function(){o.adNami="on",e()}))}))]),r.invoke("import script","https://macro.adnami.io/macro/spec/adsm.macro.4111597d-dc70-4fd8-b25e-7d24d8423e73.js"),r.intercept("slot ready for ad",function(){var e=Xb(regeneratorRuntime.mark((function e(t,r){var n,i,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$b(t,3),i=n[0],s=n[1],c=n[2],e.next=3,a;case 3:c.push(o),r(i,s,c);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}z("performanceMonitor",{run:function(e){var t=e.broker,r=e.getConfig,n=r("performance.sampleSize",100);r("performance.pageLoad.offsets",[0,5,15]).forEach((function(e){return setTimeout(function(e){return Gb(regeneratorRuntime.mark((function r(){var i,o,a,s,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.invoke("is page visible?");case 2:return i=r.sent,o=t.on("page hidden",(function(){i=!1})),r.next=6,Hb(n);case 6:a=r.sent,o.cancel(),s=a/n,c=Vb(Vb({offset:e,sampleSize:n,visible:i},(0,Ct._b)("delayP1s",s)),(0,Ct._b)("delayP100ms",s)),t.emit("send event to bidmax",{type:"custom",payload:Vb({module:"perf-monitor",event:"measure"},c)});case 11:case"end":return r.stop()}}),r)})))}(e),1e3*e)}))}});var ew=function(e){var t=e.broker;r.g.adsbygoogle=r.g.adsbygoogle||[],t.on("adsByGoogle",(function(){t.invoke("load script","//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",null,{},(function(){return!0})).then((function(){return r.g.adsbygoogle.push({}),!0}))}))},tw=ew;function rw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}ew.vendorIds={gdpr:[755]};var nw=Symbol("private properties"),iw=function(){function e(t){var r=t.broker,n=t.pos;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=this[nw]={};i.broker=r,i.pos=n,i.inView=!1}var t,r;return t=e,(r=[{key:"inView",get:function(){return this[nw].inView}},{key:"start",value:function(){var e=this[nw];e.slotVisibilityChangedSub=e.broker.on("slot visibility changed",e.pos,sw.bind(this)),e.adViewableSub=e.broker.on("ad viewable",e.pos,ow.bind(this))}},{key:"stop",value:function(){var e=this[nw];e.slotVisibilityChangedSub.cancel(),e.adViewableSub.cancel(),uw.call(this)}}])&&rw(t.prototype,r),e}();function ow(){if(!this.inView){var e=this[nw];e.inView=!0,e.broker.emit("ad active view",e.pos)}}function aw(){if(this.inView){var e=this[nw];e.inView=!1,uw.call(this),e.broker.emit("ad out of view",this[nw].pos)}}function sw(e){e.inViewPercentage<50?aw.call(this):this[nw].timer||cw.call(this)}function cw(){this[nw].timer=setTimeout(ow.bind(this),1e3)}function uw(){var e=this[nw];e.timer=clearTimeout(e.timer)}function dw(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function lw(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){dw(o,n,i,a,s,"next",e)}function s(e){dw(o,n,i,a,s,"throw",e)}a(void 0)}))}}function fw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var pw,gw=function(){function e(t){var r=this,n=t.interval,i=void 0===n?3e4:n,o=t.broker,a=t.positions,s=t.ids,c=t.activeViewTracker,u=t.userInactivityMonitor,d=void 0===u?new Dh({broker:o}):u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var l={};this.interval=i,l.broker=o,l.positions=a,l.ids=s,l.userInactivityMonitor=d,l.activeSub=l.broker.on("user active",mw.bind(this)),c&&(l.activeViewTracker=c,l.activeViewSub=l.broker.on("ad active view",l.positions[0],mw.bind(this)),l.activeViewTracker.start()),this.stopped=!1,this.priv=l,this.refresh=vw.bind(this),o.on("force ads refresh",lw(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.refresh(),e.next=3,o.until("ad rendered");case 3:kh("Ads force-refreshed");case 4:case"end":return e.stop()}}),e)})))),o.on("ad rendered",(function(e){l.positions.includes(e)&&l.timer&&r.start()}))}var t,r;return t=e,(r=[{key:"start",value:function(){var e=this.priv;e.timer=clearTimeout(e.timer),e.started=new Date,e.remaining=e.remaining||this.interval,e.timer=setTimeout(this.refresh,e.remaining)}},{key:"stop",value:function(){var e=this.priv;e.activeSub.cancel(),e.activeViewTracker&&(e.activeViewSub.cancel(),e.activeViewTracker.stop()),e.timer=clearTimeout(e.timer),e.remaining=0,this.stopped=!0}}])&&fw(t.prototype,r),e}();function mw(){0===this.priv.remaining&&vw.call(this)}function vw(){var e=this.priv;if(kh("Refresh: ",{positions:e.positions.join(" "),ids:e.ids.join(" "),active:e.userInactivityMonitor.active,inView:e.activeViewTracker?e.activeViewTracker.inView:"N/A"}),!e.userInactivityMonitor.active||e.activeViewTracker&&!e.activeViewTracker.inView)return e.timer=clearTimeout(e.timer),void(e.remaining=0);kh("Refreshing",{positions:e.positions.join(" "),ids:e.ids.join(" ")}),e.broker.emit("prepare to refresh ads",e.positions),e.broker.emit("refresh ads",{ids:e.ids,reason:"periodic",positions:e.positions}),this.start()}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yw(Object(r),!0).forEach((function(t){bw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ww(e){var t=e.broker,r=e.getConfig,n=r("adsRefresh.inactiveTime",1e4);t.on("ad rendered","billboard",(function(e){e.size&&e.size.every((function(e){return 1===e}))&&t.emit("stop refreshing ads")})),pw=new Promise((function(e){return t.once("ad viewable",(function(t){kh('Position "'.concat(t,'" viewed, refreshes will start immediately')),e()}))}));var i,o=(i=r("viewability.activityMonitor","mol"),kh('Using "'.concat(i,'" activity monitor')),"rta"===i?Lh():new Dh({broker:t,inactiveTime:n}));o.start();var a=Sw(t,o),s=new Set,c=r("adsRefresh.interval",6e4),u=new Set(r("adsRefresh.slots",[])),d=r("adsRefresh.activeViewSlots",[]).reduce((function(e,t){var r=t.pos,n=t.interval;return hw(hw({},e),{},bw({},r,n))}),{});t.on("slot defined",(function(e){var r=e.pos,n=e.id,i=d[r];i?t.emit("setup ad refresh",{pos:r,id:n,interval:i}):u.has(r)&&t.emit("setup ad refresh",{pos:r,id:n,interval:c,activeViewSlot:!1})})),t.on("setup ad refresh",(function(e){var r=e.pos,n=e.id,i=e.interval,o=e.activeViewSlot,c=void 0===o||o;kh("Start refreshing:",{pos:r,id:n,interval:i,activeViewSlot:c});var u=c&&new iw({broker:t,pos:r}),d=a({pos:r,id:n,interval:i,activeViewTracker:u}).stop,l=function(){kh("Stop refreshing:",r),d()};s.add(l),t.once("destroy slot",n,(function(){kh("Slot destroyed:",n),s.delete(l),l()}))})),t.on("stop refreshing ads",(function(){kh("Received request to stop ads refreshing altogether"),o.stop(),s.forEach((function(e){return e()})),s.clear()}))}var Sw=function(e,t){return function(r){var n,i=r.pos,o=r.id,a=r.interval,s=r.activeViewTracker,c=new gw({broker:e,interval:a,positions:[i],ids:[o],userInactivityMonitor:t,activeViewTracker:s});return s?n=e.once("ad viewable",i,(function(){kh('Position "'.concat(i,'" viewed, scheduling its refresh')),c.start()})):pw.then((function(){c.start(),kh("Start adRefresher:",i)})),{stop:function(){n&&n.cancel(),c&&c.stop()}}}};function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ow(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_w(Object(r),!0).forEach((function(t){Iw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Iw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ew=function(e,t){return t.map((function(t){var r=new RegExp(t.replaceAll("*",".*"));return Object.keys(e).filter((function(e){return r.exec(e)}))})).flat()};function Aw(e){var t=e.broker,r=e.getConfig,n=e.log,i=function(e){var t=e("adsRefresh.interval",6e4);return{intervalRefreshSlots:e("adsRefresh.slots",[]).reduce((function(e,r){return Ow(Ow({},e),{},Iw({},r,{pos:r,interval:t,type:"interval"}))}),{}),activeViewRefreshSlots:e("adsRefresh.activeViewSlots",[]).reduce((function(e,t){var r=t.pos,n=t.interval;return Ow(Ow({},e),{},Iw({},r,{pos:r,interval:n,type:"activeView"}))}),{})}}(r),o=i.intervalRefreshSlots,a=i.activeViewRefreshSlots;if((0,be.xb)(o)&&(0,be.xb)(a))n("no slot refresh config provided, bailing");else{var s=new Promise((function(e){return t.once("ad viewable",(function(t){n('Position "'.concat(t,'" viewed, refreshes will start immediately')),e()}))})),c=r("adsRefresh.inactiveTime",1e4),u=new Dh({broker:t,inactiveTime:c});u.start();var d={broker:t,userInactivityMonitor:u,log:n,slotViewedPromise:s},l=Ow(Ow({},o),a);t.on("ad rendered","billboard",(function(e){e.size&&e.size.every((function(e){return 1===e}))&&t.emit("stop refreshing ads")})),t.on("slot defined",(function(e){var t=e.pos,r=e.id;if(l[t]){n("slot defined, found refresher",l[t]),l[t].id=r;var i=function(e){var t=e.broker,r=e.userInactivityMonitor,n=e.pos,i=e.id,o=e.interval,a=e.type;kh("Start refreshing: ".concat(n,", id: ").concat(i,", with ").concat(a," refresh of ").concat(o,"ms"));var s="activeView"===a&&new iw({broker:t,pos:n});return new gw({broker:t,interval:o,positions:[n],ids:[i],userInactivityMonitor:r,activeViewTracker:s})}(Ow(Ow({},d),l[t]));l[t].adRefresher=i,l[t].cancel=function(e){var t=e.broker,r=e.pos,n=e.type,i=e.adRefresher,o=e.slotViewedPromise;if("activeView"===n)return t.once("ad viewable",r,(function(){kh('Position "'.concat(r,'" viewed, scheduling its refresh')),i.start()})).cancel;o.then((function(){i.stopped?kh("adRefresher for ".concat(r," already stopped, and won't be started")):(i.start(),kh("Start adRefresher:",r))}))}(Ow(Ow({},d),l[t]))}})),t.on("stop refreshing ads",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n("Received request to stop ads refreshing altogether",e);var t=e.positions,r=void 0===t?[]:t,i=e.activeView,a=void 0===i||i,s=a?l:o,c=r.length?Ew(s,r):Object.keys(s);c.forEach((function(e){var t=l[e],r=t.id,i=t.type;n("stopping ".concat(i," refresh for ").concat(e,", id: ").concat(r)),l[e].adRefresher&&l[e].adRefresher.stop(),l[e].cancel&&l[e].cancel(),delete l[e]})),(0,be.xb)(l)&&u.stop()}))}}function kw(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function xw(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){kw(o,n,i,a,s,"next",e)}function s(e){kw(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Pw(e){var t=e.broker,r=e.getConfig;DM.later("DOM_READY",xw(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r("pos.under-article.amazon.id"),document.getElementById("amzn-assoc-ad-".concat(n))){e.next=4;break}return e.abrupt("return");case 4:return i="".concat(r("pos.under-article.amazon.url"),"?MarketPlace=US&adInstanceId=").concat(n),e.prev=5,e.next=8,t.invoke("import script",i);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),DM.log("ads","Error loading ".concat(i)),DM.log("ads",e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,10]])}))))}Pw.vendorIds={gdpr:[793]};var jw=function(){};jw.pluginSetup=function(e){var t=e.broker,n=e.getConfig,i=e.log;if(n("arrowKeysScroll.userAgents",[".*"]).some((function(e){return navigator.userAgent.match(new RegExp(e))}))){(0,be.ns)(["DM"],r.g).arrowKeysScrollEnabled=!0;var o=n("arrowKeysScroll.stride",40);if(document.addEventListener("keydown",(function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.target!==document.body)){var t;switch(e.keyCode){case 38:t=-o;break;case 40:t=o}t&&(event.preventDefault(),event.stopPropagation(),window.scrollBy(0,t))}})),"scrollRestoration"in history){history.scrollRestoration="manual";var a=history.state;a&&"arrow-keys-scroll"===a.name&&(i("state stored:",a),t.once("dom loaded",(function(){0===window.pageYOffset?(i("restoring scroll offset to:",a.pageYOffset),window.scrollTo(window.pageXOffset,a.pageYOffset)):i("page scrolled to",window.pageYOffset,", ignoring scroll restore")}))),window.addEventListener("scroll",DM.molFeMiniLodash.debounce((function(){var e={name:"arrow-keys-scroll",version:1,pageYOffset:window.pageYOffset};history.replaceState(e,document.title)}),200),{passive:!0,capture:!0})}}};var Tw=jw,Cw=function(e){var t=e.broker,r=(0,A.U2)("plugins.audienceProject.scriptSrc","https://sak.userreport.com/mol/launcher.js");t.invoke("import script",r,{id:"userreport-launcher-script"})},Rw=Cw;function Dw(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.durationRefresh.url","https://pr.realvu.net/flip/2/c=E412_f=site_si=948");n("url:",i),t.invoke("import script",i)}Cw.vendorIds={gdpr:[394]},Dw.vendorIds={gdpr:[674]};var Uw=function(e){var t,n=e.broker,i=null!=(t=r.g.location.hostname.match(/(www[0-9]*?\.)?(.[^/:]+)/i))&&t.length>2&&"string"==typeof t[2]&&t[2].length>0?t[2].replace(/\./g,"_"):null;n.emit("set page level targeting",{location:i})},Mw=function(e){var t=e.broker;t.on("add fb-marketing-pixel",(function(){r.g._fbq&&r.g._fbq.loaded||function(e,t){e.invoke("load script","//connect.facebook.net/en_US/fbds.js","_fbq").then((function(e){r.g._fbq.loaded=!0,r.g._fbq.push(["addPixelId","1401367413466420"]),r.g._fbq.push(["track","PixelInitialized",{}])}))}(t)}))},Bw=Mw;function Nw(e){var t=e.broker,n=r.g.inlineModules;n&&n.split(/\s+/).includes("62032338")&&t.emit("set page level targeting",{fff:!0})}Mw.vendorIds={google:[89]};var Lw=r(773),qw=r.n(Lw);function zw(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Vw(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){zw(o,n,i,a,s,"next",e)}function s(e){zw(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Fw(e){var t,r=e.broker,n=e.log,i=new Promise((function(e){window.addEventListener("IrisContextAPI",(function(){n("Loaded"),t=window.IrisContextAPI({client_token:"W491AUI45FTTFWD"}),e(t)}))})),o=qw()(function(){var e=Vw(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:return e.next=4,t.getVideoInfo(r);case 4:return o=e.sent,n("Info for video ".concat(r),o),e.abrupt("return",(0,be.ei)(o,["context","categories","iris_id"]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());r.invoke("import script","https://ovp.iris.tv/libs/context/iris-context.min.js"),r.register("get IrisTV tags",o),r.register("get video tags",function(){var e=Vw(regeneratorRuntime.mark((function e(r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.videoId,t){e.next=4;break}return n("Video auction started but IrisTV still not available"),e.abrupt("return");case 4:if(i){e.next=7;break}return n("IrisTV loaded but no videoId provided"),e.abrupt("return");case 7:return n("Auction for video:",i),e.t0=be.ei,e.next=11,o(i);case 11:return e.t1=e.sent,e.t2=["context","categories"],a=(0,e.t0)(e.t1,e.t2),n("cust_params:",a),e.abrupt("return",{cust_params:a});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function Ww(e){return(Ww="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gw(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function Hw(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Gw(o,n,i,a,s,"next",e)}function s(e){Gw(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Kw=function(e){var t=e.broker,n=(e.getConfig,[]);t.on("plugins enabled",(function(e){n.lengh&&t.emit("creative updated plugins",n)})),t.register("get plugins set by creative",Hw(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)})))),r.g.addEventListener("message",function(){var e=Hw(regeneratorRuntime.mark((function e(i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"object"===Ww(o=i.data)&&"managePlugins"===o.callId&&(n=o.plugins||[],r.g.postMessage("managePluginsReceived","*"),t.emit("creative updated plugins",n),I.SP.hasOwnProperty("setPlugin")&&console.log("message from creative ".concat(JSON.stringify(n))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};function $w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jw=(0,E.x)("mvt");function Xw(e){return(Xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zw(e){return function(e){if(Array.isArray(e))return Qw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Qw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var eS=(0,E.x)("mvt"),tS=r(2604);function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rS(Object(r),!0).forEach((function(t){iS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||sS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aS(e){return function(e){if(Array.isArray(e))return cS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||sS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sS(e,t){if(e){if("string"==typeof e)return cS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cS(e,t):void 0}}function cS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uS,dS="mol.ads.mvt.tests",lS="probabilityDraw",fS={},pS="";function gS(e){var t=e.broker,n=function(){return[].concat(aS(pS.split(",")),aS(function(){try{return(r.g.molMVTest||"").split(",").map((function(e){return e.trim()}))}catch(e){return[]}}())).filter((function(e){return e})).join(",")};t.register("call for page analytics",(function(){return{mvt:n()}})),t.emit("send with rta page unload",{mvt:n().split("=").join("_")}),t.emit("set page level targeting",{mvt:n().split("=").join("_").split(",")})}var mS=function(e){var t=oS(e,2);return nS({name:t[0]},t[1])},vS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"P0D";try{return 1e3*(0,tS.my)((0,tS.Qc)(e))||NaN}catch(t){return console.error("Error parsing duration ".concat(e),t),NaN}},yS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/^(-?[0-9.]+)\s*(%?)$/);if(t){var r=parseFloat(t[1]);return"%"===t[2]&&(r/=100),r}return 0},hS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{size:1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(dS,".").concat(e.name,".").concat(lS),n=e.size||e.scenarios.reduce((function(e,t){var r=t.size;return e+yS(String(r))}),0),i=wS(Math.min(Math.max(0,yS(String(n))),1)),o=t[r];isNaN(o)&&(o=Math.random(),t[r]=o);var a=o<i;return uS('Test "'.concat(e.name,'" probability draw: ').concat(o,", test population segment size: ").concat(100*i,"%. Will run: ").concat(a)),a},bS={};function wS(e){return Math.round(1e4*e)/1e4}gS.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=e.log,i=e.ownName;(uS=n)("Initialising MVT plugin");var o=Object.entries(t("mvt.tests",[])).map(mS).filter((function(e){return e.scenarios})).map((function(e){return nS(nS({},e),{},{scenarios:Object.entries(e.scenarios).map(mS)})})),a=o.map((function(e){var t=Date.parse(e.start)||Date.now(),r=vS(e.duration)||vS("P100Y"),n=r*(yS(e.enrolment)||yS("100%"));uS('Test "'.concat(e.name,'"')),uS("                  Beginning: ".concat(new Date(t))),uS("              Enrolment end: ".concat(new Date(t+n)," - no new 'user' scoped tests after this")),uS("                    Run end: ".concat(new Date(t+r)," duration: ").concat(r,"ms (~").concat(Math.round(r/864e5)," days)")),uS("  'user' scoped tests ready: ".concat(new Date(t+r+n)));var i=Date.now(),o="";if(t<=i&&i<t+r){var a=e.scope||"page";uS('  Test "'.concat(e.name,'" scope: ').concat(a));var s="page"===a?fS:"session"===a?sessionStorage:localStorage;(o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scenarios:[]},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(dS,".").concat(t.name,".selected"),i=r[n],o=t.scenarios.find((function(e){return e.name===i}));if(hS(t,r)){if(o)e=o;else{var a=t.scenarios.filter((function(e){return e.size}));if(t.scenarios.length===a.length){var s=Math.random(),c=0;e=t.scenarios.find((function(e){var t=e.size;return wS(c+=t)>s}))}else a.length&&uS.warn('Test "'.concat(t.name,'" has some scenarios with size and some without, falling back to global scope size')),e=t.scenarios[Math.floor(Math.random()*t.scenarios.length)];r[n]=e.name}return bS[t.name]=e.name,e}}(e,s))&&uS('From test "'.concat(e.name,'" selecting scenario'),o),!s["".concat(dS,".").concat(e.name,".").concat(lS)]&&t+n<=i&&(uS('  Outside of enrolment window for test "'.concat(e.name,'". Skipping.')),o="")}else{uS('  Removing test "'.concat(e.name,"\" as it's outside of set duration."));for(var c=0,u=[fS,localStorage,sessionStorage];c<u.length;c++){var d=u[c];for(var l in d)0===l.indexOf("mol.ads.mvt.tests.".concat(e.name))&&delete d[l]}}return o})).filter((function(e){return e}));uS("Scenarios summary: ",a),function(e,t,r,n){var i,o=e("plugins.enabled",[]),a=[],s=[];r.forEach((function(e){Array.isArray(e.plugins)?(eS('From scenario "'.concat(e.name,'", adding plugins:'),e.plugins),a=[].concat(Zw(a),Zw(e.plugins))):"object"===Xw(e.plugins)&&(Array.isArray(e.plugins.add)&&(eS('From scenario "'.concat(e.name,'", adding plugins:'),e.plugins.add),a=[].concat(Zw(a),Zw(e.plugins.add))),Array.isArray(e.plugins.remove)&&(eS('From scenario "'.concat(e.name,'", removing plugins:'),e.plugins.remove),s=[].concat(Zw(s),Zw(e.plugins.remove))))}));var c=o.indexOf(n)+1;(i=o).splice.apply(i,[c,0].concat(Zw(a)));var u=new Set(s);o=o.filter((function(e){return!u.has(e)})),t("plugins.enabled",Zw(new Set(o)))}(t,r,a,i),function(e,t,r){var n=function(e){return e.map((function(e){return Jw('From scenario "'.concat(e.name,'", loading config:'),e.config||{}),e.config||[]})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return e})).reduce((function(e,t){return Object.entries(t).forEach((function(t){var r=$w(t,2),n=r[0],i=r[1];e[n]=i})),e}),{})}(r);Object.entries(n).forEach((function(e){var r=$w(e,2),n=r[0],i=r[1];t(n,i)}))}(0,r,a),pS=o.map((function(e){return[e.name,bS[e.name]]})).filter((function(e){var t=oS(e,2);return t[0],t[1]})).map((function(e){return e.join("=")})).join(",")};var SS=function(e){var t=e.broker,r=(0,A.U2)("plugins.nativo.scriptSrc","//s.ntv.io/serve/load.js");t.invoke("import script",r)},_S=SS;function OS(e,t){if(e){if("string"==typeof e)return IS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?IS(e,t):void 0}}function IS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ES(e){e.broker,e.getConfig}function AS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kS(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.nonPersonalizedAds.sendNPA",!0),o=r("plugins.nonPersonalizedAds.sendIllegalAttempts",!0),a={npa:!1,npaIllegalAttempts:[]},s=function(e){t.once("gpt loaded",(function(){googletag.pubads().setRequestNonPersonalizedAds(e)}))};t.once("gpt loaded",(function(){var e=googletag.pubads();s=e.setRequestNonPersonalizedAds.bind(e),e.setRequestNonPersonalizedAds=function(e){var t=new Error("Illegal attempt to call setRequestNonPersonalizedAds(".concat(JSON.stringify(e),")"));a.npaIllegalAttempts.push(t.stack),n.warn(t)}})),t.register("call for page analytics",(function(){var e={};return i&&(e.npa=a.npa),o&&(e.npaIllegalAttempts=function(e){return function(e){if(Array.isArray(e))return AS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return AS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AS(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.npaIllegalAttempts)),a.npaIllegalAttempts=[],e})),t.on("set non personalized ads",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;a.npa=!!e,s(e)}))}SS.vendorIds={gdpr:[263]},ES.pluginSetup=function(e){var t,n,i=e.getConfig,o=e.setConfig,a=e.broker;if(r.g.PageCriteria&&r.g.PageCriteria.nonAdservable){var s=new Set(i("nonAdServable.plugins.whitelist",[]));o("plugins.enabled",i("plugins.enabled").filter((function(e){return s.has(e)}))),a.intercept("slot defined",(function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||OS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),n=(r[0],r[1]),i=r[2];"billboard"===n.pos?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i)})),window.DM&&window.DM.molFeComponents&&"function"==typeof window.DM.molFeComponents.setConfig&&window.DM.molFeComponents.setConfig("mol-fe-videoplayer",{plugins:{flyout:{enabled:!1,forceFlyout:{enabled:!1}}}}),t="#mini-carousel-wrapper {display: none;}",(n=document.createElement("style")).type="text/css",n.styleSheet?n.styleSheet.cssText=t:"textContent"in n?n.textContent=t:n.innerText=t,document.getElementsByTagName("head")[0].appendChild(n),a.on("dom ready",(function(){return function(e){return function(e){if(Array.isArray(e))return IS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||OS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(document.querySelectorAll(".mol-ads-label-container")).forEach((function(e){return e.parentNode.removeChild(e)}))}))}};var xS=(0,E.x)("page-visibility");function PS(e){var t=e.broker;t.register("is page visible?",(function(){return new Promise((function(e,t){return e((r=document.hasFocus(),xS("isPageVisible",r),r));var r}))})),r.g.top.addEventListener("blur",(function(){setTimeout((function(){xS("Blur event - page hidden"),t.emit("page hidden")}))})),r.g.top.addEventListener("focus",(function(){setTimeout((function(){xS("Focus event - page visible"),t.emit("page visible")}))}))}var jS="mol.ads.paidSession",TS=function(e){return localStorage.setItem(jS,JSON.stringify(e))};function CS(e){var t=e.broker,r=e.getConfig,n=JSON.parse(localStorage.getItem(jS))||{},i="none",o="none",a=1e3*r("plugins.paidSessions.maxIntervalInSeconds",900);n&&n.lastUpdate&&n.lastUpdate>=Date.now()-a?(n.lastUpdate=Date.now(),TS(n),o=n.utm_source,i=n.session_page_ID):I.SP.utm_source?(o=I.SP.utm_source,i=PageCriteria.articleId,TS({lastUpdate:Date.now(),utm_source:o,session_page_ID:i})):localStorage.removeItem(jS);var s={session_page_ID:i,utm_source:o};t.emit("set page level targeting",s),t.register("call for page analytics",(function(){return s}))}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RS(Object(r),!0).forEach((function(t){US(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function US(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return BS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NS(e){var t=e.broker,n=e.getConfig,i={auctions:[],auctionByPos:{},started:{},queue:[],bids:{},kv:{},gkv:{}},o=function(e){return i.auctionByPos[e]||i.auctionByPos[e.substr(0,e.lastIndexOf("-"))]},a=function(e,t){if(o(e)){var n=o(e);n.slots[e]||(n.slots[e]={}),n.slots[e][t]||(n.slots[e][t]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.g.adverts.startTime;return parseFloat(((Date.now()-e)/1e3).toFixed(1))}())}},s=function e(t){return Array.isArray(t)?1===t.length?e(t[0]):t.join(", "):"boolean"==typeof t||isNaN(t)?t:parseFloat(t)},c=function(e){return Object.keys(e).reduce((function(t,r){return Object.keys(e[r]).forEach((function(n){t[n]=t[n]||{},t[n][r]=e[r][n]})),t}),{})},u=function(e){console.group("Auction Performance"),console.table(c(Object.fromEntries(Object.entries(e.streamAuctions).map((function(e){var t=MS(e,2),r=t[0],n=t[1].endpoints;return[r,Object.fromEntries(Object.entries(n).map((function(e){var t=MS(e,2),r=t[0],n=t[1];return[r,n>1e3?"ready":n]})))]}))))),console.groupEnd()},d=function(e){return(!i.currentAuction||i.currentAuction.lastPosTime<Date.now()-5e3)&&(i.currentAuction={id:i.auctions.length,slots:{},ads:{},kv:{},bids:{},streamAuctions:{}},i.auctions.push(i.currentAuction)),i.currentAuction.lastPosTime=Date.now(),i.currentAuction.streamAuctions[e]||(i.currentAuction.streamAuctions[e]={start:0,endpoints:{}}),i.auctionByPos[e]=i.currentAuction};t.on("get tags",(function(e){var t=e.slot.pos;d(t).streamAuctions[t].start=Date.now()})),t.on("get video tags",(function(e){var t=e.slot.pos;d(t)})),t.on("ad rendered",(function(e,t){a(e,"ad rendered");for(var r=e,n=0,i=o(e);i.ads[r];)n++,r="".concat(e," ").concat(n);var s=i.ads[r]={};s.creativeId=t.creativeId||t.sourceAgnosticCreativeId,s.lineItem=t.lineItemId||t.sourceAgnosticLineItemId,s.adUnit=t.slot.molAd.adUnit,t.sourceAgnosticLineItemId&&t.creativeId!==t.sourceAgnosticCreativeId&&(s["reservation or backfil"]=!0)})),t.on("headerbidder winner",(function(e,t){var r=o(e);r&&r.ads[e]&&(r.ads[e]["headerbidder winner"]=t)})),t.on("ad viewable",(function(e,t){a(e,"ad viewable")})),t.on("ad loaded",(function(e,t){a(t,"ad loaded")})),t.on("slot defined",(function(e){d(e.pos),a(e.pos,"slot defined")})),t.on("start bidding",(function(e){d(e),a(e,"start bidding"),i.started[e]=Date.now()})),t.on("ready to request",(function(e){return a(e,"ready to request")})),t.on("ad requested",(function(e){return a(e,"ad requested")})),t.on("bidding ended",(function(e){return a(e,"bidding ended")})),t.on("bids requested",(function(e){e.positions.forEach((function(e){d(e),a(e,"prebid called")}))})),t.on("bid",(function(e,t){var r=t.bidder,n=t.cpm,i=d(e),o=i.bids[e]=i.bids[e]||{},a=n/100;(!o[r]||o[r]<a)&&(o[r]=a)})),t.on("set key value",(function(e,t,r){var n=d(e);(n.kv[e]=n.kv[e]||{})[s(t)]=s(r)})),t.on("set global key value",(function(e,t){i.gkv[s(e)]=s(t)}));var l,f,p=function(e){return d(e).streamAuctions[e]},g=function(e,t){e.endpoints[t]=Math.round((Date.now()-e.start)/10)/100};t.on("auction event",(function(e,t,r){var n=p(e);if(!n.ended)if("interested endpoint"===t){0===n.start&&(n.start=Date.now(),Object.keys(n.endpoints).forEach((function(e){var t=n.endpoints[e];Number.isFinite(t)&&(n.endpoints[e]=Math.round((1e3*t-n.start)/10)/100)})));var i=(r.endpoints||[]).filter((function(e){return void 0===n.endpoints[e]})),o=Object.fromEntries(i.map((function(e){return[e,"pending"]})));n.endpoints=DS(DS({},n.endpoints),o)}else"stream done"===t?g(n,r.endpoint):"end"===t&&(n.ended=!0,Object.entries(n.endpoints).forEach((function(e){var t=MS(e,2),r=t[0];"string"==typeof t[1]&&(n.endpoints[r]="timed out")})))})),t.on("plugin done",(function(e,t){var r=p(e);r.ended||g(r,t)})),r.g.openAdsControlPanel=function(){t.emit("load script",n("controlPanel.url","http://scripts.dailymail.co.uk/static/mol-adverts/control-panel/0.0.3/mol-ads-control-panel.js"),null,{},(function(){return!0}))},l="",f="38384040373937396665",document.addEventListener("keydown",(function(e){var t=e.keyCode;(l+=""+t)===f&&r.g.openAdsControlPanel(),f.indexOf(l)&&(l=""+t)})),r.g.adverts.performance={state:i,print:function(){i.auctions.forEach((function(e){console.group("Auction ".concat(e.id)),console.group("Slots performance"),console.table(e.slots),console.table(e.ads),console.groupEnd(),console.group("Key+values"),console.table(c(e.kv)),console.groupEnd(),console.group("Bids"),console.table(e.bids),console.groupEnd(),u(e),console.groupEnd()})),console.group("Page level Key+values"),console.table(i.gkv),console.groupEnd()},printAuctionPerformance:function(){i.auctions.forEach((function(e){console.group("Auction ".concat(e.id)),u(e),console.groupEnd()}))}}}function LS(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function qS(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){LS(o,n,i,a,s,"next",e)}function s(e){LS(o,n,i,a,s,"throw",e)}a(void 0)}))}}function zS(){return VS.apply(this,arguments)}function VS(){return(VS=qS(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,A.U2)("plugins.pixelSync.byCMPVendor",{}),r=Object.keys(t),e.next=4,FS(r);case 4:for(n=e.sent,i=0,o=r;i<o.length;i++)a=o[i],n(a,t[a]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FS=function(){var e=qS(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qa("getVendorConsents",t);case 2:return r=e.sent,n=r.vendorConsents,e.abrupt("return",(function(e,t){return n[e]&&WS(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),WS=function(e){(new Image).src=e};zS.vendorIds={gdpr:!1};var GS=r(5529),HS=r(394),KS=r.n(HS);function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$S(Object(r),!0).forEach((function(t){JS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ZS=0,QS=function(){return""+ ++ZS},e_=function(){function e(t){var r=t.broker;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n={};this.broker=r,n.auctions={},n.pendingStreams={},this.priv=n}var t,r;return t=e,(r=[{key:"_createPendingStreamForPosition",value:function(e){var t=this.broker.createReadObjectStream();return this.priv.pendingStreams[e]=t,t}},{key:"_createAuctionForPositions",value:function(e,t){var r=this,n=QS(),i=e.reduce((function(e,n){var i=t?r._createPendingStreamForPosition(n):r.broker.createReadObjectStream();return i.bids=[],YS(YS({},e),{},JS({},n,{stream:i}))}),{});return this.priv.auctions[n]=i,{auctionId:n,positions:i}}},{key:"createAuctionWithPendingStreams",value:function(e){return this._createAuctionForPositions(e,!0)}},{key:"resolveStreamForPosition",value:function(e){var t={};if(this.priv.pendingStreams[e])t.stream=this.priv.pendingStreams[e],delete this.priv.pendingStreams[e];else{var r=this._createAuctionForPositions([e],!1);t={auctionId:r.auctionId,stream:r.positions[e].stream}}return t}},{key:"createAuctionForAdUnit",value:function(e,t){var r=t||QS(),n=this.broker.createReadObjectStream();n.bids=[];var i={stream:n,offset:e.offset,platform:e.platform};return this.priv.auctions[r]=JS({},e.code,i),{auctionId:r,positions:JS({},e.code,i)}}},{key:"getStreamForAdUnitCode",value:function(e,t){return this.priv.auctions[e]&&this.priv.auctions[e][t]||{}}},{key:"dispose",value:function(e){var t=this.priv.auctions[e];t?(Object.values(t).forEach((function(e){var t=e.stream;t.push(null),t.ended=!0})),delete this.priv.auctions[e]):console.error("Unabled to find auctionId: ".concat(e))}}])&&XS(t.prototype,r),e}();function t_(e){var t=e.broker,r=e.getConfig,n=e.log;t.on("prebid loaded",(function(e){var t=e.getConfig("userSync"),i={userSync:(0,ei.LY)(t,{userIds:[{name:"pubCommonId",storage:{type:"cookie",name:"_pubcid",expires:365}}],syncDelay:r("plugins.prebid.syncDelay",3e3)})};n("setting pbjs config",i),e.setConfig(i)}))}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?r_(Object(r),!0).forEach((function(t){i_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o_(e){return(o_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a_(e){return function(e){if(Array.isArray(e))return l_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s_(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c_(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s_(o,n,i,a,s,"next",e)}function s(e){s_(o,n,i,a,s,"throw",e)}a(void 0)}))}}function u_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||d_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d_(e,t){if(e){if("string"==typeof e)return l_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l_(e,t):void 0}}function l_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f_=(0,E.x)("prebid"),p_=function(e,t){return(0,k.DZ)((function(e){var r=t[e.code];return!!r&&!(0,GS.lv)(r)&&!r.dynamic}),(function(e){return e.code}),e||[])};function g_(e,t){var r=e[0]*e[1],n=t[0]*t[1],i=e[0]<t[0]?1:e[0]>t[0]?-1:0;return r<n?1:r>n?-1:i}var m_=function(e,t){var r=new Set(["mpu_puff_others","puff_ad_others","mpu_mobile_others","mpu_factbox","mpu_mobile_factbox"]);return t.filter((function(t){return r.has(t.code)?(t.bids&&t.bids.length&&(e[t.code]=e[t.code]||[],e[t.code].push(t)),!1):t.bids&&t.bids.length}))},v_=function(e,t,r){var n=function(e,r){return t.bidderSettings.standard.adserverTargeting.filter((function(t){return void 0===e[t.key]})).map((function(e){return[e.key,e.val(r)]})).filter((function(e){var t=u_(e,2);return t[0],void 0!==t[1]})).forEach((function(t){var r=u_(t,2),n=r[0],i=r[1];return e[n]=i})),e},i=function(e,t){return Object.keys(t).reduce((function(r,n){return"hb_bidder"===n||(r["".concat(n,"_").concat(e).substring(0,20)]=t[n]),r}),{})},o=function(e){return JSON.parse(JSON.stringify(e))};t.onEvent("bidderDone",(function(t){var r=t.bidderCode,n=t.bids;new Set(n.map((function(e){return e.adUnitCode}))).forEach((function(t){return e.emit("plugin done",t,r)}))})),t.onEvent("bidResponse",(function(a){f_("auctionId: ".concat(a.auctionId,", bidResponse, adUnitCode: ").concat(a.adUnitCode,", bidderCode: ").concat(a.bidderCode,", adId: ").concat(a.adId,", cpm: ").concat(a.cpm));var s=r.getStreamForAdUnitCode(a.auctionId,a.adUnitCode),c=s.stream,u=s.offset,d=s.platform,l=Math.round(100*a.cpm);if(e.emit("bid",a.adUnitCode,{bidder:a.bidderCode,cpm:l,offset:u,platform:d}),!(c.bids[a.bidderCode]&&(f_("auctionId: ".concat(a.auctionId,", additional bid, adUnitCode: ").concat(a.adUnitCode,", ").concat(a.bidderCode,", cpm: ").concat(a.cpm,", slotSize: ").concat(a.size)),c.bids[a.bidderCode]>=a.cpm)))if(c.bids[a.bidderCode]=a.cpm,c){var f;if(["video","jwplayer"].includes(a.adUnitCode))f_("auctionId: ".concat(a.auctionId,", bid caching not supported for slot: ").concat(a.adUnitCode)),f=a;else{var p=t.getHighestUnusedBidResponseForAdUnitCode(a.adUnitCode);f_("auctionId: ".concat(a.auctionId,", bidResponse, adUnitCode: ").concat(a.adUnitCode,", highestCachedBid: ").concat(p&&p.bidderCode,", adId: ").concat(p&&p.adId,", cpm: ").concat(p&&p.cpm,", from auctionId: ").concat(p.auctionId)),f=p&&!(0,be.xb)(p)&&p.cpm>=a.cpm?p:a,f_("auctionId: ".concat(a.auctionId,", bidResponse, adUnitCode: ").concat(a.adUnitCode,", selected bidder isCached: ").concat(a.auctionId!==f.auctionId,",  bidderCode: ").concat(f.bidderCode,", adId: ").concat(f.adId,", cpm: ").concat(f.cpm))}!function(t,r,a){if(t.ended)f_("auctionId: ".concat(r.auctionId,", streamEnded, adUnitCode: ").concat(a.adUnitCode,", bidder: ").concat(a.bidderCode,", adId: ").concat(a.adId));else{var s,c=n(o(a.adserverTargeting),a),u=i(r.bidderCode,n(o(r.adserverTargeting),r)),d=a.auctionId!==r.auctionId?1:0;if(void 0===t.highestCpm&&(t.highestCpm=0),t.highestCpm=r.cpm>t.highestCpm?r.cpm:t.highestCpm,c.bc=d,c.bc_diff=(s=d?a.cpm-t.highestCpm:0,Math.round(100*s)/100),f_("auctionId: ".concat(r.auctionId,", streamBid, adUnitCode: ").concat(a.adUnitCode,", bidder: ").concat(a.bidderCode,", adId: ").concat(a.adId,", cpm: ").concat(a.cpm,", from auctionId: ").concat(a.auctionId,", cachedBidDiff: ").concat(c.bc_diff)),t.push([c]),t.push([u]),d&&!t.isCachedBidUsed){f_("CACHED auctionId: ".concat(r.auctionId,", streamBid, adUnitCode: ").concat(a.adUnitCode,", bidder: ").concat(a.bidderCode,", adId: ").concat(a.adId,", cpm: ").concat(a.cpm,", from auctionId: ").concat(a.auctionId,", cachedBidDiff: ").concat(c.bc_diff));var l={cached:!0,bidder:a.bidderCode,cpm:Math.round(100*a.cpm)};t.push([i(a.bidderCode,n(o(a.adserverTargeting),a))]),e.emit("bid",a.adUnitCode,l),t.isCachedBidUsed=!0}}}(c,a,f)}else console.error("[PREBID] auctionId: ".concat(a.auctionId,",  Unknown stream for ").concat(a.adUnitCode,", bidder: ").concat(a.bidderCode))}))},y_=function(){var e=c_(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,c,u,d,l,f,p,g,m,v,y,h,b,w,S,_,O,E,A,x,P,j,T,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.broker,(i=t.getConfig)("plugins.enabled",[]).includes("trackers.pubcommon")&&i("prebid.pubcommon.enabled",!1)&&t_({broker:n,getConfig:i,log:f_}),a=n.invokeAll("prebid prerequisites",{timeout:i("plugins.prebid.prequisiteTimeout",3e3)}),s=new Promise(function(){var e=c_(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:i=r(5459),o=i.default,n.emit("prebid loaded",o),t(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c=new e_({broker:n}),u=new Set,d={},l=i("slotDescriptions.initial",{}),f=(0,M.Ls)((function(e){return n.on("enabled slots updated",(function(t){p.reset(),e(new Set(t.enabledAds))}))})),p=(0,ei.QR)(c_(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f;case 2:return e.t0=e.sent,t=(0,e.t0)(),e.abrupt("return",Object.fromEntries(Object.entries(l).filter((function(e){var r=u_(e,1)[0];return t.has(r)}))));case 5:case"end":return e.stop()}}),e)})))),n.on("slot descriptions updated",(function(e){l=e||{},p.reset()})),g=function(e){return e.forEach((function(e){return u.add(e)}))},m={},v=function(e){var t=e.filter((function(e){var t=e&&"code"in e;return t||f_("ignoring invalid adUnit"),t}));f_("addAdUnits",t),o.addAdUnits(t),g(t.map((function(e){return e.code}))),t.forEach((function(e){var t=e.code,r=e.bids;m[t]=a_(new Set([].concat(a_(m[t]||[]),a_(r.map((function(e){return e.bidder}))))))}))},y=i("auction.priceGranularity",{buckets:[{min:0,max:20,increment:.01},{min:20,max:50,increment:.1}]}),n.register("prebid config async update",function(){var e=c_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:o.setConfig(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=function(e,t,r){return function(i){f_("auctionId:",e,", ",t,"auctionEnded, bids:",Object.keys(i||{}).length),r&&n.emit(r,t,e),c.dispose(e)}},b=function(e,t){f_("auctionId:",e,", bidOnAdUnitCodes: ",t),o.requestBids({adUnitCodes:t,auctionId:e,bidsBackHandler:h(e,t)}),n.emit("bids requested",{positions:t})},w=i("prebid.videoAuctionOffset",500),S=function(e,t,r){var i=c.createAuctionForAdUnit(e,r);f_("auctionId:",i.auctionId,", adUnit: ",e),n.emit("bids requested",{positions:[e.code]});var a=t-w;return o.requestBids({adUnits:[e],auctionId:i.auctionId,timeout:a,bidsBackHandler:h(i.auctionId,[e.code],"prebid video auction ended")}),{stream:i.positions[e.code].stream,auctionId:i.auctionId}},_={standard:{adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){switch(y){case"auto":return e.pbAg;case"dense":return e.pbDg;case"high":return e.pbHg;case"low":return e.pbLg;case"medium":return e.pbMg;default:return"object"===o_(y)?e.pbCg:e.pbHg}}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_source",val:function(e){return e.source}},{key:"hb_format",val:function(e){return e.mediaType}},{key:"hb_skin",val:function(e){return"inskin"===e.bidderCode}},{key:"hb_cache_id",val:function(e){return e.videoCacheKey}},{key:"hb_uuid",val:function(e){return e.videoCacheKey}},{key:"fb_bidid",val:function(e){return e.fb_bidid}}]}},n.on("plugins enabled",function(){var e=c_(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.invokeAll("provide prebid adUnits");case 2:return r=e.sent.flat(),e.next=5,s;case 5:return e.next=7,n.invokeChainMutable("prebid reduce bidderSettings",_);case 7:return o.bidderSettings=e.sent,e.next=10,n.invokeAll("provide bidder alias");case 10:e.sent.forEach((function(e){var t=e.adapterName,r=e.aliasedName;o.aliasBidder(t,r)})),n.emit("configure and start prebid",t,r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=function(e){return a_(new Set([].concat(a_(e.banner&&e.banner.sizes||[]),a_(e.video&&e.video.playerSize||[])))).sort(g_)},E=function(e){return Object.values(e.reduce((function(e,t){var r=t.code,n=t.bids,i=t.mediaTypes,o=r+JSON.stringify(i),a=e[o]=e[o]||{code:r,mediaTypes:i,bids:[],sizes:O(i)};return a.bids=[].concat(a_(a.bids),a_(n)),e}),{}))},A=function(e,t){var r=t.reduce((function(t,r){return e.has(r.bids[0].bidder)?t.s2sAdUnits.push(r):t.headerAdUnits.push(r),t}),{s2sAdUnits:[],headerAdUnits:[]}),n=r.s2sAdUnits,i=r.headerAdUnits;f_("S2S AdUnits",n);var o=n.reduce((function(e,t){var r=t.code,n=t.bids,i=t.mediaTypes,o=[].concat(a_(e[r]&&e[r].bids||[]),a_(n)),a=(0,k.jj)([].concat(a_(e[r]&&e[r].mediaTypes.banner.sizes||[]),a_(i.banner.sizes.map((function(e){return e.toString()})))));return n_(n_({},e),i_({},r,{code:r,bids:o,mediaTypes:{banner:{sizes:a}}}))}),{}),a=Object.values(o).map((function(e){return{code:e.code,bids:e.bids,mediaTypes:{banner:{sizes:e.mediaTypes.banner.sizes.map((function(e){return e.split(",").map((function(e){return parseInt(e)}))}))}}}}));return f_("merged S2S AdUnits",a),[].concat(a_(i),a_(a))},x=function(){var e=c_(regeneratorRuntime.mark((function e(t,a){var s,u,l,f,g,m,h,w,S,_,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={"bidders.adform.display":"adform","bidders.adform.video":"adform","bidders.mediagrid":"grid","bidders.mediagridVideo":"grid","bidders.brightroll":"brightroll"},f_.info("pluginToS2SBidderNameMap",s),u=KS()(t,Object.keys(s)),f_.info("enabledS2SPlugins",u),l=new Set(u.map((function(e){return s[e]}))),f=Array.from(l),f_.info("enabledS2SBidders",l),g=A(l,a),f_("mergedAdUnits",E(g)),m=E(g),e.t0=a_,e.t1=Set,e.t2=p_,e.t3=m,e.next=16,p();case 16:e.t4=e.sent,e.t5=(0,e.t2)(e.t3,e.t4),e.t6=new e.t1(e.t5),h=(0,e.t0)(e.t6),w=i("topPageUrl"),S={debug:i("prebid.debug",!1)||I.SP.pbjs_debug||!1,enableSendAllBids:!1,priceGranularity:y,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},s2sConfig:{accountId:i("auction.accountId","37643165-9d8c-4c14-9e55-57b51f032308"),enabled:!!f.length,bidders:f,timeout:i("auction.maxTime",2e3),adapter:i("auction.adapter","prebidServer"),endpoint:i("auction.endpoint","https://prebid.adnxs.com/pbs/v1/openrtb2/auction"),syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync",secure:i("auction.secure",0)},currency:i("prebid.currency",{adServerCurrency:"USD",granularityMultiplier:1,conversionRateFile:"https://currency.prebid.org/latest.json",defaultRates:{GBP:{USD:1.2764213953}}}),sizeConfig:i("plugins.prebid.sizeConfig",[])},w&&(S.pageUrl=w),r.g.__tcfapi?S.consentManagement=n_(n_({},S.consentManagement||{}),{},{gdpr:{cmpApi:"iab",timeout:5e3,defaultGdprScope:!0}}):r.g.__cmp&&(S.consentManagement=n_(n_({},S.consentManagement||{}),{},{gdpr:{cmpApi:"iab",timeout:5e3,allowAuctionWithoutConsent:!1}})),r.g.__uspapi&&(S.consentManagement=n_(n_({},S.consentManagement||{}),{},{usp:{cmpApi:"iab",timeout:500}})),f_("config:",S),o.setConfig(S),m=m_(d,m),f_("adUnits",m),f_("othersAdsPos templates",d),v(m),v_(n,o,c),n.emit("prebid adunits added",m,h),_=c.createAuctionWithPendingStreams(h),O=_.auctionId,f_("auctionId: ".concat(O,", requestBids. adUnitCodes: ").concat(h)),b(O,h);case 36:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),P=new Promise((function(e){n.on("configure and start prebid",function(){var t=c_(regeneratorRuntime.mark((function t(r){var n,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],t.next=3,x(r,n);case 3:e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),j=function(e,t){var r=d[e]&&JSON.parse(JSON.stringify(d[e]))||[];return r=r.map((function(e){return e.code=t,e})),v(r),r},n.registerStream("get tags",function(){var e=c_(regeneratorRuntime.mark((function e(t){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.slot,e.next=3,P;case 3:if(!(i=r.pos).startsWith("mpu_puff_other")){e.next=8;break}j("mpu_puff_others",i),e.next=32;break;case 8:if(!i.startsWith("puff_ad_other")){e.next=12;break}j("puff_ad_others",i),e.next=32;break;case 12:if(!i.startsWith("mpu_mobile_other")){e.next=16;break}j("mpu_mobile_others",i),e.next=32;break;case 16:if(!i.startsWith("mpu_factbox")){e.next=20;break}j("mpu_factbox",i),e.next=32;break;case 20:if(!i.startsWith("mpu_mobile_factbox")){e.next=24;break}j("mpu_mobile_factbox",i),e.next=32;break;case 24:return e.next=26,p();case 26:if(e.t1=i,e.t0=!e.sent[e.t1],e.t0){e.next=30;break}e.t0=!u.has(i);case 30:if(!e.t0){e.next=32;break}return e.abrupt("return");case 32:return(o=c.resolveStreamForPosition(i)).auctionId&&b(o.auctionId,[i]),n.emit("auction event",i,"interested endpoint",{endpoints:m[i]}),e.abrupt("return",o.stream);case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=function(e){return i("plugins.slots.".concat(e,".v2"),{})},C=i("plugins.enabled").filter((function(e){return e.includes("konduit")})).length>0?"konduit get video tags":"get video tags",f_("current message for video tags",C),n.registerStream(C,function(){var e=c_(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,u,d,l,f,p,g,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.platform,i=t.offset,o=void 0===i?0:i,a=t.timeout,s=t.slot,c=t.autoplay,u=t.videoId,d=t.auctionId,e.next=3,P;case 3:return l=T(s.pos),f=s.pos||"video",l.code=f,l.offset=o,l.platform=r,e.next=10,n.invokeAll("provide video adUnits",f,c,o,u);case 10:return p=(p=e.sent).filter((function(e){return!!e})),l.bids=p.reduce((function(e,t){return[].concat(a_(e),a_(t&&t.bids||[]))}),[]),f_("video auctionId: ".concat(d,", adUnit config"),l),l.bids.length&&(m=S(l,a,d),g=m.stream,n.emit("prebid video auction started",d,f,o)),v=l.bids.map((function(e){return e.bidder})),f_("Interested endpoints:",v),n.emit("auction event",f,"interested endpoint",{endpoints:v}),e.abrupt("return",Du.UI(g,(function(e){return{cust_params:e.length?e[0]:void 0}})));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.on("prepare to refresh ads",(function(e){var t=c.createAuctionWithPendingStreams(e).auctionId;f_("auctionId: ".concat(t,", requestBids refresh, adUnitCodes: ").concat(e)),b(t,e)})),e.abrupt("return",s);case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function h_(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function b_(e){return function(e){if(Array.isArray(e))return w_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S_(e){var t=e.getConfig,r=e.broker,n=e.log,i=r.until("prebid loaded");r.on("configure and start prebid",function(){var e,r=(e=regeneratorRuntime.mark((function e(r,o){var a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:a=e.sent[0],s=a.getConfig("userSync"),c=C()({},t("plugins.prebid.userSync"),{filterSettings:{iframe:{bidders:(r=o,Array.from(new Set(r.reduce((function(e,t){return[].concat(b_(e),b_(t.bids.map((function(e){return e.bidder}))))}),[]))))}}}),u={userSync:(0,ei.LY)(s,c)},n("setting pbjs config",c),a.setConfig(u);case 8:case"end":return e.stop()}var r}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h_(o,n,i,a,s,"next",e)}function s(e){h_(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,t){return r.apply(this,arguments)}}())}var __=r(2701),O_=I.SP["mol.ads.programmatic.debug"];function I_(e){var t=e.broker,r=e.getConfig,n=(0,__.detect)(),i=Math.random(),o=n&&n.name&&function(e,t){return{chrome:e("prog.campaign.percentage.chrome",.7),crios:e("prog.campaign.percentage.crios",.7)}[t]}(r,n.name)||0;O_&&console.log("[PROG CAMPAIGN] browser: ".concat(n&&n.name,", chance: ").concat(o,", rand: ").concat(i)),o>i&&t.emit("set page level targeting",{prog:!0})}function E_(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function A_(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){E_(o,n,i,a,s,"next",e)}function s(e){E_(o,n,i,a,s,"throw",e)}a(void 0)}))}}function k_(e){return x_.apply(this,arguments)}function x_(){return(x_=A_(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.broker,t.getConfig,r.g.window._qevents=r.g.window._qevents||[],r.g.window._qevents.push({qacct:"p-yVg_z7_Zx4fHs"}),n.invoke("import script","https://secure.quantserve.com/quant.js");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P_(e){var t=e.broker,r=e.log,n={},i={},o={total:0,auction:{},video:{}};function a(e,t,a){var s;return!i[a]&&n[a]&&(r("[",a,"] ad viewable, but bidding in progress - assuming the auction ended",n[a]),i[a]=n[a],delete n[a]),i[a]?(s=i[a].cpm,o.total+=s,o[e][t]=(o[e][t]||0)+s,r("[",a,"] ad viewable",i[a],"summary.total",o.total),delete i[a]):r("[",a,"] ad viewable - no winner"),s}window.adverts.getRevenueSummary=function(){return o},t.on("bids requested",(function(e){e.positions.forEach((function(e){r("[",e,"] start auction"),delete n[e]}))})),t.on("bid",(function(e,t){var i=t.bidder,o=t.cpm;(!n[e]||n[e].cpm<o)&&(n[e]={bidder:i,cpm:o}),r("[",e,"]",i,"offers to pay",o)})),t.on("bidding ended",(function(e){n[e]?(i[e]=n[e],delete n[e],r("[",e,"] bidding ended",i[e])):r("[",e,"] bidding ended - no bids")})),t.on("video ad viewable",(function(e){var t=e.pos;return e.bids,a("video",e.videoId||"unknown",t)})),t.on("ad viewable",(function(e){return a("auction",e,e)}))}k_.vendorIds={gdpr:[11]};var j_,T_=(0,E.x)("rta");function C_(e){e.broker.on("send to rta",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"store";if(r.g.RTA&&"function"==typeof r.g.RTA.tedEvent){var i={action:n,name:e,value:t};T_("Sending:",i),r.g.RTA.tedEvent("page_event",i)}}))}function R_(e){var t=e.broker;(0,at.loaded)().then((function(){return t.emit("dom loaded")})),DM.later("DOM_READY",(function(){return t.emit("dom ready")})),window.addEventListener("load",(function(){return t.emit("page load")}))}function D_(e){return function(e){if(Array.isArray(e))return U_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M_(e){e.broker;var t=e.getConfig;j_&&(j_.base||t("plugins.enabled",[]).includes(j_.pluginName))&&(I.SP["mol.ads.selective.debug"]&&console.log("INIT selective",j_),r.g.molABTest=j_.label)}var B_={NONE:function(){return[]},ALL:function(e){return e.plugins},RANDOM:function(e){return e.plugins.filter(Math.random()>.5)},SPLIT_TEST:function(e){return[e.plugins[Math.floor(Math.random()*e.plugins.length)]]},PERSISTENT_SPLIT_TEST:function(e){var t="mol.ads.selective.pools.".concat(e.name,".selected"),r=localStorage.getItem(t);if(r&&e.plugins.concat("base").includes(r))return[r];var n=e.plugins[Math.floor(Math.random()*e.plugins.length)]||"base";return localStorage.setItem(t,n),[n]}};M_.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=I.SP["mol.ads.selective.debug"];n&&console.log("[SELECTIVE]: Initialising Selective plugin loader");var i=t("plugins.enabled",[]),o=t("selective.v2.pool",{});if(function(e){return e&&e.rule&&Object.keys(B_).includes(e.rule)&&e.plugins&&Array.isArray(e.plugins)&&e.plugins.length}(o)){var a=o.rule?B_[o.rule]:"ALL";if(a){var s=a(o);if(!["ALL","NONE"].includes(a)){var c=s[0]||"base";j_={pluginName:s[0],label:o.name+"."+c},"base"===c&&(j_.base=!0)}if(s=s.filter((function(e){return!!e})),n&&console.log("[SELECTIVE]: From pool ".concat(o.name,", loading plugins: ").concat(s)),"number"==typeof o.insertAt||"string"==typeof o.insertAt){var u,d=parseInt(o.insertAt);(u=i=D_(i)).splice.apply(u,[d,0].concat(D_(s)))}else i=[].concat(D_(i),D_(s));r("plugins.enabled",i)}else console.error("[SELECTIVE]: Invalid drawing rule ".concat(o.rule," for pool ").concat(o.name))}};var N_=function(e,t){var r=t.isEmpty,n=t.slot;if(!r)switch(e){case"billboard-oop":return q_();case"billboard":return L_(document.getElementById(n.getSlotElementId()))}},L_=function(e){if(e){var t=e.querySelector(".mol-ads-label-container");t&&e.parentNode.appendChild(t)}},q_=function(){var e=document.createElement("div"),t=document.createElement("div"),r=document.createTextNode((0,A.U2)("label.text","ADVERTISEMENT"));t.classList.add("mol-ads-skin-label"),t.appendChild(r),e.classList.add("mol-ads-skin-label-container"),e.appendChild(t),document.body.appendChild(e)},z_=function(e){var t=e.imageURL,r=e.clickURL,n=document.body;document.documentElement.classList.add("mol-ads-skin-enabled");var i=document.createElement("a");i.className="mol-ads-skin-click-target",i.href=r;var o=document.createElement("div");o.className="mol-ads-skin-pad",n.insertBefore(i,n.firstChild),n.insertBefore(o,i),(0,at.appendStyle)("\nbody { background-image: url(".concat(t,"); }\n")),adverts.stopRefreshingAds(),q_()};function V_(e){var t=e.broker;t.on("add skin to page",z_),t.on("add skin label to page",q_),t.on("ad rendered",N_)}function F_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var W_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.delay,r=void 0===t?0:t,n=[];return function(e){n.push(e),setTimeout((function(){return n.shift()()}),r)}},G_={sync:function(){return function(e){return e()}},async:W_,serial:function(){var e,t=[],r=function(){e=t.length&&setTimeout(n,0)},n=function(){t.shift()(),r()},i=function(n){t.push(n),e||r()};return i.pause=function(){e&&(clearTimeout(e),e=!1)},i.resume=function(){e||r()},i.queue=t,i},idle:function(){return r.g.requestIdleCallback?function(e){return r.g.requestIdleCallback(e)}:W_()},nextFrame:function(){return r.g.requestAnimationFrame?function(e){return r.g.requestAnimationFrame(e)}:W_()},fps:r.g.requestAnimationFrame?function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.fps,n=void 0===r?20:r,i=t.count,o=void 0===i?1:i,a=t.internalExecuter,s=void 0===a?"serial":a,c=F_(t,["fps","count","internalExecuter"]);n=parseInt(n),o=parseInt(o);var u=0,d=[],l=G_[s](c);function f(e){l((function(){e()}))}function p(){var e=d;d={push:f},e.forEach(f),!e.length&&l.resume&&l.resume()}function g(){l.pause&&l.pause(),d=[]}function m(t){requestAnimationFrame(m),e?(1e3/(t-e)>=n?++u===o&&p():(u>=o&&g(),u=0),e=t):e=t}return requestAnimationFrame(m),function(e){d.push(e)}}:W_};var H_=function(e){var t=e.broker,r=(0,e.getConfig)("scheduler.executer",{type:"async"}),n=r.type,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,["type"]),o=(0,G_[n])(i);t.register("call for page analytics",(function(){return{executer:n}})),t.bus.setDispatcher(o),i.debug&&console.log("Message dispatcher strategy:",n,i)};function K_(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function $_(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){K_(o,n,i,a,s,"next",e)}function s(e){K_(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Y_(e){return J_.apply(this,arguments)}function J_(){return(J_=$_(regeneratorRuntime.mark((function e(t){var r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=/^https?:\/\/t\.co(\/.*)?$/.test(document.referrer),o=n("molFeSmartBanner"),r.once("dom ready",$_(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(MobileUtils.isMobile()||(0,I.bP)())&&!(0,I.ej)("smart-banner")&&!i&&DM.molFeComponents.setConfig("molFeSmartBanner",o);case 2:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X_(e){e.broker.emit("set page level targeting",{abv:si})}function Z_(){var e=new Date;return{watershed:String(e.getHours()>=21||e.getHours()+e.getMinutes()/60<5.5)}}function Q_(e){var t=e.broker;t.emit("set page level targeting",Z_()),t.register("get prebid tags",(function(){return Z_()}))}function eO(e){var t=e.broker,r=e.log;r("video-events starting");var n=DM&&DM.pageEvents,i=[n.VIDEO_ADVERT_ABORTED,n.VIDEO_ADVERT_COMPLETED,n.VIDEO_ADVERT_FAILED,n.VIDEO_ADVERT_IMPRESSION,n.VIDEO_ADVERT_NOT_SHOWN,n.VIDEO_ADVERT_STARTED,n.VIDEO_CONTENT_ABORTED,n.VIDEO_CONTENT_COMPLETED,n.VIDEO_CONTENT_STARTED,n.VIDEO_DATA_READY,n.VIDEO_PLAYER_READY,n.VIDEO_PROGRESS,n.VIDEO_STREAM_FAILED,n.VIDEO_STREAM_STARTED];n&&i.forEach((function(e){n.subscribe(e,(function(n,i){r("firing:",e),t.emit("video page event ".concat(e),e,i)}))}))}function tO(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function rO(){}function nO(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.refresh.realvuScriptUrl","//ac.realvu.net/flip/2/c=E6X7_f=mint");n("loading",i),t.invoke("import script",i)}function iO(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function oO(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){iO(o,n,i,a,s,"next",e)}function s(e){iO(o,n,i,a,s,"throw",e)}a(void 0)}))}}rO.pluginSetup=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getConfig,n=t.log,i="//d2tuygj4en2za2.cloudfront.net/script.js",o=r("plugins.adProtection.setupTimeout",2e3),a=new Promise((function(e,t){try{var r=document.createElement("script");r.src=i,r.async=!0,r.addEventListener("DOMNodeRemoved",e),r.addEventListener("error",t),document.head.appendChild(r)}catch(e){n.error("error loading script ".concat(i),e)}})),n("loading script",i),e.next=7,(0,M.Ye)(o,[a]);case 7:s=e.sent,c=s.results.length?"script loaded":s.errors.length?"script loading error":"script loading timeout",n(c);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){tO(o,n,i,a,s,"next",e)}function s(e){tO(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();var aO={grapeshot:["DEFAULT"]},sO=function(){try{return r.g.top.location.href.replace(r.g.top.location.search,"").replace(r.g.top.location.hash,"")}catch(e){return}},cO=function(e){if(!e)try{e=r.g.location!==r.g.top.location?document.referrer:r.g.location}catch(t){e=document.referrer}return"//gs.dailymail.co.uk/main/channels-gpt.cgi?url="+encodeURIComponent(e)},uO=function(e){return"string"==typeof e?e.split(",").map((function(e){return e.trim()})):e};function dO(e){return lO.apply(this,arguments)}function lO(){return(lO=oO(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(){return(s=oO(regeneratorRuntime.mark((function e(t){var r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("Requesting specific grapeshot for:",t),e.next=3,Lt({url:cO(t)});case 3:r=e.sent,n("Got response:",r);try{o=/\[[^\]]*\]/.exec(r),a=o?JSON.parse(o[0]):[],i={grapeshot:a}}catch(e){n("Error parsing response. Error:",e),i=aO}return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e){return s.apply(this,arguments)},r=t.broker,(n=t.log)("Creating..."),i=cO(),n("URL:",i),n("Initilizing..."),o=r.invoke("load script",i,"gs_channels").then((function(e){return n("Ready:",e),e?{grapeshot:uO(e)}:aO})),r.register("get grapeshot tags",oO(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return e.abrupt("return",e.sent.grapeshot);case 3:case"end":return e.stop()}}),e)})))),o.then((function(e){n("Setting page level targeting"),r.emit("set page level targeting",e)})),r.register("get video tags",(function(e){n("Video targeting requested:",e);var t=e.articleURL;return t&&(t!==sO()?a(t):o).then((function(e){return n("Video targeting:",e),{cust_params:e}}))}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fO(e){return(fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}dO.vendorIds={gdpr:[385]},z("site",{init:function(e){var t=e.broker,n=e.log,i=e.setConfig,o=e.getConfig,a=o("site","mol");i("site",a),t.register("call for page analytics",(function(){return{account:a}})),function(e,t){var n=(0,A.U2)("tcfv2.enabled",!1),i="US"===PageCriteria.geo;t("cmp.model",(i?"ccpa":n&&"gdpr")||void 0),t("cmp.shouldBeEnforced",i&&"CA"===r.g.PageCriteria.region||n),t("cmp.keyNameForGPTVideoConsent",i?"rdp":"npa"),t("cmp.apiHandler",(i?"__uspapi":n&&"__tcfapi")||void 0),e("cmp:",(0,A.U2)("cmp"))}(n,i);var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pO(Object(r),!0).forEach((function(t){gO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},mO),c=o("tcfv2.branding.includePrimaryVendor",!0),u=o("tcfv2.branding.providerUrl"),d={level1Paragraphs:vO};c&&(d.primaryVendor=s),u&&(d.providerUrl=u),i("tcfv2.brand",d),"object"===fO(r.g.DM)&&"function"==typeof r.g.DM.getPageMetadata&&i("tcfv2.renderPlatform",r.g.DM.getPageMetadata().renderPlatform)}});var mO={features:[1,2,3],flexiblePurposes:[],headingName:"Associated Newspapers Ltd.",legIntPurposes:[5,6,8,10],name:"Associated Newspapers Ltd. (MailOnline, ThisIsMoney & Metro)",policyUrl:(0,A.U2)("tcfv2.policyUrl","/home/article-7759273/Privacy-Cookies-Policy-Policy.html"),purposes:[1,2,3,4,7,9],specialFeatures:[1],specialPurposes:[1,2]},vO=["We and our partners process, store and/or access data such as IP address, unique ID and browsing data based on your consent to display personalised ads and content, ad and content measurement, audience insights and product development, use precise geolocation data, and actively scan device characteristics for identification.","Sometimes we and/or our partners dont rely on your consent but rely on legitimate interest to process your data. Click Cookie Settings below to see our partners, why they rely on legitimate interest and how you can object.","Control how your data is used and view more info at any time via the Cookie Settings link in the Privacy Policy."];function yO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||hO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hO(e,t){if(e){if("string"==typeof e)return bO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bO(e,t):void 0}}function bO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.assign(r.g.adverts,n);var wO=tt;r.g.adverts.startTime=O,r.g.adListLoader=x,r.g.adsDescriptions=P,r.g.adsRenderer=nt,r.g.DfpServer=it,r.g.adsTrackers={getRequestedAds:wO},r.g.AdIntegrator=ot,r.g.AdBehaviour=i,r.g.AdImpression=vt(),r.g.AdEvents=ht(),j.ZP.broker("molEntry").register("call for page analytics",(function(){return{configVersion:(0,A.U2)("__generated.commit.sha"),bundle:"mol"}}));var SO,_O=Object.assign({},o,function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.entries(t).reduce((function(t,n){var i=yO(n,2),o=i[0],a=i[1],s=(r?r+".":"")+o;if("default"===o)t[r]=a;else if("function"==typeof a)t[s]=a;else{if(a)return e(a,s,t);console.warn('Plugin "'.concat(s,"\" does not export anything. Check the way it's being imported in to the project."))}return t}),n)}(S)),OO=[].concat(["bootstrap","site","scriptLoader","prebid","pageVisibility","runtimeMessages","sticky.mpus","sticky.banner","version","selective","slots.mpuPuffOthers","skins","performance","nonAdServable","smartScheduler","debug.setPlugin","messagePluginsFromCreatives","slots.descriptions","conditionalLoad","conditionalEnable"],function(e){if(Array.isArray(e))return bO(e)}(SO=(0,A.U2)("plugins.enabled",[]))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(SO)||hO(SO)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());(0,A.t8)("plugins.enabled",OO),(0,A.t8)("tcfv2.uuid.useRtaId",!0),x.initialiseSlots((0,A.U2)("slots.enabled",{}),OO),function(e){he.apply(this,arguments)}({enabledPlugins:OO,plugins:_O,messageBus:j.ZP})},9023:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return init}});var _utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5875);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var showThankYouMessage=function showThankYouMessage(getConfig){try{(0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)("Showing thank you message"),eval(getConfig("abe.thankYouMessage.js","DM.later('bundle', function(){window.top.DM.molFeAdblockerDialog.thanks()})"))}catch(e){console.error(e)}};function init(e){var t=e.broker,r=e.getConfig,n=JSON.parse(localStorage.getItem("mol.abe.data")||"{}");if(n.i){(0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)("ABE ran at last once, waiting for to ad blocker detection");var i=new Promise((function(e){t.once("ad block detection result",(function(i){var o=i.adblocker;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)(o?"Ad blocker detected":"No ad blocker detected"),o||n.c&&!(n.c<n.l)||(n.c=(new Date).toISOString(),n.n=!0,(0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)("First page load with no ad blocker, saving:",n),localStorage.setItem("mol.abe.data",JSON.stringify(n)),showThankYouMessage(r)),t.emit("ex ad blocker user",o,!!n.c),n.c?e({exabd:!o}):e({})}))})),o={};void 0!==n.c&&(o.exabd=n.c>n.l),i.then((function(e){return o=e})),t.once("old ad block detection result",(function(e){var t=e.adblocker;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)(t?"Ad blocker detected":"No ad blocker detected"),o.primaryAbd=t}));var a=function(e){return _defineProperty({},n.n?"exabd2":"exabd",!!e)};t.emit("set page level targeting",a(o.exabd)),t.emit("set page level targeting",i.then((function(e){var t=e.exabd;return a(t)}))),t.register("call for page analytics",(function(){return o}))}}},8526:function(e,t,r){"use strict";r.d(t,{j:function(){return o}});var n=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e},i="id"+Math.floor(Math.abs(Math.random()*Number.MAX_SAFE_INTEGER));function o(e){var t=e.callback,o=e.log,a=void 0===o?function(){}:o,s=e.loopDelay,c=void 0===s?50:s,u=e.maxLoop,d=void 0===u?5:u,l=e.useAnimationFrame,f=void 0===l||l,p=e.checkZeroProps,g=void 0!==p&&p,m=e.checkNullProps,v=void 0!==m&&m,y=e.baitStyle,h=e.baitClass;a("starting"),y=n(y.split(";")).filter((function(e){return e})).join(";"),h=n(h.split(" ")).filter((function(e){return e})).join(" ");var b="offset",w="client",S={nullProps:[b+"Parent"]};S.zeroProps=[b+"Height",b+"Left",b+"Top",b+"Width",b+"Height",w+"Height",w+"Width"];var _=function(){return document.getElementById(i)};function O(e){var n,i=_(),o=!1;if(null!==document.body.getAttribute("abp")&&(a("found adblock body attribute"),o=!0,n="abp attribute"),v)for(var s=0;s<S.nullProps.length;s++){var u=S.nullProps[s];if(null===i[u]){e>d-1&&(o=!0,n="null prop: "+u),a("found adblock null attr: "+u);break}if(!0===o)break}if(g)for(var l=0;l<S.zeroProps.length&&!0!==o;l++){var f=S.zeroProps[l];0===i[f]&&(e>d-1&&(o=!0,n="zero prop: "+f),a("found adblock zero attr: "+f))}if(void 0!==r.g.getComputedStyle){var p=r.g.getComputedStyle(i,null);"none"!==p.getPropertyValue("display")&&"hidden"!==p.getPropertyValue("visibility")||(e>d-1&&(o=!0,n="display: none"),a("found adblock computedStyle indicator"))}o||e++>=d?(a("exiting test loop - value: "+o,"because of:",n),function(){var e=_();if(null===e)return!0;"function"==typeof e.remove&&E((function(){return e.remove()})),E((function(){return document.body.removeChild(e)}))}(),t(o,n)):I(c,e)}var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return setTimeout((function(){var e=function(){return O(t)};f?requestAnimationFrame(e):e()}),e)},E=function(e){try{return e()}catch(e){}};!function(){var e=function(e,t){var r=document.createElement("div");if(t)for(var n in t)t.hasOwnProperty(n)&&r.setAttribute(n,t[n]);return r}(0,{class:h,style:y,id:i});a("adding bait node to DOM"),document.body.appendChild(e);for(var t=0;t<S.nullProps.length;t++)e[S.nullProps[t]];for(var r=0;r<S.zeroProps.length;r++)e[S.zeroProps[r]]}(),I(5)}},5875:function(e,t,r){"use strict";r.d(t,{c:function(){return n}});var n=(0,r(6415).x)("abe")},8397:function(e,t,r){"use strict";r.r(t),r.d(t,{appendStyles:function(){return R},collapseAd:function(){return U},default:function(){return N},disableSlot:function(){return P},enableSlot:function(){return j},getAdContainer:function(){return M},getElementById:function(){return D},getElementContainerById:function(){return x},getElementOrIframeById:function(){return I},isEmpty:function(){return k},log:function(){return C},nativeLoaded:function(){return T},openAd:function(){return B}});var n,i=r(3077),o=r(3477),a=r(633),s=r(2575),c=r(7854),u=r(8397);a.ZP.broker("NativeRenderer").on("system ready",(function(){var e=window.location.href.match(/[&?]enable_native=([^&]+)/),t=e&&e[1];if(t){var r=o.initSlots;o.initSlots=function(e){e[t]={enabled:!0,state:"on"},r.apply(o,arguments)}}n=t,s((function(e){if(!e.isEmpty){var t=e.slot,r=t&&t.molAd;"native_"===r.pos.slice(0,7)&&"_dfp"===r.pos.slice(-4)&&f(r)}}))}));var d="\f\t",l=d.length;function f(e){var t=document.getElementById(e.parentId),r=u.getAdContainer(t),i=!1;function o(){if(!i){i=!0;try{!function(e,t,r){var i=document.createElement("div");i.innerHTML=r;var o=i.childNodes;if("none"!==t.style.display){t.style.display="none";for(var a,s=t,c=t.parentNode,u=e.pos.replace(/_dfp$/,""),d=o.length;d--;)1===(a=o[d]).nodeType&&"SCRIPT"!==a.nodeName&&(c.insertBefore(a,t),s=a);var l=s,f=s;switch(e.pos){case"native_puff_dfp":c.parentNode.insertBefore(s,c),c.style.display="none",s.className=e.parentId,l=s,f=s.getElementsByTagName("a")[0],l.setAttribute("data-track-module","ap-nativead_puff_article^nativead");break;case"native_related_dfp":var m="iphone"===PageCriteria.device||"androidMobile"===PageCriteria.device?"am-read_more_sponsored^read_more-mobile":"am-related_sponsored^related_carousel";f=s.getElementsByTagName("a")[0],(l=s).setAttribute("data-track-module",m);break;case"native_fff_overlay_accessorise":c.style.display="none";case"native_fff_accessorise":document.body.classList.add("fff-has-accessorise")}f&&l.hasAttribute("data-track-module")&&DM&&DM.externalLinkTracker&&(f.setAttribute("data-track-type","cl"),DM.externalLinkTracker(l.id,"cl")),n&&window.opener&&window.opener!==window&&window.opener.postMessage&&(window.addEventListener("message",p.bind(null,s,u)),g(window.opener,"isLoaded",!0,u))}}(e,t,r.body.innerHTML)}catch(e){console.error("Error moving native article: ",e)}}}r.body&&((r.defaultView||r.parentWindow).addEventListener("load",o),setTimeout(o,2e3))}function p(e,t,r){if(r.data.slice(0,l)===d){var n,i="data-native-ad-field";try{n=c.parse(r.data.slice(l))}catch(e){console.error("Invalid message",e)}if(n&&n.type){var o,a=[].slice.call(e.querySelectorAll("[data-native-ad-field]"));switch(n.type){case"getValues":o=a.map((function(e){return{name:e.getAttribute(i),value:e.textContent}}));break;case"setValues":a.forEach((function(e){var t=e.getAttribute(i);t in n.values&&(e.textContent=n.values[t])}))}o&&g(r.source,n.type,o,t,r.origin)}}}function g(e,t,r,n,i){var o={type:"response",query:t,position:n,value:r};e.postMessage(d+c.stringify(o),i||"*")}s((function(e){if(!e.isEmpty){var t=e.slot,r=t&&t.molAd;"native_"===r.pos.slice(0,7)&&"_dfp"===r.pos.slice(-4)&&f(r)}}));var m=r(6540),v=r(6415);function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e]}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriptions={}}var t,r;return t=e,(r=[{key:"clone",value:function(){return{emit:this.emit.bind(this),off:this.off.bind(this),on:this.on.bind(this),once:this.once.bind(this)}}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=h.call(this,e).slice();i.forEach((function(e){return e.apply(void 0,r)}))}},{key:"off",value:function(e,t){var r=h.call(this,e);if(t){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}else r.length=0}},{key:"on",value:function(e,t){h.call(this,e).push(t)}},{key:"once",value:function(e,t){var r=this;this.on(e,(function n(){r.off(e,n),t.apply(void 0,arguments)}))}}])&&y(t.prototype,r),e}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(e,t){var r;try{r=e.contentDocument||e.contentWindow.document}catch(e){}return r||t},_=function(e){return function(t){var r=t&&S(t);return r&&r.getElementById(e)}},O=function(e){var t=(e||document).getElementsByTagName("iframe");return Array.prototype.filter.call(t,E)},I=function(e){var t=_(e);return A(O(),(function(e){return t(e)&&e}))},E=function(e){return e.id&&"google_ads_iframe_"===e.id.slice(0,18)},A=function(e,t){for(var r=0,n=e.length;r<n;r++)if(t(e[r]))return e[r]},k=function(e){var t=document.getElementById(e),r=["a","iframe","object","img","video"],n=!0;if(t)for(var i=r.length;n&&i--;)n=!t.getElementsByTagName(r[i]).length;return n},x=function(e){var t=I(e),r=/\badHolder\b/;if(t){for(var n=t;n&&!r.test(n.className||"");)n=n.parentNode;return n||(n=t),n}},P=function(e){var t="molads_"+e,r=document.documentElement;r.classList.remove(t+"_on"),r.classList.add(t+"_off");var n=window.DM;"billboard"===e&&n&&n.Rotator&&n.Rotator.initMiniCarousel()},j=function(e){var t="molads_"+e,r=document.documentElement;r.classList.remove(t+"_off"),r.classList.add(t+"_on")},T=function(e,t,r){var n=A(O(),(function(t){return t.contentWindow.name===e.name}));if(n){var o=(0,m.closest)(n,(function(e){return e.hasAttribute(i.AD_ATTRIBUTE)}));if(o){var a=i.parse(o.getAttribute(i.AD_ATTRIBUTE)||"{}");a&&f(a)}}},C=(0,v.x)("ad-integrator"),R=function(e){for(var t=e.match(/<style[^>]*\sclass="?integrate"?[^>]*>[^\f]*?<\/style>/gi),r=0,n=t?t.length:0;r<n;r++)(0,m.appendStyle)(t[r].slice(t[r].indexOf(">")+1,-8))},D=function(e){for(var t=null,r=O(),n=_(e),i=0;!t&&i<r.length;i++)t=n(r[i]);return t},U=function(e){var t=x(e);if(t){C("collapsing",e);var r=i.parse(t.getAttribute(i.AD_ATTRIBUTE)||"{}");r&&r.pos?P(r.pos):t.style.display="none"}else C.warn("collapseAd: id",e,"is unknown")},M=function(e){var t=O(e)[0];return t?S(t,document):e},B=function(e){var t=x(e),r=i.parse(t.getAttribute(i.AD_ATTRIBUTE)||"{}");r&&r.pos?j(r.pos):(t.style.height="auto",t.style.display="block")},N=function(e){var t=e.broker;e.getConfig,r.g.addEventListener("message",(function(e){var r=e.data;if("object"===w(r)&&"string"==typeof r.func)switch(r.func){case"molads.addSkinToPage":return t.emit("add skin to page",r);case"molads.addSkinLabel":return t.emit("add skin label to page");case"molads.disableSticky":return t.emit("disable sticky position",r.pos);case"molads.disableForceView":return t.emit("disable force view when viewed",r.pos)}}));var n=new b,i=[];r.g.adverts.getRendered=function(){return i},r.g.adverts.on=n.on.bind(n),r.g.adverts.collapseAd=U,t.on("ad rendered",(function(e,t){t.isEmpty||(i.push(t.slot.molAd),n.emit("rendered",t),n.emit("rendered."+e,t))})),t.on("destroy slot",(function(e){i=i.filter((function(t){return t.pos!==e}))}))}},5459:function(e,t,r){"use strict";function n(){return window.pbjs}r.r(t),r.d(t,{default:function(){return qc}}),window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs");var i=r(4753),o=r(8510),a=r.n(o),s=r(8098),c=r(6482),u=r(4609),d=r(6117),l=r(3485);function f(e){var t,r,n,o={type:"xml",value:e.vastXml?e.vastXml:(t=e.vastUrl,r=e.vastImpUrl,n=r?"<![CDATA[".concat(r,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(n,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return l.vc.getConfig("cache.vasttrack")&&(o.bidder=e.bidder,o.bidid=e.requestId,i.isPlainObject(this)&&this.hasOwnProperty("auctionStart")&&(o.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(o.key=e.customCacheKey),o}var p=r(361),g=r(2332),m=r.n(g),v="outstream";function y(e){var t=this,r=e.url,n=e.config,o=e.id,a=e.callback,s=e.loaded,c=e.adUnitCode;this.url=r,this.config=n,this.handlers={},this.id=o,this.loaded=s,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):i.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=a||function(){t.loaded=!0,t.process()},this.render=function(){w(c)?i.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(c)):(0,p.B)(r,v,this.callback),this._render?this._render.apply(this,arguments):i.logWarn("No render function was provided, please use .setRender on the renderer")}.bind(this)}function h(e){return!(!e||!e.url)}function b(e,t){e.render(t)}function w(e){var t=pbjs.adUnits,r=m()(t,(function(t){return t.code===e}));return!(!(r&&r.renderer&&r.renderer.url&&r.renderer.render)||i.isBoolean(r.renderer.backupOnly)&&r.renderer.backupOnly)}y.install=function(e){return new y({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},y.prototype.getConfig=function(){return this.config},y.prototype.setRender=function(e){this._render=e},y.prototype.setEventHandlers=function(e){this.handlers=e},y.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),i.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(r))},y.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){i.logError("Error processing Renderer command: ",e)}};var S=r(112),_=r(5244),O=r(2202),I=r(4783);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var k=S.k_.syncUsers,x=r(4753),P=r(7785).ZP,j=r(8510),T=r(6482),C="completed";j.on(T.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t,r=e.bidderCode,n=e.cpm;if(pbjs.bidderSettings&&(r&&pbjs.bidderSettings[r]&&"function"==typeof pbjs.bidderSettings[r].bidCpmAdjustment?t=pbjs.bidderSettings[r].bidCpmAdjustment:pbjs.bidderSettings[T.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[T.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs.bidderSettings[T.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{n=t(e.cpm,A({},e))}catch(e){x.logError("Error during bid adjustment","bidmanager.js",e)}n>=0&&(e.cpm=n)}(e)}));var R={},D={},U=[];var M=(0,_.z3)("async",(function(e,t){this.dispatch.call(this.bidderRequest,e,t)}),"addBidResponse"),B=(0,_.z3)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),N=(0,_.z3)("async",(function(e,t){t&&t()}),"bidsBackCallback");function L(e,t){t.timeToRespond>e.getTimeout()+l.vc.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function q(e,t){var r=e.getBidRequests(),n=m()(r,(function(e){return e.bidderCode===t.bidderCode}));!function(e,t){var r;if(e.bidderCode&&(e.cpm>0||e.dealId)){var n=m()(t.bids,(function(t){return t.adUnitCode===e.adUnitCode}));r=function(e,t,r){if(!t)return{};var n={},i=pbjs.bidderSettings;return i&&(G(n,W(t.mediaType,e,r),t),e&&i[e]&&i[e][T.JSON_MAPPING.ADSERVER_TARGETING]&&(G(n,i[e],t),t.sendStandardTargeting=i[e].sendStandardTargeting)),t.native&&(n=A({},n,(0,s.Ur)(t,r))),n}(e.bidderCode,e,n)}e.adserverTargeting=A(e.adserverTargeting||{},r)}(t,n),j.emit(T.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),L(e,t)}var z=(0,_.z3)("async",(function(e,t,r,n){!function(e,t,r){var n={puts:e.map(f,r)};(0,d.h)(l.vc.getConfig("cache.url"),function(e){return{success:function(t){var r;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(r))),[])}}}(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0})}([t],(function(n,i){n?(x.logWarn("Failed to save to the video cache: ".concat(n,". Video bid must be discarded.")),L(e,t)):""===i[0].uuid?(x.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),L(e,t)):(t.videoCacheKey=i[0].uuid,t.vastUrl||(t.vastUrl=function(e){return"".concat(l.vc.getConfig("cache.url"),"?uuid=").concat(e)}(t.videoCacheKey)),q(e,t),r())}),n)}),"callPrebidCache");function V(e,t,r){if(e&&r){if(e===I.pX){var n=(0,i.deepAccess)(t,"mediaTypes.".concat(I.pX,".context"),"instream");if(r["".concat(I.pX,"-").concat(n)])return r["".concat(I.pX,"-").concat(n)]}return r[e]}}var F=function(e){return function(t){return e===T.GRANULARITY_OPTIONS.AUTO?t.pbAg:e===T.GRANULARITY_OPTIONS.DENSE?t.pbDg:e===T.GRANULARITY_OPTIONS.LOW?t.pbLg:e===T.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:e===T.GRANULARITY_OPTIONS.HIGH?t.pbHg:e===T.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function W(e,t,r){function n(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return(0,i.getValue)(e,t)}}}var o=T.TARGETING_KEYS,a=function(e,t){var r=V(e,t,l.vc.getConfig("mediaTypePriceGranularity"));return"string"==typeof e&&r?"string"==typeof r?r:"custom":l.vc.getConfig("priceGranularity")}(e,r),s=pbjs.bidderSettings;if(s[T.JSON_MAPPING.BD_SETTING_STANDARD]||(s[T.JSON_MAPPING.BD_SETTING_STANDARD]={}),s[T.JSON_MAPPING.BD_SETTING_STANDARD][T.JSON_MAPPING.ADSERVER_TARGETING]||(s[T.JSON_MAPPING.BD_SETTING_STANDARD][T.JSON_MAPPING.ADSERVER_TARGETING]=[n(o.BIDDER,"bidderCode"),n(o.AD_ID,"adId"),n(o.PRICE_BUCKET,F(a)),n(o.SIZE,"size"),n(o.DEAL,"dealId"),n(o.SOURCE,"source"),n(o.FORMAT,"mediaType")]),"video"===e){var c=s[T.JSON_MAPPING.BD_SETTING_STANDARD][T.JSON_MAPPING.ADSERVER_TARGETING];if([o.UUID,o.CACHE_ID].forEach((function(e){void 0===m()(c,(function(t){return t.key===e}))&&c.push(n(e,"videoCacheKey"))})),l.vc.getConfig("cache.url")&&(!t||!1!==x.deepAccess(s,"".concat(t,".sendStandardTargeting")))){var u=(0,i.parseUrl)(l.vc.getConfig("cache.url"));void 0===m()(c,(function(e){return e.key===o.CACHE_HOST}))&&c.push(n(o.CACHE_HOST,(function(e){return x.deepAccess(e,"adserverTargeting.".concat(o.CACHE_HOST))?e.adserverTargeting[o.CACHE_HOST]:u.hostname})))}}return s[T.JSON_MAPPING.BD_SETTING_STANDARD]}function G(e,t,r){var n=t[T.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),x._each(n,(function(n){var i=n.key,o=n.val;if(e[i]&&x.logWarn("The key: "+i+" is getting ovewritten"),x.isFn(o))try{o=o(r)}catch(e){x.logError("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&i!==T.TARGETING_KEYS.DEAL||!x.isEmptyStr(o)&&null!=o?e[i]=o:x.logInfo("suppressing empty key '"+i+"' from adserver targeting")})),e}function H(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}var K=r(6482),$=function(){var e=[],t={addWinningBid:function(t){var r=m()(e,(function(e){return e.getAuctionId()===t.auctionId}));r?(t.status=K.BID_STATUS.RENDERED,r.addWinningBid(t)):(0,i.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map((function(e){return e.getWinningBids()})).reduce(i.flatten,[])},getBidsRequested:function(){return e.map((function(e){return e.getBidRequests()})).reduce(i.flatten,[])},getNoBids:function(){return e.map((function(e){return e.getNoBids()})).reduce(i.flatten,[])},getBidsReceived:function(){return e.map((function(e){if(e.getAuctionStatus()===C)return e.getBidsReceived()})).reduce(i.flatten,[]).filter((function(e){return e}))},getAllBidsForAdUnitCode:function(t){return e.map((function(e){return e.getBidsReceived()})).reduce(i.flatten,[]).filter((function(e){return e&&e.adUnitCode===t}))},getAdUnits:function(){return e.map((function(e){return e.getAdUnits()})).reduce(i.flatten,[])},getAdUnitCodes:function(){return e.map((function(e){return e.getAdUnitCodes()})).reduce(i.flatten,[]).filter(i.uniques)}};return t.createAuction=function(t){var r=function(e){var t,r,n,o,a=e.adUnits,s=e.adUnitCodes,c=e.callback,d=e.cbTimeout,f=e.labels,p=e.auctionId,g=a,v=f,h=s,b=[],w=[],S=[],_=p||x.generateUUID(),I=c,L=d,F=[],W=new Set;function G(){return{auctionId:_,timestamp:t,auctionEnd:r,auctionStatus:n,adUnits:g,adUnitCodes:h,labels:v,bidderRequests:b,noBids:S,bidsReceived:w,winningBids:F,timeout:L}}function K(e,t){if(t&&clearTimeout(o),void 0===r){var s=[];e&&(x.logMessage("Auction ".concat(_," timedOut")),c=W,(s=b.map((function(e){return(e.bids||[]).filter((function(e){return!c.has(e.bidder)}))})).reduce(i.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&j.emit(T.EVENTS.BID_TIMEOUT,s)),n=C,r=Date.now(),j.emit(T.EVENTS.AUCTION_END,G()),N(g,(function(){try{if(null!=I){var t=h,r=w.filter(x.bind.call(i.adUnitsFilter,this,t)).reduce(H,{});I.apply(pbjs,[r,e,_]),I=null}}catch(e){x.logError("Error executing bidsBackHandler",null,e)}finally{s.length&&P.callTimedOutBidders(a,s,L);var n=l.vc.getConfig("userSync")||{};n.enableOverride||k(n.syncDelay)}}))}var c}function $(){x.logInfo("Bids Received for Auction with id: ".concat(_),w),n=C,K(!1,!0)}function Y(e){W.add(e)}function J(e){var t=this;e.forEach((function(e){var t;t=e,b=b.concat(t)}));var r={},a={bidRequests:e,run:function(){var a,d;a=K.bind(null,!0),d=setTimeout(a,L),o=d,n="inProgress",j.emit(T.EVENTS.AUCTION_INIT,G());var f=function(e,t){var r=0,n=!1,o=new Set,a={};function s(){r--,n&&0===r&&e()}return{addBidResponse:function(e,n){a[n.requestId]=!0,r++;var o=function(e){var t=e.adUnitCode,r=e.bid,n=e.bidderRequest,o=e.auctionId,a=n.start,s=A({},r,{auctionId:o,responseTimestamp:(0,i.timestamp)(),requestTimestamp:a,cpm:parseFloat(r.cpm)||0,bidder:r.bidderCode,adUnitCode:t});s.timeToRespond=s.responseTimestamp-s.requestTimestamp,j.emit(T.EVENTS.BID_ADJUSTMENT,s);var c=n.bids&&m()(n.bids,(function(e){return e.adUnitCode==t})),d=c&&c.renderer;!d||!d.url||d.backupOnly&&(0,i.isBoolean)(d.backupOnly)&&r.renderer||(s.renderer=y.install({url:d.url}),s.renderer.setRender(d.render));var f=V(r.mediaType,c,l.vc.getConfig("mediaTypePriceGranularity")),p=(0,u.D)(s.cpm,"object"===E(f)?f:l.vc.getConfig("customPriceBucket"),l.vc.getConfig("currency.granularityMultiplier"));return s.pbLg=p.low,s.pbMg=p.med,s.pbHg=p.high,s.pbAg=p.auto,s.pbDg=p.dense,s.pbCg=p.custom,s}({adUnitCode:e,bid:n,bidderRequest:this,auctionId:t.getAuctionId()});"video"===o.mediaType?function(e,t,r,n){var o=!0,a=(0,i.getBidRequest)(t.requestId,[r]),s=a&&(0,i.deepAccess)(a,"mediaTypes.video"),c=s&&(0,i.deepAccess)(s,"context");l.vc.getConfig("cache.url")&&c!==O.gZ&&(t.videoCacheKey?t.vastUrl||(x.logError("videoCacheKey specified but not required vastUrl for video bid"),o=!1):(o=!1,z(e,t,n,a))),o&&(q(e,t),n())}(t,o,this,s):(q(t,o),s())},adapterDone:function(){o.add(this),n=t.getBidRequests().every((function(e){return o.has(e)})),this.bids.forEach((function(e){a[e.bidId]||(t.addNoBid(e),j.emit(T.EVENTS.NO_BID,e))})),n&&0===r&&e()}}}($,t);P.callBids(g,e,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];M.apply({dispatch:f.addBidResponse,bidderRequest:this},t)}),f.adapterDone,{request:function(e,t){c(R,t),c(r,e),D[e]||(D[e]={SRA:!0,origin:t}),r[e]>1&&(D[e].SRA=!1)},done:function(e){R[e]--,U[0]&&s(U[0])&&U.shift()}},L,Y)}};function s(e){var t=!0,r=l.vc.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var n=1,i=void 0!==e.src&&e.src===T.S2S.SRC?"s2s":e.bidderCode;return D[i]&&(!1===D[i].SRA&&(n=Math.min(e.bids.length,r)),R[D[i].origin]+n>r&&(t=!1)),!t})),t&&e.run(),t}function c(e,t){void 0===e[t]?e[t]=1:e[t]++}s(a)||(x.logWarn("queueing auction due to limited endpoint capacity"),U.push(a))}return{addBidReceived:function(e){w=w.concat(e)},addNoBid:function(e){S=S.concat(e)},executeCallback:K,callBids:function(){n="started",t=Date.now();var e=P.makeBidRequests(g,t,_,L,v);x.logInfo("Bids Requested for Auction with id: ".concat(_),e),e.length<1?(x.logWarn("No valid bid requests returned for auction"),$()):B.call({dispatch:J,context:this},e)},addWinningBid:function(e){F=F.concat(e),P.callBidWonBidder(e.bidder,e,a)},setBidTargeting:function(e){P.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return F},getTimeout:function(){return L},getAuctionId:function(){return _},getAuctionStatus:function(){return n},getAdUnits:function(){return g},getAdUnitCodes:function(){return h},getBidRequests:function(){return b},getBidsReceived:function(){return w},getNoBids:function(){return S}}}({adUnits:t.adUnits,adUnitCodes:t.adUnitCodes,callback:t.callback,cbTimeout:t.cbTimeout,labels:t.labels,auctionId:t.auctionId});return function(t){e.push(t)}(r),r},t.findBidByAdId=function(t){return m()(e.map((function(e){return e.getBidsReceived()})).reduce(i.flatten,[]),(function(e){return e.adId===t}))},t.getStandardBidderAdServerTargeting=function(){return W()[K.JSON_MAPPING.ADSERVER_TARGETING]},t.setStatusForBids=function(r,n){var i=t.findBidByAdId(r);if(i&&(i.status=n),i&&n===K.BID_STATUS.BID_TARGETING_SET){var o=m()(e,(function(e){return e.getAuctionId()===i.auctionId}));o&&o.setBidTargeting(i)}},t.getLastAuctionId=function(){return e.length&&e[e.length-1].getAuctionId()},t}(),Y=r(1608),J=r.n(Y),X=c.EVENTS.BID_WON;function Z(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r&&r.adId){var n=m()($.getBidsReceived(),(function(e){return e.adId===r.adId}));if(n&&"Prebid Request"===r.message&&(function(e,t){var r=e.adId,n=e.ad,o=e.adUrl,a=e.width,s=e.height,c=e.renderer,u=e.cpm;h(c)?b(c,e):r&&(function(e){var t=e.adId,r=e.adUnitCode,n=e.width,o=e.height;function a(e){var n=function(e,t){return window.googletag?function(e){return m()(window.googletag.pubads().getSlots(),(function(t){return m()(t.getTargetingKeys(),(function(r){return J()(t.getTargeting(r),e)}))})).getSlotElementId()}(e):window.apntag?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,r),i=document.getElementById(n);return i&&i.querySelector(e)}["div","iframe"].forEach((function(e){var t=a(e+':not([style*="display: none"])');if(t){var s=t.style;s.width=n+"px",s.height=o+"px"}else(0,i.logWarn)("Unable to locate matching page element for adUnitCode ".concat(r,".  Can't resize it to ad's dimensions.  Please review setup."))}))}(e),t.source.postMessage(JSON.stringify({message:"Prebid Response",ad:(0,i.replaceAuctionPrice)(n,u),adUrl:(0,i.replaceAuctionPrice)(o,u),adId:r,width:a,height:s}),t.origin))}(n,e),$.addWinningBid(n),a().emit(X,n)),n&&"Prebid Native"===r.message){if("assetRequest"===r.action){var o=(0,s.eK)(r,n);return void e.source.postMessage(JSON.stringify(o),e.origin)}if("click"===(0,s.e6)(r,n))return;$.addWinningBid(n),a().emit(X,n)}}}var Q=r(7447);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ie=r(4753),oe=r(6482),ae=[],se=Object.keys(oe.TARGETING_KEYS).map((function(e){return oe.TARGETING_KEYS[e]})),ce=function(e){return e.responseTimestamp+1e3*e.ttl+1e3>(0,i.timestamp)()},ue=function(e){return e&&(e.status&&!J()([oe.BID_STATUS.RENDERED],e.status)||!e.status)};function de(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[],o=l.vc.getConfig("sendBidsControl.dealPrioritization"),a=(0,i.groupBy)(e,"adUnitCode");return Object.keys(a).forEach((function(e){var s=[],c=(0,i.groupBy)(a[e],"bidderCode");Object.keys(c).forEach((function(e){return s.push(c[e].reduce(t))})),r>0?(s=o?s.sort(le(!0)):s.sort((function(e,t){return t.cpm-e.cpm})),n.push.apply(n,re(s.slice(0,r)))):n.push.apply(n,re(s))})),n}function le(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r){return void 0!==t.adserverTargeting.hb_deal&&void 0===r.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==r.adserverTargeting.hb_deal?1:e?r.cpm-t.cpm:r.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var fe,pe,ge=function(e){var t={},r={};function n(e,t){return e.adserverTargeting&&t&&(ie.isArray(t)&&J()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function o(e,t){if(!0===l.vc.getConfig("targetingControls.alwaysIncludeDeals")){var r=se.concat(s.xc);return de(t,i.getHighestCpm).map((function(t){if(t.dealId&&n(t,e))return te({},t.adUnitCode,w(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function a(e,t){var r=ee({},oe.TARGETING_KEYS,oe.NATIVE_KEYS),n=Object.keys(r),o={};(0,i.logInfo)("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return r[e]})).join(", ")," ]")),e.map((function(e){var i=Object.keys(e)[0],a=e[i].filter((function(e){var i=Object.keys(e)[0],a=0===n.filter((function(e){return 0===i.indexOf(r[e])})).length||t.find((function(e){var t=r[e];return 0===i.indexOf(t)}));return o[i]=!a,a}));e[i]=a}));var a=Object.keys(o).filter((function(e){return o[e]}));return(0,i.logInfo)("allowTargetingKeys - removed keys [ ".concat(a.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function c(e,t){var r=(0,i.deepClone)(e);return Object.keys(r).map((function(e){return{adUnitCode:e,adserverTargeting:r[e]}})).sort(le()).reduce((function(e,n,o,a){var s,c=(s=n.adserverTargeting,Object.keys(s).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(s[t]),"%26")}),""));o+1===a.length&&(c=c.slice(0,-3));var u=n.adUnitCode,d=c.length;return d<=t?(t-=d,(0,i.logInfo)("AdUnit '".concat(u,"' auction keys comprised of ").concat(d," characters.  Deducted from running threshold; new limit is ").concat(t),r[u]),e[u]=r[u]):(0,i.logWarn)("The following keys for adUnitCode '".concat(u,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(d,", the current allotted amount was ").concat(t,".\n"),r[u]),o+1===a.length&&0===Object.keys(e).length&&(0,i.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function u(e){return e.map((function(e){return te({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return te({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))})).reduce((function(e,t){return ee(t,e)}),{}))})).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=ee({},e[r],t[r]),e}),{})}function d(t){return"string"==typeof t?[t]:ie.isArray(t)?t:e.getAdUnitCodes()||[]}function f(){var t=e.getBidsReceived();return l.vc.getConfig("useBidCache")||(t=t.filter((function(e){return r[e.adUnitCode]===e.auctionId}))),de(t=t.filter((function(e){return(0,i.deepAccess)(e,"video.context")!==I.Oh})).filter((function(e){return"banner"!==e.mediaType||(0,Q.lO)([e.width,e.height])})).filter(ue).filter(ce),i.getOldestHighestCpmBid)}function p(e,r){var n=t.getWinningBids(e,r),i=g();return n.map((function(e){return te({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,r){var n=[e.adserverTargeting[r]],i=te({},r.substring(0,20),n);if(r===oe.TARGETING_KEYS.DEAL){var o=te({},"".concat(r,"_").concat(e.bidderCode).substring(0,20),n);return[].concat(re(t),[i,o])}return[].concat(re(t),[i])}),[]))}))}function g(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(se).filter(i.uniques)}function m(e,t,r,n){return Object.keys(t.adserverTargeting).filter(v()).forEach((function(r){e.length&&e.filter(function(e){return function(r){return r.adUnitCode===t.adUnitCode&&r.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){ie.isArray(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(i.uniques),delete t.adserverTargeting[e]}}(r))})),e.push(t),e}function v(){var e=g().concat(s.xc);return function(t){return-1===e.indexOf(t)}}function y(e){return te({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(v()).map((function(t){return te({},t.substring(0,20),[e.adserverTargeting[t]])})))}function h(e,t){return t.filter((function(t){return J()(e,t.adUnitCode)})).map((function(e){return ee({},e)})).reduce(m,[]).map(y).filter((function(e){return e}))}function b(e,t){var r=se.concat(s.xc),o=l.vc.getConfig("sendBidsControl.bidLimit");return de(t,i.getHighestCpm,o).map((function(t){if(n(t,e))return te({},t.adUnitCode,w(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}function w(e,t){return t.map((function(t){return te({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function S(t){function r(e){return(0,i.deepAccess)(e,oe.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return J()(t,e.code)&&r(e)})).map((function(e){return te({},e.code,function(e){var t=r(e);return Object.keys(t).map((function(e){return te({},e,ie.isArray(t[e])?t[e]:t[e].split(","))}))}(e))}))}return t.setLatestAuctionForAdUnit=function(e,t){r[e]=t},t.resetPresetTargeting=function(t,r){if((0,i.isGptPubadsDefined)()){var n=d(t),o=e.getAdUnits().filter((function(e){return J()(n,e.code)}));window.googletag.pubads().getSlots().forEach((function(e){var t=ie.isFn(r)&&r(e);ae.forEach((function(r){o.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||ie.isFn(t)&&t(n.code))&&e.setTargeting(r,null)}))}))}))}},t.resetPresetTargetingAST=function(e){d(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var r=Object.keys(t.keywords),n={};r.forEach((function(e){J()(ae,e.toLowerCase())||(n[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:n})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f(),r=d(e),n=p(r,t).concat(h(r,t)).concat(l.vc.getConfig("enableSendAllBids")?b(r,t):o(r,t)).concat(S(r));n.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===ae.indexOf(Object.keys(e)[0])&&(ae=Object.keys(e).concat(ae))}))}))}));var s=l.vc.getConfig("targetingControls.allowTargetingKeys");Array.isArray(s)&&s.length>0&&(n=a(n,s)),n=u(n);var g=l.vc.getConfig("targetingControls.auctionKeyMaxChars");return g&&((0,i.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(g," characters.  Running checks on auction keys...")),n=c(n,g)),r.forEach((function(e){n[e]||(n[e]={})})),n},t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(r){Object.keys(e).filter(t?t(r):(0,i.isAdUnitCodeMatchingSlot)(r)).forEach((function(t){return Object.keys(e[t]).forEach((function(n){var i=e[t][n];"string"==typeof i&&(i=i.split(",")),(i=i.length>1?[i]:i).map((function(e){return ie.logMessage("Attempting to set key value for slot: ".concat(r.getSlotElementId()," key: ").concat(n," value: ").concat(e)),e})).forEach((function(e){r.setTargeting(n,e)}))}))}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f(),r=d(e);return t.filter((function(e){return J()(r,e.adUnitCode)})).filter((function(e){return e.cpm>0})).map((function(e){return e.adUnitCode})).filter(i.uniques).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(i.getHighestCpm)}))},t.setTargetingForAst=function(e){var r=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){ie.logError("unable to reset targeting for AST"+e)}Object.keys(r).forEach((function(e){return Object.keys(r[e]).forEach((function(t){if(ie.logMessage("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(r[e][t])),ie.isStr(r[e][t])||ie.isArray(r[e][t])){var n={};t.search(/pt[0-9]/)<0?n[t.toUpperCase()]=r[e][t]:n[t]=r[e][t],window.apntag.setKeywords(e,n,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&ie.isFn(window.apntag.setKeywords))return!0},t}($),me="pbjs:debugging";function ve(e){(0,i.logMessage)("DEBUG: "+e)}function ye(e){(0,i.logWarn)("DEBUG: "+e)}function he(e){fe=Ie.bind(e),M.before(fe,5),pe=Ee.bind(e),B.before(pe,5)}function be(){M.getHooks({hook:fe}).remove(),B.getHooks({hook:pe}).remove()}function we(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.vc.setConfig({debug:!0}),be(),he(e),ve("bidder overrides enabled".concat(t?" from session":""))}function Se(e,t,r){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===r)}function _e(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function Oe(e,t,r){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,n){return ve("bidder overrides changed '".concat(t.adUnitCode,"/").concat(t.bidderCode,"' ").concat(r,".").concat(n," from '").concat(t[n],".js' to '").concat(e[n],"'")),t[n]=e[n],t}),t)}function Ie(e,t,r){var n=this;_e(n.bidders,r.bidderCode)?ye("bidder '".concat(r.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(n.bids)&&n.bids.forEach((function(e){Se(e,r.bidderCode,t)||Oe(e,r,"bidder")})),e(t,r))}function Ee(e,t){var r=this,n=t.filter((function(e){return!_e(r.bidders,e.bidderCode)||(ye("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)}));Array.isArray(r.bidRequests)&&n.forEach((function(e){r.bidRequests.forEach((function(t){e.bids.forEach((function(r){Se(t,e.bidderCode,r.adUnitCode)||Oe(t,r,"bidRequest")}))}))})),e(n)}l.vc.getConfig("debugging",(function(e){return function(e){if(e.enabled){try{window.sessionStorage.setItem(me,JSON.stringify(e))}catch(e){}we(e)}else{be(),ve("bidder overrides disabled");try{window.sessionStorage.removeItem(me)}catch(e){}}}(e.debugging)}));var Ae=r(3069),ke=r(6507),xe=r(1723);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Te=n(),Ce=r(6482),Re=r(4753),De=r(7785).ZP,Ue=r(8510),Me=S.k_.triggerUserSyncs,Be=Ce.EVENTS,Ne=Be.ADD_AD_UNITS,Le=Be.BID_WON,qe=Be.REQUEST_BIDS,ze=Be.SET_TARGETING,Ve=Be.AD_RENDER_FAILED,Fe=Ce.AD_RENDER_FAILED_REASON,We=Fe.PREVENT_WRITING_ON_MAIN_DOCUMENT,Ge=Fe.NO_AD,He=Fe.EXCEPTION,Ke=Fe.CANNOT_FIND_AD,$e=Fe.MISSING_DOC_OR_ADID,Ye={bidWon:function(e){var t=$.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(i.flatten).filter(i.uniques);if(Re.contains(t,e))return!0;Re.logError('The "'+e+'" placement is not defined.')}};function Je(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function Xe(e,t){var r=[];return Re.isArray(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return(0,i.isArrayOfNums)(e,2)}))?r=e:(0,i.isArrayOfNums)(e,2)&&r.push(e)),r}!function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(me))}catch(e){}t&&we(t,!0)}(),Te.bidderSettings=Te.bidderSettings||{},Te.libLoaded=!0,Te.version="v4.13.0-mol-1",Re.logInfo("Prebid.js v4.13.0-mol-1 loaded"),Te.adUnits=Te.adUnits||[],Te.triggerUserSyncs=Me;var Ze=(0,_.z3)("sync",(function(e){var t=[];return e.forEach((function(e){var r,n,i,o=e.mediaTypes,a=e.bids;if(a&&Re.isArray(a))if(o&&0!==Object.keys(o).length){o.banner&&(r=function(e){var t=Re.deepClone(e),r=t.mediaTypes.banner,n=Xe(r.sizes);return n.length>0?(r.sizes=n,t.sizes=n):(Re.logError("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}(e)),o.video&&(n=function(e){var t=Re.deepClone(e),r=t.mediaTypes.video;if(r.playerSize){var n="number"==typeof r.playerSize[0]?2:1,i=Xe(r.playerSize,n);i.length>0?(2===n&&Re.logInfo("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=i,t.sizes=i):(Re.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}(r||e)),o.native&&(i=function(e){var t=Re.deepClone(e),r=t.mediaTypes.native;return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&(Re.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&(Re.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&(Re.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}(n||r||e));var s=je({},r,n,i);t.push(s)}else Re.logError("Detected adUnit.code '".concat(e.code,"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed."));else Re.logError("Detected adUnit.code '".concat(e.code,"' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction."))})),t}),"checkAdUnitSetup");function Qe(e){var t=$[e]().filter(Re.bind.call(i.adUnitsFilter,this,$.getAdUnitCodes())),r=$.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(i.uniques).map((function(e){return t.filter((function(t){return t.auctionId===r&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},n={bids:e},(r=e[0].adUnitCode)in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t;var t,r,n})).reduce((function(e,t){return je(e,t)}),{})}function et(e){var t=e.reason,r=e.message,n=e.bid,i=e.id,o={reason:t,message:r};n&&(o.bid=n),i&&(o.adId=i),Re.logError(r),Ue.emit(Ve,o)}Te.getAdserverTargetingForAdUnitCodeStr=function(e){if(Re.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=Te.getAdserverTargetingForAdUnitCode(e);return Re.transformAdServerTargetingObj(t)}Re.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Te.getHighestUnusedBidResponseForAdUnitCode=function(e){var t=$.getAllBidsForAdUnitCode(e).filter(ue).filter(ce);return t.length?t.reduce(i.getHighestCpm):{}},Te.getAdserverTargetingForAdUnitCode=function(e){return Te.getAdserverTargeting(e)[e]},Te.getAdserverTargeting=function(e){return Re.logInfo("Invoking pbjs.getAdserverTargeting",arguments),ge.getAllTargeting(e)},Te.getNoBids=function(){return Re.logInfo("Invoking pbjs.getNoBids",arguments),Qe("getNoBids")},Te.getBidResponses=function(){return Re.logInfo("Invoking pbjs.getBidResponses",arguments),Qe("getBidsReceived")},Te.getBidResponsesForAdUnitCode=function(e){return{bids:$.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},Te.setTargetingForGPTAsync=function(e,t){if(Re.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,i.isGptPubadsDefined)()){var r=ge.getAllTargeting(e);ge.resetPresetTargeting(e,t),ge.setTargetingForGPT(r,t),Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){"hb_adid"===t&&$.setStatusForBids(r[e][t],Ce.BID_STATUS.BID_TARGETING_SET)}))})),Ue.emit(ze,r)}else Re.logError("window.googletag is not defined on the page")},Te.setTargetingForAst=function(e){Re.logInfo("Invoking pbjs.setTargetingForAn",arguments),ge.isApntagDefined()?(ge.setTargetingForAst(e),Ue.emit(ze,ge.getAllTargeting())):Re.logError("window.apntag is not defined on the page")},Te.renderAd=function(e,t,r){if(Re.logInfo("Invoking pbjs.renderAd",arguments),Re.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n=$.findBidByAdId(t);if(n){if(n.ad=Re.replaceAuctionPrice(n.ad,n.cpm),n.adUrl=Re.replaceAuctionPrice(n.adUrl,n.cpm),r&&r.clickThrough){var i=r.clickThrough;n.ad=Re.replaceClickThrough(n.ad,i),n.adUrl=Re.replaceClickThrough(n.adUrl,i)}$.addWinningBid(n),Ue.emit(Le,n);var o=n.height,a=n.width,s=n.ad,c=n.mediaType,u=n.adUrl,d=n.renderer,l=document.createComment("Creative ".concat(n.creativeId," served by ").concat(n.bidder," Prebid.js Header Bidding"));if(Re.insertElement(l,e,"body"),h(d))b(d,n);else if(e===document&&!Re.inIframe()||"video"===c){var f="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");et({reason:We,message:f,bid:n,id:t})}else if(s){if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var p=/firefox\/([\d\.]+)/,g=navigator.userAgent.toLowerCase().match(p)[1];g&&parseInt(g,10)<67&&e.open("text/html","replace")}e.write(s),e.close(),Je(e,a,o),Re.callBurl(n)}else if(u){var m=Re.createInvisibleIframe();m.height=o,m.width=a,m.style.display="inline",m.style.overflow="hidden",m.src=u,Re.insertElement(m,e,"body"),Je(e,a,o),Re.callBurl(n)}else{var v="Error trying to write ad. No ad for bid response id: ".concat(t);et({reason:Ge,message:v,bid:n,id:t})}}else{var y="Error trying to write ad. Cannot find ad by given id : ".concat(t);et({reason:Ke,message:y,id:t})}}catch(e){var w="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);et({reason:He,message:w,id:t})}else{var S="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");et({reason:$e,message:S,id:t})}},Te.removeAdUnit=function(e){Re.logInfo("Invoking pbjs.removeAdUnit",arguments),e?(Re.isArray(e)?e:[e]).forEach((function(e){for(var t=Te.adUnits.length-1;t>=0;t--)Te.adUnits[t].code===e&&Te.adUnits.splice(t,1)})):Te.adUnits=[]},Te.requestBids=(0,_.z3)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,r=e.timeout,n=e.adUnits,i=e.adUnitCodes,o=e.labels,a=e.auctionId;Ue.emit(qe);var s=r||l.vc.getConfig("bidderTimeout");if(n=n||Te.adUnits,Re.logInfo("Invoking pbjs.requestBids",arguments),n=Ze(n),i&&i.length?n=n.filter((function(e){return J()(i,e.code)})):i=n&&n.map((function(e){return e.code})),n.forEach((function(e){var t=Object.keys(e.mediaTypes||{banner:"banner"}),r=e.bids.map((function(e){return e.bidder})),n=De.bidderRegistry,i=l.vc.getConfig("s2sConfig"),o=i&&i.bidders,a=o?r.filter((function(e){return!J()(o,e)})):r;e.transactionId=Re.generateUUID(),a.forEach((function(r){var i=n[r],o=i&&i.getSpec&&i.getSpec(),a=o&&o.supportedMediaTypes||["banner"];t.some((function(e){return J()(a,e)}))?Ae.f.incrementBidderRequestsCounter(e.code,r):(Re.logWarn(Re.unsupportedBidderMessage(e,r)),e.bids=e.bids.filter((function(e){return e.bidder!==r})))})),Ae.f.incrementRequestsCounter(e.code)})),n&&0!==n.length){var c=$.createAuction({adUnits:n,adUnitCodes:i,callback:t,cbTimeout:s,labels:o,auctionId:a}),u=n.length;u>15&&Re.logInfo("Current auction ".concat(c.getAuctionId()," contains ").concat(u," adUnits."),n),i.forEach((function(e){return ge.setLatestAuctionForAdUnit(e,c.getAuctionId())})),c.callBids()}else if(Re.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){Re.logError("Error executing bidsBackHandler",null,e)}})),Te.requestBids.before((function(e,t){function r(e){for(var t;t=e.shift();)t()}r(xe.Ld),r(tt),e.call(this,t)}),49),Te.addAdUnits=function(e){Re.logInfo("Invoking pbjs.addAdUnits",arguments),Re.isArray(e)?Te.adUnits.push.apply(Te.adUnits,e):"object"===Pe(e)&&Te.adUnits.push(e),Ue.emit(Ne)},Te.onEvent=function(e,t,r){Re.logInfo("Invoking pbjs.onEvent",arguments),Re.isFn(t)?!r||Ye[e].call(null,r)?Ue.on(e,t,r):Re.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):Re.logError('The event handler provided is not a function and was not set on event "'+e+'".')},Te.offEvent=function(e,t,r){Re.logInfo("Invoking pbjs.offEvent",arguments),r&&!Ye[e].call(null,r)||Ue.off(e,t,r)},Te.getEvents=function(){return Re.logInfo("Invoking pbjs.getEvents"),Ue.getEvents()},Te.registerBidAdapter=function(e,t){Re.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{De.registerBidAdapter(e(),t)}catch(e){Re.logError("Error registering bidder adapter : "+e.message)}},Te.registerAnalyticsAdapter=function(e){Re.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{De.registerAnalyticsAdapter(e)}catch(e){Re.logError("Error registering analytics adapter : "+e.message)}},Te.createBid=function(e){return Re.logInfo("Invoking pbjs.createBid",arguments),(0,ke.m)(e)};var tt=[],rt=(0,_.z3)("async",(function(e){e&&!Re.isEmpty(e)?(Re.logInfo("Invoking pbjs.enableAnalytics for: ",e),De.enableAnalytics(e)):Re.logError("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function nt(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){Re.logError("Error processing command :","prebid.js",e)}}))}Te.enableAnalytics=function(e){tt.push(rt.bind(this,e))},Te.aliasBidder=function(e,t,r){Re.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?De.aliasBidAdapter(e,t,r):Re.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},Te.getAllWinningBids=function(){return $.getAllWinningBids()},Te.getAllPrebidWinningBids=function(){return $.getBidsReceived().filter((function(e){return e.status===Ce.BID_STATUS.BID_TARGETING_SET}))},Te.getHighestCpmBids=function(e){return ge.getWinningBids(e)},Te.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=$.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?t=ge.getWinningBids(e.adUnitCode):e.adId?t=$.getBidsReceived().filter((function(t){return t.adId===e.adId})):Re.logWarn("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=Ce.BID_STATUS.RENDERED)},Te.getConfig=l.vc.getConfig,Te.setConfig=l.vc.setConfig,Te.setBidderConfig=l.vc.setBidderConfig,Te.que.push((function(){window.addEventListener("message",Z,!1)})),Te.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){Re.logError("Error processing command :",e.message,e.stack)}else Re.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},Te.que.push=Te.cmd.push,Te.processQueue=function(){_.z3.ready(),nt(Te.que),nt(Te.cmd)};var it=Te,ot=r(9524),at="adform",st={code:at,gvlid:50,supportedMediaTypes:[I.Mk,I.pX],isBidRequestValid:function(e){return!!e.params.mid},buildRequests:function(e,t){var r,n,o,a,s,c,u,d,f,p,g=l.vc.getConfig("currency.adServerCurrency"),m=function(e){if(i.isArray(e)&&e.length>0){var t=function(e){return e.reduce((function(e,t){var r=t.source;return e[r]=e[r]||{},t.uids.forEach((function(t){var n=t.id+"";e[r][n]=e[r][n]||[],e[r][n].push(t.atype)})),e}),{})}(e);return encodeURIComponent(btoa(JSON.stringify(t)))}}(i.deepAccess(e,"0.userIdAsEids")),v=[],y=[["adxDomain","adx.adform.net"],["fd",1],["url",null],["tid",null]],h=JSON.parse(JSON.stringify(e)),b=h[0]&&h[0].bidder||at;for(r=0,n=h.length;r<n;r++){for("net"!==(s=h[r]).params.priceType&&"net"!==s.params.pt||(f="net"),o=0,a=y.length;o<a;o++)(u=s[c=y[o][0]]||s.params[c])&&(s[c]=s.params[c]=null,y[o][1]=u);(d=s.params).transactionId=s.transactionId,d.rcur=d.rcur||g,v.push(_(d))}v.unshift("https://"+y[0][1]+"/adx/?rp=4"),f=f||"gross",v.push("pt="+f),v.push("stid="+e[0].auctionId);var w=i.deepAccess(t,"gdprConsent.gdprApplies"),S=i.deepAccess(t,"gdprConsent.consentString");for(void 0!==w&&(p={gdpr:w,gdpr_consent:S},v.push("gdpr="+(1&w)),v.push("gdpr_consent="+S)),t&&t.uspConsent&&v.push("us_privacy="+t.uspConsent),m&&v.push("eids="+m),r=1,n=y.length;r<n;r++)c=y[r][0],(u=y[r][1])&&v.push(c+"="+encodeURIComponent(u));return{method:"GET",url:v.join("&"),bids:e,netRevenue:f,bidder:b,gdpr:p};function _(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&e[t]&&r.push(t,"=",e[t],"&");return encodeURIComponent(btoa(r.join("").slice(0,-1)))}},interpretResponse:function(e,t){for(var r,n,o,a,s={banner:1,vast_content:1,vast_url:1},c=[],u=t.bids,d=e.body,l=0;l<d.length;l++)a="banner"===(n=d[l]).response?I.Mk:I.pX,o=u[l],s[n.response]&&(p(n,i.getAdUnitSizes(o))||a===I.pX)&&(r={requestId:o.bidId,cpm:n.win_bid,width:n.width,height:n.height,creativeId:o.bidId,dealId:n.deal_id,currency:n.win_cur,netRevenue:"gross"!==t.netRevenue,ttl:360,ad:n.banner,bidderCode:t.bidder,transactionId:o.transactionId,vastUrl:n.vast_url,vastXml:n.vast_content,mediaType:a},o.renderer||a!==I.pX||"outstream"!==i.deepAccess(o,"mediaTypes.video.context")||(r.renderer=y.install({id:o.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js"}),r.renderer.setRender(f)),t.gdpr&&(r.gdpr=t.gdpr.gdpr,r.gdpr_consent=t.gdpr.gdpr_consent),c.push(r));return c;function f(e){e.renderer.push((function(){window.Adform.renderOutstream(e)}))}function p(e,t){for(var r=0,n=t.length;r<n;r++)if(e.width==t[r][0]&&e.height==t[r][1])return!0;return!1}}};(0,ot.dX)(st);var ct,ut,dt,lt={code:"adyoulike",aliases:["ayl"],isBidRequestValid:function(e){var t=vt(mt(e));return!!(e.params&&e.params.placement&&t.width&&t.height)},buildRequests:function(e,t){var r={Version:"1.0",Bids:e.reduce((function(e,t){var r=mt(t),n=vt(r);return e[t.bidId]={},e[t.bidId].PlacementID=t.params.placement,e[t.bidId].TransactionID=t.transactionId,e[t.bidId].Width=n.width,e[t.bidId].Height=n.height,e[t.bidId].AvailableSizes=r.join(","),e}),{}),PageRefreshed:ft()};t&&t.gdprConsent&&(r.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:"boolean"==typeof t.gdprConsent.gdprApplies?t.gdprConsent.gdprApplies:null}),t&&t.uspConsent&&(r.uspConsent=t.uspConsent);var n=JSON.stringify(r);return{method:"POST",url:pt(e,t),data:n,options:{withCredentials:!0}}},interpretResponse:function(e,t){var r=[],n={};try{n=JSON.parse(t.data).Bids}catch(e){}return e.body.forEach((function(e){var t=function(e,t){if(e&&e.Ad)return t&&t[e.BidID]&&(e.Width&&"0"!==e.Width||(e.Width=t[e.BidID].Width),e.Height&&"0"!==e.Height||(e.Height=t[e.BidID].Height)),{requestId:e.BidID,width:e.Width,height:e.Height,ad:e.Ad,ttl:3600,creativeId:e.CreativeID,cpm:e.Price,netRevenue:!0,currency:"USD"}}(e,n);t&&r.push(t)})),r}};function ft(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}function pt(e,t){var r=function(e){var t=m()(e,(function(e){return e.params.DC}));return t?"-"+t.params.DC:""}(e);return i.buildUrl({protocol:"https",host:"".concat("hb-api").concat(r,".omnitagjs.com"),pathname:"/hb-api/prebid/v1",search:gt(t)})}function gt(e){var t={};if(e){var r=e.refererInfo;r&&(t.RefererUrl=encodeURIComponent(r.referer),r.numIframes>0&&(t.SafeFrame=!0))}var n=function(){var e;if(window.self!==window.top)try{e=window.top.document.head.querySelector('link[rel="canonical"][href]')}catch(e){}else e=document.head.querySelector('link[rel="canonical"][href]');return e?e.href:""}();n&&(t.CanonicalUrl=encodeURIComponent(n));var i=l.vc.getConfig("publisherDomain");return i&&(t.PublisherDomain=encodeURIComponent(i)),t}function mt(e){var t=e.sizes;return e.mediaTypes&&e.mediaTypes.banner&&(t=e.mediaTypes.banner.sizes),i.parseSizesInput(t)}function vt(e){var t={},r=e[0];if("string"!=typeof r)return t;var n=r.toUpperCase().split("X"),i=parseInt(n[0],10);i&&(t.width=i);var o=parseInt(n[1],10);return o&&(t.height=o),t}function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ht(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(0,ot.dX)(lt);var bt="aol",wt="verizon",St="onemobile",_t="onedisplay",Ot="display-get",It="mobile-get",Et="mobile-post",At="iframe",kt="img",xt="image",Pt=Dt(ct||(ct=ht(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""])),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),jt=Dt(ut||(ut=ht(["","/bidRequest?"])),"host"),Tt=Dt(dt||(dt=ht(["dcn=","&pos=","&cmd=bid",""])),"dcn","pos","dynamicParams"),Ct={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},Rt="https";function Dt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[n.length-1]||{},s=[e[0]];return r.forEach((function(t,r){var o=i.isInteger(t)?n[t]:a[t];s.push(o,e[r+1])})),s.join("")}}function Ut(e){return e===bt||e===wt||e===St}function Mt(e){if(Ut(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var t=e.params.imp[0];return t.id&&t.tagid&&(t.banner&&t.banner.w&&t.banner.h||t.video&&t.video.mimes&&t.video.minduration&&t.video.maxduration)}}function Bt(e){return Ut(e.bidder)&&e.params.dcn&&e.params.pos}function Nt(e){return((t=e.bidder)===bt||t===wt||t===_t)&&e.params.placement&&e.params.network;var t}var Lt={code:bt,gvlid:25,aliases:[St,_t,wt],supportedMediaTypes:[I.Mk],isBidRequestValid:function(e){return Nt(e)||function(e){return Bt(e)||Mt(e)}(e)},buildRequests:function(e,t){var r=this,n={};return t&&(n.gdpr=t.gdprConsent,n.uspConsent=t.uspConsent),e.map((function(e){var t=function(e){return Bt(e)?It:Mt(e)?Et:Nt(e)?Ot:void 0}(e);if(t)return r.formatBidRequest(t,e,n)}))},interpretResponse:function(e,t){var r=e.body;if(r){var n=this._parseBidResponse(r,t);if(n)return n}else i.logError("Empty bid response",t.bidderCode,r)},getUserSyncs:function(e,t){var r=!i.isEmpty(t)&&t[0].body;return r&&r.ext&&r.ext.pixels?this.parsePixelItems(r.ext.pixels):[]},formatBidRequest:function(e,t,r){var n;switch(e){case Ot:n={url:this.buildMarketplaceUrl(t,r),method:"GET",ttl:60};break;case It:n={url:this.buildOneMobileGetUrl(t,r),method:"GET",ttl:3600};break;case Et:n={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,r),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return n.bidderCode=t.bidder,n.bidId=t.bidId,n.userSyncOn=t.params.userSyncOn,n},buildMarketplaceUrl:function(e,t){var r,n=e.params,o=n.server,a=n.region||"us";return Ct.hasOwnProperty(a)||(i.logWarn("Unknown region '".concat(a,"' for AOL bidder.")),a="us"),r=o||Ct[a],n.region=a,this.applyProtocol(Pt({host:r,network:n.network,placement:parseInt(n.placement),pageid:n.pageId||0,sizeid:n.sizeId||0,alias:n.alias||i.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(n,t)}))},buildOneMobileGetUrl:function(e,t){var r=e.params,n=r.dcn,i=r.pos,o=r.ext,a=this.buildOneMobileBaseUrl(e);if(n&&i){var s=this.formatOneMobileDynamicParams(o,t);a+=Tt({dcn:n,pos:i,dynamicParams:s})}return a},buildOneMobileBaseUrl:function(e){return this.applyProtocol(jt({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:0===e.indexOf("//")?"".concat(Rt,":").concat(e):"".concat(Rt,"://").concat(e)},formatMarketplaceDynamicParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};e.bidFloor&&(r.bidfloor=e.bidFloor),yt(r,this.formatKeyValues(e.keyValues)),yt(r,this.formatConsentData(t));var n="";return i._each(r,(function(e,t){n+="".concat(t,"=").concat(encodeURIComponent(e),";")})),n},formatOneMobileDynamicParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isSecureProtocol()&&(e.secure=1),yt(e,this.formatConsentData(t));var r="";return i._each(e,(function(e,t){r+="&".concat(t,"=").concat(encodeURIComponent(e))})),r},buildOpenRtbRequestData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(t)&&(i.deepSetValue(r,"regs.ext.gdpr",1),t.gdpr.consentString&&i.deepSetValue(r,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&i.deepSetValue(r,"regs.ext.us_privacy",t.uspConsent),r},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var t={};return i._each(e,(function(e,r){t["kv".concat(r)]=e})),t},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=1,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var t=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,n=[];if(e){var i=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);i&&i.forEach((function(e){var i=e.match(t)[0],o=e.match(r)[2];i&&i&&n.push({type:i===kt?xt:At,url:o})}))}return n},_parseBidResponse:function(e,t){var r,n;try{r=e.seatbid[0].bid[0]}catch(e){return}if(r.ext&&r.ext.encp)n=r.ext.encp;else if(null===(n=r.price)||isNaN(n))return void i.logError("Invalid price in bid response",bt,r);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:r.adm,cpm:n,width:r.w,height:r.h,creativeId:r.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:r.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:Ut,isSecureProtocol:function(){return"https:"===document.location.protocol}};function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vt(e){return function(e){if(Array.isArray(e))return Ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ot.dX)(Lt);var Wt="appnexus",Gt="https://ib.adnxs.com/ut/v3/prebid",Ht=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],Kt=["age","externalUid","segments","gender","dnt","language"],$t=["geo","device_id"],Yt=["enabled","dongle","member_id","debug_timeout"],Jt={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},Xt={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},Zt=/\/\/cdn\.adnxs\.com\/v/,Qt=(0,xe.df)(32,Wt),er={code:Wt,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[I.Mk,I.pX,I.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r=e.map(ir),n=m()(e,ar),o={};!0===l.vc.getConfig("coppa")&&(o={coppa:!0}),n&&Object.keys(n.params.user).filter((function(e){return J()(Kt,e)})).forEach((function(e){var t=i.convertCamelToUnderscore(e);o[t]=n.params.user[e]}));var a,s=m()(e,cr);s&&s.params&&s.params.app&&(a={},Object.keys(s.params.app).filter((function(e){return J()($t,e)})).forEach((function(e){return a[e]=s.params.app[e]})));var c,u=m()(e,ur);u&&u.params&&s.params.app&&s.params.app.id&&(c={appid:u.params.app.id});var d={},f={},p=Qt.getCookie("apn_prebid_debug")||null;if(p)try{d=JSON.parse(p)}catch(e){i.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var g=m()(e,dr);g&&g.debug&&(d=g.debug)}d&&d.enabled&&Object.keys(d).filter((function(e){return J()(Yt,e)})).forEach((function(e){f[e]=d[e]}));var v=m()(e,sr),y=v?parseInt(v.params.member,10):0,h=e[0].schain,b=m()(e,fr),w={tags:Vt(r),user:o,sdk:{source:"pbjs",version:"4.13.0-mol-1"},schain:h};if(b&&(w.iab_support={omidpn:"Appnexus",omidpv:"4.13.0-mol-1"}),y>0&&(w.member_id=y),s&&(w.device=a),u&&(w.app=c),l.vc.getConfig("adpod.brandCategoryExclusion")&&(w.brand_category_uniqueness=!0),f.enabled&&(w.debug=f,i.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(f,null,4))),t&&t.gdprConsent&&(w.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(w.us_privacy=t.uspConsent),t&&t.refererInfo){var S={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")};w.referrer_detection=S}m()(e,lr)&&e.filter(lr).forEach((function(e){var t=function(e,t){var r=t.mediaTypes.video,n=r.durationRangeSec,o=r.requireExactDuration,a=function(e){var t=e.adPodDurationSec,r=e.durationRangeSec,n=e.requireExactDuration,o=i.getMinValueFromArray(r),a=Math.floor(t/o);return n?Math.max(a,r.length):a}(t.mediaTypes.video),s=i.getMaxValueFromArray(n),c=e.filter((function(e){return e.uuid===t.bidId})),u=i.fill.apply(i,Vt(c).concat([a]));if(o){var d=Math.ceil(a/n.length),l=i.chunk(u,d);n.forEach((function(e,t){l[t].map((function(t){pr(t,"minduration",e),pr(t,"maxduration",e)}))}))}else u.map((function(e){return pr(e,"maxduration",s)}));return u}(r,e),n=w.tags.filter((function(t){return t.uuid!==e.bidId}));w.tags=[].concat(Vt(n),Vt(t))}));var _=i.deepAccess(e[0],"userId.criteoId");if(_){var O=[];O.push({provider:"criteo",user_id:_}),w.tpuids=O}var I=[],E=i.deepAccess(e[0],"userId.tdid");return E&&I.push({source:"adserver.org",id:E,rti_partner:"TDID"}),I.length&&(w.eids=I),r[0].publisher_id&&(w.publisher_id=r[0].publisher_id),function(e,t){var r=[],n={};if(function(e){var t=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==i.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1"))),t}(t)||(n={withCredentials:!1}),e.tags.length>15){var o=i.deepClone(e);i.chunk(e.tags,15).forEach((function(e){o.tags=e;var i=JSON.stringify(o);r.push({method:"POST",url:Gt,data:i,bidderRequest:t,options:n})}))}else{var a=JSON.stringify(e);r={method:"POST",url:Gt,data:a,bidderRequest:t,options:n}}return r}(w,t)},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var o=[];if(!e||e.error){var a="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(a+=": ".concat(e.error)),i.logError(a),o}if(e.tags&&e.tags.forEach((function(e){var t,a=(t=e)&&t.ads&&t.ads.length&&m()(t.ads,(function(e){return e.rtb}));if(a&&0!==a.cpm&&J()(r.supportedMediaTypes,a.ad_type)){var s=function(e,t,r){var n=i.getBidRequest(e.uuid,[r]),o={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.advertiser_id&&(o.meta=zt({},o.meta,{advertiserId:t.advertiser_id})),t.rtb.video)switch(zt(o,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),i.deepAccess(n,"mediaTypes.video.context")){case I.Oh:var a=(0,ot.Q1)(n.bidder,t.brand_category_id);o.meta=zt({},o.meta,{primaryCatId:a});var s=t.deal_priority;o.video={context:I.Oh,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:s},o.vastUrl=t.rtb.video.asset_url;break;case O.gZ:if(o.adResponse=e,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=t.rtb.video.content,t.renderer_url){var c=m()(r.bids,(function(t){return t.bidId===e.uuid})),u=i.deepAccess(c,"renderer.options");o.renderer=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=y.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{n.setRender(gr)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return i.logMessage("AppNexus outstream video impression event")},loaded:function(){return i.logMessage("AppNexus outstream video loaded event")},ended:function(){i.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}(o.adUnitCode,t,u)}break;case O.LD:o.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[I.B5]){var d=t.rtb[I.B5],l=t.viewability.config.replace("src=","data-src="),f=d.javascript_trackers;null==f?f=l:i.isStr(f)?f=[f,l]:f.push(l),o[I.B5]={title:d.title,body:d.desc,body2:d.desc2,cta:d.ctatext,rating:d.rating,sponsoredBy:d.sponsored,privacyLink:d.privacy_link,address:d.address,downloads:d.downloads,likes:d.likes,phone:d.phone,price:d.price,salePrice:d.saleprice,clickUrl:d.link.url,displayUrl:d.displayurl,clickTrackers:d.link.click_trackers,impressionTrackers:d.impression_trackers,javascriptTrackers:f},d.main_img&&(o.native.image={url:d.main_img.url,height:d.main_img.height,width:d.main_img.width}),d.icon&&(o.native.icon={url:d.icon.url,height:d.icon.height,width:d.icon.width})}else{zt(o,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers){var p=t.rtb.trackers[0].impression_urls[0],g=i.createTrackPixelHtml(p);o.ad+=g}}catch(e){i.logError("Error appending tracking pixel",e)}}return o}(e,a,n);s.mediaType=function(e){var t=e.ad_type;return t===I.pX?I.pX:t===I.B5?I.B5:I.Mk}(a),o.push(s)}})),e.debug&&e.debug.debug_info){var s="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;s=s.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),i.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),i.logMessage(s)}return o},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t){return e=i.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:i.transformBidderParamKeywords,publisherId:"number"},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,tr(e.keywords)&&e.keywords.forEach(rr),Object.keys(e).forEach((function(t){var r=i.convertCamelToUnderscore(t);r!==t&&(e[r]=e[t],delete e[t])}))),e},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(i.isStr(e)&&nr(e))t=e;else if(i.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];nr(n)&&(t=n)}return t}(e.native.javascriptTrackers);if(t)for(var r="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,n=function(e){var t=e.indexOf('src="')+5,r=e.indexOf('"',t);return e.substring(t,r)}(t),o=n.replace("dom_id=%native_dom_id%",r),a=document.getElementsByTagName("iframe"),s=!1,c=0;c<a.length&&!s;c++){var u=a[c];try{var d=u.contentDocument||u.contentWindow.document;if(d)for(var l=d.getElementsByTagName("script"),f=0;f<l.length&&!s;f++){var p=l[f];p.getAttribute("data-src")==n&&(p.setAttribute("src",o),p.setAttribute("data-src",""),p.removeAttribute&&p.removeAttribute("data-src"),s=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function tr(e){return!!(i.isArray(e)&&e.length>0)}function rr(e){tr(e.value)&&""===e.value[0]&&delete e.value}function nr(e){var t=e.match(Zt),r=null!=t&&t.length>=1,n=e.match("trk.js"),i=null!=n&&n.length>=1;return e.startsWith("<script")&&i&&r}function ir(e){var t,r,n={};if(n.sizes=or(e.sizes),n.primary_size=n.sizes[0],n.ad_types=[],n.uuid=e.bidId,e.params.placementId?n.id=parseInt(e.params.placementId,10):n.code=e.params.invCode,n.allow_smaller_sizes=e.params.allowSmallerSizes||!1,n.use_pmt_rule=e.params.usePaymentRule||!1,n.prebid=!0,n.disable_psa=!0,e.params.reserve&&(n.reserve=e.params.reserve),e.params.position&&(n.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(n.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(n.private_sizes=or(e.params.privateSizes)),e.params.supplyType&&(n.supply_type=e.params.supplyType),e.params.pubClick&&(n.pubclick=e.params.pubClick),e.params.extInvCode&&(n.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(n.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(n.external_imp_id=e.params.externalImpId),!i.isEmpty(e.params.keywords)){var o=i.transformBidderParamKeywords(e.params.keywords);o.length>0&&o.forEach(rr),n.keywords=o}if((e.mediaType===I.B5||i.deepAccess(e,"mediaTypes.".concat(I.B5)))&&(n.ad_types.push(I.B5),0===n.sizes.length&&(n.sizes=or([1,1])),e.nativeParams)){var a=(t=e.nativeParams,r={},Object.keys(t).forEach((function(e){var n=Xt[e]&&Xt[e].serverName||Xt[e]||e,o=Xt[e]&&Xt[e].requiredParams;if(r[n]=zt({},o,t[e]),(n===Xt.image.serverName||n===Xt.icon.serverName)&&r[n].sizes){var a=r[n].sizes;(i.isArrayOfNums(a)||i.isArray(a)&&a.length>0&&a.every((function(e){return i.isArrayOfNums(e)})))&&(r[n].sizes=or(r[n].sizes))}n===Xt.privacyLink&&(r.privacy_supported=!0)})),r);n[I.B5]={layouts:[a]}}var s=i.deepAccess(e,"mediaTypes.".concat(I.pX)),c=i.deepAccess(e,"mediaTypes.video.context");n.hb_source=s&&"adpod"===c?7:1,(e.mediaType===I.pX||s)&&n.ad_types.push(I.pX),(e.mediaType===I.pX||s&&"outstream"!==c)&&(n.require_asset_url=!0),e.params.video&&(n.video={},Object.keys(e.params.video).filter((function(e){return J()(Ht,e)})).forEach((function(t){switch(t){case"context":case"playback_method":var r=e.params.video[t];r=i.isArray(r)?r[0]:r,n.video[t]=Jt[t][r];break;case"frameworks":break;default:n.video[t]=e.params.video[t]}})),e.params.video.frameworks&&i.isArray(e.params.video.frameworks)&&(n.video_frameworks=e.params.video.frameworks)),e.renderer&&(n.video=zt({},n.video,{custom_renderer_present:!0})),e.params.frameworks&&i.isArray(e.params.frameworks)&&(n.banner_frameworks=e.params.frameworks);var u=m()($.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return u&&u.mediaTypes&&u.mediaTypes.banner&&n.ad_types.push(I.Mk),0===n.ad_types.length&&delete n.ad_types,n}function or(e){var t=[],r={};if(i.isArray(e)&&2===e.length&&!i.isArray(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===qt(e))for(var n=0;n<e.length;n++){var o=e[n];(r={}).width=parseInt(o[0],10),r.height=parseInt(o[1],10),t.push(r)}return t}function ar(e){return!!e.params.user}function sr(e){return!!parseInt(e.params.member,10)}function cr(e){if(e.params)return!!e.params.app}function ur(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function dr(e){return!!e.debug}function lr(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===I.Oh}function fr(e){var t=!1,r=e.params,n=e.params.video;return r.frameworks&&i.isArray(r.frameworks)&&(t=J()(e.params.frameworks,6)),!t&&n&&n.frameworks&&i.isArray(n.frameworks)&&(t=J()(e.params.video.frameworks,6)),t}function pr(e,t,r){i.isEmpty(e.video)&&(e.video={}),e.video[t]=r}function gr(e){var t,r;t=e.adUnitCode,(r=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&r[0].style.setProperty("display","none"),e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},mr.bind(null,e))}))}function mr(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}(0,ot.dX)(er);var vr=r(7785),yr=r(5195),hr=r.n(yr);function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wr,Sr,_r,Or,Ir,Er={value:!0,definedInConfig:!1},Ar=0,kr=!1,xr={iab:function(e,t,r){function n(n,o){i.logInfo("Received a response from CMP",n),o?!1!==n.gdprApplies&&"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||e(n,r):t("CMP unable to register callback function.  Please check CMP setup.",r)}var o=function(){var t={};function n(){t.getConsentData&&t.getVendorConsents&&(i.logInfo("Received all requested responses from CMP",t),e(t,r))}return{consentDataCallback:function(e){t.getConsentData=e,n()},vendorConsentsCallback:function(e){t.getVendorConsents=e,n()}}}(),a={},s=function(){for(var e,t,r=window;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){"function"==typeof r.__tcfapi?(Ar=2,t=r.__tcfapi):(Ar=1,t=r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){Ar=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){Ar=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t}}(),c=s.cmpFrame,u=s.cmpFunction;if(!c)return t("CMP not found.",r);function d(e,t){var n=r.adUnits,o=1,a=1;if(Array.isArray(n)&&n.length>0){var s=i.getAdUnitSizes(n[0]);o=s[0][0],a=s[0][1]}window.$sf.ext.register(o,a,(function(r,n){if("cmpReturn"===r){var i="getConsentData"===e?n.vendorConsentData:n.vendorConsents;t(i)}})),window.$sf.ext.cmp(e)}function l(e,t,r){var n=2===Ar?"__tcfapi":"__cmp";window[n]=function(e,r,i){var o,s,c,u=Math.random()+"",d="".concat(n,"Call"),l=(c={command:e,parameter:r,callId:u},(s=d)in(o={})?Object.defineProperty(o,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[s]=c,o);1!==Ar&&(l[d].version=Ar),a[u]=i,t.postMessage(l,"*")},window.addEventListener("message",(function(e){var t="".concat(n,"Return"),r="string"==typeof e.data&&hr()(e.data,t)?JSON.parse(e.data):e.data;if(r[t]&&r[t].callId){var i=r[t];void 0!==a[i.callId]&&a[i.callId](i.returnValue,i.success)}}),!1),window[n](e,void 0,r)}i.isFn(u)?(i.logInfo("Detected CMP API is directly accessible, calling it now..."),1===Ar?(u("getConsentData",null,o.consentDataCallback),u("getVendorConsents",null,o.vendorConsentsCallback)):2===Ar&&u("addEventListener",Ar,n)):1===Ar&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(i.logInfo("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),d("getConsentData",o.consentDataCallback),d("getVendorConsents",o.vendorConsentsCallback)):(i.logInfo("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===Ar?(l("getConsentData",c,o.consentDataCallback),l("getVendorConsents",c,o.vendorConsentsCallback)):2===Ar&&l("addEventListener",c,n))},static:function(e,t,r){e(Or,r)}};function Pr(e,t){var r={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return Ir?(i.logInfo("User consent information already known.  Pulling internally stored information..."),Dr(null,r)):J()(Object.keys(xr),wr)?(xr[wr].call(this,jr,Cr,r),void(r.haveExited||(0===Sr?jr(void 0,r):r.timer=setTimeout(Tr.bind(null,r),Sr)))):(i.logWarn("CMP framework (".concat(wr,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),r.nextFn.apply(r.context,r.args))}function jr(e,t){"static"===wr&&2==(Ar=e.getConsentData?1:e.getTCData?2:0)&&(e=e.getTCData);var r=1===Ar?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||i.isStr(e.getConsentData.consentData)&&i.isPlainObject(e.getVendorConsents)&&Object.keys(e.getVendorConsents).length>1))}:2===Ar?function(){var t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:_r,r=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||i.isStr(r)))}:null;Er.definedInConfig&&2===Ar?i.logWarn("'allowAuctionWithoutConsent' ignored for TCF 2"):Er.definedInConfig||1!==Ar||i.logInfo("'allowAuctionWithoutConsent' using system default: (".concat(!0,").")),i.isFn(r)?r(e)?Cr("CMP returned unexpected value during lookup process.",t,e):(clearTimeout(t.timer),Rr(e),Dr(null,t)):Cr("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",t,e)}function Tr(e){Cr("CMP workflow exceeded timeout threshold.",e)}function Cr(e,t,r){clearTimeout(t.timer),Er.value&&1===Ar&&Rr(void 0),Dr(e,t,r)}function Rr(e){1===Ar?Ir={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:_r}:(Ir={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:_r},e&&e.addtlConsent&&i.isStr(e.addtlConsent)&&(Ir.addtlConsent=e.addtlConsent)),Ir.apiVersion=Ar,vr.rp.setConsentData(Ir)}function Dr(e,t,r){if(!1===t.haveExited){t.haveExited=!0;var n=t.context,o=t.args,a=t.nextFn;e?Er.value&&1===Ar?(i.logWarn(e+" 'allowAuctionWithoutConsent' activated.",r),a.apply(n,o)):(i.logError(e+" Canceling auction as per consentManagement config.",r),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():i.logError("Error executing bidsBackHandler")):a.apply(n,o)}}function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}l.vc.getConfig("consentManagement",(function(e){return function(e){(e=e.gdpr||e.usp?e.gdpr:e)&&"object"===br(e)?(i.isStr(e.cmpApi)?wr=e.cmpApi:(wr="iab",i.logInfo("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),i.isNumber(e.timeout)?Sr=e.timeout:(Sr=1e4,i.logInfo("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"boolean"==typeof e.allowAuctionWithoutConsent&&(Er.value=e.allowAuctionWithoutConsent,Er.definedInConfig=!0),_r=!0===e.defaultGdprScope,i.logInfo("consentManagement module has been activated..."),"static"===wr&&(i.isPlainObject(e.consentData)?(Or=e.consentData,Sr=0):i.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),kr||pbjs.requestBids.before(Pr,50),kr=!0):i.logWarn("consentManagement config not defined, exiting consent manager")}(e.consentManagement)}));var Mr,Br,Nr,Lr,qr=!1,zr={iab:function(e,t,r){var n,i=(n={},{consentDataCallback:function(i,o){o&&i.uspString&&(n.usPrivacy=i.uspString),n.usPrivacy?e(n,r):t("Unable to get USP consent string.",r)}}),o={};try{window.__uspapi("getUSPData",1,i.consentDataCallback)}catch(e){for(var a,s=window;!a;){try{s.frames.__uspapiLocator&&(a=s)}catch(e){}if(s===window.top)break;s=s.parent}if(!a)return t("USP CMP not found.",r);!function(e,t,r){function n(e){var t=e&&e.data&&e.data.__uspapiReturn;t&&t.callId&&void 0!==o[t.callId]&&(o[t.callId](t.returnValue,t.success),delete o[t.callId])}window.__uspapi=function(e,r,n){var i=Math.random()+"",a={__uspapiCall:{command:e,version:r,callId:i}};o[i]=n,t.postMessage(a,"*")},window.addEventListener("message",n,!1),window.__uspapi("getUSPData",1,(function(e,t){window.removeEventListener("message",n,!1),r(e,t)}))}(0,a,i.consentDataCallback)}},static:function(e,t,r){e(Nr,r)}};function Vr(e,t){var r={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};if(!zr[Mr])return i.logWarn("USP framework (".concat(Mr,") is not a supported framework. Aborting consentManagement module and resuming auction.")),r.nextFn.apply(r.context,r.args);zr[Mr].call(this,Fr,Gr,r),r.haveExited||(0===Br?Fr(void 0,r):r.timer=setTimeout(Wr.bind(null,r),Br))}function Fr(e,t){e&&e.usPrivacy?(clearTimeout(t.timer),function(e){e&&e.usPrivacy&&(Lr=e.usPrivacy,vr.nX.setConsentData(Lr))}(e),Hr(null,t)):Gr("USPAPI returned unexpected value during lookup process.",t,e)}function Wr(e){Gr("USPAPI workflow exceeded timeout threshold.",e)}function Gr(e,t,r){clearTimeout(t.timer),Hr(e,t,r)}function Hr(e,t,r){if(!1===t.haveExited){t.haveExited=!0;var n=t.context,o=t.args,a=t.nextFn;e&&i.logWarn(e+" Resuming auction without consent data as per consentManagement config.",r),a.apply(n,o)}}function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}l.vc.getConfig("consentManagement",(function(e){return function(e){(e=e.usp)&&"object"===Ur(e)?(i.isStr(e.cmpApi)?Mr=e.cmpApi:(Mr="iab",i.logInfo("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat("iab",")."))),i.isNumber(e.timeout)?Br=e.timeout:(Br=50,i.logInfo("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),i.logInfo("USPAPI consentManagement module has been activated..."),"static"===Mr&&(i.isPlainObject(e.consentData)&&i.isPlainObject(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(Nr={usPrivacy:e.consentData.getUSPData.uspString}),Br=0):i.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),qr||pbjs.requestBids.before(Vr,50),qr=!0):i.logWarn("consentManagement.usp config not defined, exiting usp consent manager")}(e.consentManagement)})),r(3455);var $r,Yr="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",Jr=[],Xr={},Zr=!1,Qr=!0,en="USD",tn=!1,rn={},nn={};function on(e){$r?(i.logWarn(e),i.logWarn("Currency failed loading rates, falling back to currency.defaultRates")):i.logError(e)}function an(e){Xr={},tn=!0,i.logInfo("Installing addBidResponse decorator for currency module",arguments),n().convertCurrency=function(e,t,r){return parseFloat(e)*dn(t,r)},(0,_.v5)("addBidResponse").before(cn,100),Qr&&(Qr=!1,(0,d.h)(e,{success:function(e){try{rn=JSON.parse(e),i.logInfo("currencyRates set to "+JSON.stringify(rn)),Zr=!0,un()}catch(t){on("Failed to parse currencyRates response: "+e)}},error:on}))}function sn(){i.logInfo("Uninstalling addBidResponse decorator for currency module",arguments),(0,_.v5)("addBidResponse").getHooks({hook:cn}).remove(),delete n().convertCurrency,en="USD",Xr={},tn=!1,Zr=!1,Qr=!0,rn={},nn={}}function cn(e,t,r){if(!r)return e.call(this,t);var n=r.bidderCode||r.bidder;if(nn[n]){var o=nn[n];r.currency&&o!==r.currency?i.logWarn("Currency default '".concat(n,": ").concat(o,"' ignored. adapter specified '").concat(r.currency,"'")):r.currency=o}if(r.currency||(i.logWarn('Currency not specified on bid.  Defaulted to "USD"'),r.currency="USD"),r.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*dn(this.currency,e)).toFixed(3)},r.currency===en)return e.call(this,t,r);Jr.push(function(e,t,r){return function(){var n=r[1];if(void 0!==n&&"currency"in n&&"cpm"in n){var o=n.currency;try{var a=dn(o);1!==a&&(n.cpm=(parseFloat(n.cpm)*a).toFixed(4),n.currency=en)}catch(e){i.logWarn("Returning NO_BID, getCurrencyConversion threw error: ",e),r[1]=(0,ke.m)(c.STATUS.NO_BID,{bidder:n.bidderCode||n.bidder,bidId:n.requestId})}}return e.apply(t,r)}}(e,this,[t,r])),tn&&!Zr||un()}function un(){for(;Jr.length>0;)Jr.shift()()}function dn(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en,n=null,o="".concat(e,"->").concat(r);if(o in Xr)n=Xr[o],i.logMessage("Using conversionCache value "+n+" for "+o);else if(!1===tn){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");n=1}else if(e===r)n=1;else if(e in rn.conversions){if(!(r in(t=rn.conversions[e])))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");n=t[r],i.logInfo("getCurrencyConversion using direct "+e+" to "+r+" conversionRate "+n)}else if(r in rn.conversions){if(!(e in(t=rn.conversions[r])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");n=ln(1/t[e],4),i.logInfo("getCurrencyConversion using reciprocal "+e+" to "+r+" conversionRate "+n)}else{var a=Object.keys(rn.conversions)[0];if(!(e in rn.conversions[a]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var s=1/rn.conversions[a][e];if(!(r in rn.conversions[a]))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");var c=rn.conversions[a][r];n=ln(s*c,4),i.logInfo("getCurrencyConversion using intermediate "+e+" thru "+a+" to "+r+" conversionRate "+n)}return o in Xr||(i.logMessage("Adding conversionCache value "+n+" for "+o),Xr[o]=n),n}function ln(e,t){for(var r=1,n=0;n<t;n++)r+="0";return Math.round(e*r)/r}function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gn(){return(gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}l.vc.getConfig("currency",(function(e){return function(e){var t=Yr;if("object"===Kr(e.rates)&&(rn.conversions=e.rates,Zr=!0,Qr=!1),"object"===Kr(e.defaultRates)&&($r=e.defaultRates,rn.conversions=$r,Zr=!0),"string"==typeof e.adServerCurrency){i.logInfo("enabling currency support",arguments),en=e.adServerCurrency,e.conversionRateFile&&(i.logInfo("currency using override conversionRateFile:",e.conversionRateFile),t=e.conversionRateFile);var r=t.indexOf("$$TODAY$$");if(-1!==r){var n=new Date,o="".concat(n.getMonth()+1),a="".concat(n.getDate());o.length<2&&(o="0".concat(o)),a.length<2&&(a="0".concat(a));var s="".concat(n.getFullYear()).concat(o).concat(a);t="".concat(t.substring(0,r)).concat(s).concat(t.substring(r+9,t.length))}an(t)}else i.logInfo("disabling currency support"),sn();"object"===Kr(e.bidderCurrencyDefault)&&(nn=e.bidderCurrencyDefault)}(e.currency)}));var mn=!1,vn={code:"grid",supportedMediaTypes:[I.Mk,I.pX],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,t){if(!e.length)return null;var r=null,n=null,o=null,a=null,s=null,c=null,u=null,d=t||{},f=d.bidderRequestId,p=d.auctionId,g=d.gdprConsent,m=d.uspConsent,v=d.timeout,y=d.refererInfo,h=y?encodeURIComponent(y.referer):"",b=[],w={};e.forEach((function(e){f||(f=e.bidderRequestId),p||(p=e.auctionId),a||(a=e.schain),s||(s=e.userId);var t=e.params,c=t.uid,u=t.keywords,d=t.bidFloor,l=e.mediaTypes,g=e.bidId,m=e.adUnitCode,v=e.jwTargeting;w[g]=e,r||i.isEmpty(u)||(r=i.transformBidderParamKeywords(u)),v&&(!n&&v.segments&&(n=v.segments),!o&&v.content&&(o=v.content));var y={id:g,tagid:c.toString(),ext:{divid:m},bidfloor:yn(l||{},d,e)};if(!l||l[I.Mk]){var h=function(e,t){var r=t.sizes||e.sizes;if(r&&r.length){var n=r.map((function(e){return i.parseGPTSingleSizeArrayToRtbSize(e)})),o=i.parseGPTSingleSizeArrayToRtbSize(r[0]);return n.length&&(o.format=n),o}}(e,l?l[I.Mk]:{});h&&(y.banner=h)}if(l&&l[I.pX]){var S=function(e,t){var r=t.playerSize,n=t.mimes,o=t.durationRangeSec,a=(r||e.sizes||[])[0];if(a){var s=i.parseGPTSingleSizeArrayToRtbSize(a);return n&&(s.mimes=n),o&&2===o.length&&(s.minduration=o[0],s.maxduration=o[1]),s}}(e,l[I.pX]);S&&(y.video=S)}(y.banner||y.video)&&b.push(y)}));var S={tid:p,ext:{wrapper:"Prebid_js",wrapper_version:"4.13.0-mol-1"}};a&&(S.ext.schain=a);var _=l.vc.getConfig("bidderTimeout")||v,O=v?Math.min(_,v):_,E={id:f,site:{page:h},tmax:O,source:S,imp:b};o&&(E.site.content=o),n&&n.length&&(c={data:[{name:"iow_labs_pub_data",segment:n.map((function(e){return{name:"jwpseg",value:e}}))}]}),g&&g.consentString&&(u={consent:g.consentString}),s&&(s.tdid&&((u=u||{}).eids=u.eids||[],u.eids.push({source:"adserver.org",uids:[{id:s.tdid,ext:{rtiPartner:"TDID"}}]})),s.id5id&&s.id5id.uid&&((u=u||{}).eids=u.eids||[],u.eids.push({source:"id5-sync.com",uids:[{id:s.id5id.uid}],ext:s.id5id.ext})),s.lipb&&s.lipb.lipbid&&((u=u||{}).eids=u.eids||[],u.eids.push({source:"liveintent.com",uids:[{id:s.lipb.lipbid}]})),s.idl_env&&((u=u||{}).eids=u.eids||[],u.eids.push({source:"identityLink",uids:[{id:s.idl_env}]})),s.criteoId&&((u=u||{}).eids=u.eids||[],u.eids.push({source:"criteo.com",uids:[{id:s.criteoId}]})),s.digitrustid&&s.digitrustid.data&&s.digitrustid.data.id&&((u=u||{}).digitrust=gn({},s.digitrustid.data))),u&&Object.keys(u).length&&((c=c||{}).ext=u),c&&(E.user=c);var A=i.transformBidderParamKeywords({user:i.deepAccess(l.vc.getConfig("fpd.user"),"keywords")||null,context:i.deepAccess(l.vc.getConfig("fpd.context"),"keywords")||null});return A.length&&(r=(r||[]).concat(A)),r&&r.length>0&&r.forEach(hn),r&&(E.ext={keywords:r}),g&&g.gdprApplies&&(E.regs={ext:{gdpr:g.gdprApplies?1:0}}),m&&(E.regs||(E.regs={ext:{}}),E.regs.ext.us_privacy=m),{method:"POST",url:"https://grid.bidswitch.net/hbjson",data:JSON.stringify(E),newFormat:!0,bidsMap:w}},interpretResponse:function(e,t){e=e&&e.body;var r,n=[];return e?e.seatbid&&!e.seatbid.length&&(r="Response has empty seatbid array"):r="Response is empty",!r&&e.seatbid&&e.seatbid.forEach((function(e){!function(e,t,r){if(e){var n;if(e.auid||(n="Bid from response has no auid parameter - "+JSON.stringify(e)),e.adm){var o=t.bidsMap[e.impid];if(o){var a={requestId:o.bidId,bidderCode:vn.code,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:!1,ttl:360,dealId:e.dealid};"video"===e.content_type?(a.vastXml=e.adm,a.mediaType=I.pX,a.adResponse={content:a.vastXml},o.renderer||o.mediaTypes&&o.mediaTypes.video&&"outstream"!==o.mediaTypes.video.context||(a.renderer=function(e,t){var r=y.install({id:t.id,url:t.url,loaded:!1});try{r.setRender(bn)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return r}(0,{id:o.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"}))):(a.ad=e.adm,a.mediaType=I.Mk),r.push(a)}}else n="Bid from response has no adm parameter - "+JSON.stringify(e);n&&i.logError(n)}}(function(e){return e?e.bid?e.bid[0]||i.logError("Array of bid objects is empty"):i.logError("Seatbid from response has no array of bid objects - "+JSON.stringify(e)):i.logError("Seatbid array from response has empty item"),e&&e.bid&&e.bid[0]}(e),t,n)})),r&&i.logError(r),n},getUserSyncs:function(e,t,r,n){if(!mn&&e.pixelEnabled){var i="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?i+="&gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):i+="&gdpr_consent=".concat(r.consentString)),n&&(i+="&us_privacy=".concat(n)),mn=!0,{type:"image",url:"https://x.bidswitch.net/sync?ssp=themediagrid"+i}}}};function yn(e,t,r){var n=e.video?"video":"banner",i=t||0;if("function"==typeof r.getFloor){var o=r.getFloor({currency:"USD",mediaType:n,size:r.sizes.map((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return pn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pn(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{w:n[0],h:n[1]}}))});"object"!==fn(o)||"USD"!==o.currency||isNaN(parseFloat(o.floor))||(i=Math.max(i,parseFloat(o.floor)))}return i}function hn(e){var t;t=e.value,i.isArray(t)&&t.length>0&&""===e.value[0]&&delete e.value}function bn(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})}))}function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ot.dX)(vn);var On=function(e,t){return e.find(t)},In=function(e,t){return e.includes(t)},En=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],An=["age","external_uid","segments","gender","dnt","language"],kn={body:"description",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by"},xn={code:"groupm",aliases:["groupm","xaxis"],supportedMediaTypes:[I.Mk,I.pX,I.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r,n=e.map(jn),i=On(e,Cn);i&&(r={},Object.keys(i.params.user).filter((function(e){return In(An,e)})).forEach((function(e){r[e]=i.params.user[e]})));var o,a=On(e,Rn),s=a?parseInt(a.params.member,10):0,c={tags:(o=n,function(e){if(Array.isArray(e))return _n(e)}(o)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return _n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_n(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),user:r,sdk:{source:"pbjs",version:"4.13.0-mol-1"}};return s>0&&(c.member_id=s),t&&t.gdprConsent&&(c.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),{method:"POST",url:"//ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(c),bidderRequest:t}},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var o=[];if(!e||e.error){var a="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(a+=": ".concat(e.error)),i.logError(a),o}return e.tags&&e.tags.forEach((function(e){var t,a=(t=e)&&t.ads&&t.ads.length&&On(t.ads,(function(e){return e.rtb}));if(a&&0!==a.cpm&&In(r.supportedMediaTypes,a.ad_type)){var s=function(e,t,r){var n={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:99999999,currency:"USD",netRevenue:!0,ttl:300,appnexus:{buyerMemberId:t.buyer_member_id}};if(t.rtb.video){if(Sn(n,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastUrl:t.rtb.video.asset_url,vastImpUrl:t.notify_url,ttl:3600}),t.renderer_url){var o=i.deepAccess(r.bids[0],"renderer.options");Sn(n,{adResponse:e,renderer:Pn(n.adUnitCode,t,o)}),n.adResponse.ad=n.adResponse.ads[0],n.adResponse.ad.video=n.adResponse.ad.rtb.video}}else if(t.rtb[I.B5]){var a=t.rtb[I.B5];n[I.B5]={title:a.title,body:a.desc,cta:a.ctatext,sponsoredBy:a.sponsored,clickUrl:a.link.url,clickTrackers:a.link.click_trackers,impressionTrackers:a.impression_trackers,javascriptTrackers:a.javascript_trackers},a.main_img&&(n.native.image={url:a.main_img.url,height:a.main_img.height,width:a.main_img.width}),a.icon&&(n.native.icon={url:a.icon.url,height:a.icon.height,width:a.icon.width})}else{Sn(n,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{var s=t.rtb.trackers[0].impression_urls[0],c=i.createTrackPixelHtml(s);n.ad+=c}catch(e){i.logError("Error appending tracking pixel",e)}}return n}(e,a,n);s.mediaType=function(e){var t=e.ad_type;return t===I.pX?I.pX:t===I.B5?I.B5:I.Mk}(a),o.push(s)}})),o},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}};function Pn(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=y.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1});try{n.setRender(Dn)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return i.logMessage("GroupM outstream video impression event")},loaded:function(){return i.logMessage("GroupM outstream video loaded event")},ended:function(){i.logMessage("GroupM outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}function jn(e){var t,r,n={};if(n.sizes=Tn(e.sizes),n.primary_size=n.sizes[0],n.ad_types=[],n.uuid=e.bidId,e.params.placementId?n.id=parseInt(e.params.placementId,10):n.code=e.params.invCode,n.allow_smaller_sizes=e.params.allowSmallerSizes||!1,n.use_pmt_rule=e.params.usePaymentRule||!1,n.prebid=!0,n.disable_psa=!0,e.params.reserve&&(n.reserve=e.params.reserve),e.params.position&&(n.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(n.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(n.private_sizes=Tn(e.params.privateSizes)),e.params.supplyType&&(n.supply_type=e.params.supplyType),e.params.pubClick&&(n.pubclick=e.params.pubClick),e.params.extInvCode&&(n.ext_inv_code=e.params.extInvCode),e.params.externalImpId&&(n.external_imp_id=e.params.externalImpId),i.isEmpty(e.params.keywords)||(n.keywords=i.transformBidderParamKeywords(e.params.keywords)),(e.mediaType===I.B5||i.deepAccess(e,"mediaTypes.".concat(I.B5)))&&(n.ad_types.push(I.B5),e.nativeParams)){var o=(t=e.nativeParams,r={},Object.keys(t).forEach((function(e){var n=kn[e]&&kn[e].serverName||kn[e]||e,i=kn[e]&&kn[e].requiredParams;r[n]=Sn({},i,t[e]);var o=kn[e]&&kn[e].minimumParams;if(i&&o){var a=Object.keys(t[e]),s=Object.keys(i);0===a.filter((function(e){return!In(s,e)})).length&&(r[n]=Sn({},r[n],o))}})),r);n[I.B5]={layouts:[o]}}var a=i.deepAccess(e,"mediaTypes.".concat(I.pX)),s=i.deepAccess(e,"mediaTypes.video.context");return(e.mediaType===I.pX||a)&&n.ad_types.push(I.pX),(e.mediaType===I.pX||a&&"outstream"!==s)&&(n.require_asset_url=!0),e.params.video&&(n.video={},Object.keys(e.params.video).filter((function(e){return In(En,e)})).forEach((function(t){n.video[t]=e.params.video[t]}))),(i.isEmpty(e.mediaType)&&i.isEmpty(e.mediaTypes)||e.mediaType===I.Mk||e.mediaTypes&&e.mediaTypes[I.Mk])&&n.ad_types.push(I.Mk),n}function Tn(e){var t=[],r={};if(i.isArray(e)&&2===e.length&&!i.isArray(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===wn(e))for(var n=0;n<e.length;n++){var o=e[n];(r={}).width=parseInt(o[0],10),r.height=parseInt(o[1],10),t.push(r)}return t}function Cn(e){return!!e.params.user}function Rn(e){return!!parseInt(e.params.member,10)}function Dn(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Un.bind(null,e))}))}function Un(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}(0,ot.dX)(xn);var Mn=r(2435),Bn=(0,xe.df)(131,"id5Id"),Nn={name:"id5Id",gvlid:131,decode:function(e){var t,r=0;if(e&&"string"==typeof e.ID5ID)t=e.ID5ID;else{if(!e||"string"!=typeof e.universal_uid)return;t=e.universal_uid,r=e.link_type||r}return{id5id:{uid:t,ext:{linkType:r}}}},getId:function(e,t,r){var n=e&&e.params||{};if(Ln(n)){var o=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,a=o?t.consentString:"",s="https://id5-sync.com/g/v2/".concat(n.partner,".json?gdpr_consent=").concat(a,"&gdpr=").concat(o),c=(0,Mn.n)(),u=r&&r.signature?r.signature:"",l=r&&r.ID5ID?r.ID5ID:"",f={partner:n.partner,"1puid":l,nbPage:Vn(n),o:"pbjs",pd:n.pd||"",rf:c.referer,s:u,top:c.reachedTop?1:0,u:c.stack[0]||window.location.href,v:"4.13.0-mol-1"};return{callback:function(e){var t={success:function(t){var r;if(t)try{r=JSON.parse(t),function(e){zn(e,0)}(n)}catch(e){i.logError(e)}e(r)},error:function(t){i.logError("id5Id: ID fetch encountered an error",t),e()}};(0,d.h)(s,t,JSON.stringify(f),{method:"POST",withCredentials:!0})}}}},extendId:function(e,t){return Vn(e&&e.params||{}),t}};function Ln(e){return!(!e||"number"!=typeof e.partner)||(i.logError("User ID - ID5 submodule requires partner to be defined as a number"),!1)}function qn(e){return Ln(e)?"".concat("id5id.1st","_").concat(e.partner,"_nb"):void 0}function zn(e,t){Bn.setCookie(qn(e),t,(2592e6,new Date(Date.now()+2592e6).toUTCString()),"Lax")}function Vn(e){var t=function(e){var t=Bn.getCookie(qn(e));return t?parseInt(t):0}(e)+1;return zn(e,t),t}(0,_.Bx)("userId",Nn);var Fn={version:"7.1.0",code:"improvedigital",gvlid:253,aliases:["id"],supportedMediaTypes:[I.Mk,I.B5,I.pX],isBidRequestValid:function(e){return!!(e&&e.params&&(e.params.placementId||e.params.placementKey&&e.params.publisherId))},buildRequests:function(e,t){var r=e.map((function(e){return function(e){var t=i.getBidIdParameter("adUnitCode",e)||null,r=i.getBidIdParameter("placementId",e.params)||null,n=null,o=null;null===r&&(n=i.getBidIdParameter("publisherId",e.params)||null,o=i.getBidIdParameter("placementKey",e.params)||null);var a=i.getBidIdParameter("keyValues",e.params)||null,s=i.getBidIdParameter("size",e.params)||null,c=i.getBidIdParameter("bidId",e),u=i.getBidIdParameter("transactionId",e),d=l.vc.getConfig("currency.adServerCurrency"),f=i.getBidIdParameter("bidFloor",e.params),p=i.getBidIdParameter("bidFloorCur",e.params),g={};return Wn(e)&&(g.adTypes=[I.pX]),r?g.placementId=r:(n&&(g.publisherId=n),o&&(g.placementKey=o)),a&&(g.keyValues=a),!0===l.vc.getConfig("improvedigital.usePrebidSizes")&&!Wn(e)&&!Gn(e)&&e.sizes&&e.sizes.length>0?g.format=e.sizes:s&&s.w&&s.h&&(g.size={},g.size.h=s.h,g.size.w=s.w),c&&(g.id=c),t&&(g.adUnitId=t),u&&(g.transactionId=u),d&&(g.currency=d),f&&(g.bidFloor=f,g.bidFloorCur=p?p.toUpperCase():"USD"),g}(e)})),n=new $n("hb"),o={singleRequestMode:!0===l.vc.getConfig("improvedigital.singleRequest"),returnObjType:n.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT,libVersion:this.version};t&&t.gdprConsent&&t.gdprConsent.consentString&&(o.gdpr=t.gdprConsent.consentString),t&&t.uspConsent&&(o.usPrivacy=t.uspConsent),t&&t.refererInfo&&t.refererInfo.referer&&(o.referrer=t.refererInfo.referer),o.schain=e[0].schain;var a=n.createRequest(r,o);return a.errors&&a.errors.length>0&&i.logError("ID WARNING 0x01"),a.requests.forEach((function(e){return e.bidderRequest=t})),a.requests},interpretResponse:function(e,t){var r=t.bidderRequest,n=[];return i._each(e.body.bid,(function(e){if(e.price&&null!==e.price&&!e.hasOwnProperty("errorCode")&&(e.adm||e.native)){var t=i.getBidRequest(e.id,[r]),o={};if(e.native)o.native=(c=e.native,u={},c&&i.isArray(c.assets)?(c.assets.forEach((function(e){if(e.title)u.title=e.title.text;else if(e.data)switch(e.data.type){case 1:u.sponsoredBy=e.data.value;break;case 2:u.body=e.data.value;break;case 3:u.rating=e.data.value;break;case 4:u.likes=e.data.value;break;case 5:u.downloads=e.data.value;break;case 6:u.price=e.data.value;break;case 7:u.salePrice=e.data.value;break;case 8:u.phone=e.data.value;break;case 9:u.address=e.data.value;break;case 10:u.body2=e.data.value;break;case 11:u.displayUrl=e.data.value;break;case 12:u.cta=e.data.value}else if(e.img)switch(e.img.type){case 2:u.icon={url:e.img.url,width:e.img.w,height:e.img.h};break;case 3:u.image={url:e.img.url,width:e.img.w,height:e.img.h}}})),c.eventtrackers?(u.impressionTrackers=[],c.eventtrackers.forEach((function(e){if(1===e.event)switch(e.method){case 1:u.impressionTrackers.push(e.url);break;case 2:u.javascriptTrackers='<script src="'.concat(e.url,'"><\/script>')}}))):(u.impressionTrackers=c.imptrackers||[],u.javascriptTrackers=c.jstracker),c.link&&(u.clickUrl=c.link.url,u.clickTrackers=c.link.clicktrackers),c.privacy&&(u.privacyLink=c.privacy),u):null),o.ortbNative=e.native,e.nurl&&o.native.impressionTrackers.unshift(e.nurl),o.mediaType=I.B5;else if(e.ad_type&&"video"===e.ad_type)o.vastXml=e.adm,o.mediaType=I.pX,Gn(t)&&(o.adResponse={content:o.vastXml,height:e.h,width:e.w},o.renderer=function(e){var t=y.install({id:e.adUnitCode,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,config:i.deepAccess(e,"renderer.options"),adUnitCode:e.adUnitCode});try{t.setRender(Hn)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return t}(t));else{var a="";e.nurl&&e.nurl.length>0&&(a='<img src="'.concat(e.nurl,'" width="0" height="0" style="display:none">')),o.ad="".concat(a,"<script>").concat(e.adm,"<\/script>"),o.mediaType=I.Mk}if(o.adId=e.id,o.cpm=parseFloat(e.price),o.creativeId=e.crid,o.currency=e.currency?e.currency.toUpperCase():"USD",i.isNumber(e.lid)&&e.buying_type&&"rtb"!==e.buying_type)o.dealId=e.lid;else if(Array.isArray(e.lid)&&Array.isArray(e.buying_type)&&e.lid.length===e.buying_type.length){var s=!1;e.buying_type.forEach((function(t,r){s||t&&"rtb"!==t&&(s=!0,o.dealId=e.lid[r])}))}o.height=e.h,o.netRevenue=!!e.isNet&&e.isNet,o.requestId=e.id,o.ttl=300,o.width=e.w,o.width&&o.height||(o.width=1,o.height=1),n.push(o)}var c,u})),n},getUserSyncs:function(e,t){if(e.pixelEnabled){var r=[];return t.forEach((function(e){e.body.bid.forEach((function(e){i.isArray(e.sync)&&e.sync.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}))}))})),r.map((function(e){return{type:"image",url:e}}))}return[]}};function Wn(e){var t=Object.keys(i.deepAccess(e,"mediaTypes",{})),r=i.deepAccess(e,"mediaTypes.video"),n=i.deepAccess(e,"mediaTypes.video.context");return"video"===e.mediaType||1===t.length&&r&&"outstream"!==n}function Gn(e){var t=i.deepAccess(e,"mediaTypes.video"),r=i.deepAccess(e,"mediaTypes.video.context");return t&&"outstream"===r}function Hn(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Kn.bind(null,e))}))}function Kn(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function $n(e){this.CONSTANTS={AD_SERVER_BASE_URL:"ice.360yield.com",END_POINT:e||"hb",AD_SERVER_URL_PARAM:"jsonp=",CLIENT_VERSION:"JS-6.3.0",MAX_URL_LENGTH:2083,ERROR_CODES:{MISSING_PLACEMENT_PARAMS:2,LIB_VERSION_MISSING:3},RETURN_OBJ_TYPE:{DEFAULT:0,URL_PARAMS_SPLIT:1}},this.getErrorReturn=function(e){return{idMappings:{},requests:{},errorCode:e}},this.createRequest=function(e,t,r){if(!t.libVersion)return this.getErrorReturn(this.CONSTANTS.ERROR_CODES.LIB_VERSION_MISSING);t.returnObjType=t.returnObjType||this.CONSTANTS.RETURN_OBJ_TYPE.DEFAULT,t.adServerBaseUrl="https://"+(t.adServerBaseUrl||this.CONSTANTS.AD_SERVER_BASE_URL);var n,o=[];if(i.isArray(e))for(var a=0;a<e.length;a++)n=this.createImpressionObject(e[a]),o.push(n);else n=this.createImpressionObject(e),o.push(n);var s=!0;t.returnObjType===this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT&&(s=!1);var c={requests:[]};s&&(c.idMappings=[]);for(var u=null,d="".concat(t.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM),l={bid_request:this.createBasicBidRequestObject(t,r)},f=0;f<o.length;f++)if((n=o[f]).errorCode)(u=u||[]).push({errorCode:n.errorCode,adUnitId:n.adUnitId});else{s&&c.idMappings.push({adUnitId:n.adUnitId,id:n.impressionObject.id}),l.bid_request.imp=l.bid_request.imp||[],l.bid_request.imp.push(n.impressionObject);var p=!1;(d+encodeURIComponent(JSON.stringify(l))).length>this.CONSTANTS.MAX_URL_LENGTH&&(p=!0,l.bid_request.imp.length>1&&(l.bid_request.imp.pop(),s&&c.idMappings.pop(),f--)),!p&&t.singleRequestMode&&f!==o.length-1||(c.requests.push(this.formatRequest(t,l)),l={bid_request:this.createBasicBidRequestObject(t,r)})}return u&&(c.errors=u),c},this.formatRequest=function(e,t){switch(e.returnObjType){case this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT:return{method:"GET",url:"".concat(e.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT),data:"".concat(this.CONSTANTS.AD_SERVER_URL_PARAM).concat(encodeURIComponent(JSON.stringify(t)))};default:return{url:"".concat(e.adServerBaseUrl,"/")+"".concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM)+encodeURIComponent(JSON.stringify(t))}}},this.createBasicBidRequestObject=function(e,t){var r={secure:1};if(e.requestId?r.id=e.requestId:r.id=i.getUniqueIdentifierStr(),e.domain&&(r.domain=e.domain),e.page&&(r.page=e.page),e.ref&&(r.ref=e.ref),e.callback&&(r.callback=e.callback),e.libVersion&&(r.version=e.libVersion+"-"+this.CONSTANTS.CLIENT_VERSION),e.referrer&&(r.referrer=e.referrer),(e.gdpr||0===e.gdpr)&&(r.gdpr=e.gdpr),e.usPrivacy&&(r.us_privacy=e.usPrivacy),e.schain&&(r.schain=e.schain),t)for(var n in t)r[n]=t[n];return r},this.createImpressionObject=function(e){var t={},r={};if(t.impressionObject=r,e.id?r.id=e.id:r.id=i.getUniqueIdentifierStr(),e.adTypes&&(r.ad_types=e.adTypes),e.adUnitId&&(t.adUnitId=e.adUnitId),e.currency&&(r.currency=e.currency.toUpperCase()),e.bidFloor&&(r.bidfloor=e.bidFloor),e.bidFloorCur&&(r.bidfloorcur=e.bidFloorCur.toUpperCase()),e.placementId&&(r.pid=e.placementId),e.publisherId&&(r.pubid=e.publisherId),e.placementKey&&(r.pkey=e.placementKey),e.transactionId&&(r.tid=e.transactionId),e.keyValues)for(var n in e.keyValues)for(var o=0;o<e.keyValues[n].length;o++)r.kvw=r.kvw||{},r.kvw[n]=r.kvw[n]||[],r.kvw[n].push(e.keyValues[n][o]);if(r.banner={},e.size&&e.size.w&&e.size.h&&(r.banner.w=e.size.w,r.banner.h=e.size.h),e.format&&i.isArray(e.format)){var a=e.format.filter((function(e){return 2===e.length&&i.isInteger(e[0])&&i.isInteger(e[1])&&e[0]>=0&&e[1]>=0})).map((function(e){return{w:e[0],h:e[1]}}));a.length>0&&(r.banner.format=a)}return r.pid||r.pubid||r.pkey||r.banner&&r.banner.w&&r.banner.h||(t.impressionObject=null,t.errorCode=this.CONSTANTS.ERROR_CODES.MISSING_PLACEMENT_PARAMS),t}}function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}(0,ot.dX)(Fn);var Jn={inskin:{BASE_URI:"https://mfad.inskinad.com/api/v2"}},Xn={code:"inskin",isBidRequestValid:function(e){return!(!e.params.networkId||!e.params.siteId)},buildRequests:function(e,t){var r,n={method:"POST",url:"",data:"",bidRequest:[]};if(e.length<1)return n;var i=Yn({placements:[],time:Date.now(),user:{},url:t.refererInfo.referer,enableBotFiltering:!0,includePricingData:!0,parallel:!0},e[0].params);i.keywords=i.keywords||[];var o=[];if(t&&t.gdprConsent&&(i.consent={gdprVendorId:150,gdprConsentString:t.gdprConsent.consentString,gdprConsentRequired:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies},2===t.gdprConsent.apiVersion)){var a=t.gdprConsent.vendorData;a&&(a.purposeOneTreatment&&(i.keywords.push("cst-nodisclosure"),o.push("nodisclosure")),[{id:1,kw:"nocookies"},{id:2,kw:"nocontext"},{id:3,kw:"nodmp"},{id:4,kw:"nodata"},{id:7,kw:"noclicks"},{id:9,kw:"noresearch"}].map((function(e){(function(e,t){var r={150:{id:150,name:"Inskin Media LTD",purposes:{1:1,3:3,4:4,9:9,10:10},legIntPurposes:{2:2,7:7},flexiblePurposes:{2:2,7:7},specialPurposes:{1:1,2:2},features:{3:3},specialFeatures:{},policyUrl:"http://www.inskinmedia.com/privacy-policy.html"}},n=150;try{if(r[n].purposes[e]&&!r[n].flexiblePurposes[e]&&t.purpose.consents[e]&&t.vendor.consents[n])return!0}catch(e){}try{if(r[n].legIntPurposes[e]&&!r[n].flexiblePurposes[e]&&t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[n])return!0}catch(e){}try{if(r[n].legIntPurposes[e]&&r[n].flexiblePurposes[e]&&(t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[n]||t.purpose.consents[e]&&t.vendor.consents[n]))return!0}catch(e){}try{if(r[n].legIntPurposes[e]&&r[n].flexiblePurposes[e]&&t.purpose.consents[e]&&t.vendor.consents[n])return!0}catch(e){}try{if(r[n].purposes[e]&&r[n].flexiblePurposes[e]&&(t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[n]||t.purpose.consents[e]&&t.vendor.consents[n]))return!0}catch(e){}try{if(r[n].purposes[e]&&r[n].flexiblePurposes[e]&&t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[n])return!0}catch(e){}return!1})(e.id,a)||(i.keywords.push("cst-"+e.kw),o.push(e.kw))})))}return e.map((function(e){var t=Jn[e.bidder];r=t.BASE_URI;var n,a,s=Yn({divName:e.bidId,adTypes:e.adTypes||(n=e.sizes,a=[],n.forEach((function(e){var t=Zn.indexOf(e[0]+"x"+e[1]);t>=0&&a.push(t)})),a),eventIds:[40,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295]},e.params);s.adTypes.push(5,9,163,2163,3006),o.length&&(s.properties=s.properties||{},s.properties.restrictions=o),s.networkId&&s.siteId&&i.placements.push(s)})),n.data=JSON.stringify(i),n.bidRequest=e,n.url=r,n},interpretResponse:function(e,t){var r,n,i,o,a=[],s={};n=t.bidRequest,e=(e||{}).body;for(var c=0;c<n.length;c++)if(r={},i=(o=n[c]).bidId,s[i]=o,e){var u=e.decisions&&e.decisions[i],d=u&&u.contents&&u.contents[0]&&u.contents[0].data,l=d&&d.customData&&d.customData.pubCPM,f=u&&u.pricing&&u.pricing.clearPrice,p=l||f;u&&p&&(u.impressionUrl+="&property:pubcpm="+p,o.price=p,r.requestId=i,r.cpm=p,r.width=u.width,r.height=u.height,r.ad=Qn(i,u),r.currency="USD",r.creativeId=u.adId,r.ttl=360,r.netRevenue=!0,a.push(r))}return a.length&&window.addEventListener("message",(function(t){if(t.data&&"ism-bid"===t.data.from&&e.decisions&&e.decisions[t.data.bidId]){var r="ism_tag_"+Math.floor(1e17*Math.random());window[r]={plr_AdSlot:t.source.frameElement,bidId:t.data.bidId,bidPrice:s[t.data.bidId].price,serverResponse:e};var n=document.createElement("script");n.src="https://cdn.inskinad.com/isfe/publishercode/"+s[t.data.bidId].params.siteId+"/default.js?autoload&id="+r,document.getElementsByTagName("head")[0].appendChild(n)}})),a},getUserSyncs:function(e){var t=[];return e.pixelEnabled&&(t.push({type:"image",url:"https://e.serverbid.com/udb/9969/match?redir=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fpool%2Fset%2Fi.gif%3FpoolId%3D9969%26poolKey%3D"}),t.push({type:"image",url:"https://ssum.casalemedia.com/usermatchredir?s=185638&cb=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fsync%2Fi.gif%3FpartnerId%3D1%26userId%3D"})),e.iframeEnabled&&t.push({type:"iframe",url:"https://ssum-sec.casalemedia.com/usermatch?s=184665&cb=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fsync%2Fi.gif%3FpartnerId%3D1%26userId%3D"}),t}},Zn=[null,"120x90","120x90","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250"];function Qn(e,t){return"<script>window.top.postMessage({from: 'ism-bid', bidId: '"+e+"'}, '*');<\/script>"+i.createTrackPixelHtml(t.impressionUrl)}Zn[77]="970x90",Zn[123]="970x250",Zn[43]="300x600",(0,ot.dX)(Xn);var ei=r(2320),ti=r.n(ei);function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ni=[I.Mk,I.pX],ii={JPY:1};function oi(e){var t=si(e);return t.banner={},t.banner.w=e.params.size[0],t.banner.h=e.params.size[1],t.banner.topframe=i.inIframe()?0:1,t}function ai(e){var t=si(e);t.video=i.deepClone(e.params.video),t.video.w=e.params.size[0],t.video.h=e.params.size[1];var r=i.deepAccess(e,"mediaTypes.video.context");return r&&("instream"===r?t.video.placement=1:"outstream"===r?t.video.placement=4:i.logWarn("ix bidder params: video context '".concat(r,"' is not supported"))),t}function si(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function ci(e,t,r){var n={};return ii.hasOwnProperty(t)?n.cpm=e.price/ii[t]:n.cpm=e.price/100,n.requestId=e.impid,n.dealId=i.deepAccess(e,"ext.dealid"),n.netRevenue=!0,n.currency=t,n.creativeId=e.hasOwnProperty("crid")?e.crid:"-",i.deepAccess(e,"ext.vasturl")?(n.vastUrl=e.ext.vasturl,n.width=r.video.w,n.height=r.video.h,n.mediaType=I.pX,n.ttl=3600):(n.ad=e.adm,n.width=e.w,n.height=e.h,n.mediaType=I.Mk,n.ttl=300),n.meta={},n.meta.networkId=i.deepAccess(e,"ext.dspid"),n.meta.brandId=i.deepAccess(e,"ext.advbrandid"),n.meta.brandName=i.deepAccess(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(n.meta.advertiserDomains=e.adomain),n}function ui(e){return Array.isArray(e)&&2===e.length&&ti()(e[0])&&ti()(e[1])}function di(e,t){if(ui(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function li(e,t){if(e)return m()(t,(function(t){return t.id===e}))}function fi(e,t,r,n){var o=[],a={},s=e[0].userId;if(s&&"object"===ri(s)&&s.idl_env&&function(e,t,r,n,o,a){r?(t.LiveRampIp=1,e.push({source:"liveramp.com",uids:[{id:r,ext:{rtiPartner:"idl"}}]})):i.logWarn("Tried to add a user ID from Prebid, the ID received was null")}(o,a,s.idl_env),window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var c=window.headertag.getIdentityInfo();if(c&&"object"===ri(c))for(var u in c)if(c.hasOwnProperty(u)&&!a.hasOwnProperty(u)){var d=c[u];!d.responsePending&&d.data&&"object"===ri(d.data)&&Object.keys(d.data).length&&o.push(d.data)}}var f={};if(f.id=e[0].bidderRequestId,f.imp=r,f.site={},f.ext={},f.ext.source="prebid",e[0].schain&&(f.source={ext:{schain:e[0].schain}}),o.length>0&&(f.user={},f.user.eids=o),document.referrer&&""!==document.referrer&&(f.site.ref=document.referrer),t){if(t.gdprConsent){var p=t.gdprConsent;p.hasOwnProperty("gdprApplies")&&(f.regs={ext:{gdpr:p.gdprApplies?1:0}}),p.hasOwnProperty("consentString")&&(f.user=f.user||{},f.user.ext={consent:p.consentString||""})}t.uspConsent&&i.deepSetValue(f,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(f.site.page=t.refererInfo.referer)}var g={},m=t&&t.bidderCode||"ix",v=l.vc.getConfig(m);if(v){if("object"===ri(v.firstPartyData)){var y=v.firstPartyData,h="?";for(var b in y)y.hasOwnProperty(b)&&(h+="".concat(encodeURIComponent(b),"=").concat(encodeURIComponent(y[b]),"&"));h=h.slice(0,-1),f.site.page+=h}"number"==typeof v.timeout&&(g.t=v.timeout)}return g.s=e[0].params.siteId,g.v=n,g.r=JSON.stringify(f),g.ac="j",g.sd=1,8.1===n&&(g.nf=1),{method:"GET",url:"https://htlb.casalemedia.com/cygnus",data:g}}function pi(e,t){for(var r=0;r<e.length;r++)if(t[0]==e[r][0]&&t[1]==e[r][1])return e.splice(r,1),!0;return!1}function gi(e,t,r){var n=e.transactionId;if(t.hasOwnProperty(n)){var o=[];t[n].hasOwnProperty("missingSizes")&&(o=t[n].missingSizes),pi(o,e.params.size),t[n].missingSizes=o}else if(i.deepAccess(e,"mediaTypes.banner.sizes")){var a=i.deepClone(e.mediaTypes.banner.sizes);pi(a,e.params.size);var s={missingSizes:a,impression:r};t[n]=s}}function mi(e,t){var r=i.deepClone(e);return r.ext.sid="".concat(t[0],"x").concat(t[1]),r.banner.w=t[0],r.banner.h=t[1],r}var vi={code:"ix",gvlid:10,supportedMediaTypes:ni,isBidRequestValid:function(e){if(!ui(e.params.size))return i.logError("ix bidder params: bid size has invalid format."),!1;if(!di(e.sizes,e.params.size))return i.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!i.contains(ni,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!i.deepAccess(e,"mediaTypes.banner.sizes")&&!i.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return i.logError("ix bidder params: siteId must be string or number value."),!1;var t,r,n=e.params.hasOwnProperty("bidFloor"),o=e.params.hasOwnProperty("bidFloorCur");return!!(!n&&!o||n&&o&&(t=e.params.bidFloor,r=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/))))||(i.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var r=[],n=[],o=[],a=null,s={},c=0;c<e.length;c++)if(((a=e[c]).mediaType===I.pX||i.deepAccess(a,"mediaTypes.video"))&&(a.mediaType===I.pX||di(a.mediaTypes.video.playerSize,a.params.size)?o.push(ai(a)):i.logError("Bid size is not included in video playerSize")),a.mediaType===I.Mk||i.deepAccess(a,"mediaTypes.banner")||!a.mediaType&&!a.mediaTypes){var u=oi(a);n.push(u),gi(a,s,u)}for(var d in s)if(s.hasOwnProperty(d))for(var l=s[d].missingSizes,f=0;f<l.length;f++){var p=mi(s[d].impression,l[f]);n.push(p)}return n.length>0&&r.push(fi(e,t,n,7.2)),o.length>0&&r.push(fi(e,t,o,8.1)),r},interpretResponse:function(e,t){var r=[],n=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return r;for(var i=e.body,o=i.seatbid,a=0;a<o.length;a++)if(o[a].hasOwnProperty("bid"))for(var s=o[a].bid,c=JSON.parse(t.data.r),u=0;u<s.length;u++){var d=li(s[u].impid,c.imp);n=ci(s[u],i.cur,d),r.push(n)}return r},transformBidParams:function(e,t){return i.convertTypes({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};(0,ot.dX)(vi);var yi=[],hi={code:"justpremium",time:6e4,isBidRequestValid:function(e){return!!(e&&e.params&&e.params.zone)},buildRequests:function(e,t){var r,n,o=(r={},n={},e.forEach((function(e){var t=e.params,i=t.zone;if(1!==r[i]){var o=t.allow||t.formats||[],a=t.exclude||[];if(0===o.length&&0===a.length)return r[t.zone]=1;r[i]=r[i]||[[],{}],r[i][0]=function(e){for(var t=e.concat(),r=0;r<t.length;++r)for(var n=r+1;n<t.length;++n)t[r]===t[n]&&t.splice(n--,1);return t}(r[i][0].concat(o)),a.forEach((function(e){r[i][1][e]?r[i][1][e]++:r[i][1][e]=1})),n[i]=n[i]||0,a.length&&n[i]++}})),Object.keys(n).forEach((function(e){if(1!==r[e]){var t=[];Object.keys(r[e][1]).forEach((function(i){r[e][1][i]===n[e]&&t.push(i)})),r[e][1]=t}})),Object.keys(r).forEach((function(e){1!==r[e]&&r[e][1].length&&(r[e][0].forEach((function(t){var n=r[e][1].indexOf(t);n>-1&&r[e][1].splice(n,1)})),r[e][0].length=0),1===r[e]||r[e][0].length||r[e][1].length||(r[e]=1)})),r),a=function(){var e;try{e=window.top}catch(t){e=window}return{screenWidth:e.screen.width,screenHeight:e.screen.height,innerWidth:e.innerWidth,innerHeight:e.innerHeight}}(),s={zone:e.map((function(e){return parseInt(e.params.zone)})).filter((function(e,t,r){return r.indexOf(e)===t})),referer:t.refererInfo.referer,sw:a.screenWidth,sh:a.screenHeight,ww:a.innerWidth,wh:a.innerHeight,c:o,id:e[0].params.zone,sizes:{}};e.forEach((function(e){var t=e.params.zone,r=s.sizes;r[t]=r[t]||[],r[t].push.apply(r[t],e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes)})),(0,i.deepAccess)(e[0],"userId.pubcid")?s.pubcid=(0,i.deepAccess)(e[0],"userId.pubcid"):(0,i.deepAccess)(e[0],"crumbs.pubcid")&&(s.pubcid=(0,i.deepAccess)(e[0],"crumbs.pubcid")),s.uids=e[0].userId,t&&t.gdprConsent&&(s.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(s.us_privacy=t.uspConsent),s.version={prebid:"4.13.0-mol-1",jp_adapter:"1.7"};var c=JSON.stringify(s);return{method:"POST",url:"https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date,data:c,bids:e}},interpretResponse:function(e,t){var r=e.body,n=[];return t.bids.forEach((function(e){var t=function(e,t){var r=e.zone;if(t[r])for(var n=t[r].length;n--;)if(bi(e,t[r][n]))return t[r].splice(n,1).pop();return!1}(e.params,r.bid);if(t){var i=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&e.mediaTypes.banner.sizes.length&&e.mediaTypes.banner.sizes[0]||[],o={requestId:e.bidId,creativeId:t.id,width:i[0]||t.width,height:i[1]||t.height,ad:t.adm,cpm:t.price,netRevenue:!0,currency:t.currency||"USD",ttl:t.ttl||hi.time,format:t.format};n.push(o)}})),n},getUserSyncs:function(e,t,r,n){var i="https://pre.ads.justpremium.com/v/1.0/t/sync?_c=a"+Math.random().toString(36).substring(7)+Date.now();return r&&"boolean"==typeof r.gdprApplies&&r.gdprApplies&&r.consentString&&(i=i+"&consentString="+encodeURIComponent(r.consentString)),n&&(i=i+"&usPrivacy="+encodeURIComponent(n)),e.iframeEnabled&&yi.push({type:"iframe",url:i}),yi}};function bi(e,t){var r=t.format;return e.allow&&e.allow.length?e.allow.indexOf(r)>-1:!e.exclude||!e.exclude.length||e.exclude.indexOf(r)<0}function wi(){return(wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}(0,ot.dX)(hi);var Si,_i,Oi,Ii=(0,xe.df)(),Ei={code:"kargo",isBidRequestValid:function(e){return!(!e||!e.params||!e.params.placementId)},buildRequests:function(e,t){var r,n=l.vc.getConfig("currency"),o=n&&n.adServerCurrency||"USD",a={},s={};i._each(e,(function(e){a[e.bidId]=e.params.placementId,s[e.bidId]=e.sizes})),e.length>0&&e[0].userId&&e[0].userId.tdid&&(r=e[0].userId.tdid);var c=wi({},{sessionId:Ei._getSessionId(),requestCount:Ei._getRequestCount(),timeout:t.timeout,currency:o,cpmGranularity:1,timestamp:(new Date).getTime(),cpmRange:{floor:0,ceil:20},bidIDs:a,bidSizes:s,prebidRawBidRequests:e},Ei._getAllMetadata(r,t.uspConsent)),u=encodeURIComponent(JSON.stringify(c));return wi({},t,{method:"GET",url:"".concat("https://krk.kargo.com","/api/v2/bid"),data:"json=".concat(u),currency:o})},interpretResponse:function(e,t){var r=e.body,n=[];for(var i in r){var o=r[i],a=void 0;o.metadata&&o.metadata.landingPageDomain&&(a={clickUrl:o.metadata.landingPageDomain,advertiserDomains:[o.metadata.landingPageDomain]}),n.push({requestId:i,cpm:Number(o.cpm),width:o.width,height:o.height,ad:o.adm,ttl:300,creativeId:o.id,dealId:o.targetingCustom,netRevenue:!0,currency:t.currency,meta:a})}return n},getUserSyncs:function(e){var t=[],r=Ei._generateRandomUuid(),n=Ei._getClientId();if(e.iframeEnabled&&r&&n)for(var i=0;i<5;i++)t.push({type:"iframe",url:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}".replace("{UUID}",n).replace("{SEED}",r).replace("{INDEX}",i)});return t},_readCookie:function(e){if(!Ii.cookiesAreEnabled())return null;for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},_getCrbFromCookie:function(){try{var e=JSON.parse(decodeURIComponent(Ei._readCookie("krg_crb")));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}},_getCrbFromLocalStorage:function(){try{return JSON.parse(atob(Ei._getLocalStorageSafely("krg_crb")))}catch(e){return{}}},_getCrb:function(){var e=Ei._getCrbFromLocalStorage();return Object.keys(e).length?e:Ei._getCrbFromCookie()},_getKruxUserId:function(){return Ei._getLocalStorageSafely("kxkar_user")},_getKruxSegments:function(){return Ei._getLocalStorageSafely("kxkar_segs")},_getKrux:function(){var e=Ei._getKruxSegments(),t=[];return e&&(t=e.split(",")),{userID:Ei._getKruxUserId(),segments:t}},_getLocalStorageSafely:function(e){try{return Ii.getDataFromLocalStorage(e)}catch(e){return null}},_getUserIds:function(e,t){var r=Ei._getCrb(),n={kargoID:r.userId,clientID:r.clientId,crbIDs:r.syncIds||{},optOut:r.optOut,usp:t};return e&&(n.tdID=e),n},_getClientId:function(){return Ei._getCrb().clientId},_getAllMetadata:function(e,t){return{userIDs:Ei._getUserIds(e,t),krux:Ei._getKrux(),pageURL:window.location.href,rawCRB:Ei._readCookie("krg_crb"),rawCRBLocalStorage:Ei._getLocalStorageSafely("krg_crb")}},_getSessionId:function(){return Si||(Si=Ei._generateRandomUuid()),Si},_getRequestCount:function(){return _i===window.location.pathname?++Oi:(_i=window.location.pathname,Oi=0)},_generateRandomUuid:function(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}};function Ai(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(0,ot.dX)(Ei);var xi,Pi=r(8510),ji=r(4753),Ti=c.EVENTS,Ci=Ti.AUCTION_INIT,Ri=Ti.AUCTION_END,Di=Ti.REQUEST_BIDS,Ui=Ti.BID_REQUESTED,Mi=Ti.BID_TIMEOUT,Bi=Ti.BID_RESPONSE,Ni=Ti.NO_BID,Li=Ti.BID_WON,qi=Ti.BID_ADJUSTMENT,zi=Ti.BIDDER_DONE,Vi=Ti.SET_TARGETING,Fi=Ti.AD_RENDER_FAILED,Wi=Ti.AUCTION_DEBUG,Gi=Ti.ADD_AD_UNITS,Hi="endpoint",Ki="bundle";function $i(){return($i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ji=(Yi(xi={},c.EVENTS.AUCTION_INIT,Zi),Yi(xi,c.EVENTS.AUCTION_END,Zi),Yi(xi,c.EVENTS.BID_REQUESTED,(function(e){return{bidderCode:e.bidderCode,time:e.start,bids:e.bids.map((function(e){return{transactionId:e.transactionId,adUnitCode:e.adUnitCode,bidId:e.bidId,startTime:e.startTime,sizes:i.parseSizesInput(e.sizes).toString(),params:e.params}}))}})),Yi(xi,c.EVENTS.BID_TIMEOUT,(function(e){return e.map((function(e){return e.bidder})).filter(i.uniques)})),Yi(xi,c.EVENTS.BID_RESPONSE,(function(e){return{bidderCode:e.bidder,transactionId:e.transactionId,adUnitCode:e.adUnitCode,statusMessage:e.statusMessage,mediaType:e.mediaType,renderedSize:e.size,cpm:e.cpm,currency:e.currency,netRevenue:e.netRevenue,timeToRespond:e.timeToRespond,bidId:e.bidId,requestId:e.requestId,creativeId:e.creativeId}})),Yi(xi,c.EVENTS.BID_WON,(function(e){return{adId:e.adId,bidderCode:e.bidder,adUnitCode:e.adUnitCode,statusMessage:e.statusMessage,mediaType:e.mediaType,renderedSize:e.size,cpm:e.cpm,currency:e.currency,netRevenue:e.netRevenue,timeToRespond:e.timeToRespond,bidId:e.requestId,dealId:e.dealId,status:e.status,creativeId:e.creativeId}})),Yi(xi,c.EVENTS.NO_BID,(function(e){return{bidderCode:e.bidder,transactionId:e.transactionId,adUnitCode:e.adUnitCode,bidId:e.bidId}})),xi);var Xi=$i(function(e){var t,r=e.url,n=e.analyticsType,i=e.global,o=e.handler,a=[],s=0,c=!0;return function(){if(c){for(var e=0;e<a.length;e++)a[e]();a.push=function(e){e()},c=!1}ji.logMessage("event count sent to ".concat(i,": ").concat(s))}(),{track:function(e){var t=e.eventType,r=e.args;this.getAdapterType()===Ki&&window[i](o,t,r),this.getAdapterType()===Hi&&u.apply(void 0,arguments)},enqueue:l,enableAnalytics:f,disableAnalytics:function(){ji._each(t,(function(e,t){Pi.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:f},getAdapterType:function(){return n},getGlobal:function(){return i},getHandler:function(){return o},getUrl:function(){return r}};function u(e){var t=e.eventType,n=e.args,i=e.callback;(0,d.h)(r,i,JSON.stringify({eventType:t,args:n}))}function l(e){var t=e.eventType,r=e.args,n=this;i&&window[i]&&t&&r?this.track({eventType:t,args:r}):a.push((function(){s++,n.track({eventType:t,args:r})}))}function f(e){var r,n=this,o=this;"object"!==ki(e)||"object"!==ki(e.options)||void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling)?(Pi.getEvents().forEach((function(e){if(e){var t=e.eventType,r=e.args;t!==Mi&&l.call(o,{eventType:t,args:r})}})),Ai(r={},Di,(function(e){return n.enqueue({eventType:Di,args:e})})),Ai(r,Ui,(function(e){return n.enqueue({eventType:Ui,args:e})})),Ai(r,Bi,(function(e){return n.enqueue({eventType:Bi,args:e})})),Ai(r,Ni,(function(e){return n.enqueue({eventType:Ni,args:e})})),Ai(r,Mi,(function(e){return n.enqueue({eventType:Mi,args:e})})),Ai(r,Li,(function(e){return n.enqueue({eventType:Li,args:e})})),Ai(r,qi,(function(e){return n.enqueue({eventType:qi,args:e})})),Ai(r,zi,(function(e){return n.enqueue({eventType:zi,args:e})})),Ai(r,Vi,(function(e){return n.enqueue({eventType:Vi,args:e})})),Ai(r,Ri,(function(e){return n.enqueue({eventType:Ri,args:e})})),Ai(r,Fi,(function(e){return n.enqueue({eventType:Fi,args:e})})),Ai(r,Wi,(function(e){return n.enqueue({eventType:Wi,args:e})})),Ai(r,Gi,(function(e){return n.enqueue({eventType:Gi,args:e})})),Ai(r,Ci,(function(t){t.config="object"===ki(e)&&e.options||{},n.enqueue({eventType:Ci,args:t})})),t=r,ji._each(t,(function(e,t){Pi.on(t,e)}))):ji.logMessage('Analytics adapter for "'.concat(i,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return ji.logMessage('Analytics adapter for "'.concat(i,'" already enabled, unnecessary call to `enableAnalytics`.'))}}}({analyticsType:"endpoint"}),{track:function(e){var t,r,n=e.eventType,i=e.args;if(c.EVENTS.AUCTION_INIT===n&&Xi.context.aggregatedEvents.splice(0),Ji[n]&&Xi.context.aggregatedEvents.push({eventType:n,data:Ji[n](i)}),n===c.EVENTS.AUCTION_END){if(!Xi.context.aggregatedEvents.filter((function(e){return e.eventType===c.EVENTS.BID_WON}))[0]&&ge.getWinningBids()[0]){var o=Ji[c.EVENTS.BID_WON](ge.getWinningBids()[0]);Xi.context.aggregatedEvents.push({eventType:c.EVENTS.BID_WON,data:o})}!function(e){var t=e.host,r=e.method,n=e.payload,i={protocol:"https",hostname:void 0===t?"tracker.konduit.me":t,pathname:e.path};"GET"===r&&(i.search=n);var o,a,s=((o=i).protocol||"http")+"://"+(o.host||o.hostname+(o.port?":".concat(o.port):""))+(o.pathname||"")+(o.search?"?".concat((a=o.search||"",Object.keys(a).map((function(e){return Array.isArray(a[e])?a[e].map((function(t){return"".concat(e,"[]=").concat(t)})).join("&"):"".concat(e,"=").concat(a[e])})).join("&"))):"")+(o.hash?"#".concat(o.hash):"");(0,d.h)(s,void 0,"POST"===r?JSON.stringify(n):null,{contentType:"application/json",method:r,withCredentials:!0})}({method:"POST",path:"/analytics-initial-event",payload:(t=l.vc.getConfig("konduit.konduitId"),r=window.screen,{konduitId:t,prebidVersion:"4.13.0-mol-1",konduitPrebidModuleVersion:"1.0.0",environment:{screen:{width:r.width,height:r.height},language:navigator.language},events:Xi.context.aggregatedEvents})})}}});function Zi(e){return{auctionId:e.auctionId,timestamp:e.timestamp,auctionEnd:e.auctionEnd,auctionStatus:e.auctionStatus,adUnitCodes:e.adUnitCodes,labels:e.labels,timeout:e.timeout}}Xi.originEnableAnalytics=Xi.enableAnalytics,Xi.enableAnalytics=function(e){l.vc.getConfig("konduit.konduitId")?(Xi.context={aggregatedEvents:[]},Xi.originEnableAnalytics(e)):i.logError("A konduitId in config is required to use konduitAnalyticsAdapter")},vr.ZP.registerAnalyticsAdapter({adapter:Xi,code:"konduit"});var Qi=n();function eo(e){return function(e){if(Array.isArray(e))return to(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return to(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?to(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ro,no,io="1.0.0",oo="konduit.konduitId",ao="enableSendAllBids",so="A konduitId param is required to be in configs",co="No bids received in the auction",uo="A bid was not cached";function lo(e){return(e=[].slice.call(e)).unshift("".concat("Konduit",": ")),e}function fo(){i.logInfo.apply(i,eo(lo(arguments)))}function po(){i.logError.apply(i,eo(lo(arguments)))}function go(e){var t=e.host,r=void 0===t?"p.konduit.me":t,n=e.protocol,i=void 0===n?"https":n,o=e.method,a=void 0===o?"GET":o,s=e.path,c=e.payload,u=e.callbacks,l=e.timeout,f={protocol:i,hostname:r,pathname:s};"GET"===a&&(f.search=c);var p,g,m=((p=f).protocol||"http")+"://"+(p.host||p.hostname+(p.port?":".concat(p.port):""))+(p.pathname||"")+(p.search?"?".concat((g=p.search||"",Object.keys(g).map((function(e){return Array.isArray(g[e])?g[e].map((function(t){return"".concat(e,"[]=").concat(t)})).join("&"):"".concat(e,"=").concat(g[e])})).join("&"))):"")+(p.hash?"#".concat(p.hash):"");(0,d.O)(l)(m,u,"POST"===a?JSON.stringify(c):null,{contentType:"application/json",method:a,withCredentials:!0})}function mo(e){return{auctionId:e.auctionId,vastUrl:e.vastUrl,bidderCode:e.bidderCode,creativeId:e.creativeId,adUnitCode:e.adUnitCode,cpm:e.cpm,currency:e.currency}}function vo(e,t,r){e.kCpm=e.cpm,e.adserverTargeting||(e.adserverTargeting={});var n=F(r)(e);l.vc.getConfig(ao)&&(e.adserverTargeting["k_cpm_".concat(e.bidderCode)]=n),t.bidderCode===e.bidderCode&&t.creativeId===e.creativeId&&(e.adserverTargeting.k_cpm=n)}function yo(e,t,r,n){if(i.isNumber(e)){t.kCpm=e;var o=(0,u.D)(e,l.vc.getConfig("customPriceBucket"),l.vc.getConfig("currency.granularityMultiplier")),a=o.custom||o[n]||o.med;l.vc.getConfig(ao)&&(t.adserverTargeting["k_cpm_".concat(t.bidderCode)]=a),r.bidderCode===t.bidderCode&&r.creativeId===t.creativeId&&(t.adserverTargeting.k_cpm=a)}}function ho(e,t,r){i.isStr(e)&&(t.konduitCacheKey=e,l.vc.getConfig(ao)&&(t.adserverTargeting["k_cache_key_".concat(t.bidderCode)]=e),r.bidderCode===t.bidderCode&&r.creativeId===t.creativeId&&(t.adserverTargeting.k_cache_key=e,t.adserverTargeting.konduit_cache_key=e))}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}ro="konduit",no={processBids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.vc.getConfig(oo);if(e=e||{},!t)return po(so),e.callback&&e.callback(new Error(so),[]),null;var r=e.bids||$.getBidsReceived(),n=e.bid||ge.getWinningBids(e.adUnitCode,r)[0],o=[];if(l.vc.getConfig(ao)?o.push.apply(o,eo(r)):n&&o.push(n),!o.length)return po(co),e.callback&&e.callback(new Error(co),[]),null;var a=l.vc.getConfig("priceGranularity"),s=[];o.forEach((function(e){vo(e,n,a),s.push(mo(e))})),go({method:"POST",path:"/api/bidsProcessor",timeout:e.timeout||1e3,payload:{clientId:t,konduitPrebidModuleVersion:io,enableSendAllBids:l.vc.getConfig(ao),bids:s,bidResponsesCount:$.getBidsReceived().length},callbacks:{success:function(r){var s=null;fo("Bids processed successfully ",r);try{var c=JSON.parse(r),u=c.kCpmData,d=c.cacheData;if(i.isEmpty(d))throw new Error(uo);n.adserverTargeting.konduit_id=t,n.adserverTargeting.k_id=t,o.forEach((function(e){var t="".concat(e.bidderCode,":").concat(e.creativeId);yo(u[t],e,n,a),ho(d[t],e,n)}))}catch(e){s=e,po("Error parsing JSON response for bidsProcessor data: ",e)}e.callback&&e.callback(s,o)},error:function(t){po("Bids were not processed successfully ",t),e.callback&&e.callback(i.isStr(t)?new Error(t):t,o)}}})}},Qi.adServers=Qi.adServers||{},Qi.adServers[ro]=Qi.adServers[ro]||{},Object.keys(no).forEach((function(e){Qi.adServers[ro][e]?(0,i.logWarn)("Attempting to add an already registered function property ".concat(e," for AdServer ").concat(ro,".")):Qi.adServers[ro][e]=no[e]}));var wo={code:"oneVideo",VERSION:"3.0.4",ENDPOINT:"https://ads.adaptv.advertising.com/rtb/openrtb?ext_id=",E2ETESTENDPOINT:"https://ads-wc.v.ssp.yahoo.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://pixel.advertising.com/ups/57304/sync?gdpr=&gdpr_consent=&_origin=0&redir=true",SYNC_ENDPOINT2:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){if("oneVideo"!==e.bidder||void 0===e.params)return!1;if(void 0===e.params.video||void 0===e.params.video.playerWidth||void 0===e.params.video.playerHeight||void 0===e.params.video.mimes)return!1;if(e.mediaTypes.video){if("outstream"===e.mediaTypes.video.context&&1===e.params.video.display)return!1}else if(e.mediaTypes.banner&&!e.params.video.display)return!1;return void 0!==e.params.pubId},buildRequests:function(e,t){var r=t?t.gdprConsent:null;return e.map((function(e){var n=wo.ENDPOINT,i=e.params.pubId;return e.params.video.e2etest&&(n=wo.E2ETESTENDPOINT,i="HBExchange"),{method:"POST",url:n+i,data:_o(e,r,t),bidRequest:e}}))},interpretResponse:function(e,t){var r,n,o,a=t.bidRequest;try{r=(e=e.body).seatbid[0].bid[0]}catch(t){e=null}return e&&r&&(r.adm||r.nurl)&&r.price?(n=function(e){var t,r,n=i.parseSizesInput(e),o=(t=n.length?n[0].split("x"):[],r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return bo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bo(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];return{width:parseInt(a,10)||void 0,height:parseInt(s,10)||void 0}}(a.sizes),(o={requestId:a.bidId,bidderCode:wo.code,cpm:r.price,adId:r.adid,creativeId:r.crid,width:n.width,height:n.height,currency:e.cur,ttl:100,netRevenue:!0,adUnitCode:a.adUnitCode}).mediaType=a.mediaTypes.banner?"banner":"video",r.nurl?o.vastUrl=r.nurl:r.adm&&1===a.params.video.display?o.ad=r.adm:r.adm&&(o.vastXml=r.adm),a.mediaTypes.video&&(o.renderer="outstream"===a.mediaTypes.video.context?function(e,t){e.renderer||(e.renderer={},e.renderer.url="https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",e.renderer.render=function(e){setTimeout((function(){o2PlayerRender(e)}),700)})}(a):void 0),o):(i.logWarn("No valid bids from ".concat(wo.code," bidder")),[])},getUserSyncs:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.gdprApplies,i=r.consentString,o=void 0===i?"":i;if(e.pixelEnabled)return[{type:"image",url:wo.SYNC_ENDPOINT1},{type:"image",url:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?gdpr=".concat(n?1:0,"&gdpr_consent=").concat(o,"&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D0")+encodeURI("&gdpr=".concat(n?1:0,"&gdpr_consent=").concat(o))},{type:"image",url:wo.SYNC_ENDPOINT2}]}};function So(e){return!(!e||!e.gdprApplies)}function _o(e,t,r){var n=r.refererInfo.referer,o=e.params.site&&e.params.site.page?e.params.site.page:n.href,a=e.params.site&&e.params.site.referrer?e.params.site.referrer:r.refererInfo.referer,s={id:i.generateUUID(),at:2,cur:e.cur||"USD",imp:[{id:"1",secure:"https:"===document.location.protocol,bidfloor:e.params.bidfloor,ext:{hb:1,prebidver:"4.13.0-mol-1",adapterver:wo.VERSION}}],site:{page:o,ref:a},device:{ua:navigator.userAgent},tmax:200};return null==e.params.video.display||1!=e.params.video.display?(s.imp[0].video={mimes:e.params.video.mimes,w:e.params.video.playerWidth,h:e.params.video.playerHeight,pos:e.params.video.position},e.params.video.maxbitrate&&(s.imp[0].video.maxbitrate=e.params.video.maxbitrate),e.params.video.maxduration&&(s.imp[0].video.maxduration=e.params.video.maxduration),e.params.video.minduration&&(s.imp[0].video.minduration=e.params.video.minduration),e.params.video.api&&(s.imp[0].video.api=e.params.video.api),e.params.video.delivery&&(s.imp[0].video.delivery=e.params.video.delivery),e.params.video.position&&(s.imp[0].video.pos=e.params.video.position),e.params.video.playbackmethod&&(s.imp[0].video.playbackmethod=e.params.video.playbackmethod),e.params.video.placement&&(s.imp[0].video.placement=e.params.video.placement),e.params.video.rewarded&&(s.imp[0].ext.rewarded=e.params.video.rewarded),s.imp[0].video.linearity=1,s.imp[0].video.protocols=e.params.video.protocols||[2,5]):1==e.params.video.display&&(s.imp[0].banner={mimes:e.params.video.mimes,w:e.params.video.playerWidth,h:e.params.video.playerHeight,pos:e.params.video.position},e.params.video.placement&&(s.imp[0].banner.placement=e.params.video.placement),e.params.video.maxduration&&(s.imp[0].banner.ext=s.imp[0].banner.ext||{},s.imp[0].banner.ext.maxduration=e.params.video.maxduration),e.params.video.minduration&&(s.imp[0].banner.ext=s.imp[0].banner.ext||{},s.imp[0].banner.ext.minduration=e.params.video.minduration)),e.params.video.inventoryid&&(s.imp[0].ext.inventoryid=e.params.video.inventoryid),e.params.video.sid?(s.source={ext:{schain:{complete:1,nodes:[{sid:e.params.video.sid,rid:s.id}]}}},1==e.params.video.hp&&(s.source.ext.schain.nodes[0].hp=e.params.video.hp)):e.schain&&(s.source={ext:{schain:e.schain}},s.source.ext.schain.nodes[0].rid=s.id),e.params.site&&e.params.site.id&&(s.site.id=e.params.site.id),(So(t)||r&&r.uspConsent)&&(s.regs={ext:{}},So(t)&&(s.regs.ext.gdpr=1),t&&t.consentString&&(s.user={ext:{consent:t.consentString}}),r&&r.uspConsent&&(s.regs.ext.us_privacy=r.uspConsent)),e.params.video.e2etest&&(s.imp[0].bidfloor=null,s.imp[0].video.w=300,s.imp[0].video.h=250,s.imp[0].video.mimes=["video/mp4","application/javascript"],s.imp[0].video.api=[2],s.site.page="https://verizonmedia.com",s.site.ref="https://verizonmedia.com",s.tmax=1e3),s}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ot.dX)(wo);var Io=[I.Mk,I.pX],Eo={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},Ao={code:"openx",gvlid:69,supportedMediaTypes:Io,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return i.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||i.deepAccess(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var r,n,o=[],a=(r=function(e){return e.reduce((function(e,t){var r;return r=t,i.deepAccess(r,"mediaTypes.video")&&!i.deepAccess(r,"mediaTypes.banner")||r.mediaType===I.pX?e[0].push(t):e[1].push(t),e}),[[],[]])}(e),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(r,n)||function(e,t){if(e){if("string"==typeof e)return Oo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oo(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],c=a[1];return c.length>0&&o.push(function(e,t){var r=[],n=!1,o=xo(e,t),a=i._map(e,(function(e){return e.params.unit}));o.aus=i._map(e,(function(e){return i.parseSizesInput(e.mediaTypes.banner.sizes).join(",")})).join("|"),o.divIds=i._map(e,(function(e){return encodeURIComponent(e.adUnitCode)})).join(","),a.some((function(e){return e}))&&(o.auid=a.join(",")),e.some((function(e){return e.params.doNotTrack}))&&(o.ns=1),(!0===l.vc.getConfig("coppa")||e.some((function(e){return e.params.coppa})))&&(o.tfcd=1),e.forEach((function(e){if(e.params.customParams){var t=i._map(Object.keys(e.params.customParams),(function(t){return function(e,t){var r=t[e];return i.isArray(r)&&(r=r.join(",")),(e.toLowerCase()+"="+r.toLowerCase()).replace("+",".").replace("/","_")}(t,e.params.customParams)})),o=window.btoa(t.join("&"));n=!0,r.push(o)}else r.push("")})),n&&(o.tps=r.join(","));var s=[],c=!1;return e.forEach((function(e){var t=function(e,t){var r={},n=l.vc.getConfig("currency.adServerCurrency")||"USD";"function"==typeof e.getFloor&&(r=e.getFloor({currency:n,mediaType:t,size:"*"}));var i=r.floor||e.params.customFloor||0;return Math.round(1e3*i)}(e,I.Mk);t?(s.push(t),c=!0):s.push(0)})),c&&(o.aumfs=s.join(",")),{method:"GET",url:o.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:o,payload:{bids:e,startTime:new Date}}}(c,t)),s.length>0&&s.forEach((function(e){o.push(function(e,t){var r=function(e,t){var r,n,o=xo([e],t),a=i.deepAccess(e,"params.video")||{},s=i.deepAccess(e,"mediaTypes.video.context"),c=i.deepAccess(e,"mediaTypes.video.playerSize");return i.isArray(e.sizes)&&2===e.sizes.length&&!i.isArray(e.sizes[0])?(r=parseInt(e.sizes[0],10),n=parseInt(e.sizes[1],10)):i.isArray(e.sizes)&&i.isArray(e.sizes[0])&&2===e.sizes[0].length?(r=parseInt(e.sizes[0][0],10),n=parseInt(e.sizes[0][1],10)):i.isArray(c)&&2===c.length&&(r=parseInt(c[0],10),n=parseInt(c[1],10)),Object.keys(a).forEach((function(e){"openrtb"===e?(a[e].w=r||a[e].w,a[e].v=n||a[e].v,o[e]=JSON.stringify(a[e])):e in o||"url"===e||(o[e]=a[e])})),o.auid=e.params.unit,o.vwd=r||a.vwd,o.vht=n||a.vht,"outstream"===s&&(o.vos="101"),a.mimes&&(o.vmimes=a.mimes),e.params.test&&(o.vtest=1),o}(e,t);return{method:"GET",url:r.ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:r,payload:{bid:e,startTime:new Date}}}(e,t))})),o},interpretResponse:function(e,t){var r=e.body;return function(e){return/avjp$/.test(e.url)?I.pX:I.Mk}(t)===I.pX?function(e,t){var r=t.bid,n=(t.startTime,[]);if(void 0!==e&&""!==e.vastUrl&&e.pub_rev>0){var o=i.parseUrl(e.vastUrl).search||{},a={};a.requestId=r.bidId,a.ttl=300,a.netRevenue=!0,a.currency=e.currency,a.cpm=parseInt(e.pub_rev,10)/1e3,a.width=parseInt(e.width,10),a.height=parseInt(e.height,10),a.creativeId=e.adid,a.vastUrl=e.vastUrl,a.mediaType=I.pX,e.ph=o.ph,e.colo=o.colo,e.ts=o.ts,n.push(a)}return n}(r,t.payload):function(e,t){for(var r=t.bids,n=(t.startTime,e.ads.ad),i=[],o=0;o<n.length;o++){var a=n[o],s=parseInt(a.idx,10),c={};if(c.requestId=r[s].bidId,a.pub_rev){c.cpm=Number(a.pub_rev)/1e3;var u=a.creative[0];u&&(c.width=u.width,c.height=u.height),c.creativeId=u.id,c.ad=a.html,a.deal_id&&(c.dealId=a.deal_id),c.ttl=300,c.netRevenue=!0,c.currency=a.currency,a.tbd&&(c.tbd=a.tbd),c.ts=a.ts,c.meta={},a.brand_id&&(c.meta.brandId=a.brand_id),a.adv_id&&(c.meta.dspid=a.adv_id),i.push(c)}}return i}(r,t.payload)},getUserSyncs:function(e,t,r,n){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:i.deepAccess(t,"0.body.ads.pixels")||i.deepAccess(t,"0.body.pixels")||function(e,t){var r=[];return e&&(r.push("gdpr="+(e.gdprApplies?1:0)),r.push("gdpr_consent="+encodeURIComponent(e.consentString||""))),t&&r.push("us_privacy="+encodeURIComponent(t)),"".concat("https://u.openx.net/w/1.0/pd").concat(r.length>0?"?"+r.join("&"):"")}(r,n)}]},transformBidParams:function(e,t){return i.convertTypes({unit:"string",customFloor:"number"},e)}};function ko(e){var t,r,n,i=window,o=document,a=o.documentElement;if(e){try{i=window.top,o=window.top.document}catch(e){return}a=o.documentElement,n=o.body,t=i.innerWidth||a.clientWidth||n.clientWidth,r=i.innerHeight||a.clientHeight||n.clientHeight}else a=o.documentElement,t=i.innerWidth||a.clientWidth,r=i.innerHeight||a.clientHeight;return"".concat(t,"x").concat(r)}function xo(e,t){var r,n,o,a,s,c,u=i.inIframe();if(r={ju:l.vc.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:u,tz:(new Date).getTimezoneOffset(),tws:ko(u),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:i._map(e,(function(e){return e.transactionId})).join(","),nocache:(new Date).getTime()},e[0].params.platform&&(r.ph=e[0].params.platform),t.gdprConsent){var d=t.gdprConsent;void 0!==d.consentString&&(r.gdpr_consent=d.consentString),void 0!==d.gdprApplies&&(r.gdpr=d.gdprApplies?1:0),"iab"===l.vc.getConfig("consentManagement.cmpApi")&&(r.x_gdpr_f=1)}return t&&t.uspConsent&&(r.us_privacy=t.uspConsent),i.deepAccess(e[0],"crumbs.pubcid")&&i.deepSetValue(e[0],"userId.pubcid",i.deepAccess(e[0],"crumbs.pubcid")),n=r,o=e[0].userId,i._each(o,(function(e,t){var r=Eo[t];if(Eo.hasOwnProperty(t))switch(t){case"digitrustid":n[r]=i.deepAccess(e,"data.id");break;case"lipb":n[r]=e.lipbid;break;case"parrableId":n[r]=e.eid;break;case"id5id":n[r]=e.uid;break;default:n[r]=e}})),r=n,e[0].schain&&(r.schain=(a=e[0].schain,"".concat(a.ver,",").concat(a.complete,"!").concat((s=a.nodes,c=["asi","sid","hp","rid","name","domain"],s.map((function(e){return c.map((function(t){return e[t]||""})).join(",")})).join("!"))))),r}(0,ot.dX)(Ao);var Po={code:"playgroundxyz",aliases:["playgroundxyz","pxyz"],supportedMediaTypes:[I.Mk],isBidRequestValid:function(e){return!!e.params.placementId},buildRequests:function(e,t){var r,n,i=t.refererInfo.referer,o=i.split("/");o.length>=3&&(r=o[0],n=o[2]);var a={id:e[0].auctionId,site:{domain:r+"//"+n,name:n,page:i},device:{ua:navigator.userAgent,language:navigator.language,devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2},imp:e.map(jo)};if(t&&t.gdprConsent){a.user={ext:{consent:t.gdprConsent.consentString}};var s=t.gdprConsent.gdprApplies?1:0;a.regs={ext:{gdpr:s}}}return{method:"POST",url:"https://ads.playground.xyz/host-config/prebid?v=2",data:JSON.stringify(a),bidderRequest:t}},interpretResponse:function(e,t){var r=t.bidderRequest;e=e.body;var n=[];if(!e||e.error){var o="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(o+=": ".concat(e.error),i.logError(o)),n}if(!i.isArray(e.seatbid)){var a="in response for ".concat(r.bidderCode," adapter ");return i.logError(a+="Malformed seatbid response"),n}if(!e.seatbid)return n;var s=e.cur||"USD";return e.seatbid.forEach((function(e){e.hasOwnProperty("bid")&&e.bid.forEach((function(e){if(0!==e.price){var t=function(e,t){return{requestId:e.impid,mediaType:I.Mk,cpm:e.price,creativeId:e.adid,ad:e.adm,width:e.w,height:e.h,ttl:300,netRevenue:!0,currency:t}}(e,s);n.push(t)}}))})),n},getUserSyncs:function(e){return[{type:"image",url:"//ib.adnxs.com/getuidnb?https://ads.playground.xyz/usersync?partner=appnexus&uid=$UID"}]}};function jo(e){return{id:e.bidId,banner:To(e),ext:{appnexus:{placement_id:parseInt(e.params.placementId,10)},pxyz:{adapter:{vendor:"prebid",prebid:"4.13.0-mol-1"}}}}}function To(e){return{w:parseInt(e.sizes[0][0],10),h:parseInt(e.sizes[0][1],10),format:(t=e.sizes,r=[],t.forEach((function(e){r.push({w:parseInt(e[0],10),h:parseInt(e[1],10)})})),r)};var t,r}(0,ot.dX)(Po);var Co=r(8043),Ro={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync",timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:"https://prebid-server.rubiconproject.com/openrtb2/auction",syncEndpoint:"https://prebid-server.rubiconproject.com/cookie_sync",timeout:500}};function Do(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var No,Lo=l.vc.getConfig,qo=c.S2S.SRC,zo=!1,Vo={enabled:!1,timeout:1e3,maxBids:1,adapter:"prebidServer",adapterOptions:{},syncUrlModifier:{}};function Fo(e){if(0!==e.length){var t=e.pop();t.no_cookie?(r=t.usersync.type,n=t.usersync.url,o=t.bidder,a=i.bind.call(Fo,null,e),No.syncUrlModifier&&"function"==typeof No.syncUrlModifier[o]?Wo(r,No.syncUrlModifier[o](r,n,o),o,a):Wo(r,n,o,a)):Fo(e)}var r,n,o,a}function Wo(e,t,r,n){t?"image"===e||"redirect"===e?(i.logMessage('Invoking image pixel user sync for bidder: "'.concat(r,'"')),i.triggerPixel(t,n)):"iframe"==e?(i.logMessage('Invoking iframe user sync for bidder: "'.concat(r,'"')),i.insertUserSyncIframe(t,n)):(i.logError('User sync type "'.concat(e,'" not supported for bidder: "').concat(r,'"')),n()):(i.logError('No sync url for bidder "'.concat(r,'": ').concat(t)),n())}l.vc.setDefaults({s2sConfig:Vo}),Lo("s2sConfig",(function(e){return function(e){if(e.defaultVendor){var t=e.defaultVendor,r=Object.keys(e);if(!Ro[t])return i.logError("Incorrect or unavailable prebid server default vendor option: "+t),!1;Object.keys(Ro[t]).forEach((function(n){Vo[n]!==e[n]&&J()(r,n)||(e[n]=Ro[t][n])}))}var n=Object.keys(e);["accountId","bidders","endpoint"].filter((function(e){return!J()(n,e)&&(i.logError(e+" missing in server to server config"),!0)})).length>0||(No=e)}(e.s2sConfig)}));var Go={sponsoredBy:1,body:2,rating:3,likes:4,downloads:5,price:6,salePrice:7,phone:8,address:9,body2:10,cta:12},Ho=Object.keys(Go),Ko={icon:1,image:3},$o={img:1,js:2};[Go,Ko,{impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4},$o].forEach((function(e){Object.keys(e).forEach((function(t){e[e[t]]=t}))}));var Yo={},Jo={},Xo={},Zo=function(e,t,r){var n=[],o={},a=t[0];if(r.forEach((function(e){var t,r=(0,s.zs)(i.deepAccess(e,"mediaTypes.native"));if(r)try{t=Jo[e.code]=Object.keys(r).reduce((function(e,t){var n=r[t];function o(e){return Mo({required:n.required?1:0},e?i.cleanObj(e):{})}switch(t){case"image":case"icon":var a=Ko[t],s=i.cleanObj({type:a,w:i.deepAccess(n,"sizes.0"),h:i.deepAccess(n,"sizes.1"),wmin:i.deepAccess(n,"aspect_ratios.0.min_width"),hmin:i.deepAccess(n,"aspect_ratios.0.min_height")});if(!(s.w&&s.h||s.hmin&&s.wmin))throw"invalid img sizes (must provide sizes or min_height & min_width if using aspect_ratios)";Array.isArray(n.aspect_ratios)&&(s.ext={aspectratios:n.aspect_ratios.map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}))}),e.push(o({img:s}));break;case"title":if(!n.len)throw"invalid title.len";e.push(o({title:{len:n.len}}));break;default:var c=Go[t];c&&e.push(o({data:{type:c,len:n.len}}))}return e}),[])}catch(e){i.logError("error creating native request: "+String(e))}var c=i.deepAccess(e,"mediaTypes.video"),u=i.deepAccess(e,"mediaTypes.banner");e.bids.forEach((function(t){Yo["".concat(e.code).concat(t.bidder)]=t.bid_id,vr.ZP.aliasRegistry[t.bidder]&&(o[t.bidder]=vr.ZP.aliasRegistry[t.bidder])}));var d={};if(u&&u.sizes){var l=i.parseSizesInput(u.sizes).map((function(e){var t,r,n=(t=e.split("x"),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Uo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uo(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],o=n[1];return{w:parseInt(i,10),h:parseInt(o,10)}}));d.banner={format:l}}if(i.isEmpty(c)||("outstream"!==c.context||e.renderer?("instream"!==c.context||c.hasOwnProperty("placement")||(c.placement=1),d.video=c):i.logError("Outstream bid without renderer cannot be sent to Prebid Server.")),t)try{d.native={request:JSON.stringify({context:1,plcmttype:1,eventtrackers:[{event:1,methods:[1]}],assets:t}),ver:"1.2"}}catch(e){i.logError("error creating native request: "+String(e))}var f=e.bids.reduce((function(e,t){var r=vr.ZP.bidderRegistry[t.bidder];return r&&r.getSpec().transformBidParams&&(t.params=r.getSpec().transformBidParams(t.params,!0)),e[t.bidder]=No.adapterOptions&&No.adapterOptions[t.bidder]?Mo({},t.params,No.adapterOptions[t.bidder]):t.params,e}),{}),p={id:e.code,ext:f,secure:No.secure},g=i.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof g&&g&&i.deepSetValue(p,"ext.context.data.pbadslot",g),["name","adSlot"].forEach((function(t){var r=i.deepAccess(e,"fpd.context.adserver.".concat(t));"string"==typeof r&&r&&i.deepSetValue(p,"ext.context.data.adserver.".concat(t.toLowerCase()),r)})),Mo(p,d);var v=m()(a.bids,(function(t){return t.adUnitCode===e.code&&t.storedAuctionResponse}));v&&i.deepSetValue(p,"ext.prebid.storedauctionresponse.id",v.storedAuctionResponse.toString()),(p.banner||p.video||p.native)&&n.push(p)})),n.length){var c={id:e.tid,source:{tid:e.tid},tmax:No.timeout,imp:n,test:Lo("debug")?1:0,ext:{prebid:{auctiontimestamp:a.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}}}};No.extPrebid&&"object"===Bo(No.extPrebid)&&(c.ext.prebid=Mo(c.ext.prebid,No.extPrebid));var u=l.vc.getConfig("currency.adServerCurrency");u&&"string"==typeof u?c.cur=[u]:Array.isArray(u)&&u.length&&(c.cur=[u[0]]),function(e,t){e&&("object"===Bo(l.vc.getConfig("app"))?(e.app=l.vc.getConfig("app"),e.app.publisher={id:No.accountId}):(e.site={},i.isPlainObject(l.vc.getConfig("site"))&&(e.site=l.vc.getConfig("site")),i.deepAccess(e.site,"publisher.id")||i.deepSetValue(e.site,"publisher.id",No.accountId),e.site.page||(e.site.page=t)),"object"===Bo(l.vc.getConfig("device"))&&(e.device=l.vc.getConfig("device")),e.device||(e.device={}),e.device.w||(e.device.w=window.innerWidth),e.device.h||(e.device.h=window.innerHeight))}(c,a.refererInfo.referer);var d=i.deepAccess(t,"0.bids.0.schain");d&&(c.source.ext={schain:d}),i.isEmpty(o)||(c.ext.prebid.aliases=o);var f,p=i.deepAccess(t,"0.bids.0.userIdAsEids");if(i.isArray(p)&&p.length>0&&i.deepSetValue(c,"user.ext.eids",p),t)a.gdprConsent&&("boolean"==typeof a.gdprConsent.gdprApplies&&(f=a.gdprConsent.gdprApplies?1:0),i.deepSetValue(c,"regs.ext.gdpr",f),i.deepSetValue(c,"user.ext.consent",a.gdprConsent.consentString),a.gdprConsent.addtlConsent&&"string"==typeof a.gdprConsent.addtlConsent&&i.deepSetValue(c,"user.ext.ConsentedProvidersSettings.consented_providers",a.gdprConsent.addtlConsent)),a.uspConsent&&i.deepSetValue(c,"regs.ext.us_privacy",a.uspConsent);!0===Lo("coppa")&&i.deepSetValue(c,"regs.coppa",1);var g=Lo("fpd")||{};return g.context&&i.deepSetValue(c,"site.ext.data",g.context),g.user&&i.deepSetValue(c,"user.ext.data",g.user),function(e){var t=l.vc.getBidderConfig(),r=Object.keys(t).reduce((function(e,r){var n=t[r];if(n.fpd){var i={};n.fpd.context&&(i.site=n.fpd.context),n.fpd.user&&(i.user=n.fpd.user),e.push({bidders:[r],config:{fpd:i}})}return e}),[]);r.length&&i.deepSetValue(e,"ext.prebid.bidderconfig",r)}(c),c}i.logError("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")};function Qo(e){var t,r,n=function(e,t){if([e,t].every(i.isStr))return Xo["".concat(e).concat(t)]}(e.auctionId,e.adId);i.isStr(n)&&(i.logMessage('Invoking image pixel for wurl on BID_WIN: "'.concat(n,'"')),i.triggerPixel(n),[t=e.auctionId,r=e.adId].every(i.isStr)&&(Xo["".concat(t).concat(r)]=void 0))}function ea(){return(ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}vr.ZP.registerBidAdapter(new function(){var e=new Co.Z("prebidServer");return e.callBids=function(e,t,r,n,o){var s,u,l=i.deepClone(e.ad_units).filter((function(e){return e.mediaTypes&&(e.mediaTypes.native||e.mediaTypes.banner&&e.mediaTypes.banner.sizes||e.mediaTypes.video&&e.mediaTypes.video.playerSize)})),f=l.map((function(e){return e.bids.map((function(e){return e.bidder})).filter(i.uniques)})).reduce(i.flatten).filter(i.uniques);No&&No.syncEndpoint&&(Array.isArray(t)&&t.length>0&&(s=t[0].gdprConsent,u=t[0].uspConsent),function(e,t,r){if(!zo){zo=!0;var n={uuid:i.generateUUID(),bidders:e,account:No.accountId},o=No.userSyncLimit;i.isNumber(o)&&o>0&&(n.limit=o),t&&(void 0!==t.consentString&&(n.gdpr=t.gdprApplies?1:0),!1!==t.gdprApplies&&(n.gdpr_consent=t.consentString)),r&&(n.us_privacy=r);var a=JSON.stringify(n);(0,d.h)(No.syncEndpoint,(function(e){try{Fo((e=JSON.parse(e)).bidder_status)}catch(e){i.logError(e)}}),a,{contentType:"text/plain",withCredentials:!0})}}(No.bidders.map((function(e){return vr.ZP.aliasRegistry[e]||e})).filter((function(e,t,r){return r.indexOf(e)===t})),s,u));var p=Zo(e,t,l),g=p&&JSON.stringify(p);p&&g&&o(No.endpoint,{success:function(e){return function(e,t,r,n,o){var s;try{(function(e,t){var r=[];return e.seatbid&&e.seatbid.forEach((function(n){(n.bid||[]).forEach((function(o){var a,s="".concat(o.impid).concat(n.seat);Yo[s]&&(a=i.getBidRequest(Yo[s],t));var u=o.price,d=0!==u?c.STATUS.GOOD:c.STATUS.NO_BID,l=(0,ke.m)(d,a||{bidder:n.seat,src:qo});l.cpm=u;var f=i.deepAccess(e,["ext","responsetimemillis",n.seat].join("."));a&&f&&(a.serverResponseTimeMs=f);var p,g,m,v=i.deepAccess(o,"ext.prebid.bidid");i.isStr(v)&&(l.pbsBidId=v),i.isStr(i.deepAccess(o,"ext.prebid.events.win"))&&(p=a.auctionId,g=l.adId,m=i.deepAccess(o,"ext.prebid.events.win"),[p,g].every(i.isStr)&&(Xo["".concat(p).concat(g)]=m));var y=i.deepAccess(o,"ext.prebid.targeting");if(i.isPlainObject(y)&&(i.isStr(i.deepAccess(o,"ext.prebid.events.win"))&&(y=i.getDefinedParams(y,Object.keys(y).filter((function(e){return-1===e.indexOf("hb_winurl")&&-1===e.indexOf("hb_bidid")})))),l.adserverTargeting=y),l.seatBidId=o.id,i.deepAccess(o,"ext.prebid.type")===I.pX){l.mediaType=I.pX;var h=a.sizes&&a.sizes[0];l.playerHeight=h[0],l.playerWidth=h[1],o.ext.prebid.cache&&"object"===Bo(o.ext.prebid.cache.vastXml)&&o.ext.prebid.cache.vastXml.cacheId&&o.ext.prebid.cache.vastXml.url?(l.videoCacheKey=o.ext.prebid.cache.vastXml.cacheId,l.vastUrl=o.ext.prebid.cache.vastXml.url):y&&y.hb_uuid&&y.hb_cache_host&&y.hb_cache_path&&(l.videoCacheKey=y.hb_uuid,l.vastUrl="https://".concat(y.hb_cache_host).concat(y.hb_cache_path,"?uuid=").concat(y.hb_uuid)),o.adm&&(l.vastXml=o.adm),!l.vastUrl&&o.nurl&&(l.vastUrl=o.nurl)}else if(i.deepAccess(o,"ext.prebid.type")===I.B5){var b,w;l.mediaType=I.B5,w="string"==typeof o.adm?l.adm=JSON.parse(o.adm):l.adm=o.adm;var S=(Do(b={},$o.img,w.imptrackers||[]),Do(b,$o.js,w.jstracker?[w.jstracker]:[]),b);if(w.eventtrackers&&w.eventtrackers.forEach((function(e){switch(e.method){case $o.img:S[$o.img].push(e.url);break;case $o.js:S[$o.js].push(e.url)}})),i.isPlainObject(w)&&Array.isArray(w.assets)){var _=Jo[a.adUnitCode];l.native=i.cleanObj(w.assets.reduce((function(e,t){var r=_[t.id];return i.isPlainObject(t.img)?e[r.img.type?Ko[r.img.type]:"image"]=i.pick(t.img,["url","w as width","h as height"]):i.isPlainObject(t.title)?e.title=t.title.text:i.isPlainObject(t.data)&&Ho.forEach((function(n){Go[n]===r.data.type&&(e[n]=t.data.value)})),e}),i.cleanObj({clickUrl:w.link,clickTrackers:i.deepAccess(w,"link.clicktrackers"),impressionTrackers:S[$o.img],javascriptTrackers:S[$o.js]})))}else i.logError("prebid server native response contained no assets")}else o.adm&&o.nurl?(l.ad=o.adm,l.ad+=i.createTrackPixelHtml(decodeURIComponent(o.nurl))):o.adm?l.ad=o.adm:o.nurl&&(l.adUrl=o.nurl);l.width=o.w,l.height=o.h,o.dealid&&(l.dealId=o.dealid),l.requestId=a.bidId||a.bid_Id,l.creative_id=o.crid,l.creativeId=o.crid,o.burl&&(l.burl=o.burl),l.currency=e.cur?e.cur:"USD",l.meta=l.meta||{},o.adomain&&(l.meta.advertiserDomains=o.adomain);var O=No.defaultTtl||60;l.ttl=o.exp?o.exp:O,l.netRevenue=!o.netRevenue||o.netRevenue,r.push({adUnit:o.impid,bid:l})}))})),r})(s=JSON.parse(e),r).forEach((function(e){var t=e.adUnit,i=e.bid;(0,ot.JY)(t,i,r)&&n(t,i)})),r.forEach((function(e){return a().emit(c.EVENTS.BIDDER_DONE,e)}))}catch(e){i.logError(e)}(!s||s.status&&J()(s.status,"Error"))&&i.logError("error parsing response: ",s.status),o(),t.forEach((function(e){var t=vr.ZP.getBidAdapter(e);t&&t.registerSyncs&&t.registerSyncs([])}))}(e,f,t,r,n)},error:n},g,{contentType:"text/plain",withCredentials:!0})},a().on(c.EVENTS.BID_WON,Qo),Mo(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:qo})},"prebidServer");var ra=(0,xe.df)(),na="_pubcid",ia="_pubcid_optout",oa=525600,aa="PublisherCommonId",sa="_exp",ca="cookie",ua="html5",da={enabled:!0,interval:oa,typeEnabled:ua,create:!0,extend:!0,pixelUrl:""};function la(e,t){var r;return t||(t=da.typeEnabled),t===ca?r=ra.getCookie(e):t===ua&&(r=function(e){var t=null;try{var r=ra.getDataFromLocalStorage(e+sa);r?new Date(r).getTime()-Date.now()>0?t=ra.getDataFromLocalStorage(e):function(e){try{ra.removeDataFromLocalStorage(e+sa),ra.removeDataFromLocalStorage(e)}catch(e){i.logMessage(e)}}(e):t=ra.getDataFromLocalStorage(e)}catch(e){i.logMessage(e)}return t}(e)),"undefined"===r||"null"===r?null:r}function fa(e,t,r){e&&t&&(da.typeEnabled===ca?function(e,t,r,n){var i=new Date;i.setTime(i.getTime()+1e3*r*60),ra.setCookie(e,t,i.toGMTString(),"Lax")}(e,t,r):da.typeEnabled===ua&&function(e,t,r){try{if(void 0!==r&&null!=r){var n=new Date(Date.now()+60*r*1e3).toUTCString();ra.setDataInLocalStorage(e+sa,n)}ra.setDataInLocalStorage(e,t)}catch(e){i.logMessage(e)}}(e,t,r))}function pa(e,t){if(!e)return!1;t=t||"";var r=i.parseUrl(e);r.search.id=encodeURIComponent("pubcid:"+t);var n=i.buildUrl(r);return a().on(c.EVENTS.AUCTION_END,(function e(){a().off(c.EVENTS.AUCTION_END,e),i.triggerPixel(n)})),!0}function ga(e){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}l.vc.getConfig("pubcid",(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enable,r=e.expInterval,n=e.type,i=void 0===n?"html5,cookie":n,o=e.create,a=e.extend,s=e.pixelUrl;void 0!==t&&(da.enabled=t),void 0!==r&&(da.interval=parseInt(r,10)),isNaN(da.interval)&&(da.interval=oa),void 0!==o&&(da.create=o),void 0!==a&&(da.extend=a),void 0!==s&&(da.pixelUrl=s),da.typeEnabled=null;for(var c=i.split(","),u=0;u<c.length;++u){var d=c[u].trim();if(d===ca){if(ra.cookiesAreEnabled()){da.typeEnabled=ca;break}}else if(d===ua&&ra.hasLocalStorage()){da.typeEnabled=ua;break}}}(e.pubcid)})),ra.cookiesAreEnabled()&&la(ia,ca)||ra.hasLocalStorage()&&la(ia,ua)||pbjs.requestBids.before((function(e,t){var r=t.adUnits||pbjs.adUnits,n=null;return da.enabled&&da.typeEnabled?("object"===ta(window[aa])?(n=window[aa].getId(),i.logMessage(aa+": pubcid = "+n)):((n=la(na))?da.extend&&(pa(da.pixelUrl,n)||fa(na,n,da.interval)):(da.create&&(da.typeEnabled===ua&&(n=la(na,ca)),n||(n=i.generateUUID()),fa(na,n,da.interval),n=la(na)),pa(da.pixelUrl,n)),i.logMessage("pbjs: pubcid = "+n)),r&&n&&r.forEach((function(e){e.bids&&i.isArray(e.bids)&&e.bids.forEach((function(e){ea(e,{crumbs:{pubcid:n}})}))})),e.call(this,t)):e.call(this,t)}));var ma="PublisherCommonId",va="cookie",ya="html5",ha="_sharedid",ba=!1,wa=(0,xe.df)(null,"pubCommonId");function Sa(e,t){try{if(t){var r=e.storage.name+ha,n=new Date(Date.now()+864e5*wa.expires).toUTCString();e.storage.type===va?wa.cookiesAreEnabled()&&wa.setCookie(r,t,n,"LAX",Ea):e.storage.type===ya&&wa.hasLocalStorage()&&(wa.setDataInLocalStorage("".concat(r,"_exp"),n),wa.setDataInLocalStorage(r,t))}}catch(e){i.logError(e)}}function _a(e){try{var t=e.storage.name+ha;if(e.storage.type===va){if(wa.cookiesAreEnabled())return wa.getCookie(t)}else if(e.storage.type===ya&&wa.hasLocalStorage()){var r=wa.getDataFromLocalStorage("".concat(t,"_exp"));if(!r)return wa.getDataFromLocalStorage(t);if(new Date(r).getTime()-Date.now()>0)return wa.getDataFromLocalStorage(t)}}catch(e){i.logError(e)}}function Oa(e,t,r){return function(n){"function"==typeof t&&t(),(0,d.h)("https://id.sharedid.org/id",function(e,t,r){return{success:function(n){if(n)try{var o=JSON.parse(n);i.logInfo("PubCommonId: Generated SharedId: "+o.sharedId),o.sharedId&&("00000000000000000000000000"!==o.sharedId?Sa(r,o.sharedId):function(e){try{var t=e.storage.name+ha;e.storage.type===va?wa.cookiesAreEnabled()&&wa.setCookie(t,"","Thu, 01 Jan 1970 00:00:01 GMT"):e.storage.type===ya&&(wa.removeDataFromLocalStorage("".concat(t,"_exp")),wa.removeDataFromLocalStorage(t))}catch(e){i.logError(e)}}(r)),t(e)}catch(e){i.logError(e)}},error:function(e,t){i.logInfo("PubCommonId: failed to get sharedid")}}}(e,n,r),void 0,{method:"GET",withCredentials:!0})}}var Ia={name:"pubCommonId",makeCallback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var r=i.parseUrl(e);r.search.id=encodeURIComponent("pubcid:"+t);var n=i.buildUrl(r);return function(){i.triggerPixel(n)}}},decode:function(e,t){var r={pubcid:e},n=t.params,i=(n=void 0===n?{}:n).enableSharedId;if(void 0===i?ba:i){var o=_a(t);o&&(r.sharedid={id:o})}return r},getId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0,r=e.params,n=(r=void 0===r?{}:r).create,o=void 0===n||n,a=r.pixelUrl,s=r.enableSharedId,c=void 0===s?ba:s,u=t;if(!u){try{"object"===ga(window[ma])&&(u=window[ma].getId())}catch(e){}u||(u=o&&i.hasDeviceAccess()?i.generateUUID():void 0)}var d=this.makeCallback(a,u),l=c?Oa(u,d,e):d;return{id:u,callback:l}},extendId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.params,n=(r=void 0===r?{}:r).extend,i=void 0!==n&&n,o=r.pixelUrl,a=r.enableSharedId,s=void 0===a?ba:a;if(i){try{if("object"===ga(window[ma]))return void(s&&Sa(e,_a(e)))}catch(e){}if(o){var c=this.makeCallback(o,t);return{callback:c}}return s&&Sa(e,_a(e)),{id:t}}},domainOverride:function(){for(var e,t=document.domain.split("."),r="_gd".concat(Date.now()),n=0;n<t.length;n++){var i=t.slice(n).join(".");if(wa.setCookie(r,"1",void 0,void 0,i),"1"!==wa.getCookie(r))return e;wa.setCookie(r,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,i),e=i}}},Ea=Ia.domainOverride();function Aa(){return(Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(0,_.Bx)("userId",Ia);var xa="PubMatic: ",Pa="USD",ja=void 0,Ta="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Ca={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Ra="number",Da="array",Ua={mimes:Da,minduration:Ra,maxduration:Ra,startdelay:Ra,playbackmethod:Da,api:Da,protocols:Da,w:Ra,h:Ra,battr:Da,linearity:Ra,placement:Ra,minbitrate:Ra,maxbitrate:Ra},Ma={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},Ba=[{id:Ma.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:Ma.TITLE.ID,required:!0},{id:Ma.IMAGE.ID,required:!0}],Na={1:"PMP",5:"PREF",6:"PMPG"},La={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var r,n=La.getRendererId("pubmatic",e.rendererCode),o=document.getElementById(e.adUnitCode),a=0;a<window.bluebillywig.renderers.length;a++)if(window.bluebillywig.renderers[a]._id===n){r=window.bluebillywig.renderers[a];break}r?r.bootstrap(t,o):i.logWarn("".concat(xa,": Couldn't find a renderer with ").concat(n))}else i.logWarn("".concat(xa,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=Ta.replace("$RENDERER",e),n=y.install({url:r,loaded:!1,adUnitCode:t});try{n.setRender(La.outstreamRender)}catch(e){i.logWarn("".concat(xa,": Error tying to setRender on renderer"),e)}return n},outstreamRender:function(e){e.renderer.push((function(){La.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},qa=0,za=!1,Va={},Fa={};function Wa(e,t){if(!i.isStr(t))return t&&i.logWarn("PubMatic: Ignoring param key: "+e+", expects string-value, found "+ka(t)),ja;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||ja;case"yob":return parseInt(t)||ja;default:return t}}function Ga(e,t,r){var n,o="Ignoring param key: "+e+", expects "+r+", found "+ka(t);switch(r){case"boolean":n=i.isBoolean;break;case Ra:n=i.isNumber;break;case"string":n=i.isStr;break;case Da:n=i.isArray}return n(t)?t:(i.logWarn(xa+o),ja)}function Ha(e,t){var r=e.KEY;return{id:e.ID,required:t[r].required?1:0,data:{type:e.TYPE,len:t[r].len,ext:t[r].ext}}}function Ka(e){var t={assets:[]};for(var r in e){if(e.hasOwnProperty(r)){var n={};if(!(t.assets&&t.assets.length>0&&t.assets.hasOwnProperty(r)))switch(r){case Ma.TITLE.KEY:e[r].len||e[r].length?n={id:Ma.TITLE.ID,required:e[r].required?1:0,title:{len:e[r].len||e[r].length,ext:e[r].ext}}:i.logWarn("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case Ma.IMAGE.KEY:e[r].sizes&&e[r].sizes.length>0?n={id:Ma.IMAGE.ID,required:e[r].required?1:0,img:{type:3,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:ja),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:ja),wmin:e[r].wmin||e[r].minimumWidth||(e[r].minsizes?e[r].minsizes[0]:ja),hmin:e[r].hmin||e[r].minimumHeight||(e[r].minsizes?e[r].minsizes[1]:ja),mimes:e[r].mimes,ext:e[r].ext}}:i.logWarn("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case Ma.ICON.KEY:e[r].sizes&&e[r].sizes.length>0?n={id:Ma.ICON.ID,required:e[r].required?1:0,img:{type:1,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:ja),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:ja)}}:i.logWarn("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case Ma.VIDEO.KEY:n={id:Ma.VIDEO.ID,required:e[r].required?1:0,video:{minduration:e[r].minduration,maxduration:e[r].maxduration,protocols:e[r].protocols,mimes:e[r].mimes,ext:e[r].ext}};break;case Ma.EXT.KEY:n={id:Ma.EXT.ID,required:e[r].required?1:0};break;case Ma.LOGO.KEY:n={id:Ma.LOGO.ID,required:e[r].required?1:0,img:{type:2,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:ja),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:ja)}};break;case Ma.SPONSOREDBY.KEY:case Ma.BODY.KEY:case Ma.RATING.KEY:case Ma.LIKES.KEY:case Ma.DOWNLOADS.KEY:case Ma.PRICE.KEY:case Ma.SALEPRICE.KEY:case Ma.PHONE.KEY:case Ma.ADDRESS.KEY:case Ma.DESC2.KEY:case Ma.DISPLAYURL.KEY:case Ma.CTA.KEY:n=Ha(Fa[r],e)}}n&&n.id&&(t.assets[t.assets.length]=n)}var o=Ba.length,a=0;return Ba.forEach((function(e){for(var r=t.assets.length,n=0;n<r;n++)if(e.id==t.assets[n].id){a++;break}})),za=o!=a,t}function $a(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(r!==ja&&i.isArray(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=ja,i.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(n=[],r.forEach((function(e){e.length>1&&n.push({w:e[0],h:e[1]})})),n.length>0&&(t.format=n)),t.pos=0,t.topframe=i.inIframe()?0:1}else i.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=ja;return t}function Ya(e){var t,r=e.params.video;if(r!==ja){for(var n in t={},Ua)r.hasOwnProperty(n)&&(t[n]=Ga(n,r[n],Ua[n]));i.isArray(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):i.isNumber(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10)),e.params.video.hasOwnProperty("skippable")&&(t.ext={video_skippable:e.params.video.skippable?1:0})}else t=ja,i.logWarn("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}i._each(Ma,(function(e){Va[e.ID]=e.KEY})),i._each(Ma,(function(e){Fa[e.KEY]=e}));var Ja={code:"pubmatic",gvlid:76,supportedMediaTypes:[I.Mk,I.pX,I.B5],isBidRequestValid:function(e){if(e&&e.params){if(!i.isStr(e.params.publisherId))return i.logWarn("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.params.hasOwnProperty("video")){if(!e.params.video.hasOwnProperty("mimes")||!i.isArray(e.params.video.mimes)||0===e.params.video.mimes.length)return i.logWarn("PubMatic: Error: For video ads, mimes is mandatory and must specify atlease 1 mime value. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.hasOwnProperty("mediaTypes")||!e.mediaTypes.hasOwnProperty(I.pX))return i.logError("".concat(xa,": mediaTypes or mediaTypes.video is not specified. Rejecting bid: "),e),!1;if(!e.mediaTypes[I.pX].hasOwnProperty("context"))return i.logError("".concat(xa,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[I.pX].context&&!i.isStr(e.params.outstreamAU))return i.logError("".concat(xa,': for "outstream" bids outstreamAU is required. Rejecting bid: '),e),!1}return!0}return!1},buildRequests:function(e,t){var r;t&&t.refererInfo&&(r=t.refererInfo);var n,o,a,s=function(e){return{pageURL:e&&e.referer?e.referer:window.location.href,refURL:window.document.referrer}}(r),c=function(e){return{id:""+(new Date).getTime(),at:1,cur:[Pa],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(s),u="",d=[],f=[];if(e.forEach((function(e){if((n=i.deepClone(e)).params.adSlot=n.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,i.isStr(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):"");var r=e.params.adSlot,n=r.split(":");if(r=n[0],2==n.length&&(e.params.adUnitIndex=n[1]),n=r.split("@"),e.params.adUnit=n[0],n.length>1){if(2!=(n=n[1].split("x")).length)return void i.logWarn("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(I.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var o=0,a=[];o<e.mediaTypes.banner.sizes.length;o++)2===e.mediaTypes.banner.sizes[o].length&&a.push(e.mediaTypes.banner.sizes[o]);e.mediaTypes.banner.sizes=a,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(n),n.params.hasOwnProperty("video"));else if(!(n.hasOwnProperty("mediaTypes")&&n.mediaTypes.hasOwnProperty(I.B5)||0!==n.params.width||0!==n.params.height))return void i.logWarn("PubMatic: Skipping the non-standard adslot: ",n.params.adSlot,JSON.stringify(n));s.pubId=s.pubId||n.params.publisherId,(s=function(e,t){var r,n,o;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),Ca)Ca.hasOwnProperty(r)&&(n=e[r])&&("object"===ka(o=Ca[r])&&(n=o.f(n,t)),i.isStr(n)?t[r]=n:i.logWarn("PubMatic: Ignoring param : "+r+" with value : "+Ca[r]+", expects string-value, found "+ka(n)));return t}(n.params,s)).transactionId=n.transactionId,""===u?u=n.params.currency||ja:n.params.hasOwnProperty("currency")&&u!==n.params.currency&&i.logWarn("PubMatic: Currency specifier ignored. Only one currency permitted."),n.params.currency=u,n.params.hasOwnProperty("dctr")&&i.isStr(n.params.dctr)&&d.push(n.params.dctr),n.params.hasOwnProperty("bcat")&&i.isArray(n.params.bcat)&&(f=f.concat(n.params.bcat));var t=function(e,t){var r,n,o={},a={},s=e.hasOwnProperty("sizes")?e.sizes:[],c="",u=[];if(function(e,t){t.params.deals&&(i.isArray(t.params.deals)?t.params.deals.forEach((function(t){i.isStr(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):i.logWarn("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):i.logWarn("PubMatic: Error: bid.params.deals should be an array of strings."))}(o={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Wa("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Wa("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Wa("currency",e.params.currency):Pa},e),e.hasOwnProperty("mediaTypes"))for(c in e.mediaTypes)switch(c){case I.Mk:(r=$a(e))!==ja&&(o.banner=r);break;case I.B5:a.request=JSON.stringify(Ka(e.nativeParams)),za?i.logWarn("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):o.native=a;break;case I.pX:(n=Ya(e))!==ja&&(o.video=n)}else r={pos:0,w:e.params.width,h:e.params.height,topframe:i.inIframe()?0:1},i.isArray(s)&&s.length>1&&((s=s.splice(1,s.length-1)).forEach((function(e){u.push({w:e[0],h:e[1]})})),r.format=u),o.banner=r;return function(e,t){var r=-1;"function"!=typeof t.getFloor||l.vc.getConfig("pubmatic.disableFloors")||[I.Mk,I.pX,I.B5].forEach((function(n){if(e.hasOwnProperty(n)){var i=t.getFloor({currency:e.bidfloorcur,mediaType:n,size:"*"});if("object"===ka(i)&&i.currency===e.bidfloorcur&&!isNaN(parseInt(i.floor))){var o=parseFloat(i.floor);r=-1==r?o:Math.min(o,r)}}})),e.bidfloor&&(r=Math.max(r,e.bidfloor)),e.bidfloor=!isNaN(r)&&r>0?r:ja}(o,e),o.hasOwnProperty(I.Mk)||o.hasOwnProperty(I.B5)||o.hasOwnProperty(I.pX)?o:ja}(n);t&&c.imp.push(t)})),0!=c.imp.length)return c.site.publisher.id=s.pubId.trim(),qa=s.pubId.trim(),c.ext.wrapper={},c.ext.wrapper.profile=parseInt(s.profId)||ja,c.ext.wrapper.version=parseInt(s.verId)||ja,c.ext.wrapper.wiid=s.wiid||t.auctionId,c.ext.wrapper.wv="prebid_prebid_4.13.0-mol-1",c.ext.wrapper.transactionId=s.transactionId,c.ext.wrapper.wp="pbjs",c.user.gender=s.gender?s.gender.trim():ja,c.user.geo={},c.user.geo.lat=Wa("lat",s.lat),c.user.geo.lon=Wa("lon",s.lon),c.user.yob=Wa("yob",s.yob),c.device.geo=c.user.geo,c.site.page=s.kadpageurl.trim()||c.site.page.trim(),c.site.domain=(o=c.site.page,(a=document.createElement("a")).href=o,a.hostname),"object"===ka(l.vc.getConfig("content"))&&(c.site.content=l.vc.getConfig("content")),"object"===ka(l.vc.getConfig("device"))&&(c.device=Aa(c.device,l.vc.getConfig("device"))),i.deepSetValue(c,"source.tid",s.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(c.test=1),e[0].schain&&i.deepSetValue(c,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(i.deepSetValue(c,"user.ext.consent",t.gdprConsent.consentString),i.deepSetValue(c,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&i.deepSetValue(c,"regs.ext.us_privacy",t.uspConsent),!0===l.vc.getConfig("coppa")&&i.deepSetValue(c,"regs.coppa",1),function(e,t,r){var n,o="";if(t.length>0)if(r[0].params.hasOwnProperty("dctr")){if(o=r[0].params.dctr,i.isStr(o)&&o.length>0){var a=o.split("|");o="",a.forEach((function(e){o+=e.length>0?e.trim()+"|":""})),n=o.length,"|"===o.substring(n,n-1)&&(o=o.substring(0,n-1)),e.site.ext={key_val:o.trim()}}else i.logWarn("PubMatic: Ignoring param : dctr with value : "+o+", expects string-value, found empty or non-string value");t.length>1&&i.logWarn("PubMatic: dctr value found in more than 1 adunits. Value from 1st adunit will be picked. Ignoring values from subsequent adunits")}else i.logWarn("PubMatic: dctr value not found in 1st adunit, ignoring values from subsequent adunits")}(c,d,e),function(e,t){var r=i.deepAccess(t,"0.userIdAsEids");i.isArray(r)&&r.length>0&&i.deepSetValue(e,"user.eids",r)}(c,e),function(e,t){(t=t.filter((function(e){return"string"==typeof e||(i.logWarn("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,r){if(e.length>3)return r.indexOf(e)===t;i.logWarn("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(i.logWarn("PubMatic: bcat: Selected: ",t),e.bcat=t)}(c,f),"object"===ka(l.vc.getConfig("app"))&&(c.app=l.vc.getConfig("app"),c.app.publisher=c.site.publisher,c.app.ext=c.site.ext||ja,"object"!==ka(c.app.content)&&(c.app.content=c.site.content||ja),delete c.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(c),bidderRequest:t}},interpretResponse:function(e,t){var r=[],n=Pa,o=JSON.parse(t.data),a=o.site&&o.site.ref?o.site.ref:"";try{e.body&&e.body.seatbid&&i.isArray(e.body.seatbid)&&(n=e.body.cur||n,e.body.seatbid.forEach((function(e){e.bid&&i.isArray(e.bid)&&e.bid.forEach((function(s){var c={requestId:s.impid,cpm:(parseFloat(s.price)||0).toFixed(2),width:s.w,height:s.h,creativeId:s.crid||s.id,dealId:s.dealid,currency:n,netRevenue:!1,ttl:300,referrer:a,ad:s.adm,pm_seat:e.seat||null,pm_dspid:s.ext&&s.ext.dspid?s.ext.dspid:null,partnerImpId:s.id||""};o.imp&&o.imp.length>0&&o.imp.forEach((function(e){if(s.impid===e.id)switch(function(e,t){var r="",n=new RegExp(/VAST\s+version/);if(e.indexOf('span class="PubAPIAd"')>=0)t.mediaType=I.Mk;else if(n.test(e))t.mediaType=I.pX;else try{(r=JSON.parse(e.replace(/\\/g,"")))&&r.native&&(t.mediaType=I.B5)}catch(t){i.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+e)}}(s.adm,c),c.mediaType){case I.Mk:break;case I.pX:c.width=s.hasOwnProperty("w")?s.w:e.video.w,c.height=s.hasOwnProperty("h")?s.h:e.video.h,c.vastXml=s.adm,function(e,t){var r,n,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(r=t.bidderRequest.bids[o].params,n=t.bidderRequest.bids[o].mediaTypes[I.pX].context,i=t.bidderRequest.bids[o].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=La.newRenderer(e.rendererCode,i))}}(c,t);break;case I.B5:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void i.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(r&&r.native&&r.native.assets&&r.native.assets.length>0){t.mediaType=I.B5;for(var n=0,o=r.native.assets.length;n<o;n++)switch(r.native.assets[n].id){case Ma.TITLE.ID:t.native.title=r.native.assets[n].title&&r.native.assets[n].title.text;break;case Ma.IMAGE.ID:t.native.image={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case Ma.ICON.ID:t.native.icon={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case Ma.SPONSOREDBY.ID:case Ma.BODY.ID:case Ma.LIKES.ID:case Ma.DOWNLOADS.ID:case Ma.PRICE:case Ma.SALEPRICE.ID:case Ma.PHONE.ID:case Ma.ADDRESS.ID:case Ma.DESC2.ID:case Ma.CTA.ID:case Ma.RATING.ID:case Ma.DISPLAYURL.ID:t.native[Va[r.native.assets[n].id]]=r.native.assets[n].data&&r.native.assets[n].data.value}t.native.clickUrl=r.native.link&&r.native.link.url,t.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],t.native.impressionTrackers=r.native.imptrackers||[],t.native.jstracker=r.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(s,c)}})),s.ext&&s.ext.deal_channel&&(c.dealChannel=Na[s.ext.deal_channel]||null),c.meta={},s.ext&&s.ext.dspid&&(c.meta.networkId=s.ext.dspid),s.ext&&s.ext.advid&&(c.meta.buyerId=s.ext.advid),s.adomain&&s.adomain.length>0&&(c.meta.advertiserDomains=s.adomain,c.meta.clickUrl=s.adomain[0]),e.ext&&e.ext.buyid&&(c.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),r.push(c)}))})))}catch(e){i.logError(e)}return r},getUserSyncs:function(e,t,r,n){var i=""+qa;return r&&(i+="&gdpr="+(r.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(i+="&us_privacy="+encodeURIComponent(n)),!0===l.vc.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t){return i.convertTypes({publisherId:"string",adSlot:"string"},e)}};function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Za(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Za(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function es(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ts(e){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(0,ot.dX)(Ja);var rs={};l.vc.getConfig("rubicon",(function(e){i.mergeDeep(rs,e.rubicon)}));var ns={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000"};i._each(ns,(function(e,t){return ns[e]=t}));var is={code:"rubicon",gvlid:52,supportedMediaTypes:[I.Mk,I.pX],isBidRequestValid:function(e){if("object"!==ts(e.params))return!1;for(var t=0,r=["accountId","siteId","zoneId"];t<r.length;t++)if(e.params[r[t]]=parseInt(e.params[r[t]]),isNaN(e.params[r[t]]))return i.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var n=us(e,!0);return!!n&&("video"!==n||function(e){var t=!0,r=Object.prototype.toString.call([]),n=Object.prototype.toString.call(0),o={mimes:r,protocols:r,maxduration:n,linearity:n,api:r};return Object.keys(o).forEach((function(r){Object.prototype.toString.call(i.deepAccess(e,"mediaTypes.video."+r))!==o[r]&&(t=!1,i.logError("Rubicon: mediaTypes.video."+r+" is required and must be of type: "+o[r]))})),t}(e))},buildRequests:function(e,t){var r=[],n=e.filter((function(e){return"video"===us(e)})).map((function(e){e.startTime=(new Date).getTime();var r,n,o,a,s={id:e.transactionId,test:l.vc.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:t.timeout,imp:[{exp:l.vc.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:es({},e.bidder,e.params),video:i.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!0===rs.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:ds(l.vc)},bidders:{rubicon:{integration:rs.int_type||"pbjs"}}}}};if("rubicon"!==e.bidder&&(s.ext.prebid.aliases=es({},e.bidder,"rubicon")),"function"!=typeof e.getFloor||rs.disableFloors)r=parseFloat(i.deepAccess(e,"params.floor"));else{var c;try{c=e.getFloor({currency:"USD",mediaType:"video",size:as(e,"video")})}catch(e){i.logError("Rubicon: getFloor threw an error: ",e)}r="object"!==ts(c)||"USD"!==c.currency||isNaN(parseInt(c.floor))?void 0:parseFloat(c.floor)}isNaN(r)||(s.imp[0].bidfloor=r),s.imp[0].ext[e.bidder].video.size_id=(o=e,a=parseInt(i.deepAccess(o,"params.video.size_id")),isNaN(a)?"outstream"===i.deepAccess(o,"mediaTypes.".concat(I.pX,".context"))?203:201:a),function(e,t,r){e&&("object"===ts(l.vc.getConfig("app"))?e.app=l.vc.getConfig("app"):e.site={page:os(t,r)},"object"===ts(l.vc.getConfig("device"))&&(e.device=l.vc.getConfig("device")),t.params.video.language&&["site","device"].forEach((function(r){e[r]&&(e[r].content=Qa({language:t.params.video.language},e[r].content))})))}(s,e,t),function(e,t){"object"===ts(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"===ts(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"===ts(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var r=as(t,"video");e.imp[0].video.w=r[0],e.imp[0].video.h=r[1]}(s,e),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(n=t.gdprConsent.gdprApplies?1:0),i.deepSetValue(s,"regs.ext.gdpr",n),i.deepSetValue(s,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&i.deepSetValue(s,"regs.ext.us_privacy",t.uspConsent);var u=i.deepAccess(t,"bids.0.userIdAsEids");if(u&&u.length){i.deepSetValue(s,"user.ext.eids",u);var d=m()(s.user.ext.eids,(function(e){return"liveintent.com"===e.source}));d&&(i.deepSetValue(s,"user.ext.tpid",{source:d.source,uid:d.uids[0].id}),d.ext&&d.ext.segments&&i.deepSetValue(s,"rp.target.LIseg",d.ext.segments))}var f=l.vc.getConfig("user.id");f&&i.deepSetValue(s,"user.id",f),!0===l.vc.getConfig("coppa")&&i.deepSetValue(s,"regs.coppa",1),e.schain&&ls(e.schain)&&i.deepSetValue(s,"source.ext.schain",e.schain);var p=Qa({},e.params.inventory,l.vc.getConfig("fpd.context")),g=Qa({},e.params.visitor,l.vc.getConfig("fpd.user"));if(!i.isEmpty(p)||!i.isEmpty(g)){var v={bidders:[t.bidderCode],config:{fpd:{}}};i.isEmpty(p)||(v.config.fpd.site=p),i.isEmpty(g)||(v.config.fpd.user=g),i.deepSetValue(s,"ext.prebid.bidderconfig.0",v)}var y=i.deepAccess(e,"fpd.context.pbAdSlot");return"string"==typeof y&&y&&i.deepSetValue(s.imp[0].ext,"context.data.pbadslot",y),["name","adSlot"].forEach((function(t){var r=i.deepAccess(e,"fpd.context.adserver.".concat(t));"string"==typeof r&&r&&i.deepSetValue(s.imp[0].ext,"context.data.adserver.".concat(t.toLowerCase()),r)})),e.storedAuctionResponse&&i.deepSetValue(s.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),i.deepSetValue(s.imp[0],"ext.prebid.auctiontimestamp",t.auctionStart),{method:"POST",url:"https://".concat(rs.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:s,bidRequest:e}}));if(!0!==rs.singleRequest)r=n.concat(e.filter((function(e){return"banner"===us(e)})).map((function(e){var r=is.createSlotParams(e,t);return{method:"GET",url:"https://".concat(rs.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:is.getOrderedParams(r).reduce((function(e,t){var n=r[t];return i.isStr(n)&&""!==n||i.isNumber(n)?"".concat(e).concat(fs(t,n),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var o=e.filter((function(e){return"banner"===us(e)})).reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});r=n.concat(Object.keys(o).reduce((function(e,r){var n;return(n=o[r],10,n.map((function(e,t){return t%10==0?n.slice(t,t+10):null})).filter((function(e){return e}))).forEach((function(r){var n=is.combineSlotUrlParams(r.map((function(e){return is.createSlotParams(e,t)})));e.push({method:"GET",url:"https://".concat(rs.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:is.getOrderedParams(n).reduce((function(e,t){var r=n[t];return i.isStr(r)&&""!==r||i.isNumber(r)?"".concat(e).concat(fs(t,r),"&"):e}),"")+"slots=".concat(r.length,"&rand=").concat(Math.random()),bidRequest:r})})),e}),[]))}return r},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain","tpid_tdid","tpid_liveintent.com","tg_v.LIseg","ppuid","eid_pubcid.org","eid_sharedid.org","eid_criteo.com","rf","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return n.concat(Object.keys(e).filter((function(e){return-1===n.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,r,n){return Object.keys(r).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(n,1,r[i])})),t}),{}),r=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var n=t[e].join(";"),i=n.match(r);t[e]=i?i[1]:n})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var r=e.params,n=as(e,"banner"),o=Xa(r.latLong||[],2),a=o[0],s=o[1],c={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:n[0],alt_size_ids:n.slice(1).join(",")||void 0,rp_floor:(r.floor=parseFloat(r.floor))>.01?r.floor:.01,rp_secure:"1",tk_flint:"".concat(rs.int_type||"pbjs_lite","_v4.13.0-mol-1"),"x_source.tid":e.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:os(e,t)};if("function"==typeof e.getFloor&&!rs.disableFloors){var u;try{u=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){i.logError("Rubicon: getFloor threw an error: ",e)}c.rp_hard_floor="object"!==ts(u)||"USD"!==u.currency||isNaN(parseInt(u.floor))?void 0:u.floor}if(c.p_pos="atf"===r.position||"btf"===r.position?r.position:"",e.userIdAsEids&&e.userIdAsEids.length){var d=m()(e.userIdAsEids,(function(e){return"adserver.org"===e.source}));d&&(c.tpid_tdid=d.uids[0].id);var f=m()(e.userIdAsEids,(function(e){return"liveintent.com"===e.source}));f&&(c["tpid_liveintent.com"]=f.uids[0].id,f.ext&&Array.isArray(f.ext.segments)&&f.ext.segments.length&&(c["tg_v.LIseg"]=f.ext.segments.join(",")));var p=m()(e.userIdAsEids,(function(e){return"liveramp.com"===e.source}));p&&(c.x_liverampidl=p.uids[0].id);var g=m()(e.userIdAsEids,(function(e){return"sharedid.org"===e.source}));g&&(c["eid_sharedid.org"]="".concat(g.uids[0].id,"^").concat(g.uids[0].atype,"^").concat(g.uids[0].ext.third));var v=m()(e.userIdAsEids,(function(e){return"pubcid.org"===e.source}));v&&(c["eid_pubcid.org"]="".concat(v.uids[0].id,"^").concat(v.uids[0].atype));var y=m()(e.userIdAsEids,(function(e){return"criteo.com"===e.source}));y&&(c["eid_criteo.com"]="".concat(y.uids[0].id,"^").concat(y.uids[0].atype))}var h=l.vc.getConfig("user.id");if(h)c.ppuid=h;else for(var b=0;e.userIdAsEids&&b<e.userIdAsEids.length;b++)if(e.userIdAsEids[b].uids){var w=m()(e.userIdAsEids[b].uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));if(w&&w.id){c.ppuid=w.id;break}}t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(c.gdpr=Number(t.gdprConsent.gdprApplies)),c.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(c.us_privacy=encodeURIComponent(t.uspConsent));var S=Qa({},r.visitor,l.vc.getConfig("fpd.user"));Object.keys(S).forEach((function(e){null!=S[e]&&"keywords"!==e&&(c["tg_v.".concat(e)]="object"!==ts(S[e])||Array.isArray(S[e])?S[e].toString():JSON.stringify(S[e]))}));var _=Qa({},r.inventory,l.vc.getConfig("fpd.context"));Object.keys(_).forEach((function(e){null!=_[e]&&"keywords"!==e&&(c["tg_i.".concat(e)]="object"!==ts(_[e])||Array.isArray(_[e])?_[e].toString():JSON.stringify(_[e]))}));var O=(r.keywords||[]).concat(i.deepAccess(l.vc.getConfig("fpd.user"),"keywords")||[],i.deepAccess(l.vc.getConfig("fpd.context"),"keywords")||[]);c.kw=Array.isArray(O)&&O.length?O.join(","):"";var I=i.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof I&&I&&(c["tg_i.pbadslot"]=I.replace(/^\/+/,""));var E=i.deepAccess(e,"fpd.context.adServer.adSlot");return"string"==typeof E&&E&&(c["tg_i.dfp_ad_unit_code"]=E.replace(/^\/+/,"")),!0===l.vc.getConfig("coppa")&&(c.coppa=1),e.schain&&ls(e.schain)&&(c.rp_schain=is.serializeSupplyChain(e.schain)),c},serializeSupplyChain:function(e){if(!ls(e))return"";var t=e.ver,r=e.complete,n=e.nodes;return"".concat(t,",").concat(r,"!").concat(is.serializeSupplyChainNodes(n))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){var r=t.bidRequest;if(!(e=e.body)||"object"!==ts(e))return[];if(e.seatbid){var n=i.deepAccess(e,"ext.errors.rubicon");Array.isArray(n)&&n.length>0&&i.logWarn("Rubicon: Error in video response");var o=[];return e.seatbid.forEach((function(t){(t.bid||[]).forEach((function(n){var a={requestId:r.bidId,currency:e.cur||"USD",creativeId:n.crid,cpm:n.price||0,bidderCode:t.seat,ttl:300,netRevenue:!1!==rs.netRevenue,width:n.w||i.deepAccess(r,"mediaTypes.video.w")||i.deepAccess(r,"params.video.playerWidth"),height:n.h||i.deepAccess(r,"mediaTypes.video.h")||i.deepAccess(r,"params.video.playerHeight")};n.id&&(a.seatBidId=n.id),n.dealid&&(a.dealId=n.dealid);var s=i.deepAccess(e,"ext.responsetimemillis.rubicon");if(r&&s&&(r.serverResponseTimeMs=s),i.deepAccess(n,"ext.prebid.type")===I.pX){a.mediaType=I.pX;var c=i.deepAccess(n,"ext.prebid.targeting");c&&"object"===ts(c)&&(a.adserverTargeting=c),n.ext.prebid.cache&&"object"===ts(n.ext.prebid.cache.vastXml)&&n.ext.prebid.cache.vastXml.cacheId&&n.ext.prebid.cache.vastXml.url?(a.videoCacheKey=n.ext.prebid.cache.vastXml.cacheId,a.vastUrl=n.ext.prebid.cache.vastXml.url):c&&c.hb_uuid&&c.hb_cache_host&&c.hb_cache_path&&(a.videoCacheKey=c.hb_uuid,a.vastUrl="https://".concat(c.hb_cache_host).concat(c.hb_cache_path,"?uuid=").concat(c.hb_uuid)),n.adm&&(a.vastXml=n.adm),n.nurl&&(a.vastUrl=n.nurl),!a.vastUrl&&n.nurl&&(a.vastUrl=n.nurl)}else i.logWarn("Rubicon: video response received non-video media type");o.push(a)}))})),o}var a=e.ads;return"object"!==ts(r)||Array.isArray(r)||"video"!==us(r)||"object"!==ts(a)||(a=a[r.adUnitCode]),!Array.isArray(a)||a.length<1?[]:a.reduce((function(t,n,o){if("ok"!==n.status)return t;var a,s,c=Array.isArray(r)?r[o]:r;if(c&&"object"===ts(c)){var u={requestId:c.bidId,currency:"USD",creativeId:n.creative_id||"".concat(n.network||"","-").concat(n.advertiser||""),cpm:n.cpm||0,dealId:n.deal,ttl:300,netRevenue:!1!==rs.netRevenue,rubicon:{advertiserId:n.advertiser,networkId:n.network},meta:{advertiserId:n.advertiser,networkId:n.network}};if(n.creative_type&&(u.mediaType=n.creative_type),n.creative_type===I.pX)u.width=c.params.video.playerWidth,u.height=c.params.video.playerHeight,u.vastUrl=n.creative_depot_url,u.impression_id=n.impression_id,u.videoCacheKey=n.impression_id;else{u.ad=(a=n.script,s=n.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(s,"'>\n<script type='text/javascript'>").concat(a,"<\/script>\n</div>\n</body>\n</html>"));var d=Xa(ns[n.size_id].split("x").map((function(e){return Number(e)})),2);u.width=d[0],u.height=d[1]}u.rubiconTargeting=(Array.isArray(n.targeting)?n.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:c.adUnitCode}),t.push(u)}else i.logError("Rubicon: bidRequest undefined at index position:".concat(o),r,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,t,r,n){if(!ps&&e.iframeEnabled){var i="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?i+="?gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):i+="?gdpr_consent=".concat(r.consentString)),n&&(i+="".concat(i?"&":"?","us_privacy=").concat(encodeURIComponent(n))),ps=!0,{type:"iframe",url:"https://".concat(rs.syncHost||"eus",".rubiconproject.com/usync.html")+i}}},transformBidParams:function(e,t){return i.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function os(e,t){var r=l.vc.getConfig("pageUrl");return e.params.referrer?r=e.params.referrer:r||(r=t.refererInfo.referer),e.params.secure?r.replace(/^http:/i,"https:"):r}function as(e,t){var r=e.params;if("video"===t){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(i.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(n=e.sizes[0]),n}var o=[];return Array.isArray(r.sizes)?o=r.sizes:void 0!==i.deepAccess(e,"mediaTypes.banner.sizes")?o=ss(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?o=ss(e.sizes):i.logWarn("Rubicon: no sizes are setup or found"),function(e){var t=[15,2,9];return e.sort((function(e,r){var n=t.indexOf(e),i=t.indexOf(r);return n>-1||i>-1?-1===n?1:-1===i?-1:n-i:e-r}))}(o)}function ss(e){return i.parseSizesInput(e).reduce((function(e,t){var r=parseInt(ns[t],10);return r&&e.push(r),e}),[])}function cs(e){return"object"===ts(i.deepAccess(e,"params.video"))&&void 0!==i.deepAccess(e,"mediaTypes.".concat(I.pX))}function us(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return cs(e)?-1===["outstream","instream"].indexOf(i.deepAccess(e,"mediaTypes.".concat(I.pX,".context")))?void(t&&i.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):as(e,"video").length<2?void(t&&i.logError("Rubicon: could not determine the playerSize of the video")):(t&&i.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===as(e,"banner").length?void(t&&i.logError("Rubicon: could not determine the sizes for banner request")):(t&&i.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function ds(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function ls(e){var t=!1,r=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?r.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||i.logError("Rubicon: required schain params missing"),t):t}function fs(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var ps=!1;(0,ot.dX)(is);var gs="sharethrough",ms=[1,1],vs={b64EncodeUnicode:bs,handleIframe:function(){var e=!1;if(!window.lockedInFrame){var t=document.createElement("script");t.src="https://native.sharethrough.com/assets/sfp-set-targeting.js",t.type="text/javascript";try{window.document.getElementsByTagName("body")[0].appendChild(t),e=!0}catch(e){i.logError("Trouble writing frame buster script, error details:",e)}}if(!(e?window.top.STR&&window.top.STR.Tag:window.STR&&window.STR.Tag)){var r=document.createElement("script");r.src="https://native.sharethrough.com/assets/sfp.js",r.type="text/javascript";try{e?window.top.document.getElementsByTagName("body")[0].appendChild(r):window.document.getElementsByTagName("body")[0].appendChild(r)}catch(e){i.logError("Trouble writing sfp script, error details:",e)}}},isLockedInFrame:function(){window.lockedInFrame=!1;try{window.lockedInFrame=!window.top.document}catch(e){window.lockedInFrame=e instanceof DOMException}},getProtocol:function(){return document.location.protocol}},ys={code:gs,isBidRequestValid:function(e){return!!e.params.pkey&&e.bidder===gs},buildRequests:function(e,t){return e.map((function(e){var r={placement_key:e.params.pkey,bidId:e.bidId,consent_required:!1,instant_play_capable:ws(),hbSource:"prebid",hbVersion:"4.13.0-mol-1",strVersion:"3.2.1"},n=vs.getProtocol().indexOf("http")<0;return r.secure=n||vs.getProtocol().indexOf("https")>-1,t&&t.gdprConsent&&t.gdprConsent.consentString&&(r.consent_string=t.gdprConsent.consentString),t&&t.gdprConsent&&(r.consent_required=!!t.gdprConsent.gdprApplies),t&&t.uspConsent&&(r.us_privacy=t.uspConsent),e.userId&&e.userId.tdid&&(r.ttduid=e.userId.tdid),e.schain&&(r.schain=JSON.stringify(e.schain)),e.bidfloor&&(r.bidfloor=parseFloat(e.bidfloor)),{method:"GET",url:"https://btlr.sharethrough.com/WYu2BXv1/v1",data:r,strData:{skipIframeBusting:e.params.iframe,iframeSize:e.params.iframeSize,sizes:e.sizes}}}))},interpretResponse:function(e,t){var r=e.body;if(!r||!r.creatives||!r.creatives.length)return[];var n=r.creatives[0],i=ms;return(t.strData.iframeSize||t.strData.sizes.length)&&(i=t.strData.iframeSize?t.strData.iframeSize:function(e){function t(e){return e[0]*e[1]}return e.reduce((function(e,r){return t(r)>t(e)?r:e}))}(t.strData.sizes)),[{requestId:t.data.bidId,width:i[0],height:i[1],cpm:n.cpm,creativeId:n.creative.creative_key,dealId:n.creative.deal_id,currency:"USD",netRevenue:!0,ttl:360,ad:hs(r,t)}]},getUserSyncs:function(e,t,r,n){var i=n?"&us_privacy=".concat(n):"",o=[];return e.pixelEnabled&&t.length>0&&t[0].body&&t[0].body.cookieSyncUrls&&t[0].body.cookieSyncUrls.forEach((function(e){o.push({type:"image",url:e+i})})),o},onTimeout:function(e){},onBidWon:function(e){},onSetTargeting:function(e){}};function hs(e,t){var r="str_response_".concat(t.data.bidId),n='\n    <div data-str-native-key="'.concat(t.data.placement_key,'" data-stx-response-name="').concat(r,'">\n    </div>\n    <script>var ').concat(r,' = "').concat(bs(JSON.stringify(e)),'"<\/script>\n  ');return t.strData.skipIframeBusting?n+='<script src="https://native.sharethrough.com/assets/sfp.js"><\/script>':n+="\n      <script>\n        (".concat(vs.isLockedInFrame.toString(),")()\n      <\/script>\n      <script>\n        (").concat(vs.handleIframe.toString(),")()\n      <\/script>"),n}function bs(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function ws(){var e=navigator.userAgent;if(!e)return!1;var t=/Android/i.test(e),r=/iPhone|iPad|iPod/i.test(e),n=parseInt((/Chrome\/([0-9]+)/.exec(e)||[0,0])[1]),i=parseInt((/CriOS\/([0-9]+)/.exec(e)||[0,0])[1]),o=parseInt((/Version\/([0-9]+)/.exec(e)||[0,0])[1]);return!!(t&&n>=53||r&&(o>=10||i>=53)||!t&&!r)}function Ss(e){return(Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(0,ot.dX)(ys);var _s={consented_providers:["3","7","11","12","15","20","22","35","43","46","48","55","57","61","62","66","70","80","83","85","86","89","93","108","122","124","125","126","131","134","135","136","143","144","147","149","153","154","159","161","162","165","167","171","178","184","188","192","195","196","202","209","211","218","221","228","229","230","236","239","241","253","255","259","266","271","272","274","286","291","294","303","308","310","311","313","314","316","317","322","323","327","336","338","340","348","350","358","359","363","367","370","371","384","385","389","393","394","397","398","407","414","415","424","429","430","432","436","438","440","442","443","445","448","449","453","459","479","482","486","491","492","494","495","503","505","510","522","523","528","537","540","550","559","560","568","571","574","575","576","584","585","587","588","590","591","592","595","609","621","624","723","725","733","737","776","780","782","787","797","798","802","803","814","817","820","821","827","829","839","853","864","867","874","899","904","922","926","931","932","933","938","955","973","976","979","981","985","987","991","1003","1024","1025","1027","1028","1029","1033","1034","1040","1047","1048","1051","1052","1053","1054","1062","1063","1067","1072","1085","1092","1095","1097","1099","1100","1107","1126","1127","1143","1149","1152","1162","1166","1167","1170","1171","1172","1188","1192","1199","1201","1204","1205","1211","1212","1215","1220","1225","1226","1227","1230","1232","1236","1241","1248","1250","1252","1268","1275","1276","1284","1286","1298","1301","1307","1312","1313","1317","1329","1336","1344","1345","1356","1362","1365","1375","1403","1409","1411","1415","1416","1419","1423","1440","1442","1449","1451","1455","1456","1468","1496","1503","1509","1512","1514","1517","1520","1525","1540","1547","1548","1555","1558","1570","1575","1577","1579","1583","1584","1591","1598","1603","1608","1613","1616","1626","1631","1633","1638","1642","1648","1651","1652","1653","1660","1665","1667","1669","1671","1674","1677","1678","1682","1684","1697","1703","1705","1716","1720","1721","1722","1725","1732","1733","1735","1739","1741","1745","1750","1753","1760","1765","1769","1776","1780","1782","1786","1791","1794","1799","1800","1801","1810","1827","1831","1832","1834","1837","1840","1843","1844","1845","1858","1859","1863","1866","1870","1872","1875","1878","1880","1882","1883","1889","1892","1896","1898","1899","1902","1905","1911","1922","1928","1929","1934","1942","1943","1944","1945","1958","1960","1962","1963","1964","1967","1968","1978","1985","1986","1987","1998","2003","2007","2012","2013","2027","2035","2038","2039","2044","2047","2052","2056","2059","2062","2064","2068","2070","2072","2078","2079","2084","2088","2090","2095","2100","2103","2107","2109","2113","2115","2121","2127","2130","2133","2137","2140","2141","2145","2147","2150","2156","2166","2170","2171","2176","2177","2179","2183","2186","2192","2198","2202","2205","2214","2216","2219","2220","2222","2223","2224","2225","2227","2228","2234","2238","2247","2251","2253","2262","2264","2271","2276","2278","2279","2282","2290","2292","2295","2299","2305","2306","2310","2311","2312","2315","2320","2325","2328","2331","2334","2335","2336","2337","2343","2346","2354","2357","2358","2359","2366","2370","2373","2376","2377","2380","2382","2387","2389","2392","2394","2400","2403","2405","2406","2407","2410","2411","2413","2414","2415","2416","2418","2422","2425","2427","2435","2437","2440","2441","2447","2453","2459","2461","2462","2464","2467","2468","2472","2477","2481","2484","2486","2492","2493","2496","2497","2498","2499","2504","2506","2510","2511","2512","2517","2526","2527","2531","2532","2534","2542","2544","2552","2555","2559","2563","2564","2567","2568","2569","2571","2572","2573","2575","2577","2579","2583","2584","2586","2589","2595","2596","2597","2601","2604","2605","2609","2610","2612","2614","2621","2622","2624","2628","2629","2632","2634","2636","2639","2643","2645","2646","2647","2649","2650","2651","2652","2656","2657","2658","2660","2661","2662","2663","2664","2669","2670","2673","2676","2677","2678","2681","2682","2684","2685","2686","2689","2690","2691","2695","2698","2699","2702","2704","2705","2706","2707","2709","2710","2713","2714","2727","2729","2739","2758","2765","2766","2767","2768","2770","2771","2772","2776","2777","2778","2779","2780","2783","2784","2786","2787","2791","2792","2793","2797","2798","2801","2802","2803","2805","2808","2809","2810","2811","2812","2813","2814","2817","2818","2824","2826","2827","2829","2830","2831","2832","2834","2836","2838","2840","2842","2843","2844","2850","2851","2852","2854","2858","2860","2862","2864","2865","2866","2867","2868","2869","2871"]},Os={code:"spotx",gvlid:165,aliases:["spotx"],supportedMediaTypes:[I.pX],isBidRequestValid:function(e){if(e&&"object"!==Ss(e.params))return i.logError("spotx: params is not defined or is incorrect in the bidder settings."),!1;if(!i.deepAccess(e,"mediaTypes.video"))return i.logError("spotx: mediaTypes.video is not present in the bidder settings."),!1;var t=i.deepAccess(e,"mediaTypes.video.playerSize");if(!t||!i.isArray(t))return i.logError("spotx: mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!i.getBidIdParameter("channel_id",e.params))return i.logError("spotx: channel_id is not present in bidder params"),!1;if(("outstream"==i.deepAccess(e,"mediaTypes.video.context")||"outstream"==i.deepAccess(e,"params.ad_unit"))&&!i.getBidIdParameter("outstream_function",e.params)){if(!i.getBidIdParameter("outstream_options",e.params))return i.logError("spotx: please define outstream_options parameter or override the default SpotX outstream rendering by defining your own Outstream function using field outstream_function."),!1;if(!i.getBidIdParameter("slot",e.params.outstream_options))return i.logError("spotx: please define parameters slot outstream_options object in the configuration."),!1}return!0},buildRequests:function(e,t){var r=t.refererInfo.referer,n=!!r.match(/^https:/);return e.map((function(e){var o;o=i.getBidIdParameter("page",e.params)?i.getBidIdParameter("page",e.params):l.vc.getConfig("pageUrl")?l.vc.getConfig("pageUrl"):r;var a=i.getBidIdParameter("channel_id",e.params),s=null,c=i.deepAccess(e,"mediaTypes.video.playerSize"),u=c[0][0],d=c[0][1],f=n||(i.getBidIdParameter("secure",e.params)?1:0),p={sdk_name:"Prebid 1+",versionOrtb:"2.3"};if(""!=i.getBidIdParameter("hide_skin",e.params)&&(p.hide_skin=+!!i.getBidIdParameter("hide_skin",e.params)),""!=i.getBidIdParameter("ad_volume",e.params)&&(p.ad_volume=i.getBidIdParameter("ad_volume",e.params)),""!=i.getBidIdParameter("ad_unit",e.params)&&(p.ad_unit=i.getBidIdParameter("ad_unit",e.params)),""!=i.getBidIdParameter("outstream_options",e.params)&&(p.outstream_options=i.getBidIdParameter("outstream_options",e.params)),""!=i.getBidIdParameter("outstream_function",e.params)&&(p.outstream_function=i.getBidIdParameter("outstream_function",e.params)),""!=i.getBidIdParameter("custom",e.params)&&(p.custom=i.getBidIdParameter("custom",e.params)),""!=i.getBidIdParameter("pre_market_bids",e.params)&&i.isArray(i.getBidIdParameter("pre_market_bids",e.params))){var g=i.getBidIdParameter("pre_market_bids",e.params);for(var m in p.pre_market_bids=[],g){var v=g[m],y="";v.vast_url?y='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+v.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":v.vast_string&&(y=v.vast_string),p.pre_market_bids.push({id:v.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:v.deal_id,price:v.price,adm:y}]}],cur:v.currency,ext:{event_log:[{}]}})}}var h=i.getBidIdParameter("mimes",e.params)||["application/javascript","video/mp4","video/webm"],b={id:e.bidId,secure:f,video:{w:u,h:d,ext:p,mimes:h}};""!=i.getBidIdParameter("price_floor",e.params)&&(b.bidfloor=i.getBidIdParameter("price_floor",e.params)),""!=i.getBidIdParameter("start_delay",e.params)&&(b.video.startdelay=0+Boolean(i.getBidIdParameter("start_delay",e.params))),""!=i.getBidIdParameter("min_duration",e.params)&&(b.video.minduration=i.getBidIdParameter("min_duration",e.params)),""!=i.getBidIdParameter("max_duration",e.params)&&(b.video.maxduration=i.getBidIdParameter("max_duration",e.params)),""!=i.getBidIdParameter("placement_type",e.params)&&(b.video.ext.placement=i.getBidIdParameter("placement_type",e.params)),""!=i.getBidIdParameter("position",e.params)&&(b.video.ext.pos=i.getBidIdParameter("position",e.params)),e.crumbs&&e.crumbs.pubcid&&(s=e.crumbs.pubcid);var w=navigator.language?"language":"userLanguage",S={id:a,imp:b,site:{id:"",page:o,content:"content"},device:{h:screen.height,w:screen.width,dnt:i.getDNT()?1:0,language:navigator[w].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent},ext:{wrap_response:1}};i.getBidIdParameter("number_of_ads",e.params)&&(S.ext.number_of_ads=i.getBidIdParameter("number_of_ads",e.params));var _={};return 1==i.getBidIdParameter("spotx_all_google_consent",e.params)&&(_.consented_providers_settings=_s),t&&t.gdprConsent&&(_.consent=t.gdprConsent.consentString,void 0!==t.gdprConsent.gdprApplies&&i.deepSetValue(S,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&i.deepSetValue(S,"regs.ext.us_privacy",t.uspConsent),i.deepAccess(e,"userId.id5id.uid")&&(_.eids=_.eids||[],_.eids.push({source:"id5-sync.com",uids:[{id:e.userId.id5id.uid}],ext:e.userId.id5id.ext||{}})),s&&(_.fpc=s),e&&e.schain&&(S.source={ext:{schain:e.schain}}),e&&e.userId&&e.userId.tdid&&(_.eids=_.eids||[],_.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]})),i.isEmpty(_)||(S.user={ext:_}),{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+a,data:S,bidRequest:t}}))},interpretResponse:function(e,t){var r=[],n=e.body;return n&&i.isArray(n.seatbid)&&i._each(n.seatbid,(function(e){i._each(e.bid,(function(e){var o={};for(var a in t.bidRequest.bids)e.impid==t.bidRequest.bids[a].bidId&&(o=t.bidRequest.bids[a]);i._each(o.params.pre_market_bids,(function(t){t.deal_id==e.id&&(e.price=t.price,n.cur=t.currency)}));var s={requestId:o.bidId,currency:n.cur||"USD",cpm:e.price,creativeId:e.crid||"",dealId:e.dealid||"",ttl:360,netRevenue:!0,channel_id:n.id,cache_key:e.ext.cache_key,vastUrl:"https://search.spotxchange.com/ad/vast.html?key="+e.ext.cache_key,videoCacheKey:e.ext.cache_key,mediaType:I.pX,width:e.w,height:e.h};s.meta=s.meta||{},e&&e.adomain&&e.adomain.length>0&&(s.meta.advertiserDomains=e.adomain);var c=i.deepAccess(o,"mediaTypes.video.context"),u=i.deepAccess(o,"params.ad_unit");if("outstream"==c||"outstream"==u){var d=i.deepAccess(o,"mediaTypes.video.playerSize"),l=y.install({id:0,url:"//",config:{adText:"SpotX Outstream Video Ad via Prebid.js",player_width:d[0][0],player_height:d[0][1],content_page_url:i.deepAccess(t,"data.site.page"),ad_mute:+!!i.deepAccess(o,"params.ad_mute"),hide_skin:+!!i.deepAccess(o,"params.hide_skin"),outstream_options:i.deepAccess(o,"params.outstream_options"),outstream_function:i.deepAccess(o,"params.outstream_function")}});try{l.setRender(Is),l.setEventHandlers({impression:function(){return i.logMessage("SpotX outstream video impression event")},loaded:function(){return i.logMessage("SpotX outstream video loaded event")},ended:function(){i.logMessage("SpotX outstream renderer video event")}})}catch(e){i.logWarn("Prebid Error calling setRender or setEve,tHandlers on renderer",e)}s.renderer=l}r.push(s)}))})),r}};function Is(e){var t=function(e){var t=i.getBidIdParameter("slot",e.renderer.config.outstream_options);i.logMessage("[SPOTX][renderer] Handle SpotX outstream renderer");var r=window.document.createElement("script");r.type="text/javascript",r.src="https://js.spotx.tv/easi/v1/"+e.channel_id+".js";var n={};n["data-spotx_channel_id"]=""+e.channel_id,n["data-spotx_vast_url"]=""+e.vastUrl,n["data-spotx_content_page_url"]=e.renderer.config.content_page_url,n["data-spotx_ad_unit"]="incontent",i.logMessage("[SPOTX][renderer] Default beahavior"),i.getBidIdParameter("ad_mute",e.renderer.config.outstream_options)&&(n["data-spotx_ad_mute"]="1"),n["data-spotx_collapse"]="0",n["data-spotx_autoplay"]="1",n["data-spotx_blocked_autoplay_override_mode"]="1",n["data-spotx_video_slot_can_autoplay"]="1";var o=i.getBidIdParameter("playersize_auto_adapt",e.renderer.config.outstream_options);if(o&&i.isBoolean(o)&&!0===o)if(e.width&&i.isNumber(e.width)&&e.height&&i.isNumber(e.height)){var a=e.width/e.height,s=window.document.getElementById(t).clientWidth,c=e.renderer.config.player_width,u=e.renderer.config.player_height,d=0,l=0;s<c&&(u=(c=s)/a),a<=1?(d=Math.round(u*a),l=u):(d=c,l=Math.round(c/a)),n["data-spotx_content_width"]=""+d,n["data-spotx_content_height"]=""+l}else i.logWarn("[SPOTX][renderer] PlayerSize auto adapt: bid.width and bid.height are incorrect");var f=i.getBidIdParameter("custom_override",e.renderer.config.outstream_options);if(f&&i.isPlainObject(f))for(var p in i.logMessage("[SPOTX][renderer] Custom behavior."),f)f.hasOwnProperty(p)&&("channel_id"===p||"vast_url"===p||"content_page_url"===p||"ad_unit"===p?i.logWarn("[SPOTX][renderer] Custom behavior: following option cannot be overridden: "+p):n["data-spotx_"+p]=f[p]);for(var g in n)n.hasOwnProperty(g)&&r.setAttribute(g,n[g]);return r}(e);if(null!=e.renderer.config.outstream_function&&"function"==typeof e.renderer.config.outstream_function)e.renderer.config.outstream_function(e,t);else try{var r=i.getBidIdParameter("in_iframe",e.renderer.config.outstream_options);if(r&&"IFRAME"==window.document.getElementById(r).nodeName){var n=window.document.getElementById(r),o=n.contentDocument;!o&&n.contentWindow&&(o=n.contentWindow.document),o.body.appendChild(t)}else{var a=i.getBidIdParameter("slot",e.renderer.config.outstream_options);a&&window.document.getElementById(a)?window.document.getElementById(a).appendChild(t):window.document.getElementsByTagName("head")[0].appendChild(t)}}catch(e){i.logError("[SPOTX][renderer] Error:"+e.message)}}(0,ot.dX)(Os);var Es=r(4753),As={code:"teads",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){var t=!1;if(void 0!==e.params){var r=js(Es.getValue(e.params,"placementId")),n=js(Es.getValue(e.params,"pageId"));t=r&&n}return t||Es.logError("Teads placementId and pageId parameters are required. Bid aborted."),t},buildRequests:function(e,t){var r,n=e.map(Ps),i={referrer:ks(t),pageReferrer:document.referrer,networkBandwidth:(r=window.navigator,r&&r.connection&&r.connection.downlink>=0?r.connection.downlink.toString():""),timeToFirstByte:xs(window),data:n,deviceWidth:screen.width,hb_version:"4.13.0-mol-1"};e[0].schain&&(i.schain=e[0].schain);var o=t.gdprConsent;if(t&&o){var a="boolean"==typeof o.gdprApplies,s="string"==typeof o.consentString,c=a?function(e,t,r){var n=12;return e?function(e,t){return e&&1===t?e.hasGlobalScope||e.hasGlobalConsent:!(!e||2!==t||e.isServiceSpecific)}(t,r)&&(n=11):n=0,n}(o.gdprApplies,o.vendorData,o.apiVersion):22;i.gdpr_iab={consent:s?o.consentString:"",status:c,apiVersion:o.apiVersion}}return t&&t.uspConsent&&(i.us_privacy=t.uspConsent),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(i)}},interpretResponse:function(e,t){var r=[];return(e=e.body).responses&&e.responses.forEach((function(e){var t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(t.dealId=e.dealId),r.push(t)})),r}};function ks(e){var t="";return e&&e.refererInfo&&e.refererInfo.referer&&(t=e.refererInfo.referer),t}function xs(e){var t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,r=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&t.getEntriesByType("navigation")[0].responseStart>0&&t.getEntriesByType("navigation")[0].requestStart>0&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(r)return r.toString();var n=t&&t.timing.responseStart&&t.timing.requestStart&&t.timing.responseStart>0&&t.timing.requestStart>0&&t.timing.responseStart-t.timing.requestStart;return n?n.toString():""}function Ps(e){var t={},r=Es.getValue(e.params,"placementId"),n=Es.getValue(e.params,"pageId");return t.sizes=function(e){return Es.parseSizesInput(function(e){var t=Es.deepAccess(e,"mediaTypes.video.playerSize"),r=Es.deepAccess(e,"mediaTypes.video.sizes"),n=Es.deepAccess(e,"mediaTypes.banner.sizes");return Es.isArray(n)||Es.isArray(t)||Es.isArray(r)?[n,r,t].reduce((function(e,t){return Es.isArray(t)&&(Es.isArray(t[0])?t.forEach((function(t){e.push(t)})):e.push(t)),e}),[]):e.sizes}(e))}(e),t.bidId=Es.getBidIdParameter("bidId",e),t.bidderRequestId=Es.getBidIdParameter("bidderRequestId",e),t.placementId=parseInt(r,10),t.pageId=parseInt(n,10),t.adUnitCode=Es.getBidIdParameter("adUnitCode",e),t.auctionId=Es.getBidIdParameter("auctionId",e),t.transactionId=Es.getBidIdParameter("transactionId",e),t}function js(e){return parseInt(e)>0}function Ts(e){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cs(){return(Cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}(0,ot.dX)(As);var Rs="telaria",Ds="tremorhub.com",Us="ads.".concat(Ds,"/ad/tag"),Ms="events.".concat(Ds,"/diag"),Bs={code:Rs,aliases:["tremor","tremorvideo"],supportedMediaTypes:[I.pX],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.adCode&&e.params.supplyCode)},buildRequests:function(e,t){var r=[];return e.forEach((function(e){var n=function(e,t){var r,n,o=i.deepAccess(e,"mediaTypes.video.playerSize");o||i.logWarn("Although player size isn't required it is highly recommended"),o&&(!i.isArray(o)||2!==o.length||isNaN(o[0])||isNaN(o[1])?"object"===Ts(o)&&(r=o[0][0],n=o[0][1]):(r=o[0],n=o[1]));var a=i.deepAccess(e,"params.supplyCode"),s=i.deepAccess(e,"params.adCode");if(a&&s){var c="https://".concat(a,".").concat(Us,"?adCode=").concat(s);r&&(c+="&playerWidth=".concat(r)),n&&(c+="&playerHeight=".concat(n));var u=Cs({srcPageUrl:Ns()},e.params);return delete u.adCode,c+="".concat(qs(u,e.schain)),c+="&transactionId=".concat(e.transactionId),t&&(t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(c+="&gdpr=".concat(t.gdprConsent.gdprApplies?1:0)),t.gdprConsent.consentString&&(c+="&gdpr_consent=".concat(t.gdprConsent.consentString))),t.refererInfo&&t.refererInfo.referer&&(c+="&referrer=".concat(encodeURIComponent(t.refererInfo.referer)))),c+"&hb=1&fmt=json"}}(e,t);n&&r.push({method:"GET",url:n,bidId:e.bidId,vastUrl:n.split("&fmt=json")[0]})})),r},interpretResponse:function(e,t){var r,n,o,a=[];try{r=e.body,t.url.split("&").forEach((function(e){var t=e.toLowerCase();t.indexOf("player")>-1&&(t.indexOf("width")>-1?n=e.split("=")[1]:t.indexOf("height")>-1&&(o=e.split("=")[1]))}))}catch(e){i.logError(e),n=0,o=0}if(!r||r.error){var s="in response for ".concat(t.bidderCode," adapter");r&&r.error&&(s+=": ".concat(r.error)),i.logError(s)}else i.isEmpty(r.seatbid)||r.seatbid[0].bid.forEach((function(e){a.push(function(e,t,r,n,i,o){var a=(0,ke.m)(e,t);return r&&Cs(a,{requestId:t.bidId,cpm:r.price,creativeId:r.crid||"-1",vastXml:r.adm,vastUrl:t.vastUrl,mediaType:"video",width:n,height:i,bidderCode:"telaria",adId:r.id,currency:"USD",netRevenue:!0,ttl:300,ad:r.adm}),a.meta=a.meta||{},r&&r.adomain&&r.adomain.length>0&&(a.meta.advertiserDomains=r.adomain),a}(c.STATUS.GOOD,t,e,n,o))}));return a},getUserSyncs:function(e,t){var r=[];return e.pixelEnabled&&t.length&&(i.deepAccess(t,"0.body.ext.telaria.userSync")||[]).forEach((function(e){return r.push({type:"image",url:e})})),r},onTimeout:function(e){var t=zs(e);t&&i.triggerPixel(t)}};function Ns(){return encodeURIComponent(document.location.href)}function Ls(e){return i.isEmpty(e)?"":encodeURIComponent(e)}function qs(e,t){var r="";if(!i.isEmpty(e)){for(var n in e)"schain"!==n&&e.hasOwnProperty(n)&&!i.isEmpty(e[n])&&(r+="&".concat(n,"=").concat(e[n]));r+=function(e){if(i.isEmpty(e))return"";var t="&schain=".concat(e.ver,",").concat(e.complete);return e.nodes.forEach((function(e){t+="!",t+="".concat(Ls(e.asi),","),t+="".concat(Ls(e.sid),","),t+="".concat(Ls(e.hp),","),t+="".concat(Ls(e.rid),","),t+="".concat(Ls(e.name),","),t+="".concat(Ls(e.domain))})),t}(i.isEmpty(t)?e.schain:t)}return r}var zs=function(e){var t=i.deepAccess(e,"0.params.0");if(!i.isEmpty(t)){var r="https://".concat(Ms);return t=Cs({srcPageUrl:Ns()},t),(r+="".concat(qs(t)))+"&hb=1&evt=TO"}};function Vs(){return(Vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fs(e){return(Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(r),!0).forEach((function(t){Hs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ws(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ks(e){return function(e){if(Array.isArray(e))return $s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ot.dX)(Bs);var Ys=!0,Js=null,Xs={code:"triplelift",supportedMediaTypes:[I.Mk,I.pX],isBidRequestValid:function(e){if(e.mediaTypes.video){var t=Zs(e);if(!t.w||!t.h)return!1}return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var r="https://tlx.3lift.com/header/auction?",n=function(e){var t,r,n,o={},a=e[0].schain,s=(t={},r=Vs({},l.vc.getConfig("fpd.context")),n=Vs({},l.vc.getConfig("fpd.user")),ec(t,r),ec(t,n),t);o.imp=e.map((function(e,t){var r={id:t,tagid:e.params.inventoryCode,floor:Qs(e)};return function(e){return!!e.mediaTypes.video&&(!!e.mediaTypes.video.context&&"instream"===e.mediaTypes.video.context.toLowerCase())}(e)?r.video=Zs(e):e.mediaTypes.banner&&(r.banner={format:rc(e.sizes)}),r}));var c=[].concat(Ks(function(e){return tc(e,"tdid","adserver.org","TDID")}(e)),Ks(function(e){return tc(e,"idl_env","liveramp.com","idl")}(e)),Ks(function(e){return tc(e,"criteoId","criteo.com","criteoId")}(e)));c.length>0&&(o.user={ext:{eids:c}});var u=function(e,t){var r={};return i.isEmpty(e)||(r.schain=Gs({},e)),i.isEmpty(t)||(r.fpd=Gs({},t)),r}(a,s);return i.isEmpty(u)||(o.ext=u),o}(e);if(r=i.tryAppendQueryString(r,"lib","prebid"),r=i.tryAppendQueryString(r,"v","4.13.0-mol-1"),t&&t.refererInfo){var o=t.refererInfo.referer;r=i.tryAppendQueryString(r,"referrer",o)}return t&&t.timeout&&(r=i.tryAppendQueryString(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(Ys=t.gdprConsent.gdprApplies,r=i.tryAppendQueryString(r,"gdpr",Ys.toString())),void 0!==t.gdprConsent.consentString&&(Js=t.gdprConsent.consentString,r=i.tryAppendQueryString(r,"cmp_cs",Js))),t&&t.uspConsent&&(r=i.tryAppendQueryString(r,"us_privacy",t.uspConsent)),!0===l.vc.getConfig("coppa")&&(r=i.tryAppendQueryString(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),i.logMessage("tlCall request built: "+r),{method:"POST",url:r,data:n,bidderRequest:t}},interpretResponse:function(e,t){var r=t.bidderRequest;return(e.body.bids||[]).map((function(e){return function(e,t){var r={},n=t.width||1,i=t.height||1,o=t.deal_id||"",a=t.crid||"",s=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(r={requestId:s.bidId,cpm:t.cpm,width:n,height:i,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},s.mediaTypes.video&&(r.vastXml=t.ad,r.mediaType="video"),t.advertiser_name&&(r.meta.advertiserName=t.advertiser_name)),r}(r,e)}))},getUserSyncs:function(e,t,r,n){var o=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(o){var a="https://eb2.3lift.com/sync?";return"image"===o&&(a=i.tryAppendQueryString(a,"px",1),a=i.tryAppendQueryString(a,"src","prebid")),null!==Js&&(a=i.tryAppendQueryString(a,"gdpr",Ys),a=i.tryAppendQueryString(a,"cmp_cs",Js)),n&&(a=i.tryAppendQueryString(a,"us_privacy",n)),[{type:o,url:a}]}}};function Zs(e){var t=Gs(Gs({},e.params.video),e.mediaTypes.video);return t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1]),"instream"===t.context&&(t.placement=1),delete t.playerSize,t}function Qs(e){var t=null;if("function"==typeof e.getFloor){var r=e.getFloor({currency:"USD",mediaType:"banner",size:rc(e.sizes)});"object"!==Fs(r)||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(t=parseFloat(r.floor))}return null!==t?t:e.params.floor}function ec(e,t){i.isEmpty(t)||Object.keys(t).forEach((function(r){null!=t[r]&&(e[r]=t[r])}))}function tc(e,t,r,n){return e.map(function(e){return function(t){return t&&t.userId&&t.userId[e]}}(t)).filter((function(e){return!!e})).map(function(e,t){return function(r){return{source:e,uids:[{id:r,ext:{rtiPartner:t}}]}}}(r,n))}function rc(e){return e.filter(nc).map((function(e){return{w:e[0],h:e[1]}}))}function nc(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,ot.dX)(Xs);var ic="unifiedId",oc={name:ic,decode:function(e){return e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0},getId:function(e){var t=e&&e.params||{};if(t&&("string"==typeof t.partner||"string"==typeof t.url)){var r=t.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(t.partner,"&fmt=json");return{callback:function(e){var t={success:function(t){var r;if(t)try{r=JSON.parse(t)}catch(e){i.logError(e)}e(r)},error:function(t){i.logError("".concat(ic,": ID fetch encountered an error"),t),e()}};(0,d.h)(r,t,void 0,{method:"GET",withCredentials:!0})}}}i.logError("User ID - unifiedId submodule requires either partner or url to be defined")}};(0,_.Bx)("userId",oc);var ac={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getEidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=i.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:1},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:1,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:1},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:1},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},vmuid:{source:"verizonmedia.com",atype:1}};function sc(e,t){var r=ac[t];if(r&&e){var n={};n.source=r.source;var o=i.isFn(r.getValue)?r.getValue(e):e;if(i.isStr(o)){var a={id:o,atype:r.atype};if(i.isFn(r.getUidExt)){var s=r.getUidExt(e);s&&(a.ext=s)}if(n.uids=[a],i.isFn(r.getEidExt)){var c=r.getEidExt(e);c&&(n.ext=c)}return n}}return null}function cc(e){var t=[];for(var r in e)if(e.hasOwnProperty(r))if("pubProvidedId"===r)t=t.concat(e.pubProvidedId);else{var n=sc(e[r],r);n&&t.push(n)}return t}function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dc,lc,fc,pc,gc="User ID",mc="cookie",vc="html5",yc="_pbjs_userid_consent_data",hc=(0,xe.eA)("userid"),bc=[],wc=!1,Sc=[],_c=[],Oc=[];function Ic(e,t){var r=e.config.storage,n="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var o=i.isPlainObject(t)?JSON.stringify(t):t,a=new Date(Date.now()+864e5*r.expires).toUTCString();r.type===mc?(hc.setCookie(r.name,o,a,"Lax",n),"number"==typeof r.refreshInSeconds&&hc.setCookie("".concat(r.name,"_last"),(new Date).toUTCString(),a,"Lax",n)):r.type===vc&&(hc.setDataInLocalStorage("".concat(r.name,"_exp"),a),hc.setDataInLocalStorage(r.name,encodeURIComponent(o)),"number"==typeof r.refreshInSeconds&&hc.setDataInLocalStorage("".concat(r.name,"_last"),(new Date).toUTCString()))}catch(e){i.logError(e)}}function Ec(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=r?"".concat(e.name,"_").concat(r):e.name;try{if(e.type===mc)t=hc.getCookie(n);else if(e.type===vc){var o=hc.getDataFromLocalStorage("".concat(e.name,"_exp"));""===o?t=hc.getDataFromLocalStorage(n):o&&new Date(o).getTime()-Date.now()>0&&(t=decodeURIComponent(hc.getDataFromLocalStorage(n)))}"string"==typeof t&&"{"===t.charAt(0)&&(t=JSON.parse(t))}catch(e){i.logError(e)}return t}function Ac(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),i.cyrb53Hash(JSON.stringify(t))}function kc(e){try{var t=new Date(Date.now()+2592e6).toUTCString();hc.setCookie(yc,Ac(e),t,"Lax")}catch(e){i.logError(e)}}function xc(){try{return hc.getCookie(yc)}catch(e){i.logError(e)}}function Pc(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return!1;if(1===e.apiVersion&&!1===i.deepAccess(e,"vendorData.purposeConsents.1"))return!1;if(2===e.apiVersion&&!1===i.deepAccess(e,"vendorData.purpose.consents.1"))return!1}return!0}function jc(e,t){var r=t?i.delayExecution(t,e.length):function(){};e.forEach((function(e){e.callback((function(t){t?(e.config.storage&&Ic(e,t),e.idObj=e.submodule.decode(t,e.config)):i.logInfo("".concat(gc,": ").concat(e.submodule.name," - request id responded with an empty value")),r()})),e.callback=void 0})),clearTimeout(lc)}function Tc(e){return Array.isArray(e)&&e.length?e.filter((function(e){return i.isPlainObject(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(r){e[r]=t.idObj[r]})),e}),{}):{}}function Cc(e){var t=!1;if(void 0===dc&&(dc=function(e,t){var r=xc();kc(t);var n=Bc(e,t),o=n.userIdModules;return n.hasValidated||Pc(t)?o.reduce((function(e,n){return Nc(n,t,r,!1),e.push(n),e}),[]):(i.logWarn("".concat(gc," - gdpr permission not valid for local storage or cookies, exit module")),[])}(Sc,vr.rp.getConsentData())).length){var r=dc.filter((function(e){return i.isFn(e.callback)}));if(r.length)if(e&&pc>0){t=!0;var n=!1,o=function(){n||(n=!0,e())};i.logInfo("".concat(gc," - auction delayed by ").concat(pc," at most to fetch ids")),lc=setTimeout(o,pc),jc(r,o)}else a().on(c.EVENTS.AUCTION_END,(function e(){a().off(c.EVENTS.AUCTION_END,e),fc>0?setTimeout((function(){jc(r)}),fc):jc(r)}))}e&&!t&&e()}function Rc(e,t){Cc((function(){!function(e,t){if(![e].some((function(e){return!Array.isArray(e)||!e.length}))){var r=Tc(t),n=cc(r);Object.keys(r).length&&e.forEach((function(e){e.bids&&i.isArray(e.bids)&&e.bids.forEach((function(e){e.userId=r,e.userIdAsEids=n}))}))}}(t.adUnits||n().adUnits,dc),e.call(this,t)}))}function Dc(){return Cc(),Tc(dc)}function Uc(){return Cc(),cc(Tc(dc))}function Mc(e,t){var r=e?e.submoduleNames:null;r||(r=[]),Cc((function(){var e=vr.rp.getConsentData(),n=xc();kc(e);var o=Bc(Sc,e),a=o.userIdModules;if(o.hasValidated||Pc(e)){var s,c=[],u=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return uc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(a);try{for(u.s();!(s=u.n()).done;){var d=s.value;r.length>0&&-1===r.indexOf(d.submodule.name)||(i.logInfo("".concat(gc," - refreshing ").concat(d.submodule.name)),Nc(d,e,n,!0),i.isFn(d.callback)&&c.push(d))}}catch(e){u.e(e)}finally{u.f()}c.length>0&&jc(c),t&&t()}else i.logWarn("".concat(gc," - gdpr permission not valid for local storage or cookies, exit module"))}))}var Bc=(0,_.z3)("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function Nc(e,t,r,n){if(e.config.storage){var o,a=Ec(e.config.storage),s=!1;if("number"==typeof e.config.storage.refreshInSeconds){var c=new Date(Ec(e.config.storage,"last"));s=c&&Date.now()-c.getTime()>1e3*e.config.storage.refreshInSeconds}!a||s||n||!function(e,t){return null==e||e===Ac(t)}(r,t)?o=e.submodule.getId(e.config,t,a):"function"==typeof e.submodule.extendId&&(o=e.submodule.extendId(e.config,a)),i.isPlainObject(o)&&(o.id&&(Ic(e,o.id),a=o.id),"function"==typeof o.callback&&(e.callback=o.callback)),a&&(e.idObj=e.submodule.decode(a,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var u=e.submodule.getId(e.config,t,void 0);i.isPlainObject(u)&&("function"==typeof u.callback&&(e.callback=u.callback),u.id&&(e.idObj=e.submodule.decode(u.id,e.config)))}}function Lc(){var e=function(e,t,r){return Array.isArray(e)?e.reduce((function(e,t){return!t||i.isEmptyStr(t.name)||(!t.storage||i.isEmptyStr(t.storage.type)||i.isEmptyStr(t.storage.name)||-1===r.indexOf(t.storage.type)?i.isPlainObject(t.value)?e.push(t):t.storage||t.value||e.push(t):e.push(t)),e}),[]):[]}(_c,0,bc);if(e.length){var t=Oc.filter((function(e){return!m()(Sc,(function(t){return t.name===e.name}))}));Sc=t.map((function(t){var r=m()(e,(function(e){return e.name===t.name}));return r?{submodule:t,config:r,callback:void 0,idObj:void 0}:null})).filter((function(e){return null!==e})),!wc&&Sc.length&&(n().requestBids.before(Rc,40),i.logInfo("".concat(gc," - usersync config updated for ").concat(Sc.length," submodules")),wc=!0)}}!function(e){Sc=[],_c=[],wc=!1,dc=void 0,-1===(bc=[hc.localStorageIsEnabled()?vc:null,hc.cookiesAreEnabled()?mc:null].filter((function(e){return null!==e}))).indexOf(mc)||!hc.getCookie("_pbjs_id_optout")&&!hc.getCookie("_pubcid_optout")?-1===bc.indexOf(vc)||!hc.getDataFromLocalStorage("_pbjs_id_optout")&&!hc.getDataFromLocalStorage("_pubcid_optout")?(e.getConfig((function(e){var t=e.userSync;t&&t.userIds&&(_c=t.userIds,fc=i.isNumber(t.syncDelay)?t.syncDelay:500,pc=i.isNumber(t.auctionDelay)?t.auctionDelay:0,Lc())})),n().getUserIds=Dc,n().getUserIdsAsEids=Uc,n().refreshUserIds=Mc):i.logInfo("".concat(gc," - opt-out localStorage found, exit module")):i.logInfo("".concat(gc," - opt-out cookie found, exit module"))}(l.vc),(0,_.bA)("userId",(function(e){m()(Oc,(function(t){return t.name===e.name}))||(Oc.push(e),Lc())})),it.processQueue();var qc=it},7337:function(e,t,r){"use strict";r.r(t),r.d(t,{get:function(){return w},allDescriptions:function(){return S}});var n=r(7200),i=r(3436),o=r(2378),a=r.n(o);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function p(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}var g={},m=(0,n.ap)().width>1580,v=r.g.PageCriteria.isMobile&&!r.g.PageCriteria.isTablet,y=-1!==["home","ushome","auhome"].indexOf(r.g.PageCriteria.channel),h="news"===r.g.PageCriteria.channel,b=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t.broker).on("update description",(function(e,t){g[e]=t,r.emit("slot descriptions updated",g)})),e.next=4,r.invokeAll("get not-quite-dynamic extra slot descriptions");case 4:e.sent.flat().forEach((function(e){var t=e.pos,r=f(e,["pos"]);g[t]=a()({},g[t],r,{pos:t})})),r.emit("slot descriptions updated",g);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){p(o,n,i,a,s,"next",e)}function s(e){p(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();b.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=e.log;g=function(e){var t=e("plugins.slots.descriptions",{}),r=e("plugins.slots.properties",{}),n=e("plugins.slots.loadConditions",{}),o=e("plugins.slots.loadConditions.slots",{}),a=e("plugins.slots.loadConditions.oopSlots",{});return Object.keys(t).reduce((function(e,s){var c=t[s].replace(/, +/g,",").replace(/ +/g," ").split(" "),u={type:c[2],adUnit:(0,i.Z)(s),pos:s,size:c[2].split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))})),id:c[0],parentId:c[0],slots:[]};return c[1]&&"-"!==c[1]&&(u.dfpPos=c[1]),u=function(e,t,r,n,i){return e.constants?(t&&t[i]&&e.constants[t[i]]&&(n.loadCondition=e.constants[t[i]]),r[i]&&r[i]&&e.constants[r[i]]&&(n.oopLoadCondition=e.constants[r[i]]),n):n}(n,o,a,u,s),u=function(e,t,r){return Object.keys(e).reduce((function(n,i){var o=e[i][r];if(void 0!==o)switch(i){case"conditionalSizes":if(!o||!o.condition||!o.sizes)return;(o.condition.wideSkies&&m||o.condition.isPhone&&v||o.condition.or&&o.condition.homeChannel&&(o.condition.homeChannel&&y||o.condition.newsChannel&&h)||o&&o.condition.and&&o.condition.homeChannel&&o.condition.homeChannel&&y&&!o.condition.isPhone&&!v)&&(t.size=o.sizes.split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))})));break;default:n[i]=o}return n}),t)}(r,u,s),e[s]=u,e}),{})}(t);var o=Object.entries(t("slotDescription",{})).reduce((function(e,t){var r,n=d(t,2),o=n[0],a=n[1];return c(c({},e),{},u({},o,c({type:(r=a.size,r.map((function(e){var t=d(e,2),r=t[0],n=t[1];return"".concat(r,"x").concat(n)})).join(",")),adUnit:(0,i.Z)(o),pos:o,parentId:a.id,slots:[],slotTypes:["gpt"]},a)))}),{});n("descriptionsFromSlotDescription",o),r("slotDescriptions.initial",g=c(c({},g),o))};var w=function(e){var t=g[e];return t&&!t.pos&&(t.pos=e),t},S=function(){return g};t.default=b},2236:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=r(9742),l=r(645),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=m,t.SlowBuffer=function(e){return+e!=e&&(e=0),m.alloc(+e)},t.INSPECT_MAX_BYTES=50;var p=2147483647;function g(e){if(e>p)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,m.prototype),t}function m(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return v(e,t,r)}function v(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!m.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|_(e,t),n=g(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(re(e,Uint8Array)){var t=new Uint8Array(e);return w(t.buffer,t.byteOffset,t.byteLength)}return b(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(e));if(re(e,ArrayBuffer)||e&&re(e.buffer,ArrayBuffer))return w(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(re(e,SharedArrayBuffer)||e&&re(e.buffer,SharedArrayBuffer)))return w(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return m.from(n,t,r);var i=function(e){if(m.isBuffer(e)){var t=0|S(e.length),r=g(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||ne(e.length)?g(0):b(e):"Buffer"===e.type&&Array.isArray(e.data)?b(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return m.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(e))}function y(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return y(e),g(e<0?0:0|S(e))}function b(e){for(var t=e.length<0?0:0|S(e.length),r=g(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function w(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,m.prototype),n}function S(e){if(e>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|e}function _(e,t){if(m.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||re(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(e));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ee(e).length;default:if(i)return n?-1:Q(e).length;t=(""+t).toLowerCase(),i=!0}}function O(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return U(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return C(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function I(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),ne(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=m.from(t,n)),m.isBuffer(t))return 0===t.length?-1:A(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):A(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,r,n,i){var o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var d=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===c)return d*a}else-1!==d&&(o-=o-d),d=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var l=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){l=!1;break}if(l)return o}return-1}function k(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=t.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(ne(s))return o;e[r+o]=s}return o}function x(e,t,r,n){return te(Q(t,e.length-r),e,r,n)}function P(e,t,r,n){return te(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function j(e,t,r,n){return te(ee(t),e,r,n)}function T(e,t,r,n){return te(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function C(e,t,r){return 0===t&&r===e.length?d.fromByteArray(e):d.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var c=void 0,u=void 0,d=void 0,l=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(c=e[i+1]))&&(l=(31&o)<<6|63&c)>127&&(a=l);break;case 3:c=e[i+1],u=e[i+2],128==(192&c)&&128==(192&u)&&(l=(15&o)<<12|(63&c)<<6|63&u)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:c=e[i+1],u=e[i+2],d=e[i+3],128==(192&c)&&128==(192&u)&&128==(192&d)&&(l=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&d)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=D));return r}(n)}t.kMaxLength=p,m.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),m.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(e,t,r){return v(e,t,r)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(e,t,r){return function(e,t,r){return y(e),e<=0?g(e):void 0!==t?"string"==typeof r?g(e).fill(t,r):g(e).fill(t):g(e)}(e,t,r)},m.allocUnsafe=function(e){return h(e)},m.allocUnsafeSlow=function(e){return h(e)},m.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==m.prototype},m.compare=function(e,t){if(re(e,Uint8Array)&&(e=m.from(e,e.offset,e.byteLength)),re(t,Uint8Array)&&(t=m.from(t,t.offset,t.byteLength)),!m.isBuffer(e)||!m.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},m.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return m.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=m.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(re(o,Uint8Array))i+o.length>n.length?(m.isBuffer(o)||(o=m.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!m.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},m.byteLength=_,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)I(this,t,t+1);return this},m.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)I(this,t,t+3),I(this,t+1,t+2);return this},m.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)I(this,t,t+7),I(this,t+1,t+6),I(this,t+2,t+5),I(this,t+3,t+4);return this},m.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?R(this,0,e):O.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(e){if(!m.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===m.compare(this,e)},m.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},f&&(m.prototype[f]=m.prototype.inspect),m.prototype.compare=function(e,t,r,n,i){if(re(e,Uint8Array)&&(e=m.from(e,e.offset,e.byteLength)),!m.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(e));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),d=e.slice(t,r),l=0;l<s;++l)if(c[l]!==d[l]){o=c[l],a=d[l];break}return o<a?-1:a<o?1:0},m.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},m.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},m.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},m.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":case"latin1":case"binary":return P(this,e,t,r);case"base64":return j(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function U(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=ie[e[o]];return i}function N(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function q(e,t,r,n,i,o){if(!m.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function z(e,t,r,n,i){Y(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function V(e,t,r,n,i){Y(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function F(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function W(e,t,r,n,i){return t=+t,r>>>=0,i||F(e,0,r,4),l.write(e,t,r,n,23,4),r+4}function G(e,t,r,n,i){return t=+t,r>>>=0,i||F(e,0,r,8),l.write(e,t,r,n,52,8),r+8}m.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,m.prototype),n},m.prototype.readUintLE=m.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},m.prototype.readUintBE=m.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},m.prototype.readUint8=m.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},m.prototype.readBigUInt64LE=oe((function(e){J(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),m.prototype.readBigUInt64BE=oe((function(e){J(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),m.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},m.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},m.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},m.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},m.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},m.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},m.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},m.prototype.readBigInt64LE=oe((function(e){J(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),m.prototype.readBigInt64BE=oe((function(e){J(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),m.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),l.read(this,e,!0,23,4)},m.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),l.read(this,e,!1,23,4)},m.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),l.read(this,e,!0,52,8)},m.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),l.read(this,e,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||q(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||q(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},m.prototype.writeUint8=m.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,1,255,0),this[t]=255&e,t+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},m.prototype.writeBigUInt64LE=oe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),m.prototype.writeBigUInt64BE=oe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return V(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),m.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);q(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},m.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);q(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},m.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},m.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},m.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},m.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},m.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},m.prototype.writeBigInt64LE=oe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),m.prototype.writeBigInt64BE=oe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return V(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),m.prototype.writeFloatLE=function(e,t,r){return W(this,e,t,!0,r)},m.prototype.writeFloatBE=function(e,t,r){return W(this,e,t,!1,r)},m.prototype.writeDoubleLE=function(e,t,r){return G(this,e,t,!0,r)},m.prototype.writeDoubleBE=function(e,t,r){return G(this,e,t,!1,r)},m.prototype.copy=function(e,t,r,n){if(!m.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},m.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!m.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=m.isBuffer(e)?e:m.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var H={};function K(e,t,r){H[e]=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,r);var u,d,l,f,p=(l=g,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(l);if(f){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return a(this,e)});function g(){var r;return n(this,g),r=p.call(this),Object.defineProperty(s(r),"message",{value:t.apply(s(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return u=g,(d=[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}])&&i(u.prototype,d),g}(r)}function $(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function Y(e,t,r,n,i,o){if(e>r||e<t){var a,s="bigint"==typeof t?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new H.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,r){J(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||X(t,e.length-(r+1))}(n,i,o)}function J(e,t){if("number"!=typeof e)throw new H.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,r){if(Math.floor(e)!==e)throw J(e,r),new H.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}K("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),K("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(u(t))}),TypeError),K("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=$(String(r)):"bigint"==typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=$(i)),i+="n"),n+" It must be ".concat(t,". Received ").concat(i)}),RangeError);var Z=/[^+/0-9A-Za-z-_]/g;function Q(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function ee(e){return d.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function te(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function re(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ne(e){return e!=e}var ie=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function oe(e){return"undefined"==typeof BigInt?ae:e}function ae(){throw new Error("BigInt not supported")}},3455:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _src_adloader_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(361),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9524),_src_config_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3485),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4783),_src_utils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4753),core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2332),core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4__),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1582),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1723);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var GVLID=91,ADAPTER_VERSION=32,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_6__.df)(GVLID),LOG_PREFIX="Criteo: ",PUBLISHER_TAG_URL="https://static.criteo.net/js/ld/publishertag.prebid.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.Mk,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.pX,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.B5],isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,t){var r,n;if(_extends(t,{publisherExt:_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("fpd.context"),userExt:_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("fpd.user"),ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("criteo.ceh")}),publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout((function(){(0,_src_adloader_js__WEBPACK_IMPORTED_MODULE_0__.B)(PUBLISHER_TAG_URL,BIDDER_CODE)}),t.timeout)),publisherTagAvailable()){var i=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"4.13.0-mol-1"),o=_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("enableSendAllBids");i.setEnableSendAllBids&&"function"==typeof i.setEnableSendAllBids&&"boolean"==typeof o&&i.setEnableSendAllBids(o),r=i.buildCdbUrl(),n=i.buildCdbRequest()}else{var a=buildContext(e,t);r=buildCdbUrl(a),n=buildCdbRequest(a,e,t)}if(n)return{method:"POST",url:r,data:n,bidRequests:e}},interpretResponse:function(e,t){var r=e.body||e;if(publisherTagAvailable()){var n=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(n)return n.interpretResponse(r,t)}var i=[];return r&&r.slots&&_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.isArray(r.slots)&&r.slots.forEach((function(e){var r=core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4___default()(t.bidRequests,(function(t){return t.adUnitCode===e.impid&&(!t.params.zoneId||parseInt(t.params.zoneId)===e.zoneid)})),n=r.bidId,o={requestId:n,adId:e.bidId||_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.getUniqueIdentifierStr(),cpm:e.cpm,currency:e.currency,netRevenue:!0,ttl:e.ttl||60,creativeId:n,width:e.width,height:e.height,dealId:e.dealCode};if(e.native)if(r.params.nativeCallback)o.ad=createNativeAd(n,e.native,r.params.nativeCallback);else{if(!0===_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("enableSendAllBids"))return;o.native=createPrebidNativeAd(e.native),o.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.B5}else e.video?(o.vastUrl=e.displayurl,o.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.pX):o.ad=e.creative;i.push(o)})),i},onTimeout:function(e){if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach((function(e){-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))}},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var r="";t&&t.refererInfo&&(r=t.refererInfo.referer);var n=_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.parseUrl(r).search,i={url:r,debug:"1"===n.pbt_debug,noLog:"1"===n.pbt_nolog,amp:!1};return e.forEach((function(e){"amp"===e.params.integrationMode&&(i.amp=!0)})),i}function buildCdbUrl(e){var t=CDB_ENDPOINT;return t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("4.13.0-mol-1"),t+="&cb="+String(Math.floor(99999999999*Math.random())),e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&!0!==e.nativeParams.image.sendId||e.nativeParams.icon&&!0!==e.nativeParams.icon.sendId||e.nativeParams.clickUrl&&!0!==e.nativeParams.clickUrl.sendId||e.nativeParams.displayUrl&&!0!==e.nativeParams.displayUrl.sendId||e.nativeParams.privacyLink&&!0!==e.nativeParams.privacyLink.sendId||e.nativeParams.privacyIcon&&!0!==e.nativeParams.privacyIcon.sendId))}function buildCdbRequest(e,t,r){var n,i={publisher:{url:e.url,ext:r.publisherExt},slots:t.map((function(e){n=e.params.networkId||n;var t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),e.fpd&&e.fpd.context&&(t.ext=e.fpd.context),e.params.ext&&(t.ext=_extends({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),e.params.nativeCallback||_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.".concat(_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.B5))?(t.native=!0,checkNativeSendId(e)||_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logWarn(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),t.sizes=parseSizes(retrieveBannerSizes(e),parseNativeSize)):t.sizes=parseSizes(retrieveBannerSizes(e),parseSize),hasVideoMediaType(e)){var r={playersizes:parseSizes(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api};r.skip=e.params.video.skip,r.placement=e.params.video.placement,r.minduration=e.params.video.minduration,r.playbackmethod=e.params.video.playbackmethod,r.startdelay=e.params.video.startdelay,t.video=r}return t}))};return n&&(i.publisher.networkid=n),i.user={ext:r.userExt},r&&r.ceh&&(i.user.ceh=r.ceh),r&&r.gdprConsent&&(i.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(i.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),i.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(i.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(i.user.uspIab=r.uspConsent),i}function retrieveBannerSizes(e){return _src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes}function parseSizes(e,t){return Array.isArray(e[0])?e.map((function(e){return t(e)})):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function parseNativeSize(e){return void 0===e[0]&&void 0===e[1]?"2x2":e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"params.video")&&void 0!==_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.video")}function hasValidVideoMediaType(e){var t=!0;if(["mimes","playerSize","maxduration","protocols","api"].forEach((function(r){void 0===_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.video."+r)&&(t=!1,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logError("Criteo Bid Adapter: mediaTypes.video."+r+" is required"))})),["skip","placement","playbackmethod"].forEach((function(r){void 0===_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"params.video."+r)&&(t=!1,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logError("Criteo Bid Adapter: params.video."+r+" is required"))})),t){if("instream"==e.mediaTypes.video.context&&1===e.params.video.placement)return!0;if("outstream"==e.mediaTypes.video.context&&1!==e.params.video.placement)return!0}return!1}function createPrebidNativeAd(e){return{title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((function(e){return e.url}))}}function createNativeAd(e,t,r){var n="criteo_prebid_native_slots";return window[n]=window[n]||{},window[n][e]={callback:r,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(n,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){var firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logWarn("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{var publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);(0,criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_5__.T)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logInfo("Using Criteo FastBid"),eval(publisherTag)):(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logWarn("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}(0,_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_1__.dX)(spec)},3069:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});var n=r(4753),i={};function o(e,t,r){var n=function(e,t){var r=i[e]=i[e]||{bidders:{}};return t?r.bidders[t]=r.bidders[t]||{}:r}(e,r);return n[t]=(n[t]||0)+1,n[t]}var a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,n.deepAccess)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},8043:function(e,t,r){"use strict";function n(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}r.d(t,{Z:function(){return n}})},7785:function(e,t,r){"use strict";r.d(t,{rp:function(){return x},nX:function(){return P}});var n=r(4753),i=r(7447),o=r(8098),a=r(9524),s=r(6117),c=r(3485),u=r(5244),d=r(1608),l=r.n(d),f=r(2332),p=r.n(f),g=r(3069),m=r(2435);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h,b=r(4753),w=r(6482),S=r(8510),_={},O=_.bidderRegistry={},I=_.aliasRegistry={},E={};c.vc.getConfig("s2sConfig",(function(e){E=e.s2sConfig}));var A={},k=(0,u.z3)("sync",(function(e){var t=e.bidderCode,r=e.auctionId,a=e.bidderRequestId,s=e.adUnits,c=e.labels,u=e.src;return s.reduce((function(e,s){var d=(0,i.$n)((0,i.g7)(s,c),s.mediaTypes,s.sizes),l=d.active,f=d.mediaTypes,p=d.filterResults;return l?p&&b.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" banner sizes from '),p.before,"to ",p.after):b.logInfo('Size mapping disabled adUnit "'.concat(s.code,'"')),l&&e.push(s.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){var d=s.nativeParams||b.deepAccess(s,"mediaTypes.native");d&&(t=y({},t,{nativeParams:(0,o.zs)(d)})),t=y({},t,(0,n.getDefinedParams)(s,["fpd","mediaType","renderer","storedAuctionResponse"]));var l=(0,i.$n)((0,i.g7)(t,c),f),p=l.active,m=l.mediaTypes,v=l.filterResults;return p?v&&b.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'" banner sizes from '),v.before,"to ",v.after):b.logInfo('Size mapping deactivated adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'"')),b.isValidMediaTypes(m)?t=y({},t,{mediaTypes:m}):b.logError("mediaTypes is not correctly configured for adunit ".concat(s.code)),p&&e.push(y({},t,{adUnitCode:s.code,transactionId:s.transactionId,sizes:b.deepAccess(m,"banner.sizes")||b.deepAccess(m,"video.playerSize")||[],bidId:t.bid_id||b.getUniqueIdentifierStr(),bidderRequestId:a,auctionId:r,src:u,bidRequestsCount:g.f.getRequestsCounter(s.code),bidderRequestsCount:g.f.getBidderRequestsCounter(s.code,t.bidder),bidderWinsCount:g.f.getBidderWinsCounter(s.code,t.bidder)})),e}),[])),e}),[]).reduce(n.flatten,[]).filter((function(e){return""!==e}))}),"getBids"),x={consentData:null,setConsentData:function(e){x.consentData=e},getConsentData:function(){return x.consentData}},P={consentData:null,setConsentData:function(e){P.consentData=e},getConsentData:function(){return P.consentData}};function j(){return E&&E.enabled&&E.testing&&h}function T(e,t,r){try{var i=O[e].getSpec();i&&i[t]&&"function"==typeof i[t]&&(b.logInfo("Invoking ".concat(e,".").concat(t)),c.vc.runWithBidder(e,n.bind.call(i[t],i,r)))}catch(r){b.logWarn("Error calling ".concat(t," of ").concat(e))}}_.makeBidRequests=(0,u.z3)("sync",(function(e,t,r,i,o){S.emit(w.EVENTS.BEFORE_REQUEST_BIDS,e);var a=[],s=(0,n.getBidderCodes)(e);c.vc.getConfig("bidderSequence")===c.FD&&(s=(0,n.shuffle)(s));var u=(0,m.n)(),d=s,f=[];if(E.enabled){if(j()){var g=h.getSourceBidderMap(e);f=g[h.CLIENT]}var v=E.bidders;d=s.filter((function(e){return!l()(v,e)||l()(f,e)})),Boolean(j()&&E.testServerOnly)&&function(e){return Boolean(p()(e,(function(e){return p()(e.bids,(function(e){return(e.bidSource||E.bidderControl&&E.bidderControl[e.bidder])&&e.finalSource===h.SERVER}))})))}(e)&&(d.length=0);var y=function(e){var t=E.bidders,r=b.deepClone(e);return r.forEach((function(e){e.bids=e.bids.filter((function(e){return l()(t,e.bidder)&&(!j()||e.finalSource!==h.CLIENT)})).map((function(e){return e.bid_id=b.getUniqueIdentifierStr(),e}))})),r.filter((function(e){return 0!==e.bids.length}))}(e),_=b.generateUUID();v.forEach((function(e){var n=b.getUniqueIdentifierStr(),i={bidderCode:e,auctionId:r,bidderRequestId:n,tid:_,bids:k({bidderCode:e,auctionId:r,bidderRequestId:n,adUnits:b.deepClone(y),labels:o,src:w.S2S.SRC}),auctionStart:t,timeout:E.timeout,src:w.S2S.SRC,refererInfo:u};0!==i.bids.length&&a.push(i)})),y.forEach((function(e){var t=e.bids.filter((function(e){return p()(a,(function(t){return p()(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),a.forEach((function(e){e.adUnitsS2SCopy=y.filter((function(e){return e.bids.length>0}))}))}var I=function(e){var t=b.deepClone(e);return t.forEach((function(e){e.bids=e.bids.filter((function(e){return!j()||e.finalSource!==h.SERVER}))})),t.filter((function(e){return 0!==e.bids.length}))}(e);return d.forEach((function(e){var n=b.getUniqueIdentifierStr(),s={bidderCode:e,auctionId:r,bidderRequestId:n,bids:k({bidderCode:e,auctionId:r,bidderRequestId:n,adUnits:b.deepClone(I),labels:o,src:"client"}),auctionStart:t,timeout:i,refererInfo:u},c=O[e];c||b.logError("Trying to make a request for bidder that does not exist: ".concat(e)),c&&s.bids&&0!==s.bids.length&&a.push(s)})),x.getConsentData()&&a.forEach((function(e){e.gdprConsent=x.getConsentData()})),P.getConsentData()&&a.forEach((function(e){e.uspConsent=P.getConsentData()})),a}),"makeBidRequests"),_.callBids=function(e,t,r,i,o,a,u){if(t.length){var d=(x=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===w.S2S.SRC)].push(t),e}),[[],[]]),P=2,function(e){if(Array.isArray(e))return e}(x)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(x,P)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(x,P)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],p=d[1];if(p.length){var g=(0,s.O)(a,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),m=E.bidders,y=O[E.adapter],h=p[0].tid,_=p[0].adUnitsS2SCopy;if(y){var I={tid:h,ad_units:_};if(I.ad_units.length){var A=p.map((function(e){return e.start=(0,n.timestamp)(),i.bind(e)})),k=I.ad_units.reduce((function(e,t){return e.concat((t.bids||[]).reduce((function(e,t){return e.concat(t.bidder)}),[]))}),[]);b.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(m.filter((function(e){return l()(k,e)})).join(","))),p.forEach((function(e){S.emit(w.EVENTS.BID_REQUESTED,e)})),y.callBids(I,p,(function(e,t){var i=(0,n.getBidderRequest)(p,t.bidderCode,e);i&&r.call(i,e,t)}),(function(){return A.forEach((function(e){return e()}))}),g)}}else b.logError("missing "+E.adapter)}f.forEach((function(e){e.start=(0,n.timestamp)();var t=O[e.bidderCode];b.logMessage("CALLING BIDDER ======= ".concat(e.bidderCode)),S.emit(w.EVENTS.BID_REQUESTED,e);var d=(0,s.O)(a,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0),l=i.bind(e);try{c.vc.runWithBidder(e.bidderCode,n.bind.call(t.callBids,t,e,r.bind(e),l,d,u,c.vc.callbackWithBidder(e.bidderCode)))}catch(t){b.logError("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),l()}}))}else b.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");var x,P},_.videoAdapters=[],_.registerBidAdapter=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.supportedMediaTypes,i=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(O[t]=e,l()(i,"video")&&_.videoAdapters.push(t),l()(i,"native")&&o.Sg.push(t)):b.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):b.logError("bidAdaptor or bidderCode not specified")},_.aliasBidAdapter=function(e,t,r){if(void 0===O[t]){var n=O[e];if(void 0===n){var i=c.vc.getConfig("s2sConfig"),s=i&&i.bidders;s&&l()(s,t)?I[t]=e:b.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}else try{var u,d=function(e){var t=[];return l()(_.videoAdapters,e)&&t.push("video"),l()(o.Sg,e)&&t.push("native"),t}(e);if(n.constructor.prototype!=Object.prototype)(u=new n.constructor).setBidderCode(t);else{var f=n.getSpec(),p=r&&r.gvlid;u=(0,a.PZ)(y({},f,{code:t,gvlid:p})),I[t]=e}_.registerBidAdapter(u,t,{supportedMediaTypes:d})}catch(t){b.logError(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else b.logMessage('alias name "'+t+'" has been already specified.')},_.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code,n=e.gvlid;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,A[r]={adapter:t,gvlid:n}):b.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(r,'"\n        analytics adapter must implement an enableAnalytics() function')):b.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},_.enableAnalytics=function(e){b.isArray(e)||(e=[e]),b._each(e,(function(e){var t=A[e.provider].adapter;t?t.enableAnalytics(e):b.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))}))},_.getBidAdapter=function(e){return O[e]},_.getAnalyticsAdapter=function(e){return A[e]},_.callTimedOutBidders=function(e,t,r){t=t.map((function(t){return t.params=b.getUserConfiguredParams(e,t.adUnitCode,t.bidder),t.timeout=r,t})),t=b.groupBy(t,"bidder"),Object.keys(t).forEach((function(e){T(e,"onTimeout",t[e])}))},_.callBidWonBidder=function(e,t,r){t.params=b.getUserConfiguredParams(r,t.adUnitCode,t.bidder),g.f.incrementBidderWinsCounter(t.adUnitCode,t.bidder),T(e,"onBidWon",t)},_.callSetTargetingBidder=function(e,t){T(e,"onSetTargeting",t)},t.ZP=_},9524:function(e,t,r){"use strict";r.d(t,{dX:function(){return I},PZ:function(){return E},Q1:function(){return k},JY:function(){return x}});var n=r(8043),i=r(7785),o=r(3485),a=r(6507),s=r(112),c=r(8098),u=r(2202),d=r(6482),l=r(8510),f=r.n(l),p=r(1608),g=r.n(p),m=r(6117),v=r(4753),y=r(4783),h=r(5244);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var _=(0,r(1723).eA)("bidderFactory"),O=["requestId","cpm","ttl","creativeId","netRevenue","currency"];function I(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function r(e){var r=E(e);i.ZP.registerBidAdapter(r,e.code,t)}r(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var n,o=t;(0,v.isPlainObject)(t)&&(o=t.code,n=t.gvlid),i.ZP.aliasRegistry[o]=e.code,r(S({},e,{code:o,gvlid:n}))}))}function E(e){return S(new n.Z(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(n,i,o,s,c,u){if(Array.isArray(n.bids)){var l={},p=[],g=n.bids.filter(r);if(0!==g.length){var m={};g.forEach((function(e){m[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)}));var y=e.buildRequests(g,n);if(y&&0!==y.length){Array.isArray(y)||(y=[y]);var h=(0,v.delayExecution)(u(b),y.length);y.forEach((function(t){switch(t.method){case"GET":s("".concat(t.url).concat((r=t.data)?"?".concat("object"===w(r)?(0,v.parseQueryStringParameters)(r):r):""),{success:u(o),error:f},void 0,S({method:"GET",withCredentials:!0},t.options));break;case"POST":s(t.url,{success:u(o),error:f},"string"==typeof t.data?t.data:JSON.stringify(t.data),S({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,v.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),h()}var r;function o(r,o){c(e.code);try{r=JSON.parse(r)}catch(e){}var s;r={body:r,headers:{get:o.getResponseHeader.bind(o)}},p.push(r);try{s=e.interpretResponse(r,t)}catch(t){return(0,v.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void h()}function u(t){var r=m[t.requestId];if(r){t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||S({},t[r.bidder]);var o=S((0,a.m)(d.STATUS.GOOD,r),t);!function(e,t){l[e]=!0,x(e,t,[n])&&i(e,t)}(r.adUnitCode,o)}else(0,v.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring."))}s&&((0,v.isArray)(s)?s.forEach(u):u(s)),h(s)}function f(t){c(e.code),(0,v.logError)("Server call for ".concat(e.code," failed: ").concat(t,". Continuing without bids.")),h()}}))}else b()}else b()}function b(){o(),f().emit(d.EVENTS.BIDDER_DONE,n),t(p,n.gdprConsent,n.uspConsent)}}});function t(t,r,n){A(e,t,r,n)}function r(t){return!!e.isBidRequestValid(t)||((0,v.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var A=(0,h.z3)("async",(function(e,t,r,n){var a=o.vc.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(a||!i.ZP.aliasRegistry[e.code])){var c=o.vc.getConfig("userSync.filterSettings"),u=e.getUserSyncs({iframeEnabled:!(!c||!c.iframe&&!c.all),pixelEnabled:!(!c||!c.image&&!c.all)},t,r,n);u&&(Array.isArray(u)||(u=[u]),u.forEach((function(t){s.k_.registerSync(t.type,e.code,t.url)})))}}),"registerSyncs");function k(e,t){var r=i.ZP.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var n=r.getSpec().getMappingFileInfo(),o=n.localStorageKey?n.localStorageKey:r.getBidderCode(),a=_.getDataFromLocalStorage(o);if(a){try{a=JSON.parse(a)}catch(t){(0,v.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return a.mapping[t]?a.mapping[t]:null}}}function x(e,t,r){function n(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(i=Object.keys(t),O.every((function(e){return g()(i,e)&&!g()([void 0,null],t[e])}))?"native"!==t.mediaType||(0,c.r4)(t,r)?"video"!==t.mediaType||(0,u.Dn)(t,r)?!("banner"===t.mediaType&&!function(e,t,r){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var n,i,o=(0,v.getBidderRequest)(r,t.bidderCode,e),a=o&&o.bids&&o.bids[0]&&o.bids[0].sizes,s=(0,v.parseSizesInput)(a);if(1===s.length){var c=(n=s[0].split("x"),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(n,i)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1];return t.width=parseInt(u,10),t.height=parseInt(d,10),!0}return!1}(e,t,r)&&((0,v.logError)(n("Banner bids require a width and height")),1)):((0,v.logError)(n("Video bid does not have required vastUrl or renderer property")),!1):((0,v.logError)(n("Native bid missing some required properties.")),!1):((0,v.logError)(n("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):((0,v.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,v.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var i}(0,h.v5)("checkAdUnitSetup").before((function(e,t){if(!o.vc.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return(0,v.deepAccess)(e,"mediaTypes.video.context")===y.Oh})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(v.flatten,[]).filter(v.uniques).forEach((function(e){var t=i.ZP.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var r=t.getSpec().getMappingFileInfo(),n=r.refreshInDays?r.refreshInDays:1,o=r.localStorageKey?r.localStorageKey:t.getSpec().code,a=_.getDataFromLocalStorage(o);try{(!(a=a?JSON.parse(a):void 0)||(0,v.timestamp)()>a.lastUpdated+24*n*60*60*1e3)&&(0,m.h)(r.url,{success:function(t){try{t=JSON.parse(t);var r={lastUpdated:(0,v.timestamp)(),mapping:t.mapping};_.setDataInLocalStorage(o,JSON.stringify(r))}catch(t){(0,v.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){(0,v.logError)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){(0,v.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}))},361:function(e,t,r){"use strict";r.d(t,{B:function(){return c}});var n=r(1608),i=r.n(n),o=r(4753),a={},s=["criteo","outstream","adagio","browsi"];function c(e,t,r){if(t&&e){if(i()(s,t))return a[e]?(r&&"function"==typeof r&&(a[e].loaded?r():a[e].callbacks.push(r)),a[e].tag):(a[e]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&a[e].callbacks.push(r),o.logWarn("module ".concat(t," is loading external JavaScript")),function(t,r){var n=document.createElement("script");return n.type="text/javascript",n.async=!0,a[e].tag=n,n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,r())}:n.onload=function(){r()},n.src=t,o.insertElement(n),n}(e,(function(){a[e].loaded=!0;try{for(var t=0;t<a[e].callbacks.length;t++)a[e].callbacks[t]()}catch(e){o.logError("Error executing callback","adloader.js:loadExternalScript",e)}})));o.logError("".concat(t," not whitelisted for loading external JavaScript"))}else o.logError("cannot load external script without url and moduleCode")}},6117:function(e,t,r){"use strict";r.d(t,{h:function(){return s},O:function(){return c}});var n=r(3485);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=r(4753),s=c();function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.request,s=t.done;return function(t,c,u){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var l,f=d.method||(u?"POST":"GET"),p=document.createElement("a");p.href=t;var g="object"===o(c)&&null!==c?c:{success:function(){a.logMessage("xhr success")},error:function(e){a.logError("xhr error",null,e)}};if("function"==typeof c&&(g.success=c),(l=new window.XMLHttpRequest).onreadystatechange=function(){if(4===l.readyState){"function"==typeof s&&s(p.origin);var e=l.status;e>=200&&e<300||304===e?g.success(l.responseText,l):g.error(l.statusText,l)}},n.vc.getConfig("disableAjaxTimeout")||(l.ontimeout=function(){a.logError("  xhr timeout after ",l.timeout,"ms")}),"GET"===f&&u){var m=a.parseUrl(t,d);i(m.search,u),t=a.buildUrl(m)}l.open(f,t,!0),n.vc.getConfig("disableAjaxTimeout")||(l.timeout=e),d.withCredentials&&(l.withCredentials=!0),a._each(d.customHeaders,(function(e,t){l.setRequestHeader(t,e)})),d.preflight&&l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Content-Type",d.contentType||"text/plain"),"function"==typeof r&&r(p.origin),"POST"===f&&u?l.send(u):l.send()}catch(e){a.logError("xhr construction",e)}}}},6507:function(e,t,r){"use strict";r.d(t,{m:function(){return o}});var n=r(4753);function i(e,t){var r=t&&t.src||"client",i=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(i){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=n.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return i},this.getSize=function(){return this.width+"x"+this.height}}function o(e,t){return new i(e,t)}},3485:function(e,t,r){"use strict";r.d(t,{FD:function(){return y},vc:function(){return S}});var n=r(4609),i=r(2332),o=r.n(i),a=r(1608),s=r.n(a),c=r(5743),u=r.n(c),d=r(4753);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=r(7385),p=r(4753),g=r(6482),m="TRUE"===p.getParameterByName(g.DEBUG_MODE).toUpperCase(),v=window.location.origin,y="random",h={};h[y]=!0,h.fixed=!0;var b=y,w={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},S=function(){var e,t,r,i=[],a=null;function c(){e={};var i={_debug:m,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:v,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:w.MEDIUM,set priceGranularity(e){s(e)&&("string"==typeof e?this._priceGranularity=a(e)?e:w.MEDIUM:p.isPlainObject(e)&&(this._customPriceBucket=e,this._priceGranularity=w.CUSTOM,p.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce((function(r,n){return s(e[n])?"string"==typeof e?r[n]=a(e[n])?e[n]:t._priceGranularity:p.isPlainObject(e)&&(r[n]=e[n],p.logMessage("Using custom price granularity for ".concat(n))):p.logWarn("Invalid price granularity for media type: ".concat(n)),r}),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:b,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){h[e]?this._bidderSequence=e:p.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e}};function a(e){return o()(Object.keys(w),(function(t){return e===w[t]}))}function s(e){if(!e)return p.logError("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)a(e)||p.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(p.isPlainObject(e)&&!(0,n.t)(e))return p.logError("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&S(Object.keys(t).reduce((function(e,r){return t[r]!==i[r]&&(e[r]=i[r]||{}),e}),{})),t=i,r={}}function g(){if(a&&r&&p.isPlainObject(r[a])){var e=r[a],n=new(u())(Object.keys(t).concat(Object.keys(e)));return f(n).reduce((function(r,n){return void 0===e[n]?r[n]=t[n]:void 0===t[n]?r[n]=e[n]:p.isPlainObject(e[n])?r[n]=(0,d.mergeDeep)({},t[n],e[n]):r[n]=e[n],r}),{})}return l({},t)}function y(e,t){var r=t;if("string"!=typeof e&&(r=e,e="*"),"function"==typeof r){var n={topic:e,callback:r};return i.push(n),function(){i.splice(i.indexOf(n),1)}}p.logError("listener must be a function")}function S(e){var t=Object.keys(e);i.filter((function(e){return s()(t,e.topic)})).forEach((function(t){var r,n,i;t.callback((r={},n=t.topic,i=e[t.topic],n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r))})),i.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function _(e,t){a=e;try{return t()}finally{a=null}}return c(),{getCurrentBidder:function(){return a},getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?p.deepAccess(g(),e):g()}return y.apply(void 0,arguments)},setConfig:function(r){if(p.isPlainObject(r)){var n=Object.keys(r),i={};n.forEach((function(n){var o=r[n];p.isPlainObject(e[n])&&p.isPlainObject(o)&&(o=l({},e[n],o)),i[n]=t[n]=o})),S(i)}else p.logError("setConfig options must be an object")},setDefaults:function(r){p.isPlainObject(e)?(l(e,r),l(t,r)):p.logError("defaults must be an object")},resetConfig:c,runWithBidder:_,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return _(e,(r=p.bind).call.apply(r,[t,this].concat(i)))}p.logWarn("config.callbackWithBidder callback is not a function")}}},setBidderConfig:function(e){try{!function(e){if(!p.isPlainObject(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!p.isPlainObject(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((function(t){r[t]||(r[t]={}),Object.keys(e.config).forEach((function(n){var i=e.config[n];p.isPlainObject(i)?r[t][n]=l({},r[t][n]||{},i):r[t][n]=i}))}))}catch(e){p.logError(e)}},getBidderConfig:function(){return r}}}()},4609:function(e,t,r){"use strict";r.d(t,{D:function(){return l},t:function(){return p}});var n=r(2332),i=r.n(n),o=r(4753),a={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},c={buckets:[{max:20,increment:.01}]},u={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},d={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":f(e,a,r),med:""===n?"":f(e,s,r),high:""===n?"":f(e,c,r),auto:""===n?"":f(e,d,r),dense:""===n?"":f(e,u,r),custom:""===n?"":f(e,t,r)}}function f(e,t,r){var n="";if(!p(t))return n;var o=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),a=0,s=i()(t.buckets,(function(t){if(e>o.max*r){var i=t.precision;void 0===i&&(i=2),n=(t.max*r).toFixed(i)}else{if(e<=t.max*r&&e>=a*r)return t.min=a,t;a=t.max}}));return s&&(n=function(e,t,r){var n=void 0!==t.precision?t.precision:2,i=t.increment*r,o=t.min*r,a=Math.pow(10,n+2),s=(e*a-o*a)/(i*a),c=Math.floor(s)*i+o;return(c=Number(c.toFixed(10))).toFixed(n)}(e,s,r)),n}function p(e){if(o.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},8510:function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r(4753),o=r(6482),a=Array.prototype.slice,s=Array.prototype.push,c=i._map(o.EVENTS,(function(e){return e})),u=o.EVENT_ID_PATHS,d=[];e.exports=function(){var e={},t={};function r(t,r){i.logMessage("Emitting event for: "+t);var n=r[0]||{},o=n[u[t]],a=e[t]||{que:[]},c=i._map(a,(function(e,t){return t})),l=[];d.push({eventType:t,args:n,id:o}),o&&i.contains(c,o)&&s.apply(l,a[o].que),s.apply(l,a.que),i._each(l,(function(e){if(e)try{e.apply(null,r)}catch(e){i.logError("Error executing handler:","events.js",e)}}))}return t.on=function(t,r,n){if(function(e){return i.contains(c,e)}(t)){var o=e[t]||{que:[]};n?(o[n]=o[n]||{que:[]},o[n].que.push(r)):o.que.push(r),e[t]=o}else i.logError("Wrong event name : "+t+" Valid event names :"+c)},t.emit=function(e){var t=a.call(arguments,1);r(e,t)},t.off=function(t,r,n){var o=e[t];i.isEmpty(o)||i.isEmpty(o.que)&&i.isEmpty(o[n])||n&&(i.isEmpty(o[n])||i.isEmpty(o[n].que))||(n?i._each(o[n].que,(function(e){var t=o[n].que;e===r&&t.splice(t.indexOf(e),1)})):i._each(o.que,(function(e){var t=o.que;e===r&&t.splice(t.indexOf(e),1)})),e[t]=o)},t.get=function(){return e},t.getEvents=function(){var e=[];return i._each(d,(function(t){var r=n({},t);e.push(r)})),e},t}()},5244:function(e,t,r){"use strict";r.d(t,{z3:function(){return a},v5:function(){return s},bA:function(){return c},Bx:function(){return u}});var n=r(1432),i=r.n(n);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=i()({ready:i().SYNC|i().ASYNC|i().QUEUE}),s=a.get;function c(e,t){a("async",(function(e){e.forEach((function(e){return t.apply(void 0,function(e){if(Array.isArray(e))return o(e)}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var r}))}),e)([])}function u(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];s(e).before((function(e,t){t.push(r),e(t)}))}},4783:function(e,t,r){"use strict";r.d(t,{B5:function(){return n},pX:function(){return i},Mk:function(){return o},Oh:function(){return a}});var n="native",i="video",o="banner",a="adpod"},8098:function(e,t,r){"use strict";r.d(t,{Sg:function(){return c},xc:function(){return u},zs:function(){return l},r4:function(){return f},e6:function(){return p},Ur:function(){return g},eK:function(){return m}});var n=r(4753),i=r(1608),o=r.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=r(6482),c=[],u=Object.keys(s.NATIVE_KEYS).map((function(e){return s.NATIVE_KEYS[e]})),d={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function l(e){return e&&e.type&&((t=e.type)&&o()(Object.keys(d),t)||((0,n.logError)("".concat(t," nativeParam is not supported")),0))?d[e.type]:e;var t}function f(e,t){var r=(0,n.getBidRequest)(e.requestId,t);if(!r)return!1;if(!(0,n.deepAccess)(e,"native.clickUrl"))return!1;if((0,n.deepAccess)(e,"native.image")&&(!(0,n.deepAccess)(e,"native.image.height")||!(0,n.deepAccess)(e,"native.image.width")))return!1;if((0,n.deepAccess)(e,"native.icon")&&(!(0,n.deepAccess)(e,"native.icon.height")||!(0,n.deepAccess)(e,"native.icon.width")))return!1;var i=r.nativeParams;if(!i)return!0;var a=Object.keys(i).filter((function(e){return i[e].required})),s=Object.keys(e.native).filter((function(t){return e.native[t]}));return a.every((function(e){return o()(s,e)}))}function p(e,t){var r;return"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,n.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(r||[]).forEach(n.triggerPixel),e.action}function g(e,t){var r={};return Object.keys(e.native).forEach((function(i){var o=s.NATIVE_KEYS[i],a=v(e.native[i]);(0,n.deepAccess)(t,"mediaTypes.native.".concat(i,".sendId"))&&(a="".concat(o,":").concat(e.adId)),o&&a&&(r[o]=a)})),r}function m(e,t){var r={message:"assetResponse",adId:e.adId,assets:[]};return e.assets.forEach((function(e){var i=(0,n.getKeyByValue)(s.NATIVE_KEYS,e),o=v(t.native[i]);r.assets.push({key:i,value:o})})),r}function v(e){return"object"===a(e)&&e.url?e.url:e}},2435:function(e,t,r){"use strict";r.d(t,{n:function(){return i}});var n=r(4753),i=function(e){function t(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}return function(){var r,i,o,a=[],s=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),c=!1,u=0,d=!1,l=!1;do{var f=r,p=l,g=void 0,m=!1,v=null;l=!1,r=r?r.parent:e;try{g=r.location.href||null}catch(e){m=!0}if(m)if(p){var y=f.context;try{i=v=y.sourceUrl,d=!0,r===e.top&&(c=!0),y.canonicalUrl&&(o=y.canonicalUrl)}catch(e){}}else{(0,n.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var h=f.document.referrer;h&&(v=h,r===e.top&&(c=!0))}catch(e){}!v&&s&&s[u-1]&&(v=s[u-1]),v&&!d&&(i=v)}else{if(g&&(i=v=g,d=!1,r===e.top)){c=!0;var b=t(r.document);b&&(o=b)}r.context&&r.context.sourceUrl&&(l=!0)}a.push(v),u++}while(r!==e.top);return a.reverse(),{referer:i||null,reachedTop:c,isAmp:d,numIframes:u-1,stack:a,canonicalUrl:o||null}}}(window)},7447:function(e,t,r){"use strict";r.d(t,{g7:function(){return u},lO:function(){return d},$n:function(){return l}});var n=r(3485),i=r(4753),o=r(1608),a=r.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=[];function u(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,r=f(t);return!r.shouldFilter||!!r.sizesSupported[e]}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,r=void 0===t?[]:t,n=e.labelAll,o=void 0!==n&&n,s=e.activeLabels,u=void 0===s?[]:s,d=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,g=f(p);d=(0,i.isPlainObject)(d)?(0,i.deepClone)(d):l?{banner:{sizes:l}}:{};var m=(0,i.deepAccess)(d,"banner.sizes");g.shouldFilter&&m&&(d.banner.sizes=m.filter((function(e){return g.sizesSupported[e]})));var v=Object.keys(d),y={active:v.every((function(e){return"banner"!==e}))||v.some((function(e){return"banner"===e}))&&(0,i.deepAccess)(d,"banner.sizes.length")>0&&(0===r.length||!o&&(r.some((function(e){return g.labels[e]}))||r.some((function(e){return a()(u,e)})))||o&&r.reduce((function(e,t){return e?g.labels[t]||a()(u,t):e}),!0)),mediaTypes:d};return m&&m.length!==d.banner.sizes.length&&(y.filterResults={before:m,after:d.banner.sizes}),y}function f(e){return e.reduce((function(e,t){if("object"===s(t)&&"string"==typeof t.mediaQuery){var r=!1;if(""===t.mediaQuery)r=!0;else try{r=(0,i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){(0,i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),r=matchMedia(t.mediaQuery).matches}r&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(r){return(t[r]||[]).forEach((function(t){return e[r][t]=!0}))})))}else(0,i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}n.vc.getConfig("sizeConfig",(function(e){return function(e){c=e}(e.sizeConfig)}))},1723:function(e,t,r){"use strict";r.d(t,{Ld:function(){return c},eA:function(){return l},df:function(){return f}});var n=r(5244),i=r(4753),o=r(1608),a=r.n(o),s=["core","prebid-module"],c=[];function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,r=e.moduleName,n=e.moduleType;function o(e){return a()(s,n)?e({valid:!0}):(d(t,r,{hasEnforcementHook:!1},(function(t){if(t&&t.hasEnforcementHook)o=e(t);else{var r={hasEnforcementHook:!1,valid:i.hasDeviceAccess()};o=e(r)}})),o);var o}var u=function(e,t,r,n,i,a){var s=function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=r&&""!==r?" ;expires=".concat(r):"",c=null!=n&&"none"==n.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(a).concat(n?"; SameSite=".concat(n):"").concat(c)}};if(!a||"function"!=typeof a)return o(s);c.push((function(){var e=o(s);a(e)}))},l=function(e,t){var r=function(t){if(t&&t.valid){var r=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return r?decodeURIComponent(r[2]):null}return null};if(!t||"function"!=typeof t)return o(r);c.push((function(){var e=o(r);t(e)}))},f=function(e){var t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}return!1};if(!e||"function"!=typeof e)return o(t);c.push((function(){var r=o(t);e(r)}))},p=function(e){var t=function(e){return!(!e||!e.valid||!i.checkCookieSupport()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))};if(!e||"function"!=typeof e)return o(t);c.push((function(){var r=o(t);e(r)}))},g=function(e,t,r){var n=function(r){r&&r.valid&&y()&&window.localStorage.setItem(e,t)};if(!r||"function"!=typeof r)return o(n);c.push((function(){var e=o(n);r(e)}))},m=function(e,t){var r=function(t){return t&&t.valid&&y()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return o(r);c.push((function(){var e=o(r);t(e)}))},v=function(e,t){var r=function(t){t&&t.valid&&y()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return o(r);c.push((function(){var e=o(r);t(e)}))},y=function(e){var t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){i.logError("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return o(t);c.push((function(){var r=o(t);e(r)}))},h=function(e,t){var r=function(t){if(t&&t.valid){var r=[];if(i.hasDeviceAccess())for(var n=document.cookie.split(";");n.length;){var o=n.pop(),a=o.indexOf("=");a=a<0?o.length:a,decodeURIComponent(o.slice(0,a).replace(/^\s+/,"")).indexOf(e)>=0&&r.push(decodeURIComponent(o.slice(a+1)))}return r}};if(!t||"function"!=typeof t)return o(r);c.push((function(){var e=o(r);t(e)}))};return{setCookie:u,getCookie:l,localStorageIsEnabled:f,cookiesAreEnabled:p,setDataInLocalStorage:g,getDataFromLocalStorage:m,removeDataFromLocalStorage:v,hasLocalStorage:y,findSimilarCookies:h}}var d=(0,n.z3)("async",(function(e,t,r,n){n(r)}),"validateStorageEnforcement");function l(e){return u({moduleName:e,moduleType:"core"})}function f(e,t){return u({gvlid:e,moduleName:t})}},112:function(e,t,r){"use strict";r.d(t,{k_:function(){return p}});var n=r(4753),i=r(3485),o=r(1608),a=r.n(o),s=r(1723);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}i.vc.setDefaults({userSync:n.deepClone({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var l=(0,s.eA)("usersync"),f=!n.isSafariBrowser()&&l.cookiesAreEnabled(),p=function(e){var t={},r={image:[],iframe:[]},o=new Set,s={},u={image:!0,iframe:!1},l=e.config;function f(){if(l.syncEnabled&&e.browserSupportsCookies){try{u.image&&p(r.image,(function(e){var t=c(e,2),r=t[0],i=t[1];n.logMessage("Invoking image pixel user sync for bidder: ".concat(r)),n.triggerPixel(i)})),u.iframe&&p(r.iframe,(function(e){var t=c(e,2),r=t[0],i=t[1];n.logMessage("Invoking iframe user sync for bidder: ".concat(r)),n.insertUserSyncIframe(i)}))}catch(e){return n.logError("Error firing user syncs",e)}r={image:[],iframe:[]}}}function p(e,t){n.shuffle(e).forEach((function(e){t(e),o.add(e[0])}))}return i.vc.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;n.isPlainObject(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}l=d(l,e.userSync)})),t.registerSync=function(e,i,a){return o.has(i)?n.logMessage('already fired syncs for "'.concat(i,'", ignoring registerSync call')):l.syncEnabled&&n.isArray(r[e])?i?0!==l.syncsPerBidder&&Number(s[i])>=l.syncsPerBidder?n.logWarn('Number of user syncs exceeded for "'.concat(i,'"')):t.canBidderRegisterSync(e,i)?(r[e].push([i,a]),void(s=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(s,i))):n.logWarn('Bidder "'.concat(i,'" not permitted to register their "').concat(e,'" userSync pixels.')):n.logWarn("Bidder is required for registering sync"):n.logWarn('User sync type "'.concat(e,'" not supported'))},t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(f,Number(e));f()},t.triggerUserSyncs=function(){l.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!l.filterSettings||!function(e,t){var r=l.filterSettings;if(function(e,t){if(e.all&&e[t])return n.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var r=e.all?e.all:e[t],i=e.all?"all":t;if(!r)return!1;var o=r.filter,a=r.bidders;return o&&"include"!==o&&"exclude"!==o?(n.logWarn('UserSync "filterSettings.'.concat(i,".filter\" setting '").concat(o,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===a||Array.isArray(a)&&a.length>0&&a.every((function(e){return n.isStr(e)&&"*"!==e})))||(n.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(i,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(r,e)){u[e]=!0;var i=r.all?r.all:r[e],o="*"===i.bidders?[t]:i.bidders;return{include:function(e,t){return!a()(e,t)},exclude:function(e,t){return a()(e,t)}}[i.filter||"include"](o,t)}return!1}(e,t)},t}({config:i.vc.getConfig("userSync"),browserSupportsCookies:f})},4753:function(e,t,r){"use strict";r.r(t),r.d(t,{_each:function(){return ue},_map:function(){return le},adUnitsFilter:function(){return De},bind:function(){return P},buildUrl:function(){return yt},callBurl:function(){return me},checkCookieSupport:function(){return Ve},chunk:function(){return dt},cleanObj:function(){return it},compareOn:function(){return pt},contains:function(){return de},convertCamelToUnderscore:function(){return nt},convertTypes:function(){return st},createInvisibleIframe:function(){return Z},createTrackPixelHtml:function(){return he},createTrackPixelIframeHtml:function(){return be},cyrb53Hash:function(){return wt},debugTurnedOn:function(){return X},deepAccess:function(){return d},deepClone:function(){return Ue},deepEqual:function(){return ht},deepSetValue:function(){return l},delayExecution:function(){return Fe},fill:function(){return ut},flatten:function(){return _e},formatQS:function(){return mt},generateUUID:function(){return C},getAdUnitSizes:function(){return B},getBidIdParameter:function(){return R},getBidRequest:function(){return Oe},getBidderCodes:function(){return ke},getBidderRequest:function(){return Ke},getDNT:function(){return Je},getDefinedParams:function(){return Ge},getGptSlotInfoForAdUnitCode:function(){return et},getHighestCpm:function(){return Pe},getKeyByValue:function(){return Ae},getKeys:function(){return Ie},getLatestHighestCpmBid:function(){return Te},getMaxValueFromArray:function(){return ft},getMinValueFromArray:function(){return lt},getOldestHighestCpmBid:function(){return je},getOrigin:function(){return Ye},getParameterByName:function(){return Q},getUniqueIdentifierStr:function(){return T},getUserConfiguredParams:function(){return $e},getValue:function(){return Ee},getValueString:function(){return we},getWindowLocation:function(){return W},getWindowSelf:function(){return F},getWindowTop:function(){return V},groupBy:function(){return We},hasConsoleLogger:function(){return J},hasDeviceAccess:function(){return ze},hasOwn:function(){return fe},inIframe:function(){return Me},insertElement:function(){return pe},insertHtmlIntoIframe:function(){return ve},insertUserSyncIframe:function(){return ye},internal:function(){return k},isA:function(){return ee},isAdUnitCodeMatchingSlot:function(){return Ze},isArray:function(){return ne},isArrayOfNums:function(){return ct},isBoolean:function(){return ae},isEmpty:function(){return se},isEmptyStr:function(){return ce},isFn:function(){return te},isGptPubadsDefined:function(){return xe},isInteger:function(){return rt},isNumber:function(){return ie},isPlainObject:function(){return oe},isSafariBrowser:function(){return Be},isSlotMatchingAdUnitCode:function(){return Qe},isStr:function(){return re},isValidMediaTypes:function(){return He},logError:function(){return $},logInfo:function(){return H},logMessage:function(){return G},logWarn:function(){return K},mergeDeep:function(){return bt},parseGPTSingleSizeArray:function(){return L},parseGPTSingleSizeArrayToRtbSize:function(){return q},parseQS:function(){return gt},parseQueryStringParameters:function(){return U},parseSizesInput:function(){return N},parseUrl:function(){return vt},pick:function(){return ot},replaceAuctionPrice:function(){return Ne},replaceClickThrough:function(){return Le},shuffle:function(){return Re},timestamp:function(){return qe},transformAdServerTargetingObj:function(){return M},transformBidderParamKeywords:function(){return at},triggerPixel:function(){return ge},tryAppendQueryString:function(){return D},uniques:function(){return Se},unsupportedBidderMessage:function(){return tt}});var n=r(3485),i=r(7079),o=r.n(i),a=r(2332),s=r.n(a),c=r(1608),u=r.n(c);function d(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}function l(e,t,r){t.split&&(t=t.split("."));for(var n,i=0,o=t.length,a=e;i<o;++i)n=a[t[i]],a=a[t[i]]=i===o-1?r:null!=n?n:!~t[i+1].indexOf(".")&&+t[i+1]>-1?[]:{}}function f(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h,b=r(6482),w=Object.prototype.toString,S=Boolean(window.console),_=Boolean(S&&window.console.log),O=Boolean(S&&window.console.info),I=Boolean(S&&window.console.warn),E=Boolean(S&&window.console.error),A=r(8510),k={checkCookieSupport:Ve,createTrackPixelIframeHtml:be,getWindowSelf:F,getWindowTop:V,getWindowLocation:W,insertUserSyncIframe:ye,insertElement:pe,isFn:te,triggerPixel:ge,logError:$,logWarn:K,logMessage:G,logInfo:H,parseQS:gt,formatQS:mt,deepEqual:ht},x={},P=function(e,t){return t}.bind(null,1,x)()===x?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}},j=(h=0,function(){return++h});function T(){return j()+Math.random().toString(16).substr(2)}function C(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,C)}function R(e,t){return t&&t[e]?t[e]:""}function D(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e}function U(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t.replace(/&$/,"")}function M(e){return e&&Object.getOwnPropertyNames(e).length>0?Ie(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(Ee(e,t)))})).join("&"):""}function B(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var r=e.mediaTypes.banner.sizes;Array.isArray(r[0])?t=r:t.push(r)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}}function N(e){var t=[];if("string"==typeof e){var r=e.split(","),n=/^(\d)+x(\d)+$/i;if(r)for(var i in r)fe(r,i)&&r[i].match(n)&&t.push(r[i])}else if("object"===y(e)){var o=e.length;if(o>0)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(L(e));else for(var a=0;a<o;a++)t.push(L(e[a]))}return t}function L(e){if(z(e))return e[0]+"x"+e[1]}function q(e){if(z(e))return{w:e[0],h:e[1]}}function z(e){return ne(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function V(){return window.top}function F(){return window.self}function W(){return window.location}function G(){X()&&_&&console.log.apply(console,Y(arguments,"MESSAGE:"))}function H(){X()&&O&&console.info.apply(console,Y(arguments,"INFO:"))}function K(){X()&&I&&console.warn.apply(console,Y(arguments,"WARNING:"))}function $(){X()&&E&&console.error.apply(console,Y(arguments,"ERROR:")),A.emit(b.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function Y(e,t){return e=[].slice.call(e),t&&e.unshift(t),e.unshift("display: inline-block; color: #fff; background: #3b88c3; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cPrebid"),e}function J(){return _}function X(){return!!n.vc.getConfig("debug")}function Z(){var e=document.createElement("iframe");return e.id=T(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function Q(e){return gt(W().search)[e]||""}function ee(e,t){return w.call(e)==="[object "+t+"]"}function te(e){return ee(e,"Function")}function re(e){return ee(e,"String")}function ne(e){return ee(e,"Array")}function ie(e){return ee(e,"Number")}function oe(e){return ee(e,"Object")}function ae(e){return ee(e,"Boolean")}function se(e){if(!e)return!0;if(ne(e)||re(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function ce(e){return re(e)&&(!e||0===e.length)}function ue(e,t){if(!se(e)){if(te(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(n>0)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function de(e,t){if(se(e))return!1;if(te(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}function le(e,t){if(se(e))return[];if(te(e.map))return e.map(t);var r=[];return ue(e,(function(n,i){r.push(t(n,i,e))})),r}function fe(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function pe(e,t,r,n){var i;t=t||document,i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=n?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function ge(e,t){var r=new Image;t&&k.isFn(t)&&(r.addEventListener("load",t),r.addEventListener("error",t)),r.src=e}function me(e){var t=e.source,r=e.burl;t===b.S2S.SRC&&r&&k.triggerPixel(r)}function ve(e){if(e){var t=document.createElement("iframe");t.id=T(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",k.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function ye(e,t){var r=k.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),n=document.createElement("div");n.innerHTML=r;var i=n.firstChild;t&&k.isFn(t)&&(i.addEventListener("load",t),i.addEventListener("error",t)),k.insertElement(i,document,"html",!0)}function he(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""}function be(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'.concat(r,'"')),"<iframe ".concat(r,' id="').concat(T(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function we(e,t,r){return null==t?r:re(t)?t:ie(t)?t.toString():void k.logWarn("Unsuported type for param: "+e+" required type: String")}function Se(e,t,r){return r.indexOf(e)===t}function _e(e,t){return e.concat(t)}function Oe(e,t){var r;if(e)return t.some((function(t){var n=s()(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(r){return t[r]===e}))}));return n&&(r=n),n})),r}function Ie(e){return Object.keys(e)}function Ee(e,t){return e[t]}function Ae(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(_e,[])})).reduce(_e).filter(Se)}function xe(){if(window.googletag&&te(window.googletag.pubads)&&te(window.googletag.pubads().getSlots))return!0}var Pe=Ce("timeToRespond",(function(e,t){return e>t})),je=Ce("responseTimestamp",(function(e,t){return e>t})),Te=Ce("responseTimestamp",(function(e,t){return e<t}));function Ce(e,t){return function(r,n){return r.cpm===n.cpm?t(r[e],n[e])?n:r:r.cpm<n.cpm?n:r}}function Re(e){for(var t=e.length;t>0;){var r=Math.floor(Math.random()*t),n=e[--t];e[t]=e[r],e[r]=n}return e}function De(e,t){return u()(e,t&&t.adUnitCode)}function Ue(e){return o()(e)}function Me(){try{return k.getWindowSelf()!==k.getWindowTop()}catch(e){return!0}}function Be(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Ne(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function Le(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function qe(){return(new Date).getTime()}function ze(){return!1!==n.vc.getConfig("deviceAccess")}function Ve(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Fe(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var r=0;return function(){++r===t&&e.apply(this,arguments)}}function We(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})}function Ge(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,r){return v(t,m({},r,e[r]))}),{})}function He(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return u()(t,e)}))&&(!e.video||!e.video.context||u()(["instream","outstream","adpod"],e.video.context))}function Ke(e,t,r){return s()(e,(function(e){return e.bids.filter((function(e){return e.bidder===t&&e.adUnitCode===r})).length>0}))||{start:null,auctionId:null}}function $e(e,t,r){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(_e,[]).filter((function(e){return e.bidder===r})).map((function(e){return e.params||{}}))}function Ye(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function Je(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var Xe=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function Ze(e){return function(t){return Xe(e,t)}}function Qe(e){return function(t){return Xe(t,e)}}function et(e){var t;return xe()&&(t=s()(window.googletag.pubads().getSlots(),Qe(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function tt(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(r," ad unit\n    containing bidders that don't support ").concat(r,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}function rt(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function nt(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function it(e){return Object.keys(e).reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function ot(e,t){return"object"!==y(e)?{}:t.reduce((function(r,n,i){if("function"==typeof n)return r;var o=n,a=n.match(/^(.+?)\sas\s(.+?)$/i);a&&(n=a[1],o=a[2]);var s=e[n];return"function"==typeof t[i+1]&&(s=t[i+1](s,r)),void 0!==s&&(r[o]=s),r}),{})}function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",r=[];return ue(e,(function(e,n){if(ne(e)){var i=[];ue(e,(function(e){((e=we(t+"."+n,e))||""===e)&&i.push(e)})),e=i}else{if(!re(e=we(t+"."+n,e)))return;e=[e]}r.push({key:n,value:e})})),r}function st(e,t){return Object.keys(e).forEach((function(r){var n,i;t[r]&&(te(e[r])?t[r]=e[r](t[r]):t[r]=(n=e[r],i=t[r],"string"===n?i&&i.toString():"number"===n?Number(i):i),isNaN(t[r])&&delete t.key)})),t}function ct(e,t){return ne(e)&&(!t||e.length===t)&&e.every((function(e){return rt(e)}))}function ut(e,t){for(var r=[],n=0;n<t;n++){var i=oe(e)?Ue(e):e;r.push(i)}return r}function dt(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var i=n*t,o=i+t;r.push(e.slice(i,o))}return r}function lt(e){return Math.min.apply(Math,f(e))}function ft(e){return Math.max.apply(Math,f(e))}function pt(e){return function(t,r){return t[e]<r[e]?1:t[e]>r[e]?-1:0}}function gt(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var r,n,i=(r=t.split("="),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(r,n)||p(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];return/\[\]$/.test(o)?(e[o=o.replace("[]","")]=e[o]||[],e[o].push(a)):e[o]=a||"",e}),{}):{}}function mt(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function vt(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);var n=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:n?r.search:k.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}}function yt(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(k.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function ht(e,t){if(e===t)return!0;if("object"===y(e)&&null!==e&&"object"===y(t)&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e){if(!t.hasOwnProperty(r))return!1;if(!ht(e[r],t[r]))return!1}return!0}return!1}function bt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;var i=r.shift();if(oe(e)&&oe(i))for(var o in i)oe(i[o])?(e[o]||v(e,m({},o,{})),bt(e[o],i[o])):ne(i[o])&&e[o]?ne(e[o])&&(e[o]=e[o].concat(i[o])):v(e,m({},o,i[o]));return bt.apply(void 0,[e].concat(r))}function wt(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(e,t){if(te(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},i=3735928559^r,o=1103547991^r,a=0;a<e.length;a++)i=n(i^(t=e.charCodeAt(a)),2654435761),o=n(o^t,1597334677);return i=n(i^i>>>16,2246822507)^n(o^o>>>13,3266489909),(4294967296*(2097151&(o=n(o^o>>>16,2246822507)^n(i^i>>>13,3266489909)))+(i>>>0)).toString()}},2202:function(e,t,r){"use strict";r.d(t,{gZ:function(){return a},LD:function(){return s},Dn:function(){return c}}),r(7785);var n=r(4753),i=r(3485),o=(r(1608),r(5244)),a="outstream",s="instream";function c(e,t){var r=(0,n.getBidRequest)(e.requestId,t),i=r&&(0,n.deepAccess)(r,"mediaTypes.video"),o=i&&(0,n.deepAccess)(i,"context");return u(e,r,i,o)}var u=(0,o.z3)("sync",(function(e,t,r,o){return!t||r&&o!==a?i.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,n.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):o!==a||!(!e.renderer&&!t.renderer)}),"checkVideoBidSetup")},9742:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=c(e),a=o[0],s=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),d=0,l=s>0?a-4:a;for(r=0;r<l;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[d++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(u(e,s,s+a>c?c:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2987:function(e,t,r){r(833);var n=r(5379);e.exports=n("Array","find")},4493:function(e,t,r){r(7971),r(3242);var n=r(4058);e.exports=n.Array.from},2415:function(e,t,r){r(7690);var n=r(5379);e.exports=n("Array","includes")},3820:function(e,t,r){r(800);var n=r(4058);e.exports=n.Number.isInteger},6998:function(e,t,r){r(9008),r(5967),r(7971),r(7634);var n=r(4058);e.exports=n.Set},7611:function(e,t,r){r(1035);var n=r(5379);e.exports=n("String","includes")},2332:function(e,t,r){var n=r(2987);e.exports=n},7385:function(e,t,r){var n=r(4493);e.exports=n},1608:function(e,t,r){var n=r(2415);e.exports=n},2320:function(e,t,r){var n=r(3820);e.exports=n},5743:function(e,t,r){var n=r(6998);r(5800),r(3676),r(2645),r(2578),r(4573),r(7421),r(3787),r(256),r(2032),r(1873),r(6566),r(987),r(1892),r(3352),r(6988),r(6875),r(3859),r(6690),e.exports=n},5195:function(e,t,r){var n=r(7611);e.exports=n},3916:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1851:function(e,t,r){var n=r(941);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},8479:function(e){e.exports=function(){}},7359:function(e){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},6059:function(e,t,r){var n=r(941);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},1354:function(e,t,r){"use strict";var n=r(6843),i=r(9678),o=r(5196),a=r(6782),s=r(3057),c=r(5449),u=r(2902);e.exports=function(e){var t,r,d,l,f,p,g=i(e),m="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,h=void 0!==y,b=u(g),w=0;if(h&&(y=n(y,v>2?arguments[2]:void 0,2)),null==b||m==Array&&a(b))for(r=new m(t=s(g.length));t>w;w++)p=h?y(g[w],w):g[w],c(r,w,p);else for(f=(l=b.call(g)).next,r=new m;!(d=f.call(l)).done;w++)p=h?o(l,y,[d.value,w],!0):d.value,c(r,w,p);return r.length=w,r}},1692:function(e,t,r){var n=r(4529),i=r(3057),o=r(9413),a=function(e){return function(t,r,a){var s,c=n(t),u=i(c.length),d=o(a,u);if(e&&r!=r){for(;u>d;)if((s=c[d++])!=s)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===r)return e||d||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3610:function(e,t,r){var n=r(6843),i=r(7026),o=r(9678),a=r(3057),s=r(4692),c=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,d=4==e,l=6==e,f=7==e,p=5==e||l;return function(g,m,v,y){for(var h,b,w=o(g),S=i(w),_=n(m,v,3),O=a(S.length),I=0,E=y||s,A=t?E(g,O):r||f?E(g,0):void 0;O>I;I++)if((p||I in S)&&(b=_(h=S[I],I,w),e))if(t)A[I]=b;else if(b)switch(e){case 3:return!0;case 5:return h;case 6:return I;case 2:c.call(A,h)}else switch(e){case 4:return!1;case 7:c.call(A,h)}return l?-1:u||d?d:A}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},4692:function(e,t,r){var n=r(941),i=r(1052),o=r(9813)("species");e.exports=function(e,t){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},5196:function(e,t,r){var n=r(6059),i=r(7609);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){throw i(e),t}}},1385:function(e,t,r){var n=r(9813)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},2532:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9697:function(e,t,r){var n=r(2885),i=r(2532),o=r(9813)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:a?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},7622:function(e,t,r){"use strict";var n=r(6059),i=r(3916);e.exports=function(){for(var e=n(this),t=i(e.add),r=0,o=arguments.length;r<o;r++)t.call(e,arguments[r]);return e}},8984:function(e,t,r){"use strict";var n=r(6059),i=r(3916);e.exports=function(){for(var e,t=n(this),r=i(t.delete),o=!0,a=0,s=arguments.length;a<s;a++)e=r.call(t,arguments[a]),o=o&&e;return!!o}},3590:function(e,t,r){"use strict";var n=r(3916),i=r(6843),o=r(3091);e.exports=function(e){var t,r,a,s,c=arguments.length,u=c>1?arguments[1]:void 0;return n(this),(t=void 0!==u)&&n(u),null==e?new this:(r=[],t?(a=0,s=i(u,c>2?arguments[2]:void 0,2),o(e,(function(e){r.push(s(e,a++))}))):o(e,r.push,{that:r}),new this(r))}},5226:function(e){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},5616:function(e,t,r){"use strict";var n=r(5988).f,i=r(9290),o=r(7524),a=r(6843),s=r(7359),c=r(3091),u=r(7771),d=r(4431),l=r(5746),f=r(1647).fastKey,p=r(5402),g=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,r,u){var d=e((function(e,n){s(e,d,t),g(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),l||(e.size=0),null!=n&&c(n,e[u],{that:e,AS_ENTRIES:r})})),p=m(t),v=function(e,t,r){var n,i,o=p(e),a=y(e,t);return a?a.value=r:(o.last=a={index:i=f(t,!0),key:t,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),l?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},y=function(e,t){var r,n=p(e),i=f(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return o(d.prototype,{clear:function(){for(var e=p(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,l?e.size=0:this.size=0},delete:function(e){var t=this,r=p(t),n=y(t,e);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),l?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=p(this),n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),o(d.prototype,r?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),l&&n(d.prototype,"size",{get:function(){return p(this).size}}),d},setStrong:function(e,t,r){var n=t+" Iterator",i=m(t),o=m(n);u(e,t,(function(e,t){g(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),d(t)}}},4683:function(e,t,r){"use strict";var n=r(6887),i=r(1899),o=r(1647),a=r(5981),s=r(2029),c=r(3091),u=r(7359),d=r(941),l=r(904),f=r(5988).f,p=r(3610).forEach,g=r(5746),m=r(5402),v=m.set,y=m.getterFor;e.exports=function(e,t,r){var m,h=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),w=h?"set":"add",S=i[e],_=S&&S.prototype,O={};if(g&&"function"==typeof S&&(b||_.forEach&&!a((function(){(new S).entries().next()})))){m=t((function(t,r){v(u(t,m,e),{type:e,collection:new S}),null!=r&&c(r,t[w],{that:t,AS_ENTRIES:h})}));var I=y(e);p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in _)||b&&"clear"==e||s(m.prototype,e,(function(r,n){var i=I(this).collection;if(!t&&b&&!d(r))return"get"==e&&void 0;var o=i[e](0===r?0:r,n);return t?this:o}))})),b||f(m.prototype,"size",{configurable:!0,get:function(){return I(this).collection.size}})}else m=r.getConstructor(t,e,h,w),o.REQUIRED=!0;return l(m,e,!1,!0),O[e]=m,n({global:!0,forced:!0},O),b||r.setStrong(m,e,h),m}},7772:function(e,t,r){var n=r(9813)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},4160:function(e,t,r){var n=r(5981);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1046:function(e,t,r){"use strict";var n=r(5143).IteratorPrototype,i=r(9290),o=r(1887),a=r(904),s=r(2077),c=function(){return this};e.exports=function(e,t,r){var u=t+" Iterator";return e.prototype=i(n,{next:o(1,r)}),a(e,u,!1,!0),s[u]=c,e}},2029:function(e,t,r){var n=r(5746),i=r(5988),o=r(1887);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},1887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5449:function(e,t,r){"use strict";var n=r(6935),i=r(5988),o=r(1887);e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},7771:function(e,t,r){"use strict";var n=r(6887),i=r(1046),o=r(249),a=r(8929),s=r(904),c=r(2029),u=r(9754),d=r(9813),l=r(2529),f=r(2077),p=r(5143),g=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,v=d("iterator"),y="keys",h="values",b="entries",w=function(){return this};e.exports=function(e,t,r,d,p,S,_){i(r,t,d);var O,I,E,A=function(e){if(e===p&&T)return T;if(!m&&e in P)return P[e];switch(e){case y:case h:case b:return function(){return new r(this,e)}}return function(){return new r(this)}},k=t+" Iterator",x=!1,P=e.prototype,j=P[v]||P["@@iterator"]||p&&P[p],T=!m&&j||A(p),C="Array"==t&&P.entries||j;if(C&&(O=o(C.call(new e)),g!==Object.prototype&&O.next&&(l||o(O)===g||(a?a(O,g):"function"!=typeof O[v]&&c(O,v,w)),s(O,k,!0,!0),l&&(f[k]=w))),p==h&&j&&j.name!==h&&(x=!0,T=function(){return j.call(this)}),l&&!_||P[v]===T||c(P,v,T),f[t]=T,p)if(I={values:A(h),keys:S?T:A(y),entries:A(b)},_)for(E in I)(m||x||!(E in P))&&u(P,E,I[E]);else n({target:t,proto:!0,forced:m||x},I);return I}},5746:function(e,t,r){var n=r(5981);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1333:function(e,t,r){var n=r(1899),i=r(941),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3281:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},5379:function(e,t,r){var n=r(626);e.exports=n},6759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6887:function(e,t,r){"use strict";var n=r(1899),i=r(9677).f,o=r(7252),a=r(4058),s=r(6843),c=r(2029),u=r(7457),d=function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,l,f,p,g,m,v,y,h=e.target,b=e.global,w=e.stat,S=e.proto,_=b?n:w?n[h]:(n[h]||{}).prototype,O=b?a:a[h]||(a[h]={}),I=O.prototype;for(f in t)r=!o(b?f:h+(w?".":"#")+f,e.forced)&&_&&u(_,f),g=O[f],r&&(m=e.noTargetGet?(y=i(_,f))&&y.value:_[f]),p=r&&m?m:t[f],r&&typeof g==typeof p||(v=e.bind&&r?s(p,n):e.wrap&&r?d(p):S&&"function"==typeof p?s(Function.call,p):p,(e.sham||p&&p.sham||g&&g.sham)&&c(v,"sham",!0),O[f]=v,S&&(u(a,l=h+"Prototype")||c(a,l,{}),a[l][f]=p,e.real&&I&&!I[f]&&c(I,f,p)))}},5981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},5602:function(e,t,r){var n=r(5981);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},6843:function(e,t,r){var n=r(3916);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},626:function(e,t,r){var n=r(4058),i=r(1899),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},2902:function(e,t,r){var n=r(9697),i=r(2077),o=r(9813)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},3476:function(e,t,r){var n=r(6059),i=r(2902);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},9571:function(e,t,r){var n=r(2529),i=r(3476);e.exports=n?i:function(e){return Set.prototype.values.call(e)}},1899:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},7457:function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},7748:function(e){e.exports={}},5463:function(e,t,r){var n=r(626);e.exports=n("document","documentElement")},2840:function(e,t,r){var n=r(5746),i=r(5981),o=r(1333);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7026:function(e,t,r){var n=r(5981),i=r(2532),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},1302:function(e,t,r){var n=r(3030),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},1647:function(e,t,r){var n=r(7748),i=r(941),o=r(7457),a=r(5988).f,s=r(9418),c=r(5602),u=s("meta"),d=0,l=Object.isExtensible||function(){return!0},f=function(e){a(e,u,{value:{objectID:"O"+ ++d,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!l(e))return"F";if(!t)return"E";f(e)}return e[u].objectID},getWeakData:function(e,t){if(!o(e,u)){if(!l(e))return!0;if(!t)return!1;f(e)}return e[u].weakData},onFreeze:function(e){return c&&p.REQUIRED&&l(e)&&!o(e,u)&&f(e),e}};n[u]=!0},5402:function(e,t,r){var n,i,o,a=r(8019),s=r(1899),c=r(941),u=r(2029),d=r(7457),l=r(3030),f=r(4262),p=r(7748),g=s.WeakMap;if(a){var m=l.state||(l.state=new g),v=m.get,y=m.has,h=m.set;n=function(e,t){return t.facade=e,h.call(m,e,t),t},i=function(e){return v.call(m,e)||{}},o=function(e){return y.call(m,e)}}else{var b=f("state");p[b]=!0,n=function(e,t){return t.facade=e,u(e,b,t),t},i=function(e){return d(e,b)?e[b]:{}},o=function(e){return d(e,b)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},6782:function(e,t,r){var n=r(9813),i=r(2077),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},1052:function(e,t,r){var n=r(2532);e.exports=Array.isArray||function(e){return"Array"==n(e)}},7252:function(e,t,r){var n=r(5981),i=/#|\.prototype\./,o=function(e,t){var r=s[a(e)];return r==u||r!=c&&("function"==typeof t?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},4466:function(e,t,r){var n=r(941),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},941:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},2529:function(e){e.exports=!0},685:function(e,t,r){var n=r(941),i=r(2532),o=r(9813)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},3091:function(e,t,r){var n=r(6059),i=r(6782),o=r(3057),a=r(6843),s=r(2902),c=r(7609),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var d,l,f,p,g,m,v,y=r&&r.that,h=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),w=!(!r||!r.INTERRUPTED),S=a(t,y,1+h+w),_=function(e){return d&&c(d),new u(!0,e)},O=function(e){return h?(n(e),w?S(e[0],e[1],_):S(e[0],e[1])):w?S(e,_):S(e)};if(b)d=e;else{if("function"!=typeof(l=s(e)))throw TypeError("Target is not iterable");if(i(l)){for(f=0,p=o(e.length);p>f;f++)if((g=O(e[f]))&&g instanceof u)return g;return new u(!1)}d=l.call(e)}for(m=d.next;!(v=m.call(d)).done;){try{g=O(v.value)}catch(e){throw c(d),e}if("object"==typeof g&&g&&g instanceof u)return g}return new u(!1)}},7609:function(e,t,r){var n=r(6059);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},5143:function(e,t,r){"use strict";var n,i,o,a=r(5981),s=r(249),c=r(2029),u=r(7457),d=r(9813),l=r(2529),f=d("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(n=i):p=!0);var g=null==n||a((function(){var e={};return n[f].call(e)!==e}));g&&(n={}),l&&!g||u(n,f)||c(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},2077:function(e){e.exports={}},2497:function(e,t,r){var n=r(5981);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},8019:function(e,t,r){var n=r(1899),i=r(1302),o=n.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},344:function(e,t,r){var n=r(685);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},9290:function(e,t,r){var n,i=r(6059),o=r(9938),a=r(6759),s=r(7748),c=r(5463),u=r(1333),d=r(4262)("IE_PROTO"),l=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=n?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var r=a.length;r--;)delete p.prototype[a[r]];return p()};s[d]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(l.prototype=i(e),r=new l,l.prototype=null,r[d]=e):r=p(),void 0===t?r:o(r,t)}},9938:function(e,t,r){var n=r(5746),i=r(5988),o=r(6059),a=r(4771);e.exports=n?Object.defineProperties:function(e,t){o(e);for(var r,n=a(t),s=n.length,c=0;s>c;)i.f(e,r=n[c++],t[r]);return e}},5988:function(e,t,r){var n=r(5746),i=r(2840),o=r(6059),a=r(6935),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},9677:function(e,t,r){var n=r(5746),i=r(6760),o=r(1887),a=r(4529),s=r(6935),c=r(7457),u=r(2840),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=a(e),t=s(t,!0),u)try{return d(e,t)}catch(e){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},249:function(e,t,r){var n=r(7457),i=r(9678),o=r(4262),a=r(4160),s=o("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},5629:function(e,t,r){var n=r(7457),i=r(4529),o=r(1692).indexOf,a=r(7748);e.exports=function(e,t){var r,s=i(e),c=0,u=[];for(r in s)!n(a,r)&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(u,r)||u.push(r));return u}},4771:function(e,t,r){var n=r(5629),i=r(6759);e.exports=Object.keys||function(e){return n(e,i)}},6760:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},8929:function(e,t,r){var n=r(6059),i=r(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,o){return n(r),i(o),t?e.call(r,o):r.__proto__=o,r}}():void 0)},5623:function(e,t,r){"use strict";var n=r(2885),i=r(9697);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},4058:function(e){e.exports={}},7524:function(e,t,r){var n=r(9754);e.exports=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e}},9754:function(e,t,r){var n=r(2029);e.exports=function(e,t,r,i){i&&i.enumerable?e[t]=r:n(e,t,r)}},8219:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},4911:function(e,t,r){var n=r(1899),i=r(2029);e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},4431:function(e,t,r){"use strict";var n=r(626),i=r(5988),o=r(9813),a=r(5746),s=o("species");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},904:function(e,t,r){var n=r(2885),i=r(5988).f,o=r(2029),a=r(7457),s=r(5623),c=r(9813)("toStringTag");e.exports=function(e,t,r,u){if(e){var d=r?e:e.prototype;a(d,c)||i(d,c,{configurable:!0,value:t}),u&&!n&&o(d,"toString",s)}}},4262:function(e,t,r){var n=r(8726),i=r(9418),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},3030:function(e,t,r){var n=r(1899),i=r(4911),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},8726:function(e,t,r){var n=r(2529),i=r(3030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.0",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},487:function(e,t,r){var n=r(6059),i=r(3916),o=r(9813)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},4620:function(e,t,r){var n=r(8459),i=r(8219),o=function(e){return function(t,r){var o,a,s=String(i(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},9413:function(e,t,r){var n=r(8459),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},4529:function(e,t,r){var n=r(7026),i=r(8219);e.exports=function(e){return n(i(e))}},8459:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},3057:function(e,t,r){var n=r(8459),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},9678:function(e,t,r){var n=r(8219);e.exports=function(e){return Object(n(e))}},6935:function(e,t,r){var n=r(941);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},2885:function(e,t,r){var n={};n[r(9813)("toStringTag")]="z",e.exports="[object z]"===String(n)},9418:function(e){var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},2302:function(e,t,r){var n=r(2497);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9813:function(e,t,r){var n=r(1899),i=r(8726),o=r(7457),a=r(9418),s=r(2497),c=r(2302),u=i("wks"),d=n.Symbol,l=c?d:d&&d.withoutSetter||a;e.exports=function(e){return o(u,e)||(s&&o(d,e)?u[e]=d[e]:u[e]=l("Symbol."+e)),u[e]}},833:function(e,t,r){"use strict";var n=r(6887),i=r(3610).find,o=r(8479),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},3242:function(e,t,r){var n=r(6887),i=r(1354);n({target:"Array",stat:!0,forced:!r(1385)((function(e){Array.from(e)}))},{from:i})},7690:function(e,t,r){"use strict";var n=r(6887),i=r(1692).includes,o=r(8479);n({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},6274:function(e,t,r){"use strict";var n=r(4529),i=r(8479),o=r(2077),a=r(5402),s=r(7771),c="Array Iterator",u=a.set,d=a.getterFor(c);e.exports=s(Array,"Array",(function(e,t){u(this,{type:c,target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},800:function(e,t,r){r(6887)({target:"Number",stat:!0},{isInteger:r(4466)})},5967:function(){},9008:function(e,t,r){"use strict";var n=r(4683),i=r(5616);e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},1035:function(e,t,r){"use strict";var n=r(6887),i=r(344),o=r(8219);n({target:"String",proto:!0,forced:!r(7772)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},7971:function(e,t,r){"use strict";var n=r(4620).charAt,i=r(5402),o=r(7771),a="String Iterator",s=i.set,c=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=c(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},2645:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(7622);n({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},2578:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(8984);n({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},7421:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(626),a=r(6059),s=r(3916),c=r(487),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=a(this),r=new(c(t,o("Set")))(t),n=s(r.delete);return u(e,(function(e){n.call(r,e)})),r}})},4573:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(6059),a=r(6843),s=r(9571),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return!c(r,(function(e,r){if(!n(e,e,t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},3787:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(626),a=r(6059),s=r(3916),c=r(6843),u=r(487),d=r(9571),l=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),r=d(t),n=c(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Set"))),f=s(i.add);return l(r,(function(e){n(e,e,t)&&f.call(i,e)}),{IS_ITERATOR:!0}),i}})},256:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(6059),a=r(6843),s=r(9571),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return c(r,(function(e,r){if(n(e,e,t))return r(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},5800:function(e,t,r){r(6887)({target:"Set",stat:!0},{from:r(3590)})},2032:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(626),a=r(6059),s=r(3916),c=r(487),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=a(this),r=new(c(t,o("Set"))),n=s(t.has),i=s(r.add);return u(e,(function(e){n.call(t,e)&&i.call(r,e)})),r}})},1873:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(6059),a=r(3916),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=o(this),r=a(t.has);return!s(e,(function(e,n){if(!0===r.call(t,e))return n()}),{INTERRUPTED:!0}).stopped}})},6566:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(626),a=r(6059),s=r(3916),c=r(3476),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=c(this),r=a(e),n=r.has;return"function"!=typeof n&&(r=new(o("Set"))(e),n=s(r.has)),!u(t,(function(e,t){if(!1===n.call(r,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},987:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(6059),a=r(3916),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=o(this),r=a(t.has);return!s(e,(function(e,n){if(!1===r.call(t,e))return n()}),{INTERRUPTED:!0}).stopped}})},1892:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(6059),a=r(9571),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(this),r=a(t),n=void 0===e?",":String(e),i=[];return s(r,i.push,{that:i,IS_ITERATOR:!0}),i.join(n)}})},3352:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(626),a=r(6059),s=r(3916),c=r(6843),u=r(487),d=r(9571),l=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=a(this),r=d(t),n=c(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Set"))),f=s(i.add);return l(r,(function(e){f.call(i,n(e,e,t))}),{IS_ITERATOR:!0}),i}})},3676:function(e,t,r){r(6887)({target:"Set",stat:!0},{of:r(5226)})},6988:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(6059),a=r(3916),s=r(9571),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),r=s(t),n=arguments.length<2,i=n?void 0:arguments[1];if(a(e),c(r,(function(r){n?(n=!1,i=r):i=e(i,r,r,t)}),{IS_ITERATOR:!0}),n)throw TypeError("Reduce of empty set with no initial value");return i}})},6875:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(6059),a=r(6843),s=r(9571),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return c(r,(function(e,r){if(n(e,e,t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},3859:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(626),a=r(6059),s=r(3916),c=r(487),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=a(this),r=new(c(t,o("Set")))(t),n=s(r.delete),i=s(r.add);return u(e,(function(e){n.call(r,e)||i.call(r,e)})),r}})},6690:function(e,t,r){"use strict";var n=r(6887),i=r(2529),o=r(626),a=r(6059),s=r(3916),c=r(487),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=a(this),r=new(c(t,o("Set")))(t);return u(e,s(r.add),{that:r}),r}})},7634:function(e,t,r){r(6274);var n=r(3281),i=r(1899),o=r(9697),a=r(2029),s=r(2077),c=r(9813)("toStringTag");for(var u in n){var d=i[u],l=d&&d.prototype;l&&o(l)!==c&&a(l,c,u),s[u]=s.Array}},4611:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,r="",n=this.t,i=this.DB-n*this.DB%4;if(n-- >0)for(i<this.DB&&(e=this[n]>>i)>0&&(t=!0,r=d(e));n>=0;)i<4?(e=(this[n]&(1<<i)-1)<<4-i,e|=this[--n]>>(i+=this.DB-4)):(e=this[n]>>(i-=4)&15,i<=0&&(i+=this.DB,--n)),e>0&&(t=!0),t&&(r+=d(e));return t?r:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var r=t.length,n=!1,i=0;--r>=0;){var o=u(t,r);o<0?"-"==t.charAt(r)&&(n=!0):(n=!1,0==i?this[this.t++]=o:i+4>this.DB?(this[this.t-1]|=(o&(1<<this.DB-i)-1)<<i,this[this.t++]=o>>this.DB-i):this[this.t-1]|=o<<i,(i+=4)>=this.DB&&(i-=this.DB))}this.clamp(),n&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=i();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var r=i();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,s=this.t-1;s>=0;--s)t[s+o+1]=this[s]>>n|a,a=(this[s]&i)<<r;for(s=o-1;s>=0;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,r){var n=this.abs(),i=t.abs(),o=n.t;for(r.t=o+i.t;--o>=0;)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.divRemTo=function(t,r,n){var a=t.abs();if(!(a.t<=0)){var s=this.abs();if(s.t<a.t)return null!=r&&r.fromHexString("0"),void(null!=n&&this.copyTo(n));null==n&&(n=i());var c=i(),u=this.s,d=t.s,l=this.DB-o(a[a.t-1]);l>0?(a.lShiftTo(l,c),s.lShiftTo(l,n)):(a.copyTo(c),s.copyTo(n));var f=c.t,p=c[f-1];if(0!=p){var g=p*(1<<this.F1)+(f>1?c[f-2]>>this.F2:0),m=this.FV/g,v=(1<<this.F1)/g,y=1<<this.F2,h=n.t,b=h-f,w=null==r?i():r;for(c.dlShiftTo(b,w),n.compareTo(w)>=0&&(n[n.t++]=1,n.subTo(w,n)),e.ONE.dlShiftTo(f,w),w.subTo(c,c);c.t<f;)c[c.t++]=0;for(;--b>=0;){var S=n[--h]==p?this.DM:Math.floor(n[h]*m+(n[h-1]+y)*v);if((n[h]+=c.am(0,S,n,b,0,f))<S)for(c.dlShiftTo(b,w),n.subTo(w,n);n[h]<--S;)n.subTo(w,n)}null!=r&&(n.drShiftTo(f,r),u!=d&&e.ZERO.subTo(r,r)),n.t=f,n.clamp(),l>0&&n.rShiftTo(l,n),u<0&&e.ZERO.subTo(n,n)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new l(t):new f(t),this.exp(e,r)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var n=i(),a=i(),s=r.convert(this),c=o(t)-1;for(s.copyTo(n);--c>=0;)if(r.sqrTo(n,a),(t&1<<c)>0)r.mulTo(a,s,n);else{var u=n;n=a,a=u}return r.revert(n)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},e.prototype.am1=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},e.prototype.am2=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this[e],u=this[e++]>>15,d=s*c+u*a;i=((c=a*c+((32767&d)<<15)+r[n]+(1073741823&i))>>>30)+(d>>>15)+s*u+(i>>>30),r[n++]=1073741823&c}return i},e.prototype.am3=function(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,d=s*c+u*a;i=((c=a*c+((16383&d)<<14)+r[n]+i)>>28)+(d>>14)+s*u,r[n++]=268435455&c}return i},e}();function i(){return new n(null)}function o(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}t.BigInteger=n,t.nbi=i,t.nbits=o;var a,s,c=[];for(a="0".charCodeAt(0),s=0;s<=9;++s)c[a++]=s;for(a="a".charCodeAt(0),s=10;s<36;++s)c[a++]=s;for(a="A".charCodeAt(0),s=10;s<36;++s)c[a++]=s;function u(e,t){var r=c[e.charCodeAt(t)];return null==r?-1:r}function d(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}t.intAt=u,t.int2char=d,t.b64toHex=function(e){var t,r="",n=0,i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));o<0||(0==n?(r+=d(o>>2),i=3&o,n=1):1==n?(r+=d(i<<2|o>>4),i=15&o,n=2):2==n?(r+=d(i),r+=d(o>>2),i=3&o,n=3):(r+=d(i<<2|o>>4),r+=d(15&o),n=0))}return 1==n&&(r+=d(i<<2)),r},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var l=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),f=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=i();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function p(e){var t=i();return t.fromHexString(e.toString()),t}t.nbv=p,n.ZERO=p(0),n.ONE=p(1),"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=n.prototype.am2,r=30):"Netscape"!=navigator.appName?(n.prototype.am=n.prototype.am1,r=26):(n.prototype.am=n.prototype.am3,r=28),n.prototype.DB=r,n.prototype.DM=(1<<r)-1,n.prototype.DV=1<<r,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-r,n.prototype.F2=2*r-52},4950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=(t+=String.fromCharCode(128)).length/4+2,o=Math.ceil(i/16),a=new Array(o),s=0;s<o;s++){a[s]=new Array(16);for(var c=0;c<16;c++)a[s][c]=t.charCodeAt(64*s+4*c)<<24|t.charCodeAt(64*s+4*c+1)<<16|t.charCodeAt(64*s+4*c+2)<<8|t.charCodeAt(64*s+4*c+3)<<0}var u=8*(t.length-1)/Math.pow(2,32),d=8*(t.length-1)>>>0;for(a[o-1][14]=Math.floor(u),a[o-1][15]=d,s=0;s<o;s++){for(var l=new Array(64),f=0;f<16;f++)l[f]=a[s][f];for(f=16;f<64;f++)l[f]=e.q1(l[f-2])+l[f-7]+e.q0(l[f-15])+l[f-16]>>>0;var p=n[0],g=n[1],m=n[2],v=n[3],y=n[4],h=n[5],b=n[6],w=n[7];for(f=0;f<64;f++){var S=w+e.z1(y)+e.Ch(y,h,b)+r[f]+l[f],_=e.z0(p)+e.Maj(p,g,m);w=b,b=h,h=y,y=v+S>>>0,v=m,m=g,g=p,p=S+_>>>0}n[0]=n[0]+p>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+y>>>0,n[5]=n[5]+h>>>0,n[6]=n[6]+b>>>0,n[7]=n[7]+w>>>0}var O=new Array(n.length);for(w=0;w<n.length;w++)O[w]=("00000000"+n[w].toString(16)).slice(-8);return O.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,r){return e&t^~e&r},e.Maj=function(e,t,r){return e&t^e&r^t&r},e}();t.Sha256=r},1582:function(e,t,r){"use strict";var n=r(4611),i=r(4950);t.T=function(e,t,r,o){var a=new n.BigInteger(n.b64toHex(t)),s=new n.BigInteger(n.b64toHex(r)),c=a.modPowInt(o,s);return n.removeExtraSymbols(c.toHexString())===i.Sha256.hash(e)}},2701:function(e,t,r){"use strict";var n=r(4155),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){this.name=e,this.version=t,this.os=r};t.BrowserInfo=o;var a=function(e){this.version=e,this.name="node",this.os=n.platform};t.NodeInfo=a;var s=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};t.BotInfo=s;var c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function d(e){var t=""!==e&&c.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new s;var a=n[1]&&n[1].split(/[._]/).slice(0,3);return a?a.length<3&&(a=i(a,function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length))):a=[],new o(r,a.join("."),l(e))}function l(e){for(var t=0,r=u.length;t<r;t++){var n=u[t],i=n[0];if(n[1].test(e))return i}return null}function f(){return void 0!==n&&n.version?new a(n.version.slice(1)):null}t.detect=function(e){return e?d(e):"undefined"!=typeof navigator?d(navigator.userAgent):f()},t.parseUserAgent=d,t.detectOS=l,t.getNodeVersion=f},1230:function(e,t){var r,n,i;!function(o,a){"use strict";n=[],void 0===(i="function"==typeof(r=function(){return function(){var e,t=navigator,r=t.connection||t.mozConnection||t.webkitConnection||{downlinkMax:1/0};if(!("downlinkMax"in r))if("bandwidth"in r)r.downlinkMax=8*r.bandwidth;else{switch(r.type){case"none":e=0;break;case"2g":e=.134;break;case"bluetooth":case"cellular":e=2;break;case"3g":e=8.95;break;case"4g":e=100;break;case"ethernet":e=550;break;case"wifi":e=600;break;default:e=1/0}r.downlinkMax=e}return r.downlinkMax}})?r.apply(t,n):r)||(e.exports=i)}()},7187:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o,a,u;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=a.length,u=d,console&&console.warn&&console.warn(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):g(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,d=g(c,u);for(r=0;r<u;++r)n(d[r],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},1432:function(e){a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var t=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,n="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,o=0;if(t)r=t;else{for(;o<i&&!(o in n);)o++;r=n[o++]}for(;o<i;)o in n&&(r=e(r,n[o],o,n)),o++;return r};function i(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return n.call(i(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function a(e){var s,c={},u=[];function d(e,t){return"function"==typeof e?g.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?g.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,r){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),n=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var n=t.split(":"),o=n[0],a=n[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=g(a,s,r?[r,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return i}function f(e){var t=Array.isArray(e)?e:e.split(".");return n.call(t,(function(r,n,i){var o=r[n],a=!1;return o||(i===t.length-1?(s||u.push((function(){a||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),r[n]=p((function(e){r[n]=e,a=!0}))):r[n]={})}),c)}function p(e){var t=[],n=[],i=function(){},a={before:function(e,r){return c.call(this,t,"before",e,r)},after:function(e,t){return c.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);"object"==typeof e&&(r=r.filter((function(t){return Object.keys(e).every((function(r){return t[r]===e[r]}))})));try{o(r,{remove:function(){return r.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function(){return this.getHooks().remove()}},s={install:function(r,o,a){this.type=r,i=a,a(t,n),e&&e(o)}};return r.set(a.after,s),a;function c(e,r,o,a){var s={hook:o,type:r,priority:a||10,remove:function(){var r=e.indexOf(s);-1!==r&&(e.splice(r,1),i(t,n))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),i(t,n),this}}function g(t,n,c){var d=n.after&&r.get(n.after);if(d){if(d.type!==t)throw"fun-hooks: recreated hookable with different type";return n}var l,g,m=c?f(c):p(),v={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return s||u.push(y),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?g=new Proxy(n,v):o(g=function(){return v.apply?v.apply(n,this,i(arguments)):n.apply(this,arguments)},m),r.get(g.after).install(t,g,(function(e,r){var n,o=[];function a(e){o.push(e.hook)}e.length||r.length?(e.forEach(a),n=o.push(void 0)-1,r.forEach(a),l=function(e,r,a){var s,c=0,u="async"===t&&"function"==typeof a[a.length-1]&&a.pop();function d(e){"sync"===t?s=e:u&&u.apply(null,arguments)}function l(e){if(o[c]){var n=i(arguments);return l.bail=d,n.unshift(l),o[c++].apply(r,n)}"sync"===t?s=e:u&&u.apply(null,arguments)}return o[n]=function(){var n=i(arguments,1);"async"===t&&u&&(delete l.bail,n.push(l));var o=e.apply(r,n);"sync"===t&&l(o)},l.apply(null,a),s}):l=void 0,y()})),g;function y(){!s&&("sync"!==t||e.ready&a.SYNC)&&("async"!==t||e.ready&a.ASYNC)?"sync"!==t&&e.ready&a.QUEUE?v.apply=function(){var e=arguments;u.push((function(){g.apply(e[1],e[2])}))}:v.apply=function(){throw"fun-hooks: hooked function not ready"}:v.apply=l}}return(e=o({},t,e)).ready?d.ready=function(){s=!0,function(e){for(var t;t=e.shift();)t()}(u)}:s=!0,d.get=f,d}e.exports=a},645:function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,d=-7,l=r?i-1:0,f=r?-1:1,p=e[t+l];for(l+=f,o=p&(1<<-d)-1,p>>=-d,d+=s;d>0;o=256*o+e[t+l],l+=f,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=256*a+e[t+l],l+=f,d-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=u}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,d=(1<<u)-1,l=d>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,g=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=d?(s=0,a=d):a+l>=1?(s=(t*c-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=g,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+p]=255&a,p+=g,a/=256,u-=8);e[r+p-g]|=128*m}},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2604:function(e,t){"use strict";var r=["weeks","years","months","days","hours","minutes","seconds"],n=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0}),i=new RegExp("P(?:(\\d+(?:[\\.,]\\d+)?W)|(\\d+(?:[\\.,]\\d+)?Y)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?D)?(?:T(\\d+(?:[\\.,]\\d+)?H)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?S)?)?)");t.Qc=function(e){return e.match(i).slice(1).reduce((function(e,t,n){return e[r[n]]=parseFloat(t)||0,e}),{})},t.my=function(e,t){e=Object.assign({},n,e);var r=t?t.getTime():Date.now(),i=new Date(r);return(function(e,t){e=Object.assign({},n,e);var r=t?t.getTime():Date.now(),i=new Date(r);return i.setFullYear(i.getFullYear()+e.years),i.setMonth(i.getMonth()+e.months),i.setDate(i.getDate()+e.days),i.setHours(i.getHours()+e.hours),i.setMinutes(i.getMinutes()+e.minutes),i.setMilliseconds(i.getMilliseconds()+1e3*e.seconds),i.setDate(i.getDate()+7*e.weeks),i}(e,i).getTime()-i.getTime())/1e3}},7079:function(e){e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t){var i=t[n];r[n]=i&&"object"==typeof i?e(i):i}return r}},9208:function(e,t,r){var n,i="__lodash_hash_undefined__",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),g=Array.prototype,m=Function.prototype,v=Object.prototype,y=p["__core-js_shared__"],h=(n=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",b=m.toString,w=v.hasOwnProperty,S=v.toString,_=RegExp("^"+b.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=p.Symbol,I=g.splice,E=D(p,"Map"),A=D(Object,"create"),k=O?O.prototype:void 0,x=k?k.toString:void 0;function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function T(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function C(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function R(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function D(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!L(e)||(t=e,h&&h in t))&&(function(e){var t=L(e)?S.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?_:d).test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(r)?r:void 0}P.prototype.clear=function(){this.__data__=A?A(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(A){var r=t[e];return r===i?void 0:r}return w.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return A?void 0!==t[e]:w.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=A&&void 0===t?i:t,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(e){var t=this.__data__,r=C(t,e);return!(r<0||(r==t.length-1?t.pop():I.call(t,r,1),0))},j.prototype.get=function(e){var t=this.__data__,r=C(t,e);return r<0?void 0:t[r][1]},j.prototype.has=function(e){return C(this.__data__,e)>-1},j.prototype.set=function(e,t){var r=this.__data__,n=C(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},T.prototype.clear=function(){this.__data__={hash:new P,map:new(E||j),string:new P}},T.prototype.delete=function(e){return R(this,e).delete(e)},T.prototype.get=function(e){return R(this,e).get(e)},T.prototype.has=function(e){return R(this,e).has(e)},T.prototype.set=function(e,t){return R(this,e).set(e,t),this};var U=B((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(q(e))return x?x.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return s.test(e)&&r.push(""),e.replace(c,(function(e,t,n,i){r.push(n?i.replace(u,"$1"):t||e)})),r}));function M(e){if("string"==typeof e||q(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function B(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(B.Cache||T),r}B.Cache=T;var N=Array.isArray;function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function q(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==S.call(e)}e.exports=function(e,t,r){var n=null==e?void 0:function(e,t){for(var r,n=0,i=(t=function(e,t){if(N(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!q(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:N(r=t)?r:U(r)).length;null!=e&&n<i;)e=e[M(t[n++])];return n&&n==i?e:void 0}(e,t);return void 0===n?r:n}},394:function(e,t,r){var n="__lodash_hash_undefined__",i=/^\[object .+?Constructor\]$/,o="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")();function c(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function u(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=-1;++o<i;)if(t(e[o],o,e))return o;return-1}(e,l);for(var n=-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t)>-1}function d(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function l(e){return e!=e}function f(e,t){return e.has(t)}var p,g=Array.prototype,m=Function.prototype,v=Object.prototype,y=s["__core-js_shared__"],h=(p=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",b=m.toString,w=v.hasOwnProperty,S=v.toString,_=RegExp("^"+b.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=g.splice,I=Math.max,E=Math.min,A=U(s,"Map"),k=U(Object,"create");function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function T(e){var t=-1,r=e?e.length:0;for(this.__data__=new j;++t<r;)this.add(e[t])}function C(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function R(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!L(e)}(e)}(e)?e:[]}function D(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function U(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!q(e)||(t=e,h&&h in t))&&(L(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?_:i).test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(r)?r:void 0}x.prototype.clear=function(){this.__data__=k?k(null):{}},x.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},x.prototype.get=function(e){var t=this.__data__;if(k){var r=t[e];return r===n?void 0:r}return w.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return k?void 0!==t[e]:w.call(t,e)},x.prototype.set=function(e,t){return this.__data__[e]=k&&void 0===t?n:t,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(e){var t=this.__data__,r=C(t,e);return!(r<0||(r==t.length-1?t.pop():O.call(t,r,1),0))},P.prototype.get=function(e){var t=this.__data__,r=C(t,e);return r<0?void 0:t[r][1]},P.prototype.has=function(e){return C(this.__data__,e)>-1},P.prototype.set=function(e,t){var r=this.__data__,n=C(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},j.prototype.clear=function(){this.__data__={hash:new x,map:new(A||P),string:new x}},j.prototype.delete=function(e){return D(this,e).delete(e)},j.prototype.get=function(e){return D(this,e).get(e)},j.prototype.has=function(e){return D(this,e).has(e)},j.prototype.set=function(e,t){return D(this,e).set(e,t),this},T.prototype.add=T.prototype.push=function(e){return this.__data__.set(e,n),this},T.prototype.has=function(e){return this.__data__.has(e)};var M,B,N=(M=function(e){var t=d(e,R);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=u,i=e[0].length,o=e.length,a=o,s=Array(o),c=1/0,d=[];a--;){var l=e[a];c=E(l.length,c),s[a]=i>=120&&l.length>=120?new T(a&&l):void 0}l=e[0];var p=-1,g=s[0];e:for(;++p<i&&d.length<c;){var m=l[p],v=m;if(m=0!==m?m:0,!(g?f(g,v):n(d,v,r))){for(a=o;--a;){var y=s[a];if(!(y?f(y,v):n(e[a],v,r)))continue e}g&&g.push(v),d.push(m)}}return d}(t):[]},B=I(void 0===B?M.length-1:B,0),function(){for(var e=arguments,t=-1,r=I(e.length-B,0),n=Array(r);++t<r;)n[t]=e[B+t];t=-1;for(var i=Array(B+1);++t<B;)i[t]=e[t];return i[B]=n,c(M,this,i)});function L(e){var t=q(e)?S.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=N},773:function(e,t,r){var n,i="__lodash_hash_undefined__",o=/^\[object .+?Constructor\]$/,a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,s="object"==typeof self&&self&&self.Object===Object&&self,c=a||s||Function("return this")(),u=Array.prototype,d=Function.prototype,l=Object.prototype,f=c["__core-js_shared__"],p=(n=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",g=d.toString,m=l.hasOwnProperty,v=l.toString,y=RegExp("^"+g.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=u.splice,b=A(c,"Map"),w=A(Object,"create");function S(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function O(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function E(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function A(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!x(e)||(t=e,p&&p in t))&&(function(e){var t=x(e)?v.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?y:o).test(function(e){if(null!=e){try{return g.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(r)?r:void 0}function k(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(k.Cache||O),r}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}S.prototype.clear=function(){this.__data__=w?w(null):{}},S.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},S.prototype.get=function(e){var t=this.__data__;if(w){var r=t[e];return r===i?void 0:r}return m.call(t,e)?t[e]:void 0},S.prototype.has=function(e){var t=this.__data__;return w?void 0!==t[e]:m.call(t,e)},S.prototype.set=function(e,t){return this.__data__[e]=w&&void 0===t?i:t,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(e){var t=this.__data__,r=I(t,e);return!(r<0||(r==t.length-1?t.pop():h.call(t,r,1),0))},_.prototype.get=function(e){var t=this.__data__,r=I(t,e);return r<0?void 0:t[r][1]},_.prototype.has=function(e){return I(this.__data__,e)>-1},_.prototype.set=function(e,t){var r=this.__data__,n=I(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},O.prototype.clear=function(){this.__data__={hash:new S,map:new(b||_),string:new S}},O.prototype.delete=function(e){return E(this,e).delete(e)},O.prototype.get=function(e){return E(this,e).get(e)},O.prototype.has=function(e){return E(this,e).has(e)},O.prototype.set=function(e,t){return E(this,e).set(e,t),this},k.Cache=O,e.exports=k},2378:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[o]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d[a]=d["[object Map]"]=d["[object Number]"]=d[s]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;var l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),g=t&&!t.nodeType&&t,m=g&&e&&!e.nodeType&&e,v=m&&m.exports===g,y=v&&l.process,h=function(){try{return m&&m.require&&m.require("util").types||y&&y.binding&&y.binding("util")}catch(e){}}(),b=h&&h.isTypedArray;function w(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var S,_,O,I=Array.prototype,E=Function.prototype,A=Object.prototype,k=p["__core-js_shared__"],x=E.toString,P=A.hasOwnProperty,j=(S=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",T=A.toString,C=x.call(Object),R=RegExp("^"+x.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=v?p.Buffer:void 0,U=p.Symbol,M=p.Uint8Array,B=(D&&D.allocUnsafe,_=Object.getPrototypeOf,O=Object,function(e){return _(O(e))}),N=Object.create,L=A.propertyIsEnumerable,q=I.splice,z=U?U.toStringTag:void 0,V=function(){try{var e=se(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),F=D?D.isBuffer:void 0,W=Math.max,G=Date.now,H=se(p,"Map"),K=se(Object,"create"),$=function(){function e(){}return function(t){if(!be(t))return{};if(N)return N(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Y(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function J(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function X(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=this.__data__=new J(e);this.size=t.size}function Q(e,t,r){(void 0!==r&&!fe(e[t],r)||void 0===r&&!(t in e))&&re(e,t,r)}function ee(e,t,r){var n=e[t];P.call(e,t)&&fe(n,r)&&(void 0!==r||t in e)||re(e,t,r)}function te(e,t){for(var r=e.length;r--;)if(fe(e[r][0],t))return r;return-1}function re(e,t,r){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Y.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(K){var r=t[e];return r===n?void 0:r}return P.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:P.call(t,e)},Y.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=K&&void 0===t?n:t,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(e){var t=this.__data__,r=te(t,e);return!(r<0||(r==t.length-1?t.pop():q.call(t,r,1),--this.size,0))},J.prototype.get=function(e){var t=this.__data__,r=te(t,e);return r<0?void 0:t[r][1]},J.prototype.has=function(e){return te(this.__data__,e)>-1},J.prototype.set=function(e,t){var r=this.__data__,n=te(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(H||J),string:new Y}},X.prototype.delete=function(e){var t=ae(this,e).delete(e);return this.size-=t?1:0,t},X.prototype.get=function(e){return ae(this,e).get(e)},X.prototype.has=function(e){return ae(this,e).has(e)},X.prototype.set=function(e,t){var r=ae(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Z.prototype.clear=function(){this.__data__=new J,this.size=0},Z.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Z.prototype.get=function(e){return this.__data__.get(e)},Z.prototype.has=function(e){return this.__data__.has(e)},Z.prototype.set=function(e,t){var r=this.__data__;if(r instanceof J){var n=r.__data__;if(!H||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new X(n)}return r.set(e,t),this.size=r.size,this};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":z&&z in Object(e)?function(e){var t=P.call(e,z),r=e[z];try{e[z]=void 0;var n=!0}catch(e){}var i=T.call(e);return n&&(t?e[z]=r:delete e[z]),i}(e):function(e){return T.call(e)}(e)}function ie(e){return we(e)&&ne(e)==o}function oe(e,t,r,n,i){e!==t&&function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[++n];if(!1===t(i[s],s,i))break}}(t,(function(o,a){if(i||(i=new Z),be(o))!function(e,t,r,n,i,o,a){var c=de(e,r),u=de(t,r),d=a.get(u);if(d)Q(e,r,d);else{var l,f,p,g,m,v=o?o(c,u,r+"",e,t,a):void 0,y=void 0===v;if(y){var h=ge(u),b=!h&&ve(u),w=!h&&!b&&Se(u);v=u,h||b||w?ge(c)?v=c:we(m=c)&&me(m)?v=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(c):b?(y=!1,v=function(e,t){return e.slice()}(u)):w?(y=!1,g=new(p=(l=u).buffer).constructor(p.byteLength),new M(g).set(new M(p)),f=g,v=new l.constructor(f,l.byteOffset,l.length)):v=[]:function(e){if(!we(e)||ne(e)!=s)return!1;var t=B(e);if(null===t)return!0;var r=P.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&x.call(r)==C}(u)||pe(u)?(v=c,pe(c)?v=function(e){return function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=void 0;void 0===c&&(c=e[s]),i?re(r,s,c):ee(r,s,c)}return r}(e,_e(e))}(c):be(c)&&!ye(c)||(v=function(e){return"function"!=typeof e.constructor||ue(e)?{}:$(B(e))}(u))):y=!1}y&&(a.set(u,v),i(v,u,n,o,a),a.delete(u)),Q(e,r,v)}}(e,t,a,r,oe,n,i);else{var c=n?n(de(e,a),o,a+"",e,t,i):void 0;void 0===c&&(c=o),Q(e,a,c)}}),_e)}function ae(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function se(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!be(e)||function(e){return!!j&&j in e}(e))&&(ye(e)?R:c).test(function(e){if(null!=e){try{return x.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function ce(e,t){var r=typeof e;return!!(t=null==t?i:t)&&("number"==r||"symbol"!=r&&u.test(e))&&e>-1&&e%1==0&&e<t}function ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function de(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var le=function(e){var t=0,r=0;return function(){var n=G(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Ee);function fe(e,t){return e===t||e!=e&&t!=t}var pe=ie(function(){return arguments}())?ie:function(e){return we(e)&&P.call(e,"callee")&&!L.call(e,"callee")},ge=Array.isArray;function me(e){return null!=e&&he(e.length)&&!ye(e)}var ve=F||function(){return!1};function ye(e){if(!be(e))return!1;var t=ne(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function he(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function be(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function we(e){return null!=e&&"object"==typeof e}var Se=b?function(e){return function(t){return e(t)}}(b):function(e){return we(e)&&he(e.length)&&!!d[ne(e)]};function _e(e){return me(e)?function(e,t){var r=ge(e),n=!r&&pe(e),i=!r&&!n&&ve(e),o=!r&&!n&&!i&&Se(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var u in e)!t&&!P.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ce(u,c))||s.push(u);return s}(e,!0):function(e){if(!be(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ue(e),r=[];for(var n in e)("constructor"!=n||!t&&P.call(e,n))&&r.push(n);return r}(e)}var Oe,Ie=(Oe=function(e,t,r){oe(e,t,r)},function(e,t){return le(function(e,t,r){return t=W(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=W(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),w(e,this,s)}}(e,t,Ee),e+"")}((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=Oe.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!be(r))return!1;var n=typeof t;return!!("number"==n?me(r)&&ce(t,r.length):"string"==n&&t in r)&&fe(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&Oe(e,a,r)}return e})));function Ee(e){return e}e.exports=Ie},8554:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[o]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d[a]=d["[object Map]"]=d["[object Number]"]=d[s]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;var l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),g=t&&!t.nodeType&&t,m=g&&e&&!e.nodeType&&e,v=m&&m.exports===g,y=v&&l.process,h=function(){try{return m&&m.require&&m.require("util").types||y&&y.binding&&y.binding("util")}catch(e){}}(),b=h&&h.isTypedArray;function w(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var S,_,O,I=Array.prototype,E=Function.prototype,A=Object.prototype,k=p["__core-js_shared__"],x=E.toString,P=A.hasOwnProperty,j=(S=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",T=A.toString,C=x.call(Object),R=RegExp("^"+x.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=v?p.Buffer:void 0,U=p.Symbol,M=p.Uint8Array,B=(D&&D.allocUnsafe,_=Object.getPrototypeOf,O=Object,function(e){return _(O(e))}),N=Object.create,L=A.propertyIsEnumerable,q=I.splice,z=U?U.toStringTag:void 0,V=function(){try{var e=se(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),F=D?D.isBuffer:void 0,W=Math.max,G=Date.now,H=se(p,"Map"),K=se(Object,"create"),$=function(){function e(){}return function(t){if(!be(t))return{};if(N)return N(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Y(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function J(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function X(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=this.__data__=new J(e);this.size=t.size}function Q(e,t,r){(void 0!==r&&!fe(e[t],r)||void 0===r&&!(t in e))&&re(e,t,r)}function ee(e,t,r){var n=e[t];P.call(e,t)&&fe(n,r)&&(void 0!==r||t in e)||re(e,t,r)}function te(e,t){for(var r=e.length;r--;)if(fe(e[r][0],t))return r;return-1}function re(e,t,r){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Y.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(K){var r=t[e];return r===n?void 0:r}return P.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:P.call(t,e)},Y.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=K&&void 0===t?n:t,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(e){var t=this.__data__,r=te(t,e);return!(r<0||(r==t.length-1?t.pop():q.call(t,r,1),--this.size,0))},J.prototype.get=function(e){var t=this.__data__,r=te(t,e);return r<0?void 0:t[r][1]},J.prototype.has=function(e){return te(this.__data__,e)>-1},J.prototype.set=function(e,t){var r=this.__data__,n=te(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(H||J),string:new Y}},X.prototype.delete=function(e){var t=ae(this,e).delete(e);return this.size-=t?1:0,t},X.prototype.get=function(e){return ae(this,e).get(e)},X.prototype.has=function(e){return ae(this,e).has(e)},X.prototype.set=function(e,t){var r=ae(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Z.prototype.clear=function(){this.__data__=new J,this.size=0},Z.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Z.prototype.get=function(e){return this.__data__.get(e)},Z.prototype.has=function(e){return this.__data__.has(e)},Z.prototype.set=function(e,t){var r=this.__data__;if(r instanceof J){var n=r.__data__;if(!H||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new X(n)}return r.set(e,t),this.size=r.size,this};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":z&&z in Object(e)?function(e){var t=P.call(e,z),r=e[z];try{e[z]=void 0;var n=!0}catch(e){}var i=T.call(e);return n&&(t?e[z]=r:delete e[z]),i}(e):function(e){return T.call(e)}(e)}function ie(e){return we(e)&&ne(e)==o}function oe(e,t,r,n,i){e!==t&&function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[++n];if(!1===t(i[s],s,i))break}}(t,(function(o,a){if(i||(i=new Z),be(o))!function(e,t,r,n,i,o,a){var c=de(e,r),u=de(t,r),d=a.get(u);if(d)Q(e,r,d);else{var l,f,p,g,m,v=o?o(c,u,r+"",e,t,a):void 0,y=void 0===v;if(y){var h=ge(u),b=!h&&ve(u),w=!h&&!b&&Se(u);v=u,h||b||w?ge(c)?v=c:we(m=c)&&me(m)?v=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(c):b?(y=!1,v=function(e,t){return e.slice()}(u)):w?(y=!1,g=new(p=(l=u).buffer).constructor(p.byteLength),new M(g).set(new M(p)),f=g,v=new l.constructor(f,l.byteOffset,l.length)):v=[]:function(e){if(!we(e)||ne(e)!=s)return!1;var t=B(e);if(null===t)return!0;var r=P.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&x.call(r)==C}(u)||pe(u)?(v=c,pe(c)?v=function(e){return function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=void 0;void 0===c&&(c=e[s]),i?re(r,s,c):ee(r,s,c)}return r}(e,_e(e))}(c):be(c)&&!ye(c)||(v=function(e){return"function"!=typeof e.constructor||ue(e)?{}:$(B(e))}(u))):y=!1}y&&(a.set(u,v),i(v,u,n,o,a),a.delete(u)),Q(e,r,v)}}(e,t,a,r,oe,n,i);else{var c=n?n(de(e,a),o,a+"",e,t,i):void 0;void 0===c&&(c=o),Q(e,a,c)}}),_e)}function ae(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function se(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!be(e)||function(e){return!!j&&j in e}(e))&&(ye(e)?R:c).test(function(e){if(null!=e){try{return x.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function ce(e,t){var r=typeof e;return!!(t=null==t?i:t)&&("number"==r||"symbol"!=r&&u.test(e))&&e>-1&&e%1==0&&e<t}function ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function de(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var le=function(e){var t=0,r=0;return function(){var n=G(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Ee);function fe(e,t){return e===t||e!=e&&t!=t}var pe=ie(function(){return arguments}())?ie:function(e){return we(e)&&P.call(e,"callee")&&!L.call(e,"callee")},ge=Array.isArray;function me(e){return null!=e&&he(e.length)&&!ye(e)}var ve=F||function(){return!1};function ye(e){if(!be(e))return!1;var t=ne(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function he(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function be(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function we(e){return null!=e&&"object"==typeof e}var Se=b?function(e){return function(t){return e(t)}}(b):function(e){return we(e)&&he(e.length)&&!!d[ne(e)]};function _e(e){return me(e)?function(e,t){var r=ge(e),n=!r&&pe(e),i=!r&&!n&&ve(e),o=!r&&!n&&!i&&Se(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var u in e)!t&&!P.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ce(u,c))||s.push(u);return s}(e,!0):function(e){if(!be(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ue(e),r=[];for(var n in e)("constructor"!=n||!t&&P.call(e,n))&&r.push(n);return r}(e)}var Oe,Ie=(Oe=function(e,t,r,n){oe(e,t,r,n)},function(e,t){return le(function(e,t,r){return t=W(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=W(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),w(e,this,s)}}(e,t,Ee),e+"")}((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=Oe.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!be(r))return!1;var n=typeof t;return!!("number"==n?me(r)&&ce(t,r.length):"string"==n&&t in r)&&fe(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&Oe(e,a,r,i)}return e})));function Ee(e){return e}e.exports=Ie},1468:function(e,t,r){var n,i="__lodash_hash_undefined__",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,f="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,p="object"==typeof self&&self&&self.Object===Object&&self,g=f||p||Function("return this")(),m=Array.prototype,v=Function.prototype,y=Object.prototype,h=g["__core-js_shared__"],b=(n=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",w=v.toString,S=y.hasOwnProperty,_=y.toString,O=RegExp("^"+w.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=g.Symbol,E=m.splice,A=M(g,"Map"),k=M(Object,"create"),x=I?I.prototype:void 0,P=x?x.toString:void 0;function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function T(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function C(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function R(e,t,r){var n=e[t];S.call(e,t)&&z(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function D(e,t){for(var r=e.length;r--;)if(z(e[r][0],t))return r;return-1}function U(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function M(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!F(e)||(t=e,b&&b in t))&&(function(e){var t=F(e)?_.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?O:d).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(r)?r:void 0}function B(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}j.prototype.clear=function(){this.__data__=k?k(null):{}},j.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},j.prototype.get=function(e){var t=this.__data__;if(k){var r=t[e];return r===i?void 0:r}return S.call(t,e)?t[e]:void 0},j.prototype.has=function(e){var t=this.__data__;return k?void 0!==t[e]:S.call(t,e)},j.prototype.set=function(e,t){return this.__data__[e]=k&&void 0===t?i:t,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(e){var t=this.__data__,r=D(t,e);return!(r<0||(r==t.length-1?t.pop():E.call(t,r,1),0))},T.prototype.get=function(e){var t=this.__data__,r=D(t,e);return r<0?void 0:t[r][1]},T.prototype.has=function(e){return D(this.__data__,e)>-1},T.prototype.set=function(e,t){var r=this.__data__,n=D(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},C.prototype.clear=function(){this.__data__={hash:new j,map:new(A||T),string:new j}},C.prototype.delete=function(e){return U(this,e).delete(e)},C.prototype.get=function(e){return U(this,e).get(e)},C.prototype.has=function(e){return U(this,e).has(e)},C.prototype.set=function(e,t){return U(this,e).set(e,t),this};var N=q((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(W(e))return P?P.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return s.test(e)&&r.push(""),e.replace(c,(function(e,t,n,i){r.push(n?i.replace(u,"$1"):t||e)})),r}));function L(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function q(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(q.Cache||C),r}function z(e,t){return e===t||e!=e&&t!=t}q.Cache=C;var V=Array.isArray;function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==_.call(e)}e.exports=function(e,t,r){return null==e?e:function(e,t,r,n){if(!F(e))return e;for(var i=-1,s=(t=function(e,t){if(V(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!W(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return V(e)?e:N(e)}(t)).length,c=s-1,u=e;null!=u&&++i<s;){var d=L(t[i]),l=r;if(i!=c){var f=u[d];void 0===(l=n?n(f,d,u):void 0)&&(l=F(f)?f:B(t[i+1])?[]:{})}R(u,d,l),u=u[d]}return e}(e,t,r)}},4155:function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],u=!1,d=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=a(l);u=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},2635:function(e,t,r){var n=r(7055);e.exports=function(e){var t,r="",i=e||{};return function(e,i,o,a,s,c,u,d){r=r+'<div class="branded-content"><div class="branded-content__title">'+n.escape(null==(t=u)?"":t)+'</div><div class="branded-content__player vjs-video-container vjs-responsive"><video class="video-js vjs-default-skin"'+n.attr("id",s,!0,!0)+n.attr("controls",!0,!0,!0)+' preload="false"'+n.attr("width",d,!0,!0)+n.attr("height",a,!0,!0)+n.attr("data-opts",i,!0,!0)+"><source"+n.attr("src",c,!0,!0)+' type="video/mp4"></video></div><div class="branded-content__description"><a'+n.attr("href",e,!0,!0)+' rel="nofollow" target="_blank">'+n.escape(null==(t=o)?"":t)+"</a></div></div>"}.call(this,"click"in i?i.click:"undefined"!=typeof click?click:void 0,"dataOpts"in i?i.dataOpts:"undefined"!=typeof dataOpts?dataOpts:void 0,"description"in i?i.description:"undefined"!=typeof description?description:void 0,"height"in i?i.height:"undefined"!=typeof height?height:void 0,"id"in i?i.id:"undefined"!=typeof id?id:void 0,"src"in i?i.src:"undefined"!=typeof src?src:void 0,"title"in i?i.title:"undefined"!=typeof title?title:void 0,"width"in i?i.width:"undefined"!=typeof width?width:void 0),r}},567:function(e,t,r){var n=r(7055);e.exports=function(e){var t="",r=e||{};return function(e,r,i,o,a){t=t+'<div class="branded-content"><div class="branded-content__player vjs-video-container vjs-responsive"><video class="video-js vjs-default-skin"'+n.attr("id",i,!0,!0)+n.attr("controls",!0,!0,!0)+' preload="false"'+n.attr("width",a,!0,!0)+n.attr("height",r,!0,!0)+n.attr("data-opts",e,!0,!0)+"><source"+n.attr("src",o,!0,!0)+' type="video/mp4"></video></div></div>'}.call(this,"dataOpts"in r?r.dataOpts:"undefined"!=typeof dataOpts?dataOpts:void 0,"height"in r?r.height:"undefined"!=typeof height?height:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"src"in r?r.src:"undefined"!=typeof src?src:void 0,"width"in r?r.width:"undefined"!=typeof width?width:void 0),t}},705:function(e,t,r){r(7055),e.exports=function(e){return""+'<div style="position:fixed; z-index:999999; top:20px; left:20px;"><button id="debugRemoteButton" style="background-color:red; color:white; border:1px solid darkred; padding:10px;">Mark as buggy</button><div id="debugRemoteButtonText" style="display:none;"><textarea style="display:block;"></textarea><button style="background-color:red; color:white; display:block; border:1px solid darkred; padding:10px;">Send</button></div></div>'}},8676:function(e,t,r){r(7055),e.exports=function(e){return""+'<script>window.dataLayer = window.dataLayer || []\nwindow.dataLayer.push({\n  \'gtm.start\': new Date().getTime(),\n  event: \'gtm.js\'\n})\nconst analytics = window[\'$$mm-analytics\'] = window[\'$$mm-analytics\'] || {}\nif (typeof analytics.firstEmbed === \'undefined\') {\n  analytics.firstEmbed = Date.now()\n}\n<\/script><script src="https://www.googletagmanager.com/gtm.js?id=GTM-PL4PD49"><\/script><iframe height="0" width="0" src="https://www.googletagmanager.com/ns.html?id=GTM-PL4PD49"></iframe><script async src="https://bucket1.mm-syringe.com/prod/configs/c4e65ff4-b385-d838-b9da-8cc3d8d9dfdb.js"><\/script><script async src="https://bucket1.mm-syringe.com/prod/injector/injector.1.5.3.js"><\/script>'}},7055:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e,t){return Array.isArray(e)?function(e,t){for(var r,n="",o="",a=Array.isArray(t),s=0;s<e.length;s++)(r=i(e[s]))&&(a&&t[s]&&(r=c(r)),n=n+o+r,o=" ");return n}(e,t):e&&"object"==typeof e?function(e){var t="",r="";for(var i in e)i&&e[i]&&n.call(e,i)&&(t=t+r+i,r=" ");return t}(e):e||""}function o(e){if(!e)return"";if("object"==typeof e){var t="";for(var r in e)n.call(e,r)&&(t=t+r+":"+e[r]+";");return t}return e+""}function a(e,t,r,n){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(n?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),r||-1===t.indexOf('"'))?(r&&(t=c(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,r){if(1===arguments.length){for(var n=t[0],i=1;i<t.length;i++)n=e(n,t[i]);return n}for(var a in r)if("class"===a){var s=t[a]||[];t[a]=(Array.isArray(s)?s:[s]).concat(r[a]||[])}else if("style"===a){s=(s=o(t[a]))&&";"!==s[s.length-1]?s+";":s;var c=o(r[a]);c=c&&";"!==c[c.length-1]?c+";":c,t[a]=s+c}else t[a]=r[a];return t},t.classes=i,t.style=o,t.attr=a,t.attrs=function(e,t){var r="";for(var s in e)if(n.call(e,s)){var c=e[s];if("class"===s){r=a(s,c=i(c),!1,t)+r;continue}"style"===s&&(c=o(c)),r+=a(s,c,!1,t)}return r};var s=/["&<>]/;function c(e){var t=""+e,r=s.exec(t);if(!r)return e;var n,i,o,a="";for(n=r.index,i=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}i!==n&&(a+=t.substring(i,n)),i=n+1,a+=o}return i!==n?a+t.substring(i,n):a}t.escape=c,t.rethrow=function e(t,n,i,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||o))throw t.message+=" on line "+i,t;try{o=o||r(2993).readFileSync(n,"utf8")}catch(r){e(t,null,i)}var a=3,s=o.split("\n"),c=Math.max(i-a,0),u=Math.min(s.length,i+a);throw a=s.slice(c,u).map((function(e,t){var r=t+c+1;return(r==i?"  > ":"    ")+r+"| "+e})).join("\n"),t.path=n,t.message=(n||"Pug")+":"+i+"\n"+a+"\n\n"+t.message,t}},9509:function(e,t,r){var n=r(2236),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},2830:function(e,t,r){e.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(6577),i.Writable=r(323),i.Duplex=r(8656),i.Transform=r(4473),i.PassThrough=r(2366),i.finished=r(1086),i.pipeline=r(6472),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(d(),0===n.listenerCount(this,"error"))throw e}function d(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return r.on("error",u),e.on("error",u),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e}},8106:function(e){"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,c;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+".".length>(s=e).length||-1===s.indexOf(".",c)?"argument":"property");a='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},8656:function(e,t,r){"use strict";var n=r(4155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var o=r(6577),a=r(323);r(5717)(d,o);for(var s=i(a.prototype),c=0;c<s.length;c++){var u=s[c];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2366:function(e,t,r){"use strict";e.exports=i;var n=r(4473);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},6577:function(e,t,r){"use strict";var n,i=r(4155);e.exports=E,E.ReadableState=I,r(7187).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=r(3194),c=r(2236).Buffer,u=r.g.Uint8Array||function(){},d=r(1758);o=d&&d.debuglog?d.debuglog("stream"):function(){};var l,f,p,g=r(9686),m=r(1029),v=r(94).getHighWaterMark,y=r(8106).q,h=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,S=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(E,s);var _=m.errorOrDestroy,O=["error","close","destroy","pause","resume"];function I(e,t,i){n=n||r(8656),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",i),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(2553).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function E(e){if(n=n||r(8656),!(this instanceof E))return new E(e);var t=this instanceof n;this._readableState=new I(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function A(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?j(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new h("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)_(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)s.endEmitted?_(e,new S):k(e,s,t,!0);else if(s.ended)_(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?k(e,s,t,!1):C(e,s)):k(e,s,t,!1)}else n||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&j(e)),C(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=m.destroy,E.prototype._undestroy=m.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),A(this,e,t,!1,r)},E.prototype.unshift=function(e){return A(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){l||(l=r(2553).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function j(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(T,e))}function T(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function U(e){o("readable nexttick read 0"),e.read(0)}function M(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function L(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):j(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){_(this,new w("_read()"))},E.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===i.stdout||e===i.stderr?m:c;function c(){o("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,a){o("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",l),d=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,B(e))}}(r);e.on("drain",u);var d=!1;function l(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==z(n.pipes,e))&&!d&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){o("onerror",t),m(),e.removeListener("error",f),0===a(e,"error")&&_(e,t)}function p(){e.removeListener("finish",g),m()}function g(){o("onfinish"),e.removeListener("close",p),m()}function m(){o("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",g),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?j(this):n.reading||i.nextTick(U,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(D,this),r},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(D,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(M,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<O.length;a++)e.on(O[a],this.emit.bind(this,O[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(828)),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=N,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===p&&(p=r(1265)),p(E,e,t)})},4473:function(e,t,r){"use strict";e.exports=d;var n=r(8106).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(8656);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(5717)(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,r){r(new i("_transform()"))},d.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},323:function(e,t,r){"use strict";var n,i=r(4155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=E,E.WritableState=I;var a,s={deprecate:r(4927)},c=r(3194),u=r(2236).Buffer,d=r.g.Uint8Array||function(){},l=r(1029),f=r(94).getHighWaterMark,p=r(8106).q,g=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,h=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function O(){}function I(e,t,a){n=n||r(8656),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(T,e,t),e._writableState.errorEmitted=!0,_(e,n)):(o(n),e._writableState.errorEmitted=!0,_(e,n),T(e,t))}(e,r,n,t,o);else{var a=P(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),n?i.nextTick(k,e,r,a,o):k(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function E(e){var t=this instanceof(n=n||r(8656));if(!t&&!a.call(E,this))return new E(e);this._writableState=new I(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function A(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new h("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),T(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,A(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,l=r.callback;if(A(e,t,!1,t.objectMode?1:u.length,u,d,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function j(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var r=P(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(j,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5717)(E,c),I.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(I.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===E&&e&&e._writableState instanceof I}})):a=function(e){return e instanceof this},E.prototype.pipe=function(){_(this,new y)},E.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,u.isBuffer(n)||n instanceof d);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=O),o.ending?function(e,t){var r=new w;_(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new b:"string"==typeof r||t.objectMode||(o=new g("chunk",["string","Buffer"],r)),!o||(_(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,s,n,i,o);return c}(this,o,s,e,t,r)),a},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new m("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}},828:function(e,t,r){"use strict";var n,i=r(4155);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(1086),s=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),d=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function g(e,t){return{value:e,done:t}}function m(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[l]=null,e[s]=null,e[c]=null,t(g(r,!1)))}}function v(e){i.nextTick(m,e)}var y=Object.getPrototypeOf((function(){})),h=Object.setPrototypeOf((o(n={get stream(){return this[p]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[d])return Promise.resolve(g(void 0,!0));if(this[p].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[u]?r(e[u]):t(g(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[d]?r(g(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(g(o,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[p].destroy(null,(function(e){e?r(e):t(g(void 0,!0))}))}))})),n),y);e.exports=function(e){var t,r=Object.create(h,(o(t={},p,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,d,{value:e._readableState.endEmitted,writable:!0}),o(t,f,{value:function(e,t){var n=r[p].read();n?(r[l]=null,r[s]=null,r[c]=null,e(g(n,!1))):(r[s]=e,r[c]=t)},writable:!0}),t));return r[l]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[l]=null,r[s]=null,r[c]=null,t(e)),void(r[u]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[c]=null,n(g(void 0,!0))),r[d]=!0})),e.on("readable",v.bind(null,r)),r}},9686:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(2236).Buffer,s=r(1758).inspect,c=s&&s.custom||"inspect";function u(e,t,r){a.prototype.copy.call(e,t,r)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),r=this.head,n=0;r;)u(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),e}()},1029:function(e,t,r){"use strict";var n=r(4155);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},1086:function(e,t,r){"use strict";var n=r(8106).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||d()},u=t._writableState&&t._writableState.finished,d=function(){s=!1,u=!0,a||o.call(t)},l=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,l=!0,s||o.call(t)},p=function(e){o.call(t,e)},g=function(){var e;return a&&!l?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",d),t.on("abort",g),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",f),t.on("finish",d),!1!==r.error&&t.on("error",p),t.on("close",g),function(){t.removeListener("complete",d),t.removeListener("abort",g),t.removeListener("request",m),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",g)}}},1265:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:function(e,t,r){"use strict";var n,i=r(8106).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(1086)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function d(e,t){return e.pipe(t)}function l(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=l(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(u),o||(a.forEach(u),i(n))}))}));return t.reduce(d)}},94:function(e,t,r){"use strict";var n=r(8106).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},3194:function(e,t,r){e.exports=r(7187).EventEmitter},2553:function(e,t,r){"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=d,this.end=l,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function d(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4927:function(e,t,r){function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},5327:function(e){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,i=t;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},5217:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},1171:function(e,t,r){var n=r(5217),i=r(5327);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},2993:function(){},1758:function(){}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __webpack_exports__=__webpack_require__(8990)})();
//# sourceMappingURL=mol-adverts.js.map