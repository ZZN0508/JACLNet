System.register(["./common-chunks.system.1976d2aa.js"],(function(t){"use strict";var e;return{setters:[function(t){e=t.a5}],execute:function(){!function(t){if(!t.fetch){h.prototype.append=function(t,e){t=o(t),e=a(e);var r=this.map[t];r||(r=[],this.map[t]=r),r.push(e)},h.prototype.delete=function(t){delete this.map[o(t)]},h.prototype.get=function(t){var e=this.map[o(t)];return e?e[0]:null},h.prototype.getAll=function(t){return this.map[o(t)]||[]},h.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},h.prototype.set=function(t,e){this.map[o(t)]=[a(e)]},h.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach((function(r){this.map[r].forEach((function(n){t.call(e,n,r,this)}),this)}),this)};var e="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),r="FormData"in t,n="ArrayBuffer"in t,s=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this)},l.call(p.prototype),l.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var i=[301,302,303,307,308];y.redirect=function(t,e){if(-1===i.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=h,t.Request=p,t.Response=y,t.fetch=function(t,r){return new Promise((function(n,s){var i;i=p.prototype.isPrototypeOf(t)&&!r?t:new p(t,r);var o=new XMLHttpRequest;o.onload=function(){var t=1223===o.status?204:o.status;if(t<100||t>599)s(new TypeError("Network request failed"));else{var e={status:t,statusText:o.statusText,headers:m(o),url:"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0},r="response"in o?o.response:o.responseText;n(new y(r,e))}},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&e&&(o.responseType="blob"),i.headers.forEach((function(t,e){o.setRequestHeader(e,t)})),o.send(void 0===i._bodyInit?null:i._bodyInit)}))},t.fetch.polyfill=!0}function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function c(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function f(t){var e=new FileReader;return e.readAsArrayBuffer(t),c(e)}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(e&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(r&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(t){if(!n||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},e?(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(f)},this.text=function(){var t,e,r=u(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,(e=new FileReader).readAsText(t),c(e);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=u(this);return t||Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t,e){var r,n,i=(e=e||{}).body;if(p.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,i||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),s.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function d(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(s))}})),e}function m(t){var e=new h;return(t.getAllResponseHeaders()||"").trim().split("\n").forEach((function(t){var r=t.trim().split(":"),n=r.shift().trim(),s=r.join(":").trim();e.append(n,s)})),e}function y(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof h?e.headers:new h(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:void 0);var r=Object.freeze({__proto__:null});function n(t,e){var r={};if(t)for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(r[e?n.toLowerCase():n]=t[n]);return r}var s={DELETE:!0,PATCH:!0,POST:!0,PUT:!0};var i={CONNECT:!0,DELETE:!0,GET:!0,OPTIONS:!0,PATCH:!0,POST:!0};function o(t,e){var r=new Error(t);return r.response=e,r.status=e.status,r}function a(t,e,r){t.hasOwnProperty(e)||(t[e]=r)}function h(){}function u(t,e){var r=this.timings[0],n=this.lastTiming();this.endTime=n.end=this.getTime(),this.logger(t,{state:e.state||"end",msg:e.msg,index:this.index,url:this.url,receiveTime:n.received-n.start,translateTime:n.translated-n.received,time:n.end-n.start,totalTime:n.end-r.start,retry:this.retry,maxRetries:this.options.maxRetries,status:e.status},{request:this,httpReq:this.httpReq,response:e.response})}function c(t){this.options=t,this.JWT=!1,this._requestIndex=0,this.setListener(),this.setFetch(),this.setGenerateCorrelationID(),this.setGetJWT();this._translate=t.translate||function(t){return t.json()}}var f=function(t){return t.json().then((function(t){return t.redirectUrl&&(window.location.href=t.redirectUrl),Promise.resolve()}))},l={enablePerimeterX:!1,perimeterXHandler:f};function p(){return(new Date).getTime()}c.prototype.fetchWrapper=function(t){var e,r,n,s,i=this,a=t._options;if(this.options.isClientFetch){var h=t._fetch;a.timeout&&(r=h,n=a.timeout,h=function(){var t=arguments,e=this;return new Promise((function(i,o){r.apply(e,t).then((function(t){s&&(clearTimeout(s),i(t))})).catch((function(t){s&&(clearTimeout(s),o(t))})),s=setTimeout((function(){s=void 0,i({status:408,message:"electrode-fetch: request timed out"})}),n)}))}),(void 0!==a.enablePerimeterX?!0===a.enablePerimeterX:!0===l.enablePerimeterX)&&(h=function(t,e){return function(){return t.apply(this,arguments).then((function(t){if(t.status&&408===t.status)return t;var r=t.headers.get("content-type");if(t.status===c.PERIMETERX_HTTP_STATUS&&"string"==typeof r&&r.includes("application/json")){t._perimeterXTriggered=!0;var n=t.clone();return e.perimeterXHandler?e.perimeterXHandler(n).then((function(){return t})).catch((function(e){throw o(e,t)})):l.perimeterXHandler(n).then((function(){return t})).catch((function(e){throw o(e,t)}))}return t}))}}(h,a)),e=h(t.url,t.options)}else e=t._fetch(t.url,t.options);return e.then((function(e){var r=t.lastTiming();r.received=t.getTime();var n=function(e){return r.translated=t.getTime(),e};if(i.options.manageJwt&&e.headers){var s=e.headers.get("x-csrf-jwt");null!=s&&(i.JWT=s)}if(e.status>=200&&e.status<300){if(a.rawResponseOnly)return e;var h=function(t,e){var r=function(r){throw o("electrode-fetch: payload from URL ".concat(t.url," caused translate exception: ").concat(r.message),e)};try{var n=t.translate(e);return n.catch&&(n=n.catch(r)),n}catch(t){return r(t)}}(t,e);return h.then?h.then(n):n(h)}if(!a.noRetry&&((401===e.status||!0===e._perimeterXTriggered)&&t.retry<1||a.maxRetries>0&&t.retry<a.maxRetries))return 401===e.status&&(t.options.headers["x-csrf-jwt"]=e.headers.get("x-csrf-jwt")),t.logFetchEnd("warn",{state:"retry",status:e.status,response:e}),t.retry++,t.timings.push({start:t.getTime()}),i.fetchWrapper(t);throw o('electrode-fetch: URL "'.concat(t.url,'" returned bad status ').concat(e.status),e)}))},c.prototype.makeFetchRequest=function(t,e,r){var n=(e=e||{}).getTime||p,s=this._requestIndex++,i=n();return{url:t,_options:e,_fetch:e.fetch||this._fetch,retry:0,index:s,translate:r||this._translate,logFetchEnd:u,logger:e.disableAnalytics?h:this._listener,getTime:n,startTime:i,timings:[{start:i}],lastTiming:function(){return this.timings[this.timings.length-1]},fetchInstance:this}},c.prototype.fetch=function(t,e,r){var n=this.makeFetchRequest(t,e,r);return this.makeFetchOptions(n),this.fetchInternal(n)},c.prototype.fetchJSON=function(t,e,r){var n=this.makeFetchRequest(t,e,r);return this.makeFetchOptions(n,"application/json"),this.fetchInternal(n)},c.prototype.makeFetchOptions=function(t,e){var r=t.url,o=n(t._options);a(o,"credentials","same-origin");var h,u=n(o.headers,!0);if(o.headers=u,!o.omitCorrelationId&&this._generateCorrelationID&&a(u,"wm_qos.correlation_id",this._generateCorrelationID(r,o)),e&&!o.omitContentType&&(h=o.method,i[h&&h.toUpperCase()]&&a(u,"accept",e),function(t){return s[t&&t.toUpperCase()]}(o.method)&&a(u,"content-type",e)),!o.omitCsrfJwt&&!u.hasOwnProperty("x-csrf-jwt")){var c=this.JWT||this._getGlobalJWT();c&&(u["x-csrf-jwt"]=c)}return t.options=o,o},c.prototype.fetchInternal=function(t){return t.logger("info",{state:"start",msg:"start",index:t.index,url:t.url},{request:t,httpReq:t.httpReq}),this.fetchWrapper(t).then((function(e){return t.logFetchEnd("info",{status:e.status,response:e}),e})).catch((function(e){throw t.logFetchEnd("error",{state:"failed",msg:"fetch_fail - ".concat(e.message),status:e.status,response:e.response}),e}))},c.prototype.setListener=function(t){this._listener=t||this.options.listener||h},c.prototype.setFetch=function(t){this._fetch=t||this.options.fetch},c.prototype.setGenerateCorrelationID=function(t){this._generateCorrelationID=t||this.options.generateCorrelationID},c.prototype.setGetJWT=function(t){this._getGlobalJWT=t||this.options.getGlobalJWT||h},c.prototype.config=function(t){(l=Object.assign(l,t)).perimeterXHandler||(l.perimeterXHandler=f)},c.PERIMETERX_HTTP_STATUS=412;var d=c;e(r);var m=new d({manageJwt:!0,keepAlive:!1,fetch:self.fetch.bind(self),isClientFetch:!0,getGlobalJWT:function(){return window._wml?window._wml.jwt:null}});t("c",{instance:m,config:m.config.bind(m),fetch:m.fetch.bind(m),fetchJSON:m.fetchJSON.bind(m),setListener:m.setListener.bind(m),setFetch:m.setFetch.bind(m),setGenerateCorrelationID:m.setGenerateCorrelationID.bind(m),setGetJWT:m.setGetJWT.bind(m)})}}}));