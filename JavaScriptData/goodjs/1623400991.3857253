(window.webpackJsonp=window.webpackJsonp||[]).push([[10,42,43,44,46,51,53,54,58,59],{397:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return j}));r(29),r(30),r(135),r(12),r(4),r(22);var n=r(1),c=r.n(n),o=(r(14),r(3)),l=r(31),d=r(32),f=r(52),h=r(77),m=r(51);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var c=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var j=new(function(t){Object(f.a)(j,t);var r,n,h,m=v(j);function j(){return Object(l.a)(this,j),m.apply(this,arguments)}return Object(d.a)(j,[{key:"getResourceData",value:(h=Object(o.a)(c.a.mark((function t(r){var n,o,l=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},r){t.next=3;break}return t.abrupt("return");case 3:return o=e.isPreview(this.req)?"preview":"online",t.next=6,this.http("pcw","/resource/resource/".concat(o,"/").concat(r),{params:n});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(e){return h.apply(this,arguments)})},{key:"getMultiResourceData",value:(n=Object(o.a)(c.a.mark((function t(r){var n,o,data,l,d,f=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:{},e.get(r,"join")){t.next=3;break}return t.abrupt("return");case 3:return o=e.isPreview(this.req)?"preview":"online",t.next=6,this.http("pcw","/resource/resource/multi".concat(o,"/").concat(r.join(",")),{params:n});case 6:if((data=t.sent)&&"A00000"===data.code){t.next=9;break}return t.abrupt("return");case 9:return l=r[0],(d=data.data)[l]||(data.data={},data.data[l]=d),t.abrupt("return",data);case 13:case"end":return t.stop()}}),t,this)}))),function(e){return n.apply(this,arguments)})},{key:"getStrategyResourceData",value:(r=Object(o.a)(c.a.mark((function t(){var r,n,o=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},r){t.next=4;break}return t.abrupt("return");case 4:if(!e.isPreview(this.req)){t.next=10;break}return t.next=7,this.http("preview","/strategy/pcw/data/".concat(r,"/lego"),{data:Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&"),method:"POST"});case 7:return t.abrupt("return",t.sent);case 10:return t.next=12,this.http("pcw","/strategy/pcw/data/".concat(r),{params:n});case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),j}(r(136).a))}).call(this,r(11))},452:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return j}));r(29),r(30),r(4),r(135);var n=r(1),c=r.n(n),o=(r(14),r(3)),l=r(31),d=r(32),f=r(52),h=r(77),m=r(51);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var c=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var j=new(function(t){Object(f.a)(O,t);var r,n,h,m,j,y,k,w,x=v(O);function O(){return Object(l.a)(this,O),x.apply(this,arguments)}return Object(d.a)(O,[{key:"getThemeRecmdAll",value:(w=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http("pcw","/video/recommend/themedetailrecommend",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"getGuessulikeCourses",value:(k=Object(o.a)(c.a.mark((function e(){var t,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,this.http("kpp","/api/v1/recsys/guesslike/queryDataList",{params:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"getHomeThemeRecmdVideos",value:(y=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http("pcw","/strategy/pcw/data/indexThemeCardBlock",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"getHomeChannelCardRecmdVideos",value:(j=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http("pcw","/video/recommend/homecard",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"getGuessUWatchBI",value:(m=Object(o.a)(c.a.mark((function t(r){var n,o,l,d,f,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=null!==(n=null===(o=this.req)||void 0===o||null===(l=o.headers)||void 0===l?void 0:l.cookie)&&void 0!==n?n:"",f={device_id:e.$cookie.get("QC005",d)||"",passport_id:e.$cookie.get("P00003",d)||""},h=Object.assign({},f,r),t.next=5,this.http("pcw","/video/recommend/guessuwatch",{params:h});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(e){return m.apply(this,arguments)})},{key:"getBIHomeSortCard",value:(h=Object(o.a)(c.a.mark((function t(r){var n,o,l,d,f,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=null!==(n=null===(o=this.req)||void 0===o||null===(l=o.headers)||void 0===l?void 0:l.cookie)&&void 0!==n?n:"",f={device_id:e.$cookie.get("QC005",d)||"",passport_id:e.$cookie.get("P00003",d)||""},h=Object.assign({},f,r),t.next=5,this.http("pcw","/video/recommend/homesortcard",{params:h});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(e){return h.apply(this,arguments)})},{key:"getAbtestData",value:(n=Object(o.a)(c.a.mark((function t(r){var n,o,l,d,f,h,m,v;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=null!==(n=null===(o=this.req)||void 0===o||null===(l=o.headers)||void 0===l?void 0:l.cookie)&&void 0!==n?n:"",m=null!==(d=null===(f=this.req)||void 0===f?void 0:f.headers["user-agent"])&&void 0!==d?d:"",v={device_id:e.$cookie.get("QC005",h)||"",uid:e.$cookie.get("P00003",h)||"",platform:e.isIpad("",m)?"2_20_202":"1_10_101",layer_id:r},t.next=5,this.http("pcw","/personalized/personalized/abresult",{params:v});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(e){return n.apply(this,arguments)})},{key:"getStrategyRecommendData",value:(r=Object(o.a)(c.a.mark((function e(){var t,r,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:"",r=n.length>1&&void 0!==n[1]?n[1]:{},t){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.http("pcw","/strategy/pcw/data/".concat(t),{params:r});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}]),O}(r(136).a))}).call(this,r(11))},485:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));r(29),r(30),r(4),r(135);var n=r(1),c=r.n(n),o=(r(14),r(3)),l=r(31),d=r(32),f=r(52),h=r(77),m=r(51);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var c=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var j=new(function(e){Object(f.a)(j,e);var t,r,n,h,m=v(j);function j(){return Object(l.a)(this,j),m.apply(this,arguments)}return Object(d.a)(j,[{key:"getPlayRank",value:(h=Object(o.a)(c.a.mark((function e(t,r){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={cid:-1,dim:"hour",type:"realTime",size:10,page:1},o=Object.assign({},n,t),e.next=4,this.http("pcw","/album/album/fytoplist",{params:o,req:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"getReboRank",value:(n=Object(o.a)(c.a.mark((function e(){var t,r,n,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r={cid:-1,dim:"hour",type:"realTime",len:25,pageNumber:1},n=Object.assign({},r,t),e.next=5,this.http("pcw","/strategy/pcw/data/topReboBlock",{params:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getPaopaoRank",value:(r=Object(o.a)(c.a.mark((function e(){var t,r,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:"",r=n.length>1&&void 0!==n[1]?n[1]:{},t){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.http("pcw","/strategy/pcw/data/".concat(t),{params:r});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getStarInfluenceRank",value:(t=Object(o.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={page:1,size:10},n=Object.assign({},r,t),e.next=4,this.http("pcw","/paopao/circle/influencerank",{params:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),j}(r(136).a))},710:function(e,t,r){"use strict";(function(e){r.d(t,"d",(function(){return I})),r.d(t,"b",(function(){return B})),r.d(t,"c",(function(){return N})),r.d(t,"a",(function(){return Z})),r.d(t,"e",(function(){return Y}));r(53),r(56),r(37),r(23),r(12),r(4),r(22);var n=r(1),c=r.n(n),o=(r(14),r(9)),l=(r(44),r(3)),d=r(711),f=r(399),h=r(434),m=r(395),v=r.n(m),j=r(464),y=r(15),k=r(452),w=r(485);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function I(e){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(c.a.mark((function t(r){var n,o,l,d,f,h,m,v,j,y,k,data,w,x,I;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.app,o=r.req,l=n.$pageInfo.preview.rids,d=l.wideNavRids,f=l.narrowNavRids,h=l.tonglanTitleRids,m=l.focusRids,v=l.todayFocusRids,j=l.dianshijuTonglanRids,y=l.dianyingTonglanRids,k=l.zongyiTonglanRids,t.next=4,o.lego.getMultiResourceData([d,f,h],{qsRequestId:"homeFocusSubnav"});case 4:return data=t.sent,w=e.get(data,"data",{}),x=e.get(n.store.state.abtest,"PCW-Home-List.value",0),t.next=9,F(+x,o);case 9:return I=t.sent,t.t0=O,t.next=13,Y(o);case 13:return t.t1=t.sent,t.t2=w[d],t.t3=w[f],t.t4=G(w[h])||{},t.next=19,T(m,o);case 19:return t.t5=t.sent,t.next=22,U(v,o);case 22:return t.t6=t.sent,t.next=25,S(o);case 25:if(t.t7=t.sent,!n.store.state.loginUser.hasLogin){t.next=30;break}t.t8=[],t.next=33;break;case 30:return t.next=32,N(r);case 32:t.t8=t.sent;case 33:if(t.t9=t.t8,!n.store.state.loginUser.hasLogin){t.next=40;break}return t.next=37,B(r);case 37:t.t10=t.sent,t.next=41;break;case 40:t.t10=[];case 41:return t.t11=t.t10,t.next=44,$(r,{key:"rec_tv",rid:j,BIAfter:!0,qsRequestId:"homeDianshiju"});case 44:return t.t12=t.sent,t.next=47,$(r,{key:"rec_film",rid:y,BIAfter:!0,qsRequestId:"homeDianying"});case 47:return t.t13=t.sent,t.next=50,$(r,{key:"rec_variety",rid:k,BIAfter:!0,qsRequestId:"homeZongyi"});case 50:return t.t14=t.sent,t.next=53,_("themeEntryCoverData",o);case 53:return t.t15=t.sent,t.t16={homeSortCard:t.t1,wideNav:t.t2,narrowNav:t.t3,tonglanTitle:t.t4,focus:t.t5,todayFocus:t.t6,europeanCup:t.t7,guessUWatchUnlogin:t.t9,guessUWatch:t.t11,dianshijuTonglan:t.t12,dianyingTonglan:t.t13,zongyiTonglan:t.t14,newOnline:t.t15},t.t17=I,t.abrupt("return",(0,t.t0)(t.t16,t.t17));case 57:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(e,t){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(c.a.mark((function e(t,r){var n,o,code,data,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.lego.getStrategyResourceData(t);case 2:if(o=e.sent,code=o.code,data=o.data,"A00000"===code&&null!=data&&data.formatData){e.next=7;break}return e.abrupt("return",{});case 7:return l=null!==(n=null==data?void 0:data.formatData)&&void 0!==n?n:{},e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(c.a.mark((function t(r,n){var o,l,data;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.lego.getResourceData(r,{imageColor:1,size:12,qsRequestId:"homeFocus"});case 2:if("A00000"===(null==(data=t.sent)?void 0:data.code)&&null!=data&&null!==(o=data.data)&&void 0!==o&&null!==(l=o.items)&&void 0!==l&&l.length){t.next=5;break}throw new Error("ç„¦ç‚¹å›¾req.lego.getResourceData(".concat(r,")èŽ·å–æ•°æ®å¤±è´¥ï¼code: ").concat(data.code,", data: ").concat(JSON.stringify(data)));case 5:return t.abrupt("return",{cacheKey:"I71Home2020Carousel-".concat(e.get(data,"data.base.updateAt",""),"-").concat(e.isSupportWebp(n),"-").concat(e.isSupportAvif(n)),list:D(e.get(data,"data.items",[]),n).slice(0,10),kvs:e.get(data,"data.kvs",""),updateAt_test:e.get(data,"data.base.updateAt","")});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=null==r?void 0:r.headers["user-agent"];return t.map((function(t){var c=t.kvs,o=void 0===c?{}:c,l=t.list,d=void 0===l?{}:l,m=t.commonList,v=void 0===m?{}:m;if((2!=+o.is_ad||e.isWindows(n))&&(3!=+o.is_ad||e.isMac(n)))return{isVip:Object(h.l)(d),albumId:Object(h.i)(d)?d.albumId:"",bigPic:Object(f.a)(t.specialImageUrl||v.imageUrl,r,!1),logo:Object(f.a)(o.defImglogo||o.defImglogo_webp||"",r,!1),pageUrl:t.pageUrl||v.url||"",color:v.imageColor||"#191a20",vipMark:o.vip_watermark||"",iconMark:o.video_type||"",title:t.name||v.name||"",txt:t.prompt||v.description||"",txt1:t.subordinateTitle||"",tvId:o.preview_id||"",share_sTime:parseInt(o.preview_start)||0,share_eTime:parseInt(o.preview_end)||15,is_ad:+o.is_ad||0,poster_ad:o.poster_ad||""}})).filter((function(video){return!!video}))}function U(e,t){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(c.a.mark((function t(r,n){var data;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.lego.getResourceData(r,{size:7,qsRequestId:"homeTodayFocus"});case 2:return data=t.sent,t.abrupt("return",{cacheKey:"I71Home2020TodayFocus-".concat(e.get(data,"data.base.updateAt",""),"-").concat(e.isSupportWebp(n),"-").concat(e.isSupportAvif(n)),items:A(e.get(data,"data.items",[]))});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(e){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(c.a.mark((function t(r){var n,o,l,d,h,m,data;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(f.d)("ecStart",r)||"2021-06-11 00:00:00",o=Object(f.d)("ecEnd",r)||"2021-07-13 00:00:00",l={isValid:!1},v()().isBefore(n)||v()().isAfter(o)){t.next=10;break}return m=r.headers.cookie,t.next=7,r.lego.getStrategyResourceData("indexEuropeanCupRow",{P00001:e.$cookie.get("P00001",m),qsRequestId:"homeEuropeanCup"});case 7:data=t.sent,(l=null!==(d=null==data||null===(h=data.data)||void 0===h?void 0:h.formatData)&&void 0!==d?d:{}).isValid=!0;case 10:return t.abrupt("return",l);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(video,e){var t=video.commonList,r=void 0===t?{}:t,n=r.imageCanSplice?"h284":"",c=r.imageCanSplice?"480_270":"";return{name:video.name||r.name,pageUrl:r.url,imageUrl:Object(f.c)(r.imageUrl,n,{need2x:!0,defsize:c}),cornerMark:Object(h.a)(video)}}))}function B(){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(c.a.mark((function t(){var r,n,o,l,data,f=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=f.length>0&&void 0!==f[0]?f[0]:{},n=r.req,o={},l={ret_num:7,ip:Object(d.a)(n),qsRequestId:"homeGuessUWatchLogin"},t.next=6,n?n.recommend.getGuessUWatchBI(l):k.a.getGuessUWatchBI(l);case 6:return data=t.sent,(o=M(e.get(data,"data",{}),r)).isBI=!0,t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(data){var t,r,n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.get(data,"pingback",{}),l=e.$cookie.get("P00001",null!==(t=null==c||null===(r=c.req)||void 0===r||null===(n=r.headers)||void 0===n?void 0:n.cookie)&&void 0!==t?t:"")?"712211_cainizaizhui":"812211_wdljxk",d=O({rpage:"pcw_home",block:l,stype:2,bstp:3},o),h=e.get(data,"list",[]),m=h.map((function(video){var e=video.id,t=video.rank,title=video.title,r=video.playUrl,n=video.imageUrl,c=video.subtitle,o=video.g_corner_mark,l=video.g_meta,h=video.payMark,m=video.channelId,v=video.pingback,y=video.type,k=O({rank:t,aid:e,r:e,ht:h,c1:m},v);return{id:e,albumId:"ALBUM"===y?e:"",type:y,isBI:!0,name:title||"",pageUrl:r||"",imageUrl:Object(f.c)(n,"h284",{need2x:!0,defsize:"480_270"}),description:c||"",cornerMark:j.b[o],meta:l||"",biClickPingback:Object.assign({},d,k),payMark:h,cid:m,rank:t}})),v=O({t:21},d);return{items:m,biShowPingback:v}}function N(){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(c.a.mark((function t(){var r,n,o,l,f,h=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h.length>0&&void 0!==h[0]?h[0]:{},n=r.req,o={},l={ret_num:7,ip:Object(d.a)(n),qsRequestId:"homeGuessUWatchLogin"},t.next=6,n?n.recommend.getGuessUWatchBI(l):k.a.getGuessUWatchBI(l);case 6:return f=t.sent,(o=M(e.get(f,"data",{}),r)).isBI=!0,t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(e,t){return V.apply(this,arguments)}function V(){return(V=Object(l.a)(c.a.mark((function t(r,n){var o,l,data,f;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.req,l=[],!n.BIAfter){t.next=9;break}return t.next=5,o.lego.getResourceData(n.rid,{qsRequestId:n.qsRequestId});case 5:data=t.sent,l=[data,{}],t.next=13;break;case 9:return f=n.key||"",t.next=12,Promise.all([new Promise((function(e,t){try{e(o.lego.getResourceData(n.rid))}catch(t){e([])}})),new Promise((function(t,r){try{var n=o.headers.cookie,c={device_id:e.$cookie.get("QC005",n),passport_id:e.$cookie.get("P00003",n),area_list:f,is_vip:-1,ret_num_list:6,ip:Object(d.a)(o)};t(o.recommend.getHomeChannelCardRecmdVideos(c,o))}catch(e){t([])}}))]);case 12:l=t.sent;case 13:return t.abrupt("return",E(l,n,o));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(data,t,r){var n=e.get(data[0],"data.items",[]).map((function(t){var r=t.list,n=void 0===r?{}:r,c=t.commonList,o=void 0===c?{}:c;return{itemId:t.itemId,imageUrl:t.imageUrl,order:t.order,commonList:{name:o.name,url:o.url,description:o.description},list:{imageUrl:n.imageUrl,name:n.name,albumName:n.albumName,sourceId:n.sourceId,albumId:n.albumId,tvId:n.tvId,channelId:n.channelId,videoCount:n.videoCount,latestOrder:n.latestOrder,score:n.score,isAdvance:n.isAdvance,markControl:n.markControl,payMark:n.payMark,qiyiProduced:n.qiyiProduced,exclusive:n.exclusive,period:n.period,firstVideo:{tvId:e.get(n,"firstVideo.tvId","")},latestVideo:{tvId:e.get(n,"latestVideo.tvId","")}},imageSize:n.imageSize,imageProductionType:n.imageProductionType}}));data[0]={data:{items:n,cacheKey:"".concat(t.rid,"-").concat(e.get(data[0],"data.base.updateAt",""),"-").concat(e.isSupportWebp(r),"-").concat(e.isSupportAvif(r))}};var c=t.key,l=e.get(data[1],"data.".concat(c,".pingback"),{}),d=e.get(data[1],"data.".concat(c,".list"),[]).map((function(e){return{albumId:e.albumId,channelId:e.channelId,exclusive:e.exclusive,imageUrl:e.imageUrl,latestOrder:e.latestOrder,name:e.name,payMark:e.payMark,playUrl:e.playUrl,shortTitle:e.shortTitle,tvId:e.tvId,videoCount:e.videoCount,videoId:e.videoId,imageSize:e.imageSize,imageProductionType:e.imageProductionType}}));return data[1]={data:Object(o.a)({},c,{list:d,pingback:l})},data}function G(t){var data=e.get(t,"items",[]),r={};return data.map((function(e){var t=e.kvs;r[t.name]={name:t.name0,link:t.link0,subNav:[]};for(var i=1;i<9;i++)t["name".concat(i)]&&t["link".concat(i)]&&(8===i?r[t.name].subNav.push({name:t["name".concat(i)],pageUrl:t["link".concat(i)],isMore:!0}):r[t.name].subNav.push({name:t["name".concat(i)],pageUrl:t["link".concat(i)]}))})),r}function F(e,t){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(c.a.mark((function e(t,r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,1==+t&&(n=!0),e.next=4,K({type:"realTime",cid:2,size:10,gray:n,qsRequestId:"homeDianshijuRankHotplay"},r);case 4:return e.t0=e.sent,e.next=7,K({type:"realTime",cid:1,size:10,gray:n,qsRequestId:"homeDianyingRankHotplay"},r);case 7:return e.t1=e.sent,e.next=10,K({type:"realTime",cid:6,size:5,gray:n,qsRequestId:"homeZongyiRankHotplay"},r);case 10:return e.t2=e.sent,e.abrupt("return",{dianshijuRankb:e.t0,dianyingRankb:e.t1,zongyiRankb:e.t2});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return Q.apply(this,arguments)}function Q(){return(Q=Object(l.a)(c.a.mark((function t(){var r,n,o,data,l=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:{},n=l.length>1?l[1]:void 0,o={dim:"hour",type:r.type,page:1,cid:r.cid,size:r.size,qsRequestId:r.qsRequestId},t.next=5,n?n.rank.getPlayRank(o):w.a.getPlayRank(o);case 5:return data=t.sent,t.abrupt("return",{cacheKey:n?"-".concat(e.isSupportWebp(n),"-").concat(e.isSupportAvif(n)):"",data:Z(data,r.gray)});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get(data,"data",[]).map((function(e){e.score=e.sns_score;var t=Object(f.c)(e.album_pic_url,"v260",{need2x:!0,defsize:"260_360"});return{episode_play_url:e.episode_play_url,album_id:e.album_id,hot_idx:e.hot_idx,name:e.album_name||e.short_title,score:Object(h.c)(e),imageUrl:t.imageUrl||Object(f.c)(y.a.dark,"v260",{need2x:!0,defsize:"260_360"}),img2x:t.img2x||Object(f.c)(y.a.dark,"v260",{need2x:!0,defsize:"260_360"}),description:e.reason||e.prompt_description||"",meta:Object(h.b)(e),isHover:""}}))}function Y(e){return X.apply(this,arguments)}function X(){return(X=Object(l.a)(c.a.mark((function t(r){var n,o,l,h,m,v,j,data,y,w;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={serverTonglan:["I71Home2020Dianshiju","I71Home2020Dianying","I71Home2020Zongyi"],clientTonglan:["1000000000717","I71Home2020Yule","1000000000718","I71Home2020Dongman","I71Home2020Child","1000000000719","I71Home2020Jilupian","I71Home2020Zhibo","I71Home2020Tiyu","1000000000720","I71Home2020Weidianying"]},h=Object(f.d)("sid",r)||"",m=Object(f.d)("cid",r)||"",v=h.split(","),j=m.split(","),!h&&!m){t.next=10;break}l=3===v.length?v:n.serverTonglan,o=j.length>2?ee(j):n.clientTonglan,t.next=16;break;case 10:return t.next=12,r?r.recommend.getBIHomeSortCard({ip:Object(d.a)(r)}):k.a.getBIHomeSortCard();case 12:data=t.sent,y=e.get(data,"data",{}),l=3===e.get(y,"serverTonglan",[]).length?te(y.serverTonglan,"I71Home2020Dianshiju",0):n.serverTonglan,o=e.get(y,"clientTonglan",[]).length>2?ee(y.clientTonglan):n.clientTonglan;case 16:return w={serverTonglan:l,clientTonglan:o},t.abrupt("return",w);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ee(data){var e=["1000000000717","1000000000718","1000000000719","1000000000720"],t=[];return data.map((function(r,n){0!==n&&1!==n||t.push(e[n]),t.push(r),2===n&&t.push(e[2])})),data.length>=6?(t.push(e[3]),t.push("I71Home2020Weidianying")):(t.push("I71Home2020Weidianying"),t.push(e[3])),t}function te(data,e,t){var r=data;return data.map((function(t,n){t===e&&r.splice(n,1)})),r.splice(t,0,e),r}}).call(this,r(11))},711:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(53);function n(e){var t=e||{},r=t.headers,n=void 0===r?{}:r,c=t.connection,o=void 0===c?{}:c,l=t.socket,d=void 0===l?{}:l,f=((o||{}).socket||{}).remoteAddress,h=(n["x-forwarded-for"]||o.remoteAddress||d.remoteAddress||f||"").split(":");return h[h.length-1].split(",")[0]}},712:function(e,t,r){var map={"./af":487,"./af.js":487,"./ar":488,"./ar-dz":489,"./ar-dz.js":489,"./ar-kw":490,"./ar-kw.js":490,"./ar-ly":491,"./ar-ly.js":491,"./ar-ma":492,"./ar-ma.js":492,"./ar-sa":493,"./ar-sa.js":493,"./ar-tn":494,"./ar-tn.js":494,"./ar.js":488,"./az":495,"./az.js":495,"./be":496,"./be.js":496,"./bg":497,"./bg.js":497,"./bm":498,"./bm.js":498,"./bn":499,"./bn-bd":500,"./bn-bd.js":500,"./bn.js":499,"./bo":501,"./bo.js":501,"./br":502,"./br.js":502,"./bs":503,"./bs.js":503,"./ca":504,"./ca.js":504,"./cs":505,"./cs.js":505,"./cv":506,"./cv.js":506,"./cy":507,"./cy.js":507,"./da":508,"./da.js":508,"./de":509,"./de-at":510,"./de-at.js":510,"./de-ch":511,"./de-ch.js":511,"./de.js":509,"./dv":512,"./dv.js":512,"./el":513,"./el.js":513,"./en-au":514,"./en-au.js":514,"./en-ca":515,"./en-ca.js":515,"./en-gb":516,"./en-gb.js":516,"./en-ie":517,"./en-ie.js":517,"./en-il":518,"./en-il.js":518,"./en-in":519,"./en-in.js":519,"./en-nz":520,"./en-nz.js":520,"./en-sg":521,"./en-sg.js":521,"./eo":522,"./eo.js":522,"./es":523,"./es-do":524,"./es-do.js":524,"./es-mx":525,"./es-mx.js":525,"./es-us":526,"./es-us.js":526,"./es.js":523,"./et":527,"./et.js":527,"./eu":528,"./eu.js":528,"./fa":529,"./fa.js":529,"./fi":530,"./fi.js":530,"./fil":531,"./fil.js":531,"./fo":532,"./fo.js":532,"./fr":533,"./fr-ca":534,"./fr-ca.js":534,"./fr-ch":535,"./fr-ch.js":535,"./fr.js":533,"./fy":536,"./fy.js":536,"./ga":537,"./ga.js":537,"./gd":538,"./gd.js":538,"./gl":539,"./gl.js":539,"./gom-deva":540,"./gom-deva.js":540,"./gom-latn":541,"./gom-latn.js":541,"./gu":542,"./gu.js":542,"./he":543,"./he.js":543,"./hi":544,"./hi.js":544,"./hr":545,"./hr.js":545,"./hu":546,"./hu.js":546,"./hy-am":547,"./hy-am.js":547,"./id":548,"./id.js":548,"./is":549,"./is.js":549,"./it":550,"./it-ch":551,"./it-ch.js":551,"./it.js":550,"./ja":552,"./ja.js":552,"./jv":553,"./jv.js":553,"./ka":554,"./ka.js":554,"./kk":555,"./kk.js":555,"./km":556,"./km.js":556,"./kn":557,"./kn.js":557,"./ko":558,"./ko.js":558,"./ku":559,"./ku.js":559,"./ky":560,"./ky.js":560,"./lb":561,"./lb.js":561,"./lo":562,"./lo.js":562,"./lt":563,"./lt.js":563,"./lv":564,"./lv.js":564,"./me":565,"./me.js":565,"./mi":566,"./mi.js":566,"./mk":567,"./mk.js":567,"./ml":568,"./ml.js":568,"./mn":569,"./mn.js":569,"./mr":570,"./mr.js":570,"./ms":571,"./ms-my":572,"./ms-my.js":572,"./ms.js":571,"./mt":573,"./mt.js":573,"./my":574,"./my.js":574,"./nb":575,"./nb.js":575,"./ne":576,"./ne.js":576,"./nl":577,"./nl-be":578,"./nl-be.js":578,"./nl.js":577,"./nn":579,"./nn.js":579,"./oc-lnc":580,"./oc-lnc.js":580,"./pa-in":581,"./pa-in.js":581,"./pl":582,"./pl.js":582,"./pt":583,"./pt-br":584,"./pt-br.js":584,"./pt.js":583,"./ro":585,"./ro.js":585,"./ru":586,"./ru.js":586,"./sd":587,"./sd.js":587,"./se":588,"./se.js":588,"./si":589,"./si.js":589,"./sk":590,"./sk.js":590,"./sl":591,"./sl.js":591,"./sq":592,"./sq.js":592,"./sr":593,"./sr-cyrl":594,"./sr-cyrl.js":594,"./sr.js":593,"./ss":595,"./ss.js":595,"./sv":596,"./sv.js":596,"./sw":597,"./sw.js":597,"./ta":598,"./ta.js":598,"./te":599,"./te.js":599,"./tet":600,"./tet.js":600,"./tg":601,"./tg.js":601,"./th":602,"./th.js":602,"./tk":603,"./tk.js":603,"./tl-ph":604,"./tl-ph.js":604,"./tlh":605,"./tlh.js":605,"./tr":606,"./tr.js":606,"./tzl":607,"./tzl.js":607,"./tzm":608,"./tzm-latn":609,"./tzm-latn.js":609,"./tzm.js":608,"./ug-cn":610,"./ug-cn.js":610,"./uk":611,"./uk.js":611,"./ur":612,"./ur.js":612,"./uz":613,"./uz-latn":614,"./uz-latn.js":614,"./uz.js":613,"./vi":615,"./vi.js":615,"./x-pseudo":616,"./x-pseudo.js":616,"./yo":617,"./yo.js":617,"./zh-cn":618,"./zh-cn.js":618,"./zh-hk":619,"./zh-hk.js":619,"./zh-mo":620,"./zh-mo.js":620,"./zh-tw":621,"./zh-tw.js":621};function n(e){var t=c(e);return r(t)}function c(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}n.keys=function(){return Object.keys(map)},n.resolve=c,e.exports=n,n.id=712}}]);