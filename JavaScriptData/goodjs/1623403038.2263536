/*! For license information please see notifications-sdk-bundle.js.LICENSE.txt */
!function(){var t={830:function(t,e,n){"use strict";n.r(e),n.d(e,{createTracker:function(){return R},preparePayload:function(){return P},trackEvent:function(){return k},trackEventFactory:function(){return B}});var r=window.__SPOTIM__.lib.ab,i=n.n(r),o=n(951),a=n.n(o),u=n(69),c=n(808),s=n.n(c),f=n(538);function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(){var t=localStorage.getItem("SPOTIM_DEVICE_UUID_V2");return t?JSON.parse(t):{}}function p(){return"."+function(t){void 0===t&&(t="");var e=(t=t.replace(/^www\./,"")).split(/\./);if(3===e.length){var n=e[2],r=e[1],i=h.includes(n),o=!h.includes(r)&&!g.includes(r);if(i&&o)return e.shift(),e.join(".")}for(;e.length>3;)e.shift();return 3===e.length&&(e[1].length>2&&e[2].length>2||-1===g.indexOf(e[1])&&-1===h.indexOf(e[2]))&&e.shift(),e.join(".")}(document.domain)}var v,h="ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|be|bf|bg|bh|bi|bj|bm|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|cl|cm|cn|co|cr|cu|cv|cw|cx|cz|de|dj|dk|dm|do|dz|ec|ee|eg|es|et|eu|fi|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|im|in|io|iq|ir|is|it|je|jo|jp|kg|ki|km|kn|kp|kr|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|na|nc|ne|nf|ng|nl|no|nr|nu|nz|om|pa|pe|pf|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|yt".split("|"),g="com|edu|gov|net|mil|org|nom|sch|caa|res|off|gob|int|tur|ip6|uri|urn|asn|act|nsw|qld|tas|vic|pro|biz|adm|adv|agr|arq|art|ato|bio|bmd|cim|cng|cnt|ecn|eco|emp|eng|esp|etc|eti|far|fnd|fot|fst|g12|ggf|imb|ind|inf|jor|jus|leg|lel|mat|med|mus|not|ntr|odo|ppg|psc|psi|qsl|rec|slg|srv|teo|tmp|trd|vet|zlg|web|ltd|sld|pol|fin|k12|lib|pri|aip|fie|eun|sci|prd|cci|pvt|mod|idv|rel|sex|gen|nic|abr|bas|cal|cam|emr|fvg|laz|lig|lom|mar|mol|pmn|pug|sar|sic|taa|tos|umb|vao|vda|ven|mie|北海道|和歌山|神奈川|鹿児島|ass|rep|tra|per|ngo|soc|grp|plc|its|air|and|bus|can|ddr|jfk|mad|nrw|nyc|ski|spy|tcm|ulm|usa|war|fhs|vgs|dep|eid|fet|fla|flå|gol|hof|hol|sel|vik|cri|iwi|ing|abo|fam|gok|gon|gop|gos|aid|atm|gsm|sos|elk|waw|est|aca|bar|cpa|jur|law|sec|plo|www|bir|cbg|jar|khv|msk|nov|nsk|ptz|rnd|spb|stv|tom|tsk|udm|vrn|cmw|kms|nkz|snz|pub|fhv|red|ens|nat|rns|rnu|bbs|tel|bel|kep|nhs|dni|fed|isa|nsn|gub|e12|tec|орг|обр|упр|alt|nis|jpn|mex|ath|iki|nid|gda|inc".split("|"),m="spotim_visitId",_=new Date,y=function(t){return new Date((new Date).getTime()+60*t*1e3)},b=function(t,e){var n=(t.getTime()-e.getTime())/1e3,r=Math.abs(n);return Math.round(r)};function A(){return window.__SPOTIM_PAGE_VIEW_ID__||(window.__SPOTIM_PAGE_VIEW_ID__=d().uuid),window.__SPOTIM_PAGE_VIEW_ID__||""}function w(t){void 0===t&&(t={});var e={};return Object.keys(t).forEach((function(n){null!==t[n]&&void 0!==t[n]&&(e[n]=t[n])})),encodeURIComponent(btoa(JSON.stringify(e)))}function S(){var t;try{t=JSON.parse(localStorage.getItem("SPOTIM_CURRENT_USER")||"").data.id}catch(t){}return t}function O(){if(!window.$$SPOTIM_BID$$){var t=d().uuid;window.$$SPOTIM_BID$$=t}return window.$$SPOTIM_BID$$}var j=function(){var t,e,n,r=!0===function(){var t=s().get(m);if(void 0===t)return!1;try{return JSON.parse(t),!0}catch(t){return!1}}()?function(){if(b(new Date,_)<10&&"object"==typeof v){var t=v;return{visitId:t.visitId,duration:t.duration}}var e=function(){var t=s().get(m);try{return JSON.parse(t)}catch(t){return null}}(),n=e.visitId,r=e.creationDate,i=y(30),o=b(new Date,new Date(r)),a={visitId:n,creationDate:r,duration:Math.floor(o)};return _=new Date,v=a,s().set(m,a,{expires:i,domain:p()}),{visitId:n,duration:a.duration}}():(t={visitId:d().uuid,creationDate:new Date,duration:0},e=JSON.stringify(t),n=y(30),s().set(m,e,{expires:n,domain:p()}),{visitId:t.visitId,duration:t.duration}),i=r.visitId,o=r.duration;return window.$$SPOTIM_VID$$=i,{visitId:i,duration:o}},I=function(t){var e,n;void 0===t&&(t={});var r=null!==(e=null===(n=window.__OPEN_WEB__)||void 0===n?void 0:n.customPublisherData)&&void 0!==e?e:{};return JSON.stringify(l({},r,t))};function x(){var t=function(){if(performance&&performance.timing){var t=performance.timing.domLoading;if(!isNaN(t)&&t>0)return t}return null}();if(t&&t>=0&&!isNaN(t)){var e=Date.now()-t;return isNaN(e)||e<0||e>Number.MAX_SAFE_INTEGER?null:e}return null}var E={development:"http://127.0.0.1:8000/api/v1/pixels",staging:"https://pix.staging-spot.im/api/v1/pixels",production:"https://pix.spot.im/api/v1/pixels"},T=function(){function t(t){this.configProvider=t,this.events=[],this.url="",this.maxEvents=10,(0,u.cM)("EventsCollector",process.env.PACKAGE_VERSION),this.url=E[this.configProvider.get("env","production")],this.maxEvents=this.configProvider.get("tenant_config.events-collector.max_events",10),this.startSendingEvents(),this.handleUnload()}t.getInstance=function(e){var n=window.__SPOTIM__.SERVICES.events;return n||(n=new t(e),window.__SPOTIM__.SERVICES.events=n),n};var e=t.prototype;return e.startSendingEvents=function(){var t=this,e=this.configProvider.get("tenant_config.events-collector.time_interval_milliseconds",1e4);this.intervalId=setInterval((function(){t.sendEvents()}),e)},e.sendEvents=function(){if(this.events.length>0){var t=this.events.join("\\n");this.sendBeacon(t)}},e.sendBeacon=function(t){"sendBeacon"in navigator?navigator.sendBeacon(this.url,t)&&this.clean():(fetch(this.url,{method:"POST",body:t}),this.clean())},e.addEvent=function(t){var e=w(t);this.events.push(e),this.events.length>this.maxEvents&&this.sendEvents()},e.handleUnload=function(){var t=this;window.addEventListener("unload",(function(){t.sendEvents()}))},e.clean=function(){this.events=[]},e.stopSendingEvents=function(){clearInterval(this.intervalId)},t}().getInstance(a());function P(t){var e,n=d().uuid,r=j(),o=r.visitId,a=r.duration,u=(0,f.k$)(),c=t.publisher_custom_data_override,s=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["publisher_custom_data_override"]);return l({page_view_id:A(),guid:n,referrer:(e=document.referrer,e&&e.trim()?e.replace(/′/g,"'").replace(/’/g,"'"):""),user_id:S()||"0",ib_browser_id:O(),visit_id:o,duration:a,v:10,domain:u.hostname,url:u.href,lang:navigator.userLanguage||navigator.language,uid:n,source_version:"",time_delta:x()||0,test_field:i().getAllExperiments(),split_name:i().getActiveExperiments(),publisher_custom_data:I(c)},s)}function k(t){var e,n,r=P(t);return"*"===localStorage.getItem("SPOTIM_DEBUG_API")&&console.log("%cSpot.IM Analytics%c Track","background: #823fb5; color: white","background: transparent; color: unset",r),function(t,e){var n;if(void 0===e&&(e=!1),e){var r,i=function(t){return void 0===t&&(t={}),"https://pix.spot.im/api/v1/pixel?m="+w(t)+"&rnd="+Math.random()}(t);n=fetch(i,{credentials:"include",headers:(r={},r["x-spotim-device-uuid"]=d().uuid,r["x-spotim-page-view-id"]=A(),r)})}else T.addEvent(t);return n||Promise.resolve({})}(r,(e=a().get("tenant_config.events-collector.batching",!1),!((n=localStorage.getItem("SPOTIM_PIXELS_BATCHING"))?"*"===n:e))).then((function(){return!0}))}function B(t){return function(e){return k(l({},t,e))}}function R(t){var e=t.source,n=t.spotId,r=t.postId;return{track:function(t){return k({type:t,source:e,spot_id:n,post_id:r})}}}(0,u.cM)("Analytics",process.env.PACKAGE_VERSION)},538:function(t,e,n){"use strict";n.d(e,{Vt:function(){return a},k$:function(){return u},NZ:function(){return o}}),n(88);var r=n(923),i=(r.transform,r.toTransformationStr,function(){return window.top!==window&&!!window.$sf});function o(t,e){function n(){document.hidden?e():t()}return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}function a(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});document.dispatchEvent(n),i()&&window.spotimSafeframe&&window.spotimSafeframe.sendMessageToHost({action:"spotim_event",args:{type:t,params:e}})}var u=function(){if(!i())return window.location;try{var t,e;return new URL((null===(t=window)||void 0===t||null===(e=t.spotimSafeframe)||void 0===e?void 0:e.hostUrl)||document.referrer)}catch(t){return window.location}};function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s,f,l,d=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"lossless"}],p=function(t){return new Promise((function(e){var n=new Image;function r(t){var r="load"===(null==t?void 0:t.type)&&1===n.width;e({result:r,event:t})}n.onerror=r,n.onload=r,n.src=t}))},v={webp:!1};s||(s=new Promise((function(t){try{var e=[],n=d.shift();return Promise.resolve(p(n.uri)).then((function(r){var i=r.result,o=r.event;if(v[n.name]=i,"load"===(null==o?void 0:o.type))for(var a,u=function(){var t=a.value,n=p(t.uri).then((function(e){var n=e.result;return v[t.name]=n}));e.push(n)},s=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}(d);!(a=s()).done;)u();return Promise.resolve(Promise.all(e)).then((function(){t(v)}))}))}catch(t){return Promise.reject(t)}}))),function(t){t.Png="png",t.WebP="webp"}(f||(f={})),function(t){t.Lossy="lossy"}(l||(l={}))},727:function(t,e,n){self,t.exports=function(){"use strict";var t={n:function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{onBellClick:function(){return v},subscribeToNotifications:function(){return s}});var r=n(951),i=t.n(r),o=n(830),a=n(991),u=t.n(a);const c=i().get("spotId","");function s(t,e){const n="".concat(c,"_").concat(t);return u().subscribe({spotId:c,postId:t,topic:"conversation/notifications-count",params:()=>({conversation_id:n}),pick:t=>t[n],callback:t=>{const[n]=t;e(n.unseen)}})}const f="notifications",l=i().get("spotId",""),d=i().get("postId","");let p=0;function v({postId:t,instanceId:e,trackingSource:n="embedded_sdk"}){return function(t){return"embedded_sdk"===t}(n)&&function({postId:t,instanceId:e,trackingSource:n}){const r=function(t){const e=document.querySelector('[data-ow-notifications-placeholder][data-instance-id="'.concat(t,'"]'));return!!e&&"true"===e.getAttribute("data-active")}(e);(0,o.trackEvent)({conversation_id:"".concat(l,"_").concat(t),spot_id:l,post_id:t,source:f,item_type:n,type:"bell-clicked",target_type:r?"close":"open",count:p})}({postId:t,instanceId:e,trackingSource:n}),window.__SPOTIM__.initApp(f,{postId:t,instanceId:e,trackingSource:n}).then(h)}function h(){p=0}return s(d,(function(t){p=t})),e}()},991:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return g}});var r=n(69),i=n(538),o=window.__SPOTIM__.lib.request,a=n.n(o);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=function(t,e){return void 0===t&&(t=""),void 0===e&&(e="default"),{"x-spot-id":t,"x-post-id":e}},f=function(){function t(t){var e=this;this.config=t,this.onopen=function(){},this.onmessage=function(t){},this.onclose=function(){},this.onerror=function(){},this.tickerStop=function(){},this.handleError=function(){e.tickerStop(),e.onerror()}}var e=t.prototype;return e.connect=function(t,e){var n=this;void 0===e&&(e=!1);var r=this.config,i=r.url,o=r.timeout,u=r.spotId,c=r.postId,f=function(e,r){var o,l=function(){try{var e=function(){if(d)return Promise.resolve(a()(i,{headers:s(u,c),method:"POST",body:JSON.stringify(t())}).catch(n.handleError).then((function(t){if(!t.next_fetch||!t.timestamp)throw new Error("");var e=1e3*(t.next_fetch-t.timestamp);return f.setTimeout(e),t})).catch(n.handleError).then((function(t){n.onmessage(t)}))).then((function(){v()}))}();return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},d=!1,p=r;function v(){o=window.setTimeout(l,p)}function h(){d=!1,clearTimeout(o)}return{run:function(){return d=!0,v(),h},setTimeout:function(t){p=t}}}(0,e?0:o);this.tickerStop=f.run(),this.onopen()},e.reset=function(t){this.disconnect(),this.connect(t)},e.disconnect=function(){this.tickerStop(),this.onclose()},t}(),l=function(){function t(t){var e=void 0===t?{}:t,n=e.retries,r=void 0===n?6:n,i=e.timeout,o=void 0===i?3e3:i,a=e.factor,u=void 0===a?1.5:a;this.tries=0,this.retries=r,this.timeout=o,this.currTimeout=o,this.factor=u}var e,n;return t.prototype.reset=function(){this.tries=0,this.currTimeout=this.timeout},e=t,(n=[{key:"doRetry",get:function(){var t=!1;return this.tries<this.retries&&(t=!0,this.tries++),t}},{key:"nextTryTimeout",get:function(){var t=this.currTimeout;return this.currTimeout*=this.factor,t}}])&&u(e.prototype,n),t}(),d=function(){function t(t,e){var n=this;void 0===e&&(e=f),this.active=!1,this.currTimestamp=Math.floor((new Date).getTime()/1e3),this.handlers=new Map,this.unsubscribeFromVisibilityChange=function(){},this.topics=new Set,this.retry=new l,this.resume=function(){n.active&&n.dataSource.connect(n.getParams,!0)},this.pause=function(){n.dataSource.disconnect()},this.getParams=function(){return c({timestamp:n.currTimestamp},n.getDataParams())},this.getDataParams=function(){var t={};return n.handlers.forEach((function(e,n){e.forEach((function(e){t[n]||(t[n]=[]),t[n].push(e.params&&e.params())}))})),{data:t}},this.handleSuccess=function(t){var e=t.timestamp,r=t.data;n.currTimestamp=e;for(var i=Object.keys(r),o=function(){var t=u[a];(n.handlers.get(t)||[]).forEach((function(e){var n=r[t];e.pick&&(n=e.pick(r[t])),e.callback(n)}))},a=0,u=i;a<u.length;a++)o();n.retry.reset()},this.handleError=function(){n.active=!1,n.retry.doRetry&&setTimeout((function(){n.connect()}),n.retry.nextTryTimeout)},function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.cM.apply(void 0,["RealTime"].concat(e))}(process.env.PACKAGE_VERSION),this.dataSource=new e(t),this.dataSource.onmessage=this.handleSuccess,this.dataSource.onerror=this.handleError}var e=t.prototype;return e.subscribe=function(t){var e=this,n=!this.topics.has(t.topic);return this.topics.add(t.topic),this.addHandler(t),this.active&&n&&this.reset(),this.active||this.activate(),function(){e.unsubscribe(t)}},e.activate=function(){this.connect(),this.unsubscribeFromVisibilityChange=(0,i.NZ)(this.resume,this.pause)},e.connect=function(){this.active=!0,this.dataSource.connect(this.getParams)},e.reset=function(){this.dataSource.reset(this.getParams)},e.addHandler=function(t){var e=this.handlers.get(t.topic)||[];e.push(t),this.handlers.set(t.topic,e)},e.unsubscribe=function(t){var e=this.handlers.get(t.topic)||[];if(e.length<=1)return this.handlers.delete(t.topic),this.topics.delete(t.topic),void(0===this.topics.size?(this.active=!1,this.dataSource.disconnect(),this.unsubscribeFromVisibilityChange()):this.reset());var n=e.indexOf(t);e.splice(n,1),this.handlers.set(t.topic,e)},t}(),p="realTime",v=function(){},h=function(t,e){return t+"_"+e},g=function(){function t(){this.realTimesMap=new Map}t.getInstance=function(){var e=(0,r.WS)(p);return e.status||(e.object=new t,(0,r._$)(p,e.object)),e.object};var e=t.prototype;return e.addRealTime=function(t){var e=t.spotId,n=t.postId,r=h(e,n),i=new d({spotId:e,postId:n,url:"v1.0.0/conversation/realtime/read",timeout:500});this.realTimesMap.set(r,i)},e.subscribe=function(t){var e,n,r=t.spotId,i=t.postId,o=h(r,i);return this.realTimesMap.has(o)||this.addRealTime(t),null!==(e=null===(n=this.realTimesMap.get(o))||void 0===n?void 0:n.subscribe(t))&&void 0!==e?e:v},t}().getInstance()},69:function(t,e,n){"use strict";n.d(e,{WS:function(){return ee},cM:function(){return Zt},_$:function(){return te}});var r=function(t,e){return t===e||t!=t&&e!=e},i=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1},o=Array.prototype.splice;function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=function(){this.__data__=[],this.size=0},a.prototype.delete=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))},a.prototype.get=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]},a.prototype.has=function(t){return i(this.__data__,t)>-1},a.prototype.set=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var u,c=a,s="object"==typeof global&&global&&global.Object===Object&&global,f="object"==typeof self&&self&&self.Object===Object&&self,l=s||f||Function("return this")(),d=l.Symbol,p=Object.prototype,v=p.hasOwnProperty,h=p.toString,g=d?d.toStringTag:void 0,m=Object.prototype.toString,_=d?d.toStringTag:void 0,y=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?function(t){var e=v.call(t,g),n=t[g];try{t[g]=void 0;var r=!0}catch(t){}var i=h.call(t);return r&&(e?t[g]=n:delete t[g]),i}(t):function(t){return m.call(t)}(t)},b=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},A=function(t){if(!b(t))return!1;var e=y(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},w=l["__core-js_shared__"],S=(u=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",O=Function.prototype.toString,j=/^\[object .+?Constructor\]$/,I=Function.prototype,x=Object.prototype,E=I.toString,T=x.hasOwnProperty,P=RegExp("^"+E.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=function(t){return!(!b(t)||(e=t,S&&S in e))&&(A(t)?P:j).test(function(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},B=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return k(n)?n:void 0},R=B(l,"Map"),M=B(Object,"create"),D=Object.prototype.hasOwnProperty,N=Object.prototype.hasOwnProperty;function C(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}C.prototype.clear=function(){this.__data__=M?M(null):{},this.size=0},C.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},C.prototype.get=function(t){var e=this.__data__;if(M){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return D.call(e,t)?e[t]:void 0},C.prototype.has=function(t){var e=this.__data__;return M?void 0!==e[t]:N.call(e,t)},C.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=M&&void 0===e?"__lodash_hash_undefined__":e,this};var z=C,U=function(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map};function $(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$.prototype.clear=function(){this.size=0,this.__data__={hash:new z,map:new(R||c),string:new z}},$.prototype.delete=function(t){var e=U(this,t).delete(t);return this.size-=e?1:0,e},$.prototype.get=function(t){return U(this,t).get(t)},$.prototype.has=function(t){return U(this,t).has(t)},$.prototype.set=function(t,e){var n=U(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var V=$;function q(t){var e=this.__data__=new c(t);this.size=e.size}q.prototype.clear=function(){this.__data__=new c,this.size=0},q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},q.prototype.get=function(t){return this.__data__.get(t)},q.prototype.has=function(t){return this.__data__.has(t)},q.prototype.set=function(t,e){var n=this.__data__;if(n instanceof c){var r=n.__data__;if(!R||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new V(r)}return n.set(t,e),this.size=n.size,this};var F,Q,J=q,G=function(){try{var t=B(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),W=function(t,e,n){"__proto__"==e&&G?G(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},L=function(t,e,n){(void 0!==n&&!r(t[e],n)||void 0===n&&!(e in t))&&W(t,e,n)},X=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var u=o[++r];if(!1===e(i[u],u,i))break}return t},H="object"==typeof exports&&exports&&!exports.nodeType&&exports,K=H&&"object"==typeof module&&module&&!module.nodeType&&module,Y=K&&K.exports===H?l.Buffer:void 0,Z=Y?Y.allocUnsafe:void 0,tt=l.Uint8Array,et=function(t,e){var n,r,i=e?(n=t.buffer,r=new n.constructor(n.byteLength),new tt(r).set(new tt(n)),r):t.buffer;return new t.constructor(i,t.byteOffset,t.length)},nt=Object.create,rt=function(){function t(){}return function(e){if(!b(e))return{};if(nt)return nt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),it=(F=Object.getPrototypeOf,Q=Object,function(t){return F(Q(t))}),ot=Object.prototype,at=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ot)},ut=function(t){return null!=t&&"object"==typeof t},ct=function(t){return ut(t)&&"[object Arguments]"==y(t)},st=Object.prototype,ft=st.hasOwnProperty,lt=st.propertyIsEnumerable,dt=ct(function(){return arguments}())?ct:function(t){return ut(t)&&ft.call(t,"callee")&&!lt.call(t,"callee")},pt=Array.isArray,vt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ht=function(t){return null!=t&&vt(t.length)&&!A(t)},gt="object"==typeof exports&&exports&&!exports.nodeType&&exports,mt=gt&&"object"==typeof module&&module&&!module.nodeType&&module,_t=mt&&mt.exports===gt?l.Buffer:void 0,yt=(_t?_t.isBuffer:void 0)||function(){return!1},bt=Function.prototype,At=Object.prototype,wt=bt.toString,St=At.hasOwnProperty,Ot=wt.call(Object),jt={};jt["[object Float32Array]"]=jt["[object Float64Array]"]=jt["[object Int8Array]"]=jt["[object Int16Array]"]=jt["[object Int32Array]"]=jt["[object Uint8Array]"]=jt["[object Uint8ClampedArray]"]=jt["[object Uint16Array]"]=jt["[object Uint32Array]"]=!0,jt["[object Arguments]"]=jt["[object Array]"]=jt["[object ArrayBuffer]"]=jt["[object Boolean]"]=jt["[object DataView]"]=jt["[object Date]"]=jt["[object Error]"]=jt["[object Function]"]=jt["[object Map]"]=jt["[object Number]"]=jt["[object Object]"]=jt["[object RegExp]"]=jt["[object Set]"]=jt["[object String]"]=jt["[object WeakMap]"]=!1;var It,xt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Et=xt&&"object"==typeof module&&module&&!module.nodeType&&module,Tt=Et&&Et.exports===xt&&s.process,Pt=function(){try{return Et&&Et.require&&Et.require("util").types||Tt&&Tt.binding&&Tt.binding("util")}catch(t){}}(),kt=Pt&&Pt.isTypedArray,Bt=kt?function(t){return function(e){return t(e)}}(kt):function(t){return ut(t)&&vt(t.length)&&!!jt[y(t)]},Rt=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Mt=Object.prototype.hasOwnProperty,Dt=function(t,e,n){var i=t[e];Mt.call(t,e)&&r(i,n)&&(void 0!==n||e in t)||W(t,e,n)},Nt=/^(?:0|[1-9]\d*)$/,Ct=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Nt.test(t))&&t>-1&&t%1==0&&t<e},zt=Object.prototype.hasOwnProperty,Ut=function(t,e){var n=pt(t),r=!n&&dt(t),i=!n&&!r&&yt(t),o=!n&&!r&&!i&&Bt(t),a=n||r||i||o,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=u.length;for(var s in t)!e&&!zt.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ct(s,c))||u.push(s);return u},$t=Object.prototype.hasOwnProperty,Vt=function(t){if(!b(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=at(t),n=[];for(var r in t)("constructor"!=r||!e&&$t.call(t,r))&&n.push(r);return n},qt=function(t){return ht(t)?Ut(t,!0):Vt(t)},Ft=function(t){return function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),i?W(n,u,c):Dt(n,u,c)}return n}(t,qt(t))},Qt=function(t,e,n,r,i,o,a){var u,c=Rt(t,n),s=Rt(e,n),f=a.get(s);if(f)L(t,n,f);else{var l=o?o(c,s,n+"",t,e,a):void 0,d=void 0===l;if(d){var p=pt(s),v=!p&&yt(s),h=!p&&!v&&Bt(s);l=s,p||v||h?pt(c)?l=c:ut(u=c)&&ht(u)?l=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(c):v?(d=!1,l=function(t,e){if(e)return t.slice();var n=t.length,r=Z?Z(n):new t.constructor(n);return t.copy(r),r}(s,!0)):h?(d=!1,l=et(s,!0)):l=[]:function(t){if(!ut(t)||"[object Object]"!=y(t))return!1;var e=it(t);if(null===e)return!0;var n=St.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&wt.call(n)==Ot}(s)||dt(s)?(l=c,dt(c)?l=Ft(c):b(c)&&!A(c)||(l=function(t){return"function"!=typeof t.constructor||at(t)?{}:rt(it(t))}(s))):d=!1}d&&(a.set(s,l),i(l,s,r,o,a),a.delete(s)),L(t,n,l)}},Jt=function t(e,n,r,i,o){e!==n&&X(n,(function(a,u){if(o||(o=new J),b(a))Qt(e,n,u,r,t,i,o);else{var c=i?i(Rt(e,u),a,u+"",e,n,o):void 0;void 0===c&&(c=a),L(e,u,c)}}),qt)},Gt=function(t){return t},Wt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Lt=Math.max,Xt=G?function(t,e){return G(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Gt,Ht=Date.now,Kt=function(t){var e=0,n=0;return function(){var r=Ht(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Xt),Yt=(It=function(t,e,n){Jt(t,e,n)},function(t,e){return Kt(function(t,e,n){return e=Lt(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Lt(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),Wt(t,this,u)}}(t,e,Gt),t+"")}((function(t,e){var n=-1,i=e.length,o=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(o=It.length>3&&"function"==typeof o?(i--,o):void 0,a&&function(t,e,n){if(!b(n))return!1;var i=typeof e;return!!("number"==i?ht(n)&&Ct(e,n.length):"string"==i&&e in n)&&r(n[e],t)}(e[0],e[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var u=e[n];u&&It(t,u,n)}return t})));function Zt(t){if("*"===localStorage.getItem("SPOTIM_DEBUG_API")){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console).log.apply(e,["%cOpenWeb "+t+"%c","background: #823fb5; color: white","background: transparent; color: unset"].concat(r))}}function te(t,e){var n,r={__SPOTIM__:{SERVICES:(n={},n[t]=e,n)}};Yt(window,r)}function ee(t){var e,n,r={status:!1,object:{}};return(null===(e=window.__SPOTIM__)||void 0===e||null===(n=e.SERVICES)||void 0===n?void 0:n[t])&&(r.status=!0,r.object=window.__SPOTIM__.SERVICES[t]),r}},324:function(t,e,n){"use strict";n.d(e,{aN:function(){return r},EV:function(){return i},$7:function(){return o},jn:function(){return a}});var r={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},i={width:"w",height:"h",x:"x",y:"y",quality:"q",if:"if",aspectRatio:"ar",rotate:"a",opacity:"o",radius:"r",dpr:"dpr",effect:"e",border:"bo",currentPage:"cp",preview:"preview:duration",duration:"du",faceCount:"fc",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags"},o="("+Object.keys(i).join("|")+")",a=["quality","if","rotate","zoom","opacity","radius","effect","dpr"]},88:function(t,e,n){"use strict";n.d(e,{X:function(){return r}});var r={angle:"a",rotate:"a",background:"b",color:"co",colorSpace:"cs",customFunction:"fn",defaultImage:"d",density:"dn",dpr:"dpr",opacity:"o",format:"f",gravity:"g",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",bitRate:"br",keyframeInterval:"ki",audioCodec:"ac",audioFrequency:"af",delay:"dl",ocr:"ocr",streamingProfile:"sp",transformation:"t",underlay:"u",videoCodec:"vc",videoSampling:"vs",zoom:"z"}},507:function(t,e,n){"use strict";n.d(e,{oT:function(){return r},jA:function(){return i}});var r="$",i={integer:"to_i",float:"to_f"}},210:function(t,e,n){"use strict";n.d(e,{C:function(){return i}});var r=n(285),i=function(t){var e=t.type,n=void 0===e?"solid":e,i=t.color,o=void 0===i?"black":i,a=t.width;return a?"bo_"+(isNaN(a)?(0,r.OQ)(a):a+"px")+"_"+n+"_"+o:""}},285:function(t,e,n){"use strict";n.d(e,{Bw:function(){return a},OQ:function(){return u},OO:function(){return c}});var r=n(324),i=n(507),o="((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^)(?=[ _]))",a=function(t){return isNaN(t)?u(t):t},u=function(t){return t?function(t){var e=new RegExp(r.$7,"g");return t.replace(e,(function(e,n,o){return t[o-1]===i.oT?e:r.EV[e]}))}((e=t,n=new RegExp(o,"g"),e.replace(n,(function(t){return r.aN[t]})))).replace(/[ _]+/g,"_"):"";var e,n},c=function(t){return new RegExp(o,"g").test(t)}},923:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return A},getBorder:function(){return g},getPosition:function(){return m},getResize:function(){return h},getTransformations:function(){return _},toTransformationStr:function(){return b},transform:function(){return y}});var r=n(88),i=n(324),o={equal:"eq",notEqual:"ne",lessThan:"lt",greaterThan:"gt",lessOrEqual:"lte",greaterOrEqual:"gte",include:"in",notInclude:"nin"},a={width:"w",initialWidth:"iw",height:"h",initialHeight:"ih",aspectRatio:"ar",intialAspectRatio:"iar",context:"ctx",metadata:"md",tags:"tags",trimmedAspectRatio:"tar",currentPage:"cp",faceCount:"fc",pageCount:"pc",pageXOffset:"px",pageYOffset:"py",initialDensity:"idn",illustration:"ils",pageNames:"pgnames"},u=function(t,e){return void 0===e&&(e=":"),t.filter(Boolean).join(e)},c=function(t){var e=t.expression?u(t.expression.map((function(t){return f(t)})),"_and_"):"",n=t.transformations.map((function(t){return b(A(t))}));return{expression:e,transformations:u(n,"/")}},s=function(t){return a[t]||t},f=function(t){var e=Array.isArray(t.characteristic)?u(t.characteristic.map(s)):s(t.characteristic),n=o[t.operator],r=isNaN(t.value)?"!"+t.value+"!":t.value;return u([e,n,r],"_")},l=n(285),d=n(507),p={context:"ctx",structureMetadata:"md"},v=function(t){var e=""+d.oT+t.name,n=t.value;isNaN(t.value)&&(n=Array.isArray(t.value)?u(t.value):function(t){if(!t||!t.expression)return"";var e=Array.isArray(t.expression)?u(t.expression):t.expression,n=(0,l.OO)(e),r=(0,l.OQ)(e),i=d.jA[t.formatAs]||"";return u([r&&!n?"!"+r+"!":r,i],"_")}(t.value));var r=u([p[t.assignFrom],n],":");return r?u([e,r],"_"):""},h=function(t){return t.resize||t.width||t.height||t.aspectRatio?(0,n(310).S)(t.resize||{width:t.width,height:t.height,type:t.crop,aspectRatio:t.aspectRatio}):""},g=function(t){if(!t.border)return"";var e=n(210).C;return"string"==typeof t.border?"bo_"+t.border:e(t.border)},m=function(t){return t.x||t.y||t.position?(0,n(917).F)(t.position||{x:t.x,y:t.y}):""},_=function(t){var e,n=[];for(var o in n.push(function(t){return t?Array.isArray(t)?u(t.map((function(t){return v(t)})),","):v(t):""}(t.variables)),n.push(h(t)),n.push(g(t)),n.push(m(t)),n.push(function(t){var e="object"==typeof t;return!t||e&&!t.min?"":"fps_"+(e?u([t.min,t.max],"-"):t)}(t.fps)),n.push((e=t.offset)?[e.start?"so_"+e.start:"",e.end?"eo_"+e.end:"",e.duration?"du_"+e.duration:""].filter(Boolean).join(","):""),t){var a=t[o],s=r.X[o];if(s&&a){var f=i.jn.includes(o);n.push(s+"_"+(f?(0,l.Bw)(a):a))}}return n.push(function(t){var e="string"==typeof t;if(!t||!e&&!t.name)return"";if(e||!t.value)return"e_"+(t.name||t);var n=Array.isArray(t.value)?t.value.join(":"):t.value;return"e_"+u([t.name,n])}(t.effect)),n.push(function(t){return t&&0!==t.length?"fl_"+("string"==typeof t?t:t.join(":")):""}(t.flags)),n.push(t.rawTransformation),n.push(function(t){if(!t||!t.if||!t.if.expression)return"";var e=c(t.if),n=t.else?c(t.else):null,r=u(["if_"+e.expression,e.transformations],"/"),i=n?u(["if_else",n.transformations],"/"):"";return[u([r,i,"if_end"],"/")]}(t.condition)),n.filter(Boolean)},y=function(t){var e=_(t),n=t.transformation||t.chaining;return n&&Array.isArray(n)&&n.forEach((function(t){var n=_(t);n.length>0&&e.push(n)})),e.filter(Boolean)},b=function(t){return t.reduce((function(t,e){var n=Array.isArray(e);return t+(t?n?"/":",":"")+e.toString()}),"")},A=y},917:function(t,e,n){"use strict";n.d(e,{F:function(){return i}});var r=n(285),i=function(t){var e=t.x,n=t.y;return[e?"x_"+(0,r.Bw)(e):"",n?"y_"+(0,r.Bw)(n):""].filter(Boolean).join()}},310:function(t,e,n){"use strict";n.d(e,{S:function(){return i}});var r=n(285),i=function(t){var e=t.type,n=t.width,i=t.height,o=t.aspectRatio;return[e?"c_"+e:"",n?"w_"+(0,r.Bw)(n):"",i?"h_"+(0,r.Bw)(i):"",o?"ar_"+(0,r.Bw)(o):""].filter(Boolean).join()}},808:function(t,e,n){var r,i,o;void 0===(i="function"==typeof(r=o=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var c in o)o[c]&&(u+="; "+c,!0!==o[c]&&(u+="="+o[c].split(";")[0]));return document.cookie=e+"="+n+u}}function a(t,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var u=o[a].split("="),c=u.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var s=e(u[0]);if(c=(r.read||r)(c,s)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(i[s]=c,t===s)break}catch(t){}}return t?i[t]:i}}return i.set=o,i.get=function(t){return a(t,!1)},i.getJSON=function(t){return a(t,!0)},i.remove=function(e,n){o(e,"",t(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))})?r.call(e,n,e,t):r)||(t.exports=i),t.exports=o()},951:function(t){"use strict";t.exports=window.__SPOTIM__.SERVICES.configProvider}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";var t=n(727),e=window.__SPOTIM__.lib.currentUser,r=n.n(e),i=n(538);window.__OW_OPEN_NOTIFICATIONS__=t.onBellClick,window.__OW_SUBSCRIBE_TO_NOTIFICATIONS__=t.subscribeToNotifications,r().getAsyncToken().then((()=>{(0,i.Vt)("ow-notifications-sdk-ready")}))}()}();
//# sourceMappingURL=notifications-sdk-bundle.js.map