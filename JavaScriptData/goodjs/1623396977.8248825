(window.monolithJsonpFunction=window.monolithJsonpFunction||[]).push([["a25ce624","774afb24","cc9dd1c9"],{10397:function(e,t,n){"use strict";n.r(t),n.d(t,"fps",(function(){return m})),n.d(t,"load",(function(){return v})),n.d(t,"metrics",(function(){return b}));var r,o,i,a=n(10953),c=n(5985),s=n(5986),u=function(){switch(window.location.hostname){case"www.avito.ru":case"m.avito.ru":return!0;default:return!1}},f=function(e,t){return{data:e,meta:{connection:Object(a.a)(),page:t||s.a.initialPageId,platform:(n=s.a.initialPlatform,"".concat(n).concat(s.a.isDevEnv?"-dev":""))}};var n},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var o=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function o(i,a){var c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=u(),o.next=3,t;case 3:if(o.t0=o.sent,!o.t0){o.next=6;break}o.t0=c;case 6:if(!o.t0){o.next=10;break}o.t1=fetch("https://stats.avito.ru/api/".concat(n,"/stats/frontend/")+e,{method:"POST",body:JSON.stringify(r?f(i,a):{data:i})}).then((function(e){return e.json()})).catch((function(){})),o.next=11;break;case 10:o.t1=null;case 11:return o.abrupt("return",o.t1);case 12:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}()},l=function(){var e=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(c.g)()){e.next=2;break}return e.abrupt("return",!1);case 2:return t=s.a.initialPlatform,n=s.a.initialPageId,r=0,e.prev=4,o=d("balance",!0,1,!1),e.next=8,o({platform:t,pageId:n});case 8:i=e.sent,r=i&&i.result&&i.result.percent?i.result.percent:0,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:return e.abrupt("return",Object(c.h)(r));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),p=new Promise((function(e){e(l())})),m=d("fps",p),v=d("load",p),b=(r=d("generic",p),o=new Map,i=function(){o.forEach(r),o.clear()},function e(){return setTimeout((function(){i(),e()}),5e3)}(),window.addEventListener("visibilitychange",i,!0),window.addEventListener("beforeunload",(function(){removeEventListener("visibilitychange",i,!0),i()})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a.initialPageId,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[].concat(babelHelpers.toConsumableArray(o.get(t)||[]),babelHelpers.toConsumableArray(e));o.set(t,r),!0===n&&i()})},10400:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="userCentric"},10402:function(e,t,n){"use strict";n.r(t),n.d(t,"observer",(function(){return _}));var r=n(10397),o=n(10962),i=n(10400),a=n(5986),c=n(5985);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f="cumulativeLayoutShift",d=!1,l=0,p=a.a.initialPageId,m=function(e,t,n){Object(r.metrics)([{name:"".concat(f,".afterLoad"),value:e,prefix:i.a}],t,n)},v=function(e){d||(d=!0,Object(c.f)()&&0!==e?e=0:(Object(r.metrics)([{name:"".concat(f,".load"),value:e,prefix:i.a}]),Object(o.sendClsEvent)(e)))},b=function(e){if(!e.hadRecentInput){var t=Object(c.a)();t!==p&&(d||v(l),m(l,p),l=0,p=t),l+=e.value}},_=function(){try{new PerformanceObserver((function(e){var t,n=s(e.getEntries());try{for(n.s();!(t=n.n()).done;){var r=t.value;b(r)}}catch(e){n.e(e)}finally{n.f()}})).observe({type:"layout-shift",buffered:!0}),setTimeout((function(){v(l)}),2e3),window.addEventListener("beforeunload",(function(){m(l,p,!0)}))}catch(e){}}},10886:function(e,t,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));var s=function(e,t){var n=t||0,r=a;return(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase()};t.a=function(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){for(var o=n||0,a=0;a<16;++a)t[o+a]=r[a];return t}return s(r)}},10952:function(e,t,n){"use strict";var r=n(10886);function o(e){return i.apply(this,arguments)}function i(){return(i=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e){return"number"==typeof e&&isFinite(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="last-ref-id",f="js/1",d="pending";t.a=function e(t){var n=this,i=t.common,c=void 0===i?{}:i,l=t.srcId,p=t.buildUid,m=void 0===p?"undefined":p,v=t.softwareVersion,b=t.build,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/clickstream/events/1/json",g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null};if(babelHelpers.classCallCheck(this,e),babelHelpers.defineProperty(this,"increment",(function(){return Object(r.a)()})),babelHelpers.defineProperty(this,"getIds",(function(){var e=window.localStorage.getItem(u),t=n.increment();return window.localStorage.setItem(u,t),{refId:t,parentRefId:e,tabId:n.tabId}})),babelHelpers.defineProperty(this,"createEvent",(function(e,t,r){var o=n.getIds(),i=o.refId,a=o.parentRefId,c=o.tabId,s={event_id:e,version:t,params:r};for(var u in s)s.hasOwnProperty(u)&&null===s[u]&&(s[u]=void 0);return s.env={},s.env.cdtm=Number(Date.now().toFixed(1)),s.env.ref_id=i||"",s.env.parent_ref_id=a||"",s.env.tab_id=c||"",s})),babelHelpers.defineProperty(this,"createSendBody",(function(e){var t={version:1,meta:s({},n.meta),common:s({},n.common)};return t.events=e.map((function(e){return e.event})),t})),babelHelpers.defineProperty(this,"sendEvents",babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.sendBatchEvents();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n.errorHandler(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))),babelHelpers.defineProperty(this,"cycleSend",babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(1e3);case 2:n.events.filter((function(e){return e.status!==d})).length&&n.sendEvents(),n.cycleSend();case 5:case"end":return e.stop()}}),e)})))),babelHelpers.defineProperty(this,"sendBatchEvents",(function(){var e=n.events.filter((function(e){return e.status!==d})),t=n.createSendBody(e);n.events=e.map((function(e){return s({},e,{},{status:d})}));var r=e.map((function(e){return e.id}));return n.sendData(t,r)})),babelHelpers.defineProperty(this,"sendData",(function(e,t){return fetch(n.link,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.status>=400&&502!==e.status?(n.clearBatch(t),Promise.reject(e)):(n.clearBatch(t),{response:e})}))})),babelHelpers.defineProperty(this,"sendEvent",(function(e,t,o){if(n.ssr)return"";if(!a(e))throw new Error("event id should be number type");if(!a(t))throw new Error("event version should be number type");var i=n.createEvent(e,t,o);return n.events.push({id:Object(r.a)(),event:i}),n.events.length>1e3&&n.sendEvents(),i.env.ref_id})),babelHelpers.defineProperty(this,"clearBatch",(function(e){e.forEach((function(e){var t=n.events.findIndex((function(t){return t.id===e}));n.event.splice(t,0)}))})),babelHelpers.defineProperty(this,"setUID",(function(e){n.common=s({},n.common,{uid:e})})),!l)throw new Error("srcId is required");if("undefined"!=typeof window){var h=function(e){return window.document.referrer&&window.document.referrer.startsWith(e)},y=window.location.origin,w=window.performance&&window.performance.navigation&&1===window.performance.navigation.type;this.events=[],this.link=_,window.addEventListener("onbeforeunload",(function(){n.sendBatchEvents(n.events)})),this.cycleSend(),w||h(y)||window.localStorage.removeItem(u);var O=window.sessionStorage.tabId;O||(O=Object(r.a)(),window.sessionStorage.tabId=O),this.meta={src_id:l,build_uid:m,sdk:f,software_version:v,build:b},this.tabId=O,this.common=s({src_id:l},c),this.errorHandler=g}else this.ssr=!0}},10962:function(e,t,n){"use strict";n.r(t);var r=n(10952),o=n(5986),i=o.a.initialPlatform,a=(window.avito||{}).userId,c=parseInt(void 0===a?"":a,10),s=new r.a({buildUid:"performance-frontend-load",softwareVersion:"desktop"===i?"Desktop":"MAV",srcId:"desktop"===i?96:95,common:{uid:isNaN(c)?void 0:c,ua:window.navigator.userAgent}}),u=function(e,t,n){return s.sendEvent(e,t,n)},f=n(10953),d=n(5985);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"sendLoadEvent",(function(){return v})),n.d(t,"sendInteractiveEvent",(function(){return b})),n.d(t,"sendFidEvent",(function(){return _})),n.d(t,"sendLcpEvent",(function(){return g})),n.d(t,"sendClsEvent",(function(){return h}));var p={unknown:"UNKNOWN",gprs:"GPRS",regular2G:"2G",good2G:"2G_plus",regular3G:"3G",good3G:"3G_plus",regular4G:"4G",wifi:"Wi-Fi"},m=function(e,t,n){var r=o.a.initialPageId,i=o.a.isDevEnv;if(!Object(d.g)()&&!i){var a,c=Object(f.a)().type;u(e,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({from_page:r,network_type:(a=c,p[a])},n))}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";m(3939,3,{performance_meta_route_name:t,performance_timing_redirect_start:e.redirectStart,performance_timing_redirect_end:e.redirectEnd,performance_timing_fetch_start:e.fetchStart,performance_timing_domain_lookup_start:e.domainLookupStart,performance_timing_domain_lookup_end:e.domainLookupEnd,performance_timing_connect_start:e.connectStart,performance_timing_secure_connection_start:e.secureConnectionStart,performance_timing_connect_end:e.connectEnd,performance_timing_request_start:e.requestStart,performance_timing_response_start:e.responseStart,performance_timing_response_end:e.responseEnd,performance_timing_first_paint:e.firstPaint,performance_timing_first_contentful_paint:e.firstContentfulPaint,performance_timing_dom_interactive:e.domInteractive,performance_timing_dom_content_loaded_event_start:e.domContentLoadedEventStart,performance_timing_dom_content_loaded_event_end:e.domContentLoadedEventEnd,performance_timing_dom_complete:e.domComplete,performance_timing_load_event_start:e.loadEventStart,performance_timing_load_event_end:e.loadEventEnd})},b=function(e,t){m(4154,2,{performance_user_centric_interactive:e,performance_user_centric_total_blocking_time:t})},_=function(e){m(4156,1,{performance_user_centric_first_input_delay:e})},g=function(e){m(4409,1,{performance_user_centric_largest_contentful_paint:e})},h=function(e){m(4571,0,{performance_user_centric_cumulative_layout_shift:e})}}}]);