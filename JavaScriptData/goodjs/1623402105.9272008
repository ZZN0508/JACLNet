define(["./../storage","./init","./../ad_s_async","local/common/components/nsglibCommon"],function(o,t,n,e){var i,s="warszawa",r="sg.locals.csrId",a="sg.locals.usrId",u=null,c=function(o){var t="empty",n=null,e=[];return{get:function(o){e.push(o),setTimeout(i,0)}};function i(){"empty"===t?(t="init",o(function(o){"init"===t&&(t="set",n=o,setTimeout(i,0))})):"init"===t||"set"===t&&e.length>0&&(e.shift()(n),setTimeout(i,0))}}(function(o){n.on("showAds",function(){n.getOnetAds(function(t){var n=t.geoloc;n&&o(n)})})});return l(d()),i=function(t){var n=function(o){var t={1:"bialystok",2:"kujawskopomorskie",3:"lubuskie",4:"kielce",5:"krakow",6:"lublin",7:"lodz",8:"olsztyn",9:"opole",10:"poznan",11:"rzeszow",12:"szczecin",13:"slask",14:"kujawskopomorskie",15:"trojmiasto",16:"warszawa",17:"wroclaw",18:"lubuskie",19:"wielka_brytania_i_irlandia",21:"krakow"},n={31:{0:15,1:12,2:2,3:10,4:3,5:17,6:9,7:13,8:8,9:1,10:16,11:7,12:6,13:4,14:5,15:11,17:5,18:5},18:19,42:19},e=null;try{o&&void 0!==o.P&&void 0!==n[o.P]&&(void 0!==o.R&&void 0!==n[o.P][o.R]?void 0!==t[n[o.P][o.R]]&&(e=t[n[o.P][o.R]]):"number"==typeof n[o.P]&&void 0!==t[n[o.P]]&&(e=t[n[o.P]]))}catch(o){}return e}(t);f(n)?(o.set("sg.locals.csrType","auto"),o.set(r,n)):o.set("sg.locals.csrType","none")},t.init(),c.get(i),{setRegionStorageUser:function(t){o.set(a,t)},setRegion:l,getRegionUser:d};function l(o){"string"==typeof o&&""!==o&&(o=o.toUpperCase(),e.phxAdsConfigurator.updateOnetAdsForLocalLink(u,o),n.removeKeyword(u),u=o,n.addKeyword(o),n.setKeyvalues("city",o))}function d(){var t=o.get(a);if(f(t))return t;var n=o.get(r);return f(n)?n:s}function f(o){return"string"==typeof o&&""!==o}});