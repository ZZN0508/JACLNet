System.register(["./common-chunks.system.1976d2aa.js"],(function(e){"use strict";var n,t,o,u,a,i,c,d,r,m,l,s,f;return{setters:[function(e){n=e.g,t=e.D,o=e.j,u=e.x,a=e.ad,i=e.d,c=e.ae,d=e.C,r=e.a,m=e.V,l=e.u,s=e.af,f=e.r}],execute:function(){e("default",{create:function(e){var h={};return h.data=e.data,h.dom=n(e,"dom",t.create()),h.beacon=n(e,"beacon",o("Header")),h.onClose=n(e,"onClose",(function(){})),h.container=h.dom.getById("header-bubble-menu-content"),h.menu=h.container.querySelector("#vh-account-menu-root"),h.menuContentReady=u.create(),h.addUserNameToHeader=function(){var e=a();if(e){var n=h.menu.querySelector("[data-tl-id=header-account-menu-icon]"),t=h.menu.querySelector("[data-tl-id=header-account-menu-title]");n&&e.initials&&(n.innerHTML=e.initials),t&&e.fullName&&(t.innerHTML=e.fullName)}},h.fetch=function(e){if(h.menu?(h.isAccountMenuHidden=h.menu.getAttribute("hidden"),h.menu.remove()):h.isAccountMenuHidden=!0,h.menu=h.dom.createElement("div"),i(h.menu,c({id:"vh-account-menu-root"},h.isAccountMenuHidden?{hidden:!0}:null)),h.menu.innerHTML=e,h.container)if(h.container.appendChild(h.menu),h.addUserNameToHeader(),"1"===d.get("hasCID")){var n=r("header-account-links-signed-out",h.menu);n&&n.remove()}else{var t=r("header-account-links-signed-in",h.menu);t&&t.remove()}h.setup(),h.menuContentReady.resolve()},h.setup=function(){var e=r("GlobalAccountMenu-closeBtn",h.menu);e&&e.addEventListener("click",h.onClose);var n=h.menu.querySelector('a[title="Sign In"]');if(n&&n.href){var t=n.href.replace(n.protocol+"//"+n.host,"");n.href=m(t)}h.bindClickListeners()},h.bindClickListeners=function(){h.menu&&h.menu.querySelectorAll("a").forEach((function(e){e.setAttribute("data-section-title",e.dataset.tlId),l({dom:h.dom,beacon:h.beacon,pageTitle:"account panel",moduleInfo:h.dom.getDataAttributes(e,["module-id","module-published-date","module-type","module-zone"])})(e)}))},h.cleanup=function(){},h.show=function(){h.menuContentReady.then((function(){h.beacon.tagAction(s({name:"Account panel"})),f(h.menu,["hidden"])}))},h.hide=function(){i(h.menu,{hidden:!0})},h}})}}}));