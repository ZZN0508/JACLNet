YUI.add("mjata-rest-http",function(e){"use strict";function h(t,i){var s={},a=i===o||i===u;return e.Object.each(t,function(e,t){t.toLowerCase()==="content-type"?a&&(s[n]=e):s[t]=e}),a&&!s[n]&&(s[n]=r),s}function p(t){return t[n]?e.Array.some(t[n].split(";"),function(e){return l.trim(e).toLowerCase()===r}):!1}function d(e,t,n){var r=e===s||e===o||e===a;return!r&&!t.unsafeAllowRetry?!1:n!==408&&n!==999||t.tmp.retry_counter>=t.retry.max_retries?!1:(t.tmp.retry_counter++,t.retry.interval=t.retry.interval*2,!0)}function v(e){return e=e||{status:999,statusText:"null response"},e.status===0&&e.statusText===i&&(e.status=408,e.timeoutBy="client"),e}function m(e,t){var n={statusCode:e.status,statusText:e.statusText,responseText:e.responseText};return n.statusCode===408&&(n.timeoutBy=e.timeoutBy||"",n.timeout=t||""),n}function g(e){var n={timeout:t.timeout,unsafeAllowRetry:e.unsafeAllowRetry||!1,retry:{interval:t.retry.interval,max_retries:t.retry.max_retries},cors:t.cors},r,i,s;return e&&(r=parseInt(e.timeout,10),c(r)&&r>0&&(n.timeout=r),e.retry&&(i=parseInt(e.retry&&e.retry.interval,10),c(i)&&i>0&&(n.retry.interval=i),s=parseInt(e.retry&&e.retry.max_retries,10),c(s)&&s>=0&&(n.retry.max_retries=s)),e.tmp&&(n.tmp=e.tmp),e.cors&&(n.cors=e.cors)),n}function y(t,n,r,i,s,o){var u,a;s=g(s),r=h(r,t),s.tmp=s.tmp||{retry_counter:0},a=s.timeout,u={method:t,timeout:a,headers:r,on:{success:function(e,t){o(f,t)},failure:function(u,l){l=v(l),d(t,s,l.status)?e.later(s.retry.interval,f,function(){y(t,n,r,i,s,o)}):o(m(l,a))}}},s.cors&&(u.xdr={use:"native",credentials:!0}),i!==undefined&&i!==f&&(u.data=p(r)?e.JSON.stringify(i):i),e.io(n,u)}var t={timeout:3e3,retry:{interval:200,max_retries:2},cors:!1},n="Content-Type",r="application/json",i="timeout",s="GET",o="PUT",u="POST",a="DELETE",f=null,l=e.Lang,c=l.isNumber;e.namespace("Mjata.REST").HTTP={get:function(e,t,n,r){y(s,e,t,f,n,r)},put:function(e,t,n,r,i){y(o,e,t,n,r,i)},post:function(e,t,n,r,i){y(u,e,t,n,r,i)},del:function(e,t,n,r){y(a,e,t,f,n,r)}}},"@VERSION@",{requires:["json-stringify","io-base","io-xdr"]});