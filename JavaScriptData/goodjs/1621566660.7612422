(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[96174,90914],{638017:function(){},565383:function(){},761026:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WithIsStreamLiveQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:86}};n.loc.source={body:"query WithIsStreamLiveQuery($id: ID!) {\nuser(id: $id) {\nid\nstream {\nid\ncreatedAt\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.WithIsStreamLiveQuery=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"WithIsStreamLiveQuery")},949161:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlockedUsers"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:61}};n.loc.source={body:"query BlockedUsers {\ncurrentUser {\nid\nblockedUsers {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.BlockedUsers=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"BlockedUsers")},594870:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserEmotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:216}};n.loc.source={body:"query UserEmotes($withOwner: Boolean!) {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\nsetID\ntoken\nmodifiers {\ncode\nname\n}\ntype\n}\nowner @include(if: $withOwner) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.UserEmotes=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"UserEmotes")},982869:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"badge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Badge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image1x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"NORMAL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image2x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image4x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickURL"},arguments:[],directives:[]}]}}],loc:{start:0,end:170}};n.loc.source={body:"fragment badge on Badge {\nid\nsetID\nversion\ntitle\nimage1x: imageURL(size: NORMAL)\nimage2x: imageURL(size: DOUBLE)\nimage4x: imageURL(size: QUADRUPLE)\nclickAction\nclickURL\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},525778:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_AllowRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AllowRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:141}};n.loc.source={body:"mutation Chat_AllowRejectedChatMessage($input: AllowRejectedChatMessageInput!) {\nallowRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.Chat_AllowRejectedChatMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"Chat_AllowRejectedChatMessage")},952561:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AutoModSender"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"senderID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"senderID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageSender"},directives:[]}]}}]}}],loc:{start:0,end:178}};i.loc.source={body:'#import "twilight/features/message/fragments/message-sender/sender-fragment.gql"\nquery AutoModSender($senderID: ID! $channelID: ID!) {\nuser (id: $senderID) {\n...messageSender\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(655987).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.AutoModSender=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"AutoModSender")},961502:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DenyRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DenyRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"denyRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:138}};n.loc.source={body:"mutation Chat_DenyRejectedChatMessage($input: DenyRejectedChatMessageInput!) {\ndenyRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.Chat_DenyRejectedChatMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"Chat_DenyRejectedChatMessage")},41598:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatFilterContextManager_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:68}};n.loc.source={body:"query ChatFilterContextManager_User {\ncurrentUser {\nid\ncreatedAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ChatFilterContextManager_User=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ChatFilterContextManager_User")},373191:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatInput"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}}}]}]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:336}};n.loc.source={body:"query ChatInput($channelLogin: String! $isEmbedded: Boolean!) {\ncurrentUser {\nid\nbitsBalance\nisPartner @include(if: $isEmbedded)\n}\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresInMs\nreason\n}\n}\ndisplayName\nprofileImageURL(width:50)\ncheer {\nid\nsettings {\nid\nemoteMinimumBits\ncheerMinimumBits\nevent\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ChatInput=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ChatInput")},64125:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatReplies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"messageID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageFields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"replies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:216}};i.loc.source={body:'#import "twilight/features/message/fragments/message-fragment.gql"\nquery ChatReplies($messageID: ID! $channelID: ID!) {\nmessage(id: $messageID) {\n...messageFields\nreplies {\nnodes {\n...messageFields\n}\ntotalCount\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(325664).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.ChatReplies=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"ChatReplies")},796682:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatInput_SendCheer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendCheerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validationError"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:377}};n.loc.source={body:"mutation ChatInput_SendCheer($input: SendCheerInput!) {\nsendCheer(input: $input) {\nid\ncurrentUser {\nid\nbitsBalance\n}\nvalidationError {\ncode\nmessage\nmessageContent {\ntext\nfragments {\ntext\ncontent {\n... on AutoMod {\ntopics {\ntype\nweight\n}\n}\n... on CheermoteToken {\nbitsAmount\nprefix\ntier\n}\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\nlogin\ndisplayName\n}\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ChatInput_SendCheer=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ChatInput_SendCheer")},778171:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IncomingRaidLine_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:146}};n.loc.source={body:"query IncomingRaidLine_Channel($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\ndisplayName\nprofileImageURL(width: 50)\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.IncomingRaidLine_Channel=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"IncomingRaidLine_Channel")},4003:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query ChatLine_SubsOnlyUpsell_UserSubscriptionProducts($login: String!) {\nuser(login: $login) {\nid\nsubscriptionProducts {\nid\nurl\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ChatLine_SubsOnlyUpsell_UserSubscriptionProducts=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts")},545611:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetChatPauseSetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetChatPauseSettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setChatPauseSetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:137}};n.loc.source={body:"mutation SyncedSettingsSetChatPauseSetting($input: SetChatPauseSettingInput!) {\nsetChatPauseSetting(input: $input) {\nchatPauseSetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.SyncedSettingsSetChatPauseSetting=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"SyncedSettingsSetChatPauseSetting")},188623:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsChatPauseSetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};n.loc.source={body:"query SyncedSettingsChatPauseSetting {\ncurrentUser {\nid\nchatUISettings {\nchatPauseSetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.SyncedSettingsChatPauseSetting=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"SyncedSettingsChatPauseSetting")},564702:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteOnlyModeEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followersOnlyDurationMinutes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slowModeDurationSeconds"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSubOnlyChat"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:211}};n.loc.source={body:"query ChatRoomState($login: String) {\nchannel: user(login: $login) {\nid\nchatSettings {\nisEmoteOnlyModeEnabled\nfollowersOnlyDurationMinutes\nslowModeDurationSeconds\n}\nsubscriptionProducts {\nid\nhasSubOnlyChat\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ChatRoomState=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ChatRoomState")},947926:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatList_Badges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"squadStream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamData"},directives:[]}]}}]}}]}}],loc:{start:0,end:381}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/squad-stream/models/squad-stream-fragment.gql"\nquery ChatList_Badges($channelLogin: String!) {\nbadges {\n...badge\n}\nuser(login: $channelLogin) {\nid\nprimaryColorHex\nbroadcastBadges {\n...badge\n}\nself {\nselectedBadge {\n...badge\n}\ndisplayBadges {\n...badge\n}\n}\nsquadStream {\n...squadStreamData\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(982869).definitions)),i.definitions=i.definitions.concat(r(t(591934).definitions));var s={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i,e.exports.ChatList_Badges=function(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=s[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=l(e,n);i&&t.definitions.push(i)})),t}(i,"ChatList_Badges")},462966:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVIP"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:170}};n.loc.source={body:"query Chat_ChannelData($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nlogin\ndisplayName\nchatSettings {\nrules\n}\nself {\nisEditor\nisModerator\nisVIP\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.Chat_ChannelData=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"Chat_ChannelData")},432242:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_UserData"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGlobalMod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};n.loc.source={body:"query Chat_UserData {\nuser {\nid\ndisplayName\nlogin\nroles {\nisGlobalMod\nisSiteAdmin\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.Chat_UserData=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"Chat_UserData")},349039:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsChatCard_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};n.loc.source={body:"query ClipsChatCard_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nthumbnailURL\ntitle\nslug\nurl\ncurator {\nid\ndisplayName\n}\nbroadcaster {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ClipsChatCard_Clip=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ClipsChatCard_Clip")},909428:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CrowdChantChannelEligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"crowdChants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:150}};n.loc.source={body:"query CrowdChantChannelEligibility($channelLogin: String!){\nuser(login: $channelLogin) {\nid\nchannel {\nid\ncrowdChants {\nsettings {\nisEligible\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.CrowdChantChannelEligibility=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"CrowdChantChannelEligibility")},699478:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetDeletedMessageDisplaySetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetDeletedMessageDisplaySettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setDeletedMessageDisplaySetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:185}};n.loc.source={body:"mutation SyncedSettingsSetDeletedMessageDisplaySetting($input: SetDeletedMessageDisplaySettingInput!) {\nsetDeletedMessageDisplaySetting(input: $input) {\ndeletedMessageDisplaySetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.SyncedSettingsSetDeletedMessageDisplaySetting=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"SyncedSettingsSetDeletedMessageDisplaySetting")},437202:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsDeletedMessageDisplaySetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query SyncedSettingsDeletedMessageDisplaySetting {\ncurrentUser {\nid\nchatUISettings {\ndeletedMessageDisplaySetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.SyncedSettingsDeletedMessageDisplaySetting=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"SyncedSettingsDeletedMessageDisplaySetting")},41570:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_EmoteCard_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:176}};n.loc.source={body:"query Core_Services_Spade_EmoteCard_User($channelID: ID!) {\nuser(id: $channelID) {\nid\nhasPrime\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.Core_Services_Spade_EmoteCard_User=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"Core_Services_Spade_EmoteCard_User")},528174:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:645}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote-modifier.gql"\nfragment subProduct on SubscriptionProduct {\nid\nurl\nprice\nname\ntier\ninterval {\nunit\n}\nstate\nemotes {\nid\nsetID\ntoken\n}\noffers {\n...subProductOfferFragment\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nbenefit {\nid\ntier\n}\n}\nowner {\nid\ndisplayName\nlogin\nsubscriptionProducts {\nid\ntier\nurl\nprice\nemotes {\nid\ntoken\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\n}\nstream {\nid\ntype\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(73965).definitions)),i.definitions=i.definitions.concat(r(t(993027).definitions)),e.exports=i},824570:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmoteCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emoteID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"emoteID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionTier"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}}}]}]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionSummaries"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subSummary"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsBadgeTierSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUnlocked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numberOfBitsUntilUnlock"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"subSummary"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionSummary"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDescription"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionTier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionTier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscribedTier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cumulativeTenure"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:741}};i.loc.source={body:'#import "twilight/features/chat/components/emote-card/emote-subscription-product.gql"\nquery EmoteCard ($emoteID: ID! $octaneEnabled: Boolean!) {\nemote(id: $emoteID) {\nid\ntype\nsubscriptionTier @include(if: $octaneEnabled)\ntoken\nsetID\nowner {\nid\nlogin\ndisplayName\nstream {\nid\ntype\n}\n}\nsubscriptionProduct @skip(if: $octaneEnabled) {\n...subProduct\n}\nsubscriptionSummaries @include(if: $octaneEnabled) {\n...subSummary\n}\nbitsBadgeTierSummary {\nthreshold\nself {\nisUnlocked\nnumberOfBitsUntilUnlock\n}\n}\ntype\n}\n}\nfragment subSummary on SubscriptionSummary {\nid\nname\noffers {\nid\ncurrency\nexponent\nprice\npromoDescription\n}\nemotes {\nid\ntoken\nsubscriptionTier\n}\nurl\ntier\nmodifiers {\ncode\nname\nsubscriptionTier\n}\nself {\nsubscribedTier\ncumulativeTenure\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(528174).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.EmoteCard=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"EmoteCard")},43116:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetReadableChatColors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetReadableChatColorsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setReadableChatColorsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"mutation SyncedSettingsSetReadableChatColors($input: SetReadableChatColorsEnabledInput!) {\nsetReadableChatColorsEnabled(input:$input) {\nisReadableChatColorsEnabled\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.SyncedSettingsSetReadableChatColors=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"SyncedSettingsSetReadableChatColors")},591677:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsReadableChatColors"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"query SyncedSettingsReadableChatColors {\ncurrentUser {\nid\nchatUISettings {\nisReadableChatColorsEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.SyncedSettingsReadableChatColors=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"SyncedSettingsReadableChatColors")},51643:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RaidUpsell_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"targetChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"sourceChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:240}};n.loc.source={body:"query RaidUpsell_Channel($targetChannelLogin: String $sourceChannelLogin: String) {\ntargetChannel: user(login: $targetChannelLogin) {\nid\nlogin\ndisplayName\n}\nsourceChannel: user(login: $sourceChannelLogin) {\nid\nstream {\nid\nviewersCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.RaidUpsell_Channel=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"RaidUpsell_Channel")},835875:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamChat"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isChannelMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"query StreamChat ($login: String!) {\nchannel: user(login: $login) {\nid\ndisplayName\nhosting {\nid\n}\nself {\nbanStatus {\nisPermanent\n}\nisChannelMember\nisModerator\nsubscriptionBenefit {\nid\n}\n}\nstream {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.StreamChat=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"StreamChat")},5779:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatCard_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"90"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"51"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:162}};n.loc.source={body:"query VideoChatCard_Video($videoID: ID!) {\nvideo(id: $videoID) {\nid\ntitle\npreviewThumbnailURL(width: 90 height: 51)\npublishedAt\nowner {\nid\nlogin\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.VideoChatCard_Video=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"VideoChatCard_Video")},333330:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:296}};n.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\nreason\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.Chat_BanUserFromChatRoom=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"Chat_BanUserFromChatRoom")},755324:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DeleteChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation Chat_DeleteChatMessage($input: DeleteChatMessageInput!) {\ndeleteChatMessage(input: $input) {\nresponseCode\nmessage {\nid\nsender {\nid\nlogin\ndisplayName\n}\ncontent {\ntext\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.Chat_DeleteChatMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"Chat_DeleteChatMessage")},375140:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};n.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.Chat_UnbanUserFromChatRoom=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"Chat_UnbanUserFromChatRoom")},679864:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:306}};n.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\nreason\n}\ntargetUser: user (id: $targetUserID lookupType: ALL) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ChatRoomBanStatus=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ChatRoomBanStatus")},434555:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUserBannedStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:164}};n.loc.source={body:"query CurrentUserBannedStatus($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresAt\nexpiresInMs\nreason\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.CurrentUserBannedStatus=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"CurrentUserBannedStatus")},169446:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRestrictions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRestrictedReasons"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastRecentChatMessageAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requireVerifiedAccount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:247}};n.loc.source={body:"query ChatRestrictions($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nchatRestrictedReasons\nlastRecentChatMessageAt\nfollower {\nfollowedAt\n}\n}\nchatSettings {\nrequireVerifiedAccount\n}\n}\ncurrentUser {\nid\nisEmailVerified\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ChatRestrictions=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ChatRestrictions")},432504:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageBuffer_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatDelayMs"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:118}};n.loc.source={body:"query MessageBuffer_Channel($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchatSettings {\nchatDelayMs\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.MessageBuffer_Channel=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"MessageBuffer_Channel")},67523:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageBufferChatHistory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recentChatMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"historicalMessage"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"chatHistoryParentMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"historicalMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parentMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"chatHistoryParentMessage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelLogin"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:632}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/message/fragments/message-content-fragment.gql"\nquery MessageBufferChatHistory($channelLogin: String!) {\nchannel(name: $channelLogin) {\nid\nrecentChatMessages {\n...historicalMessage\n}\n}\n}\nfragment chatHistoryParentMessage on Message {\nid\ncontent {\ntext\n}\ndeletedAt\nsender {\nid\nlogin\ndisplayName\n}\n}\nfragment historicalMessage on Message {\nid\ndeletedAt\nsentAt\ncontent {\n...messageContent\n}\nparentMessage {\n...chatHistoryParentMessage\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelLogin: $channelLogin) {\n...badge\n}\n__typename\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(982869).definitions)),i.definitions=i.definitions.concat(r(t(721110).definitions));var s={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i,e.exports.MessageBufferChatHistory=function(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=s[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=l(e,n);i&&t.definitions.push(i)})),t}(i,"MessageBufferChatHistory")},763143:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_ChatEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:116}};n.loc.source={body:"query Core_Services_Spade_ChatEvent_User($id: ID!) {\nuser(id: $id) {\nid\nisPartner\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.Core_Services_Spade_ChatEvent_User=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"Core_Services_Spade_ChatEvent_User")},856253:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLoginModerationTracking"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"target"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:234}};n.loc.source={body:"query ChatLoginModerationTracking($channelID: ID! $targetUserID: ID!) {\ntarget: user(id: $targetUserID) {\nid\nlogin\n}\nchannel: user(id: $channelID) {\nid\nlogin\nself {\nisModerator\nisEditor\n}\n}\ncurrentUser {\nid\nlogin\nroles {\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ChatLoginModerationTracking=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ChatLoginModerationTracking")},377631:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPoints_Icon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]}]}}]}}],loc:{start:0,end:214}};i.loc.source={body:'#import "twilight/features/community-points/models/point-customization-fragment.gql"\nquery CommunityPoints_Icon($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\nid\n...pointCustomizationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(758164).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.CommunityPoints_Icon=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"CommunityPoints_Icon")},174765:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsGlobalContext"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteModifierFragment"},directives:[]}]}}]}}],loc:{start:0,end:160}};i.loc.source={body:'#import "twilight/features/community-points/models/emote-modifier-fragment.gql"\nquery ChannelPointsGlobalContext {\nemoteModifiers {\n...emoteModifierFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(806393).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.ChannelPointsGlobalContext=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPointsGlobalContext")},965875:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeGoalTypes"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCommunityGoalType"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"availableClaimFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsBalanceFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"rewardsFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPointAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteVariants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteVariantFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"earningSettingsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"activeMultipliersFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastViewedContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userRedemptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userRedemptionFragment"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastViewedContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeAndIDFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1638}};i.loc.source={body:'#import "twilight/features/community-points/models/active-multipliers-fragment.gql"\n#import "twilight/features/community-points/models/available-claim-fragment.gql"\n#import "twilight/features/community-points/models/balance-fragment.gql"\n#import "twilight/features/community-points/models/emote-variant-fragment.gql"\n#import "twilight/features/community-points/models/point-customization-fragment.gql"\n#import "twilight/features/community-points/models/rewards-fragment.gql"\n#import "twilight/features/community-points/models/earning-settings-fragment.gql"\n#import "twilight/features/community-points/models/last-viewed-content-fragments.gql"\n#import "twilight/features/community-points/models/user-redemptions-fragment.gql"\nquery ChannelPointsContext($channelLogin: String! $includeGoalTypes: [CommunityPointsCommunityGoalType!]) {\ncommunity: user(login: $channelLogin) {\nid\ndisplayName\n# We fetch everything here in the top-level query. This avoids data waterfalls that would occur if we\n# only fetched data after first querying whether the channel has points enabled.\n...availableClaimFragment\n...communityPointsBalanceFragment\n...pointCustomizationFragment\n...rewardsFragment\nchannel {\nid\ncommunityPointsSettings {\nisEnabled\nraidPointAmount\nemoteVariants {\n...emoteVariantFragment\n}\nearning {\n...earningSettingsFragment\n}\n}\nself {\ncommunityPoints {\nactiveMultipliers {\n...activeMultipliersFragment\n}\nlastViewedContent {\n...lastViewedContentByTypeFragment\n}\nuserRedemptions {\n...userRedemptionFragment\n}\n}\n}\n}\nself {\nisModerator\n}\n}\ncurrentUser {\nid\ncommunityPoints {\nlastViewedContent {\n...lastViewedContentByTypeAndIDFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(905104).definitions)),i.definitions=i.definitions.concat(r(t(507740).definitions)),i.definitions=i.definitions.concat(r(t(8381).definitions)),i.definitions=i.definitions.concat(r(t(832981).definitions)),i.definitions=i.definitions.concat(r(t(758164).definitions)),i.definitions=i.definitions.concat(r(t(363646).definitions)),i.definitions=i.definitions.concat(r(t(20819).definitions)),i.definitions=i.definitions.concat(r(t(120367).definitions)),i.definitions=i.definitions.concat(r(t(62791).definitions));var s={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i,e.exports.ChannelPointsContext=function(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=s[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=l(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPointsContext")},501190:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsPredictionContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"predictionSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligibleForPredictions"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activePredictionEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lockedPredictionEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"resolvedPredictionEvents"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventEdgeFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recentPredictions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recentPredictionFragment"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionSettingsFragment"},directives:[]}]}}]}}],loc:{start:0,end:802}};i.loc.source={body:'#import "twilight/features/community-points/models/prediction-event-fragment.gql"\n#import "twilight/features/community-points/models/prediction-event-edge-fragment.gql"\n#import "twilight/features/community-points/models/prediction-settings-fragment.gql"\n#import "twilight/features/community-points/models/recent-prediction-fragment.gql"\nquery ChannelPointsPredictionContext($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\nid\nchannel {\nid\npredictionSettings {\nisEligibleForPredictions\n}\nactivePredictionEvents {\n...predictionEventFragment\n}\nlockedPredictionEvents {\n...predictionEventFragment\n}\nresolvedPredictionEvents(first: 1) {\nedges {\n...predictionEventEdgeFragment\n}\n}\nself {\nrecentPredictions {\n...recentPredictionFragment\n}\n}\n}\n}\ncurrentUser {\n...predictionSettingsFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(634410).definitions)),i.definitions=i.definitions.concat(r(t(158367).definitions)),i.definitions=i.definitions.concat(r(t(631879).definitions)),i.definitions=i.definitions.concat(r(t(669646).definitions));var s={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i,e.exports.ChannelPointsPredictionContext=function(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=s[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=l(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPointsPredictionContext")},885411:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsRewardRedemptionContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsUserFragment"},directives:[]}]}}]}}],loc:{start:0,end:215}};i.loc.source={body:'#import "twilight/features/community-points/models/user-fragment.gql"\nquery CommunityPointsRewardRedemptionContext($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\n...communityPointsUserFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(166545).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.CommunityPointsRewardRedemptionContext=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"CommunityPointsRewardRedemptionContext")},905104:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"activeMultipliersFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsMultiplier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}}],loc:{start:0,end:85}};n.loc.source={body:"fragment activeMultipliersFragment on CommunityPointsMultiplier {\nreasonCode\nfactor\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},654:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"automaticRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsAutomaticReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultBackgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isHiddenForSubs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedForIndicatorAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"globallyUpdatedForIndicatorAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:375}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment automaticRewardFragment on CommunityPointsAutomaticReward {\nid\nbackgroundColor\ncost\ndefaultBackgroundColor\ndefaultCost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisEnabled\nisHiddenForSubs\nminimumCost\ntype\nupdatedForIndicatorAt\ngloballyUpdatedForIndicatorAt\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},507740:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"availableClaimFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableClaim"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:109}};n.loc.source={body:"fragment availableClaimFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\navailableClaim {\nid\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},8381:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsBalanceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"canRedeemRewardsForFree"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"fragment communityPointsBalanceFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\nbalance\nactiveMultipliers {\nreasonCode\nfactor\n}\ncanRedeemRewardsForFree\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},58747:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityGoalItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCommunityGoal"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amountNeeded"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isInStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"smallContribution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perStreamUserMaximumContribution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pointsContributed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:385}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment communityGoalItem on CommunityPointsCommunityGoal {\nbackgroundColor\ndescription\ndurationDays\nendedAt\namountNeeded\nid\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisInStock\nsmallContribution\nperStreamUserMaximumContribution\npointsContributed\nstartedAt\nstatus\ntitle\ntype\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},161991:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsEmoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:74}};n.loc.source={body:"fragment communityPointsEmoteFragment on CommunityPointsEmote {\nid\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},378027:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"customRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCustomReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cooldownExpiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxPerStreamSetting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPerStream"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxPerUserPerStreamSetting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPerUserPerStream"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"globalCooldownSetting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"globalCooldownSeconds"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isInStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPaused"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSubOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserInputRequired"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldRedemptionsSkipRequestQueue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"redemptionsRedeemedCurrentStream"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prompt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedForIndicatorAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:583}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment customRewardFragment on CommunityPointsCustomReward {\nid\nbackgroundColor\ncooldownExpiresAt\ncost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nmaxPerStreamSetting {\nisEnabled\nmaxPerStream\n}\nmaxPerUserPerStreamSetting {\nisEnabled\nmaxPerUserPerStream\n}\nglobalCooldownSetting{\nisEnabled\nglobalCooldownSeconds\n}\nisEnabled\nisInStock\nisPaused\nisSubOnly\nisUserInputRequired\nshouldRedemptionsSkipRequestQueue\nredemptionsRedeemedCurrentStream\nprompt\ntitle\nupdatedForIndicatorAt\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},20819:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"earningSettingsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsChannelEarningSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"averagePointsPerHour"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passiveWatchPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchStreakPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"multipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"activeMultipliersFragment"},directives:[]}]}}]}}],loc:{start:0,end:349}};i.loc.source={body:'#import "twilight/features/community-points/models/active-multipliers-fragment.gql"\nfragment earningSettingsFragment on CommunityPointsChannelEarningSettings {\nid\naveragePointsPerHour\ncheerPoints\nclaimPoints\nfollowPoints\npassiveWatchPoints\nraidPoints\nsubscriptionGiftPoints\nwatchStreakPoints {\npoints\n}\nmultipliers {\n...activeMultipliersFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(905104).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},744108:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteModificationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteModification"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifier"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"globallyUpdatedForIndicatorAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:253}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\nfragment emoteModificationFragment on CommunityPointsEmoteModification {\nid\nemote {\n...communityPointsEmoteFragment\n}\nmodifier {\nid\n}\ngloballyUpdatedForIndicatorAt\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(161991).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},806393:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteModifierFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteModifier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconDark"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"iconLight"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}}]}}],loc:{start:0,end:226}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment emoteModifierFragment on CommunityPointsEmoteModifier {\nid\ntitle\niconDark {\n...pointsImageFragment\n}\niconLight {\n...pointsImageFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},832981:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteVariantFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUnlockable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteModificationFragment"},directives:[]}]}}]}}],loc:{start:0,end:341}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\n#import "twilight/features/community-points/models/emote-modification-fragment.gql"\nfragment emoteVariantFragment on CommunityPointsEmoteVariant {\nid\nisUnlockable\nemote {\n...communityPointsEmoteFragment\n}\nmodifications {\n...emoteModificationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(161991).definitions)),i.definitions=i.definitions.concat(r(t(744108).definitions)),e.exports=i},120367:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"lastViewedContentByTypeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsLastViewedContentByType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastViewedAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"lastViewedContentByTypeAndIDFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsLastViewedContentByTypeAndID"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastViewedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:243}};n.loc.source={body:"fragment lastViewedContentByTypeFragment on CommunityPointsLastViewedContentByType {\ncontentType\nlastViewedAt\n}\nfragment lastViewedContentByTypeAndIDFragment on CommunityPointsLastViewedContentByTypeAndID {\ncontentID\ncontentType\nlastViewedAt\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},758164:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointCustomizationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment pointCustomizationFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nname\nimage {\n...pointsImageFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},387024:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointsImageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url2x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url4x"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};n.loc.source={body:"fragment pointsImageFragment on CommunityPointsImage {\nurl\nurl2x\nurl4x\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},158367:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionEventEdgeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PredictionEventEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventFragment"},directives:[]}]}}]}}],loc:{start:0,end:181}};i.loc.source={body:'#import "twilight/features/community-points/models/prediction-event-fragment.gql"\nfragment predictionEventEdgeFragment on PredictionEventEdge {\nnode {\n...predictionEventFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(634410).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},634410:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionEventFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PredictionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionClient"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lockedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"outcomes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionOutcomeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"predictionWindowSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"winningOutcome"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionOutcomeFragment"},directives:[]}]}}]}}],loc:{start:0,end:371}};i.loc.source={body:'#import "twilight/features/community-points/models/prediction-outcome-fragment.gql"\nfragment predictionEventFragment on PredictionEvent {\nid\ncreatedAt\ncreatedBy {\n... on ExtensionClient {\nid\n}\n... on User {\nid\ndisplayName\n}\n}\nendedAt\nlockedAt\noutcomes {\n...predictionOutcomeFragment\n}\npredictionWindowSeconds\nstatus\ntitle\nwinningOutcome {\n...predictionOutcomeFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(967752).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},967752:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionOutcomeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PredictionOutcome"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalUsers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topPredictors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:149}};n.loc.source={body:"fragment predictionOutcomeFragment on PredictionOutcome {\nid\ncolor\ntitle\ntotalPoints\ntotalUsers\ntopPredictors {\nid\npoints\nuser {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},631879:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionSettingsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"predictionsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasAcceptedTOS"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemporaryChatBadgeEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:117}};n.loc.source={body:"fragment predictionSettingsFragment on User {\nid\npredictionsSettings {\nhasAcceptedTOS\nisTemporaryChatBadgeEnabled\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},669646:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"recentPredictionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Prediction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isResultAcknowledged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"outcome"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pointsWon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"predictedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:149}};n.loc.source={body:"fragment recentPredictionFragment on Prediction {\nid\nevent {\nid\n}\nisResultAcknowledged\noutcome {\nid\n}\npoints\npointsWon\npredictedAt\nresult\nupdatedAt\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},363646:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"rewardsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"automaticRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automaticRewardFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"customRewardFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"goals"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeGoalTypes"},value:{kind:"Variable",name:{kind:"Name",value:"includeGoalTypes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityGoalItem"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:358}};i.loc.source={body:'#import "./automatic-reward-fragment.gql"\n#import "./community-goal-fragment.gql"\n#import "./custom-reward-fragment.gql"\nfragment rewardsFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nautomaticRewards {\n...automaticRewardFragment\n}\ncustomRewards {\n...customRewardFragment\n}\ngoals(includeGoalTypes: $includeGoalTypes) {\n...communityGoalItem\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(654).definitions)),i.definitions=i.definitions.concat(r(t(58747).definitions)),i.definitions=i.definitions.concat(r(t(378027).definitions)),e.exports=i},166545:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsUserFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"fragment communityPointsUserFragment on User {\nid\nself {\nsubscriptionBenefit {\nid\n}\nisModerator\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},62791:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"userRedemptionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCustomRewardUserRedemption"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reward"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userRedemptionsCurrentStream"},arguments:[],directives:[]}]}}],loc:{start:0,end:123}};n.loc.source={body:"fragment userRedemptionFragment on CommunityPointsCustomRewardUserRedemption {\nreward {\nid\n}\nuserRedemptionsCurrentStream\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},593128:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RedeemCustomReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RedeemCommunityPointsCustomRewardInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"redeemCommunityPointsCustomReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:148}};n.loc.source={body:"mutation RedeemCustomReward($input: RedeemCommunityPointsCustomRewardInput!) {\nredeemCommunityPointsCustomReward(input: $input) {\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.RedeemCustomReward=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"RedeemCustomReward")},354483:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendHighlightedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendHighlightedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendHighlightedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:150}};n.loc.source={body:"mutation SendHighlightedChatMessage($input: SendHighlightedChatMessageInput!) {\nsendHighlightedChatMessage(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.SendHighlightedChatMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"SendHighlightedChatMessage")},428116:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendSubsOnlyMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendChatMessageThroughSubscriberModeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendChatMessageThroughSubscriberMode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:163}};n.loc.source={body:"mutation SendSubsOnlyMessage($input: SendChatMessageThroughSubscriberModeInput!) {\nsendChatMessageThroughSubscriberMode(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.SendSubsOnlyMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"SendSubsOnlyMessage")},120019:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockChosenSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation UnlockChosenSubscriberEmote($input: UnlockChosenSubscriberEmoteInput!) {\nunlockChosenSubscriberEmote (input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.UnlockChosenSubscriberEmote=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"UnlockChosenSubscriberEmote")},450517:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockModifiedEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenModifiedSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenModifiedSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:161}};n.loc.source={body:"mutation UnlockModifiedEmote($input: UnlockChosenModifiedSubscriberEmoteInput!) {\nunlockChosenModifiedSubscriberEmote(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.UnlockModifiedEmote=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"UnlockModifiedEmote")},149800:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockRandomSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockRandomSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockRandomSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:173}};n.loc.source={body:"mutation UnlockRandomSubscriberEmote($input: UnlockRandomSubscriberEmoteInput!) {\nunlockRandomSubscriberEmote (input: $input) {\nbalance\nemote {\nid\ntoken\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.UnlockRandomSubscriberEmote=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"UnlockRandomSubscriberEmote")},940910:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCommunityPointsLastViewedContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCommunityPointsLastViewedContentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCommunityPointsLastViewedContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastViewedChannelContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastViewedGlobalContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeAndIDFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:398}};i.loc.source={body:'#import "twilight/features/community-points/models/last-viewed-content-fragments.gql"\nmutation UpdateCommunityPointsLastViewedContent(\n$input: UpdateCommunityPointsLastViewedContentInput!\n) {\nupdateCommunityPointsLastViewedContent(input: $input) {\nlastViewedChannelContent {\n...lastViewedContentByTypeFragment\n}\nlastViewedGlobalContent {\n...lastViewedContentByTypeAndIDFragment\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(120367).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.UpdateCommunityPointsLastViewedContent=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"UpdateCommunityPointsLastViewedContent")},721110:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"messageContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageParticle"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageParticle"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageFragment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"mentionFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cheermoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"mentionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"automodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:643}};n.loc.source={body:"fragment messageContent on MessageContent {\ntext\nfragments {\n...messageParticle\n}\n__typename\n}\nfragment messageParticle on MessageFragment {\ntext\ncontent {\n... on CheermoteToken {\n...cheermoteFragment\n}\n... on Emote {\n...emoteFragment\n}\n... on User {\n...mentionFragment\n}\n... on AutoMod {\n...automodFragment\n}\n__typename\n}\n__typename\n}\nfragment cheermoteFragment on CheermoteToken {\nbitsAmount\nprefix\ntier\n__typename\n}\nfragment emoteFragment on Emote {\nemoteID: id\nsetID\ntoken\n__typename\n}\nfragment mentionFragment on User {\nid\nlogin\ndisplayName\n__typename\n}\nfragment automodFragment on AutoMod {\ntopics {\ntype\nweight\n__typename\n}\n__typename\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},325664:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"messageFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageSender"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:248}};i.loc.source={body:'#import "twilight/features/message/fragments/message-sender/sender-fragment.gql"\n#import "./message-content-fragment.gql"\nfragment messageFields on Message {\nid\ndeletedAt\nsentAt\ncontent {\n...messageContent\n}\nsender {\n...messageSender\n}\n__typename\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(655987).definitions)),i.definitions=i.definitions.concat(r(t(721110).definitions)),e.exports=i},655987:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"messageSender"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:187}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nfragment messageSender on User {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\n...badge\n}\n__typename\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(982869).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},754245:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDisplayName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:86}};n.loc.source={body:"query GetDisplayName($login: String!) {\nuser(login: $login) {\nid\nlogin\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.GetDisplayName=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"GetDisplayName")},226976:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PbyPGame"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query PbyPGame($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.PbyPGame=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"PbyPGame")},116791:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PollsEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query PollsEnabled($login: String!) {\nchannel: user(login: $login) {\nid\nroles {\nisAffiliate\nisPartner\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.PollsEnabled=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"PollsEnabled")},680035:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPollContext_GetViewablePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewablePoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:339}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\n#import "twilight/features/polls/models/poll-voter-fragment.gql"\nquery ChannelPollContext_GetViewablePoll($login: String!) {\nchannel: user(login: $login) {\nid\nviewablePoll {\n...poll\nself {\nvoter {\n...pollVoter\n}\n}\n}\nself {\nisEditor\nisModerator\n}\n}\ncurrentUser {\nid\nbitsBalance\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(940505).definitions)),i.definitions=i.definitions.concat(r(t(159050).definitions));var s={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i,e.exports.ChannelPollContext_GetViewablePoll=function(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=s[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=l(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPollContext_GetViewablePoll")},422883:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPollContext_VoteInPoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VoteInPollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voteInPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:201}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-fragment.gql"\nmutation ChannelPollContext_VoteInPoll($input: VoteInPollInput!) {\nvoteInPoll(input: $input) {\nvoter {\n...pollVoter\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(159050).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.ChannelPollContext_VoteInPoll=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPollContext_VoteInPoll")},473871:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:271}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollChoice on PollChoice {\nid\ntitle\ntokens { ...pollTokenBreakdown }\ntotalVoters\nvotes { ...pollVoteBreakdown }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(319789).definitions)),i.definitions=i.definitions.concat(r(t(267527).definitions)),e.exports=i},940505:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"poll"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Poll"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"remainingDurationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topBitsContributor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTopBitsContributor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topCommunityPointsContributor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTopCommunityPointsContributor"},directives:[]}]}}]}}],loc:{start:0,end:843}};i.loc.source={body:'#import "twilight/features/polls/models/poll-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-settings-fragment.gql"\n#import "twilight/features/polls/models/poll-top-bits-contributor-fragment.gql"\n#import "twilight/features/polls/models/poll-top-community-points-contributor-fragment.gql"\nfragment poll on Poll {\nid\nchoices {\n...pollChoice\n}\ndurationSeconds\nstartedAt\nendedAt\nstatus\ntitle\nownedBy {\nid\n}\ncreatedBy {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\ntotalVoters\nvotes {\n...pollVoteBreakdown\n}\nsettings {\n...pollSettings\n}\nremainingDurationMilliseconds\ntopBitsContributor {\n...pollTopBitsContributor\n}\ntopCommunityPointsContributor {\n...pollTopCommunityPointsContributor\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(473871).definitions)),i.definitions=i.definitions.concat(r(t(319789).definitions)),i.definitions=i.definitions.concat(r(t(267527).definitions)),i.definitions=i.definitions.concat(r(t(912004).definitions)),i.definitions=i.definitions.concat(r(t(2067).definitions)),i.definitions=i.definitions.concat(r(t(569486).definitions)),e.exports=i},912004:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettings"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsBitsVotes"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"communityPointsVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsCommunityPointsVotes"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"multichoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsMultichoice"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsBitsVotes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsBitsVotes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsCommunityPointsVotes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsCommunityPointsVotes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsMultichoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsMultichoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}],loc:{start:0,end:433}};n.loc.source={body:"fragment pollSettings on PollSettings {\nbitsVotes {\n...pollSettingsBitsVotes\n}\ncommunityPointsVotes {\n...pollSettingsCommunityPointsVotes\n}\nid\nmultichoice {\n...pollSettingsMultichoice\n}\n}\nfragment pollSettingsBitsVotes on PollSettingsBitsVotes {\ncost\nisEnabled\n}\nfragment pollSettingsCommunityPointsVotes on PollSettingsCommunityPointsVotes {\ncost\nisEnabled\n}\nfragment pollSettingsMultichoice on PollSettingsMultichoice {\nisEnabled\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},319789:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTokenBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTokenBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:77}};n.loc.source={body:"fragment pollTokenBreakdown on PollTokenBreakdown {\nbits\ncommunityPoints\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},2067:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTopBitsContributor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTopBitsContributor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:96}};n.loc.source={body:"fragment pollTopBitsContributor on PollTopBitsContributor {\nbitsAmount\nuser {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},569486:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTopCommunityPointsContributor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTopCommunityPointsContributor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPointsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129}};n.loc.source={body:"fragment pollTopCommunityPointsContributor on PollTopCommunityPointsContributor {\ncommunityPointsAmount\nuser {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},267527:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoteBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoteBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"base"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:86}};n.loc.source={body:"fragment pollVoteBreakdown on PollVoteBreakdown {\ntotal\nbits\ncommunityPoints\nbase\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},443558:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoterChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoterChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pollChoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:277}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoterChoice on PollVoterChoice {\nid\npollChoice {\nid\n}\ntokens {...pollTokenBreakdown}\nvotes {...pollVoteBreakdown}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(319789).definitions)),i.definitions=i.definitions.concat(r(t(267527).definitions)),e.exports=i},159050:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoter"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoterChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:396}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoter on PollVoter {\nid\nchoices {\n...pollVoterChoice\n}\npoll {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\nuser {\nid\nlogin\ndisplayName\n}\nvotes {\n...pollVoteBreakdown\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(443558).definitions)),i.definitions=i.definitions.concat(r(t(319789).definitions)),i.definitions=i.definitions.concat(r(t(267527).definitions)),e.exports=i},595339:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ArchivePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ArchivePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archivePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation ArchivePoll($input: ArchivePollInput!) {\narchivePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.ArchivePoll=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"ArchivePoll")},570526:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:203}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\nmutation CreatePoll($input: CreatePollInput!) {\ncreatePoll(input: $input) {\npoll {\nid\nownedBy {\nid\nlatestPoll {\n...poll\n}\n}\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(940505).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.CreatePoll=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"CreatePoll")},302974:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TerminatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TerminatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"terminatePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"mutation TerminatePoll($input: TerminatePollInput!) {\nterminatePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.TerminatePoll=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"TerminatePoll")},591934:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SquadStream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamMember"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamMember"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}}],loc:{start:0,end:186}};n.loc.source={body:"fragment squadStreamData on SquadStream {\nid\nstatus\nmembers {\n...squadStreamMember\n}\nowner {\nid\n}\n}\nfragment squadStreamMember on User {\nid\nlogin\ndisplayName\nprofileImageURL(width:150)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},735254:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subCommunityGiftingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionGifting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"community"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:184}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\nfragment subCommunityGiftingFragment on SubscriptionGifting {\ncommunity {\noffer {\n...subProductOfferFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(73965).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},73965:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProductOfferFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"priority"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:348}};n.loc.source={body:"fragment subProductOfferFragment on Offer {\nid\ntplr\nplatform\neligibility {\nisEligible\n}\ngiftType\nlisting {\nchargeModel {\ninternal {\npreviewPrice {\nid\ncurrency\nexponent\nprice\ntotal\ndiscount {\nprice\ntotal\n}\n}\nplan {\ninterval {\nduration\nunit\n}\n}\n}\n}\n}\npromotion {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\npriority\n}\nquantity {\nmin\nmax\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},223343:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pendingSubscription"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PendingSubscription"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:80}};n.loc.source={body:"fragment pendingSubscription on PendingSubscription {\nprice\nstartsAt\ntier\ntype\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},767916:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_SubscribeButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gifting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subCommunityGiftingFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pendingSubscription"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:882}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/sub-modal/fragments/sub-community-gifting.gql"\n#import "twilight/features/subscribe-button/components/subscribe-button/pending_subscription.gql"\n#import "twilight/pages/subscriptions-management/models/cumulative-tenure-fragment.gql"\nquery ChannelPage_SubscribeButton_User($login: String!) {\nuser(login: $login) {\nid\ndisplayName\nprimaryColorHex\nsubscriptionProducts {\nid\nemoteSetID\nname\nhasAdFree\noffers {\n...subProductOfferFragment\n}\ngifting {\n...subCommunityGiftingFragment\n}\n}\nself {\ncanPrimeSubscribe\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\n...tenure\n}\nfollower {\ndisableNotifications\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nendsAt\nisDNRd\nplatform\npendingSubscription {\n...pendingSubscription\n}\ngift {\nisGift\n}\n}\n}\n}\nrequestInfo {\ncountryCode\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(73965).definitions)),i.definitions=i.definitions.concat(r(t(735254).definitions)),i.definitions=i.definitions.concat(r(t(223343).definitions)),i.definitions=i.definitions.concat(r(t(987876).definitions));var s={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i,e.exports.ChannelPage_SubscribeButton_User=function(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=s[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=l(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPage_SubscribeButton_User")},993027:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmoteModifier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};n.loc.source={body:"fragment subscriptionProductEmoteModifier on EmoteModifier {\ncode\nname\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},756058:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:114}};n.loc.source={body:"query UnbanRequestModal($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nbanStatus {\nisPermanent\nreason\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.UnbanRequestModal=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"UnbanRequestModal")},398421:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestsListCtx"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"20"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequestsSortOrder"}},defaultValue:{kind:"EnumValue",value:"NEWEST"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequestStatus"}},defaultValue:{kind:"EnumValue",value:"PENDING"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unbanRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}},{kind:"ObjectField",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unbanRequestsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cooldownMinutes"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:554}};i.loc.source={body:'#import "twilight/features/unban-requests/queries/unban-request-fragment.gql"\nquery UnbanRequestsListCtx($channelLogin: String! $limit: Int = 20 $cursor: Cursor $order: UnbanRequestsSortOrder = NEWEST $status: UnbanRequestStatus = PENDING $userID: ID ) {\nchannel(name: $channelLogin) {\nid\nunbanRequests(first: $limit after: $cursor options: { order: $order status: $status userID: $userID }) {\nedges {\ncursor\nnode {\n...unbanRequestFragment\n}\n}\npageInfo {\nhasNextPage\n}\ntotalCount(status: $status)\n}\nunbanRequestsSettings {\nisEnabled\ncooldownMinutes\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(197043).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.UnbanRequestsListCtx=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"UnbanRequestsListCtx")},394169:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CancelUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CancelUnbanRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelUnbanRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:145}};n.loc.source={body:"mutation CancelUnbanRequest($input: CancelUnbanRequestInput!) {\ncancelUnbanRequest(input: $input) {\nunbanRequest {\nid\nstatus\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.CancelUnbanRequest=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"CancelUnbanRequest")},555654:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateUnbanRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createUnbanRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:155}};n.loc.source={body:"mutation CreateUnbanRequest($input: CreateUnbanRequestInput!) {\ncreateUnbanRequest(input: $input) {\nunbanRequest {\nid\nstatus\ncreatedAt\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.CreateUnbanRequest=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"CreateUnbanRequest")},297512:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestModChatLogs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modChatLogs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}},{kind:"Argument",name:{kind:"Name",value:"includeTargetedActions"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"includeMessageCount"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"includeAutoModCaughtMessages"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestAutoModCaughtMessage"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestChatMessage"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestTargetedModAction"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestChatMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestAutoModCaughtMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoModCaughtMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modLogsMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestTargetedModAction"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsTargetedModActionsEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"details"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"details"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TargetedModActionDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}],loc:{start:0,end:1556}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery UnbanRequestModChatLogs($channelID: ID! $cursor: Cursor) {\nbadges {\n...badge\n}\nuser(id: $channelID) {\nid\nlogin\nbroadcastBadges {\n...badge\n}\n}\nchannel(id: $channelID) {\nid\nself {\nmodChatLogs(\nafter: $cursor\nfirst: 5\norder: DESC\nincludeTargetedActions: false\nincludeMessageCount: false\nincludeAutoModCaughtMessages: true\n) {\nedges {\nnode {\n...unbanRequestAutoModCaughtMessage\n...unbanRequestChatMessage\n...unbanRequestTargetedModAction\n}\ncursor\n}\n}\n}\n}\n}\n# fragment for chat message\nfragment unbanRequestChatMessage on ModLogsMessage {\nid\nsentAt\ncontent {\ntext\nfragments {\ntext\ncontent {\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\n}\n__typename\n}\n}\n__typename\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\nid\nsetID\nversion\n__typename\n}\n__typename\n}\n__typename\n}\n# fragment for chat message caught by automod\nfragment unbanRequestAutoModCaughtMessage on AutoModCaughtMessage {\nid\nstatus\nmodLogsMessage {\nid\nsentAt\ncontent {\ntext\nfragments {\ntext\ncontent {\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\n}\n__typename\n}\n}\n__typename\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\nid\nsetID\nversion\n}\n__typename\n}\n__typename\n}\n__typename\n}\nfragment unbanRequestTargetedModAction on ModLogsTargetedModActionsEntry {\nid\naction\ntimestamp\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\ndetails {\n...details\n}\n__typename\n}\nfragment details on TargetedModActionDetails {\nbannedAt\ndurationSeconds\nexpiresAt\nreason\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(982869).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.UnbanRequestModChatLogs=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"UnbanRequestModChatLogs")},67206:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LastUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeCanRequestUnban"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canRequestUnban"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeCanRequestUnban"}}}]}]},{kind:"Field",name:{kind:"Name",value:"lastUnbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolverMessage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unbanRequestRestriction"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeCanRequestUnban"}}}]}]}]}}]}}]}}],loc:{start:0,end:290}};n.loc.source={body:"query LastUnbanRequest($channelID: ID! $includeCanRequestUnban: Boolean!) {\nchannel(id: $channelID) {\nid\nself {\ncanRequestUnban @include(if: $includeCanRequestUnban)\nlastUnbanRequest {\nid\nstatus\ncreatedAt\nresolverMessage\n}\nunbanRequestRestriction @include(if: $includeCanRequestUnban)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.LastUnbanRequest=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"LastUnbanRequest")},197043:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requester"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requesterMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolverMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:211}};n.loc.source={body:"fragment unbanRequestFragment on UnbanRequest {\nid\ncreatedAt\nstatus\nrequester {\nid\nlogin\ndisplayName\nprofileImageURL(width: 50)\n}\nrequesterMessage\nresolvedAt\nresolverMessage\nresolvedBy {\nid\nlogin\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},881401:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestsSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unbanRequestsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cooldownMinutes"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:131}};n.loc.source={body:"query UnbanRequestsSettings($channelID: ID!) {\nchannel(id: $channelID) {\nid\nunbanRequestsSettings {\nisEnabled\ncooldownMinutes\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.UnbanRequestsSettings=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"UnbanRequestsSettings")},306269:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"1"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequestStatus"}},defaultValue:{kind:"EnumValue",value:"PENDING"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unbanRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestFragment"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:339}};i.loc.source={body:'#import "twilight/features/unban-requests/queries/unban-request-fragment.gql"\nquery UserUnbanRequest($channelID: ID! $userID: ID $limit: Int = 1 $status: UnbanRequestStatus = PENDING) {\nchannel(id: $channelID) {\nid\nunbanRequests(first: $limit options: { userID: $userID status: $status }) {\nedges {\nnode {\n...unbanRequestFragment\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(197043).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.UserUnbanRequest=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"UserUnbanRequest")},115412:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VerifyEmail_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:123}};n.loc.source={body:"query VerifyEmail_CurrentUser {\ncurrentUser {\nid\nhasPrime\ndisplayName\nemail\nisEmailVerified\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.VerifyEmail_CurrentUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"VerifyEmail_CurrentUser")},531917:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:186}};n.loc.source={body:"query VideoChatChannelAndVideoTrackingContext($videoCreatorID: ID $videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\nuser(id: $videoCreatorID) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.VideoChatChannelAndVideoTrackingContext=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"VideoChatChannelAndVideoTrackingContext")},623004:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndCommentCreatorAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentCreator"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},{kind:"Variable",name:{kind:"Name",value:"commentCreator"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:245}};n.loc.source={body:"query VideoChatChannelAndCommentCreatorAndVideoTrackingContext($videoCreatorID: ID! $commentCreator: ID! $videoID: ID) {\nusers(ids: [$videoCreatorID $commentCreator]) {\nid\nlogin\n}\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.VideoChatChannelAndCommentCreatorAndVideoTrackingContext=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"VideoChatChannelAndCommentCreatorAndVideoTrackingContext")},812828:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:117}};n.loc.source={body:"query VideoChatVideoTrackingContext($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.VideoChatVideoTrackingContext=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"VideoChatVideoTrackingContext")},60112:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChat_TrackingContext_VideoAndCurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:197}};n.loc.source={body:"query VideoChat_TrackingContext_VideoAndCurrentUser($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\nowner {\nid\nlogin\nroles {\nisPartner\n}\n}\n}\ncurrentUser {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.VideoChat_TrackingContext_VideoAndCurrentUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(n,"VideoChat_TrackingContext_VideoAndCurrentUser")},719746:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NewPollModalQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:301}};i.loc.source={body:'#import "twilight/features/polls/models/poll-settings-fragment.gql"\nquery NewPollModalQuery($id: ID!) {\nchannel: user(id: $id) {\nid\nlatestPoll {\nid\ndurationSeconds\nsettings {\n...pollSettings\n}\n}\ncheer {\nid\n}\n}\ncommunity: user(id: $id) {\nid\nchannel {\nid\ncommunityPointsSettings {\nname\nisEnabled\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(912004).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.NewPollModalQuery=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"NewPollModalQuery")},987876:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"tenure"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionTenure"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}],loc:{start:0,end:62}};n.loc.source={body:"fragment tenure on SubscriptionTenure {\ndaysRemaining\nmonths\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},19205:function(e,n,t){"use strict";t.d(n,{P6:function(){return d},pz:function(){return i}});var i,a=t(570655),r=t(294184),o=t(667294),s=t(392271);!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(i||(i={}));var l=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={hasPendingLoadMoreRequest:!1,loadedMore:!0},n.isTriggerVisible=function(e,n){var t=n.top,i=n.top+n.height;return!(e.bottom<t||e.top>i)},n.getOrientation=function(){return void 0===n.props.orientation?i.Up:n.props.orientation},n.setWrapRef=function(e){return n.wrapElement=e},n.setRef=function(e){return n.element=e},n}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.getOrientation(),n=r({"scrollable-trigger__trigger-area":!0,"scrollable-trigger__trigger-area--up":e===i.Up,"scrollable-trigger__trigger-area--down":e===i.Down}),t={height:this.props.pixelThreshold||100};return o.createElement("div",{className:"scrollable-trigger__wrapper",ref:this.setWrapRef},o.createElement("div",{className:n,ref:this.setRef,style:t}))},n.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.componentDidUpdate=function(e){return!e.enabled&&this.props.enabled&&this.props.requestVisibilityCheck(this),null},n.prototype.checkVisible=function(e,n,t){return(0,a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,o,s=this;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(void 0===t&&(t=this.props.requestCap||5),!(this.wrapElement&&this.element&&(this.state.loadedMore||this.props.forceLoadMoreContent)&&!this.state.hasPendingLoadMoreRequest&&this.props.enabled&&t>0))return[3,4];if(n=this.element.getBoundingClientRect(),i=this.props.contentLength,r=this.wrapElement.offsetTop,!this.isTriggerVisible(n,e))return[3,4];this.setState({hasPendingLoadMoreRequest:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.loadMore()];case 2:return a.sent(),this.setState({hasPendingLoadMoreRequest:!1}),requestAnimationFrame((function(){var n;s.element&&(n=void 0!==s.props.contentLength&&void 0!==i?s.props.contentLength>i:s.wrapElement.offsetTop>r,s.setState({loadedMore:n}),t&&(n||s.props.forceLoadMoreContent)&&s.checkVisible(e,void 0,t-1))})),[3,4];case 3:throw o=a.sent(),this.element&&this.setState({hasPendingLoadMoreRequest:!1}),o;case 4:return[2]}}))}))},n}(o.Component),d=(0,s.JX)((function(e){return{registerReceiver:e.registerReceiver,requestVisibilityCheck:e.requestVisibilityCheck}}))(l)},374670:function(e,n,t){"use strict";t.d(n,{lb:function(){return p},Ay:function(){return h},Yr:function(){return g},QQ:function(){return v}});var i=t(570655),a=t(667294),r=t(126858),o=t(106801),s=t(906704),l=t(508995),d=t(884979),u=t(622212),c=t(761026),m=(0,d.k)("IsStreamLiveContext",{broadcastID:void 0,isLive:!1,onStreamStatusChange:function(){},streamCreatedAt:void 0}),p=m.withContext,h=m.context,f=function(e){return e};function g(e){return p(f)(e)}var v=function(e){var n=e.channelID,t=a.useState({broadcastID:void 0,isLive:!1,onStreamStatusChange:function(e){d((function(n){return(0,i.__assign)((0,i.__assign)({},n),{isLive:e===u.E.Online})}))},streamCreatedAt:void 0}),s=t[0],d=t[1],m=s.broadcastID,p=s.isLive,f=s.streamCreatedAt,g=(0,r.P)(n?(0,l.Vg)(e.channelID):"",{skip:!n})[0],v=(0,o.aM)(c,{pollInterval:n?3e5:void 0,skip:!n||y(g)||!!(k(g)&&p&&m&&f),variables:{id:n}}),S=v.data,C=v.refetch;return a.useEffect((function(){var e;if(y(g)&&(m||p||f))d((function(e){return(0,i.__assign)((0,i.__assign)({},e),{broadcastID:void 0,isLive:!1,streamCreatedAt:void 0})}));else{if(k(g)&&!p)return d((function(e){return(0,i.__assign)((0,i.__assign)({},e),{isLive:!0})})),void C();var n=null===(e=null==S?void 0:S.user)||void 0===e?void 0:e.stream,t=null==n?void 0:n.id,a=null==n?void 0:n.createdAt;!y(g)&&t&&t!==m&&a&&a!==f&&d((function(e){return(0,i.__assign)((0,i.__assign)({},e),{broadcastID:t,isLive:!0,streamCreatedAt:a})}))}}),[m,S,p,g,C,f]),a.createElement(h.Provider,{value:s},e.children)};function y(e){return(null==e?void 0:e.type)===s.qU.ChannelStreamDown}function k(e){return(null==e?void 0:e.type)===s.qU.ChannelStreamUp}},615726:function(e,n,t){"use strict";t.d(n,{Q:function(){return o}});var i=t(570655),a=t(667294),r=t(63031);function o(e){return function(n){return function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(o,t),o.prototype.render=function(){return a.createElement(n,(0,i.__assign)({},e(this.props)))},o.displayName=(0,r.G)(o.name,n),o}(a.Component)}}},951255:function(e,n,t){"use strict";t.d(n,{vL:function(){return i},g4:function(){return a},yJ:function(){return r},mf:function(){return o},P0:function(){return s},jR:function(){return l}});var i=1e3,a=60*i,r=60*a,o=24*r,s=7*o,l=30*o},794562:function(e,n,t){"use strict";var i;t.d(n,{t:function(){return i}}),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(i||(i={}))},1208:function(e,n,t){"use strict";t.d(n,{G:function(){return a},S:function(){return i}});var i,a={Prime:"prime",Tier1:"1000",Tier2:"2000",Tier3:"3000",Custom:"Custom"};!function(e){e.Prime="prime",e.Tier1="1000",e.Tier2="2000",e.Tier3="3000",e.Custom="Custom"}(i||(i={}))},49320:function(e,n,t){"use strict";t.d(n,{S:function(){return s}});var i=t(570655),a=t(987145),r=t(901323),o=t(594870);function s(){return(0,a.TA)(o,{options:function(){return{variables:{withOwner:!0}}},props:function(e){if(e.data){var n=e.data.currentUser&&e.data.currentUser.emoteSets||[],t=n&&(0,r.Yj)(n);return{emoteSetsData:(0,i.__assign)((0,i.__assign)({},e.data),{currentUser:e.data.currentUser||null,emoteMap:t,emoteSets:n})}}return{}},skip:function(e){return!e.isLoggedIn}})}},685370:function(e,n,t){"use strict";function i(e){var n=[e[0],e[1],e[2]].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*n[0]+.7152*n[1]+.0722*n[2]}function a(e,n){var t=i(e)+.05,a=i(n)+.05;return t>a?t/a:a/t}function r(e,n){void 0===n&&(n=1);var t=e.match(/\w\w/g);if(t){var i=t.map((function(e){return parseInt(e,16)}));return"rgba("+i[0]+","+i[1]+","+i[2]+","+n+")"}return"rgba(0,0,0,"+n+")"}t.d(n,{$p:function(){return a},E9:function(){return r}})},901323:function(e,n,t){"use strict";t.d(n,{pv:function(){return i},UX:function(){return o},Yj:function(){return l}});var i,a=t(289738),r=t(274178);!function(e){e[e.Position=0]="Position",e[e.Token=1]="Token"}(i||(i={}));function o(e,n,t){var o,s,l=t.type===i.Position?n:e,d=t.map[l];if(d){var u=(o=e,s=d.id,{images:(0,r.u4)(s),alt:o,emoteID:s});return{type:a.S.Emote,content:u}}return null}var s={"\\:\\&gt\\;":[":>"],"\\&gt\\;\\(":[">("],"\\&lt\\;\\]":["<]"],"\\&lt\\;3":["<3"],":-?(?:7|L)":[":-7",":-L",":7",":L"],"[oO](_|\\.)[oO]":["o_o","O_O","o_O","O_o","o.o","O.O","o.O","O.o"],"\\;-?(p|P)":[";-p",";-P",";p",";P"],"\\;-?\\)":[";-)",";)"],"\\:-?(o|O)":[":-o",":-O",":o",":O"],"\\:-?(p|P)":[":-p",":-P",":p",":P"],"\\:-?(S|s)":[":-S",":-s",":s",":S"],"\\:-?[\\\\/]":[":-/",":-\\",":/",":\\"],"\\:-?[z|Z|\\|]":[":-|",":-Z",":-z",":|",":Z",":z"],"\\:-?\\(":[":-(",":("],"\\:-?\\)":[":-)",":)"],"\\:-?D":[":-D",":D"],"#-?[\\\\/]":["#-/","#-\\","#/","#\\"],"B-?\\)":["B-)","B)"],"R-?\\)":["R-)","R)"]};function l(e){for(var n={},t=0,i=e;t<i.length;t++){var a=i[t];if(a&&a.emotes)for(var r=0,o=a.emotes;r<o.length;r++){var l=o[r];if(l&&l.id&&l.token)for(var d=0,u=s[l.token]||[l.token];d<u.length;d++){var c=u[d];n[c]&&"0"===a.id||(n[c]={id:l.id,token:c,type:l.type})}}}return n}},443753:function(e,n,t){"use strict";t.d(n,{n:function(){return l}});var i=t(289738),a=new RegExp("(?:^|\\s)(?:https?://)?clips.twitch.tv/((?:\\w|_|-|=)+)(?:/)?(\\w+)?(?:/edit)?(?:$|\\s)?"),r=new RegExp("(?:^|\\s)(?:https?:\\/\\/)?(?:www\\.)?twitch\\.tv\\/(\\w+)\\/clip\\/((\\w|_|-|=)+)(?:$|\\s)?");var o=new RegExp("(?:^|\\s)(?:https?://)?(?:(?:www|go).)?twitch.tv/videos/(\\d+)(?:$|\\s)?");var s=/(?:(https?:\/\/)?((?:[\w#%\-+=:~]+\.)+[a-z]{2,10}(?:\/[\w./#%&@()\-+=:?~]*)?))/;function l(e,n){void 0===n&&(n={});var t=[],l=e.match(s);if(!l)return null;var d=l[0],u=e.indexOf(d);if(u>0){if("@"===e[u-1])return null;t.push({type:i.S.Text,content:e.slice(0,u)})}var c=l[1],m=l[2];(function(e){var n,t=e[e.length-1];if(")"!==t)return!1;n="(";for(var i=0,a=0,r=e.length-1;a<r;a++){var o=e[a];o===n?i++:o===t&&(i=Math.max(i-1,0))}return 0===i})(d)&&(d=d.slice(0,-1),m=m.slice(0,-1));var p=""+(c||"https://")+m;if(n.parseClips&&function(e){void 0===e&&(e="");var n=a.test(e)&&!e.includes("clips.twitch.tv/2017/"),t=r.test(e);return n||t}(p)){var h=function(e){void 0===e&&(e="");var n=e.match(a);if(n&&n.length>0&&void 0!==n.index)return n[1];var t=e.match(r);return t&&t.length>0&&void 0!==t.index?t[2]:""}(p);if("create"!==h)return t.push({type:i.S.ClipLink,content:{slug:h,url:p,displayText:d}}),t}if(n.parseVods&&function(e){return void 0===e&&(e=""),o.test(e)}(p)){var f=function(e){void 0===e&&(e="");var n=e.match(o);return null===n?"":n&&n.length>0&&void 0!==n.index?n[1]:""}(p);return t.push({type:i.S.VideoLink,content:{id:f,url:p,displayText:d}}),t}return t.push({type:i.S.Link,content:{displayText:d,url:p}}),u+d.length<e.length&&t.push({type:i.S.Text,content:e.slice(u+d.length,e.length)}),t}},765256:function(e,n,t){"use strict";t.d(n,{TC:function(){return v},SG:function(){return p}});var i=t(539073),a=t(289738),r=t(901323),o=t(570655),s=t(38339);var l=t(443753),d=t(137147),u=t(491528),c=/^(['"*([{</]*)(@?)((?:[^\u0000-\u007F]|[\w-])+)/;function m(e,n){if(!n)return!1;var t=n.displayName,i=n.login;return e===t||e.toLowerCase()===i}function p(e,n){void 0===n&&(n={});for(var t,i=(t=/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g,e.match(t)||[]),r=function(e){if(!e)return[];var n=e.list.filter((function(n){return n.categories[s.b.Aggressive]&&e.preferences[s.b.Aggressive]||n.categories[s.b.Identity]&&e.preferences[s.b.Identity]||n.categories[s.b.Profanity]&&e.preferences[s.b.Profanity]||n.categories[s.b.Sexual]&&e.preferences[s.b.Sexual]}));return 0===n.length?n:(n.sort((function(e,n){return e.startIndex-n.startIndex})),n.reduce((function(e,n,t){if(0===t)return e.push(n),e;var i=e[e.length-1];return n.startIndex<=i.endIndex+1?(i.endIndex=Math.max(n.endIndex,i.endIndex),i.categories=(0,o.__assign)((0,o.__assign)({},i.categories),n.categories)):e.push(n),e}),[]))}(n.flags),l=0,d=[];l<i.length;){var u=r&&r.shift();u?(d.push.apply(d,h(i.slice(l,u.startIndex),l,n)),d.push({type:a.S.FlaggedSegment,categories:u.categories,content:f(h(i.slice(u.startIndex,u.endIndex+1),u.startIndex,n)),length:u.endIndex-u.startIndex+1,originalText:i.slice(u.startIndex,u.endIndex+1).join("")}),l=u.endIndex+1):(d.push.apply(d,h(i.slice(l),l,n)),l=i.length)}return f(d)}function h(e,n,t){void 0===t&&(t={});var o=t.cheers,s=t.emotes,p=t.links,h=t.mentions,f="",v=0;return e.reduce((function(t,y,k){if(g(y))return f="",t;if(0===f.length&&(v=n+k),f+=y,k<e.length-1&&function(e){return/[.,!]/.test(e)}(e[k+1]))return(S=s&&(0,r.UX)(f,v,s))?(f="",t.concat(S)):t;if(k===e.length-1||g(e[k+1])){var S;if(S=s&&(0,r.UX)(f,v,s))return t.concat(S);var C=o&&(0,i.DR)(f,o);if(C)return t.concat(C);var b=p&&(0,l.n)(f,p);if(b)return t.concat([b]);var w=h&&function(e,n){var t=e.match(c);if(!t)return null;var i=[],r=t[1],o=Boolean(t[2].length),s=t[3],l=e.slice(t[0].length);if(r.length&&i.push((0,u.H)(r)),o){var p=d.K.Default;m(s,n.sessionUser)?p=d.K.Recipient:n.sessionUser&&n.sessionUser.login===n.senderLogin&&(p=d.K.Sender),i.push({type:a.S.Mention,content:{recipient:s,currentUserMentionRelation:p}})}else{if(!m(s,n.sessionUser))return null;i.push({type:a.S.CurrentUserHighlight,content:s})}return l.length&&i.push((0,u.H)(l)),i}(f,h);return w?t.concat([w]):t.concat((0,u.H)(f))}return t}),[])}function f(e){return e.reduce((function(e,n,t){return 0===t?[].concat.call(e,n):[].concat.call(e,(0,u.H)(" "),n)}),[]).reduce((function(e,n,t){if(0===t)return e.concat(n);var i=e[e.length-1];return n.type===a.S.Text&&i.type===a.S.Text?(i.content=""+i.content+n.content,e):e.concat(n)}),[])}function g(e){return/\s/.test(e)}function v(e){return e.map((function(e){switch(e.type){case a.S.Emote:return{__typename:"MessageFragment",content:{__typename:"Emote",emoteID:e.content.emoteID||"",token:e.content.alt||"",setID:""},text:e.content.alt||""};default:return{__typename:"MessageFragment",content:null,text:e.content.toString()}}}))}},491528:function(e,n,t){"use strict";t.d(n,{H:function(){return a}});var i=t(289738);function a(e){return{type:i.S.Text,content:e}}},592407:function(e,n,t){"use strict";function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}t.d(n,{h:function(){return i}})},548225:function(e,n,t){"use strict";t.d(n,{VA:function(){return m},$u:function(){return p},zO:function(){return h},zk:function(){return f},AE:function(){return i},EU:function(){return a},Nw:function(){return r},$$:function(){return g},y7:function(){return v},IP:function(){return y},oo:function(){return k},gi:function(){return S},O7:function(){return C},dk:function(){return b},h3:function(){return w},yh:function(){return E},U4:function(){return _},LL:function(){return N},qq:function(){return D},G0:function(){return M},vr:function(){return I},iy:function(){return P},OT:function(){return R},cx:function(){return A}});var i,a,r,o,s=t(517563),l=t(831642),d=t(128416),u=t(673271),c=t(146085),m="sort",p="filter",h="range",f="category";function g(e,n,t,i){var r=i||v(n),o="";r&&(o="?"+m+"="+function(e){switch(e){case d.NfQ.VIEWS:return a.Popular;default:return a.Newest}}(r));var s=t?t.toLowerCase():function(e){var n=y(e);return n?n.toLowerCase():"all"}(n);l.$6.history.push(e+"/"+s+o)}function v(e){var n=s.Qc(e.location.search);return(0,u.dA)(n.sort||"")}function y(e){switch(e.match.params.filter){case d.G7F.ARCHIVE.toLowerCase():return d.G7F.ARCHIVE;case d.G7F.HIGHLIGHT.toLowerCase():return d.G7F.HIGHLIGHT;case d.G7F.UPLOAD.toLowerCase():return d.G7F.UPLOAD;case d.G7F.PAST_PREMIERE.toLowerCase():return d.G7F.PAST_PREMIERE;default:return}}function k(e){var n=s.Qc(e.location.search);return e.match.params.collectionID||n.collection||null}function S(e){return""===e?"":e.startsWith("v")?e:"v"+e}function C(e){var n=(0,c.kp)(e,h);if(!n)return null;switch(n.toLowerCase()){case i.All:return i.All;case i.Day:return i.Day;case i.Week:return i.Week;case i.Month:return i.Month;default:return null}}function b(e){var n=(0,c.kp)(e,m);if(!n)return null;switch(n.toLowerCase()){case a.Newest:return a.Newest;case a.Popular:return a.Popular;default:return null}}function w(e){var n=(0,c.kp)(e,p);if(!n)return null;switch(n.toLowerCase()){case r.Clips:return r.Clips;case r.Collections:return r.Collections;case r.Highlights:return r.Highlights;case r.PastBroadcasts:return r.PastBroadcasts;case r.Uploads:return r.Uploads;case r.All:return r.All;default:return null}}function E(e){return(0,c.kp)(e,f)}function _(e,n,t){return!n&&t?e?"/"+e+"/"+o.Collection+"/"+t:"/collections/"+t:e?"/"+e+"/"+o.Video+"/"+n+(t?"?collection="+t:""):"/videos/"+n+(t?"?collection="+t:"")}function N(e,n,t){var i="/"+e,a=function(e){return e.match.params.contentType===o.Video&&e.match.params.contentID||e.match.params.videoID||null}(n),l=function(e){return e.match.params.contentType===o.Clip&&e.match.params.contentID||null}(n),d=P(n),u=s.Qc(n.location.search).collection;if(i=a?i.concat("/"+o.Video+"/"+a+(u?"?collection="+u:"")):l?i.concat("/"+o.Clip+"/"+l):d&&!u?i.concat("/"+o.Collection+"/"+d):t&&t.filter===r.Clips?i.concat("/clips"):i.concat("/videos"),t){var c=T(t);if(Object.keys(c).length>0)return u?i+"&"+s.Pz(c):i+"?"+s.Pz(c)}return M(e,t)}function D(e,n){var t="/collections/"+e,i=T(s.Qc(n.location.search));return Object.keys(i).length>0?t+"?"+s.Pz(i):t}function M(e,n){var t="/"+e+"/videos";if(n){var i=T(n);if(Object.keys(i).length>0)return t+"?"+s.Pz(i)}return t}function I(e){return"/"+e+"/videos/edit"}function T(e){var n={};return e.category&&(n[f]=e.category),e.sort&&(n[m]=e.sort),e.filter&&(n[p]=e.filter),e.range&&(n[h]=e.range),n}function P(e){var n=s.Qc(location.search);return e.match.params.contentType===o.Collection&&e.match.params.contentID||e.match.params.collectionID||n.collection||null}function R(e){var n=s.Qc(e.location.search);return e.match.params.categoryID||n.category||null}function A(e){switch(e){case i.All:return d.hIh.ALL_TIME;case i.Day:return d.hIh.LAST_DAY;case i.Week:return d.hIh.LAST_WEEK;case i.Month:return d.hIh.LAST_MONTH;default:return e}}!function(e){e.All="all",e.Month="30d",e.Week="7d",e.Day="24hr"}(i||(i={})),function(e){e.Popular="views",e.Newest="time"}(a||(a={})),function(e){e.Clips="clips",e.Collections="collections",e.Highlights="highlights",e.PastBroadcasts="archives",e.Uploads="uploads",e.All="all",e.Featured="featured"}(r||(r={})),function(e){e.Video="video",e.Clip="clip",e.Collection="collection"}(o||(o={}))},754482:function(e,n,t){"use strict";t.d(n,{_d:function(){return l}});var i=t(570655),a=t(831642),r=t(797425),o="Content-Type",s="application/json; charset=UTF-8",l=function(){function e(){}return e.get=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,(0,i.__assign)((0,i.__assign)({},n),{method:"GET"}),t)];case 1:return[2,a.sent()]}}))}))},e.getOrThrow=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,(0,i.__assign)((0,i.__assign)({},n),{method:"GET"}),t)];case 1:return[2,a.sent()]}}))}))},e.put=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,(0,i.__assign)((0,i.__assign)({},n),{method:"PUT"}),t)];case 1:return[2,a.sent()]}}))}))},e.putOrThrow=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,(0,i.__assign)((0,i.__assign)({},n),{method:"PUT"}),t)];case 1:return[2,a.sent()]}}))}))},e.post=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,(0,i.__assign)((0,i.__assign)({},n),{method:"POST"}),t)];case 1:return[2,a.sent()]}}))}))},e.postOrThrow=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,(0,i.__assign)((0,i.__assign)({},n),{method:"POST"}),t)];case 1:return[2,a.sent()]}}))}))},e.delete=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,(0,i.__assign)((0,i.__assign)({},n),{method:"DELETE"}),t)];case 1:return[2,a.sent()]}}))}))},e.deleteOrThrow=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,(0,i.__assign)((0,i.__assign)({},n),{method:"DELETE"}),t)];case 1:return[2,a.sent()]}}))}))},e.request=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){var a,r,s,l;return(0,i.__generator)(this,(function(d){switch(d.label){case 0:return n=this.constructOptions(n,t),a=n.headers?n.headers[o]:void 0,r=this.serialize(n.body,a),s=(0,i.__assign)((0,i.__assign)({},n),{body:r}),[4,this._fetch(e,s)];case 1:return l=d.sent(),[4,this.constructLegacyAPIResponse(l)];case 2:return[2,d.sent()]}}))}))},e.requestOrThrow=function(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,Promise,(function(){var a;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.request(e,n,t)];case 1:if((a=r.sent()).requestError)throw a.requestError;if(a.error)throw new Error("Error while sending legacy-api request: "+a.error.status+" - "+a.error.message);return[2,(0,i.__assign)((0,i.__assign)({},a),{body:a.body})];case 2:throw r.sent();case 3:return[2]}}))}))},e.getAPIURL=function(e){return new URL(e,a.$6.config.apiBaseURL)},e.constructLegacyAPIResponse=function(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,a,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n={status:e.status},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return t=i.sent(),e.ok?n.body=t:n.error=t,[3,4];case 3:return a=i.sent(),e.headers&&e.headers.get&&(r=e.headers.get(o))&&-1!==r.indexOf("application/json")&&(n.requestError=a),[3,4];case 4:return[2,n]}}))}))},e._fetch=function(e,n){return void 0===n&&(n={}),(0,i.__awaiter)(this,void 0,Promise,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch(this.getAPIURL(e).toString(),n)];case 1:return[2,t.sent()]}}))}))},e.constructOptions=function(e,n){return e=Object.assign({},e,{headers:(0,i.__assign)((0,i.__assign)({},this.getDefaultHeaders(e,n)),e.headers)})},e.serialize=function(e,n){return n===s?JSON.stringify(e):"string"==typeof e||e&&FormData.prototype.isPrototypeOf(e)?e:e?(this.logger.errorAndReport(new Error("Could not serialize this request body for the content-type provided."),"attempting to serialize object with a non-JSON content-type",{contentType:n}),null):null},e.getDefaultHeaders=function(e,n){var t=a.$6.store.getState(),i={Accept:"application/vnd.twitchtv.v"+(n.version||5)+"+json; charset=UTF-8","Accept-Language":"en-us","Client-ID":a.$6.config.authSettings.clientID,"X-Device-Id":a.$6.session.deviceID,"X-Requested-With":"XMLHttpRequest"};e.body&&FormData.prototype.isPrototypeOf(e.body)||(i[o]=s);var l=(0,r.PR)(t);return l&&(i.Authorization="OAuth "+l.authToken,l.legacyCSRFToken&&(i["Twitch-Api-Token"]=l.legacyCSRFToken)),n.excludeHeaders&&n.excludeHeaders.forEach((function(e){i[e]&&delete i[e]})),i},e.logger=a.$6.logger.withCategory("legacy-api"),e}()},532210:function(e,n,t){"use strict";t.d(n,{J:function(){return u}});var i=t(667294),a=t(734995),r=t(270406),o=t(58661),s=t(150125),l=t(255687),d=t(831642),u=function(){return i.createElement(a.A,{fullHeight:!0,fullWidth:!0,padding:{y:5}},i.createElement(a.A,{display:r.sS.Flex,justifyContent:r.uM.Center,textAlign:r.PH.Center},i.createElement(o.V,{type:s.yG.H4,fontSize:r.Bf.Size4,bold:!0},(0,d.wv)("Hang in there...","ActivityFeed"))),i.createElement(a.A,{justifyContent:r.uM.Center,display:r.sS.Flex,margin:{top:1}},i.createElement(a.A,{flexGrow:0,display:r.sS.Inline,margin:"auto",textAlign:r.PH.Center},i.createElement(o.V,{type:s.yG.P,fontSize:r.Bf.Size5},(0,d.wv)("We are loading your activity","ActivityFeed")))),i.createElement(a.A,{display:r.sS.Flex,justifyContent:r.uM.Center,margin:{top:2}},i.createElement(l.T,null)))}},376467:function(e,n,t){"use strict";t.d(n,{hB:function(){return y}});var i=t(570655),a=t(667294),r=t(296118),o=t(734995),s=t(784395),l=t(928185),d=t(246797),u=t(270406),c=t(58661),m=t(150125),p=t(731110),h=t(831642),f=t(392271),g=t(469419),v="autocomplete-match-list-matches",y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={},n.resizeAnimationFrame=0,n.disableMouse=!1,n.messages={noMatches:(0,h.wv)("No matches.","AutocompleteBalloon")},n.logger=h.kg.withCategory("AutocompleteMatchList"),n.renderMatches=function(){var e=new Set,t=[];return n.groupMatches().forEach((function(i,l){var d=i.group;d&&!e.has(d)&&(0!==l&&t.push(a.createElement(r.W,{key:"autocomplete-separator-"+l})),t.push(a.createElement(o.A,{key:"autocomplete-heading-"+l,padding:{x:.5}},a.createElement(s.f,null,d))),e.add(d)),t.push(n.renderMatchListItem(i,l))})),t},n.renderMatchListItem=function(e,t){var i=n.state.selectedMatch,r=i&&i.replacement===e.replacement;return a.createElement(o.A,{"data-test-selector":v,key:"autocomplete-match-"+t,ref:r?n.focusOnOption:void 0},a.createElement(l.RM,{borderRadius:d.c.Small,"data-a-target":e.replacement,"data-click-index":t,hover:r,onClick:n.onMatchClick,onMouseEnter:n.handleMatchMouseEnter,type:l.x8.Alpha},a.createElement(o.A,{alignItems:u.g1.Center,display:u.sS.Flex,padding:{x:.5}},e.element)))},n.handleMatchMouseEnter=function(e){if(!n.disableMouse){var t=n.getMatchFromEvent(e);t&&n.setState({selectedMatch:t})}},n.onMatchClick=function(e){var t=n.getMatchFromEvent(e);t&&n.props.onMatchSelect(t)},n.getMatchFromEvent=function(e){var t=n.groupMatches(),i=e.currentTarget.getAttribute("data-click-index");return!i||+i>=t.length?(n.logger.errorAndReport(new Error,"The index received from the UI element was not found in props.matches."),null):t[+i]},n.handleKeydown=function(e){var t=e.charCode||e.keyCode,i=function(){e.preventDefault(),e.stopPropagation()};switch(n.disableMouse=!0,t){case g.m.Tab:case g.m.Enter:i(),n.props.matches.length&&n.state.selectedMatch?n.props.onMatchSelect(n.state.selectedMatch,e.altKey):n.props.onDismiss();break;case g.m.Up:case g.m.Down:if(!n.state.selectedMatch||!n.props.matches.length)return;var a=n.groupMatches(),r=a.indexOf(n.state.selectedMatch);if(-1===r)return void n.logger.errorAndReport(new Error,"The selected match was not found in props.matches.");i();var o=t===g.m.Up?-1:1,s=a[n.getIndexWithinLength(r+o,n.props.matches.length)];n.setState({selectedMatch:s})}},n.groupMatches=function(){for(var e={},t=0,i=n.props.matches;t<i.length;t++){var a=i[t];(d=e[l=a.group||"undefined"]||[]).push(a),e[l]=d}for(var r=[],o=0,s=Object.keys(e).sort(n.sortGroups);o<s.length;o++){var l,d;(d=e[l=s[o]])&&r.push.apply(r,d)}return r},n.sortGroups=function(e,n){return"undefined"===e?1:"undefined"===n?-1:e>n?1:e<n?-1:0},n.getIndexWithinLength=function(e,n){var t=e%n;return t<0?t+n:t},n.onResize=function(){n.resizeAnimationFrame||(n.resizeAnimationFrame=requestAnimationFrame(n.setContainerHeight))},n.setContainerHeight=function(){var e=n.props.containerElement&&n.props.containerElement.clientHeight||1080;n.scrollableArea&&n.scrollableArea.root&&(n.scrollableArea.root.style.maxHeight=e+"px"),n.resizeAnimationFrame=0},n.focusOnOption=function(e){if(e&&n.AutocompleteMatchListElement){var t=e.getBoundingClientRect(),i=n.AutocompleteMatchListElement.getBoundingClientRect();t.bottom>i.bottom&&e.scrollIntoView(!1),t.top<i.top&&e.scrollIntoView()}},n.onMouseMove=function(){n.disableMouse=!1},n.setAutocompleteMatchListElement=function(e){n.AutocompleteMatchListElement=e},n.setScrollableAreaRef=function(e){return n.scrollableArea=e},n}return(0,i.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){var t=e.matches.reduce((function(e,t,i){return n.selectedMatch?t.replacement===n.selectedMatch.replacement?i:e:0}),0);return{selectedMatch:e.matches[t]}},n.prototype.componentDidMount=function(){window.addEventListener("keydown",this.handleKeydown,!0),window.addEventListener("resize",this.onResize,!0),window.addEventListener("mousemove",this.onMouseMove,!0),this.setContainerHeight(),this.props.matches.length>0&&this.setState({selectedMatch:this.props.matches[0]})},n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),window.removeEventListener("keydown",this.handleKeydown,!0),window.removeEventListener("mousemove",this.onMouseMove,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},n.prototype.render=function(){var e;return e=0===this.props.matches.length?a.createElement(o.A,{padding:{x:.5},"data-test-selector":"autocomplete-match-list-no-matches"},a.createElement(c.V,{type:m.yG.Span,color:u.Il.Alt2},this.messages.noMatches)):this.renderMatches(),a.createElement(o.A,{position:u.Ly.Relative,padding:{top:.5,x:.5}},a.createElement(p.o,{"data-test-selector":"autocomplete-matches-container",className:"autocomplete-match-list",overflow:u.nP.Hidden,display:u.sS.Flex,flexDirection:u.Qb.Column},a.createElement("div",{ref:this.setAutocompleteMatchListElement},a.createElement(f._q,{suppressScrollX:!0,scrollRef:this.setScrollableAreaRef},a.createElement(o.A,null,this.props.header,e)))))},n}(a.Component)},916306:function(e,n,t){"use strict";t.d(n,{Kc:function(){return i},hT:function(){return p},$f:function(){return f}});var i,a=t(570655),r=t(667294),o=t(400054),s=t(104086),l=t(469419),d=t(884979),u=t(5021),c=t(36141);!function(e){e.InputComponent="input",e.TextAreaComponent="textarea"}(i||(i={}));var m=(0,d.k)("Autocomplete",{registerAutocompleteProvider:function(){return function(){return null}}}),p=m.withContext,h=m.context,f=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={autocompleteType:u.J.None,matchedCursorPosition:0,matches:null,value:""},n.providers=[],n.contextForChildren={registerAutocompleteProvider:n.registerAutocompleteProvider.bind(n)},n.onChange=function(e){n.setState({value:e.target.value},(function(){n.getMatches()})),n.props.onChange&&n.props.onChange(e)},n.onKeyDown=function(e){var t=function(){n.props.onKeyDown&&n.props.onKeyDown(e)},i=function(){e.preventDefault(),e.stopPropagation()},a=e.charCode||e.keyCode;if(a!==l.m.Enter){switch(a){case l.m.Tab:if(!n.state.matches)n.getMatches(!0)&&i();break;case l.m.Esc:n.state.matches&&(i(),n.resetDisplayState())}t()}else t()},n.setComponentRefDelegate=function(e){n.componentRef=e,n.props.componentRefDelegate&&n.props.componentRefDelegate(e)},n.getMatches=function(e){var t=n.state.value;if(0===n.providers.length||0===t.length)return n.resetDisplayState(),!1;var i=n.getCurrentCursorPosition();if(i>t.length);else for(;i<t.length&&!/\s/.test(t.charAt(i));)i++;var a=t.substring(0,i);if(0===a.length||/\s/.test(a.substring(a.length-1)))return n.resetDisplayState(),!1;for(var r=a.split(/\s/),o=r.length-1,s=r[o],l=0,d=n.providers;l<d.length;l++){var u=d[l];if(!e||u.canBeTriggeredByTab){var c=u.getMatches(s,e,o);if(c)return n.props.onMatch&&n.props.onMatch(c,n.insertReplacement,n.resetDisplayState),n.setState({autocompleteType:u.autocompleteType,matchedCursorPosition:i,matches:c}),!0}}return n.resetDisplayState(),!1},n.resetDisplayState=function(e,t){n.props.onReset&&n.props.onReset();var i=(0,a.__assign)((0,a.__assign)((0,a.__assign)({},n.state),{autocompleteType:u.J.None,matches:null}),e||{});n.setState(i,t)},n.insertReplacement=function(e){var t,i=n.state.value,r=n.state.matchedCursorPosition,o=i.substring(0,r),s=o.lastIndexOf(e.current);if(-1===s)o=o.concat(e.replacement+" "),r=o.length;else{var l=o.substring(0,s),d=i.length>s+e.current.length?i.substring(s+e.current.length):"",u=d.startsWith(" ")?e.replacement:e.replacement+" ";o=""+l+u+d;var m=n.getNextCursorSelection(l,u,d,e);r=m.start,t=m.end}(0,c.c)((0,a.__assign)((0,a.__assign)({},n.props.trackingParams||{}),{autocompleteType:n.state.autocompleteType,completedText:e.replacement,source:n.props.suggestionSource,usedReplySuggestion:!1})),n.resetDisplayState({value:o},(function(){n.setCursorSelection(r,t)}))},n.getCurrentCursorPosition=function(){var e;return(null===(e=n.componentRef)||void 0===e?void 0:e.selectionStart)||0},n.getNextCursorSelection=function(e,n,t,i){var a=e.length+n.length;if(i.selection){var r=n.indexOf(i.selection);return{start:e.length+r,end:t.startsWith(" ")?a:a-1}}return{start:a,end:a}},n.setCursorSelection=function(e,t){n.componentRef&&(n.componentRef.setSelectionRange(e,t||e),n.componentRef.focus())},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.refDelegate&&this.props.refDelegate(this)},n.prototype.componentDidUpdate=function(e,n){n.value!==this.state.value&&this.props.onValueUpdate&&this.props.onValueUpdate(this.state.value),!n.matches&&this.state.matches&&(0,c.K)({autocompleteType:this.state.autocompleteType,source:this.props.suggestionSource})},n.prototype.render=function(){var e=(0,a.__assign)((0,a.__assign)({},this.props),{onChange:this.onChange,onKeyDown:this.onKeyDown,refDelegate:this.setComponentRefDelegate,value:this.state.value});return r.createElement(h.Provider,{value:this.contextForChildren},this.props.componentType===i.InputComponent?r.createElement(o.II,(0,a.__assign)({},e,{type:e.type||o.n$.Text})):r.createElement(s.K,(0,a.__assign)({},e,{autoComplete:e.htmlAutocomplete})),this.props.children)},n.prototype.getValue=function(){return this.state.value},n.prototype.setValue=function(e){this.resetDisplayState({value:e})},n.prototype.registerAutocompleteProvider=function(e){var n=this;return this.providers.push(e),function(){var t=n.providers.indexOf(e);n.providers.splice(t,1)}},n}(r.Component)},140436:function(e,n,t){"use strict";t.d(n,{O:function(){return y}});var i=t(570655),a=t(667294),r=t(137703),o=t(14890),s=t(408892),l=t(734995),d=t(58661),u=t(150125),c=t(592407),m=t(523094),p=t(916306),h=t(5021),f=t(719689),g=t(823955),v=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.autocompleteType=h.J.Emote,n.canBeTriggeredByTab=!1,n.hydrateEmotes=(0,s.M)((function(e,n,t){for(var i=[],a=0,r=e;a<r.length;a++){var o=r[a];o&&o.id&&o.emotes&&i.push({id:o.id,emotes:(0,g.j8)(o.emotes,n,t)})}return i})),n.getMatches=function(e){return e.startsWith(":")?e.length<3?null:n.getMatchedEmotes(e):null},n.getMatchedEmotes=function(e){var t=n.hydrateEmotes(n.props.emotes,n.props.isEmoteAnimationsEnabled,n.props.theme);if(!t||0===t.length)return null;var i=e.substring(1),a=t.reduce((function(e,t){var a=t.emotes.filter((function(e){return n.doesEmoteMatchTerm(e,i)}));return e.concat(a)}),[]);return a=(0,g.Oe)(a),(a=(0,g.Eg)(a,i)).map((function(e){return{type:h.J.Emote,current:":"+i,replacement:e.token,element:n.renderEmoteSuggestion(e)}}))},n.doesEmoteMatchTerm=function(e,n){var t=new RegExp("^"+(0,c.h)(n),"i");if(e.token.match(t))return!0;for(var i=new RegExp(""+(0,c.h)(n.charAt(0)).toUpperCase(),"g"),a=new RegExp("^"+(0,c.h)(n.slice(1)),"i"),r=0,o=Array.from(e.token.matchAll(i));r<o.length;r++){var s=o[r];if(s.index&&e.token.slice(s.index+1).match(a))return!0}return!1},n.renderEmoteSuggestion=function(e){return[a.createElement(l.A,{padding:.5,flexShrink:0,key:"emote-img-"+e.id},a.createElement("img",{alt:e.token+"-emote",className:"emote-autocomplete-provider__image",srcSet:e.srcSet})),a.createElement(d.V,{type:u.yG.Span,key:"emote-text-"+e.id,ellipsis:!0},e.token)]},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.render=function(){return null},n}(a.Component);var y=(0,o.qC)((0,r.$j)((function(e){return{theme:(0,m.zv)(e)}})),(0,p.hT)((function(e){return e})),(0,f.Im)((function(e){return{isEmoteAnimationsEnabled:e.value}})))(v)},428331:function(e,n,t){"use strict";t.d(n,{p:function(){return i},m:function(){return a}});var i={Chat:"chat",Feed:"feed",Whisper:"whisper"},a={Command:"/",Emote:":",Hashtag:"#",Mention:"@",Tab:"Tab",Whisper:"/w"}},5021:function(e,n,t){"use strict";var i;t.d(n,{J:function(){return i}}),function(e){e.Command="command",e.Emote="emote",e.Mention="mention",e.Hashtag="hashtag",e.None="none"}(i||(i={}))},36141:function(e,n,t){"use strict";t.d(n,{K:function(){return l},c:function(){return d}});var i=t(831642),a=t(742407),r=t(428331),o=t(5021),s=function(e){switch(e){case o.J.Command:return r.m.Command;case o.J.Emote:return r.m.Emote;case o.J.Hashtag:return r.m.Hashtag;case o.J.Mention:return r.m.Mention;default:return void i.kg.warn("Chat Suggestions tracking was passed an unknown autocomplete type.")}},l=function(e){var n=s(e.autocompleteType);if(n){var t={source:e.source,start_character:n};i.UO.track(a.N.ChatSuggestion,t)}},d=function(e){var n=s(e.autocompleteType);if(n){var t={channel:e.channelLogin,completed_text:e.completedText,source:e.source,start_character:n,used_reply_suggestion:e.usedReplySuggestion};i.UO.track(a.N.ChatSuggestionComplete,t)}}},283140:function(e,n,t){"use strict";t.d(n,{k:function(){return s}});var i=t(667294),a=t(99274),r=t(624316),o="broadcaster",s=function(e){var n=e.badgesToRender,t=e.badgeSets,s=e.hideBroadcasterTooltip,l=e.tabbable;if(!n)return null;var d,u=[];d=n,Array.isArray(d)?u=n.map((function(n){var d=t.getBadge(n.setID,n.version);return null===d?null:e.usesSchemaBadges?i.createElement(a.Ct,{key:d.setID+"/"+d.version,schemaBadge:d,tabbable:l,hideTooltip:d.setID===o&&s,overrideClick:e.overrideBadgeClickHandler,uiContext:r.Y.ChatBadgeList,channelID:e.channelID}):i.createElement(a.Ct,{key:d.setID+"/"+d.version,badge:d,tabbable:l,hideTooltip:d.setID===o&&s,overrideClick:e.overrideBadgeClickHandler,uiContext:r.Y.ChatBadgeList,channelID:e.channelID})})):function(e){return!Array.isArray(e)}(n)&&(u=Object.keys(n).map((function(d){var u=n[d],c=t.getBadge(d,u);if(null===c)return null;var m=e.dynamicData&&e.dynamicData[c.setID];return e.usesSchemaBadges?i.createElement(a.Ct,{key:c.setID+"/"+c.version,schemaBadge:c,dynamicData:m,tabbable:l,hideTooltip:c.setID===o&&s,overrideClick:e.overrideBadgeClickHandler,uiContext:r.Y.ChatBadgeList,channelID:e.channelID}):i.createElement(a.Ct,{key:c.setID+"/"+c.version,badge:c,dynamicData:m,tabbable:l,hideTooltip:c.setID===o&&s,overrideClick:e.overrideBadgeClickHandler,uiContext:r.Y.ChatBadgeList,channelID:e.channelID})})));var c=u.filter((function(e){return null!==e}));return i.createElement("span",null,c)};s.displayName="BadgeList"},99274:function(e,n,t){"use strict";t.d(n,{Ct:function(){return b}});var i=t(570655),a=t(294184),r=t(667294),o=t(734995),s=t(270406),l=t(680176),d=t(687837),u=t(175424),c=t(831642),m=t(128416),p=t(952743),h=t(191881),f=t(437115),g=t(731332);var v=t(624316),y=t(623114),k=t(702738),S=t(210631),C="https://www.twitch.tv/products/turbo?ref=chat_badge",b=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isHovering:!1},n.primeReferralID="",n.onMouseOver=function(){n.setState({isHovering:!0})},n.onMouseOut=function(){n.setState({isHovering:!1})},n.onBadgeClickHandler=function(e){var t,i=n.props.badge||n.props.schemaBadge,a=(null==i?void 0:i.title)||"";if(i)switch(n.props.overrideClick&&n.props.overrideClick(i,e),(0,k.lS)(i.version)){case k.ny.TIER_2:a+="_flaired_tier_2";break;case k.ny.TIER_3:a+="_flaired_tier_3"}(0,v.q)({badge_type:a,badge_url_target:n.targetURL,ui_context:n.props.uiContext,channel_id:null!==(t=n.props.channelID)&&void 0!==t?t:""})},n.onPrimeBadgeClickHandler=function(e){(0,S.VV)({tp_refcode:n.primeReferralID,medium:p.bn.Chat,content:p.d8.CrownBadge,tp_campaign:S.F1.TrackingAlpha}),n.onBadgeClickHandler(e)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.schemaBadge||this.props.badge,n=e&&function(e,n){if(!n)return e.title;var t=Number(n)||0;if("subscriber"===e.setID){var i=Number(e.version)||0;return t>0?0===i?(0,c.wv)("{tenure}-Month Subscriber",{tenure:String(t)},"DynamicBadgeTitles"):(0,c.wv)("{tenure}-Month Subscriber ({title} Badge)",{tenure:String(t),title:(0,g.TC)(i)},"DynamicBadgeTitles"):(0,c.wv)("Subscriber","DynamicBadgeTitles")}return"founder"===e.setID?t>0?(0,c.wv)("Founder, {tenure}-Month Subscriber",{tenure:String(t)},"DynamicBadgeTitles"):(0,c.wv)("Founder","DynamicBadgeTitles"):"predictions"===e.setID?(0,c.wv)('Predicted "{outcome}"',{outcome:n},"DynamicBadgeTitles"):e.title}(e,this.props.dynamicData)||"",t=this.props.schemaBadge?this.props.schemaBadge.version:this.props.badge&&this.props.badge.version||"",i=this.props.schemaBadge?this.props.schemaBadge.setID:this.props.badge&&this.props.badge.setID||"",m=this.props.schemaBadge?this.props.schemaBadge.image1x:this.props.badge&&this.props.badge.image1x||"",p=this.props.schemaBadge?this.props.schemaBadge.image2x:this.props.badge&&this.props.badge.image2x||"",h=this.props.schemaBadge?this.props.schemaBadge.image4x:this.props.badge&&this.props.badge.image4x||"",v=this.props.large,k=this.props.hideTooltip,C=a({"chat-badge":!this.props.noMargins}),b=v?p:m,w=v?p+" 1x, "+h+" 2x":m+" 1x, "+p+" 2x, "+h+" 4x";i===f.So&&(n=(0,f.DA)(n,t));var E=r.createElement("img",{alt:n,"aria-label":(0,c.wv)("{badgeTitle} badge",{badgeTitle:n},"Badge"),className:C,src:b,srcSet:w,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}),_=this.props.isLocked?r.createElement("figure",null,r.createElement(o.A,{display:s.sS.Flex,justifyContent:s.uM.End,position:s.Ly.Absolute,alignItems:s.g1.End},r.createElement(y.Eb,{lockIcon:y.x2.LOCK,className:"chat-badge__lock"})),E):E;if(this.targetURL=this.getTargetURL(),this.props.overrideClick)_=r.createElement(l.E,{onClick:this.onBadgeClickHandler,tabIndex:!1===this.props.tabbable?-1:void 0,"data-a-target":"chat-badge"},_);else if(""!==this.targetURL){var N=this.onBadgeClickHandler;e&&"cHJlbWl1bTsxOw=="===e.id&&(this.primeReferralID=(0,S.Nn)(),this.targetURL=(0,S.G)(this.targetURL,this.primeReferralID),N=this.onPrimeBadgeClickHandler),_=r.createElement(d.s,{linkTo:this.targetURL,onClick:N,tabIndex:!1===this.props.tabbable?-1:void 0,targetBlank:!0,"data-a-target":"chat-badge"},_)}return!k&&this.state.isHovering?r.createElement(u.ns,{align:u.Mg.Left,"data-a-target":"chat-badge",display:s.sS.Inline,key:m,label:n,offsetY:"0.9rem"},_):_},n.prototype.getTargetURL=function(){if(this.props.badge){if(this.props.badge.setID===f.So)return"";switch(this.props.badge.clickAction){case h.iq:case m.Tnw.VISIT_URL:return this.props.badge.clickURL;case h.tj:case m.Tnw.SUBSCRIBE:return this.props.badge.channelName?this.getSubscriberLink(this.props.badge.channelName):"";case h.cz:case m.Tnw.GET_TURBO:return C;default:return""}}else if(this.props.schemaBadge){if(this.props.schemaBadge.setID===f.So)return"";switch(this.props.schemaBadge.clickAction){case h.iq:case m.Tnw.VISIT_URL:return this.props.schemaBadge.clickURL||"";case h.tj:case m.Tnw.SUBSCRIBE:return this.props.schemaBadge.channelName?this.getSubscriberLink(this.props.schemaBadge.channelName):"";case h.cz:case m.Tnw.GET_TURBO:return C;default:return""}}return""},n.prototype.getSubscriberLink=function(e){return"https://www.twitch.tv/subs/"+e},n}(r.Component)},191881:function(e,n,t){"use strict";t.d(n,{tj:function(){return i},cz:function(){return a},iq:function(){return r},io:function(){return o}});var i="subscribe_to_channel",a="turbo",r="visit_url",o="broadcaster"},292224:function(e,n,t){"use strict";t.d(n,{t:function(){return a}});var i=t(570655);function a(e){return(0,i.__assign)((0,i.__assign)({},e),{clickURL:e.clickURL||""})}},437115:function(e,n,t){"use strict";t.d(n,{So:function(){return a},_k:function(){return r},DA:function(){return o},OG:function(){return s}});var i=t(831642),a="bits";function r(e,n){return e&&e.setID===a&&e.title&&!s(e)?o(e.title,e.version):(0,i.Fo)(n,{maximumFractionDigits:2})}function o(e,n){if(e.endsWith(n)){var t=parseInt(n,10);if(!isNaN(t))return""+e.substring(0,e.length-n.length)+(0,i.Fo)(t,{maximumFractionDigits:2})}return e}function s(e){return e.title==="cheer "+e.version}},75552:function(e,n,t){"use strict";t.d(n,{yW:function(){return r},jw:function(){return o},UW:function(){return s}});var i=t(570655),a=t(128416),r=function(){function e(e,n,t){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map;var i=e.filter((function(e){return!!e})),a=n?n.filter((function(e){return!!e})):[];this.count=i.length+(n?a.length:0),this.indexBadges(i,this.globalsBySet,t),Array.isArray(n)&&this.indexBadges(a,this.channelsBySet,t)}return e.prototype.getBadge=function(e,n){var t=this.channelsBySet.get(e);return t&&t.has(n)?t.get(n)||null:void 0!==(t=this.globalsBySet.get(e))&&t.get(n)||null},e.prototype.indexBadges=function(e,n,t){e.forEach((function(e){t&&e.clickAction&&e.clickAction===a.Tnw.SUBSCRIBE&&(e=(0,i.__assign)((0,i.__assign)({},e),{channelName:t}));var r=n.get(e.setID);r||(r=new Map,n.set(e.setID,r)),r.set(e.version,e)}))},e}(),o=new r([],[],""),s=function(e){var n={};return e?(e.forEach((function(e){null!==e&&(n[e.setID]=e.version)})),n):n}},624316:function(e,n,t){"use strict";t.d(n,{Y:function(){return i},q:function(){return o}});var i,a=t(831642),r=t(742407);!function(e){e.AppointedModCallout="appointed_moderator_callout",e.BitsBenefits="bits_benefits",e.BitsCallout="bits_callout",e.ChatBadgeList="chat_badge_list",e.ChatReplayMessage="chat_replay_message",e.ChatSettingsNameDisplay="chat_settings_name_display",e.CommunityPointsRedemptionReward="community_points_redemption_reward",e.SubBadgeProgress="sub_badge_progress",e.SubBadgeModifierUpsell="sub_badge_modifier_upsell",e.SubGiftProgress="sub_gift_progress",e.SubscriptionBenefits="subscription_benefits"}(i||(i={}));var o=function(e){e.badge_type=e.badge_type.toLowerCase().replace(/( |\s)/g,"_"),a.$6.tracking.track(r.N.ChatBadgeClick,e)}},430452:function(e,n,t){"use strict";t.d(n,{I:function(){return p}});var i,a=t(570655),r=t(294184),o=t(667294),s=t(734995),l=t(270406),d=t(440837),u=t(382448),c=t(246797),m=t(831642);!function(e){e.CloseButton="bits-card-wrapper-close-button-selector",e.OuterWrapper="bits-card-wrapper-outer-selector",e.InnerWrapper="bits-card-wrapper-inner-selector"}(i||(i={}));var p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.onUserClose,t=e.children,a=e.className,p=e.dataATarget,h=e.closeDataATarget,f=n?o.createElement(s.A,{position:l.Ly.Absolute,padding:{top:.5,right:.5},attachRight:!0,attachTop:!0,zIndex:l.KN.Above},o.createElement(d.Ei,{"aria-label":(0,m.wv)("close Bits card","BitsCard"),"data-a-target":h,"data-test-selector":i.CloseButton,onClick:n,icon:u.e.Close,type:d.c.Secondary,size:d.hp.Small})):null;return o.createElement(s.A,{"data-test-selector":i.OuterWrapper,className:r("bits-card-wrapper",a),"data-a-target":p,display:l.sS.Flex,flexDirection:l.Qb.Column,position:l.Ly.Absolute,background:l.Aq.Base,borderRadius:c.c.Large,elevation:3,zIndex:l.KN.Above,fullWidth:!0},f,o.createElement(s.A,{"data-test-selector":i.InnerWrapper,display:l.sS.Flex,flexDirection:l.Qb.Column,alignItems:l.g1.Center,justifyContent:l.uM.Center,flexGrow:1,fullWidth:!0},t))},n.defaultProps={dataATarget:"bits-card",closeDataATarget:"bits-card-close-button"},n}(o.PureComponent)},295183:function(e,n,t){"use strict";t.d(n,{V:function(){return s}});var i=t(667294),a=t(734995),r=t(687837),o=t(831642),s=function(e){return i.createElement(a.A,{padding:{top:2,bottom:1}},i.createElement(r.s,{onClick:e.onClickHelp},(0,o.wv)("How do I cheer?","Bits--CheermoteIntro")))}},689242:function(e,n,t){"use strict";t.d(n,{zn:function(){return k},R6:function(){return N},vA:function(){return M},jX:function(){return x},WO:function(){return R},Pq:function(){return L},l6:function(){return A},Cm:function(){return F},Tx:function(){return O},zy:function(){return I},VL:function(){return U},Gf:function(){return P},O3:function(){return T},fV:function(){return _}});var i,a=t(147292),r=t(831642),o=t(654816),s=t(570655),l=t(667294),d=t(137703),u=t(359166),c=t(687837),m=t(734995),p=t(58661),h=t(270406),f=t(523094),g=t(295183),v=t(85357);!function(e){e.Container="lazy-carousel-container",e.Prev="lazy-carousel-prev-button",e.Next="lazy-carousel-next-button",e.NavDot="lazy-carousel-nav-dot",e.NavDotContainer="lazy-carousel-nav-dot-container",e.Animation="lazy-carousel-animation-container"}(i||(i={}));var y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={currIndex:0},n.renderEmotes=x().map((function(e){return l.createElement(u.p,{key:e.emoteString,className:"mega-commerce-bitscard__emote",src:e.src,srcSet:{"112w":e.src},sizes:[{size:"28px"}],alt:e.emoteString})})),n.learnMoreElement=function(e){return l.createElement(c.s,{targetBlank:!0,linkTo:M(),onClick:n.learnMoreClick},e)},n.learnMoreClick=function(){(0,v.gk)({user_id:n.props.currentUserID||"",source:v.Cg.BitsCard})},n}return(0,s.__extends)(n,e),n.prototype.render=function(){return l.createElement(m.A,{className:"mega-commerce-bitscard__bg",padding:{x:2,top:2}},l.createElement(m.A,null,l.createElement(p.V,{className:"mega-commerce-banner__title",fontSize:h.Bf.Size4,fontWeight:h.U9.SemiBold,"data-test-selector":"MegaCommerceBitsCardCalloutTitle"},T()),l.createElement(m.A,{padding:{top:.5,bottom:1}},l.createElement(p.V,null,R(this.learnMoreElement)))),l.createElement(m.A,{display:h.sS.Flex,justifyContent:h.uM.Center,flexDirection:h.Qb.Row},this.renderEmotes),l.createElement(m.A,{padding:{bottom:1}},l.createElement(g.V,{onClickHelp:this.props.onClickHelp})))},n}(l.Component);var k,S=(0,d.$j)((function(e){return{theme:(0,f.zv)(e),currentUserID:e.session.user&&e.session.user.id||null}}))(y),C=t(184807);!function(e){e.Cheer="CHEER",e.Subscription="SUBSCRIPTION",e.SubGift="SUBGIFT"}(k||(k={}));var b={startDateDynamicSetting:"megacommerce_holiday_2020_part1_start_date",endDateDynamicSetting:"megacommerce_holiday_2020_part1_end_date",eventDomain:"holiday_2020_megacommerce",eventTestDomain:"holiday_2020_megacommerce",intro:S,MEGACOMMERCE_CALLOUT_DISMISSED_STORAGE_KEY:"holiday-2020-part1-megacommerce-callout-dismissed",getHelpLink:function(){return"https://help.twitch.tv/s/article/hindsight-2020"},getTitle:function(){return(0,r.wv)("Hindsight 2020","Holiday2020MegaCommercePart1")},getSubsString:function(e){return(0,r.wv)("Celebrate the season with the first collection of 2020-inspired emotes. Through {date}, Subscribe or Gift a Sub to earn emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(D(b),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart1")},getBitsString:function(e){return(0,r.wv)("Celebrate the season with the first collection of 2020-inspired emotes. Through {date}, Cheer at least 300 Bits, Subscribe, or Gift a Sub to earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(D(b),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart1")},getResubChatCalloutTitle:function(e){return(0,r.wv)("{monthsSubbed, plural, one {Share your # month sub anniversary to get emote rewards!} other {Share your # month sub anniversary to get emote rewards!}}",{monthsSubbed:e},"Holiday2020MegaCommercePart1")},getSubButtonCalloutString:function(e){return b.getBitsString(e)},getSubButtonCalloutEmote:function(){return{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Party/112.png",emoteString:"2020Party"}},getGiftImage:function(e){return e>=100?{"1x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/100-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/100-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/100-gifts-4x.png"}:e>=50?{"1x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/50-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/50-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/50-gifts-4x.png"}:e>=20?{"1x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/20-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/20-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/20-gifts-4x.png"}:e>=10?{"1x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/10-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/10-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/10-gifts-4x.png"}:e>=5?{"1x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/5-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/5-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/5-gifts-4x.png"}:e>=1?{"1x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/1-gift-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/1-gift-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round1/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}},getSubModalEmotes:function(){return[{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Unroll/112.png",emoteString:"2020Unroll"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Pajamas/112.png",emoteString:"2020Pajamas"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Gift/112.png",emoteString:"2020Gift"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020HomeWork/112.png",emoteString:"2020HomeWork"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Capture/112.png",emoteString:"2020Capture"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Surprise/112.png",emoteString:"2020Surprise"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Rivalry/112.png",emoteString:"2020Rivalry"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Party/112.png",emoteString:"2020Party"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Selfie/112.png",emoteString:"2020Selfie"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Delivery/112.png",emoteString:"2020Delivery"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Suspicious/112.png",emoteString:"2020Suspicious"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020SpeakUp/112.png",emoteString:"2020SpeakUp"}]},getBitsCardEmotes:function(){return[{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Unroll/112.png",emoteString:"2020Unroll"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Pajamas/112.png",emoteString:"2020Pajamas"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Gift/112.png",emoteString:"2020Gift"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020HomeWork/112.png",emoteString:"2020HomeWork"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020SpeakUp/112.png",emoteString:"2020SpeakUp"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Selfie/112.png",emoteString:"2020Selfie"},{src:C.mT+"/holiday-2020-megacommerce/round1/emotes/2020Delivery/112.png",emoteString:"2020Delivery"}]}},w={startDateDynamicSetting:"megacommerce_holiday_2020_part2_start_date",endDateDynamicSetting:"megacommerce_holiday_2020_part2_end_date",eventDomain:"holiday_2020_megacommerce",eventTestDomain:"holiday_2020_megacommerce",intro:S,MEGACOMMERCE_CALLOUT_DISMISSED_STORAGE_KEY:"holiday-2020-part2-megacommerce-callout-dismissed",getHelpLink:function(){return"https://help.twitch.tv/s/article/hindsight-2020"},getTitle:function(){return(0,r.wv)("Hindsight 2020","Holiday2020MegaCommercePart2")},getSubsString:function(e){return(0,r.wv)("Wrap up the year and ring in NYE with new 2020-inspired emotes. When you Subscribe or Gift a Sub through {date}, youll earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(D(w),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart2")},getBitsString:function(e){return(0,r.wv)("Wrap up the year and unwrap the second collection of 2020-inspired emotes. When you Cheer at least 300 Bits, Subscribe, or Gift a Sub through {date}, youll earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(D(w),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart2")},getResubChatCalloutTitle:function(e){return(0,r.wv)("{monthsSubbed, plural, one {Share your # month sub anniversary to get emote rewards!} other {Share your # month sub anniversary to get emote rewards!}}",{monthsSubbed:e},"Holiday2020MegaCommercePart2")},getSubButtonCalloutString:function(e){return(0,r.wv)("Wrap up the year and ring in NYE with new 2020-inspired emotes. When you Cheer at least 300 Bits, Subscribe, or Gift a Sub through {date}, youll earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(D(w),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart2")},getSubButtonCalloutEmote:function(){return{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020ByeGuys/112.png",emoteString:"2020ByeGuys"}},getGiftImage:function(e){return e>=100?{"1x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/100-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/100-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/100-gifts-4x.png"}:e>=50?{"1x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/50-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/50-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/50-gifts-4x.png"}:e>=20?{"1x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/20-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/20-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/20-gifts-4x.png"}:e>=10?{"1x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/10-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/10-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/10-gifts-4x.png"}:e>=5?{"1x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/5-gifts-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/5-gifts-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/5-gifts-4x.png"}:e>=1?{"1x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/1-gift-1x.png","2x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/1-gift-2x.png","4x":C.mT+"/holiday-2020-megacommerce/round2/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}},getSubModalEmotes:function(){return[{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Shred/112.png",emoteString:"2020Shred"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Wish/112.png",emoteString:"2020Wish"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020ByeGuys/112.png",emoteString:"2020ByeGuys"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Takeout/112.png",emoteString:"2020Takeout"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020MaskUp/112.png",emoteString:"2020MaskUp"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Unity/112.png",emoteString:"2020Unity"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Shhh/112.png",emoteString:"2020Shhh"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Partnered/112.png",emoteString:"2020Partnered"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Drop/112.png",emoteString:"2020Drop"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Celebrate/112.png",emoteString:"2020Celebrate"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Snacking/112.png",emoteString:"2020Snacking"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Glitchy/112.png",emoteString:"2020Glitchy"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Forward/112.png",emoteString:"2020Forward"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Victory/112.png",emoteString:"2020Victory"}]},getBitsCardEmotes:function(){return[{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020ByeGuys/112.png",emoteString:"2020ByeGuys"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Takeout/112.png",emoteString:"2020Takeout"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Snacking/112.png",emoteString:"2020Snacking"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Celebrate/112.png",emoteString:"2020Celebrate"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Shred/112.png",emoteString:"2020Shred"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Victory/112.png",emoteString:"2020Victory"},{src:C.mT+"/holiday-2020-megacommerce/round2/emotes/2020Forward/112.png",emoteString:"2020Forward"}]}},E=[b,w];function _(){return!!N()}function N(){if(!E||!E.length)return null;for(var e=0,n=E;e<n.length;e++){var t=n[e],i=r.oH.get(t.startDateDynamicSetting,"2020-10-19 14:00:00 GMT-0700");if(!(0,a.isAfter)((0,o.sG)(i),Date.now())){var s=r.oH.get(t.endDateDynamicSetting,"2020-10-30 23:59:59 GMT-0700");if((0,a.isAfter)((0,o.sG)(s),Date.now()))return t}}return null}function D(e){var n=r.oH.get(e.endDateDynamicSetting,"2020-05-31T06:59:59Z");return(0,o.sG)(n)}function M(){var e=N();if(e)return e.getHelpLink()}function I(e){var n=N();return(n?n.MEGACOMMERCE_CALLOUT_DISMISSED_STORAGE_KEY:"")+(e?"-"+e:"")}function T(){var e=N();return e?e.getTitle():null}function P(e){var n=N();return n?n.getSubsString(e):null}function R(e){var n=N();return n?n.getBitsString(e):null}function A(e){var n=N();return n?n.getSubButtonCalloutString(e):null}function L(){var e=N();return e?e.getSubButtonCalloutEmote():{emoteString:"",src:""}}function F(e){var n=N();return n?n.getGiftImage(e):{"1x":"","2x":"","4x":""}}function U(){var e=N();return e?e.getSubModalEmotes():[]}function x(){var e=N();return e?e.getBitsCardEmotes():[]}function O(e){var n=N();return n?n.getResubChatCalloutTitle(e):""}},435338:function(e,n,t){"use strict";t.d(n,{I:function(){return u}});var i,a=t(570655),r=t(667294),o=t(311360),s=t(299017),l=t(802624),d=((i={})[l.aN.Cute]={numOfParticlesPerSecond:40,scale:.7,velocityMin:20,velocityMax:30,decayMin:.025,decayMax:.025,accelerationY:.4,delayUntilDecay:400,drag:.14,particleDelay:500},i[l.aN.Noice]={numOfParticlesPerSecond:55,scale:.85,velocityMin:28,velocityMax:38,decayMin:.015,decayMax:.015,accelerationY:.6,delayUntilDecay:500,drag:.14,particleDelay:500},i[l.aN.Cool]={numOfParticlesPerSecond:65,scale:1,velocityMin:35,velocityMax:45,decayMin:.01,decayMax:.01,accelerationY:.8,delayUntilDecay:600,drag:.14,particleDelay:500},i[l.aN.Wow]={numOfParticlesPerSecond:80,scale:1,velocityMin:40,velocityMax:50,decayMin:.004,decayMax:.008,accelerationY:1,delayUntilDecay:800,drag:.14,particleDelay:500},i[l.aN.PogChamp]={numOfParticlesPerSecond:80,scale:1.25,velocityMin:55,velocityMax:70,decayMin:.004,decayMax:.008,accelerationY:1.25,delayUntilDecay:800,drag:.14,particleDelay:500},i[l.aN.OmegaPog]={numOfParticlesPerSecond:90,scale:1.5,velocityMin:70,velocityMax:90,decayMin:0,decayMax:0,accelerationY:1.5,delayUntilDecay:0,drag:.14,particleDelay:500},i[l.aN.ExtinctionEvent]={numOfParticlesPerSecond:100,scale:2,velocityMin:80,velocityMax:100,decayMin:0,decayMax:0,accelerationY:2,delayUntilDecay:0,drag:.14,particleDelay:500},i[l.aN.Cheer1]={numOfParticlesPerSecond:5,scale:.7,velocityMin:10,velocityMax:20,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},i[l.aN.Cheer100]={numOfParticlesPerSecond:10,scale:1,velocityMin:10,velocityMax:20,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},i[l.aN.Cheer1000]={numOfParticlesPerSecond:15,scale:1,velocityMin:10,velocityMax:20,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},i[l.aN.Cheer5000]={numOfParticlesPerSecond:20,scale:1.1,velocityMin:15,velocityMax:25,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},i[l.aN.Cheer10000]={numOfParticlesPerSecond:30,scale:1.2,velocityMin:15,velocityMax:30,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},i),u=function(e){var n=e.className,t=e.width,i=e.height,u=e.intensity,c=e.duration,m=e.images,p=e.onAnimationEnd,h=d[u];h||(h=d[l.aN.Cute]);var f=(0,r.useMemo)((function(){return new s.P((0,a.__assign)((0,a.__assign)({},h),{images:m,distance:800,particleDelay:h.particleDelay,xLeft:0,xRight:t}),0,!1,c)}),[h,c,m,t]);return r.createElement(o.M,{className:n,width:t,height:i,effects:[f],drag:h.drag,acceleration:{x:0,y:h.accelerationY,z:0},distance:800,onAnimationEnd:p})}},311360:function(e,n,t){"use strict";t.d(n,{M:function(){return o}});var i=t(667294),a=1e3/60,r=function(e,n){return e.map((function(e){return{createTimestamp:n,startTimestamp:n+e.delay,updateTimestamp:n,endTimestamp:n+e.delay+e.duration,effect:e}}))},o=function(e){var n,t,o=(0,i.useRef)([]),s=(0,i.useRef)(null),l=(0,i.useRef)(null),d=(0,i.useRef)(!1),u=(0,i.useRef)(!1),c=(0,i.useRef)(0),m=(0,i.useRef)(null),p=(0,i.useRef)(null),h=(0,i.useRef)(0);return(0,i.useEffect)((function(){0===e.effects.length&&(d.current=!0,u.current=!0)}),[e.effects.length]),(0,i.useEffect)((function(){p.current&&e.effects.length!==o.current.length&&(o.current=r(e.effects,p.current),c.current=0,d.current=!1,u.current=!1)}),[e.effects]),n=function(n){l.current||(l.current=n,0===o.current.length&&(o.current=r(e.effects,l.current))),m.current||(m.current=n),p.current||(p.current=n);var t=n-p.current,i=(t+h.current)/a,f=s.current;if(f){var g=f.getContext("2d");if(g&&(g.save(),g.clearRect(0,0,f.clientWidth,f.clientHeight),g.restore(),o.current)){if(o.current.filter((function(e){return n>=e.startTimestamp})).forEach((function(a){a.effect.particles.filter((function(e){return n>=a.startTimestamp+e.delay})).forEach((function(r){if(t<1e4)for(var o=0;o<i;o++)r.vx+=e.acceleration.x,r.vx*=1-e.drag,r.vy+=e.acceleration.y,r.vy*=1-e.drag,r.vz+=e.acceleration.z,r.vz*=1-e.drag,r.dx+=r.vx,r.dy+=r.vy,r.dz+=r.vz,n>=a.startTimestamp+r.delay+r.delayUntilDecay&&(r.alpha*=1-r.decay)})),a.effect.particles=a.effect.particles.filter((function(i){var r=i.dx+i.img.width>=0&&i.dx-i.img.width<=f.clientWidth&&i.dy-i.img.height<=f.clientHeight&&i.dz>=-e.distance&&i.alpha>=.03&&t<1e4;if(!r&&e.loop){var o=a.updateTimestamp-a.createTimestamp;return n>=o&&a.effect.resetParticle(i,o),!0}return r}));var r=0,o=a.endTimestamp?a.endTimestamp:e.duration?a.startTimestamp+e.duration+a.effect.delay:a.startTimestamp+1e4,s=.8*((o=Math.min(o,a.startTimestamp+1e4))-a.startTimestamp)+a.startTimestamp;n>s&&(r=(n-s)/(o-s)),a.effect.particles.filter((function(e){return n>=a.startTimestamp+e.delay})).forEach((function(n){var t=n.img.width,i=n.img.height;g.save();var a=(n.dz+e.distance)/e.distance;g.translate(-1*t/2,-1*i/2),g.translate(Math.floor(n.dx),Math.floor(n.dy)),g.rotate(n.xyRotation),g.translate(-Math.floor(n.dx),-Math.floor(n.dy)),g.globalAlpha=1-r,g.drawImage(n.img,Math.floor(n.dx),Math.floor(n.dy),Math.floor(t*a*n.scale),Math.floor(i*a*n.scale)),g.restore()})),a.updateTimestamp=n})),o.current=o.current.filter((function(t){var i=0===t.effect.particles.length;return i&&e.onEffectEnd&&e.onEffectEnd(t.effect.id,n-t.startTimestamp),!i})),0===o.current.length&&!d.current){if(e.onLoopEnd){var v=n-m.current;d.current=!0,e.onLoopEnd(v,c.current)}if(e.loop)o.current.map((function(e){return e.effect.reset()}));else{if(e.onAnimationEnd&&!u.current){var y=n-l.current;u.current=!0,e.onAnimationEnd(y)}o.current=[]}c.current++,m.current=null}p.current=n,h.current+=t-Math.floor(i)*a}}},t=[],(0,i.useEffect)((function(){var e=0,t=function(i){n(i),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),function(){cancelAnimationFrame(e)}}),[t,n]),i.createElement("canvas",{className:e.className,width:e.width,height:e.height,ref:s})}},995935:function(e,n,t){"use strict";t.d(n,{Q:function(){return a}});var i=t(560772),a=function(){function e(e,n,t,a){void 0===n&&(n=0),void 0===t&&(t=!1),void 0===a&&(a=1e3),this.id=(0,i._f)(),this.particles=e,this.delay=n,this.loop=t,this.duration=a}return e.prototype.resetParticle=function(e,n){e.dx=e.initialDx,e.dy=e.initialDy,e.dz=e.initialDz,e.vx=e.initialVx,e.vy=e.initialVy,e.vz=e.initialVz,e.xyRotation=e.initialXYRotation,e.alpha=e.initialAlpha,e.decay=e.initialDecay,e.delayUntilDecay=e.initialDelayUntilDecay,e.delay=n},e.prototype.reset=function(){var e=this;this.particles.forEach((function(n){return e.resetParticle(n,0)}))},e.prototype.isEnded=function(){return 0===this.particles.length},e}()},299017:function(e,n,t){"use strict";t.d(n,{P:function(){return s}});var i=t(570655),a=t(191738),r=t(994947),o=t(995935),s=function(e){function n(n,t,i,o,s,l){void 0===i&&(i=!1),void 0===o&&(o=1e3),void 0===s&&(s=0),void 0===l&&(l=0);for(var d=[],u=o*(n.numOfParticlesPerSecond/1e3),c=(0,r.MX)(-1,1)<0?-1:1,m=0;m<u;m++){var p=n.images[(0,r.Iy)(0,n.images.length)],h=(0,r.MX)(n.xLeft+p.width,n.xRight-p.width),f=(0,r.Iy)(0,o);d.push(new a.h(p,h,s,(0,r.MX)(0,n.distance),(0,r.MX)(-.15*c,.75*c),(0,r.MX)(.75*l,1.75*l),0,(0,r.MX)(-Math.PI/4,Math.PI/4),1,(0,r.MX)(n.decayMin,n.decayMax),o,f,n.scale,!1))}return e.call(this,d,t,i,o)||this}return(0,i.__extends)(n,e),n.prototype.resetParticle=function(n,t){e.prototype.resetParticle.call(this,n,t),n.delay+=this.duration-(0,r.Iy)(0,1e3)},n}(o.Q)},191738:function(e,n,t){"use strict";t.d(n,{h:function(){return a}});var i=t(560772),a=function(e,n,t,a,r,o,s,l,d,u,c,m,p,h){this.id=(0,i._f)(),this.img=e,this.dx=n,this.initialDx=n,this.dy=t,this.initialDy=t,this.dz=a,this.initialDz=a,this.vx=r,this.initialVx=r,this.vy=o,this.initialVy=o,this.vz=s,this.initialVz=s,this.xyRotation=l,this.initialXYRotation=l,this.alpha=d,this.initialAlpha=d,this.decay=u,this.initialDecay=u,this.delayUntilDecay=c,this.initialDelayUntilDecay=c,this.delay=m,this.initialDelay=m,this.scale=p,this.initialScale=p,this.loop=h}},994947:function(e,n,t){"use strict";t.d(n,{MX:function(){return i},Iy:function(){return a}});var i=function(e,n){return Math.random()*(n-e)+e},a=function(e,n){return Math.floor(i(e,n))}},124822:function(e,n,t){"use strict";t.d(n,{O9:function(){return p},w6:function(){return h}});var i=t(570655),a=t(667294),r=t(831642),o=t(884979),s=t(196171),l=t(834707),d=r.$6.logger.withCategory("chat-commands"),u=/^[/.]([a-z0-9]+)\s*([\s\S]+)?$/i,c=(0,o.k)("ChatCommandContext",{getCommands:function(e){return[]},addCommand:function(e){return null},removeCommand:function(e){return null},handleCommand:function(e,n){return{handled:!1}},prevCommand:null,clearPrevCommand:function(){return null}}),m=c.context,p=c.withContext,h=function(e){function n(n){var t=e.call(this,n)||this;return t.getCommands=function(e,n){for(var i=[],a=0,r=Object.values(t.state.commands);a<r.length;a++){var o=r[a],s=e>=o.permissionLevel,l=(null==n?void 0:n.isEditor)&&o.allowEditorUsage;o.hidden||!s&&!l||i.push(o)}return i},t.addCommand=function(e){t.setState((function(n){var t;return{commands:(0,i.__assign)((0,i.__assign)({},n.commands),(t={},t[e.name]=e,t))}}))},t.removeCommand=function(e){t.setState((function(n){var t=(0,i.__assign)({},n.commands);return delete t[e.name],{commands:t}}))},t.handleCommand=function(e,n){var i=e.match(u);if(!i)return{handled:!1};var a=i[1],r=(i[2]||"").trim(),o=t.state.commands[a.toLowerCase()];if(t.setPrevCommand({message:e,command:a.toLowerCase(),args:r}),!o)return{command:a,handled:!1};var c=(0,l.tq)(o);if(!!c&&!r||c===r)return{command:a,handled:!0,result:{deferred:Promise.resolve({notice:o.helpText,error:s.U.MissingParameters})}};var m={channelLogin:n},p=o.handler;if(!p)return{command:a,handled:!1};try{return{command:a,handled:!0,result:p(r,m)}}catch(e){return d.warn("Exception thrown from chat command handler",{command:o,err:e}),{command:a,handled:!1}}},t.setPrevCommand=function(e){t.setState((function(n){return{value:(0,i.__assign)((0,i.__assign)({},n.value),{prevCommand:e})}}))},t.clearPrevCommand=function(){t.setState((function(e){return{value:(0,i.__assign)((0,i.__assign)({},e.value),{prevCommand:null})}}))},t.state={commands:{},prevPropsChannelLogin:n.channelLogin,value:{getCommands:t.getCommands,addCommand:t.addCommand,removeCommand:t.removeCommand,handleCommand:t.handleCommand,prevCommand:null,clearPrevCommand:t.clearPrevCommand}},t}return(0,i.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){return e.channelLogin!==n.prevPropsChannelLogin?{commands:{},prevPropsChannelLogin:e.channelLogin,value:(0,i.__assign)((0,i.__assign)({},n.value),{prevCommand:null})}:null},n.prototype.render=function(){return a.createElement(m.Provider,{value:this.state.value},this.props.children)},n}(a.Component)},152271:function(e,n,t){"use strict";t.d(n,{Us:function(){return i},Hs:function(){return r},A2:function(){return o},Mp:function(){return s},Zt:function(){return l},rP:function(){return d},AW:function(){return u}});var i,a=t(560772);function r(e,n){return{type:i.PushHighlight,event:e,id:n,viewUUID:(0,a._f)()}}function o(e){return{type:i.RemoveHighlight,id:e}}function s(e,n){return{type:i.MoveToHighlight,id:e,shouldExpand:!!n}}function l(){return{type:i.OpenListAllView}}function d(){return{type:i.CloseListAllView}}function u(e){return{type:i.ToggleExpanded,id:e}}!function(e){e.PushHighlight="push-highlight",e.RemoveHighlight="remove-highlight",e.MoveToHighlight="move-to-highlight",e.OpenListAllView="open-list-all-view",e.CloseListAllView="close-list-all-view",e.ToggleExpanded="toggle-expanded"}(i||(i={}))},391831:function(e,n,t){"use strict";t.d(n,{Xb:function(){return y},fQ:function(){return g},vJ:function(){return m},ox:function(){return v},eT:function(){return p}});var i=t(667294),a=t(560772),r=t(884979),o=t(570655),s=t(152271),l=function(e,n){var t=e.highlights[e.currentIndex];switch(n.type){case s.Us.PushHighlight:var i=e.highlights.findIndex((function(e){return e.id===n.id}));if(i>=0){var r={event:n.event,expanded:e.highlights[i].expanded,id:n.id,viewUUID:n.viewUUID};return(0,o.__assign)((0,o.__assign)({},e),{highlights:d(e.highlights,r,i)})}var l={event:n.event,expanded:!1,id:n.id,viewUUID:n.viewUUID},c=e.currentIndex;t&&t.expanded&&(c+=1);var m=t&&t.expanded||e.listAllView;return(0,o.__assign)((0,o.__assign)({},e),{highlights:u(e.highlights,l,c),notifications:m?(0,o.__spreadArrays)([n.id],e.notifications):e.notifications});case s.Us.RemoveHighlight:var p=e.highlights.filter((function(e){return e.id!==n.id})),h=e.notifications.filter((function(e){return e!==n.id})),f=e.currentIndex;f>p.length-1&&(f=Math.max(p.length-1,0));var g=e.listAllView,v=e.uuid;return 0===p.length&&(g=!1,v=(0,a._f)()),{highlights:p,currentIndex:f,notifications:h,listAllView:g,uuid:v};case s.Us.MoveToHighlight:var y=e.highlights.findIndex((function(e){return e.id===n.id}));if(y>=0){var k=e.highlights[y],S=n.shouldExpand?d(e.highlights,(0,o.__assign)((0,o.__assign)({},k),{expanded:!0}),y):e.highlights;return(0,o.__assign)((0,o.__assign)({},e),{highlights:S,currentIndex:y,notifications:[],listAllView:!1})}return e;case s.Us.ToggleExpanded:var C=e.highlights.findIndex((function(e){return e.id===n.id}));if(C>=0){var b=e.highlights[C];return b.expanded=!b.expanded,(0,o.__assign)((0,o.__assign)({},e),{highlights:d(e.highlights,b,C)})}return e;case s.Us.OpenListAllView:return(0,o.__assign)((0,o.__assign)({},e),{listAllView:!0});case s.Us.CloseListAllView:return(0,o.__assign)((0,o.__assign)({},e),{notifications:[],listAllView:!1});default:return e}},d=function(e,n,t){return e.map((function(e,i){return i===t?n:e}))},u=function(e,n,t){return(0,o.__spreadArrays)(e.slice(0,t),[n],e.slice(t))},c=(0,r.k)("HighlightStackDispatchContext",(function(){return null})),m=c.context,p=c.withContext,h={highlights:[],notifications:[],currentIndex:0,listAllView:!1,uuid:(0,a._f)()},f=(0,r.k)("HighlightStackContext",h),g=f.context,v=f.withContext,y=function(e){var n=i.useReducer(l,h),t=n[0],a=n[1];return i.createElement(m.Provider,{value:a},i.createElement(g.Provider,{value:t},e.children))}},159632:function(e,n,t){"use strict";t.d(n,{e:function(){return l}});var i=t(570655),a=t(667294),r=t(831642),o=t(560772),s=t(497354),l=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.closeString=(0,r.wv)("Close","ChatPrivateCallout"),n.privateCalloutSID=(0,o._f)(),n.hasCTA=!0,n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){(0,s.MK)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,eventID:this.eventID,privateCalloutSID:this.privateCalloutSID,hasCTA:this.hasCTA})},n.prototype.trackDismiss=function(){this.trackAction(s.N9.Dismiss,s.iv.PrivateCallout)},n.prototype.trackAction=function(e,n,t,i){(0,s.ET)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,eventID:this.eventID,privateCalloutSID:this.privateCalloutSID,action:e,msgBody:t,usedPrompt:i,uiContext:n})},n.prototype.trackCTAClick=function(e){(0,s.qD)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,eventID:this.eventID,privateCalloutSID:this.privateCalloutSID,uiContext:s.iv.PrivateCallout,clickType:e})},n}(a.Component)},266489:function(e,n,t){"use strict";t.d(n,{FR:function(){return v},kw:function(){return k}});var i=t(570655),a=t(667294),r=t(14890),o=t(146747),s=t(23015),l=t(626650),d=t(734995),u=t(270406),c=t(831642),m=t(991633),p=t(159632),h=t(430028),f=t(497354),g=t(971212),v="reply-by-keyboard-callout-seen",y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trackingType=f.$O.ReplyByKeyboard,n.hasCTA=!1,n.onClose=function(){n.trackDismiss(),c.tO.set(v,!0),n.props.popCallout()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=this;return a.createElement(o.U,{closeButton:{"aria-label":this.closeString,onClick:function(){n.onClose()}},message:a.createElement(s.Z,{title:(e=m.U.os.isMacOS(),(0,c.wv)("Use {shortcut} to select recent messages sent by this user.",{shortcut:a.createElement(d.A,{display:u.sS.InlineFlex,alignItems:u.g1.Center},a.createElement(g.T,{text:e?"option":"Alt"}),a.createElement(g.T,{text:""}))},"ReplyByKeyboardCallout")),pill:{label:(0,c.wv)("Tip","ReplyByKeyboardCallout"),type:l.R.Brand}}),padding:1})},n}(p.e);var k=(0,r.qC)((0,h.Sf)((function(e){return{popCallout:e.popCallout}})))(y)},885643:function(e,n,t){"use strict";t.d(n,{x:function(){return m}});var i=t(570655),a=t(667294),r=t(734995),o=t(58661),s=t(270406),l=t(796441),d=t(663657),u=t(382448),c=t(831642),m=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={showSkipConfirmation:!1},n.showSkipConfirmation=function(){n.setState({showSkipConfirmation:!0})},n.hideSkipConfirmation=function(){n.setState({showSkipConfirmation:!1})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=(0,c.wv)("We can show your {monthsSubbed} month sub anniversary reminder to you again later, or choose to:",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubCallout"),n=(0,c.wv)("You will not be able to share your {monthsSubbed} month sub anniversary reminder again. Future anniversary reminders will still show.",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubContextMenu");return this.state.showSkipConfirmation?a.createElement(r.A,null,a.createElement(o.V,null,n),a.createElement(r.A,{padding:{y:2},display:s.sS.Flex,justifyContent:s.uM.End},a.createElement(r.A,{margin:{right:.5}},a.createElement(l.zx,{onClick:this.hideSkipConfirmation,size:l.qE.Small,children:(0,c.wv)("Go back","ShareResubContextMenu"),type:l.L$.Secondary})),a.createElement(l.zx,{onClick:this.props.onSkip,size:l.qE.Small,children:(0,c.wv)("Okay","ShareResubContextMenu")}))):a.createElement(r.A,null,a.createElement(o.V,{bold:!0,color:s.Il.Alt2},(0,c.wv)("Change when you'll see this","ShareResubCallout")),a.createElement(r.A,{padding:{y:.5}},a.createElement(o.V,{color:s.Il.Alt2},e)),a.createElement(r.A,{fullWidth:!0,border:!0,margin:{y:.5}}),this.props.onPin&&a.createElement(d.M,{label:(0,c.wv)("Pin this here","ShareResubContextMenu"),onClick:this.props.onPin,figure:{icon:u.e.Pin}}),this.props.onHide&&a.createElement(d.M,{label:(0,c.wv)("Show on next visit","ShareResubContextMenu"),onClick:this.props.onHide,figure:{icon:u.e.EventsReminderAdd}}),this.props.onSkip&&a.createElement(d.M,{label:(0,c.wv)("Skip this month's alert","ShareResubContextMenu"),onClick:this.showSkipConfirmation,figure:{icon:u.e.VisibilityHidden}}))},n}(a.Component)},430028:function(e,n,t){"use strict";t.d(n,{Av:function(){return o},Sf:function(){return s},pY:function(){return l}});var i=t(570655),a=t(667294),r=(0,t(884979).k)("PrivateCalloutQueueContext",{callouts:[],pinnedCallout:null,pinCallout:function(e){return null},pushCallout:function(e){return null},popCallout:function(){return null},clearCalloutType:function(e){return null},unpinCallout:function(){return null}}),o=r.context,s=r.withContext,l=function(e){function n(n){var t=e.call(this,n)||this;return t.popCallout=function(){t.setState((function(e){return{callouts:(0,i.__spreadArrays)(e.callouts.slice(1))}}))},t.pushCallout=function(e,n){if(void 0===n&&(n=!1),n)for(var a=0,r=t.state.callouts;a<r.length;a++){if(r[a].event.type===e.event.type)return}t.setState((function(n){return{callouts:(0,i.__spreadArrays)(n.callouts,[e])}}))},t.clearCalloutType=function(e){t.setState((function(n){return{callouts:n.callouts.filter((function(n){return n.event.type!==e}))}}))},t.pinCallout=function(e){t.setState({pinnedCallout:e})},t.unpinCallout=function(){t.setState({pinnedCallout:null})},t.state={callouts:[],pinnedCallout:null,pinCallout:t.pinCallout,pushCallout:t.pushCallout,popCallout:t.popCallout,clearCalloutType:t.clearCalloutType,unpinCallout:t.unpinCallout},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return a.createElement(o.Provider,{value:this.state},this.props.children)},n}(a.Component)},747961:function(e,n,t){"use strict";var i;t.d(n,{S:function(){return i}}),function(e){e.AppointedModerator="appointed-moderator",e.BitsBadgeTier="bits-badge-tier",e.ShareResub="share-resub",e.ThankSubGifter="thank-sub-gifter",e.MegaBenefactorRewards="mega-benefactor-rewards",e.MegaRecipientRewards="mega-recipient-rewards",e.CommunityPointsRewards="community-points-rewards",e.HypeTrainRewards="hype-train-rewards",e.ReplyByKeyboard="reply-by-keyboard",e.Drop="drop",e.EarnedSubBadge="earned-sub-badge",e.TurnOffAnimatedEmotes="turn-off-animated-emotes",e.CrowdChant="crowd-chant-callout"}(i||(i={}))},497354:function(e,n,t){"use strict";t.d(n,{$O:function(){return i},N9:function(){return a},ad:function(){return r},iv:function(){return o},ET:function(){return u},qD:function(){return c},MK:function(){return m}});var i,a,r,o,s=t(570655),l=t(831642),d=t(742407);!function(e){e.AppointedModerator="appointed_moderator",e.MegacheerEmoteRecipient="megacheer_emote_recipient",e.Resub="re_sub",e.PinnedResub="pinned_re_sub",e.CheerBadgeGrant="cheer_badge_grant",e.CommunitySubGift="community_sub_gift",e.CommunityPointsReward="community_points_reward",e.HypeTrainRewards="hype_train_rewards",e.ReplyByKeyboard="reply_by_keyboard",e.NewSubBadge="new_sub_badge",e.TurnOffAnimatedEmotes="turn_off_animated_emotes",e.CrowdChant="crowd_chant"}(i||(i={})),function(e){e.Dismiss="dismiss",e.Remind="remind_later",e.Pin="pin_callout",e.SkipMonthlyAlert="skip_monthly_alert",e.Message="chat_message_send"}(a||(a={})),function(e){e.Share="click_share",e.Options="options_menu",e.Thank="click_thank",e.NoAction="no_action",e.ShowReward="click_show_reward",e.Gift="click_gift",e.OpenModView="open_mod_view",e.OpenEmotePicker="open_emote_picker",e.OpenBadgeDetails="open_badge_details",e.OpenEmoteAnimationsSetting="open_emote_animations_setting"}(r||(r={})),function(e){e.PrivateCallout="private_callout",e.Chat="private_callout_chat"}(o||(o={}));var u=function(e){l.UO.track(d.N.PrivateCalloutAction,(0,s.__assign)((0,s.__assign)({},p(e)),{action:e.action,ui_context:e.uiContext,msg_body:e.msgBody,used_prompt:e.usedPrompt}))},c=function(e){l.UO.track(d.N.PrivateCalloutClick,(0,s.__assign)((0,s.__assign)({},p(e)),{click_type:e.clickType,ui_context:e.uiContext}))},m=function(e){l.UO.track(d.N.PrivateCalloutImpression,(0,s.__assign)((0,s.__assign)({},p(e)),{has_cta:e.hasCTA}))};function p(e){return{channel_id:e.channelID,channel_login:e.channelLogin,callout_type:e.calloutType,event_id:e.eventID,private_callout_sid:e.privateCalloutSID}}},857246:function(e,n,t){"use strict";t.d(n,{bU:function(){return l},s0:function(){return d},kc:function(){return u}});var i=t(570655),a=t(667294),r=t(884979),o=t(888041),s=(0,r.k)("ChatIdentityMenuContext",{onShowChatIdentityMenu:function(){return null},chatIdentityVisible:!1}),l=s.context,d=s.withContext,u=function(e){function n(n){var t=e.call(this,n)||this;return t.onShowChatIdentityMenu=function(e,n,i){!t.state.chatIdentityVisible&&e&&(0,o.Jt)({channelID:n,source:i}),t.setState({chatIdentityVisible:e})},t.state={onShowChatIdentityMenu:t.onShowChatIdentityMenu,chatIdentityVisible:!1},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return a.createElement(l.Provider,{value:this.state},this.props.children)},n}(a.Component)},127649:function(e,n,t){"use strict";t.d(n,{jK:function(){return a},Xq:function(){return r},p3:function(){return o},lf:function(){return s},ox:function(){return l},Af:function(){return d}});var i=t(831642),a=function(){return(0,i.wv)("OFF","ChatSettings")},r=function(){return(0,i.wv)("Emotes-Only Chat","ChatSettings")},o=function(){return(0,i.wv)("Followers-Only Chat","ChatSettings")},s=function(){return(0,i.wv)("Subscribers-Only Chat","ChatSettings")},l=function(){return(0,i.wv)("Slow Mode","ChatSettings")},d=function(){return(0,i.wv)("Verified-Only Chat","ChatSettings")}},419341:function(e,n,t){"use strict";t.d(n,{ki:function(){return a},oW:function(){return r},Rv:function(){return o},kX:function(){return s},LS:function(){return l},TL:function(){return d},sy:function(){return u},BY:function(){return c},BC:function(){return m},z2:function(){return p},eP:function(){return h},hg:function(){return f},SB:function(){return g},cK:function(){return v},w0:function(){return y},n4:function(){return k},nc:function(){return S},$9:function(){return C},_$:function(){return b},RI:function(){return w},Zw:function(){return E},n8:function(){return _},Mr:function(){return N},mq:function(){return D},SU:function(){return M},Zn:function(){return I},YF:function(){return T},s$:function(){return P},Vd:function(){return R},Vt:function(){return A},fz:function(){return L},_V:function(){return F},g:function(){return U},R8:function(){return x},pZ:function(){return O},Wy:function(){return B},MG:function(){return V},Oh:function(){return q},x7:function(){return G},i2:function(){return H},DU:function(){return W},WF:function(){return z},_A:function(){return $},Cs:function(){return j},qR:function(){return Y},CL:function(){return Q},W7:function(){return J}});var i=t(877465),a="chat.CHAT_HIDDEN",r="chat.CHAT_SHOWN",o="chat.EMOTE_SETS_UPDATED",s="chat.FOLLOWER_MODE_DURATION_PREFERENCE_CHANGED",l="chat.SLOW_MODE_DURATION_PREFERENCE_CHANGED",d="chat.AUTOMOD_ACTIONS_ENABLED",u="chat.AUTOMOD_ACTIONS_DISABLED",c="chat.EMOTE_PICKER_CLOSED",m="chat.EMOTE_PICKER_OPENED",p="chat.CLOSE_CHAT_RULES",h="chat.MODERATION_ACTIONS_ENABLED",f="chat.MODERATION_ACTIONS_DISABLED",g="chat.MOD_ICONS_ENABLED",v="chat.MOD_ICONS_DISABLED",y="chat.REPLIES_APPEARANCE_PREFERENCE_CHANGED",k="chat.SHOW_CHAT_RULES",S="chat.TIMESTAMPS_ENABLED",C="chat.TIMESTAMPS_DISABLED",b="chat.VIEWER_CHAT_FILTER_ENABLED",w="chat.VIEWER_CHAT_FILTER_DISABLED",E="chat.VIEWER_CHAT_FILTER_SETTINGS_CHANGED",_="chat.RENDER_SENT_CHAT_MESSAGE",N="chat.UNHIDE_IGNORED_COMMAND",D="chat.FONT_SIZE_PREFERENCE_CHANGED";function M(){return{type:S}}function I(){return{type:C}}function T(){return{type:r}}function P(){return{type:a}}function R(){return{type:d}}function A(){return{type:u}}function L(){return{type:h}}function F(){return{type:f}}function U(){return{type:g}}function x(){return{type:v}}function O(e){return{type:b,source:e||i.P6.Other}}function B(e){return{type:w,source:e||i.P6.Other}}function V(e,n){return{type:E,settings:e,source:n||i.P6.Other}}function q(e,n){return{type:s,channelLogin:e,duration:n}}function G(e,n){return{type:l,channelLogin:e,duration:n}}function H(){return{type:c}}function W(){return{type:m}}function z(){return{type:p}}function $(){return{type:k}}function j(e){return{type:_,customEvent:e}}function Y(e){return{type:N,userID:e}}function Q(e){return{type:D,fontSizePreference:e}}function J(e){return{type:y,preference:e}}},971212:function(e,n,t){"use strict";t.d(n,{T:function(){return l}});var i=t(667294),a=t(734995),r=t(270406),o=t(246797),s=t(58661),l=function(e){return i.createElement(a.A,{className:"keyboard-prompt",display:r.sS.Flex,alignItems:r.g1.Center,background:r.Aq.Alt,border:!0,borderRadius:o.c.Small,padding:{x:.5}},i.createElement(s.V,{className:"keyboard-prompt--text",color:r.Il.Alt2},e.text))}},238487:function(e,n,t){"use strict";t.d(n,{yX:function(){return F},D_:function(){return U},WP:function(){return x},Uf:function(){return O}});var i=t(570655),a=t(294184),r=t(667294),o=t(734995),s=t(302285),l=t(796441),d=t(58661),u=t(150125),c=t(831642),m=t(106801),p=t(469419),h=t(344689),f=t(742407),g=t(283140),v=t(646628),y=t(823503),k=t(667211),S=t(233912),C=t(77966),b=t(325820),w=t(587039),E=t(869487),_=t(498409),N=t(190109),D=t(331902),M=t(274178),I=t(180592),T=t(763565),P=t(251146),R=t(525778),A=t(952561),L=t(961502),F="#9147FF",U={twitchbot:"1"},x={badges:U,badgeDynamicData:{},bits:0,color:F,displayName:"AutoMod",id:"automod",userID:"automod",username:"automod",userType:w.t.GlobalMod,emotes:{}};var O=function(e){var n=r.useContext(b.lx),t=r.useContext(D.DG).serviceAPI,w=r.useContext(C.aO).page,F=r.useState(!1),U=F[0],O=F[1],B=e.message,V=(0,i.__assign)({},x),q=(0,m.Db)(R)[0],G=(0,m.Db)(L)[0],H=B,W=e.message.autoModType!==_.mT.MessageRejectedPrompt||e.isCurrentUserModerator&&e.showAutoModActions,z=(0,m.aM)(A,{variables:{senderID:H.sender&&H.sender.user_id||"",channelID:e.channelID||""},skip:!W||!e.channelID||B.autoModType!==_.mT.MessageRejectedPrompt}),$=z.data,j=z.loading;if(!W)return null;var Y=function(n,t){c.$6.tracking.track(f.N.AutoModUserActions,{channel_id:e.channelID,user_id:e.currentUserID||"",msg_id:n,action:t,page:w,ui_context:"chat"})},Q="";switch(B.autoModType){case _.mT.MessageRejectedPrompt:Q=function(e){var n;switch(e){case"aggressive":n=(0,c.wv)("hostility","AutoModLine");break;case"sexual":n=(0,c.wv)("sexual","AutoModLine");break;case"profanity":n=(0,c.wv)("profanity","AutoModLine");break;case"identity":n=(0,c.wv)("identity","AutoModLine");break;case"ableism":n=(0,P.ng)(P.Dt.Ableism);break;case"aggression":n=(0,P.ng)(P.Dt.Aggression);break;case"homophobia":n=(0,P.ng)(P.Dt.Homophobia);break;case"misogyny":n=(0,P.ng)(P.Dt.Misogyny);break;case"namecalling":n=(0,P.ng)(P.Dt.NameCalling);break;case"racism":n=(0,P.ng)(P.Dt.Racism);break;case"sexwords":n=(0,P.ng)(P.Dt.Sexual);break;case"swearing":n=(0,P.ng)(P.Dt.Profanity);break;default:return(0,c.wv)("Message is being held for review. Allow will post it to chat.","AutoModLine")}return(0,c.wv)("Held a message for reason: {category}. Allow will post it to chat.",{category:n},"AutoModLine")}(B.category);break;case _.mT.MessageRejected:Q=(0,c.wv)("Hey! Your message is being checked by mods and has not been sent.","AutoModLine");break;case _.mT.MessageAllowed:Q=(0,c.wv)("Mods have allowed your message. Happy chatting!","AutoModLine");var J=(Q+=" VoHiYo").match("VoHiYo");J&&void 0!==J.index&&(V.emotes[""+J.index]={startIndex:J.index,id:"81274"});break;case _.mT.MessageDenied:Q=(0,c.wv)("Mods have removed your message.","AutoModLine");break;case _.mT.MessageModApproved:case _.mT.MessageModDenied:default:return null}var K=(0,M.aE)(Q,V,v.Nv);switch(B.autoModType){case _.mT.MessageRejectedPrompt:if(B.rejectedMessage.deleted)return null;if(U)return r.createElement(o.A,{className:"chat-line__status"},(0,c.wv)("Thank you for your feedback!","ChatLine"));var X=["chat-line__message--alert","chat-line__message--special","chat-line__message--clearfix"],Z=void 0,ee=null==$?void 0:$.user;return Z=j?r.createElement(s.Vm,{lineCount:2}):ee?r.createElement(o.A,{className:a(X)},r.createElement(I.v0,{badgeSets:e.badgeSets,channelID:e.channelID,message:{__typename:"Message",id:B.id,deletedAt:"",sentAt:B.sent_at,content:{__typename:"MessageContent",text:B.content.text,fragments:(0,T.VK)(B.content.fragments)},sender:ee},hasModPermissions:!0,showModerationIcons:e.showModerationIcons,showTimestamps:!1,currentUserLogin:e.channelLogin,onUsernameClick:function(e){var t=e;t&&void 0!==t.keyCode&&t.keyCode!==p.m.Space&&t.keyCode!==p.m.Enter||B.autoModType===_.mT.MessageRejectedPrompt&&n.onShowViewerCard(B.rejectedMessage.user.userLogin,N.TU.chat_message,B.id,e.currentTarget.getBoundingClientRect().bottom)},surfaceError:function(e){null==t||t.handleMessage((0,E.W)(e))},highContrastUsernameColor:e.useHighContrastColors,theme:e.theme})):r.createElement(y.wS,(0,i.__assign)({},e,{canDelete:!1,isCurrentUserStaff:!1,isDeleted:!1,isHidden:!1,showTimestamps:!1,className:a(X),message:B.rejectedMessage})),r.createElement(o.A,{className:"chat-line__message"},r.createElement(g.k,{badgeSets:e.badgeSets,badgesToRender:K.badges}),r.createElement(k.Uk,{userData:K.user,highContrastUsernameColor:e.useHighContrastColors,theme:e.theme}),r.createElement("span",{key:"separator"},": "),(0,S.kz)(K.messageParts),r.createElement(o.A,{key:"automod-prompt",className:"chat-line__nested-component--float-right"},r.createElement(l.zx,{size:l.qE.Small,onClick:function(){O(!0),B.autoModType===_.mT.MessageRejectedPrompt&&q&&(q((0,h.k_)({id:B.rejectedMessage.id})),Y(B.rejectedMessage.id,"allow"))},type:l.L$.Text},(0,c.wv)("Allow","AutoModLine")),r.createElement(d.V,{type:u.yG.Span},""),r.createElement(l.zx,{size:l.qE.Small,onClick:function(){O(!0),B.autoModType===_.mT.MessageRejectedPrompt&&G&&(G((0,h.k_)({id:B.rejectedMessage.id})),Y(B.rejectedMessage.id,"deny"))},type:l.L$.Text},(0,c.wv)("Deny","AutoModLine"))),Z);case _.mT.MessageRejected:case _.mT.MessageAllowed:case _.mT.MessageDenied:return r.createElement(o.A,{className:a(["chat-line__message","chat-line__message--special","chat-line__message--alert"])},r.createElement(g.k,{badgeSets:e.badgeSets,badgesToRender:K.badges}),r.createElement(k.Uk,{userData:K.user,highContrastUsernameColor:e.useHighContrastColors,theme:e.theme}),r.createElement("span",{key:"separator"},": "),(0,S.kz)(K.messageParts));default:return null}};O.displayName="AutoModLine"},925445:function(e,n,t){"use strict";t.d(n,{Aq:function(){return s},EX:function(){return l}});var i=t(570655),a=t(667294),r=(0,t(884979).k)("ChatConfigContext",{hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,showChatAppearanceOnLoad:!1,updateChatConfigState:function(e){return null}}),o=r.context,s=r.withContext,l=function(e){function n(n){var t=e.call(this,n)||this;return t.updateChatConfigState=function(e){null===t.updateFrame&&(t.setState((function(n){return(0,i.__assign)((0,i.__assign)({},n),e)})),t.updateFrame=setTimeout((function(){t.updateFrame=null}),0))},t.updateFrame=null,t.state={hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,showChatAppearanceOnLoad:!1,updateChatConfigState:t.updateChatConfigState},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return a.createElement(o.Provider,{value:this.state},this.props.children)},n}(a.PureComponent)},986923:function(e,n,t){"use strict";t.d(n,{Tj:function(){return i},EB:function(){return d},M9:function(){return u}});var i,a=t(570655),r=t(667294),o=t(884979);!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.RECONNECTING=1]="RECONNECTING",e[e.CONNECTED=2]="CONNECTED"}(i||(i={}));var s=(0,o.k)("ChatConnectionStateContext",{chatConnectionState:i.DISCONNECTED,updateChatConnectionState:function(){return null}}),l=s.context,d=s.withContext,u=function(e){function n(n){var t=e.call(this,n)||this;return t.updateChatConnectionState=function(e){t.setState({chatConnectionState:e})},t.state={chatConnectionState:i.DISCONNECTED,updateChatConnectionState:t.updateChatConnectionState},t}return(0,a.__extends)(n,e),n.prototype.render=function(){return r.createElement(l.Provider,{value:this.state},this.props.children)},n}(r.Component)},13331:function(e,n,t){"use strict";t.d(n,{el:function(){return o},VV:function(){return s}});var i=t(667294),a=(0,t(884979).k)("ChatRoomStateContext",{displayBadges:[],onBadgesChanged:function(){return null}}),r=a.context,o=a.withContext,s=function(e){var n={displayBadges:e.displayBadges||[],onBadgesChanged:e.onBadgesChanged};return i.createElement(r.Provider,{value:n},e.children)}},877465:function(e,n,t){"use strict";t.d(n,{VX:function(){return i},P6:function(){return a},NX:function(){return g},tg:function(){return y}});var i,a,r=t(570655),o=t(667294),s=t(137703),l=t(14890),d=t(987145),u=t(797425),c=t(884979),m=t(419341),p=t(41598);!function(e){e.Excluded="control",e.OptIn="opt-in",e.OptOut="opt-out"}(i||(i={})),function(e){e.FilteredMessage="chat_filter_message",e.Onboarding="onboarding",e.Other="other"}(a||(a={}));var h=(0,c.k)("ChatFilterContext",{chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:function(){return null},showChatFilterSettings:function(){return null}}),f=h.context,g=h.withContext,v=function(e){function n(t){var r=e.call(this,t)||this;return r.hideChatFilterSettings=function(){r.setState({isShowingChatFilterSettings:!1})},r.showChatFilterSettings=function(e){r.setState({chatFilterSettingsSource:e||a.Other,isShowingChatFilterSettings:!0})},r.triggerPropCallbacks=function(){switch(n.getExperimentMembership(r.props)){case i.OptIn:void 0===r.props.viewerChatFilterEnabled&&r.props.disableViewerChatFilter(a.Other);break;case i.OptOut:void 0===r.props.viewerChatFilterEnabled&&r.props.enableViewerChatFilter(a.Other);break;case i.Excluded:}},r.state={chatFilterExperimentMembership:i.OptOut,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:r.hideChatFilterSettings,showChatFilterSettings:r.showChatFilterSettings},r}return(0,r.__extends)(n,e),n.getDerivedStateFromProps=function(e){return{chatFilterExperimentMembership:n.getExperimentMembership(e)}},n.getExperimentMembership=function(e){if(!e.isLoggedIn)return i.OptIn;if("en"!==e.languageCode)return i.Excluded;if(e.data&&e.data.currentUser&&e.data.currentUser.createdAt){return new Date(e.data.currentUser.createdAt)>=new Date("2019-01-18T21:49:42.699Z")?i.OptOut:i.OptIn}return i.Excluded},n.prototype.componentDidMount=function(){this.triggerPropCallbacks()},n.prototype.componentDidUpdate=function(){this.triggerPropCallbacks()},n.prototype.render=function(){return o.createElement(f.Provider,{value:this.state},this.props.children)},n}(o.Component);var y=(0,l.qC)((0,s.$j)((function(e){return{isLoggedIn:(0,u.jl)(e),languageCode:(0,u.ht)(e),viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled}}),(function(e){return(0,l.DE)({disableViewerChatFilter:m.Wy,enableViewerChatFilter:m.pZ},e)})),(0,d.TA)(p,{skip:function(e){return!e.isLoggedIn||"en"!==e.languageCode}}))(v)},337108:function(e,n,t){"use strict";t.d(n,{T:function(){return m}});var i=t(570655),a=t(294184),r=t(667294),o=t(734995),s=t(270406),l=t(175424),d=t(58661),u=t(150125),c=t(354660),m=function(e){function n(n){var t=e.call(this,n)||this;return t.onMouseOver=function(){t.setState({isHovering:!0})},t.onMouseOut=function(){t.setState({isHovering:!1})},t.renderImage=function(){var e=null,n=a("chat-image",{"chat-image__animated":!!t.props.cheerText},t.props.className);if(t.props.srcSet.themed)e=r.createElement(c.R,{alt:t.props.alt,className:n,defaultRes:t.props.srcKey,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,sources:t.props.srcSet});else{for(var i=[],o=0,s=Object.keys(t.props.srcSet.sources);o<s.length;o++){var l=s[o];i.push(t.props.srcSet.sources[l]+" "+l)}e=r.createElement("img",{className:n,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,src:t.props.srcSet.sources[t.props.srcKey],srcSet:i.join(","),alt:t.props.alt})}return e},t.state={isHovering:!1},t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=r.createElement(r.Fragment,null,r.createElement(o.A,{className:"chat-image__container",display:s.sS.InlineBlock,textAlign:s.PH.Center},this.renderImage()),this.props.cheerText);return e=this.state.isHovering?r.createElement(l.ns,{direction:this.props.tooltipDirection||l.AR.Top,label:this.props.alt,display:s.sS.Inline,offsetY:"0.9rem","data-a-target":"emote-name"},n):r.createElement("span",{"data-a-target":"emote-name"},n),this.props.cheerText?r.createElement(d.V,{type:u.yG.Span,whiteSpace:u.nZ.NoWrap,className:"chat-image-wrapper"},e):e},n}(r.Component)},652461:function(e,n,t){"use strict";t.d(n,{f:function(){return d}});var i=t(667294),a=t(58661),r=t(270406),o=t(150125),s=t(734995),l=t(535519),d=function(e){return i.createElement(s.A,{className:"common-tray-body"},(0,l.H)(e.children)?i.createElement(a.V,{color:r.Il.Alt2,wordBreak:o.I5.BreakWord},e.children):e.children)}},44683:function(e,n,t){"use strict";t.d(n,{X:function(){return h},F:function(){return f}});var i=t(667294),a=t(58661),r=t(270406),o=t(150125),s=t(734995),l=t(440837),d=t(382448),u=t(831642),c=t(535519),m=t(357941),p=t(613290);function h(){return(0,u.wv)("Close","CommonTrayHeader")}var f=function(e){var n=i.useContext(p.PL).activeInputTray,t=(0,m.A)(),u=i.useMemo((function(){return h()}),[]);return i.createElement(s.A,{display:r.sS.Flex,justifyContent:r.uM.Between,padding:(null==n?void 0:n.persistent)?{bottom:.5,x:.5}:0},e.icon&&i.createElement(s.A,{margin:.5},e.icon),i.createElement(s.A,{display:r.sS.Flex,flexGrow:1,alignItems:r.g1.Center,margin:{x:.5}},(0,c.H)(e.children)?i.createElement(a.V,{bold:!0,color:r.Il.Alt,fontSize:r.Bf.Size5,wordBreak:o.I5.BreakWord},e.children):e.children),!e.hideCloseButton&&i.createElement(l.Ei,{"aria-label":u,icon:d.e.Close,onClick:t,title:u}))}},535519:function(e,n,t){"use strict";function i(e){return"string"==typeof e}t.d(n,{H:function(){return i}})},357941:function(e,n,t){"use strict";t.d(n,{A:function(){return s}});var i=t(667294),a=t(613290),r=t(965347),o=t(224829),s=function(){var e=i.useContext(a.ww),n=i.useContext(a.PL).activeInputTray;return function(){n&&(n.onClose&&n.onClose(),(0,o.WX)(n)||(0,o.Ny)(n)?e((0,r.zB)()):e((0,r.Rv)()))}}},965347:function(e,n,t){"use strict";var i;function a(e){return{type:i.InputTraySet,tray:e}}function r(){return{type:i.InputTrayCleared}}function o(e){return{type:i.InputTrayErrorSet,error:e}}function s(){return{type:i.InputTrayErrorCleared}}function l(e){return{type:i.InputModifierTraySet,tray:e}}function d(){return{type:i.InputModifierTrayCleared}}t.d(n,{Us:function(){return i},aT:function(){return a},Rv:function(){return r},IZ:function(){return o},RI:function(){return s},PH:function(){return l},zB:function(){return d}}),function(e){e.InputTraySet="input-tray-set",e.InputTrayCleared="input-tray-cleared",e.InputTrayErrorSet="input-tray-error-set",e.InputTrayErrorCleared="input-tray-error-cleared",e.InputModifierTraySet="input-modifier-tray-set",e.InputModifierTrayCleared="input-modifier-tray-cleared"}(i||(i={}))},613290:function(e,n,t){"use strict";t.d(n,{PL:function(){return p},By:function(){return f},ww:function(){return d},WY:function(){return h},WA:function(){return u}});var i=t(667294),a=t(884979),r=t(570655),o=t(965347),s=function(e,n){var t,i,a,s;switch(n.type){case o.Us.InputTrayCleared:return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:void 0,inputTray:void 0,inputModifierTray:void 0});case o.Us.InputTraySet:return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:null!==(t=e.inputModifierTray)&&void 0!==t?t:n.tray,inputTray:n.tray});case o.Us.InputTrayErrorSet:if(e.inputTray){var l=(0,r.__assign)((0,r.__assign)({},e.inputTray),{error:n.error});return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:null!==(i=e.inputModifierTray)&&void 0!==i?i:l,inputTray:l})}return e;case o.Us.InputTrayErrorCleared:if(e.inputTray){l=(0,r.__assign)((0,r.__assign)({},e.inputTray),{error:void 0});return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:null!==(a=e.inputModifierTray)&&void 0!==a?a:l,inputTray:l})}return e;case o.Us.InputModifierTrayCleared:return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:null!==(s=e.inputTray)&&void 0!==s?s:void 0,inputModifierTray:void 0});case o.Us.InputModifierTraySet:return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:n.tray,inputModifierTray:n.tray});default:return e}},l=(0,a.k)("ChatInputTrayDispatchContext",(function(){return null})),d=l.context,u=l.withContext,c={},m=(0,a.k)("ChatInputTrayContext",c),p=m.context,h=m.withContext,f=function(e){var n=i.useReducer(s,c),t=n[0],a=n[1];return i.createElement(d.Provider,{value:a},i.createElement(p.Provider,{value:t},e.children))}},233563:function(e,n,t){"use strict";t.d(n,{LA:function(){return d},j9:function(){return u}});var i=t(570655),a=t(667294),r=t(884979),o=t(662487),s=(0,r.k)("ChatInputValueContext",{setAutocompleteInputRef:function(e){return null},setChatInputRef:function(e){return null},appendToChatInput:function(e,n){return null}}),l=s.context,d=s.withContext,u=function(e){function n(n){var t=e.call(this,n)||this;return t.setAutocompleteInputRef=function(e){t.autocompleteInputRef=e},t.setChatInputRef=function(e){t.chatInputRef=e},t.appendToChatInput=function(e,n){if(t.autocompleteInputRef){var i=t.autocompleteInputRef.getValue();t.autocompleteInputRef.setValue((0,o.A)(i,e)),n&&t.focusInput()}},t.focusInput=function(){t.chatInputRef&&t.chatInputRef.focus()},t.state={setAutocompleteInputRef:t.setAutocompleteInputRef,setChatInputRef:t.setChatInputRef,appendToChatInput:t.appendToChatInput},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return a.createElement(l.Provider,{value:this.state},this.props.children)},n}(a.Component)},482345:function(e,n,t){"use strict";t.r(n),t.d(n,{ChatRepliesMessageCardComponent:function(){return c},ChatRepliesMessageCard:function(){return m}});var i=t(570655),a=t(294184),r=t(667294),o=t(731110),s=t(106801),l=t(64125),d=t(823503),u=t(19596),c=function(e){var n,t=(0,s.aM)(l,{variables:{messageID:e.message.id||"",channelID:e.channelID||""}}),u=t.data,c=!1;!t.loading&&u&&u.message&&u.message.deletedAt&&(c=!0);var m=null===(n=e.className)||void 0===n?void 0:n.replace("chat-line--inline",""),p=a(m,e.fontScaleClassName);return r.createElement(o.o,{padding:{x:1,y:.5}},r.createElement(d.wS,(0,i.__assign)({},e,{isDeleted:c,className:p,disableReplyClick:!0})))},m=(0,u.M)()(c)},223176:function(e,n,t){"use strict";t.d(n,{b:function(){return T}});var i=t(137703),a=t(14890),r=t(987145),o=t(702631),s=t(523094),l=t(19596),d=t(64125),u=t(570655),c=t(294184),m=t(667294),p=t(731110),h=t(734995),f=t(270406),g=t(246797),v=t(392271),y=t(408128),k=t(75552),S=t(646628),C=t(823503),b=t(510091),w=t(498409),E=t(274178),_=t(840219),N=t(158469),D=t(647153),M="reply-message",I=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={showGradient:!1},n.didScroll=!1,n.doneScrolling=!1,n.scrollHandlerAttached=!1,n.scrollTracked=!1,n.experimentGroup=(0,N.C)(n.props.channelID),n.renderReplyMessages=function(e){var t,i,a,r;return null===(r=null===(a=null===(i=null===(t=n.props.data)||void 0===t?void 0:t.message)||void 0===i?void 0:i.replies)||void 0===a?void 0:a.nodes)||void 0===r?void 0:r.map((function(t){var i,a,r=null===(i=t.sender)||void 0===i?void 0:i.displayBadges,o=null==t?void 0:t.sender;if(!o||!t)return null;var s=(null===(a=t.content)||void 0===a?void 0:a.text)||"";n.experimentGroup!==N.E.Control&&(s=(0,E.Ct)(s,e).message);var l=(0,b.I)(w.Ay.Post,s,{id:t.id,badges:(0,k.UW)(r||[]),badgeDynamicData:null,emotes:(0,_.sZ)(s,t.content),userID:o.id,username:o.login||"",displayName:o.displayName||"",color:o.chatColor||"",userType:"",bits:0},S.Nv,null,!!t.deletedAt,!1,t.sentAt?new Date(t.sentAt).getTime():void 0),d=m.createElement(p.o,{key:l.id,className:"reply-list-item"},m.createElement(C.wS,{key:l.id,channelID:n.props.channelID,channelLogin:n.props.channelLogin,badgeSets:new k.yW(r||[],null==r?void 0:r.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)||"vip"===(null==e?void 0:e.setID)}))),message:l,isDeleted:l.deleted,isHidden:l.hidden,showModerationIcons:n.props.showModerationIcons,showTimestamps:n.props.showTimestamps,useHighContrastColors:!!n.props.useHighContrastColors,deletedMessageDisplay:n.props.deletedMessageDisplay,isCurrentUserModerator:n.props.isCurrentUserModerator,isCurrentUserStaff:n.props.isCurrentUserStaff,currentUserID:n.props.currentUserID,currentUserDisplayName:n.props.currentUserDisplayName,currentUserLogin:n.props.currentUserLogin,confirmModerationAction:n.props.confirmModerationAction,theme:n.props.theme,deletedCount:l.deletedCount,hideBroadcasterTooltip:n.props.hideBroadcasterTooltip,"data-test-selector":M,usesSchemaBadges:!0,disableReplyClick:!0}));return n.props.highlightMessageID===t.id?m.createElement(h.A,{position:f.Ly.Relative,ref:n.setRef},m.createElement(h.A,{className:c("chat-replies-list__reply-line--flash-animation",{"chat-replies-list__reply-line--flash-animation-dark":n.props.darkModeEnabled}),borderRadius:g.c.Small,position:f.Ly.Absolute,fullHeight:!0}),d):d}))},n.hideGradient=function(){!1!==n.state.showGradient&&n.setState({showGradient:!1})},n.showGradient=function(){!0!==n.state.showGradient&&n.setState({showGradient:!0})},n.addScrollHandler=function(){n.contentRef&&!n.scrollHandlerAttached&&(n.contentRef.addEventListener("scroll",n.handleScroll),n.scrollHandlerAttached=!0)},n.removeScrollHandler=function(){n.contentRef&&n.scrollHandlerAttached&&n.contentRef.removeEventListener("scroll",n.handleScroll)},n.handleScroll=function(){var e,t,i,a;if(!n.scrollTracked){var r=n.props,o=r.data,s=r.channelID,l=null===(e=null==o?void 0:o.message)||void 0===e?void 0:e.id,d=null===(a=null===(i=null===(t=n.props.data)||void 0===t?void 0:t.message)||void 0===i?void 0:i.sender)||void 0===a?void 0:a.id;n.doneScrolling?s&&l&&d&&((0,D.Lb)({channelID:s,opUserID:d,messageID:l}),n.scrollTracked=!0):n.doneScrolling=!0}},n.setRef=function(e){return n.chatRef=e},n.saveScrollRef=function(e){return n.scroll=e},n.saveContentRef=function(e){return n.contentRef=e},n}return(0,u.__extends)(n,e),n.prototype.componentDidUpdate=function(){var e;if(this.addScrollHandler(),(null===(e=this.scroll)||void 0===e?void 0:e.scrollContent)&&!this.didScroll)return this.props.highlightMessageID?void(this.chatRef&&(this.scroll.scrollContent.scrollTop=this.chatRef.offsetTop,this.didScroll=!0)):(this.scroll.scrollToBottom(),void(this.didScroll=!0))},n.prototype.componentWillUnmount=function(){this.contentRef&&this.scrollHandlerAttached&&this.removeScrollHandler()},n.prototype.render=function(){var e,n,t,i,a=null===(e=this.props.data)||void 0===e?void 0:e.message,r=null===(t=null===(n=this.props.data)||void 0===n?void 0:n.message)||void 0===t?void 0:t.sender,o=null==r?void 0:r.displayBadges;if(!a||!r||!o)return null;var s=r.login||"",l=r.displayName||"",d=(null===(i=a.content)||void 0===i?void 0:i.text)||"",u=(0,b.I)(w.Ay.Post,d,{id:a.id,badges:(0,k.UW)(o),badgeDynamicData:null,emotes:(0,_.sZ)(d,a.content),userID:r.id,username:s,displayName:l,color:r.chatColor||"",userType:"",bits:0},S.Nv,null,!!a.deletedAt,!1,a.sentAt?new Date(a.sentAt).getTime():void 0),g=m.createElement(C.wS,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,badgeSets:new k.yW(o,null==o?void 0:o.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)||"vip"===(null==e?void 0:e.setID)}))),message:u,isDeleted:u.deleted,isHidden:u.hidden,reply:u.reply,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,currentUserID:this.props.currentUserID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,confirmModerationAction:this.props.confirmModerationAction,theme:this.props.theme,deletedCount:u.deletedCount,hideBroadcasterTooltip:this.props.hideBroadcasterTooltip,disableReplyClick:!0});return m.createElement(h.A,{className:this.props.fontScaleClassName,display:f.sS.Flex,flexDirection:f.Qb.Column},m.createElement(h.A,{"data-test-selector":"parent"},m.createElement(p.o,{padding:{left:1}},g)),m.createElement(h.A,{className:"chat-replies-list__container",display:f.sS.Flex,flexDirection:f.Qb.Column,position:f.Ly.Relative},m.createElement(v._q,{scrollRef:this.saveScrollRef,contentRef:this.saveContentRef,suppressScrollX:!0},m.createElement(h.A,{margin:{left:1,right:.5},className:c({"chat-replies-list":!0,"chat-replies-list--with-gradient":this.state.showGradient}),"data-test-selector":"replies"},this.renderReplyMessages(l),m.createElement(y.X,{visible:this.hideGradient,notVisible:this.showGradient,pixelThreshold:25})))))},n}(m.Component);var T=(0,a.qC)((0,r.TA)(d,{options:function(e){var n;return{variables:{messageID:(null===(n=e.reply)||void 0===n?void 0:n.parentMsgId)||"",channelID:e.channelID||""},fetchPolicy:"network-only"}}}),(0,i.$j)((function(e){return{darkModeEnabled:(0,s.zv)(e)===o.Q.Dark}})),(0,l.M)())(I)},33250:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var i=t(667294),a=t(734995),r=t(270406),o=t(470216),s=t(382448),l=function(e){var n=e.persistent,t=n?18:20;return i.createElement(a.A,{color:n?r.Il.Alt2:void 0,className:"chat-restriction-tray-icon"},i.createElement(o.W,{asset:s.e.NotificationInfo,type:n?o.w.Inherit:o.w.Prime,height:t,width:t}))}},824942:function(e,n,t){"use strict";t.d(n,{j:function(){return s}});var i=t(667294),a=t(734995),r=t(270406),o=t(470216),s=function(e){return i.createElement(a.A,{display:r.sS.Flex,alignItems:r.g1.Center},i.createElement(o.W,{asset:e.asset}))}},102931:function(e,n,t){"use strict";t.d(n,{d:function(){return s}});var i=t(570655),a=t(667294),r=t(487163),o=t(707934),s=function(e){function n(n){var t=e.call(this,n)||this;return t.setTimeRemaining=function(){t.state.remainingTimeSeconds>0?t.setState((function(e){return{remainingTimeSeconds:e.remainingTimeSeconds-1}})):t.props.onCompletion&&(t.countdownTimer.stop(),t.props.onCompletion())},t.state={remainingTimeSeconds:n.timeToCountDownFromSeconds},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.countdownTimer=new o.z({onInterval:this.setTimeRemaining,intervalMillis:1e3}),this.countdownTimer.start()},n.prototype.componentWillUnmount=function(){this.countdownTimer.stop()},n.prototype.render=function(){return a.createElement(a.Fragment,null,(0,r.LU)(this.state.remainingTimeSeconds,this.props.durationStyle||r.$0.Humanized))},n}(a.Component)},972130:function(e,n,t){"use strict";t.d(n,{b:function(){return s}});var i=t(667294),a=t(734995),r=t(353488),o=t(382448),s=function(){return i.createElement(a.A,{className:"warning-modifier-tray-icon"},i.createElement(r.JO,{asset:o.e.NotificationWarning}))}},224829:function(e,n,t){"use strict";t.d(n,{WX:function(){return a},Ny:function(){return r},Br:function(){return o}});var i=t(721482);function a(e){return e&&i.g_.has(e.type)}function r(e){return e&&e.type===i.v4.AutocompleteTray}function o(e){return null==e?void 0:e.error}},581248:function(e,n,t){"use strict";t.d(n,{r:function(){return qn}});var i,a=t(570655),r=t(667294),o=t(734995),s=t(238487),l=t(137703),d=t(14890),u=t(325820),c=t(360569),m=t(677891),p=t(58661),h=t(283140),f=t(233912),g=t(763565);!function(e){e.Timestamp="extension-message-timestamp",e.ExtensionName="extension-message-name"}(i||(i={}));var v=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onExtensionNameClick=function(e){var t=n.props.message;n.props.onExtensionNameClick(t.extension.clientID,t.extension.version,t.id,e.currentTarget.getBoundingClientRect().bottom)},n}return(0,a.__extends)(n,e),n.prototype.render=function(){if(!this.props.installedExtensions)return null;var e=this.props.message;if(!this.props.installedExtensions.some((function(n){var t=n.extension;return t.clientId===e.extension.clientID&&t.version===e.extension.version})))return null;var n=this.props.message.extension.displayBadges;return r.createElement(o.A,{padding:{x:2,y:.5}},r.createElement("div",{id:this.props.message.id,className:"room-message"},this.renderTimestamp(),r.createElement(h.k,{badgeSets:this.props.badgeSets,badgesToRender:n}),this.renderMessageAuthor(this.props.message.extension),r.createElement("span",null,": "),this.renderMessageBody()))},n.prototype.renderTimestamp=function(){return this.props.showTimestamps?r.createElement("span",{key:"timestamp",className:"room-message__timestamp","data-test-selector":i.Timestamp},(0,f.i$)(new Date(this.props.message.sentAt))):null},n.prototype.renderMessageBody=function(){var e=(0,g.cv)(this.props.message);return(0,f.kz)(e,{forceClipsNetworkRequest:!0})},n.prototype.renderMessageAuthor=function(e){return r.createElement("button",{onClick:this.onExtensionNameClick,"data-test-selector":i.ExtensionName},r.createElement("span",{key:e.clientID+"-"+e.version+"-messageauthor"},r.createElement("span",{key:"username-display",style:{color:e.chatColor}},r.createElement(p.V,{bold:!0},e.displayName))))},n}(r.Component);var y=(0,d.qC)((0,l.$j)((function(e,n){return{installedExtensions:n.channelID?(0,m.jh)(e,n.channelID):null}})),(0,u.Hu)((function(e){return{onExtensionNameClick:e.onShowExtensionMessageCard}})),(0,c.Kz)({name:"extensionsForChannel",skip:function(e){return!e.channelID||!!e.installedExtensions},options:function(e){return{variables:{channelID:e.channelID||""}}}}))(v),k=t(498409),S=t(270406),C=t(470216),b=t(382448),w=t(150125),E=t(831642),_=t(606382),N=t(573768),D=t(190109),M=function(e){var n=e.event,t=n.promoGiftTotal,i=n.promoName,a=n.user,s=r.createElement(N.N,{contentID:a.id,login:a.username,sourceType:D.TU.chat_message},(0,_.I)(a.username,a.displayName)),l=i&&t?(0,E.wv)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!        They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{promoGiftTotal:t,promoName:i,recipientButton:s},"AnonGiftPaidUpgradeNoticeLine"):(0,E.wv)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!",{recipientButton:s},"AnonGiftPaidUpgradeNoticeLine");return r.createElement(o.A,{alignItems:S.g1.Start,display:S.sS.Flex},r.createElement(o.A,{color:S.Il.Alt2,display:S.sS.Flex,flexDirection:S.Qb.Column,flexShrink:0,margin:{right:.5}},r.createElement(C.W,{asset:b.e.Ghost})),r.createElement(p.V,{color:S.Il.Alt2,type:w.yG.Span},l))};M.displayName="AnonGiftPaidUpgradeNoticeLine";var I=t(313881),T=function(e){return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},e.moderationIcons,r.createElement(M,{event:e.message}))};T.displayName="AnonGiftPaidUpgradeLine";var P=t(965343),R=function(e){var n=e.event,t=r.createElement(N.N,{contentID:n.recipientID,login:n.recipientLogin,sourceType:D.TU.chat_message},(0,_.I)(n.recipientLogin,n.recipientDisplayName));return r.createElement(o.A,{alignItems:S.g1.Start,display:S.sS.Flex},r.createElement(o.A,{color:S.Il.Alt2,display:S.sS.Flex,flexDirection:S.Qb.Column,flexShrink:0,margin:{right:.5}},r.createElement(C.W,{asset:b.e.Ghost})),r.createElement(p.V,{color:S.Il.Alt2,type:w.yG.Span},function(e,n,t){return t>1?"custom"===e.plan?(0,E.wv)("{giftMonths, plural, one {An anonymous gifter gifted # month to {recipientButton}!} other {An anonymous gifter gifted # months to {recipientButton}!}}",{giftMonths:t,recipientButton:n},"AnonSubGiftNoticeLine"):(0,E.wv)("{giftMonths, plural, one {An anonymous gifter gifted # month of Tier {tierNumber} to {recipientButton}!} other {An anonymous gifter gifted # months of Tier {tierNumber} to {recipientButton}!}}",{giftMonths:t,tierNumber:(0,P.K)(e.plan)||1,recipientButton:n},"AnonSubGiftNoticeLine"):"custom"===e.plan?(0,E.wv)("An anonymous gifter gave {recipientButton} a Sub!",{recipientButton:n},"AnonSubGiftNoticeLine"):(0,E.wv)("An anonymous gifter gave {recipientButton} a Tier {tierNumber} Sub!",{recipientButton:n,tierNumber:(0,P.K)(e.plan)||1},"AnonSubGiftNoticeLine")}(n.methods,t,n.giftMonths)))};R.displayName="AnonSubGiftNoticeLine";var A=function(e){return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(R,{event:e.message}))};A.displayName="AnonSubGiftLine";var L=function(e){var n=e.event,t=n.channel,i=n.massGiftCount,a=n.plan,s="custom"===a?(0,E.wv)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:t,massGiftCount:i},"AnonSubMysteryGiftNoticeLine"):(0,E.wv)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:t,massGiftCount:i,tierNumber:(0,P.K)(a)||1},"AnonSubMysteryGiftNoticeLine");return r.createElement(o.A,{alignItems:S.g1.Start,display:S.sS.Flex},r.createElement(o.A,{color:S.Il.Alt2,display:S.sS.Flex,flexDirection:S.Qb.Column,flexShrink:0,margin:{right:.5}},r.createElement(C.W,{asset:b.e.Ghost})),r.createElement(p.V,{color:S.Il.Alt2,type:w.yG.Span},s))};L.displayName="AnonSubMysteryGiftNoticeLine";var F=t(437115),U=function(e){var n=e.event.threshold,t=e.badgeSets.getBadge(F.So,n.toString()),i=(0,E.wv)("{text} Bits badge!",{text:(0,F._k)(t,n)},"BitsBadgeTierNotification");return r.createElement(o.A,{display:S.sS.Flex},r.createElement(C.W,{height:20,width:20,asset:b.e.Bits,type:C.w.Alt2}),r.createElement(o.A,{color:S.Il.Alt2,padding:{left:.5},display:S.sS.Inline},(0,E.wv)("{userLogin} just earned a new <x:bold>{boldedBadgeText}</x:bold>",{userLogin:r.createElement(N.N,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.TU.chat_message},(0,_.I)(e.event.user.userID,e.event.user.displayName)),boldedBadgeText:i,"x:bold":function(e){return r.createElement(p.V,{color:S.Il.Base,bold:!0,type:w.yG.Span},e)}},"BitsBadgeTierNotification")))};U.displayName="BitsBadgeTierNoticeLine";var x=t(823503),O=function(e){var n=null;return e.message.message.messageParts&&e.message.message.messageParts.length>0&&(n=r.createElement(o.A,{padding:{top:.5}},r.createElement(x.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:e.message.message.deleted,isHidden:e.message.message.hidden,message:e.message.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay}))),r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(U,{event:e.message,badgeSets:e.badgeSets}),n)};O.displayName="BitsBadgeTierMessage";var B=function(e){return r.createElement(o.A,{className:"chat-line__bits-charity",padding:{right:2,y:.5}},(0,f.c3)(e.message))};B.displayName="BitsCharityLine";var V=t(128416),q=function(e){var n=e.message,t=e.primaryColorHex,i=r.useMemo((function(){return r.createElement(N.N,{contentID:n.userID,login:n.login,sourceType:D.TU.chat_message},(0,_.I)(n.login,n.displayName))}),[n]),a=r.useMemo((function(){var e=(0,E.wv)("{user} is about to launch a Small Celebration!",{user:i},"CelebrationPurchaseLine");switch(n.intensity){case V.aNj.SMALL:return e;case V.aNj.MEDIUM:return(0,E.wv)("{user} is about to launch a Medium Celebration!",{user:i},"CelebrationPurchaseLine");case V.aNj.LARGE:return(0,E.wv)("{user} is about to launch a Large Celebration!",{user:i},"CelebrationPurchaseLine");default:return e}}),[n,i]);return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:t},r.createElement(o.A,{display:S.sS.InlineFlex,flexWrap:S.gP.Wrap},r.createElement(p.V,{type:w.yG.Span,color:S.Il.Alt2},a)))},G=t(900060),H=t(773105),W=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){if(!this.props.event.reward||!this.props.isChannelPointsFeatureFlagOn)return this.props.children?r.createElement(r.Fragment,null,this.props.children):null;var e=(0,E.wv)("{user} redeemed {reward}",{user:this.props.event.displayName,reward:this.props.event.reward.name},"ChannelPointsRewardLine");this.props.children&&(e=(0,E.wv)("Redeemed {reward}",{reward:this.props.event.reward.name},"ChannelPointsRewardLine"));var n=this.props.children;if(this.props.children){var t=r.Children.only(this.props.children);n=r.cloneElement(t,{className:"chat-line--inline",isHighlighted:this.props.event.reward.isHighlighted})}return r.createElement(I.X,{isHighlighted:!1,primaryColorHex:null},r.createElement(o.A,{color:S.Il.Alt2},e,r.createElement(o.A,{className:"channel-points-reward-line__icon",display:S.sS.Inline,verticalAlign:S.g$.Middle},r.createElement(G.ZN,null)),(0,E.uf)(this.props.event.reward.cost)),n&&r.createElement(o.A,{margin:{top:.5}},n))},n}(r.Component);var z=(0,H.q)((function(e){return{isChannelPointsFeatureFlagOn:e.isChannelPointsFeatureFlagOn,pointIcon:e.pointIcon,rewardMap:e.rewardMap}}))(W),$=function(){return r.createElement(o.A,{className:"chat-line__status"},(0,E.wv)("Chat was cleared by a moderator","ChatLine"))};$.displayName="ChatClearedLine";var j=function(){return r.createElement(o.A,{className:"chat-line__status","data-a-target":"chat-welcome-message"},r.createElement(p.V,{type:w.yG.Span},(0,E.wv)("Welcome to the chat room!","ChatLine")))};j.displayName="ChatConnectedLine";var Y=function(e){return e.message.reason?r.createElement(o.A,{className:"chat-line__status"},r.createElement(p.V,{type:w.yG.Span},(0,E.wv)("You have been disconnected from chat for the following reason: {reason}",{reason:e.message.reason},"ChatLine"))):r.createElement(o.A,{className:"chat-line__status"},r.createElement(p.V,{type:w.yG.Span},(0,E.wv)("Sorry, we were unable to connect to chat. Attempting to reconnect...","ChatLine")))};Y.displayName="ChatDisconnectedLine";var Q=function(e){var n,t=e.channelLogin,i=e.event,a=i.challengeName,s=i.displayName,l=i.userContribution,d=i.hasMultipleChallenges,u=i.otherContributors.size;return n=0===u?(0,E.wv)("{user} has contributed {pointIcon} {amount} total to the {challengeName} challenge",{user:s,pointIcon:r.createElement(o.A,{display:S.sS.InlineFlex,verticalAlign:S.g$.Top},r.createElement(G.ZN,null)),amount:(0,E.uf)(l),challengeName:a},"CommunityChallengeContributionLine"):d?(0,E.wv)("{otherViewerCount, plural, one {{viewerName} and # other contributed to {streamerName}'s community challenges}       other {{viewerName} and # others contributed to {streamerName}'s community challenges}}",{viewerName:s,otherViewerCount:u,streamerName:t},"CommunityChallengeContributionLine"):(0,E.wv)("{otherViewerCount, plural, one {{viewerName} and # other contributed to the {challengeName} challenge}       other {{viewerName} and # others contributed to the {challengeName} challenge}}",{viewerName:s,otherViewerCount:u,challengeName:a},"CommunityChallengeContributionLine"),r.createElement(I.X,{isHighlighted:!1,primaryColorHex:null},r.createElement(o.A,{display:S.sS.InlineFlex,flexWrap:S.gP.Wrap},r.createElement(p.V,{type:w.yG.Span,color:S.Il.Alt2},n)))},J=function(e){return r.createElement(o.A,{className:"chat-line__status"},(0,f.fY)(e.message))};J.displayName="EmoteOnlyModeLine";var K=function(e){var n=r.createElement(o.A,{display:S.sS.Block},r.createElement(N.N,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.TU.chat_message},r.createElement(p.V,{color:S.Il.Link},(0,_.I)(e.event.user.username,e.event.user.displayName)))),t=new Date;t.setDate(1),t.setMonth(parseInt(e.event.benefitEndMonth,10)-1);var i=(0,E.wv)("{userLogin} <x:strong> Extended </x:strong> their Tier 1 subscription through {benefitEndMonth}!",{userLogin:n,benefitEndMonth:(0,E.p6)(t,{month:"long"}),"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span},e)}},"ExtendSubscriptionNoticeLine");return r.createElement(o.A,{display:S.sS.Flex},r.createElement(o.A,{color:S.Il.Alt2},r.createElement(C.W,{asset:b.e.Star})),r.createElement(o.A,{margin:{left:.5}},r.createElement(p.V,null,i)))};K.displayName="ExtendSubscriptionNoticeLine";var X=function(e){return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(o.A,{display:S.sS.Flex,justifyContent:S.uM.Between},r.createElement(o.A,null,r.createElement(K,{event:e.message})),r.createElement(o.A,{alignItems:S.g1.End},e.moderationIcons)))};X.displayName="ExtendSubLine";var Z=function(e){return r.createElement(o.A,{color:S.Il.Alt2,display:S.sS.Inline},(0,E.wv)("{userLogin} just made their first cheer!",{userLogin:r.createElement(N.N,{contentID:e.event.message.id,login:e.event.message.user.userLogin,sourceType:D.TU.chat_message},(0,_.I)(e.event.message.user.userLogin,e.event.message.user.userDisplayName))},"FirstCheerNoticeLine"))};Z.displayName="FirstCheerNoticeLine";var ee=function(e){return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(Z,{event:e.message}),r.createElement(o.A,null,r.createElement(x.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:e.message.message.deleted,isHidden:e.message.message.hidden,message:e.message.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay})))};ee.displayName="FirstCheerMessage";var ne=function(e){return r.createElement(o.A,{className:"chat-line__status"},(0,f.qV)(e.message))};ne.displayName="FollowerOnlyModeLine";var te=function(e){var n=e.event,t=r.createElement(N.N,{contentID:n.user.id,login:n.user.username,sourceType:D.TU.chat_message},(0,_.I)(n.user.username,n.user.displayName)),i=r.createElement(N.N,{contentID:n.user.id,login:n.senderLogin,sourceType:D.TU.chat_message},(0,_.I)(n.senderLogin,n.senderName));return r.createElement(p.V,{color:S.Il.Alt2,type:w.yG.Span},n.promoName&&n.promoGiftTotal?(0,E.wv)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!            They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{gifterButton:i,promoGiftTotal:n.promoGiftTotal,promoName:n.promoName,recipientButton:t},"GiftPaidUpgradeNoticeLine"):(0,E.wv)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!",{gifterButton:i,recipientButton:t},"GiftPaidUpgradeNoticeLine"))};te.displayName="GiftPaidUpgradeNoticeLine";var ie,ae=function(e){return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},e.moderationIcons,r.createElement(te,{event:e.message}))};ae.displayName="GiftPaidUpgradeLine",function(e){e[e.MOD_ICONS=0]="MOD_ICONS",e[e.MESSAGE=1]="MESSAGE"}(ie||(ie={}));var re=function(e){var n=e.event,t=e.moderationIcons;return r.createElement(o.A,{className:"gift-pay-forward-line",color:S.Il.Alt2,margin:{y:.5},padding:{right:2,y:.5}},t&&r.createElement(o.A,{"data-test-selector":ie.MOD_ICONS},t),r.createElement(o.A,{"data-test-selector":ie.MESSAGE},function(e){var n=e.user.displayName,t=e.priorGifter.displayName;if(e.type===k.SJ.CommunityPayForward)return e.priorGifter.anonymous?(0,E.wv)("{sender} is paying forward the Gift they got from an anonymous gifter to the community!",{sender:n},"GiftPayForwardLine"):(0,E.wv)("{sender} is paying forward the Gift they got from {priorGifter} to the community!",{sender:n,priorGifter:t},"GiftPayForwardLine");var i=e.recipient.displayName;return e.priorGifter.anonymous?(0,E.wv)("{sender} is paying forward the Gift they got from an anonymous gifter to {recipient}!",{sender:n,recipient:i},"GiftPayForwardLine"):(0,E.wv)("{sender} is paying forward the Gift they got from {priorGifter} to {recipient}!",{sender:n,priorGifter:t,recipient:i},"GiftPayForwardLine")}(n)))};re.displayName="GiftPayForwardLine";var oe=function(e){return r.createElement(o.A,{className:"chat-line__status"},r.createElement(p.V,{type:w.yG.Span},(0,E.wv)("Now hosting {channel}",{channel:e.message.hostedChannel},"ChatLine")))};oe.displayName="HostingLine";var se=t(246797),le=t(440837),de=t(848241),ue=t(440281),ce=t(796441),me=t(175850),pe=t(885643),he=t(497354),fe=t(613290),ge=t(965347),ve=function(e){function n(n){var t=e.call(this,n)||this;return t.state={contextMenuOpen:!1,hideCTA:!1,isHidden:!1},t.toggleContextMenu=function(){var e=t.state.contextMenuOpen;t.setState({contextMenuOpen:!e})},t.onContextMenuClickout=function(){t.setState({contextMenuOpen:!1})},t.hideOnContextMenuAction=function(e){if(void 0!==e)return function(){e(),t.setState({isHidden:!0})}},t.actionClick=t.actionClick.bind(t),t.showCTA=t.showCTA.bind(t),t}return(0,a.__extends)(n,e),n.prototype.render=function(){if(this.state.isHidden)return null;var e=this.props.event.callout,n=void 0===this.props.messageIndex||this.props.messageIndex<6;return r.createElement(o.A,{border:!0,background:S.Aq.Alt,borderRadius:se.c.Medium,margin:{x:2,y:.5}},r.createElement(o.A,{display:S.sS.Flex,flexDirection:S.Qb.Row,alignItems:S.g1.Center,className:"inline-private-callout-line__header"},r.createElement(C.W,{asset:b.e.Lock,width:14,height:14}),r.createElement(o.A,{padding:{left:.5}},r.createElement(p.V,{color:S.Il.Alt2}," ",(0,E.wv)("Only visible to you","InlineChatPrivateCallout")," "))),r.createElement(o.A,{display:S.sS.Flex,alignItems:S.g1.Center,padding:1,borderTop:!0},e.icon&&r.createElement(o.A,{className:"inline-private-callout-line__icon",margin:{right:1},padding:e.hideIconBackground?void 0:.5,display:S.sS.Flex,flexGrow:0,flexShrink:0,alignItems:S.g1.Center,justifyContent:S.uM.Center,background:e.hideIconBackground?void 0:S.Aq.Base,borderRadius:se.c.Rounded,border:!e.hideIconBackground},e.icon),r.createElement(o.A,{flexGrow:1,padding:{right:1}},r.createElement(p.V,{color:S.Il.Base,bold:!0,type:w.yG.Span},e.title)),e.cta&&this.renderButton(e),e.contextMenuProps&&r.createElement(o.A,{color:S.Il.Base,position:S.Ly.Relative,padding:{top:.5,bottom:1,x:.5}},r.createElement(me.c,{onClickOut:this.onContextMenuClickout},r.createElement(le.Ei,{icon:b.e.More,onClick:this.toggleContextMenu,"aria-label":"more options"}),r.createElement(de.l,{show:this.state.contextMenuOpen,direction:n?ue.O.BottomRight:ue.O.TopRight,offsetX:"12px"},r.createElement(pe.x,{event:e.contextMenuProps.event,onPin:this.hideOnContextMenuAction(e.contextMenuProps.onPin),onHide:this.hideOnContextMenuAction(e.contextMenuProps.onHide),onSkip:this.hideOnContextMenuAction(e.contextMenuProps.onSkip)}))))),e.withReminderText&&r.createElement(o.A,{borderTop:!0,background:S.Aq.Base,padding:{left:1}},r.createElement(p.V,{color:S.Il.Alt2,type:w.yG.Span},(0,E.wv)("You will be reminded later","InlinePrivateCallout"))))},n.prototype.renderButton=function(e){var n;return e.action?n=e.action:this.props.event.tray&&(n=this.actionClick),n?r.createElement(o.A,{visibility:this.state.hideCTA?S.EE.Hidden:S.EE.Visible},r.createElement(ce.zx,{onClick:n,size:ce.qE.Small,children:e.cta})):null},n.prototype.actionClick=function(){var e;if(this.props.event.tray){var n=this.props.event.tray;n.onClose=this.showCTA,(null===(e=n.sendMessageHandler)||void 0===e?void 0:e.params)&&(n.sendMessageHandler.params.privateCalloutTrackingContext=he.iv.Chat),this.props.setTray(n),this.setState({hideCTA:!0}),(0,he.qD)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.props.event.callout.trackingType,privateCalloutSID:this.props.event.callout.privateSID,clickType:this.props.event.callout.trackingClickType,uiContext:he.iv.Chat})}},n.prototype.showCTA=function(){this.setState({hideCTA:!1})},n}(r.Component);var ye=(0,d.qC)((0,fe.WA)((function(e){return{setTray:function(n){return e((0,ge.aT)(n))}}})))(ve),ke=function(e){return e.channelLogin&&e.currentUserLogin?r.createElement(ye,{event:e.event,channelID:e.channelID,channelLogin:e.channelLogin,currentUserLogin:e.currentUserLogin,currentUserID:e.currentUserID,messageIndex:e.messageIndex}):null};ke.displayName="InlinePrivateCalloutLine";var Se=t(269731),Ce=function(){return r.createElement(o.A,{className:"chat-line__message",display:S.sS.Flex,alignItems:S.g1.Center},r.createElement(o.A,{className:"live-message-separator-line__hr",flexGrow:1,margin:{right:1}}),r.createElement(Se.u,{label:(0,E.wv)("Chat messages above were sent in the past hour","LiveMessageSeparatorLine"),options:{placement:"top-start"}},r.createElement(p.V,{color:S.Il.Live,type:w.yG.Span},(0,E.wv)("New","ChatLine"))))};Ce.displayName="LiveMessageSeparatorLine";var be=t(380079),we=t(487163),Ee=t(228562),_e=t(906704),Ne=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.props.moderationActionEvent,n=e.createdByLogin,t=null;if(e.moderationActionType===_e.e0.AutoModEnabled)t=(0,E.wv)("AutoMod has been enabled for this channel.","ModerationActionLine");else if(e.level===be.gm.Channel)switch(e.moderationActionType){case _e.e0.Clear:t=(0,E.wv)("{user} cleared chat for this room.",{user:n},"ModerationActionLine");break;case _e.e0.EmoteOnly:t=(0,E.wv)("{user} enabled emote-only mode for this room.",{user:n},"ModerationActionLine");break;case _e.e0.EmoteOnlyOff:t=(0,E.wv)("{user} disabled emote-only for this room.",{user:n},"ModerationActionLine");break;case _e.e0.FollowersOnly:var i=(e.args||[""]).join(" ").trim(),a=parseInt(i,10);t=a?(0,E.wv)("{user} enabled {length} followers-only mode for this room.",{user:n,length:(0,we.LU)(60*a)},"ModerationActionLine"):(0,E.wv)("{user} enabled followers-only mode for this room.",{user:n},"ModerationActionLine");break;case _e.e0.FollowersOnlyOff:t=(0,E.wv)("{user} disabled followers-only mode for this room.",{user:n},"ModerationActionLine");break;case _e.e0.R9kBeta:t=(0,E.wv)("{user} enabled unique-chat mode for this room.",{user:n},"ModerationActionLine");break;case _e.e0.R9kBetaOff:t=(0,E.wv)("{user} disabled unique-chat mode for this room.",{user:n},"ModerationActionLine");break;case _e.e0.Slow:var s=(e.args||["30"]).join(" ").trim(),l=parseInt(s,10);t=(0,E.wv)("{user} enabled {slowTime}-second slow mode for this room.",{user:n,slowTime:l},"ModerationActionLine");break;case _e.e0.SlowOff:t=(0,E.wv)("{user} disabled slow mode for this room.",{user:n},"ModerationActionLine");break;case _e.e0.SubscribersOnly:t=(0,E.wv)("{user} enabled subscribers-only mode for this room.",{user:n},"ModerationActionLine");break;case _e.e0.SubscribersOnlyOff:t=(0,E.wv)("{user} disabled subscribers-only mode for this room.",{user:n},"ModerationActionLine");break;default:var d=e.args&&e.args.join(" ").trim(),u=d&&d.length>0?"/"+e.moderationActionType+" "+d:""+e.moderationActionType;t=(0,E.wv)("{user} used: {command}.",{user:e.createdByLogin,command:u},"ModerationActionLine")}else{var c=e.targetUserLogin,m=e.duration,h=e.reason,f=e.messageBody;switch(e.moderationActionType){case _e.e0.Timeout:t=e.level===be.gm.User&&this.props.currentUserLogin&&c===this.props.currentUserLogin?m&&h?(0,E.wv)("{duration, plural, one {You were timed out for # second. Reason: {reason}.} other {You were timed out for # seconds. Reason: {reason}.}}",{duration:m,reason:h},"ModerationActionLine"):m?(0,E.wv)("{duration, plural, one {You were timed out for # second.} other {You were timed out for # seconds.}}",{duration:m},"ModerationActionLine"):h?(0,E.wv)("You were timed out. Reason: {reason}.",{reason:h},"ModerationActionLine"):(0,E.wv)("You were timed out.","ModerationActionLine"):m&&h?(0,E.wv)("{duration, plural, one {{user} timed out {target} for # second. Reason: {reason}.} other {{user} timed out {target} for # seconds. Reason: {reason}.}}",{user:n,target:c,duration:m,reason:h},"ModerationActionLine"):m?(0,E.wv)("{duration, plural, one {{user} timed out {target} for # second.} other {{user} timed out {target} for # seconds.}}",{user:n,target:c,duration:m},"ModerationActionLine"):(0,E.wv)("{user} timed out {target}.",{user:n,target:c},"ModerationActionLine");break;case _e.e0.Ban:t=!n&&h?(0,E.wv)("You were banned. Reason: {reason}.",{reason:h},"ModerationActionLine"):n?h?(0,E.wv)("{user} banned {target}. Reason: {reason}.",{user:n,target:c,reason:h},"ModerationActionLine"):(0,E.wv)("{user} banned {target}.",{user:n,target:c},"ModerationActionLine"):(0,E.wv)("You were banned.","ModerationActionLine");break;case _e.e0.Untimeout:t=(0,E.wv)("{user} removed time out on {target}.",{user:n,target:c},"ModerationActionLine");break;case _e.e0.Unban:t=(0,E.wv)("{user} removed ban on {target}.",{user:n,target:c},"ModerationActionLine");break;case _e.e0.Mod:t=(0,E.wv)("{user} granted moderator privileges to {target}.",{user:n,target:c},"ModerationActionLine");break;case _e.e0.Unmod:t=(0,E.wv)("{user} removed moderator privileges for {target}.",{user:n,target:c},"ModerationActionLine");break;case _e.e0.Delete:var g=f||"";t=r.createElement(Ee.C,{targetLogin:c,moderatorLogin:n,messageBody:g});break;default:return null}}return t?r.createElement(o.A,{className:"chat-line__status","data-a-target":"moderation-action"},r.createElement(p.V,{type:w.yG.Span},t)):null},n}(r.Component),De=function(e){return e.isCurrentUserModerator&&e.showModerationActions||e.moderationActionEvent.level===be.gm.User&&e.moderationActionEvent.targetUserLogin&&e.moderationActionEvent.targetUserLogin===e.currentUserLogin?r.createElement(Ne,{moderationActionEvent:e.moderationActionEvent,currentUserLogin:e.currentUserLogin}):null},Me=function(e){return e.isCurrentUserModerator&&!e.showModerationActions?e.deletedMessageDisplay===V.zCI.BRIEF?null:r.createElement(o.A,{className:"chat-line__moderation"},(0,f.mf)(e.message)):null};Me.displayName="ModerationLine";var Ie,Te=t(687837),Pe="https://www.twitch.tv/settings/connections";!function(e){e.Kickback="msg_blizzard",e.Enabled="blizzard_connect_on",e.Disabled="blizzard_connect_off",e.AlreadyEnabled="already_blizzard_mode_on",e.AlreadyDisabled="already_blizzard_mode_off"}(Ie||(Ie={}));var Re=function(e){var n=null;switch(e.type){case Ie.Kickback:var t=r.createElement(Te.s,{targetBlank:!0,linkTo:Pe},Pe);n=(0,E.wv)("You must connect your Blizzard account to send messages in this room. You can connect your Blizzard account in your Twitch settings at {settingsLink}",{settingsLink:t},"BlizzardConnectModeNoticeLine");break;case Ie.Enabled:n=(0,E.wv)("This room now requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case Ie.Disabled:n=(0,E.wv)("This room no longer requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case Ie.AlreadyEnabled:n=(0,E.wv)("This room already requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case Ie.AlreadyDisabled:n=(0,E.wv)("This room does not require a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;default:return null}return r.createElement(o.A,null,n)};function Ae(e){return{bad_host_error:(0,E.wv)("There was a problem hosting. Please try again in a minute.","HostNoticeLine"),bad_unhost_error:(0,E.wv)("There was a problem exiting host mode. Please try again in a minute.","HostNoticeLine"),bad_host_self:(0,E.wv)("A channel cannot host itself.","HostNoticeLine"),bad_host_hosting:(0,E.wv)("This channel is already hosting.","HostNoticeLine"),bad_host_rate_exceeded:(0,E.wv)("Host target cannot be changed more than 3 times every half hour.","HostNoticeLine"),bad_host_rejected:(0,E.wv)("This channel is unable to be hosted.","HostNoticeLine"),not_hosting:(0,E.wv)("No channel is currently being hosted.","HostNoticeLine"),hosts_remaining:(0,E.wv)("{num, plural, one {# host command remaining this half hour.} other {# host commands remaining this half hour.}}",{num:Le(e)},"HostNoticeLine"),host_target_went_offline:(0,E.wv)("{channel} has gone offline. Exiting host mode.",{channel:Le(e)},"HostNoticeLine")}}function Le(e){return e.split(" ")[0]}Re.displayName="BlizzardConnectNoticeLine";var Fe=function(e){return r.createElement("span",null,Ae(e.message.message)[e.message.msgid])};function Ue(){return{raid_error_self:(0,E.wv)("You cannot raid your own channel.","RaidErrorSelfMessage"),raid_error_forbidden:(0,E.wv)("You cannot raid this channel.","RaidErrorAlreadyRaidingMessage"),raid_error_already_raiding:(0,E.wv)("You already have a raid in progress.","RaidErrorForbiddenMessage"),raid_error_too_many_viewers_to_raid:(0,E.wv)("Sorry, raids can only support up to 20,000 viewers right now.","RaidErrorTooManyViewersMessage"),raid_error_unexpected:(0,E.wv)("There was a problem starting the raid. Please try again in a minute.","RaidErrorUnexpectedMessage"),unraid_error_unexpected:(0,E.wv)("There was a problem stopping the raid. Please try again in a minute.","UnraidErrorUnexpectedMessage"),unraid_error_no_active_raid:(0,E.wv)("You do not have an active raid.","UnraidErrorNoActiveRaidMessage"),raid_notice_restricted_chat:(0,E.wv)("This channel has follower or subscriber only chat.","RaidNoticeRestrictedChatMessage"),raid_notice_mature:(0,E.wv)("This channel is intended for mature audiences.","RaidNoticeMatureMessage"),raid_notice_owner:(0,E.wv)("This channel has started a raid, type {unraidCommand} if you want to cancel.",{unraidCommand:"/unraid"},"RaidNoticeOwnerMessage")}}Fe.displayName="HostNoticeLine";var xe=function(e){return r.createElement("span",null,Ue()[e.message.msgid])};xe.displayName="RaidNoticeLine";var Oe=t(987145),Be=t(4003),Ve=t(517563),qe=(0,d.qC)((0,Oe.TA)(Be,{options:function(e){return{variables:{login:e.channelLogin}}}}))((function(e){var n=e.data;if(n.loading)return null;var t=null;if(!n.error&&n.user&&n.user.subscriptionProducts&&n.user.subscriptionProducts.length>0){var i=n.user.subscriptionProducts.find((function(e){return!!e&&!!e.url}));i&&(t=i.url)}if(!t)return r.createElement(o.A,null,(0,E.wv)("This room is in subscribers only mode.","SubsOnlyUpsellLine"));var a=r.createElement(Te.s,{targetBlank:!0,linkTo:t+"?"+Ve.Pz({ref:"subscriber_only_mode_chat"})},t);return r.createElement(o.A,null,(0,E.wv)("This room is in subscribers only mode. To talk, purchase a channel subscription at {productLink}",{productLink:a},"SubsOnlyUpsellLine"))})),Ge="timeout_success",He="untimeout_success",We="ban_success",ze="unban_success",$e="delete_message_success",je=function(e){var n=e.message;if(function(e){return e.msgid in Ue()}(n))return r.createElement(o.A,{className:"chat-line__status"},r.createElement(xe,{message:n}));if(function(e){return e.msgid in Ae(e.message)}(n))return r.createElement(o.A,{className:"chat-line__status"},r.createElement(Fe,{message:n}));switch(n.msgid){case"msg_subsonly":return r.createElement(o.A,{className:"chat-line__status"},r.createElement(qe,{channelLogin:e.channelLogin}));case Ie.Kickback:case Ie.Enabled:case Ie.Disabled:case Ie.AlreadyEnabled:case Ie.AlreadyDisabled:return r.createElement(o.A,{className:"chat-line__status"},r.createElement(Re,{type:n.msgid}))}if(e.isCurrentUserModerator)switch(n.msgid){case $e:case Ge:case We:return null;case He:case ze:if(e.showModerationActions)return null}return r.createElement(o.A,{className:"chat-line__status"},n.message)};je.displayName="NoticeLine";var Ye=function(e){var n=(0,E.wv)("{receiver} received a {giftName} from the Community Gift Chest, courtesy of {sender}!",{receiver:r.createElement(p.V,{bold:!0,type:w.yG.Span},e.event.receiver),giftName:e.event.giftName,sender:r.createElement(p.V,{bold:!0,type:w.yG.Span},e.event.sender)},"PrimeCommunityGiftReceivedNoticeLine");return r.createElement(o.A,{display:S.sS.Flex},r.createElement(o.A,{margin:{left:.5}},r.createElement(p.V,null,n)))};Ye.displayName="PrimePaidUpgradeNoticeLine";var Qe=t(1208),Je=t(146085),Ke=t(952743),Xe=t(384713),Ze=t(210631),en=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.referralID=(0,Ze.Nn)(),n.onTryPrimeClick=function(){(0,Ze.VV)({tp_refcode:n.referralID,medium:Ke.bn.Chat,content:Ke.d8.TwitchPrimeSubNotification,tp_campaign:Ze.F1.TrackingAlpha})},n}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.channel,t=e.reference,i=e.text,a=(0,Je.Q3)("https://gaming.amazon.com/",{ingress:Xe.y2,reference:t,channel:n,twitchReferral:this.referralID});return r.createElement(Te.s,{onClick:this.onTryPrimeClick,className:"chat-line__message--link",linkTo:a,targetBlank:!0,rel:"noopener"},i)},n}(r.PureComponent),nn="primetopaid",tn=function(e){var n=r.createElement(o.A,{display:S.sS.Block},r.createElement(N.N,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.TU.chat_message},r.createElement(p.V,{color:S.Il.Link},(0,_.I)(e.event.user.username,e.event.user.displayName)))),t=null;return t=e.event.plan===Qe.G.Custom?(0,E.wv)("{userLogin} <x:strong>Converted</x:strong> from a <x:prime-gaming-link>Prime Gaming</x:prime-gaming-link> sub to a Paid sub!",{userLogin:n,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span},e)},"x:prime-gaming-link":function(n){return an(e.event.channel,nn,n)}},"PrimePaidUpgradeNoticeLine"):(0,E.wv)("{userLogin} <x:strong>Converted</x:strong> from a <x:prime-gaming-link>Prime Gaming</x:prime-gaming-link> sub to a Tier {tierNumber} sub!",{tierNumber:(0,P.K)(e.event.plan)||1,userLogin:n,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span},e)},"x:prime-gaming-link":function(n){return an(e.event.channel,nn,n)}},"PrimePaidUpgradeNoticeLine"),r.createElement(o.A,{display:S.sS.Flex},r.createElement(o.A,{color:S.Il.Alt2},r.createElement(C.W,{asset:b.e.Star})),r.createElement(o.A,{margin:{left:.5}},r.createElement(p.V,null,t)))},an=function(e,n,t){return r.createElement(en,{channel:e,reference:n,text:t})};tn.displayName="PrimePaidUpgradeNoticeLine";var rn=function(e){return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(o.A,{display:S.sS.Flex,justifyContent:S.uM.Between},r.createElement(o.A,{alignItems:S.g1.Start},r.createElement(tn,{event:e.message})),r.createElement(o.A,{alignItems:S.g1.End},e.moderationIcons)))};rn.displayName="PrimePaidUpgradeLine";var on=function(e){return r.createElement(o.A,{className:"chat-line__status"},(0,f.yc)(e.message))};on.displayName="R9KModeLine";var sn=function(e){return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(p.V,{color:S.Il.Alt2},(0,E.wv)("The raid has been cancelled.","RaidCancelMessage")))};sn.displayName="RaidCanceledLine";var ln=t(42086),dn=t(778171),un=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.props.message.params,n=this.props.data,t=n.channel,i=n.loading,a=n.error;if(i||a||!t||!t.displayName)return null;var s=(0,E.wv)("{displayName} is raiding with a party of {viewerCount}.",{displayName:r.createElement("strong",null,t.displayName),viewerCount:r.createElement("strong",null,e.viewerCount)},"RaidIncomingMessage");return r.createElement(o.A,{display:S.sS.Flex,alignItems:S.g1.Center},r.createElement(ln.q,{alt:t.displayName,src:t.profileImageURL,userLogin:t.login,size:30}),r.createElement(o.A,{color:S.Il.Base,margin:{left:1}},s))},n}(r.Component),cn=(0,Oe.TA)(dn,{options:function(e){return{variables:{channelLogin:e.message.params.login}}}})(un),mn=function(e){return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(cn,{message:e.message}))};mn.displayName="RaidLine";var pn=t(731110),hn=t(624685),fn=function(e){var n=r.Children.only(b.W[b.e.Star].path.props.children);return r.createElement("svg",{className:"animated-tier-star animated-tier-star--tier-"+e.tier+" "+(e.className||""),viewBox:"0 0 20 20",width:"20",height:"20",overflow:"visible"},r.createElement("defs",null,r.createElement("linearGradient",{x1:"0%",x2:"100%",y1:"0%",y2:"100%",id:"swipe-gradient"},r.createElement("stop",{offset:"0%","stop-color":hn.x.TwitchPurple}),r.createElement("stop",{offset:"100%","stop-color":hn.x.Purple12})),r.createElement("clipPath",{id:"star-mask",className:"animated-tier-star__star-mask"},n)),r.createElement("g",{className:"animated-tier-star__star"},n),r.createElement("g",{width:"20",height:"20",className:"animated-tier-star__swipe-mask",clipPath:"url(#star-mask)"},r.createElement("g",{className:"animated-tier-star__swipe-group"},r.createElement("rect",{className:"animated-tier-star__swipe animated-tier-star__swipe--1",fill:"url(#swipe-gradient)"}),r.createElement("rect",{className:"animated-tier-star__swipe animated-tier-star__swipe--2",fill:"url(#swipe-gradient)"}),r.createElement("rect",{className:"animated-tier-star__swipe animated-tier-star__swipe--3",fill:"url(#swipe-gradient)"}))))};function gn(e){var n=e.methods.prime?r.createElement(C.W,{asset:b.e.CrownFilled,type:C.w.Brand}):r.createElement(C.W,{asset:b.e.Star});switch(e.methods.plan){case Qe.S.Tier2:n=r.createElement(fn,{tier:2});break;case Qe.S.Tier3:n=r.createElement(fn,{tier:3})}return n}var vn="resubscription",yn=function(e){var n,t=r.createElement(pn.o,{display:S.sS.Block,key:"chatter-name"},r.createElement("span",null,r.createElement(N.N,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.TU.chat_message},r.createElement(p.V,{color:S.Il.Link,type:w.yG.Span},(0,_.I)(e.event.user.username,e.event.user.displayName))))),i=null,a=(0,E.wv)("{streak, plural, one {currently on a {streak} month streak!} other {currently on a {streak} month streak!}}",{streak:e.event.streakMonths||0},"ResubNoticeV2Line");if(e.event.wasGift&&e.event.multiMonthGiftInfo&&e.event.multiMonthGiftInfo.giftMonthBeingRedeemed>0&&e.event.multiMonthGiftInfo.giftedMonths>1)if(e.event.multiMonthGiftInfo.anonGift)i=(0,E.wv)("{giftedMonths, plural, one {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of <x:strong>anonymous</x:strong> has entered month {monthNumber}.}other {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of <x:strong>anonymous</x:strong> has entered month {monthNumber}.}}",{userLogin:t,giftedMonths:e.event.multiMonthGiftInfo.giftedMonths,monthNumber:e.event.multiMonthGiftInfo.giftMonthBeingRedeemed,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"ResubNoticeV2Line");else{var s=r.createElement(N.N,{contentID:e.event.multiMonthGiftInfo.gifterId,login:e.event.multiMonthGiftInfo.gifterLogin,sourceType:D.TU.chat_message},(0,_.I)(e.event.multiMonthGiftInfo.gifterLogin,e.event.multiMonthGiftInfo.gifterName));i=(0,E.wv)("{giftedMonths, plural, one {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of {gifterButton} has entered month {monthNumber}.}other {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of {gifterButton} has entered month {monthNumber}.}}",{gifterButton:s,userLogin:t,giftedMonths:e.event.multiMonthGiftInfo.giftedMonths,monthNumber:e.event.multiMonthGiftInfo.giftMonthBeingRedeemed,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"ResubNoticeV2Line")}else if(e.event.multiMonthInfo&&e.event.multiMonthInfo.multiMonthDuration>1&&0===e.event.multiMonthInfo.multiMonthTenure){var l=(0,E.wv)("{multiMonths, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} month in advance.}other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} months in advance.}}",{tierNumber:(0,P.K)(e.event.methods.plan)||1,userLogin:t,multiMonths:null===(n=e.event.multiMonthInfo)||void 0===n?void 0:n.multiMonthDuration,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"ResubNoticeV2Line"),d=void 0!==e.event.streakMonths&&e.event.streakMonths>0?(0,E.wv)("{cumulative, plural, one {They've subscribed for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {They've subscribed for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:e.event.cumulativeMonths,streakMessage:a,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"ResubNoticeV2Line"):(0,E.wv)("{cumulative, plural, one {They've subscribed for <x:strong>{cumulative} month</x:strong>!} other {They've subscribed for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:e.event.cumulativeMonths,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"ResubNoticeV2Line");i=r.createElement(r.Fragment,null,l," ",d)}else i=e.event.methods.prime?e.event.cumulativeMonths<2?(0,E.wv)("{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>",{userLogin:t,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:"text"},e)},"x:prime-gaming-link":function(n){return kn(e.event.channel,vn,n)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?(0,E.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:e.event.cumulativeMonths,userLogin:t,streakMessage:a,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)},"x:prime-gaming-link":function(n){return kn(e.event.channel,vn,n)}},"ResubNoticeV2Line"):(0,E.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} month</x:strong>!} other {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)},"x:prime-gaming-link":function(n){return kn(e.event.channel,vn,n)}},"ResubNoticeV2Line"):e.event.methods.plan!==Qe.G.Custom?e.event.cumulativeMonths<2?(0,E.wv)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}.",{tierNumber:(0,P.K)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:"text"},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?(0,E.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:e.event.cumulativeMonths,tierNumber:(0,P.K)(e.event.methods.plan)||1,userLogin:t,streakMessage:a,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"ResubNoticeV2Line"):(0,E.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} month</x:strong>!} other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:e.event.cumulativeMonths,tierNumber:(0,P.K)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"ResubNoticeV2Line"):e.event.cumulativeMonths<2?(0,E.wv)("{userLogin} <x:strong>Subscribed</x:strong>.",{userLogin:t,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:"text"},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?(0,E.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:e.event.cumulativeMonths,userLogin:t,streakMessage:a,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"ResubNoticeV2Line"):(0,E.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} month</x:strong>!} other {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"ResubNoticeV2Line");var u=gn(e.event);return r.createElement(o.A,{display:S.sS.Flex},r.createElement(o.A,{color:S.Il.Alt2},u),r.createElement(o.A,{margin:{left:.5}},r.createElement(p.V,null,i)))},kn=function(e,n,t){return r.createElement(en,{channel:e,reference:n,text:t})};yn.displayName="ResubNoticeV2Line";var Sn=function(e){var n=e.message,t=null;return n.message&&(t=r.createElement(x.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:n.message.deleted,isHidden:n.message.hidden,message:n.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay})),r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(o.A,{display:S.sS.Flex,justifyContent:S.uM.Between},r.createElement(yn,{event:n}),!t&&r.createElement(o.A,{alignItems:S.g1.End},e.moderationIcons)),t&&r.createElement(o.A,{margin:{top:.5}},t))};Sn.displayName="ResubLine";var Cn=t(689242),bn=function(e){if(!(e.event.messageID&&e.event.userLogin&&e.event.displayName))return null;var n=r.createElement(N.N,{contentID:e.event.messageID,login:e.event.userLogin,sourceType:e.event.sourceType},e.event.displayName),t=(0,E.wv)("{count} emotes shared!",{count:e.event.totalRewardCount},"RewardGiftNoticeLine"),i=function(e,n,t){switch(e){case Cn.zn.Subscription:return(0,E.wv)("{selectedCount, plural, one {{gifterButton}'s Sub shared rewards to {selectedCount} other in chat.} other {{gifterButton}'s Sub shared rewards to {selectedCount} others in chat.}}",{gifterButton:n,selectedCount:t},"RewardGiftNoticeLineUpdate");case Cn.zn.SubGift:return(0,E.wv)("{gifterButton}'s Gift shared rewards to {selectedCount} others in chat.",{gifterButton:n,selectedCount:t},"RewardGiftNoticeLine");case Cn.zn.Cheer:default:return(0,E.wv)("{gifterButton}'s Cheer shared rewards to {selectedCount} others in chat.",{gifterButton:n,selectedCount:t},"RewardGiftNoticeLine")}}(e.event.triggerType,n,e.event.selectedCount),a=function(e){switch(e){case Cn.zn.Subscription:return b.e.Star;case Cn.zn.SubGift:return b.e.Gift;case Cn.zn.Cheer:default:return b.e.Bits}}(e.event.triggerType);return r.createElement(o.A,{className:"reward-gift-user-notice",margin:{y:.5}},r.createElement(o.A,{display:S.sS.Flex,alignItems:S.g1.Start},r.createElement(o.A,{color:S.Il.Alt2,margin:{right:.5}},r.createElement(C.W,{asset:a})),r.createElement(o.A,null,r.createElement(p.V,{bold:!0,color:S.Il.Link},t),r.createElement(p.V,{color:S.Il.Alt2},i))))};var wn=function(e){var n=e.event.message,t=n.user.isIntl?n.user.userDisplayName+" ("+n.user.userLogin+")":n.user.userDisplayName,i=(0,E.wv)("{user} is new here. Say hello!",{user:r.createElement(N.N,{contentID:n.id,login:n.user.userLogin,sourceType:D.TU.chat_message},"@",t)},"NewChatterRitual");return r.createElement(o.A,{color:S.Il.Alt2},i)};wn.displayName="RitualNoticeLine";var En=function(e){var n=e.message;return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(wn,{event:n}),r.createElement(x.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:n.message.deleted,isHidden:n.message.hidden,message:n.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay}))};En.displayName="RitualLine";var _n=function(e){return r.createElement(o.A,{className:"chat-line__status"},(0,f.WR)(e.message.moderatorLogins))};_n.displayName="RoomModsLine";var Nn=function(e){return r.createElement(o.A,{className:"chat-line__status"},(0,f.RF)(e.message))};Nn.displayName="SlowModeLine";var Dn=function(e){var n=e.event,t=r.createElement(N.N,{contentID:n.user.id,login:n.user.username,sourceType:D.TU.chat_message},(0,_.I)(n.user.username,n.user.displayName)),i=r.createElement(N.N,{contentID:n.user.id,login:n.recipientLogin,sourceType:D.TU.chat_message},(0,_.I)(n.recipientLogin,n.recipientDisplayName)),a=null;return a="custom"===n.methods.plan?function(e,n,t,i){return i>1?1===t?(0,E.wv)("{giftMonths, plural, one {{gifterButton} gifted # month to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} gifted # months to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:e,giftMonths:i,recipientButton:n},"SubGiftNoticeLine"):t>1?(0,E.wv)("{giftMonths, plural, one {{gifterButton} gifted # month to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} gifted # months to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:e,giftMonths:i,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):(0,E.wv)("{giftMonths, plural, one {{gifterButton} gifted # month to {recipientButton}!} other {{gifterButton} gifted # months to {recipientButton}!}}",{gifterButton:e,giftMonths:i,recipientButton:n},"SubGiftNoticeLine"):1===t?(0,E.wv)("{gifterButton} gifted a Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:n},"SubGiftNoticeLine"):t>1?(0,E.wv)("{gifterButton} gifted a Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):(0,E.wv)("{gifterButton} gifted a subscription to {recipientButton}!",{gifterButton:e,recipientButton:n},"SubGiftNoticeLine")}(t,i,n.senderCount,n.giftMonths):function(e,n,t,i,a){return a>1?1===t?(0,E.wv)("{giftMonths, plural, one {{gifterButton} gifted # month of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} gifted # months of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n},"SubGiftNoticeLine"):t>1?(0,E.wv)("{giftMonths, plural, one {{gifterButton} gifted # month of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} gifted # months of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):(0,E.wv)("{giftMonths, plural, one {{gifterButton} gifted # month of Tier {tierNumber} to {recipientButton}!} other {{gifterButton} gifted # months of Tier {tierNumber} to {recipientButton}!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n},"SubGiftNoticeLine"):1===t?(0,E.wv)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:n,tierNumber:i},"SubGiftNoticeLine"):t>1?(0,E.wv)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:n,senderCount:t,tierNumber:i},"SubGiftNoticeLine"):(0,E.wv)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}!",{gifterButton:e,recipientButton:n,tierNumber:i},"SubGiftNoticeLine")}(t,i,n.senderCount,(0,P.K)(n.methods.plan)||1,n.giftMonths),r.createElement(p.V,{color:S.Il.Alt2,type:w.yG.Span},a)};Dn.displayName="SubGiftNoticeLine";var Mn=function(e){var n=e.event,t=r.createElement(pn.o,{display:S.sS.Block},r.createElement("span",null,r.createElement(N.N,{contentID:n.user.id,login:n.user.username,sourceType:D.TU.chat_message},r.createElement(p.V,{color:S.Il.Link,type:w.yG.Span},(0,_.I)(n.user.username,n.user.displayName))))),i=r.createElement(N.N,{contentID:n.user.id,login:n.recipientLogin,sourceType:D.TU.chat_message},(0,_.I)(n.recipientLogin,n.recipientDisplayName)),a=null;return a="custom"===n.methods.plan?function(e,n,t,i){return i>1?1===t?(0,E.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} Gifted # months to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:e,giftMonths:i,recipientButton:n},"SubGiftNoticeLine"):t>1?(0,E.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} Gifted # months to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:e,giftMonths:i,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):(0,E.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month to {recipientButton}!} other {{gifterButton} Gifted # months to {recipientButton}!}}",{gifterButton:e,giftMonths:i,recipientButton:n},"SubGiftNoticeLine"):1===t?(0,E.wv)("{gifterButton} Gifted a Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:n},"SubGiftNoticeLine"):t>1?(0,E.wv)("{gifterButton} Gifted a Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):(0,E.wv)("{gifterButton} Gifted a subscription to {recipientButton}!",{gifterButton:e,recipientButton:n},"SubGiftNoticeLine")}(t,i,n.senderCount,n.giftMonths):function(e,n,t,i,a){return a>1?1===t?(0,E.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} Gifted # months of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n},"SubGiftNoticeLine"):t>1?(0,E.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} Gifted # months of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):(0,E.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month of Tier {tierNumber} to {recipientButton}!} other {{gifterButton} Gifted # months of Tier {tierNumber} to {recipientButton}!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n},"SubGiftNoticeLine"):1===t?(0,E.wv)("{gifterButton} Gifted a Tier {tierNumber} Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:n,tierNumber:i},"SubGiftNoticeLine"):t>1?(0,E.wv)("{gifterButton} Gifted a Tier {tierNumber} Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:n,senderCount:t,tierNumber:i},"SubGiftNoticeLine"):(0,E.wv)("{gifterButton} Gifted a Tier {tierNumber} Sub to {recipientButton}!",{gifterButton:e,recipientButton:n,tierNumber:i},"SubGiftNoticeLine")}(t,i,n.senderCount,(0,P.K)(n.methods.plan)||1,n.giftMonths),r.createElement(o.A,{display:S.sS.Flex},r.createElement(o.A,{color:S.Il.Alt2},r.createElement(C.W,{asset:b.e.Gift,type:C.w.Alt})),r.createElement(o.A,{margin:{left:.5}},r.createElement(p.V,null,a)))};Mn.displayName="SubGiftNoticeLine";var In=function(e){var n=e.message,t="experiment"===E.$6.experiments.getAndTrackAssignment("gifting_user_notice_standardization");if("274598607"===n.user.userID){var i={channel:n.channel,giftMonths:n.giftMonths,id:n.id,methods:n.methods,recipientDisplayName:n.recipientDisplayName,recipientID:n.recipientID,recipientLogin:n.recipientLogin,type:k.SJ.AnonSubGift};return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(R,{event:i}))}return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},e.moderationIcons,t?r.createElement(Mn,{event:n}):r.createElement(Dn,{event:n}))};In.displayName="SubGiftLine";var Tn=function(e){var n=e.event,t=r.createElement(N.N,{contentID:n.user.id,login:n.user.username,sourceType:D.TU.chat_message},(0,_.I)(n.user.username,n.user.displayName)),i=null;return i="custom"===n.plan?function(e,n,t,i){return 1===i?(0,E.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t},"SubMysteryGiftNoticeLine"):i>1?(0,E.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,senderCount:i},"SubMysteryGiftNoticeLine"):(0,E.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:n,gifterButton:e,massGiftCount:t},"SubMysteryGiftNoticeLine")}(t,n.channel,n.massGiftCount,n.senderCount):function(e,n,t,i,a){return 1===i?(0,E.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,tierNumber:a},"SubMysteryGiftNoticeLine"):i>1?(0,E.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,senderCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"):(0,E.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,gifterButton:e,massGiftCount:t,tierNumber:a},"SubMysteryGiftNoticeLine")}(t,n.channel,n.massGiftCount,n.senderCount,(0,P.K)(n.plan)||1),r.createElement(p.V,{color:S.Il.Alt2,type:w.yG.Span},i)};Tn.displayName="SubMysteryGiftNoticeLine";var Pn=function(e){var n=e.event,t=r.createElement(pn.o,{display:S.sS.Block},r.createElement("span",null,r.createElement(N.N,{contentID:n.user.id,login:n.user.username,sourceType:D.TU.chat_message},r.createElement(p.V,{color:S.Il.Link,type:w.yG.Span},(0,_.I)(n.user.username,n.user.displayName))))),i=null;return i="custom"===n.plan?function(e,n,t,i){return 1===i?(0,E.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} Is gifting {massGiftCount} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t},"SubMysteryGiftNoticeLine"):i>1?(0,E.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} Is gifting {massGiftCount} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,senderCount:i},"SubMysteryGiftNoticeLine"):(0,E.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Sub to {channel}'s community!} other {{gifterButton} Is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:n,gifterButton:e,massGiftCount:t},"SubMysteryGiftNoticeLine")}(t,n.channel,n.massGiftCount,n.senderCount):function(e,n,t,i,a){return 1===i?(0,E.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,tierNumber:a},"SubMysteryGiftNoticeLine"):i>1?(0,E.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,senderCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"):(0,E.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!} other {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,gifterButton:e,massGiftCount:t,tierNumber:a},"SubMysteryGiftNoticeLine")}(t,n.channel,n.massGiftCount,n.senderCount,(0,P.K)(n.plan)||1),r.createElement(o.A,{display:S.sS.Flex},r.createElement(o.A,{color:S.Il.Alt2},r.createElement(C.W,{asset:b.e.Gift,type:C.w.Alt})),r.createElement(o.A,{margin:{left:.5}},r.createElement(p.V,null,i)))};Pn.displayName="SubMysteryGiftNoticeLine";var Rn=function(e){var n=e.message,t="experiment"===E.$6.experiments.getAndTrackAssignment("gifting_user_notice_standardization");if("274598607"===n.user.userID){var i={type:k.SJ.AnonSubMysteryGift,id:n.id,channel:n.channel,plan:n.plan,massGiftCount:n.massGiftCount};return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(L,{event:i}))}return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},e.moderationIcons,t?r.createElement(Pn,{event:n}):r.createElement(Tn,{event:n}))};Rn.displayName="SubMysteryGiftLine";var An=function(e){return r.createElement(o.A,{className:"chat-line__status"},(0,f.f6)(e.message))};An.displayName="SubOnlyModeLine";var Ln=function(e){var n,t=r.createElement(pn.o,{display:S.sS.Block,key:"chatter-name"},r.createElement("span",null,r.createElement(N.N,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.TU.chat_message},r.createElement(p.V,{color:S.Il.Link,type:w.yG.Span},(0,_.I)(e.event.user.username,e.event.user.displayName))))),i=null;i=e.event.methods.prime?(0,E.wv)("{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>",{userLogin:t,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:"text"},e)},"x:prime-gaming-link":function(n){return Fn(e.event.channel,"subscription",n)}},"SubNoticeV2Line"):e.event.methods.plan===Qe.G.Custom?(0,E.wv)("{userLogin} <x:strong>Subscribed</x:strong>",{userLogin:t,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:"text"},e)}},"SubNoticeV2Line"):e.event.multiMonthInfo&&e.event.multiMonthInfo.multiMonthDuration>1&&0===e.event.multiMonthInfo.multiMonthTenure?(0,E.wv)("{multiMonths, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} month in advance.}other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} months in advance.}}",{tierNumber:(0,P.K)(e.event.methods.plan)||1,userLogin:t,multiMonths:null===(n=e.event.multiMonthInfo)||void 0===n?void 0:n.multiMonthDuration,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:e},e)}},"SubNoticeV2Line"):(0,E.wv)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}",{tierNumber:(0,P.K)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(p.V,{bold:!0,type:w.yG.Span,key:"text"},e)}},"SubNoticeV2Line");var a=gn(e.event);return r.createElement(o.A,{display:S.sS.Flex},r.createElement(o.A,{color:S.Il.Alt2},a),r.createElement(o.A,{margin:{left:.5}},r.createElement(p.V,null,i)))},Fn=function(e,n,t){return r.createElement(en,{channel:e,reference:n,text:t})};Ln.displayName="SubNoticeV2Line";var Un=function(e){return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(o.A,{display:S.sS.Flex,justifyContent:S.uM.Between},r.createElement(o.A,{alignItems:S.g1.Start},r.createElement(Ln,{event:e.message})),r.createElement(o.A,{alignItems:S.g1.End},e.moderationIcons)))};Un.displayName="SubscriptionLine";var xn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.props.targetedModerationActionEvent,n=null;switch(e.targetedModerationActionType){case _e.ai.DeleteNotification:var t=e.messageBody||"";n=r.createElement(Ee.C,{messageBody:t,targetIsCurrentUser:!0})}return n?r.createElement(o.A,{className:"chat-line__status"},r.createElement(p.V,{type:w.yG.Span},n)):null},n}(r.Component),On=function(e){return e.isCurrentUserModerator?null:r.createElement(xn,{targetedModerationActionEvent:e.targetedModerationActionEvent})},Bn=function(){return r.createElement(o.A,{className:"chat-line__status"},r.createElement(p.V,{type:w.yG.Span},(0,E.wv)("No longer hosting.","ChatLine")))};Bn.displayName="UnhostLine";var Vn=t(12288),qn=(t(638017),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.shouldComponentUpdate=function(e){var n,t,i;if(e.isCurrentUserModerator!==this.props.isCurrentUserModerator)return!0;if(e.showModerationIcons!==this.props.showModerationIcons)return!0;if(e.showTimestamps!==this.props.showTimestamps)return!0;if(e.useHighContrastColors!==this.props.useHighContrastColors)return!0;if(e.theme!==this.props.theme)return!0;if(e.repliesAppearancePreference!==this.props.repliesAppearancePreference)return!0;if(e.badgeSets!==this.props.badgeSets)return!0;switch(e.message.type){case k.SJ.Message:if(e.message.deleted||(null===(n=e.message.reply)||void 0===n?void 0:n.parentDeleted))return!0;if(e.message.hasReply)return!0;if(e.replyRestrictedReason!==this.props.replyRestrictedReason)return!0;break;case k.SJ.ChannelPointsReward:case k.SJ.Resubscription:case k.SJ.Ritual:if(null===(t=e.message.message)||void 0===t?void 0:t.deleted)return!0;if(null===(i=e.message.message)||void 0===i?void 0:i.hasReply)return!0;if(e.replyRestrictedReason!==this.props.replyRestrictedReason)return!0;break;case k.SJ.AutoMod:if(e.message.autoModType===k.mT.MessageRejectedPrompt&&(e.showAutoModActions!==this.props.showAutoModActions||e.message.rejectedMessage.deleted))return!0;break;case k.SJ.Hosting:case k.SJ.Unhost:case k.SJ.SlowMode:case k.SJ.SubscriberOnlyMode:case k.SJ.FollowerOnlyMode:case k.SJ.EmoteOnlyMode:case k.SJ.R9KMode:case k.SJ.Clear:case k.SJ.Unraid:case k.SJ.Notice:case k.SJ.ModerationAction:if(e.showModerationActions!==this.props.showModerationActions)return!0;break;case k.SJ.Moderation:if(e.showModerationActions!==this.props.showModerationActions||e.deletedMessageDisplay!==this.props.deletedMessageDisplay)return!0}return!1},n.prototype.render=function(){var e=this.props,n=e.message,t=null;if(e.isCurrentUserModerator){if(e.showModerationActions)switch(n.type){case k.SJ.Hosting:case k.SJ.Unhost:case k.SJ.SlowMode:case k.SJ.SubscriberOnlyMode:case k.SJ.FollowerOnlyMode:case k.SJ.EmoteOnlyMode:case k.SJ.R9KMode:case k.SJ.Clear:case k.SJ.Unraid:return null}if(e.showModerationIcons&&e.channelID)switch(n.type){case k.SJ.Subscription:case k.SJ.SubGift:case k.SJ.SubMysteryGift:case k.SJ.Resubscription:case k.SJ.GiftPaidUpgrade:case k.SJ.AnonGiftPaidUpgrade:case k.SJ.PrimePaidUpgrade:case k.SJ.CommunityPayForward:case k.SJ.StandardPayForward:t=r.createElement(Vn.O,{canDelete:!0,channelID:e.channelID,renderNewVersion:!0,senderLogin:n.user.username,targetUserID:n.user.userID})}}switch(n.type){case k.SJ.AutoMod:return r.createElement(s.Uf,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserID:e.currentUserID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,message:n,showAutoModActions:e.showAutoModActions,showModerationIcons:e.showModerationIcons,theme:e.theme,useHighContrastColors:!!e.useHighContrastColors});case k.SJ.ModerationAction:return r.createElement(De,{currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,moderationActionEvent:n,showModerationActions:e.showModerationActions});case k.SJ.TargetedModerationAction:return r.createElement(On,{isCurrentUserModerator:e.isCurrentUserModerator,targetedModerationActionEvent:n});case k.SJ.Connected:return r.createElement(j,null);case k.SJ.Disconnected:return r.createElement(Y,{message:n});case k.SJ.Hosting:return r.createElement(oe,{message:n});case k.SJ.Unhost:return r.createElement(Bn,null);case k.SJ.LiveMessageSeparator:return r.createElement(Ce,null);case k.SJ.Message:return e.onRenderReportChatSent&&n.user.userLogin===e.currentUserLogin&&e.onRenderReportChatSent(),r.createElement(x.wS,{channelID:e.channelID,channelLogin:e.channelLogin,badgeSets:e.badgeSets,message:n,isDeleted:n.deleted,isHidden:n.hidden,reply:n.reply,replyRestrictedReason:this.props.replyRestrictedReason,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isHistorical:n.isHistorical,hasReply:n.hasReply,currentUserID:e.currentUserID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,confirmModerationAction:e.confirmModerationAction,theme:e.theme,deletedCount:n.deletedCount,hideBroadcasterTooltip:e.hideBroadcasterTooltip,repliesAppearancePreference:e.repliesAppearancePreference});case k.SJ.FirstCheerMessage:return r.createElement(ee,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case k.SJ.BitsBadgeTierMessage:return r.createElement(O,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case k.SJ.Moderation:return r.createElement(Me,{deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,message:n,showModerationActions:e.showModerationActions});case k.SJ.Subscription:return r.createElement(Un,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case k.SJ.SubGift:return r.createElement(In,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case k.SJ.AnonSubGift:return r.createElement(A,{message:n,primaryColorHex:e.primaryColorHex});case k.SJ.SubMysteryGift:return r.createElement(Rn,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case k.SJ.AnonSubMysteryGift:return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(L,{event:n}));case k.SJ.CommunityPayForward:case k.SJ.StandardPayForward:return r.createElement(re,{event:n,moderationIcons:t});case k.SJ.RewardGift:return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},r.createElement(bn,{event:n}));case k.SJ.BitsCharity:return r.createElement(B,{message:n});case k.SJ.Resubscription:return r.createElement(Sn,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case k.SJ.GiftPaidUpgrade:return r.createElement(ae,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case k.SJ.AnonGiftPaidUpgrade:return r.createElement(T,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case k.SJ.PrimeCommunityGiftReceivedEvent:return r.createElement(I.X,{isHighlighted:!0,primaryColorHex:this.props.primaryColorHex},r.createElement(Ye,{event:n}));case k.SJ.PrimePaidUpgrade:return r.createElement(rn,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case k.SJ.ExtendSubscription:return r.createElement(X,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case k.SJ.RoomMods:return r.createElement(_n,{message:n});case k.SJ.SlowMode:return r.createElement(Nn,{message:n});case k.SJ.SubscriberOnlyMode:return r.createElement(An,{message:n});case k.SJ.FollowerOnlyMode:return r.createElement(ne,{message:n});case k.SJ.EmoteOnlyMode:return r.createElement(J,{message:n});case k.SJ.R9KMode:return r.createElement(on,{message:n});case k.SJ.Clear:return r.createElement($,null);case k.SJ.Notice:return r.createElement(je,{channelLogin:e.channelLogin,isCurrentUserModerator:e.isCurrentUserModerator,message:n,showModerationActions:e.showModerationActions});case k.SJ.Info:return r.createElement(o.A,{className:"chat-line__status"},n.message);case k.SJ.InlinePrivateCallout:return r.createElement(ke,{event:n,channelID:e.channelID,channelLogin:e.channelLogin,currentUserLogin:e.currentUserLogin,currentUserID:e.currentUserID,messageIndex:e.messageIndex});case k.SJ.Raid:return r.createElement(mn,{message:n,primaryColorHex:e.primaryColorHex});case k.SJ.Unraid:return r.createElement(sn,{primaryColorHex:e.primaryColorHex});case k.SJ.Ritual:return r.createElement(En,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case k.SJ.ExtensionMessage:return r.createElement(y,{badgeSets:e.badgeSets,channelID:e.channelID,currentUserLogin:e.currentUserLogin,message:n,showTimestamps:e.showTimestamps});case k.SJ.ChannelPointsReward:return r.createElement(z,{event:n},n.message&&r.createElement(x.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,currentUserID:e.currentUserID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:n.message.deleted,isHidden:n.message.hidden,message:n.message,replyRestrictedReason:this.props.replyRestrictedReason,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay,repliesAppearancePreference:e.repliesAppearancePreference}));case k.SJ.CommunityChallengeContribution:return r.createElement(Q,{channelLogin:e.channelLogin,event:n});case k.SJ.CelebrationPurchase:return r.createElement(q,{message:n,primaryColorHex:e.primaryColorHex});default:return null}},n}(r.Component))},228562:function(e,n,t){"use strict";t.d(n,{C:function(){return s}});var i=t(570655),a=t(667294),r=t(687837),o=t(831642),s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={alwaysShowMessage:!1},n.renderBody=function(){return n.state.alwaysShowMessage?n.props.messageBody:a.createElement("span",{key:"deleted",className:"chat-line__message--deleted"},a.createElement(r.s,{linkTo:"",onClick:n.alwaysShowMessage},"<"+(0,o.wv)("click to show","MessageDeletedLine")+">"))},n.alwaysShowMessage=function(e){e&&e.preventDefault(),n.setState({alwaysShowMessage:!0})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.moderatorLogin,t=e.targetIsCurrentUser,i=this.props.targetLogin;return t?(0,o.wv)("A moderator deleted your message: {body}",{body:this.renderBody()},"MessageDeletedLine"):n?(0,o.wv)("{moderatorLogin} deleted {targetLogin}'s message: {body}",{moderatorLogin:n,targetLogin:i,body:this.renderBody()},"MessageDeletedLine"):(0,o.wv)("A moderator deleted {targetLogin}'s message: {body}",{targetLogin:i,body:this.renderBody()},"MessageDeletedLine")},n}(a.Component)},313881:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var i=t(294184),a=t(667294),r=t(731110),o=t(270406),s=t(745323),l=function(e){var n={"user-notice-line":!0,"user-notice-line--highlighted":e.isHighlighted};return a.createElement(r.o,{margin:{y:.5},padding:{right:2,y:.5},background:e.isHighlighted?o.Aq.Alt:void 0},a.createElement("div",{"data-test-selector":"user-notice-line",className:i(n),style:e.isHighlighted&&e.primaryColorHex?{borderLeftColor:(0,s.Vp)(e.primaryColorHex)}:void 0},e.children))};l.displayName="UserNoticeLine"},823503:function(e,n,t){"use strict";t.d(n,{wS:function(){return ue}});var i,a=t(570655),r=t(294184),o=t(667294),s=t(137703),l=t(14890),d=t(175424),u=t(687837),c=t(58661),m=t(150125),p=t(359166),h=t(734995),f=t(270406),g=t(246797),v=t(440837),y=t(382448),k=t(831642),S=t(267887),C=t(912654),b=t(469419),w=t(863480),E=t(128416),_=t(283140),N=t(292224),D=t(73119),M=t(184807),I=t(419341),T=t(44683),P=t(613290),R=t(965347),A=t(824942),L=t(731110),F=t(906704),U=t(233912),x=t(190109);!function(e){e.ChatDeletedMessagePlaceholder="chat-deleted-message-placeholder",e.ChatDeletedMessageAttribution="chat-deleted-message-attribution"}(i||(i={}));var O,B="chat-deleted-message-placeholder",V=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isCurrentUserModerator,t=e.isCurrentUserStaff,a=e.deletedMessageDisplay;if(n||t){var r={chatChannelID:this.props.channelID,chatChannelLogin:this.props.channelLogin,messageAuthorID:this.props.message.user.userID,messageSourceID:this.props.message.id,emoteSourceType:x.Vn.chat,disableChatCard:!0};if(a===E.zCI.DETAILED&&n){var s=this.props.message,l=s.modLogin,d=s.modActionType,p=s.duration,h=(0,k.wv)("(Deleted)","ChatLine");return d&&d===F.e0.Ban&&l&&(h=(0,k.wv)("(Banned by {modLogin})",{modLogin:l},"ChatLine")),d&&d===F.e0.Timeout&&(l&&p?h=(0,k.wv)("({duration}s Timeout by {modLogin})",{duration:p,modLogin:l},"ChatLine"):l&&(h=(0,k.wv)("(Timeout by {modLogin})",{modLogin:l},"ChatLine"))),d&&d===F.e0.Delete&&l&&(h=(0,k.wv)("(Deleted by {modLogin})",{modLogin:l},"ChatLine")),o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":B,"data-test-selector":i.ChatDeletedMessagePlaceholder},o.createElement("span",{className:"chat-line__message--deleted-detailed"},(0,U.kz)(this.props.message.messageParts,r)),o.createElement(L.o,{padding:{left:.5}},o.createElement(c.V,{type:m.yG.Span,"data-test-selector":i.ChatDeletedMessageAttribution},h)))}return this.props.alwaysShowMessage?(0,U.kz)(this.props.message.messageParts,r):o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":B},o.createElement(u.s,{linkTo:"",onClick:this.props.setAlwaysShowMessage,"data-test-selector":i.ChatDeletedMessagePlaceholder},"<"+(0,k.wv)("message deleted","ChatLine")+">"))}return o.createElement("span",{key:"deleted",className:"chat-line__message--deleted-notice","data-a-target":B,"data-test-selector":i.ChatDeletedMessagePlaceholder},""+(0,k.wv)("message deleted by a moderator.","ChatLine"))},n}(o.PureComponent),q=t(269731),G=t(353488);!function(e){e.IconElement="reply-context-pill-icon"}(O||(O={}));var H,W=function(e){var n=(0,k.wv)("Replying to @{displayName}: ",{displayName:e.reply.parentDisplayName},"ReplyContextPill"),t=(0,k.wv)("(message deleted)","ReplyContextPill"),i=o.createElement(c.V,{lines:2,wordBreak:m.I5.BreakWord},e.reply.parentDeleted?n.concat(t):n.concat(e.reply.parentMessageBody));return o.createElement(h.A,{display:f.sS.Inline},o.createElement(q.u,{label:i,options:{placement:"top",modifiers:[{name:"offset",options:{offset:[0,5]}}]}},o.createElement(h.A,{display:f.sS.InlineFlex,alignItems:f.g1.Center,className:"reply-context-pill",borderRadius:g.c.Rounded},o.createElement(h.A,{"data-test-selector":O.IconElement,display:f.sS.Flex,alignItems:f.g1.Center,position:f.Ly.Absolute,className:"reply-context-pill__icon",cursor:e.onIconClick?f.CF.Pointer:f.CF.Auto,onClick:e.onIconClick,onKeyDown:function(n){e.onIconClick&&"Enter"===n.key&&(n.preventDefault(),e.onIconClick())},tabIndex:0},o.createElement(G.JO,{asset:y.e.Comments})),o.createElement(h.A,{className:"reply-context-pill__text"},o.createElement(c.V,{color:f.Il.Alt2,fontWeight:f.U9.SemiBold},e.reply.parentDisplayName)))))},z=t(470216),$=t(158469);!function(e){e.DeletedMessage="parent-message-deleted"}(H||(H={}));var j,Y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.repliesExperimentValue=(0,$.C)(n.props.channelID),n.deletedMessage=o.createElement(c.V,{"data-test-selector":H.DeletedMessage,italic:!0,type:m.yG.Span},(0,k.wv)("message deleted by a moderator.","ReplyLine")),n}return(0,a.__extends)(n,e),n.prototype.render=function(){switch(this.repliesExperimentValue){case $.E.TreatmentA:return this.renderTreatmentA();case $.E.TreatmentB:return this.renderTreatmentB();case $.E.TreatmentC:return this.renderTreatmentC();default:return null}},n.prototype.renderTreatmentA=function(){var e=this.props,n=e.displayName,t=e.isDeleted,i=e.isReplyToMe,a=e.message,r="@"+n,s=(0,k.wv)("Replying to {username}: {message}",{username:i?o.createElement(h.A,{as:"span",className:"reply-line--mentioned"},r):r,message:t?this.deletedMessage:a},"ReplyLine");return o.createElement(h.A,{display:f.sS.Flex,color:f.Il.Alt2},o.createElement(z.W,{asset:y.e.Smallcomments,width:17,height:17}),o.createElement(h.A,{padding:{left:.5},overflow:f.nP.Hidden},o.createElement(c.V,{ellipsis:!0,fontSize:f.Bf.Size7},s)))},n.prototype.renderTreatmentB=function(){var e=this.props,n=e.displayName,t=e.isDeleted,i=e.isReplyToMe,a=e.message,r=(0,k.wv)("{username}: {message}",{username:i?o.createElement(h.A,{as:"span",className:"reply-line--mentioned"},n):n,message:t?this.deletedMessage:a},"ReplyLine");return o.createElement(h.A,null,o.createElement(h.A,{className:"reply-line--treatment-b",display:f.sS.InlineFlex,color:f.Il.Alt2,padding:{x:1},background:f.Aq.Alt},o.createElement(z.W,{asset:y.e.Smallcomments,width:17,height:17}),o.createElement(h.A,{padding:{left:.5},overflow:f.nP.Hidden},o.createElement(c.V,{ellipsis:!0,fontSize:f.Bf.Size7},r))))},n.prototype.renderTreatmentC=function(){var e=this.props,n=e.displayName,t=e.isDeleted,i=e.isReplyToMe,a=e.message,r="@"+n,s=(0,k.wv)("In reply to {username}: {message}",{username:i?o.createElement(h.A,{as:"span",className:"reply-line--mentioned"},r):r,message:t?this.deletedMessage:a},"ReplyLine");return o.createElement(h.A,{className:"reply-line--highlighted-line",display:f.sS.Flex,color:f.Il.Alt2},o.createElement(h.A,{padding:{left:1},overflow:f.nP.Hidden},o.createElement(c.V,{ellipsis:!0,fontSize:f.Bf.Size7},s)))},n}(o.PureComponent),Q=t(667211),J=t(12288),K=t(70981),X=t(325820),Z=t(498409),ee=t(721482),ne=t(117090),te=t(100387),ie=t(647153),ae=t(454572),re=C.P.wrap((function(){return t.e(90914).then(t.bind(t,482345))}),"ChatRepliesMessageCard"),oe=C.P.wrap((function(){return t.e(54667).then(t.bind(t,841720))}),"ChatRepliesOPCard"),se="chat-hidden-message-placeholder",le="chat-hidden-username-placeholder";!function(e){e.ChatLineMessage="chat-line-message",e.ChatLineMessageBody="chat-line-message-body",e.ChatDeletedMessagePlaceholder="chat-deleted-message-placeholder",e.ChatDeletedMessagePlaceholderBrief="chat-deleted-message-placeholder-brief",e.ChatHiddenMessagePlaceholder="chat-hidden-message-placeholder",e.ChatHiddenUserNameLink="chat-hidden-username-link",e.ChatHiddenUsernamePlaceholder="chat-hidden-username-placeholder",e.ChatDeletedMessageAttribution="chat-deleted-message-attribution",e.ChatMessageHighlight="chat-message-highlight",e.ChatMessageSeparator="chat-message-separator",e.ChatReplyButton="chat-reply-button"}(j||(j={}));var de=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={alwaysShowMessage:!1},n.chatRepliesTreatment=(0,$.C)(n.props.channelID),n.useUpdatedMeStyling=(0,w.t)("new_me_command"),n.setTooltipRef=function(e){return n.tooltipRef=e},n.getTooltipLabel=function(){var e=n.props,t=e.reply,i=e.hasReply,a=e.replyRestrictedReason,r=t||i;return!r&&a?(0,U.ZK)(a):r?(0,k.wv)("See thread","ChatLine"):(0,k.wv)("Click to reply","ChatLine")},n.showTooltip=function(){n.tooltipRef&&n.props.tooltipLayer.show({from:n.tooltipRef,direction:d.AR.Top,align:d.Mg.Right,label:n.getTooltipLabel()})},n.hideTooltip=function(){n.props.tooltipLayer.hide()},n.renderReplyLine=function(){var e=n.props,t=e.channelID,i=e.currentUserID,a=e.currentUserLogin,r=e.reply,s=e.repliesAppearancePreference;return!r||s!==ne.xy.Expanded&&!n.isReplyToOrFromSelf()?null:o.createElement(Y,{channelID:t,displayName:r.parentDisplayName,message:r.parentMessageBody,isDeleted:!!r.parentDeleted,isReplyToMe:void 0!==a&&void 0!==i&&i===r.parentUid})},n.isReplyToOrFromSelf=function(){var e=n.props,t=e.reply,i=e.message,a=e.currentUserID;if(!t||!a)return!1;var r=i.user.userID===a,o=a===t.parentUid;return r||o},n.renderReplyContextPill=function(){var e=n.props,t=e.reply,i=e.repliesAppearancePreference;return t&&i===ne.xy.Minimum?o.createElement(W,{reply:t,onIconClick:n.onIconClick}):null},n.renderModerationIcons=function(){if(!n.props.isCurrentUserModerator||!n.props.showModerationIcons||!n.props.message.user.userID||!n.props.channelID||n.props.isHidden&&!n.state.alwaysShowMessage)return null;var e=!0;return void 0!==n.props.canDelete&&(e=n.props.canDelete),o.createElement(J.O,{targetUserID:n.props.message.user.userID,canDelete:e,confirmModerationAction:n.props.confirmModerationAction,channelID:n.props.channelID,isMessageDeleted:n.props.message.deleted,isMessageBanned:n.props.message.banned,senderLogin:n.props.message.user.userLogin,messageID:n.props.message.id})},n.renderMessageBody=function(){var e=n.props,t=e.channelID,i=e.channelLogin,a=e.deletedMessageDisplay,s=e.isCurrentUserModerator,l=e.isCurrentUserStaff,d=e.isDeleted,c=e.isHidden,m=e.message,p=e.theme,h=e.useHighContrastColors;if(c&&!n.state.alwaysShowMessage&&s){var f=(0,k.wv)("message hidden from blocked user","ChatLine");return o.createElement("span",{key:"hidden_message",className:"chat-line__message--hidden","data-a-target":se},o.createElement(u.s,{linkTo:"",onClick:n.hiddenMessageClickHandler,"data-test-selector":j.ChatHiddenMessagePlaceholder},"<"+f+">"))}if(d)return o.createElement(V,{channelID:t,channelLogin:i,isCurrentUserModerator:s,isCurrentUserStaff:l,deletedMessageDisplay:a,message:m,alwaysShowMessage:n.state.alwaysShowMessage,setAlwaysShowMessage:n.alwaysShowMessage});var g={chatChannelID:n.props.channelID,chatChannelLogin:n.props.channelLogin,messageAuthorID:n.props.message.user.userID,messageSourceID:n.props.message.id,emoteSourceType:x.Vn.chat,isHighlighted:n.props.isHighlighted},v=(0,U.kz)(n.props.message.messageParts,g);if(n.props.message.bits)return n.handleBitsDecorations(v,n.props.message.bitsImageUrl);var y=r({"chat-line__message-body--highlighted":n.props.isHighlighted,"chat-line__message-body--italicized":n.useUpdatedMeStyling&&n.props.message.messageType===Z.Ay.Action}),S={};if(!n.useUpdatedMeStyling&&m.messageType===Z.Ay.Action){var C=m.user.color;h&&C&&(C="#"+(0,K.Fp)(C,p)),S={color:C}}return o.createElement("span",{className:y,style:S,"data-test-selector":j.ChatLineMessageBody},v)},n.handleBitsDecorations=function(e,t){switch((0,M.RJ)(n.props.channelID)){case M.Vq.MessageSize:var i=void 0;return i=n.props.message.bits>=D.C.Red?"cheer10000-message-size-adjustment cheering-message-size-gradient":n.props.message.bits>=D.C.Blue?"cheer5000-message-size-adjustment":n.props.message.bits>=D.C.Green?"cheer1000-message-size-adjustment":n.props.message.bits>=D.C.Purple?"cheer100-message-size-adjustment":"cheer1-message-size-adjustment",o.createElement(c.V,{type:m.yG.Span,className:i},e);case M.Vq.Screenshot:if(t)return o.createElement(o.Fragment,null,e,o.createElement(p.p,{"data-test-selector":"bits-screenshot-image",src:t,alt:""}))}return e},n.renderMessageAuthor=function(){var e=n.props,t=e.badgeSets,i=e.message,a=e.tabbable,r=e.theme,s=e.useHighContrastColors;return n.props.isHidden&&!n.state.alwaysShowMessage&&n.props.isCurrentUserModerator?o.createElement("span",{key:"hidden_username",className:"chat-line__username--hidden","data-a-target":le,"data-test-selectors":j.ChatHiddenUsernamePlaceholder},o.createElement(u.s,{linkTo:"",onClick:n.hiddenMessageClickHandler,"data-test-selector":j.ChatHiddenUserNameLink},(0,k.wv)("User Hidden","ChatLine"))):o.createElement(h.A,{className:"chat-line__username-container",display:f.sS.InlineBlock},o.createElement(S.Y,{name:"viewer_badge_collection",assignments:{fallback:function(){return o.createElement(_.k,{badgeSets:t,badgesToRender:i.badges,dynamicData:i.badgeDynamicData,hideBroadcasterTooltip:n.props.hideBroadcasterTooltip,tabbable:a,usesSchemaBadges:n.props.usesSchemaBadges,channelID:n.props.channelID})},on:function(){return o.createElement(_.k,{badgeSets:t,badgesToRender:i.badges,dynamicData:i.badgeDynamicData,hideBroadcasterTooltip:n.props.hideBroadcasterTooltip,tabbable:a,usesSchemaBadges:n.props.usesSchemaBadges,overrideBadgeClickHandler:n.openBadgeDetails,channelID:n.props.channelID})}}}),o.createElement("span",{className:"chat-line__username",onClick:n.openViewerCard,onKeyDown:n.openViewerCard,role:"button",tabIndex:!1===a?-1:0},o.createElement(Q.Uk,{userData:i.user,highContrastUsernameColor:s,theme:r})))},n.renderReplyButton=function(e){var t=n.props,i=t.reply,a=t.hasReply,r=t.replyRestrictedReason;if(n.chatRepliesTreatment===$.E.Control||e)return null;var s=i||a;return o.createElement(h.A,{background:f.Aq.Base,borderRadius:g.c.Medium,className:"chat-line__reply-icon",elevation:1,position:f.Ly.Absolute,ref:n.setTooltipRef},o.createElement(v.Ei,{"aria-label":n.getTooltipLabel(),icon:s?y.e.Conversations:y.e.Reply,"data-test-selector":j.ChatReplyButton,onClick:n.onMessageClick,disabled:!s&&!!r}))},n.onMessageClick=function(){var e=n.props,t=e.channelID,i=e.message,a=e.hasReply,r=e.reply;if(n.props.hideViewerCard(),r)return n.setOPCardTray(r),void(t&&(0,ie.UY)({threadID:r.parentMsgId,channelID:t,uiContext:ie.Xw.ThreadIcon}));if(a){var o=(0,te.j)(i);return n.setOPCardTray(o),void(t&&(0,ie.UY)({threadID:o.parentMsgId,channelID:t,uiContext:ie.Xw.ThreadIcon}))}n.chatRepliesTreatment!==$.E.Control&&(n.setMessageTray(),t&&(0,ie.fi)({messageID:i.id,channelID:t}))},n.onIconClick=function(){var e=n.props,t=e.channelID,i=e.reply;n.props.hideViewerCard(),i&&(n.setOPCardTray(i),t&&(0,ie.UY)({threadID:i.parentMsgId,channelID:t,uiContext:ie.Xw.ContextPill}))},n.setMessageTray=function(){var e=n.props,t=e.message;(0,e.setTray)({header:o.createElement(T.F,{icon:o.createElement(A.j,{asset:y.e.Reply})},(0,U.GK)(t.user.userDisplayName)),body:o.createElement(re,(0,a.__assign)({},n.props)),inputValue:"",sendButtonOverride:ee.nS.Reply,disableBits:!0,disableChat:t.deleted,sendMessageHandler:{type:ee.DB.Reply,additionalMetadata:{reply:{parentDeleted:t.deleted,parentMsgId:t.id,parentMessageBody:t.messageBody,parentUid:t.user.userID,parentUserLogin:t.user.userLogin,parentDisplayName:t.user.userDisplayName}}},type:ee.v4.Reply})},n.setOPCardTray=function(e){n.props.setTray({header:o.createElement(T.F,{icon:o.createElement(A.j,{asset:y.e.Conversations})},(0,U.P)()),body:o.createElement(oe,{channelID:n.props.channelID,channelLogin:n.props.channelLogin,showModerationIcons:n.props.showModerationIcons,showTimestamps:n.props.showTimestamps,useHighContrastColors:n.props.useHighContrastColors,deletedMessageDisplay:n.props.deletedMessageDisplay,isCurrentUserModerator:n.props.isCurrentUserModerator,isCurrentUserStaff:n.props.isCurrentUserStaff,currentUserID:n.props.currentUserID,currentUserDisplayName:n.props.currentUserDisplayName,currentUserLogin:n.props.currentUserLogin,confirmModerationAction:n.props.confirmModerationAction,theme:n.props.theme,reply:e,hideBroadcasterTooltip:n.props.hideBroadcasterTooltip,highlightMessageID:n.props.message.user.userID!==n.props.currentUserID?n.props.message.id:void 0}),inputValue:"",disableCommands:!0,sendButtonOverride:ee.nS.Reply,disableBits:!0,onClose:function(){return n.trackChatRepliesThreadClose(e)},disableChat:e.parentDeleted,sendMessageHandler:{type:ee.DB.Reply,additionalMetadata:{reply:{parentDeleted:e.parentDeleted,parentMsgId:e.parentMsgId,parentMessageBody:e.parentMessageBody,parentUid:e.parentUid,parentUserLogin:e.parentUserLogin,parentDisplayName:e.parentDisplayName}}},type:ee.v4.Reply})},n.trackChatRepliesThreadClose=function(e){var t=n.props.channelID;t&&(0,ie.LR)({messageID:e.parentMsgId,channelID:t})},n.alwaysShowMessage=function(e){e&&e.preventDefault(),n.setState({alwaysShowMessage:!0})},n.hiddenMessageClickHandler=function(e){n.alwaysShowMessage(e),n.props.message.user.userID&&n.props.onHiddenMessageClick(n.props.message.user.userID)},n.openViewerCard=function(e){n.isKeyboardEvent(e)&&e.keyCode!==b.m.Space&&e.keyCode!==b.m.Enter||n.props.onUsernameClick(n.props.message.user.userLogin,x.TU.chat_message,n.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},n.addEventListeners=function(){n.tooltipRef&&(n.tooltipRef.addEventListener("mouseenter",n.showTooltip),n.tooltipRef.addEventListener("mouseleave",n.hideTooltip))},n.removeEventListeners=function(){n.tooltipRef&&(n.tooltipRef.removeEventListener("mouseenter",n.showTooltip),n.tooltipRef.removeEventListener("mouseleave",n.hideTooltip))},n.openBadgeDetails=function(e,t){n.props.onUsernameClick(n.props.message.user.userLogin,x.TU.chat_message,n.props.message.id,t.currentTarget.getBoundingClientRect().bottom),n.props.setViewerCardPage({type:x.cY.BadgeCarouselPage,selectedBadge:(0,N.t)(e)})},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.addEventListeners()},n.prototype.componentWillUnmount=function(){this.removeEventListeners()},n.prototype.render=function(){var e=this.props,n=e.className,t=e.currentUserLogin,i=e.deletedCount,a=e.deletedMessageDisplay,s=e.disableReplyClick,l=e.isCurrentUserModerator,d=e.isDeleted,u=e.isHistorical,p=e.message,v=e.reply,y=e.showTimestamps,S=e.tabbable;if(d&&l&&a===E.zCI.BRIEF)return i&&i>0?o.createElement(h.A,{className:"chat-line__status"},o.createElement(c.V,{type:m.yG.Span,"data-a-target":"chat-deleted-message-placeholder","data-test-selector":j.ChatDeletedMessagePlaceholderBrief},(0,k.wv)("{numDeleted, plural, one {# message was deleted by a moderator.} other {# messages were deleted by a moderator.}}",{numDeleted:i},"ChatLine"))):null;var C=p.messageType===Z.Ay.Action?" ":": ",b=y||u?(0,U.lU)(p.timestamp):null,w=p.user.userLogin===t&&!v||!v&&d||s;return o.createElement("div",{className:r(n,"chat-line__message"),"data-a-target":"chat-line-message","data-test-selector":j.ChatLineMessage,tabIndex:!1===S?-1:0},o.createElement(h.A,{position:f.Ly.Relative},this.chatRepliesTreatment!==$.E.Control&&!w&&o.createElement(h.A,{"data-test-selector":j.ChatMessageHighlight,borderRadius:g.c.Medium,className:"chat-line__message-highlight",position:f.Ly.Absolute}),o.createElement(h.A,{position:f.Ly.Relative,className:r({"chat-line__message-container":this.chatRepliesTreatment!==$.E.Control})},this.chatRepliesTreatment===$.E.TreatmentA&&this.renderReplyLine(),o.createElement(h.A,null,o.createElement(h.A,{display:f.sS.Inline,className:"chat-line__no-background"},b,this.renderModerationIcons(),this.renderMessageAuthor(),o.createElement("span",{key:"separator","aria-hidden":"true","data-test-selector":j.ChatMessageSeparator},C),this.chatRepliesTreatment===$.E.TreatmentA&&!this.isReplyToOrFromSelf()&&this.renderReplyContextPill(),this.renderMessageBody()))),this.renderReplyButton(w)))},n.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},n}(o.Component);var ue=(0,l.qC)((0,s.$j)(void 0,(function(e){return(0,l.DE)({onHiddenMessageClick:I.qR},e)})),(0,ae.y)(),(0,P.WA)((function(e){return{setTray:function(n){return e((0,R.aT)(n))}}})),(0,X.Hu)((function(e){return{onUsernameClick:e.onShowViewerCard,hideViewerCard:e.hideViewerCard,setViewerCardPage:e.setViewerCardPage}})))(de)},667211:function(e,n,t){"use strict";t.d(n,{Uk:function(){return o}});var i=t(294184),a=t(667294),r=t(70981),o=function(e){var n,t=e.userData.color;e.highContrastUsernameColor&&t&&(t="#"+(0,r.Fp)(t,e.theme));var o=[a.createElement("span",{key:"username-display",className:"chat-author__display-name","data-a-target":"chat-message-username","data-a-user":e.userData.userLogin,"data-test-selector":"message-username",style:{color:t}},e.userData.userDisplayName)];if(e.userData.isIntl){var s=i(((n={})["chat-author__intl-login"]=!e.highlighted,n["chat-author__intl-login--highlighted"]=e.highlighted,n));o.push(a.createElement("span",{key:"username-login",style:{color:t},className:s,"data-test-selector":"message-username-canonical"}," ("+e.userData.userLogin+")"))}return a.createElement("span",{key:e.userData.userID+"-authorlabel"},o)}},573768:function(e,n,t){"use strict";t.d(n,{N:function(){return c}});var i=t(570655),a=t(667294),r=t(58661),o=t(270406),s=t(150125),l=t(469419),d=t(325820),u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.openViewerCard=function(e){n.isKeyboardEvent(e)&&e.keyCode!==l.m.Space&&e.keyCode!==l.m.Enter||n.props.onUsernameClick(n.props.login,n.props.sourceType,n.props.contentID,e.currentTarget.getBoundingClientRect().bottom)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return a.createElement("span",{className:"chatter-name",onClick:this.openViewerCard,onKeyDown:this.openViewerCard,role:"button",tabIndex:0},a.createElement(r.V,{bold:!0,color:o.Il.Base,type:s.yG.Span},this.props.children))},n.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},n}(a.Component);var c=(0,d.Hu)((function(e){return{onUsernameClick:e.onShowViewerCard}}))(u)},522733:function(e,n,t){"use strict";t.d(n,{v:function(){return v}});var i=t(137703),a=t(14890),r=t(797425),o=t(457087),s=t(719689),l=t(325820),d=t(570655),u=t(667294),c=t(539073),m=t(646628),p=t(337108),h=t(190109),f=t(274178),g=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.emoteClickHandler=function(e){n.props.emote.emoteID&&n.props.onEmoteClick({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin||"",emoteID:n.props.emote.emoteID,emoteCode:n.props.emote.alt||"",sourceID:n.props.sourceID||"",emoteSourceType:n.props.sourceType?n.props.sourceType:h.Vn.unknown,referrerID:n.props.referrerID||"",initialTopOffset:e.currentTarget.getBoundingClientRect().bottom})},n}return(0,d.__extends)(n,e),n.prototype.render=function(){var e,n=this,t=this.props.emote.alt||"",i=this.props.emote.images;if(this.props.emote.cheerAmount){var a=this.props.bitsConfig&&this.props.bitsConfig.indexedActions[t.toLowerCase()];a||(a=(0,m.cQ)("Cheer"));var r=a.orderedTiers.find((function(e){return e.bits<=n.props.emote.cheerAmount}));r||(r=a.orderedTiers[0]),i=(0,c.q6)(a,r.bits,void 0,this.props.isEmoteAnimationsEnabled),t+=" "+this.props.emote.cheerAmount.toString(),e=u.createElement("strong",{className:"chat-line__message--cheer-amount",style:{color:this.props.emote.cheerColor}},this.props.emote.cheerAmount)}!this.props.emote.cheerAmount&&this.props.emote.emoteID&&(i=(0,f.u4)(this.props.emote.emoteID,this.props.isEmoteAnimationsEnabled));var o=u.createElement(p.T,{alt:t,cheerText:e,className:"chat-line__message--emote",srcKey:"1x",srcSet:i});return this.props.emote.cheerAmount||this.props.disableCard?o:u.createElement("div",{onClick:this.emoteClickHandler,className:"chat-line__message--emote-button","data-test-selector":"emote-button"},o)},n}(u.Component);var v=(0,a.qC)((0,i.$j)((function(e){return{user:(0,r.PR)(e)}})),(0,l.Hu)((function(e){return{onEmoteClick:e.onShowEmoteCard}})),(0,s.Im)((function(e){return{isEmoteAnimationsEnabled:e.value}})),(0,o.gc)((function(e){return{bitsConfig:e.bitsConfig}})))(g);v.displayName="Emote"},612172:function(e,n,t){"use strict";t.d(n,{GG:function(){return u}});var i=t(667294),a=t(382448),r=t(270406),o=t(175424),s=t(734995),l=t(470216),d=t(831642),u=function(e){var n=e.onBanUser,t=a.e.Ban,u=(0,d.wv)("Ban {login}",{login:e.senderLogin},"ModerationIcons"),c="chat-ban-button",m=null,p=e.renderNewVersion?r.sS.Flex:r.sS.Inline,h=e.renderNewVersion?o.Mg.Center:o.Mg.Left,f=e.renderNewVersion?o.AR.Bottom:o.AR.Top,g=e.renderNewVersion?r.Il.Link:r.Il.Alt2,v=e.renderNewVersion?{right:.5}:{right:0};return e.isMessageBanned&&(n=e.onUnbanUser,t=a.e.FollowCheck,u=(0,d.wv)("Unban {login}",{login:e.senderLogin},"ModerationIcons"),c="chat-unban-button"),!e.isMessageDeleted&&e.canDelete&&(m=i.createElement(s.A,{display:r.sS.InlineFlex,margin:v,verticalAlign:r.g$.Bottom},i.createElement(o.ns,{align:h,direction:f,label:(0,d.wv)("Delete message","ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onDelete,"data-test-selector":"chat-delete-button"},i.createElement(l.W,{width:16,height:16,type:l.w.Inherit,asset:a.e.Trash}))))),i.createElement(s.A,{color:g,display:p,margin:{right:.5}},i.createElement(s.A,{display:r.sS.InlineFlex,margin:v,verticalAlign:r.g$.Bottom},i.createElement(o.ns,{align:h,direction:f,label:u},i.createElement("button",{className:"mod-icon",onClick:n,"data-test-selector":c},i.createElement(l.W,{width:16,height:16,type:l.w.Inherit,asset:t})))),i.createElement(s.A,{display:r.sS.InlineFlex,margin:v,verticalAlign:r.g$.Bottom},i.createElement(o.ns,{align:h,direction:f,label:(0,d.wv)("Timeout {login}",{login:e.senderLogin},"ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onTimeoutUser,"data-test-selector":"chat-timeout-button"},i.createElement(l.W,{width:16,height:16,type:l.w.Inherit,asset:a.e.Timeout})))),m)}},12288:function(e,n,t){"use strict";t.d(n,{O:function(){return E}});var i=t(570655),a=t(667294),r=t(137703),o=t(14890),s=t(831642),l=t(615726),d=t(344689),u=t(128416),c=t(797425),m=t(869487),p=t(663823),h=t(987145),f=t(77966),g=t(506017),v=t(755324);function y(e){var n=this;return function(t){return a.createElement(e,(0,i.__assign)({},t,{deleteChatMessageMutation:function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n,a,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(!t.deleteChatMessage)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.deleteChatMessage(e)];case 2:return n=i.sent(),(null===(o=null===(r=null===(a=n.data)||void 0===a?void 0:a.deleteChatMessage)||void 0===r?void 0:r.message)||void 0===o?void 0:o.sender)?((0,g.j)({actionType:p.Dy.DeleteMessage,channelID:e.variables.input.channelID,targetUserID:n.data.deleteChatMessage.message.sender.id,source:p.Ou.QuickModButtons,page:t.page}),[2,{data:n.data}]):[3,4];case 3:throw i.sent(),new Error("Unable to delete message");case 4:return[3,6];case 5:throw new Error("Delete chat message mutation is not ready");case 6:return[2]}}))}))}}))}}var k=t(331902);function S(e,n){switch(e){case u.pPh.FORBIDDEN:return(0,s.wv)("You don't have permission to delete messages.","DeleteChatMessageErrorCode");case u.pPh.TARGET_IS_BROADCASTER:return(0,s.wv)("You cannot delete the broadcaster's messages.","DeleteChatMessageErrorCode");case u.pPh.TARGET_IS_MODERATOR:return(0,s.wv)("You cannot delete messages from moderator {senderDisplayName}",{senderDisplayName:n},"DeleteChatMessageErrorCode");case u.pPh.SUCCESS_STAFF:return(0,s.wv)("You deleted a message from staff {senderDisplayName}. Please email support@twitch.tv if a staff member is being abusive.",{senderDisplayName:n},"DeleteChatMessageErrorCode");default:throw new Error("Unrecognized operation result")}}var C=t(290568),b=t(612172),w=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.banUser=function(){return n.props.banUser()},n.timeoutUser=function(){return n.props.timeoutUser()},n.unbanUser=function(){return n.props.unbanUser()},n.deleteMessage=function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var e,n,t,a,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(this.props.confirmModerationAction&&!this.props.confirmModerationAction())return[3,4];if(e=(0,s.wv)("Unable to delete message.","ModerationIcons"),!this.props.channelID)return this.surfaceError(e),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),n={channelID:this.props.channelID,messageID:this.props.messageID},[4,this.props.deleteChatMessageMutation((0,d.k_)(n))];case 2:return(t=i.sent().data)?((a=t.deleteChatMessage)&&a.responseCode!==u.pPh.SUCCESS&&(r=a.message&&a.message.sender&&a.message.sender.displayName||this.props.senderLogin,o=S(a.responseCode,r),this.surfaceError(o)),[3,4]):(this.surfaceError(e),[2]);case 3:return i.sent(),this.surfaceError(e),[3,4];case 4:return[2]}}))}))},n.surfaceError=function(e){n.props.surfaceError&&n.props.surfaceError(e)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.sessionUser&&this.props.sessionUser.id===this.props.targetUserID?null:a.createElement(b.GG,{isMessageDeleted:this.props.isMessageDeleted,isMessageBanned:this.props.isMessageBanned,canDelete:this.props.canDelete,onBanUser:this.banUser,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,onDelete:this.deleteMessage,senderLogin:this.props.senderLogin,renderNewVersion:this.props.renderNewVersion})},n}(a.Component);var E=(0,o.qC)(k.Qt,(0,l.Q)((function(e){return(0,i.__assign)((0,i.__assign)({},e),{targetID:e.targetUserID,targetLogin:e.senderLogin,source:p.Ou.QuickModButtons,surfaceError:function(n){e.messageHandlerAPI&&e.messageHandlerAPI.handleMessage((0,m.W)(n))}})})),C.Aq,(function(e){return(0,o.qC)((0,f.R2)(f.qT),(0,h.TA)(v,{name:"deleteChatMessage"}),y)(e)}),(0,r.$j)((function(e){return{sessionUser:(0,c.PR)(e)}})))(w)},599901:function(e,n,t){"use strict";t.d(n,{RA:function(){return s}});var i=t(294184),a=t(667294),r=t(289738),o="text-fragment",s=function(e){var n,t=e.content,s=e.highlightType,l=e.disableTextSelection,d=i(o,((n={})[o+"--moderated-highlight"]=s===r.S.ModeratedText,n[o+"--selection-disabled"]=l,n));return a.createElement("span",{className:d,"data-a-target":"chat-message-text"},t)}},233912:function(e,n,t){"use strict";t.d(n,{ZK:function(){return De},GK:function(){return _e},i$:function(){return be},P:function(){return Ne},c3:function(){return fe},fY:function(){return ke},qV:function(){return ye},kz:function(){return pe},mf:function(){return he},yc:function(){return Ce},WR:function(){return ve},RF:function(){return ge},f6:function(){return Se},lU:function(){return we},QA:function(){return Ee}});var i,a=t(667294),r=t(687837),o=t(831642),s=t(854714),l=t(487163),d=t(128416),u=t(127649),c=t(570655),m=t(987145),p=t(302285),h=t(58661),f=t(270406),g=t(734995),v=t(246797),y=t(928185),k=t(146085),S=t(952743),C=t(994403),b=t(363349),w=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={hasImageLoadingError:!1},n.handleImageError=function(){n.setState({hasImageLoadingError:!0})},n}return(0,c.__extends)(n,e),n.prototype.render=function(){var e=o.vc.defaultStreamPreviewURL;return!this.state.hasImageLoadingError&&this.props.imageURL&&(e=this.props.imageURL),a.createElement(C.x,{aspect:b.oM.Aspect16x9,alt:this.props.altText,src:e,onError:this.handleImageError})},n}(a.Component),E="https://static-cdn.jtvnw.net/emoticons/v1/58765/2.0",_="chat-card-error",N="chat-card-title",D="chat-card-description",M=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderErrorCard=function(){var e=a.createElement("img",{"data-test-selector":_,src:E,className:"chat-card__error-img",alt:""});return n.renderCardContent(e,n.props.error)},n.renderCardContent=function(e,n){var t,i;return n?(t=a.createElement(h.V,{bold:!0,"data-test-selector":N,title:n.title},n.title),i=a.createElement(h.V,{color:f.Il.Alt2,"data-test-selector":D},n.description)):(e=a.createElement(p.Vm,{overlay:!0}),t=a.createElement(p.Vm,{width:180}),i=a.createElement(p.Vm,{width:120})),a.createElement(g.A,{display:f.sS.Flex,flexWrap:f.gP.NoWrap,padding:.5,className:"chat-card"},a.createElement(g.A,{className:"chat-card__preview-img",background:f.Aq.Alt2,display:f.sS.Flex,alignItems:f.g1.Center,justifyContent:f.uM.Center,flexShrink:0},e),a.createElement(g.A,{display:f.sS.Flex,alignItems:f.g1.Center,overflow:f.nP.Hidden},a.createElement(g.A,{padding:{left:1},fullWidth:!0},a.createElement(g.A,{className:"chat-card__title",ellipsis:!0},t),a.createElement(g.A,{ellipsis:!0},i))))},n}return(0,c.__extends)(n,e),n.prototype.render=function(){var e;if(this.props.error)e=this.renderErrorCard();else if(this.props.data){var n=(0,k.Q3)(this.props.data.contentURL,{tt_medium:S.bn.Chat,tt_content:S.d8.ChatCard}),t=a.createElement(w,{altText:this.props.data.title,key:this.props.data.previewImageURL,imageURL:this.props.data.previewImageURL});e=a.createElement(g.A,{background:f.Aq.Base,borderRadius:v.c.Medium,display:f.sS.Flex,fullWidth:!0},a.createElement(y.RM,{linkTo:n,targetBlank:!0,type:y.x8.Alpha,borderRadius:v.c.Medium},this.renderCardContent(t,{title:this.props.data.title,description:this.props.data.description})))}else e=this.renderCardContent();return a.createElement(g.A,{borderRadius:v.c.Medium,elevation:1},e)},n}(a.Component),I=t(349039),T={isTimedOut:!1},P=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state=T,n.timeoutID=null,n}return(0,c.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){return e.data.clip&&n.isTimedOut?{isTimedOut:!1}:null},n.prototype.componentDidMount=function(){var e=this;this.props.data.clip||(this.timeoutID=setTimeout((function(){e.setState({isTimedOut:!0})}),5e3))},n.prototype.componentDidUpdate=function(e){!e.data.clip&&this.props.data.clip&&this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},n.prototype.render=function(){var e=this.props.data,n=e.clip,t=e.error,i=e.loading;return t||this.state.isTimedOut?a.createElement(M,{error:{title:(0,o.wv)("Something went wrong","ClipsChatCard"),description:(0,o.wv)("We couldn't find that Clip","ClipsChatCard")}}):i||!n?a.createElement(M,null):a.createElement(M,{data:{title:n.title||(n.broadcaster&&n.broadcaster.displayName?(0,o.wv)("Clip of {broadcaster}",{broadcaster:n.broadcaster.displayName},"ClipsChatCard"):""),description:n.curator&&n.curator.displayName?(0,o.wv)("Clipped by {curator}",{curator:n.curator.displayName},"ClipsChatCard"):"",previewImageURL:n.thumbnailURL,contentURL:n.url}})},n}(a.Component),R=(0,m.TA)(I,{options:function(e){return{variables:{slug:e.slug},notifyOnNetworkStatusChange:!0,fetchPolicy:e.forceNetworkRequest?"cache-first":"cache-only"}}})(P),A=t(294184),L=t(137147),F=((i={})[L.K.Default]="",i[L.K.Recipient]="mention-fragment--recipient",i[L.K.Sender]="mention-fragment--sender",i),U=function(e){var n=e.isAtMention?"@":"",t=A("mention-fragment",F[e.currentUserMentionRelation]);return a.createElement("span",{className:t,"data-a-target":"chat-message-mention"},""+n+e.recipient)};U.displayName="MentionFragment";var x,O=t(606382),B=t(5779),V=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,c.__extends)(n,e),n.prototype.render=function(){var e=this.props.data,n=e.video,t=e.error;if(e.loading||!n)return a.createElement(M,null);if(t||!n.owner||!n.owner.login||!n.publishedAt||!n.title)return a.createElement(M,{error:{title:(0,o.wv)("Something went wrong","VideoChatCard"),description:(0,o.wv)("We couldn't find that video","VideoChatCard")}});var i=a.createElement(h.V,null,(0,o.p6)(new Date(n.publishedAt),"medium"),a.createElement("span",null,"  "),(0,O.I)(n.owner.login,n.owner.displayName));return a.createElement(M,{data:{title:n.title,description:i,previewImageURL:n.previewThumbnailURL,contentURL:this.props.url}})},n}(a.Component),q=(0,m.TA)(B,{options:function(e){return{variables:{videoID:e.id},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"}}})(V),G=t(498409),H=t(289738),W=t(228562),z=t(522733),$=t(440281),j=t(731110),Y=t(322411),Q=t(260999),J=t(175850),K=t(14890),X=t(38339),Z=t(150125),ee=t(796441),ne=t(166825),te=t(166977),ie=t(742407),ae=t(925445),re=t(877465);!function(e){e.CancelButton="flagged-fragment-cancel",e.ConfirmButton="flagged-fragment-confirm",e.FeedbackButton="flagged-fragment-feedback",e.FeedbackNo="flagged-fragment-no",e.FeedbackYes="flagged-fragment-yes",e.SettingsLink="flagged-fragment-settings",e.Title="flagged-fragment-title"}(x||(x={}));var oe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={feedbackSelection:null,textShown:!1},n.hasTrackedImpression=!1,n.showSettings=function(){n.props.showChatFilterSettings(re.P6.FilteredMessage),n.props.updateChatConfigState({isSettingsOpen:!0}),n.props.onDismissBalloon()},n.showText=function(){n.props.onShowText(),n.setState({textShown:!0}),o.UO.track(ie.N.ChatFilterMessageInteraction,n.getCommonTrackingProps())},n.onAffirmativeFeedbackSelected=function(){n.setState({feedbackSelection:!0})},n.onNegativeFeedbackSelected=function(){n.setState({feedbackSelection:!1})},n.onSubmit=function(){n.props.onDismissBalloon(),o.UO.track(ie.N.ChatFilterFeedbackInteraction,(0,c.__assign)((0,c.__assign)({},n.getCommonTrackingProps()),{value:n.state.feedbackSelection?n.getAffirmativeText():n.getNegativeText()}))},n}return(0,c.__extends)(n,e),n.prototype.render=function(){var e=this,n=(0,o.wv)("Cancel","FlaggedFragmentBalloonContent");return this.state.textShown?a.createElement(g.A,{padding:1},a.createElement(ne.cw,{label:(0,o.wv)("Help improve our filters. Was this message correctly hidden?","FlaggedFragmentBalloonContent")},a.createElement(te.Y,{label:this.getAffirmativeText(),name:"flagged-fragment-feedback",onChange:this.onAffirmativeFeedbackSelected,"data-test-selector":x.FeedbackYes}),a.createElement(te.Y,{label:this.getNegativeText(),name:"flagged-fragment-feedback",onChange:this.onNegativeFeedbackSelected,"data-test-selector":x.FeedbackNo})),a.createElement(g.A,{display:f.sS.Flex,justifyContent:f.uM.End},a.createElement(g.A,{margin:{right:1}},a.createElement(ee.zx,{onClick:this.props.onDismissBalloon,type:ee.L$.Secondary,"data-test-selector":x.CancelButton},n)),a.createElement(ee.zx,{disabled:null===this.state.feedbackSelection,onClick:this.onSubmit,"data-test-selector":x.FeedbackButton},(0,o.wv)("Submit","FlaggedFragmentBalloonContent")))):(this.hasTrackedImpression||(o.UO.track(ie.N.ChatFilterMessageImpression,this.getCommonTrackingProps()),this.hasTrackedImpression=!0),a.createElement(g.A,{padding:1},a.createElement(h.V,{bold:!0,type:Z.yG.H6,"data-test-selector":x.Title},this.getCategoryTitle()),(0,o.wv)("Would you like to see this message? It has been hidden for you based on your <x:link>Chat Filter settings</x:link>.",{"x:link":function(n){return a.createElement(r.s,{onClick:e.showSettings,"data-test-selector":x.SettingsLink},n)}},"FlaggedFragmentBalloonContent"),a.createElement(g.A,{display:f.sS.Flex,justifyContent:f.uM.End},a.createElement(g.A,{margin:{right:1}},a.createElement(ee.zx,{onClick:this.props.onDismissBalloon,type:ee.L$.Secondary,"data-test-selector":x.CancelButton},n)),a.createElement(ee.zx,{onClick:this.showText,"data-test-selector":x.ConfirmButton},(0,o.wv)("Show Message","FlaggedFragmentBalloonContent")))))},n.prototype.getCategoryTitle=function(){var e=this.props.messagePart.categories;return 1!==Object.values(e).filter((function(e){return!!e})).length?(0,o.wv)("Message Blocked","FlaggedFragmentBalloonContent"):e[X.b.Aggressive]?(0,o.wv)("Hostile Message Blocked","FlaggedFragmentBalloonContent"):e[X.b.Identity]?(0,o.wv)("Discriminatory Message Blocked","FlaggedFragmentBalloonContent"):e[X.b.Sexual]?(0,o.wv)("Sexually Explicit Message Blocked","FlaggedFragmentBalloonContent"):(0,o.wv)("Profanity Blocked","FlaggedFragmentBalloonContent")},n.prototype.getAffirmativeText=function(){return(0,o.wv)("Yes","FlaggedFragmentBalloonContent")},n.prototype.getNegativeText=function(){return(0,o.wv)("No","FlaggedFragmentBalloonContent")},n.prototype.getCommonTrackingProps=function(){var e=this.props.messagePart;return{channel_id:this.props.channelID||"",channel:this.props.channelLogin||"",msg_uuid:this.props.messageID||"",word:e.originalText,aggressive_language_detected:!!e.categories[X.b.Aggressive],explicit_language_detected:!!e.categories[X.b.Sexual],identity_language_detected:!!e.categories[X.b.Identity],profane_language_detected:!!e.categories[X.b.Profanity]}},n}(a.Component);var se,le=(0,K.qC)((0,re.NX)((function(e){return e})),(0,ae.Aq)((function(e){return{updateChatConfigState:function(n){return e.updateChatConfigState(n)},isSettingsOpen:e.isSettingsOpen}})))(oe),de=t(599901);!function(e){e.Balloon="flagged-fragment-balloon",e.Container="flagged-fragment-container",e.Target="flagged-fragment-span"}(se||(se={}));var ue=function(e){function n(n){var t=e.call(this,n)||this;return t.state={active:!1,balloonDirection:$.O.TopCenter,balloonXOffset:0,displayed:!1},t.setTopRef=function(e){t.topRef=e},t.setBalloonContentRef=function(e){t.balloonContentRef=e,t.state.active&&t.setState((0,c.__assign)({},t.getBalloonState()))},t.onClickOut=function(){t.setState({active:!1})},t.onClick=function(){t.setState({active:!0})},t.onShowText=function(){t.setState({displayed:!0},(function(){t.setState((0,c.__assign)({},t.getBalloonState()))}))},t.onDismissBalloon=function(){t.setState({active:!1})},isNaN(n.messagePart.length)||(t.placeholder=new Array(n.messagePart.length+1).join("*")),t}return(0,c.__extends)(n,e),n.prototype.render=function(){return this.state.active?a.createElement("span",{ref:this.setTopRef,"data-test-selector":se.Container},a.createElement(j.o,{display:f.sS.Inline,position:f.Ly.Relative},a.createElement(J.c,{onClickOut:this.onClickOut},this.renderContent(),a.createElement(Y.b,{direction:this.state.balloonDirection,offsetX:this.state.balloonXOffset+"px",show:!0,size:Q.Kn.Medium},a.createElement("span",{ref:this.setBalloonContentRef,"data-test-selector":se.Balloon}),a.createElement(le,(0,c.__assign)({},this.props,{onDismissBalloon:this.onDismissBalloon,onShowText:this.onShowText})))))):a.createElement("span",{ref:this.setTopRef,"data-test-selector":se.Container},this.renderContent())},n.prototype.renderContent=function(){var e={"flagged-fragment":!(this.state.displayed&&!this.state.active),"flagged-fragment--active":this.state.active};return this.state.displayed?a.createElement("span",{className:A(e),"data-test-selector":se.Target},pe(this.props.messagePart.content)):a.createElement("span",{className:A(e),onClick:this.onClick,"data-test-selector":se.Target},a.createElement(de.RA,{content:this.placeholder}))},n.prototype.getBalloonState=function(){if(this.balloonContentRef&&this.topRef&&this.topRef.offsetParent){var e=this.topRef.offsetParent.getBoundingClientRect(),n=this.balloonContentRef.getBoundingClientRect(),t=this.state.balloonDirection;n.top<e.top&&(t=$.O.BottomCenter);var i=e.left+20,a=n.left;return{balloonDirection:t,balloonXOffset:this.state.balloonXOffset-(a-i)}}return{balloonDirection:$.O.TopCenter,balloonXOffset:0}},n}(a.Component),ce=function(e){var n=e.displayText,t=e.url,i=e.highlighted;return a.createElement(r.s,{className:A("link-fragment",{"link-fragment--highlighted":i}),linkTo:t,targetBlank:!0,rel:"noreferrer noopener"},n)};function me(e,n,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var r=n.content,o=r.displayText,s=r.url;return i?a.createElement(de.RA,{key:"message-span-"+e,content:o}):a.createElement(ce,{key:e+"-link",highlighted:t,displayText:o,url:s})}function pe(e,n,t){void 0===n&&(n={}),void 0===t&&(t=!1);var i=null,r=e.reduce((function(r,o,l){var d=[];switch(l>0&&e[l-1].type!==H.S.Text&&o.type!==H.S.Text&&d.push(" "),o.type){case H.S.Text:case H.S.ModeratedText:var u=o.content,c=o.type;d.push(a.createElement(de.RA,{key:l,content:u,highlightType:c,disableTextSelection:n.disableTextSelection}));break;case H.S.FlaggedSegment:d.push(a.createElement(ue,{key:l,channelID:n.chatChannelID,channelLogin:n.chatChannelLogin,messageID:n.messageSourceID,messagePart:o}));break;case H.S.CurrentUserHighlight:d.push(a.createElement(U,{isAtMention:!1,currentUserMentionRelation:L.K.Recipient,recipient:o.content,key:l}));break;case H.S.Mention:d.push(a.createElement(U,{isAtMention:!0,currentUserMentionRelation:o.content.currentUserMentionRelation,recipient:o.content.recipient,key:l}));break;case H.S.Emote:d.push(a.createElement(z.v,{key:l,emote:o.content,channelID:n.chatChannelID,channelLogin:n.chatChannelLogin,sourceID:n.messageSourceID,sourceType:n.emoteSourceType,referrerID:n.messageAuthorID,disableCard:t}));break;case H.S.Link:d.push(me(l,o,n.isHighlighted,n.disableLinks));break;case H.S.ClipLink:i||n.disableChatCard||(i=a.createElement(s.S,{key:l+"-ErrorBoundary"},a.createElement(R,{slug:o.content.slug,forceNetworkRequest:n.forceClipsNetworkRequest}))),d.push(me(l,o,n.isHighlighted,n.disableLinks));break;case H.S.VideoLink:i||n.disableChatCard||(i=a.createElement(q,{key:l,id:o.content.id,url:o.content.url})),d.push(me(l,o,n.isHighlighted,n.disableLinks))}return r.concat(d)}),[]);return i&&(r=r.concat(i)),r}function he(e){if(e.moderationType===G.Aw.Delete){var n=e,t=n.userLogin,i=n.body;return a.createElement(W.C,{targetLogin:t,messageBody:i})}if((e=e).moderationType===G.Aw.Ban)return e.reason?a.createElement("span",{className:"chat-line__moderation--ban-with-reason"},(0,o.wv)("{userLogin} has been banned. Reason: {reason}",{userLogin:e.userLogin,reason:e.reason},"ChatLine")):a.createElement("span",{className:"chat-line__moderation--ban"},(0,o.wv)("{userLogin} is now banned from this channel.",{userLogin:e.userLogin},"ChatLine"));if(e.reason&&e.duration){var r=(0,o.wv)("{duration, plural, one {{userLogin} has been timed out for # second. Reason: {reason}} other {{userLogin} has been timed out for # seconds. Reason: {reason}}}",{duration:e.duration,reason:e.reason,userLogin:e.userLogin},"ChatLine");return a.createElement("span",{className:"chat-line__moderation--timeout-with-reason"},r)}return e.duration?a.createElement("span",{className:"chat-line__moderation--timeout"},(0,o.wv)("{duration, plural, one {{userLogin} has been timed out for # second.} other {{userLogin} has been timed out for # seconds.}}",{userLogin:e.userLogin,duration:e.duration},"ChatLine")):void 0}function fe(e){var n=e.daysLeft;0===n&&(n=e.hoursLeft);var t,i={bitsTotal:a.createElement("strong",null,(0,o.uf)(e.total,{style:"currency",currency:"USD"})),charityName:a.createElement("strong",null,e.charityName),learnMoreURL:a.createElement(r.s,{linkTo:e.learnMore,targetBlank:!0},e.learnMore),hashtag:a.createElement("strong",null,e.hashtag),timeRemaining:(0,o.uf)(n)};return a.createElement("span",null,0===e.daysLeft?(t=i,(0,o.wv)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more hours to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:t.bitsTotal,charityName:t.charityName,timeRemaining:t.timeRemaining,hashtag:t.hashtag,learnMoreURL:t.learnMoreURL},"ChatLine")):function(e){return(0,o.wv)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more days to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:e.bitsTotal,charityName:e.charityName,timeRemaining:e.timeRemaining,hashtag:e.hashtag,learnMoreURL:e.learnMoreURL},"ChatLine")}(i))}function ge(e){var n=e.enabled?(0,o.wv)("This room is now in slow mode. You may send messages every {length} seconds.",{length:e.length},"ChatLine"):(0,o.wv)("This room is no longer in slow mode.","ChatLine");return a.createElement("span",null,n)}function ve(e){var n;if(e.length>0){var t=e.join(", ");n=(0,o.wv)("The moderators of this channel are: {moderatorList}",{moderatorList:t},"ChatLine")}else n=(0,o.wv)("There are no moderators of this channel.","ChatLine");return a.createElement("span",null,n)}function ye(e){if(e.enabled){var n=0===e.length?(0,o.wv)("This room is in followers-only mode.","ChatLine"):(0,o.wv)("This room is now in {length} followers-only mode.",{length:(0,l.LU)(60*e.length)},"ChatLine");return a.createElement("span",null,n)}return a.createElement("span",null,(0,o.wv)("This room is no longer in followers-only mode.","ChatLine"))}function ke(e){return e.enabled?a.createElement("span",null,(0,o.wv)("This room is now in emote-only mode.","ChatLine")):a.createElement("span",null,(0,o.wv)("This room is no longer in emote-only mode.","ChatLine"))}function Se(e){var n=e.enabled?(0,o.wv)("This room is now in subscriber-only mode.","ChatLine"):(0,o.wv)("This room is no longer in subscriber-only mode.","ChatLine");return a.createElement("span",null,n)}function Ce(e){return e.enabled?a.createElement("span",null,(0,o.wv)("This room is now in unique-chat mode.","ChatLine")):a.createElement("span",null,(0,o.wv)("This room is no longer in unique-chat mode.","ChatLine"))}function be(e,n){void 0===n&&(n=!1);var t=n?e.getHours():e.getHours()%12;n||0!==t||(t=12);var i=t.toString(),a=e.getMinutes(),r=a.toString();return a<10&&(r="0"+r),n&&t<10&&(i="0"+i),i+":"+r}function we(e,n){return void 0===n&&(n=!1),a.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},be(new Date(e),n))}function Ee(e){return a.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},function(e,n){void 0===n&&(n={});var t=o.$6.intl.getLanguageCode()||"en";return Intl.DateTimeFormat(t,n).format(e)}(new Date(e),{hour:"numeric",minute:"numeric"}))}function _e(e){return(0,o.wv)("Replying to @{username}:",{username:e},"ChatLine")}function Ne(){return(0,o.wv)("Thread","ChatLine")}function De(e){var n="";switch(e){case d.D5M.FOLLOWERS_ONLY:n=(0,u.p3)();break;case d.D5M.SUBSCRIBERS_ONLY:n=(0,u.lf)();break;case d.D5M.SLOW_MODE:n=(0,u.ox)();break;case d.D5M.VERIFIED_ONLY:case d.D5M.REQUIRE_VERIFIED_PHONE_NUMBER:n=(0,u.Af)();break;default:n=(0,o.wv)("Chat Restrictions","ChatLine")}return(0,o.wv)("You can't reply now due to {formattedReason}",{formattedReason:n},"ChatLine")}},70981:function(e,n,t){"use strict";t.d(n,{Fp:function(){return h}});var i=t(677271),a=t(729765),r=t(237190),o=t(636125),s=t(44586),l=t(702631),d=t(685370),u=t(783944),c=[250,249,250],m=[15,14,17],p={};function h(e,n){var t=s(e),h=f(a(t));if(void 0===n&&(n=(0,u.gh)()),h in p[n])return p[n][h];if(n===l.Q.Dark&&t.every((function(e){return e<36})))return"7A7A7A";var g=n===l.Q.Light?c:m,v=(0,d.$p)(t,g);if(v>4.5)return h;for(var y=[t[0],t[1],t[2]],k=50;k>=0&&v<4.5;k--){var S=r(y);n===l.Q.Light?S[0]-=.1*S[0]:S[0]+=.1*S[0],y=o(i(S)),v=(0,d.$p)(y,g)}var C=f(a(y));return p[n][h]=C,C}function f(e){return"#"===e[0]?e.substr(1):e}p[l.Q.Dark]={},p[l.Q.Light]={}},607642:function(e,n,t){"use strict";t.d(n,{SZ:function(){return u},sQ:function(){return m}});var i=t(570655),a=t(667294),r=t(14890),o=t(884979),s=t(632712),l=(0,o.k)("ChatMenusContext",{chatView:s.i.Chat,hasOpenedEmotePicker:!1,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,clearMenus:function(){return null},requestedEmotePickerSection:void 0,showChatViewerList:function(){return null},closeChatViewerList:function(){return null},showRoomMemberList:function(){return null},closeRoomMemberList:function(){return null},showChatRules:function(){return null},closeChatRules:function(){return null},showEmotePicker:function(){return null},closeEmotePicker:function(){return null},resetEmotePickerSection:function(){return null}}),d=l.context,u=l.withContext,c=function(e){function n(n){var t=e.call(this,n)||this;return t.clearMenus=function(){t.setState({isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1})},t.showChatViewerList=function(){t.props.viewManager&&t.props.viewManager.updateView(s.i.ViewerList),t.setState({chatView:s.i.ViewerList})},t.closeChatViewerList=function(){t.props.viewManager&&t.props.viewManager.updateView(s.i.Chat),t.setState({chatView:s.i.Chat})},t.showRoomMemberList=function(){t.setState({isShowingRoomMemberList:!0})},t.closeRoomMemberList=function(){t.setState({isShowingRoomMemberList:!1})},t.showChatRules=function(){t.setState({isShowingChatRules:!0})},t.closeChatRules=function(){t.setState({isShowingChatRules:!1})},t.showEmotePicker=function(e){t.setState({hasOpenedEmotePicker:!0,isShowingEmotePicker:!0,requestedEmotePickerSection:e})},t.closeEmotePicker=function(){t.setState({isShowingEmotePicker:!1})},t.resetEmotePickerSection=function(){t.setState({requestedEmotePickerSection:void 0})},t.state={clearMenus:t.clearMenus,chatView:s.i.Chat,hasOpenedEmotePicker:!1,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,requestedEmotePickerSection:void 0,showChatViewerList:t.showChatViewerList,closeChatViewerList:t.closeChatViewerList,showRoomMemberList:t.showRoomMemberList,closeRoomMemberList:t.closeRoomMemberList,showChatRules:t.showChatRules,closeChatRules:t.closeChatRules,showEmotePicker:t.showEmotePicker,closeEmotePicker:t.closeEmotePicker,resetEmotePickerSection:t.resetEmotePickerSection},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return a.createElement(d.Provider,{value:(0,i.__assign)((0,i.__assign)({},this.state),{chatView:this.currentChatView})},this.props.children)},Object.defineProperty(n.prototype,"currentChatView",{get:function(){return this.props.viewManager?this.props.viewManager.view:this.state.chatView},enumerable:!0,configurable:!0}),n}(a.PureComponent),m=(0,r.qC)()(c)},832581:function(e,n,t){"use strict";t.d(n,{M$:function(){return m},E1:function(){return p}});var i=t(570655),a=t(667294),r=t(14890),o=t(831642),s=t(884979),l=t(48993),d=function(e){function n(n){var t=e.call(this,n)||this;return t.nonceMap=new Map,t.timingDeltaQueue=[],t.setInitalTimestampForMsgNonce=function(e){t.nonceMap.size>=100&&t.nonceMap.clear(),t.nonceMap.set(e,performance.now())},t.updateTimestampForMsgNonce=function(e){var n=t.nonceMap.get(e);n&&(t.queueTimestampForTracking(performance.now()-n),t.nonceMap.delete(e))},t.queueTimestampForTracking=function(e){100===t.timingDeltaQueue.length&&t.timingDeltaQueue.shift(),t.timingDeltaQueue.push(e)},t.trackRandomMessageTiming=function(){if(t.timingDeltaQueue.length>0){var e=Math.floor(Math.random()*t.timingDeltaQueue.length);(0,l.s7)(t.timingDeltaQueue[e]),t.timingDeltaQueue=[],t.nonceMap.clear()}},t.state={setInitalTimestampForMsgNonce:t.setInitalTimestampForMsgNonce.bind(t),updateTimestampForMsgNonce:t.updateTimestampForMsgNonce.bind(t)},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return a.createElement(c.Provider,{value:this.state},this.props.children)},n.prototype.componentDidMount=function(){this.timeout=setInterval(this.trackRandomMessageTiming,o.oH.get("chat_timing_heartbeat_ms",6e4))},n.prototype.componentWillUnmount=function(){clearInterval(this.timeout),this.trackRandomMessageTiming()},n}(a.PureComponent),u=(0,s.k)("ChatMessageTimingContext",{setInitalTimestampForMsgNonce:function(e){return null},updateTimestampForMsgNonce:function(e){return null}}),c=u.context,m=u.withContext,p=(0,r.qC)()(d)},617063:function(e,n,t){"use strict";t.d(n,{tu:function(){return y},ho:function(){return k},cN:function(){return C},Zm:function(){return b}});var i=t(570655),a=t(129989),r=t(667294),o=t(137703),s=t(14890),l=t(831642),d=t(987145),u=t(344689),c=t(128416),m=t(797425),p=t(884979),h=t(545611),f=t(188623),g="chatPauseSetting",v=(0,p.k)("ChatPauseSettingContext",{setValue:function(){return null},value:c.TIX.SCROLL_ONLY}),y=v.context,k=v.withContext,S=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={value:w()},n.setValue=function(e){var t=n.state.value;if(t!==e&&(n.setState({value:e}),l.tO.set(g,e),n.props.isLoggedIn)){var i=n.getMutationInput(e);n.props.setChatPauseSetting(i).catch((function(){t&&(l.tO.set(g,t),n.setState({value:t}))}))}},n}return(0,i.__extends)(n,e),n.getDerivedStateFromProps=function(e){return{value:E(e)||w()}},n.prototype.componentDidUpdate=function(e,n){n.value!==this.state.value&&l.tO.set(g,this.state.value)},n.prototype.render=function(){return r.createElement(y.Provider,{value:{setValue:this.setValue,value:this.state.value}},this.props.children)},n.prototype.getMutationInput=function(e){return(0,i.__assign)((0,i.__assign)({},(0,u.k_)({chatPauseSetting:e})),{optimisticResponse:{setChatPauseSetting:{__typename:"SetChatPauseSettingPayload",chatPauseSetting:e}},update:function(n){var t,i;try{i=n.readQuery({query:f})}catch(e){return}if(null===(t=null==i?void 0:i.currentUser)||void 0===t?void 0:t.chatUISettings){var r=a(i,(function(e){return e.currentUser.chatUISettings.chatPauseSetting}),(function(){return e}));n.writeQuery({query:f,data:r})}}})},n}(r.Component);var C=(0,s.qC)((0,o.$j)((function(e){var n=(0,m.PR)(e);return{isLoggedIn:(0,m.jl)(e),userID:n&&n.id}})),(0,d.TA)(f,{skip:function(e){return!e.isLoggedIn}}),(0,d.TA)(h,{name:"setChatPauseSetting"}))(S);function b(e){return{setChatPauseSetting:e.setValue,chatPauseSetting:e.value}}function w(){return l.tO.get(g,c.TIX.SCROLL_ONLY)}function E(e){var n,t,i;return null===(i=null===(t=null===(n=e.data)||void 0===n?void 0:n.currentUser)||void 0===t?void 0:t.chatUISettings)||void 0===i?void 0:i.chatPauseSetting}},736959:function(e,n,t){"use strict";t.d(n,{FP:function(){return w},YA:function(){return C},LI:function(){return b}});var i=t(667294),a=t(126858),r=t(106801),o=t(326737),s=t(906704),l=t(508995),d=t(884979),u=t(206124),c=t(655995),m=t(564702),p=t(129989),h=t(344689),f=function(e,n){return(0,h.rh)(m,{login:n},(function(n){return p(n,(function(e){return e.channel.subscriptionProducts[0].hasSubOnlyChat}),(function(){return e}))}))},g=function(e,n){return(0,h.rh)(m,{login:n},(function(n){return p(n,(function(e){return e.channel.chatSettings.isEmoteOnlyModeEnabled}),(function(){return e}))}))},v=function(e,n){return(0,h.rh)(m,{login:n},(function(n){return p(n,(function(e){return e.channel.chatSettings.followersOnlyDurationMinutes}),(function(){return e}))}))},y=function(e,n){return(0,h.rh)(m,{login:n},(function(n){return p(n,(function(e){return e.channel.chatSettings.slowModeDurationSeconds}),(function(){return e}))}))},k={canSubscribe:!1,emoteOnlyMode:!1,followerDuration:u.py,followerMode:!1,slowMode:!1,slowModeDuration:c.bX,subsOnlyMode:!1,updateRoomState:function(){return null},initialStateLoaded:!1},S=(0,d.k)("ChatRoomStateContext",k),C=S.context,b=S.withContext,w=function(e){var n,t,d,u,c,p,h,S,b,w,E,_,N,D=i.useState(!1),M=D[0],I=D[1],T=(0,r.aM)(m,{variables:{login:e.channelLogin}}),P=T.data,R=T.loading,A=null===(n=null==P?void 0:P.channel)||void 0===n?void 0:n.id,L=A&&(0,l.BP)(A),F=(0,a.P)(L||"",{skip:!A,skipMessage:function(e){return e.type!==s.qU.StreamChatRoomUpdate}})[0],U=(0,o.D)(F),x=function(e){var n,t,i,a,o=(0,r.aM)(m,{variables:{login:e}}).data,s=(null===(n=null==o?void 0:o.channel)||void 0===n?void 0:n.chatSettings)||{},l=s.isEmoteOnlyModeEnabled,d=s.followersOnlyDurationMinutes,u=s.slowModeDurationSeconds,c=!!l,p=null!=d?d:null,h=null!=u?u:null,k=(null===(a=null===(i=null===(t=null==o?void 0:o.channel)||void 0===t?void 0:t.subscriptionProducts)||void 0===i?void 0:i[0])||void 0===a?void 0:a.hasSubOnlyChat)||!1;return function(n){var t,i,a,r=n.data.room.modes,s=r.emote_only_mode_enabled,l=r.slow_mode_duration_seconds,d=r.followers_only_duration_minutes,u=r.subscribers_only_mode_enabled;u!==k&&(null===(i=null===(t=null==o?void 0:o.channel)||void 0===t?void 0:t.subscriptionProducts)||void 0===i?void 0:i[0])?f(u,e):(null===(a=null==o?void 0:o.channel)||void 0===a?void 0:a.chatSettings)&&(s!==c&&g(s,e),p!==d&&v(d,e),h!==l&&y(l,e))}}(e.channelLogin),O=i.useState(!1),B=O[0],V=O[1],q=!!(null===(d=null===(t=null==P?void 0:P.channel)||void 0===t?void 0:t.subscriptionProducts)||void 0===d?void 0:d[0]);i.useEffect((function(){if(F&&U!==F){var e=F;x(e),q||V(e.data.room.modes.subscribers_only_mode_enabled)}}),[F,q,x,U]);var G=!!(null===(c=null===(u=null==P?void 0:P.channel)||void 0===u?void 0:u.chatSettings)||void 0===c?void 0:c.isEmoteOnlyModeEnabled),H=null===(h=null===(p=null==P?void 0:P.channel)||void 0===p?void 0:p.chatSettings)||void 0===h?void 0:h.followersOnlyDurationMinutes,W=null===(b=null===(S=null==P?void 0:P.channel)||void 0===S?void 0:S.chatSettings)||void 0===b?void 0:b.slowModeDurationSeconds,z=G,$=null!=H?H:-1,j=null!==H,Y=null!==W,Q=null!=W?W:-1,J=null===(E=null===(w=null==P?void 0:P.channel)||void 0===w?void 0:w.subscriptionProducts)||void 0===E?void 0:E[0],K=!!J,X=null!==(_=null==J?void 0:J.hasSubOnlyChat)&&void 0!==_?_:B,Z=i.useCallback((function(e){M||(void 0!==e.subsOnly&&V(e.subsOnly),I(!0))}),[M]),ee=i.useMemo((function(){return{canSubscribe:K,emoteOnlyMode:z,followerDuration:$,followerMode:j,slowMode:Y,slowModeDuration:Q,subsOnlyMode:X,initialStateLoaded:M,updateRoomState:Z}}),[K,z,$,j,M,Y,Q,X,Z]);return R||!(null===(N=null==P?void 0:P.channel)||void 0===N?void 0:N.chatSettings)?i.createElement(C.Provider,{value:k},e.children):i.createElement(C.Provider,{value:ee},e.children)}},935945:function(e,n,t){"use strict";t.d(n,{Hh:function(){return Pr},Vk:function(){return Or}});var i=t(570655),a=t(294184),r=t(129989),o=t(667294),s=t(505977),l=t(14890),d=t(734995),u=t(270406),c=t(58661),m=t(796441),p=t(440837),h=t(382448),f=t(731110),g=t(486301),v=t(55503),y=t(831642),k=t(912654),S=t(987145),C=t(867284),b=t(906704),w=t(702631),E=t(491528),_=t(508995),N=t(128416),D=t(75552),M=t(150125),I=t(283140),T=t(184807),P=t(667211),R=t(233912),A=function(e){return o.createElement(d.A,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:u.sS.Block,flexDirection:u.Qb.Column},o.createElement(d.A,{padding:{bottom:.5}},o.createElement(c.V,{color:u.Il.Alt2},(0,y.wv)("<x:strong>Anonymous Cheering</x:strong> only supports the anonymous Cheermote. Your Cheer will be modified to appear as shown below.",{"x:strong":function(e){return o.createElement(c.V,{type:M.yG.Span,color:u.Il.Link,bold:!0},e)}},"InvalidAnonymousCheerPrompt")),o.createElement(d.A,{margin:{y:1}},o.createElement(I.k,{badgeSets:e.badgeSets,badgesToRender:{"anonymous-cheerer":"1"}}),o.createElement(P.Uk,{userData:{isIntl:!1,userDisplayName:T.P$,userID:T.gr,userLogin:T.Am,userType:"global_mod"}}),": ",(0,R.kz)(e.messageParts))),o.createElement(d.A,{display:u.sS.Flex,flexDirection:u.Qb.Row},o.createElement(m.zx,{onClick:e.onCheerAnyway},(0,y.wv)("Continue","InvalidAnonymousCheerPrompt")),o.createElement(d.A,{padding:{left:.5}},o.createElement(m.zx,{onClick:e.onEditCheer,type:m.L$.Secondary},(0,y.wv)("Edit","InvalidAnonymousCheerPrompt")))))},L=t(470216),F=t(238487),U=function(e){return o.createElement(d.A,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:u.sS.Block,flexDirection:u.Qb.Column},o.createElement(d.A,{padding:{bottom:.5}},o.createElement(I.k,{badgeSets:e.badgeSets,badgesToRender:{twitchbot:"1"}}),o.createElement(P.Uk,{userData:{color:F.yX,isIntl:!1,userDisplayName:"AutoMod",userID:"automod",userLogin:"automod",userType:"global_mod"}}),o.createElement(c.V,{type:M.yG.Span,color:u.Il.Alt2},(0,y.wv)(": Your text may be removed by moderation. Bits will still be sent to the streamer. Review the highlighted text or continue below.","BitsAutoModOffenderPrompt"))),o.createElement(d.A,{display:u.sS.Flex,flexDirection:u.Qb.Row},o.createElement(d.A,{padding:{right:.5}},o.createElement(m.zx,{onClick:e.onEditCheer},o.createElement(d.A,{padding:{x:2}},(0,y.wv)("Edit","BitsAutoModOffender")))),o.createElement(m.zx,{onClick:e.onCheerAnyway,type:m.L$.Secondary},(0,y.wv)("Cheer Anyway","BitsAutoModOffender")),o.createElement(d.A,{className:"bits-auto-mod-offender-prompt__notification-icon",display:u.sS.Flex,flexDirection:u.Qb.Column,justifyContent:u.uM.End,alignSelf:u.MT.End,margin:{left:"auto",right:.5}},o.createElement(L.W,{asset:h.e.NotificationWarning}))))},x=t(457087),O=t(478741),B=t(845426),V=t(126858),q=t(73119),G=t(435338),H=t(785179),W=t(802624),z="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/1/2.png",$="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/100/2.png",j="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/1000/2.png",Y="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/5000/2.png",Q="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/10000/2.png";var J=function(e){var n,t=o.useState(1e3),i=t[0],a=t[1],r=e.channelID,s=o.useRef([]),l=o.useState(null),c=l[0],m=l[1],p=o.useState(!1),h=p[0],f=p[1],g=o.useState(!1),v=g[0],y=g[1],k=o.useState(W.aN.Cute),S=k[0],C=k[1],b=(0,V.P)(r?(0,_.H0)((n=r,"bits-usage-by-channel-v1-"+n+"-WEEK")):"",{skip:!r})[0];o.useEffect((function(){if(b){var e=b;s.current.unshift(e),y(!0)}}),[b]);var w=(0,o.useMemo)((function(){var n=0,t=0;e.bitAmount?t=e.bitAmount:c&&c.event&&(t=c.event.event_value);var i=[{src:z,token:"cheer1"},{src:$,token:"cheer100"},{src:j,token:"cheer1000"},{src:Y,token:"cheer5000"},{src:Q,token:"cheer10000"}],r=[];switch(n=t>=q.C.Red?q.C.Red:t>=q.C.Blue?q.C.Blue:t>=q.C.Green?q.C.Green:t>=q.C.Purple?q.C.Purple:q.C.Gray,a(5e3),n){case q.C.Red:r=i,C(W.aN.Cheer10000);break;case q.C.Blue:r=i.slice(0,4),C(W.aN.Cheer5000);break;case q.C.Green:r=i.slice(0,3),C(W.aN.Cheer1000);break;case q.C.Purple:r=i.slice(0,2),C(W.aN.Cheer100);break;default:r=i.slice(0,1),C(W.aN.Cheer1)}return r.map((function(e){return function(e,n){var t=new Image;return t.src=e.src,t.alt=e.token,t.width=n,t.height=n,t}(e,14)}))}),[c,e.bitAmount]);o.useEffect((function(){if(!h){var e=s.current.pop();e&&(m(e),f(!0),window.setTimeout((function(){f(!1),m(null)}),i)),y(!1)}}),[h,v,i]);var E=(0,o.useState)(null),N=E[0],D=E[1],M=(0,o.useCallback)((function(e){if(e){var n=e.getBoundingClientRect();D({width:n.width,height:n.height})}}),[D]),I="";e.local?I="local_animation":c&&c.event&&(I=c.event.id);var T=o.createElement(o.Fragment,null);N&&(e.local||c)&&(T=o.createElement(G.I,{duration:i,images:w,height:N.height/3,width:N.width,key:I,intensity:S,onAnimationEnd:function(){f(!1)},className:"particle-canvas"}));return o.createElement(H.S,{zIndex:u.KN.Default},o.createElement(d.A,{position:u.Ly.Absolute,fullWidth:!0,fullHeight:!0,className:"simmer_rain_new",ref:M},T))},K=k.P.wrap((function(){return t.e(51547).then(t.bind(t,139263))}),"ChannelLeaderboard",{placeholder:null}),X=function(e){if(!(0,O.D)(K.getLoader(),B.T.Later))return null;var n=o.createElement(o.Fragment,null);return(0,T.RJ)(e.channelID)===T.Vq.Celebration&&(n=o.createElement(J,{channelID:e.channelID,hideAnimation:!1})),o.createElement(o.Fragment,null,o.createElement(d.A,{zIndex:u.KN.Above},o.createElement(K,{channelID:e.channelID,userID:e.userID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin})),n)},Z=t(948309),ee=t(391831),ne=t(152271),te=t(13331),ie=t(137703),ae=t(195075),re=t(246797),oe=t(260999),se=t(440281),le=t(175850),de=t(469419),ue=t(863480),ce=t(487163),me=t(765256),pe=t(853607),he=t(560772),fe=t(625471),ge=t(623384),ve=t(742407),ye=t(758588),ke=t(797425),Se=t(916306),Ce=t(428331),be=t(140436),we=t(226729),Ee=t(430452),_e=t(793786),Ne=new we,De=k.P.wrap((function(){return t.e(65092).then(t.bind(t,417266))}),"BitsCard",{placeholder:null,onRendered:function(){return Ne.emit("bits_card_loaded")}}),Me=function(e){var n=(0,o.useState)(!1),t=n[0],a=n[1];return(0,o.useEffect)((function(){e.eventEmitter.once("bits_card_loaded",(function(){return a(!0)}))}),[e.eventEmitter]),o.createElement(o.Fragment,null,e.visible&&!t&&o.createElement(Ee.I,{onUserClose:e.onUserClose},o.createElement(_e.j,null)),o.createElement(De,(0,i.__assign)({},e)))},Ie=function(e){return o.createElement(Me,(0,i.__assign)({},e,{eventEmitter:Ne}))},Te=De.Preload,Pe=t(457960),Re=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,Pe.gW)()?null:o.createElement(d.A,{position:u.Ly.Relative,display:u.sS.Inline},o.createElement(p.Ei,{disabled:this.props.buttonDisabled,icon:(0,T.RJ)(this.props.channelID)===T.Vq.Screenshot?h.e.Camera:h.e.Bits,"aria-label":(0,y.wv)("Bits","ChatInput"),type:p.c.Secondary,onClick:this.props.onClick,"data-a-target":"bits-button"}))},n}(o.Component),Ae=t(539073),Le=t(938957),Fe=t(85357),Ue=t(266489),xe=t(430028),Oe=t(747961),Be=t(269731),Ve=t(367575),qe=t(965397),Ge=t(523094),He=t(419341),We=t(925445),ze=t(877465),$e=t(607642),je=t(901382),Ye=t(325820),Qe=t(328099),Je=t(834707),Ke=t(132412),Xe=t(767607),Ze=t(155682),en=t(922866),nn=k.P.wrap((function(){return t.e(9304).then(t.bind(t,801273))}),"ChatSettingsComponent"),tn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={editAppearance:!1},n.chatSettingsTooltipString=function(){return(0,y.wv)("Chat Settings","ChatInputTooltip")},n.onEdit=function(){n.setState({editAppearance:!0})},n.onLeaveEdit=function(){n.setState({editAppearance:!1})},n.onDarkModeToggle=function(){var e=n.props.darkModeEnabled?w.Q.Light:w.Q.Dark;n.props.onThemeChanged(e,!n.props.isPopout),(0,Ke.BS)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.darkModeEnabled,settingName:Qe.j.DarkMode})},n.onTimestampToggle=function(e){(0,Ke.BS)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:e,settingName:Qe.j.ShowTimestamps})},n.onHighContrastColorsToggle=function(e){(0,Ke.BS)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:e,settingName:Qe.j.UseHighContrastColors})},n.onEmoteAnimationsToggle=function(e){(0,Ke.BS)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:e,settingName:Qe.j.EmoteAnimationsSetting})},n.onFontSizeChanged=function(e,t){t!==e&&(0,Ke.P0)({settingName:Qe.j.FontSize,newValue:e,oldValue:t,channelLogin:n.props.channelLogin,channelID:n.props.channelID,isHostMode:n.props.isHostMode})},n.onDeletedMessageDisplaySettingChange=function(e){n.props.setDeletedMessageDisplaySetting(e)},n.onChatHide=function(){n.props.onChatHide(),n.onCloseSettings(),(0,Ke.BS)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!0,settingName:Qe.j.HideChat})},n.onChatPopout=function(){n.props.isPopout||n.props.onChatHide();var e="/popout/"+n.props.channelLogin+"/chat?popout=";(0,Xe.r0)()&&(e="https://twitch.tv"+e);var t=window.open(e,"_blank","right=50,top=50,width=400,height=600,resizable=yes,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");t&&!(0,Pe.P)()&&(t.focus(),(0,Ve.O)(t,(function(){n.props.onChatUnhide()})))},n.onShowChatRules=function(){n.props.showChatRules(),n.onCloseSettings()},n.onColorSelected=function(e){n.props.isLoggedIn?n.props.onChatCommand((0,Je.A6)(e)):n.props.login()},n.onToggleChatSettings=function(){n.props.isSettingsOpen?n.onCloseSettings():((0,Ke.Ko)({channelID:n.props.channelID||void 0,channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode}),n.props.updateChatConfigState({isSettingsOpen:!0}))},n.onCloseSettings=function(){n.props.isSettingsOpen&&(n.props.hideChatFilterSettings(),n.props.hideDeletedMessageDisplaySettings(),n.props.updateChatConfigState({isSettingsOpen:!1,showChatAppearanceOnLoad:!1}),n.props.markNewUnbanRequestsAsRead())},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.isSettingsOpen&&!this.props.isSettingsOpen&&(this.props.hideChatFilterSettings(),this.props.hideDeletedMessageDisplaySettings(),this.onLeaveEdit())},n.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(nn.Preload,{priority:B.T.Later}),o.createElement(le.c,{onClickOut:this.onCloseSettings},o.createElement(Be.u,{label:this.chatSettingsTooltipString()},o.createElement(d.A,{zIndex:u.KN.Default,position:u.Ly.Relative},o.createElement(p.Ei,{"data-a-target":"chat-settings",icon:h.e.Gear,"aria-label":(0,y.wv)("Chat settings","ChatSettingsIconButton"),onClick:this.onToggleChatSettings}),this.props.hasNewUnbanRequests&&o.createElement(d.A,{zIndex:u.KN.Above,position:u.Ly.Absolute,className:"chat-settings-toggle__new-requests-indicator","data-test-selector":"new-unban-requests-indicator"}))),this.props.isSettingsOpen&&o.createElement(nn,{authToken:this.props.authToken,darkModeEnabled:this.props.darkModeEnabled,editAppearance:this.state.editAppearance,isShowingChatFilterSettings:this.props.isShowingChatFilterSettings,showChatFilterSettings:this.props.showChatFilterSettings,hideChatFilterSettings:this.props.hideChatFilterSettings,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:this.props.isHostMode,isVisible:this.props.isSettingsOpen,isPopout:this.props.isPopout,isWatchPartyActive:this.props.isWatchPartyActive,isEmbedded:this.props.isEmbedded,onChatCommand:this.props.onChatCommand,onChatHide:this.onChatHide,onChatPopout:this.onChatPopout,onShowChatRules:this.props.onShowChatRules&&this.onShowChatRules,onDarkModeToggle:this.onDarkModeToggle,onTimestampToggle:this.onTimestampToggle,onHighContrastColorsToggle:this.onHighContrastColorsToggle,onEmoteAnimationsToggle:this.onEmoteAnimationsToggle,onFontSizeChanged:this.onFontSizeChanged,theatreModeEnabled:this.props.theatreModeEnabled,onColorSelected:this.onColorSelected,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,isLoggedIn:this.props.isLoggedIn,onClickEditAppearance:this.onEdit,onLeaveEditAppearance:this.onLeaveEdit,onShowViewerCard:this.props.onShowViewerCard,containerElement:this.props.containerElement,"data-test-selector":"chat-settings-component",onCloseSettings:this.onCloseSettings,showChatAppearanceOnLoad:this.props.showChatAppearanceOnLoad,isShowingDeletedMessageDisplaySettings:this.props.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.props.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.props.showDeletedMessageDisplaySettings,onDeletedMessageDisplaySettingChange:this.onDeletedMessageDisplaySettingChange,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting,hasSetDeletedMessageDisplaySetting:this.props.hasSetDeletedMessageDisplaySetting})))},n}(o.Component);var an=(0,ie.$j)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isLoggedIn:(0,ke.jl)(e),darkModeEnabled:(0,Ge.zv)(e)===w.Q.Dark,theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return(0,l.DE)({login:function(){return(0,ge.x4)(pe.sB.ChatSettings)},onChatHide:function(){return He.s$()},onChatUnhide:function(){return He.YF()},onThemeChanged:function(e){return(0,qe.L)(e,{saveToStorage:!1})}},e)}))(tn),rn=(0,l.qC)(s.EN,(0,We.Aq)((function(e){return{isSettingsOpen:e.isSettingsOpen,updateChatConfigState:e.updateChatConfigState,showChatAppearanceOnLoad:e.showChatAppearanceOnLoad}})),(0,je.jP)((function(e){return{setDeletedMessageDisplaySetting:e.setValue,deletedMessageDisplaySetting:e.value,isShowingDeletedMessageDisplaySettings:e.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:e.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:e.showDeletedMessageDisplaySettings,hasSetDeletedMessageDisplaySetting:e.hasSetSetting}})),(0,Ye.Hu)((function(e){return{onShowViewerCard:e.onShowViewerCard}})),(0,ze.NX)((function(e){return e})),(0,$e.SZ)((function(e){return{showChatRules:e.showChatRules}})),(0,en.T_)((function(e){return{isWatchPartyActive:e.isWatchPartyActive}})),(0,Ze.PS)((function(e){return{hasNewUnbanRequests:!!e.unreadRequestsCount,markNewUnbanRequestsAsRead:function(){e.setLastOpenedAt((new Date).toString()),e.showNewRequests()}}})))(an),on=t(592407),sn=t(5021),ln=t(124822),dn=t(196171),un=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.autocompleteType=sn.J.Command,n.canBeTriggeredByTab=!1,n.getMatches=function(e,t,i){return 0===i&&e.startsWith("/")?n.getCommands(e):null},n.getCommands=function(e){var t=n.props.getCommands(n.props.permissionLevel,{isEditor:n.props.isCurrentUserEditor});if(!t||0===t.length)return null;var i=e.substring(1),a=t.filter((function(e){return n.doesCommandMatchTerm(e,i)}));return a.sort(n.sortCommands),a.map((function(e){return{type:sn.J.Command,current:"/"+i,replacement:n.determineReplacement(e),element:n.renderCommandSuggestion(e,i),group:n.determineGroup(e),selection:(0,Je.tq)(e)}}))},n.doesCommandMatchTerm=function(e,n){var t=new RegExp("^"+(0,on.h)(n.toLowerCase()),"i");return e.name.match(t)},n.renderCommandSuggestion=function(e,n){var t=n.length,i=null;return e.commandArgs&&(i=e.commandArgs.map((function(n,t){return o.createElement(d.A,{key:e.name+"-arg-"+t,margin:{right:.5}},o.createElement(c.V,{type:M.yG.Span},"["+n.name+"]"))}))),o.createElement(d.A,{padding:.5},o.createElement(d.A,{display:u.sS.Flex},o.createElement(d.A,{margin:{right:.5}},o.createElement(c.V,{type:M.yG.Span},"/"+n),o.createElement(c.V,{type:M.yG.Span,bold:!0},e.name.substring(t))),i),o.createElement(c.V,{color:u.Il.Alt2,fontSize:u.Bf.Size7},e.description))},n.sortCommands=function(e,t){var i=n.getPriorityLevel(e),a=n.getPriorityLevel(t);if(i===a){var r=n.trimStart(e.name),o=n.trimStart(t.name);return r.localeCompare(o)}return a-i},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.render=function(){return null},n.prototype.determineReplacement=function(e){var n=(0,Je.tq)(e);return n?"/"+e.name+" "+n:"/"+e.name},n.prototype.determineGroup=function(e){if(this.props.isCurrentUserEditor||this.props.permissionLevel!==dn.s.Viewer&&this.props.permissionLevel!==dn.s.Vip)return e.permissionLevel===dn.s.Moderator||e.permissionLevel===dn.s.Broadcaster||e.allowEditorUsage?"channel management":"twitch"},n.prototype.getPriorityLevel=function(e){return e.allowEditorUsage?1:e.permissionLevel===dn.s.Viewer||e.permissionLevel===dn.s.Vip?0:1},n.prototype.trimStart=function(e){return e.startsWith("un")&&!e.startsWith("unique")?e.substring(2):e},n}(o.Component);var cn=(0,l.qC)((0,Se.hT)((function(e){return e})),(0,ln.O9)((function(e){return{getCommands:e.getCommands}})))(un),mn=t(606382),pn=t(991633),hn=t(201515),fn=t(720205),gn=t(774601);function vn(e,n){if(!n)return null;for(var t=n.length-1;t>=Math.max(0,n.length-100);t--){var i=n[t],a=(0,gn.i)(i);if(a&&(!a.deleted&&a.user.userDisplayName===e))return a}return null}function yn(e,n){var t=[];if(!n)return t;for(var i=0,a=n;i<a.length;i++){var r=a[i],o=(0,gn.i)(r);o&&(o.deleted||o.user.userDisplayName!==e||t.push(o))}return t}var kn,Sn=t(158469),Cn=t(971212);!function(e){e.ReplyPrompt="reply-prompt"}(kn||(kn={}));var bn,wn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.autocompleteType=sn.J.Mention,n.canBeTriggeredByTab=!0,n.getMatches=function(e,t){return t||e.startsWith("@")?n.getMentions(e,t):null},n.getMentions=function(e,t){var i;if(!n.props.activeChattersAPI)return[];var a=t?e:e.substring(1),r=n.props.activeChattersAPI.getActiveChatters(a,5),o=null===(i=n.props.messageBufferAPI)||void 0===i?void 0:i.getMessages();return r.map((function(i){return{type:sn.J.Mention,current:e,replacement:(t?"":"@")+(i.displayName||i.login),element:n.renderMention(i,o)}}))},n.renderMention=function(e,t){var i=(0,Sn.C)(n.props.channelID)!==Sn.E.Control&&null!==vn(e.displayName||e.login,t),a=n.props.showReplyPrompt&&e.login!==n.props.currentUserLogin&&i,r=pn.U.os.isMacOS();return o.createElement(d.A,{padding:.5,display:u.sS.Flex,justifyContent:u.uM.Between,alignItems:u.g1.Center,flexGrow:1},o.createElement(c.V,{wordBreak:M.I5.BreakWord},(0,mn.I)(e.login,e.displayName||null)),a&&o.createElement(d.A,{display:u.sS.Flex,alignItems:u.g1.Center,"data-test-selector":kn.ReplyPrompt},o.createElement(Cn.T,{text:r?"":"Alt"}),o.createElement(Cn.T,{text:"Enter"}),o.createElement(c.V,{color:u.Il.Alt2,fontSize:u.Bf.Size7},(0,y.wv)("start a reply","ChatMentionsAutocomplete"))))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.render=function(){return null},n}(o.Component),En=(0,l.qC)((0,Se.hT)((function(e){return e})),hn.j,fn.F_)(wn),_n=t(986923),Nn=t(736959),Dn=t(386033),Mn=t(303897),In=t(402767),Tn=(t(565383),"chat_rules_shown"),Pn=function(e){var n=(0,Dn.b)(!0),t=n.dialogProps,a=n.setAnchorRef;o.useEffect((function(){y.UO.track(ve.N.ChatRulesViewed,{channel_login:e.channelLogin,channel_id:e.channelID})}),[e.channelID,e.channelLogin]),t.onRequestClose=function(){return e.onCloseChatRules()};var r=function(){var n=y.tO.get(Tn,{});e.channelLogin&&(n[e.channelLogin]=!0,y.tO.set(Tn,n))};return o.createElement(d.A,{fullWidth:!0,position:u.Ly.Absolute,zIndex:u.KN.Above,attachBottom:!0,attachLeft:!0,className:"chat-rules-container",ref:a},o.createElement(Mn.y,(0,i.__assign)({size:oe.Kn.Auto},t),o.createElement(d.A,{className:"chat-rules-content",background:u.Aq.Base,attachBottom:!0,borderRadius:re.c.Large,display:u.sS.Block,elevation:3,padding:.5},o.createElement(In.xH,(0,i.__assign)({},e)),o.createElement(d.A,{display:u.sS.Flex,justifyContent:u.uM.Center,padding:.5},o.createElement(m.zx,{"data-test-selector":"chat-rules-ok-button",fullWidth:!0,size:m.qE.Large,onClick:function(){r(),y.UO.track(ve.N.ChatRulesAccepted,{channel_id:e.channelID,channel_login:e.channelLogin}),e.onAcceptChatRules()}},o.createElement(c.V,{fontSize:u.Bf.Size5},(0,y.wv)("Okay, Got It!","ChatRules")))))))},Rn=t(974513),An=t(148707),Ln=t(751978),Fn="mod-view-link",Un=function(e){var n=(0,y.wv)("Go to Mod View","ModViewIngress");return o.createElement(d.A,{position:u.Ly.Relative,display:u.sS.Flex,alignItems:u.g1.Center},o.createElement(Be.u,{label:(0,y.wv)("Mod View","ModViewIngress")},o.createElement(p.Ei,{"aria-label":n,linkTo:(0,Ln.c)(e.channelLogin),icon:h.e.Sword,"data-test-selector":Fn})))};!function(e){e.AUTOMOD="automod",e.ANONYMOUS_CHEERING="anonymous-cheering",e.UNKNOWN="unknown"}(bn||(bn={}));var xn=function(e){var n=e.moderatedReason,t=void 0===n?bn.UNKNOWN:n,i=e.moderatedMessageParts,r=a("moderated-message-fake-input__container",t);return o.createElement(d.A,{position:u.Ly.Relative,borderRadius:re.c.Medium,className:r},o.createElement(d.A,{className:"moderated-message-fake-input__content",display:u.sS.Block,overflow:u.nP.Auto,color:u.Il.Alt,background:u.Aq.Alt,fullWidth:!0},o.createElement(f.o,{padding:{y:.5,left:1},fullHeight:!0},o.createElement("div",{style:{paddingRight:"6rem"}},(0,R.kz)(i)))),o.createElement(d.A,{position:u.Ly.Absolute,display:u.sS.Flex,flexDirection:u.Qb.Row,attachRight:!0,attachTop:!0},o.createElement(d.A,{display:u.sS.InlineFlex,alignItems:u.g1.Center,className:"moderated-message-fake-input__icon",padding:.5},o.createElement(L.W,{asset:h.e.Bits,type:L.w.Inherit})),o.createElement(d.A,{display:u.sS.InlineFlex,alignItems:u.g1.Center,className:"moderated-message-fake-input__icon",padding:.5},o.createElement(L.W,{asset:h.e.Emoticons,type:L.w.Inherit}))))},On=t(77966),Bn="raid-now-upsell";var Vn=t(721482),qn=t(137147),Gn=t(289738),Hn=t(715602),Wn=t(361945),zn=function(){function e(e){this.messages=e,this.currentIndex=e.length-1}return e.prototype.getCurrentMessage=function(){return this.messages[this.currentIndex]},e.prototype.setLater=function(){return!!this.hasLaterMessage()&&(this.currentIndex+=1,!0)},e.prototype.setEarlier=function(){return!!this.hasEarlierMessage()&&(this.currentIndex-=1,!0)},e.prototype.hasEarlierMessage=function(){return this.currentIndex>0},e.prototype.hasLaterMessage=function(){return this.currentIndex<this.messages.length-1},e}(),$n=t(662487),jn=t(417075),Yn=t(607492),Qn=t(48993),Jn=t(817207),Kn=t(119935),Xn=t(42626),Zn=t(250319),et=t(509301),nt=t(373191),tt=t(44683),it=t(613290),at=t(965347),rt=t(972130),ot=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(){var e=this.props,n=e.clearModifierTray,t=e.inputValue,i=e.maxLength,a=e.tray;t.length>=i&&(!a||a.type===Vn.v4.EmoteOnlyBanner)?this.updateModifierTray():t.length<i&&(null==a?void 0:a.type)===Vn.v4.CharacterLimitError&&n()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={header:o.createElement(tt.F,{icon:o.createElement(rt.b,null),hideCloseButton:!0},(0,y.wv)("Reached Character Limit of 500","CharacterLimitErrorTray")),disableClose:!0,inputValue:this.props.inputValue,type:Vn.v4.CharacterLimitError};this.props.setModifierTray(e)},n}(o.Component);var st=(0,l.qC)((0,it.WA)((function(e){return{setModifierTray:function(n){return e((0,at.PH)(n))},clearModifierTray:function(){return e((0,at.zB)())}}})),(0,it.WY)((function(e){return{tray:e.activeInputTray}})))(ot),lt=t(376467),dt=t(36141),ut=t(224829),ct=t(824942);function mt(){var e=pn.U.os.isMacOS()?"(option) ()":"(Alt) ()";return(0,y.wv)("Select a previous message to reply to. You can also use the {shortcut} shortcut.",{shortcut:e},"ReplyTray")}function pt(){var e=pn.U.os.isMacOS()?"(option) ()":"(Alt) ()";return(0,y.wv)("Select a later message to reply to. You can also use the {shortcut} shortcut.",{shortcut:e},"ReplyTray")}var ht=function(e){var n=e.replyToList,t=e.message,i=e.params,a=o.useMemo((function(){return(0,tt.X)()}),[]);return o.createElement(d.A,{display:u.sS.Flex,justifyContent:u.uM.Between},o.createElement(d.A,{margin:.5},o.createElement(ct.j,{asset:h.e.Reply})),o.createElement(d.A,{display:u.sS.Flex,flexGrow:1,alignItems:u.g1.Center,justifyContent:u.uM.Between},o.createElement(c.V,{bold:!0,fontSize:u.Bf.Size5,color:u.Il.Alt,type:M.yG.Span,wordBreak:M.I5.BreakWord},(0,R.GK)(t.user.userDisplayName)),o.createElement(d.A,{className:"chat-replies-keyboard-header--buttons",display:u.sS.Flex},o.createElement(Be.u,{label:o.createElement(d.A,{className:"chat-input-tray--tooltip",textAlign:u.PH.Center},mt()),options:{placement:"top"},disabled:!n.hasEarlierMessage()},o.createElement(p.Ei,{"aria-label":mt(),icon:h.e.AngleUp,size:p.hp.Small,disabled:!n.hasEarlierMessage(),onClick:function(){n.setEarlier(),kt(n,i)}})),o.createElement(Be.u,{label:o.createElement(d.A,{className:"chat-input-tray--tooltip",textAlign:u.PH.Center},pt()),options:{placement:"top"},disabled:!n.hasLaterMessage()},o.createElement(p.Ei,{"aria-label":pt(),icon:h.e.AngleDown,size:p.hp.Small,disabled:!n.hasLaterMessage(),onClick:function(){n.setLater(),kt(n,i)}})))),o.createElement(Be.u,{label:o.createElement(d.A,{className:"chat-input-tray--tooltip",textAlign:u.PH.Center},(0,y.wv)("Remove reply context from mention","ReplyTray")),options:{placement:"top"}},o.createElement(p.Ei,{"aria-label":a,icon:h.e.Close,onClick:i.closeKeyboardReplyTray,title:a})))},ft=t(482345),gt=t(223176),vt=t(100387),yt=t(647153);function kt(e,n){var t=e.getCurrentMessage();n.setInputValue(""),n.setTray({header:o.createElement(ht,{message:t,replyToList:e,params:n}),body:o.createElement(d.A,null,o.createElement(ft.ChatRepliesMessageCard,{badgeSets:n.badgeSets,channelID:n.channelID,channelLogin:n.channelLogin,currentUserLogin:n.currentUserLogin,currentUserDisplayName:n.currentUserDisplayName,currentUserID:n.currentUserID,isCurrentUserModerator:n.isCurrentUserModerator,isCurrentUserStaff:n.isCurrentUserStaff,isDeleted:t.deleted,isHidden:t.hidden,message:t,showModerationIcons:n.showModerationIcons,showTimestamps:n.showTimestamps,useHighContrastColors:n.useHighContrastColors}),t.hasReply&&o.createElement(d.A,{margin:{bottom:.5}},o.createElement(m.zx,{type:m.L$.Text,size:m.qE.Small,onClick:function(){!function(e,n){var t=e.getCurrentMessage(),i=(0,vt.j)(t);n.clearReplyToList(),n.setInputValue(""),n.setTray({header:o.createElement(tt.F,{icon:o.createElement(ct.j,{asset:h.e.Conversations})},(0,R.P)()),body:o.createElement(d.A,null,o.createElement(gt.b,{channelID:n.channelID,channelLogin:n.channelLogin,currentUserLogin:n.currentUserLogin,currentUserDisplayName:n.currentUserDisplayName,currentUserID:n.currentUserID,isCurrentUserModerator:n.isCurrentUserModerator,isCurrentUserStaff:n.isCurrentUserStaff,reply:i,showModerationIcons:n.showModerationIcons,showTimestamps:n.showTimestamps,useHighContrastColors:n.useHighContrastColors})),onClose:function(){n.channelID&&(0,yt.LR)({messageID:i.parentMsgId,channelID:n.channelID})},disableBits:!0,disableCommands:!0,disableChat:i.parentDeleted,sendButtonOverride:Vn.nS.Reply,sendMessageHandler:{type:Vn.DB.Reply,additionalMetadata:{reply:i}},type:Vn.v4.Reply})}(e,n),n.channelID&&(0,yt.UY)({threadID:t.id,channelID:n.channelID,uiContext:yt.Xw.ReplyTray})}},(0,y.wv)("See thread","ReplyTray")))),inputValue:"",onClose:n.clearReplyToList,disableBits:!0,sendButtonOverride:Vn.nS.Reply,sendMessageHandler:{type:Vn.DB.Reply,additionalMetadata:{reply:{parentDeleted:t.deleted,parentMsgId:t.id,parentMessageBody:t.messageBody,parentUid:t.user.userID,parentUserLogin:t.user.userLogin,parentDisplayName:t.user.userDisplayName}}},type:Vn.v4.Reply})}var St=t(146747),Ct=t(23015),bt=t(626650),wt="hasDismissedChantModCallout",Et=function(){var e=(0,o.useState)(y.tO.get(wt,!1)),n=e[0],t=e[1];return n?null:o.createElement(d.A,null,o.createElement(St.U,{closeButton:{onClick:function(){y.tO.set(wt,!0),t(!0)},"aria-label":(0,y.wv)("Close","ChantModCallout")},background:u.Aq.Accent,message:o.createElement(Ct.Z,{title:(0,y.wv)("Start a Crowd Chant!","ChantModCallout"),description:(0,y.wv)('Want to get chat hyped up? Use the "/chant [message] command to send viewers a prompt with a message they can send in chat!',"ChantModCallout"),pill:{label:(0,y.wv)("New","ChantModCallout"),transform:M._5.Uppercase,type:bt.R.Brand}})}))},_t=t(759408),Nt=t(19596),Dt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showAutocompleteTray=function(e,t,i){var a,r,s,l;n.props.closeCard();var d=(null===(r=null===(a=e[0])||void 0===a?void 0:a.current)||void 0===r?void 0:r.includes("/"))||!1,u=n.props.channelID===n.props.currentUserID||n.props.isCurrentUserModerator,c=d?o.createElement(_t.P,{channelLogin:n.props.channelLogin},u&&o.createElement(Et,null)):void 0;n.props.setModifierTray({body:o.createElement(le.c,{onClickOut:n.clearAutocompleteTray},o.createElement(lt.hB,{matches:e,onMatchSelect:n.onMatchSelect(t),onDismiss:i,containerElement:n.props.containerElement,header:c})),floating:!0,sendButtonOverride:(null===(l=null===(s=n.props)||void 0===s?void 0:s.tray)||void 0===l?void 0:l.sendButtonOverride)===Vn.nS.Reply?n.props.tray.sendButtonOverride:void 0,type:Vn.v4.AutocompleteTray})},n.onMatchSelect=function(e){return function(t,a){var r;if((0,Sn.C)(n.props.channelID)!==Sn.E.Control&&t.type===sn.J.Mention){var o=(0,Yn.i)(t.replacement.trim()),s=yn(o,null===(r=n.props.messageBufferAPI)||void 0===r?void 0:r.getMessages());if(!a)return e(t),void((null==s?void 0:s.length)>0&&!y.tO.get(Ue.FR,!1)&&n.props.pushCallout({key:Oe.S.ReplyByKeyboard,event:{type:Oe.S.ReplyByKeyboard}}));if(o!==n.props.currentUserDisplayName&&s&&0!==s.length){var l=new zn(s);n.props.setReplyToList(l),kt(l,{setTray:n.props.setTray,setInputValue:n.props.setInputValue,clearReplyToList:n.props.clearReplyToList,closeKeyboardReplyTray:n.props.closeKeyboardReplyTray,badgeSets:n.props.badgeSets,channelID:n.props.channelID,channelLogin:n.props.channelLogin,currentUserDisplayName:n.props.currentUserDisplayName,currentUserLogin:n.props.currentUserLogin,currentUserID:n.props.currentUserID,isCurrentUserModerator:n.props.isCurrentUserModerator,isCurrentUserStaff:n.props.isCurrentUserStaff,showModerationIcons:n.props.showModerationIcons,showTimestamps:n.props.showTimestamps,useHighContrastColors:n.props.useHighContrastColors}),(0,dt.c)((0,i.__assign)((0,i.__assign)({},n.props.trackingParams||{}),{autocompleteType:sn.J.Mention,completedText:t.replacement,source:n.props.suggestionSource,usedReplySuggestion:!0}))}}else e(t)}},n.clearAutocompleteTray=function(){(0,ut.Ny)(n.props.tray)&&n.props.clearModifierTray()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.fontScaleClassName;return o.createElement(d.A,{className:e},o.createElement(Se.$f,(0,i.__assign)({},this.props,{"aria-label":this.props.placeholder,onMatch:this.showAutocompleteTray,onReset:this.clearAutocompleteTray})))},n}(o.Component);var Mt,It=(0,l.qC)(fn.F_,(0,xe.Sf)((function(e){return{pushCallout:function(n){return e.pushCallout(n)}}})),(0,Nt.M)())(Dt),Tt=t(357941);!function(e){e.ClickContainer="chat-input-tray-click-container",e.TrayError="chat-input-tray-error"}(Mt||(Mt={}));var Pt=function(e){var n=o.useContext(it.PL).activeInputTray,t=(0,Tt.A)();(0,o.useEffect)((function(){var e;return(null==n?void 0:n.timeout)&&(e=setTimeout(t,n.timeout)),function(){e&&clearTimeout(e)}}),[t,n]);var i,r=a({"chat-input-tray__open":!!n,"chat-input-tray__open--persistent":null==n?void 0:n.persistent}),s=a({"chat-input-container__open":!!n,"chat-input-container__open--persistent":null==n?void 0:n.persistent}),l=a({"chat-input-container__input-wrapper":!!n}),m=re.c.Large;n&&(i=u.Aq.Base,m={bottomLeft:re.c.Large,bottomRight:re.c.Large},(null==n?void 0:n.persistent)&&(i=u.Aq.Alt));var p=o.createElement(d.A,null,null==n?void 0:n.header,null==n?void 0:n.body);(null==n?void 0:n.onClick)&&(p=o.createElement("div",{onClick:n.onClick,className:"chat-input-tray__clickable","data-test-selector":Mt.ClickContainer},p));return o.createElement(o.Fragment,null,o.createElement(d.A,{background:i,border:!!n,borderRadius:re.c.Large,display:u.sS.Block,elevation:n&&!(null==n?void 0:n.persistent)?1:0,padding:n&&!(null==n?void 0:n.persistent)?.5:0,position:(null==n?void 0:n.floating)?u.Ly.Absolute:u.Ly.Relative,attachRight:!0,attachLeft:!0,zIndex:u.KN.Below,className:r},p,function(){if(null==n?void 0:n.error)return o.createElement(d.A,{borderTop:!0,borderRadius:re.c.Large,display:u.sS.Block,padding:.5,attachRight:!0,attachLeft:!0,className:"chat-input-tray__error","data-test-selector":Mt.TrayError},o.createElement(d.A,{display:u.sS.Flex,alignItems:u.g1.Center},o.createElement(d.A,{margin:{x:1}},o.createElement(L.W,{asset:h.e.Warning,type:L.w.Warn})),o.createElement(d.A,{margin:{bottom:.5}},o.createElement(c.V,{color:u.Il.Alt2},n.error))))}()),o.createElement(d.A,{background:i,borderRadius:m,display:u.sS.Block,padding:n&&!(null==n?void 0:n.persistent)?.5:0,className:s},o.createElement(d.A,{position:u.Ly.Relative,className:l},e.children)))},Rt=function(e){var n=(0,y.wv)("Chat","ChatInput");if(e.inputText&&null!==(0,Je.IW)(e.inputText))n=(0,y.wv)("Whisper","ChatInput");else if(e.sendButtonOverride)switch(e.sendButtonOverride){case Vn.nS.ShareEmoteReward:case Vn.nS.ShareBitsBadgeTier:case Vn.nS.ShareResub:case Vn.nS.ShareDrop:n=(0,y.wv)("Share","ChatInput");break;case Vn.nS.ThankSubGifter:n=(0,y.wv)("Send Thanks","ChatInput");break;case Vn.nS.Reply:n=(0,y.wv)("Reply","ChatInput")}return o.createElement(m.zx,{onClick:function(){return e.onClick(Hn.zz.Click)},"data-a-target":"chat-send-button",disabled:e.disabled},n)};Rt.displayName="ChatInputSendButton";var At=t(233563),Lt=t(437855);function Ft(e){var n;switch(e.restriction){case N.D5M.SUBSCRIBERS_ONLY:n="subscribe";break;case N.D5M.VERIFIED_ONLY:n="go_to_settings";break;case N.D5M.FOLLOWERS_ONLY:n="follow";break;case N.D5M.REQUIRE_VERIFIED_PHONE_NUMBER:n="phone_verification";break;default:return}var t={action_type:n,channel:e.channelLogin,channel_id:e.channelID};y.UO.track(ve.N.ChatInputRestrictedAction,t)}function Ut(e){var n;switch(e.restriction){case N.D5M.SUBSCRIBERS_ONLY:n="subscriber_mode";break;case N.D5M.VERIFIED_ONLY:n="verified_mode";break;case N.D5M.FOLLOWERS_ONLY:n=e.requiredDuration?"follow_mode_timer":"follow_mode";break;case N.D5M.REQUIRE_VERIFIED_PHONE_NUMBER:n="phone_verification";break;default:return}var t={channel:e.channelLogin,channel_id:e.channelID,impression_type:n};y.UO.track(ve.N.ChatInputRestrictedImpression,t)}var xt=t(408892),Ot=t(652461),Bt=t(33250),Vt="verified-only-messages",qt="subs-only-messages",Gt="follower-only-messages",Ht="emote-only-messages",Wt=t(823955),zt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trayTitle=(0,y.wv)("Emote Only Chat","EmoteOnlyTray"),n.trayDescription=(0,y.wv)("This room is in emote only mode. You can find your currently available emoticons using the smiley in the chat text area.","EmoteOnlyTray"),n.buildEmoteLookup=(0,xt.M)((function(e){for(var n=[],t=0,i=e;t<i.length;t++){var a=i[t];a&&a.id&&a.emotes&&(n=n.concat((0,Wt.j8)(a.emotes).map((function(e){return e.displayName}))))}return new Set(n)})),n.manageEmoteOnlyTrays=function(){var e=n.props,t=e.clearModifierTray,i=e.emoteOnlyMode,a=e.hasChatRestriction,r=e.setModifierTray,s=e.tray;if(i&&!a&&!s){var l={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,null)},n.trayTitle),body:o.createElement(Ot.f,null,n.trayDescription),type:Vn.v4.EmoteOnlyInfo},d={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,{persistent:!0}),hideCloseButton:!0},o.createElement(c.V,{bold:!0,color:u.Il.Alt2},n.trayTitle)),persistent:!0,onClick:function(){r(l)},type:Vn.v4.EmoteOnlyBanner};r(d)}i&&!a||!s||s.type!==Vn.v4.EmoteOnlyBanner&&s.type!==Vn.v4.EmoteOnlyInfo||t(),!i&&s&&s.type===Vn.v4.EmoteOnlyWarning&&t(),n.props.emoteOnlyMode&&n.props.inputTray&&n.props.modifierTray&&n.props.clearModifierTray()},n.isNotEmoteOnly=function(e){if(!n.props.emoteOnlyMode)return!1;var t=!1,i=n.buildEmoteLookup(n.props.emotes);return e.replace(/\n/g," ").trim().split(" ").some((function(e){return e.length>0&&!i.has(e)&&(t=!0,n.updateModifierTray(),!0)})),t},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotEmoteOnly,onMessageSent:function(){return null}},Ht),this.manageEmoteOnlyTrays()},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(Ht)},n.prototype.componentDidUpdate=function(){this.manageEmoteOnlyTrays()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={header:o.createElement(tt.F,{icon:o.createElement(rt.b,null)},this.trayTitle),body:o.createElement(Ot.f,null,this.trayDescription),timeout:3e4,type:Vn.v4.EmoteOnlyWarning};this.props.setModifierTray(e)},n}(o.Component);var $t=(0,l.qC)((0,it.WA)((function(e){return{clearTray:function(){return e((0,at.Rv)())},setModifierTray:function(n){return e((0,at.PH)(n))},clearModifierTray:function(){return e((0,at.zB)())}}})),(0,it.WY)((function(e){return{tray:e.activeInputTray,inputTray:e.inputTray,modifierTray:e.inputModifierTray}})))(zt),jt=t(33435),Yt=t(499149),Qt=t(475443),Jt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trayTitle=(0,y.wv)("Followers-Only Chat","ChatModeHeader"),n.manageFollowerModeTray=function(){if(n.props.followerMode&&!n.props.tray){var e={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,null)},n.trayTitle),body:n.renderTrayBody(),type:Vn.v4.FollowerModeInfo},t={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,{persistent:!0}),hideCloseButton:!0},o.createElement(c.V,{bold:!0,color:u.Il.Alt2},n.trayTitle)),persistent:!0,onClick:function(){n.props.setModifierTray(e)},type:Vn.v4.FollowerModeBanner};n.props.setModifierTray(t)}n.props.followerMode||!n.props.tray||n.props.tray.type!==Vn.v4.FollowerModeInfo&&n.props.tray.type!==Vn.v4.FollowerModeBanner?n.props.followerMode&&n.props.inputTray&&n.props.modifierTray&&n.props.clearModifierTray():n.props.clearModifierTray()},n.renderTrayBody=function(){var e=(0,y.wv)("You need to be a follower of {streamer} to chat.",{streamer:n.props.channelDisplayName||n.props.channelLogin},"ChatModeHeader");if(n.props.followerDurationSeconds>0&&null!==n.props.followSecondsRemaining){var t=(0,ce.LU)(n.props.followerDurationSeconds),i=(0,ce.LU)(n.props.followSecondsRemaining);e=(0,y.wv)("You need to be a follower for {timeRequired} to chat, and you have {timeRemaining} left.",{timeRequired:t,timeRemaining:i},"ChatModeHeader")}return o.createElement(d.A,{className:"chat-restriction-tray__body"},o.createElement(c.V,null,e),o.createElement(d.A,{display:u.sS.Flex,fullWidth:!0,justifyContent:u.uM.End,padding:{top:.5,bottom:.5,right:.5},className:"chat-restriction-tray__button"},o.createElement(d.A,{flexShrink:1},o.createElement(jt.e,{size:m.qE.Small,fullWidthButton:!1,channelLogin:n.props.channelLogin,followUIType:Yt.R0.IconAndText,unfollowUIType:Yt.R0.IconAndText,balloonDirection:se.O.TopRight,hideDropdownWhenFollowing:!0,onFollow:n.props.trackAction,onUnfollow:n.props.trackAction}))))},n.isNotFollowingCheck=function(){var e,t,i;return!!n.props.followerMode&&(!((null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.user)||void 0===t?void 0:t.self)||void 0===i?void 0:i.follower)&&null!==n.props.data.user.self.follower.disableNotifications&&!(n.props.followSecondsRemaining&&n.props.followSecondsRemaining>0))&&(n.updateModifierTray(),!0))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotFollowingCheck,onMessageSent:function(){return null}},Gt),this.manageFollowerModeTray()},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(Gt)},n.prototype.componentDidUpdate=function(){this.manageFollowerModeTray()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={header:o.createElement(tt.F,{icon:o.createElement(rt.b,null)},this.trayTitle),body:this.renderTrayBody(),timeout:3e4,type:Vn.v4.FollowerModeInfo};this.props.setModifierTray(e)},n}(o.Component);var Kt=(0,l.qC)((0,it.WA)((function(e){return{clearTray:function(){return e((0,at.Rv)())},setModifierTray:function(n){return e((0,at.PH)(n))},clearModifierTray:function(){return e((0,at.zB)())}}})),(0,it.WY)((function(e){return{tray:e.activeInputTray,inputTray:e.inputTray,modifierTray:e.inputModifierTray}})),(0,S.TA)(Qt,{options:function(e){return{variables:{login:e.channelLogin}}}}))(Jt),Xt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={},n.manageSlowModeTray=function(){var e=n.props,t=e.activeInputTray,i=e.inputModifierTray,a=e.inputTray,r=e.slowMode,s=e.slowModeDuration,l=e.slowModeSecondsRemaining,d=e.emoteOnlyMode,m=(null==t?void 0:t.type)===Vn.v4.SlowModeBanner||(null==t?void 0:t.type)===Vn.v4.SlowModeInfo,p=(0,y.wv)("Slow Mode","SlowModeTray"),h=(0,y.wv)("{slowModeDuration, plural, one {Users may send messages every # second.} other {Users may send messages every # seconds.}}",{slowModeDuration:s},"SlowModeTray"),f={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,null)},p),body:o.createElement(Ot.f,null,h),type:Vn.v4.SlowModeInfo},g={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,{persistent:!0}),hideCloseButton:!0},o.createElement(c.V,{bold:!0,color:u.Il.Alt2},p)),persistent:!0,onClick:function(){n.props.setModifierTray(f)},type:Vn.v4.SlowModeBanner},v=n.props.chatRestrictedReasons.some((function(e){return e!==N.D5M.SLOW_MODE}));!r||i||a||v?m&&i&&(!r||a||v||r&&0===l&&d)&&n.props.clearModifierTray():n.props.setModifierTray(g)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.manageSlowModeTray()},n.prototype.componentDidUpdate=function(){this.manageSlowModeTray()},n.prototype.render=function(){return null},n}(o.Component);var Zt=(0,l.qC)((0,it.WA)((function(e){return{setModifierTray:function(n){return e((0,at.PH)(n))},clearModifierTray:function(){return e((0,at.zB)())}}})),(0,it.WY)((function(e){return{activeInputTray:e.activeInputTray,inputModifierTray:e.inputModifierTray,inputTray:e.inputTray}})))(Xt),ei=t(767916),ni=t(502866),ti=k.P.wrap((function(){return t.e(32623).then(t.bind(t,745943))}),"SubscribeButton"),ii=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trayTitle=(0,y.wv)("Subscribers Only Chat","ChatModeHeader"),n.renderTrayBody=function(){var e=(0,y.wv)("Only {streamer}'s subscribers can chat right now. Subscribe and join in!",{streamer:n.props.channelDisplayName||n.props.channelLogin},"ChatModeHeader");return o.createElement(d.A,{className:"chat-restriction-tray__body"},o.createElement(c.V,null,e),o.createElement(d.A,{display:u.sS.Flex,fullWidth:!0,justifyContent:u.uM.End,padding:{top:.5,bottom:.5,right:.5},className:"chat-restriction-tray__button"},o.createElement(d.A,{onClick:n.props.trackAction},o.createElement(ti,{balloonDirection:se.O.TopRight,channelLogin:n.props.channelLogin,subLocation:ni.cZ.ChatTray,hideDropdownArrow:!0,forceIcon:!0}))))},n.isNotSubbedCheck=function(){var e,t;return!!n.props.subsOnlyMode&&(!(null===(t=null===(e=n.props.data)||void 0===e?void 0:e.user)||void 0===t?void 0:t.self)||!n.props.data.user.self.subscriptionBenefit&&(n.updateModifierTray(),!0))},n.manageSubsOnlyModeTray=function(){if(n.props.subsOnlyMode&&!n.props.tray){var e={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,null)},n.trayTitle),body:n.renderTrayBody(),type:Vn.v4.SubsOnlyInfo},t={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,{persistent:!0}),hideCloseButton:!0},o.createElement(c.V,{bold:!0,color:u.Il.Alt2},n.trayTitle)),persistent:!0,onClick:function(){n.props.setModifierTray(e)},type:Vn.v4.SubsOnlyBanner};n.props.setModifierTray(t)}n.props.subsOnlyMode||!n.props.tray||n.props.tray.type!==Vn.v4.SubsOnlyInfo&&n.props.tray.type!==Vn.v4.SubsOnlyBanner?n.props.subsOnlyMode&&n.props.inputTray&&n.props.modifierTray&&n.props.clearModifierTray():n.props.clearModifierTray()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotSubbedCheck,onMessageSent:function(){return null}},qt),this.manageSubsOnlyModeTray()},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(qt)},n.prototype.componentDidUpdate=function(){this.manageSubsOnlyModeTray()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={header:o.createElement(tt.F,{icon:o.createElement(rt.b,null)},this.trayTitle),body:this.renderTrayBody(),timeout:3e4,type:Vn.v4.SubsOnlyInfo};this.props.setModifierTray(e)},n}(o.Component);var ai=(0,l.qC)((0,it.WA)((function(e){return{clearTray:function(){return e((0,at.Rv)())},setModifierTray:function(n){return e((0,at.PH)(n))},clearModifierTray:function(){return e((0,at.zB)())}}})),(0,it.WY)((function(e){return{tray:e.activeInputTray,inputTray:e.inputTray,modifierTray:e.inputModifierTray}})),(0,S.TA)(ei,{options:function(e){return{variables:{login:e.channelLogin}}}}))(ii),ri=t(115412),oi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trayTitle=(0,y.wv)("Verified Accounts Only Chat","ChatModeHeader"),n.isNotVerifiedCheck=function(){return!!n.props.verifiedOnlyMode&&(!(!n.props.data||!n.props.data.currentUser||n.props.data.currentUser.isEmailVerified)&&(n.updateModifierTray(),!0))},n.renderTrayBody=function(){var e=(0,y.wv)("Verify your account in Settings to chat!","ChatModeHeader");return o.createElement(d.A,null,o.createElement(c.V,null,e),o.createElement(d.A,{padding:{right:.5,top:.5},className:"subs-only-tray-sub-button"},o.createElement(m.zx,{onClick:n.props.trackAction,linkTo:"/settings/security",targetBlank:!0},(0,y.wv)("Go to Settings","ChatModeHeader"))))},n.manageVerifiedOnlyTray=function(){if(n.props.verifiedOnlyMode&&!n.props.tray){var e={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,null)},n.trayTitle),body:n.renderTrayBody(),type:Vn.v4.VerifiedOnlyModeInfo},t={header:o.createElement(tt.F,{icon:o.createElement(Bt.X,{persistent:!0}),hideCloseButton:!0},o.createElement(c.V,{bold:!0,color:u.Il.Alt2},n.trayTitle)),persistent:!0,onClick:function(){n.props.setModifierTray(e)},type:Vn.v4.VerifiedOnlyModeBanner};n.props.setModifierTray(t)}n.props.verifiedOnlyMode||!n.props.tray||!n.props.modifierTray||n.props.tray.type!==Vn.v4.VerifiedOnlyModeInfo&&n.props.tray.type!==Vn.v4.VerifiedOnlyModeBanner||n.props.clearModifierTray()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotVerifiedCheck,onMessageSent:function(){return null}},Vt),this.manageVerifiedOnlyTray()},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(Vt)},n.prototype.componentDidUpdate=function(){this.manageVerifiedOnlyTray()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={header:o.createElement(tt.F,{icon:o.createElement(rt.b,null)},this.trayTitle),body:this.renderTrayBody(),timeout:3e4,type:Vn.v4.VerifiedOnlyModeInfo};this.props.setModifierTray(e)},n}(o.Component);var si,li=(0,l.qC)((0,it.WA)((function(e){return{clearTray:function(){return e((0,at.Rv)())},setModifierTray:function(n){return e((0,at.PH)(n))},clearModifierTray:function(){return e((0,at.zB)())}}})),(0,it.WY)((function(e){return{tray:e.activeInputTray,modifierTray:e.inputModifierTray}})),(0,S.TA)(ri))(oi),di=k.P.wrap((function(){return t.e(97148).then(t.bind(t,792671))}),"MobilePhoneVerificationTrayManager");!function(e){e[e.RequiresPhoneVerification=0]="RequiresPhoneVerification",e[e.NoRestriction=1]="NoRestriction",e[e.EmoteOnlyMode=2]="EmoteOnlyMode",e[e.SlowMode=3]="SlowMode",e[e.SubsOnlyMode=4]="SubsOnlyMode",e[e.FollowerOnlyMode=5]="FollowerOnlyMode",e[e.VerifiedOnlyMode=6]="VerifiedOnlyMode"}(si||(si={}));var ui=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={trayState:si.NoRestriction},n.makeActionTracker=function(e){return function(){n.props.channelID&&Ft({channelID:n.props.channelID,channelLogin:n.props.channelLogin,restriction:e})}},n.trackImpression=function(){n.firstRelevantReason&&n.props.channelID&&Ut({channelID:n.props.channelID,channelLogin:n.props.channelLogin,restriction:n.firstRelevantReason,requiredDuration:n.props.followerDurationSeconds})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.setTray(),this.trackImpression()},n.prototype.componentDidUpdate=function(e){this.shouldUpdate(e,this.props)&&this.setTray(),this.areRestrictionsEqual(e,this.props)||this.trackImpression()},n.prototype.render=function(){var e;switch(this.state.trayState){case si.RequiresPhoneVerification:return o.createElement(di,{chatRestrictedReasons:this.props.chatRestrictions,userID:this.props.userID,onVerifyCompleted:null===(e=this.props.chatRestrictionsAPI)||void 0===e?void 0:e.refetchRestrictions,trackAction:this.makeActionTracker(N.D5M.REQUIRE_VERIFIED_PHONE_NUMBER)});case si.VerifiedOnlyMode:return o.createElement(li,{verifiedOnlyMode:this.isVerifiedOnlyMode(this.props.chatRestrictions),registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck,trackAction:this.makeActionTracker(N.D5M.VERIFIED_ONLY)});case si.SubsOnlyMode:return o.createElement(ai,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelId:this.props.channelID,subsOnlyMode:this.props.subsOnlyMode,registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck,trackAction:this.makeActionTracker(N.D5M.SUBSCRIBERS_ONLY)});case si.FollowerOnlyMode:return o.createElement(Kt,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelId:this.props.channelID,followerMode:this.props.followerMode,followerDurationSeconds:this.props.followerDurationSeconds,followSecondsRemaining:this.props.followSecondsRemaining,registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck,trackAction:this.makeActionTracker(N.D5M.FOLLOWERS_ONLY)});case si.SlowMode:return o.createElement(Zt,{emoteOnlyMode:this.props.emoteOnlyMode,slowMode:this.props.slowMode,slowModeDuration:this.props.slowModeDuration,slowModeSecondsRemaining:this.props.slowModeSecondsRemaining,chatRestrictedReasons:this.props.chatRestrictions});case si.EmoteOnlyMode:return o.createElement($t,{emotes:this.props.emotes,hasChatRestriction:this.props.chatRestrictions.length>0,emoteOnlyMode:this.props.emoteOnlyMode,registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck});default:return null}},n.prototype.areRestrictionsEqual=function(e,n){return(0,Lt.p2)(e.chatRestrictions.slice(),n.chatRestrictions.slice())},n.prototype.shouldUpdate=function(e,n){return!this.areRestrictionsEqual(e,n)||e.slowMode!==n.slowMode||e.emoteOnlyMode!==n.emoteOnlyMode||e.subsOnlyMode!==n.subsOnlyMode||e.followerMode!==n.followerMode},n.prototype.setTray=function(){if(this.firstRelevantReason!==N.D5M.REQUIRE_VERIFIED_PHONE_NUMBER){if(this.firstRelevantReason===N.D5M.VERIFIED_ONLY)return this.setState({trayState:si.VerifiedOnlyMode}),this.props.unregisterSendMessageErrorCheck(qt),void this.props.unregisterSendMessageErrorCheck(Gt);if(this.firstRelevantReason===N.D5M.SUBSCRIBERS_ONLY)return this.setState({trayState:si.SubsOnlyMode}),this.props.unregisterSendMessageErrorCheck(Vt),void this.props.unregisterSendMessageErrorCheck(Gt);if(this.firstRelevantReason===N.D5M.FOLLOWERS_ONLY)return this.setState({trayState:si.FollowerOnlyMode}),this.props.unregisterSendMessageErrorCheck(Vt),void this.props.unregisterSendMessageErrorCheck(qt);if(this.firstRelevantReason!==N.D5M.SLOW_MODE)return this.props.emoteOnlyMode&&!this.props.slowModeSecondsRemaining?(this.setState({trayState:si.EmoteOnlyMode}),this.props.unregisterSendMessageErrorCheck(Vt),this.props.unregisterSendMessageErrorCheck(qt),void this.props.unregisterSendMessageErrorCheck(Gt)):void(this.props.slowMode?this.setState({trayState:si.SlowMode}):(this.setState({trayState:si.NoRestriction}),this.props.unregisterSendMessageErrorCheck(Vt),this.props.unregisterSendMessageErrorCheck(qt),this.props.unregisterSendMessageErrorCheck(Gt)));this.setState({trayState:si.SlowMode})}else this.setState({trayState:si.RequiresPhoneVerification})},n.prototype.isVerifiedOnlyMode=function(e){return e&&e.includes(N.D5M.VERIFIED_ONLY)},Object.defineProperty(n.prototype,"firstRelevantReason",{get:function(){for(var e=0,n=this.props.chatRestrictions;e<n.length;e++){var t=n[e];if(!this.props.ignoredRestrictions||!this.props.ignoredRestrictions.has(t))return t}return null},enumerable:!0,configurable:!0}),n}(o.Component);var ci=(0,l.qC)(Wn.nl,(0,Nn.LI)((function(e){return{emoteOnlyMode:e.emoteOnlyMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode,followerMode:e.followerMode,followerDurationSeconds:60*e.followerDuration}})))(ui),mi=t(333946),pi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={lastSentMessage:"",lastSentTimestamp:Date.now()},n.key="duplicated-messages",n.isDuplicatedMessage=function(e){return n.condenseWhitespace(e)===n.state.lastSentMessage&&Date.now()-n.state.lastSentTimestamp<3e4&&(n.updateModifierTray(),!0)},n.onMessageSent=function(e){n.setState({lastSentMessage:n.condenseWhitespace(e),lastSentTimestamp:Date.now()})},n.clearDupMessageModifierTray=function(){n.props.tray&&n.props.tray.type===Vn.v4.DuplicatedMessageError&&n.props.clearModifierTray()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isDuplicatedMessage,onMessageSent:this.onMessageSent},this.key)},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},n.prototype.componentDidUpdate=function(){this.condenseWhitespace(this.props.inputValue)!==this.state.lastSentMessage&&this.clearDupMessageModifierTray()},n.prototype.render=function(){return null},n.prototype.condenseWhitespace=function(e){return e.replace(/\s+/g," ").trim()},n.prototype.updateModifierTray=function(){var e={header:o.createElement(tt.F,{icon:o.createElement(rt.b,null)},(0,y.wv)("Message Not Sent","DuplicatedMessageErrorTray")),body:o.createElement(Ot.f,null,(0,mi.h)()),disableChat:!0,timeout:3e4,type:Vn.v4.DuplicatedMessageError};this.props.setModifierTray(e)},n}(o.Component);var hi=(0,l.qC)((0,it.WA)((function(e){return{setModifierTray:function(n){return e((0,at.PH)(n))},clearModifierTray:function(){return e((0,at.zB)())}}})),(0,it.WY)((function(e){return{tray:e.activeInputTray}})))(pi),fi=t(882429),gi=t(206507),vi=t(202912),yi=t(268748);function ki(){return(0,y.wv)("OK","EmbeddedChatConfirmModal")}function Si(){return(0,y.wv)("Deny","EmbeddedChatConfirmModal")}var Ci=(0,ie.$j)(null,(function(e){return(0,l.DE)({closeModal:fe.Mr},e)}))((function(e){var n=e.displayName,t=e.message,i=e.channelLogin,a=e.setEmbedDecision;return o.createElement(fi.A,{size:fi.C.Medium},o.createElement(gi.x,{title:(0,y.wv)("Are you sure?","EmbeddedChatConfirmModal"),closeButton:{"aria-label":(0,y.wv)("Close modal","EmbeddedChatConfirmModal"),onClick:e.closeModal}}),o.createElement(vi.f,null,o.createElement(c.V,null,(0,y.wv)('Hi {displayName}. You are attempting to send "{message}" in {channelLogin}\'s chat via an embedded version of Twitch Chat. Are you sure you want to do this? This setting will persist until you refresh the page.',{displayName:n,message:t,channelLogin:i},"EmbeddedChatConfirmModal"))),o.createElement(yi.m,{primaryButtonProps:{"aria-label":ki(),children:ki(),onClick:function(){a(!0),e.closeModal()}},secondaryButtonProps:{"aria-label":Si(),children:Si(),onClick:function(){a(!1),e.closeModal()}},padding:{x:3,bottom:2}}))})),bi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={lastSentTimestamp:null},n.key="message-throughput",n.isSendingMessageTooFast=function(e){if(null===n.state.lastSentTimestamp)return!1;var t=n.state.lastSentTimestamp||0;return Date.now()-t<1e3&&(n.updateModifierTray(),!0)},n.onMessageSent=function(e){n.setState({lastSentTimestamp:Date.now()})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isSendingMessageTooFast,onMessageSent:this.onMessageSent},this.key)},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={header:o.createElement(tt.F,{icon:o.createElement(rt.b,null)},(0,y.wv)("Message Not Sent","MessageThroughputErrorTray")),body:o.createElement(Ot.f,null,(0,y.wv)("You are sending messages too quickly.","MessageThroughputErrorTray")),timeout:3e4,type:Vn.v4.MessageThroughputError};this.props.setModifierTray(e)},n}(o.Component);var wi,Ei=(0,l.qC)((0,it.WA)((function(e){return{setModifierTray:function(n){return e((0,at.PH)(n))},clearModifierTray:function(){return e((0,at.zB)())}}})),(0,it.WY)((function(e){return{tray:e.activeInputTray}})))(bi),_i=t(916713),Ni=t(102931);!function(e){e.CURRENT_USER_TIMED_OUT_TEXT_SELECTOR="current-user-timed-out-text",e.CURRENT_USER_TIMED_OUT_REASON_TEXT_SELECTOR="current-user-timed-out-reason-text"}(wi||(wi={}));var Di=function(e){function n(n){return e.call(this,n)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=Math.floor(this.props.timeoutExpiry/1e3),n=o.createElement(Ni.d,{timeToCountDownFromSeconds:e,onCompletion:this.props.refetchTimeoutState});return o.createElement(d.A,{padding:{bottom:2,x:2}},o.createElement(d.A,{padding:{bottom:1,x:2},borderTop:!0}),o.createElement(d.A,{textAlign:u.PH.Center},o.createElement(c.V,{color:u.Il.Base,"data-test-selector":wi.CURRENT_USER_TIMED_OUT_TEXT_SELECTOR,bold:!0},(0,y.wv)("You are currently timed out from Chat.","ChatInput")),o.createElement(c.V,{color:u.Il.Alt2},(0,y.wv)("You can chat again in {countDown}.",{countDown:n},"ChatInput"))),o.createElement(d.A,{padding:{top:2,x:0}},this.props.reason&&o.createElement(d.A,{"data-test-selector":wi.CURRENT_USER_TIMED_OUT_REASON_TEXT_SELECTOR},o.createElement(d.A,{className:"timed-out-from-chat-input__timeout-reason-header"},o.createElement(_i.h,null,(0,y.wv)("REASON FROM CHANNEL MODS","ChatInput"))),o.createElement(d.A,{className:"timed-out-from-chat-input__timeout-reason",padding:{left:.5},margin:{top:.5}},this.props.reason))),this.props.renderButtonContainer(!0,null))},n}(o.Component),Mi=t(796682);function Ii(e){return!(!e||!0!==e.isPermanent)}function Ti(e){return!(!e||!1!==e.isPermanent)}function Pi(e){var n=0;return Ti(e)&&(null==e?void 0:e.expiresInMs)&&(n=e.expiresInMs),n}var Ri,Ai=t(117090),Li=((Ri={})[Ai.h5.Small]=18,Ri[Ai.h5.Default]=19.5,Ri[Ai.h5.Bigger]=21,Ri[Ai.h5.Biggest]=27,Ri);function Fi(e){return"/"===e.substr(0,1)&&"/me"!==e.substr(0,3)||"."===e.substr(0,1)&&".me"!==e.substr(0,3)}function Ui(e){return e.length>0}var xi=/\s+/;var Oi="chat-input",Bi="pending_chat_message",Vi=/\S/,qi=k.P.wrap((function(){return t.e(31677).then(t.bind(t,276587))}),"ChatPrivateCalloutQueue",{placeholder:null}),Gi=k.P.wrap((function(){return t.e(73348).then(t.bind(t,112540))}),"EmotePickerMenu",{placeholder:null}),Hi=k.P.wrap((function(){return Promise.all([t.e(54736),t.e(54142)]).then(t.bind(t,522994))}),"RewardCenter",{placeholder:null}),Wi=k.P.wrap((function(){return t.e(63476).then(t.bind(t,711823))}),"ChatBadgeCarousel",{placeholder:null}),zi=function(e){function n(n){var t=e.call(this,n)||this;return t.cancelDelayedSend=null,t.confirmDelayedSend=null,t.hasAllowedInEmbed=!1,t.hasSeenConfirmationPrompt=!1,t.chatInputValueSnapshot="",t.sendMessageErrorChecks={},t.isSlowModeBannerEnabled=(0,ue.t)("chat_slow_mode_banner"),t.onAcceptChatRules=function(){t.props.closeChatRules(),setTimeout((function(){var e;null===(e=t.chatInputRef)||void 0===e||e.focus()}),0)},t.renderChatRules=function(){var e;if((null===(e=t.props.data)||void 0===e?void 0:e.channel)&&t.props.chatRules)return o.createElement(Pn,{channelDisplayName:t.props.data.channel.displayName,channelProfileImageUrl:t.props.data.channel.profileImageURL,channelLogin:t.props.channelLogin,channelID:t.props.channelID,chatRules:t.props.chatRules,onCloseChatRules:t.props.closeChatRules,onAcceptChatRules:t.onAcceptChatRules})},t.renderButtonContainer=function(e,n){var i;void 0===e&&(e=!1);var a=Ii(t.getUserBanStatus());return o.createElement(d.A,{className:"chat-input__buttons-container","data-test-selector":"chat-input-buttons-container",display:t.props.hideChatInputButtons?u.sS.Hide:u.sS.Flex,justifyContent:u.uM.Between,margin:{top:1}},o.createElement(d.A,{display:u.sS.Flex,flexDirection:u.Qb.Row},o.createElement(d.A,{position:u.Ly.Relative,zIndex:u.KN.Default},t.props.isRewardCenterLoaded&&o.createElement(Hi,{buttonDisabled:a}))),o.createElement(d.A,{display:u.sS.Flex,alignItems:u.g1.Center,alignContent:u.tk.Center,flexDirection:u.Qb.Row},o.createElement(d.A,{margin:{right:1}},o.createElement(c.V,{color:u.Il.Alt2},n)),t.props.isCurrentUserModerator&&t.props.showModViewIngress&&o.createElement(Un,{channelLogin:t.props.channelLogin}),o.createElement(d.A,{position:u.Ly.Relative},!t.props.hideChatSettings&&o.createElement(Ze.$j,{channelID:t.props.channelID,channelLogin:t.props.channelLogin,isCurrentUserModerator:t.props.isCurrentUserModerator},o.createElement(rn,{onShowChatRules:t.props.onShowChatRules,channelDisplayName:t.props.channelDisplayName,channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,authToken:t.props.authToken,isCurrentUserModerator:t.props.isCurrentUserModerator,onChatCommand:t.onChatCommand,isPopout:t.props.isPopout,isEmbedded:t.props.isEmbedded,channelID:t.props.channelID,containerElement:t.props.containerElement}))),o.createElement(d.A,{margin:{left:.5}},o.createElement(Rt,{disabled:e||t.state.isSendingBits||t.props.isTextInputDisabled,inputText:t.state.value,onClick:t.onMessageSend,sendButtonOverride:null===(i=t.props.activeTray)||void 0===i?void 0:i.sendButtonOverride}))))},t.refetchTimeoutState=function(){return(0,i.__awaiter)(t,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return this.props&&this.props.data?[4,this.props.data.refetch()]:[3,2];case 1:return[2,e.sent()];case 2:return[2]}}))}))},t.renderSlowModeProgressBar=function(){if(t.state.chatRestrictedReasons[0]===N.D5M.SLOW_MODE&&!t.ignoreSlowMode){var e=t.state.slowModeSecondsRemaining/t.props.slowModeDuration*100;return o.createElement(d.A,{position:u.Ly.Absolute,attachBottom:!0,fullWidth:!0},o.createElement(ae.ko,{borderRadius:re.c.Small,size:ae.Kv.Small,value:e,mask:!0}))}return null},t.setLocalChatInputRef=function(e){t.chatInputRef=e,t.props.setChatInputRef(e)},t.setLocalAutocompleteInputRef=function(e){t.autocompleteInputRef=e,t.props.setAutocompleteInputRef(e)},t.onCheerInvalid=function(e){t.state.bitsCardError!==e&&(t.setState({bitsCardError:e}),e&&t.trackBitsCardInteraction(Fe.OL.UserViewingCheerError,{bitsCardError:e}))},t.onSendCheerWhenSendDisabled=function(){t.trackBitsCardInteraction(Fe.OL.SendInvalidCheerAttemptButtonDisabled,{bitsCardError:t.state.bitsCardError})},t.onAnonymousCheerToggle=function(e){t.setState({isAnonymousCheer:e})},t.onKeyDown=function(e){var n,i,a,r,o=e.charCode||e.keyCode;switch(t.props.bitsSendHasError&&t.props.clearBitsSendError(),o){case de.m.Enter:return void(e.shiftKey||(e.preventDefault(),t.onMessageSend(Hn.zz.Enter)));case de.m.Up:if((0,Sn.C)(t.props.channelID)!==Sn.E.Control&&!e.repeat&&e.altKey)if(e.preventDefault(),t.closeReplyByKeyboardCallout(),(null===(n=t.props.activeTray)||void 0===n?void 0:n.type)===Vn.v4.Reply)t.advanceReplyTray(!0);else{var s=function(e){for(var n=0,t=e.trim().split(xi);n<t.length;n++){var i=t[n];if("@"===i.substring(0,1)&&i.length>1)return i}return null}(t.state.value);if(!s)return;var l=(0,Yn.i)(s.trim());if(l===t.props.currentUserDisplayName)return;var d=yn(l,null===(i=t.props.messageBufferAPI)||void 0===i?void 0:i.getMessages());if(!d||0===d.length)return;var u=new zn(d);t.setReplyToList(u),kt(u,{setTray:t.props.setTray,setInputValue:t.onMessageValueUpdate,clearReplyToList:t.clearReplyToList,closeKeyboardReplyTray:t.closeKeyboardReplyTray,badgeSets:t.props.badgeSets,channelID:t.props.channelID,channelLogin:t.props.channelLogin,currentUserDisplayName:t.props.currentUserDisplayName,currentUserLogin:t.props.currentUserLogin,currentUserID:t.props.currentUserID,isCurrentUserModerator:t.props.isCurrentUserModerator,isCurrentUserStaff:t.props.isStaff,showModerationIcons:t.props.showModerationIcons,showTimestamps:t.props.showTimestamps,useHighContrastColors:t.props.useHighContrastColors})}return;case de.m.Down:return void((0,Sn.C)(t.props.channelID)!==Sn.E.Control&&!e.repeat&&e.altKey&&(e.preventDefault(),(null===(a=t.props.activeTray)||void 0===a?void 0:a.type)===Vn.v4.Reply&&t.advanceReplyTray(!1,t.closeKeyboardReplyTray)));case de.m.Esc:return t.props.clearMenus(),t.props.bitsCardOpen&&(t.props.setBitsCardOpenState(!1),t.setState({imageID:void 0})),void((null===(r=t.props.tray)||void 0===r?void 0:r.type)===Vn.v4.Reply&&t.closeKeyboardReplyTray());default:return}},t.closeReplyByKeyboardCallout=function(){t.props.clearCalloutType(Oe.S.ReplyByKeyboard),y.tO.set(Ue.FR,!0)},t.closeKeyboardReplyTray=function(){if(t.state.replyToList){var e=t.state.replyToList.getCurrentMessage();t.setSnapshot("@"+e.user.userDisplayName)}t.clearReplyToList(),t.props.clearTray()},t.onMessageValueUpdate=function(e){t.resizeInput(e),t.updateCheerState(e),t.setState({value:e})},t.updateCheerState=function(e){var n;if(e!==t.state.value&&t.props.bitsEnabled&&!(null===(n=t.props.activeTray)||void 0===n?void 0:n.disableBits)&&!Fi(e)){var i=[];(0,Ae.ff)(e,t.props.bitsConfig,!1).forEach((function(e){e.type===Gn.S.Emote&&(i.push(e.content),e.content.alt&&(0,Ae.kG)(e.content.alt)&&t.setState({isAnonymousCheer:!0}))})),i.length&&t.props.isShowingEmotePicker&&t.props.closeEmotePicker(),!Ui(t.state.messageCheers)&&i.length&&i.length>=1&&!t.props.bitsCardOpen&&!t.props.showEmotePicker&&t.trackBitsCardInteraction(Fe.OL.OpenCardViaCheering),t.setState({messageCheers:(0,Ae.i5)(i,t.props.bitsConfig)})}},t.resizeInput=function(e){var n;if(e){if(t.chatInputRef){var i=(n=t.props.fontSizePreference,Li[n]),a=1*i+20,r=Math.ceil((t.chatInputRef.scrollHeight-a)/i),o=Math.min(1+r,5);t.setState({numInputRows:o})}}else t.setState({numInputRows:1})},t.onInputFocus=function(){t.props.onInputFocus&&t.props.onInputFocus(),t.setState({hasInteracted:!0})},t.onMouseEnterInput=function(){t.setState({hasInteracted:!0})},t.onChatCommand=function(e){t.props.onChatCommand(e),t.trackChatEvent(t.props.emotePickerSessionID,Hn.zz.Click)},t.confirmEmbedAction=function(e){t.props.sessionUser&&t.props.showModal(Ci,{displayName:t.props.sessionUser.displayName,message:t.state.value||"",channelLogin:t.props.channelLogin,setEmbedDecision:function(n){return t.setEmbedDecision(n,e)}})},t.setEmbedDecision=function(e,n){t.hasSeenConfirmationPrompt=!0,t.hasAllowedInEmbed=e,t.setState({hasSeenAndRejectedEmbedPrompt:!e}),e&&t.onMessageSend(n)},t.hasHandledChatRestrictions=function(){return t.state.chatRestrictedReasons.includes(N.D5M.FOLLOWERS_ONLY)||t.state.chatRestrictedReasons.includes(N.D5M.SUBSCRIBERS_ONLY)||t.state.chatRestrictedReasons.includes(N.D5M.VERIFIED_ONLY)},t.onMessageSend=function(e){return(0,i.__awaiter)(t,void 0,void 0,(function(){var n,t,a,r,o,s,l,d,u,c,m,p,h,f,g,v,k=this;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(!this.bypassDisable){if(!this.bypassRestrictionDisable&&this.state.chatRestrictedReasons.length&&!this.hasHandledChatRestrictions())return this.props.setBitsCardOpenState(!1),[2];if(this.disableChatConditions())return[2]}if(!this.props.authToken)return this.handleLogin(),[2];if(!this.props.channelID)return y.kg.warn("[ChatInput] Attempt to send a message before channel ID"),[2];if(!(null===(d=this.props.activeTray)||void 0===d?void 0:d.sendMessageHandler))return[3,8];switch(this.closeBitsCard(),this.props.clearMenus(),n=this.props.activeTray.sendMessageHandler,n.type){case Vn.DB.Custom:return[3,1];case Vn.DB.ShareResub:return[3,4]}return[3,7];case 1:return n.handleMessage?[4,n.handleMessage(this.state.value,n.params)]:[3,3];case 2:i.sent()?n.onSuccess&&n.onSuccess(this.state.value,n.params):n.onError&&n.onError(this.state.value,n.params),i.label=3;case 3:return[2];case 4:return n.handleMessage?(n.params=n.params||{},[4,n.handleMessage(this.state.value,n.params)]):[3,6];case 5:i.sent()?n.onSuccess&&n.onSuccess(this.state.value,n.params):n.onError&&n.onError(this.state.value,n.params),i.label=6;case 6:return this.props.clearTray(),[2];case 7:i.label=8;case 8:if(!(t=Vi.test(this.state.value)))return y.kg.debug("[ChatInput] Supressing chat message send. Input failed to pass validation.",{hasSendableInput:t,value:this.state.value}),[2];if(this.state.isSendingBits)return y.kg.debug("[ChatInput] Supressing chat message send. Bits spending is still in progress."),[2];if(this.props.isEmbedded&&(this.props.isCurrentUserModerator||(null===(c=null===(u=this.props.data)||void 0===u?void 0:u.currentUser)||void 0===c?void 0:c.isPartner))){if(!this.hasSeenConfirmationPrompt)return this.confirmEmbedAction(e),[2];if(!this.hasAllowedInEmbed)return[2]}return this.resetAndUpdateRenderSentChatMessageEvent(),this.state.value.split(/\s+/).forEach((function(e){k.props.emoteMap&&k.props.emoteMap.hasOwnProperty(e)&&(0,Zn.nx)(k.props.emoteMap[e])})),this.props.data&&this.props.data.currentUser?Fi(this.state.value)?(this.sendRegularMessage(e),[2]):(a=(0,Le.j7)(this.state.messageCheers),r=(0,he.GW)(),0===a.total?(this.sendRegularMessage(e),this.state.messageCheers.length&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.ZeroBits),[2]):this.props.data.channel?this.props.data.channel.cheer?this.props.data.channel.cheer.settings?(null===(m=this.props.activeTray)||void 0===m?void 0:m.disableBits)?(y.kg.warn("[Chat Input] Bits are disabled due to an input tray."),[2]):this.props.bitsConfig?(this.state.bitsCardError&&(this.onSendCheerWhenSendDisabled(),this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.BitsCardDisabled)),(o=(0,Le.ri)({messageBits:a,balance:this.props.data.currentUser.bitsBalance||0,cheerMinimumBits:this.props.data.channel.cheer.settings.cheerMinimumBits,emoteMinimumBits:this.props.data.channel.cheer.settings.emoteMinimumBits,inputValue:this.state.value,bitsConfig:this.props.bitsConfig})).canSpend?this.props.sendCheer?(this.setState({isSendingBits:!0}),a.total>=T.SY&&(0,T.RJ)(this.props.channelID)===T.Vq.None?[4,new Promise((function(e){var n=setTimeout(e,T.BJ.UNDO_PROMPT_DURATION),t=function(t){void 0===t&&(t=!1),clearTimeout(n),k.cancelDelayedSend=null,k.confirmDelayedSend=null,e(t)};k.cancelDelayedSend=function(){return t(!0)},k.confirmDelayedSend=function(){return t(!1)}}))]:[3,10]):(y.kg.warn("[Chat Input] No GraphQL mutation for sending cheers attached."),[2]):(y.kg.warn("[Chat Input] Spending bits forbidden.",o),o.cheerAboveMaxBitsPerEmote&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.AboveMaxEmote),o.totalAboveBalance&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.BitsUnavailable),o.totalBelowCheerMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.BelowMin),o.totalBelowEmoteMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.BelowMinEmote),o.inputLongerThanMaxBitsMessage&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.InputAboveMaxLength),o.inputStartsWithCommand&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.InputCommandStart),o.cheerContainsInvalidDisplayOnlyCheermotes&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.InvalidBitsMessage),[2])):(y.kg.warn("[Chat Input] Bits Config is undefined"),this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.MissingBitsConfig),[2]):(y.kg.warn("[Chat Input] Cheer Settings are undefined."),[2]):(y.kg.warn("[Chat Input] Cheer is null."),[2]):(y.kg.warn("[Chat Input] User is null."),[2])):(this.sendRegularMessage(e),[2]);case 9:if(i.sent())return this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.Canceled),this.setState({isSendingBits:!1}),null===(p=this.chatInputRef)||void 0===p||p.focus(),[2];i.label=10;case 10:return i.trys.push([10,12,,13]),s={id:r,targetID:this.props.channelID,bits:a.total,content:this.state.value,isAutoModEnabled:!0,shouldCheerAnyway:this.props.forceSendCheer,isAnonymous:this.state.isAnonymousCheer,imageID:this.state.imageID?this.state.imageID:null},this.props.clearBitsSendError(),[4,this.props.sendCheer({variables:{input:s}})];case 11:return(l=i.sent()).data.sendCheer&&l.data.sendCheer.validationError?(this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,l.data.sendCheer.validationError),this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,(0,Qn.n7)(l.data.sendCheer.validationError.code)),this.props.setBitsCardOpenState(!1),this.setState({isSendingBits:!1,bitsCardError:l.data.sendCheer.validationError.code}),this.props.clearMenus(),null===(h=this.chatInputRef)||void 0===h||h.focus(),[2]):[3,13];case 12:return i.sent(),this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,{code:N.vqW.UNKNOWN}),this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Hn.Z6.Unknown),this.setState({isSendingBits:!1,bitsCardError:N.vqW.UNKNOWN}),null===(f=this.chatInputRef)||void 0===f||f.focus(),[2];case 13:return this.props.onSendCheerSuccess(),this.trackCheerEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer),this.props.setBitsCardOpenState(!1),this.setState({isSendingBits:!1,bitsCardError:void 0,imageID:void 0}),this.props.clearMenus(),null===(g=this.chatInputRef)||void 0===g||g.focus(),null===(v=this.autocompleteInputRef)||void 0===v||v.setValue(""),[2]}}))}))},t.onEmotePickerToggle=function(){t.props.isShowingEmotePicker?t.props.closeEmotePicker():(t.props.clearMenus(),t.props.showEmotePicker())},t.onEmotePickerButtonClick=function(){var e;y.UO.track(ve.N.EmotePickerButtonClick,{user_id:null===(e=t.props.data)||void 0===e?void 0:e.currentUser,channel_id:t.props.channelID}),t.onEmotePickerToggle()},t.onClickOut=function(){t.props.closeEmotePicker(),t.props.setBitsCardOpenState(!1),t.setState({imageID:void 0})},t.onBitsIconClick=function(){t.props.bitsCardOpen?(t.props.setBitsCardOpenState(!1),t.trackBitsCardInteraction(Fe.OL.CloseCard),t.setState({imageID:void 0})):(t.props.setBitsCardOpenState(!0),t.trackBitsCardInteraction(Fe.OL.OpenCard)),t.props.isShowingEmotePicker&&t.props.closeEmotePicker()},t.onBitsClose=function(){t.props.bitsCardOpen&&t.closeBitsCard(),t.trackBitsCardInteraction(Fe.OL.CloseCard)},t.closeBitsCard=function(){t.props.setBitsCardOpenState(!1),t.setState({imageID:void 0}),t.props.clearMenus()},t.onClickToken=function(e){t.autocompleteInputRef&&t.autocompleteInputRef.setValue((0,$n.A)(t.state.value,e))},t.onClickImageCheer=function(e){t.setState({imageID:e})},t.onEmotePickerDataLoaded=function(e){e&&t.setState({showEmotePickerButton:!0})},t.trackChatEvent=function(e,n,i){var a,r=(null===(a=t.props.activeTray)||void 0===a?void 0:a.type)===Vn.v4.Reply,o=r&&void 0!==t.state.replyToList;(0,Qn.iH)({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin,emotePickerSessionID:e,isHostMode:t.props.isHostMode,player:t.props.isPopout?Hn.iv.Embed:Hn.iv.Web,subOnlyMode:t.props.subsOnlyMode,viewerContext:t.props.viewerContext,sendAction:n,isKeyboardShortcutUsed:o,isReply:r,chantID:i})},t.trackCheerEvent=function(e,n,i,a,r){(0,Qn.I4)({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin,emotePickerSessionID:e,isAnonymousCheer:r,isHostMode:t.props.isHostMode,player:t.props.isPopout?Hn.iv.Embed:Hn.iv.Web,subOnlyMode:t.props.subsOnlyMode,viewerContext:t.props.viewerContext,bitsValue:n,cheermote:i,transactionID:a})},t.trackCheerErrorEvent=function(e,n,i,a,r,o){(0,Qn.Bs)({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin,emotePickerSessionID:e,isHostMode:t.props.isHostMode,isAnonymousCheer:r,player:t.props.isPopout?Hn.iv.Embed:Hn.iv.Web,subOnlyMode:t.props.subsOnlyMode,viewerContext:t.props.viewerContext,bitsValue:n,cheermote:i,transactionID:a,errorType:o})},t.trackBitsCardInteraction=function(e,n){t.setState((function(n){var t;switch(e){case Fe.OL.BuyMain:t=(0,he.GW)();break;case Fe.OL.CloseCard:case Fe.OL.CloseBuy:t=void 0;break;default:t=n.bitsCheckoutId}return{bitsTrackingId:e===Fe.OL.OpenCard||e===Fe.OL.OpenCardViaCheering?(0,he.GW)():n.bitsTrackingId,bitsCheckoutId:t}}),(function(){var i={actionName:e,actionType:n&&n.actionType,trackingId:t.state.bitsTrackingId,checkoutId:t.state.bitsCheckoutId,emoteType:n&&n.emoteType,emoteLevel:n&&n.emoteLevel,location:n&&n.location,displayedBalance:t.props.data&&t.props.data.currentUser&&t.props.data.currentUser.bitsBalance||0,bitsCardError:n&&n.bitsCardError,channelId:t.props.data&&t.props.data.channel&&t.props.data.channel.id||"",userId:t.props.data&&t.props.data.currentUser&&t.props.data.currentUser.id||""};(0,Fe.CA)(i)}))},t.resetAndUpdateRenderSentChatMessageEvent=function(){t.props.latencyTracking.resetCustomEvents(ye.zO.Chat);var e=t.props.latencyTracking.registerCustomEvent({benchmark:400,group:ye.zO.Chat,key:ye.zU.ChatRenderSent,label:ye.fF.RenderSent,start:ye.Yo.Registration});t.props.updateRenderSentChatMessageEvent(e)},t.getUserBanStatus=function(){var e,n,i;return(null===(i=null===(n=null===(e=t.props.data)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.self)||void 0===i?void 0:i.banStatus)||null},t.onRestrictionsUpdate=function(){var e=[],n=0,i=0;if(t.props.chatRestrictionsAPI){var a=t.props.chatRestrictionsAPI.getRestrictions();a&&a.length>0&&(e=a,n=t.props.chatRestrictionsAPI.getRemainingSlowModeSeconds(),i=t.props.chatRestrictionsAPI.getRemainingFollowSeconds())}t.setState({chatRestrictedReasons:e,slowModeSecondsRemaining:n,followSecondsRemaining:i})},t.disableChatConditions=function(){var e;if(t.bypassDisable)return!1;var n=Ii(t.getUserBanStatus());if(!t.bypassRestrictionDisable&&t.state.chatRestrictedReasons.length&&!t.hasHandledChatRestrictions()||t.props.chatConnectionState!==_n.Tj.CONNECTED||n||(null===(e=t.props.activeTray)||void 0===e?void 0:e.disableChat))return!0;var i=y.tO.get("chat_rules_shown",{});return t.props.chatRules&&!i[t.props.channelLogin]&&t.props.isShowingChatRules},t.registerSendMessageErrorCheck=function(e,n){t.sendMessageErrorChecks[n]||(t.sendMessageErrorChecks[n]=e)},t.unregisterSendMessageErrorCheck=function(e){t.sendMessageErrorChecks[e]&&delete t.sendMessageErrorChecks[e]},t.setReplyToList=function(e){t.setState({replyToList:e})},t.clearReplyToList=function(){t.setState({replyToList:void 0})},t.setSnapshot=function(e){t.chatInputValueSnapshot=e},t.storePendingMessage=function(){y.tO.set(Bi,t.state.value)},t.state={hasInteracted:!1,hasSeenAndRejectedEmbedPrompt:!1,numInputRows:1,isSendingBits:!1,messageCheers:[],showBuyBits:!1,showEmotePickerButton:!!n.authToken,value:"",chatRestrictedReasons:[],slowModeSecondsRemaining:0,followSecondsRemaining:0,isAnonymousCheer:!1,bitsTrackingId:(0,he.GW)(),imageID:void 0},t}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"bypassDisable",{get:function(){return Fi(this.state.value)||Ui(this.state.messageCheers)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bypassRestrictionDisable",{get:function(){var e=this.props.activeTray;return!(!(null==e?void 0:e.ignoredRestrictions)||this.state.chatRestrictedReasons.find((function(n){return!e.ignoredRestrictions.has(n)})))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ignoreSlowMode",{get:function(){var e,n;return null===(n=null===(e=this.props.activeTray)||void 0===e?void 0:e.ignoredRestrictions)||void 0===n?void 0:n.has(N.D5M.SLOW_MODE)},enumerable:!0,configurable:!0}),n.prototype.componentDidMount=function(){this.getPendingMessage()&&this.restorePendingMessage(),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate),this.updateTrayValues()},n.prototype.componentDidUpdate=function(e){this.props.forceSendCheer&&this.onMessageSend(Hn.zz.Click),e.chatRestrictionsAPI!==this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate)),this.updateTrayValues(e)},n.prototype.componentWillUnmount=function(){this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate)},n.prototype.render=function(){var e,n,t,i,r,s,l,m,p=this.getUserBanStatus(),h=Ti(p),g=Ii(p);if(h)return o.createElement(Di,{timeoutExpiry:Pi(p),reason:null==p?void 0:p.reason,renderButtonContainer:this.renderButtonContainer,refetchTimeoutState:this.refetchTimeoutState});if(this.state.hasSeenAndRejectedEmbedPrompt)return o.createElement(d.A,{className:"chat-input",display:this.props.hidden?u.sS.Hide:u.sS.Block,padding:{x:2,bottom:2}},o.createElement(c.V,{"data-test-selector":"chat-embed-denied-text"},(0,y.wv)("You rejected the prompt to send messages in this embedded version of Twitch Chat. If this was done in error, please refresh the page.","ChatInput")),this.renderButtonContainer(!0,null));var v=[];this.props.enableBitsInput&&this.props.bitsEnabled&&!(null===(e=this.props.activeTray)||void 0===e?void 0:e.disableBits)&&v.push(o.createElement(Re,{buttonDisabled:g,key:"bits",onClick:this.onBitsIconClick,channelID:this.props.channelID})),this.state.showEmotePickerButton&&v.push(o.createElement(Kn.Y,{key:"emote-picker",onClick:this.onEmotePickerButtonClick,buttonDisabled:g,isActive:this.props.isShowingEmotePicker}));var k=null;(this.props.isEmotePickerLoaded||this.state.hasInteracted)&&(k=o.createElement(Gi,{channelOwnerID:this.props.channelID,emotePickerSource:Xn.VT.Chat,onClickClose:this.onEmotePickerToggle,onClickToken:this.onClickToken,onLoad:this.onEmotePickerDataLoaded,toggleVisibility:this.onEmotePickerToggle,visible:this.props.isShowingEmotePicker&&!this.props.isShowingChatRules,size:oe.Kn.Auto,direction:se.O.TopRight,hasMenuOpened:this.props.hasOpenedEmotePicker}));var S=o.createElement(Te,{priority:B.T.Later});(this.props.firstPageLoaded||this.state.hasInteracted)&&this.props.enableBitsInput&&this.props.bitsEnabled&&!(null===(n=this.props.activeTray)||void 0===n?void 0:n.disableBits)&&!(0,ut.Ny)(this.props.activeTray)&&(S=o.createElement(Ie,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,trackingID:this.state.bitsTrackingId,checkoutID:this.state.bitsCheckoutId,currentCheers:this.state.messageCheers,isSending:this.state.isSendingBits,isStaff:this.props.isStaff,isAnonymous:this.state.isAnonymousCheer,onCancelSend:this.cancelDelayedSend,onClickCheermote:this.onClickToken,onClickImageCheer:this.onClickImageCheer,onConfirmSend:this.confirmDelayedSend,onUserClose:this.onBitsClose,trackBitsCardInteraction:this.trackBitsCardInteraction,visible:!!this.props.bitsCardOpen&&!this.props.isShowingChatRules,cheerMessageAutoModded:this.props.isTextInputDisabled,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,chatMessage:this.state.value,onCheerInvalid:this.onCheerInvalid,onAnonymousToggle:this.onAnonymousCheerToggle}));var C=null;(null===(t=this.props.activeTray)||void 0===t?void 0:t.disableCommands)||(C=o.createElement(cn,{isCurrentUserEditor:this.props.isCurrentUserEditor,permissionLevel:this.props.commandPermissionLevel}));var b=null;this.props.moderatedMessageParts&&this.props.moderatedMessageParts.length>0&&(b=o.createElement(xn,{moderatedReason:this.props.moderatedReason,moderatedMessageParts:this.props.moderatedMessageParts}));var w=null;if(this.state.chatRestrictedReasons[0]===N.D5M.SLOW_MODE&&!this.ignoreSlowMode){var E=(0,ce.LU)(this.state.slowModeSecondsRemaining,ce.$0.HumanizedShort);w=(0,y.wv)("You can chat in {duration}",{duration:E},"ChatInput")}var _=this.disableChatConditions(),D=a({"chat-input__textarea":!0,"chat-input__textarea--error":(0,ut.WX)(this.props.activeTray)||(0,ut.Br)(this.props.activeTray)}),M=void 0;M=(null===(i=this.props.activeTray)||void 0===i?void 0:i.type)===Vn.v4.ShareResub?255:500;var I=o.createElement(d.A,{className:D},o.createElement(It,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.currentUserID,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:this.props.useHighContrastColors,setInputValue:this.onMessageValueUpdate,setReplyToList:this.setReplyToList,clearReplyToList:this.clearReplyToList,closeKeyboardReplyTray:this.closeKeyboardReplyTray,closeCard:this.closeBitsCard,componentRefDelegate:this.setLocalChatInputRef,componentType:Se.Kc.TextAreaComponent,containerElement:this.props.containerElement,"data-a-target":Oi,"data-test-selector":Oi,disabled:this.state.isSendingBits||this.props.isTextInputDisabled||this.props.isShowingChatRules||g,htmlAutocomplete:"twitch-chat",maxLength:M,noResize:!0,onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,onValueUpdate:this.onMessageValueUpdate,paddingLeft:this.props.data&&this.props.data.currentUser&&(0,jn.R)(this.props.inputSource)?38:0,paddingRight:30*v.length+5,placeholder:this.getSendMessagePlaceholder(),refDelegate:this.setLocalAutocompleteInputRef,rows:this.state.numInputRows,suggestionSource:Ce.p.Chat,setTray:this.props.setTray,setModifierTray:this.props.setModifierTray,clearModifierTray:this.props.clearModifierTray,tray:this.props.activeTray},o.createElement(be.O,{emotes:this.props.emotes}),o.createElement(En,{channelID:this.props.channelID,currentUserLogin:this.props.currentUserLogin,showReplyPrompt:(null===(r=this.props.tray)||void 0===r?void 0:r.type)!==Vn.v4.Reply}),C),this.props.channelID&&0!==this.props.badgeSets.count&&(0,jn.R)(this.props.inputSource)&&o.createElement(d.A,{className:"chat-input__badge-carousel",position:u.Ly.Absolute,attachLeft:!0,attachTop:!0},o.createElement(Wi,{authToken:this.props.authToken,broadcasterID:this.props.channelID,badgeSets:this.props.badgeSets,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,containerElement:this.props.containerElement,darkModeEnabled:this.props.darkModeEnabled,inputSource:this.props.inputSource,onChatCommand:this.onChatCommand,canSubscribe:this.props.canSubscribe})),o.createElement(d.A,{position:u.Ly.Absolute,attachRight:!0,attachBottom:!0},o.createElement(d.A,{className:"chat-input__input-icons"},v)),this.renderSlowModeProgressBar());I=o.createElement(Pt,null,I);var T=o.createElement(qi,{authToken:this.props.authToken,badgeSets:this.props.badgeSets,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,emoteTokenMap:this.props.emoteMap,onPushMessage:this.props.onPushMessage,trackChatEvent:this.trackChatEvent}),P=[];P.push(o.createElement(st,{key:"char-limit-handler",inputValue:this.state.value,maxLength:500})),this.props.isCurrentUserModerator||this.props.isCurrentUserVIP||(P.push(o.createElement(hi,{key:"dupe-message-handler",inputValue:this.state.value,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck})),P.push(o.createElement(Ei,{key:"throughput-handler",registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck})));return o.createElement(d.A,{className:"chat-input",display:this.props.hidden?u.sS.Hide:u.sS.Block,padding:{x:1,bottom:1}},this.props.isShowingChatRules&&this.renderChatRules(),b,this.props.isPrivateCalloutsLoaded&&T,P,o.createElement(ci,{userID:null===(l=null===(s=this.props.data)||void 0===s?void 0:s.currentUser)||void 0===l?void 0:l.id,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,emoteOnlyMode:this.props.emoteOnlyMode,chatRestrictions:this.state.chatRestrictedReasons,ignoredRestrictions:null===(m=this.props.activeTray)||void 0===m?void 0:m.ignoredRestrictions,slowModeSecondsRemaining:this.state.slowModeSecondsRemaining,followSecondsRemaining:this.state.followSecondsRemaining,emotes:this.props.emotes,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck}),o.createElement(le.c,{onClickOut:this.onClickOut},o.createElement(f.o,{display:this.props.moderatedMessageParts?u.sS.Hide:u.sS.Block,position:u.Ly.Relative,zIndex:u.KN.Default},o.createElement("div",{onMouseEnter:this.onMouseEnterInput},k,S,I)),this.renderButtonContainer(_,w)))},n.prototype.updateTrayValues=function(e){var n,t,i,a,r;void 0===e&&(e={});var o=this.props,s=o.tray,l=o.modifierTray;!e.tray&&s?(this.setSnapshot(this.state.value),null===(n=this.autocompleteInputRef)||void 0===n||n.setValue(s.inputValue||""),null===(t=this.chatInputRef)||void 0===t||t.focus()):e.tray&&!s&&(null===(i=this.autocompleteInputRef)||void 0===i||i.setValue(this.chatInputValueSnapshot),this.setSnapshot(""),null===(a=this.chatInputRef)||void 0===a||a.focus()),!e.modifierTray&&(null==l?void 0:l.inputValue)&&(null===(r=this.autocompleteInputRef)||void 0===r||r.setValue(l.inputValue))},n.prototype.advanceReplyTray=function(e,n){this.state.replyToList&&((e?this.state.replyToList.setEarlier():this.state.replyToList.setLater())?kt(this.state.replyToList,{setTray:this.props.setTray,setInputValue:this.onMessageValueUpdate,clearReplyToList:this.clearReplyToList,closeKeyboardReplyTray:this.closeKeyboardReplyTray,badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.currentUserID,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:this.props.useHighContrastColors}):null==n||n())},n.prototype.sendRegularMessage=function(e){var n,t,i;if(this.props.onSendMessage){var a=(0,Je.lY)(this.state.value);if(a&&!y.tO.get(Bn,!1)&&!this.props.hideOnboardingPrompts)return this.props.setBitsCardOpenState(!1),this.setState({imageID:void 0}),this.trackChatEvent(this.props.emotePickerSessionID,e),this.autocompleteInputRef&&this.autocompleteInputRef.setValue(""),void this.props.openRaidUpsellFromHost(a.recipientLogin);if(!this.props.isCurrentUserModerator&&!this.props.isCurrentUserVIP&&!Fi(this.state.value)){for(var r=0,o=Object.keys(this.sendMessageErrorChecks);r<o.length;r++){var s=o[r];if(this.sendMessageErrorChecks[s].check(this.state.value))return}for(var l=0,d=Object.keys(this.sendMessageErrorChecks);l<d.length;l++){s=d[l];this.sendMessageErrorChecks[s].onMessageSent(this.state.value)}}var u=this.props.activeTray;this.props.onSendMessage(this.state.value,null===(n=null==u?void 0:u.sendMessageHandler)||void 0===n?void 0:n.additionalMetadata)&&(this.trackChatEvent(this.props.emotePickerSessionID,e),this.trackMentions(),(null===(t=null==u?void 0:u.sendMessageHandler)||void 0===t?void 0:t.type)===Vn.DB.Chat&&u.sendMessageHandler.onSuccess&&u.sendMessageHandler.onSuccess(this.state.value,u.sendMessageHandler.params),u&&this.props.clearTray(),this.clearReplyToList(),null===(i=this.autocompleteInputRef)||void 0===i||i.setValue(""),this.props.isShowingEmotePicker&&this.props.closeEmotePicker(),this.props.clearMenus(),this.props.setBitsCardOpenState(!1))}},n.prototype.handleLogin=function(){var e={onComplete:this.storePendingMessage,targetChannel:this.props.channelDisplayName,showContext:!0};this.props.login(e)},n.prototype.trackMentions=function(){var e;if(this.state.value&&this.props.sessionUser)for(var n,t,a=0,r=(0,me.SG)(this.state.value,{mentions:{senderLogin:this.props.sessionUser.login,sessionUser:this.props.sessionUser}});a<r.length;a++){var o=r[a];o.type===Gn.S.Mention&&o.content.currentUserMentionRelation!==qn.K.Recipient&&(n={channelLogin:this.props.channelLogin,isHostMode:this.props.isHostMode,mentionedUserDisplayName:o.content.recipient,userLogin:this.props.sessionUser.login,isReply:(null===(e=this.props.activeTray)||void 0===e?void 0:e.type)===Vn.v4.Reply},t=void 0,t=(0,i.__assign)((0,i.__assign)({},(0,Jn.A3)(n)),{mentioned_user_display_name:n.mentionedUserDisplayName,user:n.userLogin,is_reply:n.isReply}),y.UO.track(ve.N.ChatMentionUsed,t))}else y.kg.warn("[ChatInput] trackMentions was called in a nonsensical state.")},n.prototype.getPendingMessage=function(){return y.tO.get(Bi,"")},n.prototype.clearPendingMessage=function(){y.tO.set(Bi,"")},n.prototype.restorePendingMessage=function(){var e=this.getPendingMessage();e&&this.autocompleteInputRef&&(this.autocompleteInputRef.setValue(e),this.clearPendingMessage())},n.prototype.getSendMessagePlaceholder=function(){var e,n=Ii(this.getUserBanStatus()),t=(null===(e=this.props.activeTray)||void 0===e?void 0:e.type)===Vn.v4.Reply,i=t?(0,y.wv)("Send a reply","ChatInput"):(0,y.wv)("Send a message","ChatInput");this.state.replyToList&&(i="@"+this.state.replyToList.getCurrentMessage().user.userDisplayName);return n&&(i=(0,y.wv)("You've been banned from Chat","ChatInput")),this.props.slowMode&&!this.isSlowModeBannerEnabled&&(i=t?(0,y.wv)("Send a reply (chat is in slow mode)","ChatInput"):(0,y.wv)("Send a message (chat is in slow mode)","ChatInput")),i},n}(o.Component);var $i=(0,l.qC)((0,S.TA)(Mi,{name:"sendCheer"}),(0,S.TA)(nt,{skip:function(e){return!e.firstPageLoaded}}),(function(e){return function(n){var t=(0,O.D)(qi.getLoader(),B.T.Soon),a=(0,O.D)(Gi.getLoader(),B.T.Later),r=(0,O.D)(Hi.getLoader(),B.T.Soon);return o.createElement(e,(0,i.__assign)({},n,{isPrivateCalloutsLoaded:t,isEmotePickerLoaded:a,isRewardCenterLoaded:r}))}}),Wn.nl,fn.F_,(0,et.W)("ChatInput",{autoReportInteractive:!0}),(0,ie.$j)((function(e){return{emotePickerSessionID:e.chat.emotePickerSessionID,fontSizePreference:e.chat.fontSizePreference,showModerationIcons:e.chat.showModIcons,showTimestamps:e.chat.showTimestamps,sessionUser:(0,ke.PR)(e)}}),(function(e){return(0,l.DE)({login:function(e){return(0,ge.x4)(pe.sB.Chat,e)},updateRenderSentChatMessageEvent:He.Cs,showModal:fe.K4},e)})),(0,Nn.LI)((function(e){return{canSubscribe:e.canSubscribe,emoteOnlyMode:e.emoteOnlyMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}})),(0,We.Aq)((function(e){return{showModViewIngress:e.showModViewIngress,hideChatSettings:e.hideChatSettings,hideOnboardingPrompts:e.hideOnboardingPrompts,hideChatInputButtons:e.hideChatInputButtons}})),(0,it.WA)((function(e){return{setTray:function(n){return e((0,at.aT)(n))},clearTray:function(){return e((0,at.Rv)())},setModifierTray:function(n){return e((0,at.PH)(n))},clearModifierTray:function(){return e((0,at.zB)())}}})),(0,it.WY)((function(e){return{activeTray:e.activeInputTray,modifierTray:e.inputModifierTray,tray:e.inputTray}})),(0,At.LA)((function(e){return{setAutocompleteInputRef:e.setAutocompleteInputRef,setChatInputRef:e.setChatInputRef}})),(0,Rn.PQ)((function(e){return e})),(0,_n.EB)((function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}})),(0,$e.SZ)((function(e){return{closeChatRules:e.closeChatRules,closeEmotePicker:e.closeEmotePicker,hasOpenedEmotePicker:e.hasOpenedEmotePicker,isShowingChatRules:e.isShowingChatRules,isShowingEmotePicker:e.isShowingEmotePicker,showChatRules:e.showChatRules,showEmotePicker:e.showEmotePicker,clearMenus:e.clearMenus}})),(0,x.gc)((function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled,bitsCardOpen:e.bitsCardOpen,setBitsCardOpenState:e.setBitsCardOpenState}})),(0,An.PZ)((function(e){return{useHighContrastColors:e.value}})),(0,On.R2)((function(e){return{inputSource:e.page}})),(0,xe.Sf)((function(e){return{clearCalloutType:function(n){return e.clearCalloutType(n)}}})))(zi);var ji=t(270961),Yi=t(617063),Qi=t(349039),Ji=t(498409),Ki=t(763565);var Xi=t(805831),Zi=t(581248),ea=t(142441),na=(t(623956),t(985522)),ta=t(392271),ia=t(19205),aa=function(e){var n;if(e.isPausedByHover)n=(0,y.wv)("Chat paused due to mouseover.","ChatList");else if(e.isPausedByKey){var t=pn.U.os.isMacOS()?"option":"Alt";n=(0,y.wv)("Chat paused with the {pauseKey} key.",{pauseKey:t},"ChatList")}else n=(0,y.wv)("Chat paused due to scroll.","ChatList");return o.createElement(d.A,{attachBottom:!0,background:u.Aq.Overlay,borderRadius:re.c.Medium,className:"chat-paused-footer",margin:{bottom:1},position:u.Ly.Absolute},o.createElement(m.zx,{"data-a-target":"chat-list-footer",onClick:e.onClick,overlay:!0,type:m.L$.Text},n))};aa.displayName="ChatPausedFooter";var ra,oa=["scroll","wheel","mousewheel","DOMMouseScroll"],sa="alt";!function(e){e.MessageContainer="chat-scrollable-area__message-container"}(ra||(ra={}));var la,da=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isAutoScrolling:!0,isLoadingMore:!1,isPaused:!1,loadMoreEnabled:!0,hoverResumeTimer:null,keyboardResumeLock:!1},n.isScrolledToTop=!1,n.saveScrollRef=function(e){return n.scrollRef=e},n.handleScrollEvent=function(e){if(n.scrollRef&&n.scrollRef.scrollContent&&(e.which>0||"mousewheel"===e.type||"wheel"===e.type)){n.state.isPaused&&(n.clearHoverResumeTimer(),n.setKeyboardResumeLock(!1),n.setLoadMoreEnabled(!0));var t=n.scrollRef.scrollContent,i=t.scrollHeight,a=t.scrollTop,r=t.offsetHeight,o=i-a-r;n.state.isPaused&&o<=10&&!n.props.hasNewerLeft?n.resume():!n.state.isPaused&&o>10&&n.pause(),!n.isScrolledToTop&&0===a&&i>r&&n.props.channelID?(n.isScrolledToTop=!0,(0,Qn.QY)({channelID:n.props.channelID})):0!==a&&(n.isScrolledToTop=!1)}},n.handleResize=function(){n.state.isPaused||n.scrollToBottom()},n.loadNewer=function(){return new Promise((function(e){n.setState({isLoadingMore:!0},(function(){n.props.loadNewer(),n.setState({isLoadingMore:!1},e)}))}))},n.hoverPause=function(){var e=n.props,t=e.pauseSetting;e.mouseoverPausingDisabled||n.state.isPaused||t!==N.TIX.MOUSEOVER&&t!==N.TIX.MOUSEOVER_ALTKEY||(n.pause(),n.setLoadMoreEnabled(!1),n.setHoverResumeTimer())},n.hoverResume=function(){n.state.isPaused&&null!==n.state.hoverResumeTimer&&n.resume()},n.keyboardPause=function(){var e=n.props.pauseSetting;n.state.isPaused||e!==N.TIX.ALTKEY&&e!==N.TIX.MOUSEOVER_ALTKEY||(n.pause(),n.setLoadMoreEnabled(!1),n.setKeyboardResumeLock(!0))},n.keyboardResume=function(e){n.state.isPaused&&n.state.keyboardResumeLock&&(e.preventDefault(),n.resume(),n.setKeyboardResumeLock(!1))},n.pause=function(){n.setState({isPaused:!0},(function(){n.props.setPaused&&n.props.setPaused(!0)}))},n.resume=function(){n.props.loadNewest(),n.clearHoverResumeTimer(),n.setState({isPaused:!1},(function(){n.props.setPaused&&n.props.setPaused(!1)}))},n.setHoverResumeTimer=function(){null===n.state.hoverResumeTimer&&n.setState({hoverResumeTimer:setTimeout(n.resume,5e3)})},n.clearHoverResumeTimer=function(){n.state.hoverResumeTimer&&(clearTimeout(n.state.hoverResumeTimer),n.setState({hoverResumeTimer:null}))},n.setKeyboardResumeLock=function(e){n.state.keyboardResumeLock!==e&&n.setState({keyboardResumeLock:e})},n.setLoadMoreEnabled=function(e){n.state.loadMoreEnabled!==e&&n.setState({loadMoreEnabled:e})},n.scrollToBottom=function(){var e;(null===(e=n.scrollRef)||void 0===e?void 0:e.scrollContent)&&(n.scrollRef.scrollContent.scrollTop=n.scrollRef.scrollContent.scrollHeight)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this;ea.bindGlobal(sa,this.keyboardPause,"keydown"),ea.bindGlobal(sa,this.keyboardResume,"keyup"),oa.forEach((function(n){var t;(null===(t=e.scrollRef)||void 0===t?void 0:t.scrollContent)&&e.scrollRef.scrollContent.addEventListener(n,e.handleScrollEvent,{passive:!0})}))},n.prototype.componentWillUnmount=function(){var e=this;ea.unbind(sa,"keydown"),ea.unbind(sa,"keyup"),oa.forEach((function(n){var t;(null===(t=e.scrollRef)||void 0===t?void 0:t.scrollContent)&&e.scrollRef.scrollContent.removeEventListener(n,e.handleScrollEvent)}))},n.prototype.componentDidUpdate=function(e){this.props.messagesHash===e.messagesHash||this.state.isPaused||this.scrollToBottom()},n.prototype.render=function(){return o.createElement(f.o,{display:u.sS.Flex,flexDirection:u.Qb.Column,overflow:u.nP.Hidden,flexGrow:1},o.createElement("div",{onMouseEnter:this.hoverPause,onMouseLeave:this.hoverResume},o.createElement(na.r,{onResize:this.handleResize}),o.createElement(ta._q,{scrollRef:this.saveScrollRef,"data-a-target":"chat-scroller"},o.createElement(d.A,{className:"chat-scrollable-area__message-container","data-test-selector":ra.MessageContainer,flexGrow:1,padding:{bottom:1},role:"log"},this.props.children,this.props.hasNewerLeft&&o.createElement(ia.P6,{forceLoadMoreContent:!0,loadMore:this.loadNewer,pixelThreshold:400,orientation:ia.pz.Up,enabled:this.state.loadMoreEnabled,requestCap:2}))),this.state.isPaused&&o.createElement(aa,{isPausedByHover:!!this.state.hoverResumeTimer,isPausedByKey:this.state.keyboardResumeLock,onClick:this.resume})))},n}(o.Component),ua=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.reportChatRenderSent=function(){n.props.chatRenderSentEvent&&n.props.latencyTracking.reportCustomEvent(n.props.chatRenderSentEvent)},n.mapMessageToChatLine=function(e,t){return o.createElement(Zi.r,{badgeSets:n.props.badgeSets,channelID:n.props.channelID,channelLogin:n.props.channelLogin,isCurrentUserModerator:n.props.isCurrentUserModerator,isCurrentUserStaff:n.props.isCurrentUserStaff,message:e,key:e.id,replyRestrictedReason:n.props.replyRestrictedReason,showAutoModActions:n.props.showAutoModActions,showModerationActions:n.props.showModerationActions,showModerationIcons:n.props.showModerationIcons,showTimestamps:n.props.showTimestamps,useHighContrastColors:n.props.useHighContrastColors,deletedMessageDisplay:n.props.deletedMessageDisplay,currentUserDisplayName:n.props.currentUserDisplayName,currentUserLogin:n.props.currentUserLogin,currentUserID:n.props.userID,confirmModerationAction:n.props.confirmModerationAction,theme:n.props.theme,onRenderReportChatSent:n.reportChatRenderSent,messageIndex:t,hideBroadcasterTooltip:n.props.isWatchPartyActive,primaryColorHex:n.props.primaryColorHex,repliesAppearancePreference:n.props.repliesAppearancePreference})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.messages.map(this.mapMessageToChatLine),t=a(e.fontScaleClassName,{"chat-list--default":e.fontSizePreference===Ai.h5.Default,"chat-list--other":e.fontSizePreference!==Ai.h5.Default});return o.createElement(f.o,{className:t,display:u.sS.Flex,flexDirection:u.Qb.Column,flexGrow:1,overflow:u.nP.Hidden},o.createElement("div",{ref:e.containerRef},o.createElement(da,{channelID:e.channelID,pauseSetting:e.chatPauseSetting,hasNewerLeft:e.hasNewerLeft,loadNewer:e.loadNewer,loadNewest:e.loadNewest,messagesHash:e.messages,mouseoverPausingDisabled:e.isShowingCommunityHighlightList,setPaused:e.setPaused},n)))},n}(o.Component),ca=(0,et.W)("ChatListPresentation",{autoReportInteractive:!0})(ua),ma=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={messages:[],replyRestrictedReason:null},n.onRestrictionsUpdate=function(){var e,t=((null===(e=n.props.chatRestrictionsAPI)||void 0===e?void 0:e.getRestrictions())||[])[0]||null;t!==N.D5M.SLOW_MODE&&n.setState({replyRestrictedReason:t})},n.onBufferUpdate=function(){n.syncBufferHandle||(n.syncBufferHandle=setTimeout(n.syncBufferedMessages,0))},n.syncBufferedMessages=function(){n.props.messageBufferAPI&&n.setState({messages:n.props.messageBufferAPI.getMessages()}),n.clearBufferHandle()},n.clearBufferHandle=function(){n.syncBufferHandle&&(clearTimeout(n.syncBufferHandle),n.syncBufferHandle=0)},n.hasNewerLeft=function(){return n.props.messageBufferAPI&&n.props.messageBufferAPI.hasNewerLeft&&n.props.messageBufferAPI.hasNewerLeft()||!1},n.setPaused=function(e){n.props.messageBufferAPI&&n.props.messageBufferAPI.setPaused&&n.props.messageBufferAPI.setPaused(e)},n.loadNewer=function(){n.props.messageBufferAPI&&n.props.messageBufferAPI.loadNewer&&n.props.messageBufferAPI.loadNewer()},n.loadNewest=function(){n.props.messageBufferAPI&&n.props.messageBufferAPI.loadNewest&&n.props.messageBufferAPI.loadNewest()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e;this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()})),null===(e=this.props.chatRestrictionsAPI)||void 0===e||e.addUpdateHandler(this.onRestrictionsUpdate)},n.prototype.componentDidUpdate=function(e){var n,t,i,a,r,o=this.props.pubsub.messages,s=o.chatRichEmbedInfo,l=o.extensionMessage;s&&e.pubsub.messages.chatRichEmbedInfo!==s&&y.$6.apollo.client.writeQuery({query:Qi,variables:{slug:s.data.twitch_metadata.clip_metadata.slug},data:(i=s,a=i.data.twitch_metadata.clip_metadata,{clip:a.id?{__typename:"Clip",slug:a.slug,id:a.id,url:i.data.request_url,title:i.data.title,thumbnailURL:i.data.thumbnail_url,curator:a.curator_id?{displayName:i.data.author_name,id:a.curator_id,__typename:"User"}:null,broadcaster:a.channel_display_name?{displayName:a.channel_display_name,id:a.broadcaster_id,__typename:"User"}:null}:null})}),e.messageBufferAPI!==this.props.messageBufferAPI&&(e.messageBufferAPI&&e.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()}))),e.chatRestrictionsAPI!==this.props.chatRestrictionsAPI&&(null===(n=e.chatRestrictionsAPI)||void 0===n||n.removeUpdateHandler(this.onRestrictionsUpdate),null===(t=this.props.chatRestrictionsAPI)||void 0===t||t.addUpdateHandler(this.onRestrictionsUpdate)),l&&e.pubsub.messages.extensionMessage!==l&&e.onPushMessage((r=l.data,{type:Ji.SJ.ExtensionMessage,id:r.id,sentAt:r.sent_at,extension:{clientID:r.sender.extension_client_id,version:r.sender.extension_version,displayName:r.sender.display_name,displayBadges:(0,Ki.tv)(r.sender.badges),chatColor:r.sender.chat_color},content:{text:r.content.text,fragments:(0,Ki.Qb)(r.content.fragments)}}))},n.prototype.componentWillUnmount=function(){var e,n;null===(e=this.props.messageBufferAPI)||void 0===e||e.removeUpdateHandler(this.onBufferUpdate),null===(n=this.props.chatRestrictionsAPI)||void 0===n||n.removeUpdateHandler(this.onRestrictionsUpdate),this.clearBufferHandle()},n.prototype.render=function(){return o.createElement(ca,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatPauseSetting:this.props.chatPauseSetting,chatRenderSentEvent:this.props.chatRenderSentEvent,confirmModerationAction:this.props.confirmModerationAction,containerRef:this.props.containerRef,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,deletedMessageDisplay:this.props.deletedMessageDisplay,fontScaleClassName:this.props.fontScaleClassName,fontSizePreference:this.props.fontSizePreference,hasNewerLeft:this.hasNewerLeft(),isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isEmbedded:this.props.isEmbedded,loadNewer:this.loadNewer,loadNewest:this.loadNewest,messages:this.state.messages,onPushMessage:this.props.onPushMessage,replyRestrictedReason:this.state.replyRestrictedReason,setChatPauseSetting:this.props.setChatPauseSetting,setPaused:this.props.messageBufferAPI&&this.props.messageBufferAPI.setPaused&&this.setPaused,showAutoModActions:this.props.showAutoModActions,showModerationActions:this.props.showModerationActions,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,theme:this.props.theme,useHighContrastColors:this.props.useHighContrastColors,isShowingCommunityHighlightList:this.props.isShowingCommunityHighlightList,userID:this.props.userID,primaryColorHex:this.props.primaryColorHex,repliesAppearancePreference:this.props.repliesAppearancePreference})},n}(o.Component);var pa=(0,l.qC)((0,ie.$j)((function(e){return{chatRenderSentEvent:(0,Xi.wO)(e),fontSizePreference:e.chat.fontSizePreference,showAutoModActions:e.chat.showAutoModActions,showModerationActions:e.chat.showModerationActions,showModerationIcons:e.chat.showModIcons,showTimestamps:e.chat.showTimestamps,repliesAppearancePreference:e.chat.repliesAppearancePreference}})),(0,ji.k)([{skip:function(e){return!e.channelID},topic:function(e){return e.channelID?(0,_.BP)(e.channelID):""},mapMessageTypesToProps:(la={},la[b.qU.StreamChatRoomChatRichEmbed]="chatRichEmbedInfo",la[b.qU.StreamChatRoomExtensionMessage]="extensionMessage",la)}]),Wn.nl,fn.F_,(0,An.PZ)((function(e){return{useHighContrastColors:e.value}})),(0,je.jP)((function(e){return{deletedMessageDisplay:e.value}})),(0,Yi.ho)(Yi.Zm),(0,en.T_)((function(e){return{isWatchPartyActive:e.isWatchPartyActive}})),(0,ee.ox)((function(e){return{isShowingCommunityHighlightList:e.listAllView}})),(0,Nt.M)())(ma),ha=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.hideOnboardingPrompts?null:o.createElement(o.Fragment,null,this.props.children)},n}(o.Component);var fa,ga=(0,We.Aq)((function(e){return{hideOnboardingPrompts:e.hideOnboardingPrompts}}))(ha),va=t(51643);function ya(e){Ca(ve.N.RaidUpsellClick,(0,i.__assign)((0,i.__assign)({},e),{action:fa.Host}))}function ka(e){Ca(ve.N.RaidUpsellClick,(0,i.__assign)((0,i.__assign)({},e),{action:fa.Raid}))}function Sa(e){Ca(ve.N.RaidUpsellClick,(0,i.__assign)((0,i.__assign)({},e),{action:fa.Dismiss}))}function Ca(e,n){var t=n.action?{action:n.action}:{},a=(0,i.__assign)({raid_upsell_source_id:Number(n.sourceChannelID),raid_upsell_target_id:Number(n.targetChannelID)},t);y.UO.track(e,a)}!function(e){e.Host="host",e.Raid="raid",e.Dismiss="dismiss"}(fa||(fa={}));var ba={"data-test-selector":"dismiss"},wa=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleDismissUpsell=function(){Sa({sourceChannelID:n.props.data.sourceChannel.id,targetChannelID:n.props.data.targetChannel.id}),n.props.closeRaidUpsell()},n.handleSendHostMsgFromUpsell=function(){ya({sourceChannelID:n.props.data.sourceChannel.id,targetChannelID:n.props.data.targetChannel.id}),n.handleSendHostMsg()},n.handleSendHostMsg=function(){n.props.send("/host "+n.props.targetChannelLogin),n.props.closeRaidUpsell()},n.handleSendRaidMsg=function(){ka({sourceChannelID:n.props.data.sourceChannel.id,targetChannelID:n.props.data.targetChannel.id}),n.props.send("/raid "+n.props.targetChannelLogin),n.props.closeRaidUpsell()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.data.refetch()},n.prototype.componentDidUpdate=function(e){if(e.data.loading!==this.props.data.loading&&!this.props.data.loading){if(!this.channelDisplayName||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf)return this.handleSendHostMsg();n={sourceChannelID:this.props.data.sourceChannel.id,targetChannelID:this.props.data.targetChannel.id},Ca(ve.N.RaidUpsellImpression,n),y.tO.set(Bn,!0)}var n},n.prototype.render=function(){var e=this.props.data.loading,n=this.channelDisplayName;return e||!n||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf?null:o.createElement(d.A,{className:"raid-upsell-prompt",padding:1,margin:{x:2}},o.createElement(d.A,{display:u.sS.Flex,justifyContent:u.uM.Between},o.createElement(d.A,{display:u.sS.Flex},o.createElement(d.A,{className:"raid-upsell-prompt__notification",margin:{top:.5}},o.createElement(L.W,{asset:h.e.NotificationInfo})),o.createElement(d.A,{margin:{x:1}},o.createElement(c.V,{type:M.yG.H6,bold:!0},(0,y.wv)("How about raiding {channelDisplayName}?",{channelDisplayName:n},"RaidUpsellPrompt")),o.createElement(c.V,{type:M.yG.P,color:u.Il.Alt2},(0,y.wv)("Now you can raid whenever you want instead of waiting 30 seconds.","RaidUpsellPrompt")))),o.createElement(d.A,{color:u.Il.OverlayAlt},o.createElement(p.Ei,(0,i.__assign)({},ba,{icon:h.e.Close,size:p.hp.Small,"aria-label":(0,y.wv)("Dismiss","RaidUpsellPrompt"),onClick:this.handleDismissUpsell})))),o.createElement(Ea,{onSendHostMsg:this.handleSendHostMsgFromUpsell,onSendRaidMsg:this.handleSendRaidMsg}))},Object.defineProperty(n.prototype,"channelDisplayName",{get:function(){var e=this.props.data.targetChannel;return e&&e.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isViewersCountWithinRange",{get:function(){var e=this.props.data.sourceChannel,n=e&&e.stream&&e.stream.viewersCount;return n&&n>=3&&n<1e5},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAttemptingToHostSelf",{get:function(){return this.props.targetChannelLogin===this.props.sourceChannelLogin},enumerable:!0,configurable:!0}),n}(o.Component),Ea=function(e){return o.createElement(d.A,{display:u.sS.Flex,justifyContent:u.uM.End,margin:{top:1}},o.createElement(d.A,{margin:{right:1}},o.createElement(m.zx,{type:m.L$.Secondary,size:m.qE.Small,onClick:e.onSendHostMsg},o.createElement(d.A,{padding:{x:2}},(0,y.wv)("Host","RaidUpsellPrompt")))),o.createElement(d.A,null,o.createElement(m.zx,{size:m.qE.Small,onClick:e.onSendRaidMsg},o.createElement(d.A,{padding:{x:2}},(0,y.wv)("Raid","RaidUpsellPrompt")))))},_a=(0,S.TA)(va,{options:function(e){return{variables:{targetChannelLogin:e.targetChannelLogin,sourceChannelLogin:e.sourceChannelLogin}}}})(wa),Na=t(255687),Da=t(794562),Ma=t(31180),Ia=t(667346),Ta=t(426494),Pa=t(73732),Ra=t(190109),Aa="close-viewer-card",La=function(e){function n(n){var i=e.call(this,n)||this;return i.ViewerCard=k.P.wrap((function(){return Promise.all([t.e(54736),t.e(52132)]).then(t.bind(t,780683))}),"ViewerCard",{placeholder:o.createElement(d.A,{background:u.Aq.Base,fullHeight:!0,fullWidth:!0,padding:2},o.createElement(Na.T,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.ExtensionMessageCard=k.P.wrap((function(){return t.e(79252).then(t.bind(t,670784))}),"ExtensionMessageCard",{placeholder:o.createElement(d.A,{background:u.Aq.Base,fullHeight:!0,fullWidth:!0,padding:2},o.createElement(Na.T,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.EmoteCard=k.P.wrap((function(){return t.e(52459).then(t.bind(t,403730))}),"EmoteCard",{placeholder:o.createElement(d.A,{fullHeight:!0,fullWidth:!0,padding:2},o.createElement(Na.T,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.onDragStart=function(e){i.cardContainerRef&&i.layerRef&&e.button===Da.t.Left&&(window.addEventListener("mousemove",i.onDrag),window.addEventListener("mouseup",i.onDragEnd),window.addEventListener("selectstart",i.cancelSelection),i.setState({dragging:!0}),i.initCardX=i.cardContainerRef.offsetLeft,i.initCardY=i.cardContainerRef.offsetTop,i.initMouseX=e.clientX,i.initMouseY=e.clientY,(0,Ta.Ai)(i.getTrackingProperties()))},i.onDrag=function(e){i.nextTop=i.initCardY+e.clientY-i.initMouseY,i.nextLeft=i.initCardX+e.clientX-i.initMouseX,i.rafHandle||(i.rafHandle=requestAnimationFrame((function(){i.rafHandle=0,i.cardContainerRef&&(i.cardContainerRef.style.top=i.nextTop+"px",i.cardContainerRef.style.left=i.nextLeft+"px")})))},i.openPopout=function(){if(i.props.viewerCardOptions){var e=i.props.viewerCardOptions.targetID,n=window.open((0,Ma.e)("/popout/"+i.props.channelLogin+"/viewercard/"+e+"?popout="),"_blank","right=50,top=50,width=340,height=520,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");(0,Ta.Wy)({targetLogin:e,targetUserID:null,channelID:i.props.channelID,channelLogin:i.props.channelLogin,clickText:Ta.Yv.PopOut,sourceType:i.props.viewerCardOptions.viewerCardType===Ra.BO.Viewer?i.props.viewerCardOptions.sourceType:void 0}),n&&(n.focus(),i.props.hideViewerCard())}},i.onDragEnd=function(){i.removeDragListeners(),i.setState({dragging:!1})},i.removeDragListeners=function(){window.removeEventListener("mousemove",i.onDrag),window.removeEventListener("mouseup",i.onDragEnd),window.removeEventListener("selectstart",i.cancelSelection)},i.cancelSelection=function(e){e.preventDefault()},i.hideEmoteCard=function(){i.props.viewerCardOptions&&i.props.viewerCardOptions.viewerCardType===Ra.BO.Emote&&(0,Ia.f_)({emoteLocation:(0,Ia.Gv)(i.props.viewerCardOptions.emoteSourceType),emoticonID:i.props.viewerCardOptions.emoteID,chatChannel:i.props.channelLogin,chatChannelID:i.props.channelID?i.props.channelID:"",referrerUserID:i.props.viewerCardOptions.targetID,action:Ia.s8.Close,msgID:i.props.viewerCardOptions.sourceID,isLoggedIn:(0,ke.jl)(y.$6.store.getState())}),i.props.hideViewerCard()},i.onClickViewerCardCloseButton=function(){i.props.hideViewerCard(i.getTrackingProperties())},i.getTrackingProperties=function(){var e;return{targetLogin:(null===(e=i.props.viewerCardOptions)||void 0===e?void 0:e.targetID)||"",channelID:i.props.channelID,channelLogin:i.props.channelLogin}},i.state={dragging:!1,viewerCardComponentLoaded:!1},i}return(0,i.__extends)(n,e),n.prototype.componentWillUnmount=function(){this.props.hideViewerCard(),this.rafHandle&&cancelAnimationFrame(this.rafHandle),this.removeDragListeners()},n.prototype.componentDidUpdate=function(e){this.props.viewerCardOptions&&e.viewerCardOptions&&(this.props.viewerCardOptions.targetID===e.viewerCardOptions.targetID&&this.props.viewerCardOptions.initialTopOffset===e.viewerCardOptions.initialTopOffset||this.cardContainerRef&&(this.cardContainerRef.style.left="0px"))},n.prototype.render=function(){var e=this,n={"viewer-card-layer":!0,"viewer-card-layer--dragging":this.state.dragging},t={"viewer-card-layer__draggable":!0,"viewer-card-layer__draggable--dragging":this.state.dragging},i=null,r={};if(this.props.viewerCardOptions){if(this.layerRef){var s=this.layerRef.getBoundingClientRect(),l="on"===y.$6.experiments.getAndTrackAssignment("viewer_badge_collection")?390:240,c=Math.min(this.props.viewerCardOptions.initialTopOffset-s.top,s.height-l);r={top:Math.max(c,0)+"px"}}switch(this.props.viewerCardOptions.viewerCardType){case Ra.BO.Extension:i=o.createElement(this.ExtensionMessageCard,{channelID:this.props.channelID,extensionID:this.props.viewerCardOptions.targetID,extensionVersion:this.props.viewerCardOptions.extensionVersion,hideMessageCard:this.props.hideViewerCard});break;case Ra.BO.Viewer:i=o.createElement(this.ViewerCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,targetLogin:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.sourceType,sourceID:this.props.viewerCardOptions.sourceID,confirmModerationAction:this.props.confirmModerationAction,hideViewerCard:this.props.hideViewerCard});break;case Ra.BO.Emote:i=o.createElement(this.EmoteCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,referrerID:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.emoteSourceType,sourceID:this.props.viewerCardOptions.sourceID,emoteID:this.props.viewerCardOptions.emoteID,emoteCode:this.props.viewerCardOptions.emoteCode,hideViewerCard:this.hideEmoteCard});break;default:i=null}}var m=null;if(i){var g=(0,y.wv)("Hide","ViewerCard"),v=o.createElement(p.Ei,{icon:h.e.Close,onClick:this.onClickViewerCardCloseButton,"aria-label":g,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":Aa}),k=this.props.isModerator||this.props.isOwner,S=(0,y.wv)("Popout","ViewerCard"),C=k?o.createElement(p.Ei,{icon:h.e.Popout,onClick:this.openPopout,"aria-label":S,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":"popout-viewer-card"}):null;m=o.createElement(f.o,{className:a(t),position:u.Ly.Absolute,borderRadius:re.c.Medium,elevation:0},o.createElement("div",{onMouseDown:this.onDragStart,ref:function(n){e.cardContainerRef=n},style:r,"data-a-target":"viewer-card-positioner","data-test-selector":"viewer-card-positioner"},i,o.createElement(d.A,{position:u.Ly.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},o.createElement(Pa.I,null,C,v)))),this.props.viewerCardOptions.viewerCardType===Ra.BO.Emote&&(v=o.createElement(p.Ei,{icon:h.e.Close,onClick:this.hideEmoteCard,"aria-label":g,type:p.c.Secondary,"data-test-selector":Aa}),m=o.createElement(f.o,{className:a(t),position:u.Ly.Absolute,borderRadius:re.c.Large},o.createElement("div",{onMouseDown:this.onDragStart,ref:function(n){e.cardContainerRef=n},style:r,"data-a-target":"viewer-card-positioner"},i,o.createElement(d.A,{position:u.Ly.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},o.createElement(Pa.I,null,v)))))}return o.createElement(f.o,{className:a(n),fullHeight:!0,fullWidth:!0,position:u.Ly.Relative,zIndex:u.KN.Above},o.createElement("div",{onMouseUp:this.onDragEnd,ref:function(n){e.layerRef=n}},m))},n}(o.Component);var Fa,Ua=(0,Ye.Hu)((function(e){return{viewerCardOptions:e.viewerCardOptions,hideViewerCard:e.hideViewerCard}}))(La),xa=t(632712),Oa=t(86891),Ba=(t(937251),t(947926)),Va=t(302285),qa=t(106801),Ga=t(226510),Ha=t(679864),Wa=t(448752),za=t(512882),$a=t(166825),ja=t(104086),Ya=t(585187),Qa=t(469790),Ja=t(180592),Ka=t(297512),Xa="chatlogs-error",Za="chatlogs-message-lines",er=function(e){var n,t,i,a=(0,ie.v9)((function(e){var n;return null===(n=e.session.user)||void 0===n?void 0:n.id})),r=(0,qa.aM)(Ka,{skip:!e.channelID||!a,variables:{channelID:e.channelID},fetchPolicy:"cache-and-network"}),s=r.data,l=r.loading,m=r.error,p=(0,ie.v9)((function(e){return(0,Ge.zv)(e)})),h=o.useContext(An.sZ).value,f=o.useMemo((function(){var e;return(null==s?void 0:s.badges)&&(null===(e=s.user)||void 0===e?void 0:e.broadcastBadges)&&s.user.login?new D.yW(s.badges,s.user.broadcastBadges,s.user.login):new D.yW([])}),[s]);if(l)return o.createElement(d.A,{justifyContent:u.uM.Center,padding:{y:1},display:u.sS.Flex},o.createElement(Na.T,null));var g=null===(i=null===(t=null===(n=null==s?void 0:s.channel)||void 0===n?void 0:n.self)||void 0===t?void 0:t.modChatLogs)||void 0===i?void 0:i.edges;if(!g||m)return o.createElement(d.A,{justifyContent:u.uM.Center,padding:{y:1},display:u.sS.Flex},o.createElement(c.V,{"data-test-selector":Xa},(0,y.wv)("Error loading chat logs in channel","UnbanRequestForm")));var v=g.map((function(e){var n=e.node;if(n){if("ModLogsMessage"===n.__typename){var t=n;return o.createElement(Ja.v0,{channelID:null,key:t.id,badgeSets:f,hasModPermissions:!1,message:t,showTimestamps:!1,showModerationIcons:!1,onUsernameClick:null,padding:{x:1,y:.5},highContrastUsernameColor:h,theme:p})}if("AutoModCaughtMessage"===n.__typename){t=n;return o.createElement(Qa.w,{channelID:null,key:n.id,badgeSets:f,caughtMessage:t,hideTimestamp:!0,hideDetails:!0,highContrastUsernameColor:h,theme:p})}}return null})).reverse();return v.length?o.createElement(d.A,{borderBottom:!0,margin:{bottom:1},className:"unban-request-form__chatlogs-container",display:u.sS.Flex,flexDirection:u.Qb.Column},o.createElement(c.V,null,(0,y.wv)("Channel Mods will see the most recent messages you sent in chat along with your request:","UnbanRequestForm")),o.createElement(ta._q,{autoHide:!1},o.createElement(d.A,{"data-test-selector":Za,padding:{y:1}},v))):null},nr="requester-message-input",tr="cancel-button",ir="submit-button",ar="ban-reason",rr=function(e){var n,t,a,r,s=(0,ie.v9)((function(e){var n;return null===(n=e.session.user)||void 0===n?void 0:n.id})),l=o.useState(!1),p=l[0],f=l[1],g=o.useState(e.requesterMessage||""),v=g[0],k=g[1],S=o.useState(!1),C=S[0],b=S[1],w=o.useState(!1),E=w[0],_=w[1];return o.createElement(d.A,{className:"unban-request-form",display:u.sS.Flex,flexDirection:u.Qb.Column,padding:{x:.5}},o.createElement(d.A,{className:"unban-request-form__content",padding:{x:3,top:1},display:u.sS.Flex,flexDirection:u.Qb.Column},e.banReason&&o.createElement(d.A,{margin:{bottom:1},className:"unban-request-form__ban-reason-container",display:u.sS.Flex,flexDirection:u.Qb.Column},o.createElement(c.V,null,(0,y.wv)("Channel Mods gave a reason for your ban:","UnbanRequestForm")),o.createElement(ta._q,{autoHide:!1},o.createElement(d.A,{padding:{y:.5,left:1},margin:{top:.5},className:"unban-request-form__ban-reason","data-test-selector":ar},e.banReason))),o.createElement(er,{channelID:e.channelID}),o.createElement($a.cw,{label:(0,y.wv)("Enter a Reason for Your Unban","UnbanRequestForm"),errorMessage:E?(0,y.wv)("Please enter a reason.","UnbanRequestForm"):(0,Ya.S4)(null===(r=null===(a=null===(t=null===(n=e.createUnbanRequestResult)||void 0===n?void 0:n.data)||void 0===t?void 0:t.createUnbanRequest)||void 0===a?void 0:a.error)||void 0===r?void 0:r.code),error:C||E},o.createElement(ja.K,{error:E,"data-test-selector":nr,rows:3,maxLength:500,onChange:function(e){k(e.target.value),e.target.value&&_(!1)},placeholder:(0,y.wv)("Tell the Mods why you should return to chat","UnbanRequestForm"),value:v}),o.createElement(d.A,{display:u.sS.Flex,padding:{top:.5},alignItems:u.g1.Center},o.createElement(d.A,{display:u.sS.Flex,padding:{right:.5},className:"unban-request-form__hint-icon"},o.createElement(L.W,{asset:h.e.NotificationInfo})),o.createElement(d.A,{color:u.Il.Alt2,display:u.sS.Flex,padding:{right:.5}},(0,y.wv)("You can only request an unban once, so make it count!","UnbanRequestForm"))))),o.createElement(yi.m,{padding:{y:2,x:3},primaryButtonProps:{"data-test-selector":ir,children:(0,y.wv)("Submit","UnbanRequestForm"),onClick:function(){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:if(f(!0),b(!1),!v.trim())return _(!0),f(!1),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.onCreateUnbanRequest(v)];case 2:return n.sent(),e.onSubmit(),y.$6.tracking.track(ve.N.UnbanRequestSubmit,{user_id:s,channel_id:e.channelID,custom_message:v}),[3,4];case 3:return n.sent(),b(!0),[3,4];case 4:return f(!1),[2]}}))}))},state:p?m.BN.Loading:m.BN.Default},secondaryButtonProps:{"data-test-selector":tr,children:(0,y.wv)("Cancel","UnbanRequestForm"),onClick:e.onClose},size:fi.C.Medium}))},or=t(756058);!function(e){e.UnbanModal="unban-modal",e.Error="unban-modal-error"}(Fa||(Fa={}));var sr,lr=function(e){var n,t,i,a,r,s,l=(0,qa.aM)(or,{variables:{channelID:e.channelID}}),c=l.data,m=l.loading,p=!!(null===(i=null===(t=null===(n=null==c?void 0:c.user)||void 0===n?void 0:n.self)||void 0===t?void 0:t.banStatus)||void 0===i?void 0:i.isPermanent),h=(null===(s=null===(r=null===(a=null==c?void 0:c.user)||void 0===a?void 0:a.self)||void 0===r?void 0:r.banStatus)||void 0===s?void 0:s.reason)||null,f=(0,ie.I0)();if(m)return o.createElement(Na.T,null);var g=o.createElement(gi.x,{closeButton:{"aria-label":(0,y.wv)("Close","UnbanRequestFormButton"),onClick:function(){return f((0,fe.Mr)())}},size:fi.C.Medium,title:(0,y.wv)("Request Unban","UnbanRequestFormButton")});return p?o.createElement(An.Bk,null,o.createElement(fi.A,{size:fi.C.Medium,"data-test-selector":Fa.UnbanModal},o.createElement(d.A,{className:"unban-request-modal",display:u.sS.Flex,flexDirection:u.Qb.Column},g,o.createElement(rr,{channelID:e.channelID,banReason:h,onCreateUnbanRequest:e.onCreateUnbanRequest,createUnbanRequestResult:e.createUnbanRequestResult,onSubmit:function(){f((0,fe.Mr)())},onClose:function(){return f((0,fe.Mr)())},requesterMessage:e.requesterMessage})))):o.createElement(fi.A,{size:fi.C.Medium,"data-test-selector":Fa.Error},g,o.createElement(d.A,{display:u.sS.Flex,flexDirection:u.Qb.Column,padding:{x:.5}},o.createElement(vi.f,{padding:{x:3,top:1}},o.createElement(d.A,{display:u.sS.Flex},(0,y.wv)("It looks like a Moderator has already unbanned you. Click below to refresh the page and return to chat.","UnbanRequestFormError"))),o.createElement(yi.m,{padding:{y:2,x:3},primaryButtonProps:{children:(0,y.wv)("Refresh","UnbanRequestFormButton"),onClick:function(){return window.location.reload(!1)}}})))},dr=t(344689),ur=t(664576),cr=t(734179),mr=t(816218),pr=t(394169),hr=t(555654),fr=t(67206),gr=t(881401),vr=function(e){var n,t=o.useContext(mr.L8),a=t.addSnackbarToQueue,s=t.removeSnackbarFromQueue,l=(0,qa.Db)(hr),d=l[0],m=l[1],p=(0,qa.Db)(pr)[0],h=(0,qa.td)(fr,{fetchPolicy:"network-only",variables:{channelID:e,includeCanRequestUnban:!0}})[0],f=(0,qa.td)(gr,{fetchPolicy:"network-only",variables:{channelID:e}})[0],g=(0,ie.I0)(),v=function(e,t,i){n=a(o.createElement(ur.B,{message:e,type:t,buttonProps:i}))},k=function(e){e!==N.nDl.INVALID_UPDATE&&v((0,Ya.VO)(e),cr.u.Error)},S=function(t,a,r){return{children:o.createElement(c.V,{fontSize:u.Bf.Size5,bold:!0},(0,y.wv)("Undo","UndoUnbanRequestSnackbar")),onClick:function(){return function(t,a,r){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var o,l,d,u,c,m,h;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,p({variables:{input:{id:t}}})];case 1:return o=i.sent(),l=o.data,(null==(d=o.errors)?void 0:d.length)||(null===(u=null==l?void 0:l.cancelUnbanRequest)||void 0===u?void 0:u.error)||!(null===(c=null==l?void 0:l.cancelUnbanRequest)||void 0===c?void 0:c.unbanRequest)?k(null===(h=null===(m=null==l?void 0:l.cancelUnbanRequest)||void 0===m?void 0:m.error)||void 0===h?void 0:h.code):(g((0,fe.K4)(lr,{channelID:e,requesterMessage:a,onCreateUnbanRequest:b,createUnbanRequestResult:r})),n&&s(n)),[3,3];case 2:return i.sent(),k(),[3,3];case 3:return[2]}}))}))}(t,a,r)},"aria-label":(0,y.wv)("Undo Unban Request","UndoUnbanRequestSnackbar")}},C=function(e){return e===N.s2I.ALREADY_CREATED?(h(),void v((0,Ya.S4)(e),cr.u.Warning)):e===N.s2I.TOO_SOON_SINCE_BAN||e===N.s2I.UNBAN_REQUESTS_DISABLED?(h(),f(),void v((0,Ya.S4)(e),cr.u.Error)):Promise.reject()},b=function(n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,a,o,s,l,u,c,p,h;return(0,i.__generator)(this,(function(f){switch(f.label){case 0:t={channelID:e,requesterMessage:n},f.label=1;case 1:return f.trys.push([1,6,,7]),[4,d({variables:{input:t}})];case 2:return a=f.sent(),o=a.data,(null==(s=a.errors)?void 0:s.length)||(null===(u=null==o?void 0:o.createUnbanRequest)||void 0===u?void 0:u.error)||!(null===(c=null==o?void 0:o.createUnbanRequest)||void 0===c?void 0:c.unbanRequest)?[2,C(null===(h=null===(p=null==o?void 0:o.createUnbanRequest)||void 0===p?void 0:p.error)||void 0===h?void 0:h.code)]:[3,3];case 3:return l=o.createUnbanRequest.unbanRequest,[4,(0,dr.rh)(fr,{channelID:e},(function(e){var n;return(null===(n=null==e?void 0:e.channel)||void 0===n?void 0:n.self)?r(e,(function(e){return e.channel.self}),(function(){return(0,i.__assign)((0,i.__assign)({},e.channel.self),{canRequestUnban:!1,unbanRequestRestriction:N.ZI5.ALREADY_CREATED,lastUnbanRequest:(0,i.__assign)((0,i.__assign)({},l),{resolverMessage:null})})})):e}))];case 4:return f.sent(),v((0,y.wv)("Your unban request will be reviewed.","UnbanRequestForm"),cr.u.Info,S(l.id,n,m)),[2,Promise.resolve()];case 5:return[3,7];case 6:return f.sent(),[2,Promise.reject()];case 7:return[2]}}))}))};return[b,m]},yr=t(498949),kr="ban-reason",Sr="cooldown-info",Cr="disabled-info",br="view-details-button",wr=function(e){var n,t,i,a=e.banReason,r=e.bannedAt,s=e.settings,l=!!(null==s?void 0:s.isEnabled),c=null!==(n=null==s?void 0:s.cooldownMinutes)&&void 0!==n?n:0,f=o.createElement(p.Ei,{icon:h.e.Close,size:p.hp.Small,"aria-label":(0,y.wv)("Close","CannotRequestUnbanDetails")}),g=o.createElement(d.A,{display:u.sS.Flex,padding:1,color:u.Il.Alt2,className:"cannot-request-unban__info-stripe",background:u.Aq.Alt,"data-test-selector":Cr},o.createElement("span",null,o.createElement(L.W,{asset:h.e.NotificationInfo,height:16,width:16}),(0,y.wv)("This channel is not accepting unban requests.","CannotRequestUnbanDetails")));return o.createElement(d.A,{display:u.sS.Flex,justifyContent:u.uM.Center,fullWidth:!0,padding:{bottom:1}},o.createElement(Ga.a,{hideBalloonOnInsideClick:!0,dialogLayerProps:{options:{strategy:"fixed",placement:"bottom"}},button:o.createElement(m.zx,{type:m.L$.Text,"data-test-selector":br},(0,y.wv)("View Details","UnbanRequestStatus")),dialog:o.createElement(oe.XU,{size:oe.Kn.Medium},o.createElement(d.A,{flexDirection:u.Qb.Column,display:u.sS.Flex,textAlign:u.PH.Left},a?o.createElement(d.A,{padding:1,"data-test-selector":kr},o.createElement(d.A,{display:u.sS.Flex,justifyContent:u.uM.Between},o.createElement(d.A,{alignSelf:u.MT.Center},o.createElement(_i.h,null,(0,y.wv)("Channel Mods gave a reason for your ban","CannotRequestUnbanDetails"))),f),o.createElement(d.A,{className:"cannot-request-unban__ban-reason",padding:{left:.5},margin:{top:.5}},a)):null,!!c&&l&&(t=new Date(r),i=Er(t,c),o.createElement(d.A,{padding:1,"data-test-selector":Sr},o.createElement(d.A,{display:u.sS.Flex,justifyContent:u.uM.Between},o.createElement(d.A,{alignSelf:u.MT.Center},o.createElement(_i.h,null,(0,y.wv)("About your ban","CannotRequestUnbanDetails"))),!a&&f),(0,y.wv)("You can request an unban at {date, time, short} on {date, date, medium}",{date:i},"CannotRequestUnbanDetails"))),!l&&g))}))},Er=function(e,n){return new Date(e.getTime()+6e4*n)},_r=t(326737),Nr=function(e){var n=e.channelID,t=e.currentUserID,a=e.lastUnbanRequest,s=e.refetchLastRequest,l=(0,V.P)((0,_.bE)(t,n))[0],d=(0,_r.D)(l);return o.useEffect((function(){l&&l!==d&&(a&&(null==a?void 0:a.status)===N.vyV.PENDING&&l.data.id===a.id?(0,dr.rh)(fr,{channelID:n,includeCanRequestUnban:!0},(function(e){return r(e,(function(e){return e.channel.self.lastUnbanRequest}),(function(e){var n;return(0,i.__assign)((0,i.__assign)({},e),{status:l.data.status,resolverMessage:null!==(n=l.data.resolver_message)&&void 0!==n?n:null})}))})):s())}),[n,a,l,d,s]),null};!function(e){e.PendingUnbanRequest="pending-unban-request",e.RequestUnbanLink="request-unban-link",e.BannedUserMessage="banned-user-message",e.ModNoteButton="mod-note-button-toggle",e.ModNoteBalloon="mod-note-balloon",e.ReportButton="report-mod-note",e.CooldownText="cooldown-text"}(sr||(sr={}));var Dr=function(e){var n,t=(0,Wa.G)(e.channelLogin);return(null===(n=null==e?void 0:e.unbanRequest)||void 0===n?void 0:n.resolverMessage)?o.createElement(d.A,{display:u.sS.Flex,justifyContent:u.uM.Center,fullWidth:!0,padding:{bottom:1}},o.createElement(Ga.a,{hideBalloonOnInsideClick:!0,dialogLayerProps:{options:{strategy:"fixed",placement:"bottom"}},button:o.createElement(m.zx,{type:m.L$.Text,"data-test-selector":sr.ModNoteButton},(0,y.wv)("View Moderator Note","UnbanRequestStatus")),dialog:o.createElement(oe.XU,{"data-test-selector":sr.ModNoteBalloon,size:oe.Kn.Medium},o.createElement(d.A,{padding:1,flexDirection:u.Qb.Column,display:u.sS.Flex,textAlign:u.PH.Left},o.createElement(d.A,{display:u.sS.Flex,padding:{bottom:1},alignItems:u.g1.Center,justifyContent:u.uM.Between},o.createElement(_i.h,null,(0,y.wv)("From {channelName}'s Moderators",{channelName:t},"UnbanRequestStatus")),o.createElement(d.A,{display:u.sS.Flex,padding:{left:1}},o.createElement(p.Ei,{icon:h.e.Report,size:p.hp.Small,"data-test-selector":sr.ReportButton,onClick:e.onReportClick,"aria-label":(0,y.wv)("Report Moderators","DeniedUnbanRequestModNote")}),o.createElement(p.Ei,{icon:h.e.Close,size:p.hp.Small,"aria-label":(0,y.wv)("Close","UnbanRequestStatus")}))),o.createElement(c.V,{wordBreak:M.I5.BreakWord},e.unbanRequest.resolverMessage)))})):null},Mr=function(e){var n,t,i,a,r,s,l,p,h,f,g,v,k,S,C,b,w,E,_=(0,ie.v9)((function(e){var n;return null===(n=e.session.user)||void 0===n?void 0:n.id})),D=(0,qa.aM)(fr,{variables:{channelID:null!==(n=e.channelID)&&void 0!==n?n:"",includeCanRequestUnban:!0},skip:!e.channelID}),I=D.data,T=D.loading,P=D.refetch,R=(0,qa.aM)(Ha,{variables:{channelID:null!==(t=e.channelID)&&void 0!==t?t:"",targetUserID:null!=_?_:""},skip:!_||!e.channelID}),A=R.data,L=R.loading,F=(0,qa.aM)(gr,{variables:{channelID:null!==(i=e.channelID)&&void 0!==i?i:""},skip:!e.channelID}),U=F.data,x=F.loading,O=vr(null!==(a=e.channelID)&&void 0!==a?a:""),B=O[0],V=O[1],q=null===(s=null===(r=null==I?void 0:I.channel)||void 0===r?void 0:r.self)||void 0===s?void 0:s.lastUnbanRequest,G=null==q?void 0:q.status,H=null===(l=null==A?void 0:A.chatRoomBanStatus)||void 0===l?void 0:l.createdAt,W=null===(h=null===(p=null==I?void 0:I.channel)||void 0===p?void 0:p.self)||void 0===h?void 0:h.canRequestUnban,z=null===(g=null===(f=null==I?void 0:I.channel)||void 0===f?void 0:f.self)||void 0===g?void 0:g.unbanRequestRestriction,$=null===(k=null===(v=null==U?void 0:U.channel)||void 0===v?void 0:v.unbanRequestsSettings)||void 0===k?void 0:k.isEnabled,j=null!==(b=null===(C=null===(S=null==U?void 0:U.channel)||void 0===S?void 0:S.unbanRequestsSettings)||void 0===C?void 0:C.cooldownMinutes)&&void 0!==b?b:0,Y=o.useMemo((function(){return z!==N.ZI5.NOT_BANNED||j?!!W:!!H}),[H,W,j,z]),Q=o.useMemo((function(){if(!H||!q||G===N.vyV.CANCELED)return!1;var e=new Date(q.createdAt);return new Date(H)<e}),[H,q,G]),J=Q&&G===N.vyV.DENIED,K=(0,ie.I0)();if(T||L||x)return o.createElement(Va.Vm,{lineCount:3});if(null===W||!H)return null;var X=function(){q&&e.channelID&&K((0,fe.K4)(za.a,{reportContext:{trackingContext:"UNBAN_REQUEST_REPORT",contentType:N.Of.UNBAN_REQUEST_REPORT,targetUserID:e.channelID,contentID:q.id,targetDisplayName:(0,y.wv)("{channelName}'s Moderator",{channelName:e.channelLogin},"UnbanRequestResolverReport")},title:(0,y.wv)("Report Moderator's Message","ReportModalWizard")}))},Z=!Q&&j>0&&$,ee=o.createElement(d.A,{padding:{x:4,bottom:1}},o.createElement(c.V,{fontSize:u.Bf.Size6,color:u.Il.Alt2,"data-test-selector":sr.BannedUserMessage,type:M.yG.Span},(0,y.wv)("You are unable to participate in this channel's chat until a moderator unbans you.","UnbanRequestStatus")," "),Z&&o.createElement(c.V,{fontSize:u.Bf.Size6,color:u.Il.Alt2,"data-test-selector":sr.CooldownText,type:M.yG.Span},(0,y.wv)("This channel allows banned users to request an unban once they have waited {cooldownPeriod}.",{cooldownPeriod:(0,yr.Wh)(j)},"UnbanRequestStatus")));return o.createElement(o.Fragment,null,!J&&ee,Q&&function(){if(!q||!Q)return null;var n=new Date(q.createdAt);return o.createElement(d.A,{display:u.sS.Flex,fullWidth:!0,flexDirection:u.Qb.Column},o.createElement(d.A,{margin:{x:4},padding:{y:1},borderTop:!0,display:u.sS.Flex},o.createElement(c.V,{fontSize:u.Bf.Size7,color:u.Il.Alt2,bold:!0,"data-test-selector":sr.PendingUnbanRequest},J?(0,y.wv)("The unban request you made at {time} on {date} was denied.",{time:(0,y.mr)(n),date:(0,y.p6)(n,"long")},"UnbanRequestStatus"):(0,y.wv)("You made a request to be unbanned at {time} on {date}.",{time:(0,y.mr)(n),date:(0,y.p6)(n,"long")},"UnbanRequestStatus"))),J&&o.createElement(Dr,{unbanRequest:q,channelLogin:e.channelLogin,onReportClick:X}))}(),Y&&o.createElement(m.zx,{type:m.L$.Text,onClick:function(){e.channelID&&(K((0,fe.K4)(lr,{channelID:e.channelID,onCreateUnbanRequest:B,createUnbanRequestResult:V})),y.$6.tracking.track(ve.N.UnbanRequestFormOpen,{user_id:_,channel_id:e.channelID}))},"data-test-selector":sr.RequestUnbanLink},(0,y.wv)("Request Unban","UnbanRequestStatus")),!Y&&!Q&&o.createElement(wr,{bannedAt:H,banReason:null===(w=null==A?void 0:A.chatRoomBanStatus)||void 0===w?void 0:w.reason,settings:null===(E=null==U?void 0:U.channel)||void 0===E?void 0:E.unbanRequestsSettings}),_&&e.channelID&&o.createElement(Nr,{channelID:e.channelID,currentUserID:_,lastUnbanRequest:q,refetchLastRequest:P}))},Ir=t(643724),Tr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return o.createElement(mr.SA,null,o.createElement("div",{className:"banned-chat-overlay__snackbar-list-container"},o.createElement(Ir.O,{className:"banned-chat-overlay__channel-page-snackbar-list",snackbarItemClassName:"banned-chat-overlay__channel-page-snackbar-list-items",transitionType:v.x.SlideOverBottom,alignItems:u.g1.Start})),o.createElement(d.A,{display:u.sS.Flex,fullWidth:!0,fullHeight:!0,padding:{bottom:2,x:2},justifyContent:u.uM.Center,alignItems:u.g1.Center,textAlign:u.PH.Center,overflow:u.nP.Auto},o.createElement(d.A,{fullHeight:!0,fullWidth:!0,attachTop:!0,attachLeft:!0,display:u.sS.Flex,flexDirection:u.Qb.Column,alignItems:u.g1.Center,justifyContent:u.uM.Center,flexShrink:0},o.createElement(d.A,null,o.createElement(d.A,null,o.createElement("svg",{height:48,width:48},o.createElement("circle",{className:"banned-chat-overlay__circle",r:"20",cx:"24",cy:"24"}))),o.createElement(d.A,{className:"banned-chat-overlay__halt"},o.createElement(L.W,{asset:h.e.Halt,height:48,width:48}))),o.createElement(d.A,{fullWidth:!0},o.createElement(d.A,{padding:{y:1}},o.createElement(c.V,{fontSize:u.Bf.Size5,color:u.Il.Alt2,"data-test-selector":"current-user-banned-text",bold:!0},(0,y.wv)("You are banned from Chat","ChatInput"))),o.createElement(Mr,{channelID:this.props.channelID,channelLogin:this.props.channelLogin})))))},n}(o.Component),Pr="chat-room-header-label",Rr=y.kg.withCategory("chat-room"),Ar=k.P.wrap((function(){return t.e(66774).then(t.bind(t,94230))}),"AcknowledgeUnbanRequestPrompt"),Lr=k.P.wrap((function(){return Promise.all([t.e(54736),t.e(99552)]).then(t.bind(t,790954))}),"ChatViewers"),Fr=k.P.wrap((function(){return t.e(75959).then(t.bind(t,747658))}),"NewChatterRitual",{failSilently:!0,placeholder:null}),Ur=k.P.wrap((function(){return Promise.all([t.e(54736),t.e(99205)]).then(t.bind(t,796505))}),"CommunityHighlightStackManager",{placeholder:null}),xr=function(e){function n(n){var t=e.call(this,n)||this;t.hasAcceptedModerationConfirmation=!1,t.isCurrentUserBanned=function(){var e,n,i,a;return(null===(a=null===(i=null===(n=null===(e=t.props.currentUserBannedStatusData)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.self)||void 0===i?void 0:i.banStatus)||void 0===a?void 0:a.isPermanent)||!1},t.closeViewersList=function(){t.props.closeChatViewerList()},t.confirmModerationAction=function(){return!(t.props.isEmbedded&&!t.hasAcceptedModerationConfirmation)||(t.hasAcceptedModerationConfirmation=window.confirm((0,y.wv)("Do you want to enable the ability to timeout and ban on embedded version of Twitch Chat? This setting will persist until you refresh the page.","ChatRoom")),t.hasAcceptedModerationConfirmation)},t.onChatInputFocus=function(){var e=y.tO.get("chat_rules_shown",{});t.props.chatRules&&t.props.chatRules.length>0&&!e[t.props.channelLogin]&&(t.props.onShowChatRules(),t.props.showChatRules())},t.setChatListElement=function(e){t.setState({chatListElement:e})},t.shouldHideChatInput=function(){return t.props.chatView===xa.i.ViewerList},t.openRaidUpsellFromHost=function(e){return t.closeRaidUpsell((function(){t.setState({raidUpsellTarget:e})}))},t.closeRaidUpsell=function(e){return t.setState({raidUpsellTarget:null},(function(){e&&e()}))},t.onSendCheerError=function(e,n){switch(n.code){case N.vqW.AUTO_MOD_MESSAGE:t.setState({moderatedReason:bn.AUTOMOD,forceSendCheer:!1,moderatedMessageParts:(0,Ki.K4)(n.messageContent.fragments,!1)});break;case N.vqW.INVALID_ANONYMOUS_MESSAGE:t.setState({moderatedReason:bn.ANONYMOUS_CHEERING,forceSendCheer:!1,anonymousCheerMessageParts:(0,Ki.K4)(n.messageContent.fragments,!1,t.props.currentUserLogin,t.props.bitsConfig),moderatedMessageParts:[(0,E.H)(e)]});break;default:t.setState({bitsSendErrorCode:n.code,bitsSendHasError:!0}),t.clearCheerErrorPrompts()}},t.clearBitsSendError=function(){t.setState({bitsSendErrorCode:N.vqW.UNKNOWN,bitsSendHasError:!1})},t.clearCheerErrorPrompts=function(){t.setState({forceSendCheer:!1,moderatedReason:null,moderatedMessageParts:null,anonymousCheerMessageParts:null})},t.onBitsAutoModCheerAnyway=function(){t.setState({moderatedReason:null,forceSendCheer:!0})},t.onInvalidAnonymousCheerPromptCheerAnyway=function(){t.setState({moderatedReason:null,forceSendCheer:!0})},t.onBadgesChanged=function(){return(0,i.__awaiter)(t,void 0,void 0,(function(){var e,n,t;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return!this.props.data||this.props.data.loading?[3,2]:[4,this.props.data.refetch()];case 1:if((e=i.sent()).data){if(!(n=e.data).user||!n.user.self)return[2];t={},n.user.self.displayBadges.forEach((function(e){e&&(t[e.setID]=e.version)})),y.$6.tmi.client.updateChannelBadges(this.props.channelLogin,t,{})}i.label=2;case 2:return[2]}}))}))};var a=new D.yW([],[],t.props.channelLogin);return t.state={raidUpsellTarget:null,badgeSets:a,forceSendCheer:!1,bitsSendErrorCode:N.vqW.UNKNOWN,bitsSendHasError:!1,moderatedMessageParts:null,anonymousCheerMessageParts:null},t}return(0,i.__extends)(n,e),n.getDerivedStateFromProps=function(e){var n={};if(e.data&&e.data.badges&&e.data.user&&e.data.user.broadcastBadges&&(n.badgeSets=new D.yW(e.data.badges,e.data.user.broadcastBadges,e.channelLogin)),e.data&&e.data.user&&e.data.user.self&&!e.data.user.squadStream&&e.data.user.self.displayBadges){var t={};e.data.user.self.displayBadges.forEach((function(e){e&&(t[e.setID]=e.version)})),y.$6.tmi.client.updateChannelBadges(e.channelLogin,t,e.userBadgeDynamicData||{})}return Object.keys(n).length>0?n:null},n.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.props.onCloseChatRules()},n.prototype.componentWillUnmount=function(){this.props.onCloseChatRules()},n.prototype.render=function(){var e,n,t;if(this.props.isBackground)return null;if(this.props.isHidden&&!this.props.isPopout)return o.createElement(d.A,{alignItems:u.g1.Center,borderLeft:!0,display:u.sS.Flex,flexDirection:u.Qb.Column,fullHeight:!0,fullWidth:!0,justifyContent:u.uM.Center,color:u.Il.Base,position:u.Ly.Relative},o.createElement(d.A,{margin:{bottom:1}},o.createElement(c.V,{fontSize:u.Bf.Size5},(0,y.wv)("Chat is hidden.","ChatRoom"))),o.createElement(m.zx,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button","data-test-selector":"show-chat-button"},(0,y.wv)("Show Chat","ChatRoom")));var i=this.props.bitsEnabled&&this.props.firstPageLoaded&&this.props.channelID&&o.createElement(X,{channelID:this.props.channelID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,userID:this.props.userID}),r=this.props.chatView===xa.i.ViewerList&&o.createElement(d.A,{attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,background:u.Aq.Alt2,position:u.Ly.Absolute,zIndex:u.KN.Above},o.createElement(d.A,{padding:{y:1}},o.createElement(d.A,{position:u.Ly.Absolute,attachLeft:!0,margin:{left:1}},o.createElement(p.Ei,{icon:h.e.Close,"aria-label":(0,y.wv)("Close","ChatRoom"),onClick:this.closeViewersList,"data-test-selector":"close-viewer-list"}))),o.createElement(Lr,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,closeViewersList:this.closeViewersList,isCurrentUserBanned:this.isCurrentUserBanned(),"data-test-selector":"chat-viewers"})),s=!!this.props.authToken&&!this.props.isEmbedded,l=o.createElement(o.Fragment,null,i,this.props.channelID&&this.props.firstPageLoaded&&o.createElement(Ur,{key:this.props.channelID,channelID:this.props.channelID,channelLogin:this.props.channelLogin}),o.createElement(pa,{badgeSets:this.state.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,containerRef:this.setChatListElement,confirmModerationAction:this.confirmModerationAction,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isEmbedded:this.props.isEmbedded,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,onPushMessage:this.props.onPushMessage,theme:this.props.theme,userID:this.props.userID,primaryColorHex:null!==(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.user)||void 0===n?void 0:n.primaryColorHex)&&void 0!==t?t:null}),o.createElement(d.A,{className:"chat-room__notifications",position:u.Ly.Absolute,zIndex:u.KN.Above,fullWidth:!0},this.props.children),r,this.state.raidUpsellTarget&&o.createElement(ga,null,o.createElement(_a,{send:this.props.onSendMessage,targetChannelLogin:this.state.raidUpsellTarget,sourceChannelLogin:this.props.channelLogin,closeRaidUpsell:this.closeRaidUpsell})),this.props.firstPageLoaded&&this.props.channelID&&o.createElement(Fr,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,onPushMessage:this.props.onPushMessage,onSendMessage:this.props.onSendMessage}),this.state.moderatedReason===bn.AUTOMOD&&o.createElement(U,{badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onBitsAutoModCheerAnyway}),this.state.moderatedReason===bn.ANONYMOUS_CHEERING&&o.createElement(A,{messageParts:this.state.anonymousCheerMessageParts||[],badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onInvalidAnonymousCheerPromptCheerAnyway}));this.isCurrentUserBanned()&&this.props.chatView!==xa.i.ViewerList&&(l=o.createElement(Tr,{channelID:this.props.channelID,channelLogin:this.props.channelLogin}));var k=a({"chat-room":!0,"chat-room__base-background":!!this.props.useBaseBackground});return o.createElement(f.o,{"data-test-selector":"chat-room-component-layout","data-a-target":this.props.theme===w.Q.Dark?"chat-theme-dark":"chat-theme-light",flexShrink:1,flexGrow:1,display:u.sS.Flex,flexDirection:u.Qb.Column,fullWidth:!0},o.createElement("section",{"data-test-selector":"chat-room-section",className:k,role:"complementary","aria-labelledby":Pr},o.createElement(g.uT,{type:v.x.Fade,duration:g.xE.Long,show:this.props.isShowingCommunityHighlightList,transitionInitialMount:!0,injectChild:!0},o.createElement(f.o,{position:u.Ly.Absolute,zIndex:u.KN.Above,className:"chat-room__overlay",fullHeight:!0,fullWidth:!0},o.createElement("div",{onClick:this.props.closeCommunityHighlightList}))),o.createElement(d.A,{display:u.sS.Flex,flexDirection:u.Qb.Column,flexWrap:u.gP.NoWrap,position:u.Ly.Relative,flexGrow:1,fullHeight:!0,color:u.Il.Base,className:"chat-room__content"},this.props.chatRoomHeader,l,!this.props.isReadOnly&&this.props.firstPageLoaded&&o.createElement(Ar,{"data-test-selector":"acknowledge-unban-request-prompt-selector",channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,chatRules:this.props.chatRules,isCurrentUserBanned:this.isCurrentUserBanned()}),!this.props.isReadOnly&&o.createElement(te.VV,{onBadgesChanged:this.onBadgesChanged,displayBadges:this.dataBadgeToSchemaBadge()},o.createElement($i,{authToken:this.props.authToken,enableBitsInput:s,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,chatRules:this.props.chatRules,channelLogin:this.props.channelLogin,commandPermissionLevel:this.props.commandPermissionLevel,darkModeEnabled:this.props.theme===w.Q.Dark,emotes:this.props.emotes,emoteMap:this.props.emoteMap,firstPageLoaded:this.props.firstPageLoaded,hidden:this.shouldHideChatInput(),currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.userID,isCurrentUserEditor:this.props.isCurrentUserEditor,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatCommand:this.props.onSendMessage,onShowChatRules:this.props.chatRules&&this.props.chatRules.length?this.props.onShowChatRules:void 0,badgeSets:this.state.badgeSets,userBadges:this.props.userBadges,showViewersList:this.props.showChatViewerList,onSendMessage:this.props.onSendMessage,onPushMessage:this.props.onPushMessage,onInputFocus:this.onChatInputFocus,containerElement:this.state.chatListElement,openRaidUpsellFromHost:this.openRaidUpsellFromHost,onSendCheerError:this.onSendCheerError,onSendCheerSuccess:this.clearCheerErrorPrompts,isTextInputDisabled:!!this.state.moderatedReason,forceSendCheer:this.state.forceSendCheer,moderatedReason:this.state.moderatedReason,moderatedMessageParts:this.state.moderatedMessageParts,bitsSendErrorCode:this.state.bitsSendErrorCode,bitsSendHasError:this.state.bitsSendHasError,clearBitsSendError:this.clearBitsSendError})),o.createElement(d.A,{className:"chat-room__viewer-card",fullHeight:!0,fullWidth:!0,position:u.Ly.Absolute,"data-a-target":"chat-user-card"},o.createElement(Ua,{isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,confirmModerationAction:this.confirmModerationAction,onSendMessage:this.props.onSendMessage,channelID:this.props.channelID,channelLogin:this.props.channelLogin,isModerator:!!this.props.isCurrentUserModerator&&this.props.isCurrentUserModerator,isOwner:this.props.isOwnChannel})))))},n.prototype.dataBadgeToSchemaBadge=function(){var e,n,t,i,a=this,r=[];return null===(i=null===(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.user)||void 0===n?void 0:n.self)||void 0===t?void 0:t.displayBadges)||void 0===i||i.forEach((function(e){if(e){var n=a.state.badgeSets.getBadge(e.setID,e.version);n&&r.push(n)}})),r},n}(o.Component);var Or=(0,l.qC)((0,S.TA)(Ba,{name:"data",skip:function(e){return!e.firstPageLoaded},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,$e.SZ)((function(e){return{chatView:e.chatView,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList,isShowingChatRules:e.isShowingChatRules,showChatRules:e.showChatRules,closeChatRules:e.closeChatRules}})),(0,Oa.P)(),(0,C.P)((function(e){return{query:Ba,variables:{channelLogin:e.channelLogin},topic:(0,_.er)(e.userID),type:b.qU.UserBitsBadgeUpdate,skip:!e.firstPageLoaded||!e.userID,mutator:function(n,t){if(Rr.debug("Received bits-user-update-v1 pubsub update",{data:t,event:n}),!t.badges||n.message_type===Z.c.Balance||null===n.data.newest_version||n.data.channel_id!==e.channelID)return t;var a=t.badges.find((function(e){return!!e&&e.setID===n.data.set_id&&e.version===n.data.newest_version}));return a&&t.user&&t.user.self&&t.user.self.displayBadges?r(t,(function(e){return e.user.self}),(function(e){var n=e.displayBadges.map((function(e){return e&&e.setID===a.setID&&e.version!==a.version?(0,i.__assign)({},a):e})),t=e.selectedBadge;return(!e.selectedBadge||a.setID===Z.k.Bits&&e.selectedBadge.setID===Z.k.Bits)&&(t=(0,i.__assign)({},a)),e.selectedBadge&&(a.setID!==Z.k.Leaderboard||e.selectedBadge.setID!==Z.k.Bits&&e.selectedBadge.setID!==Z.k.Leaderboard)||(t=(0,i.__assign)({},a)),(0,i.__assign)((0,i.__assign)({},e),{displayBadges:n,selectedBadge:t})})):t}}})),s.EN,(0,x.gc)((function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled}})),(0,ee.ox)((function(e){return{isShowingCommunityHighlightList:e.listAllView}})),(0,ee.eT)((function(e){return{closeCommunityHighlightList:function(){return e((0,ne.rP)())}}})))(xr)},402767:function(e,n,t){"use strict";t.d(n,{xH:function(){return m}});var i=t(667294),a=t(734995),r=t(270406),o=t(42086),s=t(58661),l=t(150125),d=t(440837),u=t(382448),c=t(831642),m=(t(565383),function(e){return i.createElement(i.Fragment,null,i.createElement(a.A,{position:r.Ly.Relative,display:r.sS.Flex,flexDirection:r.Qb.Row,alignItems:r.g1.Start,padding:1},i.createElement(a.A,{textAlign:r.PH.Left,display:r.sS.Flex,flexDirection:r.Qb.Row,alignItems:r.g1.Center},i.createElement(a.A,{padding:{right:1}},i.createElement(o.q,{userLogin:e.channelLogin,alt:e.channelDisplayName?e.channelDisplayName:"",size:40,src:e.channelProfileImageUrl})),i.createElement(a.A,{display:r.sS.Flex,flexDirection:r.Qb.Column},i.createElement(a.A,null,i.createElement(s.V,{"data-test-selector":"chat-rules-display-name",color:r.Il.Alt2},e.channelDisplayName)),i.createElement(a.A,null,i.createElement(s.V,{fontWeight:r.U9.SemiBold,transform:l._5.Uppercase,type:l.yG.H4},(0,c.wv)("Chat Rules","ChatInputRevampChatRules"))))),e.onCloseChatRules&&i.createElement(a.A,{attachRight:!0,attachTop:!0,position:r.Ly.Absolute,margin:{top:.5,right:.5}},i.createElement(d.Ei,{"data-test-selector":"chat-rules-close-button","aria-label":(0,c.wv)("Close","ChatInputRevampChatRules"),type:d.c.Secondary,icon:u.e.Close,onClick:e.onCloseChatRules}))),i.createElement(a.A,{padding:.5},i.createElement(a.A,{"data-test-selector":"chat-rules-list",padding:{x:1,bottom:1}},i.createElement("ul",null,e.chatRules.map((function(e,n){return i.createElement("li",{key:n},e)}))))))})},154412:function(e,n,t){"use strict";t.d(n,{N:function(){return o}});var i=t(570655),a=t(667294),r=t(974513);function o(e){return function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return(0,i.__extends)(t,n),t.prototype.render=function(){return a.createElement(r.og,(0,i.__assign)({},this.props),a.createElement(e,(0,i.__assign)({},this.props)))},t}(a.Component)}},759408:function(e,n,t){"use strict";t.d(n,{P:function(){return s}});var i=t(667294),a=t(106801),r=t(863480),o=t(909428),s=function(e){var n,t,s,l,d=(0,a.td)(o,{variables:{channelLogin:e.channelLogin}}),u=d[0],c=d[1],m=c.called,p=c.data;return(0,i.useEffect)((function(){!m&&(0,r.t)("crowd_chant_query")&&u()}),[m,u]),(0,r.t)("crowd_chant")&&(null===(l=null===(s=null===(t=null===(n=null==p?void 0:p.user)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.crowdChants)||void 0===s?void 0:s.settings)||void 0===l?void 0:l.isEligible)?i.createElement(i.Fragment,null,e.children):null}},901382:function(e,n,t){"use strict";t.d(n,{Xj:function(){return y},jP:function(){return k},vc:function(){return C}});var i=t(570655),a=t(129989),r=t(667294),o=t(137703),s=t(14890),l=t(831642),d=t(987145),u=t(344689),c=t(128416),m=t(797425),p=t(884979),h=t(699478),f=t(437202),g="deletedMessageDisplaySetting",v=(0,p.k)("DeletedMessageDisplaySettingContext",{setValue:function(){return null},value:void 0,isShowingDeletedMessageDisplaySettings:!1,hideDeletedMessageDisplaySettings:function(){return null},showDeletedMessageDisplaySettings:function(){return null},hasSetSetting:function(){return!1}}),y=v.context,k=v.withContext,S=function(e){function n(n){var t=e.call(this,n)||this;return t.hasSetSetting=function(){var e=t.hasData(t.props);return!(!e||null===e.deletedMessageDisplaySetting)||null!==l.tO.get(g,null)},t.setValue=function(e){if(t.setState({localOverride:e}),l.tO.set(g,e),t.props.isLoggedIn){var n=(0,i.__assign)((0,i.__assign)({},(0,u.k_)({deletedMessageDisplaySetting:e})),{optimisticResponse:{setDeletedMessageDisplaySetting:{__typename:"SetDeletedMessageDisplaySettingPayload",deletedMessageDisplaySetting:e}},update:function(n){var t;try{t=n.readQuery({query:f})}catch(e){return}if(t&&t.currentUser&&t.currentUser.chatUISettings){var i=a(t,(function(e){return e.currentUser.chatUISettings.deletedMessageDisplaySetting}),(function(){return e}));n.writeQuery({query:f,data:i})}}});t.props.setDeletedMessageDisplaySetting(n)}},t.hideDeletedMessageDisplaySettings=function(){t.setState({isShowingDeletedMessageDisplaySettings:!1})},t.showDeletedMessageDisplaySettings=function(){t.setState({isShowingDeletedMessageDisplaySettings:!0})},t.state={isShowingDeletedMessageDisplaySettings:!1},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return r.createElement(y.Provider,{value:{setValue:this.setValue,value:this.value,isShowingDeletedMessageDisplaySettings:this.state.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.showDeletedMessageDisplaySettings,hasSetSetting:this.hasSetSetting}},this.props.children)},n.prototype.componentDidUpdate=function(e){!this.hasData(this.props)||this.hasData(e)||(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?l.tO.set(g,this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting):l.tO.get(g,null)&&this.value&&this.setValue(this.value))},n.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},n.prototype.defaultValue=function(e){return this.props.sessionUser&&e&&this.props.sessionUser.id===e?c.zCI.BRIEF:c.zCI.DETAILED},Object.defineProperty(n.prototype,"value",{get:function(){return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting:l.tO.get(g,null)||this.defaultValue(this.props.channelID)},enumerable:!0,configurable:!0}),n}(r.Component);var C=(0,s.qC)((0,o.$j)((function(e){return{isLoggedIn:(0,m.jl)(e),sessionUser:(0,m.PR)(e)}})),(0,d.TA)(f,{skip:function(e){return!e.isLoggedIn}}),(0,d.TA)(h,{name:"setDeletedMessageDisplaySetting"}))(S)},667346:function(e,n,t){"use strict";t.d(n,{s8:function(){return g},f_:function(){return E},Gv:function(){return _}});var i=t(570655),a=t(831642),r=t(863480),o=t(742407),s=t(190109),l=t(41570),d=t(824570),u=t(834375),c="unknown",m="chat",p="room",h="whisper",f="vod",g={Close:"close",ReportDropDown:"report_drop_down",Report:"report",Follow:"follow",Unfollow:"unfollow",Subscribe:"subscribe",ClickTryPrime:"click_try_prime",GoToChannel:"go_to_channel",Open:"open",ClickChannelName:"click_channel_name",CloseClickOtherEmote:"close_click_other_emote"},v="available",y="creator_banned",k="limited_time_emote",S="global_emote",C="prime",b="turbo",w="other_unlockable";function E(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,t,s,c,m,p,h,f,g,v,y,k,S,C,b,w;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n={emoteID:e.emoticonID,octaneEnabled:(0,r.t)("Emote_Card_Octane")},t=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.$6.apollo.client.query({query:d,variables:n})];case 2:return t=i.sent(),[3,4];case 3:return s=i.sent(),a.kg.warn(s,"Failed to make query for emote info in EmoteCard reporting.",{emoteID:e.emoticonID}),[3,4];case 4:c=t&&t.data&&t.data.emote||null,t&&!c&&a.kg.warn("Query for emote info in EmoteCard reporting returned no data.",{emoteID:e.emoticonID}),m=t&&t.data?(0,u.RT)(t.data):u.ee.Unknown,p=c&&c.subscriptionProduct&&c.subscriptionProduct.owner&&c.subscriptionProduct.owner.displayName||"",h=c&&c.subscriptionProduct&&c.subscriptionProduct.owner&&c.subscriptionProduct.owner.id||"",f={channelID:h},g=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,a.$6.apollo.client.query({query:l,variables:f})];case 6:return g=i.sent(),[3,8];case 7:return v=i.sent(),a.kg.warn(v,"Failed to make query for channel info in EmoteCard reporting.",{channelID:h}),[3,8];case 8:return y=g&&g.data&&g.data.user||null,g&&!y&&a.kg.warn("Query for channel info in EmoteCard reporting returned no data.",{channelID:h}),k=!!y&&!!y.hasPrime,S=y&&y.self,C=!!S&&!!S.subscriptionBenefit,b=!!S&&!!S.canPrimeSubscribe,w={emote_location:e.emoteLocation,emoticon_id:e.emoticonID,chat_channel:e.chatChannel,chat_channel_id:e.chatChannelID,emote_channel:p,emote_channel_id:h,referrer_user_id:e.referrerUserID,action:e.action,is_subscribed:C,is_subscribed_tier:S&&S.subscriptionBenefit&&S.subscriptionBenefit.tier||"",emote_tier:c&&c.subscriptionProduct&&c.subscriptionProduct.tier||"",emote_status:N(m),has_prime:k,can_subscribe:b,msg_id:e.msgID},a.UO.track(o.N.EmoteCardInteraction,w),[2]}}))}))}function _(e){switch(e){case s.Vn.chat:return m;case s.Vn.whisper:return h;case s.Vn.vod:return f;case s.Vn.room:return p;case s.Vn.unknown:default:return c}}function N(e){switch(e){case u.ee.Prime:return C;case u.ee.Turbo:return b;case u.ee.Subscription:return v;case u.ee.LimitedTime:return k;case u.ee.Unavailable:return y;case u.ee.Global:return S;case u.ee.TwoFactor:case u.ee.Unknown:default:return w}}},834375:function(e,n,t){"use strict";t.d(n,{ee:function(){return i},RT:function(){return s},IW:function(){return l},Oy:function(){return d},FA:function(){return u}});var i,a=t(1208),r=t(128416),o=t(477130);function s(e){var n,t;if(e.emote&&e.emote.type)switch(e.emote.type){case r.eeY.TWO_FACTOR:return i.TwoFactor;case r.eeY.BITS_BADGE_TIERS:return i.BitsTier;case r.eeY.CHANNEL_POINTS:return i.ChannelPoints;case r.eeY.SUBSCRIPTIONS:if(!e.emote.owner)return i.Unavailable;if("139075904"===(null===(n=e.emote.owner)||void 0===n?void 0:n.id))return i.LimitedTime;var a=(null===(t=e.emote.token)||void 0===t?void 0:t.split("_"))||[];return e.emote.setID===o.zs||a.length>1?i.ChannelPoints:i.Subscription;case r.eeY.GLOBALS:return i.Global;case r.eeY.PRIME:return i.Prime;case r.eeY.TURBO:return i.Turbo;case r.eeY.SMILIES:return i.Global;case r.eeY.UNKNOWN:return i.Unknown;case r.eeY.HYPE_TRAIN:case r.eeY.MEGA_COMMERCE:default:return i.LimitedTime}return i.Unknown}function l(e){switch(e){case r.yar.TIER_1:return a.G.Tier1;case r.yar.TIER_2:return a.G.Tier2;case r.yar.TIER_3:return a.G.Tier3;default:return""}}function d(e){for(var n=null,t=null,i=null,a=0,o=e;a<o.length;a++){var s=o[a];switch(s.tier){case r.yar.TIER_1:n=s;break;case r.yar.TIER_2:t=s;break;case r.yar.TIER_3:i=s}}return{tier1:n,tier2:t,tier3:i}}function u(e,n){if(e===n)return!1;switch(e){case r.yar.TIER_1:return!1;case r.yar.TIER_2:return n!==r.yar.TIER_3;case r.yar.TIER_3:return!0;default:return!1}}!function(e){e[e.Unknown=0]="Unknown",e[e.Prime=1]="Prime",e[e.Turbo=2]="Turbo",e[e.LimitedTime=3]="LimitedTime",e[e.ChannelPoints=4]="ChannelPoints",e[e.Unavailable=5]="Unavailable",e[e.Subscription=6]="Subscription",e[e.BitsTier=7]="BitsTier",e[e.Global=8]="Global",e[e.TwoFactor=9]="TwoFactor"}(i||(i={}))},148707:function(e,n,t){"use strict";t.d(n,{sZ:function(){return C},PZ:function(){return b},Bk:function(){return E}});var i=t(570655),a=t(129989),r=t(667294),o=t(137703),s=t(14890),l=t(831642),d=t(987145),u=t(867284),c=t(906704),m=t(344689),p=t(508995),h=t(797425),f=t(884979),g=t(755254),v=t(43116),y=t(591677),k="useHighContrastColors",S=(0,f.k)("HighContrastSettingContext",{setValue:function(){return null},value:!0}),C=S.context,b=S.withContext,w=function(e){function n(n){var t=e.call(this,n)||this;t.setValue=function(e){if(t.setState({localOverride:e}),l.tO.set(k,e),t.props.isLoggedIn){var n=(0,i.__assign)((0,i.__assign)({},(0,m.k_)({isReadableChatColorsEnabled:e})),{optimisticResponse:{setReadableChatColorsEnabled:{__typename:"SetReadableChatColorsEnabledPayload",isReadableChatColorsEnabled:e}},update:function(n){var t;try{t=n.readQuery({query:y})}catch(e){return}if(t&&t.currentUser&&t.currentUser.chatUISettings){var i=a(t,(function(e){return e.currentUser.chatUISettings.isReadableChatColorsEnabled}),(function(){return e}));n.writeQuery({query:y,data:i})}}});t.props.setReadableChatColors(n)}},t.state={};var r=(0,g.Au)().useHighContrastColors;return void 0!==r&&((0,g.ED)("useHighContrastColors"),l.tO.set(k,r)),t}return(0,i.__extends)(n,e),n.prototype.render=function(){return r.createElement(C.Provider,{value:{setValue:this.setValue,value:this.value}},this.props.children)},n.prototype.componentDidUpdate=function(e){this.hasData(this.props)&&!this.hasData(e)&&(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?l.tO.set(k,this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled):this.setValue(this.value))},n.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(n.prototype,"value",{get:function(){return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled:l.tO.get(k,!0)},enumerable:!0,configurable:!0}),n}(r.Component);var E=(0,s.qC)((0,o.$j)((function(e){return{isLoggedIn:(0,h.jl)(e)}})),(0,d.TA)(y,{skip:function(e){return!e.isLoggedIn}}),(0,u.P)((function(e){var n,t;return{query:y,topic:(0,p.e0)((null===(t=null===(n=e.data)||void 0===n?void 0:n.currentUser)||void 0===t?void 0:t.id)||""),skip:!e.data||e.data.loading||!e.isLoggedIn,skipMessage:function(e){return e.type!==c.qU.UserPreferencesReadableChatColors},type:c.qU.UserPreferencesReadableChatColors,mutator:function(e,n){return n=a(n,(function(e){return e.currentUser.chatUISettings.isReadableChatColorsEnabled}),(function(){return e.new_value}))}}})),(0,d.TA)(v,{name:"setReadableChatColors"}))(w)},77966:function(e,n,t){"use strict";t.d(n,{aO:function(){return o},R2:function(){return s},qT:function(){return l},MM:function(){return d}});var i=t(570655),a=t(667294),r=(0,t(884979).k)("ModerationTrackingContext",{}),o=r.context,s=r.withContext;function l(e){return(0,i.__assign)({},e)}var d=function(e){return a.useContext(o).page?a.createElement(a.Fragment,null,e.children):a.createElement(o.Provider,{value:{page:e.page}},e.children)}},961550:function(e,n,t){"use strict";t.d(n,{c:function(){return B}});var i=t(570655),a=t(667294),r=t(137703),o=t(14890),s=t(987145),l=t(797425),d=t(457087),u=t(124822),c=t(430028),m=t(419341),p=t(925445),h=t(986923),f=t(233563),g=t(607642),v=t(77966),y=t(86891),k=t(509301),S=t(576540),C=t(922866);var b=t(734995),w=t(270406),E=t(58661),_=t(796441),N=t(831642),D=t(986230),M=t(175424),I=t(440837),T=t(382448),P=t(150125),R=t(935945),A=t(632712),L=function(e){function n(n){var t=e.call(this,n)||this;return t.usersInChatString=function(){return t.props.isCurrentUserBanned?(0,N.wv)("You may not view Users in Chat while banned","ChatRoomsHeaderUsersInChatButton"):(0,N.wv)("Users in Chat","ChatRoomsHeaderUsersInChatButton")},t.showViewersList=function(){t.props.chatView===A.i.ViewerList?t.props.closeChatViewerList():t.props.showChatViewerList()},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return a.createElement(b.A,{className:"stream-chat-header",background:w.Aq.Base,borderBottom:!0,display:w.sS.Flex,fullWidth:!0,justifyContent:w.uM.Center,alignItems:w.g1.Center,flexShrink:0,padding:{left:1,right:1},style:{zIndex:2001}},a.createElement(b.A,{display:w.sS.Flex,alignItems:w.g1.Center},this.renderStreamChatTitle()),a.createElement(b.A,{position:w.Ly.Absolute,attachRight:!0,margin:{right:1}},a.createElement(M.ns,{align:M.Mg.Right,label:this.usersInChatString(),direction:M.AR.Bottom},a.createElement(I.Ei,{"aria-label":this.usersInChatString(),"data-test-selector":"chat-viewer-list",icon:T.e.Friends,onClick:this.showViewersList,disabled:this.props.isCurrentUserBanned}))))},n.prototype.renderStreamChatTitle=function(){return a.createElement(E.V,{color:w.Il.Alt,"data-test-selector":R.Hh,fontSize:w.Bf.Size6,fontWeight:w.U9.SemiBold,id:R.Hh,transform:P._5.Uppercase,type:P.yG.H5},this.streamChatTitleString())},n.prototype.streamChatTitleString=function(){return this.props.channelDisplayName?(0,N.wv)("<x:bold>{displayName}</x:bold>'s Chat",{displayName:this.props.channelDisplayName,"x:bold":function(e){return a.createElement(E.V,{type:P.yG.Span,bold:!0},e)}},"RoomsHeaderUserChat"):(0,N.wv)("Stream Chat","RoomsHeaderTitle")},n}(a.PureComponent);var F=(0,o.qC)((0,g.SZ)((function(e){return{chatView:e.chatView,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList}})))(L),U=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.isCurrentUserBanned=function(){var e,t,i,a;return!!(null===(a=null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.banStatus)||void 0===a?void 0:a.isPermanent)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.updateChatConfigState({hideChatSettings:!!this.props.hideChatSettings,showModViewIngress:!!this.props.showModViewIngress,hideOnboardingPrompts:!!this.props.hideOnboardingPrompts,hideChatInputButtons:!!this.props.hideChatInputButtons,onUsernameClick:this.props.onUsernameClick})},n.prototype.render=function(){return a.createElement(b.A,{className:"stream-chat",fullWidth:!0,fullHeight:!0,display:w.sS.Flex,flexDirection:w.Qb.Column,flexGrow:1,flexWrap:w.gP.NoWrap,position:w.Ly.Relative},this.renderHeader(),this.renderHiddenState(),this.renderChat())},n.prototype.renderChat=function(){return this.props.isHidden&&!this.props.isPopout?null:a.createElement(D.en,{channelLogin:this.props.channelLogin,clientID:N.vc.authSettings.clientID,isBackground:this.props.isBackground,isEmbedded:this.props.isEmbedded,isPopout:this.props.isPopout,onHostingChange:this.props.onHostingChange,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isReadOnly:this.props.isReadOnly})},n.prototype.renderHeader=function(){if(!this.props.hideHeader){var e=void 0;return this.props.renderChannelName&&this.props.data&&this.props.data.channel&&this.props.data.channel.displayName&&(e=this.props.data.channel.displayName),a.createElement(F,{channelDisplayName:e,isCurrentUserBanned:this.isCurrentUserBanned()})}},n.prototype.renderHiddenState=function(){return!this.props.isHidden||this.props.isPopout?null:a.createElement(b.A,{alignItems:w.g1.Center,borderLeft:!0,"data-test-selector":"stream-chat-hidden-state",display:w.sS.Flex,flexDirection:w.Qb.Column,fullHeight:!0,fullWidth:!0,justifyContent:w.uM.Center,color:w.Il.Base,position:w.Ly.Relative},a.createElement(b.A,{margin:{bottom:1}},a.createElement(E.V,{fontSize:w.Bf.Size5},(0,N.wv)("Chat is hidden.","RoomSelector"))),a.createElement(_.zx,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button"},(0,N.wv)("Show Chat","RoomSelector")))},n}(a.Component),x=t(835875);var O=(0,p.Aq)((function(e){return{updateChatConfigState:function(n){return e.updateChatConfigState(n)}}}))(U),B=(0,o.qC)((0,r.$j)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isHidden:e.chat.isHidden,sessionUser:(0,l.PR)(e)}}),(function(e){return(0,o.DE)({onChatUnhide:function(){return m.YF()}},e)})),(0,s.TA)(x,{skip:function(e){return!e.firstPageLoaded},props:function(e){return{data:e.data,channelID:e.data&&e.data.channel&&e.data.channel.id}},options:function(e){return{variables:{login:e.channelLogin}}}}),(0,s.TA)(S,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.firstPageLoaded},name:"activeWatchParty"}),(0,y.C)(),(function(e){return function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return(0,i.__extends)(t,n),t.prototype.render=function(){return a.createElement(C.dc,(0,i.__assign)({},this.props),a.createElement(e,(0,i.__assign)({},this.props)))},t}(a.Component)}),(0,C.T_)((function(e){return{allowChatOnPageDuringWatchParty:e.allowChatOnPageDuringWatchParty}})),(0,k.W)("StreamChat",{autoReportInteractive:!0}))((function(e){return a.createElement(g.sQ,{viewManager:e.viewManager},a.createElement(p.EX,null,a.createElement(h.M9,null,a.createElement(u.w6,{channelLogin:e.channelLogin},a.createElement(f.j9,null,a.createElement(c.pY,{key:e.channelLogin,channelLogin:e.channelLogin},a.createElement(d.t0,{channelLogin:e.channelLogin},a.createElement(v.MM,{page:e.page},a.createElement(O,(0,i.__assign)({},e))))))))))}))},325820:function(e,n,t){"use strict";t.d(n,{lx:function(){return h},Hu:function(){return f},jA:function(){return m},ws:function(){return v}});var i=t(570655),a=t(667294),r=t(831642),o=t(797425),s=t(884979),l=t(925445),d=t(667346),u=t(426494),c=t(190109),m=function(){var e,n=a.useContext(h);return(null===(e=n.viewerCardOptions)||void 0===e?void 0:e.viewerCardType)===c.BO.Viewer?{viewerCardOptions:n.viewerCardOptions,setViewerCardPage:n.setViewerCardPage}:{setViewerCardPage:n.setViewerCardPage}},p=(0,s.k)("ViewerCardContext",{viewerCardOptions:null,onShowViewerCard:function(){return null},onShowExtensionMessageCard:function(){return null},onShowEmoteCard:function(){return null},hideViewerCard:function(){return null},setViewerCardPage:function(){return null}}),h=p.context,f=p.withContext,g=function(e){function n(n){var t=e.call(this,n)||this;return t.onShowViewerCard=function(e,n,i,a,r){t.setState((function(t){var o=t.viewerCardOptions;return o&&o.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:c.BO.Viewer,initialTopOffset:a,sourceID:i,sourceType:n,targetID:e,page:r||{type:c.cY.MainPage}}}}))},t.onShowExtensionMessageCard=function(e,n,i,a){t.setState((function(t){var r=t.viewerCardOptions;return r&&r.viewerCardType===c.BO.Extension&&r.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:c.BO.Extension,initialTopOffset:a,sourceID:i,targetID:e,extensionVersion:n}}}))},t.onShowEmoteCard=function(e){t.setState((function(n){var t=n.viewerCardOptions;return t&&t.viewerCardType===c.BO.Emote&&t.emoteID===e.emoteID?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:c.BO.Emote,initialTopOffset:e.initialTopOffset||0,sourceID:e.sourceID,emoteSourceType:e.emoteSourceType,targetID:e.referrerID,emoteID:e.emoteID,emoteCode:e.emoteCode}}})),(0,d.f_)({emoteLocation:(0,d.Gv)(e.emoteSourceType),emoticonID:e.emoteID,chatChannel:e.channelLogin,chatChannelID:e.channelID?e.channelID:"",referrerUserID:e.referrerID,action:d.s8.Open,msgID:e.sourceID,isLoggedIn:(0,o.jl)(r.$6.store.getState())})},t.hideViewerCard=function(e){t.setState({viewerCardOptions:null}),e&&(0,u.WV)(e)},t.setViewerCardPage=function(e){t.setState((function(n){var t=n.viewerCardOptions;return t&&t.viewerCardType===c.BO.Viewer?(0,i.__assign)((0,i.__assign)({},n),{viewerCardOptions:(0,i.__assign)((0,i.__assign)({},t),{page:e})}):n}))},t.state={viewerCardOptions:null,onShowViewerCard:t.props.onUsernameClick||t.onShowViewerCard,onShowExtensionMessageCard:t.onShowExtensionMessageCard,onShowEmoteCard:t.onShowEmoteCard,hideViewerCard:t.hideViewerCard,setViewerCardPage:t.setViewerCardPage},t}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){!e.onUsernameClick&&this.props.onUsernameClick&&this.setState({onShowViewerCard:this.props.onUsernameClick})},n.prototype.render=function(){return a.createElement(h.Provider,{value:this.state},this.props.children)},n}(a.Component);var v=(0,l.Aq)((function(e){return{onUsernameClick:e.onUsernameClick}}))(g)},426494:function(e,n,t){"use strict";t.d(n,{Yv:function(){return i},w2:function(){return a},Wy:function(){return y},M$:function(){return m},z5:function(){return S},WV:function(){return C},Ai:function(){return b},u2:function(){return w},eD:function(){return E},Xw:function(){return p},ne:function(){return _},O7:function(){return N},Kc:function(){return h},gx:function(){return D},mj:function(){return M},Kz:function(){return f},an:function(){return I}});var i,a,r=t(570655),o=t(831642),s=t(560772),l=t(128416),d=t(742407),u=t(342668),c=t(190109);!function(e){e.Messages="messages",e.Timeouts="timeouts",e.Bans="bans",e.ModComments="mod_comments",e.PopOut="popout",e.Whisper="whisper",e.GiftSub="gift_sub",e.CarouselClick="carousel_click",e.BadgeOverflowClick="badge_overflow_click"}(i||(i={})),function(e){e.Expand="expand",e.Collapse="collapse",e.ExpandBadges="expand_badges",e.CollapseBadges="collapse_badges",e.CarouselLeft="carousel_left",e.CarouselRight="carousel_right"}(a||(a={}));var m,p,h,f,g=null;function v(){return g||(g=(0,s._f)()),g}function y(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(t){return n={target_user_id:e.targetUserID||"",target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin,click_text:k(e.clickText),profile_card_type:e.cardType,action:e.action,ui_context:e.sourceType?c.TU[e.sourceType]:void 0},o.UO.track(d.N.ChatProfileCardClick,n),[2]}))}))}function k(e){switch(e){case u.A.Messages:return i.Messages;case u.A.Timeouts:return i.Timeouts;case u.A.Bans:return i.Bans;case u.A.ModComments:return i.ModComments;default:return e}}function S(e,n,t,i){var a,s,l;return(0,r.__awaiter)(this,void 0,void 0,(function(){var u;return(0,r.__generator)(this,(function(r){return u={target_user_id:t.id,target_login:null!==(a=t.login)&&void 0!==a?a:e.targetLogin,channel_id:null!==(s=i.id)&&void 0!==s?s:e.channelID,channel_login:null!==(l=i.login)&&void 0!==l?l:e.channelLogin,profile_card_type:E(n,i),ui_context:c.TU[e.sourceType],view_session_uuid:v()},o.UO.track(d.N.ChatProfileCardOpen,u),[2]}))}))}function C(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(t){return n={target_user_id:e.targetUserID||"",target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin},o.UO.track(d.N.ChatProfileCardClose,n),g=null,[2]}))}))}function b(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(t){return n={target_user_id:e.targetUserID||"",target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin},o.UO.track(d.N.ChatProfileCardDrag,n),[2]}))}))}function w(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(t){return n={target_user_id:e.targetUserID||"",target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin},o.UO.track(d.N.ChatProfileCardUserNameClick,n),[2]}))}))}function E(e,n){var t;return e.id===n.id?m.Broadcaster:(null===(t=n.self)||void 0===t?void 0:t.isModerator)?n.modLogsRoleAccess&&n.modLogsRoleAccess.accessLevel!==l.efb.NONE?m.ModWithChatlogs:m.ModWithoutChatlogs:m.RegularViewer}function _(e,n){var t,i;return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,s,l,u,c;return(0,r.__generator)(this,(function(r){return a=e.data,s=a.channelUser,l=a.targetUser,u=e.isPopout,c={comment_uuid:n.id,ui_context:u?p.ViewerCardPopout:p.ViewerCard,target_user_id:l&&l.id,target_login:l&&l.login,channel_id:null!==(t=null==s?void 0:s.id)&&void 0!==t?t:e.channelID,channel_login:null!==(i=null==s?void 0:s.login)&&void 0!==i?i:e.channelLogin,from_user_id:n.author&&n.author.id,from_user_login:n.author&&n.author.login},o.UO.track(d.N.ClientModCommentAdd,c),[2]}))}))}function N(e,n){var t,i;return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,s,l,u,c;return(0,r.__generator)(this,(function(r){return a=e.data,s=a.channelUser,l=a.targetUser,u=e.isPopout,c={comment_uuid:n.id,ui_context:u?p.ViewerCardPopout:p.ViewerCard,target_user_id:l&&l.id,target_login:l&&l.login,channel_id:null!==(t=null==s?void 0:s.id)&&void 0!==t?t:e.channelID,channel_login:null!==(i=null==s?void 0:s.login)&&void 0!==i?i:e.channelLogin,from_user_id:n.author&&n.author.id,from_user_login:n.author&&n.author.login},o.UO.track(d.N.ClientModCommentDelete,c),[2]}))}))}function D(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return o.UO.track(d.N.ChatProfileCardClientInteraction,e),[2]}))}))}function M(e,n,t,i,a){var r={target_user_id:e,target_login:n,channel_id:t,badge_type:a.title,ui_context:c.TU[i],view_session_uuid:v()};o.UO.track(d.N.ChatProfileCardBadgeClick,r)}function I(e,n,t,i,a){var r={target_user_id:e,target_login:n,channel_id:t,target_url:i.clickURL,cta_click:a,view_session_uuid:v()};o.UO.track(d.N.ChatProfileCardBadgeCTAClick,r)}!function(e){e.RegularViewer="regular_viewer",e.Broadcaster="broadcaster",e.ModWithChatlogs="mod_with_chatlogs",e.ModWithoutChatlogs="mod_without_chatlogs"}(m||(m={})),function(e){e.ViewerCard="chat_profile_card",e.ViewerCardPopout="chat_profile_card_popout",e.UnbanRequestsWidget="unban_requests_widget"}(p||(p={})),function(e){e.CustomizeProfile="customize_profile",e.CustomizeChatIdentity="customize_chat_identity"}(h||(h={})),function(e){e.Cheer="cheer_this_channel",e.Follow="follow",e.VisitChannel="visit_channel",e.LearnMore="learn_more",e.Subscribe="subcribe",e.Resubscribe="resubscribe",e.GiftSub="gift_sub"}(f||(f={}))},73732:function(e,n,t){"use strict";t.d(n,{I:function(){return s}});var i=t(667294),a=t(731110),r=t(270406);function o(e){e.stopPropagation()}var s=function(e){return i.createElement(a.o,{fullWidth:e.fullWidth,className:e.className,display:r.sS.InlineFlex},i.createElement("div",{className:"viewer-card-drag-cancel",onMouseDown:o},e.children))}},469790:function(e,n,t){"use strict";t.d(n,{w:function(){return y}});var i=t(570655),a=t(294184),r=t(667294),o=t(734995),s=t(831642),l=t(128416),d=t(283140),u=t(238487),c=t(233912),m=t(879072),p=t(180592),h=t(251146),f=function(e){switch(e){case l.ser.AGGRESSIVE:return(0,s.wv)("hostility","AutoModExplanation");case l.ser.SEXUAL:return(0,s.wv)("sexual","AutoModExplanation");case l.ser.PROFANITY:return(0,s.wv)("profanity","AutoModExplanation");case l.ser.IDENTITY:return(0,s.wv)("identity","AutoModExplanation");case l.ser.AGGRESSION:return(0,h.ng)(h.Dt.Aggression);case l.ser.DISABILITY:return(0,h.ng)(h.Dt.Ableism);case l.ser.SEXUALITY_SEX_OR_GENDER:return(0,h.ng)(h.Dt.Homophobia);case l.ser.MISOGYNY:return(0,h.ng)(h.Dt.Misogyny);case l.ser.BULLYING:return(0,h.ng)(h.Dt.NameCalling);case l.ser.RACE_ETHNICITY_OR_RELIGION:return(0,h.ng)(h.Dt.Racism);case l.ser.SEX_BASED_TERMS:return(0,h.ng)(h.Dt.Sexual);case l.ser.SWEARING:return(0,h.ng)(h.Dt.Profanity);default:return null}},g=function(e){switch(e){case l.m2u.ALLOWED:return(0,s.wv)("Approved","AutoModExplanation");case l.m2u.DENIED:return(0,s.wv)("Denied","AutoModExplanation");case l.m2u.EXPIRED:return(0,s.wv)("Expired","AutoModExplanation");case l.m2u.PENDING:default:return(0,s.wv)("Pending","AutoModExplanation")}},v={id:u.WP.id,login:u.WP.username,chatColor:u.yX,displayName:u.WP.displayName,displayBadges:[],__typename:"User"},y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.autoModExplanationGenerator=function(e,t,i){var a=n.props.caughtMessage,o=a.resolvedAt,d=a.status,u=n.props.caughtMessage.modLogsMessage.id;if(i)return(0,s.wv)("Held a message.","AutoModExplanation");var p=f(e);if(!p)return(0,s.wv)("Held a message for a new/unknown category.","AutoModExplanation");var h=g(d);if(t){var v=r.createElement(m.S3,{messageID:u,sender:t,onUsernameClick:null,highContrastUsernameColor:n.props.highContrastUsernameColor,theme:n.props.theme});return o?(0,s.wv)("Held a message for reason: {category}. ({status} by {resolver} at {resolvedAt})",{category:p,status:h,resolver:v,resolvedAt:(0,c.i$)(new Date(o),!0)},"AutoModExplanation"):(0,s.wv)("Held a message for reason: {category}. ({status} by {resolver})",{category:p,status:h,resolver:v},"AutoModExplanation")}return d===l.m2u.PENDING?(0,s.wv)("Held a message for reason: {category}. (Pending review by moderators)",{category:p},"AutoModExplanation"):(0,s.wv)("Held a message for reason: {category}. (Expired and not posted to Chat)",{category:p},"AutoModExplanation")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.channelID,t=e.badgeSets,c=e.currentUserLogin,h=this.props.caughtMessage,f=h.category,g=h.modLogsMessage,y=h.resolver,k=h.status,S=g.sender,C=g.id;if(!S||!C)return r.createElement(o.A,{padding:{x:2,y:1}},(0,s.wv)("unable to properly render message","AutoModCaughtMessage"));var b=(0,i.__assign)((0,i.__assign)({},g),{deletedAt:null,__typename:"Message"}),w=k===l.m2u.ALLOWED;return r.createElement(o.A,{padding:{x:1,y:.5},key:C+"-automod-caught-message"},r.createElement(o.A,{className:"automod-message"},r.createElement(d.k,{badgeSets:t,badgesToRender:u.D_}),r.createElement(m.S3,{messageID:C,sender:v,onUsernameClick:null,highContrastUsernameColor:this.props.highContrastUsernameColor,theme:this.props.theme}),r.createElement("span",{key:"separator"},": "),this.autoModExplanationGenerator(f,y,this.props.hideDetails)),r.createElement(o.A,{padding:{y:0},className:a("flagged-message",{"flagged-message--approved":w,"flagged-message--rejected":!w})},r.createElement(p.v0,{channelID:n,showModerationIcons:!1,showTimestamps:!this.props.hideTimestamp,badgeSets:t,currentUserLogin:c,hasModPermissions:!0,message:b,onUsernameClick:null,padding:{x:1,y:.5},highContrastUsernameColor:this.props.highContrastUsernameColor,theme:this.props.theme})))},n}(r.Component)},342668:function(e,n,t){"use strict";var i;t.d(n,{A:function(){return i}}),function(e){e[e.Messages=0]="Messages",e[e.Timeouts=1]="Timeouts",e[e.Bans=2]="Bans",e[e.ModComments=3]="ModComments"}(i||(i={}))},19596:function(e,n,t){"use strict";t.d(n,{M:function(){return l}});var i=t(570655),a=t(667294),r=t(137703),o=t(63031),s=t(806082);function l(){return function(e){var n=e,t=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(r,t),r.prototype.render=function(){return a.createElement(n,(0,i.__assign)({},this.props,{fontScaleClassName:(0,s.r)(this.props.fontSizePreference)}))},r.displayName=(0,o.G)(r.name,e),r}(a.Component);return(0,r.$j)(d)(t)}}function d(e){return{fontSizePreference:e.chat.fontSizePreference}}},806082:function(e,n,t){"use strict";t.d(n,{r:function(){return i}});var i=function(e){return"font-scale--"+e}},713890:function(e,n,t){"use strict";t.d(n,{q:function(){return a}});var i=t(498409);function a(e){return{type:i.SJ.ChannelPointsReward,id:e.id,displayName:e.userDisplayName,login:e.userLogin,reward:e.reward,message:e.message,userID:e.userID}}},587039:function(e,n,t){"use strict";var i;t.d(n,{t:function(){return i}}),function(e){e.Admin="admin",e.GlobalMod="global_mod",e.Moderator="mod",e.Owner="owner",e.Staff="staff",e.Subscriber="subscriber",e.User=""}(i||(i={}))},869487:function(e,n,t){"use strict";t.d(n,{W:function(){return r}});var i=t(498409),a=t(670599);function r(e){return{type:i.SJ.Info,id:(0,a.C)("info"),message:e}}},510091:function(e,n,t){"use strict";t.d(n,{I:function(){return s}});var i=t(570655),a=t(498409),r=t(274178),o=t(670599);function s(e,n,t,s,l,d,u,c,m,p){return void 0===d&&(d=!1),void 0===u&&(u=!1),void 0===c&&(c=Date.now()),void 0===m&&(m={}),(0,i.__assign)((0,i.__assign)({},(0,r.aE)(n,t,s,l,d,u,!1,c,m)),{type:a.SJ.Message,messageType:e,isHistorical:m.isHistorical,id:t.id||(0,o.C)(t.username),bitsImageUrl:p})}},380079:function(e,n,t){"use strict";t.d(n,{gm:function(){return i},vX:function(){return u},Wt:function(){return c},AI:function(){return m},ZQ:function(){return p},b:function(){return h},DP:function(){return f},X7:function(){return g}});var i,a=t(570655),r=t(646628),o=t(498409),s=t(274178),l=t(670599),d=t(587039);function u(e){var n=e.data.message,t=n.id,i=n.sent_at,l=n.sender,u=n.content,c=e.data.message.content.text,m=e.data.message.sender.login,p=e.data.content_classification.category,h={badges:null,badgeDynamicData:null,bits:0,color:"",displayName:"",id:"",userID:m||"",username:m||"",userType:d.t.User,emotes:{}},f=(0,s.aE)(c,h,r.Nv);return{type:o.SJ.AutoMod,autoModType:o.mT.MessageRejectedPrompt,id:t,category:p,sent_at:i,sender:l,content:u,rejectedMessage:(0,a.__assign)((0,a.__assign)({},f),{type:o.SJ.Message,messageType:o.Ay.Post,id:t})}}function c(){return{id:(0,l.C)("automod-message-rejected"),type:o.SJ.AutoMod,autoModType:o.mT.MessageRejected}}function m(){return{id:(0,l.C)("automod-message-allowed"),type:o.SJ.AutoMod,autoModType:o.mT.MessageAllowed}}function p(){return{id:(0,l.C)("automod-message-denied"),type:o.SJ.AutoMod,autoModType:o.mT.MessageDenied}}function h(e,n,t,a,r){return{id:(0,l.C)("channel-moderation-action"),type:o.SJ.ModerationAction,moderationActionType:e,level:i.Channel,createdByLogin:n,createdByUserID:t,args:a,fromAutoMod:r}}function f(e,n,t,a,r,s,d,u){return{id:(0,l.C)("channel-moderation-action"),type:o.SJ.ModerationAction,moderationActionType:e,level:i.User,createdByLogin:n,createdByUserID:t,targetUserLogin:a,duration:r,reason:s,messageBody:d,messageID:u}}function g(e,n,t,i){return{id:(0,l.C)("channel-moderation-action"),type:o.SJ.TargetedModerationAction,targetedModerationActionType:e,targetUserID:n,messageBody:t,targetMessageID:i}}!function(e){e[e.Channel=0]="Channel",e[e.User=1]="User"}(i||(i={}))},259115:function(e,n,t){"use strict";t.d(n,{sx:function(){return r},fp:function(){return o},xJ:function(){return s},FW:function(){return l},V1:function(){return d},uu:function(){return u},L:function(){return c},QC:function(){return m},CI:function(){return p},Vs:function(){return h},aK:function(){return f},MM:function(){return g},f1:function(){return v}});var i=t(498409),a=t(670599);function r(){return{type:i.SJ.Connected,id:(0,a.C)("connected")}}function o(e){return{type:i.SJ.Disconnected,id:(0,a.C)("disconnected"),reason:e}}function s(){return{type:i.SJ.Reconnect,id:(0,a.C)("reconnect")}}function l(e,n,t){return{type:i.SJ.Hosted,id:(0,a.C)("hosted-"+e),hostingChannel:e,isAutohost:n,viewerCount:t}}function d(e){return{type:i.SJ.Hosting,id:(0,a.C)("hosting"),hostedChannel:e}}function u(e){return{type:i.SJ.Unhost,id:(0,a.C)("unhost-"+e)}}function c(e){return{type:i.SJ.RoomMods,id:(0,a.C)("roommods"),moderatorLogins:e}}function m(e){return{type:i.SJ.RoomState,id:(0,a.C)("roomstate"),state:e}}function p(e,n){return{type:i.SJ.SlowMode,id:(0,a.C)("slowmode"),enabled:e,length:n}}function h(e){return{type:i.SJ.EmoteOnlyMode,id:(0,a.C)("emoteonlymode"),enabled:e}}function f(e,n){return{type:i.SJ.FollowerOnlyMode,id:(0,a.C)("follower-only"),enabled:e,length:n}}function g(e){return{type:i.SJ.SubscriberOnlyMode,id:(0,a.C)("subscriber-only"),enabled:e}}function v(e){return{type:i.SJ.R9KMode,id:(0,a.C)("r9kmode"),enabled:e}}},986230:function(e,n,t){"use strict";t.d(n,{en:function(){return Ae}});t(937251);var i=t(137703),a=t(14890),r=t(987145),o=t(797425),s=t(201515),l=t(984421),d=t(361945),u=t(720205),c=t(331902),m=t(509301),p=t(462966),h=t(570655),f=t(667294),g=t(912654),v=t(702631),y=t(49320),k=t(965397),S=t(523094),C=t(391831),b=t(857246),w=t(419341),E=t(877465),_=t(613290),N=t(233563),D=t(832581),M=t(617063),I=t(736959),T=t(901382),P=t(719689),R=t(148707),A=t(325820),L=t(259115),F=t(196171),U=t(498409),x=t(592407),O=t(82246),B=function(e){function n(n){var t=e.call(this,n)||this;return t.getActiveChatters=function(e,n){if(void 0===e&&(e=""),void 0===n&&(n=1/0),t.isDirty&&t.sortChatters(),!e)return t.sortedChatters.slice(0,n);var i=new RegExp("^"+(0,x.h)(e),"i");return t.sortedChatters.filter((function(e){return i.test(e.login)||e.displayName&&i.test(e.displayName)})).slice(0,n)},t.handleMessage=function(e){(0,O.l)(e).forEach((function(e){return t.handleActiveChatter({displayName:e.displayName,login:e.login})}))},t.getActiveChatterLoginFromDisplayName=function(e){return Object.keys(t.activeChatters).find((function(n){return t.activeChatters[n]&&t.activeChatters[n].displayName===e}))||null},t.reset(),t}return(0,h.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.setActiveChattersAPI({getActiveChatters:this.getActiveChatters,getActiveChatterLoginFromDisplayName:this.getActiveChatterLoginFromDisplayName,handleMessage:this.handleMessage}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)},n.prototype.componentWillUnmount=function(){this.props.setActiveChattersAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage)},n.prototype.render=function(){return null},n.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.reset(),this.props.currentUserLogin&&this.props.currentUserLogin!==e.currentUserLogin&&this.activeChatterLogins.has(this.props.currentUserLogin)&&(this.isDirty=!0,this.removeActiveChatter(this.props.currentUserLogin)),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage))},n.prototype.reset=function(){this.activeChatterLogins=new Set,this.activeChatters={},this.isDirty=!0,this.sortedChatters=[]},n.prototype.handleActiveChatter=function(e){e.login!==this.props.channelLogin&&e.login!==this.props.currentUserLogin&&(this.activeChatterLogins.has(e.login)?(this.activeChatterLogins.delete(e.login),this.addActiveChatter(e)):(this.addActiveChatter(e),this.trimActiveChatters(),this.isDirty=!0))},n.prototype.addActiveChatter=function(e){this.activeChatterLogins.add(e.login),this.activeChatters[e.login]=e},n.prototype.removeActiveChatter=function(e){this.activeChatterLogins.delete(e),delete this.activeChatters[e]},n.prototype.trimActiveChatters=function(){if(!(this.activeChatterLogins.size<=300))for(var e=this.activeChatterLogins.size-300,n=this.activeChatterLogins.values(),t=0;t<e;t++){var i=n.next().value;this.removeActiveChatter(i)}},n.prototype.sortChatters=function(){var e=this,n=[{displayName:this.props.channelDisplayName||void 0,login:this.props.channelLogin}],t=Object.keys(this.activeChatters).map((function(n){return e.activeChatters[n]}));t.sort((function(e,n){return e.login<n.login?-1:e.login>n.login?1:0})),this.sortedChatters=n.concat(t),this.isDirty=!1},n}(f.Component);var V=(0,a.qC)((0,i.$j)((function(e){var n=(0,o.PR)(e);return{currentUserLogin:n&&n.login}})),s.j,c.Qt)(B),q=t(128416),G=t(380079),H=t(670599),W=t(268273),z=function(e){var n=e.channelID,t=f.useContext(c.DG).serviceAPI;return null===n?null:f.createElement(W.H,{channelID:n,onReceiveMessage:function(e){var n=e.data.message.id;switch(e.data.status){case q.m2u.PENDING:null==t||t.handleMessage((0,G.vX)(e));break;case q.m2u.ALLOWED:null==t||t.handleMessage({id:(0,H.C)("automod-message-approved"),msg_id:n,type:U.SJ.AutoMod,autoModType:U.mT.MessageModApproved});break;case q.m2u.DENIED:null==t||t.handleMessage({id:(0,H.C)("automod-message-denied"),msg_id:n,type:U.SJ.AutoMod,autoModType:U.mT.MessageModDenied});break;default:return}},onReceiveOffenderMessage:function(e){switch(e.data.status){case q.m2u.PENDING:null==t||t.handleMessage((0,G.Wt)());break;case q.m2u.ALLOWED:null==t||t.handleMessage((0,G.AI)());break;case q.m2u.DENIED:null==t||t.handleMessage((0,G.ZQ)());break;default:return}}})},$=t(520477),j=t(129989),Y=t(270961),Q=t(867284),J=t(906704),K=t(508995);var X,Z=t(169446),ee=t(654816),ne=t(707934),te=t(147292);function ie(e,n){var t=(0,te.addSeconds)(e,n);return Math.max(0,(0,te.differenceInSeconds)(t,new Date))}!function(e){e.Banned="msg_banned",e.Timedout="msg_timedout",e.Ratelimit="msg_ratelimit",e.Duplicate="msg_duplicate",e.Subsonly="msg_subsonly",e.EmoteOnly="msg_emoteonly",e.VerifiedEmail="msg_verified_email",e.Slowmode="msg_slowmode",e.Facebook="msg_facebook",e.BlizzardConnect="msg_blizzard",e.R9k="msg_r9k",e.Followers="msg_followersonly",e.FollowersZero="msg_followersonly_zero",e.FollowersFollowed="msg_followersonly_followed",e.ChannelSuspended="msg_channel_suspended",e.Suspended="msg_suspended",e.BadCharacters="msg_bad_characters"}(X||(X={}));var ae,re=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.reasons=[],n.updateHandlers=[],n.followTimerRunning=!1,n.slowModeTimerRunning=!1,n.followSecondsRemaining=0,n.slowSecondsRemaining=0,n.lastMessageSentAt=new Date(0),n.getRestrictions=function(){return 0===n.reasons.length?null:n.reasons},n.refetchRestrictions=function(){n.props.data.refetch()},n.updateRestrictionState=function(){var e;if(!n.props.data||!n.props.data.channel)return!1;var t=((e={})[q.D5M.REQUIRE_VERIFIED_PHONE_NUMBER]=n.shouldEnforcePhoneVerification(),e[q.D5M.SUBSCRIBERS_ONLY]=n.shouldEnforceSubsOnly(),e[q.D5M.VERIFIED_ONLY]=n.shouldEnforceVerifiedOnly(),e[q.D5M.FOLLOWERS_ONLY]=n.shouldEnforceFollowersOnly(),e[q.D5M.SLOW_MODE]=n.shouldEnforceSlowMode(),e),i=[],a=n.extractReasons(n.props);if(a)for(var r=0,o=a;r<o.length;r++){var s=o[r];if(t[s])if(s===q.D5M.VERIFIED_ONLY)n.props.data.currentUser&&n.props.data.currentUser.isEmailVerified||i.push(s);else if(s===q.D5M.FOLLOWERS_ONLY){if(null!==n.getFollowedTime()){if(0===n.props.followerDurationSeconds)continue;if(n.props.followerDurationSeconds>0&&n.followSecondsRemaining<=0)continue}i.push(s)}else s===q.D5M.SLOW_MODE?n.slowSecondsRemaining>0&&i.push(s):i.push(s)}return n.reasons=i,!0},n.getRemainingFollowSeconds=function(){return!!n.getFollowedTime()?Math.min(n.followSecondsRemaining,n.props.followerDurationSeconds):null},n.getRemainingSlowModeSeconds=function(){return n.slowSecondsRemaining},n.addUpdateHandler=function(e){-1===n.updateHandlers.indexOf(e)&&(n.updateHandlers=n.updateHandlers.concat(e))},n.removeUpdateHandler=function(e){n.updateHandlers=n.updateHandlers.filter((function(n){return n!==e}))},n.updateState=function(){var e=n.updateSlowState();return e=n.updateFollowState()||e,(e=n.updateRestrictionState()||e)&&n.notifyHandlers(),e},n.updateFollowState=function(){var e=n.getFollowedTime(),t=n.followSecondsRemaining,i=t;return e&&(i=ie(e,n.props.followerDurationSeconds),n.followSecondsRemaining=i),n.followTimerRunning&&(null===e||n.followSecondsRemaining<=0||!n.props.followerMode)?(n.stopFollowTimer(),!0):!n.followTimerRunning&&n.props.followerMode&&n.props.followerDuration>0&&e&&0!==e.getTime()?(n.startFollowTimer(),!0):i!==t},n.updateSlowState=function(){if(n.props.data&&n.props.data.channel&&n.props.data.channel.self&&n.props.data.channel.self.lastRecentChatMessageAt){var e=(0,ee.sG)(n.props.data.channel.self.lastRecentChatMessageAt);e>n.lastMessageSentAt&&(n.lastMessageSentAt=e)}var t=(new Date).getTime()/1e3,i=n.lastMessageSentAt.getTime()/1e3+n.props.slowModeDuration,a=n.slowSecondsRemaining;return n.slowSecondsRemaining=Math.round(Math.max(i-t,0)),n.slowModeTimerRunning&&(n.slowSecondsRemaining<=0||!n.props.slowMode||!n.shouldEnforceSlowMode())?(n.stopSlowTimer(),!0):n.slowSecondsRemaining>0&&a<=0?(n.startSlowTimer(),!0):n.slowSecondsRemaining!==a},n.notifyHandlers=function(){n.updateHandlers.forEach((function(e){return e()}))},n.onChatEvent=function(e){var t=new Date(0);switch(e.type){case U.SJ.Message:e.user.userID===n.props.currentUserID&&(t=new Date(e.timestamp));break;case U.SJ.Notice:Object.values(X).includes(e.msgid)&&(n.stopSlowTimer(),n.updateRestrictionState(),n.notifyHandlers())}t>n.lastMessageSentAt&&(n.lastMessageSentAt=t,n.updateSlowState()&&(n.updateRestrictionState(),n.notifyHandlers()))},n.startFollowTimer=function(){var e=n.getFollowedTime(),t=n.props.followerDurationSeconds;null===e||t<=0||!n.shouldEnforceFollowersOnly()||(n.followSecondsRemaining=ie(e,t),n.followTimerRunning=!0,n.countdownTimer.start())},n.stopFollowTimer=function(){n.followTimerRunning=!1,n.followSecondsRemaining=0,n.slowModeTimerRunning||n.countdownTimer.stop()},n.startSlowTimer=function(){n.shouldEnforceSlowMode()&&(n.slowModeTimerRunning=!0,n.countdownTimer.start())},n.stopSlowTimer=function(){n.slowModeTimerRunning=!1,n.slowSecondsRemaining=0,n.lastMessageSentAt=new Date(0),n.followTimerRunning||n.countdownTimer.stop()},n.tick=function(){n.updateState()},n.getFollowedTime=function(){return n.props.data&&n.props.data.channel&&n.props.data.channel.self&&n.props.data.channel.self.follower&&n.props.data.channel.self.follower.followedAt?(0,ee.sG)(n.props.data.channel.self.follower.followedAt):null},n.extractReasons=function(e){return e.data&&e.data.channel&&e.data.channel.self&&e.data.channel.self.chatRestrictedReasons?e.data.channel.self.chatRestrictedReasons:null},n.extractRequireVerified=function(e){return!!(e.data&&e.data.channel&&e.data.channel.chatSettings)&&e.data.channel.chatSettings.requireVerifiedAccount},n.restrictionIncluded=function(e){var t=n.extractReasons(n.props);return!!t&&-1!==t.indexOf(e)},n.shouldEnforceSubsOnly=function(){return n.props.subsOnlyMode&&n.restrictionIncluded(q.D5M.SUBSCRIBERS_ONLY)},n.shouldEnforcePhoneVerification=function(){return!0},n.shouldEnforceVerifiedOnly=function(){return!(!n.extractRequireVerified(n.props)||!n.restrictionIncluded(q.D5M.VERIFIED_ONLY))},n.shouldEnforceFollowersOnly=function(){return n.props.followerMode&&n.restrictionIncluded(q.D5M.FOLLOWERS_ONLY)},n.shouldEnforceSlowMode=function(){return n.props.slowMode&&n.restrictionIncluded(q.D5M.SLOW_MODE)},n}return(0,h.__extends)(n,e),n.prototype.componentDidMount=function(){var e=!1;this.props.setChatRestrictionsAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,refetchRestrictions:this.refetchRestrictions,getRestrictions:this.getRestrictions,getRemainingFollowSeconds:this.getRemainingFollowSeconds,getRemainingSlowModeSeconds:this.getRemainingSlowModeSeconds}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent),this.countdownTimer=new ne.z({onInterval:this.tick,intervalMillis:1e3}),this.shouldEnforceFollowersOnly()&&(this.props.followerDuration>0&&this.startFollowTimer(),e=!0),(this.shouldEnforceSubsOnly()||this.shouldEnforceVerifiedOnly())&&(e=!0),this.props.data&&this.props.data.channel&&this.props.data.channel.self&&this.props.data.channel.self.lastRecentChatMessageAt&&(this.lastMessageSentAt=(0,ee.sG)(this.props.data.channel.self.lastRecentChatMessageAt)),this.shouldEnforceSlowMode()&&(e=this.updateSlowState()||e),e&&this.updateState()},n.prototype.render=function(){return null},n.prototype.componentWillUnmount=function(){this.stopFollowTimer(),this.stopSlowTimer(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.setChatRestrictionsAPI()},n.prototype.componentDidUpdate=function(e){var n=!1,t=!1;t=this.needsStateUpdate(e)||t,t=this.updateSlowState()||t,t=this.updateFollowState()||t,this.slowModeTimerRunning&&e.slowModeDuration!==this.props.slowModeDuration&&(this.stopSlowTimer(),t=!0),e.pubsub.messages.subscriptionInfo!==this.props.pubsub.messages.subscriptionInfo&&(t=!0,n=!0),e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions&&(n=!0),n&&this.props.data&&this.props.data.refetch(),t&&(this.updateRestrictionState(),this.notifyHandlers()),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},n.prototype.needsStateUpdate=function(e){if((!e.data||e.data.loading)&&this.props.data&&!this.props.data.loading)return!0;var n=this.extractReasons(e),t=this.extractReasons(this.props);if(!n&&t||n&&!t)return!0;if(n&&t&&(n.length!==t.length||n.every((function(e,n){return e===t[n]}))))return!0;if(e.subsOnlyMode!==this.props.subsOnlyMode||e.followerMode!==this.props.followerMode)return!0;if(e.followerDuration!==this.props.followerDuration)return!0;if(this.extractRequireVerified(e)!==this.extractRequireVerified(this.props))return!0;if(e.data&&this.props.data){var i=e.data,a=this.props.data;if(i.currentUser&&a.currentUser&&i.currentUser.isEmailVerified!==a.currentUser.isEmailVerified)return!0;if(a.channel&&a.channel.self){var r=a.channel.self,o=new Date(0),s=!1,l=!(!r.follower||!r.follower.followedAt);if(i.channel&&i.channel.self&&i.channel.self.follower&&i.channel.self.follower.followedAt&&(o=(0,ee.sG)(i.channel.self.follower.followedAt),s=!0),s&&!l)return!0;if(l){var d=new Date(0);if(r.follower&&r.follower.followedAt&&(d=(0,ee.sG)(r.follower.followedAt)),o.getTime()!==d.getTime())return!0}}}return!1},n}(f.Component);function oe(e){return!e.data||e.data.loading||!e.data.channel||!e.data.channel.id||!e.currentUserID}var se=(0,a.qC)((0,i.$j)((function(e){var n=(0,o.PR)(e);return{currentUserID:n&&n.id,isStaff:!!(n&&n.roles&&n.roles.isStaff)}})),d.nl,c.Qt,(0,r.TA)(Z,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),(0,Y.k)([{topic:function(e){return(0,K.R5)(e.currentUserID||"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:oe},{topic:function(e){return(0,K.OV)(e.currentUserID||"",e.data&&e.data.channel&&e.data.channel.id||"")},mapMessageTypesToProps:(ae={},ae[J.qU.ModeratorAdded]="moderatorActions",ae[J.qU.ModeratorRemoved]="moderatorActions",ae),skip:oe,skipMessage:function(e,n){if(e.type!==J.qU.ModeratorAdded&&e.type!==J.qU.ModeratorRemoved)return!0;var t=e;return!n.data.currentUser||t.data.target_user_id!==n.data.currentUser.id}}]),(0,Q.P)((function(e){return{query:Z,variables:{channelLogin:e.channelLogin},topic:(0,K.b_)(e.currentUserID||""),type:J.qU.UserPropertiesUpdate,skip:oe(e),mutator:function(e,n){return n&&n.currentUser?void 0===e.changed.email_verified?n:j(n,(function(e){return e.currentUser.isEmailVerified}),(function(){return e.changed.email_verified})):n}}})),(0,Q.P)((function(e){return{query:Z,variables:{channelLogin:e.channelLogin},topic:(0,K.Q4)(e.currentUserID||""),types:[J.qU.UserFollowedEvent,J.qU.UserUnfollowedEvent],skip:oe(e),mutator:function(e,n){if(!n||!n.channel||!n.channel.self)return n;if(function(e){return e.type===J.qU.UserFollowedEvent}(e))return e.target_user_id!==n.channel.id?n:n.channel.self.follower?j(n,(function(e){return e.channel.self.follower.followedAt}),(function(){return e.timestamp})):j(n,(function(e){return e.channel.self.follower}),(function(){return{__typename:"FollowerEdge",followedAt:e.timestamp}}));if(function(e){return e.type===J.qU.UserUnfollowedEvent}(e)){if(e.target_user_id!==n.channel.id)return n;if(n.channel.self.follower)return j(n,(function(e){return e.channel.self.follower.followedAt}),(function(){return null}))}return n}}})),(0,I.LI)((function(e){return{followerDuration:e.followerDuration,followerDurationSeconds:60*e.followerDuration,followerMode:e.followerMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}})))(re),le=t(273757),de=t(396359),ue=t(831642),ce=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.subscribe=function(e){n.unsubscribe(),e.channelID&&e.currentUserID&&(n.unsubscriber=ue.mW.subscribe({topic:(0,K.OV)(e.currentUserID,e.channelID),onMessage:n.handleMessage}))},n.unsubscribe=function(){n.unsubscriber&&(n.unsubscriber(),n.unsubscriber=null)},n.handleMessage=function(e){if(e.type===J.qU.ModerationAction)switch(e.data.moderation_action){case J.e0.Ban:n.addMessage((0,G.DP)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,e.data.args[1]));break;case J.e0.Delete:n.addMessage((0,G.DP)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,void 0,e.data.args[1],e.data.args[2]));break;case J.ai.DeleteNotification:n.addMessage((0,G.X7)(J.ai.DeleteNotification,e.data.target_user_id,e.data.args[0],e.data.msg_id));break;case J.e0.Unban:case J.e0.Timeout:case J.e0.Untimeout:n.addMessage((0,G.DP)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],e.data.args[1],e.data.args[2]));break;case J.e0.Mod:case J.e0.Unmod:n.addMessage((0,G.DP)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.target_user_login));break;case J.e0.AutoModEnabled:case J.e0.Clear:case J.e0.EmoteOnly:case J.e0.EmoteOnlyOff:case J.e0.FollowersOnly:case J.e0.FollowersOnlyOff:case J.e0.Host:case J.e0.R9kBeta:case J.e0.R9kBetaOff:case J.e0.Raid:case J.e0.Slow:case J.e0.SlowOff:case J.e0.SubsBeta:case J.e0.SubscribersOnly:case J.e0.SubscribersOnlyOff:case J.e0.Unhost:case J.e0.ModifiedAutoModProperties:case J.e0.Unraid:n.addMessage((0,G.b)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args));break;default:ue.kg.warn("Unknown moderation action type",e.data.moderation_action)}else e.type===J.qU.ChannelTermsAction&&n.addMessage((0,G.b)(e.data.type,e.data.requester_login||"",e.data.requester_id,[e.data.text],e.data.from_automod))},n}return(0,h.__extends)(n,e),n.prototype.componentDidMount=function(){this.subscribe(this.props)},n.prototype.componentDidUpdate=function(e){this.props.channelID===e.channelID&&this.props.currentUserID===e.currentUserID||this.subscribe(this.props)},n.prototype.componentWillUnmount=function(){this.unsubscribe()},n.prototype.render=function(){return null},n.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):ue.kg.warn("ModerationActionService received an event before the MessageHandlerAPI was available.")},n}(f.Component);var me=(0,a.qC)((0,i.$j)((function(e){var n=(0,o.PR)(e);return{currentUserID:n&&n.id}})),c.Qt)(ce),pe=t(615130),he=t(863480),fe=t(625471),ge=t(116791),ve=t(95095),ye=t(622211);var ke=(0,a.qC)((0,r.TA)(ge,{skip:function(e){return!e.channelLogin||!(0,he.t)(ve.s)},options:function(e){var n;return{variables:{login:null!==(n=e.channelLogin)&&void 0!==n?n:""}}}}),(0,i.$j)((function(e){return{user:(0,o.PR)(e)}}),(function(e){return(0,a.DE)({showModal:fe.K4},e)})))((function(e){var n=!!(e.data&&e.data.channel&&e.data.channel.roles&&(e.data.channel.roles.isAffiliate||e.data.channel.roles.isPartner)),t=(0,he.t)(ve.s)&&n;return f.createElement(ye.C6,(0,h.__assign)({isPollsEnabled:t},e))})),Se=t(935945),Ce="PowerUpL DarkMode PowerUpR",be={failSilently:!0,placeholder:null},we=g.P.wrap((function(){return t.e(95174).then(t.bind(t,278169))}),"BountyBoardNotification",be),Ee=g.P.wrap((function(){return Promise.all([t.e(54736),t.e(92692)]).then(t.bind(t,964381))}),"ChatCommandHandlers",be),_e=g.P.wrap((function(){return t.e(13659).then(t.bind(t,440208))}),"NativeBroadcastNotification",be),Ne=g.P.wrap((function(){return t.e(22526).then(t.bind(t,461381))}),"Orbis",be),De=function(e){function n(n){var t=e.call(this,n)||this;return t.state={hasReceivedInitialRoomState:!1,hostedChannelLogin:null,prevPropsChannelLogin:t.props.channelLogin,userBadges:null,userBadgeDynamicData:null},t.renderNotifications=function(){var e=[];return t.props.firstPageLoaded&&t.props.channelID&&e.push(f.createElement(we,{key:"bounty-board-notification",channelID:t.props.channelID})),e},t.sendMessage=function(e,n){if(!e||0===e.length||!t.props.authToken)return!1;if(!t.props.chatConnectionAPI)return!1;var i=t.props.chatConnectionAPI.sendMessage(e,n);return(!i||!i.preserveInput)&&(t.parseOutgoingMessage(e),!0)},t.pushMessage=function(e){t.props.messageHandlerAPI&&t.props.messageHandlerAPI.handleMessage(e)},t.onChatEvent=function(e){switch(e.type){case U.SJ.Hosting:t.hostingHandler(e.hostedChannel);break;case U.SJ.Unhost:t.hostingHandler(null);break;case U.SJ.RoomState:t.onRoomStateUpdated(e.state);break;case U.SJ.BadgesUpdated:t.onBadgesUpdated(e)}},t.hostingHandler=function(e){t.setState({hostedChannelLogin:e}),t.props.onHostingChange&&t.props.onHostingChange(e)},t.createOutgoingTokenMatchers=function(e){t.outgoingTokenMatchers=e.map((function(e){return{token:e,regex:new RegExp("(?:\\W|^)"+e+"(?:$|\\W)")}}))},t.parseOutgoingMessage=function(e){t.outgoingTokenMatchers.forEach((function(n){n.regex.test(e)&&t.onOutgoingTokenMatch(n.token,e)}))},t.onOutgoingTokenMatch=function(e,n){switch(e){case Ce:var i=t.props.theme===v.Q.Light?v.Q.Dark:v.Q.Light;t.props.onThemeChange(i);break;default:return}},t.onBadgesUpdated=function(e){t.setState({userBadges:e.badges,userBadgeDynamicData:e.badgeDynamicData||null})},t.onRoomStateUpdated=function(e){t.props.initialStateLoaded||t.props.onRoomStateUpdate(e)},t.determineCommandPermissionLevel=function(){return t.props.userLogin&&t.props.userLogin===t.props.channelLogin?F.s.Broadcaster:t.props.isCurrentUserModerator?F.s.Moderator:t.props.isCurrentUserVIP?F.s.Vip:F.s.Viewer},t.emoteSetsWithModifiers=function(){var e,n;return(null===(n=null===(e=t.props.emoteSetsData)||void 0===e?void 0:e.emoteSets)||void 0===n?void 0:n.map((function(e){var n,t=(0,h.__spreadArrays)((null==e?void 0:e.emotes)||[]);return null===(n=null==e?void 0:e.emotes)||void 0===n||n.forEach((function(e){var n;null===(n=null==e?void 0:e.modifiers)||void 0===n||n.forEach((function(n){t.push({id:e.id+"_"+n.code,token:e.token+"_"+n.code})}))})),(0,h.__assign)((0,h.__assign)({},e),{emotes:t})})))||[]},t.createOutgoingTokenMatchers([Ce]),t}return(0,h.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){return e.channelLogin!==n.prevPropsChannelLogin?{prevPropsChannelLogin:e.channelLogin,hostedChannelLogin:null}:null},n.prototype.componentDidMount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent)},n.prototype.componentWillUnmount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent)},n.prototype.componentDidUpdate=function(e){e.initialStateLoaded&&(e.followerModeDuration===this.props.followerModeDuration&&e.followerModeEnabled===this.props.followerModeEnabled||this.pushMessage((0,L.aK)(this.props.followerModeEnabled,this.props.followerModeDuration)),e.slowModeEnabled===this.props.slowModeEnabled&&e.slowModeDuration===this.props.slowModeDuration||this.pushMessage((0,L.CI)(this.props.slowModeEnabled,this.props.slowModeDuration))),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},n.prototype.render=function(){var e,n=this.props.emoteSetsData&&this.props.emoteSetsData.emoteSets||[],t=this.props.isHidden||!this.props.rightColumnExpanded&&!this.props.inlineRightColumnExpanded,i=!(!this.props.isEmbedded&&!this.props.isPopout&&t&&!this.props.shouldConnectChat),a=this.determineCommandPermissionLevel();return this.props.firstPageLoaded&&(e=f.createElement(Ne,{channelLogin:this.props.channelLogin,sendMessage:this.sendMessage})),f.createElement(f.Fragment,null,f.createElement(Se.Vk,{authToken:this.props.authToken,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRoomHeader:e,chatRules:this.props.chatRules,commandPermissionLevel:a,currentUserDisplayName:this.props.userDisplayName,currentUserLogin:this.props.userLogin,emotes:n,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap||{},firstPageLoaded:this.props.firstPageLoaded,hostedChannelLogin:this.state.hostedChannelLogin,isBackground:this.props.isBackground,isChatRulesOpen:this.props.isChatRulesOpen,isCurrentUserEditor:this.props.isCurrentUserEditor,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHidden:this.props.isHidden,isHostMode:!!this.state.hostedChannelLogin,isReadOnly:this.props.isReadOnly,isOwnChannel:this.isOwnChannel,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatUnhide:this.props.onChatUnhide,onCloseChatRules:this.props.onCloseChatRules,onPushMessage:this.pushMessage,onSendMessage:this.sendMessage,onShowChatRules:this.props.onShowChatRules,theme:this.props.theme,userBadges:this.state.userBadges,userBadgeDynamicData:this.state.userBadgeDynamicData,userID:this.props.userID,useBaseBackground:this.props.useBaseBackground},this.renderNotifications(),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&f.createElement(_e,{key:this.props.channelLogin.toLowerCase(),channelLogin:this.props.channelLogin})),this.renderCommandHandlers(),f.createElement(V,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin}),f.createElement(se,{channelLogin:this.props.channelLogin}),f.createElement($.u,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,commandPermissionLevel:a,emoteSets:this.emoteSetsWithModifiers(),isCurrentUserEditor:this.props.isCurrentUserEditor,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:!!this.state.hostedChannelLogin,shouldConnect:i,userID:this.props.userID}),f.createElement(le.q,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,shouldSeeBlockedAndDeletedMessages:this.props.shouldSeeBlockedAndDeletedMessages,isBackground:!!this.props.isBackground,isCurrentUserModerator:this.props.isCurrentUserModerator,unhideIgnoredUsers:this.props.unhideIgnoredUsers}),f.createElement(de.d,null),f.createElement(me,{channelID:this.props.channelID}),f.createElement(z,{channelID:this.props.channelID}))},n.prototype.renderCommandHandlers=function(){return this.props.isBackground||!this.props.firstPageLoaded?null:f.createElement(Ee,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRules:this.props.chatRules,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap,isEditor:this.props.isCurrentUserEditor,isEmbedded:this.props.isEmbedded,isPopout:this.props.isPopout,permissionLevel:this.determineCommandPermissionLevel(),sendMessage:this.sendMessage,userID:this.props.userID,userLogin:this.props.userLogin})},Object.defineProperty(n.prototype,"isOwnChannel",{get:function(){return this.props.userID===this.props.channelID},enumerable:!0,configurable:!0}),n}(f.Component);var Me=(0,I.LI)((function(e){return{followerModeDuration:e.followerDuration,followerModeEnabled:e.followerMode,slowModeDuration:e.slowModeDuration,slowModeEnabled:e.slowMode,initialStateLoaded:e.initialStateLoaded,onRoomStateUpdate:function(n){return e.updateRoomState(n)}}}))(De),Ie=(0,a.qC)((0,i.$j)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isHidden:e.chat.isHidden,isLoggedIn:(0,o.jl)(e),rightColumnExpanded:e.ui.rightColumnExpanded,inlineRightColumnExpanded:e.ui.inlineRightColumnExpanded,theme:(0,S.zv)(e),unhideIgnoredUsers:e.chat.unhideIgnoredUsers}}),(function(e){return(0,a.DE)({onCloseChatRules:function(){return w.WF()},onShowChatRules:function(){return w._A()},onChatUnhide:function(){return w.YF()},onThemeChange:function(e){return(0,k.L)(e,{trackingSource:k.E.TypedCommand})}},e)})),(0,m.W)("ChatRoom",{autoReportInteractive:!0}),(0,y.S)(),l.l,c.Qt)((function(e){return f.createElement(I.FP,{channelLogin:e.channelLogin},f.createElement(A.ws,null,f.createElement(E.tg,null,f.createElement(R.Bk,null,f.createElement(P.sW,null,f.createElement(T.vc,{channelID:e.channelID},f.createElement(D.E1,null,f.createElement(M.cN,null,f.createElement(N.j9,null,f.createElement(_.By,null,f.createElement(pe.D,{channelLogin:e.channelLogin},f.createElement(C.Xb,{key:e.channelLogin},f.createElement(ke,{channelLogin:e.channelLogin},f.createElement(b.kc,null,f.createElement(Me,(0,h.__assign)({},e))))))))))))))))})),Te=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,h.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},n.prototype.componentDidUpdate=function(){this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){var e=this.props.channelData.channel,n=this.props.userData&&this.props.userData.user,t=!1,i=!1,a=!1,r=!1,o=!1;if(n&&e&&e.self){var s=n.login===e.login,l=n.roles&&n.roles.isGlobalMod||!1,d=n.roles&&n.roles.isSiteAdmin||!1;r=n.roles&&n.roles.isStaff||!1,o=e.self.isModerator||s||l,i=e.self.isModerator||s||l||d,t=e.self.isEditor||!1,a=e.self.isVIP||!1}var u=void 0;return e&&e.chatSettings&&e.chatSettings.rules&&e.chatSettings.rules.filter((function(e){return e.trim().length})).length&&(u=e.chatSettings.rules),f.createElement(Ie,{key:this.props.channelLogin,authToken:this.props.sessionUser&&this.props.sessionUser.authToken,channelDisplayName:e&&e.displayName,channelID:e&&e.id,channelLogin:this.props.channelLogin,chatRules:u,clientID:this.props.clientID,isBackground:this.props.isBackground,isCurrentUserEditor:t,isCurrentUserModerator:i,isCurrentUserVIP:a,isEmbedded:!!this.props.isEmbedded,isPopout:!!this.props.isPopout,onHostingChange:this.props.onHostingChange,userDisplayName:this.props.sessionUser&&this.props.sessionUser.displayName,userID:this.props.sessionUser&&this.props.sessionUser.id.toString(),userLogin:this.props.sessionUser&&this.props.sessionUser.login,isStaff:r,shouldSeeBlockedAndDeletedMessages:o,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isReadOnly:this.props.isReadOnly})},n}(f.Component),Pe=t(432242);var Re=(0,a.qC)((0,i.$j)((function(e){return{sessionUser:(0,o.PR)(e)}})),(0,r.TA)(p,{name:"channelData",options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,r.TA)(Pe,{name:"userData",skip:function(e){return!e.sessionUser}}),(0,m.W)("Chat"))(Te),Ae=(0,a.qC)(s._,l.V,u.uq,c.QL,d.pe)(Re)},196171:function(e,n,t){"use strict";var i,a;t.d(n,{s:function(){return i},U:function(){return a}}),function(e){e[e.Viewer=0]="Viewer",e[e.Vip=1]="Vip",e[e.Moderator=2]="Moderator",e[e.Broadcaster=3]="Broadcaster"}(i||(i={})),function(e){e.InvalidParameters="invalid_parameters",e.MissingParameters="missing_parameters",e.Unauthorized="unauthorized",e.UnrecognizedCommand="unrecognized_command"}(a||(a={}))},498409:function(e,n,t){"use strict";var i,a,r,o;t.d(n,{SJ:function(){return i},Ay:function(){return a},Aw:function(){return r},mT:function(){return o},x1:function(){return s}}),function(e){e[e.Message=0]="Message",e[e.ExtensionMessage=1]="ExtensionMessage",e[e.Moderation=2]="Moderation",e[e.ModerationAction=3]="ModerationAction",e[e.TargetedModerationAction=4]="TargetedModerationAction",e[e.AutoMod=5]="AutoMod",e[e.SubscriberOnlyMode=6]="SubscriberOnlyMode",e[e.FollowerOnlyMode=7]="FollowerOnlyMode",e[e.SlowMode=8]="SlowMode",e[e.EmoteOnlyMode=9]="EmoteOnlyMode",e[e.R9KMode=10]="R9KMode",e[e.Connected=11]="Connected",e[e.Disconnected=12]="Disconnected",e[e.Reconnect=13]="Reconnect",e[e.Hosting=14]="Hosting",e[e.Unhost=15]="Unhost",e[e.Hosted=16]="Hosted",e[e.Subscription=17]="Subscription",e[e.Resubscription=18]="Resubscription",e[e.GiftPaidUpgrade=19]="GiftPaidUpgrade",e[e.AnonGiftPaidUpgrade=20]="AnonGiftPaidUpgrade",e[e.PrimePaidUpgrade=21]="PrimePaidUpgrade",e[e.PrimeCommunityGiftReceivedEvent=22]="PrimeCommunityGiftReceivedEvent",e[e.ExtendSubscription=23]="ExtendSubscription",e[e.SubGift=24]="SubGift",e[e.AnonSubGift=25]="AnonSubGift",e[e.Clear=26]="Clear",e[e.RoomMods=27]="RoomMods",e[e.RoomState=28]="RoomState",e[e.Raid=29]="Raid",e[e.Unraid=30]="Unraid",e[e.Ritual=31]="Ritual",e[e.Notice=32]="Notice",e[e.Info=33]="Info",e[e.BadgesUpdated=34]="BadgesUpdated",e[e.Purchase=35]="Purchase",e[e.BitsCharity=36]="BitsCharity",e[e.CrateGift=37]="CrateGift",e[e.RewardGift=38]="RewardGift",e[e.SubMysteryGift=39]="SubMysteryGift",e[e.AnonSubMysteryGift=40]="AnonSubMysteryGift",e[e.StandardPayForward=41]="StandardPayForward",e[e.CommunityPayForward=42]="CommunityPayForward",e[e.FirstCheerMessage=43]="FirstCheerMessage",e[e.BitsBadgeTierMessage=44]="BitsBadgeTierMessage",e[e.InlinePrivateCallout=45]="InlinePrivateCallout",e[e.ChannelPointsReward=46]="ChannelPointsReward",e[e.CommunityChallengeContribution=47]="CommunityChallengeContribution",e[e.CelebrationPurchase=48]="CelebrationPurchase",e[e.LiveMessageSeparator=49]="LiveMessageSeparator"}(i||(i={})),function(e){e[e.Post=0]="Post",e[e.Action=1]="Action"}(a||(a={})),function(e){e[e.Ban=0]="Ban",e[e.Timeout=1]="Timeout",e[e.Delete=2]="Delete"}(r||(r={})),function(e){e[e.MessageRejectedPrompt=0]="MessageRejectedPrompt",e[e.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",e[e.MessageRejected=2]="MessageRejected",e[e.MessageAllowed=3]="MessageAllowed",e[e.MessageDenied=4]="MessageDenied",e[e.CheerMessageDenied=5]="CheerMessageDenied",e[e.CheerMessageTimeout=6]="CheerMessageTimeout",e[e.MessageModApproved=7]="MessageModApproved",e[e.MessageModDenied=8]="MessageModDenied"}(o||(o={}));var s=new Set(["usage_clear","usage_commercial","usage_host","usage_unhost","usage_raid","usage_unraid","usage_slow_on","usage_slow_off","usage_followers_on","usage_followers_off","usage_emote_only_on","usage_emote_only_off","usage_subs_on","usage_subs_off","usage_r9k_on","usage_r9k_off","unrecognized_cmd"])},721482:function(e,n,t){"use strict";var i,a,r;t.d(n,{nS:function(){return i},DB:function(){return a},v4:function(){return r},g_:function(){return o}}),function(e){e.ShareEmoteReward="share-emote-reward",e.ShareBitsBadgeTier="share-bits-badge-tier",e.ThankSubGifter="thank-sub-gifter",e.ShareResub="share-resub",e.CommunityPointsSpend="community-points-spend",e.ShareDrop="share-drop",e.NoOverride="no-override",e.Reply="reply"}(i||(i={})),function(e){e.Chat="chat-message-handler",e.Command="command-message-handler",e.Bits="bits-message-handler",e.Custom="custom-message-handler",e.ShareResub="share-resub-message-handler",e.Reply="chat-reply-handler"}(a||(a={})),function(e){e.Connecting="connecting",e.CharacterLimitError="character-limit-error",e.DuplicatedMessageError="duplicated-message-error",e.MessageThroughputError="message-throughput-error",e.MobilePhoneVerificationBanner="mobile-phone-verification-banner",e.MobilePhoneVerificationInfo="mobile-phone-verification-info",e.EmoteOnlyBanner="emote-only-banner",e.EmoteOnlyInfo="emote-only-info",e.EmoteOnlyWarning="emote-only-warning",e.AutocompleteTray="autocomplete-tray",e.CommandWarning="command-warning",e.CommandInfo="command-info",e.SlowModeBanner="slow-mode-banner",e.SlowModeInfo="slow-mode-info",e.SubsOnlyBanner="subs-only-banner",e.SubsOnlyInfo="subs-only-info",e.FollowerModeBanner="follower-mode-banner",e.FollowerModeInfo="follower-mode-info",e.VerifiedOnlyModeBanner="verified-only-mode-banner",e.VerifiedOnlyModeInfo="verified-only-mode-info",e.Reply="reply",e.ShareResub="share-resub",e.ShareBitsBadgeTier="share-bits-badge-tier",e.HighlightedMessage="highlighted-message",e.SubsOnlyMessage="subs-only-message",e.CustomReward="custom-reward",e.ShareEmote="share-emote",e.ThankSubGifter="thank-sub-gifter",e.MegaRewardsRecipient="mega-rewards-recipient",e.HypeTrainRewards="hype-train-rewards",e.DropsClaim="drops-claim",e.DropsError="drops-error",e.GenericPrivateCallout="generic-private-callout"}(r||(r={}));var o=new Set([r.CharacterLimitError,r.DuplicatedMessageError,r.MessageThroughputError,r.CommandWarning,r.EmoteOnlyInfo,r.EmoteOnlyWarning])},117090:function(e,n,t){"use strict";var i,a;t.d(n,{h5:function(){return i},xy:function(){return a},Lg:function(){return r}}),function(e){e.Small="small",e.Default="default",e.Bigger="bigger",e.Biggest="biggest"}(i||(i={})),function(e){e.Minimum="minimum",e.Expanded="expanded"}(a||(a={}));var r="control"},632712:function(e,n,t){"use strict";var i;t.d(n,{i:function(){return i}}),function(e){e[e.Chat=0]="Chat",e[e.ViewerList=1]="ViewerList"}(i||(i={}))},206124:function(e,n,t){"use strict";t.d(n,{py:function(){return a},gf:function(){return r},og:function(){return o},bc:function(){return s}});var i=t(831642),a=30,r=[0,-1,10,30,60,1440,10080,43200,129600];function o(e){switch(e){case 0:return(0,i.wv)("0 minutes (Any followers)","FollowersOnlyLabel");case-1:return(0,i.wv)("Off","FollowersOnlyLabel");case 10:return(0,i.wv)("10 minutes (Most used)","FollowersOnlyLabel");case 30:return(0,i.wv)("30 minutes","FollowersOnlyLabel");case 60:return(0,i.wv)("1 hour","FollowersOnlyLabel");case 1440:return(0,i.wv)("1 day","FollowersOnlyLabel");case 10080:return(0,i.wv)("1 week","FollowersOnlyLabel");case 43200:return(0,i.wv)("1 month","FollowersOnlyLabel");case 129600:return(0,i.wv)("3 months","FollowersOnlyLabel");default:return i.kg.warn("[FollowersOnlyLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 0:return(0,i.wv)("0 min","FollowersOnlyShorthand");case-1:return(0,i.wv)("Off","FollowersOnlyShorthand");case 10:return(0,i.wv)("10 min","FollowersOnlyShorthand");case 30:return(0,i.wv)("30 min","FollowersOnlyShorthand");case 60:return(0,i.wv)("1 hr","FollowersOnlyShorthand");case 1440:return(0,i.wv)("1 day","FollowersOnlyShorthand");case 10080:return(0,i.wv)("1 wk","FollowersOnlyShorthand");case 43200:return(0,i.wv)("1 mo","FollowersOnlyShorthand");case 129600:return(0,i.wv)("3 mo","FollowersOnlyShorthand");default:return(0,i.wv)("custom","FollowersOnlyShorthand")}}},137147:function(e,n,t){"use strict";var i;t.d(n,{K:function(){return i}}),function(e){e[e.Default=0]="Default",e[e.Recipient=1]="Recipient",e[e.Sender=2]="Sender"}(i||(i={}))},655995:function(e,n,t){"use strict";t.d(n,{bX:function(){return a},v7:function(){return r},lU:function(){return o},b6:function(){return s}});var i=t(831642),a=30,r=[3,5,10,20,30,60,120];function o(e){switch(e){case 3:return(0,i.wv)("3 seconds","SlowModeLabel");case 5:return(0,i.wv)("5 seconds","SlowModeLabel");case 10:return(0,i.wv)("10 seconds","SlowModeLabel");case 20:return(0,i.wv)("20 seconds","SlowModeLabel");case 30:return(0,i.wv)("30 seconds (default)","SlowModeLabel");case 60:return(0,i.wv)("60 seconds","SlowModeLabel");case 120:return(0,i.wv)("120 seconds","SlowModeLabel");default:return i.kg.warn("[SlowModeLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 3:return(0,i.wv)("3s","SlowModeShorthand");case 5:return(0,i.wv)("5s","SlowModeShorthand");case 10:return(0,i.wv)("10s","SlowModeShorthand");case 20:return(0,i.wv)("20s","SlowModeShorthand");case 30:return(0,i.wv)("30s","SlowModeShorthand");case 60:return(0,i.wv)("60s","SlowModeShorthand");case 120:return(0,i.wv)("120s","SlowModeShorthand");default:return(0,i.wv)("custom","SlowModeShorthand")}}},715602:function(e,n,t){"use strict";t.d(n,{iv:function(){return r},zz:function(){return i},Z6:function(){return a}});var i,a,r={Embed:"embed",Web:"web"};!function(e){e.Click="click",e.Enter="enter"}(i||(i={})),function(e){e.ZeroBits="zero_bits",e.CheeringDisabled="cheering_disabled",e.BitsUnavailable="bits_unavailable",e.BitsCardDisabled="bits_card_disabled",e.AboveMaxEmote="above_max_emote",e.AboveMaxCheer="above_max_cheer",e.BelowMin="below_min",e.BelowMinEmote="below_min_emote",e.InputAboveMaxLength="input_above_max_length",e.InputCommandStart="input_command_start",e.InvalidBitsMessage="invalid_bits_message",e.Canceled="canceled",e.UserBanned="user_banned",e.AutoModMessage="auto_mod_message",e.AutoModPending="auto_mod_pending",e.ChannelBlockedTerms="channel_blocked_terms",e.ChannelIneligible="channel_ineligible",e.InvalidAnonymousMessage="invalid_anonymous_message",e.InvalidEventId="invalid_event_id",e.RequestThrottled="request_throttled",e.Unknown="unknown",e.UserIneligible="user_ineligible",e.UserSuspended="user_suspended",e.ZalgoMessage="zalgo_message",e.DuplicateEventId="duplicate_event_id",e.MissingBitsConfig="missing_bits_config"}(a||(a={}))},663823:function(e,n,t){"use strict";var i,a,r,o,s;t.d(n,{Dy:function(){return i},Ou:function(){return a},LL:function(){return r},d1:function(){return o},jQ:function(){return s}}),function(e){e.DeleteMessage="delete",e.BanUser="ban",e.UnbanUser="unban",e.TimeoutUser="timeout",e.UntimeoutUser="untimeout",e.ModUser="mod",e.UnmodUser="unmod"}(i||(i={})),function(e){e.QuickModButtons="quick_mod_buttons",e.ChatCommand="chat_command",e.ModerationCard="moderation_card",e.DashboardBannedChatters="dashboard_banned_chatters",e.AutoModWidget="automod_widget_buttons",e.ModViewContextBar="mod_view_context_bar",e.ReadOnly="read_only",e.UnbanRequestWidget="unban_request"}(a||(a={})),function(e){e.Broadcaster="broadcaster",e.Staff="staff",e.Editor="editor",e.Mod="mod"}(r||(r={})),function(e){e.ChannelPage="channel_page",e.Dashboard="dashboard",e.DesktopPopout="desktop",e.Embed="embed",e.ModView="mod_view",e.LiveDashboard="live_dashboard",e.MultiStream="multi_stream",e.Popout="popout",e.Spotlight="spotlight",e.StreamManager="stream_manager",e.WatchParty="watch_party"}(o||(o={})),function(e){e.Channel="channel",e.Login="login"}(s||(s={}))},328099:function(e,n,t){"use strict";t.d(n,{j:function(){return a},Z:function(){return i}});var i,a={DarkMode:"darkMode",FollowerDuration:"followerDuration",FollowerMode:"followerMode",HideChat:"hideChat",ShowMessageFlags:"showMessageFlags",ShowAutoModActions:"showAutoModActions",ShowModActions:"showModerationActions",ShowModIcons:"showModIcons",ShowTimestamps:"showTimestamps",SlowModeDuration:"slowModeDuration",UseHighContrastColors:"useHighContrastColors",EmoteAnimationsSetting:"emoteAnimationsSetting",SlowMode:"slowMode",DeletedMessageDisplaySetting:"deletedMessageDisplaySetting",ChatPauseSetting:"chatPauseSetting",FontSize:"fontSize",RepliesAppearance:"repliesAppearance"};!function(e){e.ChatAppearance="chat_appearance",e.ChatReplies="chat_replies"}(i||(i={}))},190109:function(e,n,t){"use strict";var i,a,r,o;t.d(n,{Vn:function(){return i},TU:function(){return a},BO:function(){return r},cY:function(){return o}}),function(e){e[e.unknown=0]="unknown",e[e.chat=1]="chat",e[e.room=2]="room",e[e.whisper=3]="whisper",e[e.vod=4]="vod"}(i||(i={})),function(e){e[e.chat_message=0]="chat_message",e[e.extension_message=1]="extension_message",e[e.member_list=2]="member_list",e[e.recent_raids=3]="recent_raids",e[e.room_message=4]="room_message",e[e.test=5]="test",e[e.user_command=6]="user_command",e[e.viewer_list=7]="viewer_list",e[e.viewer_list_mod_section=8]="viewer_list_mod_section",e[e.mega_cheer_notification=9]="mega_cheer_notification",e[e.bits_leaderboard=10]="bits_leaderboard",e[e.popout_button=11]="popout_button",e[e.hype_train=12]="hype_train",e[e.mod_view=13]="mod_view",e[e.callout=14]="callout"}(a||(a={})),function(e){e[e.Viewer=0]="Viewer",e[e.Extension=1]="Extension",e[e.Emote=2]="Emote"}(r||(r={})),function(e){e[e.MainPage=0]="MainPage",e[e.SubGiftSelectPage=1]="SubGiftSelectPage",e[e.BadgeCarouselPage=2]="BadgeCarouselPage"}(o||(o={}))},86891:function(e,n,t){"use strict";t.d(n,{P:function(){return d},C:function(){return u}});var i=t(129989),a=t(987145),r=t(867284),o=t(906704),s=t(508995),l=t(434555);function d(){return(0,a.TA)(l,{name:"currentUserBannedStatusData",options:function(e){var n;return{variables:{channelLogin:null!==(n=e.channelLogin)&&void 0!==n?n:""}}},skip:function(e){return!e.channelLogin||!e.firstPageLoaded}})}function u(){return(0,r.P)((function(e){return{variables:{channelLogin:e.channelLogin},query:l,skip:!e.sessionUser||!e.channelID||!e.firstPageLoaded,topic:e.sessionUser&&e.channelID?(0,s.NE)(""+(e.sessionUser&&e.sessionUser.id)):"",type:o.qU.ChatRoomsUserModAction,mutator:function(n,t){return e.sessionUser&&e.channelID&&t.channel&&t.channel.self&&n.data.target_id===e.sessionUser.id&&n.data.channel_id===e.channelID&&("ban"===n.data.action?t=i(t,(function(e){return e.channel.self.banStatus}),(function(){return{isPermanent:!0,expiresAt:n.data.expires_at||null,expiresInMs:n.data.expires_in_ms||null,reason:n.data.reason||null,__typename:"ChatRoomBanStatus"}})):"unban"===n.data.action?t=i(t,(function(e){return e.channel.self.banStatus}),(function(){return null})):"timeout"===n.data.action&&(t=i(t,(function(e){return e.channel.self.banStatus}),(function(){return{isPermanent:!1,expiresAt:n.data.expires_at||null,expiresInMs:n.data.expires_in_ms||null,reason:n.data.reason||null,__typename:"ChatRoomBanStatus"}})))),t}}}))}},201515:function(e,n,t){"use strict";t.d(n,{_:function(){return o},j:function(){return s}});var i=(0,t(905728).$)("ActiveChatters"),a=i.withChatServiceManager,r=i.withContext,o=a,s=r((function(e){return{activeChattersAPI:e.serviceAPI,setActiveChattersAPI:e.setServiceAPI}}))},520477:function(e,n,t){"use strict";t.d(n,{u:function(){return te}});var i=t(129989),a=t(137703),r=t(14890),o=t(987145),s=t(867284),l=t(906704),d=t(508995),u=t(797425),c=t(457087),m=t(124822),p=t(430028),h=t(986923),f=t(877465),g=t(613290),v=t(965347),y=t(832581),k=t(679864),S=t(331902),C=t(773105),b=t(509301),w=t(570655),E=t(667294),_=t(255687),N=t(58661),D=t(270406),M=t(831642),I=t(560772),T=t(758588),P=t(646628),R=t(742407),A=t(196171),L=t(498409);function F(e){var n;return((n={})[A.s.Viewer]="viewer",n[A.s.Vip]="vip",n[A.s.Moderator]="moderator",n[A.s.Broadcaster]="broadcaster",n)[e]}function U(e){return"unrecognized_cmd"===e?A.U.UnrecognizedCommand:L.x1.has(e)?A.U.InvalidParameters:e}var x=t(747961),O=t(44683),B=t(652461),V=t(972130),q=t(670599);var G=t(802624);var H=t(713890);var W=t(869487);var z=t(510091);var $=t(190109);var j=t(259115);var Y=t(721482),Q=t(296942),J=t(48993),K=t(817207),X=t(823955),Z=function(e){function n(n){var t=e.call(this,n)||this;return t.hasConnected=!1,t.connectingToChatMessage=function(){return(0,M.wv)("Connecting to Chat","ChatConnection")},t.sendMessage=function(e,n){var i=t.props.handleCommand(e,t.props.channelLogin);if(i.handled)i.result&&i.result.deferred&&i.result.deferred.then((function(e){var n=e.notice,i=e.error,a=e.inputValue;n&&(i?t.handleTrayNotice(n,i,a):t.addMessage((0,W.W)(n))),t.trackChatCommand(i)}));else if(M.oH.get("include_chat_timing_nonce",!1)){var a=(0,I._f)();t.props.setInitalTimestampForMsgNonce(a),t.client.sendCommand(t.props.channelLogin,e,{clientNonce:a,crowdChantParentMessageID:null==n?void 0:n.crowdChantParentMessageID,reply:null==n?void 0:n.reply}).catch((function(e){M.kg.warn("Failed to send message, or message timeout",e)}))}else t.client.sendCommand(t.props.channelLogin,e,{crowdChantParentMessageID:null==n?void 0:n.crowdChantParentMessageID,reply:null==n?void 0:n.reply}).catch((function(e){M.kg.warn("Failed to send message, or message timeout",e)}));return i.result},t.onJoinedEvent=function(e){t.logger.debug("Connected",t.props.channelLogin),t.props.latencyTracking.reportInteractive(),t.hasConnected||((0,K.x2)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode}),t.hasConnected=!0),t.chatConnected&&t.props.latencyTracking.reportCustomEvent(t.chatConnected),t.props.updateChatConnectionState(h.Tj.CONNECTED),t.postMessageToCurrentChannel(e,(0,j.sx)()),t.props.clearModifierTray()},t.onDisconnectedEvent=function(e){t.props.latencyTracking.reportInteractive(),t.props.updateChatConnectionState(h.Tj.DISCONNECTED),t.addMessage((0,j.fp)(e.reason)),t.props.clearModifierTray()},t.onReconnectingEvent=function(e){t.props.updateChatConnectionState(h.Tj.RECONNECTING),t.addMessage((0,j.xJ)()),t.setConnectingTray(),t.trackChatReconnecting()},t.onReconnectedEvent=function(e){t.join(t.props.channelLogin)},t.onHostedEvent=function(e){return t.postMessageToCurrentChannel(e,(0,j.FW)(e.from,e.isAuto,e.viewers))},t.onHostingEvent=function(e){t.postMessageToCurrentChannel(e,(0,j.V1)(e.target)),t.trackChatCommand()},t.onUnhostEvent=function(e){t.postMessageToCurrentChannel(e,(0,j.uu)(e.channel)),t.trackChatCommand()},t.onChatMessageEvent=function(e){t.postMessageToCurrentChannel(e,t.convertMessage(e))},t.onChatActionEvent=function(e){var n=t.props.bitsConfig||P.Nv,i=(0,z.I)(L.Ay.Action,e.action,e.message.user,n,t.getFilterFlagOptions(e.message.flags));t.postMessageToCurrentChannel(e,i)},t.onChatNoticeEvent=function(e){if(L.x1.has(e.msgid))t.handleTrayNotice(e.body,e.msgid);else if("msg_rejected"!==e.msgid){var n=(i=e.channel,a=e.msgid,r=e.body,{type:L.SJ.Notice,id:(0,q.C)("notice"),channel:i,msgid:a,message:r});t.postMessageToCurrentChannel(e,n)}var i,a,r;L.x1.has(e.msgid)&&t.trackChatCommand(e.msgid)},t.onTimeoutEvent=function(e){t.onModerationEvent(L.Aw.Timeout,e)},t.onBanEvent=function(e){t.onModerationEvent(L.Aw.Ban,e)},t.onClearMsgEvent=function(e){var n,i,a;t.postMessageToCurrentChannel(e,(n=e.userLogin,i=e.targetMessageID,a=e.body,{type:L.SJ.Moderation,moderationType:L.Aw.Delete,id:(0,q.C)(n+"-mod"),userLogin:n,targetMessageID:i,body:a}))},t.onModerationEvent=function(e,n){var i,a,r,o;t.postMessageToCurrentChannel(n,(i=e,a=n.userLogin,r=n.reason,o=n.duration,{type:L.SJ.Moderation,moderationType:i,id:(0,q.C)(a+"-mod"),userLogin:a,reason:r,duration:o}))},t.onSubscriptionEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,user:e.user,methods:e.methods,multiMonthInfo:e.multiMonthData&&{multiMonthDuration:e.multiMonthData.multiMonthDuration,multiMonthTenure:e.multiMonthData.multiMonthTenure}},{type:L.SJ.Subscription,id:(0,q.C)(n.user.username+"-sub"),channel:n.channel.slice(1),user:n.user,methods:n.methods,multiMonthInfo:n.multiMonthInfo}))},t.onSubscriptionGiftEvent=function(e){var n,i=(n={channel:e.channel,user:e.user,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,senderCount:e.senderCount,giftMonths:e.giftMonths},{type:L.SJ.SubGift,id:(0,q.C)(n.user.username+"-sub"),channel:n.channel.slice(1),user:n.user,methods:n.methods,recipientDisplayName:n.recipientDisplayName,recipientID:n.recipientID,recipientLogin:n.recipientLogin,senderCount:n.senderCount,giftMonths:n.giftMonths});t.postMessageToCurrentChannel(e,i);var a=e.channel.toLowerCase().replace("#","");if(e.recipientID===t.props.currentUserID&&a===t.props.channelLogin){var r={event:{type:x.S.ThankSubGifter,gifterDisplayName:i.user.displayName,channelLogin:a},key:i.id};t.props.pushCallout(r)}},t.onAnonSubscriptionGiftEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,giftMonths:e.giftMonths},{type:L.SJ.AnonSubGift,id:(0,q.C)(n.recipientDisplayName+"-sub"),channel:n.channel.slice(1),methods:n.methods,recipientDisplayName:n.recipientDisplayName,recipientID:n.recipientID,recipientLogin:n.recipientLogin,giftMonths:n.giftMonths}))},t.onSubscriptionMysteryGiftEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,user:e.user,plan:e.plan,massGiftCount:e.massGiftCount,senderCount:e.senderCount},{type:L.SJ.SubMysteryGift,id:(0,q.C)(n.user.username+"-sub"),channel:n.channel.slice(1),user:n.user,plan:n.plan,massGiftCount:n.massGiftCount,senderCount:n.senderCount}))},t.onAnonSubscriptionMysteryGiftEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,plan:e.plan,massGiftCount:e.massGiftCount},{type:L.SJ.AnonSubMysteryGift,id:(0,q.C)(n.massGiftCount+"-sub"),channel:n.channel.slice(1),plan:n.plan,massGiftCount:n.massGiftCount}))},t.onCommunityPayForwardEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous}},{type:L.SJ.CommunityPayForward,id:(0,q.C)(n.user.username+"-sub"),user:n.user,channel:n.channel.slice(1),priorGifter:n.priorGifter}))},t.onStandardPayForwardEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous},recipient:{id:e.recipientID,displayName:e.recipientName}},{type:L.SJ.StandardPayForward,id:(0,q.C)(n.user.username+"-sub"),user:n.user,channel:n.channel.slice(1),priorGifter:n.priorGifter,recipient:n.recipient}))},t.onBitsCharityEvent=function(e){var n,i,a,r,o,s;t.postMessageToCurrentChannel(e,(n=e.total,i=e.charityName,a=e.daysLeft,r=e.hoursLeft,o=e.hashtag,s=e.learnMore,{type:L.SJ.BitsCharity,id:(0,q.C)("charity"),total:n,charityName:i,daysLeft:a,hoursLeft:r,hashtag:o,learnMore:s}))},t.onResubscriptionEvent=function(e){var n,i;t.postMessageToCurrentChannel(e,(n={channel:e.channel,user:e.user,methods:e.methods,months:e.months,messageBody:e.body,cumulativeMonths:e.cumulativeMonths,shouldShareStreakTenure:e.shouldShareStreakTenure,streakMonths:e.streakMonths,wasGifted:e.wasGifted,multiMonthGiftInfo:e.giftData&&{anonGift:e.giftData.anonGift,gifterName:e.giftData.gifterName,gifterLogin:e.giftData.gifterLogin,gifterId:e.giftData.gifterId,giftedMonths:e.giftData.giftedMonths,giftMonthBeingRedeemed:e.giftData.giftMonthBeingRedeemed},multiMonthInfo:e.multiMonthData&&{multiMonthDuration:e.multiMonthData.multiMonthDuration,multiMonthTenure:e.multiMonthData.multiMonthTenure}},i=void 0,n.messageBody&&(i=(0,z.I)(L.Ay.Post,n.messageBody,n.user,P.Nv,null)),{type:L.SJ.Resubscription,id:(0,q.C)(n.user.username+"-sub"),channel:n.channel.slice(1),user:n.user,methods:n.methods,message:i,months:n.months,cumulativeMonths:n.cumulativeMonths,shouldShareStreakTenure:n.shouldShareStreakTenure,streakMonths:n.streakMonths,wasGift:n.wasGifted,multiMonthGiftInfo:n.multiMonthGiftInfo&&{anonGift:n.multiMonthGiftInfo.anonGift,gifterId:n.multiMonthGiftInfo.gifterId,gifterLogin:n.multiMonthGiftInfo.gifterLogin,gifterName:n.multiMonthGiftInfo.gifterName,giftedMonths:n.multiMonthGiftInfo.giftedMonths,giftMonthBeingRedeemed:n.multiMonthGiftInfo.giftMonthBeingRedeemed},multiMonthInfo:n.multiMonthInfo&&{multiMonthDuration:n.multiMonthInfo.multiMonthDuration,multiMonthTenure:n.multiMonthInfo.multiMonthTenure}}))},t.onGiftPaidUpgradeEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,senderLogin:e.senderLogin,senderName:e.senderName,user:e.user},{type:L.SJ.GiftPaidUpgrade,id:(0,q.C)(n.user.username+"-sub"),channel:n.channel.slice(1),promoGiftTotal:n.promoGiftTotal,promoName:n.promoName,senderLogin:n.senderLogin,senderName:n.senderName,user:n.user}))},t.onAnonGiftPaidUpgradeEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,user:e.user},{type:L.SJ.AnonGiftPaidUpgrade,id:(0,q.C)(n.user.username+"-sub"),channel:n.channel.slice(1),promoGiftTotal:n.promoGiftTotal,promoName:n.promoName,user:n.user}))},t.onPrimePaidUpgradeEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,plan:e.plan,user:e.user},{type:L.SJ.PrimePaidUpgrade,id:(0,q.C)(n.user.username+"-sub"),channel:n.channel.slice(1),plan:n.plan,user:n.user}))},t.onPrimeCommunityGiftReceivedEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={giftName:e.giftName,sender:e.sender,receiver:e.receiver,user:e.user},{type:L.SJ.PrimeCommunityGiftReceivedEvent,id:(0,q.C)("primecommunitygiftreceived"),giftName:n.giftName,sender:n.sender?n.sender:n.user?n.user.displayName:"",receiver:n.receiver}))},t.onExtendSubscriptionEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,body:e.body,benefitEndMonth:e.benefitEndMonth,user:e.user},{type:L.SJ.ExtendSubscription,id:(0,q.C)(n.user.username+"-sub"),channel:n.channel.slice(1),body:n.body,benefitEndMonth:n.benefitEndMonth,user:n.user}))},t.onRoomModsEvent=function(e){return t.postMessageToCurrentChannel(e,(0,j.L)(e.usernames))},t.onRoomStateEvent=function(e){t.postMessageToCurrentChannel(e,(0,j.QC)(e.state)),t.trackChatCommand()},t.onEmoteOnlyModeEvent=function(e){return t.postMessageToCurrentChannel(e,(0,j.Vs)(e.enabled))},t.onSubscriberOnlyModeEvent=function(e){return t.postMessageToCurrentChannel(e,(0,j.MM)(e.enabled))},t.onR9KModeEvent=function(e){return t.postMessageToCurrentChannel(e,(0,j.f1)(e.enabled))},t.onClearChatEvent=function(e){t.postMessageToCurrentChannel(e,{type:L.SJ.Clear,id:(0,q.C)("clear")}),t.trackChatCommand()},t.onRaidEvent=function(e){var n,i,a;t.postMessageToCurrentChannel(e,(n=e.channel,i=e.userLogin,a=e.params,{type:L.SJ.Raid,id:(0,q.C)("raid"),channel:n,userLogin:i,params:a})),t.trackChatCommand()},t.onUnraidEvent=function(e){var n,i,a;t.postMessageToCurrentChannel(e,(n=e.channel,i=e.userLogin,a=e.message,{type:L.SJ.Unraid,id:(0,q.C)("unraid"),channel:n,userLogin:i,message:a})),t.trackChatCommand()},t.onRitualEvent=function(e){var n,i;t.postMessageToCurrentChannel(e,(n=e.type,i=t.convertMessage(e),{type:L.SJ.Ritual,id:(0,q.C)(i.user.userLogin+"-"+n+"-ritual"),ritualType:n,message:i}))},t.onFirstCheerEvent=function(e){var n,i;t.postMessageToCurrentChannel(e,(n={message:t.convertMessage(e)},i=n.message,{type:L.SJ.FirstCheerMessage,id:(0,q.C)(i.user.userLogin+"-firstcheer"),message:i}))},t.onBitsBadgeTierEvent=function(e){var n,i,a;t.postMessageToCurrentChannel(e,(n=t.convertMessage(e),i=e.threshold,a=e.message.user,{type:L.SJ.BitsBadgeTierMessage,id:(0,q.C)("bits-badge-tier"),message:n,threshold:i,user:a}))},t.onBadgesUpdatedEvent=function(e){return t.addMessage((n=e.username,i=e.badges,a=e.badgeDynamicData,{type:L.SJ.BadgesUpdated,id:(0,q.C)("updateBadges"),userName:n,badges:i,badgeDynamicData:a}));var n,i,a},t.onPurchaseEvent=function(e){var n=t.props.bitsConfig||P.Nv;t.postMessageToCurrentChannel(e,function(e,n,t,i){return{bitsConfig:i,message:n,purchase:e,timestamp:t,id:(0,q.C)(n.user.userLogin+"-purchase"),type:L.SJ.Purchase}}(e.purchase,t.convertMessage(e),e.timestamp,n))},t.onCrateEvent=function(e){var n,i;t.postMessageToCurrentChannel(e,(n=t.convertMessage(e),i=e.selectedCount,{type:L.SJ.CrateGift,id:(0,q.C)("crate"),message:n,selectedCount:i}))},t.onRewardGiftEvent=function(e){var n,i,a,r,o,s;t.postMessageToCurrentChannel(e,(n=e.user,i=e.triggerType,a=e.triggerAmount,r=e.selectedCount,o=e.totalRewardCount,s=e.domain,{type:L.SJ.RewardGift,id:(0,q.C)("rewardGift"),triggerType:i,triggerAmount:a,selectedCount:r,totalRewardCount:o,messageID:n?n.id:null,userID:n?n.userID:null,userLogin:n?n.username:null,displayName:n?n.displayName:null,domain:s,sourceType:$.TU.chat_message}))},t.onChannelPointsRewardEvent=function(e){var n=t.convertMessage(e);t.postMessageToCurrentChannel(e,(0,H.q)({id:n.id,message:n,reward:(0,Q.V)(t.props.rewardMap,e.rewardID),userDisplayName:n.user.userDisplayName,userID:n.user.userID,userLogin:n.user.userLogin}))},t.onCelebrationPurchaseEvent=function(e){return t.postMessageToCurrentChannel(e,(n={userID:e.user.id,userLogin:e.user.username,userDisplayName:e.user.displayName,intensity:e.intensity},{type:L.SJ.CelebrationPurchase,id:(0,q.C)("celebrationPurchase"),userID:n.userID,login:n.userLogin,displayName:n.userDisplayName,intensity:(0,G.E_)(n.intensity)}));var n},t.onTimingAckEvent=function(e){t.props.updateTimestampForMsgNonce(e.nonce)},t.convertMessage=function(e){var n,i,a,r,o=t.props.bitsConfig||P.Nv;return e&&(r=(null===(n=e.message)||void 0===n?void 0:n.reply)||(null===(a=null===(i=e)||void 0===i?void 0:i.additionalMetadata)||void 0===a?void 0:a.reply)),(0,z.I)(L.Ay.Post,e.message.body,e.message.user,o,t.getFilterFlagOptions(e.message.flags),!1,!1,e.message.timestamp,{reply:r,channelID:t.props.channelID},e.message.bitsImageUrl)},t.trackChatReconnecting=function(){(0,J.Ai)({userID:t.props.userID,channelID:t.props.channelID})},t.setConnectingTray=function(){t.props.setModifierTray({header:E.createElement(O.F,{icon:E.createElement(_.T,{size:_.E.Small}),hideCloseButton:!0},E.createElement(N.V,{bold:!0,color:D.Il.Alt2},t.connectingToChatMessage())),disableChat:!0,persistent:!0,sendButtonOverride:Y.nS.NoOverride,type:Y.v4.Connecting})},t.handleTrayNotice=function(e,n,i){var a;switch(n){case"unrecognized_cmd":a=(0,M.wv)("Unrecognized Command","ChatConnection");break;case"missing_parameters":a=(0,M.wv)("Missing Parameters","ChatConnection");break;case"unauthorized":a=(0,M.wv)("Unauthorized","ChatConnection");break;default:a=(0,M.wv)("Invalid Parameters","ChatConnection")}var r=t.props.prevCommand;!i&&"unrecognized_cmd"!==n&&r&&(i="/"+r.command+" "),t.props.setModifierTray({header:E.createElement(O.F,{icon:E.createElement(V.b,null)},a),body:E.createElement(B.f,null,e),inputValue:i,timeout:3e4,type:Y.v4.CommandWarning})},t.logger=M.kg.withCategory("chat-service"),t.logger.debug("Created"),t.service=M.$6.tmi,t.client=M.$6.tmi.client,t.disabled=M.$6.tmi.disabled,t}return(0,w.__extends)(n,e),n.prototype.render=function(){return null},n.prototype.componentDidMount=function(){this.registerCustomLatencyEvents(),this.props.setChatConnectionAPI({sendMessage:this.sendMessage}),this.shouldConnectOnMount()?(this.setConnectingTray(),this.join(this.props.channelLogin)):this.props.latencyTracking.reportInteractive(),this.props.emoteSets&&this.client.updateEmoteMap((0,X.$1)(this.props.emoteSets)),null===this.props.channelID&&this.skipLatencyMeasurements()},n.prototype.componentWillUnmount=function(){clearTimeout(this.reconnectionTimeout),this.props.setChatConnectionAPI(),this.disconnect(this.props.channelLogin)},n.prototype.componentDidUpdate=function(e){var n=this;(!this.props.shouldConnect&&e.shouldConnect||null===this.props.channelID&&this.props.channelID!==e.channelID)&&this.skipLatencyMeasurements(),this.props.emoteSets&&this.props.emoteSets!==e.emoteSets&&this.client.updateEmoteMap((0,X.$1)(this.props.emoteSets));var t=this.isUserBanned(this.props)&&!this.isUserBanned(e),i=!this.isUserBanned(this.props)&&this.isUserBanned(e);!this.props.shouldConnect&&e.shouldConnect||t?(this.disconnect(e.channelLogin),this.props.clearModifierTray()):(this.props.authToken!==e.authToken||this.props.channelLogin!==e.channelLogin||this.props.currentUserID!==e.currentUserID||this.props.shouldConnect&&!e.shouldConnect||i)&&(this.logger.debug("Reconnecting..."),this.registerCustomLatencyEvents(),i?this.reconnectionTimeout=setTimeout((function(){return n.join(n.props.channelLogin)}),1e3):this.join(this.props.channelLogin))},n.prototype.isUserBanned=function(e){return!(!e.data||e.data.loading||e.data.error||!e.data.chatRoomBanStatus)&&e.data.chatRoomBanStatus.isPermanent},n.prototype.join=function(e){this.logger.debug("Joining channel and binding all event listeners",this.props.channelLogin),this.hasConnected=!1,this.joinedChannel&&this.joinedChannel!==e&&this.service.part(this.joinedChannel),this.joinedChannel=e,this.connectHandlers(),this.service.join(e)},n.prototype.disconnect=function(e){this.logger.debug("Parting channel and unbinding all event listeners",e),this.disconnectHandlers(),this.service.part(e),this.skipLatencyMeasurements()},n.prototype.getFilterFlagOptions=function(e){return e&&0!==e.length?this.props.chatFilterExperimentMembership===f.VX.Excluded||!this.props.viewerChatFilterEnabled||this.props.isCurrentUserModerator?null:{list:e,preferences:this.props.viewerChatFilterSettings}:null},n.prototype.connectHandlers=function(){this.disconnectHandlers(),this.client.events.joined(this.onJoinedEvent),this.client.events.disconnected(this.onDisconnectedEvent),this.client.events.reconnecting(this.onReconnectingEvent),this.client.events.reconnected(this.onReconnectedEvent),this.client.events.chat(this.onChatMessageEvent),this.client.events.usernotice(this.onChatMessageEvent),this.client.events.notice(this.onChatNoticeEvent),this.client.events.action(this.onChatActionEvent),this.client.events.badgesupdated(this.onBadgesUpdatedEvent),this.client.events.hosted(this.onHostedEvent),this.client.events.hosting(this.onHostingEvent),this.client.events.unhost(this.onUnhostEvent),this.client.events.purchase(this.onPurchaseEvent),this.client.events.crate(this.onCrateEvent),this.client.events.rewardgift(this.onRewardGiftEvent),this.client.events.ritual(this.onRitualEvent),this.client.events.firstcheer(this.onFirstCheerEvent),this.client.events.bitsbadgetier(this.onBitsBadgeTierEvent),this.client.events.channelpointsreward(this.onChannelPointsRewardEvent),this.client.events.timingack(this.onTimingAckEvent),this.client.events.subscription(this.onSubscriptionEvent),this.client.events.resub(this.onResubscriptionEvent),this.client.events.giftpaidupgrade(this.onGiftPaidUpgradeEvent),this.client.events.anongiftpaidupgrade(this.onAnonGiftPaidUpgradeEvent),this.client.events.primepaidupgrade(this.onPrimePaidUpgradeEvent),this.client.events.extendsub(this.onExtendSubscriptionEvent),this.client.events.subgift(this.onSubscriptionGiftEvent),this.client.events.anonsubgift(this.onAnonSubscriptionGiftEvent),this.client.events.submysterygift(this.onSubscriptionMysteryGiftEvent),this.client.events.anonsubmysterygift(this.onAnonSubscriptionMysteryGiftEvent),this.client.events.communitypayforward(this.onCommunityPayForwardEvent),this.client.events.standardpayforward(this.onStandardPayForwardEvent),this.client.events.timeout(this.onTimeoutEvent),this.client.events.ban(this.onBanEvent),this.client.events.clearchat(this.onClearChatEvent),this.client.events.clearmsg(this.onClearMsgEvent),this.client.events.raid(this.onRaidEvent),this.client.events.unraid(this.onUnraidEvent),this.client.events.mods(this.onRoomModsEvent),this.client.events.roomstate(this.onRoomStateEvent),this.client.events.subscribers(this.onSubscriberOnlyModeEvent),this.client.events.emoteonlymode(this.onEmoteOnlyModeEvent),this.client.events.r9kmode(this.onR9KModeEvent),this.client.events.charity(this.onBitsCharityEvent),this.client.events.primecommunitygiftreceived(this.onPrimeCommunityGiftReceivedEvent),this.client.events.celebrationpurchase(this.onCelebrationPurchaseEvent)},n.prototype.disconnectHandlers=function(){this.client.events.remove("joined",this.onJoinedEvent),this.client.events.remove("disconnected",this.onDisconnectedEvent),this.client.events.remove("reconnecting",this.onReconnectingEvent),this.client.events.remove("reconnected",this.onReconnectedEvent),this.client.events.remove("chat",this.onChatMessageEvent),this.client.events.remove("usernotice",this.onChatMessageEvent),this.client.events.remove("notice",this.onChatNoticeEvent),this.client.events.remove("action",this.onChatActionEvent),this.client.events.remove("badgesupdated",this.onBadgesUpdatedEvent),this.client.events.remove("hosted",this.onHostedEvent),this.client.events.remove("hosting",this.onHostingEvent),this.client.events.remove("unhost",this.onUnhostEvent),this.client.events.remove("purchase",this.onPurchaseEvent),this.client.events.remove("crate",this.onCrateEvent),this.client.events.remove("rewardgift",this.onRewardGiftEvent),this.client.events.remove("ritual",this.onRitualEvent),this.client.events.remove("firstcheer",this.onFirstCheerEvent),this.client.events.remove("bitsbadgetier",this.onBitsBadgeTierEvent),this.client.events.remove("channelpointsreward",this.onChannelPointsRewardEvent),this.client.events.remove("timingack",this.onTimingAckEvent),this.client.events.remove("subscription",this.onSubscriptionEvent),this.client.events.remove("resub",this.onResubscriptionEvent),this.client.events.remove("giftpaidupgrade",this.onGiftPaidUpgradeEvent),this.client.events.remove("anongiftpaidupgrade",this.onAnonGiftPaidUpgradeEvent),this.client.events.remove("primepaidupgrade",this.onPrimePaidUpgradeEvent),this.client.events.remove("extendsub",this.onExtendSubscriptionEvent),this.client.events.remove("subgift",this.onSubscriptionGiftEvent),this.client.events.remove("anonsubgift",this.onAnonSubscriptionGiftEvent),this.client.events.remove("submysterygift",this.onSubscriptionMysteryGiftEvent),this.client.events.remove("anonsubmysterygift",this.onAnonSubscriptionMysteryGiftEvent),this.client.events.remove("communitypayforward",this.onCommunityPayForwardEvent),this.client.events.remove("standardpayforward",this.onStandardPayForwardEvent),this.client.events.remove("timeout",this.onTimeoutEvent),this.client.events.remove("ban",this.onBanEvent),this.client.events.remove("clearchat",this.onClearChatEvent),this.client.events.remove("clearmsg",this.onClearMsgEvent),this.client.events.remove("raid",this.onRaidEvent),this.client.events.remove("unraid",this.onUnraidEvent),this.client.events.remove("mods",this.onRoomModsEvent),this.client.events.remove("roomstate",this.onRoomStateEvent),this.client.events.remove("subscribers",this.onSubscriberOnlyModeEvent),this.client.events.remove("emoteonlymode",this.onEmoteOnlyModeEvent),this.client.events.remove("r9kmode",this.onR9KModeEvent),this.client.events.remove("charity",this.onBitsCharityEvent),this.client.events.remove("primecommunitygiftreceived",this.onPrimeCommunityGiftReceivedEvent),this.client.events.remove("celebrationpurchase",this.onCelebrationPurchaseEvent)},n.prototype.postMessageToCurrentChannel=function(e,n){e.channel.toLowerCase().replace("#","")===this.props.channelLogin.toLowerCase()&&this.addMessage(n)},n.prototype.addMessage=function(e){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.handleMessage(e)},n.prototype.shouldConnectOnMount=function(){return this.props.shouldConnect&&!this.disabled},n.prototype.registerCustomLatencyEvents=function(){this.logger.debug("Registering custom latency events"),this.props.latencyTracking.resetCustomEvents(T.zO.Chat),this.chatInitialized=this.registerInitEvent(),this.props.latencyTracking.reportCustomEvent(this.chatInitialized),this.shouldConnectOnMount()&&(this.chatConnected=this.registerConnectedEvent())},n.prototype.registerInitEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:3e3,group:T.zO.Chat,key:T.zU.ChatInit,label:T.fF.Init})},n.prototype.registerConnectedEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:T.zO.Chat,key:T.zU.ChatConnected,label:T.fF.Connected})},n.prototype.skipLatencyMeasurements=function(){this.props.latencyTracking.resetCustomEvents(T.zO.Chat),this.props.latencyTracking.reportInteractive()},n.prototype.trackChatCommand=function(e){var n,t,i=this.props.prevCommand;if(i){if(e)n={channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,body:i.message,errorType:e},t={user_id:n.userID||"",channel_id:n.channelID||"",user_type:F(n.userType),body:n.body,error_type:U(n.errorType)},M.UO.track(R.N.ChatCommandClientFail,t);else this.props.getCommands(this.props.commandPermissionLevel,{isEditor:this.props.isCurrentUserEditor}).map((function(e){return e.name})).includes(i.command)&&function(e){var n,t={user_id:e.userID||"",channel_id:e.channelID||"",user_type:F(e.userType),chat_command:e.chatCommand,args:(n=e.args,n.trim().split(/\s+/))};M.UO.track(R.N.ChatCommandClientSuccess,t)}({channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,chatCommand:i.command,args:i.args});this.props.clearPrevCommand()}},n}(E.Component),ee=t(984421);function ne(e){return!e.channelID||!e.userID}var te=(0,r.qC)((0,a.$j)((function(e){var n=(0,u.PR)(e);return{authToken:(0,u.bW)(e),currentUserLogin:n&&n.login,currentUserID:n&&n.id,viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled,viewerChatFilterSettings:e.chat.viewerChatFilterSettings}})),(0,b.W)("ChatConnectionService"),ee.l,S.Qt,(0,f.NX)((function(e){return e})),(0,m.O9)((function(e){return{getCommands:e.getCommands,handleCommand:e.handleCommand,prevCommand:e.prevCommand,clearPrevCommand:e.clearPrevCommand}})),(0,p.Sf)((function(e){return{pushCallout:function(n){return e.pushCallout(n)}}})),(0,h.EB)((function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}})),(0,c.gc)((function(e){return{bitsConfig:e.bitsConfig}})),(0,C.q)((function(e){return{rewardMap:e.rewardMap}})),(0,y.M$)((function(e){return{setInitalTimestampForMsgNonce:e.setInitalTimestampForMsgNonce,updateTimestampForMsgNonce:e.updateTimestampForMsgNonce}})),(0,g.WA)((function(e){return{setModifierTray:function(n){return e((0,v.PH)(n))},clearModifierTray:function(){return e((0,v.zB)())}}})),(0,o.TA)(k,{skip:ne,options:function(e){var n,t;return{variables:{channelID:null!==(n=e.channelID)&&void 0!==n?n:"",targetUserID:null!==(t=e.userID)&&void 0!==t?t:""}}}}),(0,s.P)((function(e){return{query:k,variables:{channelID:e.channelID,targetUserID:e.userID},topic:(0,d.NE)(e.userID),type:l.qU.ChatRoomsUserModAction,skip:ne(e),mutator:function(n,t){return"unban"===n.data.action&&n.data.target_id===e.userID&&n.data.channel_id===e.channelID?i(t,(function(e){return e.chatRoomBanStatus}),(function(){return null})):"ban"===n.data.action&&n.data.target_id===e.userID&&n.data.channel_id===e.channelID?i(t,(function(e){return e.chatRoomBanStatus}),(function(){var e;return{bannedUser:null,createdAt:(new Date).toISOString(),expiresAt:null,isPermanent:!0,moderator:null,reason:null!==(e=n.data.reason)&&void 0!==e?e:"",__typename:"ChatRoomBanStatus"}})):t}}})))(Z)},984421:function(e,n,t){"use strict";t.d(n,{V:function(){return o},l:function(){return s}});var i=(0,t(905728).$)("ChatConnection"),a=i.withChatServiceManager,r=i.withContext,o=a,s=r((function(e){return{chatConnectionAPI:e.serviceAPI,setChatConnectionAPI:e.setServiceAPI}}))},361945:function(e,n,t){"use strict";t.d(n,{pe:function(){return s},nl:function(){return l}});var i=(0,t(905728).$)("ChatRestrictions"),a=i.context,r=i.withChatServiceManager,o=i.withContext,s=(a.Provider,r),l=o((function(e){return{chatRestrictionsAPI:e.serviceAPI,setChatRestrictionsAPI:e.setServiceAPI}}))},905728:function(e,n,t){"use strict";t.d(n,{$:function(){return s}});var i=t(570655),a=t(667294),r=t(831642),o=t(884979);function s(e){var n={setServiceAPI:function(){r.kg.warn("The "+e+" chat service attempted to register its API without a provider.")}},t=(0,o.k)(e,n),s=t.context,l=t.withContext;return{context:s,withChatServiceManager:function(e){return function(t){var r=a.useContext(s),o=a.useState(),l=o[0],d=o[1],u=a.useMemo((function(){return{serviceAPI:l,setServiceAPI:d}}),[l]);return r!==n?a.createElement(e,(0,i.__assign)({},t)):a.createElement(s.Provider,{value:u},a.createElement(e,(0,i.__assign)({},t)))}},withContext:l}}},273757:function(e,n,t){"use strict";t.d(n,{q:function(){return H}});var i=t(137703),a=t(14890),r=t(987145),o=t(949161);var s=t(797425),l=t(613290),d=t(201515),u=t(331902),c=t(432504),m=t(570655),p=t(667294),h=t(906704),f=t(498409),g=t(670599);var v=t(380079),y=t(721482),k=t(289738),S=t(82246),C=t(48993),b=t(129989),w=t(831642),E=t(765256),_=t(64125),N=function(e,n){var t,i,a,r;if(!(null===(i=null===(t=e.message)||void 0===t?void 0:t.replies)||void 0===i?void 0:i.nodes))return e;var o=null===(r=null===(a=e.message)||void 0===a?void 0:a.replies)||void 0===r?void 0:r.nodes.map((function(e){return(0,m.__assign)({},e)})),s=o.findIndex((function(e){return e.id===n}));return s<0?e:(o[s]=(0,m.__assign)((0,m.__assign)({},o[s]),{deletedAt:(new Date).toISOString()}),b(e,(function(e){return e.message.replies.nodes}),(function(){return(0,m.__spreadArrays)(o)})))},D=function(e){return e.message?b(e,(function(e){return e.message}),(function(e){return(0,m.__assign)((0,m.__assign)({},e),{deletedAt:(new Date).toISOString()})})):e},M=function(e,n){var t,i;return(null===(i=null===(t=e.message)||void 0===t?void 0:t.replies)||void 0===i?void 0:i.nodes)?b(e,(function(e){return e.message.replies.nodes}),(function(e){return(0,m.__spreadArrays)(e,[{__typename:"Message",id:n.id,sentAt:new Date(n.timestamp).toISOString(),deletedAt:null,text:n.messageBody,content:{__typename:"MessageContent",text:n.messageBody,fragments:(0,E.TC)(n.messageParts)},sender:{__typename:"User",chatColor:n.user.color||null,displayBadges:[],id:n.user.userID,login:n.user.userLogin,displayName:n.user.userDisplayName}}])})):e},I=t(75552),T=t(646628),P=t(510091),R=t(274178),A=t(840219),L=t(158469);function F(e,n,t,i,a){n&&e.forEach((function(e){var r=!1;e.forEach((function(e){if(function(e,n){if(e.type===f.SJ.Message){var t=e.reply;t&&t.parentMsgId===n&&(e.reply=(0,m.__assign)((0,m.__assign)({},t),{parentDeleted:!0}))}}(e,n),!r){var o=function(e,n){var t=null;switch(e.type){case f.SJ.Message:t=e;break;case f.SJ.ChannelPointsReward:case f.SJ.Resubscription:case f.SJ.Ritual:t=e.message||null;break;default:return null}if(!t||t.deleted)return null;if(n&&t.id===n)return t;return null}(e,n);o&&(r=!0,o.deleted=!0,o.deletedCount=1,t&&(o.modLogin=t),i&&(o.modActionType=i),a&&a(o))}}))}))}function U(e,n,t,i){var a=e.reduce((function(e,a){return a.reduce((function(e,a){var r=function(e,n){var t=null;switch(e.type){case f.SJ.Message:t=e;break;case f.SJ.ChannelPointsReward:case f.SJ.Resubscription:case f.SJ.Ritual:t=e.message||null;break;default:return null}if(!t||t.deleted)return null;if(n&&t.user&&n===t.user.userLogin&&t.messageParts)return t;return null}(a,n);if(function(e,n){if(e.type===f.SJ.Message){var t=e.reply;t&&t.parentUserLogin===n&&(e.reply=(0,m.__assign)((0,m.__assign)({},t),{parentDeleted:!0}))}}(a,n),r){if(r.deleted=!0,r.banned=!0,t){var o=t.moderationActionType,s=t.createdByLogin,l=t.duration;r.modLogin=s,r.modActionType=o,r.duration=l}return i&&i(r),{lastDeletedMessage:r,deletedCount:e.deletedCount+1}}return e}),e)}),{deletedCount:0}),r=a.lastDeletedMessage,o=a.deletedCount;r&&(r.deletedCount=o)}var x=t(100387),O=150,B=function(e){function n(n){var t=e.call(this,n)||this;return t.slidingWindowEnd=0,t.paused=!1,t.delayedMessageBuffer=[],t.updateHandlers=[],t.prependHistoricalMessages=function(e){var n=t.props.historicalMessages;if(n!==e&&n){var i=O-t.buffer.length,a=n.slice(-i).reduce((function(e,n){var i=function(e,n){var t,i=e.parentMessage,a=e.sender;if(a){var r=(null===(t=e.content)||void 0===t?void 0:t.text)||"",o=void 0;return(null==i?void 0:i.sender)&&(0,L.C)(n)!==L.E.Control&&(r=(0,R.Ct)(r,i.sender.displayName).message,o={parentMsgId:i.id,parentDeleted:!!i.deletedAt,parentUid:i.sender.id,parentUserLogin:i.sender.login,parentDisplayName:i.sender.displayName,parentMessageBody:i.content.text}),(0,P.I)(f.Ay.Post,r,{id:e.id,badges:(0,I.UW)(a.displayBadges),badgeDynamicData:null,emotes:(0,A.sZ)(r,e.content),userID:a.id,username:a.login,displayName:a.displayName,color:a.chatColor||"",userType:"",bits:0},T.Nv,null,!!e.deletedAt,!1,e.sentAt?new Date(e.sentAt).getTime():void 0,{isHistorical:!0,reply:o})}}(n,t.props.channelID);return i&&(e.push(i),i.reply&&(0,x.V)(e,i.reply.parentMsgId)),e}),[]);a.length>0&&(t.buffer=a.concat(t.buffer),a.forEach((function(e){var n;return null===(n=t.props.activeChattersAPI)||void 0===n?void 0:n.handleMessage(e)})),t.notifySubscribers(),t.props.channelID&&(0,C.Q6)({channelID:t.props.channelID,messageCount:a.length}))}},t.onMessageDeleteSuccess=function(e){!function(e,n){var t;try{t=e.reply?w.$6.apollo.client.readQuery({query:_,variables:{channelID:n,messageID:e.reply.parentMsgId}}):w.$6.apollo.client.readQuery({query:_,variables:{channelID:n,messageID:e.id}})}catch(n){return void w.$6.apollo.client.writeQuery({query:_,variables:{messageID:e.id},data:{message:{__typename:"Message",id:e.id,sentAt:new Date(e.timestamp).toISOString(),deletedAt:(new Date).toISOString(),text:e.messageBody,replies:null,content:{__typename:"MessageContent",text:e.messageBody,fragments:(0,E.TC)(e.messageParts)},sender:{__typename:"User",chatColor:e.user.color||null,displayBadges:[],id:e.user.userID,login:e.user.userLogin,displayName:e.user.userDisplayName}}}})}if(!t)return null;e.reply?w.$6.apollo.client.writeQuery({query:_,variables:{messageID:e.reply.parentMsgId},data:N(t,e.id)}):w.$6.apollo.client.writeQuery({query:_,variables:{messageID:e.id},data:D(t)})}(e,t.props.channelID)},t.handleMessage=function(e){var n,i,a,r,o,s=!1;if(t.messageIncludesBlockedUser(e)){if(!t.props.shouldSeeBlockedAndDeletedMessages)return;e.type===f.SJ.Message&&(e.hidden=!0)}switch(e.type){case f.SJ.BadgesUpdated:case f.SJ.RoomState:return;case f.SJ.Message:t.uncountedMessages++;var l=e.messageParts[0];if(l&&l.type===k.S.Text&&l.content.startsWith(":act "))return;s=!t.isOwnMessage(e),t.props.tray&&t.props.tray.type===y.v4.Reply&&(null===(n=e.reply)||void 0===n?void 0:n.parentMsgId)===(null===(r=null===(a=null===(i=t.props.tray.sendMessageHandler)||void 0===i?void 0:i.additionalMetadata)||void 0===a?void 0:a.reply)||void 0===r?void 0:r.parentMsgId)&&function(e,n,t){if(n&&t){var i;try{i=w.$6.apollo.client.readQuery({query:_,variables:{channelID:t,messageID:n}})}catch(e){return}if(!i)return null;w.$6.apollo.client.writeQuery({query:_,variables:{messageID:n},data:M(i,e)})}}(e,null===(o=e.reply)||void 0===o?void 0:o.parentMsgId,t.props.channelID),e.reply&&(0,x.V)(t.buffer,e.reply.parentMsgId);break;case f.SJ.ChannelPointsReward:case f.SJ.Resubscription:s=!!e.message&&!t.isOwnMessage(e.message);break;case f.SJ.ModerationAction:if(e.level===v.gm.User&&e.targetUserLogin&&e.targetUserLogin===t.props.currentUserLogin)break;if(!t.props.isCurrentUserModerator)return;if(e.level===v.gm.User&&(e.moderationActionType===h.e0.Ban||e.moderationActionType===h.e0.Timeout||e.moderationActionType===h.e0.Delete)){var d=e.moderationActionType,u=e.targetUserLogin,c=e.createdByLogin,m=e.messageID;if(t.moderatedUsers.has(u))return;var p=[t.buffer,t.delayedMessageBuffer.map((function(e){return e.event}))];d===h.e0.Delete?F(p,m,c,d,t.onMessageDeleteSuccess):t.moderateBuffers(p,u,e);break}break;case f.SJ.Moderation:if(t.props.isCurrentUserModerator)break;var g=e.moderationType,S=e.userLogin;if(t.moderatedUsers.has(S))return;var C=[t.buffer,t.delayedMessageBuffer.map((function(e){return e.event}))];if(g===f.Aw.Delete)F(C,e.targetMessageID,void 0,void 0,t.onMessageDeleteSuccess);else t.moderateBuffers(C,S);break;case f.SJ.Disconnected:return;case f.SJ.Reconnect:if(t.buffer.find((function(n){return n.id===e.id}))||t.delayedMessageBuffer.find((function(n){return n.event.id===e.id})))return;break;case f.SJ.Clear:t.clear();break;case f.SJ.AutoMod:switch(e.autoModType){case f.mT.MessageModApproved:case f.mT.MessageModDenied:return void[t.buffer,t.delayedMessageBuffer.map((function(e){return e.event}))].forEach((function(n){n.some((function(n){return!(n.type!==f.SJ.AutoMod||n.autoModType!==f.mT.MessageRejectedPrompt||!n.rejectedMessage||n.rejectedMessage.id!==e.msg_id)&&(n.rejectedMessage.deleted=!0,!0)}))}))}}t.delayedMessageBuffer.push({event:e,time:Date.now(),shouldDelay:s})},t.getMessages=function(){return t.buffer.slice(0,t.slidingWindowEnd)},t.unsetModeratedUser=function(e){return function(){t.moderatedUsers.delete(e)}},t.isOwnMessage=function(e){var n=e.user;return!(!t.props.currentUserLogin||!n||n.userLogin!==t.props.currentUserLogin)},t.addUpdateHandler=function(e){-1===t.updateHandlers.indexOf(e)&&(t.updateHandlers=t.updateHandlers.concat(e))},t.removeUpdateHandler=function(e){t.updateHandlers=t.updateHandlers.filter((function(n){return n!==e}))},t.setPaused=function(e){t.paused!==e&&(t.paused=e,e||(t.slidingWindowEnd=Math.min(t.buffer.length,O)),t.notifySubscribers())},t.isPaused=function(){return t.paused},t.hasNewerLeft=function(){return t.slidingWindowEnd<t.buffer.length},t.getUnreadCount=function(){return Math.max(0,t.buffer.length-t.slidingWindowEnd)},t.loadNewer=function(){if(t.hasNewerLeft()){var e=Math.min(t.buffer.length,t.slidingWindowEnd+40),n=Math.max(0,e-O);t.clear(t.buffer.length-n),t.slidingWindowEnd=e-n,t.notifySubscribers()}},t.loadNewest=function(){t.hasNewerLeft()&&(t.clear(O),t.slidingWindowEnd=Math.min(O,t.buffer.length),t.notifySubscribers())},t.notifySubscribers=function(){t.props.isBackground||t.updateHandlers.forEach((function(e){return e()}))},t.delayedMessageBuffer=[],t.buffer=[],t.moderatedUsers=new Set,t.blockedUsers=new Set(t.props.blockedUsers),t.unhideUsers=new Set,t.flushInterval=setInterval((function(){return t.flushRawMessages()}),200),t.uncountedMessages=0,t.chatRateMeasurements=[],t.chatRateMeasurementInterval=setInterval((function(){return t.measureChatRate()}),1e3),t}return(0,m.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.setMessageBufferAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,getUnreadCount:this.getUnreadCount,getMessages:this.getMessages,isPaused:this.isPaused,setPaused:this.setPaused,hasNewerLeft:this.hasNewerLeft,loadNewer:this.loadNewer,loadNewest:this.loadNewest}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage),this.prependHistoricalMessages()},n.prototype.componentWillUnmount=function(){this.props.setMessageBufferAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage),clearInterval(this.flushInterval),clearInterval(this.chatRateMeasurementInterval)},n.prototype.render=function(){return null},n.prototype.componentDidUpdate=function(e){e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)),this.props.blockedUsers!==e.blockedUsers&&(this.blockedUsers=new Set(this.props.blockedUsers)),this.props.unhideIgnoredUsers!==e.unhideIgnoredUsers&&(this.unhideUsers=new Set(this.props.unhideIgnoredUsers)),e.isBackground&&!this.props.isBackground&&(this.chatRate>5&&this.clear(20),this.notifySubscribers()),this.prependHistoricalMessages(e.historicalMessages)},n.prototype.messageIncludesBlockedUser=function(e){for(var n=0,t=(0,S.l)(e);n<t.length;n++){var i=t[n];if(this.blockedUsers.has(i.id)&&!this.unhideUsers.has(i.id))return!0}return!1},n.prototype.clear=function(e){if(void 0===e&&(e=0),e<=0)return this.buffer=[],this.delayedMessageBuffer=[],void(this.paused=!1);this.paused&&this.buffer.length>=900&&this.setPaused(!1),e<this.buffer.length&&(this.buffer=this.buffer.slice(-e))},n.prototype.isDeletable=function(e){return void 0!==e.deleted},n.prototype.moderateBuffers=function(e,n,t){U(e,n,t,this.onMessageDeleteSuccess),this.moderatedUsers.add(n),setTimeout(this.unsetModeratedUser(n),1e3)},n.prototype.flushRawMessages=function(){var e=this,n=[],t=Date.now(),i=!1,a=0,r=this.slidingWindowEnd;this.delayedMessageBuffer.forEach((function(o){if(o.time<=t-e.delayDuration||!o.shouldDelay){if(e.props.shouldSeeBlockedAndDeletedMessages||!e.isDeletable(o.event)||!o.event.deleted){var s=e.buffer[e.buffer.length-1];!e.props.isLoadingHistoricalMessages&&!e.props.historicalMessages||(null==s?void 0:s.type)!==f.SJ.Connected||o.event.type===f.SJ.Connected||e.buffer.find((function(e){return e.type===f.SJ.LiveMessageSeparator}))||e.buffer.push({type:f.SJ.LiveMessageSeparator,id:(0,g.C)("live-message-separator")}),e.buffer.push(o.event),i=!0,e.buffer.length>O&&!e.paused&&a++,e.buffer.length<=O&&!e.paused&&r++}}else n.push(o)})),this.delayedMessageBuffer=n,i&&(this.clear(Math.min(900,this.buffer.length-a)),this.slidingWindowEnd=r,this.notifySubscribers())},n.prototype.measureChatRate=function(){3===this.chatRateMeasurements.length&&this.chatRateMeasurements.shift(),this.chatRateMeasurements.push(this.uncountedMessages),this.uncountedMessages=0},Object.defineProperty(n.prototype,"chatRate",{get:function(){return 0===this.chatRateMeasurements.length?0:this.chatRateMeasurements.reduce((function(e,n){return e+n}))/this.chatRateMeasurements.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delayDuration",{get:function(){return this.props.isCurrentUserModerator?0:this.props.data.user&&this.props.data.user.chatSettings&&this.props.data.user.chatSettings.chatDelayMs||0},enumerable:!0,configurable:!0}),n}(p.Component),V=t(863480),q=t(67523);var G=t(720205);var H=(0,a.qC)((0,i.$j)((function(e){var n=(0,s.PR)(e);return{authToken:(0,s.bW)(e),currentUserLogin:n&&n.login,isLoggedIn:(0,s.jl)(e)}})),(0,l.WY)((function(e){return{tray:e.activeInputTray}})),(0,r.TA)(c,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,r.TA)(q,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},props:function(e){var n,t=e.data;return t&&!t.loading&&!t.error&&t.channel&&(n=t.channel.recentChatMessages),{isLoadingHistoricalMessages:!!(null==t?void 0:t.loading),historicalMessages:n}},skip:function(e){return!e.isLoggedIn||!(0,V.t)("chat_history")||!e.isCurrentUserModerator&&"control"===w.$6.experiments.getAndTrackAssignment("chat_history")}}),(0,r.TA)(o,{props:function(e){return e.data&&!e.data.loading&&!e.data.error&&e.data.currentUser&&e.data.currentUser.blockedUsers?{blockedUsers:e.data.currentUser.blockedUsers.reduce((function(e,n){return n&&n.id&&e.push(n.id),e}),[])}:{blockedUsers:[]}},skip:function(e){return!(e.isLoggedIn||e.authToken)}}),d.j,G.F_,u.Qt)(B)},720205:function(e,n,t){"use strict";t.d(n,{g5:function(){return s},uq:function(){return l},F_:function(){return d}});var i=(0,t(905728).$)("MessageBuffer"),a=i.context,r=i.withChatServiceManager,o=i.withContext,s=a,l=r,d=o((function(e){return{messageBufferAPI:e.serviceAPI,setMessageBufferAPI:e.setServiceAPI}}))},100387:function(e,n,t){"use strict";t.d(n,{V:function(){return a},j:function(){return r}});var i=t(774601);function a(e,n){for(var t=0,a=e;t<a.length;t++){var r=a[t],o=(0,i.i)(r);o&&!o.deleted&&(o.id===n&&(o.hasReply=!0))}}function r(e){return{parentMsgId:e.id,parentUid:e.user.userID,parentUserLogin:e.user.userLogin,parentDeleted:e.deleted,parentDisplayName:e.user.userDisplayName,parentMessageBody:e.messageBody}}},396359:function(e,n,t){"use strict";t.d(n,{d:function(){return s}});var i=t(14890),a=t(570655),r=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.messageHandlers=[],n.addMessageHandler=function(e){-1===n.messageHandlers.indexOf(e)&&(n.messageHandlers=n.messageHandlers.concat(e))},n.removeMessageHandler=function(e){n.messageHandlers=n.messageHandlers.filter((function(n){return n!==e}))},n.handleMessage=function(e){for(var t=n.messageHandlers.length,i=0;i<t;i++)n.messageHandlers[i](e)},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.setMessageHandlerAPI({addMessageHandler:this.addMessageHandler,removeMessageHandler:this.removeMessageHandler,handleMessage:this.handleMessage})},n.prototype.render=function(){return null},n.prototype.componentWillUnmount=function(){this.props.setMessageHandlerAPI()},n}(t(667294).Component),o=t(331902),s=(0,i.qC)(o.Qt)(r)},331902:function(e,n,t){"use strict";t.d(n,{DG:function(){return s},QL:function(){return l},Qt:function(){return d}});var i=(0,t(905728).$)("MessageHandler"),a=i.context,r=i.withChatServiceManager,o=i.withContext,s=a,l=r,d=o((function(e){return{messageHandlerAPI:e.serviceAPI,setMessageHandlerAPI:e.setServiceAPI}}))},805831:function(e,n,t){"use strict";t.d(n,{wO:function(){return c}});var i=t(570655),a=t(38339),r=t(831642),o=t(560772),s=t(419341),l=t(755254),d=t(742407);function u(e,n){r.UO.track(d.N.ChatFilterSettingsChanged,{chat_filter_is_active:e.viewerChatFilterEnabled,from_menu:n,toggle_aggressive_language:e.viewerChatFilterSettings[a.b.Aggressive],toggle_explicit_language:e.viewerChatFilterSettings[a.b.Sexual],toggle_identity_language:e.viewerChatFilterSettings[a.b.Identity],toggle_profane_language:e.viewerChatFilterSettings[a.b.Profanity]})}function c(e){return e.chat.renderSent}function m(e){return-1===Object.values(e).indexOf(!0)}function p(e){(0,l.Gx)("viewerChatFilterEnabled",e.viewerChatFilterEnabled),(0,l.Gx)("viewerChatFilterSettings",e.viewerChatFilterSettings)}r.$6.store.registerReducer("chat",(function(e,n){var t,r,d,c;switch(void 0===e&&(c=(0,l.Au)(),e=(0,i.__assign)((0,i.__assign)({},c),{emoteSets:[],emotePickerSessionID:null,isChatRulesOpen:!1,isHidden:!1,renderSent:null,unhideIgnoredUsers:[]})),n.type){case s.ki:return(0,i.__assign)((0,i.__assign)({},e),{isHidden:!0});case s.oW:return(0,i.__assign)((0,i.__assign)({},e),{isHidden:!1});case s.z2:return(0,i.__assign)((0,i.__assign)({},e),{isChatRulesOpen:!1});case s.Rv:return(0,i.__assign)((0,i.__assign)({},e),{emoteSets:n.emoteSets});case s.BY:return(0,i.__assign)((0,i.__assign)({},e),{emotePickerSessionID:null});case s.BC:return(0,i.__assign)((0,i.__assign)({},e),{emotePickerSessionID:(0,o._f)()});case s.kX:return(0,i.__assign)((0,i.__assign)({},e),{lastUsedFollowerDurations:(0,i.__assign)((0,i.__assign)({},e.lastUsedFollowerDurations),(t={},t[n.channelLogin]=n.duration,t))});case s.LS:return(0,i.__assign)((0,i.__assign)({},e),{lastUsedSlowModeDurations:(0,i.__assign)((0,i.__assign)({},e.lastUsedSlowModeDurations),(r={},r[n.channelLogin]=n.duration,r))});case s.n4:return(0,i.__assign)((0,i.__assign)({},e),{isChatRulesOpen:!0});case s.sy:return(0,i.__assign)((0,i.__assign)({},e),{showAutoModActions:!1});case s.TL:return(0,i.__assign)((0,i.__assign)({},e),{showAutoModActions:!0});case s.hg:return(0,i.__assign)((0,i.__assign)({},e),{showModerationActions:!1});case s.eP:return(0,i.__assign)((0,i.__assign)({},e),{showModerationActions:!0});case s.cK:return(0,i.__assign)((0,i.__assign)({},e),{showModIcons:!1});case s.SB:return(0,i.__assign)((0,i.__assign)({},e),{showModIcons:!0});case s.w0:return(0,i.__assign)((0,i.__assign)({},e),{repliesAppearancePreference:n.preference});case s.$9:return(0,i.__assign)((0,i.__assign)({},e),{showTimestamps:!1});case s.nc:return(0,i.__assign)((0,i.__assign)({},e),{showTimestamps:!0});case s.RI:var h=(0,i.__assign)((0,i.__assign)({},e),{viewerChatFilterEnabled:!1});return p(h),u(h,n.source),h;case s._$:return p(h=m(e.viewerChatFilterSettings)?(0,i.__assign)((0,i.__assign)({},e),{viewerChatFilterEnabled:!0,viewerChatFilterSettings:(d={},d[a.b.Aggressive]=!0,d[a.b.Identity]=!0,d[a.b.Profanity]=!1,d[a.b.Sexual]=!0,d)}):(0,i.__assign)((0,i.__assign)({},e),{viewerChatFilterEnabled:!0})),u(h,n.source),h;case s.Zw:return p(h=(0,i.__assign)((0,i.__assign)({},e),{viewerChatFilterEnabled:!m(n.settings),viewerChatFilterSettings:(0,i.__assign)((0,i.__assign)({},e.viewerChatFilterSettings),n.settings)})),u(h,n.source),h;case s.n8:return(0,i.__assign)((0,i.__assign)({},e),{renderSent:n.customEvent});case s.Mr:return(0,i.__assign)((0,i.__assign)({},e),{unhideIgnoredUsers:(0,i.__spreadArrays)(e.unhideIgnoredUsers,[n.userID])});case s.mq:return(0,i.__assign)((0,i.__assign)({},e),{fontSizePreference:n.fontSizePreference});default:return e}}))},937251:function(e,n,t){"use strict";t(805831)},662487:function(e,n,t){"use strict";t.d(n,{A:function(){return i}});var i=function(e,n){var t="";return e&&e.length>0&&(t=e.endsWith(" ")?e:e+" "),""+t+n.trim()+" "}},834707:function(e,n,t){"use strict";t.d(n,{rp:function(){return r},kN:function(){return o},e8:function(){return s},WT:function(){return l},cX:function(){return d},A1:function(){return u},A6:function(){return c},qZ:function(){return m},KW:function(){return p},IW:function(){return f},lY:function(){return v},lg:function(){return k},uP:function(){return C},Hh:function(){return w},kH:function(){return N},K0:function(){return M},tq:function(){return I}});var i=t(300445),a=t(607492);function r(e){return/^[\/]/.test(e)}function o(){return"/clear"}function s(){return"/subscribers"}function l(){return"/subscribersoff"}function d(){return"/followersoff"}function u(e){return"/followers "+e}function c(e){return"/color "+e}function m(){return"/emoteonly"}function p(){return"/emoteonlyoff"}var h=/^\/w(?:$|\s+)(\S+)?\s*(.+)?/i;function f(e){var n=e.trim().match(h);return n?{recipientLogin:n[1]&&(0,a.i)(n[1])||null,body:n[2]||null}:null}var g=/^\/host\s+(\S+)$/i;function v(e){var n=e.trim().match(g);return n?{recipientLogin:(0,a.i)(n[1])}:null}var y=/^\/ban\s+(\S+)(?:\s+(.+))?$/;function k(e){var n=e.trim().match(y);return n&&n[1]?{banTarget:(0,a.i)(n[1]),reason:n[2]||null}:null}var S=/^\/timeout\s+(\S+)(?:\s+(\S+))?(?:\s+(.+))?$/;function C(e){var n=!0,t=e.trim().match(S);if(!t||!t[1])return null;var r=(0,a.i)(t[1]),o=t[2]||null,s=t[3]||null,l=null;if(null!==o){var d=Number(o);if(Number.isNaN(d)){var u=(0,i.Ub)(o||"");!u||Number.isNaN(u)?n=!1:l=u}else l=d}return{validArguments:n,banTarget:r,rawDuration:o,durationSeconds:l,reason:s}}var b=/^\/slow(?:\s+(\d+)?)?$/;function w(e){var n=e.trim().match(b);return n?{duration:n[1]&&Number(n[1])||null}:null}var E=["blue","blueviolet","cadetblue","chocolate","coral","dodgerblue","firebrick","goldenrod","green","hotpink","orangered","red","seagreen","springgreen","yellowgreen"],_=/^\/color\s+(#[A-Fa-f0-9]{6}|[A-Za-z]+)$/;function N(e){var n=e.trim().match(_);if(!n)return null;var t=n[1];return t.startsWith("#")||-1!==E.indexOf(t.toLowerCase())?{color:t}:null}var D=/^\/help(?:\s+(\S+)?)?$/i;function M(e){var n=e.trim().match(D);return n?{command:n[1]}:null}function I(e){var n=e.commandArgs;if(n&&n.length>0){var t=n[0];if(t.isRequired)return"["+t.name+"]"}}},274178:function(e,n,t){"use strict";t.d(n,{aE:function(){return m},u4:function(){return k},GW:function(){return f},G0:function(){return v},jz:function(){return y},vO:function(){return g},Ct:function(){return h}});var i=t(570655),a=t(831642),r=t(702631),o=t(765256),s=t(901323),l=t(797425),d=t(158469);var u=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"],c={};function m(e,n,t,a,r,o,s,l,u){var c;void 0===a&&(a=null),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===l&&(l=Date.now()),void 0===u&&(u={});var m,p,v,y,k=(m=n.displayName,p=n.username,y=!1,(v=m)?v.split("").map((function(e){return e.charCodeAt(0)>127})).reduce((function(e,n){return e||n}))&&(y=!0):v=p,{userDisplayName:v,isIntl:y});if((null===(c=u.reply)||void 0===c?void 0:c.parentDisplayName)&&(0,d.C)(u.channelID)!==d.E.Control){var S=h(e,u.reply.parentDisplayName,n.emotes);e=S.message,n.emotes=S.emotes}return{badges:n.badges||{},badgeDynamicData:n.badgeDynamicData||{},bits:n.bits,user:(0,i.__assign)((0,i.__assign)({},k),{userLogin:n.username,userID:n.userID,userType:n.userType,color:n.color||f(n.userID)}),messageParts:g(e,n.emotes||{},n.bits,t,n.username,a||void 0),messageBody:e,deleted:r,banned:s,hidden:o,timestamp:l,reply:u.reply}}function p(e,n){var t=e.length+2,i={};return Object.keys(n).forEach((function(e){i[parseInt(e,10)-t]={startIndex:n[e].startIndex-t,id:n[e].id}})),i}function h(e,n,t){return void 0===t&&(t={}),0===e.indexOf("@"+n+" ")?{message:e.replace("@"+n+" ",""),emotes:p(n,t)}:{message:e,emotes:t}}function f(e,n){return void 0===n&&(n=15),"number"!=typeof c[e]&&(c[e]=Math.floor(Math.random()*n)),u[c[e]]}function g(e,n,t,i,r,d){var u=(0,l.PR)(a.$6.store.getState()),c={cheers:t?i:void 0,emotes:{type:s.pv.Position,map:n},links:{parseClips:!0,parseVods:!0},mentions:{senderLogin:r,sessionUser:u},flags:d};return(0,o.SG)(e,c)}function v(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)}function y(e,n,t,i){return void 0===t&&(t=!0),void 0===i&&(i=r.Q.Light),"https://static-cdn.jtvnw.net/emoticons/v2/"+e+"/"+(t?"default":"static")+"/"+(i===r.Q.Light?"light":"dark")+"/"+Math.min(Math.ceil(n),3)+".0"}function k(e,n){return void 0===n&&(n=!0),{dark:{"1x":y(e,1,n,r.Q.Dark),"2x":y(e,2,n,r.Q.Dark),"4x":y(e,4,n,r.Q.Dark)},light:{"1x":y(e,1,n,r.Q.Light),"2x":y(e,2,n,r.Q.Light),"4x":y(e,4,n,r.Q.Light)},themed:!0}}},840219:function(e,n,t){"use strict";t.d(n,{sZ:function(){return a},$0:function(){return r}});var i=t(128416),a=function(e,n){var t={};if(0===n.fragments.length)return t;var i=-1;return n.fragments.forEach((function(n){var a;if("Emote"===(null===(a=n.content)||void 0===a?void 0:a.__typename)){var r=n.content,o=r.token||"",s=r.emoteID||"";-1!==(i=e.indexOf(o,i))&&(t[i]={startIndex:i,id:s},i+=o.length)}})),t},r=function(e){return!(e.emotes.length<1)&&e.emotes.every((function(e){return e.type===i.eeY.BITS_BADGE_TIERS}))}},774601:function(e,n,t){"use strict";t.d(n,{i:function(){return a}});var i=t(498409);function a(e){return e.type===i.SJ.Message?e:"message"in e&&"string"!=typeof e.message&&e.message||null}},82246:function(e,n,t){"use strict";t.d(n,{l:function(){return a}});var i=t(498409);function a(e){switch(e.type){case i.SJ.Message:return[{displayName:e.user.userDisplayName,id:e.user.userID,login:e.user.userLogin}];case i.SJ.Ritual:return[{displayName:e.message.user.userDisplayName,id:e.message.user.userID,login:e.message.user.userLogin}];case i.SJ.Raid:return[{displayName:e.params.displayName,id:e.params.userID,login:e.params.login}];case i.SJ.Resubscription:case i.SJ.Subscription:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username}];case i.SJ.SubGift:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username},{displayName:e.recipientDisplayName,id:e.recipientID,login:e.recipientLogin}];case i.SJ.ChannelPointsReward:case i.SJ.CommunityChallengeContribution:return[{displayName:e.displayName,id:e.userID,login:e.login}];default:return[]}}},670599:function(e,n,t){"use strict";function i(e){var n=Math.random().toString(36).substring(2,6);return e+"-"+Date.now()+"-"+n}t.d(n,{C:function(){return i}})},417075:function(e,n,t){"use strict";t.d(n,{R:function(){return a}});var i=t(663823);function a(e){return e===i.d1.ChannelPage||e===i.d1.DesktopPopout||e===i.d1.Popout||e===i.d1.MultiStream||e===i.d1.WatchParty||e===i.d1.Embed}},158469:function(e,n,t){"use strict";t.d(n,{E:function(){return i},C:function(){return r}});var i,a=t(831642);function r(e){return a.$6.experiments.getAndTrackAssignment("chat_replies",{channel:null!=e?e:void 0})}!function(e){e.Control="control",e.TreatmentA="treatment_a",e.TreatmentB="treatment_b",e.TreatmentC="treatment_c"}(i||(i={}))},300445:function(e,n,t){"use strict";t.d(n,{Wo:function(){return g},Ub:function(){return v}});var i=t(951255),a=i.g4/i.vL,r=i.yJ/i.vL,o=i.mf/i.vL,s=i.P0/i.vL,l=i.jR/i.vL,d=/([a-zA-Z])([0-9])/gi,u=/([0-9])([a-zA-Z])/gi,c=/^mo(nths?)?/,m=/^w(eeks?)?/,p=/^d(ays?)?/,h=/^h(ours?)?/,f=/^m(inutes?)?/;function g(e){if(!e)return"0s";var n=e,t="";if(n>l){var i=Math.floor(n/l);n-=i*l,t+=i+"mo"}if(n>s){var d=Math.floor(n/s);n-=d*s,t+=d+"w"}if(n>o){var u=Math.floor(n/o);n-=u*o,t+=u+"d"}if(n>r){var c=Math.floor(n/r);n-=c*r,t+=c+"h"}if(n>a){var m=Math.floor(n/a);n-=m*a,t+=m+"m"}return n>0&&(t+=n+"s"),t}function v(e){var n=0,t=e.replace(d,"$1 $2").replace(u,"$1 $2").split(/\W+/);if(t.length%2!=0)return null;for(var i=0;i<t.length;i+=2){var g=t[i],v=parseInt(g,10);if(Number.isNaN(v)||g.length>3)return null;var y=t[i+1];if(y.match(c))n+=v*l;else if(y.match(m))n+=v*s;else if(y.match(p))n+=v*o;else if(y.match(h))n+=v*r;else{if(!y.match(f))return null;n+=v*a}}return n}},607492:function(e,n,t){"use strict";function i(e){return e.startsWith("@")?e.slice(1):e}t.d(n,{i:function(){return i}})},593517:function(e,n,t){"use strict";t.d(n,{J:function(){return o}});var i=t(831642),a=t(128416),r=t(300445);function o(e){var n=e.login,t=e.code,o=e.enteredDuration,s=e.minTimeoutDuration,l=e.maxTimeoutDuration,d=e.isTimeout;if(void 0===d&&(d=!1),d)switch(t){case a.m7V.FORBIDDEN:return(0,i.wv)("You don't have permissions to timeout {login}.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_IS_ADMIN:return(0,i.wv)("You cannot timeout admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_ALREADY_BANNED:return(0,i.wv)("{login} is already banned in this channel.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_IS_ANONYMOUS:return(0,i.wv)("You cannot timeout anonymous users.","BanUserErrorCode");case a.m7V.TARGET_IS_BROADCASTER:return(0,i.wv)("You cannot timeout the broadcaster.","BanUserErrorCode");case a.m7V.TARGET_IS_GLOBAL_MOD:return(0,i.wv)("You cannot timeout global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_IS_MOD:return(0,i.wv)("You cannot timeout moderator {login} unless you are the owner of this channel.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_IS_SELF:return(0,i.wv)("You cannot timeout yourself.","BanUserErrorCode");case a.m7V.TARGET_IS_STAFF:return(0,i.wv)("You cannot timeout staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_NOT_FOUND:return(0,i.wv)("The user you are trying to timeout doesn't exist.","BanUserErrorCode");case a.m7V.DURATION_INVALID:var u=(0,i.wv)("Invalid timeout duration: {userInput}. Usage: /timeout [user] [duration] [reason]",{userInput:o||""},"BanUserErrorCode"),c=(0,i.wv)("Timeout duration must be between {minTimeoutDuration} and {maxTimeoutDuration} seconds.",{minTimeoutDuration:s||0,maxTimeoutDuration:l||0},"BanUserErrorCode"),m=(0,i.wv)("Invalid timeout duration. Usage: /timeout [user] [duration] [reason]","BanUserErrorCode");if(o){if(void 0!==s&&void 0!==l){var p=(0,r.Ub)(o);if(!p||Number.isNaN(p))return u;if(p<s||p>l)return c}return u}return m;default:throw new Error("Unrecognized operation result.")}else switch(t){case a.m7V.FORBIDDEN:return(0,i.wv)("You don't have permissions to ban {login}.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_IS_ADMIN:return(0,i.wv)("You cannot ban admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_ALREADY_BANNED:return(0,i.wv)("{login} is currently banned in this channel.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_IS_ANONYMOUS:return(0,i.wv)("You cannot ban anonymous users.","BanUserErrorCode");case a.m7V.TARGET_IS_BROADCASTER:return(0,i.wv)("You cannot ban the broadcaster.","BanUserErrorCode");case a.m7V.TARGET_IS_GLOBAL_MOD:return(0,i.wv)("You cannot ban global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_IS_MOD:return(0,i.wv)("You cannot ban moderator {login} unless you are the owner of this channel.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_IS_SELF:return(0,i.wv)("You cannot ban yourself.","BanUserErrorCode");case a.m7V.TARGET_IS_STAFF:return(0,i.wv)("You cannot ban staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:n},"BanUserErrorCode");case a.m7V.TARGET_NOT_FOUND:return(0,i.wv)("The user you are trying to ban doesn't exist.","BanUserErrorCode");default:throw new Error("Unrecognized operation result.")}}},944294:function(e,n,t){"use strict";t.d(n,{e:function(){return r}});var i=t(831642),a=t(128416);function r(e,n,t){if(void 0===t&&(t=!1),t)switch(n){case a.PeP.FORBIDDEN:return(0,i.wv)("You don't have permissions to untimeout {login}.",{login:e},"UnbanUserErrorCode");case a.PeP.TARGET_NOT_FOUND:return(0,i.wv)("The user you are trying to untimeout doesn't exist.","UnbanUserErrorCode");case a.PeP.TARGET_NOT_BANNED:return(0,i.wv)("{login} is not currently timed out from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}else switch(n){case a.PeP.FORBIDDEN:return(0,i.wv)("You don't have permissions to unban {login}.",{login:e},"UnbanUserErrorCode");case a.PeP.TARGET_NOT_FOUND:return(0,i.wv)("The user you are trying to unban doesn't exist.","UnbanUserErrorCode");case a.PeP.TARGET_NOT_BANNED:return(0,i.wv)("{login} is not currently banned from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}}},296942:function(e,n,t){"use strict";t.d(n,{V:function(){return r}});var i=t(128416),a=t(194839);function r(e,n){var t=e[n];if(t)return{cost:"CommunityPointsCommunityGoal"===t.__typename?t.smallContribution:(0,a.at)(t),isHighlighted:"CommunityPointsAutomaticReward"===t.__typename&&t.type===i.A_7.SEND_HIGHLIGHTED_MESSAGE,name:"CommunityPointsCommunityGoal"===t.__typename?t.title:(0,a.TA)(t)}}},755254:function(e,n,t){"use strict";t.d(n,{ED:function(){return c},Au:function(){return d},Gx:function(){return u}});var i,a=t(570655),r=t(38339),o=t(831642),s=t(117090);!function(e){e.Minimum="minimum",e.Expanded="expanded"}(i||(i={}));var l="chatSettings";function d(){var e,n=o.tO.get(l,{});return(0,a.__assign)({fontSizePreference:s.h5.Default,lastUsedFollowerDurations:{},lastUsedSlowModeDurations:{},repliesAppearancePreference:o.$6.experiments.getAndTrackAssignment("chat_replies_context_preference")===i.Minimum?s.xy.Minimum:s.xy.Expanded,showAutoModActions:!0,showMessageFlags:!0,showModerationActions:!0,showModIcons:!1,showTimestamps:!1,viewerChatFilterSettings:(e={},e[r.b.Aggressive]=!0,e[r.b.Identity]=!0,e[r.b.Profanity]=!1,e[r.b.Sexual]=!0,e),zachModeStatus:s.Lg},n)}function u(e,n){var t=d();t[e]=n,o.tO.set(l,t)}function c(e){var n=d();delete n[e],o.tO.set(l,n)}},333946:function(e,n,t){"use strict";t.d(n,{h:function(){return a}});var i=t(831642);function a(){return(0,i.wv)("Your message is identical to the one you sent within the last 30 seconds.","DuplicatedMessageErrorTray")}},888041:function(e,n,t){"use strict";t.d(n,{Jt:function(){return r},Me:function(){return o},Qm:function(){return s}});var i=t(742407),a=t(831642),r=function(e){var n={channel_id:e.channelID,source:e.source};a.UO.track(i.N.IdentitySettingsMenuClick,n)},o=function(e){var n={channel_id:e.channelID,action:e.action,old_value:e.oldValue,new_value:e.newValue,source:e.source};a.UO.track(i.N.IdentitySettingsMenuInteraction,n)},s=function(e){var n={channel_id:e.channelID,cta_click:e.ctaClick,target_url:e.targetURL,source:e.source};a.UO.track(i.N.IdentitySettingsMenuClientCTAClick,n)}},48993:function(e,n,t){"use strict";t.d(n,{iH:function(){return c},I4:function(){return m},Bs:function(){return p},n7:function(){return h},Q6:function(){return f},QY:function(){return g},Ai:function(){return v},s7:function(){return y}});var i=t(570655),a=t(831642),r=t(128416),o=t(742407),s=t(349946),l=t(715602),d=t(763143),u=t(817207),c=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,r,l;return(0,i.__generator)(this,(function(c){switch(c.label){case 0:n=null,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.$6.apollo.client.query({query:d,variables:{id:e.channelID}})];case 2:return n=c.sent(),[3,4];case 3:return t=c.sent(),(0,s.un)()?a.kg.warn("ChatEvent query failed."):a.kg.errorAndReport(t,"ChatEvent query failed."),[3,4];case 4:return n&&n.data||a.kg.warn("ChatEvent query failed; Chat tracking data sent may be incomplete."),r=n&&n.data&&n.data.user||null,l=(0,i.__assign)((0,i.__assign)({},(0,u.A3)(e)),{viewer_context:e.viewerContext,broadcast_id:a.UO.getVideoPlayerTrackingData().broadcastID,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:r&&r.stream&&r.stream.game&&r.stream.game.name,live:!!(r&&r.stream&&r.stream.id.length>0),page_session_id:a.$6.session.pageviewID,partner:r&&r.isPartner||!1,play_session_id:a.UO.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,send_action:e.sendAction,reply_keyboard_shortcut:e.isKeyboardShortcutUsed,is_reply:e.isReply,chant_id:e.chantID}),a.UO.track(o.N.Chat,l),[2]}}))}))},m=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,r,l;return(0,i.__generator)(this,(function(c){switch(c.label){case 0:n=null,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.$6.apollo.client.query({query:d,variables:{id:e.channelID}})];case 2:return n=c.sent(),[3,4];case 3:return t=c.sent(),(0,s.un)()?a.kg.warn("ChatEvent query failed for CheerEvent."):a.kg.errorAndReport(t,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return n&&n.data||a.kg.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),r=n&&n.data&&n.data.user||null,l=(0,i.__assign)((0,i.__assign)({},(0,u.tR)(e)),{broadcast_id:a.UO.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:r&&r.stream&&r.stream.game&&r.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.UO.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,transaction_id:e.transactionID,viewer_context:e.viewerContext}),a.UO.track(o.N.ChatClientCheer,l),[2]}}))}))},p=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,r,l;return(0,i.__generator)(this,(function(c){switch(c.label){case 0:n=null,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.$6.apollo.client.query({query:d,variables:{id:e.channelID}})];case 2:return n=c.sent(),[3,4];case 3:return t=c.sent(),(0,s.un)()?a.kg.warn("ChatEvent query failed for CheerEvent."):a.kg.errorAndReport(t,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return n&&n.data||a.kg.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),r=n&&n.data&&n.data.user||null,l=(0,i.__assign)((0,i.__assign)({},(0,u.tR)(e)),{broadcast_id:a.UO.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,error_type:e.errorType,game:r&&r.stream&&r.stream.game&&r.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.UO.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,viewer_context:e.viewerContext}),a.UO.track(o.N.ChatClientCheerError,l),[2]}}))}))},h=function(e){switch(e){case r.vqW.AMOUNT_BELOW_MIN_BITS:return l.Z6.BelowMin;case r.vqW.AUTO_MOD_MESSAGE:return l.Z6.AutoModMessage;case r.vqW.AUTO_MOD_PENDING:return l.Z6.AutoModPending;case r.vqW.CHANNEL_BLOCKED_TERMS:return l.Z6.ChannelBlockedTerms;case r.vqW.CHANNEL_INELIGIBLE:return l.Z6.ChannelIneligible;case r.vqW.EMOTE_AMOUNT_BELOW_MIN_BITS:return l.Z6.BelowMinEmote;case r.vqW.INSUFFICIENT_BALANCE:return l.Z6.BitsUnavailable;case r.vqW.INVALID_ANONYMOUS_MESSAGE:return l.Z6.InvalidAnonymousMessage;case r.vqW.INVALID_BITS_AMOUNT:case r.vqW.INVALID_BITS_MESSAGE:return l.Z6.InvalidBitsMessage;case r.vqW.INVALID_EVENT_ID:return l.Z6.InvalidEventId;case r.vqW.MESSAGE_LENGTH_EXCEEDED:return l.Z6.InputAboveMaxLength;case r.vqW.REQUEST_THROTTLED:return l.Z6.RequestThrottled;case r.vqW.TOO_LARGE_BITS_EMOTE:return l.Z6.AboveMaxEmote;case r.vqW.TOO_LARGE_CHEER:return l.Z6.AboveMaxCheer;case r.vqW.USER_BANNED:return l.Z6.UserBanned;case r.vqW.USER_INELIGIBLE:return l.Z6.UserIneligible;case r.vqW.USER_SUSPENDED:return l.Z6.UserSuspended;case r.vqW.ZALGO_MESSAGE:return l.Z6.ZalgoMessage;default:return l.Z6.Unknown}},f=function(e){var n={channel_id:e.channelID,message_count:e.messageCount};a.UO.track(o.N.ChatHistoryLoaded,n)},g=function(e){var n={channel_id:e.channelID};a.UO.track(o.N.ChatScrolledToTop,n)},v=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){return n={user_id:e.userID,channel_id:e.channelID},a.UO.track(o.N.ChatReconnecting,n),[2]}))}))},y=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){return a.UO.track(o.N.ChatMessageTiming,{timing_precise:e}),[2]}))}))}},506017:function(e,n,t){"use strict";t.d(n,{j:function(){return u}});var i=t(570655),a=t(831642),r=t(742407),o=t(349946),s=t(663823),l=t(856253),d=function(e){switch(e){case s.Dy.DeleteMessage:case s.Dy.BanUser:case s.Dy.UnbanUser:case s.Dy.TimeoutUser:case s.Dy.UntimeoutUser:case s.Dy.ModUser:case s.Dy.UnmodUser:default:return s.jQ.Login}},u=function(e){var n=e.actionType,t=e.channelID,u=e.targetUserID,c=e.source,m=e.duration,p=e.page;return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e,h,f,g,v,y,k,S,C,b;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:e=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.$6.apollo.client.query({query:l,variables:{channelID:t,targetUserID:u}})];case 2:return e=i.sent(),[3,4];case 3:return h=i.sent(),(0,o.un)()?a.kg.warn("Moderation action tracking failed query failed."):a.kg.errorAndReport(h,"Moderation action tracking failed query failed."),[3,4];case 4:return e&&e.data?(f=e.data,g=f.currentUser,v=f.channel,y=f.target,t===u?k=s.LL.Broadcaster:(null===(S=null==g?void 0:g.roles)||void 0===S?void 0:S.isStaff)&&(k=s.LL.Staff),(null===(C=null==v?void 0:v.self)||void 0===C?void 0:C.isEditor)?k=s.LL.Editor:(null===(b=null==v?void 0:v.self)||void 0===b?void 0:b.isModerator)&&(k=s.LL.Mod),a.UO.track(r.N.ChatLoginModeration,{action:n,channel:null==v?void 0:v.login,channel_id:null==v?void 0:v.id,target_login:null==y?void 0:y.login,target_user_id:null==y?void 0:y.id,mod_status:k,args:m,page:p,type:d(n),source:c}),[2]):[2]}}))}))}},647153:function(e,n,t){"use strict";t.d(n,{Xw:function(){return i},UY:function(){return o},Lb:function(){return s},LR:function(){return l},fi:function(){return d}});var i,a=t(831642),r=t(742407);function o(e){a.UO.track(r.N.ChatRepliesThreadClick,{thread_id:e.threadID,channel_id:e.channelID,ui_context:e.uiContext})}function s(e){a.UO.track(r.N.ChatRepliesThreadScroll,{msg_id:e.messageID,channel_id:e.channelID,op_user_id:e.opUserID})}function l(e){a.UO.track(r.N.ChatRepliesThreadClose,{msg_id:e.messageID,channel_id:e.channelID})}function d(e){a.UO.track(r.N.ChatRepliesTrayViewClick,{msg_id:e.messageID,channel_id:e.channelID})}!function(e){e.ThreadIcon="message_thread_icon",e.ContextPill="minumum_context_pill",e.ReplyTray="reply_tray"}(i||(i={}))},817207:function(e,n,t){"use strict";t.d(n,{tR:function(){return l},A3:function(){return s},x2:function(){return d}});var i,a,r=t(831642),o=t(742407);!function(e){e.Everyone="everyone",e.ModsOnly="mod",e.StreamChat="twitch_chat",e.SubsOnly="sub"}(i||(i={})),function(e){e.BROADCASTER="BROADCASTER",e.EVERYONE="EVERYONE",e.MODERATOR="MODERATOR",e.SUBSCRIBER="SUBSCRIBER"}(a||(a={}));var s=function(e){var n;switch(e.roomMinimumRole){case a.EVERYONE:n=i.Everyone;break;case a.MODERATOR:n=i.ModsOnly;break;case a.SUBSCRIBER:n=i.SubsOnly;break;default:n=i.StreamChat}var t={channel:e.channelLogin,chatroom_type:n,is_host_mode:!!e.isHostMode,is_using_web_sockets:!0};return e.channelID&&(t.channel_id=e.channelID),e.roomID&&(t.chatroom_id=e.roomID),t},l=function(e){var n;switch(e.roomMinimumRole){case a.EVERYONE:n=i.Everyone;break;case a.MODERATOR:n=i.ModsOnly;break;case a.SUBSCRIBER:n=i.SubsOnly;break;default:n=i.StreamChat}var t={channel:e.channelLogin,room_type:n,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.roomID&&(t.room_id=e.roomID),e.room&&(t.room=e.room),t},d=function(e){r.UO.track(o.N.ChatRoomJoined,s(e))}},132412:function(e,n,t){"use strict";t.d(n,{Ko:function(){return l},tL:function(){return d},IB:function(){return u},BS:function(){return c},P0:function(){return m},of:function(){return p},v1:function(){return h}});var i=t(570655),a=t(831642),r=t(742407),o=t(328099),s=t(817207),l=function(e){a.UO.track(r.N.ChatSettingsOpened,(0,s.A3)(e))},d=function(e){var n=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{menu_item:e.menuItem,sub_menu_item:e.subMenuItem});a.UO.track(r.N.ChatSettingsMenuClick,n)},u=function(e){var n=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{open:e.open,preview_setting:e.previewSetting});a.UO.track(r.N.ChatSettingsPreviewPopupClick,n)},c=function(e){var n=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{setting_name:e.settingName,new_value:e.newValue.toString()});a.UO.track(r.N.ChatSettingsChanged,n)},m=function(e){var n=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{setting_name:e.settingName,new_value:e.newValue.toString().toLowerCase(),old_value:e.oldValue&&e.oldValue.toLowerCase(),channel_id:e.channelID});a.UO.track(r.N.ChatSettingsChanged,n)},p=function(e){var n=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{setting_name:o.j.FollowerDuration,new_value:e.newValue.toString(),follower_mode_on:e.followerModeOn});a.UO.track(r.N.ChatSettingsChanged,n)},h=function(e){var n=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{setting_name:o.j.SlowModeDuration,new_value:e.newValue.toString(),slow_mode_on:e.slowModeOn});a.UO.track(r.N.ChatSettingsChanged,n)}},91877:function(e,n,t){"use strict";t.d(n,{I:function(){return h}});var i=t(667294),a=t(470216),r=t(382448),o=t(359166),s=t(734995),l=t(270406),d=t(670186),u=t(952237),c=t(812140),m=t(900060),p={"channel-points-icon--xsmall":12,"channel-points-icon--small":16,"channel-points-icon--medium":20,"channel-points-icon--large":24,"channel-points-icon--xlarge":50},h=function(e){var n=e.iconSize||m.Jh.Medium,t=p[n],d=i.createElement(a.W,{asset:r.e.ChannelPoints,width:t,height:t});if(e.image){var h=f(t,e.image);d=i.createElement(o.p,{className:"channel-points-icon__image",alt:e.name||(0,c.Fg)(),src:h,srcSet:h===e.image.url?(0,u.A)(e.image):void 0})}return i.createElement(s.A,{className:"channel-points-icon "+n,display:l.sS.InlineFlex},d)},f=function(e,n){return e<=d.R.SMALL?n.url:e<=d.R.MEDIUM?n.url2x:e<=d.R.LARGE?n.url4x:n.url}},900060:function(e,n,t){"use strict";t.d(n,{Jh:function(){return i},ZN:function(){return u}});var i,a=t(667294),r=t(14890),o=t(987145),s=t(773105),l=t(91877),d=t(377631);!function(e){e.XSmall="channel-points-icon--xsmall",e.Small="channel-points-icon--small",e.Medium="channel-points-icon--medium",e.Large="channel-points-icon--large",e.XLarge="channel-points-icon--xlarge"}(i||(i={}));var u=(0,r.qC)((0,s.q)((function(e){return{isLoaded:e.isLoaded,pointIcon:e.pointIcon,pointName:e.pointName}})),(0,o.TA)(d,{options:function(e){var n;return{variables:{channelLogin:null!==(n=e.channelLogin)&&void 0!==n?n:""}}},skip:function(e){return!e.channelLogin||e.isLoaded}}))((function(e){var n=null,t=null,i=e.data;return e.isLoaded?(n=e.pointIcon,t=e.pointName):i&&i.community&&i.community.channel&&i.community.channel.communityPointsSettings&&(n=i.community.channel.communityPointsSettings.image,t=i.community.channel.communityPointsSettings.name),a.createElement(l.I,{iconSize:e.iconSize,image:n,name:t})}))},626898:function(e,n,t){"use strict";t.d(n,{X:function(){return c}});var i=t(570655),a=t(667294),r=t(14890),o=t(374670),s=t(773105),l=t(834924);function d(e,n){return!("CommunityPointsCommunityGoal"===e.__typename||"CommunityPointsCommunityGoal"===n.__typename||e.cost===n.cost&&n.isEnabled)||"CommunityPointsCustomReward"===e.__typename&&"CommunityPointsCustomReward"===n.__typename&&(e.title!==n.title||e.prompt!==n.prompt||e.isUserInputRequired!==n.isUserInputRequired)}var u=function(e){function n(n){var t,i=e.call(this,n)||this,a=(null===(t=n.userRedemptions.find((function(e){return e.reward.id===n.reward.id})))||void 0===t?void 0:t.userRedemptionsCurrentStream)||0,r=(0,l.jw)(n.reward,a)||"CommunityPointsCustomReward"===n.reward.__typename&&n.reward.maxPerUserPerStreamSetting.isEnabled&&!n.isLive,o="CommunityPointsCustomReward"===n.reward.__typename&&(!n.reward.isInStock||n.reward.isPaused)||"CommunityPointsCommunityGoal"===n.reward.__typename&&!n.reward.isInStock;return i.state={changed:!1,stockChanged:!1,outOfStock:r||o},i}return(0,i.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){var t,i=e.reward,a=e.rewardMap[e.reward.id];if(!a)return{changed:!1,outOfStock:!1};var r=(null===(t=e.userRedemptions.find((function(n){return n.reward.id===e.reward.id})))||void 0===t?void 0:t.userRedemptionsCurrentStream)||0,o=(0,l.jw)(a,r)||"CommunityPointsCustomReward"===e.reward.__typename&&e.reward.maxPerUserPerStreamSetting.isEnabled&&!e.isLive,s="CommunityPointsCustomReward"===a.__typename&&(!a.isInStock||a.isPaused)||"CommunityPointsCommunityGoal"===a.__typename&&!a.isInStock,u=o||s;return{changed:d(i,a),stockChanged:n.stockChanged||n.outOfStock!==u,outOfStock:u}},n.prototype.render=function(){if(this.state.changed&&this.props.renderOnRequirementsChange)return this.props.renderOnRequirementsChange;if(this.state.outOfStock){if(!this.state.stockChanged&&this.props.renderOnInitiallyOutOfStock)return this.props.renderOnInitiallyOutOfStock;if(this.props.renderOnStockChange&&!this.props.ignoreStockChanges)return this.props.renderOnStockChange}return this.props.children||null},n.prototype.componentDidMount=function(){this.props.onRequirementsChange&&this.state.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock&&this.props.onStockChange(this.state.outOfStock)},n.prototype.componentDidUpdate=function(e,n){this.props.onRequirementsChange&&this.state.changed!==n.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock!==n.outOfStock&&this.props.onStockChange(this.state.outOfStock)},n}(a.Component);var c=(0,r.qC)((0,s.q)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,rewardMap:e.rewardMap,userRedemptions:e.userRedemptions}})),(0,o.lb)((function(e){return{isLive:e.isLive}})))(u)},928656:function(e,n,t){"use strict";t.d(n,{_m:function(){return y},YT:function(){return a}});var i,a,r=t(570655),o=t(294184),s=t(667294),l=t(731110),d=t(270406),u=t(246797),c=t(734995),m=t(359166),p=t(58661),h=t(626650),f=t(831642),g=t(900060),v=t(194839);!function(e){e.Cost="cost"}(i||(i={})),function(e){e.Tiny="reward-icon--tiny",e.ExtraSmall="reward-icon--extra-small",e.Small="reward-icon--small",e.Medium="reward-icon--medium",e.Large="reward-icon--large"}(a||(a={}));var y=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(n,e),n.prototype.render=function(){var e,n=o(((e={"reward-icon":!0})[this.props.size||a.Medium]=!0,e["reward-icon__animated"]=!!this.props.animateOnHover,e));return s.createElement(l.o,{alignItems:d.g1.Center,className:n,borderRadius:this.props.rounded?u.c.Rounded:u.c.Medium,display:d.sS.Flex,flexDirection:d.Qb.Column,justifyContent:d.uM.Center,position:d.Ly.Relative},s.createElement("div",{style:this.customStyles},this.updateIndicatorPill,this.icon,this.cost))},Object.defineProperty(n.prototype,"customStyles",{get:function(){var e=(0,v.fg)(this.props.data);return e?{backgroundColor:e}:{}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"icon",{get:function(){var e=this.props.animateOnHover?(0,v.RW)(this.props.data):(0,v._G)(this.props.data),n=o({"reward-icon__image":!0,"reward-icon__image--raised":!!this.props.showCost&&this.props.size===a.Large,"reward-icon__image--extra-small":this.props.size===a.ExtraSmall,"reward-icon__image--tiny":this.props.size===a.Tiny});return s.createElement(c.A,{className:n,display:d.sS.Flex,justifyContent:d.uM.Center},s.createElement(c.A,{position:d.Ly.Relative},s.createElement(m.p,(0,r.__assign)({alt:(0,v.TA)(this.props.data)},e))))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cost",{get:function(){return this.props.showCost&&this.props.size===a.Large?s.createElement(c.A,{attachBottom:!0,alignItems:d.g1.Center,borderRadius:u.c.Small,className:"reward-icon__cost",margin:{y:1},padding:{x:.5},position:d.Ly.Absolute,"data-test-selector":i.Cost,justifyContent:d.uM.Center,display:d.sS.Flex,color:d.Il.Overlay},s.createElement(c.A,{margin:{right:.5},display:d.sS.Flex},s.createElement(g.ZN,{channelLogin:this.props.channelLogin,iconSize:g.Jh.XSmall})),s.createElement(p.V,{fontSize:d.Bf.Size7},(0,f.uf)((0,v.at)(this.props.data)))):null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"updateIndicatorPill",{get:function(){return this.props.showUpdatedContentIndicator&&this.props.size===a.Large?s.createElement(c.A,{attachTop:!0,margin:{top:.5},position:d.Ly.Absolute},s.createElement(h.D,{label:(0,f.wv)("New!","RewardIcon"),type:h.R.Brand})):null},enumerable:!0,configurable:!0}),n}(s.Component)},133380:function(e,n,t){"use strict";t.d(n,{D:function(){return p}});var i=t(667294),a=t(58661),r=t(270406),o=t(150125),s=t(734995),l=t(831642),d=t(44683),u=t(900060),c=t(928656),m=t(194839),p=function(e){return i.createElement(d.F,{icon:i.createElement(c._m,{data:e.reward,size:c.YT.Tiny})},i.createElement(a.V,{bold:!0,color:r.Il.Alt,fontSize:r.Bf.Size5,wordBreak:o.I5.BreakWord},(0,m.TA)(e.reward)),i.createElement(s.A,{className:"reward-tray-header--icon",display:r.sS.InlineFlex,flexDirection:r.Qb.Row,margin:{left:.5}},i.createElement(u.ZN,null),i.createElement(a.V,{color:r.Il.Alt2},(0,l.uf)((0,m.at)(e.reward)))))}},615130:function(e,n,t){"use strict";t.d(n,{D:function(){return de}});var i=t(570655),a=t(129989),r=t(667294),o=t(137703),s=t(14890),l=t(987145),d=t(374670),u=t(867284),c=t(906704),m=t(863480),p=t(344689),h=t(508995),f=t(128416),g=t(797425),v=t(212038),y=t(776380),k=t(831642),S=t(126858),C=t(736959),b=t(498409),w=t(670599);var E=t(331902),_=t(164783);var N=(0,s.qC)(E.Qt,(0,C.LI)((function(e){return{slowMode:e.slowMode}})))((function(e){var n=e.channelID,t=e.currentUserID,i=e.rewardMap,a=e.slowMode,o=e.messageHandlerAPI,s=(0,r.useRef)(),l=(0,r.useRef)([]),d=(0,S.P)((0,h.US)(n||""),{skip:!n,skipMessage:function(e){return e.type!==c.qU.CommunityPointsCommunityGoalContributed}}),u=d[0],p=d[1],g=(0,y.D)(u),C=(0,r.useCallback)((function(e){if(o){if(e.length){var n=t&&e.find((function(e){return e.msg.data.contribution.user.id===t}))||e[0];if((0,m.t)(v.FB)||n.challenge.type!==f.z3Y.BOOST){var i,a=n.msg.data.contribution,r=e.some((function(e){return e.challenge.id!==n.challenge.id})),s=e.filter((function(e){return e.msg.data.contribution.user.id!==a.user.id})).map((function(e){return e.msg.data.contribution.user.display_name})),l=(i={challengeName:(0,_.G)(n.challenge),userContribution:a.total_contribution,displayName:a.user.display_name,userID:a.user.id,login:a.user.login,hasMultipleChallenges:r,otherContributors:new Set(s)},{type:b.SJ.CommunityChallengeContribution,id:(0,w.C)("community-challenge-contribution"),challengeName:i.challengeName,displayName:i.displayName,userContribution:i.userContribution,login:i.login,userID:i.userID,hasMultipleChallenges:i.hasMultipleChallenges,otherContributors:i.otherContributors});o.handleMessage(l)}}}else k.kg.warn("ChallengeEventHandler received an event before the MessageHandlerAPI was available.")}),[t,o]),E=(0,r.useCallback)((function(){var e=a?15e3:1e4;s.current=setTimeout((function(){clearTimeout(s.current),s.current=void 0,l.current.length&&(C(l.current),l.current=[],E())}),e)}),[C,a]);return(0,r.useEffect)((function(){return function(){clearTimeout(s.current)}}),[]),(0,r.useEffect)((function(){if(!(p&&p.error||!u||u===g)){var e=u,n=e.data.contribution.goal.id,t=i[n];t&&"CommunityPointsCommunityGoal"===t.__typename&&e.data.contribution.amount&&e.data.contribution.amount===e.data.contribution.stream_contribution&&(l.current.push({msg:e,challenge:t}),s.current||(C(l.current),l.current=[],E()))}}),[C,u,g,i,E,p]),null})),D=t(713890),M=t(296942),I=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.unsubscribe=function(){n.unsubscriber&&(n.unsubscriber(),n.unsubscriber=null)},n.handleMessage=function(e){if(e.type===c.qU.CommunityPointsRedeemed&&!e.data.redemption.user_input){var t=(0,D.q)({id:e.data.redemption.id,reward:(0,M.V)(n.props.rewardMap,e.data.redemption.reward.id),userDisplayName:e.data.redemption.user.display_name,userID:e.data.redemption.user.id,userLogin:e.data.redemption.user.login});n.addMessage(t)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.subscribe()},n.prototype.componentDidUpdate=function(e){this.props.channelID!==e.channelID&&this.subscribe()},n.prototype.componentWillUnmount=function(){this.unsubscribe()},n.prototype.render=function(){return null},n.prototype.subscribe=function(){this.unsubscribe(),this.props.channelID&&(this.unsubscriber=k.mW.subscribe({topic:(0,h.US)(this.props.channelID),onMessage:this.handleMessage}))},n.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):k.kg.warn("RewardEventHandler received an event before the MessageHandlerAPI was available.")},n}(r.Component),T=(0,E.Qt)(I),P=t(176077),R=t(940910),A=t(773105),L=t(174765),F=t(965875),U=t(462359),x=t(773754),O=t(560772),B=t(613290),V=t(965347),q=t(301657),G=t(246560),H=t(275406),W=t(778262),z=t(194839),$=t(58661),j=t(652461),Y=t(721482),Q=t(626898),J=t(133380),K=t(687773),X=t(354483),Z=t(812140),ee=t(703554);function ne(e){var n=e.message?(0,K.fw)(e.errorCode):(0,K.m1)();e.setTrayError(n)}var te=t(428116);function ie(e){var n=e.message?(0,K.fw)(e.errorCode):(0,K.m1)();e.setTrayError(n)}var ae=t(443851),re=t(885411),oe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isRewardCenterOpen:!1,rewardCenterState:{type:q.q.ListRewards},transactionID:(0,O._f)(),direction:W.H.OpenRewardCenter},n.resetTransactionID=function(){n.setState({transactionID:(0,O._f)()})},n.setDirection=function(e){n.setState({direction:e})},n.closeRewardCenter=function(){n.setState({isRewardCenterOpen:!1,direction:W.H.CloseRewardCenter}),n.closeTimeout=setTimeout((function(){n.setState({rewardCenterState:{type:q.q.ListRewards}})}),0)},n.openEarnRatesList=function(){var e=n.getViewerType();(0,ee.ct)(ee.XO.RewardSelectionPane,e,n.props.channelID||"",n.props.channelLogin),n.setDirection(W.H.Forward),n.openRewardCenterToState({type:q.q.EarnRates})},n.openReward=function(e){var t,i=null==e?void 0:e.direction,a=null==e?void 0:e.reward,r=null==e?void 0:e.contentUpdateEnabled;if(i&&n.setDirection(i),a){var o=n.checkRewardEligibility(a),s=null;if(o)if(s=(0,O._f)(),n.setState({transactionID:s}),"CommunityPointsAutomaticReward"===a.__typename)switch(a.type){case f.A_7.SEND_HIGHLIGHTED_MESSAGE:n.openHighlightedMesssageReward(a,s);break;case f.A_7.SINGLE_MESSAGE_BYPASS_SUB_MODE:n.openSubsOnlyMessageReward(a,s);break;case f.A_7.CHOSEN_SUB_EMOTE_UNLOCK:n.openRewardCenterToState({type:q.q.UnlockChosenSubscriberEmote,reward:a});break;case f.A_7.RANDOM_SUB_EMOTE_UNLOCK:n.openRewardCenterToState({type:q.q.UnlockRandomEmote,reward:a});break;case f.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:n.openRewardCenterToState({type:q.q.ModifyEmote,reward:a})}else"CommunityPointsCommunityGoal"===a.__typename?n.openRewardCenterToState({type:q.q.CommunityGoal,reward:a},!1,null==e?void 0:e.viewUUID):"PredictionEvent"===a.__typename?n.openRewardCenterToState({type:q.q.Prediction,reward:a},!1,null==e?void 0:e.viewUUID):n.openCustomReward(a,s);var l=!1;if("CommunityPointsCustomReward"===a.__typename&&a.maxPerUserPerStreamSetting.isEnabled){var d=(null===(t=n.props.userRedemptions.find((function(e){return e.reward.id===a.id})))||void 0===t?void 0:t.userRedemptionsCurrentStream)||0;d&&d>=a.maxPerUserPerStreamSetting.maxPerUserPerStream&&(l=!0)}"CommunityPointsCommunityGoal"!==a.__typename&&"PredictionEvent"!==a.__typename&&(0,ee.Gi)({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,isModerator:n.props.isCurrentUserModerator,isUserEligible:o&&!l,reward:a,transactionID:s,userBalance:n.props.balance,viewTrackingID:(null==e?void 0:e.viewUUID)||n.state.viewTrackingID||"",contentUpdateEnabled:!!(null==e?void 0:e.contentUpdateEnabled)})}else n.openRewardCenterToState({type:q.q.ListRewards},!!r)},n}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"isCurrentUserSubscribed",{get:function(){var e,n;return!!(null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.self)||void 0===n?void 0:n.subscriptionBenefit)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isModerator",{get:function(){var e,n;return!!(null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.self)||void 0===n?void 0:n.isModerator)},enumerable:!0,configurable:!0}),n.prototype.render=function(){return r.createElement(ae.y.Provider,{value:(0,i.__assign)((0,i.__assign)({},this.state),{closeRewardCenter:this.closeRewardCenter,openReward:this.openReward,openEarnRatesList:this.openEarnRatesList,resetTransactionID:this.resetTransactionID,setDirection:this.setDirection})},this.props.children)},n.prototype.componentWillUnmount=function(){this.closeTimeout&&clearTimeout(this.closeTimeout)},n.prototype.validateCooldownIsInStock=function(e){var n=e.cooldownExpiresAt,t=null!==n?new Date(n):n,i=new Date;!e.isInStock&&e.globalCooldownSetting.isEnabled&&t&&i.getTime()>t.getTime()&&(0,x.x0)(this.props.channelLogin,e,!!this.props.isLive)},n.prototype.openRewardCenterToState=function(e,n,t){if(void 0===n&&(n=!1),!this.state.isRewardCenterOpen){var i=t||(0,O._f)();this.setState({viewTrackingID:i,direction:W.H.OpenRewardCenter}),e.type===q.q.ListRewards&&((0,ee.Hx)(this.props.channelLogin,this.props.channelID||"",i,n),this.props.updateTimestamps())}this.setState({isRewardCenterOpen:!0,rewardCenterState:e})},n.prototype.checkRewardEligibility=function(e){var n=(0,G.z)(e,{isUserSubscribed:this.isCurrentUserSubscribed,isChannelSubsOnlyMode:this.props.subsOnlyMode});return this.props.currentUserID?"CommunityPointsAutomaticReward"!==e.__typename||n.nonSubOnlyReward?("CommunityPointsAutomaticReward"===e.__typename||"CommunityPointsCustomReward"===e.__typename)&&(0,z.at)(e)>this.props.balance&&!(0,z.J7)(e)?(this.openRewardCenterToState({type:q.q.NotEnoughPoints,reward:e}),!1):"CommunityPointsCustomReward"!==e.__typename||n.subOnlyReward?!("CommunityPointsAutomaticReward"===e.__typename&&!n.subsModeRequiredReward)||(this.openRewardCenterToState({type:q.q.NotSubOnlyMode,reward:e}),!1):(this.openRewardCenterToState({type:q.q.NotSubbed,reward:e}),!1):(this.openRewardCenterToState({type:q.q.AlreadySubbed,reward:e}),!1):(this.openRewardCenterToState({type:q.q.NotLoggedIn,reward:e}),!1)},n.prototype.openHighlightedMesssageReward=function(e,n){this.props.channelID&&(this.props.setTray(function(e){var n=this;return{header:r.createElement(J.D,{reward:e.reward}),body:r.createElement(Q.X,{onRequirementsChange:function(n){return n?e.setTrayError((0,Z.Ec)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},reward:e.reward},r.createElement(j.f,null,r.createElement($.V,null,(0,z.Zz)(e.reward)))),sendButtonOverride:Y.nS.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:Y.DB.Custom,handleMessage:function(t){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return t.trim()?[4,k.$6.apollo.client.mutate((0,i.__assign)({mutation:X},(0,p.k_)({channelID:e.channelID,cost:(0,z.at)(e.reward),message:t,transactionID:e.transactionID})))]:(ne(e),[2,!1]);case 1:return(n=a.sent()).data&&n.data.sendHighlightedChatMessage&&!n.data.sendHighlightedChatMessage.error?(e.clearTray(),(0,ee.ev)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(ne((0,i.__assign)((0,i.__assign)({},e),{errorCode:n.data&&n.data.sendHighlightedChatMessage&&n.data.sendHighlightedChatMessage.error&&n.data.sendHighlightedChatMessage.error.code||f.qhC.UNKNOWN,message:t})),[2,!1])}}))}))}},type:Y.v4.HighlightedMessage}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:n,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},n.prototype.openSubsOnlyMessageReward=function(e,n){this.props.channelID&&(this.props.setTray(function(e){var n=this;return{ignoredRestrictions:new Set([f.D5M.SUBSCRIBERS_ONLY]),header:r.createElement(J.D,{reward:e.reward}),body:r.createElement(Q.X,{onRequirementsChange:function(n){return n?e.setTrayError((0,Z.Ec)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},reward:e.reward},r.createElement(j.f,null,r.createElement($.V,null,(0,z.Zz)(e.reward)))),sendButtonOverride:Y.nS.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:Y.DB.Custom,handleMessage:function(t){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return t.trim()?[4,k.$6.apollo.client.mutate((0,i.__assign)({mutation:te},(0,p.k_)({channelID:e.channelID,cost:(0,z.at)(e.reward),message:t,transactionID:e.transactionID})))]:(ie(e),[2,!1]);case 1:return(n=a.sent()).data&&n.data.sendChatMessageThroughSubscriberMode&&!n.data.sendChatMessageThroughSubscriberMode.error?(e.clearTray(),(0,ee.ev)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(ie((0,i.__assign)((0,i.__assign)({},e),{errorCode:n.data&&n.data.sendChatMessageThroughSubscriberMode&&n.data.sendChatMessageThroughSubscriberMode.error&&n.data.sendChatMessageThroughSubscriberMode.error.code||void 0,message:t})),[2,!1])}}))}))}},type:Y.v4.SubsOnlyMessage}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:n,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},n.prototype.openCustomReward=function(e,n){if(this.validateCooldownIsInStock(e),e.isUserInputRequired){if(!this.props.channelID)return;this.props.setTray((0,H.l)({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:n,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter()}else this.openRewardCenterToState({type:q.q.CustomReward,reward:e})},n.prototype.getViewerType=function(){return this.props.channelID===this.props.currentUserID?ee.cQ.Broadcaster:this.isModerator?ee.cQ.Moderator:ee.cQ.Viewer},n}(r.Component);var se=(0,s.qC)((0,l.TA)(re,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,B.WA)((function(e){return{setTray:function(n){return e((0,V.aT)(n))},clearTray:function(){return e((0,V.Rv)())},setTrayError:function(n){return e((0,V.IZ)(n))},clearTrayError:function(){return e((0,V.RI)())}}})),(0,C.LI)((function(e){return{subsOnlyMode:e.subsOnlyMode}})),(0,d.lb)((function(e){return{isLive:e.isLive}})))(oe),le=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.updateTimestamps=function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var e,n,t,r,o;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:return e=null===(o=this.props.data.community)||void 0===o?void 0:o.id,n=this.props.currentUserID,e&&n?[4,this.props.updateLastViewedContentMutation((0,p.k_)({channelID:e,viewedContent:[f.Gtb.AUTOMATIC_REWARD,f.Gtb.CUSTOM_REWARD]}))]:[2];case 1:return t=s.sent(),(r=t.data.updateCommunityPointsLastViewedContent)&&!r.error&&r.lastViewedChannelContent&&r.lastViewedGlobalContent?(this.props.data.updateQuery((function(e){var n,t,o,s;return(null===(o=null===(t=null===(n=e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.self)||void 0===o?void 0:o.communityPoints)&&(null===(s=e.currentUser)||void 0===s?void 0:s.communityPoints)?a(e,(function(e){return{community:(0,i.__assign)((0,i.__assign)({},e.community),{channel:(0,i.__assign)((0,i.__assign)({},e.community.channel),{self:(0,i.__assign)((0,i.__assign)({},e.community.channel.self),{communityPoints:(0,i.__assign)((0,i.__assign)({},e.community.channel.self.communityPoints),{lastViewedContent:r.lastViewedChannelContent})})})}),currentUser:(0,i.__assign)((0,i.__assign)({},e.currentUser),{communityPoints:{__typename:"CommunityPointsUserProperties",lastViewedContent:r.lastViewedGlobalContent}})}})):e})),[2]):[2]}}))}))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.rewardMap,n=this.changedModificationIDs,t=this.changedRewardIDs;return r.createElement(A.F.Provider,{value:{activeMultipliers:this.activeMultipliers,automaticRewards:this.automaticRewards,balance:this.balance,channelID:this.props.data.community&&this.props.data.community.id,communityGoals:this.communityGoals,customRewards:this.customRewards,channelLogin:this.props.channelLogin,displayName:this.props.data.community&&this.props.data.community.displayName,emoteModifiers:this.emoteModifiers,emoteVariants:this.emoteVariants,isChannelPointsEnabled:this.isChannelPointsEnabled,isChannelPointsFeatureFlagOn:!0,isCurrentUserModerator:this.isCurrentUserModerator,isLoaded:!!this.props.data.community,pointIcon:this.pointIcon,pointName:this.pointName,raidPointAmount:this.raidPointAmount,earning:this.earning,userRedemptions:this.userRedemptions,rewardMap:e,changedModificationIDs:n,changedRewardIDs:t}},r.createElement(U.f,{channelID:this.props.data.community&&this.props.data.community.id,channelLogin:this.props.channelLogin,currentUserID:this.props.currentUserID},r.createElement(T,{channelID:this.props.data.community&&this.props.data.community.id,rewardMap:e}),r.createElement(N,{channelID:this.props.data.community&&this.props.data.community.id,currentUserID:this.props.currentUserID,rewardMap:e}),r.createElement(d.QQ,{channelID:this.props.data.community&&this.props.data.community.id},r.createElement(se,{balance:this.balance,channelDisplayName:this.props.data.community&&this.props.data.community.displayName,channelID:this.props.data.community&&this.props.data.community.id,channelLogin:this.props.channelLogin,currentUserID:this.props.currentUserID,isCurrentUserModerator:this.isCurrentUserModerator,updateTimestamps:this.updateTimestamps,userRedemptions:this.userRedemptions},this.props.children))))},Object.defineProperty(n.prototype,"activeMultipliers",{get:function(){var e,n,t,i;return(null===(i=null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.self)||void 0===t?void 0:t.communityPoints)||void 0===i?void 0:i.activeMultipliers)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"automaticRewards",{get:function(){var e,n,t;return(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.automaticRewards)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"balance",{get:function(){var e,n,t,i,a,r,o,s;return(null===(i=null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.self)||void 0===t?void 0:t.communityPoints)||void 0===i?void 0:i.canRedeemRewardsForFree)?1/0:(null===(s=null===(o=null===(r=null===(a=this.props.data.community)||void 0===a?void 0:a.channel)||void 0===r?void 0:r.self)||void 0===o?void 0:o.communityPoints)||void 0===s?void 0:s.balance)||0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"communityGoals",{get:function(){var e,n,t,i=(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.goals)||[],a=i;return(0,m.t)(v.FB)||(a=i.filter((function(e){return e.type!==f.z3Y.BOOST}))),a},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customRewards",{get:function(){var e,n,t;return(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.customRewards)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"emoteModifiers",{get:function(){var e=this.props.globalData.emoteModifiers||[];return new Map(e.map((function(e){return[e.id,e]})))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isChannelPointsEnabled",{get:function(){var e,n,t;return!!(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.isEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCurrentUserModerator",{get:function(){var e,n;return!!(null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.self)||void 0===n?void 0:n.isModerator)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIcon",{get:function(){var e,n,t;return(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.image)||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointName",{get:function(){var e,n,t;return(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.name)||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"raidPointAmount",{get:function(){var e,n,t;return(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.raidPointAmount)||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rewardMap",{get:function(){for(var e={},n=0,t=this.automaticRewards;n<t.length;n++){var i=t[n];e[i.id]=i}for(var a=0,r=this.customRewards;a<r.length;a++){var o=r[a];e[o.id]=o}for(var s=0,l=this.communityGoals;s<l.length;s++){var d=l[s];e[d.id]=d}return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"emoteVariants",{get:function(){var e,n,t;return(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.emoteVariants)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"earning",{get:function(){var e,n,t;return(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.earning)||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userRedemptions",{get:function(){var e,n,t,i;return(null===(i=null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.self)||void 0===t?void 0:t.communityPoints)||void 0===i?void 0:i.userRedemptions)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isUsersFirstVisitToChannel",{get:function(){var e,n,t,i,a,r;return!!(null===(r=null===(a=null===(i=null===(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.communityPoints)||void 0===a?void 0:a.lastViewedContent)||void 0===r?void 0:r.every((function(e){return null===e.lastViewedAt})))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"changedModificationIDs",{get:function(){var e,n,t,i,a,r=new Set,o=null===(a=null===(i=null===(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===n?void 0:n.communityPoints)||void 0===t?void 0:t.lastViewedContent)||void 0===i?void 0:i.find((function(e){return e.contentID===f.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK})))||void 0===a?void 0:a.lastViewedAt;return this.props.currentUserID&&!this.isUsersFirstVisitToChannel&&o?(this.emoteVariants.forEach((function(e){e.modifications.forEach((function(e){new Date(o)<new Date(e.globallyUpdatedForIndicatorAt)&&r.add(e.id)}))})),r):r},enumerable:!0,configurable:!0}),n.prototype.isCustomRewardUpdated=function(e,n){return!!(null===n||n&&new Date(n)<new Date(e.updatedForIndicatorAt))},n.prototype.isAutomaticRewardUpdated=function(e,n){var t,i,a,r,o,s=null===(o=null===(r=null===(a=null===(i=null===(t=this.props.data)||void 0===t?void 0:t.currentUser)||void 0===i?void 0:i.communityPoints)||void 0===a?void 0:a.lastViewedContent)||void 0===r?void 0:r.find((function(n){return n.contentID===e.type})))||void 0===o?void 0:o.lastViewedAt;return null===s||null===n||(!!(s&&new Date(s)<new Date(e.globallyUpdatedForIndicatorAt))||!!(n&&e.updatedForIndicatorAt&&new Date(n)<new Date(e.updatedForIndicatorAt)))},Object.defineProperty(n.prototype,"changedRewardIDs",{get:function(){var e,n,t,i,a,r,o,s=this,l=new Set,d=(null===(a=null===(i=null===(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.communityPoints)||void 0===a?void 0:a.lastViewedContent)||[];if(!this.props.currentUserID||!d.length||this.isUsersFirstVisitToChannel)return l;var u=null===(r=d.find((function(e){return e.contentType===f.Gtb.CUSTOM_REWARD})))||void 0===r?void 0:r.lastViewedAt;this.customRewards.filter((function(e){return e.isEnabled})).forEach((function(e){s.isCustomRewardUpdated(e,u)&&l.add(e.id)}));var c=null===(o=d.find((function(e){return e.contentType===f.Gtb.AUTOMATIC_REWARD})))||void 0===o?void 0:o.lastViewedAt;return this.automaticRewards.filter((function(e){return e.isEnabled})).forEach((function(e){s.isAutomaticRewardUpdated(e,c)&&l.add(e.id)})),l},enumerable:!0,configurable:!0}),n}(r.Component);var de=(0,s.qC)((0,o.$j)((function(e){var n=(0,g.PR)(e);return{currentUserID:n&&n.id}})),(0,l.TA)(L,{name:"globalData",options:{fetchPolicy:"cache-first"}}),(0,l.TA)(F,{options:function(e){return{variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,P.H)(v.FB)},fetchPolicy:"cache-and-network"}}}),(0,l.TA)(R,{name:"updateLastViewedContentMutation"}),(0,u.P)((function(e){return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,P.H)(v.FB)},skip:!e.data.community,topic:(0,h.US)(""+(e.data.community&&e.data.community.id)),types:[c.qU.CommunityPointsAutomaticRewardUpdated,c.qU.CommunityPointsCommunityGoalContributed,c.qU.CommunityPointsCommunityGoalCreated,c.qU.CommunityPointsCommunityGoalDeleted,c.qU.CommunityPointsCommunityGoalUpdated,c.qU.CommunityPointsCustomRewardCreated,c.qU.CommunityPointsCustomRewardDeleted,c.qU.CommunityPointsCustomRewardUpdated,c.qU.CommunityPointsSettings,c.qU.CommunityPointsRedeemed],mutator:function(e,n){switch(e.type){case c.qU.CommunityPointsSettings:return(0,x.b9)(n,e);case c.qU.CommunityPointsAutomaticRewardUpdated:return(0,x.P4)(n,e);case c.qU.CommunityPointsCommunityGoalContributed:return(0,x.Jn)(n,e);case c.qU.CommunityPointsCommunityGoalCreated:return(0,x.UO)(n,e);case c.qU.CommunityPointsCommunityGoalDeleted:return(0,x.Yg)(n,e);case c.qU.CommunityPointsCommunityGoalUpdated:return(0,x.A8)(n,e);case c.qU.CommunityPointsCustomRewardCreated:return(0,x.ko)(n,e);case c.qU.CommunityPointsCustomRewardDeleted:return(0,x.ue)(n,e);case c.qU.CommunityPointsCustomRewardUpdated:return(0,x.PB)(n,e);case c.qU.CommunityPointsRedeemed:return(0,x.Uq)(n,e);default:return n}}}})),(0,u.P)((function(e){var n,t,i,r;return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,P.H)(v.FB)},topic:(0,h.OV)(e.currentUserID||"",(null===(t=null===(n=e.data)||void 0===n?void 0:n.community)||void 0===t?void 0:t.id)||""),types:[c.qU.ModeratorAdded,c.qU.ModeratorRemoved],skip:!e.currentUserID||!(null===(r=null===(i=e.data)||void 0===i?void 0:i.community)||void 0===r?void 0:r.id),skipMessage:function(n){var t,i;return e.currentUserID===(null===(i=null===(t=e.data)||void 0===t?void 0:t.community)||void 0===i?void 0:i.id)||n.data.target_user_id!==e.currentUserID},mutator:function(e,n){var t;if(!(null===(t=null==n?void 0:n.community)||void 0===t?void 0:t.self))return n;switch(e.type){case c.qU.ModeratorAdded:return a(n,(function(e){return e.community.self.isModerator}),(function(){return!0}));case c.qU.ModeratorRemoved:return a(n,(function(e){return e.community.self.isModerator}),(function(){return!1}));default:return n}}}})),(0,u.P)((function(e){return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,P.H)(v.FB)},topic:(0,h.BT)(""+e.currentUserID),skip:!e.data.community||!e.currentUserID,types:[c.qU.CommunityPointsMultipliersUpdated],mutator:function(n,t){if(!e.data.community||n.data.active_multipliers&&e.data.community.id!==n.data.active_multipliers.channel_id||!t.community||!t.community.channel||!t.community.channel.self)return t;var i=[];return n.data.active_multipliers&&(i=n.data.active_multipliers.multipliers.map((function(e){return{__typename:"CommunityPointsMultiplier",reasonCode:e.reason_code,factor:e.factor}}))),t.community.channel.self.communityPoints?a(t,(function(e){return e.community.channel.self.communityPoints.activeMultipliers}),(function(){return i})):a(t,(function(e){return e.community.channel.self.communityPoints}),(function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:0,activeMultipliers:i,canRedeemRewardsForFree:!1,lastViewedContent:null,userRedemptions:[]}}))}}})),(0,u.P)((function(e){return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,P.H)(v.FB)},topic:(0,h.BT)(""+e.currentUserID),skip:!e.data.community||!e.currentUserID,types:[c.qU.CommunityPointsEarned,c.qU.CommunityPointsSpent],mutator:function(n,t){if(!e.data.community||n.data.balance&&e.data.community.id!==n.data.balance.channel_id||!t.community||!t.community.channel||!t.community.channel.self)return t;var i=n.data.balance.balance;return t.community.channel.self.communityPoints?a(t,(function(e){return e.community.channel.self.communityPoints.balance}),(function(){return i})):a(t,(function(e){return e.community.channel.self.communityPoints}),(function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:i,activeMultipliers:null,canRedeemRewardsForFree:!1,lastViewedContent:null,userRedemptions:[]}}))}}})),(0,u.P)((function(e){return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,P.H)(v.FB)},topic:(0,h.BT)(""+e.currentUserID),skip:!e.data||!e.currentUserID,types:[c.qU.CommunityPointsChannelLastViewedContentUpdated,c.qU.CommunityPointsGlobalLastViewedContentUpdated],mutator:function(n,t){switch(n.type){case c.qU.CommunityPointsChannelLastViewedContentUpdated:return(0,x.X_)(t,n,e.currentUserID);case c.qU.CommunityPointsGlobalLastViewedContentUpdated:return(0,x.Y5)(t,n,e.currentUserID);default:return t}}}})),(0,u.P)((function(e){return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,P.H)(v.FB)},topic:(0,h.BT)(""+e.currentUserID),skip:!e.data||!e.currentUserID,types:[c.qU.CommunityPointsRedeemed],mutator:function(e,n){switch(e.type){case c.qU.CommunityPointsRedeemed:return(0,x.zf)(n,e);default:return n}}}})),(0,u.P)((function(e){return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,P.H)(v.FB)},topic:(0,h.Vg)(""+(e.data.community&&e.data.community.id)),skip:!e.data.community,types:[c.qU.ChannelStreamDown],mutator:function(e,n){switch(e.type){case c.qU.ChannelStreamDown:return(0,x.BK)(n);default:return n}}}})))(le)},773105:function(e,n,t){"use strict";t.d(n,{F:function(){return a},q:function(){return r}});var i=(0,t(884979).k)("ChannelPointsContext",{activeMultipliers:[],automaticRewards:[],balance:0,channelID:null,channelLogin:null,communityGoals:[],customRewards:[],displayName:null,emoteModifiers:new Map,emoteVariants:[],isChannelPointsEnabled:!1,isChannelPointsFeatureFlagOn:!1,isCurrentUserModerator:!1,isLoaded:!1,pointIcon:null,pointName:null,raidPointAmount:0,rewardMap:{},earning:null,userRedemptions:[],changedModificationIDs:new Set,changedRewardIDs:new Set}),a=i.context,r=i.withContext},640148:function(e,n,t){"use strict";t.d(n,{S:function(){return a},Y:function(){return r}});var i=(0,t(884979).k)("ChannelPointsPredictionContext",{hasAcceptedTOS:!1,isEligibleForPredictions:!1,isLoaded:!1,predictions:[],predictionsMap:{},userRecentPredictions:[]}),a=i.context,r=i.withContext},462359:function(e,n,t){"use strict";t.d(n,{f:function(){return S}});var i=t(570655),a=t(667294),r=t(126858),o=t(106801),s=t(326737),l=t(906704),d=t(344689),u=t(508995),c=t(831642),m=t(501190),p=t(640148),h=t(129989),f=t(505529);function g(e,n){var t,a;return(null===(a=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===a?void 0:a.activePredictionEvents)?e.community.channel.activePredictionEvents.find((function(e){return e.id===n.data.event.id}))?e:h(e,(function(e){return e.community.channel.activePredictionEvents}),(function(e){return(0,i.__spreadArrays)(e,[(0,f.MJ)(n.data.event)])})):e}function v(e,n){var t;return(null===(t=e.community)||void 0===t?void 0:t.channel)?h(e,(function(e){return e.community.channel}),(function(e){var t,a=(e.activePredictionEvents||[]).map((function(e){return e.id!==n.data.event.id?e:(0,i.__assign)((0,i.__assign)({},e),(0,f.MJ)(n.data.event))})),r=(e.lockedPredictionEvents||[]).map((function(e){return e.id!==n.data.event.id?e:(0,i.__assign)((0,i.__assign)({},e),(0,f.MJ)(n.data.event))})),o=((null===(t=e.resolvedPredictionEvents)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.id!==n.data.event.id?e:(0,i.__assign)((0,i.__assign)({},e),{node:(0,i.__assign)((0,i.__assign)({},e.node),(0,f.MJ)(n.data.event))})}));return(0,i.__assign)((0,i.__assign)({},e),{activePredictionEvents:a,lockedPredictionEvents:r,resolvedPredictionEvents:{__typename:"PredictionEventConnection",edges:o}})})):e}function y(e,n){var t,a,r;return(null===(r=null===(a=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===a?void 0:a.self)||void 0===r?void 0:r.recentPredictions)?h(e,(function(e){return e.community.channel.self.recentPredictions}),(function(e){return(0,i.__spreadArrays)(e,[(0,f.y)(n.data.prediction)])})):e}function k(e,n){var t,a,r;return(null===(r=null===(a=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===a?void 0:a.self)||void 0===r?void 0:r.recentPredictions)?h(e,(function(e){return e.community.channel.self.recentPredictions}),(function(e){return e.map((function(e){return e.id!==n.data.prediction.id?e:(0,i.__assign)((0,i.__assign)({},e),(0,f.y)(n.data.prediction))}))})):e}var S=function(e){var n,t,h,f,S,w,E,_,N,D,M,I,T,P=e.channelID,R=e.channelLogin,A=e.currentUserID,L=e.children,F=e.onLoaded,U=(0,o.aM)(m,{variables:{channelLogin:R}}),x=U.data,O=U.loading,B=(0,a.useState)({hasAcceptedTOS:!1,isEligibleForPredictions:!1,isLoaded:!1,predictions:[],predictionsMap:{},userRecentPredictions:[]}),V=B[0],q=B[1],G=(0,a.useRef)({}),H=(0,a.useRef)({}),W=null===(t=null===(n=null==x?void 0:x.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.activePredictionEvents,z=(0,s.D)(W),$=null===(f=null===(h=null==x?void 0:x.community)||void 0===h?void 0:h.channel)||void 0===f?void 0:f.lockedPredictionEvents,j=(0,s.D)($),Y=null===(w=null===(S=null==x?void 0:x.community)||void 0===S?void 0:S.channel)||void 0===w?void 0:w.resolvedPredictionEvents,Q=(0,s.D)(Y),J=!!(null===(N=null===(_=null===(E=null==x?void 0:x.community)||void 0===E?void 0:E.channel)||void 0===_?void 0:_.predictionSettings)||void 0===N?void 0:N.isEligibleForPredictions),K=null===(D=null==x?void 0:x.currentUser)||void 0===D?void 0:D.predictionsSettings,X=null===(T=null===(I=null===(M=null==x?void 0:x.community)||void 0===M?void 0:M.channel)||void 0===I?void 0:I.self)||void 0===T?void 0:T.recentPredictions,Z=(0,a.useCallback)((function(e,n){(0,d.rh)(m,{channelLogin:R},(function(t){return e(t,n)}))}),[R]),ee=(0,r.P)((0,u.eR)(P||""),{skip:!P,skipMessage:function(e){return!(e.type===l.qU.CommunityPointsPredictionEventCreated||e.type===l.qU.CommunityPointsPredictionEventUpdated)}}),ne=ee[0],te=ee[1],ie=(0,s.D)(ne);(0,a.useEffect)((function(){if(!(!x||te&&te.error)&&ne&&ne!==ie){var e=new Date(ne.data.timestamp).getTime()||null;switch(e||c.kg.errorAndReport(new Error("Invalid Pubsub timestamp"),"Could not parse timestamp from Pubsub message",ne),ne.type){case l.qU.CommunityPointsPredictionEventCreated:return void Z(g,ne);case l.qU.CommunityPointsPredictionEventUpdated:var n=G.current[ne.data.event.id];if(!e||n&&n>e)return;return G.current[ne.data.event.id]=e,void Z(v,ne);default:return}}}),[ne,te,x,ie,Z]);var ae=(0,r.P)((0,u.VU)(A||""),{skip:!A,skipMessage:function(e){return!(e.type===l.qU.CommunityPointsPredictionMade||e.type===l.qU.CommunityPointsPredictionUpdated||e.type===l.qU.CommunityPointsPredictionResult)}}),re=ae[0],oe=ae[1],se=(0,s.D)(re);return(0,a.useEffect)((function(){if(!(!x||oe&&oe.error)&&re&&re!==se){var e=new Date(re.data.timestamp).getTime()||null;switch(e||c.kg.errorAndReport(new Error("Invalid Pubsub timestamp"),"Could not parse timestamp from Pubsub message",re),re.type){case l.qU.CommunityPointsPredictionMade:return void Z(y,re);case l.qU.CommunityPointsPredictionUpdated:case l.qU.CommunityPointsPredictionResult:var n=H.current[re.data.prediction.id];if(!e||n&&n>e)return;return H.current[re.data.prediction.id]=e,void Z(k,re);default:return}}}),[re,oe,se,x,Z]),(0,a.useEffect)((function(){var e=!O&&!!(null==x?void 0:x.community);V.isLoaded!==e&&(q((function(n){return(0,i.__assign)((0,i.__assign)({},n),{isLoaded:e})})),e&&F&&F())}),[O,x,F,V.isLoaded]),(0,a.useEffect)((function(){K&&K.hasAcceptedTOS!==V.hasAcceptedTOS&&q((function(e){return(0,i.__assign)((0,i.__assign)({},e),{hasAcceptedTOS:K.hasAcceptedTOS})}))}),[K,V.hasAcceptedTOS]),(0,a.useEffect)((function(){J!==V.isEligibleForPredictions&&q((function(e){return(0,i.__assign)((0,i.__assign)({},e),{isEligibleForPredictions:J})}))}),[J,V.isEligibleForPredictions]),(0,a.useEffect)((function(){X&&X!==V.userRecentPredictions&&q((function(e){return(0,i.__assign)((0,i.__assign)({},e),{userRecentPredictions:X})}))}),[V.userRecentPredictions,X]),(0,a.useEffect)((function(){if(W&&W!==z||$&&$!==j||Y&&Y!==Q){var e=C(x);q((function(n){return(0,i.__assign)((0,i.__assign)({},n),{predictions:e,predictionsMap:b(e)})}))}}),[W,x,$,z,j,Q,Y]),a.createElement(p.S.Provider,{value:V},L)},C=function(e){var n,t,a,r,o,s,l;if(!e)return[];var d=(null===(t=null===(n=null==e?void 0:e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.activePredictionEvents)||[],u=(null===(r=null===(a=null==e?void 0:e.community)||void 0===a?void 0:a.channel)||void 0===r?void 0:r.lockedPredictionEvents)||[],c=(null===(l=null===(s=null===(o=null==e?void 0:e.community)||void 0===o?void 0:o.channel)||void 0===s?void 0:s.resolvedPredictionEvents)||void 0===l?void 0:l.edges.map((function(e){return e.node})))||[];return(0,i.__spreadArrays)(d,u,c)},b=function(e){for(var n={},t=0,i=e;t<i.length;t++){var a=i[t];n[a.id]=a}return n}},773754:function(e,n,t){"use strict";t.d(n,{b9:function(){return c},P4:function(){return m},UO:function(){return p},A8:function(){return h},Jn:function(){return f},Yg:function(){return g},ko:function(){return v},PB:function(){return y},Uq:function(){return k},zf:function(){return S},BK:function(){return C},ue:function(){return b},X_:function(){return w},Y5:function(){return E},x0:function(){return _}});var i=t(570655),a=t(129989),r=t(344689),o=t(212038),s=t(176077),l=t(505529),d=t(834924),u=t(965875);function c(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?a(e,(function(e){return e.community.channel.communityPointsSettings}),(function(e){return(0,i.__assign)((0,i.__assign)({},e),{image:n.data.settings.image?(0,l.Rk)(n.data.settings.image):null,isEnabled:n.data.settings.is_enabled,name:n.data.settings.name})})):e}function m(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.automaticRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.automaticRewards}),(function(e){return e.map((function(e){return e.type!==n.data.updated_reward.reward_type?e:(0,i.__assign)((0,i.__assign)({},e),(0,l.uj)(n.data.updated_reward))}))})):e}function p(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.goals)?a(e,(function(e){return e.community.channel.communityPointsSettings.goals}),(function(e){return(0,i.__spreadArrays)(e,[(0,l.en)(n.data.community_goal)])})):e}function h(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.goals)?a(e,(function(e){return e.community.channel.communityPointsSettings.goals}),(function(e){return e.map((function(e){return e.id!==n.data.community_goal.id?e:(0,i.__assign)((0,i.__assign)({},e),(0,l.en)(n.data.community_goal))}))})):e}function f(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.goals)?a(e,(function(e){return e.community.channel.communityPointsSettings.goals}),(function(e){return e.map((function(e){return e.id!==n.data.contribution.goal.id?e:(0,i.__assign)((0,i.__assign)({},e),(0,l.en)(n.data.contribution.goal))}))})):e}function g(e,n){var t,i,r;return(null===(r=null===(i=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.communityPointsSettings)||void 0===r?void 0:r.goals)?a(e,(function(e){return e.community.channel.communityPointsSettings.goals}),(function(e){return e.filter((function(e){return e.id!==n.data.community_goal.id}))})):e}function v(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return(0,i.__spreadArrays)(e,[(0,l.Y5)(n.data.new_reward)])})):e}function y(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.customRewards)?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==n.data.updated_reward.id?e:(0,i.__assign)((0,i.__assign)({},e),(0,l.Y5)(n.data.updated_reward))}))})):e}function k(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.customRewards)?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==n.data.redemption.reward.id?e:(0,i.__assign)((0,i.__assign)({},e),{redemptionsRedeemedCurrentStream:n.data.redemption.reward.redemptions_redeemed_current_stream})}))})):e}function S(e,n){var t,r,o,s;if(!(null===(s=null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.self)||void 0===o?void 0:o.communityPoints)||void 0===s?void 0:s.userRedemptions))return e;if(!n.data.num_user_redemptions)return e;var l=n.data.redemption.reward.id;if(e.community.channel.self.communityPoints.userRedemptions.find((function(e){return e.reward.id===l})))return a(e,(function(e){return e.community.channel.self.communityPoints.userRedemptions}),(function(e){return e.map((function(e){return e.reward.id!==l?e:(0,i.__assign)((0,i.__assign)({},e),{userRedemptionsCurrentStream:n.data.num_user_redemptions||0})}))}));var d={__typename:"CommunityPointsCustomRewardUserRedemption",reward:{__typename:"CommunityPointsCustomReward",id:l},userRedemptionsCurrentStream:n.data.num_user_redemptions};return a(e,(function(e){return e.community.channel.self.communityPoints.userRedemptions}),(function(e){return(0,i.__spreadArrays)(e,[d])}))}function C(e){var n,t,i,r;return(null===(r=null===(i=null===(t=null===(n=e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.communityPoints)||void 0===r?void 0:r.userRedemptions)?a(e,(function(e){return e.community.channel.self.communityPoints.userRedemptions}),(function(){return[]})):e}function b(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==n.data.deleted_reward.id?e:(0,i.__assign)((0,i.__assign)({},e),{isEnabled:!1})}))})):e}function w(e,n,t){var i,r,o;if(!(null===(o=null===(r=null===(i=null==e?void 0:e.community)||void 0===i?void 0:i.channel)||void 0===r?void 0:r.self)||void 0===o?void 0:o.communityPoints)||n.data.channel_last_viewed_content.user_id!==t||n.data.channel_last_viewed_content.channel_id!==e.community.channel.id)return e;var s=[];return n.data.channel_last_viewed_content&&(s=n.data.channel_last_viewed_content.last_viewed_content.map((function(e){return{__typename:"CommunityPointsLastViewedContentByType",contentType:e.content_type,lastViewedAt:e.last_viewed_at}}))),a(e,(function(e){return e.community.channel.self.communityPoints.lastViewedContent}),(function(){return s}))}function E(e,n,t){var i;if(!(null===(i=null==e?void 0:e.currentUser)||void 0===i?void 0:i.communityPoints)||n.data.global_last_viewed_content.user_id!==t)return e;var r=[];return n.data.global_last_viewed_content&&(r=n.data.global_last_viewed_content.last_viewed_content.map((function(e){return{__typename:"CommunityPointsLastViewedContentByTypeAndID",contentID:e.content_id,contentType:e.content_type,lastViewedAt:e.last_viewed_at}}))),a(e,(function(e){return e.currentUser.communityPoints.lastViewedContent}),(function(){return r}))}function _(e,n,t){(0,r.rh)(u,{channelLogin:e,includeGoalTypes:(0,s.H)(o.FB)},(function(e){return function(e,n,t){var r,o,s;return(null===(s=null===(o=null===(r=e.community)||void 0===r?void 0:r.channel)||void 0===o?void 0:o.communityPointsSettings)||void 0===s?void 0:s.customRewards)?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==n.id?e:(0,i.__assign)((0,i.__assign)({},n),{isInStock:!((0,d.Mb)(n)||n.maxPerStreamSetting.isEnabled&&!t)})}))})):e}(e,n,t)}))}},443851:function(e,n,t){"use strict";t.d(n,{y:function(){return s},P:function(){return l}});var i=t(884979),a=t(301657),r=t(778262),o=(0,i.k)("RewardRedemptionContext",{closeRewardCenter:function(){return null},isRewardCenterOpen:!1,openReward:function(){return null},openEarnRatesList:function(){return null},resetTransactionID:function(){return null},rewardCenterState:{type:a.q.ListRewards},transactionID:"",direction:r.H.OpenRewardCenter,setDirection:function(){return null}}),s=o.context,l=o.withContext},670186:function(e,n,t){"use strict";var i;t.d(n,{R:function(){return i}}),function(e){e[e.SMALL=28]="SMALL",e[e.MEDIUM=56]="MEDIUM",e[e.LARGE=112]="LARGE"}(i||(i={}))},301657:function(e,n,t){"use strict";var i;t.d(n,{q:function(){return i}}),function(e){e[e.ListRewards=0]="ListRewards",e[e.CustomReward=1]="CustomReward",e[e.UnlockRandomEmote=2]="UnlockRandomEmote",e[e.UnlockChosenSubscriberEmote=3]="UnlockChosenSubscriberEmote",e[e.AlreadySubbed=4]="AlreadySubbed",e[e.ModifyEmote=5]="ModifyEmote",e[e.NotEnoughPoints=6]="NotEnoughPoints",e[e.NotLoggedIn=7]="NotLoggedIn",e[e.NotSubbed=8]="NotSubbed",e[e.NotSubOnlyMode=9]="NotSubOnlyMode",e[e.OutOfStock=10]="OutOfStock",e[e.EarnRates=11]="EarnRates",e[e.CommunityGoal=12]="CommunityGoal",e[e.Prediction=13]="Prediction"}(i||(i={}))},164783:function(e,n,t){"use strict";t.d(n,{G:function(){return l},Z:function(){return d}});var i=t(667294),a=t(687837),r=t(831642),o=t(128416),s=t(212038);function l(e){return e.type===o.z3Y.BOOST?(0,s.xc)():e.title}function d(e){if(e.type===o.z3Y.BOOST){var n=0;return e.description&&(n=Number(e.description)),(0,r.wv)("{boostRewardSize, plural, one {Get a boost to promote this stream {boostRewardSizeFormatted} time! <x:link>Learn more</x:link>} other {Get a boost to promote this stream {boostRewardSizeFormatted} times! <x:link>Learn more</x:link>}}",{boostRewardSize:n,boostRewardSizeFormatted:(0,r.uf)(n),"x:link":function(e){return i.createElement(a.s,{targetBlank:!0,linkTo:s.bX},e)}},"BoostChallengeRewardDescription")}return e.description}},176077:function(e,n,t){"use strict";t.d(n,{H:function(){return r}});var i=t(863480),a=t(128416);function r(e){return(0,i.t)(e)?[a.z3Y.CREATOR,a.z3Y.BOOST]:[a.z3Y.CREATOR]}},477130:function(e,n,t){"use strict";t.d(n,{zs:function(){return y},hj:function(){return S},We:function(){return C},uW:function(){return b},UL:function(){return w},Pb:function(){return E}});var i=t(570655),a=t(129989),r=t(667294),o=t(831642),s=t(594870),l=t(344689),d=t(128416),u=t(44683),c=t(652461),m=t(721482),p=t(928656),h=t(194839),f=t(120019),g=t(450517),v=t(149800),y="300238151",k="channel_points";function S(e){return{header:r.createElement(u.F,{icon:r.createElement(p._m,{data:e.reward,size:p.YT.Tiny})},(0,o.wv)("Share Your New Emote","EmoteReward")),body:r.createElement(c.f,null,(0,o.wv)("That's a fancy emote you've got there. Share it! You can also get some more.","EmoteReward")),inputValue:e.inputValue,disableCommands:!0,type:m.v4.ShareEmote}}function C(e,n,t){return o.$6.apollo.client.mutate((0,i.__assign)({mutation:v},(0,l.k_)({channelID:e,cost:(0,h.at)(n),transactionID:t})))}function b(e,n,t,a){return o.$6.apollo.client.mutate((0,i.__assign)({mutation:f},(0,l.k_)({channelID:e,emoteID:t,cost:(0,h.at)(n),transactionID:a})))}function w(e,n,t,a){return o.$6.apollo.client.mutate((0,i.__assign)({mutation:g},(0,l.k_)({channelID:e,emoteID:t,cost:(0,h.at)(n),transactionID:a})))}function E(e){(0,l.rh)(s,{withOwner:!0},(function(n){return a(n,(function(e){return e.currentUser.emoteSets}),(function(n){var t=n.filter((function(e){return e.id===y})).length>0;return n=t?n.map((function(n){if(n.id===y){var t=(0,i.__assign)((0,i.__assign)({},e),{modifiers:null,setID:y,type:d.eeY.CHANNEL_POINTS,__typename:"Emote"});return a(n,(function(e){return e.emotes}),(function(n){return n?-1!==n.findIndex((function(n){return n&&n.id===e.id}))?n:(0,i.__spreadArrays)(n,[t]):[t]}))}return n})):(0,i.__spreadArrays)(n,[{id:y,emotes:[(0,i.__assign)((0,i.__assign)({},e),{modifiers:null,setID:y,type:d.eeY.CHANNEL_POINTS,__typename:"Emote"})],__typename:"EmoteSet",owner:{__typename:"User",id:"436872863",login:k,displayName:k,profileImageURL:null}}])}))}))}},687773:function(e,n,t){"use strict";t.d(n,{m1:function(){return m},ye:function(){return p},fw:function(){return h},Tm:function(){return f},hc:function(){return g}});var i=t(667294),a=t(58661),r=t(150125),o=t(687837),s=t(128416),l=t(831642),d=t(333946),u=t(442767),c=t(812140);function m(){return(0,l.wv)("You must provide a message for this reward.","ChannelPointsMessageError")}function p(){return(0,l.wv)("Something went wrong. Please try again later.","CommunityPointsError")}function h(e){switch(e){case s.qhC.CHANNEL_SETTINGS:return(0,u.EB)().MessageContainsBannedWordsError;case s.qhC.MSG_DUPLICATE:return(0,d.h)();case s.qhC.AUTOMOD_HELD:case s.qhC.BLIZZARD_CONNECT_MODE:case s.qhC.EMOTE_ONLY:case s.qhC.FOLLOWERS_ONLY:case s.qhC.FOLLOWERS_ONLY_ZERO:case s.qhC.INSUFFICIENT_POINTS:case s.qhC.MESSAGE_REJECTED:case s.qhC.R9K_MODE:case s.qhC.REWARD_COST_MISMATCH:case s.qhC.REWARD_DISABLED:case s.qhC.REWARD_FORBIDDEN:case s.qhC.SERVER_ERROR:case s.qhC.SLOW_MODE:case s.qhC.SUBS_ONLY:case s.qhC.TRANSACTION_ALREADY_COMMITTED:case s.qhC.TRANSACTION_IN_PROGRESS:case s.qhC.UNKNOWN:case s.qhC.USER_BANNED:case s.qhC.USER_SUSPENDED:case s.qhC.USER_TIMED_OUT:case s.qhC.VERIFIED_ACCOUNT:default:return p()}}function f(e,n){switch(e){case s.O1U.EMOTE_ALREADY_ENTITLED:return(0,l.wv)("<x:strong>Oops!</x:strong> You can already use this emote!",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.INSUFFICIENT_POINTS:return(0,l.wv)("<x:strong>Oops!</x:strong> You don't have enough points for this reward. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)},"x:link":function(e){return i.createElement(o.s,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.NO_EMOTES_AVAILABLE:return(0,l.wv)("<x:strong>Oops!</x:strong> This broadcaster has no emotes to unlock. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)},"x:link":function(e){return i.createElement(o.s,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.REWARD_COST_MISMATCH:return(0,c.F6)(null,(function(){return null}));case s.O1U.REWARD_DISABLED:return(0,l.wv)("<x:strong>Oops!</x:strong> This reward is disabled. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)},"x:link":function(e){return i.createElement(o.s,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.REWARD_FORBIDDEN:return(0,l.wv)("<x:strong>Oops!</x:strong> You cannot redeem this reward on this channel. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)},"x:link":function(e){return i.createElement(o.s,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.TRANSACTION_ALREADY_COMMITTED:case s.O1U.INVALID_EMOTE:case s.O1U.UNKNOWN:default:return p()}}function g(e){switch(e){case s.KvS.MAX_PER_STREAM:return(0,l.wv)("This reward is temporarily out of stock.","ChannelPointsMessageError");case s.KvS.USER_BANNED:return(0,l.wv)("You've been banned and can't redeem this reward.","ChannelPointsMessageError");case s.KvS.NOT_ENOUGH_POINTS:return(0,l.wv)("You don't have enough points for this reward.","ChannelPointsMessageError");case s.KvS.PROPERTIES_MISMATCH:return(0,c.Ec)(null,(function(){return null}));case s.KvS.DUPLICATE_TRANSACTION:case s.KvS.FORBIDDEN:case s.KvS.NOT_FOUND:default:return p()}}},246560:function(e,n,t){"use strict";t.d(n,{z:function(){return a}});var i=t(128416),a=function(e,n){var t={subOnlyReward:!0,nonSubOnlyReward:!0,subsModeRequiredReward:!0};return"CommunityPointsCustomReward"===e.__typename&&e.isSubOnly&&(t.subOnlyReward=n.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.isHiddenForSubs&&(t.nonSubOnlyReward=!n.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.type===i.A_7.SINGLE_MESSAGE_BYPASS_SUB_MODE&&(t.subsModeRequiredReward=n.isChannelSubsOnlyMode),t}},505529:function(e,n,t){"use strict";function i(e){return{__typename:"CommunityPointsAutomaticReward",backgroundColor:e.background_color,cost:e.cost||null,image:e.image?o(e.image):null,isEnabled:e.is_enabled,type:e.reward_type,updatedForIndicatorAt:e.updated_for_indicator_at,globallyUpdatedForIndicatorAt:e.globally_updated_for_indicator_at}}function a(e){return{__typename:"CommunityPointsCommunityGoal",id:e.id,amountNeeded:e.goal_amount,backgroundColor:e.background_color,defaultImage:o(e.default_image),description:e.description,durationDays:e.duration_days,endedAt:e.ended_at,image:e.image?o(e.image):null,isInStock:e.is_in_stock,smallContribution:e.small_contribution,perStreamUserMaximumContribution:e.per_stream_maximum_user_contribution,pointsContributed:e.points_contributed,startedAt:e.started_at,status:e.status,title:e.title,type:e.goal_type}}function r(e){return{__typename:"CommunityPointsCustomReward",id:e.id,backgroundColor:e.background_color||null,cost:e.cost,defaultImage:o(e.default_image),image:e.image?o(e.image):null,isEnabled:e.is_enabled,isInStock:e.is_in_stock,isPaused:e.is_paused,isSubOnly:e.is_sub_only,isUserInputRequired:e.is_user_input_required,shouldRedemptionsSkipRequestQueue:e.should_redemptions_skip_request_queue,prompt:e.prompt||null,title:e.title,updatedForIndicatorAt:e.updated_for_indicator_at,maxPerUserPerStreamSetting:{__typename:"CommunityPointsCustomRewardMaxPerUserPerStreamSetting",maxPerUserPerStream:e.max_per_user_per_stream.max_per_user_per_stream,isEnabled:e.max_per_user_per_stream.is_enabled},maxPerStreamSetting:{__typename:"CommunityPointsCustomRewardMaxPerStreamSetting",maxPerStream:e.max_per_stream.max_per_stream,isEnabled:e.max_per_stream.is_enabled},globalCooldownSetting:{__typename:"CommunityPointsCustomRewardGlobalCooldownSetting",globalCooldownSeconds:e.global_cooldown.global_cooldown_seconds,isEnabled:e.global_cooldown.is_enabled},redemptionsRedeemedCurrentStream:e.redemptions_redeemed_current_stream,cooldownExpiresAt:e.cooldown_expires_at}}function o(e){return{__typename:"CommunityPointsImage",url:e.url_1x,url2x:e.url_2x,url4x:e.url_4x}}function s(e){var n=e.outcomes.find((function(n){return n.id===e.winning_outcome_id})),t=null;return"USER"===e.created_by.type&&e.created_by.user_id&&e.created_by.user_display_name&&(t={__typename:"User",id:e.created_by.user_id,displayName:e.created_by.user_display_name}),{__typename:"PredictionEvent",id:e.id,createdAt:e.created_at,createdBy:t,endedAt:e.ended_at,lockedAt:e.locked_at,outcomes:e.outcomes.map((function(e){return l(e)})),predictionWindowSeconds:e.prediction_window_seconds,status:e.status,title:e.title,winningOutcome:n?l(n):null}}function l(e){return{__typename:"PredictionOutcome",id:e.id,color:e.color,title:e.title,totalPoints:e.total_points,totalUsers:e.total_users,topPredictors:e.top_predictors.map((function(e){return{__typename:"Prediction",id:e.id,points:e.points,user:{__typename:"User",id:e.user_id,displayName:e.user_display_name||""}}}))}}function d(e){var n=null,t=null,i=null;return null!==e.result&&(n=e.result.is_acknowledged,t=e.result.points_won,i=e.result.type),{__typename:"Prediction",id:e.id,event:{__typename:"PredictionEvent",id:e.event_id},outcome:{__typename:"PredictionOutcome",id:e.outcome_id},points:e.points,predictedAt:e.predicted_at,updatedAt:e.updated_at,result:i,pointsWon:t,isResultAcknowledged:n}}t.d(n,{uj:function(){return i},en:function(){return a},Y5:function(){return r},Rk:function(){return o},MJ:function(){return s},y:function(){return d}})},952237:function(e,n,t){"use strict";function i(e){return{"1x":e.url,"2x":e.url2x,"4x":e.url4x}}t.d(n,{A:function(){return i}})},275406:function(e,n,t){"use strict";t.d(n,{l:function(){return k},p:function(){return C}});var i=t(570655),a=t(667294),r=t(58661),o=t(150125),s=t(831642),l=t(344689),d=t(128416),u=t(652461),c=t(721482),m=t(626898),p=t(133380),h=t(687773),f=t(593128),g=t(194839),v=t(812140),y=t(703554);function k(e){var n=this;return{header:a.createElement(p.D,{reward:e.reward}),body:a.createElement(m.X,{onRequirementsChange:function(n){return n?e.setTrayError((0,v.Ec)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},onStockChange:function(n){return n?e.setTrayError((0,v.kk)()):e.clearTrayError()},reward:e.reward},a.createElement(u.f,null,a.createElement(r.V,{wordBreak:o.I5.BreakWord},e.reward.prompt||void 0))),disableCommands:!0,disableBits:!0,ignoredRestrictions:new Set([d.D5M.FOLLOWERS_ONLY,d.D5M.SLOW_MODE,d.D5M.SUBSCRIBERS_ONLY,d.D5M.VERIFIED_ONLY]),sendButtonOverride:c.nS.CommunityPointsSpend,sendMessageHandler:{type:c.DB.Custom,handleMessage:function(t){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return t.trim()?[4,C(e.channelID,e.reward,e.transactionID,t)]:(S(e),[2,!1]);case 1:return(n=a.sent()).data&&n.data.redeemCommunityPointsCustomReward&&!n.data.redeemCommunityPointsCustomReward.error?(e.clearTray(),(0,y.ev)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(S((0,i.__assign)((0,i.__assign)({},e),{errorCode:n.data&&n.data.redeemCommunityPointsCustomReward&&n.data.redeemCommunityPointsCustomReward.error&&n.data.redeemCommunityPointsCustomReward.error.code||void 0,message:t})),[2,!1])}}))}))}},type:c.v4.CustomReward}}function S(e){var n=e.message?(0,h.hc)(e.errorCode):(0,h.m1)();e.setTrayError(n)}function C(e,n,t,a){return s.$6.apollo.client.mutate((0,i.__assign)({mutation:f},(0,l.k_)({channelID:e,cost:(0,g.at)(n),prompt:n.prompt,rewardID:n.id,textInput:a,title:n.title,transactionID:t})))}},778262:function(e,n,t){"use strict";t.d(n,{H:function(){return i},d:function(){return r}});var i,a=t(55503);function r(e){switch(e){case i.Forward:return[a.x.SlideOverRight,a.x.SlideOverLeft];case i.Back:return[a.x.SlideOverLeft,a.x.SlideOverRight];case i.CloseRewardCenter:return[a.x.SlideOverTop,a.x.SlideOverBottom];case i.OpenRewardCenter:return[a.x.SlideOverBottom,a.x.SlideOverTop];case i.None:default:return a.x.Fade}}!function(e){e.Forward="move-forward",e.Back="move-backward",e.OpenRewardCenter="open-reward-center",e.CloseRewardCenter="close-reward-center",e.None="none"}(i||(i={}))},194839:function(e,n,t){"use strict";t.d(n,{fg:function(){return l},at:function(){return d},_G:function(){return u},RW:function(){return c},TA:function(){return m},J7:function(){return p},Zz:function(){return h}});var i=t(624685),a=t(831642),r=t(466878),o=t(128416),s=t(952237);function l(e){return"CommunityPointsAutomaticReward"===e.__typename?e.backgroundColor||e.defaultBackgroundColor:"CommunityPointsCommunityGoal"===e.__typename&&e.type===o.z3Y.BOOST?i.x.TwitchPurple:e.backgroundColor}function d(e){switch(e.__typename){case"CommunityPointsAutomaticReward":return e.cost||e.defaultCost;case"CommunityPointsCustomReward":default:return e.cost}}function u(e){return"CommunityPointsCommunityGoal"===e.__typename&&e.type===o.z3Y.BOOST?{src:r}:e.image?{src:e.image.url,srcSet:(0,s.A)(e.image)}:{src:e.defaultImage.url,srcSet:(0,s.A)(e.defaultImage)}}function c(e){return"CommunityPointsCommunityGoal"===e.__typename&&e.type===o.z3Y.BOOST?{src:r}:e.image?{src:e.image.url2x,srcSet:{"1x":e.image.url2x,"2x":e.image.url4x}}:{src:e.defaultImage.url2x,srcSet:{"1x":e.defaultImage.url2x,"2x":e.defaultImage.url4x}}}function m(e){if("CommunityPointsCustomReward"===e.__typename)return e.title;switch(e.type){case o.A_7.SEND_HIGHLIGHTED_MESSAGE:return(0,a.wv)("Highlight My Message","CommunityPointsRewards");case o.A_7.SINGLE_MESSAGE_BYPASS_SUB_MODE:return(0,a.wv)("Send a Message in Sub-Only Mode","CommunityPointsRewards");case o.A_7.CHOSEN_SUB_EMOTE_UNLOCK:return(0,a.wv)("Choose an Emote to Unlock","CommunityPointsRewards");case o.A_7.RANDOM_SUB_EMOTE_UNLOCK:return(0,a.wv)("Unlock a Random Sub Emote","CommunityPointsRewards");case o.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return(0,a.wv)("Modify a Single Emote","CommunityPointsRewards");default:return(0,a.wv)("Reward","CommunityPointsRewards")}}function p(e){if("CommunityPointsCustomReward"===e.__typename)return!1;switch(e.type){case o.A_7.RANDOM_SUB_EMOTE_UNLOCK:case o.A_7.CHOSEN_SUB_EMOTE_UNLOCK:case o.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return!0;default:return!1}}function h(e){if("CommunityPointsCustomReward"===e.__typename)return e.prompt;switch(e.type){case o.A_7.SEND_HIGHLIGHTED_MESSAGE:return(0,a.wv)("Write something special below and give it some glitz in chat!","CommunityPointsRewards");case o.A_7.SINGLE_MESSAGE_BYPASS_SUB_MODE:return(0,a.wv)("Type your message below and sneakily bypass chat restrictions.","CommunityPointsRewards");case o.A_7.CHOSEN_SUB_EMOTE_UNLOCK:return(0,a.wv)("Select an emote to unlock for 24 hours:","CommunityPointsRewards");case o.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return(0,a.wv)("Select an emote to modify & unlock for 24 hours:","CommunityPointsRewards");case o.A_7.RANDOM_SUB_EMOTE_UNLOCK:return(0,a.wv)("Click below to unlock one random emote to chat with for 24 hours!","CommunityPointsRewards");default:return(0,a.wv)("Unlock this reward.","CommunityPointsRewards")}}},834924:function(e,n,t){"use strict";function i(e,n){return"CommunityPointsCustomReward"===e.__typename&&e.maxPerUserPerStreamSetting.isEnabled&&n&&n>=e.maxPerUserPerStreamSetting.maxPerUserPerStream}function a(e){var n=e.maxPerStreamSetting,t=e.redemptionsRedeemedCurrentStream;return!!(t&&n.isEnabled&&t>=n.maxPerStream)}function r(e,n){var t=e.cooldownExpiresAt,i=e.globalCooldownSetting;return!!t&&!!(i.isEnabled&&new Date(t).getTime()>n.getTime())}t.d(n,{jw:function(){return i},Mb:function(){return a},Tc:function(){return r}})},812140:function(e,n,t){"use strict";t.d(n,{Fg:function(){return l},sW:function(){return d},kk:function(){return u},Ec:function(){return c},F6:function(){return m},l_:function(){return p},$4:function(){return h},NE:function(){return f},Eh:function(){return g},Oe:function(){return v},Bb:function(){return y},RU:function(){return k},up:function(){return S},N1:function(){return C},TX:function(){return b},f$:function(){return w},LA:function(){return E},g0:function(){return _}});var i=t(667294),a=t(687837),r=t(58661),o=t(150125),s=t(831642);function l(e){return e?(0,s.wv)("Channel Point","ChannelPoints"):(0,s.wv)("Channel Points","ChannelPoints")}function d(e){return(0,s.wv)("{count, plural, one {# of your Default Reward costs was recently updated.} other {# of your Default Reward costs were recently updated.}}",{count:e},"CommunityPointsRewards")}function u(){return(0,s.wv)("This reward is temporarily out of stock.","ChannelPoints")}function c(e,n){return e?(0,s.wv)("{streamerName} has changed the reward requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:link":function(e){return i.createElement(a.s,{onClick:n},e)}},"ChannelPoints"):(0,s.wv)("The broadcaster has changed the reward requirements. <x:link>Please try again.</x:link>",{"x:link":function(e){return i.createElement(a.s,{onClick:n},e)}},"ChannelPoints")}function m(e,n){return e?(0,s.wv)("<x:strong>Oops!</x:strong> {streamerName} has changed this reward's requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:strong":function(e){return i.createElement(r.V,{bold:!0,type:o.yG.Span},e)},"x:link":function(e){return i.createElement(a.s,{onClick:n},e)}},"ChannelPoints"):(0,s.wv)("<x:strong>Oops!</x:strong> The broadcaster has changed this reward's requirements. <x:link>Please try again.</x:link>",{"x:strong":function(e){return i.createElement(r.V,{bold:!0,type:o.yG.Span},e)},"x:link":function(e){return i.createElement(a.s,{onClick:n},e)}},"ChannelPoints")}function p(){return(0,s.wv)("Channel Points early access","ChannelPointsSignupPage")}function h(){return(0,s.wv)("Review Requests Queue","CustomRewardsList")}function f(e){switch(e){case"Greyscale":return(0,s.wv)("Greyscale","ModifyEmotePreviewTooltip");case"Horizontal Flip":return(0,s.wv)("Horizontal Flip","ModifyEmotePreviewTooltip");case"Sunglasses":return(0,s.wv)("Sunglasses","ModifyEmotePreviewTooltip");case"Squished":return(0,s.wv)("Squished","ModifyEmotePreviewTooltip");case"Thinking":return(0,s.wv)("Thinking","ModifyEmotePreviewTooltip");case"Lunar Rat":return(0,s.wv)("Lunar Rat","ModifyEmotePreviewTooltip");case"Red Envelope":return(0,s.wv)("Red Envelope","ModifyEmotePreviewTooltip");default:return e}}function g(){return(0,s.wv)("Something went wrong. Please try again.","CommunityChallengeModal")}function v(){return(0,s.wv)("Max","CommunityGoalContributionButtons")}function y(){return(0,s.wv)("Redeem","CustomRewardCheckout")}function k(e){return(0,s.wv)('You have predicted "{outcome}" and cannot change your pick',{outcome:e},"PredictionCheckoutActiveFooter")}function S(e){return(0,s.wv)("You have already contributed the maximum number of {pointName} to this prediction",{pointName:e||l()},"PredictionCheckoutActiveFooter")}function C(e){return(0,s.wv)("You don't have enough {pointName}",{pointName:e||l()},"PredictionCheckoutActiveFooter")}function b(e){return(0,s.wv)("In {username}'s channel points, rewards, or predictions",{username:e},"ReportModalWizardItem")}function w(){return(0,s.wv)("Go Back","PredictionTermsStep")}function E(){return(0,s.wv)("Summary","PredictionManager")}function _(e,n){return(0,s.wv)("{predictionTitle} {winningOutcome}",{predictionTitle:e,winningOutcome:n},"PredictionCompletionStep")}},703554:function(e,n,t){"use strict";t.d(n,{nq:function(){return a},j:function(){return r},XO:function(){return o},FX:function(){return s},tw:function(){return l},cQ:function(){return d},zt:function(){return u},OF:function(){return c},TJ:function(){return m},GS:function(){return p},Tv:function(){return y},Kz:function(){return k},Hx:function(){return S},Gi:function(){return C},gd:function(){return b},QF:function(){return w},ct:function(){return E},ev:function(){return _},Vw:function(){return N},dZ:function(){return D},lD:function(){return M},F4:function(){return I},KC:function(){return T}});var i,a,r,o,s,l,d,u,c,m,p,h=t(831642),f=t(128416),g=t(742407),v=t(194839);function y(e,n,t,i){var a={user_id:e,channel_login:n,channel_id:t,content_update_enabled:i};h.UO.track(g.N.ChannelPointsIconImpression,a)}function k(e,n,t,i,a,r){var o=null;switch(a.__typename){case"CommunityPointsCommunityGoal":o=a.pointsContributed;break;case"PredictionEvent":o=A(a)}var s=null;"PredictionEvent"===a.__typename&&(s=a.status===f.ws0.ACTIVE);var l={channel_login:e,channel_id:n,content_update_enabled:t,is_available:s,position:i,reward_id:a.id,reward_type:P(a),reward_type_detail:o,view_uuid:r};h.UO.track(g.N.ChannelPointsRewardImpression,l)}function S(e,n,t,i){var a={channel_login:e,channel_id:n,view_uuid:t,content_update_enabled:i};h.UO.track(g.N.ChannelPointsViewRewards,a)}function C(e){var n="CommunityPointsCustomReward"===e.reward.__typename&&(!e.reward.isInStock||e.reward.isPaused)||"CommunityPointsCommunityGoal"===e.reward.__typename&&!e.reward.isInStock,t="CommunityPointsCommunityGoal"===e.reward.__typename?e.reward.pointsContributed:null,i=e.userBalance===1/0?null:e.userBalance,a={channel_id:e.channelID,channel_login:e.channelLogin,is_available:!n,is_channel_moderator:e.isModerator,is_eligible:e.isUserEligible,reward_cost:R(e.reward),reward_id:e.reward.id,reward_type:P(e.reward),reward_type_detail:t,transaction_uuid:e.transactionID,user_points_balance:i,view_uuid:e.viewTrackingID,content_update_enabled:e.contentUpdateEnabled};h.UO.track(g.N.ChannelPointsSelectReward,a)}function b(e){var n=e.userBalance===1/0?null:e.userBalance,t={channel_id:e.channelID,channel_login:e.channelLogin,content_update_enabled:!1,is_available:e.prediction.status===f.ws0.ACTIVE,is_channel_moderator:e.isModerator,is_eligible:e.isUserEligible,is_prediction_category_region_locked:e.userRestriction===f.cmf.CATEGORY_REGION_LOCKED,is_prediction_region_locked:e.userRestriction===f.cmf.REGION_LOCKED,reward_cost:null,reward_id:e.prediction.id,reward_type:i.Prediction,reward_type_detail:A(e.prediction),transaction_uuid:e.transactionID,user_points_balance:n,view_uuid:e.viewTrackingID};h.UO.track(g.N.ChannelPointsSelectReward,t)}function w(e,n,t){var i={ui_context:e,channel_login:n,channel_id:t};h.UO.track(g.N.ChannelPointsViewRequestQueue,i)}function E(e,n,t,i){var a={ui_context:e,viewer_type:n,channel_id:t,channel_login:i};h.UO.track(g.N.ChannelPointsViewEarnScorecard,a)}function _(e){var n=void 0!==e.pointsSpent?e.pointsSpent:R(e.reward),t="CommunityPointsCommunityGoal"===e.reward.__typename?e.reward.pointsContributed:null,i={channel_id:e.channelID,channel_login:e.channelLogin,contributed_max:e.isMaxContribution,points_spent:n,reward_id:e.reward.id,reward_type:P(e.reward),reward_type_detail:e.rewardTypeDetail||t,transaction_uuid:e.transactionID,view_uuid:e.viewTrackingID};h.UO.track(g.N.ChannelPointsSpend,i)}function N(e){var n={channel_id:e.channelID,channel_login:e.channelLogin,points_spent:e.poll.settings.communityPointsVotes.cost,reward_id:e.poll.id,reward_type:i.Poll,reward_type_detail:null,transaction_uuid:null,view_uuid:null};h.UO.track(g.N.ChannelPointsSpend,n)}function D(e,n,t,i){var a={channel_id:e,channel_login:n,onboarding_collateral:t,ui_context:i};h.UO.track(g.N.ChannelPointsOnboardingInteraction,a)}function M(e){var n={channel_id:e.channelID,channel_login:e.channelLogin,has_custom_reward:e.hasCustomRewards,action:e.action,in_product_notice:e.inProductNotice,reward_id:e.rewardID||null,template_id:e.templateID||null};h.UO.track(g.N.ChannelPointsCustomRewardCollectionInteraction,n)}function I(e){var n={channel_id:e.channelID,user_id:e.userID,reward_id:e.rewardID||null,action:e.action,action_descriptor:e.actionDescriptor||null,ui_context:e.uiContext};h.UO.track(g.N.ChannelPointsManageRequestQueue,n)}function T(e){var n={channel_id:e.channelID,user_id:e.userID,redemption_uuid:e.redemptionID,is_bulk_action:e.isBulkAction,action:e.action,ui_context:e.uiContext};h.UO.track(g.N.ChannelPointsRewardRequestResponse,n)}function P(e){switch(e.__typename){case"CommunityPointsCommunityGoal":return i.CommunityChallenge;case"PredictionEvent":return i.Prediction;case"CommunityPointsAutomaticReward":return i.Automatic;case"CommunityPointsCustomReward":default:return i.Custom}}function R(e){switch(e.__typename){case"CommunityPointsAutomaticReward":case"CommunityPointsCustomReward":return(0,v.at)(e);case"CommunityPointsCommunityGoal":return e.smallContribution;case"PredictionEvent":default:return null}}function A(e){switch(e.status){case f.ws0.ACTIVE:return"active";case f.ws0.CANCELED:case f.ws0.CANCEL_PENDING:return"canceled";case f.ws0.LOCKED:return"submission_closed";case f.ws0.RESOLVED:case f.ws0.RESOLVE_PENDING:return"resolved";default:return null}}!function(e){e.Automatic="automatic",e.Custom="custom",e.Poll="poll",e.CommunityChallenge="community_challenge",e.Prediction="prediction"}(i||(i={})),function(e){e.ActivityFeed="activity_feed",e.ChatCommand="chat_command",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.DeleteModal="delete_modal",e.ModTools="chat_settings",e.ModView="mod_view",e.QuickAction="quick_action",e.RewardSelectionPane="reward_selection_pane"}(a||(a={})),function(e){e.ModViewWidget="mod_view_widget"}(r||(r={})),function(e){e.RewardSelectionPane="reward_selection_pane",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.AutomaticRewardModal="automatic_reward_modal"}(o||(o={})),function(e){e.CustomRewardCreationModal="custom_reward_creation_modal",e.RewardsPageOnboarding="rewards_page_onboarding",e.ChannelPointsSettings="channel_points_settings"}(s||(s={})),function(e){e.IconSetDownload="icon_set_download",e.GetStartedGuide="get_started_guide"}(l||(l={})),function(e){e.Viewer="viewer",e.Moderator="moderator",e.Broadcaster="broadcaster"}(d||(d={})),function(e){e.Impression="cta_impression",e.Click="cta_click",e.AddReward="add_reward",e.NoticeClick="in_product_notice_click"}(u||(u={})),function(e){e.Paused="paused",e.Unpaused="unpaused",e.BulkCancel="bulk_cancel",e.BulkFulfill="bulk_fulfill"}(c||(c={})),function(e){e.SelectedRedemptions="selected_redemptions",e.AllRedemptions="all_redemptions"}(m||(m={})),function(e){e.Fulfilled="fulfilled",e.Canceled="canceled",e.Reported="reported"}(p||(p={}))},623114:function(e,n,t){"use strict";t.d(n,{x2:function(){return a},Eb:function(){return m}});var i,a,r=t(667294),o=t(382448),s=t(470216),l=t(734995),d=t(270406),u=t(246797);!function(e){e[e.LOCK=0]="LOCK",e[e.BITS=1]="BITS"}(a||(a={}));var c=((i={})[a.LOCK]=o.e.Lock,i[a.BITS]=o.e.Bits,i),m=function(e){var n=e.lockIcon,t=e.className,i=r.useMemo((function(){return r.createElement(s.W,{asset:c[n],height:10,width:10})}),[n]);return r.createElement(l.A,{background:d.Aq.Overlay,borderRadius:u.c.Small,className:t,"data-test-selector":"badge-button-lock",display:d.sS.InlineFlex,justifyContent:d.uM.Center,position:d.Ly.Absolute,zIndex:d.KN.Above},i)}},119935:function(e,n,t){"use strict";t.d(n,{Y:function(){return s}});var i=t(667294),a=t(382448),r=t(440837),o=t(831642),s=i.memo((function(e){var n=a.e.Emoticons;return i.createElement(r.Ei,{disabled:e.buttonDisabled,icon:n,"aria-label":(0,o.wv)("Emote picker","EmotePickerButton"),type:e.isActive?r.c.Primary:r.c.Secondary,onClick:e.onClick,"data-a-target":"emote-picker-button"})}))},42626:function(e,n,t){"use strict";var i;t.d(n,{VT:function(){return i},yi:function(){return a},PC:function(){return r}}),function(e){e.Chat="stream_chat",e.Feeds="feeds",e.Room="chatroom",e.Whisper="whisper",e.VodChat="vod-chat"}(i||(i={}));var a={TriHard:{count:196568036},Kappa:{count:192158118},"4Head":{count:155758710},PogChamp:{count:151485090},cmonBruh:{count:146352878},BibleThump:{count:56472964},WutFace:{count:45069031},Kreygasm:{count:41387580},DansGame:{count:38097659},hi5F:{count:34986404},SMOrc:{count:34734484},KappaPride:{count:34262839},VoHiYo:{count:27886434},SwiftRage:{count:24561900},ResidentSleeper:{count:24438298},EleGiggle:{count:19891526},FailFish:{count:19118343},NotLikeThis:{count:18802905},Keepo:{count:18351415},BabyRage:{count:18220906},MingLee:{count:18026207},pbfSSH:{count:16911241},forsenE:{count:14960299},HeyGuys:{count:14851569},ANELE:{count:14648986},PJSalt:{count:14438861}},r=["354","49106","4339","48","25","55338","70433","1902","68856","81103","76171","27509"]},250319:function(e,n,t){"use strict";t.d(n,{nx:function(){return d},E5:function(){return u},Eu:function(){return c},SA:function(){return m},JX:function(){return p}});var i=t(570655),a=t(831642),r=t(128416),o=t(823955),s="twilight.emote_picker_history",l=[{id:"64138",token:"SeemsGood"},{id:"41",token:"Kreygasm"},{id:"245",token:"ResidentSleeper"},{id:"28087",token:"WutFace"},{id:"86",token:"BibleThump"},{id:"9",token:"<3"},{id:"58765",token:"NotLikeThis"},{id:"81274",token:"VoHiYo"},{id:"305954156",token:"PogChamp"},{id:"425618",token:"LUL"},{id:"25",token:"Kappa"},{id:"30259",token:"HeyGuys"}];function d(e){var n=h(),t=n[e.id];t?(t.uses++,t.lastUpdatedAt=Date.now()):n[e.id]={emote:e,lastUpdatedAt:Date.now(),uses:1},a.tO.set(s,n)}function u(){var e=h();if(!(Object.keys(e).length>=24)){for(var n={},t=0;t<l.length;t++){var r=l[t];e[r.id]||(n[r.id]={emote:r,lastUpdatedAt:t,uses:0})}var o=(0,i.__assign)((0,i.__assign)({},n),e);a.tO.set(s,o)}}function c(){return(0,o.j8)(l)}function m(e,n,t,i){var l=h(),d=[],u=!1;return Object.keys(l).forEach((function(i){var a=l[i];if(void 0!==a&&void 0!==e[a.emote.token]&&function(e,n,t,i){var a=n[e.emote.token];if(a.type!==r.eeY.FOLLOWER)return!0;if(!a.setID||!i)return!1;return t[a.setID]===i}(a,e,n,t)){var o=e[a.emote.token].id;o!==i&&(a.emote.id=o,l[o]=a,delete l[o],u=!0),d.push(a)}})),u&&a.tO.set(s,l),d.sort((function(e,n){return e.uses>n.uses?-1:n.uses>e.uses?1:e.lastUpdatedAt>n.lastUpdatedAt?-1:n.lastUpdatedAt>e.lastUpdatedAt?1:0})),(0,o.j8)(d.slice(0,24).map((function(e){return e.emote})),i)}function p(){var e=h(),n={};return Object.keys(e).forEach((function(t){void 0!==e[t]&&(n[e[t].emote.token]={count:e[t].uses})})),n}function h(){var e=a.tO.get(s,{})||{};return e.undefined&&(delete e.undefined,a.tO.set(s,e)),e}},823955:function(e,n,t){"use strict";t.d(n,{j8:function(){return u},Pv:function(){return c},JK:function(){return m},$1:function(){return h},H3:function(){return f},Eg:function(){return g},Oe:function(){return v}});var i=t(570655),a=t(702631),r=t(592407),o=t(42626),s={"B-?\\)":"B)","\\:-?[z|Z|\\|]":":|","\\:-?\\)":":)","\\:-?\\(":":(","\\:-?(p|P)":":P","\\;-?(p|P)":";P","\\:-?[\\\\/]":":/","\\;-?\\)":";)","R-?\\)":"R)",":>":":>","\\:\\&gt\\;":":>","[oO](_|\\.)[oO]":"O_o","\\:-?D":":D","\\:-?(o|O)":":O",">\\\\(":">(",":-?(?:7|L)":":7","\\:-?(S|s)":":S","#-?[\\\\/]":"#/","<\\]":"<]","<3":"<3","\\&lt\\;3":"<3","\\&lt\\;\\]":"<]","\\&gt\\;\\(":">("},l=["1.0","2.0","3.0"],d=new Set([457,33,42,0]);function u(e,n,t){void 0===n&&(n=!0),void 0===t&&(t=a.Q.Light);for(var i=[],r=0,o=e;r<o.length;r++){var s=o[r];s&&null!==s.id&&null!==s.token&&i.push(m(s,n,t))}return i}function c(e){return s[e.token]||e.token}function m(e,n,t){void 0===n&&(n=!0),void 0===t&&(t=a.Q.Light);var r=n?"default":"static",o=t===a.Q.Light?"light":"dark",s=l.reduce((function(n,t){var i=n;return i&&(i=i.concat(", ")),i.concat("https://static-cdn.jtvnw.net/emoticons/v2/"+e.id+"/"+r+"/"+o+"/"+t+" "+t+"x")}),"");return(0,i.__assign)((0,i.__assign)({},e),{displayName:c(e),srcSet:s})}function p(e){return e.filter((function(e){return!!e&&!!e.id&&!!e.token})).sort((function(e,n){return parseInt(n.id,10)-parseInt(e.id,10)}))}function h(e){for(var n=[],t=0,i=e;t<i.length;t++){var a=i[t];if(a&&a.id&&a.emotes){for(var r={id:a.id,emotes:[]},o=0,s=a.emotes;o<s.length;o++){var l=s[o];l&&l.id&&l.token&&r.emotes.push(l)}n.push(r)}}return n}function f(e,n){for(var t=[],i=[],a=0,r=e;a<r.length;a++){var o=r[a];if(o&&o.id&&o.emotes){var s={id:o.id,emotes:u(p(o.emotes),n)};o.owner&&(s.owner=o.owner),d.has(parseInt(o.id,10))?t.push(s):i.push(s)}}return i.concat(t)}var g=function(e,n,t){var i=t||o.yi,a=[],s=[],l=[],d=new RegExp("^"+(0,r.h)(n),"i");return e.forEach((function(e){i[e.token]?l.push(e):e.token.match(d)?a.push(e):s.push(e)})),a.sort((function(e,n){return e.token.localeCompare(n.token)})),s.sort((function(e,n){return e.token.localeCompare(n.token)})),l.sort((function(e,n){return i[n.token].count-i[e.token].count})),l.concat(a).concat(s)},v=function(e){var n={};return e.filter((function(e){return!n.hasOwnProperty(e.token)&&(n[e.token]=!0)}))}},879072:function(e,n,t){"use strict";t.d(n,{S3:function(){return s}});var i=t(570655),a=t(667294),r=t(606382),o=t(70981),s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleUsernameClick=function(e){n.props.onUsernameClick&&n.props.onUsernameClick(e)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.highContrastUsernameColor,t=e.sender,i=t.chatColor;n&&i&&(i="#"+(0,o.Fp)(i,this.props.theme));var s=[a.createElement("span",{key:"username-display",className:"message-author__display-name","data-test-selector":"message-username",style:{color:i||void 0}},t.displayName)];t.displayName&&!(0,r._)(t.displayName)&&s.push(a.createElement("span",{key:"username-login",style:{color:t.chatColor||void 0},className:"message-author__intl-login","data-test-selector":"message-username-canonical"}," ("+t.login+")"));var l=this.props.onUsernameClick?"message-author__username--clickable":"message-author__username";return a.createElement("span",{onClick:this.handleUsernameClick,className:l},s)},n}(a.Component)},180592:function(e,n,t){"use strict";t.d(n,{v0:function(){return _},bq:function(){return w}});var i=t(570655),a=t(667294),r=t(14890),o=t(734995),s=t(687837),l=t(831642),d=t(283140),u=t(457087),c=t(233912),m=t(719689),p=t(190109),h=t(879072),f=t(615726),g=t(612172),v=t(663823),y=t(290568),k=t(174673),S=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.banUser=function(){return n.props.banUser()},n.timeoutUser=function(){return n.props.timeoutUser()},n.unbanUser=function(){return n.props.unbanUser()},n.deleteMessage=function(){},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n;return this.props.message.sender&&this.props.message.sender.login?a.createElement(g.GG,{canDelete:!1,isMessageDeleted:!!this.props.message.deletedAt,onBanUser:this.banUser,onDelete:this.deleteMessage,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,renderNewVersion:!1,senderLogin:this.props.message.sender.login,isMessageBanned:!!(null===(n=null===(e=this.props.userBanStatus)||void 0===e?void 0:e.data)||void 0===n?void 0:n.chatRoomBanStatus)||!1}):null},n}(a.Component),C=(0,r.qC)((0,f.Q)((function(e){var n,t,a;return(0,i.__assign)((0,i.__assign)({},e),{targetLogin:null!==(a=null===(t=null===(n=e.message)||void 0===n?void 0:n.sender)||void 0===t?void 0:t.login)&&void 0!==a?a:"",source:v.Ou.QuickModButtons})})),y.Aq,k.t)(S),b=t(763565),w="message-timestamp",E=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={shouldShowDeletedBody:!1},n.showDeleted=function(e){e&&e.preventDefault(),n.setState({shouldShowDeletedBody:!0})},n}return(0,i.__extends)(n,e),n.prototype.shouldComponentUpdate=function(e,n){return e.showModerationIcons!==this.props.showModerationIcons||e.showTimestamps!==this.props.showTimestamps||n.shouldShowDeletedBody!==this.state.shouldShowDeletedBody||e.hasModPermissions!==this.props.hasModPermissions||e.message.deletedAt!==this.props.message.deletedAt||e.theme!==this.props.theme||e.highContrastUsernameColor!==this.props.highContrastUsernameColor||e.isEmoteAnimationsEnabled!==this.props.isEmoteAnimationsEnabled},n.prototype.render=function(){if(!this.props.message.sender||!this.props.message.id)return a.createElement(o.A,{padding:{x:2,y:.5}},(0,l.wv)("unable to properly render message","Message"));var e=this.props.message.sender.displayBadges,n={},t=": ";return this.props.message.content.text.startsWith(b.ZL)&&(n={color:this.props.message.sender.chatColor||void 0},t=" "),a.createElement(o.A,{padding:this.props.padding||{x:2,y:.5}},a.createElement("div",{id:this.props.message.id,className:"message",style:n},this.renderTimestamp(),this.renderModerationIcons(),a.createElement(d.k,{badgeSets:this.props.badgeSets,badgesToRender:e}),a.createElement(h.S3,{highContrastUsernameColor:this.props.highContrastUsernameColor,messageID:this.props.message.id,sender:this.props.message.sender,theme:this.props.theme,onUsernameClick:this.props.onUsernameClick}),a.createElement("span",{key:"separator"},t),this.renderMessageBody()))},n.prototype.renderMessageBody=function(){if(!this.props.message.deletedAt||this.state.shouldShowDeletedBody){var e={forceClipsNetworkRequest:!0,messageAuthorID:this.props.message.sender.id,messageSourceID:this.props.message.id,emoteSourceType:p.Vn.room};return(0,c.kz)((0,b.F2)(this.props.message,this.props.bitsConfig,this.props.currentUserLogin,this.props.isEmoteAnimationsEnabled),e)}var n=(0,l.wv)("message deleted","Message"),t=this.props.hasModPermissions?a.createElement(s.s,{onClick:this.showDeleted,"data-test-selector":"show-deleted"},"<"+n+">"):"<"+n+">";return a.createElement("span",{key:"deleted",className:"message--deleted","data-test-selector":"deleted-message"},t)},n.prototype.renderTimestamp=function(){return this.props.showTimestamps?a.createElement("span",{key:"timestamp",className:"message__timestamp","data-test-selector":w},(0,c.i$)(new Date(this.props.message.sentAt),!0)):null},n.prototype.renderModerationIcons=function(){return this.props.showModerationIcons&&this.props.hasModPermissions&&this.props.channelID&&this.props.message.sender&&this.props.message.sender.id?a.createElement(C,{message:this.props.message,channelID:this.props.channelID,targetID:this.props.message.sender.id,surfaceError:this.props.surfaceError}):null},n}(a.Component);var _=(0,r.qC)((0,u.gc)((function(e){return{bitsConfig:e.bitsConfig}})),(0,m.Im)((function(e){return{isEmoteAnimationsEnabled:e.value}})))(E)},763565:function(e,n,t){"use strict";t.d(n,{ZL:function(){return u},F2:function(){return c},cv:function(){return m},K4:function(){return p},Qb:function(){return h},tv:function(){return f},VK:function(){return g}});var i=t(443753),a=t(491528),r=t(539073),o=t(646628),s=t(137147),l=t(289738),d=t(274178),u="/me ";function c(e,n,t,i){var a=e.content.text.startsWith(u);return p(e.content.fragments,a,t,n||(0,o.c4)(),e.sender&&e.sender.login||void 0,i)}function m(e,n){return p(e.content.fragments,!1,n)}function p(e,n,t,o,c,m){void 0===m&&(m=!0);var p=[];return e.forEach((function(e,h){if(null!==e){var f=e.content||{__typename:"Text"};switch(f.__typename){case"Emote":if(!f.emoteID)return;p.push({type:l.S.Emote,content:{alt:e.text,emoteID:f.emoteID,images:(0,d.u4)(f.emoteID,m)}});break;case"CheermoteToken":if(!o)return;var g=f.prefix,v=f.bitsAmount,y=f.tier,k=o.indexedActions[g],S=k&&k.tiers.find((function(e){return e.bits===y})),C=o.tiers.find((function(e){return e.bits===y}));S?p.push({type:l.S.Emote,content:{alt:g,images:(0,r.q6)(k,y),cheerAmount:v,cheerColor:null==C?void 0:C.color}}):p.push((0,a.H)(e.text));break;case"User":var b=s.K.Default;t&&f.login===t?b=s.K.Recipient:t&&c&&c===t&&(b=s.K.Sender),p.push({type:l.S.Mention,content:{recipient:e.text.slice(1),currentUserMentionRelation:b}});break;case"AutoMod":p.push({type:l.S.ModeratedText,content:e.text});break;default:var w=(0,i.n)(e.text,{parseClips:!0,parseVods:!0});if(w)p=p.concat(w);else{var E=e.text;n&&0===h&&E.startsWith(u)&&(E=E.substr(3)),p.push((0,a.H)(E))}}}})),p}function h(e){return e.map((function(e){var n={text:e.text,content:null,__typename:"RoomMessageFragment"},t=e.cheermote,i=e.emoticon,a=e.mention,r=e.text;return t?n.content={bitsAmount:t.bits_amount,prefix:t.prefix,tier:t.tier,__typename:"CheermoteToken"}:i?n.content={emoteID:i.id,setID:i.set_id,token:r,__typename:"Emote"}:a&&(n.content={id:a.user_id,login:a.login,displayName:a.display_name,__typename:"User"}),n}))}function f(e){return e.map((function(e){return{setID:e.id,version:e.version,__typename:"Badge"}}))}var g=function(e){return e.map((function(e){var n;return e.emoticon?{__typename:"MessageFragment",text:e.text,content:{__typename:"Emote",emoteID:e.emoticon.emoticonID,setID:e.emoticon.emoticonSetID,token:null}}:(null===(n=e.automod)||void 0===n?void 0:n.topics)?{__typename:"MessageFragment",text:e.text,content:{__typename:"AutoMod",topics:Object.entries(e.automod.topics).map((function(e){return{__typename:"AutoModTopic",type:e[0],weight:e[1]}}))}}:{__typename:"MessageFragment",text:e.text,content:null}}))}},268273:function(e,n,t){"use strict";t.d(n,{H:function(){return d}});var i=t(667294),a=t(137703),r=t(776380),o=t(126858),s=t(508995),l=t(797425),d=function(e){var n,t=e.channelID,d=e.onReceiveMessage,u=e.onReceiveOffenderMessage,c=null===(n=(0,a.v9)(l.PR))||void 0===n?void 0:n.id,m=(0,o.P)((0,s.AS)(c||"",t),{skip:!c||!t})[0],p=(0,r.D)(m),h=(0,o.P)((0,s.tU)(c||"",t),{skip:!c||!t})[0],f=(0,r.D)(h);return i.useEffect((function(){m&&m!==p&&d(m);h&&h!==f&&(u&&u(h))}),[m,d,u,p,f,h]),null}},448752:function(e,n,t){"use strict";t.d(n,{G:function(){return s}});var i=t(667294),a=t(106801),r=t(606382),o=t(754245),s=function(e){var n,t,s=(0,a.aM)(o,{variables:{login:e}}).data,l=null!==(t=null===(n=null==s?void 0:s.user)||void 0===n?void 0:n.displayName)&&void 0!==t?t:null;return(0,i.useMemo)((function(){return(0,r.I)(e,l,!0)}),[e,l])}},290568:function(e,n,t){"use strict";t.d(n,{KZ:function(){return v},Aq:function(){return y}});var i=t(570655),a=t(667294),r=t(831642),o=t(106801),s=t(344689),l=t(77966),d=t(663823),u=t(333330),c=t(375140),m=t(679864),p=t(300445),h=t(593517),f=t(944294),g=t(506017),v=function(e){var n=a.useContext(l.aO).page,t=(0,o.Db)(u)[0],v=(0,o.Db)(c)[0],y=e.targetID,k=e.targetLogin,S=e.channelID,C=e.source,b=e.confirmModerationAction,w=e.surfaceError,E=function(e,t){y&&S&&(0,g.j)({actionType:e,channelID:S,targetUserID:y,source:C,duration:t&&"["+t+"]n",page:n})},_=function(e){r.$6.apollo.client.writeQuery({query:m,variables:{channelID:S,targetUserID:y},data:(null==e?void 0:e.banUserFromChatRoom)?{chatRoomBanStatus:e.banUserFromChatRoom.ban,targetUser:{__typename:"User",id:y,login:k}}:{chatRoomBanStatus:null,targetUser:{__typename:"User",id:y,login:k}}})},N=function(e,n){return void 0===e&&(e=""),void 0===n&&(n=""),(0,i.__awaiter)(void 0,void 0,Promise,(function(){var a,o,l,u,c,m,f,g,v,y;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(a=n?(0,r.wv)("Unable to timeout user.","ViewerCardModActions"):(0,r.wv)("Unable to ban user.","ViewerCardModActions"),b&&!b())return null==w||w(a),[2,Promise.reject(a)];o=null,"number"==typeof n?o=(0,p.Wo)(n):"string"==typeof n&&(o=n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t((0,s.k_)({channelID:S,bannedUserLogin:k,expiresIn:o,reason:e}))];case 2:return l=i.sent(),(u=null===(y=null===(v=l.data)||void 0===v?void 0:v.banUserFromChatRoom)||void 0===y?void 0:y.error)?(c=u.minTimeoutDurationSeconds,m=u.maxTimeoutDurationSeconds,null==w||w((0,h.J)({login:k,code:u.code,isTimeout:!!n,minTimeoutDuration:c||void 0,maxTimeoutDuration:m||void 0}))):l.data&&(f=n?d.Dy.TimeoutUser:d.Dy.BanUser,_(l.data),E(f,n&&n.toString()||void 0)),[2,l];case 3:throw g=i.sent(),null==w||w(a),g;case 4:return[2]}}))}))},D=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,a,o,l,u,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(n=e?(0,r.wv)("Unable to untimeout user.","ViewerCardModActions"):(0,r.wv)("Unable to unban user.","ViewerCardModActions"),b&&!b())return null==w||w(n),[2,Promise.reject(n)];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,v((0,s.k_)({channelID:S,bannedUserLogin:k}))];case 2:return t=i.sent(),(a=null===(c=null===(u=t.data)||void 0===u?void 0:u.unbanUserFromChatRoom)||void 0===c?void 0:c.error)?null==w||w((0,f.e)(k,a.code)):t.data&&(o=e?d.Dy.UntimeoutUser:d.Dy.UnbanUser,_(null),E(o)),[2,t];case 3:throw l=i.sent(),null==w||w(n),l;case 4:return[2]}}))}))};return{banUser:function(e){return N(e)},unbanUser:function(){return D()},timeoutUser:function(e,n){return void 0===e&&(e=600),void 0===n&&(n=""),N(n,e)},untimeoutUser:function(){return D(!0)}}};function y(e){return function(n){var t=v((0,i.__assign)({},n));return a.createElement(e,(0,i.__assign)({},n,t))}}},174673:function(e,n,t){"use strict";t.d(n,{U:function(){return g},t:function(){return v}});var i=t(570655),a=t(667294),r=t(137703),o=t(126858),s=t(106801),l=t(906704),d=t(508995),u=t(797425),c=t(679864),m=t(344689),p=function(e,n){return(0,m.rh)(c,{targetUserID:e.data.target_user_id,channelID:n},(function(e){return(0,i.__assign)((0,i.__assign)({},e),{chatRoomBanStatus:null})}))},h=function(e,n){var t,a,r=new Date(Date.now()).toISOString(),o=null!==(a=null===(t=e.data.args)||void 0===t?void 0:t[1])&&void 0!==a?a:"";return(0,m.rh)(c,{targetUserID:e.data.target_user_id,channelID:n},(function(n){return(0,i.__assign)((0,i.__assign)({},n),{chatRoomBanStatus:{__typename:"ChatRoomBanStatus",bannedUser:{__typename:"User",id:e.data.target_user_id,login:e.data.target_user_login,displayName:e.data.target_user_login},createdAt:r,expiresAt:null,isPermanent:!0,reason:o,moderator:{__typename:"User",id:e.data.created_by_user_id,login:e.data.created_by,displayName:e.data.created_by}}})}))},f=function(e,n){var t,a=Number(e.data.args[1]),r=null!==(t=e.data.args[2])&&void 0!==t?t:"",o=new Date(Date.now()).toISOString(),s=isNaN(a)?null:new Date(Date.now()+1e3*a).toISOString();return(0,m.rh)(c,{targetUserID:e.data.target_user_id,channelID:n},(function(n){return(0,i.__assign)((0,i.__assign)({},n),{chatRoomBanStatus:{__typename:"ChatRoomBanStatus",bannedUser:{__typename:"User",id:e.data.target_user_id,login:e.data.target_user_login,displayName:e.data.target_user_login},createdAt:o,expiresAt:s,isPermanent:!1,reason:r,moderator:{__typename:"User",id:e.data.created_by_user_id,login:e.data.created_by,displayName:e.data.created_by}}})}))},g=function(e){var n,t=null===(n=(0,r.v9)(u.PR))||void 0===n?void 0:n.id,i=e.channelID,m=e.targetID,g=(0,s.aM)(c,{variables:{channelID:i,targetUserID:m}}),v=(0,o.P)((0,d.OV)(t||"",e.channelID),{skip:!t||!i||e.skipPubsub,skipMessage:function(e){return e.type!==l.qU.ModerationAction||e.data.target_user_id!==m||!(e.data.moderation_action===l.e0.Ban||e.data.moderation_action===l.e0.Unban||e.data.moderation_action===l.e0.Timeout||e.data.moderation_action===l.e0.Untimeout)}})[0];return a.useEffect((function(){v&&function(e,n){if(e.type===l.qU.ModerationAction)switch((e=e).data.moderation_action){case l.e0.Unban:case l.e0.Untimeout:return p(e,n);case l.e0.Ban:return h(e,n);case l.e0.Timeout:return f(e,n);default:;}}(v,i)}),[i,v]),g};function v(e){return function(n){var t=g((0,i.__assign)({},n));return a.createElement(e,(0,i.__assign)({},n,{userBanStatus:t}))}}},751978:function(e,n,t){"use strict";t.d(n,{c:function(){return a},l:function(){return r}});var i=t(31180),a=function(e){return(0,i.e)(r(e))},r=function(e){return"/moderator/"+e}},287952:function(e,n,t){"use strict";t.d(n,{v:function(){return m}});var i=t(570655),a=t(667294),r=t(734995),o=t(270406),s=t(353488),l=t(382448),d=t(58661),u=t(440837),c=t(831642),m=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return a.createElement(r.A,{padding:1,display:o.sS.Flex,flexDirection:o.Qb.Row,className:"poll-service-error__service-error",justifyContent:o.uM.Between,alignItems:o.g1.Center,position:o.Ly.Relative},a.createElement(r.A,{display:o.sS.Flex,flexDirection:o.Qb.Row},a.createElement(r.A,{className:"poll-service-error__service-error__icon"},a.createElement(s.JO,{asset:l.e.Halt})),a.createElement(r.A,{margin:{left:1},display:o.sS.Flex,flexDirection:o.Qb.Column},a.createElement(d.V,null,this.props.message),this.props.showTryAgain&&a.createElement(d.V,{color:o.Il.Alt2,fontSize:o.Bf.Size6},(0,c.wv)("Try again in a moment.","Polls--PollServiceError")))),a.createElement(r.A,{position:o.Ly.Absolute,attachTop:!0,attachRight:!0,className:"poll-service-error__service-error__close"},a.createElement(u.Ei,{size:u.hp.Small,type:u.c.Secondary,onClick:this.props.onClose,"aria-label":(0,c.wv)("Close","Polls--PollServiceError"),icon:l.e.Close})))},n}(a.Component)},622211:function(e,n,t){"use strict";t.d(n,{_j:function(){return b},C6:function(){return E}});var i=t(570655),a=t(129989),r=t(667294),o=t(14890),s=t(987145),l=t(867284),d=t(906704),u=t(344689),c=t(508995),m=t(884979),p=t(948309),h=t(595339),f=t(302974),g=t(498048),v=t(279971),y=t(680035),k=t(422883),S=(0,m.k)("ChannelPollContext",{viewablePoll:null,selfVoter:null,isUserPollAdmin:!1,bitsBalance:0,topBitsContributor:null,topCommunityPointsContributor:null}),C=S.context,b=S.withContext,w=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.voteInPoll=function(e){return(0,i.__awaiter)(n,void 0,Promise,(function(){var n,t,r,o,s;return(0,i.__generator)(this,(function(l){switch(l.label){case 0:if(!(this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&this.props.data.channel.viewablePoll.ownedBy))return[2,Promise.resolve({data:{voteInPoll:null}})];n=this.props.data.channel.viewablePoll,t=e.variables.input.tokens?e.variables.input.tokens.bits:0,r=t>0,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.props.voteInPoll(e)];case 2:return(o=l.sent()).data.voteInPoll&&!o.data.voteInPoll.error&&(0,u.rh)(y,{login:this.props.channelLogin},(function(s){var l=(0,i.__assign)({},s);if(s.channel&&s.channel.viewablePoll&&s.channel.viewablePoll.self){var d=s.channel.viewablePoll.self.voter;if(l=a(l,(function(e){return e.channel.viewablePoll}),(function(e){var a=e.totalVoters,o={},s={};return d||(a=Math.max(e.totalVoters,n.totalVoters+1)),o.total=Math.max(e.votes.total,n.votes.total+1),r?(o.bits=Math.max(e.votes.bits,n.votes.bits+1),s.bits=Math.max(e.tokens.bits,n.tokens.bits+t)):o.base=Math.max(e.votes.bits,n.votes.bits+1),(0,i.__assign)((0,i.__assign)({},e),{totalVoters:a,votes:(0,i.__assign)((0,i.__assign)({},e.votes),o),tokens:(0,i.__assign)((0,i.__assign)({},e.tokens),s)})})),l=a(l,(function(e){return e.channel.viewablePoll.choices}),(function(a){return a.map((function(a){var o=a.totalVoters,s={},l={};if(a.id===e.variables.input.choiceID){var u=n.choices.find((function(e){return e.id===a.id}))||a;d||o++,s.total=Math.max(a.votes.total,u.votes.total+1),r?(s.bits=Math.max(a.votes.bits,u.votes.bits+1),l.bits=Math.max(a.tokens.bits,u.tokens.bits+t)):s.base=Math.max(a.votes.bits,u.votes.bits+1)}return(0,i.__assign)((0,i.__assign)({},a),{totalVoters:o,votes:(0,i.__assign)((0,i.__assign)({},a.votes),s),tokens:(0,i.__assign)((0,i.__assign)({},a.tokens),l)})}))})),o.data.voteInPoll&&o.data.voteInPoll.voter&&(l=a(l,(function(e){return e.channel.viewablePoll.self.voter}),(function(){return o.data.voteInPoll.voter}))),l.currentUser&&l.currentUser.bitsBalance){var u=l.currentUser.bitsBalance-t;l=a(l,(function(e){return e.currentUser.bitsBalance}),(function(){return u}))}}return l})),[2,Promise.resolve(o)];case 3:return s=l.sent(),[2,Promise.reject(s)];case 4:return[2]}}))}))},n.createPoll=function(){n.props.showModal(v.b,{channelID:n.props.data.channel.id,channelLogin:n.props.channelLogin})},n.terminatePoll=function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var e,n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.props.terminatePoll((0,u.k_)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return e=t.sent(),[2,Promise.resolve(e)];case 2:return n=t.sent(),[2,Promise.reject(n)];case 3:return[2]}}))}))},n.archivePoll=function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var e,n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.props.archivePoll((0,u.k_)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return e=t.sent(),[2,Promise.resolve(e)];case 2:return n=t.sent(),[2,Promise.reject(n)];case 3:return[2]}}))}))},n.getBitsAmount=function(){var e=n.props.data;return e&&e.currentUser&&e.currentUser.bitsBalance?e.currentUser.bitsBalance:0},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=null,n=null;this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(e=this.props.data.channel.viewablePoll,this.props.data.channel.viewablePoll.self&&(n=this.props.data.channel.viewablePoll.self.voter));var t=!(!this.props.user||this.props.user.login!==this.props.channelLogin),i=!!(this.props.user&&this.props.user.roles&&this.props.user.roles.isStaff),a=!1;this.props.data&&this.props.data.channel&&this.props.data.channel.self&&(a=this.props.data.channel.self.isEditor||this.props.data.channel.self.isModerator||i||t);var o={viewablePoll:e,selfVoter:n,isUserPollAdmin:a,bitsBalance:this.getBitsAmount(),topBitsContributor:e&&e.topBitsContributor,topCommunityPointsContributor:e&&e.topCommunityPointsContributor};return this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&!(0,g.EB)(this.props.data.channel.viewablePoll.status)&&(o.terminatePoll=this.terminatePoll,o.voteInPoll=this.voteInPoll),this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(o.archivePoll=this.archivePoll),(this.props.data&&this.props.data.channel&&!this.props.data.channel.viewablePoll||this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(0,g.EB)(this.props.data.channel.viewablePoll.status))&&(o.createPoll=this.createPoll),r.createElement(C.Provider,{value:o},this.props.children)},n}(r.Component),E=(0,o.qC)((0,s.TA)(y,{skip:function(e){return!e.channelLogin||!e.isPollsEnabled},options:function(e){var n;return{variables:{login:null!==(n=e.channelLogin)&&void 0!==n?n:""}}}}),(0,s.TA)(k,{name:"voteInPoll"}),(0,s.TA)(h,{name:"archivePoll"}),(0,s.TA)(f,{name:"terminatePoll"}),(0,l.P)((function(e){return{query:y,variables:{login:e.channelLogin},skip:!(e.data&&e.data.channel&&e.channelLogin&&e.isPollsEnabled),topic:e.data&&e.data.channel?(0,c.TE)(e.data.channel.id):"",types:[d.qU.PollUpdateEvent,d.qU.PollArchivedEvent,d.qU.PollCompletedEvent,d.qU.PollCreatedEvent,d.qU.PollTerminatedEvent,d.qU.PollModeratedEvent],mutator:function(n,t){var r=(0,g.$Z)(n.data.poll),o=(0,g.Rd)(r.status),s=t.channel&&t.channel.viewablePoll&&t.channel.viewablePoll.id===n.data.poll.poll_id;if(!o)return s?a(t,(function(e){return e.channel}),(function(e){return e.viewablePoll=null,e})):t;var l=n.type===d.qU.PollCreatedEvent,u=t.channel&&t.channel.viewablePoll&&t.channel.viewablePoll.id===n.data.poll.poll_id&&t.channel.viewablePoll.votes.total<=r.votes.total;return(l||u)&&(t=a(t,(function(e){return e.channel}),(function(e){return e.viewablePoll=(0,i.__assign)((0,i.__assign)({},e.viewablePoll),r),e}))),l&&(t=e.user?a(t,(function(e){return e.channel.viewablePoll.self}),(function(e){return(0,i.__assign)((0,i.__assign)({__typename:"PollSelfEdge"},e),{voter:null})})):a(t,(function(e){return e.channel.viewablePoll.self}),(function(){return null}))),t}}})),(0,l.P)((function(e){return{query:y,variables:{login:e.channelLogin},type:d.qU.UserBitsBalanceUpdate,skip:!(e.data&&e.data.channel&&e.data.currentUser&&e.data.currentUser.id&&e.channelLogin&&e.isPollsEnabled),topic:e.data&&e.data.currentUser?(0,c.er)(e.data.currentUser.id):"",mutator:function(e,n){return n&&e.message_type===p.c.Balance?(n.currentUser&&e.data&&(n=a(n,(function(e){return e.currentUser.bitsBalance}),(function(){return e.data.balance}))),n):n}}})))(w)},95095:function(e,n,t){"use strict";t.d(n,{s:function(){return i}});var i="poliwag_rollout"},498048:function(e,n,t){"use strict";t.d(n,{A9:function(){return o},cv:function(){return s},vW:function(){return l},Rd:function(){return d},EB:function(){return u},$Z:function(){return c},oe:function(){return p},lI:function(){return h},kf:function(){return g},YL:function(){return v}});var i=t(128416),a=t(831642),r=t(31180);function o(e){return e.sort((function(e,n){return e.votes.total>n.votes.total?-1:e.votes.total<n.votes.total?1:0}))}function s(e){return(0,r.e)("/popout/"+e+"/poll")}function l(e){return document.location.origin+"/popout/"+e+"/poll"}function d(e){return e===i.GZu.ACTIVE||e===i.GZu.COMPLETED||e===i.GZu.TERMINATED}function u(e){return e===i.GZu.COMPLETED||e===i.GZu.TERMINATED||e===i.GZu.ARCHIVED||e===i.GZu.MODERATED}function c(e){var n=null;e.top_bits_contributor&&(n=function(e){return{__typename:"PollTopBitsContributor",bitsAmount:e.bits_contributed,user:{__typename:"User",id:e.user_id,displayName:e.display_name}}}(e.top_bits_contributor));var t,i,a=null;return e.top_channel_points_contributor&&(a={__typename:"PollTopCommunityPointsContributor",communityPointsAmount:(t=e.top_channel_points_contributor).channel_points_contributed,user:{__typename:"User",id:t.user_id,displayName:t.display_name}}),{__typename:"Poll",id:e.poll_id,choices:(i=e.choices,void 0===i?[]:i.map((function(e){return{__typename:"PollChoice",id:e.choice_id,title:e.title,tokens:{__typename:"PollTokenBreakdown",bits:void 0!==e.tokens.bits?e.tokens.bits:0,communityPoints:void 0!==e.tokens.channel_points?e.tokens.channel_points:0,id:e.choice_id},totalVoters:void 0!==e.total_voters?e.total_voters:0,votes:{__typename:"PollVoteBreakdown",total:void 0!==e.votes.total?e.votes.total:0,base:void 0!==e.votes.base?e.votes.base:0,communityPoints:void 0!==e.votes.channel_points?e.votes.channel_points:0,bits:void 0!==e.votes.bits?e.votes.bits:0,id:e.choice_id}}}))),durationSeconds:e.duration_seconds,remainingDurationMilliseconds:e.remaining_duration_milliseconds,ownedBy:{__typename:"User",id:e.owned_by},createdBy:{__typename:"User",id:e.created_by},startedAt:e.started_at,endedAt:e.ended_at,status:e.status,title:e.title,tokens:{__typename:"PollTokenBreakdown",id:e.poll_id,bits:e.tokens.bits,communityPoints:e.tokens.channel_points},votes:{__typename:"PollVoteBreakdown",id:e.poll_id,total:e.votes.total,base:e.votes.base,bits:e.votes.bits,communityPoints:e.votes.channel_points},totalVoters:e.total_voters,settings:{__typename:"PollSettings",id:e.poll_id,multichoice:{__typename:"PollSettingsMultichoice",isEnabled:e.settings.multi_choice.is_enabled},bitsVotes:{__typename:"PollSettingsBitsVotes",isEnabled:e.settings.bits_votes.is_enabled,cost:e.settings.bits_votes.cost},communityPointsVotes:{__typename:"PollSettingsCommunityPointsVotes",isEnabled:e.settings.channel_points_votes.is_enabled,cost:e.settings.channel_points_votes.cost}},topBitsContributor:n,topCommunityPointsContributor:a}}function m(e,n,t){return"pollsVoteAgainDialog__"+t+"_"+e+"_"+(n||"anonymous")}function p(e,n,t){return a.tO.get(m(e,n,t),!0)}function h(e,n,t,i){return a.tO.set(m(e,n,t),i)}function f(e,n){return"isPollDismissed_"+e+"_"+(n||"anonymous")}function g(e,n){return a.tO.get(f(e,n),!1)}function v(e,n,t){a.tO.set(f(e,n),t)}},702738:function(e,n,t){"use strict";t.d(n,{hN:function(){return a},jJ:function(){return r},ny:function(){return i},qk:function(){return o},F0:function(){return s},lS:function(){return l}});var i,a=2e3,r=3e3;function o(){return"https://help.twitch.tv/s/article/subscriber-badge-guide#badgeflair"}function s(e,n){var t=new Map;if(0===e.length)return t;var i=0;if(n)i=parseInt(n.version,10),t=t.set(1,n);else{var o=e.find((function(e){return parseInt(e.version,10)===i}));o&&(t=t.set(1,o))}var s=e.find((function(e){return parseInt(e.version,10)===i+a}));s&&(t=t.set(2,s));var l=e.find((function(e){return parseInt(e.version,10)===i+r}));return l&&(t=t.set(3,l)),t}function l(e){var n=parseInt(e,10);if(isNaN(n))return i.NONE;var t=n%1e3;switch(n){case t:return i.NONE;case t+a:return i.TIER_2;case t+r:return i.TIER_3;default:return i.NONE}}!function(e){e.NONE="NONE",e.TIER_2="TIER_2",e.TIER_3="TIER_3"}(i||(i={}))},965343:function(e,n,t){"use strict";t.d(n,{K:function(){return r},B:function(){return o}});var i=t(951255),a=t(1208);function r(e){return[a.G.Prime,a.G.Custom].includes(e)?null:parseInt(e,10)/1e3}function o(e){var n=e instanceof Date?e:new Date(e);return Math.round((n.getTime()-Date.now())/i.mf)}},155682:function(e,n,t){"use strict";t.d(n,{do:function(){return D},G3:function(){return _},$j:function(){return M},PS:function(){return N}});var i=t(570655),a=t(129989),r=t(667294),o=t(261882),s=t(106801),l=t(326737),d=t(344689),u=t(128416),c=t(884979),m=t(831642),p=t(197043),h=t(306269),f=t(611605),g=t(137703),v=t(126858),y=t(906704),k=t(508995),S=t(797425),C=function(e){var n,t=e.channelID,i=e.onReceiveNewRequest,a=e.onReceiveUpdate,o=null===(n=(0,g.v9)(S.PR))||void 0===n?void 0:n.id,s=(0,v.P)((0,k.vN)(o||"",t),{skip:!o||!t,skipMessage:function(e){return e.type!==y.qU.UnbanRequestCreated&&e.type!==y.qU.UnbanRequestUpdated}})[0],d=(0,l.D)(s);return r.useEffect((function(){if(s&&s!==d)switch(s.type){case y.qU.UnbanRequestCreated:var e=s.data,n={__typename:"UnbanRequest",id:e.id,createdAt:e.created_at,requesterMessage:e.requester_message||null,status:u.vyV.PENDING,requester:{__typename:"User",id:e.requester_id,login:e.requester_login||"",displayName:e.requester_login||"",profileImageURL:e.requester_profile_image||null},resolvedAt:null,resolvedBy:null,resolverMessage:null};return i(n);case y.qU.UnbanRequestUpdated:return a(s);default:return}}),[i,s,d,a,t]),null},b=t(398421),w={requests:[],totalRequestsCount:0,currentUnbanRequest:null,setCurrentUnbanRequest:function(){return null},unreadRequestsCount:0,loading:!1,hasNextPage:!1,errorLoadingRequest:!1,setLastOpenedAt:function(){return null},openUserUnbanRequest:function(){return null},loadMoreRequests:function(){return Promise.resolve()},sortOrder:u.e2t.NEWEST,setSortOrder:function(){return null},selectNextRequest:function(){return null},newRequests:0,showNewRequests:function(){return Promise.resolve()},removeRequests:function(){return null},isEnabled:!0,cooldownMinutes:0},E=(0,c.k)("UnbanRequestsListContext",w),_=E.context,N=E.withContext,D=25,M=function(e){var n,t,c,g,v,y,k,S,w,E,N,M,I,T,P=(0,f.Y)(),R=(0,o.y)("mod-view-unban-requests-last-opened-at"),A=R[0],L=R[1],F=r.useState(u.e2t.NEWEST),U=F[0],x=F[1],O=(0,l.D)(U),B=r.useState(!1),V=B[0],q=B[1],G=(0,s.aM)(b,{skip:!P||!e.isCurrentUserModerator,variables:{channelLogin:e.channelLogin,limit:D,order:U},fetchPolicy:"cache-and-network"}),H=G.data,W=G.loading,z=G.variables,$=G.fetchMore,j=G.refetch,Y=!!(null===(c=null===(t=null===(n=null==H?void 0:H.channel)||void 0===n?void 0:n.unbanRequests)||void 0===t?void 0:t.pageInfo)||void 0===c?void 0:c.hasNextPage),Q=null===(y=null===(v=null===(g=null==H?void 0:H.channel)||void 0===g?void 0:g.unbanRequestsSettings)||void 0===v?void 0:v.isEnabled)||void 0===y||y,J=null!==(w=null===(S=null===(k=null==H?void 0:H.channel)||void 0===k?void 0:k.unbanRequestsSettings)||void 0===S?void 0:S.cooldownMinutes)&&void 0!==w?w:0,K=r.useState(null),X=K[0],Z=K[1],ee=(I=X,{request:T=m.$6.apollo.client.readFragment({fragment:p,id:"UnbanRequest:"+I}),error:!(T||!I)}),ne=ee.request,te=ee.error,ie=r.useMemo((function(){var e,n,t=[];return(null===(n=null===(e=null==H?void 0:H.channel)||void 0===e?void 0:e.unbanRequests)||void 0===n?void 0:n.edges)&&H.channel.unbanRequests.edges.forEach((function(e){var n=e.node;if((null==n?void 0:n.requester)&&(n.status===u.vyV.PENDING||n.id===(null==ne?void 0:ne.id))){var a=(0,i.__assign)({},n);t.push(a)}})),t}),[ne,H]),ae=Y&&null!==(M=null===(N=null===(E=null==H?void 0:H.channel)||void 0===E?void 0:E.unbanRequests)||void 0===N?void 0:N.totalCount)&&void 0!==M?M:ie.length,re=r.useCallback((function(n){var t,r,o,s;if(void 0===n&&(n=D),null===(o=null===(r=null===(t=null==H?void 0:H.channel)||void 0===t?void 0:t.unbanRequests)||void 0===r?void 0:r.pageInfo)||void 0===o?void 0:o.hasNextPage){q(!0);var l=H.channel.unbanRequests.edges,u=(null===(s=null==l?void 0:l[(null==l?void 0:l.length)-1])||void 0===s?void 0:s.cursor)||"";return $({variables:{channelLogin:e.channelLogin,limit:n,cursor:u},updateQuery:function(e,n){var t,r=n.fetchMoreResult;return q(!1),(null===(t=null==r?void 0:r.channel)||void 0===t?void 0:t.unbanRequests)?a(r,(function(e){return e.channel.unbanRequests}),(function(){var n,t,a,o;return(0,i.__assign)((0,i.__assign)({},r.channel.unbanRequests),{edges:(0,d.x4)((null===(t=null===(n=null==e?void 0:e.channel)||void 0===n?void 0:n.unbanRequests)||void 0===t?void 0:t.edges)||[],(null===(o=null===(a=null==r?void 0:r.channel)||void 0===a?void 0:a.unbanRequests)||void 0===o?void 0:o.edges)||[])})})):e}})}return Promise.resolve()}),[H,$,e.channelLogin]),oe=r.useState([]),se=oe[0],le=oe[1],de=r.useMemo((function(){if(!A)return ie.length+se.length;var e=new Date(A);return ie.filter((function(n){return new Date(n.createdAt)>e})).length+se.length}),[A,se.length,ie]),ue=r.useCallback((function(){var e=ne?ie.findIndex((function(e){return e.id===ne.id})):-1;ie.length&&(-1===e?Z(ie[0].id):1===ie.length?Z(null):e===ie.length-1?Z(ie[ie.length-2].id):Z(ie[e+1].id))}),[ne,ie]),ce=r.useState(null),me=ce[0],pe=ce[1],he=(0,s.td)(h,{onError:function(){pe(null),ke(!0)}}),fe=he[0],ge=he[1];r.useEffect((function(){var e,n,t,i,a,r,o=null===(a=null===(i=null===(t=null===(n=null===(e=null==ge?void 0:ge.data)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.unbanRequests)||void 0===t?void 0:t.edges)||void 0===i?void 0:i[0])||void 0===a?void 0:a.node;me&&(null===(r=null==o?void 0:o.requester)||void 0===r?void 0:r.id)===me&&(pe(null),Z(o.id))}),[H,me,ge]);var ve=r.useState(!1),ye=ve[0],ke=ve[1];r.useEffect((function(){ne&&ke(!1)}),[ne]),r.useEffect((function(){O&&O!==U&&(le([]),j())}),[O,j,le,U]);var Se=r.useCallback((function(){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return U===u.e2t.OLDEST&&Y?(le([]),[2,Promise.resolve()]):(function(e,n){(0,d.rh)(b,n,(function(t){var r,o,s,l;if(null==t?void 0:t.channel){var c=(0,i.__spreadArrays)(null!==(s=null===(o=null===(r=t.channel)||void 0===r?void 0:r.unbanRequests)||void 0===o?void 0:o.edges)&&void 0!==s?s:[]),m=e.map((function(e){return{__typename:"UnbanRequestEdge",cursor:"",node:e}})),p=n.order===u.e2t.OLDEST?(0,d.x4)(c,m.reverse()):(0,d.x4)(m,c),h=e.filter((function(e){return e.status===u.vyV.PENDING})).length,f=(null===(l=t.channel.unbanRequests)||void 0===l?void 0:l.totalCount)?t.channel.unbanRequests.totalCount+h:p.length;return t.channel.unbanRequests?a(t,(function(e){return e.channel.unbanRequests}),(function(e){return(0,i.__assign)((0,i.__assign)({},e),{edges:p,totalCount:f})})):(0,i.__assign)((0,i.__assign)({},t),{unbanRequests:{__typename:"UnbanRequestConnection",edges:p,pageInfo:{__typename:"PageInfo",hasNextPage:!1},totalCount:f}})}return t}))}(se,z),le([]),[2,Promise.resolve()])}))}))}),[Y,se,U,z]);r.useEffect((function(){se.length&&!ie.length&&Se().then((function(){le([])}))}),[se.length,ie.length,Se]),r.useEffect((function(){!ie.length&&Y&&re()}),[Y,re,ie.length]);var Ce=!P||W||V||ge.loading;return r.createElement(_.Provider,{value:{requests:ie,totalRequestsCount:ae,hasNextPage:Y,loading:Ce,errorLoadingRequest:ye||te,loadMoreRequests:re,unreadRequestsCount:de,setLastOpenedAt:L,currentUnbanRequest:ne,setCurrentUnbanRequest:Z,openUserUnbanRequest:function(n){var t=ie.find((function(e){var t;return(null===(t=e.requester)||void 0===t?void 0:t.id)===n}));t?Z(t.id):e.channelID&&(pe(n),fe({variables:{channelID:e.channelID,userID:n}}))},sortOrder:U,setSortOrder:x,selectNextRequest:ue,newRequests:se.length,showNewRequests:Se,removeRequests:function(e){!function(e,n){(0,d.rh)(b,n,(function(n){var t,r,o;if(null===(r=null===(t=null==n?void 0:n.channel)||void 0===t?void 0:t.unbanRequests)||void 0===r?void 0:r.edges){var s=n.channel.unbanRequests.edges,l=s.filter((function(n){return n.node&&!e.includes(n.node.id)})),d=s.length-l.length,u=(null!==(o=n.channel.unbanRequests.totalCount)&&void 0!==o?o:s.length)-d;return a(n,(function(e){return e.channel.unbanRequests}),(function(e){return(0,i.__assign)((0,i.__assign)({},e),{edges:l,totalCount:u})}))}return n}))}(e,z)},isEnabled:Q,cooldownMinutes:J}},e.channelID&&r.createElement(C,{channelID:e.channelID,onReceiveNewRequest:function(e){le((function(n){return(0,i.__spreadArrays)([e],n)}))},onReceiveUpdate:function(e){var n=e.data.id;se.find((function(e){return e.id===n}))&&le((function(e){return e.filter((function(e){return e.id!==n}))})),function(e,n){var t=e.data;(0,d.ZP)({fragment:p,fragmentName:"unbanRequestFragment",id:"UnbanRequest:"+t.id,mutator:function(e){var n;return(0,i.__assign)((0,i.__assign)({},e),{status:t.status,resolvedBy:t.resolver_id&&t.resolver_login?{__typename:"User",id:t.resolver_id,login:t.resolver_login,displayName:t.resolver_login}:null,resolvedAt:(new Date).toString(),resolverMessage:null!==(n=t.resolver_message)&&void 0!==n?n:null})}}),t.status!==u.vyV.PENDING&&(0,d.rh)(b,n,(function(e){var n,i;return(null===(i=null===(n=null==e?void 0:e.channel)||void 0===n?void 0:n.unbanRequests)||void 0===i?void 0:i.edges)&&e.channel.unbanRequests.edges.find((function(e){var n;return(null===(n=null==e?void 0:e.node)||void 0===n?void 0:n.id)===t.id}))?a(e,(function(e){return e.channel.unbanRequests.totalCount}),(function(e){return e?e-1:e})):e}))}(e,z)}}),e.children)}},498949:function(e,n,t){"use strict";t.d(n,{SF:function(){return o},ED:function(){return s},RR:function(){return l},Wh:function(){return d}});var i=t(831642),a=1440,r=43800,o=525600,s={minutes:{value:"minutes",getLabel:function(){return(0,i.wv)("Minutes","UnbanRequestsCooldown")},getFormattedString:function(e){return(0,i.wv)("{minutes, plural, one {# minute} other {# minutes}}",{minutes:e},"UnbanRequestsCooldown")},threshold:1},hours:{value:"hours",getLabel:function(){return(0,i.wv)("Hours","UnbanRequestsCooldown")},getFormattedString:function(e){return(0,i.wv)("{hours, plural, one {# hour} other {# hours}}",{hours:Math.round(e/60)},"UnbanRequestsCooldown")},threshold:60},days:{value:"days",getLabel:function(){return(0,i.wv)("Days","UnbanRequestsCooldown")},getFormattedString:function(e){return(0,i.wv)("{days, plural, one {# day} other {# days}}",{days:Math.round(e/a)},"UnbanRequestsCooldown")},threshold:a},months:{value:"months",getLabel:function(){return(0,i.wv)("Months","UnbanRequestsCooldown")},getFormattedString:function(e){return(0,i.wv)("{months, plural, one {# month} other {# months}}",{months:Math.round(e/r)},"UnbanRequestsCooldown")},threshold:r}},l=function(e){return e>=r&&e%r==0?s.months:e>=a&&e%a==0?s.days:e>=60&&e%60==0?s.hours:s.minutes},d=function(e){return l(e).getFormattedString(e)}},585187:function(e,n,t){"use strict";t.d(n,{D:function(){return r},VO:function(){return o},BJ:function(){return s},S4:function(){return l}});var i=t(831642),a=t(128416),r=function(e){switch(e){case a.nDl.INVALID_UPDATE:return(0,i.wv)("This request has already been resolved.","UnbanResolveFormErrorMessage");case a.nDl.REQUEST_NOT_FOUND:return(0,i.wv)("Request not found.","UnbanResolveFormErrorMessage");case a.nDl.UNAUTHORIZED:return(0,i.wv)("You are not authorized to resolve this request.","UnbanResolveFormErrorMessage");case a.nDl.UNKNOWN:default:return(0,i.wv)("Something went wrong while resolving the request. Please try again later.","UnbanResolveFormErrorMessage")}},o=function(e){switch(e){case a.nDl.REQUEST_NOT_FOUND:return(0,i.wv)("Request not found.","CancelUnbanRequestMessage");case a.nDl.UNAUTHORIZED:return(0,i.wv)("You are not authorized to cancel this request.","CancelUnbanRequestMessage");case a.nDl.UNKNOWN:default:return(0,i.wv)("Something went wrong while undoing your unban request.","CancelUnbanRequestMessage")}},s=function(e){switch(e){case a.nDl.INVALID_UPDATE:return(0,i.wv)("Your request has already been acknowledged.","AcknowledgeUnbanRequestError");case a.nDl.REQUEST_NOT_FOUND:return(0,i.wv)("Request not found.","AcknowledgeUnbanRequestError");case a.nDl.UNAUTHORIZED:return(0,i.wv)("You are not authorized to acknowledge this request.","AcknowledgeUnbanRequestError");case a.nDl.UNKNOWN:default:return(0,i.wv)("Something went wrong while acknowledging your unban request. Please try again later.","AcknowledgeUnbanRequestError")}},l=function(e){switch(e){case a.s2I.ALREADY_CREATED:return(0,i.wv)("You have already submitted a request. Moderators will review your previously submitted request.","UnbanFormErrorMessage");case a.s2I.NOT_BANNED:return(0,i.wv)("You are not currently banned from this channel. Refresh the page to rejoin chat.","UnbanFormErrorMessage");case a.s2I.TOO_SOON_SINCE_BAN:return(0,i.wv)("You have to wait a bit to request an unban. Try again soon!","UnbanFormErrorMessage");case a.s2I.UNBAN_REQUESTS_DISABLED:return(0,i.wv)("This channel is not currently accepting unban requests.","UnbanFormErrorMessage");case a.s2I.UNKNOWN:default:return(0,i.wv)("Something went wrong while submitting your request. Please try again later.","UnbanFormErrorMessage")}}},236612:function(e,n,t){"use strict";t.d(n,{_Y:function(){return s},ZL:function(){return l},al:function(){return d},Gb:function(){return u},Wi:function(){return c},qB:function(){return m},vY:function(){return p},Tp:function(){return h},$w:function(){return f},Ps:function(){return g},W7:function(){return v},RC:function(){return y},bE:function(){return k},rO:function(){return S},dH:function(){return C},Ii:function(){return b},aH:function(){return w},j2:function(){return E},fy:function(){return _},Bf:function(){return N},zx:function(){return D},_e:function(){return M},Ed:function(){return I},V8:function(){return T},BD:function(){return P},Vp:function(){return R},oQ:function(){return A},Vl:function(){return L},NQ:function(){return F},KZ:function(){return U},dc:function(){return x},_8:function(){return O}});var i=t(570655),a=t(831642),r="videoChat.is_replay_mode",o="videoChat.hide_timestamps",s="vodChat.comments.DELETED_SUCCESS",l=function(e){return(0,i.__assign)({type:s},e)},d="vodChat.comments.CREATED_SUCCESS",u=function(e){return(0,i.__assign)({type:d},e)},c="vodChat.comments.CREATE_FAILED",m=function(e){return{type:c,createError:e}},p="vodChat.comments.DISPLAY_ERROR",h=function(e){return{type:p,errorMessage:e}},f="vodChat.comments.UPDATED_SUCCESS",g=function(e){return(0,i.__assign)({type:f},e)},v="vodChat.comments.CURSOR_RECEIVED",y=function(e){return(0,i.__assign)({type:v},e)},k="vodChat.comments.OFFSET_RECEIVED",S=function(e){return(0,i.__assign)({type:k},e)},C="vodChat.comments.QUERY_FAILED",b=function(){return{type:C}},w="vodChat.comments.CLEARED",E=function(){return{type:w}},_="vodChat.comments.COOLDOWN_ENDED",N=function(){return{type:_}},D="vodChat.comments.SYNC_ENABLED",M=function(){return{type:D}},I="vodChat.comments.SYNC_DISABLED",T=function(){return{type:I}},P="vodChat.comments.REPLAY_FILTER_CHANGED",R=function(e){return a.tO.set(r,e),{type:P,isReplayFilterOn:e}},A="vodChat.comments.CHAT_REPLAY_ERROR_HIDE",L=function(){return{type:A}},F="vodChat.comments.TIMESTAMP_MODE_CHANGED",U=function(e){return a.tO.set(o,e),{type:F,hideTimestamps:e}},x="vodChat.comments.REQUEST_CHAT_SETTINGS",O=function(){return{type:x,isReplayFilterOn:a.tO.get(r,!1),hideTimestamps:a.tO.get(o,!1)}}},764346:function(e,n,t){"use strict";t.d(n,{Rf:function(){return o},ae:function(){return u},JS:function(){return p},xe:function(){return f},SH:function(){return h},k0:function(){return g},tR:function(){return c},Vs:function(){return m}});var i=t(517563),a=t(754482),r=t(19680);var o="cursor";function s(e){return"/v5/videos/"+e+"/comments"}function l(e){return d(e).toString()+"/replies"}function d(e){return"/v5/videos/comments/"+e}function u(e){var n;n=h(e)?l(e.parentId):s(e.contentId);var t={body:(0,r.W6)(e)};return a._d.post(n,t)}function c(e){try{if(function(e){return"commentID"in e}(e))return function(e){var n={};void 0!==e.cursor&&(n[o]=e.cursor);var t=l(e.commentID)+"?"+i.Pz(n);return a._d.getOrThrow(t).then((function(e){return(0,r.DU)(e.body)}))}(e);var n={};f(e)?n[o]=e.cursor:g(e)&&(n.content_offset_seconds=""+e.offset,void 0!==e.highlightedMessageID&&(n.comment_id=e.highlightedMessageID));var t=s(e.videoID)+"?"+i.Pz(n);return a._d.getOrThrow(t).then((function(n){return(0,r.j0)(n.body,e.bitsConfig)}))}catch(e){return Promise.reject(e)}}function m(e){var n=d(e.comment.id),t={body:{state:e.state}};return a._d.putOrThrow(n,t).then((function(n){return(0,r.XO)(n.body,e.comment)}))}function p(e){var n=d(e.id);return a._d.delete(n)}function h(e){return"parentId"in e}function f(e){return"cursor"in e}function g(e){return"offset"in e}},446784:function(e,n,t){"use strict";t.d(n,{Zv:function(){return i},TA:function(){return a},IA:function(){return r},ES:function(){return o},B8:function(){return s},aL:function(){return l},f$:function(){return d},FF:function(){return u}});var i="video",a="published",r="unpublished",o="pending_review",s="pending_review_spam",l="current",d="",u=function(e){return""!==e.parentId}},442767:function(e,n,t){"use strict";t.d(n,{EB:function(){return f},Jl:function(){return S},tn:function(){return C},YF:function(){return b},uA:function(){return w},Ld:function(){return N},OF:function(){return D},l5:function(){return M},dU:function(){return I},Ey:function(){return T}});var i=t(570655),a=t(831642),r=t(742407),o=t(349946),s=t(236612),l=t(764346),d=t(19680),u=t(930577),c=t(234333),m=t(531917),p=t(623004),h=t(812828);function f(){return{CommenterBannedError:(0,a.wv)("You are banned from sending messages in this channel","routines-comments"),CommentingDisabledError:(0,a.wv)("Sending messages in this channel is disabled","routines-comments"),UserNotVerifiedError:(0,a.wv)("Account email verification required to send a message","routines-comments"),MaxChildCommentsError:(0,a.wv)("The reply limit for this message has been reached","routines-comments"),MessageLikelySpamError:(0,a.wv)("Your message was blocked by the spam filter","routines-comments"),MessageContainsBannedWordsError:(0,a.wv)("Your message wasn't posted due to conflicts with the channel's moderation settings","routines-comments")}}var g=function(e){if(e.includes("FollowersOnlyError"))return function(e){return(0,a.wv)("This room is in {duration} followers-only mode. Follow this channel to join the community",{duration:e},"routines-comments")}(function(e){var n=e.split(" "),t=n[n.length-1].match(/((\d+)h)?(\d+)m(\d+)s/);return Array.isArray(t)?{600:"10 Minutes",1800:"30 Minutes",3600:"1 Hour",86400:"1 Day",604800:"1 Week",2592e3:"1 Month",7776e3:"3 Months"}[60*parseInt(t[2]||"0",10)*60+60*parseInt(t[3],10)+parseInt(t[4],10)]:""}(e));var n=f(),t=Object.keys(n).find((function(n){return e.includes(n)}));return t?n[t]:(0,a.wv)("Unable to send a new message at this time","routines-comments")},v="",y=-1,k=!1,S=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){if(k)return[2,Promise.resolve()];if((0,l.k0)(n)){if(n.offset===y)return[2,Promise.resolve()];y=n.offset}if((0,l.xe)(n)){if(n.cursor===v)return[2,Promise.resolve()];v=n.cursor}return k=!0,[2,(0,l.tR)(n).then((function(t){k=!1,(0,l.k0)(n)&&n.offset===y?e.dispatch((0,s.rO)(t)):e.dispatch((0,s.RC)(t))}),(function(n){k=!1,a.kg.warn("VideoChat: unable to fetch messages",{error:n}),e.dispatch((0,s.Ii)())}))]}))}))},C=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,r,c,m;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,,6]),t=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,l.ae)(n)];case 2:return t=i.sent(),[3,4];case 3:return r=i.sent(),(0,o.un)()?a.kg.warn(C.name):a.kg.errorAndReport(r,C.name),e.dispatch((0,s.qB)(g(""))),[2];case 4:return t.requestError?(a.kg.errorAndReport(t.requestError,C.name),e.dispatch((0,s.qB)(g(""))),[2]):t.error?(a.kg.errorAndReport(new Error(t.error.error),C.name),e.dispatch((0,s.qB)(g(t.error.message))),[2]):void 0===t.body?(e.dispatch((0,s.qB)(g(""))),[2]):(c=(0,d.Dt)(t.body),e.dispatch((0,s.Gb)(c)),e.dispatch((0,u.l)(E,c)),setTimeout((function(){e.dispatch((0,s.Bf)())}),5e3),[3,6]);case 5:return m=i.sent(),a.kg.errorAndReport(m,C.name),e.dispatch((0,s.qB)(g(""))),[3,6];case 6:return[2]}}))}))},b=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,l.JS)(n)];case 1:return i.sent(),e.dispatch((0,s.ZL)({comment:n})),e.dispatch((0,u.l)(_,{comment:n})),[3,3];case 2:return t=i.sent(),(0,o.un)()?a.kg.warn(b.name):a.kg.errorAndReport(t,b.name),[3,3];case 3:return[2]}}))}))},w=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,l.Vs)(n)];case 1:return t=i.sent(),e.dispatch((0,s.Ps)(t)),[3,3];case 2:return r=i.sent(),a.kg.errorAndReport(r,w.name),[3,3];case 3:return[2]}}))}))},E=function(e,n,t,s){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:m,variables:{videoCreatorID:n.comments[0].channelId,videoID:n.comments[0].contentId}})];case 1:return e=i.sent().data,s.track(r.N.ChommentCreated,(0,c.Xf)(n,e)),[3,3];case 2:return l=i.sent(),(0,o.un)()?a.kg.warn(E.name):a.kg.errorAndReport(l,E.name),[3,3];case 3:return[2]}}))}))},_=function(e,n,t,s){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var l,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:p,variables:{videoCreatorID:n.comment.channelId,commentCreator:n.comment.commenter,videoID:n.comment.contentId}})];case 1:return l=i.sent().data,s.track(r.N.ChommentDeleted,(0,c.cA)(n,e.getState(),l)),[3,3];case 2:return d=i.sent(),(0,o.un)()?a.kg.warn(_.name):a.kg.errorAndReport(d,_.name),[3,3];case 3:return[2]}}))}))},N=function(e,n,t,s){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var l,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:h,variables:{videoID:n.comment.contentId}})];case 1:return l=i.sent().data,s.track(r.N.ChommentUIAction,(0,c.GA)(n,e.getState(),l)),[3,3];case 2:return d=i.sent(),(0,o.un)()?a.kg.warn(N.name):a.kg.errorAndReport(d,N.name),[3,3];case 3:return[2]}}))}))},D=function(e,n,t,s){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var l,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:p,variables:{videoCreatorID:n.channelId,commentCreator:n.commenter,videoID:n.contentId}})];case 1:return l=i.sent().data,s.track(r.N.ChommentUIAction,(0,c.q1)(n,e.getState(),l)),[3,3];case 2:return d=i.sent(),(0,o.un)()?a.kg.warn(D.name):a.kg.errorAndReport(d,D.name),[3,3];case 3:return[2]}}))}))},M=function(e,n,t,s){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var d,u,m,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),d=e.getState(),u=(0,l.SH)(n)?d.vodChat.comments.comments.parentComments[n.parentId].contentId:n.contentId,[4,t.query({query:h,variables:{videoID:u}})];case 1:return m=i.sent().data,s.track(r.N.ChommentUIAction,(0,c.g8)(n,e.getState(),m)),[3,3];case 2:return p=i.sent(),(0,o.un)()?a.kg.warn(M.name):a.kg.errorAndReport(p,M.name),[3,3];case 3:return[2]}}))}))},I=function(e,n,t,s){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var l,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:h,variables:{videoID:n.comment.contentId}})];case 1:return l=i.sent().data,s.track(r.N.ChommentUIAction,(0,c.dM)(n,e.getState(),l)),[3,3];case 2:return d=i.sent(),(0,o.un)()?a.kg.warn(I.name):a.kg.errorAndReport(d,I.name),[3,3];case 3:return[2]}}))}))},T=function(e,n,t,o){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var s,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:m,variables:{videoCreatorID:n.channelId,videoID:n.contentId}})];case 1:return s=i.sent().data,o.track(r.N.ChommentUIAction,(0,c.EM)(n,e.getState(),s)),[3,3];case 2:return l=i.sent(),a.kg.errorAndReport(l,T.name),[3,3];case 3:return[2]}}))}))}},19680:function(e,n,t){"use strict";t.d(n,{Nt:function(){return v},UC:function(){return u},Dt:function(){return m},j0:function(){return h},DU:function(){return f},XO:function(){return p},W6:function(){return c}});var i=t(570655),a=t(646628),r=t(764346),o=t(446784),s=t(274178),l=function(e,n,t){var i=e.bits_spent,a=e.body,r=e.emoticons,o=e.is_action,l=e.user_color,d=e.user_notice_params,u=function(e){void 0===e&&(e=[]);return e.reduce((function(e,n){return e[n.begin]={id:n._id,startIndex:n.begin},e}),{})}(r);return{id:"1",isAction:o,tokens:(0,s.vO)(a,u,i||0,t,n),userColor:l||(0,s.GW)(n),userNoticeParams:d||void 0}};var d=t(742253),u="comment";function c(e){return(0,r.SH)(e)?{message:e.message,parent_id:e.parentId}:{content_id:e.contentId,content_offset_seconds:e.contentOffsetSeconds,content_type:e.contentType,message:e.message}}var m=function(e){return{comments:[v.normalizeRecord(e,a.Nv)],users:[d.D.normalizeRecord(e.commenter)]}},p=function(e,n){var t=(0,i.__assign)((0,i.__assign)({},e),{more_replies:n.moreReplies});return{comments:[v.normalizeRecord(t,a.Nv)],users:[d.D.normalizeRecord(e.commenter)]}},h=function(e,n){var t=e.comments.map((function(e){return d.D.normalizeRecord(e.commenter)})),i={past:o.f$,future:o.f$};return void 0!==e._next&&(i.future=e._next),void 0!==e._prev&&(i.past=e._prev),{comments:e.comments.reduce((function(e,i){return i.replies&&i.replies.map((function(e){t.push(d.D.normalizeRecord(e.commenter))})),e.concat(v.normalizeRecords(i,n))}),[]),cursor:i,users:t}},f=function(e){var n=e.comments.map((function(e){return d.D.normalizeRecord(e.commenter)}));return{comments:e.comments.map((function(e){return v.normalizeRecord(e,a.Nv)})),cursor:{future:e._next||o.f$},users:n}};function g(e){return e.reduce((function(e,n){return e[n._id]=n.version,e}),{})}var v={normalizeRecords:function(e,n){var t=[v.normalizeRecord(e,n)];return Array.isArray(e.replies)&&e.replies.forEach((function(e){t.push(y.normalizeRecord(e,n))})),t},normalizeRecord:function(e,n){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:l(e.message,e.commenter._id,n),moreReplies:e.more_replies||!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:g(e.message.user_badges||[])}}},y={normalizeRecord:function(e,n){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:l(e.message,e.commenter._id,n),moreReplies:!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:g(e.message.user_badges||[])}}}},742253:function(e,n,t){"use strict";t.d(n,{D:function(){return r}});var i=function(e){this.bio=e.bio,this.createdAt=e.createdAt,this.displayName=e.displayName,this.id=e.id,this.logo=e.logo,this.name=e.name,this.type=e.type,this.updatedAt=e.updatedAt},a=t(461287),r={normalizeRecord:function(e){return new i({id:e._id,name:e.name,logo:new URL(e.logo||a.yG),bio:e.bio,createdAt:new Date(e.created_at),displayName:e.display_name,type:e.type,updatedAt:new Date(e.updated_at)})},serializeRecord:function(e){return{_id:e.id,name:e.name,logo:e.logo.toString(),bio:e.bio,created_at:e.createdAt.toISOString(),display_name:e.displayName,type:e.type,updated_at:e.updatedAt.toISOString()}}}},461287:function(e,n,t){"use strict";t.d(n,{yG:function(){return r},wn:function(){return o},SY:function(){return s}});var i="https://static-cdn.jtvnw.net",a=i+"/emoticons/v1/",r="https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_150x150.png",o=function(e){return""+a+e+"/1.0"},s=function(e){return""+a+e+"/2.0 2x"}},930577:function(e,n,t){"use strict";t.d(n,{b:function(){return a},l:function(){return r}});var i=t(831642);function a(e,n){return function(t,a){e({dispatch:t,getState:a},n,i.$6.apollo.client)}}function r(e,n){return function(t,a){e({dispatch:t,getState:a},n,i.$6.apollo.client,i.UO)}}},234333:function(e,n,t){"use strict";t.d(n,{CI:function(){return h},zQ:function(){return f},wN:function(){return g},vJ:function(){return v},qo:function(){return k},$r:function(){return S},Xf:function(){return C},cA:function(){return b},GA:function(){return w},q1:function(){return E},g8:function(){return _},dM:function(){return N},EM:function(){return D}});var i=t(570655),a=t(831642),r=t(548225),o=t(349553),s=t(742407),l=t(349946),d=t(991810),u=t(764346),c=t(446784),m=t(68689),p=t(60112),h="replay_mode",f="timestamp_mode",g="on",v="off",y="frontend",k=function(e){a.UO.track(s.N.VideoChatSettingChanged,e)},S=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,u,c,h;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.$6.apollo.client.query({query:p,variables:{videoCreatorID:e.channelId,videoID:e.contentId}})];case 1:return t=i.sent().data,u={channel:t.video.owner.login,channel_id:Number(e.channelId),game:t.video.game?t.video.game.name:null,location:"vod",share_platform:m.zS.Link,share_context:o.Pu.Chomment,shared_item_id:(0,r.gi)(e.contentId),shared_item_type:(0,d.W)(t.video.broadcastType),shared_item_url:n.toString(),partner:t.video.owner.roles.isPartner,source_item_id:e.id,source_item_type:o.df.Chomment},c=M(e,t,m.zS.Link),a.UO.track(s.N.ChommentUIAction,c),a.UO.track(s.N.ShareItem,u),[3,3];case 2:return h=i.sent(),(0,l.un)()?a.kg.warn(h.toString(),S.name):a.kg.errorAndReport(h.toString(),S.name),[3,3];case 3:return[2]}}))}))},C=function(e,n){var t=e.users[0],i=e.comments[0];return{channel:n.user.login,channel_id:Number(i.channelId),comment_id:i.id,comment_state:i.state,event_source:y,game:n.video.game?n.video.game.name:null,login:t.name,play_session_id:a.UO.getVideoPlayerTrackingData().playSessionID,reply_to_comment_id:(0,c.FF)(i)?i.parentId:null,user_id:Number(t.id),vod_id:Number(i.contentId),vod_title:n.video.title,vod_ts:i.contentOffset,vod_type:(0,d.W)(n.video.broadcastType)}},b=function(e,n,t){return{author_id:Number(e.comment.commenter),author_login:t.users[1].login,channel:t.users[0].login,channel_id:Number(e.comment.channelId),comment_id:e.comment.id,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user.login,user_id:Number(n.session.user.id),vod_id:Number(e.comment.contentId),vod_title:t.video.title,vod_type:(0,d.W)(t.video.broadcastType),vod_ts:e.comment.contentOffset}},w=function(e,n,t){return{action:"ban_user",author_id:Number(e.bannedUser),channel_id:Number(e.targetChannel),event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user.login,target_user_id:Number(e.bannedUser),user_id:Number(n.session.user.id),vod_id:Number(t.video.id),vod_title:t.video.title,vod_type:(0,d.W)(t.video.broadcastType),vod_ts:e.comment.contentOffset}},E=function(e,n,t){return{action:"delete",author_id:Number(e.commenter),author_login:t.users[1].login,channel:t.users[0].login,channel_id:Number(e.channelId),comment_id:e.id,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user.login,reply_to_comment_id:e.parentId?e.parentId:null,user_id:Number(n.session.user.id),vod_id:Number(e.contentId),vod_title:t.video.title,vod_type:(0,d.W)(t.video.broadcastType),vod_ts:e.contentOffset}},_=function(e,n,t){var i=null,a=Object.keys(n.vodChat.comments.comments.parentComments);if(a.length>0){var r=a[0];i=n.vodChat.comments.comments.parentComments[r].channelId}return{action:"create",channel_id:i?Number(i):null,comment_body:e.message,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user?n.session.user.login:null,reply_to_comment_id:(0,u.SH)(e)?e.parentId:null,user_id:n.session.user?Number(n.session.user.id):null,vod_id:Number(t.video.id),vod_title:t.video.title,vod_ts:(0,u.SH)(e)?null:Number(e.contentOffsetSeconds),vod_type:(0,d.W)(t.video.broadcastType)}},N=function(e,n,t){var i=e.comment.id,a=e.comment.channelId;return{action:e.state===c.TA?"publish":"unpublish",channel_id:Number(a),comment_id:i,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user.login,user_id:Number(n.session.user.id),vod_id:Number(t.video.id),vod_title:t.video.title,vod_ts:e.comment.contentOffset,vod_type:(0,d.W)(t.video.broadcastType)}},D=function(e,n,t){return{action:"sync_vod_to_time",author_id:Number(e.commenter),channel:t.user.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user?n.session.user.login:null,user_id:n.session.user?Number(n.session.user.id):null,vod_id:Number(e.contentId),vod_title:t.video.title,vod_ts:e.contentOffset,vod_type:(0,d.W)(t.video.broadcastType)}},M=function(e,n,t){return{action:"share",author_id:Number(e.commenter),channel:n.video.owner.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:y,game:n.video.game?n.video.game.name:null,login:n.currentUser?n.currentUser.login:null,user_id:n.currentUser?Number(n.currentUser.id):null,vod_id:Number(e.contentId),vod_title:n.video.title,vod_ts:e.contentOffset,vod_type:(0,d.W)(n.video.broadcastType),share_platform:t}}},622212:function(e,n,t){"use strict";var i;t.d(n,{E:function(){return i}}),function(e){e.PlayerInit="init",e.ContentShowing="contentShowing",e.PlaybackStatistics="playbackStatistics",e.ChansubRequired="chansubRequired",e.VideoFailure="videoFailure",e.Formats="videoFormats",e.ABSStreamFormatChange="abs_stream_format_change",e.FormatChanged="videoFormatChanged",e.TimeChange="timeChange",e.BufferChange="bufferChange",e.SegmentChange="segmentchange",e.UsherFailError="usherFail",e.CaptionUpdate="captions",e.SeekFailed="seekfailed",e.VariantSwitchRequest="variantSwitchRequested",e.ViewersChange="viewerschange",e.StreamLoaded="streamLoaded",e.VideoLoaded="videoLoaded",e.VideoPaused="videoPaused",e.QualityChange="qualitychange",e.Online="online",e.Offline="offline",e.Restricted="restricted",e.CastingChange="castingchange",e.TheatreChange="theatrechange",e.MidrollRequested="midrollrequested",e.ManifestExtraInfo="manifestExtraInfo",e.TransitionToCollectionVOD="transitionToCollectionVod",e.TransitionToRecommendedVOD="transitionToRecommendedVod",e.StitchedAdStart="stitchedadstart",e.StitchedAdEnd="stitchedadend",e.PersistenPlayerToggle="persistentPlayerEnableToggle",e.StatsUpdate="statsupdate",e.PromptLoginModal="prompt login modal",e.OpenStream="openStream",e.PlayerReady="ready",e.FullscreenChange="fullscreenchange",e.ExternalFullscreenChange="externalfullscreenchange",e.ClipsModerationOpen="clips-moderation-open",e.FocusPlayer="focusPlayer",e.FollowChannel="followChannel",e.UnfollowChannel="unfollowChannel",e.ContentRestricted="contentRestricted",e.SubscribeToChannel="subscribeChannel",e.OpenSubscriptionCheckout="subscriptionCheckout",e.PrimeSubscribeToChannel="primeSubscribeChannel",e.RemoveStream="removeStream",e.EnterMultiview="enterMultiview",e.PlaybackError="playbackerror"}(i||(i={}))},673271:function(e,n,t){"use strict";t.d(n,{dA:function(){return r},pt:function(){return o}});var i=t(548225),a=t(128416);function r(e){switch(e.toUpperCase()){case a.NfQ.VIEWS:return a.NfQ.VIEWS;case a.NfQ.TIME:return a.NfQ.TIME;default:return null}}function o(e){switch(e){case i.EU.Newest:return a.NfQ.TIME;case i.EU.Popular:return a.NfQ.VIEWS;default:return e}}},680300:function(e,n,t){"use strict";t.r(n),t.d(n,{ChatLive:function(){return re},ChatLiveComponent:function(){return ae}});var i=t(667294),a=t(14890),r=t(347820),o=t(734995),s=t(270406),l=t(152087),d=t(974513),u=t(154412),c=t(961550),m=t(997195),p=t(663823),h=t(570655),f=t(294184),g=t(137703),v=t(363349),y=t(831642),k=t(296153),S=t(987145),C=t(270961),b=t(906704),w=t(508995),E=t(560772),_=t(742407),N=t(910902),D=t(884341);function M(e){var n=R(e),t=(0,h.__assign)((0,h.__assign)({},n),{self_destruct:e.selfDestruct});y.UO.trackPlayerEvent(_.N.PictureByPictureDespawn,t)}function I(e){var n=R(e);y.UO.trackPlayerEvent(_.N.PictureByPicturePlaying,n)}function T(e){var n=R(e);y.UO.trackPlayerEvent(_.N.PictureByPictureSpawn,n)}function P(e){var n=R(e);y.UO.trackPlayerEvent(_.N.PictureByPictureVisible,n)}function R(e){return{channel_id:e.channelId,commercial_id:e.commercialId,player_volume:e.playerVolume,player_mute:e.playerMute,on_channel_page:e.onChannelPage,device_id:e.deviceId,dom_node:e.domNode,pbyp_visible:e.pbypVisible,main_play_session_id:e.mainPlayerSessionId,pbyp_play_session_id:e.pbypPlayerSessionId,main_player_broadcaster_latency:e.mainPlayerBroadcasterLatency,pbyp_player_broadcaster_latency:e.pbypPlayerBroadcasterLatency,stitched:e.stitched,player_size_mode:e.playerSizeMode}}var A=t(306185),L=t(490820),F=t(658007),U=t(177841),x=t(416333),O=t(687036),B=t(255687);function V(){return i.createElement(o.A,{position:s.Ly.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,justifyContent:s.uM.Center,alignItems:s.g1.Center,display:s.sS.Flex,fullWidth:!0,fullHeight:!0,background:s.Aq.Overlay},i.createElement(B.T,null))}function q(){return i.createElement(o.A,{fullWidth:!0,fullHeight:!0,background:s.Aq.Overlay})}var G=function(e){var n=e.status,t=null;switch(void 0===n?N.fq.Playing:n){case N.fq.Playing:t=null;break;case N.fq.Paused:t=i.createElement(q,null);break;case N.fq.Loading:t=i.createElement(V,null);break;default:t=null}return t?i.createElement(O.T,null,i.createElement(o.A,{position:s.Ly.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,fullWidth:!0,fullHeight:!0,zIndex:s.KN.Default},t)):null};function H(e){if(e.user)return e.user.stream&&e.user.stream.game&&e.user.stream.game.name}function W(e){var n=e.weighted_buckets,t=Math.random(),i=-1;return n&&n.length>0&&(i=function(e,n){for(var t=0,i=0;i<n.length;i++)if((t+=n[i])>=e)return i;return-1}(t,n)),i>=0?Math.floor(1e3*(i+Math.random())):(y.kg.debug("weighted_buckets unavailable, opting for legacy jitter"),function(e){var n=e.jitter_time,t=e.jitter_buckets;return Math.floor(Math.random()*t)*(n/t)}(e))}var z,$,j=t(226976),Y=t(517563),Q=t(863480),J=t(260116),K=t(456238),X=t(441784),Z=function(e,n){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){return(0,h.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,X.a)(e,n)];case 1:return[2,t.sent()]}}))}))},ee=function(e,n){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var t,i,a,r;return(0,h.__generator)(this,(function(o){switch(o.label){case 0:return t=performance.now(),[4,Z(e,n)];case 1:return i=o.sent(),a=Math.round(performance.now()-t),i?(r=function(e,n){var t=(0,J.h)(window.navigator.userAgent),i={allow_source:!0};return i.fast_bread=!!e||void 0,i.playlist_include_framerate=!0,i.reassignments_supported=!0,i.sig=n.sig,i.token=n.token,i.player_backend="mediaplayer",i.p=Math.floor(9999999*Math.random()),(0,Q.t)("twilight_device_type")&&(i.dt=t,1===t&&(i.bndl=(0,J.Z)(window.navigator.userAgent)),3===t&&(i.app=K.yV,i.os="tvos")),Y.Pz(i)}(!0,i),[2,{src:"https://usher.ttvnw.net/api/channel/hls/"+e.toLowerCase()+".m3u8?"+r,accessTokenLoadTime:a}]):[2,{accessTokenLoadTime:a}]}}))}))},ne=function(e,n,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){return(0,h.__generator)(this,(function(i){switch(n){case l.z.LIVE:return[2,ee(e,t)];default:return[2]}return[2]}))}))};!function(e){e.PlayerContainer="picture-by-picture-player-container",e.PlayerBackground="picture-by-picture-player-background"}($||($={}));var te=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={shouldShow:n.props.isShowing,playerStatus:n.props.status},n.playSessionId=null,n.hasRestrictedContent=n.props.isRestricted,n.logger=y.kg.withCategory(U.G.PictureByPicture),n.loadMediaPlayerInstance=function(e){return(0,h.__awaiter)(n,void 0,void 0,(function(){var n,t,i,a,r,o=this;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),n=this.props.contentType,""===e||n!==l.z.LIVE?[3,3]:[4,(0,x.N)()];case 1:return t=s.sent(),i=t.mediaPlayerInstance,t.playerLoadTimePromise.then((function(e){o.playerCoreLoadTime=e})),a=this,[4,ne(e,n,U.G.PictureByPicture)];case 2:a.usherSrc=s.sent(),this.usherSrc&&this.usherSrc.src&&(i.load(this.usherSrc.src),this.setupPlayer(i),this.setDestroyTimer()),s.label=3;case 3:return[3,5];case 4:return r=s.sent(),this.logger.errorAndReport(r,"Media player failed to load"),[3,5];case 5:return[2]}}))}))},n.onPlayerAnalytics=function(e){var t=e.properties,i=(0,h.__assign)((0,h.__assign)({},t),{channel:n.props.channelLogin,channel_id:n.props.channelId,game:H(n.props.gameData),play_session_id:n.playSessionId,player:U.G.PictureByPicture,vod_type:void 0});e.name===_.N.VideoTrackingVideoPlay&&(i.time_for_player_core_load=n.playerCoreLoadTime,i.time_for_token_load=n.usherSrc&&n.usherSrc.accessTokenLoadTime),y.UO.trackPlayerEvent(e.name,i)},n.shouldShowPlayer=function(){return""!==n.props.channelLogin&&n.props.contentType===l.z.LIVE&&!n.props.isRestricted},n.onPlayerReady=function(){n.logger.debug("PbyP Player Ready"),n.selectDefaultLowQuality(),n.props.setReady(!0),T(n.getPlayerTrackingInfo())},n.onPlayerPlaying=function(){n.logger.debug("PbyP Player Playing"),n.setState({playerStatus:N.fq.Playing}),I(n.getPlayerTrackingInfo())},n.onPlayerPlay=function(){(n.logger.debug("PbyP player triggered play"),n.mediaPlayerInstance)&&(n.mediaPlayerInstance.getState()===L.f.IDLE&&(n.logger.debug("PbyP player detected to be IDLE so triggering mediaplayer play"),n.mediaPlayerInstance.play()))},n.onPlayerPause=function(){if(n.logger.debug("PbyP player triggered pause"),n.mediaPlayerInstance){var e=n.mediaPlayerInstance.getState();e!==L.f.IDLE&&e!==L.f.ENDED&&(n.logger.debug("PbyP player is not IDLE or ENDED so mediaplayer pause"),n.mediaPlayerInstance.pause(),n.setState({playerStatus:N.fq.Paused}))}},n.onPlayerLoading=function(){(n.logger.debug("PbyP player is buffering/loading"),n.mediaPlayerInstance)&&(n.mediaPlayerInstance.getState()===L.f.BUFFERING&&n.setState({playerStatus:N.fq.Loading}))},n.selectDefaultLowQuality=function(){if(n.mediaPlayerInstance){var e=n.mediaPlayerInstance.getQualities().find((function(e){return e.group.includes(A.aV.Low)}));e&&(n.logger.debug("PbyP player selected quality "+e.name),n.mediaPlayerInstance.setQuality(e))}},n.showPbyPPlayer=function(){n.logger.debug("showing PbyP player assuming mediaPlayer is available"),n.mediaPlayerInstance&&(n.setState({shouldShow:!0}),P(n.getPlayerTrackingInfo()))},n.hidePbyPPlayer=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),e&&n.setState({shouldShow:!1}),t&&n.destroyPlayer()},n.destroyPlayer=function(e){if(void 0===e&&(e=!1),n.jitterTimeoutID&&clearTimeout(n.jitterTimeoutID),n.props.setReady(!1),n.mediaPlayerInstance){var t=1e3*n.mediaPlayerInstance.getLiveLatency();setTimeout((function(){n.mediaPlayerInstance&&(n.logger.debug("Destroying player called"),M((0,h.__assign)((0,h.__assign)({},n.getPlayerTrackingInfo()),{selfDestruct:e})),n.mediaPlayerInstance.removeEventListener(L.f.READY,n.onPlayerReady),n.mediaPlayerInstance.removeEventListener(L.f.PLAYING,n.onPlayerPlaying),n.mediaPlayerInstance.removeEventListener(L.f.BUFFERING,n.onPlayerLoading),n.mediaPlayerInstance.removeEventListener(F.s.ANALYTICS_EVENT,n.onPlayerAnalytics),n.mediaPlayerInstance.delete(),n.mediaPlayerInstance=null,n.playSessionId=null)}),1e3+t)}},n.getMainPlayerDisplayMode=function(){return n.props.fullscreen.element()?"fullscreen":n.props.theatreModeEnabled?"theatre mode":"default"},n.attachRef=function(e){if(n.mediaPlayerInstance&&e){var t=n.mediaPlayerInstance.getHTMLVideoElement();n.playSessionId=(0,E._f)(),t.setAttribute("id",n.playSessionId),t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""),t.setAttribute("oncontextmenu","return false;"),e.appendChild(t)}},n}return(0,h.__extends)(n,e),n.prototype.componentDidUpdate=function(e,n){var t=this;this.props.channelLogin!==e.channelLogin&&this.props.onChannelChange();var i=this.props.contentType===l.z.LIVE,a=!!this.mediaPlayerInstance;if(e.status!==this.props.status&&(this.props.status===N.fq.Playing?this.onPlayerPlay():this.props.status===N.fq.Paused?this.onPlayerPause():this.props.status===N.fq.Unavailable&&this.hidePbyPPlayer(n.shouldShow||this.state.shouldShow,!0)),e.isShowing===this.props.isShowing)if(i){var r=this.props.pubsub.messages&&this.props.pubsub.messages.adsMidrollRequestMessage&&this.props.pubsub.messages.adsMidrollRequestMessage.data,o=e.pubsub.messages&&e.pubsub.messages.adsMidrollRequestMessage&&e.pubsub.messages.adsMidrollRequestMessage.data,s=!o||r&&r.commercial_id!==o.commercial_id,d=e.preflight,u=this.props.preflight;if((!d||u&&u.commercialId!==d.commercialId)&&u&&(s=!0,r={jitter_time:u.jitterTime,jitter_buckets:u.jitterBuckets,warmup_time:u.warmupTime,commercial_id:u.commercialId,weighted_buckets:u.weightedBuckets}),!a&&r&&s){this.logger.debug("Pubsub payload detected and processing "+JSON.stringify(r));var c=W(r),m=this.props.getMainPlayerMetadata(),p=m.latencyToBroadcaster?m.latencyToBroadcaster:0;this.logger.debug("Delaying load of mediaPlayer by "+(c+p)),this.jitterTimeoutID=setTimeout((function(){t.loadMediaPlayerInstance(t.props.channelLogin)}),c+p)}}else this.hidePbyPPlayer(n.shouldShow||this.state.shouldShow,!0);else this.props.isShowing&&this.shouldShowPlayer()?(this.destroyTimeoutID&&clearTimeout(this.destroyTimeoutID),this.showPbyPPlayer()):this.props.isShowing||this.hidePbyPPlayer(this.state.shouldShow,!0)},n.prototype.componentWillUnmount=function(){this.logger.debug("pbyp player unmounting"),this.hidePbyPPlayer(this.state.shouldShow,!0)},n.prototype.render=function(){return this.mediaPlayerInstance?i.createElement(o.A,{display:s.sS.Flex,justifyContent:s.uM.Center,className:"picture-by-picture-player--background","data-test-selector":$.PlayerBackground},i.createElement(o.A,{className:f("picture-by-picture-player",{"picture-by-picture-player--collapsed":!this.state.shouldShow}),flexGrow:0,flexShrink:0,alignItems:s.g1.Center,display:s.sS.Flex,flexWrap:s.gP.Wrap,fullWidth:!0,justifyContent:s.uM.Center,"data-test-selector":$.PlayerContainer},i.createElement(v.GO,{ratio:v.oM.Aspect16x9},this.state.playerStatus!==N.fq.Playing&&i.createElement(G,{status:this.state.playerStatus}),i.createElement("div",{className:"pbyp-player-instance",ref:this.attachRef})))):null},n.prototype.setupPlayer=function(e){this.logger.debug("setupPlayer called"),this.mediaPlayerInstance=e,this.mediaPlayerInstance.setPlayerType(U.G.PictureByPicture),this.mediaPlayerInstance.setMuted(!0),this.mediaPlayerInstance.addEventListener(L.f.READY,this.onPlayerReady),this.mediaPlayerInstance.addEventListener(L.f.PLAYING,this.onPlayerPlaying),this.mediaPlayerInstance.addEventListener(L.f.BUFFERING,this.onPlayerLoading),this.mediaPlayerInstance.addEventListener(F.s.ANALYTICS_EVENT,this.onPlayerAnalytics),this.mediaPlayerInstance.play()},n.prototype.setDestroyTimer=function(){var e=this,n=this.props.pubsub.messages&&this.props.pubsub.messages.adsMidrollRequestMessage&&this.props.pubsub.messages.adsMidrollRequestMessage.data&&this.props.pubsub.messages.adsMidrollRequestMessage.data.warmup_time;if(n){var t=2*n+3e4;this.logger.debug("Setting destroyTimer with a delay of "+t),this.destroyTimeoutID=setTimeout((function(){e.destroyPlayer(!0)}),t)}},n.prototype.getPlayerTrackingInfo=function(){if(this.mediaPlayerInstance){var e=window.location.pathname.toLowerCase().includes(this.props.channelLogin),n="";if(this.playSessionId){var t=document.getElementById(this.playSessionId);t&&(n=JSON.stringify(t.parentElement,["id","className","tagName"]))}var i=this.props.pubsub.messages&&this.props.pubsub.messages.adsMidrollRequestMessage&&this.props.pubsub.messages.adsMidrollRequestMessage.data&&this.props.pubsub.messages.adsMidrollRequestMessage.data.commercial_id||"",a=this.props.getMainPlayerMetadata();return{channelId:this.props.channelId,commercialId:i,playerVolume:this.mediaPlayerInstance.getVolume(),playerMute:this.mediaPlayerInstance.isMuted(),onChannelPage:e,deviceId:y.$6.session.deviceID,domNode:n,pbypVisible:this.props.isShowing,mainPlayerSessionId:a.playSessionId,mainPlayerBroadcasterLatency:a.latencyToBroadcaster,pbypPlayerSessionId:this.playSessionId||"",pbypPlayerBroadcasterLatency:1e3*this.mediaPlayerInstance.getLiveLatency(),stitched:this.props.isStitched,playerSizeMode:this.getMainPlayerDisplayMode()}}return{}},n}(i.Component);var ie=(0,a.qC)((0,g.$j)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,C.k)([{topic:function(e){return(0,w.ts)(e.channelId)},skip:function(e){return""===e.channelId},mapMessageTypesToProps:(z={},z[b.qU.AdsMidrollRequest]="adsMidrollRequestMessage",z)}]),(0,S.TA)(j,{name:"gameData",options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),(0,D.Vr)((function(e){return{isRestricted:e.isRestricted,isShowing:e.isShowing,isStitched:e.isStitched,onChannelChange:e.onChannelChange,getMainPlayerMetadata:e.getMainPlayerMetadata,status:e.status,setReady:e.setReady,preflight:e.preflight}})),(0,k.e)())(te),ae=function(e){return(0,r.q)((function(){e.updateChatTrackingContext({viewerContext:m.m.ChannelPage})})),i.createElement(o.A,{display:s.sS.Flex,flexDirection:s.Qb.Column,fullHeight:!0},e.channelID&&i.createElement(ie,{channelLogin:e.channelLogin,channelId:e.channelID,contentType:l.z.LIVE}),i.createElement(c.c,{channelLogin:e.channelLogin,hostedChannelDisplayName:e.hostDisplayName,page:p.d1.ChannelPage,showModViewIngress:!0}))},re=(0,a.qC)(u.N,(0,d.PQ)((function(e){return{updateChatTrackingContext:e.updateChatTrackingContext}})))(ae)},251146:function(e,n,t){"use strict";t.d(n,{Dt:function(){return i},pX:function(){return s},lH:function(){return l},fs:function(){return d},CI:function(){return u},wQ:function(){return c},NU:function(){return m},rC:function(){return p},XB:function(){return h},Qc:function(){return f},ng:function(){return g},NO:function(){return v},ic:function(){return y}});var i,a,r=t(831642),o={0:{Ableism:0,Aggression:0,Homophobia:0,Misogyny:0,NameCalling:0,Profanity:0,Racism:0,Sexual:0},1:{Ableism:0,Aggression:1,Homophobia:1,Misogyny:0,NameCalling:0,Profanity:0,Racism:1,Sexual:0},2:{Ableism:2,Aggression:2,Homophobia:2,Misogyny:2,NameCalling:1,Profanity:0,Racism:2,Sexual:2},3:{Ableism:3,Aggression:3,Homophobia:3,Misogyny:3,NameCalling:2,Profanity:0,Racism:3,Sexual:3},4:{Ableism:4,Aggression:4,Homophobia:4,Misogyny:4,NameCalling:4,Profanity:4,Racism:4,Sexual:4}};!function(e){e.Ableism="Ableism",e.Aggression="Aggression",e.Homophobia="Homophobia",e.Misogyny="Misogyny",e.NameCalling="NameCalling",e.Profanity="Profanity",e.Racism="Racism",e.Sexual="Sexual"}(i||(i={})),function(e){e.Hostility="hostility",e.Identity="identity",e.Profanity="profanity",e.Sexual="sexual"}(a||(a={}));var s={hostility:[i.Aggression,i.NameCalling],identity:[i.Ableism,i.Homophobia,i.Misogyny,i.Racism],sexual:[i.Sexual],profanity:[i.Profanity]},l=function(e){return e?{Ableism:e.ableismLevel||0,Aggression:e.aggressionLevel||0,Homophobia:e.homophobiaLevel||0,Misogyny:e.misogynyLevel||0,NameCalling:e.nameCallingLevel||0,Profanity:e.profanityLevel||0,Racism:e.racismLevel||0,Sexual:e.sexualityLevel||0}:o[0]},d=function(e){for(var n in o)if(e.Ableism===o[n].Ableism&&e.Aggression===o[n].Aggression&&e.Homophobia===o[n].Homophobia&&e.Misogyny===o[n].Misogyny&&e.NameCalling===o[n].NameCalling&&e.Profanity===o[n].Profanity&&e.Racism===o[n].Racism&&e.Sexual===o[n].Sexual)return parseInt(n,10);return-1},u=function(e){return e>4||e<0?o[0]:o[e]},c=function(e,n){return e[n]},m=function(e,n,t){return e[n]=t,e},p=function(e){switch(e){case 0:return(0,r.wv)("AutoMod is off","AutoModModels");case 1:return(0,r.wv)("A Little Moderation","AutoModModels");case 2:return(0,r.wv)("Some Moderation","AutoModModels");case 3:return(0,r.wv)("More Moderation","AutoModModels");case 4:return(0,r.wv)("A Lot of Moderation","AutoModModels");default:return""}},h=function(e){switch(e){case 0:return(0,r.wv)("No filtering","AutoModModels");case 1:return(0,r.wv)("Less filtering","AutoModModels");case 2:return(0,r.wv)("Some filtering","AutoModModels");case 3:return(0,r.wv)("More filtering","AutoModModels");case 4:return(0,r.wv)("Maximum filtering","AutoModModels");default:return""}},f=function(e){switch(e){case a.Hostility:return(0,r.wv)("Hostility","AutoModLevelCategories");case a.Identity:return(0,r.wv)("Discrimination and slurs","AutoModLevelCategories");case a.Profanity:return(0,r.wv)("Profanity","AutoModLevelCategories");case a.Sexual:return(0,r.wv)("Sexual content","AutoModLevelCategories");default:return""}},g=function(e){switch(e){case i.Ableism:return(0,r.wv)("Disability","AutoModLevelCategories");case i.Aggression:return(0,r.wv)("Aggression","AutoModLevelCategories");case i.Homophobia:return(0,r.wv)("Sexuality, sex, or gender","AutoModLevelCategories");case i.Misogyny:return(0,r.wv)("Misogyny","AutoModLevelCategories");case i.NameCalling:return(0,r.wv)("Bullying","AutoModLevelCategories");case i.Profanity:return(0,r.wv)("Swearing","AutoModLevelCategories");case i.Racism:return(0,r.wv)("Race, ethnicity, or religion","AutoModLevelCategories");case i.Sexual:return(0,r.wv)("Sex-based terms","AutoModLevelCategories");default:return""}},v=function(e){switch(e){case i.Ableism:return(0,r.wv)("Demonstrating hatred or prejudice based on perceived or actual mental or physical abilities","AutoModLevelCategories");case i.Aggression:return(0,r.wv)("Threatening, inciting, or promoting violence or other harm","AutoModLevelCategories");case i.Homophobia:return(0,r.wv)("Demonstrating hatred or prejudice based on sexual identity, sexual orientation, gender identity, or gender expression","AutoModLevelCategories");case i.Misogyny:return(0,r.wv)("Demonstrating hatred or prejudice against women, including sexual objectification","AutoModLevelCategories");case i.NameCalling:return(0,r.wv)("Name-calling, insults, or antagonization","AutoModLevelCategories");case i.Profanity:return(0,r.wv)("Swear words, &*^!#@%*","AutoModLevelCategories");case i.Racism:return(0,r.wv)("Demonstrating hatred or prejudice based on race, ethnicity, or religion","AutoModLevelCategories");case i.Sexual:return(0,r.wv)("Sexual acts, anatomy","AutoModLevelCategories");default:return""}},y=function(e){switch(e){case 6:return 1;case 5:return 2;case 4:return 3;case 3:case 2:return 4;default:return 0}}},731332:function(e,n,t){"use strict";t.d(n,{TC:function(){return o},RQ:function(){return s}});var i,a=t(831642),r=t(702738);function o(e){var n=1;return e>=3e3&&(e-=r.jJ,n=3),e>=2e3&&(e-=r.hN,n=2),function(e,n){if(e>1)return 0===n?(0,a.wv)("Tier {tierNum}, Base",{tierNum:(0,a.uf)(e)},"LoyaltyBadgesPageComponent"):n<12?(0,a.wv)("{monthNum, plural, one {Tier {tierNum}, {monthNum}-Month} other {Tier {tierNum}, {monthNum}-Month}}",{tierNum:(0,a.uf)(e),monthNum:(0,a.uf)(n)},"LoyaltyBadgesPageComponent"):(0,a.wv)("{yearNum, plural, one {Tier {tierNum}, {yearNum}-Year} other {Tier {tierNum}, {yearNum}-Year}}",{tierNum:(0,a.uf)(e),yearNum:n/12},"LoyaltyBadgesPageComponent");return 0===n?(0,a.wv)("Base","LoyaltyBadgesPageComponent"):n<12?(0,a.wv)("{monthNum, plural, one {{monthNum}-Month} other {{monthNum}-Month}}",{monthNum:(0,a.uf)(n)},"LoyaltyBadgesPageComponent"):(0,a.wv)("{yearNum, plural, one {{yearNum}-Year} other {{yearNum}-Year}}",{yearNum:n/12},"LoyaltyBadgesPageComponent")}(n,e)}!function(e){e.Base="Base",e.Month2="2-Month",e.Month3="3-Month",e.Month6="6-Month",e.Month9="9-Month",e.Year1="1-Year",e.Year1Half="1.5-Year",e.Year2="2-Year",e.Year2Half="2.5-Year",e.Year3="3-Year",e.Year3Half="3.5-Year",e.Year4="4-Year",e.Year4Half="4.5-Year",e.Year5="5-Year",e.Year5Half="5.5-Year",e.Year6="6-Year",e.Year6Half="6.5-Year",e.Year7="7-Year",e.Year7Half="7.5-Year",e.Year8="8-Year"}(i||(i={}));var s=[{availableToAffiliate:!0,name:i.Base,requiredTenureMonths:0},{availableToAffiliate:!0,name:i.Month2,requiredTenureMonths:2},{availableToAffiliate:!0,name:i.Month3,requiredTenureMonths:3},{availableToAffiliate:!0,name:i.Month6,requiredTenureMonths:6},{availableToAffiliate:!0,name:i.Month9,requiredTenureMonths:9},{availableToAffiliate:!0,name:i.Year1,requiredTenureMonths:12},{availableToAffiliate:!1,name:i.Year1Half,requiredTenureMonths:18},{availableToAffiliate:!1,name:i.Year2,requiredTenureMonths:24},{availableToAffiliate:!1,name:i.Year2Half,requiredTenureMonths:30},{availableToAffiliate:!1,name:i.Year3,requiredTenureMonths:36},{availableToAffiliate:!1,name:i.Year3Half,requiredTenureMonths:42},{availableToAffiliate:!1,name:i.Year4,requiredTenureMonths:48},{availableToAffiliate:!1,name:i.Year4Half,requiredTenureMonths:54},{availableToAffiliate:!1,name:i.Year5,requiredTenureMonths:60},{availableToAffiliate:!1,name:i.Year5Half,requiredTenureMonths:66},{availableToAffiliate:!1,name:i.Year6,requiredTenureMonths:72},{availableToAffiliate:!1,name:i.Year6Half,requiredTenureMonths:78},{availableToAffiliate:!1,name:i.Year7,requiredTenureMonths:84},{availableToAffiliate:!1,name:i.Year7Half,requiredTenureMonths:90},{availableToAffiliate:!1,name:i.Year8,requiredTenureMonths:96}]},279971:function(e,n,t){"use strict";t.d(n,{b:function(){return H}});var i,a=t(137703),r=t(14890),o=t(987145),s=t(625471),l=t(570526),d=t(570655),u=t(667294),c=t(734995),m=t(166825),p=t(400054),h=t(900140),f=t(270406),g=t(882429),v=t(206507),y=t(202912),k=t(268748),S=t(796441),C=t(831642),b=t(235948),w=t(344689),E=t(128416),_=t(532210),N=t(812140),D=t(287952),M=t(146747),I=t(23015),T=t(626650),P="hasDismissedChannelPointsPollCallout",R=function(e){function n(n){var t=e.call(this,n)||this;return t.hideBanner=function(){t.setState({isHidden:!0}),t.props.onDismiss()},t.state={isHidden:C.tO.get(P+"_"+t.props.channelID,!1)},t}return(0,d.__extends)(n,e),n.prototype.render=function(){return this.state.isHidden?null:u.createElement(c.A,{margin:{bottom:1}},u.createElement(M.U,{message:u.createElement(I.Z,{pill:{label:(0,C.wv)("New!","NewPollModal--CopoCallout"),type:T.R.Brand},title:(0,C.wv)("Channel Points Now Available in Polls!","NewPollModal--CopoCallout"),description:u.createElement(c.A,{margin:{top:.5},color:f.Il.Alt2},(0,C.wv)("Give your viewers the ability to vote in Polls using their Channel Points by updating the settings below.","NewPollModal--CopoCallout"))}),closeButton:{"aria-label":(0,C.wv)("Close","NewPollModal--CopoCallout"),onClick:this.hideBanner}}))},n}(u.Component),A=t(753085),L=t(353488),F=t(382448),U=t(58661),x=t(900060);!function(e){e.AdditionalVoting="poll-settings_additional-voting",e.BitsVoting="poll-settings_bits-voting",e.ChannelPointsVoting="poll-settings_channel-points-voting",e.ServiceError="poll-settings_service-error"}(i||(i={}));var O=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,d.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.bitsEnabled,t=e.channelPointsEnabled;return u.createElement(c.A,{margin:{bottom:1}},u.createElement(m.cw,{label:(0,C.wv)("Settings","Polls--NewPollModal")},(n||t)&&u.createElement(c.A,{margin:{bottom:1}},u.createElement(A.J,{label:(0,C.wv)("Allow Additional Votes","Polls--PollSettings"),checked:this.props.allowAdditionalVoting,onChange:this.props.onAllowAdditionalVotingChange,"data-test-selector":i.AdditionalVoting})),n&&u.createElement(c.A,{margin:{bottom:1,left:2}},u.createElement(m.cw,{label:"",error:this.props.allowVotingWithBits&&!!this.props.bitsPerVoteError,errorMessage:this.props.bitsPerVoteError,"data-test-selector":i.BitsVoting},u.createElement(c.A,{display:f.sS.Flex,flexDirection:f.Qb.Row,alignItems:f.g1.Center},u.createElement(c.A,{margin:{left:.5,right:1}},u.createElement(A.J,{label:"",checked:this.props.allowVotingWithBits,onChange:this.props.onAllowVotingWithBitsChange})),u.createElement(p.II,{type:p.n$.Number,disabled:!this.props.allowVotingWithBits,onChange:this.props.onBitsPerVoteChange,value:void 0!==this.props.bitsPerVote?String(this.props.bitsPerVote):"",maxLength:60,max:1e4,min:1,error:this.props.allowVotingWithBits&&!!this.props.bitsPerVoteError}),u.createElement(c.A,{display:f.sS.Flex,margin:{left:1,right:.5}},u.createElement(L.JO,{asset:F.e.Bits})),u.createElement(U.V,null,(0,C.wv)("Bits per Vote","Polls--PollSettings"))))),t&&u.createElement(c.A,{margin:{bottom:1,left:2}},u.createElement(m.cw,{label:"",error:this.props.allowVotingWithChannelPoints&&!!this.props.channelPointsPerVoteError,errorMessage:this.props.channelPointsPerVoteError,"data-test-selector":i.ChannelPointsVoting},u.createElement(c.A,{display:f.sS.Flex,flexDirection:f.Qb.Row,alignItems:f.g1.Center},u.createElement(c.A,{margin:{left:.5,right:1}},u.createElement(A.J,{label:"",checked:this.props.allowVotingWithChannelPoints,onChange:this.props.onAllowVotingWithChannelPointsChange})),u.createElement(p.II,{type:p.n$.Number,disabled:!this.props.allowVotingWithChannelPoints,onChange:this.props.onChannelPointsPerVoteChange,value:void 0!==this.props.channelPointsPerVote?String(this.props.channelPointsPerVote):"",max:1e4,maxLength:60,min:1,error:this.props.allowVotingWithChannelPoints&&!!this.props.channelPointsPerVoteError}),u.createElement(c.A,{margin:{left:1,right:.5}},u.createElement(x.ZN,{channelLogin:this.props.channelLogin})),u.createElement(U.V,null,(0,C.wv)("{pointName} per Vote",{pointName:this.props.pointsName},"Polls--PollSettings")))))))},n}(u.Component),B=1e4,V=1e6,q=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={pendingCreation:!1,showCreationErrorBox:!1,errorCode:"",titleError:!1,title:"",choices:["","","","",""],choicesError:!1,allowAdditionalVoting:!1,allowVotingWithBits:!1,bitsPerVote:10,bitsPerVoteError:"",allowVotingWithChannelPoints:!1,channelPointsPerVote:200,channelPointsPerVoteError:"",durationMinutes:1},n.renderCallout=function(){var e,t,i,a,r,o=!!(null===(i=null===(t=null===(e=n.props.data.community)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.communityPointsSettings)||void 0===i?void 0:i.isEnabled),s=!!(null===(r=null===(a=n.props.data.channel)||void 0===a?void 0:a.latestPoll)||void 0===r?void 0:r.settings.communityPointsVotes.isEnabled);return!o||s?null:u.createElement(R,{onDismiss:n.dismissCallout,channelID:n.props.channelID})},n.dismissCallout=function(){C.tO.set(P+"_"+n.props.channelID,!0)},n.renderTitle=function(){return u.createElement(c.A,{margin:{bottom:1}},u.createElement(m.cw,{label:(0,C.wv)("Question","Polls--NewPollModal"),error:n.state.titleError,errorMessage:(0,C.wv)("* You must provide a question","Polls--NewPollModal")},u.createElement(p.II,{type:p.n$.Text,value:n.state.title,onChange:n.onQuestionChange,maxLength:60,error:n.state.titleError})))},n.renderChoices=function(){return u.createElement(c.A,{margin:{bottom:1}},u.createElement(m.cw,{label:(0,C.wv)("Responses (Minimum 2)","Polls--NewPollModal"),error:n.state.choicesError,errorMessage:(0,C.wv)("* You must provide at least two choices","Polls--NewPollModal")},u.createElement(c.A,{margin:{bottom:1}},u.createElement(p.II,{type:p.n$.Text,onChange:n.onResponseChanged.bind(n,0),maxLength:25})),u.createElement(c.A,{margin:{bottom:1}},u.createElement(p.II,{type:p.n$.Text,onChange:n.onResponseChanged.bind(n,1),maxLength:25})),u.createElement(c.A,{margin:{bottom:1}},u.createElement(p.II,{type:p.n$.Text,onChange:n.onResponseChanged.bind(n,2),maxLength:25})),u.createElement(c.A,{margin:{bottom:1}},u.createElement(p.II,{type:p.n$.Text,onChange:n.onResponseChanged.bind(n,3),maxLength:25})),u.createElement(c.A,{margin:{bottom:1}},u.createElement(p.II,{type:p.n$.Text,onChange:n.onResponseChanged.bind(n,4),maxLength:25}))))},n.renderSettings=function(){var e,t,i=n.props.data,a=i.community,r=i.channel,o=!(!r||!r.cheer),s=!!(null===(t=null===(e=null==a?void 0:a.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===t?void 0:t.isEnabled);return u.createElement(O,{channelLogin:n.props.channelLogin,pointsName:n.getPointsName(),bitsEnabled:o,channelPointsEnabled:s,allowAdditionalVoting:n.state.allowAdditionalVoting,onAllowAdditionalVotingChange:n.onAllowAdditionalVotingChange,allowVotingWithBits:n.state.allowVotingWithBits,onAllowVotingWithBitsChange:n.onAllowVotingWithBitsChange,onBitsPerVoteChange:n.onBitsPerVoteChange,bitsPerVote:n.state.bitsPerVote,bitsPerVoteError:n.state.bitsPerVoteError,allowVotingWithChannelPoints:n.state.allowVotingWithChannelPoints,onAllowVotingWithChannelPointsChange:n.onAllowVotingWithChannelPointsChange,onChannelPointsPerVoteChange:n.onChannelPointsPerVoteChange,channelPointsPerVote:n.state.channelPointsPerVote,channelPointsPerVoteError:n.state.channelPointsPerVoteError})},n.renderDurationPicker=function(){return u.createElement(c.A,{margin:{bottom:1}},u.createElement(m.cw,{label:(0,C.wv)("Duration","Polls--NewPollModal")},u.createElement(h.P,{value:String(n.state.durationMinutes),onChange:n.onDurationSelectionChange},u.createElement("option",{value:"1"},(0,C.wv)("1m","Polls--NewPollModal")),u.createElement("option",{value:"2"},(0,C.wv)("2m","Polls--NewPollModal")),u.createElement("option",{value:"3"},(0,C.wv)("3m","Polls--NewPollModal")),u.createElement("option",{value:"5"},(0,C.wv)("5m","Polls--NewPollModal")),u.createElement("option",{value:"10"},(0,C.wv)("10m","Polls--NewPollModal")))))},n.getPointsName=function(){var e,t,i;return(null===(i=null===(t=null===(e=n.props.data.community)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.communityPointsSettings)||void 0===i?void 0:i.name)||(0,N.Fg)()},n.closeErrorMessage=function(){n.setState({showCreationErrorBox:!1})},n.onStartPoll=function(){return(0,d.__awaiter)(n,void 0,void 0,(function(){var e,n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:if(!this.checkInputs())return[2];this.setState({pendingCreation:!0}),e=[],this.state.choices.forEach((function(n){if(""!==n){var t={title:n};e.push(t)}})),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.props.createPoll((0,w.k_)({bitsCost:this.state.bitsPerVote,bitsVoting:this.state.allowVotingWithBits,communityPointsCost:this.state.channelPointsPerVote,isCommunityPointsVotingEnabled:this.state.allowVotingWithChannelPoints,durationSeconds:60*this.state.durationMinutes,ownedBy:this.props.channelID,multichoiceEnabled:!0,title:this.state.title,choices:e}))];case 2:return!(n=t.sent()).data.createPoll||n.data.createPoll.error?(this.setState({showCreationErrorBox:!0,pendingCreation:!1,errorCode:n.data.createPoll&&n.data.createPoll.error?n.data.createPoll.error.code:""}),[2]):(this.props.closeModal(),this.dismissCallout(),this.props.onPollCreated&&this.props.onPollCreated(),[3,4]);case 3:return t.sent(),this.setState({showCreationErrorBox:!0,pendingCreation:!1}),[3,4];case 4:return[2]}}))}))},n.checkInputs=function(){var e=!0;""===n.state.title&&(n.setState({titleError:!0}),e=!1);var t=0;if(n.state.choices.forEach((function(e){""!==e&&t++})),t<2&&(n.setState({choicesError:!0}),e=!1),n.state.allowVotingWithChannelPoints){var i=n.state.channelPointsPerVote||0,a=n.checkChannelPointsInput(i);a&&(n.setState({channelPointsPerVoteError:a}),e=!1)}if(n.state.allowVotingWithBits){var r=n.state.bitsPerVote||0,o=n.checkBitsInput(r);o&&(n.setState({bitsPerVoteError:o}),e=!1)}return e},n.onClose=function(){n.props.closeModal()},n.onQuestionChange=function(e){n.setState({title:e.target.value,titleError:""===e.target.value})},n.onBitsPerVoteChange=function(e){var t=parseInt(e.target.value||"0",10),i=n.checkBitsInput(t);n.setState({bitsPerVote:t,bitsPerVoteError:i})},n.checkBitsInput=function(e){var n="";return e>B?n=(0,C.wv)("The maximum Bits per vote is {bits}",{bits:(0,C.uf)(B)},"Polls--NewPollModal"):e<=0&&(n=(0,C.wv)("The cost per vote must be at least 1 Bits.","Polls--NewPollModal")),n},n.onChannelPointsPerVoteChange=function(e){var t=parseInt(e.target.value||"0",10),i=n.checkChannelPointsInput(t);n.setState({channelPointsPerVote:t,channelPointsPerVoteError:i})},n.checkChannelPointsInput=function(e){var t,i,a,r="";return e>V?r=(0,C.wv)("The maximum {pointName} per vote is {points}.",{pointName:n.getPointsName(),points:(0,C.uf)(V)},"Polls--NewPollModal"):e<=0&&(r=(0,C.wv)("The cost per vote must be at least 1 {pointName}.",{pointName:(null===(a=null===(i=null===(t=n.props.data.community)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.communityPointsSettings)||void 0===a?void 0:a.name)||(0,C.wv)("Channel Point","Polls--NewPollModa")},"Polls--NewPollModal")),r},n.onResponseChanged=function(e,t){var i=t.target.value;n.setState((function(n){var t=n.choices.slice(0);return t[e]=i,{choices:t}}))},n.onAllowVotingWithBitsChange=function(e){var t=e.currentTarget.checked,i=t||n.state.allowVotingWithChannelPoints;n.setState({allowVotingWithBits:t,allowAdditionalVoting:i})},n.onAllowVotingWithChannelPointsChange=function(e){var t=e.currentTarget.checked,i=t||n.state.allowVotingWithBits;n.setState({allowVotingWithChannelPoints:t,allowAdditionalVoting:i})},n.onAllowAdditionalVotingChange=function(e){n.setState({allowAdditionalVoting:e.currentTarget.checked,allowVotingWithBits:e.currentTarget.checked,allowVotingWithChannelPoints:e.currentTarget.checked})},n.onDurationSelectionChange=function(e){var t=parseInt(e.currentTarget.value,10);n.setState({durationMinutes:t})},n.setPreferences=function(){if(n.props.data.channel&&n.props.data.channel.latestPoll){var e=n.props.data.channel.latestPoll,t=Math.round(e.durationSeconds/60);n.setState({allowAdditionalVoting:e.settings.bitsVotes.isEnabled||e.settings.communityPointsVotes.isEnabled,allowVotingWithBits:e.settings.bitsVotes.isEnabled,bitsPerVote:e.settings.bitsVotes.cost||void 0,allowVotingWithChannelPoints:e.settings.communityPointsVotes.isEnabled,channelPointsPerVote:e.settings.communityPointsVotes.cost||void 0,durationMinutes:t})}},n.getErrorMessage=function(){var e=(0,C.wv)("Service Error","Polls--NewPollModal");switch(n.state.errorCode){case E.bDV.AUTOMOD_FAILED:e=(0,C.wv)("Content does not meet guidelines","Polls--NewPollModal");break;case E.bDV.POLL_ALREADY_ACTIVE:e=(0,C.wv)("A poll is already active","Polls--NewPollModal")}return e},n}return(0,d.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.data.loading&&!this.props.data.loading&&this.setPreferences()},n.prototype.componentDidMount=function(){this.props.data.loading||this.setPreferences()},n.prototype.render=function(){if(this.props.data.loading)return u.createElement(_.J,null);var e=(0,C.wv)("Start Poll","Polls--NewPollModal"),n=(0,C.wv)("Cancel","Polls--NewPollModal");return u.createElement(c.A,{display:f.sS.Flex,justifyContent:f.uM.Center,className:"new-poll-modal"},u.createElement(g.A,{size:g.C.Medium},u.createElement(v.x,{id:b.qL,title:(0,C.wv)("Create a New Poll","Polls--NewPollModal"),closeButton:{"aria-label":(0,C.wv)("Close","Polls--NewPollModal"),onClick:this.onClose}}),u.createElement(y.f,{padding:{x:4,bottom:1,top:1}},u.createElement(c.A,{display:f.sS.Flex,flexDirection:f.Qb.Column},this.renderCallout(),this.renderTitle(),this.renderChoices(),this.renderSettings(),this.renderDurationPicker(),this.state.showCreationErrorBox&&u.createElement(D.v,{message:this.getErrorMessage(),onClose:this.closeErrorMessage,showTryAgain:""===this.state.errorCode||this.state.errorCode===E.bDV.UNKNOWN}))),u.createElement(k.m,{primaryButtonProps:{"aria-label":e,children:e,onClick:this.onStartPoll,state:this.state.pendingCreation?S.BN.Loading:S.BN.Default},secondaryButtonProps:{"aria-label":n,children:n,onClick:this.props.closeModal},padding:{x:3,bottom:2}})))},n}(u.Component),G=t(719746);var H=(0,r.qC)((0,a.$j)(null,(function(e){return(0,r.DE)({closeModal:s.Mr},e)})),(0,o.TA)(l,{name:"createPoll"}),(0,o.TA)(G,{options:function(e){return{variables:{id:e.channelID}}}}))(q)},611605:function(e,n,t){"use strict";t.d(n,{Y:function(){return a}});var i=t(137703),a=function(){return(0,i.v9)((function(e){return e.session.firstPageLoaded}))}},922866:function(e,n,t){"use strict";t.d(n,{T_:function(){return s},dc:function(){return l}});var i,a=t(570655),r=t(667294),o=(i=(0,t(884979).k)("WatchPartyContext",{isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,updateWatchPartyActive:function(){return null},allowChatOnPageDuringWatchParty:function(){return null}})).context,s=i.withContext,l=function(e){function n(n){var t=e.call(this,n)||this;return t.updateWatchPartyActive=function(e){t.setState({isWatchPartyActive:e})},t.allowChatOnPageDuringWatchParty=function(e){t.setState({canChatOnPageDuringWatchParty:e})},t.state={isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,allowChatOnPageDuringWatchParty:t.allowChatOnPageDuringWatchParty,updateWatchPartyActive:t.updateWatchPartyActive},t}return(0,a.__extends)(n,e),n.prototype.render=function(){return r.createElement(o.Provider,{value:this.state},this.props.children)},n}(r.Component)},23015:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var i=t(722122),a=t(841788),r=t(667294),o=t(129163),s=t(436713),l=t(150125),d=t(734995),u=t(270406),c=t(731110),m=t(626650),p=t(698375),h=o.ZP.div.withConfig({displayName:"ScCalloutMessage",componentId:"sc-1fc6c5e-0"})(["margin-top:0.1rem;"]),f=o.ZP.div.withConfig({displayName:"ScCalloutMessagePill",componentId:"sc-1fc6c5e-1"})(["display:inline-flex;align-items:center;position:relative;top:-0.1em;"]),g=function(e){function n(){return e.apply(this,arguments)||this}return(0,a.Z)(n,e),n.prototype.render=function(){var e=this.props.pill&&r.createElement(d.A,{margin:{right:.5},display:u.sS.InlineBlock},r.createElement(m.D,this.props.pill)),n=this.props.title&&"string"==typeof this.props.title?r.createElement(c.o,{display:u.sS.Inline,flexGrow:1,margin:{right:this.props.inline?.5:0},className:"tw-callout-message__title"},r.createElement(p.Dx,{type:l.yG.H4,size:p.Jj.Small},this.props.title)):this.props.title;return r.createElement(h,(0,i.Z)({className:"tw-callout-message"},(0,s.M)(this.props)),(e||n)&&r.createElement(d.A,{display:u.sS.Inline,className:"tw-callout-message__header"},e&&r.createElement(f,{className:"tw-callout-message__pill"},e),n),this.props.description&&r.createElement(d.A,{display:this.props.inline?u.sS.Inline:u.sS.Block},this.props.description))},n}(r.Component);g.displayName="CalloutMessage"},146747:function(e,n,t){"use strict";t.d(n,{H:function(){return i},U:function(){return g}});var i,a=t(722122),r=t(667294),o=t(129163),s=t(311876),l=t(436713),d=t(246797),u=t(440837),c=t(26364),m=t(734995),p=t(270406),h=t(687036);!function(e){e[e.Column=1]="Column",e[e.Row=2]="Row"}(i||(i={}));var f=(0,o.ZP)(m.A).withConfig({displayName:"ScCalloutClose",componentId:"sc-1weuadv-0"})(["display:inline-flex;align-self:start;flex-shrink:0;float:right;"]),g=function(e){var n=e.orientation===i.Row?i.Row:i.Column,t=e.closeButton&&r.createElement(f,{className:"tw-callout__close",margin:{left:1}},r.createElement(c.b,{"aria-label":e.closeButton["aria-label"],onClick:e.closeButton.onClick,size:u.hp.Small}));return r.createElement(m.A,(0,a.Z)({},(0,s.Bl)(e),(0,l.M)(e),{background:e.background,borderRadius:d.c.Medium,elevation:e.elevation,position:p.Ly.Relative,padding:void 0!==e.padding?e.padding:2}),r.createElement(h.T,{overlay:e.background&&e.background!==p.Aq.Base},r.createElement(m.A,{display:p.sS.Flex,alignItems:p.g1.Start,flexDirection:e.orientation===i.Row?p.Qb.Row:p.Qb.Column},r.createElement(m.A,{fullWidth:!0,display:p.sS.Flex,alignItems:p.g1.Start},e.figure&&r.createElement(m.A,{margin:{right:1},padding:.5,display:p.sS.Flex,flexGrow:0,flexShrink:0,alignItems:p.g1.Center,justifyContent:p.uM.Center},e.figure),r.createElement(m.A,{flexGrow:1},n===i.Column&&t,e.message)),e.actions&&r.createElement(m.A,{display:p.sS.Flex,justifyContent:p.uM.End,margin:{top:n===i.Column?1:0,left:n===i.Column?0:1},fullWidth:n===i.Column},e.actions),n===i.Row&&t)))};g.displayName="Callout",g.defaultProps={background:p.Aq.Base,elevation:1,padding:2},g.displayName="Callout"},303897:function(e,n,t){"use strict";t.d(n,{y:function(){return r}});var i=t(451969),a=t(260999),r=(0,i.S)(a.XU)},451969:function(e,n,t){"use strict";t.d(n,{S:function(){return o}});var i=t(419756),a=t(667294),r=t(411614);function o(e){var n=function(n){var t=n.show,o=n.anchorRef,s=n.options,l=n.popperRef,d=n.onRequestClose,u=n.onEnterComplete,c=n.onExitComplete,m=n.transitionType,p=n.transitionDuration,h=n.disableAriaHideApp,f=n.disableCloseOnClickOut,g=n.disableCloseOnEsc,v=n.disableFocusAfterRender,y=n.disableReturnFocusAfterClose,k=n.portalClassName,S=n.role,C=n["aria-label"],b=n["aria-labelledby"],w=n["aria-describedby"],E=n["aria-modal"],_=(0,i.Z)(n,["show","anchorRef","options","popperRef","onRequestClose","onEnterComplete","onExitComplete","transitionType","transitionDuration","disableAriaHideApp","disableCloseOnClickOut","disableCloseOnEsc","disableFocusAfterRender","disableReturnFocusAfterClose","portalClassName","role","aria-label","aria-labelledby","aria-describedby","aria-modal"]);return a.createElement(r.P,{show:t,anchorRef:o,options:s,popperRef:l,onRequestClose:d,onEnterComplete:u,onExitComplete:c,transitionType:m,transitionDuration:p,disableAriaHideApp:h,disableCloseOnClickOut:f,disableCloseOnEsc:g,disableFocusAfterRender:v,disableReturnFocusAfterClose:y,portalClassName:k,role:S,"aria-label":C,"aria-labelledby":b,"aria-describedby":w,"aria-modal":E},a.createElement(e,_))};return n.displayName="withDialogLayer("+(e.displayName||e.name)+")",n}},268748:function(e,n,t){"use strict";t.d(n,{m:function(){return c}});var i=t(722122),a=t(841788),r=t(667294),o=t(436713),s=t(796441),l=t(734995),d=t(270406),u=t(882429),c=function(){var e=function(e){function n(){return e.apply(this,arguments)||this}return(0,a.Z)(n,e),n.prototype.render=function(){var e=this.props.size===u.C.Small?{fullWidth:!0,flexGrow:1,flexShrink:1}:{};return r.createElement(l.A,(0,i.Z)({display:d.sS.Flex,alignItems:d.g1.Center,justifyContent:d.uM.Start,flexDirection:d.Qb.RowReverse,padding:this.props.padding},(0,o.M)(this.props)),r.createElement(l.A,e,r.createElement(s.zx,(0,i.Z)({type:s.L$.Primary,fullWidth:!0},this.props.primaryButtonProps))),r.createElement(l.A,e,this.props.secondaryButtonProps&&r.createElement(l.A,{padding:{right:1}},r.createElement(s.zx,(0,i.Z)({type:s.L$.Secondary,fullWidth:!0},this.props.secondaryButtonProps)))))},n}(r.Component);return e.displayName="ModalFooter",e.defaultProps={padding:{x:3,y:2}},e}()},466878:function(e,n,t){"use strict";e.exports=t.p+"assets/rocket-24cbe7633b981d31b334.svg"}}]);