(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[15],{1116:function(e,n,i){"use strict";var t=i(13);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=e.pathname,i=e.search,t=e.hash,u=e.visited,s=e.provider,c=e.fromWidget,l=void 0!==c&&c;if((0,o.default)())return"/action";var f,v=new URLSearchParams(i),m=v.get("ld");if(m)f=m;else if("yolo"===s||l){var p="".concat(n).concat(i).concat(t);f=p}else{var k=(0,r.default)(u),h=k.pathname,_=void 0===h?"/":h,g=k.search,S=void 0===g?"":g;f="".concat(_).concat(S)}(0,a.default)(f)&&!d.NOT_ELIGIBLE_LD.some((function(e){return f===e}))||(f="/");switch(v.get("redirect")){case"email_activation":f="/user/activation/phone?ref=email_activation";break;case"create_password":f="/user/activation/complete-password";break;case"seamless_sosmed":f="/feed";break;case"profile":f="/user/profile"}return f};var a=t(i(205)),r=t(i(1639)),o=t(i(1210)),d=i(1211)},1210:function(e,n,i){"use strict";var t=i(13);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return Boolean((0,a.default)(r.ACTION_KEY))};var a=t(i(56)),r=i(1637)},1211:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NOT_ELIGIBLE_LD=void 0;n.NOT_ELIGIBLE_LD=["/appauth","/appauth/code","/login","/register","/user/activation/inactive-phone","/user/change-password"]},1637:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ACTION_KEY=void 0;n.ACTION_KEY="action"},1639:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(e.length<2)return{pathname:"",search:"",state:{},hash:""};return e[e.length-2]}},1640:function(e,n,i){"use strict";var t=i(13);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return s.apply(this,arguments)};var a=t(i(10)),r=t(i(177)),o=t(i(2119)),d=t(i(31)),u=i(1641);function s(){return(s=(0,r.default)(a.default.mark((function e(n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.default){e.next=2;break}throw new Error("FGP_1");case 2:return e.abrupt("return",new Promise((function(e,i){window.requestIdleCallback?window.requestIdleCallback((function(){try{o.default.get(n,(function(n){var i=n.map((function(e){return e.value})),t=o.default.x64hash128(i.join(""),u.SEED_HASH);e({raw_data:n,fingerprint:t})}))}catch(t){i(t)}}),{timeout:u.INIT_TIMEOUT}):window.setTimeout((function(){try{o.default.get(n,(function(n){var i=n.map((function(e){return e.value})),t=o.default.x64hash128(i.join(""),u.SEED_HASH);e({raw_data:n,fingerprint:t})}))}catch(t){i(t)}}),u.INIT_TIMEOUT)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1641:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SEED_HASH=n.INIT_TIMEOUT=void 0;n.INIT_TIMEOUT=500;n.SEED_HASH=69},1642:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e.filter((function(e){return!t.includes(e.key)}))};var t=["webgl","canvas"]},1643:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"insertDeviceFingerprintMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"InsertDeviceBrowserFingerprintRequest"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insertDeviceBrowserFingerprint"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:149}};i.loc.source={body:"mutation insertDeviceFingerprintMutation($input:InsertDeviceBrowserFingerprintRequest!){insertDeviceBrowserFingerprint(input:$input){status message}}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function r(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.insertDeviceFingerprintMutation=function(e,n){var i={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,o=new Set,d=new Set;for(t.forEach((function(e){d.add(e)}));d.size>0;){var u=d;d=new Set,u.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){d.add(e)})))}))}return o.forEach((function(n){var t=r(e,n);t&&i.definitions.push(t)})),i}(i,"insertDeviceFingerprintMutation")},1644:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:58}};i.loc.source={body:"query User{user{id email phone profilePicture first_name}}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function r(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.User=function(e,n){var i={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,o=new Set,d=new Set;for(t.forEach((function(e){d.add(e)}));d.size>0;){var u=d;d=new Set,u.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){d.add(e)})))}))}return o.forEach((function(n){var t=r(e,n);t&&i.definitions.push(t)})),i}(i,"User")},1645:function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDefaultChosenAddress"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"keroAddrGetDefaultChosenAddress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"source"},value:{kind:"StringValue",value:"login",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"lat_long"},value:{kind:"StringValue",value:"",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addr_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"receiver_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"addr_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"district"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"district_name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:160}};i.loc.source={body:'query GetDefaultChosenAddress{keroAddrGetDefaultChosenAddress(input:{source:"login",lat_long:""}){data{addr_id receiver_name addr_name district district_name}}}',name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function r(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}i.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.GetDefaultChosenAddress=function(e,n){var i={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,o=new Set,d=new Set;for(t.forEach((function(e){d.add(e)}));d.size>0;){var u=d;d=new Set,u.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){d.add(e)})))}))}return o.forEach((function(n){var t=r(e,n);t&&i.definitions.push(t)})),i}(i,"GetDefaultChosenAddress")},591:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=function(e){return{"X-TKPD-AKAMAI":e}};n.default=t},738:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var n="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<e;t+=1)n+=i.charAt(Math.floor(Math.random()*i.length));return n}},885:function(e,n,i){"use strict";var t=i(13);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return _.apply(this,arguments)};var a=t(i(10)),r=t(i(177)),o=t(i(63)),d=t(i(90)),u=t(i(118)),s=t(i(1116)),c=t(i(1640)),l=t(i(1642)),f=t(i(1643)),v=t(i(206)),m=t(i(1644)),p=t(i(1645)),k=t(i(207)),h=i(149);function _(){return(_=(0,r.default)(a.default.mark((function e(n){var i,t,r,_,g,S,w,E,D,b,y,N,O,I,F,T,A,M,x,P,L,C,j,G,q,U,H,V,B,K,R,Y,z,Q,W,X;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.apolloClient,_=n.fromWidget,g=n.provider,S=n.pathname,w=n.search,E=n.hash,D=n.visited,b=n.onGetUserError,y=n.onSuccess,N=n.onGetUserIdHash,e.prev=1,e.next=4,r.query({query:m.default});case 4:O=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),b({error:e.t0,provider:g}),e.abrupt("return");case 11:return I=(null===(i=O)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.user)||{},F=I.id,T=I.email,A=I.phone,M=I.profilePicture,x=I.first_name,P="atreus"===window.__service||!1,L=P?"lite":"desktop",e.prev=15,e.next=18,r.query({query:p.default});case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(15),console.error(e.t1);case 23:return e.next=25,(0,c.default)();case 25:if(C=e.sent,j=C.raw_data,G=void 0===j?[]:j,q=C.fingerprint,U=void 0===q?"":q,!G.length||!U){e.next=33;break}return e.next=33,r.mutate({mutation:f.default,variables:{input:{label:U,user_id:Number(F),source:"desktop",event:"login",time:Math.floor(Date.now()/1e3),raw_data:btoa(JSON.stringify((0,l.default)(G)))}}}).catch((function(e){console.error(e)}));case 33:if(e.prev=33,"function"!=typeof N){e.next=51;break}return e.next=37,(0,v.default)({isLoginOrRegisterFlow:!0,onGetUserIdHash:function(){return N(F)}});case 37:if(H=e.sent,V=H.dvToken,B=void 0===V?"":V,K=H.retryCount,R=void 0===K?0:K,Y=H.errMsg,z=void 0===Y?"":Y,!B){e.next=51;break}return(Q=new Date).setDate(Q.getDate()+1),(new o.default).set(h.COOKIE_DV_PREFIX,B,{expires:B===h.DEFAULT_DV_TOKEN?Q:new Date(Date.now()+h.COOKIE_EXPIRY_TIME)}),e.next=51,r.mutate({mutation:k.default,variables:{input:{key:B,retry_count:R,error_message:z,device_type:L}}}).catch((function(e){console.error(e)}));case 51:e.next=56;break;case 53:e.prev=53,e.t2=e.catch(33),console.error(e.t2);case 56:return e.prev=56,y({provider:g,userId:F}),W={pic:M,nm:x,pvd:g,ml:T,ph:A},(0,d.default)("lstlgn",W),(0,u.default)(),X=(0,s.default)({pathname:S,search:w,hash:E,visited:D,provider:g,fromWidget:_}),window.location.replace(X),e.finish(56);case 64:case"end":return e.stop()}}),e,null,[[1,7],[15,20],[33,53,56,64]])})))).apply(this,arguments)}}}]);