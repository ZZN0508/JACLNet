YUI.add("af-applet-viewmgr",function(e){"use strict";var i="main",t="App-Chrome-on",a="container";function o(e){return e&&(e.isEditView||"settings"===e.get("name"))}function s(e,i){e&&i&&e.destroyView(i,{remove:!0,async:!0})}function p(){}function n(){}function r(){}p.prototype={name:"applet.showview",execute:function(e,i,t){"applet.showview"===i.action||"showview"===i.action?this.showView(e,i.params.guid,i.params):"page.init"===i.action&&e.after("*:showview",function(i){this.showView(e,i.applet&&i.applet.guid||i.target.get("guid"),i.showview)},this),t()},showView:function(e,p,n){if(e.applets&&e.applets[p]){n=n||{};var r,w=e.applets[p],c=n.view||i,l=n.region||w.regionForView(c)||i,f="true"===n.destroy||!0===n.destroy,g=w.getRegion(l),u=w.getView(c);u||(u=w.createView(n.view))&&u.render(),u&&(r=g.getView(),g.showView(u),o(u)?w.get(a).addClass(t):w.get(a).removeClass(t),r&&r!==u&&(o(r)||f)&&s(w,r))}}},n.prototype={name:"applet.closeview",execute:function(e,i,t){"applet.closeview"===i.action||"closeview"===i.action?this.closeView(e,i.params.guid,i.params):"page.init"===i.action&&e.after("*:closeview",function(i){this.closeView(e,i.applet&&i.applet.guid||i.target.get("guid"),i.closeview)},this),t()},closeView:function(e,t,a){if(e.applets&&e.applets[t]){a=a||{};var p,n,r,w=e.applets[t],c="true"===a.destroy||!0===a.destroy;p=o(r=w.getView(a.view))?"edit":w.regionForView(a.view)||i,(n=w.getRegion(p))&&(p===i?n.showView(w.getView(i)):n.closeView()),w.get("container").removeClass("App-Chrome-on"),(o(r)||c)&&s(w,r)}}},r.prototype={name:"applet.refreshview",execute:function(e,i,t){"applet.refreshview"!==i.action&&"refreshview"!==i.action||this.refreshView(e,i.params.guid,i.params),t()},refreshView:function(e,i,t){if(e.applets&&e.applets[i]){t=t||{};var a=e.applets[i],o=a.getView(t.view||"main");o||(o=a.createView(t.view)),o&&o.refresh(t)}}},e.namespace("Af").AppletShowView=p,e.namespace("Af").AppletCloseView=n,e.namespace("Af").AppletRefreshView=r},"@VERSION@",{requires:["af-applet-dom"]});