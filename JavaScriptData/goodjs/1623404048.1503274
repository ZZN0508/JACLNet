!function(){"use strict";var t={d:function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{generateFactoryMethod:function(){return T},getDataAttributesFromElement:function(){return E},init:function(){return h}});var n={PROD:"prod",QA:"qa",DEV:"dev",GOLDEN:"golden",PREPROD:"preprod",E2E:"e2e",TEST:"test"},i=Math.floor(Date.now()/1e3),o="INFO",r="ERROR",a={env:"e2e"},c=["Intuit.data.entdataproc.trackstarwebapp"],s=function(t,e,o,r){var a=window.location.href,s=a?encodeURI(a):a,d="7afa70fe-f1cc-11e7-8c3f-9a214cf093ae",u={timestamp:"".concat(i),destination:[]};r&&c.length>1?u.destination.push(c):delete u.destination;var l=[{eventTypes:"APPLICATION_CLIENT",spanId:d,parentSpanId:d,rootSpanId:d,transactionId:"tid1",env:o,deviceId:"DeviceId1",logType:t,appId:"appId1",component:"component",url:s,userId:"TrackStar",oilProps:u,execTimeMs:100,Message:e}],p="",f="";o===n.PROD?(p="https://logging.api.intuit.com/v2/log/message",f="prdakyresvV5u8cSivv3so3GRaYFhdu22H2NUJEn"):(p="https://logging-e2e.api.intuit.com/v2/log/message",f="preprdakyres6dF8hkg2meLkckKZt6QjgHdpi4Ll"),fetch(p,{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Intuit_APIKey intuit_apikey=".concat(f,", intuit_apkey_version=1.0"),"-X-APPID":"'".concat("Intuit.data.entdataproc.trackstarwebapp","'"),"-X-DEVICEID":"a","-X-INTUIT_TID":"a"}}).then((function(t){if(!t.ok)throw new Error("Error during logging with status code: ".concat(t.status))})).catch((function(t){console.log(t)}))},d=function(t,e){var n;n=e||window.location.href;var i=t;i=i.replace(/\[\[\]]/g,"\\$&");var o=new RegExp("[?&]".concat(i,"(=([^&#]*)|&|#|$)")).exec(n);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},u=function(t,e,i,o,c){var u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l={file:e,method:i,msg:o,trackingApplication:c||"noApp"},p=function(){return s(t,l,a.env,u)},f="1"===d("debug");a.env===n.PROD?t===r&&p():p(),f&&console.log(l)},l={prod:{NODE_ENV:"prod",ECS_LIB_HOST_DOMAIN:"https://uxfabric.intuitcdn.net"},e2e:{NODE_ENV:"e2e",ECS_LIB_HOST_DOMAIN:"https://uxfabric.intuitcdn.net"},dev:{NODE_ENV:"dev",ECS_LIB_HOST_DOMAIN:"https://localhost.intuit.com:9000"},test:{NODE_ENV:"test",ECS_LIB_HOST_DOMAIN:"https://uxfabric.intuitcdn.net"}};function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t||e?e.reduce((function(e,i){var o=g({},e),r=t&&t.dataset&&t.dataset[i]||void 0;return r&&n.indexOf(i)>-1&&(r=r.toLowerCase()),o[i]=r,o}),{}):{}}function v(t){for(var e=t.split("."),n=window,i="",o=e.length,r=0;r<o;r+=1)n[i=e[r]]=n[i]||{},n=n[i];return n}var w=function(t,e,n){var i=e||0,a=i;return new Promise((function(e,c){!function s(){var d="loadScript",l=performance.now(),p=document.createElement("script");p.type="text/javascript",p.async=!0,p.src=t,p.onload=function(){i!==a&&u(o,n,d,'"Script '.concat(p.src," loaded in ").concat(i-a+1," tries,\n                timeTaken=").concat((performance.now()-l).toFixed(0),' ms"')),e("".concat(t,"-loaded"))},p.onerror=function(){a>0?(u("WARN",n,d,"Starting script loading retry for ".concat(p.src)),a-=1,s()):(u(r,n,d,'"Error loading '.concat(p.src," timeTaken=").concat((performance.now()-l).toFixed(0),' ms"')),c())};var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(p,f)}()}))},m="bootstrapWebAnalytics.js",y=function(t,e,i,a,c){var s,d=l[e].ECS_LIB_HOST_DOMAIN,p="track-event-lib",f="".concat(p,".min.js"),g="".concat(d,"/analytics/").concat("202106092120"),E=c?c.split(","):[],v="track-event-lib-",y={prod:"".concat(g,"/").concat(v),e2e:"".concat(g,"/").concat(v),dev:v,test:v};s=n.DEV.toLowerCase()===e.toLowerCase()||n.TEST.toLowerCase()===e.toLowerCase()?f:"".concat(g,"/").concat(f);var O=function(){var a="initBeaconing";if(!window.intuit.tracking.ecs.initBeaconed){window.intuit.tracking.ecs.initBeaconed=!0;var c=performance.now(),d=[];if(d.push(fetch("https://segment.intuitcdn.net/v1/projects/".concat(t,"/settings"))),d.push(w(s,3)),E.forEach((function(t){d.push(w("".concat(y[e.toLowerCase()]).concat(t,".min.js"),3))})),"true"===i){var l="visitorapi.min.js";n.DEV.toLowerCase()!==e.toLowerCase()&&n.TEST.toLowerCase()!==e.toLowerCase()&&(l="".concat(g,"/").concat(l)),d.push(w(l).then((function(){Visitor.getInstance("969430F0543F253D0A4C98C6@AdobeOrg",{trackingServer:"ci.intuit.com",trackingServerSecure:"sci.intuit.com",marketingCloudServer:"ci.intuit.com",marketingCloudServerSecure:"sci.intuit.com"})})),3)}(n.TEST.toLowerCase()===e.toLowerCase()||window.location.search.indexOf("trackingTest=true")>-1)&&d.push(new Promise((function(t){setTimeout((function(){return t()}),"localhost.intuit.com"===window.location.hostname?2e3:2e4)}))),Promise.all(d).then((function(t){return TrackStar[p].WebAnalytics.initializeAnalyticsJS(t[0])})).then((function(n){u(o,"bootstrapWebAnalytics.js","initBeaconing","initBeaconing totalTime: ".concat(performance.now()-c," ms"));var s=window.intuit.tracking.ecs.webAnalytics,d=s.initConfig;if(d){window.intuit.tracking.ecs.analytics=n,d.write_key=t,d.env=e,d.loadAdobeVisitorApi="true"===i;var l=new TrackStar[p].WebAnalytics(d);for(l.constants=s.constants,l.invoked=s.invoked;s.q&&s.q.length>0;){var f=s.q.shift(),g=f.shift();"function"==typeof l[g]&&l[g].apply(l,f)}s=null,window.intuit.tracking.ecs.webAnalytics=l}else u(r,m,a,"initConfig is missing!")})).catch((function(t){u(r,m,a,"Error replaying queued events: ".concat(t))}))}};a?document.addEventListener(a,O):window.intuit.tracking.ecs.isBrowserPolyfilled?document.addEventListener("BootstrapWebAnalytics",O):document.addEventListener("DOMContentLoaded",O)},O=["trackPage","track","identify","group","on","setApplicationTrackingContext","setWidgetTrackingContext"],b={org:{CG:"cg",CMO:"cmo",CS:"cs",CTO:"cto",IIP:"iip",PTG:"ptg",SBSEG:"sbseg"},purpose:{CARE:"care",MKTG:"mktg",IDENTITY:"identity",PROD:"prod"},scope:{ACCT_COMM:"acct_comm",APPSCOM:"appscom",CAPITAL:"capital",CORP:"corp",CPP:"cpp",DESKTOP:"desktop",DEVELOPER:"developer",DEVX:"devx",IDENTITY:"identity",IDX:"idx",IEP:"iep",INSURANCE:"insurance",ITO:"ito",LACERTE:"lacerte",LIFELINE:"lifeline",MINT:"mint",MKTG_SITE:"mktg_site",MYACCT:"myacct",PAYMENTS:"payments",PAYROLL:"payroll",PF_COMM:"pf_comm",PROSERIES:"proseries",QB:"mktg_site",QBLIVE:"qblive",QBM:"qbm",QBMONEY:"qbmoney",QBO:"qbo",QBOA:"qboa",QBSE:"qbse",SBX_ACCT:"sbx_acct",SBX_TP:"sbx_tp",SALESFORCE:"salesforce",TURBO:"turbo",TURBOTAX:"turbotax",TXP:"txp",TXP_BLOG:"txp_blog"},uiAction:{CHANGED_SELECTION:"changed selection",CLICKED:"clicked",CLICKING:"clicking",DRAGGED:"dragged",DRAGGED_AND_DROPPED:"dragged and dropped",ENTERED:"entered",ERROR:"error",HIDDEN:"hidden",HOVERED_OVER:"hovered over",KEYPRESSED:"keypressed",SELECTED:"selected",SLID:"slid",STARTED:"started",TOGGLED:"toggled",UNSELECTED:"unselected",VIEWED:"viewed",INTERACTED:"interacted"},env:n},T=function(t,e){t[e]=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=Array.prototype.slice.call(i);r.unshift(e),t.q.push(r)}};function h(){v("intuit.tracking.ecs.webAnalytics"),v("intuit.tracking.ecs.webAnalytics.constants"),window.intuit.tracking.ecs.webAnalytics.constants=b;var t=window.intuit.tracking.ecs.webAnalytics;if(t.q=t.q||[],t.invoked)u(r,"init.js","","webAnalytics snippet included twice.");else{var e=document.querySelector('script[data-name="webAnalytics"]');if(e&&e.dataset&&e.dataset.writeKey&&e.dataset.env){var n=E(e,["writeKey","env","loadAdobeVisitorApi","bootstrapEvent","loadModules"],["loadAdobeVisitorApi","loadModules"]),i=n.writeKey,o=n.env,c=n.loadAdobeVisitorApi,s=n.bootstrapEvent,d=n.loadModules;a.env=o,t.invoked=!0;for(var l=0;l<O.length;l+=1)T(t,O[l]);window.analytics=window.analytics||[],window.analytics.SNIPPET_VERSION="4.1.0",function(t,e,n,i,o){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(t))return[];var e=[];return t.forEach((function(t){t in window||e.push(t)})),e}(["Promise","fetch"]).concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(t))return[];var e=[];return t.forEach((function(t){t in window&&"function"==typeof window[t]||e.push(t)})),e}(["Event"]));if(0===r.length)y(t,e,n,i,o);else{window.intuit.tracking.ecs.isBrowserPolyfilled=!0;var a="https://uxfabric.intuitcdn.net/polyfill/polyfill.min.js?features=".concat(r.join(","),"&flags=gated"),c=document.createElement("script");c.onload=function(){y(t,e,n,i,o),window.intuit.tracking.ecs.initBeaconed||document.dispatchEvent(new Event("BootstrapWebAnalytics"))},c.src=a;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(c,s)}}(i,o,c,s,d)}else u(r,"init.js","","data-name, data-write-key and data-env is required in init script.")}}h(),(window.TrackStar=window.TrackStar||{})["track-event-lib-init"]=e}();
//# sourceMappingURL=track-event-lib-init.min.js.map