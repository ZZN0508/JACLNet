YUI.add("af-applet-savesettings",function(e){"use strict";var t="container";function s(){}s.prototype={name:"applet.savesettings",execute:function(e,t,s){"applet.savesettings"!==t.action&&"savesettings"!==t.action||this.saveSettings(e,t.params.guid,t.params),s()},saveSettings:function(s,a,i){if(s.applets&&s.applets[a]){i=i||{};var n,o,r=s.applets[a];(n=i.src?r.get(t).one(i.src):(o=r.getView("settings"))&&o.get("container").one("form"))&&r.get("model").saveSettings(e.Af.Dom.parseForm(n),{critical:i.critical},function(n){if(n&&"invalid_settings"===n.code)e.Af.Message.show(r.get(t),{level:"error",content:n.message});else{if(i.showview){var o=r.getView(i.showview);o||(o=r.createView(i.showview))&&o.render(),o&&s.execControllers({action:"showview",params:{guid:a,view:i.showview}})}n&&e.Af.Message.show(r.get(t),{level:"error",token:n})}})}}},e.namespace("Af").AppletSaveSettings=s},"@VERSION@",{requires:["af-dom","af-message"]});