(window.QJP=window.QJP||[]).push([["prismic_testimonials"],{"190i":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return E}));var s,a=i("q1tI"),r=i.n(a),n=i("WHvC"),l=i("nrsj"),o=i("TSYQ"),d=i.n(o),h=i("ueNg"),u=i("t1Ez"),c=i("8WOz"),m=i("Pxp3"),p=i("FFEN"),g=i("a08m"),w=i("QLaP"),S=i.n(w),v=i("T3U7");!function(e){e.WHITE="white",e.ORANGE="light orange"}(s||(s={}));class C extends a.PureComponent{constructor(e){super(e),this.handleClickUser=e=>{Object(v.a)("homepage_testimonial_clicked",{selectedUserId:this.props.testimonials[e].userId,selectedUserDisplayName:this.props.testimonials[e].displayName}),this.setState({selectedIndex:e})},S()(e.defaultSelectedIndex>=0&&e.defaultSelectedIndex<e.testimonials.length,"Testimonials are hard-coded and one will always be selected by default"),this.state={selectedIndex:e.defaultSelectedIndex}}getSelectedQuote(){return this.props.testimonials[this.state.selectedIndex].quote}renderTestimonialUser(e,t){var i=d()("Testimonials-user",{isSelected:e===this.state.selectedIndex});return r.a.createElement("div",{className:i,key:e},r.a.createElement(m.a,null,r.a.createElement(g.a,{onClick:this.handleClickUser.bind(null,e)},r.a.createElement("div",{"aria-label":Object(l.a)("homepage.en_gb.testimonials.image_label",{name:t.displayName}),className:"Testimonials-displayImage",role:"img",style:{backgroundImage:"url("+t.displayImageUrl+")"}}))),r.a.createElement(m.a,{className:"Testimonials-username"},r.a.createElement(g.a,{to:t.profileUrl},t.displayName),r.a.createElement("span",{className:"Testimonials-userStatus"},t.userType)))}renderQuotedPanes(){return this.rotate(this.props.defaultSelectedIndex,this.props.testimonials).map(((e,t)=>r.a.createElement("div",{className:d()("Testimonials-quoted",{"Testimonials-orange":e.backgroundColor===s.ORANGE,"Testimonials-white":e.backgroundColor===s.WHITE}),key:"Testimonials-quoted-"+t},r.a.createElement(c.a,{isFullBleed:!0,maxWidth:"l"},r.a.createElement("div",{className:"Testimonials"},r.a.createElement(m.a,null,r.a.createElement(p.a,{deprecatedStyle:!0,size:3},e.quote),r.a.createElement("p",{className:"Testimonial-userDetail"},"- ",e.displayName,","," ",Object(l.a)("homepage_new.testimonials.age",{userAge:e.userAge}))))))))}renderQuoteVersion(){return r.a.createElement(h.a,{arrowVariant:"white",autoScroll:!0,isContinuousScroll:!0,renderArrows:!1,shouldShowCounter:!1},this.renderQuotedPanes())}render(){var{testimonials:e,showQuotes:t}=this.props;return t?this.renderQuoteVersion():r.a.createElement("div",{className:"Testimonials"},r.a.createElement(m.a,null,r.a.createElement("span",{className:"Testimonials-header"},r.a.createElement(u.a,{id:"homepage.en_gb.testimonials.header"}))),r.a.createElement(m.a,{className:"Testimonials-container"},r.a.createElement(m.a,{className:"Testimonials-quote"},r.a.createElement("span",null,this.getSelectedQuote())),r.a.createElement(m.a,{className:"Testimonials-users"},e.map(((e,t)=>this.renderTestimonialUser(t,e))))))}rotate(e,t){for(var i=[],s=0;s<e;s++){var a=t.shift();a&&i.push(a)}return t.concat(i)}}function E(e,t){Object(n.a)(r.a.createElement(C,{defaultSelectedIndex:e.defaultSelectedTestimonialIndex,showQuotes:e.showQuotes,testimonials:e.testimonials}),t)}},ueNg:function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));i("4mDm"),i("3bBZ"),i("zKZe");var s=i("TSYQ"),a=i.n(s),r=i("FFEN"),n=i("xqF0"),l=i("sEfC"),o=i.n(l),d=i("WjpJ"),h=i.n(d),u=i("q1tI"),c=i.n(u),m=i("xYJe"),p=i.n(m),g={white:{right:"arrow-right",left:"arrow"},borderless:{right:"caret-right",left:"caret-left"}};class w extends c.a.Component{constructor(){super(...arguments),this.state={height:0,index:0,isSliding:!1,nextSlideDirection:"rtl",previousIndex:void 0,validChildren:[]},this.handleArrowClick=e=>{this.swipe(e)},this.handleDotClick=e=>{this.slideTo(e)},this.renderDot=e=>{var t=a()("SlidingCarousel-dot",{"is-active":this.state.index===e,["SlidingCarousel-dot--"+this.props.dotsVariant]:this.props.dotsVariant});return c.a.createElement("li",{className:t,key:e,onClick:()=>this.handleDotClick(e)})},this.renderDots=e=>c.a.createElement("ul",{className:"SlidingCarousel-dotsContainer"},h()(0,e).map(this.renderDot)),this.renderHeading=(e,t)=>{var{index:i,previousIndex:s}=this.state,n=i===t&&s!==t,l=i!==t&&s===t,o=a()("SlidingCarouselHeader-title",{initial:void 0===s,"is-current":i===t,"is-entering":n,"is-leaving":l});return c.a.createElement("div",{className:o,key:t,ref:e=>{this.paneRefs[t]=e}},c.a.createElement(r.a,{deprecatedStyle:!1,size:5},e))},this.renderArrows=()=>{var e=void 0===this.props.arrowVariant?"wedge-left":g[this.props.arrowVariant].left,t=void 0===this.props.arrowVariant?"wedge-right":g[this.props.arrowVariant].right,i=this.state.index+1,s=this.state.validChildren.length,r=a()("SlidingCarousel-arrowLeft",{"SlidingCarousel-arrowDisabled":!this.shouldShowPreviousArrow()}),l=a()("SlidingCarousel-arrowRight",{"SlidingCarousel-arrowDisabled":!this.shouldShowNextArrow()}),o=a()("SlidingCarousel-arrowsContainer",{"SlidingCarousel-arrowsContainer--white":"white"===this.props.arrowVariant});return c.a.createElement("div",{className:o},c.a.createElement("div",{className:r},c.a.createElement(n.a,{disabled:!this.shouldShowPreviousArrow(),icon:e,onClick:()=>this.handleArrowClick("ltr"),size:"borderless"===this.props.arrowVariant?"small":"default",variant:this.props.arrowVariant})),this.props.shouldShowCounter?c.a.createElement("div",{className:"SlidingCarousel-counter"},i,"/",s):null,c.a.createElement("div",{className:l},c.a.createElement(n.a,{disabled:!this.shouldShowNextArrow(),icon:t,onClick:()=>this.handleArrowClick("rtl"),size:"borderless"===this.props.arrowVariant?"small":"default",variant:this.props.arrowVariant})))},this.renderPane=(e,t)=>{var{nextSlideDirection:i,index:s,previousIndex:r,height:n}=this.state,l=s===t&&r!==t,o=s!==t&&r===t,d=a()("SlidingCarousel-pane",{"is-current":s===t,"is-leaving-to-right":o&&"ltr"===i,"is-leaving-to-left":o&&"rtl"===i,"is-entering-from-right":l&&"rtl"===i,"is-entering-from-left":l&&"ltr"===i,"is-full-height":!this.props.shouldFlexBySingularPaneHeight&&n>0});return c.a.createElement("div",{className:d,key:t,ref:e=>{this.paneRefs[t]=e}},e)},this.setHeight=()=>{var{shouldFlexBySingularPaneHeight:e}=this.props;e?this.setSinglePaneHeight():this.setUniversalPaneHeight()},this.setUniversalPaneHeight=()=>{var e=Math.max(0,...this.paneRefs.map((e=>e?e.getBoundingClientRect().height:0)));this.setState({height:e})},this.setSinglePaneHeight=()=>{var e=this.paneRefs[this.state.index],t=e?e.getBoundingClientRect().height:0;this.setState({height:t})},this.paneRefs=[],this.debouncedSetHeight=o()(this.setHeight,300),this.slideTo=(e,t)=>{if(e!==this.state.index&&!this.state.isSliding){var{shouldFlexBySingularPaneHeight:i}=this.props;this.setState((i=>{var s=i.index;return Object.assign({},i,{heading:this.props.paneTitles?this.props.paneTitles[e]:"",index:e,isSliding:!0,nextSlideDirection:t||(e>s?"rtl":"ltr"),previousIndex:s})}),(()=>{i&&window.setTimeout(this.setSinglePaneHeight,500),this.props.onGestureAction&&this.props.onGestureAction(e)}))}},this.slideForward=()=>{var{index:e,validChildren:t}=this.state,i=(e+1)%t.length;this.slideTo(i,"rtl")},this.slideBackward=()=>{var{index:e,validChildren:t}=this.state,i=t.length,s=0!==e?e-1:i-1;this.slideTo(s,"ltr")},this.swipe=e=>{"ltr"===e&&this.slideBackward(),"rtl"===e&&this.slideForward(),this.stopCountdown(),this.startCountdown()},this.enableSlide=()=>{this.state.isSliding&&this.setState({isSliding:!1})},this.startCountdown=()=>{!this._timeout&&this.props.autoScroll&&(this._timeout=window.setInterval(this.slideForward,5e3))},this.stopCountdown=()=>{this._timeout&&(clearInterval(this._timeout),this._timeout=0)}}componentDidMount(){this.startCountdown(),this.setHeight(),window.addEventListener("resize",this.debouncedSetHeight)}componentWillUnmount(){this.stopCountdown(),window.removeEventListener("resize",this.debouncedSetHeight)}static getDerivedStateFromProps(e){var{children:t}=e;return{validChildren:c.a.Children.toArray(t).filter(Boolean)}}render(){var{previousIndex:e,validChildren:t,height:i}=this.state,{renderDots:s,renderArrows:r,arrowLocation:n,paneTitles:l}=this.props,o=t.length,d=i?{height:i+"px"}:{},h=a()("SlidingCarousel-panes",{"SlidingCarousel-panes--initial":void 0===e});return c.a.createElement(p.a,{className:"SlidingCarousel",onAnimationEnd:this.enableSlide,onBlur:this.startCountdown,onFocus:this.stopCountdown,onMouseEnter:this.props.onMouseEnter||this.stopCountdown,onMouseLeave:this.props.onMouseLeave||this.startCountdown,onSwipedLeft:()=>this.swipe("rtl"),onSwipedRight:()=>this.swipe("ltr")},r&&"top"===n?c.a.createElement("div",{className:"SlidingCarousel-headingContainer"},l?l.map(this.renderHeading):null,o>1?this.renderArrows():null):null,c.a.createElement("div",{className:h,style:d},t.map(this.renderPane)),s&&o>1?this.renderDots(o):null,r&&o>1&&"bottom"===n?this.renderArrows():null)}shouldShowPreviousArrow(){return this.state.index>0||!0===this.props.isContinuousScroll}shouldShowNextArrow(){return this.state.index<this.state.validChildren.length-1||!0===this.props.isContinuousScroll}}w.defaultProps={arrowLocation:"bottom",autoScroll:!1,isContinuousScroll:!0,renderArrows:!1,renderDots:!1,shouldShowCounter:!1}}}]);