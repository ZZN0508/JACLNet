import{r as e}from"./singletons-bb9012b7.js";import{S as l,i as s,s as t,l as a,f as o,d as n,e as c,c as r,a as i,b as u,v as h,k as p,n as f,M as g,E as d,P as m,K as $,r as v,B as b,u as w,N as y,Q as k,R as x,T,U as E,F as q,J as z,H as j,V as I,j as S,m as A,o as P,w as U,z as _,W as D}from"./vendor-aca2138d.js";import{a as H}from"./paths-2c73d5fe.js";import{b as N}from"./env-984c559a.js";const O=async function(l,s){return e.goto(l,s,[])};const{window:M}=E;function V(e,l,s){const t=e.slice();return t[28]=l[s],t}const B=e=>({option:8&e,highlighted:12&e,search:1&e,regex:16&e}),C=e=>({option:e[28],highlighted:e[28]===e[2],search:e[0],regex:e[4]});function G(e){let l,s;return{c(){l=c("img"),this.h()},l(e){l=r(e,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){u(l,"class","icon-search svelte-z7q7fo"),u(l,"alt","Search icon"),l.src!==(s=H+"/images/icon-search.svg")&&u(l,"src",s)},m(e,s){o(e,l,s)},p:q,d(e){e&&n(l)}}}function L(e){let l,s,t,a;return{c(){l=c("img"),this.h()},l(e){l=r(e,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){u(l,"class","icon-clear svelte-z7q7fo"),u(l,"alt","Clear icon"),l.src!==(s=H+"/images/icon-clear.svg")&&u(l,"src",s)},m(s,n){o(s,l,n),t||(a=m(l,"click",e[14]),t=!0)},p:q,d(e){e&&n(l),t=!1,a()}}}function R(e){let l,s,t=e[3],a=[];for(let o=0;o<t.length;o+=1)a[o]=W(V(e,t,o));const p=e=>v(a[e],1,1,(()=>{a[e]=null}));return{c(){l=c("ul");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){l=r(e,"UL",{class:!0});var s=i(l);for(let l=0;l<a.length;l+=1)a[l].l(s);s.forEach(n),this.h()},h(){u(l,"class","svelte-z7q7fo")},m(t,n){o(t,l,n);for(let e=0;e<a.length;e+=1)a[e].m(l,null);e[24](l),s=!0},p(e,s){if(270877&s){let o;for(t=e[3],o=0;o<t.length;o+=1){const n=V(e,t,o);a[o]?(a[o].p(n,s),h(a[o],1)):(a[o]=W(n),a[o].c(),h(a[o],1),a[o].m(l,null))}for(b(),o=t.length;o<a.length;o+=1)p(o);w()}},i(e){if(!s){for(let e=0;e<t.length;e+=1)h(a[e]);s=!0}},o(e){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)v(a[l]);s=!1},d(s){s&&n(l),y(a,s),e[24](null)}}}function W(e){let l,s,t,b,w,y;const k=e[19].default,x=z(k,e,e[18],C),T=x||function(e){let l,s,t=e[9](e[28].label,e[4])+"";return{c(){s=a(),this.h()},l(e){s=a(),this.h()},h(){l=new I(s)},m(e,a){l.m(t,e,a),o(e,s,a)},p(e,s){24&s&&t!==(t=e[9](e[28].label,e[4])+"")&&l.p(t)},d(e){e&&n(s),e&&l.d()}}}(e);function E(...l){return e[23](e[28],...l)}return{c(){l=c("li"),s=c("span"),T&&T.c(),t=p(),this.h()},l(e){l=r(e,"LI",{class:!0});var a=i(l);s=r(a,"SPAN",{});var o=i(s);T&&T.l(o),o.forEach(n),t=f(a),a.forEach(n),this.h()},h(){u(l,"class","svelte-z7q7fo"),g(l,"highlighted",e[28]===e[2])},m(e,a){o(e,l,a),d(l,s),T&&T.m(s,null),d(l,t),b=!0,w||(y=m(l,"click",E),w=!0)},p(s,t){e=s,x?x.p&&262173&t&&$(x,k,e,e[18],t,B,C):T&&T.p&&24&t&&T.p(e,t),12&t&&g(l,"highlighted",e[28]===e[2])},i(e){b||(h(T,e),b=!0)},o(e){v(T,e),b=!1},d(e){e&&n(l),T&&T.d(e),w=!1,y()}}}function F(e){let l,s,t,g,$,y,T,E,q,z=function(e){let l;function s(e,l){return e[7]&&""!==e[7].value&&e[6]?L:G}let t=s(e),c=t(e);return{c(){c.c(),l=a()},l(e){c.l(e),l=a()},m(e,s){c.m(e,s),o(e,l,s)},p(e,a){t===(t=s(e))&&c?c.p(e,a):(c.d(1),c=t(e),c&&(c.c(),c.m(l.parentNode,l)))},d(e){c.d(e),e&&n(l)}}}(e),j=e[5]&&e[6]&&e[3].length>0&&R(e);return{c(){l=c("div"),s=c("input"),t=p(),z&&z.c(),g=p(),$=c("div"),j&&j.c(),y=p(),this.h()},l(e){l=r(e,"DIV",{class:!0});var a=i(l);s=r(a,"INPUT",{disabled:!0,placeholder:!0,autocomplete:!0,class:!0}),t=f(a),z&&z.l(a),g=f(a),$=r(a,"DIV",{class:!0});var o=i($);j&&j.l(o),o.forEach(n),a.forEach(n),y=f(e),this.h()},h(){s.disabled=!N,u(s,"placeholder",e[1]),u(s,"autocomplete","none"),u(s,"class","svelte-z7q7fo"),u($,"class","options svelte-z7q7fo"),u(l,"class","autocomplete svelte-z7q7fo")},m(a,n){o(a,l,n),d(l,s),e[21](s),k(s,e[0]),d(l,t),z&&z.m(l,null),d(l,g),d(l,$),j&&j.m($,null),o(a,y,n),T=!0,E||(q=[m(M,"click",e[20]),m(s,"input",e[22]),m(s,"focus",e[10]),m(s,"blur",e[11]),m(s,"keydown",e[12]),m(l,"click",J)],E=!0)},p(e,[l]){(!T||2&l)&&u(s,"placeholder",e[1]),1&l&&s.value!==e[0]&&k(s,e[0]),z.p(e,l),e[5]&&e[6]&&e[3].length>0?j?(j.p(e,l),104&l&&h(j,1)):(j=R(e),j.c(),h(j,1),j.m($,null)):j&&(b(),v(j,1,1,(()=>{j=null})),w())},i(e){T||(h(j),T=!0)},o(e){v(j),T=!1},d(s){s&&n(l),e[21](null),z&&z.d(),j&&j.d(),s&&n(y),E=!1,x(q)}}}const J=e=>e.stopPropagation();function K(e,l,s){let t,{$$slots:a={},$$scope:o}=l;const n=T();let c,r,i,{options:u}=l,{value:h}=l,{search:p=""}=l,{placeholder:f=""}=l,{get_results:g=(e=>u.filter((l=>e.test(l))).map((e=>({label:e,value:e}))))}=l,d=!1,m=!1,$=null,v=[];const b=(e,l)=>{l.preventDefault(),e&&(s(0,p=e.label),n("change",s(15,h=e))),s(5,d=!1),c.blur()},w=e=>{const l=r.querySelectorAll("li")[e],t=l.offsetTop,a=t+l.offsetHeight;t<r.scrollTop?s(8,r.scrollTop=t,r):a>r.scrollTop+r.clientHeight&&s(8,r.scrollTop=a-r.clientHeight,r)};return e.$$set=e=>{"options"in e&&s(16,u=e.options),"value"in e&&s(15,h=e.value),"search"in e&&s(0,p=e.search),"placeholder"in e&&s(1,f=e.placeholder),"get_results"in e&&s(17,g=e.get_results),"$$scope"in e&&s(18,o=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&s(4,t=new RegExp(p.replace(/ae/gi,"(?:ae|Ã¦)").replace(/oe/gi,"(?:oe|Å“)").replace(/a/gi,"[aÃ Ã¡Ã¢Ã¤Ã£Ã¥Ä]").replace(/c/gi,"[cÃ§Ä‡Ä]").replace(/e/gi,"[eÃ¨Ã©ÃªÃ«Ä“Ä—Ä™]").replace(/i/gi,"[iÃ®Ã¯Ã­Ä«Ä¯Ã¬]").replace(/n/gi,"[nÃ±Å„]").replace(/o/gi,"[oÃ´Ã¶Ã²Ã³Ã¸ÅÃµ]").replace(/u/gi,"[uÃ»Ã¼Ã¹ÃºÅ«]"),"i")),131088&e.$$.dirty&&Promise.resolve(g(t)).then((e=>{s(3,v=e)})),12&e.$$.dirty&&(v.includes($)||s(2,$=v[0]))},[p,f,$,v,t,d,m,c,r,(e,l)=>e.replace(l,(e=>`<mark>${e}</mark>`)),()=>{s(5,d=!0),s(6,m=!1),s(2,$=v[0]),setTimeout((()=>c.select())),n("focus")},()=>{i=window.setTimeout((()=>{s(5,d=!1),s(6,m=!1),s(2,$=v[0])}),500)},e=>{if(s(6,m=!0),"Escape"===e.key)s(5,d=!1),c.blur();else if("ArrowUp"===e.key){const e=v.indexOf($);s(2,$=0===e?v[v.length-1]:v[e-1]),w(v.indexOf($))}else if("ArrowDown"===e.key){const e=v.indexOf($);s(2,$=e===v.length-1?v[0]:v[e+1]),w(v.indexOf($))}else"Enter"===e.key&&b($,e)},b,()=>{c&&(i&&clearTimeout(i),s(7,c.value="",c),c.focus())},h,u,g,o,a,()=>s(5,d=!1),function(e){j[e?"unshift":"push"]((()=>{c=e,s(7,c)}))},function(){p=this.value,s(0,p)},(e,l)=>b(e,l),function(e){j[e?"unshift":"push"]((()=>{r=e,s(8,r)}))}]}class Q extends l{constructor(e){super(),s(this,e,K,F,t,{options:16,value:15,search:0,placeholder:1,get_results:17})}}function X(e){let l,s;return l=new Q({props:{search:e[0],get_results:e[2],placeholder:e[1]}}),l.$on("select",e[3]),l.$on("change",e[4]),{c(){S(l.$$.fragment)},l(e){A(l.$$.fragment,e)},m(e,t){P(l,e,t),s=!0},p(e,[s]){const t={};1&s&&(t.search=e[0]),2&s&&(t.placeholder=e[1]),l.$set(t)},i(e){s||(h(l.$$.fragment,e),s=!0)},o(e){v(l.$$.fragment,e),s=!1},d(e){U(l,e)}}}function Y(e,l,s){let t,{search:a=""}=l,{placeholder:o="Search to find your county"}=l;return _((async()=>{})),e.$$set=e=>{"search"in e&&s(0,a=e.search),"placeholder"in e&&s(1,o=e.placeholder)},[a,o,async function(e){return t||(t=await async function(){const e=await fetch(`${H}/data/counties.json`);return(await e.json()).map((e=>{const l="USA-11001"===e.geoid?"Washington":e.name;return{label:e.state?`${l}, ${e.state}`:`${l}`,value:{slug:e.slug,geoid:e.geoid,population:e.population,url:e.url}}})).sort(((e,l)=>e.value.population>l.value.population?-1:1))}()),t.filter((({label:l})=>e.test(l))).sort(((l,s)=>l.label.search(e)-s.label.search(e)||s.value.population-l.value.population)).slice(0,32)},function(l){D(e,l)},function(l){D(e,l)}]}class Z extends l{constructor(e){super(),s(this,e,Y,X,t,{search:0,placeholder:1})}}export{Z as C,O as g};