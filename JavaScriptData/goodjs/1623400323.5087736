/******/ (() => { // webpackBootstrap
/******/  var __webpack_modules__ = ({

/***/ 551:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlayerBehavior": () => (/* binding */ PlayerBehavior)
/* harmony export */ });
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var PlayerBehavior=/*#__PURE__*/function(){function PlayerBehavior(impl){_classCallCheck(this,PlayerBehavior),this.impl=impl,this.unbinds=[],this.namedUnbinds={}}return _createClass(PlayerBehavior,[{key:"addNamedUnbind",value:function addNamedUnbind(name,unbind){this.namedUnbinds[name]&&this.namedUnbinds[name](),this.namedUnbinds[name]=unbind}},{key:"removeNamedUnbind",value:function removeNamedUnbind(name){this.namedUnbinds[name]&&(this.namedUnbinds[name](),delete this.namedUnbinds[name])}},{key:"destroy",value:function destroy(){for(var name in this.unbinds instanceof Array&&this.unbinds.map(function(unbind){return unbind()}),this.namedUnbinds)this.namedUnbinds.hasOwnProperty(name)&&this.namedUnbinds[name].map(function(unbind){return unbind()});this.unbinds=[],this.namedUnbinds={},this.impl=null,this._destroyed=!0}}]),PlayerBehavior}();

/***/ }),

/***/ 141:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Control=/*#__PURE__*/function(){function Control(video){_classCallCheck(this,Control),this.video=video,this.unbinds=[],this.reactMounts={}}return _createClass(Control,[{key:"mount",value:function mount(rootElem){this.rootElem=rootElem}}]),Control}();/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Control);

/***/ }),

/***/ 599:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _shared_controls_Control_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(141);
/* harmony import */ var player_lib_control_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60);
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return call&&("object"==typeof call||"function"==typeof call)?call:_assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var Promise=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("promiscuous"),Obj=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/obj"),_W$lib=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/interFontFamily"),interFontFamily=_W$lib.interFontFamily,_W$lib2=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/core"),unescapeHtml=_W$lib2.unescapeHtml,_W$lib3=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/elem"),elemBind=_W$lib3.elemBind,elemAnimate=_W$lib3.elemAnimate,elemAppend=_W$lib3.elemAppend,elemFromObject=_W$lib3.elemFromObject,elemRemove=_W$lib3.elemRemove,elemStyle=_W$lib3.elemStyle,BASE_FONT_SIZE=16,AnnotationOverlayControl=/*#__PURE__*/function(_Control){function AnnotationOverlayControl(video){var _this;return _classCallCheck(this,AnnotationOverlayControl),_this=_super.call(this,video),_this.annotations={},_this.unbinds=[],_this.video=video,_this._conversionOpportunityType="link",_this.unbinds.push(_this.video.bind("clickforsoundvisibilitychange",function(isVisible){_this.adjustSpacingForClickForSound(isVisible)})),_this}_inherits(AnnotationOverlayControl,_Control);var _super=_createSuper(AnnotationOverlayControl);return _createClass(AnnotationOverlayControl,[{key:"mount",value:function mount(rootElem){var styles={position:"absolute",display:"flex",flexDirection:"column",pointerEvents:"none",maxWidth:"50%",width:"100%"},containerElem=elemFromObject({childNodes:[{style:Obj.merge(_objectSpread(_objectSpread({},styles),{},{alignItems:"flex-start"}))},{style:Obj.merge(_objectSpread(_objectSpread({},styles),{},{right:"0px",alignItems:"flex-end"}))}]});// set up two child nodes, one for left annotations and one for right
elemAppend(rootElem,containerElem),this.rootElem=rootElem.childNodes[0]}},{key:"destroy",value:function destroy(){for(var annotation in this.annotations)this.annotations[annotation].config.destroy&&this.annotations[annotation].config.destroy();(0,player_lib_control_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.destroyControl)(this)}},{key:"onControlPropsUpdated",value:function onControlPropsUpdated(prevProps){var fontSize="".concat(this.roundBaseFontSize(),"px"),borderRadius="".concat(Math.round(this.roundBaseFontSize()/3),"px");// go through all annotations and update their styles
for(var annotation in this.annotations)elemStyle(this.annotations[annotation].config.rootElem,{fontSize:fontSize,borderRadius:borderRadius}),this.annotations[annotation].config.onControlPropsUpdated&&this.annotations[annotation].config.onControlPropsUpdated(prevProps)}},{key:"mountConfig",value:function mountConfig(config,opts){var _this2=this;return wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.asyncRequire(["interFontFace.js"]).then(function(){return _this2.mounted.then(function(){var annotation={config:config};// if you're trying to mount an annotation with a name that is already here
// that means it's already being displayed, and we wont show it again
if(_this2.annotations[opts.name])return Promise.resolve();_this2.annotations[opts.name]={config:config},1===Object.keys(_this2.annotations).length&&_this2.video.trigger("annotationvisible"),annotation.config.props=_this2.props;var positionOrLocation=annotation.config.location||annotation.config.position,leftOrRightRootElem="left"===positionOrLocation?0:1,backgroundAndFontColors=getThemeColors(config),url=config.url?sanitizeUrl(config.url):"",spacing=.75*_this2.roundBaseFontSize(),style=Obj.merge(_objectSpread({fontFamily:interFontFamily,margin:"".concat(spacing,"px ").concat(spacing,"px 0 ").concat(spacing,"px"),pointerEvents:"auto",display:"block",lineHeight:"1.2em",fontWeight:"600",fontSize:"".concat(_this2.roundBaseFontSize(),"px"),letterSpacing:"0.03em",padding:"".concat(spacing,"px ").concat(spacing+3,"px"),borderRadius:"".concat(_this2.roundBaseFontSize()/5,"px"),boxShadow:" 0 0 5px 0 rgba(108, 108, 108, 0.5)"},backgroundAndFontColors),annotation.config.style);annotation.rootElem=elemFromObject({tagName:"a",target:"_blank",innerText:unescapeHtml(sanitizeText(config.text)),href:url,class:"w-css-reset",style:style}),_this2.addClickBinding(annotation),elemAppend(_this2.rootElem.childNodes[leftOrRightRootElem],annotation.rootElem);var mountResult=annotation.config.mount(annotation.rootElem),mountPromise=mountResult&&mountResult.then&&mountResult.catch?mountResult:Promise.resolve();return mountPromise.then(function(){elemStyle(annotation.rootElem,{clip:""});var transition=config.transition||"pop",transitionTime=config.transitionTime||200;"pop"===transition?_this2.animateIn(annotation.rootElem,transition,transitionTime):elemStyle(config.rootElem,{transform:"scale3d(1,1,1)",opacity:1})})})})}// where we log conversion events and preventDefault if there is no url
},{key:"addClickBinding",value:function addClickBinding(annotation){var _this3=this;this.unbinds.push(elemBind(annotation.rootElem,"click",function(e){annotation.config.url||(annotation.config.onClick&&annotation.config.onClick(),e.preventDefault());var conversionData={converted:!0,link:annotation.config.url,co_key:annotation.config.conversionOpportunityKey||null,co_type:_this3._conversionOpportunityType,time:_this3.video.time()};// only pause the video if if there is a url to go to
annotation.config.url&&(_this3.video.trigger("conversion-link",conversionData),_this3.video._tracker.logConversionOpportunity(conversionData),_this3.video.pause())}))}},{key:"hide",value:function hide(opts){var annotation=this.annotations[opts.name];if(annotation){delete this.annotations[opts.name],0===Object.keys(this.annotations).length&&this.video.trigger("noannotationsvisible");var rootElem=annotation.config.rootElem,transition=annotation.config.transition||"pop",transitionTime=annotation.config.transitionTime||200;rootElem===document.activeElement&&this.video._focusNextVisibleElem(),"pop"===transition?this.animateOut(rootElem,transition,transitionTime).then(function(){elemRemove(rootElem)}):elemRemove(rootElem)}}},{key:"animateIn",value:function animateIn(rootElem,transition,transitionTime){return new Promise(function(resolve){elemStyle(rootElem,{transform:"scale3d(.7,.7,1)",opacity:0}),setTimeout(function(){elemAnimate(rootElem,{transform:"scale3d(1,1,1)",opacity:1},{time:transitionTime,easing:"ease-in",callback:resolve})},0)})}},{key:"animateOut",value:function animateOut(rootElem,transition,transitionTime){return new Promise(function(resolve){elemStyle(rootElem,{transform:"scale3d(1,1,1)",opacity:1}),setTimeout(function(){elemAnimate(rootElem,{transform:"scale3d(.7,.7,1)",opacity:0},{time:transitionTime,easing:"ease-out",callback:resolve})},0)})}},{key:"roundBaseFontSize",value:function roundBaseFontSize(){return Math.round(this.props.scale*BASE_FONT_SIZE)}},{key:"updateFromOptions",value:function updateFromOptions(options){if(options.name){var overlay=this.video._impl._overlays[options.name];// if there is no defined overlay, there is nothing to update so get outta here
if(overlay)for(var opt in options)this.updateFromOption(opt,options)}}},{key:"updateFromOption",value:function updateFromOption(optionName,options){"text"===optionName?this.updateAnnotationText(options):"url"===optionName?this.updateAnnotationUrl(options):"time"===optionName?this.updateAnnotationTime(options):"duration"===optionName?this.updateAnnotationDuration(options):void 0}},{key:"updateAnnotationText",value:function updateAnnotationText(options){var safeText=sanitizeText(options.text||"");this.video._impl._overlays[options.name].text=unescapeHtml(safeText),this.annotations[options.name]&&(this.annotations[options.name].config.rootElem.innerText=safeText)}},{key:"updateAnnotationUrl",value:function updateAnnotationUrl(options){var safeUrl=sanitizeUrl(options.url);this.video._impl._overlays[options.name].url=safeUrl,this.annotations[options.name]&&(this.annotations[options.name].config.rootElem.href=safeUrl)}},{key:"updateAnnotationTime",value:function updateAnnotationTime(options){this.video._impl._overlays[options.name].time=options.time,this.annotations[options.name]&&(this.annotations[options.name].config.time=options.time)}},{key:"updateAnnotationDuration",value:function updateAnnotationDuration(options){this.video._impl._overlays[options.name].duration=options.duration,this.annotations[options.name]&&(this.annotations[options.name].config.duration=options.duration)}},{key:"adjustSpacingForClickForSound",value:function adjustSpacingForClickForSound(isClickForSoundVisible){this.rootElem&&2<=this.rootElem.childNodes.length&&(isClickForSoundVisible?elemStyle(this.rootElem.childNodes[1],{marginTop:"".concat(56*this.props.scale,"px")}):elemStyle(this.rootElem.childNodes[1],{marginTop:"0px"}))}}]),AnnotationOverlayControl}(_shared_controls_Control_js__WEBPACK_IMPORTED_MODULE_1__.default),getThemeColors=function getThemeColors(config){return config.theme&&"light"===config.theme?{color:"#505050",backgroundColor:"rgba(255,255,255,.80)"}:{color:"#fff",backgroundColor:"rgba(0,0,0,.55)"}},sanitizeUrl=function sanitizeUrl(unsanitizedUrl){var url=unescapeHtml(unsanitizedUrl);return"http"==url.substring(0,4)||"mailto"==url.substring(0,6)||"ftp"==url.substring(0,3)||"/"==url.substring(0,1)||"#"==url.substring(0,1)||"tel"==url.substring(0,3)?url:"http://".concat(url)},sanitizeText=function sanitizeText(unsanitizedText){return unsanitizedText.replace(/<br\/>/g,"\n").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>")};AnnotationOverlayControl.handle="annotationOverlay",AnnotationOverlayControl.type="above-control-bar",AnnotationOverlayControl.sortValue=500,wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.defineControl(AnnotationOverlayControl);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AnnotationOverlayControl);

/***/ }),

/***/ 598:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _shared_controls_Control_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(141);
/* harmony import */ var player_lib_control_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return call&&("object"==typeof call||"function"==typeof call)?call:_assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var Promise=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("promiscuous"),Obj=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/obj"),_W$lib=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/elem"),elemAnimate=_W$lib.elemAnimate,elemAppend=_W$lib.elemAppend,elemFromObject=_W$lib.elemFromObject,elemRemove=_W$lib.elemRemove,elemStyle=_W$lib.elemStyle,ModalOverlayControl=/*#__PURE__*/function(_Control){function ModalOverlayControl(video){var _this;return _classCallCheck(this,ModalOverlayControl),_this=_super.call(this,video),_this.queue=[],_this.video=video,_this}_inherits(ModalOverlayControl,_Control);var _super=_createSuper(ModalOverlayControl);return _createClass(ModalOverlayControl,[{key:"destroy",value:function destroy(){this._active&&this._active.config.destroy&&this._active.config.destroy(),(0,player_lib_control_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.destroyControl)(this)}},{key:"mount",value:function mount(rootElem){this.rootElem=rootElem}},{key:"onControlPropsUpdated",value:function onControlPropsUpdated(prevProps){this._active&&(this._active.config.props=this.props,this._active.config.onControlPropsUpdated&&this._active.config.onControlPropsUpdated(prevProps))}},{key:"mountConfig",value:function mountConfig(config){var _this2=this;return this.mounted.then(function(){_this2._prev=_this2._active,_this2._active={config:config},_this2._active.config.props=_this2.props;var style=Obj.merge({backgroundColor:"rgba(0,0,0,.55)",backgroundImage:"radial-gradient(farthest-corner, rgba(0,0,0,.05), rgba(0,0,0,.2), rgba(0,0,0,0.9))",clip:"rect(0,0,0,0)",color:"#fff",fontFamily:"Helvetica, Sans-Serif",height:"100%",left:0,position:"absolute",top:0,width:"100%"},_this2._active.config.style);_this2._active.rootElem=elemFromObject({style:style,class:"w-css-reset"}),elemAppend(_this2.rootElem,_this2._active.rootElem);var mountResult=_this2._active.config.mount(_this2._active.rootElem),mountPromise=mountResult&&mountResult.then&&mountResult.catch?mountResult:Promise.resolve();return mountPromise.then(function(){elemStyle(_this2._active.rootElem,{clip:""});var prevPromise,_this2$getTransitionO=_this2.getTransitionOptions(config),transition=_this2$getTransitionO.transition;prevPromise=_this2._prev?_this2.animateOut(_this2._prev.rootElem,config):Promise.resolve(),"fade"===transition?prevPromise.then(function(){_this2.animateIn(_this2._active.rootElem,config).then(function(){_this2.removeAbilityToFocusControls()})}):"slide"===transition&&_this2.animateIn(_this2._active.rootElem,config).then(function(){_this2.removeAbilityToFocusControls()})})})}},{key:"hide",value:function hide(){var _this3=this,active=this._active;if(active){var rootElem=active.rootElem;this._active=null,this.animateOut(rootElem,active.config).then(function(){_this3.restoreAbilityToFocusControls(),elemRemove(rootElem)})}}},{key:"animateIn",value:function animateIn(rootElem,config){var _this$getTransitionOp=this.getTransitionOptions(config),transition=_this$getTransitionOp.transition,transitionTime=_this$getTransitionOp.transitionTime,transitionDirection=_this$getTransitionOp.transitionDirection;return new Promise(function(resolve){if("fade"===transition)elemStyle(rootElem,{opacity:0}),setTimeout(function(){elemAnimate(rootElem,{opacity:1},{time:transitionTime,callback:resolve})},0);else if("slide"===transition){var startTransform="translateX(100%)";"ltor"===transitionDirection&&(startTransform="translateX(-100%)"),elemStyle(rootElem,{transform:startTransform}),setTimeout(function(){elemAnimate(rootElem,{transform:"translateX(0)"},{time:transitionTime,easing:"linear",callback:resolve})},0)}})}},{key:"animateOut",value:function animateOut(rootElem,config){var _this$getTransitionOp2=this.getTransitionOptions(config),transition=_this$getTransitionOp2.transition,transitionTime=_this$getTransitionOp2.transitionTime;return new Promise(function(resolve){"fade"===transition?(elemStyle(rootElem,{opacity:1}),setTimeout(function(){elemAnimate(rootElem,{opacity:0},{time:transitionTime,callback:resolve})},0)):"slide"===transition&&(elemStyle(rootElem,{transform:"translateX(0)"}),setTimeout(function(){elemAnimate(rootElem,{transform:"translateX(100%)"},{time:transitionTime,easing:"linear",callback:resolve})},0))})}},{key:"destroyActiveConfig",value:function destroyActiveConfig(){var _this4=this;return new Promise(function(resolve){if(_this4._active&&_this4._active.config){var destroyForReal=function destroyForReal(){_this4._active.config.destroy&&_this4._active.config.destroy(),elemRemove(_this4._active.rootElem),resolve()};_this4.animateOut(_this4._active.rootElem).then(destroyForReal)}else resolve()})}},{key:"getTransitionOptions",value:function getTransitionOptions(config){return{transition:config.transition||"fade",transitionTime:config.transitionTime||400,transitionDirection:config.transitionDirection||""}}// for future us: move these focus functions into their own async require
// that extends the impl so its not coupled the ui behavior implementation
},{key:"removeAbilityToFocusControls",value:function removeAbilityToFocusControls(){var _this5=this;this._changedFocus={elems:[],previousTabIndex:[]};var mountRefs=this.video.behaviors.ui.mountRefs;// get all the elems we will want to keep track of
Object.keys(this.video.controls).forEach(function(controlHandle){if(controlHandle!==ModalOverlayControl.handle){var nodeList=mountRefs[controlHandle].querySelectorAll("button, [href], input, select, textarea, [tabindex=\"0\"]");_this5._changedFocus.elems=_this5._changedFocus.elems.concat(Array.prototype.slice.call(nodeList))}}),this._changedFocus.elems.forEach(function(elem){_this5._changedFocus.previousTabIndex.push(elem.getAttribute("tabindex")),elem.setAttribute("tabindex",-1)})}},{key:"restoreAbilityToFocusControls",value:function restoreAbilityToFocusControls(){var _this6=this;this._changedFocus.elems.forEach(function(elem,index){var prevValue=_this6._changedFocus.previousTabIndex[index];null==prevValue?elem.removeAttribute("tabindex"):elem.setAttribute("tabindex",prevValue)}),this._changedFocus={}}}]),ModalOverlayControl}(_shared_controls_Control_js__WEBPACK_IMPORTED_MODULE_1__.default);ModalOverlayControl.handle="modalOverlay",ModalOverlayControl.type="foreground",ModalOverlayControl.sortValue=500,wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.defineControl(ModalOverlayControl);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ModalOverlayControl);

/***/ }),

/***/ 61:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defineControl": () => (/* binding */ defineControl),
/* harmony export */   "getControlDefinitions": () => (/* binding */ getControlDefinitions)
/* harmony export */ });
/* harmony import */ var wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
null==wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default._controlDefinitions&&(wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default._controlDefinitions={});var defineControl=function defineControl(klass){if(null==klass.handle)return void console.error("Please specify a handle property for control",klass);var existingClass=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default._controlDefinitions[klass.handle];null!=existingClass||(wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default._controlDefinitions[klass.handle]=klass,wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.trigger&&wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.trigger("controldefined",klass))};var getControlDefinitions=function getControlDefinitions(){return wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default._controlDefinitions||{}};wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.defineControl=defineControl;

/***/ }),

/***/ 60:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "callUnbinds": () => (/* binding */ callUnbinds),
/* harmony export */   "destroyControl": () => (/* binding */ destroyControl),
/* harmony export */   "maybeDestroyControls": () => (/* binding */ maybeDestroyControls),
/* harmony export */   "maybeInitializeControls": () => (/* binding */ maybeInitializeControls),
/* harmony export */   "mountControls": () => (/* binding */ mountControls),
/* harmony export */   "setControlProps": () => (/* binding */ setControlProps),
/* harmony export */   "removeRootElem": () => (/* binding */ removeRootElem),
/* harmony export */   "runOnControlPropsUpdated": () => (/* binding */ runOnControlPropsUpdated),
/* harmony export */   "getSortedControlsByType": () => (/* binding */ getSortedControlsByType),
/* harmony export */   "pickControlDefinitionsWithTypes": () => (/* binding */ pickControlDefinitionsWithTypes),
/* harmony export */   "unmountReactMounts": () => (/* binding */ unmountReactMounts),
/* harmony export */   "unsetObjectProperties": () => (/* binding */ unsetObjectProperties)
/* harmony export */ });
/* harmony import */ var wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var promiscuous__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27);
/* harmony import */ var promiscuous__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promiscuous__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var utilities_assign_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19);
/* harmony import */ var player_control_definitions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(61);
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6);
var _W$lib=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/detect"),cachedDetect=_W$lib.cachedDetect,_W$lib2=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/timeout-utils"),doTimeout=_W$lib2.doTimeout,clearTimeouts=_W$lib2.clearTimeouts,_W$lib3=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/elem"),elemBind=_W$lib3.elemBind,elemRemove=_W$lib3.elemRemove,elemUnbind=_W$lib3.elemUnbind;var _W$lib4=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/seqid"),seqId=_W$lib4.seqId,detect=cachedDetect();// Call functions that we've pushed into control.unbinds.
var callUnbinds=function callUnbinds(control){control.unbinds instanceof Array&&(control.unbinds.map(function(unbind){try{"function"==typeof unbind&&unbind()}catch(e){setTimeout(function(){throw e},1)}}),control.unbinds=null)};var destroyControl=function destroyControl(control){control._destroyed=!0,callUnbinds(control),removeRootElem(control),unmountReactMounts(control),unsetObjectProperties(control)};var maybeDestroyControls=function maybeDestroyControls(_ref){var controls=_ref.controls,isControlDisabled=_ref.isControlDisabled,shouldMount=_ref.shouldMount,destroyedControls=[];for(var handle in controls){var control=controls[handle];if(isControlDisabled(handle)||!shouldMount(control.constructor)){if(control.destroy)try{control.destroy()}catch(e){setTimeout(function(){throw e},1)}control.__destroyed=!0,delete controls[control.constructor.handle],destroyedControls.push(control)}}return destroyedControls};var maybeInitializeControls=function maybeInitializeControls(_ref2){var controlDefinitions=_ref2.controlDefinitions,controls=_ref2.controls,isControlDisabled=_ref2.isControlDisabled,initControl=_ref2.initControl,onMount=_ref2.onMount,shouldMount=_ref2.shouldMount,reevaluateShouldMount=_ref2.reevaluateShouldMount,newControls=[],existingControls=[],_loop=function _loop(handle){var ControlClass=controlDefinitions[handle],hasBeenInitialized=null!=controls[handle],shouldDoMount=!isControlDisabled(handle)&&shouldMount(ControlClass);if(reevaluateShouldMount(ControlClass),shouldDoMount&&hasBeenInitialized)return existingControls.push(controls[handle]),"continue";if(!hasBeenInitialized&&shouldDoMount)try{var control=controls[handle]=initControl(ControlClass);control.mounted=new (promiscuous__WEBPACK_IMPORTED_MODULE_1___default())(function(resolve){control.__didMount=function(){control.mounted.isResolved=!0,onMount(handle),resolve()}}),newControls.push(control)}catch(e){setTimeout(function(){throw e},1)}};for(var handle in controlDefinitions){var _ret=_loop(handle);"continue"===_ret}return[newControls,existingControls]};var mountControl=function mountControl(control,mountFn){try{var handle=control.constructor.handle,mountResult=mountFn();return mountResult&&mountResult.then&&mountResult.catch?(mountResult.handle=handle,mountResult.then(function(){control.__didMount()})):control.__didMount(),promiscuous__WEBPACK_IMPORTED_MODULE_1___default().resolve(mountResult)}catch(e){return setTimeout(function(){throw e},0),promiscuous__WEBPACK_IMPORTED_MODULE_1___default().resolve()}},renderHourglassLoader=function renderHourglassLoader(control,promise,options){return new (promiscuous__WEBPACK_IMPORTED_MODULE_1___default())(function(resolve){// we wanna wait 300ms before showing the loading indication
var timeoutKey="".concat(control.video.uuid,".loading_indicator.").concat(seqId());doTimeout(timeoutKey,function(){control.video.controls.loadingHourglass.show(options),detect.touchScreen?elemBind(document,"touchstart",function(){try{control.video.controls.loadingHourglass.hide()}catch(e){setTimeout(function(){throw e},0)}return resolve(),elemUnbind}):elemBind(document,"mousedown",function(){try{control.video.controls.loadingHourglass.hide()}catch(e){setTimeout(function(){throw e},0)}return resolve(),elemUnbind})},300),promise.then(function(){clearTimeouts(timeoutKey),control.video.controls.loadingHourglass.hide(),resolve()})})};var mountControls=function mountControls(controls,mountRefs){return promiscuous__WEBPACK_IMPORTED_MODULE_1___default().all(controls.map(function(control){var handle=control.constructor.handle;control.loading||(control.loading=function(promise){var options=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return renderHourglassLoader(control,promise,options)});var mountPoint=mountRefs[handle];return mountControl(control,function(){return control.mount(mountPoint)})}))};var setControlProps=function setControlProps(controls,propsByType){for(var handle in controls){var control=controls[handle];control.__prevProps=control.props||{},control.props=(0,utilities_assign_js__WEBPACK_IMPORTED_MODULE_2__.default)({},propsByType[control.constructor.type])}};var removeRootElem=function removeRootElem(control){control.rootElem&&elemRemove(Array.prototype.slice.call(control.rootElem.childNodes))};var renderNothingForReactMount=function renderNothingForReactMount(reactMount){var containerElem=reactMount[0],renderedElem=reactMount[1];containerElem&&renderedElem&&(0,preact__WEBPACK_IMPORTED_MODULE_4__.render)((0,preact__WEBPACK_IMPORTED_MODULE_4__.h)("nothing",null),containerElem)};var runOnControlPropsUpdated=function runOnControlPropsUpdated(controls){controls.forEach(function(control){if("function"==typeof control.onControlPropsUpdated)try{control.onControlPropsUpdated(control.__prevProps||{})}catch(e){setTimeout(function(){throw e},0)}control.__prevProps=null})};var startsWithDoubleUnderscore=function startsWithDoubleUnderscore(str){return"_"===str[0]&&"_"===str[1]};var getSortedControlsByType=function getSortedControlsByType(controls){var result={};// bucket
for(var handle in controls){var control=controls[handle],type=control.constructor.type;null==result[type]&&(result[type]=[]),result[type].push(control)}// sort each bucket
for(var _type in result)result[_type].sort(function(control1,control2){return(control1.constructor.sortValue||0)-(control2.constructor.sortValue||0)});return result};var pickControlDefinitionsWithTypes=function pickControlDefinitionsWithTypes(types){var globalControlDefinitions=(0,player_control_definitions_js__WEBPACK_IMPORTED_MODULE_3__.getControlDefinitions)(),result={};for(var k in globalControlDefinitions){var controlDef=globalControlDefinitions[k];0<=types.indexOf(controlDef.type)&&(result[k]=controlDef)}return result};var unmountReactMounts=function unmountReactMounts(control){// Controls that render to react can save the relevant mount points like:
//
// control.reactMounts = [control.rootElem, control.thumbnailElem]
//
// or in the case where there are multiple mounts (like button and dialog)
//
// control.reactMounts.button = [control.buttonRoot, control.buttonElem]
// control.reactMounts.dialog = [control.dialogRoot, control.dialogElem]
//
// And control code will automatically unmount on destroy to clean up any
// dangling react DOM nodes.
var reactMounts=control.reactMounts;if(reactMounts)if(reactMounts instanceof Array)renderNothingForReactMount(reactMounts);else for(var mountName in reactMounts)reactMounts.hasOwnProperty(mountName)&&reactMounts[mountName]&&renderNothingForReactMount(reactMounts[mountName])};var unsetObjectProperties=function unsetObjectProperties(control){// Null out any object properties that may cause a reference.
for(var k in control)control.hasOwnProperty(k)&&!startsWithDoubleUnderscore(k)&&"mounted"!==k&&(control[k]=null);// Set control again because we would've just unset it above.
control.__prevProps=null,control._destroyed=!0};

/***/ }),

/***/ 19:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// You wouldn't believe it, but IE11 does not support Object.assign(), so this
// is our non-polyfill replacement.
var assign=function assign(obj1){for(var _len=arguments.length,objs=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)objs[_key-1]=arguments[_key];if(Object.assign)return Object.assign.apply(Object,[obj1].concat(objs));for(var i=0;i<objs.length;i++)assignOne(obj1,objs[i]);return obj1},assignOne=function assignOne(obj1,obj2){for(var k in obj2)obj2.hasOwnProperty(k)&&(obj1[k]=obj2[k]);return obj1};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (assign);

/***/ }),

/***/ 2:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* global globalThis */var root;try{root=self,root.self!==root&&typeof root.self!==void 0&&"undefined"!=typeof window&&(root=window)}catch(err){root="undefined"==typeof globalThis?window:globalThis}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (root);

/***/ }),

/***/ 1:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var utilities_root__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
null==utilities_root__WEBPACK_IMPORTED_MODULE_0__.default.Wistia&&(utilities_root__WEBPACK_IMPORTED_MODULE_0__.default.Wistia={});var W=utilities_root__WEBPACK_IMPORTED_MODULE_0__.default.Wistia;null==W._initializers&&(W._initializers={}),null==W._destructors&&(W._destructors={}),null==W.mixin&&(W.mixin=function(klass,obj){for(var k in obj)obj.hasOwnProperty(k)&&(klass[k]=obj[k])});/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (utilities_root__WEBPACK_IMPORTED_MODULE_0__.default.Wistia);

/***/ }),

/***/ 6:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ N),
/* harmony export */   "hydrate": () => (/* binding */ O),
/* harmony export */   "createElement": () => (/* binding */ a),
/* harmony export */   "h": () => (/* binding */ a),
/* harmony export */   "Fragment": () => (/* binding */ y),
/* harmony export */   "createRef": () => (/* binding */ h),
/* harmony export */   "isValidElement": () => (/* binding */ l),
/* harmony export */   "Component": () => (/* binding */ p),
/* harmony export */   "cloneElement": () => (/* binding */ S),
/* harmony export */   "createContext": () => (/* binding */ q),
/* harmony export */   "toChildArray": () => (/* binding */ w),
/* harmony export */   "options": () => (/* binding */ n)
/* harmony export */ });
/*** IMPORTS FROM imports-loader ***/var n,l,u,i,t,o,define=void 0,r={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,o,r=arguments,f={};for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:f[o]=l[o];if(3<arguments.length)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),"function"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(b)}function b(){for(var n;b.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,I(r,t,i,l.__n,void 0!==r.ownerSVGElement,null==t.__h?null:[o],u,null==o?d(t):o,t.__h),T(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||"boolean"==typeof k?null:"string"==typeof k||"number"==typeof k||"bigint"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):0<k.__b?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}I(n,k,_=_||r,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null==b?s&&_.__e==s&&s.parentNode!=n&&(s=d(_)):(null==m&&(m=b),"function"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,b,s),a||"option"!==u.type?"function"==typeof u.type&&(u.__d=s):n.value="")}for(u.__e=m,h=P;h--;)null!=A[h]&&("function"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l="function"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0===r?t.nextSibling:r}function A(n,l,u,i,t){var o;for(o in u)"children"===o||"key"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&"function"!=typeof l[o]||"children"===o||"key"===o||"value"===o||"checked"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]=null==u?"":"number"!=typeof u||e.test(l)?u:u+"px"}function C(n,l,u,i,t){var o;n:if("style"===l){if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||P(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}}else if("o"===l[0]&&"n"===l[1])o=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H:$,o):n.removeEventListener(l,o?H:$,o);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null!=u&&(!1!==u||"a"===l[0]&&"r"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function I(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if("function"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:("prototype"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i)}}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if("svg"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&f.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||""))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&"foreignObject"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||("value"in d&&void 0!==(k=d.value)&&(k!==n.value||"progress"===_&&!k)&&C(n,"value",k,p.value,!1),"checked"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,"checked",k,p.checked,!1))}return n}function z(l,u,i){try{"function"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||"function"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&s(o)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t="function"==typeof i)?null:i&&i.__k||u.__k,e=[],I(u,l=(!t&&i||u).__k=a(y,null,[l]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,o,r=arguments,f=c({},n.props);for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:f[o]=l[o];if(3<arguments.length)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l="__cC"+o++,__:n,Consumer:function Consumer(n,l){return n.children(l)},Provider:function Provider(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function __e(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function l(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),"function"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,o=0;

/***/ }),

/***/ 27:
/***/ ((module) => {

/**@license MIT-promiscuous-Â©Ruben Verborgh*/(function(func,obj){// Type checking utility function
function is(type,item){return(typeof item)[0]==type}// Creates a promise, calling callback(resolve, reject), ignoring other parameters.
function Promise(callback,handler){return handler=function pendingHandler(resolved,rejected,value,queue,then,i){// Case 1) handle a .then(resolved, rejected) call
if(queue=pendingHandler.q,resolved!=is)return Promise(function(resolve,reject){queue.push({p:this,r:resolve,j:reject,1:resolved,0:rejected})});// Case 2) handle a resolve or reject call
// (`resolved` === `is` acts as a sentinel)
// The actual function signature is
// .re[ject|solve](<is>, success, value)
// Check if the value is a promise and try to obtain its `then` method
if(value&&is(func,value)|is(obj,value))try{then=value.then}catch(reason){rejected=0,value=reason}// If the value is a promise, take over its state
if(is(func,then)){var valueHandler=function valueHandler(resolved){return function(value){then&&(then=0,pendingHandler(is,resolved,value))}};try{then.call(value,valueHandler(1),rejected=valueHandler(0))}catch(reason){rejected(reason)}}// The value is not a promise; handle resolve/reject
else for(handler=function handler(Resolved,Rejected){// If the Resolved or Rejected parameter is not a function,
// return the original promise (now stored in the `callback` variable)
return is(func,Resolved=rejected?Resolved:Rejected)?Promise(function(resolve,reject){finalize(this,resolve,reject,value,Resolved)}):callback;// Otherwise, return a finalized promise, transforming the value with the function
},i=0;i<queue.length;)then=queue[i++],is(func,resolved=then[rejected])?// Otherwise, resolve/reject the promise with the result of the callback
finalize(then.p,then.r,then.j,value,resolved):(rejected?then.r:then.j)(value)},handler.q=[],callback.call(callback={then:function then(resolved,rejected){return handler(resolved,rejected)},catch:function _catch(rejected){return handler(0,rejected)}},function(value){handler(is,1,value)},function(reason){handler(is,0,reason)}),callback}// Finalizes the promise by resolving/rejecting it with the transformed value
function finalize(promise,resolve,reject,value,transform){var fn=function fn(){try{// Transform the value through and check whether it's a promise
value=transform(value),transform=value&&is(obj,value)|is(func,value)&&value.then,is(func,transform)?value==promise?reject(TypeError()):// Take over the promise's state
transform.call(value,resolve,reject):resolve(value)}catch(error){reject(error)}};// Don't polyfill setImmediate, but use it if it's available.
window.setImmediate?window.setImmediate(fn):setTimeout(fn,0)}// Export the main module
function ResolvedPromise(value){return Promise(function(resolve){resolve(value)})}// Creates a rejected promise
// If Promise is defined globally when this runs, just use that.
return window.Promise?void(module.exports=window.Promise):void(// Creates a resolved promise
// Transforms an array of promises into a promise for an array
// Returns a promise that resolves or rejects as soon as one promise in the array does
module.exports=Promise,Promise.resolve=ResolvedPromise,Promise.reject=function(reason){return Promise(function(resolve,reject){reject(reason)})},Promise.all=function(promises){return Promise(function(resolve,reject,count,values){// Array of collected values
// Resolve immediately if there are no promises
// Transform all elements (`map` is shorter than `forEach`)
values=[],count=promises.length||resolve(values),promises.map(function(promise,index){ResolvedPromise(promise).then(// Store the value and resolve if it was the last
function(value){values[index]=value,--count||resolve(values)},// Reject if one element fails
reject)})})},Promise.race=function(promises){return Promise(function(resolve,reject){// Register to all promises in the array
promises.map(function(promise){ResolvedPromise(promise).then(resolve,reject)})})})})("f","o");

/***/ })

/******/  });
/************************************************************************/
/******/  // The module cache
/******/  var __webpack_module_cache__ = {};
/******/  
/******/  // The require function
/******/  function __webpack_require__(moduleId) {
/******/   // Check if module is in cache
/******/   var cachedModule = __webpack_module_cache__[moduleId];
/******/   if (cachedModule !== undefined) {
/******/    return cachedModule.exports;
/******/   }
/******/   // Create a new module (and put it into the cache)
/******/   var module = __webpack_module_cache__[moduleId] = {
/******/    // no module.id needed
/******/    // no module.loaded needed
/******/    exports: {}
/******/   };
/******/  
/******/   // Execute the module function
/******/   __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/  
/******/   // Return the exports of the module
/******/   return module.exports;
/******/  }
/******/  
/************************************************************************/
/******/  /* webpack/runtime/compat get default export */
/******/  (() => {
/******/   // getDefaultExport function for compatibility with non-harmony modules
/******/   __webpack_require__.n = (module) => {
/******/    var getter = module && module.__esModule ?
/******/     () => (module['default']) :
/******/     () => (module);
/******/    __webpack_require__.d(getter, { a: getter });
/******/    return getter;
/******/   };
/******/  })();
/******/  
/******/  /* webpack/runtime/define property getters */
/******/  (() => {
/******/   // define getter functions for harmony exports
/******/   __webpack_require__.d = (exports, definition) => {
/******/    for(var key in definition) {
/******/     if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/      Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/     }
/******/    }
/******/   };
/******/  })();
/******/  
/******/  /* webpack/runtime/hasOwnProperty shorthand */
/******/  (() => {
/******/   __webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/  })();
/******/  
/******/  /* webpack/runtime/make namespace object */
/******/  (() => {
/******/   // define __esModule on exports
/******/   __webpack_require__.r = (exports) => {
/******/    if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/     Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/    }
/******/    Object.defineProperty(exports, '__esModule', { value: true });
/******/   };
/******/  })();
/******/  
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _video_controls_ModalOverlayControl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(598);
/* harmony import */ var _video_controls_AnnotationOverlayControl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(599);
/* harmony import */ var _PlayerBehavior_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(551);
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!(i&&_arr.length===i));_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i["return"]||_i["return"]()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return call&&("object"==typeof call||"function"==typeof call)?call:_assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var Promise=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("promiscuous"),_W$lib=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/wlog"),wlog=_W$lib.wlog,_W$lib2=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/bindify"),bindify=_W$lib2.bindify,_W$lib3=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/url"),objectToQueryParams=_W$lib3.objectToQueryParams,Obj=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("utilities/obj"),_W$lib4=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/ajax"),ajax=_W$lib4.ajax,_W$lib5=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/script-utils"),runScripts=_W$lib5.runScripts,_W$lib6=wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.lib("player/lib/elem"),elemAncestors=_W$lib6.elemAncestors,elemAppend=_W$lib6.elemAppend,elemBind=_W$lib6.elemBind,elemFromObject=_W$lib6.elemFromObject,elemHtml=_W$lib6.elemHtml,elemUnbindAll=_W$lib6.elemUnbindAll,OverlaysBehavior=/*#__PURE__*/function(_PlayerBehavior){function OverlaysBehavior(){return _classCallCheck(this,OverlaysBehavior),_super.apply(this,arguments)}_inherits(OverlaysBehavior,_PlayerBehavior);var _super=_createSuper(OverlaysBehavior);return _createClass(OverlaysBehavior,[{key:"init",value:function init(){var _this=this;this.overlaysQueue=[],this.unbinds=[],this.unbinds.push(this.impl.on("beforepopoverhide",function(){if(_this._activeOverlayName&&"modal"===_this._activeOverlayConfig.type&&(_this.impl.publicApi.unsuspend({state:"paused"}),_this._activeOverlayConfig.options)){var activeOverlayTime=_this._activeOverlayConfig.options.time;_this.cancelOverlay(_this._activeOverlayName).then(function(){"before"===activeOverlayTime&&_this.impl.publicApi.suspend()})}}))}},{key:"requestOverlay",value:function requestOverlay(name){// when requesting an ovelray that is already active
// we can just return a fulfilled Promise
if(this._activeOverlayName===name)return Promise.resolve();var config=this.impl._overlays[name];if(!config)wlog.error("No overlay with name ".concat(name," is defined"));else switch(config.type){case"modal":return this.showOrQueueOverlay(name,config);case"modal-cta":return this.showOrQueueOverlay(name,this.getModalCtaConfig(name,config));default:return this.showOrQueueOverlay(name,this.getConfig(config));}}},{key:"showOrQueueOverlay",value:function showOrQueueOverlay(name,config){var _this2=this;// if the activeOverlay is of type modal, setup show binding and start a queue
// of overlays that will need to be displayed
return this._activeOverlayConfig&&"modal"===this._activeOverlayConfig.type?new Promise(function(resolve){_this2.bind("show",function(n){if(n===name)return resolve(),_this2.unbind}),_this2.overlaysQueue.push([name,config])}):this.showOverlay(name,config)}},{key:"cancelOverlay",value:function cancelOverlay(name){var _this3=this,config=this.impl._overlays[name];// if there is no config, they're trying to cancel a non-existant overlay
return config?(this.overlaysQueue=this.overlaysQueue.filter(function(e){return e[0]!==name}),this._activeOverlayConfig&&this._activeOverlayName!==name&&"modal"===this._activeOverlayConfig.type?Promise.resolve():this.getControlFromConfigType(config.type).then(function(control){// if there is a queue, go the next item in queue, else just hide and unsuspend
if(_this3._activeOverlayName=null,_this3._activeOverlayConfig=null,0<_this3.overlaysQueue.length){var _this3$overlaysQueue$=_this3.overlaysQueue.pop(),_this3$overlaysQueue$2=_slicedToArray(_this3$overlaysQueue$,2),nextName=_this3$overlaysQueue$2[0],nextConfig=_this3$overlaysQueue$2[1];_this3.showOverlay(nextName,nextConfig).then(function(){nextConfig.type!==config.type&&_this3.hideControl(config,control,name),_this3.trigger("hide",name)})}else _this3.hideControl(config,control,name),_this3.trigger("hide",name),_this3.impl.publicApi.unsuspend()})):Promise.resolve();// remove it from the queue if it's there.
}},{key:"hideControl",value:function hideControl(config,control,name){"annotation"===config.type?control.hide({name:name}):control.hide()}},{key:"showOverlay",value:function showOverlay(name,config){var _this4=this;return this._activeOverlayName=name,this._activeOverlayConfig=config,"modal"===config.type&&this.impl.publicApi.suspend(),this.getControlFromConfigType(config.type).then(function(control){var options="annotation"===config.type?{name:name}:{},mountResult=control.mountConfig(config,options),mountPromise=mountResult&&mountResult.then&&mountResult.catch?mountResult:Promise.resolve();// modals stop the video, annotations do not :)
return mountPromise.then(function(){wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.EmbedLink.setupAll(_this4.rootElem),_this4.trigger("show",name)})}).catch(function(){"modal"===config.type&&_this4.impl.publicApi.unsuspend()})}// if there is already a mount function on the config
// we dont need to define one and should use the provided one
},{key:"getConfig",value:function getConfig(config){return config.mount?config:_objectSpread(_objectSpread({},config),{},{mount:function mount(rootElem){this.rootElem=rootElem}})}},{key:"getModalCtaConfig",value:function getModalCtaConfig(name,config){var behavior=this,impl=behavior.impl;return{mount:function mount(rootElem){this.rootElem=rootElem;var scriptsPromise=config.scripts?runScripts(config.scripts):Promise.resolve(),stylesheetPromises=(config.css||[]).map(function(href){new Promise(function(resolve){var linkTag=elemFromObject({tagName:"link",rel:"stylesheet",href:href,events:{load:function load(){return resolve(linkTag)},error:function error(){return resolve(linkTag)}}});elemAppend(rootElem,linkTag),setTimeout(function(){return resolve(linkTag)},2e3)})});return Promise.all([scriptsPromise].concat(stylesheetPromises)).then(function(){elemHtml(rootElem,config.html),elemBind(rootElem,"click",function(e){(config.onClick||[]).map(function(handler){if(!handler.selector||elemClosest(e.target,handler.selector)){if(e.preventDefault(),handler.fetch&&handler.fetch.url){var data={};handler.fetch.include instanceof Array&&handler.fetch.include.forEach(function(methodName){if(impl.publicApi[methodName]){var val=impl.publicApi[methodName]();null!==val&&(data[methodName]=val)}});// Even though this is called "fetch", this isn't
// supporting fetch-style options currently. But we
// should figure out how to facilitate that before making
// this public.
var ajaxOpts=Obj.merge({data:data,contentType:"application/x-www-form-urlencoded"},handler.fetch);"object"==typeof ajaxOpts.data&&"application/x-www-form-urlencoded"===ajaxOpts.contentType&&(ajaxOpts.data=objectToQueryParams(ajaxOpts.data)),ajax(handler.fetch.url,ajaxOpts)}handler.scripts&&runScripts(handler.scripts),(handler.actions||[]).forEach(function(action){if("hide"===action)behavior.cancelOverlay(name);else// player methods
if("string"==typeof action)impl.publicApi[action]();else if(action instanceof Array){var _impl$publicApi;(_impl$publicApi=impl.publicApi)[action].apply(_impl$publicApi,_toConsumableArray(action.slice(1)))}})}})})})},destroy:function destroy(){elemUnbindAll(this.rootElem)}}}},{key:"getControlFromConfigType",value:function getControlFromConfigType(type){return"annotation"===type?this.impl.whenControlMounted("annotationOverlay"):"transcript"===type?this.impl.whenControlMounted("transcript"):this.impl.whenControlMounted("modalOverlay")}},{key:"undefineOverlay",value:function undefineOverlay(name){this.impl._overlays[name]&&delete this.impl._overlays[name]}}]),OverlaysBehavior}(_PlayerBehavior_js__WEBPACK_IMPORTED_MODULE_3__.PlayerBehavior);bindify(OverlaysBehavior.prototype),OverlaysBehavior.handle="overlays";var matchesSelector=function matchesSelector(e,selector){var fn=e.matches||e.matchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return fn&&fn.call(e,selector)},elemClosest=function elemClosest(elem,selector){var ancestorsAndMe=[elem].concat(elemAncestors(elem)),matchingElems=ancestorsAndMe.filter(function(e){return matchesSelector(e,selector)});return matchingElems[0]};wistia_namespace_js__WEBPACK_IMPORTED_MODULE_0__.default.define("vulcanV2Player/behaviors/OverlaysBehavior.js",OverlaysBehavior);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OverlaysBehavior);
})();

/******/ })()
;