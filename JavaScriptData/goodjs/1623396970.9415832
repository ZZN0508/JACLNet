!function(e){function n(n){for(var r,a,s=n[0],c=n[1],u=n[2],l=0,f=[];l<s.length;l++)a=s[l],o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(d&&d(n);f.length;)f.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,s=1;s<t.length;s++){var c=t[s];0!==o[c]&&(r=!1)}r&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},o={"5d5218d3":0},i=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="https://static.avito.ru/s/cc/";var s=window.monolithJsonpFunction=window.monolithJsonpFunction||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var d=c;i.push([8854,"aae30858"]),t()}({10886:function(e,n,t){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var a=[],s=0;s<256;++s)a.push((s+256).toString(16).substr(1));var c=function(e,n){var t=n||0,r=a;return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()};n.a=function(e,n,t){"string"==typeof e&&(n="binary"===e?new Uint8Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){for(var o=t||0,a=0;a<16;++a)n[o+a]=r[a];return n}return c(r)}},10929:function(e,n,t){"use strict";t.r(n);var r=t(4226),o=t(6758),i=function e(n){var t=this;if(babelHelpers.classCallCheck(this,e),babelHelpers.defineProperty(this,"bannerActionHandler",(function(e){var n=t.bannerRotationData,o=n.bannerId,i=n.bannerPage,a=n.bannerPosition;Object(r.a)({version:0,eid:3207,pagetype:i,placement:a,banner_id:o,action_type:e})})),babelHelpers.defineProperty(this,"bannerCloseHandler",(function(){t.bannerNode.remove(),fetch("/js/banner/close",{method:"POST",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},body:JSON.stringify(t.bannerRotationData)})})),this.bannerNode=n,this.bannerNode){this.bannerCloseNode=this.bannerNode.querySelector(".js-common-banner-close"),this.bannerActionNodes=Array.from(this.bannerNode.querySelectorAll(".js-internal-rotation-banner-action"));var i=this.bannerNode.dataset;this.bannerRotationData={bannerId:i.bannerId,bannerPage:i.bannerPage||"",bannerPosition:i.bannerPosition||"",bannerCloseTimeout:i.bannerCloseTimeout||0};var a=this.bannerRotationData,s=a.bannerId,c=a.bannerPage,u=a.bannerPosition;this.bannerCloseNode&&this.bannerCloseNode.addEventListener("click",this.bannerCloseHandler),Object(o.a)(n,s,c,u),this.bannerActionNodes.forEach((function(e){var n=e.dataset.actionType;e.addEventListener("click",(function(){return t.bannerActionHandler(n)}))}))}};document.addEventListener("DOMContentLoaded",(function(){Array.from(document.querySelectorAll(".js-common-banner"),(function(e){new i(e)}))}))},10952:function(e,n,t){"use strict";var r=t(10886);function o(e){return i.apply(this,arguments)}function i(){return(i=babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e){return"number"==typeof e&&isFinite(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){babelHelpers.defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u="last-ref-id",d="js/1",l="pending";n.a=function e(n){var t=this,i=n.common,s=void 0===i?{}:i,f=n.srcId,p=n.buildUid,b=void 0===p?"undefined":p,v=n.softwareVersion,h=n.build,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/clickstream/events/1/json",y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null};if(babelHelpers.classCallCheck(this,e),babelHelpers.defineProperty(this,"increment",(function(){return Object(r.a)()})),babelHelpers.defineProperty(this,"getIds",(function(){var e=window.localStorage.getItem(u),n=t.increment();return window.localStorage.setItem(u,n),{refId:n,parentRefId:e,tabId:t.tabId}})),babelHelpers.defineProperty(this,"createEvent",(function(e,n,r){var o=t.getIds(),i=o.refId,a=o.parentRefId,s=o.tabId,c={event_id:e,version:n,params:r};for(var u in c)c.hasOwnProperty(u)&&null===c[u]&&(c[u]=void 0);return c.env={},c.env.cdtm=Number(Date.now().toFixed(1)),c.env.ref_id=i||"",c.env.parent_ref_id=a||"",c.env.tab_id=s||"",c})),babelHelpers.defineProperty(this,"createSendBody",(function(e){var n={version:1,meta:c({},t.meta),common:c({},t.common)};return n.events=e.map((function(e){return e.event})),n})),babelHelpers.defineProperty(this,"sendEvents",babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.sendBatchEvents();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.errorHandler(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))),babelHelpers.defineProperty(this,"cycleSend",babelHelpers.asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(1e3);case 2:t.events.filter((function(e){return e.status!==l})).length&&t.sendEvents(),t.cycleSend();case 5:case"end":return e.stop()}}),e)})))),babelHelpers.defineProperty(this,"sendBatchEvents",(function(){var e=t.events.filter((function(e){return e.status!==l})),n=t.createSendBody(e);t.events=e.map((function(e){return c({},e,{},{status:l})}));var r=e.map((function(e){return e.id}));return t.sendData(n,r)})),babelHelpers.defineProperty(this,"sendData",(function(e,n){return fetch(t.link,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.status>=400&&502!==e.status?(t.clearBatch(n),Promise.reject(e)):(t.clearBatch(n),{response:e})}))})),babelHelpers.defineProperty(this,"sendEvent",(function(e,n,o){if(t.ssr)return"";if(!a(e))throw new Error("event id should be number type");if(!a(n))throw new Error("event version should be number type");var i=t.createEvent(e,n,o);return t.events.push({id:Object(r.a)(),event:i}),t.events.length>1e3&&t.sendEvents(),i.env.ref_id})),babelHelpers.defineProperty(this,"clearBatch",(function(e){e.forEach((function(e){var n=t.events.findIndex((function(n){return n.id===e}));t.event.splice(n,0)}))})),babelHelpers.defineProperty(this,"setUID",(function(e){t.common=c({},t.common,{uid:e})})),!f)throw new Error("srcId is required");if("undefined"!=typeof window){var w=function(e){return window.document.referrer&&window.document.referrer.startsWith(e)},g=window.location.origin,P=window.performance&&window.performance.navigation&&1===window.performance.navigation.type;this.events=[],this.link=m,window.addEventListener("onbeforeunload",(function(){t.sendBatchEvents(t.events)})),this.cycleSend(),P||w(g)||window.localStorage.removeItem(u);var O=window.sessionStorage.tabId;O||(O=Object(r.a)(),window.sessionStorage.tabId=O),this.meta={src_id:f,build_uid:b,sdk:d,software_version:v,build:h},this.tabId=O,this.common=c({src_id:f},s),this.errorHandler=y}else this.ssr=!0}},4222:function(e,n,t){"use strict";function r(e,n,t){var r,o,i,a,s=function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];o=c,i=!0,a=this,r||function t(s){i?(s||e.apply(a,o),i=!1,r=setTimeout(t,n)):r=null}(t)};return s.clean=function(){clearTimeout(r),r=null},s}t.d(n,"a",(function(){return r}))},5990:function(e,n,t){"use strict";var r,o,i,a,s,c,u=new(t(10952).a)({common:{ua:"undefined"!=typeof window?window.navigator.userAgent:""},build:"undefined"!=typeof window?(null===(r=window.avito)||void 0===r||null===(o=r.clickstream)||void 0===o?void 0:o.buildId)||"local":"",buildUid:"undefined"!=typeof window?(null===(i=window.avito)||void 0===i||null===(a=i.clickstream)||void 0===a?void 0:a.buildUid)||"local":"",softwareVersion:"Monolith",srcId:"undefined"!=typeof window?null===(s=window.avito)||void 0===s||null===(c=s.clickstream)||void 0===c?void 0:c.srcId:96},"/clickstream/events/1/json");n.a=u},6758:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(10779),o=t(5990);function i(e,n,t,i){var a=Object(r.throttle)((function(){e&&Object(r.isNodeInViewport)(e)&&(o.a.sendEvent(3180,0,{pagetype:t,placement:i,banner_id:n}),window.removeEventListener("scroll",a))}),500);window.addEventListener("scroll",a),a()}},8854:function(e,n,t){e.exports=t(10929)}});