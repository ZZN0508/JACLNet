!function(t){function e(e){for(var o,a,s=e[0],c=e[1],l=e[2],f=0,p=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(u&&u(e);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={9:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=o);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(t){return a.p+""+({1:"shared/generated/js/BeforeAfterSlider",2:"shared/generated/js/ImageZoomLayer",4:"shared/generated/js/CappingLayer",5:"shared/generated/js/JWPlayer",6:"shared/generated/js/Search",7:"shared/generated/js/fetch"}[t]||t)+"."+{1:"8827aee0381a3e7f8a45",2:"3854362023b97c05f4d2",4:"58840b19772e1e729e8f",5:"eb22b535c85e6aaca0a3",6:"6a542c00ecd2b6c6feec",7:"496558b99696463e9f5d"}[t]+".js"}(t);var c=new Error;i=function(e){s.onerror=s.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,n[1](c)}r[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/public/",a.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([176,3,0]),n()}({101:function(t,e,n){"use strict";n(50),n(68),n(4),n(5),n(10),n(7),n(11),n(12),n(3),n(8),n(9);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getItem",value:function(t){throw new Error("AbstractStorage - you have to implement the method getItem!")}},{key:"setItem",value:function(t,e){throw new Error("AbstractStorage - you have to implement the method setItem!")}},{key:"removeItem",value:function(t){throw new Error("AbstractStorage - you have to implement the method removeItem!")}}])&&o(e.prototype,n),r&&o(e,r),t}(),i=n(25),a=n.n(i);function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"getItem",value:function(t){if("string"==typeof t)return a.a.get(t)}},{key:"setItem",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"==typeof t&&void 0!==e&&(a.a.set(t,e,{expires:n}),!0)}},{key:"removeItem",value:function(t){return"string"==typeof t&&(a.a.remove(t),!0)}}],(n=null)&&s(e.prototype,n),o&&s(e,o),t}();function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return u(this,e),(t=p(this,y(e).call(this))).expires=n,t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(o=[{key:"getItem",value:function(t){return c.getItem(t)}},{key:"setItem",value:function(t,e){return c.setItem(t,e,this.expires)}},{key:"removeItem",value:function(t){return c.removeItem(t)}}])&&f(n.prototype,o),r&&f(n,r),e}(r);function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"getItem",value:function(t){if("string"==typeof t){var e;try{var n=window.localStorage;n&&null!==n.getItem(t)&&(e=n.getItem(t))}catch(t){}return e}}},{key:"setItem",value:function(t,e){if("string"!=typeof t||void 0===e)return!1;var n=!1;try{var o=window.localStorage;o&&(o.setItem(t,e),n=!0)}catch(t){}return n}},{key:"removeItem",value:function(t){if("string"!=typeof t)return!1;var e=!1;try{var n=window.localStorage;n&&(n.removeItem(t),e=!0)}catch(t){}return e}}],(n=null)&&b(e.prototype,n),o&&b(e,o),t}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function O(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k=function(t){function e(){return m(this,e),O(this,S(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,t),n=e,(o=[{key:"getItem",value:function(t){return g.getItem(t)}},{key:"setItem",value:function(t,e){return g.setItem(t,e)}},{key:"removeItem",value:function(t){return g.removeItem(t)}}])&&w(n.prototype,o),r&&w(n,r),e}(r),E=n(34);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(){return j(this,e),C(this,L(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(e,t),n=e,(o=[{key:"getItem",value:function(t){return E.a.getItem(t)}},{key:"setItem",value:function(t,e){return E.a.setItem(t,e)}},{key:"removeItem",value:function(t){return E.a.removeItem(t)}}])&&A(n.prototype,o),r&&A(n,r),e}(r);function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return x}));var x=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"session",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;if(R(this,t),"string"==typeof e&&e){switch(this.name="polygon_".concat(e),n){case"local":this.storage=new k;break;case"cookie":this.storage=new h(o);break;case"session":default:this.storage=new I}this.initValueObject()}}var e,n,o;return e=t,(n=[{key:"initValueObject",value:function(){if(this.valueObject={},this.name){var t,e,n=this.storage.getItem(this.name);n&&(t=this.decodeBase64(n)),t&&(e=this.parseJson(t)),e&&(this.valueObject=e)}}},{key:"updateStorage",value:function(){if(this.name){var t,e=JSON.stringify(this.valueObject);e&&(t=this.encodeBase64(e)),t&&this.storage.setItem(this.name,t)}}},{key:"encodeBase64",value:function(t){try{return window.btoa(t)}catch(t){return}}},{key:"decodeBase64",value:function(t){try{return window.atob(t)}catch(t){return}}},{key:"parseJson",value:function(t){if(t&&"string"==typeof t)try{return JSON.parse(t)}catch(t){return}}},{key:"getItem",value:function(t){if("string"==typeof t)return this.valueObject[t]}},{key:"setItem",value:function(t,e){if("string"!=typeof t||void 0===e)return!1;var n={};return n[t]=e,Object.assign(this.valueObject,n),this.updateStorage(),!0}},{key:"removeItem",value:function(t){return"string"==typeof t&&(delete this.valueObject[t],this.updateStorage(),!0)}}])&&D(e.prototype,n),o&&D(e,o),t}()},127:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(4),n(5),n(10),n(7),n(57),n(58),n(3),n(8),n(9);var o=n(0),r=n(6),i=n(62);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=Symbol("INSTANCE"),l=Symbol("SINGELTONENFORCER"),u=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==l)throw new Error("Instantiation failed: Use VideoDataControl.instance instead of new.");this._isInitialized=!1,this.currentVideoContentDuration=null,this._sxpkeys="fwd_j4=1&fwd_j5=2:3&fwd_i1=4:5";var n=r.a.instance,a=n.video&&n.video.vdc?n.video.vdc:void 0;this.config={autoDetection:!0,consent:!0,site:a?a.site:"",playerName:"JW Player",playerWrapper:a&&Number.isInteger(a.playerWrapper)?a.playerWrapper:10,playerSDKTimeout:a&&Number.isInteger(a.playerSDKTimeout)?a.playerSDKTimeout:8,playerTimeout:a&&Number.isInteger(a.playerTimeout)?a.playerTimeout:10},i.a.instance.ready?this.onTCDataChanged():window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.subscribe(o.Y,this.onTCDataChanged,this)}var e,n,u;return e=t,u=[{key:"instance",get:function(){return this[c]||(this[c]=new t(l)),this[c]}}],(n=[{key:"onTCDataChanged",value:function(){var t=i.a.instance;t.ready&&(window.polygon.componentLoader.unsubscribe(o.Y,this.onTCDataChanged),this.config.gdpr_consent=t.tcData&&t.tcData.tcString?t.tcData.tcString:"","object"===a(window.$AC)&&"function"==typeof window.$AC.loadConfig?this.init():window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(o.qb,this.onVideoDataControlSourceReady,this),window.polygon.componentLoader.subscribe(o.pb,this.onVideoDataControlSourceError,this)))}},{key:"onVideoDataControlSourceReady",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.unsubscribe(o.qb,this.onVideoDataControlSourceReady),window.polygon.componentLoader.unsubscribe(o.pb,this.onVideoDataControlSourceError)),this.init()}},{key:"onVideoDataControlSourceError",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.unsubscribe(o.qb,this.onVideoDataControlSourceReady),window.polygon.componentLoader.unsubscribe(o.pb,this.onVideoDataControlSourceError)),this.publish(o.nb)}},{key:"init",value:function(){"object"===a(window.$AC)&&"function"==typeof window.$AC.loadConfig&&(window.$AC.loadConfig(this.config),"function"==typeof window.$AC.playerInitReady&&window.$AC.playerInitReady()?this.onInitialized():(this.onACPlayerStartListener=this.onACPlayerStart.bind(this),window.addEventListener(o.a,this.onACPlayerStartListener)))}},{key:"onACPlayerStart",value:function(){this.onACPlayerStartListener&&window.removeEventListener(o.a,this.onACPlayerStartListener),this.onInitialized()}},{key:"onInitialized",value:function(){this._isInitialized=!0,this._sxpkeys=this.getSXPKeys(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.ob)}},{key:"getSXPKeys",value:function(){return"object"!==a(window.$AC)||"function"!=typeof window.$AC.getSXPKeys?this._sxpkeys:window.$AC.getSXPKeys()}},{key:"setVideoContentDuration",value:function(t){Number.isInteger(t)&&this.currentVideoContentDuration!==t&&"object"===a(window.$AC)&&"function"==typeof window.$AC.setTargeting&&(this.currentVideoContentDuration=t,window.$AC.setTargeting("vcd",t),this._sxpkeys=this.getSXPKeys())}},{key:"sxpkeys",get:function(){return this._sxpkeys}},{key:"isInitialized",get:function(){return this._isInitialized}}])&&s(e.prototype,n),u&&s(e,u),t}()},176:function(t,e,n){n(128),n(177),t.exports=n(200)},200:function(t,e,n){"use strict";n.r(e);n(3),n(47);var o=n(6),r=o.a.instance;n.p="".concat(r.urls.assetsBasePath,"/public/");n(4),n(5),n(10),n(13),n(7),n(14),n(11),n(12),n(15),n(8),n(9);var i=n(2),a=n.n(i),s=n(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){var t,n;l(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=f(this,(t=y(e)).call.apply(t,[this].concat(r))))._queuedScans=0,n._isScanning=!1,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(o=[{key:"scan",value:function(){this._isScanning?this._queuedScans+=1:(this._isScanning=!0,p(y(e.prototype),"scan",this).call(this),this._isScanning=!1,this._queuedScans>0?(this._queuedScans-=1,this.scan()):this.publish(s.p))}}])&&u(n.prototype,o),r&&u(n,r),e}(a.a),b=n(17),g=(n(106),n(27),n(57),n(58),n(28),n(34));function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var m=Symbol("INSTANCE"),w=Symbol("SINGELTONENFORCER"),O=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==w)throw new Error("Instantiation failed: Use BreakingNewsData.instance instead of new.");this.init(),this.fetchBreakingNews()}var e,n,r;return e=t,r=[{key:"instance",get:function(){return this[m]||(this[m]=new t(w)),this[m]}}],(n=[{key:"init",value:function(){if(g.a.getItem("breakingnews")){var t;try{t=JSON.parse(g.a.getItem("breakingnews"))}catch(t){}if(t){var e=o.a.instance,n=e.cacheControl&&e.cacheControl.breakingnews&&Number.isInteger(e.cacheControl.breakingnews.sessionStorageMaxAge)?e.cacheControl.breakingnews.sessionStorageMaxAge:900,r=Date.now()-1e3*n;if(t.updated_at&&t.updated_at>=r&&t.items&&Array.isArray(t.items))return void(this._items=t.items)}}this._items=[]}},{key:"fetchBreakingNews",value:function(){var t=this,e=o.a.instance;if(e.urls&&"string"==typeof e.urls.assetsBasePath){var n="".concat(e.urls.assetsBasePath,"/assets/news/breakingnews.json");fetch(n,{method:"GET"}).then((function(t){return t.json()})).then((function(e){return t.parseFetchedBreakingNews(e)})).catch((function(){return console.error("Error while fetching breaking news.")}))}}},{key:"parseFetchedBreakingNews",value:function(t){t&&Array.isArray(t)&&(this.items=t)}},{key:"updateSessionStorage",value:function(t){var e={items:t&&Array.isArray(t)?t:[],updated_at:Date.now()};g.a.setItem("breakingnews",JSON.stringify(e))}},{key:"items",get:function(){return this._items},set:function(t){var e=this;if(t&&Array.isArray(t)){var n=t.length!==this._items.length;n||t.forEach((function(t){-1===e._items.findIndex((function(e){return e.id===t.id}))&&(n=!0)})),this._items=t,this.updateSessionStorage(t),n&&window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(s.h,t)}}}])&&v(e.prototype,n),r&&v(e,r),t}(),S=(n(35),n(78),n(39),n(64),n(21),n(51),n(104),n(38),n(16)),P=n(1),k=n(55),E=n(18);function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var j,A,C,L=Symbol("INSTANCE"),T=Symbol("SINGELTONENFORCER"),I=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==T)throw new Error("Instantiation failed: Use GujAdBridge.instance instead of new.");this.init()}var e,n,r;return e=t,r=[{key:"instance",get:function(){return this[L]||(this[L]=new t(T)),this[L]}}],(n=[{key:"init",value:function(){var t=this;this.initializedAdPositions=[],this.reloadAllAdsTriggered=!1;var e=o.a.instance,n=k.a.instance,r="desktop";P.a.isAndroidApp?r="androidphone":P.a.isIOSApp?r="iosphone":E.a.isTablet?r="tablet":E.a.isMobile&&(r="mobile");var i=window.innerWidth,a="lg";i<=S.b.sm.max?a="sm":i<=S.b.md.max&&(a="md");var c="_default";e.noAds||n.isIssueArticle?c="_noad":void 0!==e.guj&&e.guj.zone&&(c=e.guj.zone);var l="default";void 0!==e.guj&&e.guj.spmtp&&(l=e.guj.spmtp);var u="";void 0!==e.guj&&e.guj.spmurid&&(u=e.guj.spmurid);var f="";void 0!==e.guj&&e.guj.spmtid&&(f=e.guj.spmtid);var p="";void 0!==e.guj&&e.guj.spmard&&(p=e.guj.spmard);var y=!1;void 0!==e.guj&&e.guj.isIndexPage&&(y=!0);var d=[];void 0!==e.guj&&Array.isArray(e.guj.keywords)&&(d=d.concat(e.guj.keywords)),"undefined"!=typeof GujAd&&void 0!==GujAd.cmd&&(void 0!==GujAdPositions&&GujAdPositions.forEach((function(e){Array.isArray(e.breakpoints)&&!e.breakpoints.includes(a)||t.initAdPosition(e.id)})),GujAd.cmd.unshift((function(){GujAd.getClient().setSiteType(r)}),(function(){"develop"===c?GujAd.getClient().setZone(c,!0):GujAd.getClient().setZone(c)}),(function(){GujAd.getClient().addTargetingParameter("spmtp",l),u&&GujAd.getClient().addTargetingParameter("spmurid",u),f&&GujAd.getClient().addTargetingParameter("spmtid",f),p&&GujAd.getClient().addTargetingParameter("spmard",p)}),(function(){GujAd.getClient().setIsIndexPage(y)}),(function(){GujAd.getClient().setKeywords(d)}),(function(){GujAd.registerAdPositionLoadedHandler((function(e){t.onAdPositionLoaded(e)}))}),(function(){P.a.isApp&&b.a.instance.advertisingId&&GujAd.getClient().setIDFA(b.a.instance.advertisingId)}))),window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(s.X,(function(e){t.onTargetAdPositionLoaded(e)})),e.disableAds&&void 0!==GujAdPositions&&GujAdPositions.forEach((function(t){t.sitetype&&("mobile"!==t.sitetype&&t.sitetype!==r||"mobile"===t.sitetype&&!["mobile","androidphone","iosphone"].includes(r))||window.polygon.componentLoader.publish(s.d,{positionName:t.id})})))}},{key:"onAdPositionLoaded",value:function(t){var e=t.getName(),n=t.containsAd(),o=t.getGPTEvent(),r=o&&Array.isArray(o.size)&&2===o.size.length?o.size:[void 0,void 0],i=o&&o.isEmpty,a=o&&o.isBackfill;this.refreshAdContainerStyle(e,t.containsAd(),r),this.refreshAdContainerVisibility(e,t.containsAd()),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&(window.polygon.componentLoader.publish(s.d,{positionName:e,containsAd:n,isEmpty:i,isBackfill:a,size:r}),n&&window.polygon.componentLoader.publish(s.e,e))}},{key:"onTargetAdPositionLoaded",value:function(t){this.refreshAdContainerVisibility(t,!0);var e=document.querySelector("#".concat(t));e&&(e.setAttribute("data-advertisement",e.getAttribute("data-advertisement").replace(new RegExp("GujAd","g"),"AdobeTargetAd")),e.className="",e.parentElement.getAttribute("data-advertisement")&&e.parentElement.getAttribute("data-advertisement").indexOf(t)>=0&&(e.parentElement.className=""),e.style.display=""),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(s.e,t)}},{key:"refreshAdContainerStyle",value:function(t,e,n){var o=document.querySelector('[data-advertisement^="GujAd"][data-advertisement*="'.concat(t,'"]:not([id])'));o&&(e&&Array.isArray(n)&&n[0]&&n[0]>300?o.setAttribute("style","float: none !important; padding-left: 0 !important; padding-right: 0 !important; margin-left: 0 !important; margin-right: 0 !important;"):o.setAttribute("style",""))}},{key:"refreshAdContainerVisibility",value:function(t,e){e?Array.from(document.querySelectorAll('[data-advertisement^="GujAd"][data-advertisement*="'.concat(t,'"]:not([data-advertisement*="disabled"])'))).forEach((function(t){t.classList.remove("hidden"),t.classList.remove("unhidable")})):this.reloadAllAdsTriggered||Array.from(document.querySelectorAll('[data-advertisement^="GujAd '.concat(t,'"]:not([data-advertisement*="disabled"])'))).forEach((function(t){t.classList.add("hidden")}))}},{key:"initAdPosition",value:function(t){void 0!==GujAd&&void 0!==GujAd.cmd&&(this.initializedAdPositions.includes(t)?this.reloadAdPosition(t):(GujAd.cmd.push((function(){GujAd.push(t)})),this.initializedAdPositions.push(t)))}},{key:"reloadAllAds",value:function(){var t=this;void 0!==GujAd&&(this.reloadAllAdsTriggered=!0,this.initializedAdPositions.forEach((function(e){if("function"==typeof GujAd.isAdPositionEmpty&&!GujAd.isAdPositionEmpty(e)){var n=document.querySelector("#".concat(e,'[data-advertisement^="GujAd"]:not([data-advertisement*="disabled"])'));n&&n.offsetHeight>0&&(n.classList.add("unhidable"),n.style.minHeight="".concat(n.offsetHeight,"px"),t.reloadAdPosition(e))}})))}},{key:"reloadAdPosition",value:function(t){void 0!==GujAd&&void 0!==GujAd.cmd&&GujAd.cmd.push((function(){GujAd.getClient().reloadAd(t)}))}}])&&_(e.prototype,n),r&&_(e,r),t}(),R=[];window.fetch||R.push(n.e(7).then(n.bind(null,219))),Event.prototype.composedPath||R.push((j=Event.prototype,A=document,C=window,void(j.composedPath=function(){if(this.path)return this.path;var t=this.target;for(this.path=[];null!==t.parentNode;)this.path.push(t),t=t.parentNode;return this.path.push(A,C),this.path}))),"function"!=typeof window.Event&&R.push(void(window.Event=function(t,e){var n=e||{bubbles:!1,cancelable:!1},o=document.createEvent("Event");return o.initEvent(t,n.bubbles,n.cancelable),o})),window.IntersectionObserver&&window.IntersectionObserverEntry||R.push(n.e(0).then(n.t.bind(null,208,7))),"globalThis"in window||R.push(void(window.globalThis=window)),R.push(n.e(0).then(n.t.bind(null,207,7)).then((function(t){var e=Array.from(document.querySelectorAll("[data-stickyfill]"));t.add(e)}))),R.push(n.e(0).then(n.t.bind(null,209,7)).then((function(t){t.polyfill()})));var D,x=document.createElement("_");x.classList.toggle("hidden",!1),x.classList.contains("hidden")&&R.push((D=DOMTokenList.prototype.toggle,void(DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:D.call(this,t)}))),x=null;var B=Promise.all(R);function N(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var z=Symbol("INSTANCE"),q=Symbol("SINGELTONENFORCER"),M=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==q)throw new Error("Instantiation failed: Use KeyboardDetection.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[z]||(this[z]=new t(q)),this[z]}}],(n=[{key:"init",value:function(){var t=this;document.addEventListener("keydown",(function(e){"Tab"===e.key&&t.toggleKeyboardControlClass(!0)}),{passive:!0}),document.addEventListener("mousedown",(function(){t.toggleKeyboardControlClass(!1)}),{passive:!0})}},{key:"toggleKeyboardControlClass",value:function(t){document.documentElement.classList.toggle("keyboard-control",t)}}])&&N(e.prototype,n),o&&N(e,o),t}(),U=(n(52),n(107),n(48),n(20)),V=n(46),F=(n(68),n(36),n(53),n(63));function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var X=Symbol("INSTANCE"),Y=Symbol("SINGELTONENFORCER"),K=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==Y)throw new Error("Instantiation failed: Use SARAsData.instance instead of new.");this.init()}var e,n,r;return e=t,r=[{key:"instance",get:function(){return this[X]||(this[X]=new t(Y)),this[X]}}],(n=[{key:"init",value:function(){var t=o.a.instance;this.application=t.application?t.application:{},this.editorial=t.editorial?t.editorial:void 0,this.external=t.external?t.external:{},this.page=t.page?t.page:{},this.paywall=t.paywall?t.paywall:void 0}},{key:"application",set:function(t){if(this._application={},t&&t.info&&(this._application.info=t.info),P.a.isApp){var e="";P.a.isAndroidApp?e="Android:":P.a.isIOSApp&&(e="iOS:"),e+=P.a.appVersion,this._application.info||(this._application.info={}),this._application.info.app_version=e}},get:function(){return this._application}},{key:"editorial",set:function(t){this._editorial=t?{info:G({},t.info?t.info:{}),attributes:G({},t.attributes?t.attributes:{}),category:G({},t.category?t.category:{}),author:G({},t.author?t.author:{})}:void 0},get:function(){return this._editorial}},{key:"external",set:function(t){this._external={},t.vg_wort&&(this._external.vg_wort=t.vg_wort)},get:function(){return this._external}},{key:"page",set:function(t){var e={platform:P.a.isApp?"app":"web"},n=F.a.getReferrerFromUrl(window.location.href);n&&(e.referrer=n);var o={is_phone:E.a.isPhone,is_tablet:E.a.isTablet,is_mobile:E.a.isMobile};this._page={info:Object.assign(e,t.info?t.info:{}),attributes:Object.assign(o,t.attributes?t.attributes:{}),category:G({},t.category?t.category:{})}},get:function(){return this._page}},{key:"paywall",set:function(t){this._paywall=t?G({},t):void 0},get:function(){return this._paywall}},{key:"user",get:function(){var t=U.a.instance,e={};return t.trackingId&&(e.tracking_id=t.trackingId),b.a.instance.advertisingId&&(e.device_advertising_id=b.a.instance.advertisingId),{info:G({},e),segment:{access:t.accessInfo,is_loggedIn:t.isLoggedIn,has_paid_access:t.hasPaidAccess,has_spiegelNoAdsMonthly_access:t.hasNoAdsAccess,has_conditional_access:t.hasConditionalAccess}}}}])&&J(e.prototype,n),r&&J(e,r),t}();function $(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Z=Symbol("INSTANCE"),Q=Symbol("SINGELTONENFORCER"),tt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==Q)throw new Error("Instantiation failed: Use SARAs.instance instead of new.");this.init()}var e,n,r;return e=t,r=[{key:"instance",get:function(){return this[Z]||(this[Z]=new t(Q)),this[Z]}}],(n=[{key:"init",value:function(){this.data=K.instance,window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(s.d,this.onAdPositionInitialized,this),window.polygon.componentLoader.subscribe(s.r,this.onJWPlayerInitialized,this),window.polygon.componentLoader.subscribe(s.G,this.onPodloveWebplayerInitialized,this),window.polygon.componentLoader.subscribe(s.E,this.onPodcastNativePlayerPlayClick,this),window.polygon.componentLoader.subscribe(s.F,this.onPodcastNativePlayerReplayClick,this),window.polygon.componentLoader.subscribe(s.t,this.sendClickEvent,this))}},{key:"onAdPositionInitialized",value:function(t){if(t&&t.positionName&&"string"==typeof t.positionName){var e=!!t.containsAd,n=!!t.isEmpty,o=!!t.isBackfill,r=Array.isArray(t.size)?t.size:[void 0,void 0];this.sendAdPositionInitializedEvent(t.positionName,e,n,o,r)}}},{key:"onJWPlayerInitialized",value:function(t){t&&this.sendJWPlayerInitializedEvent(t)}},{key:"onPodloveWebplayerInitialized",value:function(t){t&&this.sendPodloveWebplayerInitializedEvent(t)}},{key:"onPodcastNativePlayerPlayClick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&t.id&&this.sendPodcastNativePlayerEvent("play",t.id,t.show,t.title,t.audioUrl,t.duration)}},{key:"onPodcastNativePlayerReplayClick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&t.id&&this.sendPodcastNativePlayerEvent("replay",t.id,t.show,t.title,t.audioUrl,t.duration)}},{key:"sendClickEvent",value:function(t){if("function"==typeof t.composedPath&&Array.isArray(t.composedPath())){for(var e={event:{info:{action:"click",name:"generic"},attributes:{}}},n=t.composedPath(),o="",r="",i="",a="",s=[],c=n.length-1;c--;c>=0)n[c]instanceof HTMLElement&&(n[c].hasAttribute("data-area")&&(o=o?"".concat(o,">").concat(n[c].getAttribute("data-area")):n[c].getAttribute("data-area")),n[c].hasAttribute("data-pos")&&(r=n[c].getAttribute("data-pos")),"A"===n[c].nodeName&&(n[c].hasAttribute("href")&&(i=n[c].getAttribute("href")),n[c].hasAttribute("title")&&(a=n[c].getAttribute("title")),n[c].querySelector("[data-contains-flags]")&&(s=n[c].querySelector("[data-contains-flags]").getAttribute("data-contains-flags").split(" "))));o&&(e.event.attributes.click_id=o),r&&(e.event.attributes.pos=r),i&&(e.event.attributes.target_url=i),a&&(e.event.attributes.headline=a),s.length>0&&(e.event.attributes.label=s),this.push(e)}}},{key:"sendJWPlayerInitializedEvent",value:function(t){if(t){var e={event:{info:{action:"jw-init"},attributes:{player_id:t}}};this.push(e)}}},{key:"sendAdPositionInitializedEvent",value:function(t,e,n,o,r){if(t){var i={event:{info:{action:"adpos-init"},attributes:{pos:t,contains_ad:e,is_empty:n,is_backfill:o,size:r}}};this.push(i)}}},{key:"sendPageLoadEvent",value:function(){var t={};t=Object.assign(t,{event:{info:{action:"page_data_ready",name:"generic"},attributes:{current_url:"".concat(o.a.instance.urls.base).concat(window.location.pathname).concat(window.location.search)}}}),this.data.application&&(t=Object.assign(t,{application:this.data.application})),this.data.external&&(t=Object.assign(t,{external:this.data.external})),this.data.page&&(t=Object.assign(t,{page:this.data.page})),this.data.editorial&&(t=Object.assign(t,{editorial:this.data.editorial})),this.data.paywall&&(t=Object.assign(t,{paywall:this.data.paywall})),this.data.user&&(t=Object.assign(t,{user:this.data.user})),this.push(t)}},{key:"sendPodloveWebplayerInitializedEvent",value:function(t){if(t){var e={event:{info:{action:"podlove-init"},attributes:{player_id:t}}};this.push(e)}}},{key:"sendPodcastNativePlayerEvent",value:function(t,e,n,o,r,i){if(t&&e){var a={event:{info:{action:"audio",name:t},attributes:{item:{title:o,series:n,file:r,mediaid:e},duration:i/1e3,source:"native"}}};this.push(a)}}},{key:"sendVirtualPageEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"generic",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic_recall",n=arguments.length>2?arguments[2]:void 0,o={};o=Object.assign(o,{event:{info:{action:"virtual_page",name:t},attributes:{label:e}}}),n&&(o.page={info:{referrer:n}}),this.push(o)}},{key:"push",value:function(t){return t.event&&t.event.info&&t.event.info.action?window.SARAs_data?(window.SARAs_data.push(t),!0):(console.error("SARAs->push: SARAs_data is not defined: ".concat(JSON.stringify(t))),!1):(console.error("SARAs->push: Event Param action is required: ".concat(JSON.stringify(t))),!1)}}])&&$(e.prototype,n),r&&$(e,r),t}();function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var it=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.user=U.a.instance,this.currentUserAccess=nt({},this.user.access)}var e,n,o;return e=t,(n=[{key:"execute",value:function(t,e){if(window.polygon&&window.polygon.cookies&&window.polygon.cookies.polygon_consent&&"function"==typeof window.polygon.cookies.polygon_consent.update&&window.polygon.cookies.polygon_consent.update(),this.user.update(),this.currentUserAccess.paid===this.user.access.paid&&this.currentUserAccess.conditional===this.user.access.conditional&&this.currentUserAccess.noAds===this.user.access.noAds){this.currentUserAccess=nt({},this.user.access);var n=V.a.instance;n.shouldRedirectToConsent?n.redirectToConsent():n.shouldRedirectFromConsent?n.redirectToTargetUrl():(P.a.isApp&&window.navigator.webBridge.globalFontsize(b.a.instance.appFontSize),this.user.hasNoAdsAccess||I.instance.reloadAllAds(),tt.instance.sendVirtualPageEvent("app_call",e,t))}else window.location.reload()}}])&&rt(e.prototype,n),o&&rt(e,o),t}();function at(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var st=Symbol("INSTANCE"),ct=Symbol("SINGELTONENFORCER"),lt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==ct)throw new Error("Instantiation failed: Use OverlayHandler.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[st]||(this[st]=new t(ct)),this[st]}}],(n=[{key:"init",value:function(){var t=this;if(this.overlays=[],this.isComponentLoaderPresent){var e=window.polygon.componentLoader;e.subscribe(s.B,(function(e){return t.onOverlayOpened(e)})),e.subscribe(s.z,(function(e){return t.onOverlayClosed(e)})),e.subscribe(s.u,(function(){return t.onPageResume()}))}this.updateState()}},{key:"onOverlayOpened",value:function(t){this.overlays.push(t),this.updateState()}},{key:"onOverlayClosed",value:function(t){this.overlays=this.overlays.filter((function(e){return e!==t})),this.updateState()}},{key:"updateState",value:function(){if(document.documentElement.classList.toggle("overlay-open",this.isScrollingPrevented),P.a.isApp){var t=this.overlays.length>0?s.db:s.bb;b.a.instance.sendState(t)}this.isComponentLoaderPresent&&window.polygon.componentLoader.publish(s.A,this.currentOverlay)}},{key:"onPageResume",value:function(){this.updateState()}},{key:"currentOverlay",get:function(){return this.overlays[this.overlays.length-1]||null}},{key:"isScrollingPrevented",get:function(){return this.overlays.filter((function(t){return t.preventScrolling})).length>0}},{key:"isComponentLoaderPresent",get:function(){return window.polygon&&window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.subscribe&&"function"==typeof window.polygon.componentLoader.publish}}])&&at(e.prototype,n),o&&at(e,o),t}(),ut=n(62);n(32);function ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var pt=Symbol("INSTANCE"),yt=Symbol("SINGELTONENFORCER"),dt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==yt)throw new Error("Instantiation failed: Use TriggerHandler.instance instead of new.");this.init()}var e,n,r;return e=t,r=[{key:"instance",get:function(){return this[pt]||(this[pt]=new t(yt)),this[pt]}}],(n=[{key:"init",value:function(){this.registerEventHandlers()}},{key:"registerEventHandlers",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(s.gb,this.onLoginTriggered,this),window.polygon.componentLoader.subscribe(s.hb,this.onAccountTriggered,this),window.polygon.componentLoader.subscribe(s.ib,this.onLogoutTriggered,this),window.polygon.componentLoader.subscribe(s.kb,this.onRegisterTriggered,this),window.polygon.componentLoader.subscribe(s.jb,this.onOfferTriggered,this),window.polygon.componentLoader.subscribe(s.lb,this.onRestorePurchasesTriggered,this))}},{key:"onAccountTriggered",value:function(){if(P.a.isApp)b.a.instance.triggerAccount();else{var t=o.a.instance.urls;t&&t.account&&t.account.account&&window.location.assign(t.account.account)}}},{key:"onLoginTriggered",value:function(){if(P.a.isApp)b.a.instance.triggerLogin();else{var t=o.a.instance.urls;t&&t.account&&t.account.login&&window.location.assign(t.account.login)}}},{key:"onLogoutTriggered",value:function(){if(P.a.isApp)b.a.instance.triggerLogout();else{var t=o.a.instance.urls;t&&t.account&&t.account.logout&&window.location.assign(t.account.logout)}}},{key:"onRegisterTriggered",value:function(){if(P.a.isApp)b.a.instance.triggerRegister();else{var t=o.a.instance.urls;t&&t.account&&t.account.register&&window.location.assign(t.account.register)}}},{key:"onOfferTriggered",value:function(t){var e=t.product,n=t.targetUrl;if(e)if(P.a.isApp)b.a.instance.triggerInAppPurchase({product:e});else{var r=o.a.instance.urls;if(r&&r.offers&&r.offers[e]){var i=new URL(r.offers[e]);if(n)i.searchParams.set("targetUrl",n);else{var a=new URLSearchParams(window.location.search);(n=a.get("targetUrl")?decodeURIComponent(a.get("targetUrl")):void 0)&&i.searchParams.set("targetUrl",n)}window.location.assign(i.href)}}}},{key:"onRestorePurchasesTriggered",value:function(t){var e=t.targetUrl;if(P.a.isApp){if(!e){var n=new URLSearchParams(window.location.search);e=n.get("targetUrl")?decodeURIComponent(n.get("targetUrl")):void 0}b.a.instance.triggerRestorePurchases({targetUrl:e})}}}])&&ft(e.prototype,n),r&&ft(e,r),t}();n(124),n(105),n(125);function ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var bt=Symbol("INSTANCE"),gt=Symbol("SINGELTONENFORCER"),vt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==gt)throw new Error("Instantiation failed: Use LanguageModel.instance instead of new.")}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[bt]||(this[bt]=new t(gt)),this[bt]}}],(n=[{key:"determineLanguage",value:function(){var t=g.a.getItem("lang"),e=navigator.language.slice(0,2),n=t;n||(n="de"===e?"de":"en"),this._language=n}},{key:"language",get:function(){return this._language||this.determineLanguage(),this._language},set:function(t){if(!g.a.setItem("lang",t))throw new ReferenceError("Unable to switch language because sessionStorage is not available");return this._language=t,this._language}}])&&ht(e.prototype,n),o&&ht(e,o),t}();function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function St(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t,e,n){return(Pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kt(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _t=function(t){function e(){var t,n;wt(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=St(this,(t=kt(e)).call.apply(t,[this].concat(r)))).localizationProto=n.el.innerHTML,n.localizationSettings=JSON.parse(n.data.localizationSettings),n.defaultLanguage=n.localizationSettings.defaultLanguage||"de",n.fallbackLanguage=n.localizationSettings.fallbackLanguage||"de",n.language=vt.instance.language,n.localizedFields=(n.localizationProto.match(/#?__localized_((\w|:)*)__/g)||[]).map((function(t){return t.split(/__(localized_)?/g)[2]})).filter((function(t,e,n){return n.indexOf(t)===e})),n._localize(),n.initSwitchLanguageButton(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(e,t),n=e,(o=[{key:"_renderPrototype",value:function(t,e){var n=this,o=this.localizationProto;return Object.keys(this.localizedFields).forEach((function(r){var i=n.localizedFields[r];if(i){var a=i.split(":")[0],s=i.split(":")[1],c=void 0!==t[a]?t[a]:e[a];s&&(c=c[s]),o=o.replace(new RegExp("__localized_".concat(i,"__"),"g"),c)}})),o}},{key:"_localize",value:function(){var t=this,e=this.localizationSettings.labels,n=Object.keys(e),o=this.language,r=e[this.fallbackLanguage];n.includes(this.language)||(o=this.defaultLanguage),this.language=o;var i=e[o],a=this._renderPrototype(i,r);this.el.textContent="",this.el.insertAdjacentHTML("afterbegin",a),Array.from(this.el.querySelectorAll("[data-localized-href]")).forEach((function(t){t.getAttribute("data-localized-href")&&(t.setAttribute("href",t.getAttribute("data-localized-href")),t.removeAttribute("data-localized-href"))})),this.boundOnComponentLoaderScanFinished=function(){return t.onComponentLoaderScanFinished()},this.subscribe(s.p,this.boundOnComponentLoaderScanFinished),window.polygon.componentLoader.scan()}},{key:"onComponentLoaderScanFinished",value:function(){this.unsubscribe(s.p,this.boundOnComponentLoaderScanFinished),this.onLocalized()}},{key:"onSwitchLanguageTriggered",value:function(){}},{key:"onLocalized",value:function(){}},{key:"initSwitchLanguageButton",value:function(){if(this.switchLanguageButton=this.el.querySelector('[data-localization-el="switchLanguageButton"]'),this.switchLanguageButton)try{window.sessionStorage,this.switchLanguageButton.addEventListener("click",this.onSwitchLanguageButtonClicked.bind(this))}catch(t){this.switchLanguageButton.remove()}}},{key:"onSwitchLanguageButtonClicked",value:function(t){t.preventDefault();var e="de"===this.language?"en":"de";this.switchLanguage(e)}},{key:"switchLanguage",value:function(t){this.onSwitchLanguageTriggered();try{vt.instance.language=t}catch(t){return void console.warn(t.message)}window.location.reload()}},{key:"destroy",value:function(){Pt(kt(e.prototype),"destroy",this).call(this)}}])&&Ot(n.prototype,o),r&&Ot(n,r),e}(i.Component);function jt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var At=Symbol("INSTANCE"),Ct=Symbol("SINGELTONENFORCER"),Lt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==Ct)throw new Error("Instantiation failed: Use SourcepointModel.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[At]||(this[At]=new t(Ct)),this[At]}}],(n=[{key:"init",value:function(){this.message="",this.errorOccurred=!1}}])&&jt(e.prototype,n),o&&jt(e,o),t}();function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Dt(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xt(t,e,n){return(xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bt(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zt=function(t){function e(){return It(this,e),Dt(this,Bt(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(e,t),n=e,(o=[{key:"onLocalized",value:function(){this.init()}},{key:"init",value:function(){this.settings=JSON.parse(this.data.settings),this.message=this.el.querySelector('[data-adblock-el="message"]'),this.loader=this.el.querySelector('[data-adblock-el="loader"]'),this.focusTrap=this.el.querySelector('[data-adblock-el="focusTrap"]'),this.whitelistButton=this.el.querySelector('[data-adblock-el="whitelistButton"]'),this.continueWithAdblockerButton=this.el.querySelector('[data-adblock-el="continueWithAdblockerButton"]'),this.loginLink=this.el.querySelector('[data-adblock-el="loginLink"]'),this.switchLanguageElement=this.el.querySelector('[data-adblock-el="switchLanguageElement"]'),this.isInitialized=!1,this.hasErrorOccurred=!1,this.state="STATE_LOADING",this.subscribe(s.N,this.onError,this),this.subscribe(s.P,this.onSourcepointMessageReceived,this),this.initContinueWithAdblockerButton(),this.initWhitelistButton(),"adblock-api"===Lt.instance.message&&this.onInitialized()}},{key:"initContinueWithAdblockerButton",value:function(){var t=this;this.continueWithAdblockerButton&&this.continueWithAdblockerButton.addEventListener("click",(function(e){t.onContinueWithAdblockerButtonClicked(e)}))}},{key:"initWhitelistButton",value:function(){var t=this;this.whitelistButton&&this.whitelistButton.addEventListener("click",(function(e){t.onWhitelistButtonClicked(e)}))}},{key:"onContinueWithAdblockerButtonClicked",value:function(t){t.preventDefault(),this.publish(s.T,S.c.continue_with_adblocker),this.el.classList.add("hidden"),this.publish(s.z,this),this.state="STATE_LOADING",this.publish(s.b)}},{key:"onWhitelistButtonClicked",value:function(t){t.preventDefault(),this.hasErrorOccurred?this.state="STATE_ERROR":(this.publish(s.T,S.c.whitelist_instructions_viewed,this.language),this.state="STATE_LOADING")}},{key:"onInitialized",value:function(){var t=this;this.isInitialized=!0,this.el.classList.remove("hidden"),this.focusTrap&&window.requestAnimationFrame((function(){t.focusTrap.focus()})),this.publish(s.B,this),this.state="STATE_DEFAULT",this.publish(s.c)}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state="STATE_ERROR":(this.state="STATE_DEFAULT",this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){"adblock-api"===t&&this.onInitialized()}},{key:"toggleElementVisibility",value:function(t,e){t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}},{key:"destroy",value:function(){xt(Bt(e.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return!0}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":this.toggleElementVisibility(this.message,!1),this.toggleElementVisibility(this.loader,!0),this.toggleElementVisibility(this.switchLanguageElement,!1);break;case"STATE_ERROR":this.toggleElementVisibility(this.message,!1),this.toggleElementVisibility(this.loader,!0),this.toggleElementVisibility(this.switchLanguageElement,!0);break;case"STATE_DEFAULT":default:this.toggleElementVisibility(this.message,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.switchLanguageElement,!0)}}}])&&Rt(n.prototype,o),r&&Rt(n,r),e}(_t);function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Vt(t,e){return!e||"object"!==qt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gt=function(t){function e(){var t,n;Mt(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if((n=Vt(this,(t=Ft(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings),n.inner=n.el.querySelector('[data-affiliate-box-el="inner"]'),n.affiliateConsentActivator=n.el.querySelector('[data-consent-el="activator"]'),n.affiliateConsentDeactivator=n.el.querySelector('[data-consent-el="deactivator"]'),n.consentHandlingPrepared=!1,n.settings.requireConsent){if(n.prepareConsentHandling(),!n.consentHandlingPrepared)return Vt(n);n.initAffiliateConsentHandling()}else n.showEmbed();return n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,t),n=e,(o=[{key:"prepareConsentHandling",value:function(){this.activateAffiliateConsentButton=this.affiliateConsentActivator.querySelector("button"),this.deactivateAffiliateConsentButton=this.affiliateConsentDeactivator.querySelector("button"),this.privacyPolicyLink=this.affiliateConsentDeactivator.querySelector('[data-link-el="privacy-policy"]'),this.activateAffiliateConsentButton&&this.deactivateAffiliateConsentButton?this.privacyPolicyLink?this.consentHandlingPrepared=!0:console.error("privacy policy link is not present in consent deactivator"):console.error("Third party consent activator and deactivator dont have a button")}},{key:"initAffiliateConsentHandling",value:function(){var t=this,e=function(e){e?(t.affiliateConsentActivator.classList.add("hidden"),t.affiliateConsentDeactivator.classList.remove("opacity-none"),t.affiliateConsentDeactivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","0"),t.showEmbed()):(t.affiliateConsentActivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","-1"))};e(U.a.instance.hasAcceptedAffiliateConsent),this.subscribe(s.f,(function(n){n.accepted?(e(n.accepted),t.showEmbed()):window.location.reload(!0)}))}},{key:"showEmbed",value:function(){this.inner.classList.remove("hidden")}}])&&Ut(n.prototype,o),r&&Ut(n,r),e}(i.Component);function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Yt(t,e){return!e||"object"!==Wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zt=function(t){function e(){var t,n;Jt(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Yt(this,(t=Kt(e)).call.apply(t,[this].concat(r)))).scriptElement=n.el.querySelector('[data-source-el="script"]'),n.stylesElement=n.el.querySelector('[data-source-el="styles"]'),n.isLoading=!1,n.scriptLoaded=!1,n.stylesLoaded=!1,n.loaded=!1,n.boundOnSourceRequested=function(){return n.onSourceRequested()},n.boundOnScriptElementLoaded=function(){return n.onScriptElementLoaded()},n.boundOnStylesElementLoaded=function(){return n.onStylesElementLoaded()},n.subscribe(s.g,n.boundOnSourceRequested),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(e,t),n=e,(o=[{key:"onSourceRequested",value:function(){this.loaded||this.isLoading||this.load()}},{key:"load",value:function(){this.isLoading=!0,this.scriptElement.addEventListener("load",this.boundOnScriptElementLoaded),this.stylesElement.addEventListener("load",this.boundOnStylesElementLoaded),this.scriptElement.src=this.scriptElement.dataset.src,this.stylesElement.href=this.stylesElement.dataset.href}},{key:"onScriptElementLoaded",value:function(){this.scriptLoaded=!0,this.stylesLoaded&&this.onLoaded()}},{key:"onStylesElementLoaded",value:function(){this.stylesLoaded=!0,this.scriptLoaded&&this.onLoaded()}},{key:"onLoaded",value:function(){this.isLoading=!1,this.loaded=!0,this.scriptElement.removeEventListener("load",this.boundOnScriptElementLoaded),this.stylesElement.removeEventListener("load",this.boundOnStylesElementLoaded)}}])&&Xt(n.prototype,o),r&&Xt(n,r),e}(i.Component);function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ne(t,e){return!e||"object"!==Qt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oe(t,e,n){return(oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=re(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ae=function(t){function e(){var t,n;te(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];(n=ne(this,(t=re(e)).call.apply(t,[this].concat(r)))).settings=n.data.settings?JSON.parse(n.data.settings):{},n.params=n.settings.params||{};var a=P.a.isApp;return(a||n.settings.href)&&(n.boundClickListener=function(t){t.preventDefault(),n.onClick()},n.el.addEventListener("click",n.boundClickListener)),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(e,t),n=e,(o=[{key:"onClick",value:function(){P.a.isApp?this.triggerAppAction():this.settings.href&&this.triggerRedirect()}},{key:"triggerAppAction",value:function(){var t=this;if(this.settings.action||!this.el.hasAttribute("disabled")){var e=b.a.instance;"function"==typeof e[this.settings.action]&&(e[this.settings.action](this.params),"triggerDownload"===this.settings.action&&(this.el.setAttribute("disabled",""),setTimeout((function(){t.el.removeAttribute("disabled")}),2e3)))}}},{key:"triggerRedirect",value:function(){if(this.settings.href){var t=new URL(this.settings.href);if(!t.searchParams.has("targetUrl")){var e=new URLSearchParams(window.location.search),n=e.get("targetUrl")?decodeURIComponent(e.get("targetUrl")):void 0;n&&t.searchParams.set("targetUrl",n)}window.location.replace(t.href)}}},{key:"destroy",value:function(){this.boundClickListener&&(this.el.removeEventListener("click",this.boundClickListener),this.boundClickListener=null),oe(re(e.prototype),"destroy",this).call(this)}}])&&ee(n.prototype,o),r&&ee(n,r),e}(i.Component);function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ue(t,e){return!e||"object"!==se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fe(t,e,n){return(fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pe(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function pe(t){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var de=function(t){function e(){var t,n;ce(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if((n=ue(this,(t=pe(e)).call.apply(t,[this].concat(r)))).dataSettings=n.data&&n.data.settings&&JSON.parse(n.data.settings)||{},P.a.isApp&&!n.isAppUpdateRequired){var a=V.a.instance;a.redirectToHomepage()}else n.init();return n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=P.a.isApp,e=P.a.isAndroidApp,n=P.a.isIOSApp,o=this.el.querySelector('[data-appupdate-el="appStoreBadge"]'),r=this.el.querySelector('[data-appupdate-el="playStoreBadge"]');t?(n&&o&&o.classList.remove("hidden"),e&&r&&r.classList.remove("hidden")):(o&&o.classList.remove("hidden"),r&&r.classList.remove("hidden"))}},{key:"destroy",value:function(){fe(pe(e.prototype),"destroy",this).call(this)}},{key:"isAppUpdateRequired",get:function(){var t=P.a.isApp,e=P.a.appVersion;if(!t)return!1;var n=this.dataSettings.feature,o=b.a.instance;switch(n){case"offline-issue":return e<o.minOfflineIssueVersion;default:return e<o.minVersion}}}])&&le(n.prototype,o),r&&le(n,r),e}(i.Component);function he(t){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ge(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ve(t,e){return!e||"object"!==he(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function me(t,e,n){return(me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=we(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function we(t){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oe(t,e){return(Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Se=function(t){function e(){var t,n;be(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=ve(this,(t=we(e)).call.apply(t,[this].concat(i)))).settings=o.a.instance,n.basePath=n.settings.urls&&"string"==typeof n.settings.urls.base?n.settings.urls.base:window.location.origin,n.dataSettings=n.data&&n.data.settings&&JSON.parse(n.data.settings)||{},!E.a.isAndroid&&!E.a.isIOS||P.a.isApp?n.redirectToHomepage():n.redirectToAppStore(),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(e,t),n=e,(r=[{key:"redirectToHomepage",value:function(){var t=new URL(this.basePath),e=void 0,n=new URLSearchParams(window.location.search);n.has("ref")&&(e=decodeURIComponent(n.get("ref"))),t.searchParams.set("from","404"),e&&t.searchParams.set("ref",e),window.location.replace(t.href)}},{key:"redirectToAppStore",value:function(){var t=void 0;E.a.isAndroid?t=this.dataSettings.androidStoreUrl:E.a.isIOS&&(t=this.dataSettings.iosStoreUrl),t&&window.location.replace(t)}},{key:"destroy",value:function(){me(we(e.prototype),"destroy",this).call(this)}}])&&ge(n.prototype,r),i&&ge(n,i),e}(i.Component);function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ee(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _e(t,e){return!e||"object"!==Pe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function je(t,e,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ae(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ce(t,e){return(Ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Le=function(t){function e(){var t,n;ke(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=_e(this,(t=Ae(e)).call.apply(t,[this].concat(r)))).settings=n.data&&n.data.settings?JSON.parse(n.data.settings):{},n.id=n.settings.multiboxId?n.settings.multiboxId:n.data.componentId,n.breakpoints=n.settings.breakpoints?n.settings.breakpoints:[null],n.switchEl=n.el.querySelector('[data-accordion-el="switch"]'),n.collapseIconEl=n.el.querySelector('[data-accordion-el="collapseIcon"]'),n.expandIconEl=n.el.querySelector('[data-accordion-el="expandIcon"]'),n.containerEl=n.el.querySelector('[data-accordion-el="container"]'),n.containerEl&&(n.containerEl.addEventListener("transitionend",(function(){n.containerEl.style.maxHeight=null,n.containerEl.style.transition=""})),n.initAccordion()),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ce(t,e)}(e,t),n=e,(o=[{key:"initAccordion",value:function(){var t=this;this.toggleExpandedState(!!this.settings.isFirstItemOpen||!!this.settings.isExpanded),this.boundOnAccordionClick=function(){t.onAccordionClick()},this.switchEl.addEventListener("click",this.boundOnAccordionClick)}},{key:"onAccordionClick",value:function(){this.isExpanded?this.collapse():this.expand()}},{key:"expand",value:function(){var t=this;this.breakpoints.forEach((function(e){var n=t.getBreakpointClasses(e,"max-h-0"),o=t.getBreakpointClasses(e,"opacity-none"),r=t.getBreakpointClasses(e,"hidden");t.onExpand(),t.expandIconEl.classList.add(r),t.collapseIconEl.classList.remove(r),t.containerEl.style.transition="opacity 0.15s ease-in-out 0.05s , transform 0.2s ease-out",t.containerEl.classList.remove(n),t.containerEl.classList.remove(o),t.containerEl.classList.remove(r),t.containerEl.style.transform="translateY(0)",t.containerEl.setAttribute("aria-hidden",!1)}))}},{key:"collapse",value:function(){var t=this;this.breakpoints.forEach((function(e){var n=t.getBreakpointClasses(e,"max-h-0"),o=t.getBreakpointClasses(e,"opacity-none"),r=t.getBreakpointClasses(e,"hidden");t.onCollapse(),t.expandIconEl.classList.remove(r),t.collapseIconEl.classList.add(r),t.containerEl.classList.add(r),t.containerEl.classList.add(n),t.containerEl.classList.add(o),t.containerEl.style.transform="translateY(-10px)",t.containerEl.setAttribute("aria-hidden",!0)}))}},{key:"getBreakpointClasses",value:function(t,e){return t?"".concat(t,":").concat(e):e}},{key:"onExpand",value:function(){this.toggleExpandedState(!0)}},{key:"onCollapse",value:function(){this.toggleExpandedState(!1),this.publish(s.o,{id:this.id})}},{key:"toggleExpandedState",value:function(t){this.el.setAttribute("aria-expanded",t),this.isExpanded=t}},{key:"destroy",value:function(){this.switchEl.removeEventListener("click",this.boundOnAccordionClick),je(Ae(e.prototype),"destroy",this).call(this)}}])&&Ee(n.prototype,o),r&&Ee(n,r),e}(i.Component);function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function De(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xe(t,e,n){return(xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Be(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ne(t,e){return(Ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ze=function(t){function e(){return Ie(this,e),De(this,Be(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ne(t,e)}(e,t),n=e,(o=[{key:"onExpand",value:function(){xe(Be(e.prototype),"onExpand",this).call(this),this.containerEl.classList.remove("hidden")}},{key:"onCollapse",value:function(){xe(Be(e.prototype),"onCollapse",this).call(this),this.containerEl.classList.add("hidden")}}])&&Re(n.prototype,o),r&&Re(n,r),e}(Le);n(126);function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ve(t,e){return!e||"object"!==qe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fe(t,e,n){return(Fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=He(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var We=function(t){function e(){var t,n;Me(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Ve(this,(t=He(e)).call.apply(t,[this].concat(r)))).init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;window.getComputedStyle(this.el,":before").getPropertyValue("content")?(this.breakpoint=this.getBreakpoint(),this.oldBreakpoint=this.breakpoint,this.publishEvent(),window.addEventListener("resize",(function(){t.onViewportResize()}),!1)):console.error("breakpoint check failed")}},{key:"getBreakpoint",value:function(){return window.getComputedStyle(this.el,":before").getPropertyValue("content").split('"').filter(Boolean).join('"')}},{key:"onViewportResize",value:function(){this.oldBreakpoint=this.breakpoint,this.breakpoint=this.getBreakpoint(),this.oldBreakpoint!==this.breakpoint&&this.publishEvent()}},{key:"publishEvent",value:function(){this.el.setAttribute("data-breakpoint",this.breakpoint),this.publish(s.i,{breakpoint:this.breakpoint})}},{key:"destroy",value:function(){Fe(He(e.prototype),"destroy",this).call(this)}}])&&Ue(n.prototype,o),r&&Ue(n,r),e}(i.Component),Je=n(45);function Xe(t){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ke(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $e(t,e){return!e||"object"!==Xe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ze(t,e,n){return(Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qe(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tn(t,e){return(tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var en=function(t){function e(){var t,n;Ye(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=$e(this,(t=Qe(e)).call.apply(t,[this].concat(r)))).isInitialized=!1,n.hasErrorOccurred=!1,n.loader=n.el.querySelector('[data-consent-accept-reject-el="loader"]'),n.error=n.el.querySelector('[data-consent-accept-reject-el="error"]'),n.content=n.el.querySelector('[data-consent-accept-reject-el="content"]'),n.sourcepointMessageContainer=n.el.querySelector('[data-consent-accept-reject-el="sourcepointMessageContainer"]'),n.buttons=n.el.querySelector('[data-consent-accept-reject-el="buttons"]'),n.acceptAllButton=n.el.querySelector('[data-consent-accept-reject-el="acceptAllButton"]'),n.rejectAllButton=n.el.querySelector('[data-consent-accept-reject-el="rejectAllButton"]'),n.state="STATE_LOADING",n.init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.subscribe(s.N,this.onError,this),this.subscribe(s.J,this.onError,this),this.subscribe(s.O,this.onSourcepointMessageChoiceSelected,this),this.subscribe(s.M,this.onSourcepointChoiceProcessed,this),this.subscribe(s.P,this.onSourcepointMessageReceived,this),this.subscribe(s.R,this.onSourcepointPrivacyManagerOpened,this),this.subscribe(s.Q,this.onSourcepointPrivacyManagerAction,this),this.initAcceptAllButton(),this.initRejectAllButton(),this.initializationTimoutId=setTimeout((function(){t.onInitializationTimeout()}),3e4)}},{key:"initAcceptAllButton",value:function(){var t=this,e=U.a.instance;this.acceptAllButton&&(e.hasAcceptedGlobalConsent?this.acceptAllButton.disabled=!0:(this.acceptAllButton.disabled=!1,this.acceptAllButton.addEventListener("click",(function(e){t.onAcceptAllButtonClicked(e)}))))}},{key:"initRejectAllButton",value:function(){var t=this,e=U.a.instance;this.rejectAllButton&&(e.hasAcceptedGlobalConsent?(this.rejectAllButton.disabled=!1,this.rejectAllButton.addEventListener("click",(function(e){t.onRejectAllButtonClicked(e)}))):this.rejectAllButton.disabled=!0)}},{key:"onAcceptAllButtonClicked",value:function(t){var e=this;t.preventDefault(),"STATE_ERROR"===this.state?(this.state="STATE_LOADING",setTimeout((function(){e.state="STATE_ERROR"}),1e3)):this.state="STATE_ERROR"}},{key:"onRejectAllButtonClicked",value:function(t){var e=this;t.preventDefault(),"STATE_ERROR"===this.state?(this.state="STATE_LOADING",setTimeout((function(){e.state="STATE_ERROR"}),1e3)):this.state="STATE_ERROR"}},{key:"onInitialized",value:function(){this.isInitialized=!0,this.initializationTimoutId&&clearTimeout(this.initializationTimoutId),this.state="STATE_DEFAULT"}},{key:"onInitializationTimeout",value:function(){this.hasErrorOccurred=!0,this.state="STATE_DEFAULT",this.isInitialized=!0}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state="STATE_ERROR":(this.toggleElementVisibility(this.buttons,!0),this.state="STATE_DEFAULT",this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){"enabled-accept-disabled-reject"!==t&&"disabled-accept-enabled-reject"!==t&&"accept-reject-fallback"!==t||this.isInitialized||(this.toggleElementVisibility(this.sourcepointMessageContainer,!0),this.onInitialized())}},{key:"onSourcepointMessageChoiceSelected",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||(this.state="STATE_LOADING",this.toggleElementVisibility(this.buttons,!0),this.toggleElementVisibility(this.sourcepointMessageContainer,!1))}},{key:"onSourcepointChoiceProcessed",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||window.location.reload()}},{key:"onSourcepointPrivacyManagerOpened",value:function(){this.state="STATE_LOADING"}},{key:"onSourcepointPrivacyManagerAction",value:function(t){t===S.d.cancel&&window.location.reload()}},{key:"toggleElementVisibility",value:function(t,e){t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}},{key:"destroy",value:function(){Ze(Qe(e.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":this.toggleElementVisibility(this.content,!1),this.toggleElementVisibility(this.loader,!0),this.toggleElementVisibility(this.error,!1);break;case"STATE_ERROR":this.toggleElementVisibility(this.content,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.error,!0);break;case"STATE_DEFAULT":default:this.toggleElementVisibility(this.content,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.error,!1)}}}])&&Ke(n.prototype,o),r&&Ke(n,r),e}(i.Component);function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function an(t,e){return!e||"object"!==nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sn(t,e,n){return(sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cn(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function cn(t){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ln(t,e){return(ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var un=function(t){function e(){return on(this,e),an(this,cn(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ln(t,e)}(e,t),n=e,(o=[{key:"onLocalized",value:function(){this.init()}},{key:"init",value:function(){var t=this;this.settings=this.data.settings?JSON.parse(this.data.settings):{};var e=new URLSearchParams(window.location.search);this.targetUrl=e.get("targetUrl")?decodeURIComponent(e.get("targetUrl")):void 0,this.message=this.el.querySelector('[data-consent-el="message"]'),this.sourcepointMessageContainer=this.el.querySelector('[data-consent-el="sourcepointMessageContainer"]'),this.loader=this.el.querySelector('[data-consent-el="loader"]'),this.error=this.el.querySelector('[data-consent-el="error"]'),this.footer=this.el.querySelector('[data-consent-el="footer"]'),this.fallbackFooter=this.el.querySelector('[data-consent-el="fallbackFooter"]'),this.sourcepoint=this.el.querySelector('[data-consent-el="_sp_msg"]'),this.acceptAllButton=this.el.querySelector('[data-consent-el="acceptAllButton"]'),this.triggerPurAboPurchaseButton=this.el.querySelector('[data-consent-el="triggerPurAboPurchaseButton"]'),this.loginLink=this.el.querySelector('[data-consent-el="loginLink"]'),this.loginElement=this.el.querySelector('[data-consent-el="login"]'),this.logoutElement=this.el.querySelector('[data-consent-el="logout"]'),this.loginCloseWindowText=this.el.querySelector('[data-consent-el="loginCloseWindowText"]'),this.inAppPurchaseReloadText=this.el.querySelector('[data-consent-el="inAppPurchaseReloadText"]'),this.switchLanguageElement=this.el.querySelector('[data-consent-el="switchLanguage"]'),this.isInitialized=this.settings.isInitialized||!1,this.hasErrorOccurred=this.settings.hasErrorOccurred||!1,this.state=this.settings.state||"STATE_LOADING",this.subscribe(s.N,this.onError,this),this.subscribe(s.J,this.onError,this),this.subscribe(s.P,this.onSourcepointMessageReceived,this),this.subscribe(s.O,this.onSourcepointMessageChoiceSelected,this),this.subscribe(s.M,this.onSourcepointChoiceProcessed,this),this.subscribe(s.R,this.onSourcepointPrivacyManagerOpened,this),this.subscribe(s.Q,this.onSourcepointPrivacyManagerAction,this),this.initAuthenticationElements(),this.initAcceptAllButton(),this.initTriggerPurAboPurchaseButton(),this.updateLoginLink(),this.toggleElementVisibility(this.footer,!0),this.toggleElementVisibility(this.fallbackFooter,!1),"STATE_ERROR"!==this.state&&(this.initializationTimoutId=setTimeout((function(){t.onInitializationTimeout()}),3e4),"consent-api"===Lt.instance.message&&this.onInitialized())}},{key:"initAuthenticationElements",value:function(){var t=b.a.instance;P.a.isIOSApp&&P.a.appVersion<t.minConsentVersion&&F.a.isUrlArticleContent(this.targetUrl)?this.toggleElementVisibility(this.loginCloseWindowText,!0):(this.toggleElementVisibility(this.loginElement,!0),this.toggleElementVisibility(this.logoutElement,!0))}},{key:"initAcceptAllButton",value:function(){var t=this;this.acceptAllButton&&this.acceptAllButton.addEventListener("click",(function(e){t.onAcceptAllButtonClicked(e)}))}},{key:"initTriggerPurAboPurchaseButton",value:function(){var t=this;this.triggerPurAboPurchaseButton&&this.triggerPurAboPurchaseButton.addEventListener("click",(function(e){t.onTriggerPurAboPurchaseButtonClicked(e)}))}},{key:"updateLoginLink",value:function(){if(this.loginLink&&this.loginLink.href&&this.targetUrl){var t=new URL(this.loginLink.href);t.searchParams.set("targetUrl",this.targetUrl),this.loginLink.href=t.href}}},{key:"onAcceptAllButtonClicked",value:function(t){var e=this;t.preventDefault(),"STATE_ERROR"===this.state?(this.state="STATE_LOADING",setTimeout((function(){e.state="STATE_ERROR"}),1e3)):this.state="STATE_ERROR"}},{key:"onTriggerPurAboPurchaseButtonClicked",value:function(){var t=b.a.instance;P.a.isIOSApp&&P.a.appVersion<t.minConsentVersion&&F.a.isUrlArticleContent(this.targetUrl)&&this.toggleElementVisibility(this.inAppPurchaseReloadText,!0)}},{key:"onInitialized",value:function(){this.isInitialized=!0,this.initializationTimoutId&&clearTimeout(this.initializationTimoutId),this.state="STATE_DEFAULT"}},{key:"onInitializationTimeout",value:function(){this.hasErrorOccurred=!0,this.state="STATE_DEFAULT",this.isInitialized=!0}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state="STATE_ERROR":(this.toggleElementVisibility(this.acceptAllButton,!0),this.state="STATE_DEFAULT",this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){t.match(/^accept(-(de|en))?$/g).length&&!this.isInitialized&&(this.toggleElementVisibility(this.sourcepointMessageContainer,!0),this.onInitialized())}},{key:"onSourcepointMessageChoiceSelected",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||(this.state="STATE_LOADING",this.toggleElementVisibility(this.acceptAllButton,!0),this.toggleElementVisibility(this.sourcepointMessageContainer,!1))}},{key:"onSourcepointChoiceProcessed",value:function(t){if(this.hasErrorOccurred||"STATE_ERROR"===this.state||t===S.c.accept_all){if(t===S.c.accept_all){var e=b.a.instance;P.a.isApp&&P.a.appVersion>=e.minConsentVersion?e.sendConsent(this.targetUrl):V.a.instance.redirectToTargetUrl()}}else window.location.reload()}},{key:"onSourcepointPrivacyManagerOpened",value:function(){this.state="STATE_LOADING"}},{key:"onSourcepointPrivacyManagerAction",value:function(t){t===S.d.cancel&&window.location.reload()}},{key:"toggleElementVisibility",value:function(t,e){t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}},{key:"updateSettings",value:function(t,e){this.settings[t]=e,this.el.setAttribute("data-settings",JSON.stringify(this.settings))}},{key:"destroy",value:function(){sn(cn(e.prototype),"destroy",this).call(this),this.unsubscribe(s.N,this.onError),this.unsubscribe(s.J,this.onError),this.unsubscribe(s.P,this.onSourcepointMessageReceived),this.unsubscribe(s.O,this.onSourcepointMessageChoiceSelected),this.unsubscribe(s.M,this.onSourcepointChoiceProcessed),this.unsubscribe(s.Q,this.onSourcepointPrivacyManagerAction),this.unsubscribe(s.R,this.onSourcepointPrivacyManagerOpened)}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":this.toggleElementVisibility(this.message,!1),this.toggleElementVisibility(this.loader,!0),this.toggleElementVisibility(this.error,!1),this.toggleElementVisibility(this.switchLanguageElement,!1);break;case"STATE_ERROR":this.toggleElementVisibility(this.message,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.error,!0),this.toggleElementVisibility(this.switchLanguageElement,!0);break;case"STATE_DEFAULT":default:this.toggleElementVisibility(this.message,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.error,!1),this.toggleElementVisibility(this.switchLanguageElement,!0)}this.updateSettings("state",t)}},{key:"isInitialized",get:function(){return this._isInitialized},set:function(t){this._isInitialized=t,this.updateSettings("isInitialized",t)}},{key:"hasErrorOccurred",get:function(){return this._hasErrorOccurred},set:function(t){this._hasErrorOccurred=t,this.updateSettings("hasErrorOccurred",t)}}])&&rn(n.prototype,o),r&&rn(n,r),e}(_t);function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function dn(t,e){return!e||"object"!==fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bn(t,e){return(bn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gn=function(t){function e(){var t,n;pn(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=dn(this,(t=hn(e)).call.apply(t,[this].concat(r)))).offsetContainerEl=document.querySelector('[data-body-el="offset-container"]'),n.articleEl=document.querySelector('[data-area="article"]'),n.offsetContainerEl&&n.articleEl&&n.init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bn(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){this.offsetContainerEl.classList.remove("OffsetContainer"),this.articleEl.classList.add("w-screen"),this.articleEl.classList.add("relative"),this.articleEl.style.left="calc(-50vw + 50%)",this.el.classList.remove("hidden")}}])&&yn(n.prototype,o),r&&yn(n,r),e}(i.Component);function vn(t){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function On(t,e){return!e||"object"!==vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sn(t,e,n){return(Sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pn(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var En=function(t){function e(){var t,n;mn(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=On(this,(t=Pn(e)).call.apply(t,[this].concat(r)))).settings=n.data.settings?JSON.parse(n.data.settings):{},n.iframe=n.el.querySelector('[data-datawrapper-el="iframe"]'),n.boundOnLazyLoad=function(t){t.target===n.el&&n.onLazyLoad()},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad),n.iframeSrc="//datawrapper.dwcdn.net/".concat(n.settings.id,"/"),window.addEventListener("message",(function(t){t.data&&t.data["datawrapper-height"]&&t.data["datawrapper-height"][n.settings.id]&&n.resizeHeight(t.data["datawrapper-height"][n.settings.id])})),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(e,t),n=e,(o=[{key:"onLazyLoad",value:function(){this.iframe.src="//datawrapper.dwcdn.net/".concat(this.settings.id,"/")}},{key:"resizeHeight",value:function(t){this.iframe.height=t}},{key:"destroy",value:function(){Sn(Pn(e.prototype),"destroy",this).call(this)}}])&&wn(n.prototype,o),r&&wn(n,r),e}(i.Component);function _n(t){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function An(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Cn(t,e){return!e||"object"!==_n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ln(t,e,n){return(Ln="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tn(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rn=function(t){function e(){var t,n;jn(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Cn(this,(t=Tn(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.el.dataset.deferSettings),n.componentName=n.settings.component,n.loader=window.polygon.componentLoader,n.component=window.polygon.deferredComponents[n.componentName],n.importRequirements().then((function(){n.init()})),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&In(t,e)}(e,t),n=e,(o=[{key:"importRequirements",value:function(){var t=this;return this.component().then((function(e){e&&t.registerComponent(e)}))}},{key:"registerComponent",value:function(t){var e={};e[this.componentName]=t.default,this.loader.register(e)}},{key:"init",value:function(){this.prepareComponent(),this.refreshComponents(),this.destroy()}},{key:"prepareComponent",value:function(){this.el.dataset.component=this.componentName}},{key:"refreshComponents",value:function(){this.loader.scan()}},{key:"destroy",value:function(){Ln(Tn(e.prototype),"destroy",this).call(this)}}])&&An(n.prototype,o),r&&An(n,r),e}(i.Component);function Dn(t){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Nn(t,e){return!e||"object"!==Dn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zn(t,e,n){return(zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qn(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function qn(t){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mn(t,e){return(Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Un=function(t){function e(){var t,n;xn(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if((n=Nn(this,(t=qn(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings),n.replacer=n.el.querySelector('[data-embed-el="replacer"]'),n.thirdPartyConsentActivator=n.el.querySelector('[data-consent-el="activator"]'),n.thirdPartyConsentDeactivator=n.el.querySelector('[data-consent-el="deactivator"]'),n.title=n.el.querySelector('[data-embed-el="title"]'),n.caption=n.el.querySelector('[data-embed-el="caption"]'),n.outerWrapper=n.el.querySelector('[data-wrapper-el="outer-wrapper"]'),n.innerWrapper=n.el.querySelector('[data-wrapper-el="inner-wrapper"]'),n.embedContent=n.replacer.dataset.content,n.settings.requireConsent){if(n.activateThirdPartyConsentButton=n.thirdPartyConsentActivator.querySelector("button"),n.deactivateThirdPartyConsentButton=n.thirdPartyConsentDeactivator.querySelector("button"),n.privacyPolicyLink=n.thirdPartyConsentDeactivator.querySelector('[data-link-el="privacy-policy"]'),!n.activateThirdPartyConsentButton||!n.deactivateThirdPartyConsentButton)return console.error("Third party consent activator and deactivator dont have a button"),Nn(n);if(!n.privacyPolicyLink)return console.error("privacy policy link is not present in consent deactivator"),Nn(n);n.initThirdPartyConsentHandling()}return n.boundOnLazyLoad=function(t){t.target===n.el&&(n.settings.requireConsent&&!U.a.instance.hasAcceptedThirdPartyConsent||n.onLazyLoad())},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mn(t,e)}(e,t),n=e,(o=[{key:"initThirdPartyConsentHandling",value:function(){var t=this,e=function(e){e?(t.title&&t.title.classList.remove("hidden"),t.caption&&t.caption.classList.remove("hidden"),t.thirdPartyConsentActivator.classList.add("hidden"),t.thirdPartyConsentDeactivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","0")):(t.thirdPartyConsentActivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","-1"))};e(U.a.instance.hasAcceptedThirdPartyConsent),this.subscribe(s.Z,(function(n){n.accepted?(e(n.accepted),t.onLazyLoad()):window.location.reload(!0)}))}},{key:"onLazyLoad",value:function(){try{this.replacer.parentNode.appendChild(document.createRange().createContextualFragment(this.embedContent))}catch(t){this.replacer.parentNode.insertAdjacentHTML("beforeend",this.embedContent)}this.replacer.classList.add("hidden"),this.replacer.remove(),"Instagram"===this.settings.providerName&&window.instgrm&&window.instgrm.Embeds&&"function"==typeof window.instgrm.Embeds.process&&window.instgrm.Embeds.process(),"Twitter"===this.settings.providerName&&window.twttr&&window.twttr.widgets&&"function"==typeof window.twttr.widgets.load&&window.twttr.widgets.load(this.el)}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),zn(qn(e.prototype),"destroy",this).call(this)}}])&&Bn(n.prototype,o),r&&Bn(n,r),e}(i.Component);function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Gn(t,e){return!e||"object"!==Vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wn(t,e,n){return(Wn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jn(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Jn(t){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yn=function(t){function e(){var t,n;Fn(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Gn(this,(t=Jn(e)).call.apply(t,[this].concat(r)))).tcDataModel=ut.a.instance,n.requiredPurposeIds=[],n.requiredVendorIds=[],n._src="",n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xn(t,e)}(e,t),n=e,(o=[{key:"addRequiredPurpose",value:function(t){t&&this.requiredPurposeIds.push(t)}},{key:"addRequiredVendor",value:function(t){t&&this.requiredVendorIds.push(t)}},{key:"initSrc",value:function(){this.consentVerified?this.loadSrc():this.subscribe(s.Y,this.onTCDataChanged)}},{key:"onTCDataChanged",value:function(){var t=this;this.consentVerified&&(this.loadSrc(),this.defer((function(){t.unsubscribe(s.Y,t.onTCDataChanged)})))}},{key:"loadSrc",value:function(){this.src&&this.scriptEl&&!this.scriptEl.getAttribute("src")&&this.scriptEl.setAttribute("src",this.src)}},{key:"destroy",value:function(){Wn(Jn(e.prototype),"destroy",this).call(this)}},{key:"requiredPurposesVerified",get:function(){for(var t=!0,e=0;e<this.requiredPurposeIds.length;e++){var n=this.requiredPurposeIds[e];if(!this.tcDataModel.isPurposeGranted(n)){t=!1;break}}return t}},{key:"requiredVendorsVerified",get:function(){for(var t=!0,e=0;e<this.requiredVendorIds.length;e++){var n=this.requiredVendorIds[e];if(!this.tcDataModel.isVendorGranted(n)){t=!1;break}}return t}},{key:"consentVerified",get:function(){return!0}},{key:"src",get:function(){if(this._src)return this._src;var t=this.scriptEl.getAttribute("data-src");return t?(this._src=t,this._src):""}},{key:"scriptEl",get:function(){return this.el}}])&&Hn(n.prototype,o),r&&Hn(n,r),e}(i.Component);function Kn(t){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Qn(t,e){return!e||"object"!==Kn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function to(t,e,n){return(to="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eo(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function eo(t){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function no(t,e){return(no=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oo=function(t){function e(){var t,n;$n(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Qn(this,(t=eo(e)).call.apply(t,[this].concat(r)))).initSrc(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&no(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){to(eo(e.prototype),"destroy",this).call(this)}}])&&Zn(n.prototype,o),r&&Zn(n,r),e}(Yn);function ro(t){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function io(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ao(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function so(t,e){return!e||"object"!==ro(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function co(t,e,n){return(co="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lo(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function lo(t){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uo(t,e){return(uo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fo=function(t){function e(){var t,n;io(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=so(this,(t=lo(e)).call.apply(t,[this].concat(r)))).initCloseButton(),n.checkErrorCode(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uo(t,e)}(e,t),n=e,(o=[{key:"initCloseButton",value:function(){var t=this;this.closeButton=this.el.querySelector('[data-error-el="close"]'),this.closeButton&&this.closeButton.addEventListener("click",(function(){t.el.classList.add("hidden")}))}},{key:"checkErrorCode",value:function(){window.location.href.indexOf("?from=404")>-1&&this.el.classList.remove("hidden")}},{key:"destroy",value:function(){co(lo(e.prototype),"destroy",this).call(this)}}])&&ao(n.prototype,o),r&&ao(n,r),e}(i.Component);function po(t){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ho(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bo(t,e){return!e||"object"!==po(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function go(t,e,n){return(go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vo(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function vo(t){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mo(t,e){return(mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wo=function(t){function e(){var t,n;yo(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=bo(this,(t=vo(e)).call.apply(t,[this].concat(r))),window.document.addEventListener("mousedown",(function(t){n.onMouseDown(t)})),n.initPageVisibilityAPI(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mo(t,e)}(e,t),n=e,(o=[{key:"initPageVisibilityAPI",value:function(){var t,e=this;this.hiddenPropertyName=void 0,void 0!==document.hidden?(this.hiddenPropertyName="hidden",t="visibilitychange"):void 0!==document.mozHidden?(this.hiddenPropertyName="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(this.hiddenPropertyName="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden?(this.hiddenPropertyName="webkitHidden",t="webkitvisibilitychange"):t="visibilitychange",this.currentVisibilityState=this.visibilityState,this.boundOnVisibilityChange=function(){return e.onVisibilityChange(e.visibilityState)},window.document.addEventListener(t,this.boundOnVisibilityChange),this.boundOnPageHide=function(){return e.onVisibilityChange("hidden")},window.addEventListener("pagehide",this.boundOnPageHide)}},{key:"onVisibilityChange",value:function(t){this.currentVisibilityState!==t&&(this.currentVisibilityState=t,this.publish(s.v,t))}},{key:"onMouseDown",value:function(t){this.publish(s.t,t)}},{key:"destroy",value:function(){go(vo(e.prototype),"destroy",this).call(this)}},{key:"visibilityState",get:function(){return this.hiddenPropertyName?window.document[this.hiddenPropertyName]?"hidden":"visible":void 0!==window.document.visibilityState?window.document.visibilityState:void 0}}])&&ho(n.prototype,o),r&&ho(n,r),e}(i.Component),Oo=n(102);function So(t){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ko(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Eo(t,e){return!e||"object"!==So(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _o(t,e,n){return(_o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jo(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function jo(t){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ao(t,e){return(Ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Co=function(t){function e(){var t,n;Po(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Eo(this,(t=jo(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings),n.getElements(),n.initState(),n.appBridge=b.a.instance,n.isApp=P.a.isApp,n.initContextMenu(),n.initLinks(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ao(t,e)}(e,t),n=e,(o=[{key:"getElements",value:function(){this.toggle=this.el.querySelector('[data-featurebar-share*="toggle"]'),this.contextMenu=this.el.querySelector('[data-featurebar-share*="context-menu"]'),this.links=Array.from(this.el.querySelectorAll('[data-featurebar-share*="link"]')),this.contextLinks=Array.from(this.el.querySelectorAll('[data-featurebar-share*="contextlink"]'))}},{key:"initState",value:function(){this.contextMenu&&!this.contextMenu.classList.contains("hidden")?this._isContextMenuVisibile=!0:this._isContextMenuVisibile=!1}},{key:"initContextMenu",value:function(){var t=this;this.toggle&&this.contextMenu&&(this.toggle.addEventListener("click",(function(e){t.onToggleClicked(e)})),window.addEventListener("click",(function(){t.isContextMenuVisibile&&(t.isContextMenuVisibile=!1)})))}},{key:"initLinks",value:function(){for(var t=this,e=function(e){var n=t.links[e];n.addEventListener("click",(function(e){t.onLinkClicked(e,n)}))},n=0;n<this.links.length;n++)e(n)}},{key:"onToggleClicked",value:function(t){t.preventDefault(),t.stopPropagation(),this.isContextMenuVisibile=!this.isContextMenuVisibile,this.focusContextMenuLink()}},{key:"focusContextMenuLink",value:function(){Array.isArray(this.contextLinks)&&0!==this.contextLinks.length&&E.a.isMobile&&this.contextLinks[0].focus()}},{key:"onLinkClicked",value:function(t,e){this.isApp?(t.preventDefault(),this.appBridge.triggerShareButton()):e.getAttribute("data-featurebar-share").includes("detached-sharing-window")&&!E.a.isMobile?(t.preventDefault(),window.open(e.href,"Beitrag teilen","height=500,width=600")):e.getAttribute("data-featurebar-share").includes("copy")&&(t.preventDefault(),this.settings.url&&Oo.a.copyToClipboard(this.settings.url)&&alert("Artikel-URL erfolgreich in die Zwischenablage kopiert."))}},{key:"destroy",value:function(){_o(jo(e.prototype),"destroy",this).call(this)}},{key:"isContextMenuVisibile",get:function(){return this._isContextMenuVisibile},set:function(t){this._isContextMenuVisibile=!0===t,this.contextMenu&&(this.isContextMenuVisibile?(this.contextMenu.classList.remove("hidden"),this.toggle.classList.add("opacity-distinct")):(this.contextMenu.classList.add("hidden"),this.toggle.classList.remove("opacity-distinct")))}}])&&ko(n.prototype,o),r&&ko(n,r),e}(i.Component);function Lo(t){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function To(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Io(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ro(t,e){return!e||"object"!==Lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Do(t,e,n){return(Do="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xo(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function xo(t){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bo(t,e){return(Bo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var No=function(t){function e(){return To(this,e),Ro(this,xo(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bo(t,e)}(e,t),n=e,(o=[{key:"initAccordion",value:function(){var t=this;Do(xo(e.prototype),"initAccordion",this).call(this),document.querySelector('[data-component="BreakpointListener"]')&&"sm"!==document.querySelector('[data-component="BreakpointListener"]').dataset.breakpoint&&this.disableAccordion(),this.subscribe(s.i,(function(e){"sm"===e.breakpoint?t.enableAccordion():t.disableAccordion()}))}},{key:"disableAccordion",value:function(){Do(xo(e.prototype),"toggleExpandedState",this).call(this,!0),this.switchEl.removeEventListener("click",this.boundOnAccordionClick)}},{key:"enableAccordion",value:function(){Do(xo(e.prototype),"toggleExpandedState",this).call(this,!1),this.switchEl.addEventListener("click",this.boundOnAccordionClick)}}])&&Io(n.prototype,o),r&&Io(n,r),e}(Le);function zo(t){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Uo(t,e){return!e||"object"!==zo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vo(t,e,n){return(Vo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fo(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Fo(t){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ho(t,e){return(Ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Go=function(t){function e(){var t,n;qo(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Uo(this,(t=Fo(e)).call.apply(t,[this].concat(r)))).dataSettings=n.data.settings?JSON.parse(n.data.settings):{},void 0!==n.dataSettings.advertisementPositions&&Array.isArray(n.dataSettings.advertisementPositions)&&n.subscribe(s.e,(function(t){n.onAdPositionLoaded(t)})),void 0!==n.dataSettings.outbrainMovable&&n.dataSettings.outbrainMovable&&n.subscribe(s.x,(function(t){n.onOutbrainFurtherReadsReady(t)})),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ho(t,e)}(e,t),n=e,(o=[{key:"onAdPositionLoaded",value:function(t){var e=this;void 0!==this.dataSettings.advertisementPositions&&Array.isArray(this.dataSettings.advertisementPositions)&&this.dataSettings.advertisementPositions.forEach((function(n){t===n&&e.publish(s.mb,{furtherReadsId:e.dataSettings.furtherReadsId})}))}},{key:"onOutbrainFurtherReadsReady",value:function(t){t&&"function"==typeof t.appendChild&&t.appendChild(this.el),void 0!==this.dataSettings.advertisementPositions&&Array.isArray(this.dataSettings.advertisementPositions)&&this.dataSettings.advertisementPositions.forEach((function(t){I.instance.initAdPosition(t)}))}},{key:"destroy",value:function(){Vo(Fo(e.prototype),"destroy",this).call(this)}}])&&Mo(n.prototype,o),r&&Mo(n,r),e}(Le);function Wo(t){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Yo(t,e){return!e||"object"!==Wo(e)&&"function"!=typeof e?Ko(t):e}function Ko(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $o(t,e,n){return($o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zo(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Zo(t){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qo(t,e){return(Qo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tr=function(t){function e(){var t,n;Jo(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];(n=Yo(this,(t=Zo(e)).call.apply(t,[this].concat(r)))).dataSettings=n.data.settings?JSON.parse(n.data.settings):{},n.id=n.dataSettings.id,n.hash="fotostrecke-".concat(n.id),n.galleryBar=n.el.querySelector('[data-gallerylayer-el="gallery-bar"]'),n.galleryContent=n.el.querySelector('[data-gallerylayer-el="gallery-content"]'),n.focusCatcher=n.el.querySelector('[data-gallerylayer-el="catchFocus"]'),n.orgImage=document.querySelector('[data-component="GalleryTeaser"][data-settings=\'{"id":"'.concat(JSON.parse(n.data.settings).id,"\"}']")),n.transitionDuration=200,n.gujAdContainers=Array.from(n.el.querySelectorAll('[data-advertisement^="GujAd"]'));var a=n.el.querySelector('[data-gallerylayer-el="back-to-article"]'),c=n.el.querySelector('[data-gallerylayer-el="close-gallery"]');return a.addEventListener("click",(function(){return n.publish(s.k)})),c.addEventListener("click",(function(){return n.publish(s.k)})),Je.a.instance.register(Ko(n)),window.location.hash==="#".concat(n.hash)&&n.publish(s.n,n.id),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qo(t,e)}(e,t),n=e,(o=[{key:"open",value:function(){var t=this,e=[];this.gujAdContainers.forEach((function(t){var n=t.getAttribute("data-advertisement-id");n&&(t.setAttribute("id",n),e.push(n)),t.setAttribute("data-advertisement",t.getAttribute("data-advertisement").replace(new RegExp(" disabled","g"),""))})),e.forEach((function(t){I.instance.initAdPosition(t)})),document.removeEventListener("transitionend",this.boundHandleTransitionEnd),this.el.classList.remove("hidden"),this.el.style.transform="translateX(100vw)",this.publish(s.B,this),window.setTimeout((function(){t.el.classList.add("opacity-full"),t.el.style.transform="translateX(0)"}),0),E.a.isInternetExplorer&&window.dispatchEvent(new Event("resize")),this.focusLayer()}},{key:"focusLayer",value:function(){this.focusCatcher.focus()}},{key:"close",value:function(){var t=this;this.gujAdContainers.forEach((function(t){t.removeAttribute("id"),t.setAttribute("data-advertisement","".concat(t.getAttribute("data-advertisement")," disabled")),t.classList.add("hidden")})),this.publish(s.z,this),window.setTimeout((function(){t.el.style.transform="translateX(100vw)"}),0),this.boundHandleTransitionEnd=function(){return t.handleTransitionEnd()},document.addEventListener("transitionend",this.boundHandleTransitionEnd)}},{key:"handleTransitionEnd",value:function(){this.el.classList.add("hidden")}},{key:"destroy",value:function(){$o(Zo(e.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return!0}}])&&Xo(n.prototype,o),r&&Xo(n,r),e}(i.Component);function er(t){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function or(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function rr(t,e){return!e||"object"!==er(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ir(t,e,n){return(ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ar(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sr(t,e){return(sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cr=function(t){function e(){var t,n;nr(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=rr(this,(t=ar(e)).call.apply(t,[this].concat(r)))).dataSettings=n.data.settings?JSON.parse(n.data.settings):{},n.galleryActivator=n.el.querySelector('[data-galleryteaser-el="galleryActivator"]'),n.galleryButton=n.el.querySelector('[data-galleryteaser-el="galleryButton"]'),n.galleryActivator.addEventListener("click",(function(){n.publish(s.n,n.dataSettings.id)})),n.subscribe(s.l,(function(t){t===n.dataSettings.id&&n.onFocusCallback()})),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sr(t,e)}(e,t),n=e,(o=[{key:"onFocusCallback",value:function(){this.galleryButton&&this.galleryButton.focus()}},{key:"destroy",value:function(){ir(ar(e.prototype),"destroy",this).call(this)}}])&&or(n.prototype,o),r&&or(n,r),e}(i.Component);function lr(t){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pr(t,e){return!e||"object"!==lr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yr(t,e,n){return(yr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dr(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function dr(t){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hr(t,e){return(hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var br=function(t){function e(){var t,n;ur(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if((n=pr(this,(t=dr(e)).call.apply(t,[this].concat(r)))).isGujDisabled)return pr(n);n.settings=n.data.settings?JSON.parse(n.data.settings):{};var a=n.settings.srcPreview||"",s=n.settings.srcLive||"",c=window.location.search.indexOf("gujAd=1")>-1?a:s;return c&&(n.el.onload=function(){void 0!==window.GujAd&&void 0!==window.GujAd.cmd&&window.GujAd.cmd.push((function(){window.GujAd.finalize()}))},n._src=c,n.initSrc()),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hr(t,e)}(e,t),n=e,(r=[{key:"destroy",value:function(){yr(dr(e.prototype),"destroy",this).call(this)}},{key:"isGujDisabled",get:function(){return U.a.instance.hasNoAdsAccess||o.a.instance.disableAds}},{key:"src",get:function(){return this._src}}])&&fr(n.prototype,r),i&&fr(n,i),e}(Yn);function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wr(t,e){return!e||"object"!==gr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Or(t,e,n){return(Or="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sr(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pr(t,e){return(Pr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kr=function(t){function e(){var t,n;vr(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=wr(this,(t=Sr(e)).call.apply(t,[this].concat(r)))).menuActivator=n.el.querySelector('[data-headerbar-el="menuActivator"]'),n.intersectionObserverTarget=document.querySelector('[data-headerbar-el="intersectionObserverTarget"]'),n.intersectionObserver=null,n.isInTopArea=!0,n.isInOverlay=!1,n._state=n.el.classList.contains("collapsed")?"STATE_COLLAPSED":"STATE_EXPANDED",n.init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pr(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.menuActivator&&this.menuActivator.addEventListener("click",(function(){t.publish(s.w)})),this.intersectionObserverTarget&&(this.intersectionObserver=new IntersectionObserver((function(e){return t.onIntersectionChanged(e)}),{rootMargin:"-50px 0px 0px 0px"}),this.intersectionObserver.observe(this.intersectionObserverTarget)),this.subscribe(s.A,(function(e){return t.onActiveOverlayChanged(e)}))}},{key:"onIntersectionChanged",value:function(t){this.isInTopArea=t[0].isIntersecting,this.updateState()}},{key:"onActiveOverlayChanged",value:function(t){this.isInOverlay=t&&t.expandHeader,this.updateState()}},{key:"updateState",value:function(){this.isInOverlay||this.isInTopArea?this.state="STATE_EXPANDED":this.state="STATE_COLLAPSED"}},{key:"toggleHeaderBarCollapsed",value:function(t){this.el.classList.toggle("collapsed",!0===t)}},{key:"destroy",value:function(){Or(Sr(e.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return this._state},set:function(t){if(t===this._state)return this._state;switch(t){case"STATE_COLLAPSED":this.toggleHeaderBarCollapsed(!0),this._state=t;break;case"STATE_EXPANDED":this.toggleHeaderBarCollapsed(!1),this._state=t;break;default:console.warn('Could not set state for HeaderBar: Invalid value "'.concat(t,'"'))}return this._state}}])&&mr(n.prototype,o),r&&mr(n,r),e}(i.Component);function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ar(t,e){return!e||"object"!==Er(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cr(t,e,n){return(Cr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lr(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Lr(t){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tr(t,e){return(Tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ir=function(t){function e(){var t,n;_r(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];var a=(n=Ar(this,(t=Lr(e)).call.apply(t,[this].concat(r)))).el.getAttribute("data-src");return a&&n.el.setAttribute("src",a),n.el.onload=function(){n.publish(s.q)},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tr(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){Cr(Lr(e.prototype),"destroy",this).call(this)}}])&&jr(n.prototype,o),r&&jr(n,r),e}(i.Component);function Rr(t){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Br(t,e){return!e||"object"!==Rr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nr(t){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zr(t,e){return(zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qr=function(t){function e(){var t,n;Dr(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if((n=Br(this,(t=Nr(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings),n.inner=n.el.querySelector('[data-html-embed-el="inner"]'),n.thirdPartyConsentActivator=n.el.querySelector('[data-consent-el="activator"]'),n.thirdPartyConsentDeactivator=n.el.querySelector('[data-consent-el="deactivator"]'),n.consentHandlingPrepared=!1,n.settings.requireConsent){if(n.prepareConsentHandling(),!n.consentHandlingPrepared)return Br(n);n.initThirdPartyConsentHandling()}else n.showEmbed();return n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zr(t,e)}(e,t),n=e,(o=[{key:"prepareConsentHandling",value:function(){this.activateThirdPartyConsentButton=this.thirdPartyConsentActivator.querySelector("button"),this.deactivateThirdPartyConsentButton=this.thirdPartyConsentDeactivator.querySelector("button"),this.privacyPolicyLink=this.thirdPartyConsentDeactivator.querySelector('[data-link-el="privacy-policy"]'),this.activateThirdPartyConsentButton&&this.deactivateThirdPartyConsentButton?this.privacyPolicyLink?this.consentHandlingPrepared=!0:console.error("privacy policy link is not present in consent deactivator"):console.error("Third party consent activator and deactivator dont have a button")}},{key:"initThirdPartyConsentHandling",value:function(){var t=this,e=function(e){e?(t.thirdPartyConsentActivator.classList.add("hidden"),t.thirdPartyConsentDeactivator.classList.remove("opacity-none"),t.thirdPartyConsentDeactivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","0"),t.showEmbed()):(t.thirdPartyConsentActivator.classList.remove("hidden"),t.privacyPolicyLink.setAttribute("tabindex","-1"))};e(U.a.instance.hasAcceptedThirdPartyConsent),this.subscribe(s.Z,(function(n){n.accepted?(e(n.accepted),t.showEmbed()):window.location.reload(!0)}))}},{key:"showEmbed",value:function(){this.inner.classList.remove("hidden")}}])&&xr(n.prototype,o),r&&xr(n,r),e}(i.Component);function Mr(t){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fr(t,e){return!e||"object"!==Mr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hr(t){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gr(t,e){return(Gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wr=function(t){function e(){var t,n;Ur(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Fr(this,(t=Hr(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings),n.loader=n.el.querySelector('[data-iframe-el="loader"]'),n.iframe=n.el.querySelector('[data-iframe-el="iframe"]'),n.isLoaded=!1,n.addMessageListener(),n.init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gr(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.iframe&&(this.iframe.addEventListener("load",(function(){t.onLoaded()})),this.iframe.classList.remove("hidden"),this.iframe.classList.contains("lazyload")||this.iframe.classList.contains("lazytrigger")||this.loadSrc())}},{key:"addMessageListener",value:function(){var t=this;window.addEventListener("message",(function(e){var n=e.data;if(e.origin===new URL(t.settings.src).origin){try{n=JSON.parse(n)}catch(t){return}["resize","track"].includes(n.event)&&e.source===t.iframe.contentWindow&&("resize"===n.event&&n.height?(t.el.style.paddingBottom="".concat(n.height,"px"),t.isLoaded&&(t.el.style.minHeight="")):"track"===n.event&&tt.instance.push(n.payload))}}))}},{key:"loadSrc",value:function(){this.src&&this.iframe&&!this.iframe.getAttribute("src")&&this.iframe.setAttribute("src",this.src)}},{key:"onLoaded",value:function(){this.isLoaded=!0,this.loader&&this.loader.classList.add("hidden"),this.el.style.paddingBottom&&(this.el.style.minHeight="")}},{key:"src",get:function(){if(this._src)return this._src;var t=this.iframe?this.iframe.getAttribute("data-src"):void 0;return t?(this._src=t,this._src):""}}])&&Vr(n.prototype,o),r&&Vr(n,r),e}(i.Component);function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Kr(t,e){return!e||"object"!==Jr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $r(t,e,n){return($r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zr(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qr(t,e){return(Qr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ti=function(t){function e(){return Xr(this,e),Kr(this,Zr(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qr(t,e)}(e,t),n=e,(o=[{key:"addMessageListener",value:function(){this.loadContent(),$r(Zr(e.prototype),"addMessageListener",this).call(this)}},{key:"loadContent",value:function(){var t=new URLSearchParams(window.location.search),e=t.get("n2g"),n=t.get("action"),o=/^[a-zA-Z0-9-]+$/;if(e||n){var r=new URL(this.settings.src);e&&o.test(e)&&r.searchParams.set("n2g",e),n&&o.test(n)&&r.searchParams.set("action",n),this.iframe.dataset.src=r.href}else this.iframe.dataset.src=this.settings.src}}])&&Yr(n.prototype,o),r&&Yr(n,r),e}(Wr);function ei(t){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ri(t,e){return!e||"object"!==ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ii(t,e,n){return(ii="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ai(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ai(t){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function si(t,e){return(si=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ci=function(t){function e(){var t,n;ni(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];(n=ri(this,(t=ai(e)).call.apply(t,[this].concat(r)))).settings={uuid:"",zoomAnimation:!1,zoomId:""};var a=n.data.settings?JSON.parse(n.data.settings):{};return n.settings=Object.assign(n.settings,a),n.settings.zoomable&&(n.zoomButton=n.el.querySelector('[data-image-el="zoomButton"]'),n.el.addEventListener("click",(function(){n.onZoom()})),n.subscribe(s.l,(function(t){t===n.settings.id&&n.onFocusCallback()}))),n.image=n.el.querySelector('[data-image-el="img"]'),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&si(t,e)}(e,t),n=e,(o=[{key:"onZoom",value:function(){this.publish(s.n,this.settings.zoomId)}},{key:"onFocusCallback",value:function(){this.zoomButton&&this.zoomButton.focus()}},{key:"destroy",value:function(){ii(ai(e.prototype),"destroy",this).call(this)}}])&&oi(n.prototype,o),r&&oi(n,r),e}(i.Component);function li(t){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ui(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pi(t,e){return!e||"object"!==li(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yi(t,e,n){return(yi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=di(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function di(t){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hi(t,e){return(hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bi=function(t){function e(){var t,n;ui(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=pi(this,(t=di(e)).call.apply(t,[this].concat(r))),"function"==typeof window.jwplayer?n.publish(s.s):n.el.onload=function(){n.publish(s.s)},n.initSrc(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hi(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){yi(di(e.prototype),"destroy",this).call(this)}}])&&fi(n.prototype,o),r&&fi(n,r),e}(Yn);function gi(t){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wi(t,e){return!e||"object"!==gi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oi(t,e,n){return(Oi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Si(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Si(t){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pi(t,e){return(Pi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ki=function(t){function e(){var t,n;vi(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];var a=(n=wi(this,(t=Si(e)).call.apply(t,[this].concat(r)))).data.settings?JSON.parse(n.data.settings):{};return n.magazineImage=n.el.querySelector('[data-image-el="magazineImg"]'),n.magazineImage.onerror=function(){n.loadFallbackImage(a.fallbackImageUrl)},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pi(t,e)}(e,t),n=e,(o=[{key:"loadFallbackImage",value:function(t){var e=this;this.disableImage(),this.magazineImage.src=t,this.magazineImage.onload=function(){e.showImage()},this.magazineImage.onerror=function(){e.disableImage()}}},{key:"showImage",value:function(){this.magazineImage.style.display="block"}},{key:"disableImage",value:function(){this.magazineImage.style.display="none"}},{key:"destroy",value:function(){Oi(Si(e.prototype),"destroy",this).call(this)}}])&&mi(n.prototype,o),r&&mi(n,r),e}(i.Component);function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ji(t,e){return!e||"object"!==Ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ai(t){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ci(t,e){return(Ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Li=function(t){function e(){return _i(this,e),ji(this,Ai(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ci(t,e)}(e,t),e}(Le);function Ti(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ii=Symbol("INSTANCE"),Ri=Symbol("SINGELTONENFORCER"),Di=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==Ri)throw new Error("Instantiation failed: Use FeatureDetection.instance instead of new.");this.init()}var e,n,o;return e=t,o=[{key:"instance",get:function(){return this[Ii]||(this[Ii]=new t(Ri)),this[Ii]}}],(n=[{key:"init",value:function(){this._supportsPassiveEventListener=this.getSupportsPassiveEventListener()}},{key:"getSupportsPassiveEventListener",value:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}},{key:"supportsPassiveEventListener",get:function(){return this._supportsPassiveEventListener}}])&&Ti(e.prototype,n),o&&Ti(e,o),t}();function xi(t){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ni(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function zi(t,e){return!e||"object"!==xi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qi(t,e,n){return(qi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mi(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Mi(t){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ui(t,e){return(Ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vi=Di.instance,Fi=function(t){function e(){var t,n;Bi(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=zi(this,(t=Mi(e)).call.apply(t,[this].concat(r))),P.a.isApp?zi(n):(n.overlay=n.el.querySelector('[data-menu-el="overlay"]'),n.menuDrawer=n.el.querySelector('[data-menu-el="menuDrawer"]'),n.rightSwiper=n.el.querySelector('[data-menu-el="rightSwiper"]'),n.focusCatcher=n.el.querySelector('[data-menu-el="catchFocus"]'),n.subscribe(s.w,(function(){n.open()})),n.overlay.addEventListener("click",(function(){n.close()})),n.boundOnKeyDown=function(t){return n.onKeyDown(t)},n.initSwipe(),n)}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ui(t,e)}(e,t),n=e,(o=[{key:"initSwipe",value:function(){var t=this;this.initialX=null,this.initialY=null,this.el.addEventListener("touchstart",(function(e){return t.onTouchStart(e)}),!!Vi.supportsPassiveEventListener&&{passive:!0}),this.rightSwiper.addEventListener("touchstart",(function(e){return t.onTouchStart(e)}),!!Vi.supportsPassiveEventListener&&{passive:!0}),this.el.addEventListener("touchmove",(function(e){return t.onTouchMove(e)}),!!Vi.supportsPassiveEventListener&&{passive:!0}),this.rightSwiper.addEventListener("touchmove",(function(e){return t.onTouchMove(e)}),!!Vi.supportsPassiveEventListener&&{passive:!0})}},{key:"onTouchStart",value:function(t){this.initialX=t.touches[0].clientX,this.initialY=t.touches[0].clientY}},{key:"onTouchMove",value:function(t){if(null!==this.initialX&&null!==this.initialY){var e=t.touches[0].clientX,n=t.touches[0].clientY,o=this.initialX-e,r=this.initialY-n,i=r>-Math.abs(5)&&r<Math.abs(5);Math.abs(o)>Math.abs(r)&&(o>0&&i?this.close():this.open()),this.initialX=null,this.initialY=null}}},{key:"open",value:function(){var t=this;this.overlay.classList.add("fixed"),this.el.setAttribute("aria-hidden",!1),this.el.classList.toggle("hidden",!1),window.setTimeout((function(){t.menuDrawer.style.transform="translateX(0px)"}),0),this.focusDrawer(),window.document.addEventListener("keydown",this.boundOnKeyDown,!0)}},{key:"close",value:function(){var t=this;this.overlay.classList.remove("fixed"),this.el.setAttribute("aria-hidden",!0),window.setTimeout((function(){t.menuDrawer.style.transform="translateX(-320px)"}),0),this.el.addEventListener("transitionend",(function e(){t.el.classList.toggle("hidden",!0),t.el.removeEventListener("transitionend",e)})),"function"==typeof this.boundOnKeyDown&&window.document.removeEventListener("keydown",this.boundOnKeyDown,!0)}},{key:"focusDrawer",value:function(){this.focusCatcher.focus()}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(t.preventDefault(),this.close())}},{key:"destroy",value:function(){qi(Mi(e.prototype),"destroy",this).call(this)}}])&&Ni(n.prototype,o),r&&Ni(n,r),e}(i.Component);function Hi(t){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ji(t,e){return!e||"object"!==Hi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xi(t,e,n){return(Xi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yi(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Yi(t){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ki(t,e){return(Ki=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $i=function(t){function e(){var t,n;Gi(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Ji(this,(t=Yi(e)).call.apply(t,[this].concat(r)))).el.id&&document.querySelectorAll('main [id="'.concat(n.el.id,'"]'))&&(n.initLayer(),n.initLinks()),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ki(t,e)}(e,t),n=e,(o=[{key:"initLayer",value:function(){var t=this;this.hash=this.el.id,this.el.removeAttribute("id"),window.history.scrollRestoration="manual",this.layerService=Je.a.instance,this.layerService.register(this),this.subscribe(s.j,(function(e){return t.onActiveLayerChanged(e)})),window.location.hash&&window.location.hash==="#".concat(this.hash)&&this.publish(s.n,this.id)}},{key:"initLinks",value:function(){var t=this;Array.from(document.querySelectorAll('main a[href="#'.concat(this.hash,'"]'))).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),t.publish(s.n,t.id)}))}))}},{key:"onExpand",value:function(){Xi(Yi(e.prototype),"onExpand",this).call(this),this.switchEl.classList.add("bg-sec2-lightest")}},{key:"onCollapse",value:function(){Xi(Yi(e.prototype),"onCollapse",this).call(this),this.switchEl.classList.remove("bg-sec2-lightest")}},{key:"onActiveLayerChanged",value:function(t){t===this.id&&this.el.scrollIntoView()}},{key:"open",value:function(){this.expand()}},{key:"close",value:function(){this.collapse()}}])&&Wi(n.prototype,o),r&&Wi(n,r),e}(Le);n(189),n(50),n(190);function Zi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Qi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}}}],(n=null)&&Zi(e.prototype,n),o&&Zi(e,o),t}();function ta(t){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function na(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function oa(t,e){return!e||"object"!==ta(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ra(t,e,n){return(ra="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ia(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aa(t,e){return(aa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sa=function(t){function e(){var t,n;ea(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=oa(this,(t=ia(e)).call.apply(t,[this].concat(r)))).settings=n.parseBase64Settings(n.data.settings),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aa(t,e)}(e,t),n=e,(o=[{key:"parseBase64Settings",value:function(t){if(!t||"string"!=typeof t)return{};try{return Qi.pipe(this.decodeBase64,this.decodeHtmlEntities,this.decodeURI,this.parseJson)(t)}catch(t){return{}}}},{key:"decodeBase64",value:function(t){try{return window.atob(t)}catch(e){return t}}},{key:"decodeHtmlEntities",value:function(t){if(!t||"string"!=typeof t)throw new Error("TypeError: String expected");var e=document.createElement("textarea");return e.innerHTML=t,e.value}},{key:"decodeURI",value:function(t){if(!t||"string"!=typeof t)throw new Error("TypeError: String expected");return decodeURIComponent(escape(t))}},{key:"parseJson",value:function(t){if(!t||"string"!=typeof t)throw new Error("TypeError: String expected");return JSON.parse(t)}},{key:"destroy",value:function(){ra(ia(e.prototype),"destroy",this).call(this)}}])&&na(n.prototype,o),r&&na(n,r),e}(i.Component);function ca(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function la(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ua(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var fa=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&n?(this.apiUrl=e,this.orgId=n):console.error("OmnyStudio requires apiUrl and orgId for correct instantiation.")}var e,n,o;return e=t,(n=[{key:"getClipByClipId",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getClipByClipId - missing valid clipId function param"));var n="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/clips/").concat(t);return new Promise((function(o,r){e.fetchUrl(n).then((function(n){if(n){var i=e.sanitizeFieldsInObject(n,["Title","Description"]);o(i)}else r(new Error("OmnyStudio getClipByClipId - no clip found for clipId: ".concat(t)))})).catch((function(t){return r(t)}))}))}},{key:"getClipByPlaylistId",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getClipByPlaylistId - missing valid playlistId function param"));var n="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(t,"/clips");return new Promise((function(o,r){e.fetchUrl(n).then((function(n){var i=n.Clips&&Array.isArray(n.Clips)&&"undefined"!==n.Clips[0]?n.Clips[0]:void 0;if(i){var a=e.sanitizeFieldsInObject(i,["Title","Description"]);o(a)}else r(new Error("OmnyStudio getClipByPlaylistId - no clip found for playlistId: ".concat(t)))})).catch((function(t){return r(t)}))}))}},{key:"getClipsByPlaylistId",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getClipByPlaylistId - missing valid playlistId function param"));var o="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(t,"/clips?pageSize=").concat(n);return new Promise((function(n,r){e.fetchUrl(o).then((function(o){var i=o.Clips&&Array.isArray(o.Clips)&&o.Clips.length>0?o.Clips:void 0;if(i){var a=i.map((function(t){return e.sanitizeFieldsInObject(t,["Title","Description"])}));n(a)}else r(new Error("OmnyStudio getClipsByPlaylistId - no clips found for playlistId: ".concat(t)))})).catch((function(t){return r(t)}))}))}},{key:"getPlaylistByPlaylistId",value:function(t){var e=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("OmnyStudio getPlaylistByPlaylistId - missing valid playlistId function param"));var n="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(t);return new Promise((function(o,r){e.fetchUrl(n).then((function(n){if(n){var i=e.sanitizeFieldsInObject(n,["Title","Description"]);o(i)}else r(new Error("OmnyStudio getPlaylistByPlaylistId - no playlist found for playlistId: ".concat(t)))})).catch((function(t){return r(t)}))}))}},{key:"getPlaylistIdFromClip",value:function(t){return void 0!==t&&t.PlaylistIds&&Array.isArray(t.PlaylistIds)?t.PlaylistIds[0]:""}},{key:"getProgramIdFromClip",value:function(t){return void 0!==t&&t.ProgramId?t.ProgramId:""}},{key:"fetchUrl",value:function(t){return fetch(t,{method:"GET",headers:{"Content-Type":"text/plain"}}).then((function(t){return 200!==t.status?Promise.reject(new Error("OmnyStudio fetchUrl - failed to get data from API, URL: ".concat(t.url))):t.json()}))}},{key:"sanitizeFieldsInObject",value:function(t,e){var n=this,o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ca(Object(n),!0).forEach((function(e){la(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return e.forEach((function(t){o[t]&&"string"==typeof o[t]&&(o[t]=n.sanitizeString(o[t]))})),o}},{key:"sanitizeString",value:function(t){return t.replace(/[AOUaou]\u0308/g,(function(t){switch(t.charCodeAt(0)){case 65:return"";case 79:return"";case 85:return"";case 97:return"";case 111:return"";case 117:return"";default:return t}}))}}])&&ua(e.prototype,n),o&&ua(e,o),t}();function pa(t){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ya(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function da(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ha(t,e){return!e||"object"!==pa(e)&&"function"!=typeof e?ba(t):e}function ba(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ga(t,e){return(ga=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function va(t,e,n){return(va="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ma(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ma(t){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wa=function(t){function e(){var t,n;ya(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=ha(this,(t=ma(e)).call.apply(t,[this].concat(r))),P.a.isApp?(n.programId=void 0,n.playlistId=n.settings.playlistId&&"string"==typeof n.settings.playlistId?n.settings.playlistId:void 0,n.clipId=n.settings.clipId&&"string"==typeof n.settings.clipId?n.settings.clipId:void 0,n.appData={},n.omnySettings=n.data.omnySettings?va(ma(e.prototype),"parseBase64Settings",ba(n)).call(ba(n),n.data.omnySettings):{},n.omnyPrograms=n.omnySettings.programs?n.omnySettings.programs:{},n.omnyStudio=new fa(n.omnySettings.apiUrl,n.omnySettings.orgId),n.omnyClip={},n.omnyPlaylist={},n.programName="",n.player=n.el.querySelector("[data-native-audio-player-el=player]"),n.loader=n.el.querySelector("[data-native-audio-player-el=loader]"),n.poster=n.el.querySelector("[data-native-audio-player-el=poster]"),n.kicker=n.el.querySelector("[data-native-audio-player-el=kicker]"),n.headline=n.el.querySelector("[data-native-audio-player-el=headline]"),n.playButton=n.el.querySelector("[data-native-audio-player-el=playButton]"),n.playButtonLabel=n.el.querySelector("[data-native-audio-player-el=playButtonLabel]"),n.replayButton=n.el.querySelector("[data-native-audio-player-el=replayButton]"),n.replayButtonLabel=n.el.querySelector("[data-native-audio-player-el=replayButtonLabel]"),n.state="STATE_LOADING",n.init(),n):ha(n)}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ga(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.playlistId?this.fetchOmnyDataByPlaylistId(this.playlistId).then((function(){t.initAppData(),t.initPlayer()})).catch((function(e){return t.onError(e)})):this.clipId&&this.fetchOmnyDataByClipId(this.clipId).then((function(){t.initAppData(),t.initPlayer()})).catch((function(e){return t.onError(e)}))}},{key:"fetchOmnyDataByPlaylistId",value:function(t){var e=this;return new Promise((function(n,o){e.omnyStudio.getClipByPlaylistId(t).then((function(n){return e.omnyClip=n,e.omnyStudio.getPlaylistByPlaylistId(t)})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return e.onError(t)}))}))}},{key:"fetchOmnyDataByClipId",value:function(t){var e=this;return new Promise((function(n,o){e.omnyStudio.getClipByClipId(t).then((function(t){return e.omnyClip=t,e.playlistId=e.omnyStudio.getPlaylistIdFromClip(t),e.programId=e.omnyStudio.getProgramIdFromClip(t),e.playlistId||(e.programName=e.programId?e.getProgramNameByProgramId(e.programId):"",n()),e.omnyStudio.getPlaylistByPlaylistId(e.playlistId)})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return o(t)}))}))}},{key:"getProgramNameByProgramId",value:function(t){return this.omnyPrograms[t]&&this.omnyPrograms[t].name?this.omnyPrograms[t].name:""}},{key:"getPlayButtonLabelByProgramId",value:function(t){return t&&this.omnyPrograms[t]&&this.omnyPrograms[t].playButtonLabel?this.omnyPrograms[t].playButtonLabel:void 0}},{key:"getReplayButtonLabelByProgramId",value:function(t){return t&&this.omnyPrograms[t]&&this.omnyPrograms[t].replayButtonLabel?this.omnyPrograms[t].replayButtonLabel:void 0}},{key:"initAppData",value:function(){var t=this,e="";this.omnyClip.ImageUrl?e=this.omnyClip.ImageUrl.replace(/&size=Medium$/i,"&size=Small"):this.omnyPlaylist.ArtworkUrl&&(e=this.omnyPlaylist.ArtworkUrl.replace(/&size=Medium$/i,"&size=Small"));var n=[];this.omnyPlaylist.DirectoryLinks&&Object.keys(this.omnyPlaylist.DirectoryLinks).forEach((function(e){if(t.omnyPlaylist.DirectoryLinks[e])switch(e){case"ApplePodcasts":var o=t.omnyPlaylist.DirectoryLinks.ApplePodcasts;-1===o.indexOf("https://podcasts.apple.com/")&&-1===o.indexOf("https://geo.itunes.apple.com/")||n.push({id:"apple-podcasts",service:o});break;case"GooglePodcasts":var r=t.omnyPlaylist.DirectoryLinks.GooglePodcasts;r&&n.push({id:"google-podcasts",service:r});break;case"Spotify":var i=t.omnyPlaylist.DirectoryLinks.Spotify;-1!==i.indexOf("https://open.spotify.com/")&&n.push({id:"spotify",service:i});break;case"Stitcher":var a=t.omnyPlaylist.DirectoryLinks.Stitcher;-1!==a.indexOf("https://castbox.fm/")&&n.push({id:"castbox",service:a});break;case"TuneIn":case"GooglePlay":break;case"RssFeed":var s=t.omnyPlaylist.DirectoryLinks.RssFeed;s&&n.push({id:"rss",service:s})}})),n.find((function(t){return"apple-podcasts"===t.id}))||n.push({id:"apple-podcasts",service:""});var o=this.getStreamUrl();this.appData={audioUrl:o,clients:n,duration:this.omnyClip.DurationSeconds?Math.round(1e3*this.omnyClip.DurationSeconds):-1,headline:this.omnyClip.Title?this.omnyClip.Title:"",kicker:this.omnyPlaylist.Title?this.omnyPlaylist.Title:this.programName?this.programName:"",posterUrl:e}}},{key:"initPlayer",value:function(){var t=this;if(this.poster){var e="";this.omnyClip.ImageUrl?e=this.omnyClip.ImageUrl.replace(/&size=Medium$/i,"&size=Small"):this.omnyPlaylist.ArtworkUrl&&(e=this.omnyPlaylist.ArtworkUrl.replace(/&size=Medium$/i,"&size=Small")),this.poster.setAttribute("src",e)}this.kicker&&(this.kicker.innerHTML=this.omnyPlaylist.Title?this.omnyPlaylist.Title:this.programName?this.programName:""),this.headline&&(this.headline.innerHTML=this.omnyClip.Title?this.omnyClip.Title:""),this.playButton&&(this.boundOnPlay=function(){t.onPlay()},this.playButton.addEventListener("click",this.boundOnPlay)),this.playButtonLabel&&this.getPlayButtonLabelByProgramId(this.programId)&&(this.playButtonLabel.innerHTML=this.getPlayButtonLabelByProgramId(this.programId)),this.replayButton&&(this.boundOnReplay=function(){t.onReplay()},this.replayButton.addEventListener("click",this.boundOnReplay)),this.replayButtonLabel&&this.getReplayButtonLabelByProgramId(this.programId)&&(this.replayButtonLabel.innerHTML=this.getReplayButtonLabelByProgramId(this.programId)),this.publish(s.D,this.eventPayload),this.state="STATE_DEFAULT"}},{key:"getStreamUrl",value:function(){if(!this.omnyClip.AudioUrl)return"";var t=new URL(this.omnyClip.AudioUrl);return P.a.isIOSApp?t.searchParams.set("utm_source","CustomPlayer3"):P.a.isAndroidApp&&t.searchParams.set("utm_source","CustomPlayer4"),t.href}},{key:"onPlay",value:function(){var t=this;b.a.instance.triggerNativeAudioPlayer(this.appData),this.publish(s.E,this.eventPayload),this.playButton.setAttribute("disabled",""),setTimeout((function(){t.replayButton&&(t.playButton.classList.add("hidden"),t.replayButton.classList.remove("hidden"))}),2e3)}},{key:"onReplay",value:function(){var t=this;b.a.instance.triggerNativeAudioPlayer(this.appData),this.publish(s.F,this.eventPayload),this.replayButton.setAttribute("disabled",""),setTimeout((function(){t.replayButton.removeAttribute("disabled")}),2e3)}},{key:"toggleElementVisibility",value:function(t,e){t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}},{key:"onError",value:function(t){console.error(t.message)}},{key:"destroy",value:function(){this.playButton&&this.boundOnPlay&&this.playButton.removeEventListener("click",this.boundOnPlay),this.replayButton&&this.boundOnReplay&&this.replayButton.removeEventListener("click",this.boundOnReplay),va(ma(e.prototype),"destroy",this).call(this)}},{key:"eventPayload",get:function(){var t=this.getStreamUrl();return{show:this.omnyPlaylist.Title?this.omnyPlaylist.Title:this.programName?this.programName:"",title:this.omnyClip.Title?this.omnyClip.Title:"",audioUrl:t,duration:this.omnyClip.DurationSeconds?Math.round(1e3*this.omnyClip.DurationSeconds):-1,id:this.omnyClip.Id?this.omnyClip.Id:""}}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t,t){case"STATE_LOADING":case"STATE_ERROR":this.toggleElementVisibility(this.player,!1),this.toggleElementVisibility(this.loader,!0);break;case"STATE_DEFAULT":default:this.toggleElementVisibility(this.player,!0),this.toggleElementVisibility(this.loader,!1)}}}])&&da(n.prototype,o),r&&da(n,r),e}(sa);function Oa(t){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ka(t,e){return!e||"object"!==Oa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ea(t,e,n){return(Ea="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_a(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _a(t){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ja(t,e){return(ja=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Aa=function(t){function e(){var t,n;Sa(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=ka(this,(t=_a(e)).call.apply(t,[this].concat(r)))).thumbnail=n.el.querySelector('[data-nativevideo-el="thumbnail"]'),n.playButton=n.el.querySelector('[data-nativevideo-el="playButton"]'),n.video=n.el.querySelector('[data-nativevideo-el="video"]'),n.videoSource=n.video.querySelector("source"),n.videoUrl=!!n.videoSource&&!!n.videoSource.dataset&&n.videoSource.dataset.src&&n.videoSource.dataset.src,n.videoUrl?(n.thumbnail?(n.boundOnClick=function(){n.onClick()},n.playButton.addEventListener("click",n.boundOnClick),n.thumbnail.addEventListener("click",n.boundOnClick)):(n.boundOnLazyLoad=function(t){t.target===n.el&&n.onLazyLoad()},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad)),n):(console.error("Video has no source"),ka(n))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ja(t,e)}(e,t),n=e,(o=[{key:"onClick",value:function(){var t=this;this.setVideoSource(),this.showVideo(),setTimeout((function(){t.video.play()}),0),this.removeEventListeners()}},{key:"onLazyLoad",value:function(){this.setVideoSource(),this.showVideo()}},{key:"setVideoSource",value:function(){var t=this;this.videoSource.setAttribute("src",this.videoUrl),setTimeout((function(){t.video.load(),t.video.play(),t.video.pause()}),0)}},{key:"showVideo",value:function(){this.thumbnail&&this.thumbnail.classList.add("hidden"),this.video.classList.remove("hidden")}},{key:"removeEventListeners",value:function(){this.thumbnail?(this.playButton.removeEventListener("click",this.boundOnClick),this.thumbnail.removeEventListener("click",this.boundOnClick)):this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad)}},{key:"destroy",value:function(){this.removeEventListeners(),Ea(_a(e.prototype),"destroy",this).call(this)}}])&&Pa(n.prototype,o),r&&Pa(n,r),e}(i.Component),Ca=n(103),La=n.n(Ca),Ta=n(56);function Ia(t){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ra(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Da(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xa(t,e){return!e||"object"!==Ia(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ba(t,e,n){return(Ba="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Na(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Na(t){return(Na=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function za(t,e){return(za=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Ta.b.use([Ta.a]);var qa=function(t){function e(){var t,n;Ra(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];(n=xa(this,(t=Na(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings);var a=window.getComputedStyle(n.el).fontFamily.split(", ")[0];if("serif"!==a&&"sans-serif"!==a){var s=new La.a(a);s.load().then((function(){n.initSwiper()}),(function(){n.initSwiper(),s.load(null,1e4).then((function(){n.swiper.update()}),(function(){console.error("".concat(a," font is not available"))}))}))}else n.initSwiper();return n.initSearch(),n.initMenuActivator(),n.initLatestNews(),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&za(t,e)}(e,t),n=e,(r=[{key:"initSwiper",value:function(){var t=this,e=this.el.querySelector(".swiper-container"),n=this.el.querySelector('[data-swiper-el="prevEl"]'),o=this.el.querySelector('[data-swiper-el="nextEl"]'),r=this.settings.isBreadcrumb;this.swiper=new Ta.b(e,{freeMode:!0,slidesPerView:"auto",navigation:{nextEl:o,prevEl:n,disabledClass:"hidden"},on:{init:function(){if(r)this.slideTo(this.slides.length-1,500,!1);else{var t=Array.from(this.slides).findIndex((function(t){return t.dataset.itemActive}));this.slideTo(t-1,500,!1)}},reachBeginning:function(){t.onSwiperReachBeginning()},fromEdge:function(){t.onSwiperFromEdge()}}})}},{key:"initSearch",value:function(){var t=this;this.searchFormEl=this.el.querySelector('[data-search-el="form"]'),this.searchFormEl.style.transition="width .3s ease-out",this.searchToggleContainerEl=this.el.querySelector('[data-search-el="toggle-container"]'),this.searchInputContainerEl=this.el.querySelector('[data-search-el="input-container"]');var e=this.el.querySelector('[data-search-el="toggle"]'),n=this.el.querySelector('[data-search-el="submit"]');this.searchInputEl=this.el.querySelector('[data-search-el="input"]'),this.searchFormEl.addEventListener("transitionend",(function(){t.swiper.update(),t.searchFormEl.classList.contains("lg:w-4/12")||t.toggleSearchContainer(!1)})),e.addEventListener("click",(function(){t.toggleSearchContainer(!0),t.searchFormEl.classList.add("lg:w-4/12"),t.searchFormEl.classList.add("md:w-5/12"),t.searchInputEl.focus()})),n.addEventListener("click",(function(){t.submitForm()||(t.searchFormEl.classList.remove("lg:w-4/12"),t.searchFormEl.classList.remove("md:w-5/12"))})),document.addEventListener("click",(function(e){t.searchFormEl.contains(e.target)||(t.searchFormEl.classList.remove("lg:w-4/12"),t.searchFormEl.classList.remove("md:w-5/12"))})),this.searchFormEl.addEventListener("submit",(function(e){e.preventDefault(),t.submitForm()}))}},{key:"toggleSearchContainer",value:function(t){this.searchToggleContainerEl.classList.toggle("hidden",t),this.searchInputContainerEl.classList.toggle("hidden",!t),this.searchInputContainerEl.classList.toggle("relative",t),this.searchInputContainerEl.classList.toggle("absolute",!t),this.searchInputContainerEl.classList.toggle("pointer-events-none",!t),this.searchInputContainerEl.classList.toggle("opacity-none",!t),this.searchInputContainerEl.setAttribute("aria-hidden",!t)}},{key:"submitForm",value:function(){return!!this.searchInputEl.value&&(document.location.replace("".concat(o.a.instance.urls.base,"/suche/?").concat(this.searchInputEl.name,"=").concat(this.searchInputEl.value)),!0)}},{key:"initMenuActivator",value:function(){var t=this;this.el.querySelector('[data-navbar-el="menuActivator"]').addEventListener("click",(function(){t.publish(s.w)}))}},{key:"initLatestNews",value:function(){this.latestNewsTooltip=this.el.querySelector('[data-navbar-el="latestNewsTooltip"]')}},{key:"onSwiperFromEdge",value:function(){this.latestNewsTooltip&&(this.latestNewsTooltip.style.visibility="hidden")}},{key:"onSwiperReachBeginning",value:function(){this.latestNewsTooltip&&(this.latestNewsTooltip.style.visibility="visible")}},{key:"destroy",value:function(){Ba(Na(e.prototype),"destroy",this).call(this)}}])&&Da(n.prototype,r),i&&Da(n,i),e}(i.Component);n(192);function Ma(t){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ua(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Va(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fa(t,e){return!e||"object"!==Ma(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ha(t,e,n){return(Ha="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ga(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Ga(t){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wa(t,e){return(Wa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ja=function(t){function e(){var t,n;Ua(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n=Fa(this,(t=Ga(e)).call.apply(t,[this].concat(i)));var s=k.a.instance;return s.isIssueArticle?Fa(n):(n._src="//widgets.outbrain.com/outbrain.js",n.consentDisabled=!(!o.a.instance.consent||"boolean"!=typeof o.a.instance.consent.disabled)&&o.a.instance.consent.disabled,n.settings=JSON.parse(n.data.outbrainSettings),n.app=!!P.a.isApp&&P.a.appCode,n.outbrainId=String(),n.init(),n)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wa(t,e)}(e,t),n=e,(r=[{key:"init",value:function(){this.determineOutbrainId(),this.outbrainId&&(this.setTrackingReducedVersion(),this.embedOutbrainScript(),this.embedOutbrainElement(),this.initSrc())}},{key:"determineOutbrainId",value:function(){var t=this,e="web";"android"===this.app?e="android":"ios"===this.app&&(e="ios");var n=Array.from(this.settings.widgetIDs).filter((function(n){return n.ads===!t.settings.noAds&&n.guaranteed===t.settings.guaranteed&&n.type===t.settings.type&&n.device===e?n.id:null}));this.outbrainId=n[0]&&n[0].id?n[0].id:null}},{key:"setTrackingReducedVersion",value:function(){if(this.consentDisabled){var t="OB_ContextKeyValue";window[t]||(window[t]="notracking")}}},{key:"embedOutbrainScript",value:function(){var t='<script type"text/javascript" async="async" data-outbrain-el="script"><\/script>'.trim();this.embedToWrapper(t)}},{key:"embedOutbrainElement",value:function(){var t={};P.a.isApp&&(t["data-ob-installation-type"]="app_js_widget",t["data-is-secured"]="true",t["data-ob-installation-key"]=this.partnerKey,t["data-ob-user-id"]=b.a.instance.advertisingId?b.a.instance.advertisingId:"null",t["data-ob-app-ver"]=b.a.instance.bundleId?b.a.instance.bundleId:"");var e='\n            <div class="outbrain-container">\n                <div id="'.concat(this.outbrainId,'"\n                    class="OUTBRAIN"\n                    data-src="').concat(this.settings.src,'"\n                    data-widget-id="').concat(this.outbrainId,'"\n                    data-ob-template="').concat(this.settings.template||"DE_SPIEGEL",'"\n        ');Object.keys(t).forEach((function(n){e+="".concat(n,'="').concat(t[n],'"\n            ')})),e+=">\n                </div>\n            </div>\n        ",this.embedToWrapper(e.trim())}},{key:"embedToWrapper",value:function(t){if(t)try{this.el.appendChild(document.createRange().createContextualFragment(t))}catch(e){this.el.insertAdjacentHTML("beforeend",t)}}},{key:"destroy",value:function(){this.el.innerHTML="",Ha(Ga(e.prototype),"destroy",this).call(this)}},{key:"partnerKey",get:function(){return P.a.isApp&&(P.a.isAndroidApp||P.a.isIOSApp)?this.settings.partnerKeys["".concat(P.a.isAndroidApp?"android":"ios").concat(E.a.isTablet?"Tablet":"Mobile")]:""}},{key:"src",get:function(){return this._src}},{key:"scriptEl",get:function(){return this.el.querySelector('[data-outbrain-el="script"]')}}])&&Va(n.prototype,r),i&&Va(n,i),e}(Yn);function Xa(t){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ya(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ka(t,e){return!e||"object"!==Xa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $a(t){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Za(t,e){return(Za=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qa=function(t){function e(){var t,n;Ya(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Ka(this,(t=$a(e)).call.apply(t,[this].concat(r)))).subscribe(s.A,(function(t){n.el.classList.toggle("hidden",t&&t.expandHeader)})),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Za(t,e)}(e,t),e}(i.Component);function ts(t){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function es(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ns(t,e){return!e||"object"!==ts(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rs(t,e){return(rs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var is=function(t){function e(){var t,n;es(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n=ns(this,(t=os(e)).call.apply(t,[this].concat(r)));var a=b.a.instance,s=P.a.isApp&&a.isNativeAudioPlayerSupported?"nativeplayer":"webplayer";return n.el.querySelector('[data-podcast-player-loader-el="'.concat(s,'"]')).classList.remove("hidden"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rs(t,e)}(e,t),e}(i.Component);n(194);function as(t){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ls(t,e){return!e||"object"!==as(e)&&"function"!=typeof e?us(t):e}function us(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fs(t,e,n){return(fs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ps(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ps(t){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ys(t,e){return(ys=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ds(t){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function gs(t,e){return!e||"object"!==ds(e)&&"function"!=typeof e?vs(t):e}function vs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ms(t,e){return(ms=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ws(t,e,n){return(ws="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Os(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Os(t){return(Os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ss=function(t){function e(){var t,n;hs(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=gs(this,(t=Os(e)).call.apply(t,[this].concat(r)))).omnySettings=n.data.omnySettings?ws(Os(e.prototype),"parseBase64Settings",vs(n)).call(vs(n),n.data.omnySettings):{},n.omnyStudio=new fa(n.omnySettings.apiUrl,n.omnySettings.orgId),n.omnyPrograms=n.omnySettings.programs?n.omnySettings.programs:{},n.podloveConfig={activeTab:n.settings.activeTab?n.settings.activeTab:"",base:n.settings.podloveConfig.base?n.settings.podloveConfig.base:"/public/shared/generated/js/podlove/",playlist:[],share:n.settings.podloveConfig.share?n.settings.podloveConfig.share:{},runtime:n.settings.podloveConfig.runtime?n.settings.podloveConfig.runtime:{language:"de"},version:n.settings.podloveConfig.version?n.settings.podloveConfig.version:5},n.podloveConfig["subscribe-button"]=n.settings.podloveConfig["subscribe-button"]?n.settings.podloveConfig["subscribe-button"]:{clients:[]},n.settings.podloveConfig["subscribe-button"].feed="",n.settings.podloveConfig.theme&&"object"===ds(n.settings.podloveConfig.theme)&&(n.podloveConfig.theme=n.settings.podloveConfig.theme),n.podloveEpisode={link:n.settings.link?n.settings.link:void 0},n.omnyClip={},n.omnyClips=[],n.omnyPlaylist={},n.programName="",n.programId=void 0,n.playlistId=n.settings.playlistId&&"string"==typeof n.settings.playlistId?n.settings.playlistId:void 0,n.clipId=n.settings.clipId&&"string"==typeof n.settings.clipId?n.settings.clipId:void 0,n.hasPlaylist=n.settings.size&&"xl"===n.settings.size,n.playlistLength=n.settings.playlistLength?n.settings.playlistLength:7,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ms(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.playlistId?this.fetchOmnyDataByPlaylistId(this.playlistId).then((function(){return t.initPodLoveWebPlayer()})).catch((function(e){return t.onError(e)})):this.clipId&&this.fetchOmnyDataByClipId(this.clipId).then((function(){return t.initPodLoveWebPlayer()})).catch((function(e){return t.onError(e)}))}},{key:"fetchOmnyDataByPlaylistId",value:function(t){var e=this;return new Promise((function(n,o){e.hasPlaylist?e.omnyStudio.getClipsByPlaylistId(t,e.playlistLength).then((function(n){return n&&Array.isArray(n)&&0!==n.length?(e.omnyClips=n,e.omnyClip=n[0],e.omnyStudio.getPlaylistByPlaylistId(t)):o(new Error("PodLoveWebPlayerOmny getClipsByPlaylistId - didn't receive any clips for playlistId: ".concat(t)))})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return o(t)})):e.omnyStudio.getClipByPlaylistId(t).then((function(n){return e.omnyClip=n,e.omnyStudio.getPlaylistByPlaylistId(t)})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return e.onError(t)}))}))}},{key:"fetchOmnyDataByClipId",value:function(t){var e=this;return new Promise((function(n,o){e.hasPlaylist?e.omnyStudio.getClipByClipId(t).then((function(t){return e.omnyClip=t,e.playlistId=e.omnyStudio.getPlaylistIdFromClip(t),e.programId=e.omnyStudio.getProgramIdFromClip(t),e.playlistId||(e.programName=e.programId?e.getProgramNameByProgramId(e.programId):"",n()),e.omnyStudio.getClipsByPlaylistId(e.playlistId,e.playlistLength)})).then((function(t){return t&&Array.isArray(t)&&0!==t.length?(e.omnyClips=t,e.omnyStudio.getPlaylistByPlaylistId(e.playlistId)):o(new Error("PodLoveWebPlayerOmny getClipsByPlaylistId - didn't receive any clips for playlistId: ".concat(e.playlistId)))})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return o(t)})):e.omnyStudio.getClipByClipId(t).then((function(t){return e.omnyClip=t,e.playlistId=e.omnyStudio.getPlaylistIdFromClip(t),e.programId=e.omnyStudio.getProgramIdFromClip(t),e.playlistId||(e.programName=e.programId?e.getProgramNameByProgramId(e.programId):"",n()),e.omnyStudio.getPlaylistByPlaylistId(e.playlistId)})).then((function(t){e.omnyPlaylist=t,n()})).catch((function(t){return o(t)}))}))}},{key:"getProgramNameByProgramId",value:function(t){return t&&this.omnyPrograms[t]&&this.omnyPrograms[t].name?this.omnyPrograms[t].name:""}},{key:"initPodLoveWebPlayer",value:function(){var t=this;if(this.podloveEpisode=this.convertOmnyClipToPodloveEpisode(this.omnyClip),this.omnyClips.forEach((function(e){var n=t.convertOmnyClipToPodloveEpisode(e);n&&t.podloveConfig.playlist.push({config:n,title:n.title,duration:n.duration})})),this.omnyPlaylist.DirectoryLinks&&this.playlistId){this.podloveConfig["subscribe-button"].feed=this.omnyPlaylist.DirectoryLinks.RssFeed?this.omnyPlaylist.DirectoryLinks.RssFeed:"";for(var n=0;n<this.podloveConfig["subscribe-button"].clients.length;n++)switch(this.podloveConfig["subscribe-button"].clients[n].id){case"apple-podcasts":if(this.omnyPlaylist.DirectoryLinks.ApplePodcasts){var o=this.omnyPlaylist.DirectoryLinks.ApplePodcasts;-1!==o.indexOf("https://podcasts.apple.com/")?this.podloveConfig["subscribe-button"].clients[n].service=o.replace(new RegExp("https://podcasts.apple.com/(de/)?podcast/","i"),"/"):-1!==o.indexOf("https://geo.itunes.apple.com/")&&(this.podloveConfig["subscribe-button"].clients[n].service=o.replace(new RegExp("https://geo.itunes.apple.com/(de/)?podcast/","i"),"/"))}break;case"google-podcasts":this.omnyPlaylist.DirectoryLinks.GooglePodcasts&&(this.podloveConfig["subscribe-button"].clients[n].service=this.omnyPlaylist.RssFeedUrl?this.omnyPlaylist.RssFeedUrl:"");break;case"spotify":if(this.omnyPlaylist.DirectoryLinks.Spotify){var r=this.omnyPlaylist.DirectoryLinks.Spotify;-1!==r.indexOf("https://open.spotify.com/")&&(this.podloveConfig["subscribe-button"].clients[n].service=r.replace(new RegExp("https://open.spotify.com/show/","i"),""))}break;case"stitcher":break;case"castbox":if(this.omnyPlaylist.DirectoryLinks.Stitcher){var i=this.omnyPlaylist.DirectoryLinks.Stitcher;-1!==i.indexOf("https://castbox.fm/")&&(this.podloveConfig["subscribe-button"].clients[n].service=i.replace(new RegExp("https://castbox.fm/channel/","i"),""))}break;case"deezer":if(this.omnyPlaylist.DirectoryLinks.Deezer){var a=this.omnyPlaylist.DirectoryLinks.Deezer;-1!==a.indexOf("https://www.deezer.com/us")?this.podloveConfig["subscribe-button"].clients[n].service=a.replace(new RegExp("https://www.deezer.com/us/show/","i"),""):-1!==a.indexOf("https://www.deezer.com/de")?this.podloveConfig["subscribe-button"].clients[n].service=a.replace(new RegExp("https://www.deezer.com/de/show/","i"),""):-1!==a.indexOf("https://www.deezer.com/pt")&&(this.podloveConfig["subscribe-button"].clients[n].service=a.replace(new RegExp("https://www.deezer.com/pt/show/","i"),""))}break;case"rss":this.omnyPlaylist.DirectoryLinks.RssFeed&&(this.podloveConfig["subscribe-button"].clients[n].service=this.podloveConfig["subscribe-button"].feed)}}else delete this.podloveConfig["subscribe-button"];ws(Os(e.prototype),"initPodLoveWebPlayer",this).call(this,this.podloveConfig,this.podloveEpisode)}},{key:"convertOmnyClipToPodloveEpisode",value:function(t){var e={};if(t.AudioUrl&&"string"==typeof t.AudioUrl&&(t.ImageUrl||this.omnyPlaylist.ArtworkUrl)&&t.DurationSeconds&&t.Title){var n=new URL(t.AudioUrl);n.searchParams.set("utm_source","CustomPlayer1"),e.audio=[{mimeType:"audio/mpeg",title:"MP3 Audio",url:n.href}];var o=new URL(t.AudioUrl);o.searchParams.set("utm_source","CustomPlayer2"),o.searchParams.set("download","true"),e.files=[{mimeType:"audio/mpeg",size:t.PublishedAudioSizeInBytes?t.PublishedAudioSizeInBytes:-1,title:"MP3 Audio",url:o.href}];var r="";if(t.ImageUrl){var i=new URL(t.ImageUrl);i.searchParams.set("size","small"),r=i.href}else if(this.omnyPlaylist.ArtworkUrl){var a=new URL(this.omnyPlaylist.ArtworkUrl);a.searchParams.set("size","small"),r=a.href}return e.show={poster:r,title:this.omnyPlaylist.Title?this.omnyPlaylist.Title:this.programName?this.programName:""},e.duration=Math.round(1e3*t.DurationSeconds),e.title=t.Title,this.settings.link&&"string"==typeof this.settings.link&&(e.link=this.settings.link),e}}},{key:"onError",value:function(t){console.error(t.message)}},{key:"destroy",value:function(){ws(Os(e.prototype),"destroy",this).call(this)}}])&&bs(n.prototype,o),r&&bs(n,r),e}(function(t){function e(){var t,n;ss(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=ls(this,(t=ps(e)).call.apply(t,[this].concat(r)))).id=n.settings.id?n.settings.id:void 0,n.player=n.el.querySelector('[data-audio-el="player"]'),n.loader=n.el.querySelector('[data-audio-el="loader"]'),n.footer=n.el.querySelector('[data-audio-el="footer"]'),n.isAutoPaused=!1,n.subscribe(s.c,n.onAdblockLayerOpened,us(n)),n.subscribe(s.b,n.onAdblockLayerClosed,us(n)),n.boundOnLazyLoad=function(t){t.target===n.el&&("function"==typeof window.podlovePlayer?n.init():n.subscribe(s.H,(function(){n.init()})))},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ys(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){}},{key:"initPodLoveWebPlayer",value:function(t,e){var n=this;window.polygon.componentLoader.subscribe(s.v,this.onVisibiltyChange,this),"function"==typeof window.podlovePlayer&&window.podlovePlayer(this.player,e,t).then((function(t){n.store=t,n.onReady()}))}},{key:"onReady",value:function(){this.publish(s.G,this.id,this.store),this.loader.classList.add("hidden"),this.footer&&this.footer.classList.remove("hidden")}},{key:"onVisibiltyChange",value:function(t){P.a.isAndroidApp&&this.store&&"function"==typeof this.store.dispatch&&(this.isPlaying&&"hidden"===t?(this.store.dispatch({type:"PLAYER_REQUEST_PAUSE",payload:{}}),this.isAutoPaused=!0):"visible"===t&&this.isAutoPaused&&(this.store.dispatch({type:"PLAYER_REQUEST_PLAY",payload:{}}),this.isAutoPaused=!1))}},{key:"onAdblockLayerOpened",value:function(){this.store&&"function"==typeof this.store.dispatch&&this.isPlaying&&(this.store.dispatch({type:"PLAYER_REQUEST_PAUSE",payload:{}}),this.isAutoPaused=!0)}},{key:"onAdblockLayerClosed",value:function(){this.store&&"function"==typeof this.store.dispatch&&!this.isPlaying&&this.isAutoPaused&&(this.store.dispatch({type:"PLAYER_REQUEST_PLAY",payload:{}}),this.isAutoPaused=!1)}},{key:"destroy",value:function(){fs(ps(e.prototype),"destroy",this).call(this)}},{key:"isPlaying",get:function(){if(!this.store||"function"!=typeof this.store.getState)return!1;var t=this.store.getState();return!(!t||!t.driver||"boolean"!=typeof t.driver.playing)&&t.driver.playing}}])&&cs(n.prototype,o),r&&cs(n,r),e}(sa));function Ps(t){return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ks(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Es(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _s(t,e){return!e||"object"!==Ps(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function js(t,e,n){return(js="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=As(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function As(t){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cs(t,e){return(Cs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ls=function(t){function e(){var t,n;ks(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n=_s(this,(t=As(e)).call.apply(t,[this].concat(r)));var a=b.a.instance,c=!P.a.isApp||!a.isNativeAudioPlayerSupported;return c?("function"==typeof window.podlovePlayer?n.publish(s.H):n.el.onload=function(){n.publish(s.H)},n.initSrc(),n):_s(n)}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cs(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){js(As(e.prototype),"destroy",this).call(this)}}])&&Es(n.prototype,o),r&&Es(n,r),e}(Yn);function Ts(t){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Is(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ds(t,e){return!e||"object"!==Ts(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xs(t,e,n){return(xs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bs(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Bs(t){return(Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ns(t,e){return(Ns=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zs=function(t){function e(){var t,n;Is(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Ds(this,(t=Bs(e)).call.apply(t,[this].concat(r)))).clipId=n.data.settings?JSON.parse(n.data.settings):{},n.omnySettings=n.data.omnySettings?JSON.parse(n.data.omnySettings):{},n.omnyPrograms=n.omnySettings.programs?n.omnySettings.programs:{},n.omnyStudio=new fa(n.omnySettings.apiUrl,n.omnySettings.orgId),n.title=n.el.querySelector('[data-preview-el="title"]'),n.init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ns(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.fetchOmnyDataByClipId(this.clipId).then((function(e){return t.displayProgramName(e)})).catch((function(e){return t.onError(e)}))}},{key:"fetchOmnyDataByClipId",value:function(t){var e=this;return new Promise((function(n,o){e.omnyStudio.getClipByClipId(t).then((function(t){var o=e.omnyStudio.getProgramIdFromClip(t),r=o?e.getProgramNameByProgramId(o):"";n(r)})).catch((function(t){return o(t)}))}))}},{key:"getProgramNameByProgramId",value:function(t){return t&&this.omnyPrograms[t]&&this.omnyPrograms[t].name?this.omnyPrograms[t].name:""}},{key:"displayProgramName",value:function(t){this.title&&t&&(this.title.innerText=t)}},{key:"onError",value:function(t){console.error(t.message)}},{key:"destroy",value:function(){xs(Bs(e.prototype),"destroy",this).call(this)}}])&&Rs(n.prototype,o),r&&Rs(n,r),e}(i.Component);function qs(t){return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ms(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Us(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Vs(t,e){return!e||"object"!==qs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fs(t,e,n){return(Fs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hs(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gs(t,e){return(Gs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ws=function(t){function e(){var t,n;Ms(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Vs(this,(t=Hs(e)).call.apply(t,[this].concat(r)))).el.addEventListener("click",(function(t){t.preventDefault(),n.scrollFieldtypes()})),window.addEventListener("message",n.scrollIframeElements),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gs(t,e)}(e,t),n=e,(o=[{key:"scrollFieldtypes",value:function(){window.parent.postMessage({event:"scroll_live_preview",pos:this.data.pos},"*")}},{key:"scrollIframeElements",value:function(t){if("scroll_live_preview_iframe"===t.data.event){var e=document.querySelector('button[data-pos="'.concat(t.data.pos,'"]'));e&&e.scrollIntoView()}}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.scrollFieldtypes()),window.removeEventListener("message",this.scrollIframeElements()),Fs(Hs(e.prototype),"destroy",this).call(this)}}])&&Us(n.prototype,o),r&&Us(n,r),e}(i.Component),Js=n(25),Xs=n.n(Js),Ys=n(101);function Ks(t){return(Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Qs(t,e){return!e||"object"!==Ks(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tc(t){return(tc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ec(t,e){return(ec=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nc=function(t){function e(){var t,n;$s(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Qs(this,(t=tc(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings),n.storageObject=new Ys.a("sourcepoint","session"),n.msgUrl=n.settings.msgUrl,n.msgWithoutDetectionUrl=n.settings.msgWithoutDetectionUrl,n.detectionShare=Number.isInteger(n.settings.detectionShare)&&n.settings.detectionShare>=0&&n.settings.detectionShare<100?n.settings.detectionShare:100,n.pendingChoiceId=null,n.init(),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ec(t,e)}(e,t),n=e,(r=[{key:"init",value:function(){var t=this;if(!U.a.instance.hasAcceptedGlobalConsent){var e=".".concat(o.a.instance.secondLevelDomain?o.a.instance.secondLevelDomain:"spiegel",".").concat(o.a.instance.topLevelDomain?o.a.instance.topLevelDomain:"de");Xs.a.remove(S.a.euconsent.name,{domain:e})}this.subscribe(s.S,this.openPrivacyManager,this),this.subscribe(s.T,this.selectChoice,this),this.subscribe(s.Y,this.onTCDataChanged),window.addEventListener("error",(function(e){t.onWindowError(e)})),this.initSourcepointConfig(),this.initPrivacyManagerButtons(),this.attachPrivacyManagerPullToRefreshFix(),this.addSourcepointScriptElement()}},{key:"initSourcepointConfig",value:function(){var t=this,e=this.settings,n=e.accountId,r=e.mmsDomain,i=e.wrapperAPIOrigin,a=e.propertyHref,s=e.requestMessage,c=o.a.instance,l=U.a.instance,u=c.page&&c.page.category&&c.page.category.route?c.page.category.route:"";window._sp_={config:{mmsDomain:r,accountId:n,wrapperAPIOrigin:i,propertyHref:a,events:{onPrivacyManagerAction:function(e){t.onPrivacyManagerAction(e)},onPMCancel:function(){t.onPrivacyManagerCancel()},onMessageReady:function(){t.onMessageReady()},onMessageReceiveData:function(e){t.onReceiveMessageData(e)},onMessageChoiceSelect:function(e,n){t.onMessageChoiceSelect(e,n)},onMessageChoiceError:function(e){t.onMessageChoiceError(e)},onConsentReady:function(e,n){t.onConsentReady(e,n)}},targetingParams:{platform:P.a.isApp?"app":"web",is_phone:E.a.isPhone,is_tablet:E.a.isTablet,is_mobile:E.a.isMobile,route:u,is_loggedIn:l.isLoggedIn,has_paid_access:l.hasPaidAccess,has_noAds_access:l.hasNoAdsAccess,has_conditional_access:l.hasConditionalAccess,has_accepted_global_consent:l.hasAcceptedGlobalConsent,disable_consent:!(!c.consent||"boolean"!=typeof c.consent.disabled)&&c.consent.disabled,lang:vt.instance.language}}},"article"===u&&(window._sp_.config.targetingParams.paywall_is_active=c.paywall&&c.paywall.attributes&&c.paywall.attributes.is_active,window._sp_.config.targetingParams.paywall_type=c.paywall&&c.paywall.category&&c.paywall.category.type?c.paywall.category.type:""),P.a.isApp&&(P.a.isAndroidApp?window._sp_.config.targetingParams.os="Android":P.a.isIOSApp&&(window._sp_.config.targetingParams.os="iOS"),window._sp_.config.targetingParams.app_version=P.a.appVersion),s&&(window._sp_.config.targetingParams.requestMessage=s)}},{key:"initPrivacyManagerButtons",value:function(){var t=this,e=Array.from(document.querySelectorAll('a[href^="#sp_privacy_manager"]'));if(e&&e.length>0)for(var n=function(n){var o=e[n],r=o.hash.split("#sp_privacy_manager_")[1]?o.hash.split("#sp_privacy_manager_")[1]:"";o.addEventListener("click",(function(e){e.preventDefault(),t.publish(s.S,r)}))},o=0;o<e.length;o++)n(o)}},{key:"addSourcepointScriptElement",value:function(){var t=this,e=o.a.instance,n=document.createElement("script"),r=e.page&&e.page.category&&e.page.category.route?e.page.category.route:"",i=!!(e.paywall&&e.paywall.category&&e.paywall.category.type)&&"paid"===e.paywall.category.type,a=!1;this.storageObject.getItem("isInDetectionShare")?a="1"===this.storageObject.getItem("isInDetectionShare"):(a=Math.floor(101*Math.random())<=this.detectionShare,this.storageObject.setItem("isInDetectionShare",a?"1":"0"));var s=!(!e.consent||"boolean"!=typeof e.consent.disabled)&&e.consent.disabled,c=!E.a.isMobile&&!e.noAds&&!s&&!i&&a&&"partner"!==r;n.src=c?this.msgUrl:this.msgWithoutDetectionUrl,n.addEventListener("error",(function(e){t.onScriptElementError(e)})),this.el.appendChild(n)}},{key:"openPrivacyManager",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.settings,n=e.siteId,o=e.privacyManagerId;n&&o&&window._sp_&&"function"==typeof window._sp_.loadPrivacyManagerModal&&(window._sp_.loadPrivacyManagerModal(o,t),this.attachPrivacyManagerResizeFix(),this.publish(s.R))}},{key:"onReceiveMessageData",value:function(t){t&&t.msgDescription&&(Lt.instance.message=t.msgDescription)}},{key:"onMessageReady",value:function(){this.publish(s.P,Lt.instance.message)}},{key:"onMessageChoiceSelect",value:function(t,e){e&&(this.publish(s.O,e),this.onChoiceSelect(e))}},{key:"onMessageChoiceError",value:function(t){this.publish(s.N),Lt.instance.errorOccurred=!0}},{key:"onPrivacyManagerAction",value:function(t){var e;this.detachPrivacyManagerResizeFix(),t&&t.purposeConsent&&t.vendorConsent&&("all"===t.purposeConsent&&"all"===t.vendorConsent?(e=S.d.accept_all,this.onChoiceSelect(S.c.accept_all)):"none"===t.purposeConsent&&"none"===t.vendorConsent&&(e=S.d.reject_all,this.onChoiceSelect(S.c.reject_all)),this.publish(s.Q,e))}},{key:"onPrivacyManagerCancel",value:function(){this.publish(s.Q,S.d.cancel)}},{key:"onChoiceSelect",value:function(t){this.pendingChoiceId||(t===S.c.accept_all||t===S.c.accept_some||t===S.c.reject_all?this.pendingChoiceId=t:this.publish(s.M,t))}},{key:"onConsentReady",value:function(t,e){var n=this;if(this.pendingChoiceId){var r=this.pendingChoiceId;if(this.pendingChoiceId=null,r===S.c.accept_all)this.getEuconsentCookie().then((function(){var t=!0;window.polygon&&window.polygon.cookies&&window.polygon.cookies.polygon_consent&&"function"==typeof window.polygon.cookies.polygon_consent.updateCookie&&(window.polygon.cookies.polygon_consent.updateCookie(!0),t=window.polygon.cookies.polygon_consent.value),t?n.publish(s.M,r):(Lt.instance.errorOccurred=!0,n.publish(s.N))})).catch((function(){Lt.instance.errorOccurred=!0,n.publish(s.N)}));else if(r===S.c.reject_all||r===S.c.accept_some){var i=!0;window.polygon&&window.polygon.cookies&&window.polygon.cookies.polygon_consent&&"function"==typeof window.polygon.cookies.polygon_consent.updateCookie&&(window.polygon.cookies.polygon_consent.updateCookie(!1),i=!window.polygon.cookies.polygon_consent.value);var a=".".concat(o.a.instance.secondLevelDomain?o.a.instance.secondLevelDomain:"spiegel",".").concat(o.a.instance.topLevelDomain?o.a.instance.topLevelDomain:"de");Xs.a.remove(S.a.euconsent.name,{domain:a}),i?this.publish(s.M,r):(Lt.instance.errorOccurred=!0,this.publish(s.N))}else this.publish(s.M,r)}}},{key:"onTCDataChanged",value:function(t){}},{key:"onScriptElementError",value:function(t){console.error("SourcePoint onScriptElementError",t),this.publish(s.N),Lt.instance.errorOccurred=!0}},{key:"onWindowError",value:function(t){!t.filename||t.filename!==this.msgUrl&&t.filename!==this.msgWithoutDetectionUrl||(console.error("SourcePoint onWindowError",t),this.publish(s.N),Lt.instance.errorOccurred=!0)}},{key:"getEuconsentCookie",value:function(){var t=this;return new Promise((function(e,n){t.delayedEuconsentCookieCheck(0,e,n)}))}},{key:"delayedEuconsentCookieCheck",value:function(t,e,n){for(var o=this,r=100*t,i=0,a=0;i<=t;)a+=100*(i+=1);var s=setTimeout((function(){var r=Xs.a.get(S.a.euconsent.name);r?(clearInterval(s),e(r)):a>5e3?(console.error("Sourcepoint's euconsent-v2 cookie still not set after ".concat(a/1e3," seconds.")),clearInterval(s),n()):(clearInterval(s),o.delayedEuconsentCookieCheck(t+1,e,n))}),r)}},{key:"attachPrivacyManagerResizeFix",value:function(){E.a.isMobileSafari&&(this.boundOnWindowResize||(this.boundOnWindowResize=function(){setTimeout((function(){window.scrollTo(0,1)}),500)}),window.addEventListener("resize",this.boundOnWindowResize))}},{key:"detachPrivacyManagerResizeFix",value:function(){E.a.isMobileSafari&&this.boundOnWindowResize&&window.removeEventListener("resize",this.boundOnWindowResize)}},{key:"attachPrivacyManagerPullToRefreshFix",value:function(){if(P.a.isAndroidApp){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText='[id^="sp_message_container"] { overflow: visible !important; }':t.appendChild(document.createTextNode('[id^="sp_message_container"] { overflow: visible !important; }')),document.head&&t&&document.head.appendChild(t)}}}])&&Zs(n.prototype,r),i&&Zs(n,i),e}(i.Component);function oc(t){return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ic(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ac(t,e){return!e||"object"!==oc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sc(t,e,n){return(sc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cc(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function cc(t){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lc(t,e){return(lc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var uc=function(t){function e(){var t,n;rc(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];var a=(n=ac(this,(t=cc(e)).call.apply(t,[this].concat(r)))).el.getAttribute("data-src");return a&&n.el.setAttribute("src",a),"function"==typeof window.__cmp?n.publish(s.U):n.el.onload=function(){n.publish(s.U)},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lc(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){sc(cc(e.prototype),"destroy",this).call(this)}}])&&ic(n.prototype,o),r&&ic(n,r),e}(i.Component);function fc(t){return(fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function dc(t,e){return!e||"object"!==fc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hc(t,e,n){return(hc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bc(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function bc(t){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gc(t,e){return(gc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vc=function(t){function e(){var t,n;pc(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=dc(this,(t=bc(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings),n.settings.storyId&&(n.boundOnClick=function(t){return n.onClick(t)},n.el.addEventListener("click",n.boundOnClick)),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gc(t,e)}(e,t),n=e,(o=[{key:"onClick",value:function(t){t.preventDefault(),this.publish(s.V,this.settings.storyId)}},{key:"destroy",value:function(){this.boundOnClick&&(this.el.removeEventListener("click",this.boundOnClick),this.boundOnClick=null),hc(bc(e.prototype),"destroy",this).call(this)}}])&&yc(n.prototype,o),r&&yc(n,r),e}(i.Component);function mc(t){return(mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Sc(t,e){return!e||"object"!==mc(e)&&"function"!=typeof e?kc(t):e}function Pc(t){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ec(t,e){return(Ec=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _c={android:5,IOS:11},jc=function(t){function e(){var t,n;wc(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];(n=Sc(this,(t=Pc(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings),n.localStorageObject=new Ys.a("stories","local"),n.playerContainer=n.el.querySelector('[data-story-el="player-container"]'),n.player=n.el.querySelector('[data-story-el="player"]'),n.loader=n.el.querySelector('[data-story-el="loader"]'),n.nativeControls=n.el.querySelector('[data-story-el="native-controls"]'),n.nativeCloseButton=n.el.querySelector('[data-story-el="native-close-button"]'),n.isInitialized=!1,n.isOverlayAnimating=!1,n.state="STATE_CLOSED",n._playerState="STATE_PLAYER_LOADING",n.boundOnLayerOpened=function(){return n.onLayerOpened()},n.boundOnPlayerReady=function(){return n.onPlayerReady()},n.boundOnStoryNavigation=function(t){return n.onStoryNavigation(t)},n.boundClose=function(){return n.close()},n.subscribe(s.V,n.onActivateTriggered,kc(n));var a=n.localStorageObject.getItem("visited"),c=a&&a.indexOf(n.settings.storyId)>=0,l=new URLSearchParams(window.location.search),u="1"===l.get("forceStoryLayer"),f=e.isSupported&&(!c||u);return f&&n.open(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ec(t,e)}(e,t),n=e,r=[{key:"isSupported",get:function(){var t=!1,e=E.a.isAndroid,n=E.a.isIOS,o=e?"android":n?"IOS":null,r=o?E.a["".concat(o,"Version")]:{},i=o?_c[o]:null;return r&&r.major&&i&&r.major<i&&(t=!0),!t&&!E.a.isInternetExplorer}}],(o=[{key:"init",value:function(){var t=this;this.isInitialized||(this.player.addEventListener("ready",this.boundOnPlayerReady),this.player.addEventListener("amp-story-player-close",this.boundClose),this.player.addEventListener("noNextStory",this.boundClose),Promise.resolve().then((function(){t.publish(s.g)})))}},{key:"onActivateTriggered",value:function(t){e.isSupported&&t===this.settings.storyId&&this.open()}},{key:"onLayerOpened",value:function(){this.isOverlayAnimating=!1,this.player&&this.player.isReady&&(this.rewindStory(),this.player.play(),this.attachNativeControls())}},{key:"onPlayerReady",value:function(){this.playerState="STATE_PLAYER_READY",this.player.removeEventListener("ready",this.boundOnPlayerReady),this.player.add([{href:this.settings.storyUrl}]),this.attachNativeControls()}},{key:"open",value:function(){var t=this;"STATE_OPEN"!==this.state&&(this.state="STATE_OPEN",this.isInitialized||this.init(),this.publish(s.B,this),this.isOverlayAnimating=!0,this.el.classList.remove("hidden"),this.el.style.opacity=0,this.el.style.transition="opacity .25s ease-out",setTimeout((function(){t.el.style.opacity=1}),0),setTimeout(this.boundOnLayerOpened,500))}},{key:"close",value:function(){var t=this;this.state="STATE_CLOSED",this.rewindStory(),this.player.pause(),this.recordStoryVisit(),this.publish(s.z,this),this.detachNativeControls(),this.isOverlayAnimating=!0,this.el.style.opacity=1,this.el.style.transition="opacity .25s ease-out",setTimeout((function(){t.el.style.opacity=0}),0),setTimeout((function(){t.el.classList.add("hidden"),t.isOverlayAnimating=!1}),500)}},{key:"attachNativeControls",value:function(){this.nativeControls.classList.remove("opacity-none"),this.nativeCloseButton.addEventListener("click",this.boundClose)}},{key:"detachNativeControls",value:function(){this.nativeControls.classList.add("opacity-none"),this.nativeCloseButton.removeEventListener("click",this.boundClose)}},{key:"rewindStory",value:function(){"function"==typeof this.player.rewind&&this.settings.storyUrl&&this.player.rewind(this.settings.storyUrl)}},{key:"recordStoryVisit",value:function(){var t=this.localStorageObject.getItem("visited")||[];t.indexOf(this.settings.storyId)<0&&t.push(this.settings.storyId),this.localStorageObject.setItem("visited",t)}},{key:"preventScrolling",get:function(){return!0}},{key:"expandHeader",get:function(){return!0}},{key:"playerState",get:function(){return this._playerState},set:function(t){switch(t){case"STATE_PLAYER_LOADING":this.loader.classList.toggle("hidden",!1),this.playerContainer.classList.toggle("hidden",!0),this._playerState=t;break;case"STATE_PLAYER_READY":this.loader.classList.toggle("hidden",!0),this.playerContainer.classList.toggle("hidden",!1),this._playerState=t;break;default:console.warn('StoryLayer: "'.concat(t,'" is not a valid value for playerState'))}}}])&&Oc(n.prototype,o),r&&Oc(n,r),e}(i.Component);function Ac(t){return(Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Tc(t,e){return!e||"object"!==Ac(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ic(t,e,n){return(Ic="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rc(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Rc(t){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dc(t,e){return(Dc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Ta.b.use([Ta.a]);var xc=function(t){function e(){var t,n;Cc(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Tc(this,(t=Rc(e)).call.apply(t,[this].concat(r)))).dataSettings=n.data.settings?JSON.parse(n.data.settings):{},n.dataSettings.furtherReadsId&&n.subscribe(s.mb,(function(t){t.furtherReadsId&&n.dataSettings.furtherReadsId===t.furtherReadsId&&n.swiper.update()})),n.dataSettings.loadLazy?(n.boundOnLazyLoad=function(t){t.target===n.el&&n.onLazyLoad()},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad)):n.init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dc(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.settings=this.data.settings?JSON.parse(this.data.settings):{};var e=void 0===this.settings.observeFonts||this.settings.observeFonts,n=window.getComputedStyle(this.el).fontFamily.split(", ")[0];if("serif"!==n&&"sans-serif"!==n&&e){var o=new La.a(n);o.load().then((function(){t.initSwiper()}),(function(){t.initSwiper(),o.load(null,1e4).then((function(){t.swiper.update()}),(function(){console.error("".concat(n," font is not available"))}))}))}else this.initSwiper()}},{key:"onLazyLoad",value:function(){this.init()}},{key:"initSwiper",value:function(){var t=this.el.classList.contains("swiper-container")?this.el:this.el.querySelector(".swiper-container"),e=this.el.querySelector('[data-swiper-el="prevEl"]'),n=this.el.querySelector('[data-swiper-el="nextEl"]'),o=void 0===this.settings.freeMode||this.settings.freeMode,r=void 0!==this.settings.loop&&this.settings.loop,i=void 0!==this.settings.watchOverflow&&this.settings.watchOverflow;this.swiper=new Ta.b(t,{freeMode:o,roundLengths:!0,slidesPerView:"auto",loop:r,watchOverflow:i,navigation:{nextEl:n,prevEl:e,disabledClass:"hidden"},on:{init:function(){var t=Array.from(this.slides).findIndex((function(t){return t.dataset.itemActive}));this.slideTo(t-1,500,!1)}}})}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),Ic(Rc(e.prototype),"destroy",this).call(this)}}])&&Lc(n.prototype,o),r&&Lc(n,r),e}(i.Component);function Bc(t){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function qc(t,e){return!e||"object"!==Bc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mc(t,e,n){return(Mc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Uc(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Uc(t){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vc(t,e){return(Vc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fc=function(t){function e(){var t,n;Nc(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=qc(this,(t=Uc(e)).call.apply(t,[this].concat(r)))).settings=JSON.parse(n.data.settings),n.articleId=n.settings.articleId?n.settings.articleId:"",n.embedRoot=n.el.querySelector('[data-talk-el="embedRoot"]'),n.el.classList.contains("lazyloaded")?n.init():(n.boundInit=function(){n.init()},n.el.addEventListener("lazybeforeunveil",n.boundInit)),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vc(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.settings.baseURL?window.Coral&&window.Coral.Talk?this.renderTalk():this.subscribe(s.W,(function(){t.renderTalk()})):console.error("Talk Base URL is undefined")}},{key:"renderTalk",value:function(){window.Coral.Talk.render(this.embedRoot,{talk:this.settings.baseURL,auth_token:Xs.a.get("userInfo"),asset_id:this.articleId}),this.el.querySelector('iframe[src^="'.concat(this.settings.baseURL,'"]')).style.minHeight="450px"}},{key:"destroy",value:function(){Mc(Uc(e.prototype),"destroy",this).call(this)}}])&&zc(n.prototype,o),r&&zc(n,r),e}(i.Component);function Hc(t){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Jc(t,e){return!e||"object"!==Hc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xc(t,e,n){return(Xc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yc(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Yc(t){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kc(t,e){return(Kc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $c=function(t){function e(){var t,n;Gc(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Jc(this,(t=Yc(e)).call.apply(t,[this].concat(r)))).init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kc(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.boundToggleTalk=function(e){t.toggleTalk(e)},this.el.addEventListener("click",this.boundToggleTalk)}},{key:"toggleTalk",value:function(t){t.preventDefault(),this.publish(s.fb,{id:this.data.componentId})}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.boundToggleTalk),Xc(Yc(e.prototype),"destroy",this).call(this)}}])&&Wc(n.prototype,o),r&&Wc(n,r),e}(i.Component);function Zc(t){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function el(t,e){return!e||"object"!==Zc(e)&&"function"!=typeof e?nl(t):e}function nl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ol(t,e,n){return(ol="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rl(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function rl(t){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function il(t,e){return(il=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var al=function(t){function e(){var t,n;Qc(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=el(this,(t=rl(e)).call.apply(t,[this].concat(r)))).id="".concat(Math.floor(1e8+9e8*Math.random())),n.hash="kommentare",n.overlay=n.el.querySelector('[data-talk-drawer-el="overlay"]'),n.closeButton=n.el.querySelector('[data-talk-drawer-el="close"]'),n.toTopButton=n.el.querySelector('[data-talk-drawer-el="toTopButton"]'),n.talkDrawer=n.el.querySelector('[data-talk-drawer-el="talkDrawer"]'),n.intersectionObserverTarget=n.el.querySelector('[data-talk-drawer-el="intersectionObserverTarget"]'),n.body=document.querySelector("body"),n.talkActive=!1,n._showToTopButton=!1,n.subscribe(s.fb,(function(t){n.returnFocusElement=t&&t.id?document.querySelector('[data-component-id="'.concat(t.id,'"]')):null,n.talkActive?n.publish(s.k):n.publish(s.n,n.id)})),n.closeButton.addEventListener("click",(function(t){t.preventDefault(),n.publish(s.k)})),n.toTopButton.addEventListener("click",(function(){n.scrollToTop()})),n.overlay.addEventListener("click",(function(){n.publish(s.k)})),Je.a.instance.register(nl(n)),window.location.hash==="#".concat(n.hash)&&n.publish(s.n,n.id),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&il(t,e)}(e,t),n=e,(o=[{key:"onIntersectionChanged",value:function(t){this.showToTopButton=!t[0].isIntersecting}},{key:"open",value:function(){this.overlay.classList.add("fixed"),this.talkDrawer.style.transform="translateX(0px)",this.talkDrawer.style.webkitTransform="translateX(0px)",this.talkDrawer.classList.remove("hidden"),this.body.classList.add("scrollbar-none"),this.intersectionObserverTarget&&!this.intersectionObserver&&this.initIntersectionObserver(),this.publish(s.B,this),this.focusDrawer(),this.talkActive=!0}},{key:"close",value:function(){var t=this;this.overlay.classList.remove("fixed"),this.talkDrawer.style.transform="translateX(100%)",this.talkDrawer.style.webkitTransform="translateX(100%)",this.talkDrawer.addEventListener("ontransitionend",(function(){t.talkDrawer.classList.add("hidden")})),this.body.classList.remove("scrollbar-none"),this.publish(s.z,this),this.returnFocusElement&&this.returnFocusElement.focus(),this.talkActive=!1}},{key:"initIntersectionObserver",value:function(){var t=this;this.intersectionObserverTarget&&(this.intersectionObserver=new IntersectionObserver((function(e){return t.onIntersectionChanged(e)}),{root:this.talkDrawer,rootMargin:"600px 0px 0px 0px"}),this.intersectionObserver.observe(this.intersectionObserverTarget))}},{key:"focusDrawer",value:function(){this.closeButton.focus()}},{key:"scrollToTop",value:function(){this.talkDrawer.scrollTo({top:0,behavior:"smooth"})}},{key:"destroy",value:function(){ol(rl(e.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return E.a.isMobile}},{key:"showToTopButton",get:function(){return this._showToTopButton},set:function(t){t?(this.toTopButton.classList.remove("invisible"),this.toTopButton.style.transform="translateY(0px)",this.toTopButton.style.webkitTransform="translateY(0px)",this._showToTopButton=!0):(this.toTopButton.classList.add("invisible"),this.toTopButton.style.transform="translateY(100%)",this.toTopButton.style.webkitTransform="translateY(150%)",this._showToTopButton=!1)}}])&&tl(n.prototype,o),r&&tl(n,r),e}(i.Component);function sl(t){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ll(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ul(t,e){return!e||"object"!==sl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fl(t,e,n){return(fl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pl(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function pl(t){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yl(t,e){return(yl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dl=function(t){function e(){var t,n;cl(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];var a=(n=ul(this,(t=pl(e)).call.apply(t,[this].concat(r)))).el.getAttribute("data-src");return a&&n.el.setAttribute("src",a),window.Coral&&window.Coral.Talk?n.publish(s.W):n.el.onload=function(){n.publish(s.W)},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yl(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){fl(pl(e.prototype),"destroy",this).call(this)}}])&&ll(n.prototype,o),r&&ll(n,r),e}(i.Component);function hl(t){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function vl(t,e){return!e||"object"!==hl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ml(t,e,n){return(ml="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wl(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function wl(t){return(wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ol(t,e){return(Ol=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sl(t){return(Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function El(t,e){return!e||"object"!==Sl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _l(t,e,n){return(_l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jl(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function jl(t){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Al(t,e){return(Al=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cl=function(t){function e(){var t,n;Pl(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=El(this,(t=jl(e)).call.apply(t,[this].concat(r)))).events={default:{name:s.Z,set:function(t){return U.a.instance.setThirdPartyConsentState(t)},get:U.a.instance.hasAcceptedThirdPartyConsent},affiliate:{name:s.f,set:function(t){return U.a.instance.setAffiliateConsentState(t)},get:U.a.instance.hasAcceptedAffiliateConsent}},n.init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Al(t,e)}(e,t),n=e,(o=[{key:"onClick",value:function(t){var n=this;_l(jl(e.prototype),"onClick",this).call(this,t),setTimeout((function(){n.events[n.settings.event].set(n.settings.activated),n.publish(n.events[n.settings.event].name,{accepted:n.settings.activated})}),this.animationDurationInMillis)}},{key:"init",value:function(){var t=this;_l(jl(e.prototype),"init",this).call(this),this.subscribe(this.events[this.settings.event].name,(function(e){t.toggleAriaAndTabindex(e.accepted)}))}},{key:"on",value:function(){_l(jl(e.prototype),"on",this).call(this),this.toggleAriaAndTabindex(this.events[this.settings.event].get)}},{key:"toggleAriaAndTabindex",value:function(t){this.settings.isActivator?(this.el.setAttribute("aria-hidden",t),this.el.setAttribute("tabindex",t?"-1":"-0")):(this.el.setAttribute("aria-hidden",!t),this.el.setAttribute("tabindex",t?"-0":"-1"))}},{key:"off",value:function(){_l(jl(e.prototype),"off",this).call(this),this.toggleAriaAndTabindex(this.events[this.settings.event].get),this.toggleAriaAndTabindex(U.a.instance.hasAcceptedThirdPartyConsent)}}])&&kl(n.prototype,o),r&&kl(n,r),e}(function(t){function e(){return bl(this,e),vl(this,wl(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ol(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.settings=this.data&&this.data.settings&&JSON.parse(this.data.settings)||{},this.animationDurationInMillis=250,this.bar=this.el.querySelector('[data-toggle-el="bar"]'),this.knob=this.el.querySelector('[data-toggle-el="knob"]'),this.activated=this.settings.activated||!1,this.el.addEventListener("click",(function(e){t.onClick(e)})),this.toggle(this.settings.activated)}},{key:"onClick",value:function(){this.toggle(!this.settings.activated)}},{key:"toggle",value:function(t){t?this.on():this.off(),this.settings.activated=t}},{key:"on",value:function(){this.bar.classList.remove("bg-shade-light"),this.bar.classList.add("bg-positive"),this.knob.classList.add("border-positive"),this.knob.style.transition="transform ".concat(this.animationDurationInMillis/1e3,"s"),this.knob.style.transform="translateX(30px)"}},{key:"off",value:function(){this.bar.classList.remove("bg-positive"),this.bar.classList.add("bg-shade-light"),this.knob.classList.remove("border-positive"),this.knob.style.transition="transform ".concat(this.animationDurationInMillis/1e3,"s"),this.knob.style.transform="translateX(0px)"}},{key:"destroy",value:function(){ml(wl(e.prototype),"destroy",this).call(this)}}])&&gl(n.prototype,o),r&&gl(n,r),e}(i.Component));function Ll(t){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Il(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Rl(t,e){return!e||"object"!==Ll(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dl(t,e,n){return(Dl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xl(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function xl(t){return(xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bl(t,e){return(Bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nl=function(t){function e(){var t,n;Tl(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];var a=(n=Rl(this,(t=xl(e)).call.apply(t,[this].concat(r)))).data.settings?JSON.parse(n.data.settings):{},s=a.clientId,c=a.tickarooId,l=n.el.querySelector("[data-tickaroo-el=container]");return window._tik&&window._tik("embedLiveblog",{container:l,clientId:s,id:c,showWebEmbeds:"consent_handling"}),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bl(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){Dl(xl(e.prototype),"destroy",this).call(this)}}])&&Il(n.prototype,o),r&&Il(n,r),e}(i.Component);function zl(t){return(zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ml(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ul(t,e){return!e||"object"!==zl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vl(t,e,n){return(Vl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fl(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Fl(t){return(Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hl(t,e){return(Hl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gl=function(t){function e(){var t,n;ql(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Ul(this,(t=Fl(e)).call.apply(t,[this].concat(r)))).init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hl(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.boundOpenToc=function(e){t.openToc(e)},this.el.addEventListener("click",this.boundOpenToc)}},{key:"openToc",value:function(t){t.preventDefault(),this.publish(s.cb,{id:this.data.componentId})}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.boundOpenToc),Vl(Fl(e.prototype),"destroy",this).call(this)}}])&&Ml(n.prototype,o),r&&Ml(n,r),e}(i.Component);function Wl(t){return(Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Yl(t,e){return!e||"object"!==Wl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kl(t,e,n){return(Kl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$l(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function $l(t){return($l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zl(t,e){return(Zl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ql=function(t){function e(){var t,n;Jl(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Yl(this,(t=$l(e)).call.apply(t,[this].concat(r)))).id="".concat(Math.floor(1e8+9e8*Math.random())),n.hash="inhaltsverzeichnis",n.overlay=n.el.querySelector('[data-toc-drawer-el="overlay"]'),n.closeButton=n.el.querySelector('[data-toc-drawer-el="close"]'),n.container=n.el.querySelector('[data-toc-drawer-el="container"]'),n.activeItem=n.el.querySelector('[data-is-active="true"]'),n.items=Array.from(n.el.querySelectorAll('[data-toc-drawer-el="item"]')),n.body=document.querySelector("body"),n.pendingClickUrl="",n.scrollTop=-1,n.state="STATE_CLOSED",n.featureDetection=Di.instance,n.init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zl(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this;this.container&&(this.subscribe(s.cb,(function(e){t.returnFocusElement=e&&e.id?document.querySelector('[data-component-id="'.concat(e.id,'"]')):null,t.publish(s.n,t.id)})),this.subscribe(s.ab,(function(){t.publish(s.k)})),this.subscribe(s.eb,(function(){t.onToggle()})),this.closeButton&&this.closeButton.addEventListener("click",(function(e){e.preventDefault(),t.publish(s.k)})),this.overlay&&this.overlay.addEventListener("click",(function(){t.publish(s.k)}),!!this.featureDetection.supportsPassiveEventListener&&{passive:!0}),Array.isArray(this.items)&&this.items.length>0&&this.items.forEach((function(e){e.addEventListener("click",(function(e){t.onItemClicked(e)}))})),Je.a.instance.register(this),window.location.hash==="#".concat(this.hash)&&this.publish(s.n,this.id))}},{key:"open",value:function(){this.state="STATE_OPEN",this.overlay&&this.overlay.classList.add("fixed"),this.container.style.transform="translateX(0px)",this.container.style.webkitTransform="translateX(0px)",this.container.classList.remove("hidden"),this.body.classList.add("scrollbar-none"),this.publish(s.B,this),-1===this.scrollTop?this.centerActiveItem():this.container.scrollTop=this.scrollTop}},{key:"close",value:function(){var t=this;if(this.state="STATE_CLOSED",this.scrollTop=this.container.scrollTop,this.overlay&&this.overlay.classList.remove("fixed"),this.container.style.transform="translateX(100%)",this.container.style.webkitTransform="translateX(100%)",this.container.addEventListener("ontransitionend",(function(){t.container.classList.add("hidden")})),this.body.classList.remove("scrollbar-none"),this.publish(s.z,this),this.returnFocusElement&&this.returnFocusElement.focus(),this.pendingClickUrl){var e=this.pendingClickUrl;this.pendingClickUrl="",window.location.assign(e)}}},{key:"centerActiveItem",value:function(){if(this.activeItem&&"function"==typeof this.activeItem.getBoundingClientRect){var t=this.activeItem.getBoundingClientRect().top,e=this.activeItem.getBoundingClientRect().height,n=this.container.offsetHeight;if(t<0||t+e>n){var o=t-n/2;this.container.scrollTop+=o,this.scrollTop=this.container.scrollTop}}}},{key:"onItemClicked",value:function(t){P.a.isIOSApp&&t.target&&"string"==typeof t.target.href&&t.target.href&&(t.preventDefault(),this.pendingClickUrl=t.target.href),this.publish(s.k)}},{key:"onToggle",value:function(){switch(this.state){case"STATE_OPEN":this.publish(s.ab);break;case"STATE_CLOSED":this.publish(s.cb)}}},{key:"destroy",value:function(){Kl($l(e.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return E.a.isMobile}}])&&Xl(n.prototype,o),r&&Xl(n,r),e}(i.Component);function tu(t){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ou(t,e){return!e||"object"!==tu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ru(t,e,n){return(ru="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=iu(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function iu(t){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function au(t,e){return(au=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var su=function(t){function e(){var t,n;eu(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];var a=(n=ou(this,(t=iu(e)).call.apply(t,[this].concat(r)))).el.querySelector("[data-tooltip-el=content]"),s=n.el.querySelector("[data-tooltip-el=trigger]");return s.addEventListener("mouseenter",(function(){a.classList.remove("hidden")})),s.addEventListener("mouseleave",(function(){a.classList.add("hidden")})),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&au(t,e)}(e,t),n=e,(o=[{key:"destroy",value:function(){ru(iu(e.prototype),"destroy",this).call(this)}}])&&nu(n.prototype,o),r&&nu(n,r),e}(i.Component),cu=n(127);function lu(t){return(lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pu(t,e){return!e||"object"!==lu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yu(t,e,n){return(yu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=du(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function du(t){return(du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hu(t,e){return(hu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bu=function(t){function e(){var t,n;uu(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if((n=pu(this,(t=du(e)).call.apply(t,[this].concat(r)))).isInitialized=!1,n.settings=n.data.settings?JSON.parse(n.data.settings):{},n.settings.disableVideoDataControl)return pu(n);cu.a.instance;return"object"===lu(window.$AC)&&"function"==typeof window.$AC.loadConfig?n.init():(n.el.onload=function(){n.onLoad()},n.el.onerror=function(){n.onError()}),n.initSrc(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hu(t,e)}(e,t),n=e,(o=[{key:"onLoad",value:function(){this.init()}},{key:"onError",value:function(){console.error("Unable to load VDC source"),this.publish(s.pb)}},{key:"init",value:function(){this.isInitialized||(this.publish(s.qb),this.isInitialized=!0)}},{key:"destroy",value:function(){yu(du(e.prototype),"destroy",this).call(this)}}])&&fu(n.prototype,o),r&&fu(n,r),e}(Yn);function gu(t){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wu(t,e){return!e||"object"!==gu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ou(t,e,n){return(Ou="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Su(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Su(t){return(Su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pu(t,e){return(Pu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ku=function(t){function e(){var t,n;vu(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=wu(this,(t=Su(e)).call.apply(t,[this].concat(r)))).init(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pu(t,e)}(e,t),n=e,(o=[{key:"init",value:function(){var t=this.el.querySelector('[data-vouchers-el="advertisementLabel"]'),e=this.el.querySelector('[data-vouchers-el="vouchersContainer"]');U.a.instance.hasNoAdsAccess||(t&&t.classList.remove("hidden"),e&&e.classList.remove("hidden"))}},{key:"destroy",value:function(){Ou(Su(e.prototype),"destroy",this).call(this)}}])&&mu(n.prototype,o),r&&mu(n,r),e}(i.Component);function Eu(t){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ju(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Au(t,e){return!e||"object"!==Eu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cu(t,e,n){return(Cu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lu(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Lu(t){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tu(t,e){return(Tu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Iu=function(t){function e(){var t,n;_u(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Au(this,(t=Lu(e)).call.apply(t,[this].concat(r)))).replacer=n.el.querySelector('[data-widget-el="replacer"]'),n.widgetContent=n.replacer.dataset.content,n.boundOnLazyLoad=function(t){t.target===n.el&&n.onLazyLoad()},n.el.addEventListener("lazybeforeunveil",n.boundOnLazyLoad),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tu(t,e)}(e,t),n=e,(o=[{key:"onLazyLoad",value:function(){try{this.replacer.parentNode.appendChild(document.createRange().createContextualFragment(this.widgetContent))}catch(t){this.replacer.parentNode.insertAdjacentHTML("beforeend",this.widgetContent)}this.replacer.classList.add("hidden"),this.replacer.remove()}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),Cu(Lu(e.prototype),"destroy",this).call(this)}}])&&ju(n.prototype,o),r&&ju(n,r),e}(i.Component);window.polygon=window.polygon||{};var Ru=new h({AdblockLayer:zt,AffiliateBox:Gt,AmpStoryPlayerSource:Zt,AppButton:ae,AppUpdate:de,AppStoreRedirect:Se,BestsellerAccordionSection:ze,BreakpointListener:We,ConsentAcceptReject:en,ConsentLayer:un,CreativeEmbed:gn,Datawrapper:En,Defer:Rn,Embed:Un,EmbedQuizSource:oo,Error404InfoBox:fo,EventObserver:wo,FeatureBar:Co,FooterAccordionSection:No,FurtherReads:Go,GalleryLayer:tr,GalleryTeaser:cr,GujSource:br,HeiseWidgetSource:Ir,HeaderBar:kr,HTMLEmbed:qr,IframeNewsletter:ti,Iframe:Wr,Image:ci,JWPlayerSource:bi,MagazineImage:ki,MenuAccordionSection:Li,MenuDrawer:Fi,MultiboxAccordionSection:$i,NativeAudioPlayerOmny:wa,NativeVideo:Aa,NavBar:qa,Outbrain:Ja,PartnerBar:Qa,PodlovePlayerLoader:is,PodLoveWebPlayerOmny:Ss,PodloveWebplayerSource:Ls,PreviewOmny:zs,PreviewScrolling:Ws,SourcePoint:nc,SourcePointSource:uc,StoryActivator:vc,StoryLayer:jc,SwiperBar:xc,Talk:Fc,TalkActivator:$c,TalkDrawer:al,TalkSource:dl,ThirdPartyConsentToggleButton:Cl,Tickaroo:Nl,TocActivator:Gl,TocDrawer:Ql,Tooltip:su,VideoDataControlSource:bu,Vouchers:ku,Widget:Iu});window.polygon.deferredComponents={BeforeAfterSlider:function(){return n.e(1).then(n.bind(null,215))},CappingLayer:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,220))},ImageZoomLayer:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,216))},PinchToZoom:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,217))},JWPlayer:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,221))},Search:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,218))}},B.then((function(){return function(){window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.destroy?window.polygon.componentLoader.destroy(Ru):window.polygon.componentLoader=Ru;var t=tt.instance;b.a.instance,I.instance,M.instance,O.instance,ut.a.instance,dt.instance,Je.a.instance,lt.instance;t.sendPageLoadEvent(),window.polygon.componentLoader.subscribe(s.u,(function(t,e){(new it).execute(t,e)})),n.e(0).then(n.t.bind(null,206,7)).then((function(t){var e=t.default;new e({elements_selector:".lazyload",use_native:!0,unobserve_entered:!0,unobserve_completed:!0}),new e({elements_selector:".lazytrigger",use_native:!1,unobserve_entered:!0,unobserve_completed:!0,callback_enter:function(t){t.dispatchEvent(new Event("lazybeforeunveil"))},callback_loaded:function(t){t.dispatchEvent(new Event("lazyloaded"))}})})).catch((function(){})),window.polygon.componentLoader.scan()}()}))},45:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(4),n(5),n(27),n(125),n(57),n(58),n(48),n(3),n(21),n(36),n(28);var o=n(0);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=Symbol("INSTANCE"),a=Symbol("SINGELTONENFORCER"),s=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==a)throw new Error("Instantiation failed: Use BrowserHistoryService.instance instead of new.");this.registeredLayers={},this.browserHistoryLayers=[],this.currentIndex=window.history?0:-1,this.currentHash="",this.id=Date.now(),this.init()}var e,n,s;return e=t,s=[{key:"instance",get:function(){return this[i]||(this[i]=new t(a)),this[i]}}],(n=[{key:"init",value:function(){var t=this;window.history&&(window.history.state&&Number.isInteger(window.history.state.index)?this.currentIndex=window.history.state.index:(this.currentIndex=window.history.length-1,window.history.replaceState({layerServiceId:this.id,index:this.currentIndex,hash:"",isInitState:!0},""))),this.boundOnKeyDown=function(e){return t.onKeyDown(e)},window.document.addEventListener("keydown",this.boundOnKeyDown),window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(o.k,this.onCloseLayerTriggered,this),window.polygon.componentLoader.subscribe(o.n,this.onOpenLayerTriggered,this)),window.addEventListener("popstate",(function(e){return t.onPopstate(e)}))}},{key:"register",value:function(t){t&&"string"==typeof t.id&&"string"==typeof t.hash&&"function"==typeof t.close&&"function"==typeof t.open?this.registeredLayers[t.id]=t:console.error("LayerService registration failed: layer needs to implement an id and hash string and a close and open function")}},{key:"addLayerToBrowserHistory",value:function(t){if(this.currentHash&&this.currentHash===t.hash)return!1;if(window.history)if(window.history.state&&window.history.state.hash&&window.history.state.hash===t.hash){this.currentHash=t.hash?t.hash:"";var e={layerServiceId:this.id,index:this.currentIndex,hash:this.currentHash};window.history.replaceState(e,"",t.hash?"#".concat(t.hash):"")}else{this.currentIndex<this.browserHistoryLayers.length-1&&(this.browserHistoryLayers=this.browserHistoryLayers.slice(0,this.currentIndex+1)),this.currentIndex+=1,this.currentHash=t.hash?t.hash:"";var n={layerServiceId:this.id,index:this.currentIndex,hash:this.currentHash};window.history.pushState(n,"",this.currentHash?"#".concat(this.currentHash):"")}else this.currentIndex+=1;return this.browserHistoryLayers[this.currentIndex]=t,this.openLayer(this.currentIndex),this.onActiveLayerChanged(),!0}},{key:"openLayer",value:function(t){var e=this.browserHistoryLayers[t];return!(!e||"function"!=typeof e.open||(e.open(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.m,e.id),0))}},{key:"closeLayer",value:function(t){var e=this.browserHistoryLayers[t];return!(!e||"function"!=typeof e.close||(e.close(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.l,e.id),0))}},{key:"back",value:function(){void 0!==this.browserHistoryLayers[this.currentIndex]&&(window.history&&"function"==typeof window.history.go?window.history.go(-1):(this.closeLayer(this.currentIndex),this.currentIndex=this.currentIndex>=0?this.currentIndex-1:-1,this.onActiveLayerChanged()))}},{key:"goTo",value:function(t){if(this.currentIndex>t){for(var e=t>=0?t+1:0,n=this.currentIndex;n>=e;n--)this.closeLayer(n);this.currentIndex=t,this.onActiveLayerChanged()}else if(this.currentIndex<t){for(var o=this.currentIndex>=0?this.currentIndex+1:0;o<=t;o++)this.openLayer(o);this.currentIndex=t,this.onActiveLayerChanged()}}},{key:"restoreLayerByHash",value:function(t){var e=this,n=!1;Object.keys(this.registeredLayers).forEach((function(o){var r=e.registeredLayers[o];n||r.hash!==t||(e.addLayerToBrowserHistory(r),n=!0)}))}},{key:"onPopstate",value:function(t){if(t&&t.state){var e,n="",o="";t.state.layerServiceId===this.id?(e=t.state&&Number.isInteger(t.state.index)?t.state.index:void 0,n=t.state&&t.state.hash?t.state.hash:"",t.state&&t.state.isInitState&&this.windowHash&&window.history&&window.history.replaceState("","",window.location.pathname+window.location.search)):(e=t.state&&Number.isInteger(t.state.index)?t.state.index:void 0,this.currentHash!==this.windowHash?o=this.windowHash:window.history&&window.history.replaceState("","",window.location.pathname+window.location.search)),void 0!==e&&this.currentIndex!==e&&(this.goTo(e),this.currentHash=n),o&&this.restoreLayerByHash(o)}}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||void 0===this.browserHistoryLayers[this.currentIndex]||(t.preventDefault(),this.back())}},{key:"onOpenLayerTriggered",value:function(t){this.registeredLayers[t]&&"function"==typeof this.registeredLayers[t].close&&"function"==typeof this.registeredLayers[t].open&&this.addLayerToBrowserHistory(this.registeredLayers[t])}},{key:"onCloseLayerTriggered",value:function(){this.back()}},{key:"onActiveLayerChanged",value:function(){var t=this.browserHistoryLayers[this.currentIndex];t&&t.id&&window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.j,t.id)}},{key:"windowHash",get:function(){return window.location.hash?window.location.hash.substring(1):""}}])&&r(e.prototype,n),s&&r(e,s),t}()},62:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(4),n(5),n(3);var o=n(0);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=Symbol("INSTANCE"),a=Symbol("SINGELTONENFORCER"),s=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==a)throw new Error("Instantiation failed: Use TCDataModel.instance instead of new.");this._ready=!1,this._tcData=void 0,this._customVendorData=void 0,this.lastEventStatus=void 0,this.init()}var e,n,s;return e=t,s=[{key:"instance",get:function(){return this[i]||(this[i]=new t(a)),this[i]}}],(n=[{key:"init",value:function(){var t=this;"function"==typeof window.__tcfapi?window.__tcfapi("addEventListener",2,(function(e,n){n&&e&&e.eventStatus&&t.lastEventStatus!==e.eventStatus&&(t.lastEventStatus=e.eventStatus,t.onTCDataChanged(e,n))})):console.warn("TCData window.__tcfapi is not available!")}},{key:"onTCDataChanged",value:function(t){var e=this;this._tcData=t,t&&t.eventStatus&&("tcloaded"===t.eventStatus||"useractioncomplete"===t.eventStatus)&&window.__tcfapi("getCustomVendorConsents",2,(function(t,n){n&&e.onCustomVendorConsentsReceived(t)}))}},{key:"onCustomVendorConsentsReceived",value:function(t){this._ready=!0,this._customVendorData=t,window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.Y,t)}},{key:"isPurposeGranted",value:function(t){var e=!1;if(this._customVendorData&&this._customVendorData.consentedPurposes&&Array.isArray(this._customVendorData.consentedPurposes)&&this._customVendorData.consentedPurposes.length>0)for(var n=0;n<this._customVendorData.consentedPurposes.length;n++)if(this._customVendorData.consentedPurposes[n]._id&&this._customVendorData.consentedPurposes[n]._id===t){e=!0;break}return e}},{key:"isVendorGranted",value:function(t){return!!(this._customVendorData&&this._customVendorData.grants&&this._customVendorData.grants[t]&&this._customVendorData.grants[t].vendorGrant)}},{key:"ready",get:function(){return this._ready}},{key:"tcData",get:function(){return this._tcData}},{key:"customVendorData",get:function(){return this._customVendorData}}])&&r(e.prototype,n),s&&r(e,s),t}()}});